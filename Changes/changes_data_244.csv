id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-gnocchi~master~I1e14e609567d00bed6e8bb755acabd08c1113469,openstack/charm-gnocchi,master,I1e14e609567d00bed6e8bb755acabd08c1113469,Stop charm running handlers during update-status,MERGED,2020-08-20 13:21:39.000000000,2020-08-21 15:14:33.000000000,2020-08-21 15:14:33.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 13:21:39.000000000', 'files': ['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/88e450a6bbe5a484b50aee7e41f916d6bf926414', 'message': 'Stop charm running handlers during update-status\n\nThe update-status hook is supposed to be lightweight; prior to this\nchange the charm was running all of the handlers including a no-op\nchecking for upgrades to openstack.  This patchset builds on the\ndepends-on patchset and gates the update-status hook against those\nhandlers.  Note that update-status is handled using the default handler.\n\nDepends-On: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6\nChange-Id: I1e14e609567d00bed6e8bb755acabd08c1113469\nCloses-Bug: #1824119\n'}]",0,747159,88e450a6bbe5a484b50aee7e41f916d6bf926414,12,4,1,20870,,,0,"Stop charm running handlers during update-status

The update-status hook is supposed to be lightweight; prior to this
change the charm was running all of the handlers including a no-op
checking for upgrades to openstack.  This patchset builds on the
depends-on patchset and gates the update-status hook against those
handlers.  Note that update-status is handled using the default handler.

Depends-On: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6
Change-Id: I1e14e609567d00bed6e8bb755acabd08c1113469
Closes-Bug: #1824119
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/59/747159/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_gnocchi_handlers.py', 'src/reactive/gnocchi_handlers.py']",2,88e450a6bbe5a484b50aee7e41f916d6bf926414,bug/1824119,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,28,0
openstack%2Fcinder~stable%2Ftrain~I66da0212a61d778fe9795d382b3af5b225a8aa54,openstack/cinder,stable/train,I66da0212a61d778fe9795d382b3af5b225a8aa54,Creating image-volume cache on NFS backend fails,MERGED,2020-06-01 14:59:39.000000000,2020-08-21 15:04:54.000000000,2020-08-21 14:40:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-01 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/075fe1ff80ed9509d4e8ddd41f8670c72d5567d1', 'message': ""Creating image-volume cache on NFS backend fails\n\nsnapshot.id doesn't have `tmp-snap` in it as id\nis not passed as a option while creating snapshot\nobject. This should be change to\n`snapshot.display_name` at same location\n\nCloses-Bug: #1875570\nChange-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54\n(cherry picked from commit e52ab1a3adbc8462b02c342ee7990e527a9f73bb)\n""}, {'number': 2, 'created': '2020-08-19 16:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/595f1ebb9a21434c79044c91ef3bf12675d41359', 'message': ""Creating image-volume cache on NFS backend fails\n\nsnapshot.id doesn't have `tmp-snap` in it as id\nis not passed as a option while creating snapshot\nobject. This should be change to\n`snapshot.display_name` at same location\nAlso fixed an issue with creating a snapshot on an\nNFS backend if the snapshot name is not specified.\n(I33da9c65ef56b3e4967170e3a0fb25f12e067876)\n\nCloses-Bug: #1875570\nCloses-Bug: 1886222\n\nChange-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54\n(cherry picked from commit e52ab1a3adbc8462b02c342ee7990e527a9f73bb)\n(cherry picked from commit 11b5c9d97bd69f9e8b5db0d32bfe257063170155)\n""}, {'number': 3, 'created': '2020-08-20 08:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88adf5e3e5972c2f7a1405c23f1b932574349de8', 'message': ""Creating image-volume cache on NFS backend fails\n\nsnapshot.id doesn't have `tmp-snap` in it as id\nis not passed as a option while creating snapshot\nobject. This should be change to\n`snapshot.display_name` at same location\n\nCloses-Bug: #1875570\nChange-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54\n(cherry picked from commit e52ab1a3adbc8462b02c342ee7990e527a9f73bb)\n""}, {'number': 4, 'created': '2020-08-20 13:09:18.000000000', 'files': ['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/193f3e97ce19bd8926bac23781e51d68de8ddcd4', 'message': ""Creating image-volume cache on NFS backend fails\n\nsnapshot.id doesn't have `tmp-snap` in it as id\nis not passed as a option while creating snapshot\nobject. This should be change to\n`snapshot.display_name` at same location\nAlso includes regression and NITs from other\npatches\n(I33da9c65ef56b3e4967170e3a0fb25f12e067876)\n(Ia620043904f4f31a81bc8463fb36476a149f9808)\n(Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72)\n\nCloses-Bug: #1875570\nChange-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54\n(cherry picked from commit f68a64540f20967f933a3c9546837ddde23c20cd)\n""}]",3,732400,193f3e97ce19bd8926bac23781e51d68de8ddcd4,102,22,4,27615,,,0,"Creating image-volume cache on NFS backend fails

snapshot.id doesn't have `tmp-snap` in it as id
is not passed as a option while creating snapshot
object. This should be change to
`snapshot.display_name` at same location
Also includes regression and NITs from other
patches
(I33da9c65ef56b3e4967170e3a0fb25f12e067876)
(Ia620043904f4f31a81bc8463fb36476a149f9808)
(Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72)

Closes-Bug: #1875570
Change-Id: I66da0212a61d778fe9795d382b3af5b225a8aa54
(cherry picked from commit f68a64540f20967f933a3c9546837ddde23c20cd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/732400/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",3,075fe1ff80ed9509d4e8ddd41f8670c72d5567d1,bug/1875570, if snapshot.display_name.startswith('tmp-snap-'):, if snapshot.id.startswith('tmp-snap-'):,13,2
openstack%2Fpuppet-octavia~master~I1aee36aa0dee557dda1b65695233728f1a8d3ff1,openstack/puppet-octavia,master,I1aee36aa0dee557dda1b65695233728f1a8d3ff1,Expose vhost_custom_fragment,MERGED,2020-08-17 15:26:48.000000000,2020-08-21 14:58:10.000000000,2020-08-21 14:58:10.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-17 15:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/70e9a5845ccfd4e90ae43643fdad438c75f7a578', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-08-18 16:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/408c7e352bb41870946d3cb76f1c4975dddbd2c7', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 3, 'created': '2020-08-18 18:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c8609e866ede4fa23086f3918c03ad2819a5db35', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 4, 'created': '2020-08-18 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1c3be8e5b233ab005b3113124b03c2bcd006f8d3', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 5, 'created': '2020-08-19 14:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8b09c69650e06932cf71426e651fbaa7e3a91802', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 6, 'created': '2020-08-20 23:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/0a225ef9ad3fad09645fcb914d497f1666416918', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 7, 'created': '2020-08-21 04:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2addb642efc425624253267d018f9b5640580c99', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 8, 'created': '2020-08-21 06:54:06.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/octavia_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/444cb9b583beb1a97de93a168d1289a6875b9b5e', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Octavia service.\n\nAlso add Apache WSGI spec tests for default and custom parameters.\n\nChange-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",5,746545,444cb9b583beb1a97de93a168d1289a6875b9b5e,25,5,8,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Octavia service.

Also add Apache WSGI spec tests for default and custom parameters.

Change-Id: I1aee36aa0dee557dda1b65695233728f1a8d3ff1
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/45/746545/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/octavia_api_spec.rb']",2,70e9a5845ccfd4e90ae43643fdad438c75f7a578,," :vhost_custom_fragment => 'Timeout 99', it { is_expected.to contain_openstacklib__wsgi__apache('octavia_wsgi').with( :vhost_custom_fragment => 'Timeout 99', )}",,11,0
openstack%2Fmanila-tempest-plugin~master~I95e667745d872a12391c6713b70b4842d7b70984,openstack/manila-tempest-plugin,master,I95e667745d872a12391c6713b70b4842d7b70984,Ensure share server is created when driver handles share servers,MERGED,2020-08-03 06:32:08.000000000,2020-08-21 14:57:45.000000000,2020-08-21 14:57:45.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-08-03 06:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6a9eddf4ed84bda9c76bafa3301d4600ef85fd91', 'message': 'Ensure share server is created when driver handles share servers\n\nThis test will ensure that when a share creation request is handled,\nif the driver has the ""driver handles share servers"" option enabled,\nthat a share server will be created, otherwise, not.\n\nChange-Id: I95e667745d872a12391c6713b70b4842d7b70984\n'}, {'number': 2, 'created': '2020-08-04 05:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c17a6392d5076664d14229620f984cc6e66dd89b', 'message': 'Ensure share server is created when driver handles share servers\n\nThis test will ensure that when a share creation request is handled,\nif the driver has the ""driver handles share servers"" option enabled,\nthat a share server will be created, otherwise, not.\n\nChange-Id: I95e667745d872a12391c6713b70b4842d7b70984\n'}, {'number': 3, 'created': '2020-08-04 08:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9ec92ce05f6aa9196f5cb3799b2ed691da9d871b', 'message': 'Ensure share server is created when driver handles share servers\n\nThis test will ensure that when a share creation request is handled,\nif the driver has the ""driver handles share servers"" option enabled,\nthat a share server will be created, otherwise, not.\n\nChange-Id: I95e667745d872a12391c6713b70b4842d7b70984\n'}, {'number': 4, 'created': '2020-08-17 05:58:52.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6db73a34356364fb9c09e977b51e686201bf2b28', 'message': 'Ensure share server is created when driver handles share servers\n\nThis test will ensure that when a share creation request is handled,\nif the driver has the ""driver handles share servers"" option enabled,\nthat a share server will be created, otherwise, not.\n\nChange-Id: I95e667745d872a12391c6713b70b4842d7b70984\n'}]",6,744398,6db73a34356364fb9c09e977b51e686201bf2b28,29,10,4,19262,,,0,"Ensure share server is created when driver handles share servers

This test will ensure that when a share creation request is handled,
if the driver has the ""driver handles share servers"" option enabled,
that a share server will be created, otherwise, not.

Change-Id: I95e667745d872a12391c6713b70b4842d7b70984
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/98/744398/4 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_shares_actions.py'],1,6a9eddf4ed84bda9c76bafa3301d4600ef85fd91,share_servers," @tc.attr(base.TAG_POSITIVE, base.TAG_BACKEND) def test_share_server_is_created_or_not_created(self): # This test will ensure that when a share creation request is handled, # if the driver has the ""driver handles share servers"" option enabled, # that a share server will be created, otherwise, not. share_servers = self.shares_v2_client.list_share_servers() extra_spec = self.shares_v2_client.get_share_type_extra_spec( self.share_type_id, ""driver_handles_share_servers"") if str(extra_spec['driver_handles_share_servers']) == 'True': self.assertNotEmpty(share_servers) else: self.assertEmpty(share_servers)",,13,0
openstack%2Fkolla-ansible~master~Ia134a17890d17801da6888dded8d2406d4586b8e,openstack/kolla-ansible,master,Ia134a17890d17801da6888dded8d2406d4586b8e,Pin ansible-lint to 4.2.x,ABANDONED,2020-08-21 07:37:58.000000000,2020-08-21 14:50:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 07:37:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb54a0aab8a4029d573e328109c86665cc05bed4', 'message': 'Pin ansible-lint to 4.2.x\n\nChange-Id: Ia134a17890d17801da6888dded8d2406d4586b8e\n'}]",0,747351,bb54a0aab8a4029d573e328109c86665cc05bed4,5,2,1,22629,,,0,"Pin ansible-lint to 4.2.x

Change-Id: Ia134a17890d17801da6888dded8d2406d4586b8e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/747351/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bb54a0aab8a4029d573e328109c86665cc05bed4,pin_ansible_lint,"ansible-lint>=4.2.0,<4.3.0 # MIT","ansible-lint>=4.2.0,!=4.3.0 # MIT",1,1
openstack%2Fkolla-ansible~master~Ic58a27e517004768433a1e793d4d8e90e2c3383a,openstack/kolla-ansible,master,Ic58a27e517004768433a1e793d4d8e90e2c3383a,[TrivialFix] Clean a recent comment,MERGED,2020-08-21 10:32:23.000000000,2020-08-21 14:48:26.000000000,2020-08-21 14:46:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 10:32:23.000000000', 'files': ['.ansible-lint'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea91edcbae0c3c8520177d2679572d41c5a13609', 'message': '[TrivialFix] Clean a recent comment\n\nChange-Id: Ic58a27e517004768433a1e793d4d8e90e2c3383a\n'}]",0,747385,ea91edcbae0c3c8520177d2679572d41c5a13609,7,3,1,30491,,,0,"[TrivialFix] Clean a recent comment

Change-Id: Ic58a27e517004768433a1e793d4d8e90e2c3383a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/747385/1 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,ea91edcbae0c3c8520177d2679572d41c5a13609,ansible_lint_431,# [E106] Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern,# [E106] Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern',1,1
openstack%2Fpython-cinderclient~master~I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb,openstack/python-cinderclient,master,I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb,Clean up some old v1 API references,MERGED,2020-06-02 22:37:02.000000000,2020-08-21 14:43:04.000000000,2020-08-21 14:40:55.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-06-02 22:37:02.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2d3bcebf7fc0f053072a93f61d866b2d35a818a6', 'message': 'Clean up some old v1 API references\n\nThis removes some code that was still pointing to the V1 API. No need to\nadd release note or additional announcements since this was all removed\nlong ago, and if anyone would have gone down this code path it would\nhave just blown up trying to import the v1 code that is no longer there.\n\nChange-Id: I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,733021,2d3bcebf7fc0f053072a93f61d866b2d35a818a6,10,5,1,11904,,,0,"Clean up some old v1 API references

This removes some code that was still pointing to the V1 API. No need to
add release note or additional announcements since this was all removed
long ago, and if anyone would have gone down this code path it would
have just blown up trying to import the v1 code that is no longer there.

Change-Id: I7d239d3fe3d879e4c391e83cae1e394cf1f5e6eb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/21/733021/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,2d3bcebf7fc0f053072a93f61d866b2d35a818a6,v1_cleanup, if version.ver_major == 3: actions_module = importutils.import_module(V2_SHELL),V1_SHELL = 'cinderclient.v1.shell' if version.ver_major == 2: actions_module = importutils.import_module(V2_SHELL) elif version.ver_major == 3: actions_module = importutils.import_module(V1_SHELL),2,5
openstack%2Fmanila~stable%2Fussuri~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,stable/ussuri,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-21 06:51:10.000000000,2020-08-21 14:33:07.000000000,2020-08-21 14:27:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 06:51:10.000000000', 'files': ['doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/1434adc353e80192d9a17121b57831d273b30633', 'message': ""Update access rules documentation for user guide\n\nUpdates user guide documentation to provide metadata info\nto an access rules. Also add two new operations for access\nrule metadata: 'access-metadata set' and 'access-metadata unset'\n\nChange-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35\nCloses-Bug: #1782859\n(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)\n""}]",0,747340,1434adc353e80192d9a17121b57831d273b30633,9,2,1,16643,,,0,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
(cherry picked from commit e2e764d9763b9367321a4c7f14b0150f67f3b08e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/747340/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/create-and-manage-shares.rst'],1,1434adc353e80192d9a17121b57831d273b30633,bug/1782859," $ manila access-allow myshare ip 10.0.0.0/24 --metadata key1=value1 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1'} | .. note:: Since API version 2.45, metadata can be added, removed and updated for share access rules in a form of key=value pairs. +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 20.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:54:11.000000 | | updated_at | None | | metadata | {} | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | None | 2016-03-24T14:54:11.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+Update access rules metadata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Add a new metadata. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 set key2=value2 $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1', 'key2': 'value2'} | +--------------+--------------------------------------+ #. Remove a metadata key value. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 unset key $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key2': 'value2'} | +--------------+--------------------------------------+ ", $ manila access-allow myshare ip 10.0.0.0/24 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 10.0.0.0/24 | | access_level | rw | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | +--------------------------------------+-------------+-------------+--------------+--------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 20.0.0.0/24 | | access_level | ro | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | +--------------------------------------+-------------+-------------+--------------+--------+,80,22
openstack%2Fmanila~stable%2Fstein~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/stein,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:18:44.000000000,2020-08-21 14:31:57.000000000,2020-08-21 14:27:00.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-17 17:18:44.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/da700b710f1c78b4a17f962a71eb6200399fa050', 'message': 'Add uWSGI configuration samples\n\nAdded some samples on uWSGI config and some docs\non how to run manila with uWSGI for contributors.\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36\n(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)\n(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)\n(cherry picked from commit ecb9d6396c529bbcba861f205932f4b45a67d1af)\n'}]",0,746571,da700b710f1c78b4a17f962a71eb6200399fa050,9,4,1,16643,,,0,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)
(cherry picked from commit ecb9d6396c529bbcba861f205932f4b45a67d1af)
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/746571/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf']",4,da700b710f1c78b4a17f962a71eb6200399fa050,bug/1682694,"KeepAlive Off SetEnv proxy-sendchunked 1 ProxyPass ""/share"" ""http://127.0.0.1:51999"" retry=0 ",,101,0
openstack%2Fmanila~stable%2Fussuri~I8d904cb3aab4d653178948284571f471bd59ac1b,openstack/manila,stable/ussuri,I8d904cb3aab4d653178948284571f471bd59ac1b,Update docs for create share from snapshot in another back end,MERGED,2020-08-21 06:23:00.000000000,2020-08-21 14:29:47.000000000,2020-08-21 14:27:01.000000000,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-21 06:23:00.000000000', 'files': ['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/admin/shared-file-systems-snapshots.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/b8e1b9654cf2a7f047fdf146d7148a7d56c8f1a3', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n(cherry picked from commit 6b8f416e1b20b82617ecd4feff9cbc1c5d914c25)\n'}]",0,747338,b8e1b9654cf2a7f047fdf146d7148a7d56c8f1a3,8,2,1,16643,,,0,"Update docs for create share from snapshot in another back end

This patch add some notes regarding the use of scheduler when
creating share from snapshot in another pool or backend.

Change-Id: I8d904cb3aab4d653178948284571f471bd59ac1b
Closes-Bug: #1878244
(cherry picked from commit 6b8f416e1b20b82617ecd4feff9cbc1c5d914c25)
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/747338/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/admin/shared-file-systems-snapshots.rst']",2,b8e1b9654cf2a7f047fdf146d7148a7d56c8f1a3,bug/1878244,"existing snapshot. Create a share from a snapshot and check whether it is available:By default, the Shared File Systems service will place the new share in the source share's pool, unless a different destination availability zone is provided by the user, using the key ``--availability-zone``. Starting from Ussuri release, a new filter and weigher were added to the scheduler to enhance the selection of a destination pool when creating shares from snapshot. Drivers that support creating shares from snapshots across back ends also need the back end configuration option ``replication_domain`` to be specified. This option can be an arbitrary string. As an administrator, you are expected to determine which back ends are compatible to copy data between each other. Once you have identified these back ends, configure ``replication_domain`` in their respective configuration sections to the same string. Refer to the :ref:`feature support mapping <share_back_ends_feature_support_mapping>` for identifying which back ends support this feature. The use of scheduler when creating share from a snapshot must be enabled using the configuration flag ``[DEFAULT]/use_scheduler_creating_share_from_snapshot``. This option is disabled by default. .. note:: When combining both ``--snapshot-id`` and ``--availability-zone`` keys, you'll need to make sure that the configuration flag ``[DEFAULT]/use_scheduler_creating_share_from_snapshot`` is enabled, or the operation will be denied when source and destination availability zones are different. ",existing snapshot. Create a share from a snapshot and check whether it is available:,94,65
openstack%2Fkolla-ansible~master~I73d483e01476e779a5155b2e18dd5ea25f514e93,openstack/kolla-ansible,master,I73d483e01476e779a5155b2e18dd5ea25f514e93,Standardize use and construction of endpoint URLs,MERGED,2019-04-12 21:53:38.000000000,2020-08-21 14:26:39.000000000,2020-08-19 10:28:20.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23825}, {'_account_id': 28356}, {'_account_id': 30491}, {'_account_id': 30695}, {'_account_id': 32029}, {'_account_id': 32067}]","[{'number': 1, 'created': '2019-04-12 21:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2c4e2d411aa3606ef5f5209c9f9955cc2104959', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\n'}, {'number': 2, 'created': '2019-04-12 22:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9c1d89f583b1743fbd8cf848be31d56082be164', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 3, 'created': '2019-04-15 11:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/244bc7842bd99bba648abb027b74c2fe60a0dc37', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 4, 'created': '2019-04-15 12:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5413d3d52bcfc19138bd6e985b023a14a466567', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 5, 'created': '2019-04-15 15:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc16c0ca65c73730ff8945adbf2d8ed9fa0e4f98', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 6, 'created': '2019-04-15 20:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4875a8b3a1225c4a3f1e33d765efe1a325bafbcf', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 7, 'created': '2019-04-16 12:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6de5b0e031ed270594e43477eda125edd04299f9', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 8, 'created': '2019-04-17 11:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3865e0b4676e7d32f3105c1227b9e7ef60ed316c', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 9, 'created': '2019-04-17 13:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a1195a99332a0aa9bc547435eac4d61ace27d71', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 10, 'created': '2019-04-17 17:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d35c4dd96df1ce8fa307c7cb4224577c74fc2d7', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 11, 'created': '2019-05-09 18:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f3b1c63258409ff0688f12679aecc55739c10bd', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 12, 'created': '2019-05-17 18:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb64c2815946e708b545ee75f1dca14fff157973', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 13, 'created': '2019-06-11 11:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96a6cfc7201a243e75f24115e4c06cbb80353ef2', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 14, 'created': '2020-06-16 19:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fff209243cf9d8d5ab26b14146b2edf5687e5744', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 15, 'created': '2020-06-16 22:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f26e6a5389304bac307e8b8aa5adc43bcd0c6ce7', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 16, 'created': '2020-06-17 00:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/564b32c2cd797a32dd0a37921c58ff616e46a937', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 17, 'created': '2020-06-19 11:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21e5417432d67ecf5dddc5efad474378e13bae78', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 18, 'created': '2020-06-19 17:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31e73a76ae8b1d996cddeede0959976040dd04d4', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 19, 'created': '2020-06-20 17:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7723bb75a5d280d7e4e7397f16304fc0bf96a4c9', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 20, 'created': '2020-06-29 11:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da30b60800734b6954db3dc15f1a96e4ac311508', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 21, 'created': '2020-07-21 14:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6746daf447b079ca0a3bec41c71248939c13777', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 22, 'created': '2020-07-21 16:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1351b6e4485fdc51894bac683cb883c2606e418f', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 23, 'created': '2020-07-22 12:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e6dede0e6295efed0005ee42ff2f2d53b03c232', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 25, 'created': '2020-07-23 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f819a01b699ab2b59051105e754f57ca58453dff', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 26, 'created': '2020-07-27 11:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1196c0968cae41aa9b75df0919d379768cdd0b63', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 27, 'created': '2020-07-27 11:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/886c736221a8db050b13257de250be9d416a0e66', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 28, 'created': '2020-07-27 13:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/876e2a598ce382c4319e15b2314d7a9b6caa81c6', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 29, 'created': '2020-07-28 11:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bce085c842a9f73f0edc8e18f84094ee6867180b', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 30, 'created': '2020-08-17 16:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8962614646d49ecd0d92505e9403a482736524de', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 31, 'created': '2020-08-17 17:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dce6603eebd828f1b68e7114185906dbd1db0808', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 32, 'created': '2020-08-17 17:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7eb3a6274021f297342c958a1e1c9cc7ed4b7aa4', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 33, 'created': '2020-08-19 05:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1017ef5f367198e1f9e207d3915a1267dfa8b44c', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 34, 'created': '2020-08-19 07:22:17.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/prometheus/templates/prometheus-alertmanager.yml.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/monasca/tasks/post_config.yml', 'ansible/roles/murano/tasks/import_library_packages.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/ironic/templates/inspector.ipxe.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/ironic/templates/pxelinux.default.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/kuryr/templates/kuryr.spec.j2', 'ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f425c0678f9c90c019805edb0b233d89f61f7ca8', 'message': 'Standardize use and construction of endpoint URLs\n\nThe goal for this push request is to normalize the construction and use\n of internal, external, and admin URLs. While extending Kolla-ansible\n to enable a more flexible method to manage external URLs, we noticed\n that the same URL was constructed multiple times in different parts\n of the code. This can make it difficult for people that want to work\n with these URLs and create inconsistencies in a large code base with\n time. Therefore, we are proposing here the use of\n ""single Kolla-ansible variable"" per endpoint URL, which facilitates\n for people that are interested in overriding/extending these URLs.\n\nAs an example, we extended Kolla-ansible to facilitate the ""override""\nof public (external) URLs with the following standard\n""<component/serviceName>.<companyBaseUrl>"".\nTherefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,\nHTTPD or some other) is done via the service name, and not by the port.\nThis allows operators to easily and automatically create more friendly\n URL names. To develop this feature, we first applied this patch that\n we are sending now to the community. We did that to reduce the surface\n  of changes in Kolla-ansible.\n\nAnother example is the integration of Kolla-ansible and Consul, which\nwe also implemented internally, and also requires URLs changes.\nTherefore, this PR is essential to reduce code duplicity, and to\nfacility users/developers to work/customize the services URLs.\n\nChange-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}]",136,652157,f425c0678f9c90c019805edb0b233d89f61f7ca8,190,11,33,28356,,,0,"Standardize use and construction of endpoint URLs

The goal for this push request is to normalize the construction and use
 of internal, external, and admin URLs. While extending Kolla-ansible
 to enable a more flexible method to manage external URLs, we noticed
 that the same URL was constructed multiple times in different parts
 of the code. This can make it difficult for people that want to work
 with these URLs and create inconsistencies in a large code base with
 time. Therefore, we are proposing here the use of
 ""single Kolla-ansible variable"" per endpoint URL, which facilitates
 for people that are interested in overriding/extending these URLs.

As an example, we extended Kolla-ansible to facilitate the ""override""
of public (external) URLs with the following standard
""<component/serviceName>.<companyBaseUrl>"".
Therefore, the ""NAT/redirect"" in the SSL termination system (HAproxy,
HTTPD or some other) is done via the service name, and not by the port.
This allows operators to easily and automatically create more friendly
 URL names. To develop this feature, we first applied this patch that
 we are sending now to the community. We did that to reduce the surface
  of changes in Kolla-ansible.

Another example is the integration of Kolla-ansible and Consul, which
we also implemented internally, and also requires URLs changes.
Therefore, this PR is essential to reduce code duplicity, and to
facility users/developers to work/customize the services URLs.

Change-Id: I73d483e01476e779a5155b2e18dd5ea25f514e93
Signed-off-by: Rafael Weingärtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/652157/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/prometheus/templates/prometheus-alertmanager.yml.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/monasca/tasks/post_config.yml', 'ansible/roles/murano/tasks/import_library_packages.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/ironic/templates/inspector.ipxe.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/grafana/tasks/post_config.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/tempest/templates/tempest.conf.j2', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/prometheus/templates/prometheus-elasticsearch-exporter.json.j2', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/prometheus/templates/clouds.yml.j2', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/kibana/tasks/post_config.yml', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/ironic/templates/pxelinux.default.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/telegraf/templates/telegraf.conf.j2', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/kuryr/templates/kuryr.spec.j2', 'ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/barbican/templates/barbican.conf.j2']",56,f2c4e2d411aa3606ef5f5209c9f9955cc2104959,normalize_urls_construction_and_usage,host_href = {{ barbican_public_endpoint }},host_href = {{ public_protocol }}://{{ barbican_external_fqdn }}:{{ barbican_api_port }},208,133
openstack%2Ftripleo-operator-ansible~master~Id3f2bf8cad72827dda00623751879734f1b1554c,openstack/tripleo-operator-ansible,master,Id3f2bf8cad72827dda00623751879734f1b1554c,Fix parameters in standalone playbook,MERGED,2020-08-19 10:10:04.000000000,2020-08-21 14:20:54.000000000,2020-08-21 14:20:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 10:10:04.000000000', 'files': ['playbooks/standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/6c2a1fcd60438ec1b1b02c2e2b5430fe9792f64a', 'message': 'Fix parameters in standalone playbook\n\nSome parameters were wrongly used, this patch fixes\nthose.\n\nChange-Id: Id3f2bf8cad72827dda00623751879734f1b1554c\n'}]",0,746874,6c2a1fcd60438ec1b1b02c2e2b5430fe9792f64a,7,3,1,13861,,,0,"Fix parameters in standalone playbook

Some parameters were wrongly used, this patch fixes
those.

Change-Id: Id3f2bf8cad72827dda00623751879734f1b1554c
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/74/746874/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/standalone.yml'],1,6c2a1fcd60438ec1b1b02c2e2b5430fe9792f64a,, NeutronPhysicalBridge: br-ctlplane InterfaceLocalMtu: {{ standalone_local_mtu }}, NeutronPyshicalBridge: br-ctlplane InterfacesLocalMtu: {{ standalone_local_mtu }},2,2
openstack%2Fcloudkitty~master~Id8ffb21acd4845a2e1f240e32a9f351d250a199e,openstack/cloudkitty,master,Id8ffb21acd4845a2e1f240e32a9f351d250a199e,Require minimum version of dateutil providing tz.UTC,ABANDONED,2020-07-22 16:20:46.000000000,2020-08-21 14:00:45.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-07-22 16:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/168b38dfe6418610510bf09bb3770cd16057dc99', 'message': 'Require minimum version of dateutil providing tz.UTC\n\nCloudKitty became timezone-aware in Train:\nhttps://review.opendev.org/#/c/669192/\n\nThe code references tz.UTC from dateutil. However, tz.UTC was added only\nin dateutil 2.7.0.\n\nChange-Id: Id8ffb21acd4845a2e1f240e32a9f351d250a199e\n'}, {'number': 2, 'created': '2020-08-19 08:00:45.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/433dc108abe9e2fcd97ef03e9aac6d774bcc29ed', 'message': 'Require minimum version of dateutil providing tz.UTC\n\nCloudKitty became timezone-aware in Train:\nhttps://review.opendev.org/#/c/669192/\n\nThe code references tz.UTC from dateutil. However, tz.UTC was added only\nin dateutil 2.7.0.\n\nChange-Id: Id8ffb21acd4845a2e1f240e32a9f351d250a199e\n'}]",0,742477,433dc108abe9e2fcd97ef03e9aac6d774bcc29ed,9,3,2,15197,,,0,"Require minimum version of dateutil providing tz.UTC

CloudKitty became timezone-aware in Train:
https://review.opendev.org/#/c/669192/

The code references tz.UTC from dateutil. However, tz.UTC was added only
in dateutil 2.7.0.

Change-Id: Id8ffb21acd4845a2e1f240e32a9f351d250a199e
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/77/742477/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,168b38dfe6418610510bf09bb3770cd16057dc99,dateutil,python-dateutil==2.7.0 # BSD,,2,0
openstack%2Fkolla-ansible~stable%2Fussuri~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,stable/ussuri,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-19 18:43:37.000000000,2020-08-21 13:59:37.000000000,2020-08-21 13:57:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 18:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2791368c27b290be8b3edb23ad04d390573a2b28', 'message': 'CI: enable Ansible SSH pipelining\n\nThis should improve performance of CI jobs.\n\nChange-Id: I729862b89b4fe65cbb7f852fac06741b636e4939\n(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)\n'}, {'number': 2, 'created': '2020-08-19 18:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3aad7004615f79cfd9b812d0ee60b523203f507', 'message': 'CI: enable Ansible SSH pipelining\n\nThis should improve performance of CI jobs.\n\nChange-Id: I729862b89b4fe65cbb7f852fac06741b636e4939\n(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)\n'}, {'number': 3, 'created': '2020-08-21 10:44:18.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d87217ec2a82d6f2ba7466247ff211f16e2d4cfd', 'message': 'CI: enable Ansible SSH pipelining\n\nThis should improve performance of CI jobs.\n\nChange-Id: I729862b89b4fe65cbb7f852fac06741b636e4939\n(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)\n'}]",0,747017,d87217ec2a82d6f2ba7466247ff211f16e2d4cfd,17,4,3,30491,,,0,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/747017/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,2791368c27b290be8b3edb23ad04d390573a2b28,, [ssh_connection] pipelining = True,,3,0
openstack%2Frequirements~master~I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f,openstack/requirements,master,I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f,Ban pecan 1.4.0,MERGED,2020-08-14 02:58:11.000000000,2020-08-21 13:58:57.000000000,2020-08-14 16:32:49.000000000,"[{'_account_id': 308}, {'_account_id': 8833}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 02:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/04c1c3ca1a05e3d4ddf37eb213d325842223ca73', 'message': 'DNM Ban pecan 1.4.0\n\nChange-Id: I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f\n'}, {'number': 2, 'created': '2020-08-14 03:58:24.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/570307ea8f569fa73445b745325e9245dd7b42b0', 'message': 'Ban pecan 1.4.0\n\nThis has broken gnocchi which in turn breaks ceilometer\nthat uses gnocchi as the default backend. This has also\nimpacted heat gate which uses gnocchi based alarms with\naodh.\n\nPlease check https://review.opendev.org/746034 that\ndepends on this to fix the ceilometer gate.\n\nTask: 40652\nChange-Id: I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f\n'}]",0,746261,570307ea8f569fa73445b745325e9245dd7b42b0,24,6,2,8833,,,0,"Ban pecan 1.4.0

This has broken gnocchi which in turn breaks ceilometer
that uses gnocchi as the default backend. This has also
impacted heat gate which uses gnocchi based alarms with
aodh.

Please check https://review.opendev.org/746034 that
depends on this to fix the ceilometer gate.

Task: 40652
Change-Id: I08e2fb4b5d0f885ce3982f4f03c0bb1a5a51e55f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/746261/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,04c1c3ca1a05e3d4ddf37eb213d325842223ca73,,pecan===1.3.3,pecan===1.4.0,2,2
openstack%2Fec2api-tempest-plugin~master~I7937940a4744b6fc7327336105dd8e04fc7f5eeb,openstack/ec2api-tempest-plugin,master,I7937940a4744b6fc7327336105dd8e04fc7f5eeb,Migrate zuul from v2 to v3 native,MERGED,2020-08-10 09:38:28.000000000,2020-08-21 13:48:45.000000000,2020-08-21 13:48:45.000000000,"[{'_account_id': 10234}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 32274}]","[{'number': 1, 'created': '2020-08-10 09:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/5dbb727e46e688babdd6e6ce99630ab0d461db35', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 2, 'created': '2020-08-10 10:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/24ea08cefbafc0f0a89a186cec44edb7d0c4f662', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 3, 'created': '2020-08-10 11:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/b93922fe78515214da90442021dce097fefa97ed', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 4, 'created': '2020-08-10 15:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/ff5251d978ac3e141d272ac908e784f69d9b8996', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 5, 'created': '2020-08-10 16:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/9c896c7bebc0de9ee4dce7b613487d746b721e21', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 6, 'created': '2020-08-11 08:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/8b50078fc1f84a173043d92b39a4ce6e60a5153b', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 7, 'created': '2020-08-11 08:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e982846ed48e948bc697056d95eeeb072d435a35', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 8, 'created': '2020-08-11 09:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e2b4ba84d2334d2872f7a7bdbe2f52a1ada48d62', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 9, 'created': '2020-08-11 10:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/35db73bcc24bd407e934f99ebd567be7530f81b1', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 10, 'created': '2020-08-11 10:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/a2c3ba8725344c87f74a6de3418034249241bace', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 11, 'created': '2020-08-11 11:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/ace58194ca16c68ec35e8bd34c629e52f0683251', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 12, 'created': '2020-08-11 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/4726dee8c79482fe7127eb27d455184d48ce11d2', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 13, 'created': '2020-08-12 16:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d99ec9964221dad3ec1c60b69c2ea5ec5f15f393', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 14, 'created': '2020-08-12 17:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/693c1bb51dde00742a18e20701d87ae069f838aa', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 15, 'created': '2020-08-13 10:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/76b0a9895eb3e6c49849e2b223fba929ebf1f18a', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 16, 'created': '2020-08-13 13:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/967bd1c648fbb4f68a1d7ecfe47fef3b9e2d3838', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 17, 'created': '2020-08-14 08:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/500b634e4064e34025b68685f05587f0f7132a12', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 18, 'created': '2020-08-14 11:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/eae3e770e5b3df219229e369c01ae946f5b2dcc2', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 19, 'created': '2020-08-14 12:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e986fda94f6da04ffc379566833fb3ac8ba473d6', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 20, 'created': '2020-08-14 14:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/5b54aae21410c2be42307743d1acd14779567e28', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 21, 'created': '2020-08-16 08:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/9d3cbb868f109194389e706f114691d99ad7982b', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 22, 'created': '2020-08-16 10:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e8fc1d61ed6dc36767068851493ebf0c10ce2eb7', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 23, 'created': '2020-08-16 11:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/0f517cf61aea4b2d3f66fcac45822d81ca7148b3', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 24, 'created': '2020-08-17 10:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/75e7e24c8b937221bb0a02d51cd341bbbde37dde', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 25, 'created': '2020-08-17 13:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/0acc43b388dfecf28a5126b6db2b5699d17aa71c', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 26, 'created': '2020-08-17 13:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/4ed1b344081e213440c009659e6f93138a645576', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 27, 'created': '2020-08-17 14:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/34d986038c256b65530bcf094e9923b9be48ed18', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 28, 'created': '2020-08-19 07:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/ed6f2ae058c30931fe8739184a4048775b716e53', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 29, 'created': '2020-08-19 15:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/d4d80f7b159cc12cf917ecbeba9155d7bbda387a', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 30, 'created': '2020-08-19 17:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/6900eea7b0611524a16ea65ffd5c6dff013b02b0', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 31, 'created': '2020-08-20 10:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/4c7ee7d8c3e7e83bc45b82e8c27188934746fa43', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}, {'number': 32, 'created': '2020-08-20 13:33:46.000000000', 'files': ['playbooks/pre.yaml', '.zuul.yaml', 'ec2api_tempest_plugin/api/test_tags.py'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/7fca40c7bffefdc6d268841b641a9e2d5a2e8787', 'message': 'Migrate zuul from v2 to v3 native\n\nChange-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb\n'}]",28,745508,7fca40c7bffefdc6d268841b641a9e2d5a2e8787,87,4,32,32274,,,0,"Migrate zuul from v2 to v3 native

Change-Id: I7937940a4744b6fc7327336105dd8e04fc7f5eeb
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/08/745508/32 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5dbb727e46e688babdd6e6ce99630ab0d461db35,native-zuulv3-migration, - openstack-lower-constraints-jobs - publish-openstack-docs-pti - ec2api-tempest-plugin-functional-neutron jobs: - ec2api-tempest-plugin-functional-neutron - job: name: ec2api-tempest-plugin-functional-neutron parent: devstack timeout: 7800 required-projects: - openstack/ec2-api - openstack/ec2api-tempest-plugin - openstack/neutron - openstack/neutron-tempest-plugin vars: tox_environment: PYTHONUNBUFFERED: 'true' devstack_local_conf: local: localrc: RUN_LONG_TESTS: 1 tempest_test_regex: ec2api_tempest_plugin tempest_concurency: 2 devstack_plugins: ec2-api: https://opendev.org/openstack/ec2-api neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin tempest_plugin: - ec2api-tempest-plugin,,29,0
openstack%2Fneutron~stable%2Fstein~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/stein,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:30:54.000000000,2020-08-21 13:36:06.000000000,2020-08-21 13:29:35.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-19 08:30:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fda4a375c41fa7f5562be2ac25fa3713be188421', 'message': '[Stable only] Drop *-master jobs\n\nThese jobs are used to test neutron against current master branches of\nexternal projects (os-ken).\n\nStable branches are not expected to run with this setup so we can drop\nthe jobs there (especially as some of these jobs are periodic ones).\n\nConflicts:\n\t.zuul.yaml\n\nThis is adapted to the older single .zuul.yaml file layout\n\nChange-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8\n(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)\n'}]",0,746856,fda4a375c41fa7f5562be2ac25fa3713be188421,28,5,1,21798,,,0,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/746856/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fda4a375c41fa7f5562be2ac25fa3713be188421,drop-master-jobs-stable/stein,, - neutron-tempest-with-os-ken-master name: neutron-tempest-with-os-ken-master parent: legacy-dsvm-base run: playbooks/legacy/neutron-tempest-with-os-ken-master/run.yaml post-run: playbooks/legacy/neutron-tempest-with-os-ken-master/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest - job:,0,12
openstack%2Ftripleo-docs~master~Ic2d69872a7bd3b0620b364fca56b42d5e53f771d,openstack/tripleo-docs,master,Ic2d69872a7bd3b0620b364fca56b42d5e53f771d,Document how to use --limit with ceph-ansible,MERGED,2020-08-17 14:52:14.000000000,2020-08-21 13:35:56.000000000,2020-08-21 13:33:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-17 14:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e42497dec233b3372c387ac2b62b8e5b2f7c08c3', 'message': 'Document how to use --limit with ceph-ansible\n\nDepends-On: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3\nChange-Id: Ic2d69872a7bd3b0620b364fca56b42d5e53f771d\n'}, {'number': 2, 'created': '2020-08-17 15:40:15.000000000', 'files': ['deploy-guide/source/features/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c3b35fed4bc4f9a7961fee329b83724d5bc722e1', 'message': 'Document how to use --limit with ceph-ansible\n\nDepends-On: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3\nChange-Id: Ic2d69872a7bd3b0620b364fca56b42d5e53f771d\n'}]",4,746526,c3b35fed4bc4f9a7961fee329b83724d5bc722e1,17,5,2,18002,,,0,"Document how to use --limit with ceph-ansible

Depends-On: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3
Change-Id: Ic2d69872a7bd3b0620b364fca56b42d5e53f771d
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/26/746526/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ceph_config.rst'],1,e42497dec233b3372c387ac2b62b8e5b2f7c08c3,bug/1888508,"Using Ansible --limit with ceph-ansible --------------------------------------- When using :doc:`config-download <../deployment/ansible_config_download>` to configure Ceph, if Ansible's `--limit` option is used, then it is passed to the execution of ceph-ansible too. This is the case for Train and newer. In the previous section an example was provided where Ceph was deployed with TripleO. The examples below show how to update the deployment and pass the `--limit` option. If oc0-cephstorage-0 had a disk failure and a factory clean disk was put in place of the failed disk, then the following could be run so that the new disk is used to bring up the missing OSD and so that ceph-ansible is only run on the nodes where it needs to be run. This is useful to reduce the time it takes to update the deployment:: openstack overcloud deploy --templates -r /home/stack/roles_data.yaml -n /usr/share/openstack-tripleo-heat-templates/network_data_dashboard.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml -e ~/my-ceph-settings.yaml --limit oc0-controller-0:oc0-controller-2:oc0-controller-1:oc0-cephstorage-0:undercloud If :doc:`config-download <../deployment/ansible_config_download>` has generated a `ansible-playbook-command.sh` script, then that script may also be run with the `--limit` option and it will be passed to ceph-ansible:: ./ansible-playbook-command.sh --limit oc0-controller-0:oc0-controller-2:oc0-controller-1:oc0-cephstorage-0:undercloud In the above example the controllers are included because the Ceph Mons need Ansible to change their OSD definitions. Both commands above would do the same thing. The former would only be needed if there were Heat environment file updates. After either of the above has run the `~/config-download/config-download-latest/ceph-ansible/ceph_ansible_command.sh` file should contain the `--limit` option. .. warning:: You must always include the undercloud in the limit list or ceph-ansible will not be executed when using `--limit`. This is necessary because the ceph-ansible execution happens through the external_deploy_steps_tasks playbook and that playbook only runs on the undercloud. ",,41,0
openstack%2Ftripleo-ansible~master~I67131165423b81646a7d4ce6fad6858c30fb089c,openstack/tripleo-ansible,master,I67131165423b81646a7d4ce6fad6858c30fb089c,WIP - container image vars,ABANDONED,2020-08-18 14:02:44.000000000,2020-08-21 13:33:28.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 14:02:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c84e519d839ed002d68fa332beb542e2b49f198e', 'message': 'WIP - container image vars\n\nChange-Id: I67131165423b81646a7d4ce6fad6858c30fb089c\n'}]",0,746727,c84e519d839ed002d68fa332beb542e2b49f198e,5,3,1,14985,,,0,"WIP - container image vars

Change-Id: I67131165423b81646a7d4ce6fad6858c30fb089c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/746727/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_image_prepare.py'],1,c84e519d839ed002d68fa332beb542e2b49f198e,ansible-cip,"def heat_params_to_ansible(params): """"""Convert a heat environment dictionary to ansible snake cased vars"""""" new_params = {} for k, v in params.items(): # convert key from MyMagicalVar to my_magical_var new_k = ''.join(['_' + c.lower() if c.isupper() else c for c in k]).lstrip('_') new_params[new_k] = v return new_params result['ansible_facts'] = heat_params_to_ansible(params)",,12,0
openstack%2Fpython-tripleoclient~master~Ib331e348463bdeb10c4efd8ec4559675dee0b7e0,openstack/python-tripleoclient,master,Ib331e348463bdeb10c4efd8ec4559675dee0b7e0,Stop running container image prepare upfront,ABANDONED,2020-08-18 14:20:17.000000000,2020-08-21 13:33:25.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 14:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca36657263a85b14406813463138cbbde71da3f8', 'message': 'Stop running container image prepare upfront\n\nWe can let the ansible deployment handle the variables instead of having\nto provide them via Heat.\n\nDepends-On: https://review.opendev.org/#/c/746541/\nChange-Id: Ib331e348463bdeb10c4efd8ec4559675dee0b7e0\n'}, {'number': 2, 'created': '2020-08-18 14:28:59.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13cb9bdff0bc74f9e54f38767dd627604b5ca080', 'message': 'Stop running container image prepare upfront\n\nWe can let the ansible deployment handle the variables instead of having\nto provide them via Heat.\n\nDepends-On: https://review.opendev.org/#/c/746541/\nChange-Id: Ib331e348463bdeb10c4efd8ec4559675dee0b7e0\n'}]",0,746733,13cb9bdff0bc74f9e54f38767dd627604b5ca080,5,2,2,14985,,,0,"Stop running container image prepare upfront

We can let the ansible deployment handle the variables instead of having
to provide them via Heat.

Depends-On: https://review.opendev.org/#/c/746541/
Change-Id: Ib331e348463bdeb10c4efd8ec4559675dee0b7e0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/746733/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,ca36657263a85b14406813463138cbbde71da3f8,ansible-cip,," @mock.patch('tripleo_common.image.kolla_builder.' 'container_images_prepare_multi') def test_prepare_container_images(self, mock_cipm): env = {'parameter_defaults': {}} mock_cipm.return_value = {'FooImage': 'foo/bar:baz'} self.cmd._prepare_container_images(env, [{'name': 'Compute'}]) mock_cipm.assert_called_once_with( env, [{'name': 'Compute'}], dry_run=True, ) self.assertEqual( { 'parameter_defaults': { 'FooImage': 'foo/bar:baz' } }, env ) ",0,35
openstack%2Fpython-tripleoclient~master~I87757e09976f7a6e7f34e2f97d9fa546b6733c4d,openstack/python-tripleoclient,master,I87757e09976f7a6e7f34e2f97d9fa546b6733c4d,WIP - container image vars to ansible vars,ABANDONED,2020-08-13 20:48:31.000000000,2020-08-21 13:33:22.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 20:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f87d76c21f72c6f27f3d2cdb92ad5d9e6eb69d12', 'message': 'WIP - container image vars to ansible vars\n\nCurrently we have to generate Heat vars to pass in the Container*Image\nand Container*ConfigImage values. We could move this process to occur\nafter the stack is created and to be created via the\ncontainer-image-prepare process instead. To do this, we need to take the\nexisting vars that are generated as part of this process and switch them\nto ansible compatible vars. This patch updates the `openstack tripleo\ncontainer image prepare` command to have a `--output-vars-file`\nparameter to output this file.  After we test this out, we can set the\ndefault value of the Container*(Config)?Image vars in Heat to be an\nansible variable instead.\n\nChange-Id: I87757e09976f7a6e7f34e2f97d9fa546b6733c4d\n'}, {'number': 2, 'created': '2020-08-17 13:39:24.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/162a7ebd295aac0f981ff36164bcb72fa3731ffe', 'message': 'WIP - container image vars to ansible vars\n\nCurrently we have to generate Heat vars to pass in the Container*Image\nand Container*ConfigImage values. We could move this process to occur\nafter the stack is created and to be created via the\ncontainer-image-prepare process instead. To do this, we need to take the\nexisting vars that are generated as part of this process and switch them\nto ansible compatible vars. This patch updates the `openstack tripleo\ncontainer image prepare` command to have a `--output-vars-file`\nparameter to output this file.  After we test this out, we can set the\ndefault value of the Container*(Config)?Image vars in Heat to be an\nansible variable instead.\n\nChange-Id: I87757e09976f7a6e7f34e2f97d9fa546b6733c4d\n'}]",0,746226,162a7ebd295aac0f981ff36164bcb72fa3731ffe,6,2,2,14985,,,0,"WIP - container image vars to ansible vars

Currently we have to generate Heat vars to pass in the Container*Image
and Container*ConfigImage values. We could move this process to occur
after the stack is created and to be created via the
container-image-prepare process instead. To do this, we need to take the
existing vars that are generated as part of this process and switch them
to ansible compatible vars. This patch updates the `openstack tripleo
container image prepare` command to have a `--output-vars-file`
parameter to output this file.  After we test this out, we can set the
default value of the Container*(Config)?Image vars in Heat to be an
ansible variable instead.

Change-Id: I87757e09976f7a6e7f34e2f97d9fa546b6733c4d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/746226/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/utils.py']",2,f87d76c21f72c6f27f3d2cdb92ad5d9e6eb69d12,ansible-cip," def heat_params_to_ansible(params): """"""Convert a heat environment dictionary to ansible snake cased vars"""""" new_params = {} for k, v in params.items(): # convert key from MyMagicalVar to my_magical_var new_k = ''.join(['_' + c.lower() if c.isupper() else c for c in k].lstrip('_')) new_params[new_k] = v return new_params",,43,8
openstack%2Ftripleo-heat-templates~master~Iea94cdc3c24ef91db5810e79ddd73846f92d94c8,openstack/tripleo-heat-templates,master,Iea94cdc3c24ef91db5810e79ddd73846f92d94c8,WIP - Let ansible provide container images by default,ABANDONED,2020-08-17 15:06:20.000000000,2020-08-21 13:33:18.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 15:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/713a99e820aff21efdeaa64c8b0d41de15217f40', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\n'}, {'number': 2, 'created': '2020-08-18 14:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/167c9c6c129659bbb63bf1710877e6f686e715f7', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\nDepends-On: https://review.opendev.org/#/c/746727/\n'}, {'number': 3, 'created': '2020-08-18 17:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7318133e7b39f9c2437531b364fc55c683f8460a', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\nDepends-On: https://review.opendev.org/#/c/746727/\n'}, {'number': 4, 'created': '2020-08-18 17:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b21af6cf832a3a6faae2036e20f7217d28db42', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\nDepends-On: https://review.opendev.org/#/c/746727/\n'}, {'number': 5, 'created': '2020-08-18 17:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65e3ef708ad9a382e73c76ad722fc039d155f74e', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\nDepends-On: https://review.opendev.org/#/c/746727/\n'}, {'number': 6, 'created': '2020-08-18 19:42:55.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2d1431374ca9401fc34792d864131cb9e08cb13', 'message': 'WIP - Let ansible provide container images by default\n\nCurrently the container images must be provided before the deployment as\ninputs to heat. This change updates the default to use an ansible var if\na value is not provided. This may allow us to stop running container\nimage prepare before we build the stack and let us do a container image\nprepare after the stack has been created.\n\nChange-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8\nDepends-On: https://review.opendev.org/#/c/746226/\nDepends-On: https://review.opendev.org/#/c/746727/\n'}]",0,746541,a2d1431374ca9401fc34792d864131cb9e08cb13,14,3,6,14985,,,0,"WIP - Let ansible provide container images by default

Currently the container images must be provided before the deployment as
inputs to heat. This change updates the default to use an ansible var if
a value is not provided. This may allow us to stop running container
image prepare before we build the stack and let us do a container image
prepare after the stack has been created.

Change-Id: Iea94cdc3c24ef91db5810e79ddd73846f92d94c8
Depends-On: https://review.opendev.org/#/c/746226/
Depends-On: https://review.opendev.org/#/c/746727/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/746541/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/neutron/neutron-sfc-api-container-puppet.yaml', 'deployment/logging/files/glance-api.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-mlnx-sdn-assist-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/neutron/neutron-plugin-ml2-cisco-vts-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/neutron/neutron-l2gw-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/nova/nova-libvirt-guests-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/openvswitch/openvswitch-dpdk-netcontrold-container-ansible.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/logging/stdout/placement-api.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/stdout/heat-api.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/logging/stdout/nova-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-plugin-nsx-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/logging/stdout/nova-common.yaml', 'deployment/neutron/neutron-bgpvpn-api-container-puppet.yaml', 'deployment/logging/stdout/keystone.yaml', 'deployment/logging/stdout/nova-metadata.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/logging/stdout/barbican-api.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/stdout/heat-api-cfn.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml']",133,713a99e820aff21efdeaa64c8b0d41de15217f40,ansible-cip," default: ""{{ container_rsyslog_image }}"" default: ""{{ container_rsyslog_config_image }}""",,239,0
openstack%2Fdevstack~master~I2876ee58ab6b73682869d6b4e684e10ac5e56ad9,openstack/devstack,master,I2876ee58ab6b73682869d6b4e684e10ac5e56ad9,Make PyYAML overridable on Red Hat family distros,MERGED,2020-08-20 12:47:30.000000000,2020-08-21 13:30:45.000000000,2020-08-21 09:20:12.000000000,"[{'_account_id': 6469}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-20 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6fe528d05949f3e25457f83f5e3e47d7216f1838', 'message': ""Make PyYAML overridable on Red Hat family distros\n\nThis patch fixes an early stack issue where the following error message\nwould be presented:\n\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project\nand thus we cannot accurately determine which files belong to it which\nwould lead to only a partial uninstall.\n\nChange-Id: I2876ee58ab6b73682869d6b4e684e10ac5e56ad9\n""}, {'number': 2, 'created': '2020-08-20 13:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/704f79f9734ee6a0ce01fcceac3e05d455d3854c', 'message': ""Make PyYAML overridable on Red Hat family distros\n\nThis patch fixes an early stack issue where the following error message\nwould be presented:\n\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project\nand thus we cannot accurately determine which files belong to it which\nwould lead to only a partial uninstall.\n\nCloses-Bug: #1892363\nChange-Id: I2876ee58ab6b73682869d6b4e684e10ac5e56ad9\n""}, {'number': 3, 'created': '2020-08-20 13:17:39.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b9fe9c74f68f1881c0602748301ec6b68ed508d6', 'message': ""Make PyYAML overridable on Red Hat family distros\n\nThis patch fixes an early stack issue where the following error message\nwould be presented:\n\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project\nand thus we cannot accurately determine which files belong to it which\nwould lead to only a partial uninstall.\n\nWe also drop references to removal of Python 2 library egg infos now\nthat Python 2 is EOL.\n\nCloses-Bug: #1892363\nChange-Id: I2876ee58ab6b73682869d6b4e684e10ac5e56ad9\n""}]",2,747155,b9fe9c74f68f1881c0602748301ec6b68ed508d6,14,4,3,6469,,,0,"Make PyYAML overridable on Red Hat family distros

This patch fixes an early stack issue where the following error message
would be presented:

ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project
and thus we cannot accurately determine which files belong to it which
would lead to only a partial uninstall.

We also drop references to removal of Python 2 library egg infos now
that Python 2 is EOL.

Closes-Bug: #1892363
Change-Id: I2876ee58ab6b73682869d6b4e684e10ac5e56ad9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/55/747155/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,6fe528d05949f3e25457f83f5e3e47d7216f1838,centos-gating, sudo rm -rf /usr/lib64/python3*/site-packages/PyYAML-*.egg-info,,1,0
openstack%2Fdevstack~stable%2Fussuri~Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,openstack/devstack,stable/ussuri,Ifa876b3e5f89258f40055fa7ce03f5e9c601771c,Handle uwsgi install for CentOS/RHEL,MERGED,2020-08-17 13:14:51.000000000,2020-08-21 13:21:59.000000000,2020-08-21 09:11:35.000000000,"[{'_account_id': 5689}, {'_account_id': 6469}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 27329}]","[{'number': 1, 'created': '2020-08-17 13:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d142b24c336460e2abff268c702cf6c7246ceb2', 'message': 'Handle uwsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\n'}, {'number': 2, 'created': '2020-08-17 14:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/519be296acc45cf8d099bc4d748660757a2c6c0b', 'message': 'Handle (u)wsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\nCloses-Bug: #1885645\n'}, {'number': 3, 'created': '2020-08-17 19:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7e81065634f2a30703f9e3be26ab8ac04e142573', 'message': 'Handle uwsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\n'}, {'number': 4, 'created': '2020-08-18 14:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8258212e1ba0a5090ab88aa7cba0d1e86469ef5f', 'message': 'Handle uwsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\n(cherry picked from commit c2c2b6b415a4289ab740e7506f68e820ecbc5818)\n'}, {'number': 5, 'created': '2020-08-20 14:11:54.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f36de3d3f3cc114dc7d39704f716763be9682a18', 'message': 'Handle uwsgi install for CentOS/RHEL\n\nChange-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c\n(cherry picked from commit c2c2b6b415a4289ab740e7506f68e820ecbc5818)\n'}]",2,746500,f36de3d3f3cc114dc7d39704f716763be9682a18,23,7,5,26106,,,0,"Handle uwsgi install for CentOS/RHEL

Change-Id: Ifa876b3e5f89258f40055fa7ce03f5e9c601771c
(cherry picked from commit c2c2b6b415a4289ab740e7506f68e820ecbc5818)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/746500/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,4d142b24c336460e2abff268c702cf6c7246ceb2,fix-uwsgi-centos, elif is_fedora; then # Compile uwsgi from source.," elif [[ $os_VENDOR == ""Fedora"" ]]; then # Centos actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there.",2,4
openstack%2Fkolla-ansible~master~I3a31c74608b48919c1563bac88313a8c4219dedc,openstack/kolla-ansible,master,I3a31c74608b48919c1563bac88313a8c4219dedc,Fix ansible-lint after upgrade to 4.3.1,MERGED,2020-08-21 07:27:13.000000000,2020-08-21 13:19:30.000000000,2020-08-21 13:17:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e0dece5703d2299c6a0c46d30e735217874f7eb', 'message': ""Fix ansible-lint after upgrade to 4.3.1\n\nAdd E106 to skip list (role names with '-')\n\nChange-Id: I3a31c74608b48919c1563bac88313a8c4219dedc\n""}, {'number': 2, 'created': '2020-08-21 09:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d92e6598b75abaefd3c75379b0a73ce698a168cc', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\nChange-Id: I3a31c74608b48919c1563bac88313a8c4219dedc\n'}, {'number': 3, 'created': '2020-08-21 10:06:08.000000000', 'files': ['ansible/roles/horizon/tasks/policy_item.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88c53da22ffc7449cd14dde4dd792502ff1bd472', 'message': 'Fix ansible-lint after upgrade to 4.3.1\n\nChange-Id: I3a31c74608b48919c1563bac88313a8c4219dedc\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,747345,88c53da22ffc7449cd14dde4dd792502ff1bd472,18,4,3,22629,,,0,"Fix ansible-lint after upgrade to 4.3.1

Change-Id: I3a31c74608b48919c1563bac88313a8c4219dedc
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/747345/2 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,3e0dece5703d2299c6a0c46d30e735217874f7eb,ansible_lint_431, - '503' # [E106] Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern' - '106' , - '503',3,1
openstack%2Fpython-tripleoclient~master~Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,openstack/python-tripleoclient,master,Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3,TCIB: add --rhel-modules argument,MERGED,2020-08-19 19:19:05.000000000,2020-08-21 13:06:28.000000000,2020-08-20 15:46:15.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 19:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8353419a0d712d97762ac0ccbc66eb812a14d06', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with OSP 16.1 vs 16.2, and the future zstreams.\n\nDepends-On: https://review.opendev.org/747007\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n""}, {'number': 2, 'created': '2020-08-19 20:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe90d82c9d16073abe0aa2ef635e2e79e0ecb8d6', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with future OSP zstreams.\n\nDepends-On: https://review.opendev.org/747007\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n""}, {'number': 3, 'created': '2020-08-19 20:14:17.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb', 'message': ""TCIB: add --rhel-modules argument\n\n--rhel-modules is a new argument that will let us override the hardcoded\nRHEL module versions that are provided in the base image.\n\nFor example, if we want to build the images against a specific module\nversion, we'll now be able to do the following:\n\n  $ openstack tripleo container image build --rhel-modules \\\n        redis:5,virt:8.3\n\nNote: for now we're opinionated about the RHEL modules that we support\nand the --rhel-modules won't allow to install any modules, but only the\nones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].\nThe reason is that in theory all necessary modules should be provided in\nthe base image layout in tripleo-common, and the use case here is being\nable to change their version from the CLI, specially for our release\nchallenges with future OSP zstreams.\n\nDepends-On: https://review.opendev.org/747007\nChange-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3\n""}]",1,747024,a3b3aeb93b16bea51a53083e0b53faf5c15ee2bb,13,3,3,3153,,,0,"TCIB: add --rhel-modules argument

--rhel-modules is a new argument that will let us override the hardcoded
RHEL module versions that are provided in the base image.

For example, if we want to build the images against a specific module
version, we'll now be able to do the following:

  $ openstack tripleo container image build --rhel-modules \
        redis:5,virt:8.3

Note: for now we're opinionated about the RHEL modules that we support
and the --rhel-modules won't allow to install any modules, but only the
ones that we support: ['container-tools', 'mariadb', 'redis', 'virt'].
The reason is that in theory all necessary modules should be provided in
the base image layout in tripleo-common, and the use case here is being
able to change their version from the CLI, specially for our release
challenges with future OSP zstreams.

Depends-On: https://review.opendev.org/747007
Change-Id: Icaeabb2e7cb7adbbd7d2ef563dd613f2aacf8fe3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/747024/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/tripleo_container_image.py'],1,b8353419a0d712d97762ac0ccbc66eb812a14d06,modules,"SUPPORTED_RHEL_MODULES = ['container-tools', 'mariadb', 'redis', 'virt'] parser.add_argument( ""--rhel-modules"", dest=""rhel_modules"", metavar=""<rhel-modules>"", default=None, help=_(""A comma separated list of RHEL modules to enable with "" ""their version. Example: 'mariadb:10.3,virt:8.3'.""), ) if parsed_args.rhel_modules: rhel_modules = {} for module in parsed_args.rhel_modules.split(','): module_data = module.split(':') if len(module_data) != 2: raise ValueError('Wrong format for --rhel-modules, ' 'must be a comma separated list of ' '<module>:<version>') if module_data[0] not in SUPPORTED_RHEL_MODULES: raise ValueError('{} is not part of supported modules' ' {}'.format(module_data[0], SUPPORTED_RHEL_MODULES)) rhel_modules.update({module_data[0]: module_data[1]}) image_config['tcib_rhel_modules'] = rhel_modules ",,24,0
openstack%2Ftripleo-common~master~I782cbfd3c88b30c801961c6d8ba875d36f59bf42,openstack/tripleo-common,master,I782cbfd3c88b30c801961c6d8ba875d36f59bf42,TCIB: move RHEL modules into base image,MERGED,2020-08-19 18:26:10.000000000,2020-08-21 13:06:07.000000000,2020-08-20 15:46:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 18:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/477088e5a3af539ec4387128bd3e80c6e20c8e73', 'message': 'TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_distro_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n'}, {'number': 2, 'created': '2020-08-19 18:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ebfdedf985c38d8742276e62ad243ecec086e597', 'message': 'TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_rhel_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n'}, {'number': 3, 'created': '2020-08-19 20:06:15.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/640b76608d8194ccbecc77429bca711f37809400', 'message': 'TCIB: move RHEL modules into base image\n\nMoving the RHEL modules management into the base image will make it\nso we will have shared and consistent modules across all container\nimages; and also configurable from a central place, the base.yaml.\n\nAlso, allow to find the module versions from the\n{{ tcib_rhel_modules }} variable so later in tripleoclient we can\noverride the modules versions from the CLI with a new --rhel-modules\nargument (which will take comma separated list of modules and their\nversions).\n\nChange-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42\n'}]",2,747007,640b76608d8194ccbecc77429bca711f37809400,17,6,3,3153,,,0,"TCIB: move RHEL modules into base image

Moving the RHEL modules management into the base image will make it
so we will have shared and consistent modules across all container
images; and also configurable from a central place, the base.yaml.

Also, allow to find the module versions from the
{{ tcib_rhel_modules }} variable so later in tripleoclient we can
override the modules versions from the CLI with a new --rhel-modules
argument (which will take comma separated list of modules and their
versions).

Change-Id: I782cbfd3c88b30c801961c6d8ba875d36f59bf42
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/747007/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml']",16,477088e5a3af539ec4387128bd3e80c6e20c8e73,modules,,"- run: if [ '{{ tcib_distro }}' == 'rhel' ]; then {% for item in tcib_packages.modules %}{% set key, value = (item.items() | list).0 %}dnf module -y {{ key }} {{ value }}; {% endfor %}fi modules: - disable: virt:rhel - enable: virt:8.2",8,65
openstack%2Fopenstack-ansible-os_barbican~master~Ifb2921649b3061b508d857f0905cb8b2b82ad6c3,openstack/openstack-ansible-os_barbican,master,Ifb2921649b3061b508d857f0905cb8b2b82ad6c3,Updated from OpenStack Ansible Tests,MERGED,2020-08-12 11:32:05.000000000,2020-08-21 12:49:36.000000000,2020-08-21 12:47:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-12 11:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/84a00265542f8418840886bf466de0f6a5d53024', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ifb2921649b3061b508d857f0905cb8b2b82ad6c3\n'}, {'number': 2, 'created': '2020-08-17 09:47:21.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/c960d94ca8b579c620aebb57e581c31364b7ddb9', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ifb2921649b3061b508d857f0905cb8b2b82ad6c3\n'}]",0,745840,c960d94ca8b579c620aebb57e581c31364b7ddb9,25,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ifb2921649b3061b508d857f0905cb8b2b82ad6c3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/40/745840/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,84a00265542f8418840886bf466de0f6a5d53024,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Ib3006f044c7f0a1b86172246ad1a50413a5a9519,openstack/openstack-ansible-os_barbican,stable/ussuri,Ib3006f044c7f0a1b86172246ad1a50413a5a9519,Updated from OpenStack Ansible Tests,MERGED,2020-08-14 07:38:05.000000000,2020-08-21 12:39:58.000000000,2020-08-21 12:38:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-14 07:38:05.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/9fa83f169b2c61ee2dfc57a6343129949ba46edb', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib3006f044c7f0a1b86172246ad1a50413a5a9519\n'}]",0,746285,9fa83f169b2c61ee2dfc57a6343129949ba46edb,18,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib3006f044c7f0a1b86172246ad1a50413a5a9519
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/85/746285/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,9fa83f169b2c61ee2dfc57a6343129949ba46edb,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Ftacker~master~I95b9d6fa523ed62a2f43f1702a20dbd44e461362,openstack/tacker,master,I95b9d6fa523ed62a2f43f1702a20dbd44e461362,Support VNF update operations based on ETSI NFV-SOL,ABANDONED,2020-08-02 13:24:39.000000000,2020-08-21 12:22:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-08-02 13:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b282e435992bd1884e5604002aa0e6093430c5d6', 'message': 'Support VNF update operations based on ETSI NFV-SOL specification\n\nhttps: //specs.openstack.org/openstack/tacker-specs/specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.html\nChange-Id: I95b9d6fa523ed62a2f43f1702a20dbd44e461362\n'}, {'number': 2, 'created': '2020-08-10 05:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/95f9d2861ab6ec202c927f3d4507289c1afc13c9', 'message': 'Support VNF update operations based on ETSI NFV-SOL specification\n    Support ETSI SOL003 Modify VNF function\n       * Added processing for receiving Individual VNF Instances(PATCH)\n    Feature-notification-api-based-on-etsi-nfv includes commit scheduled processing\n\nhttps: //specs.openstack.org/openstack/tacker-specs/specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I95b9d6fa523ed62a2f43f1702a20dbd44e461362\n'}, {'number': 3, 'created': '2020-08-12 06:37:58.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/tmp4w6_yriu.zip', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/etc/samples/etsi/nfv/tmpztcpwoiz.zip', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/conf/vnf_lcm.py', 'tacker/conf/__init__.py', 'tacker/objects/vnfd.py', 'tacker/objects/vnf.py', 'tacker/objects/vnfd_attribute.py', 'tacker/objects/vnf_package_vnfd.py', 'tacker/objects/vnf_artifact.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/tests/etc/samples/etsi/nfv/tmpzrydrnz1.zip', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/fakes.py', 'tacker/tests/unit/objects/test_vnf_lcm_op_occs.py', 'tacker/tests/etc/samples/etsi/nfv/tmpjldjtrpr.zip', 'tacker/tests/unit/objects/test_vnf.py', 'tacker/wsgi.py', 'tacker/conductor/conductor_server.py', 'tacker/objects/vnf_package.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d6252b6aaa8385224399bb45eb9729ee9e4d654b', 'message': 'Support VNF update operations based on ETSI NFV-SOL\n\nSupported ETSI SOL003 Modify VNF function.\nAdded processing for receiving Individual VNF Instances(PATCH).\n\n* PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId}\n\nhttps://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I95b9d6fa523ed62a2f43f1702a20dbd44e461362\n'}]",0,744374,d6252b6aaa8385224399bb45eb9729ee9e4d654b,9,5,3,32219,,,0,"Support VNF update operations based on ETSI NFV-SOL

Supported ETSI SOL003 Modify VNF function.
Added processing for receiving Individual VNF Instances(PATCH).

* PATCH /vnflcm/v1/vnf_instances/{vnfInstanceId}

https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-vnf-update-api-based-on-etsi-nfv-sol.html

Change-Id: I95b9d6fa523ed62a2f43f1702a20dbd44e461362
",git fetch https://review.opendev.org/openstack/tacker refs/changes/74/744374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/db/common_services/test_common_services_db_plugin.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/vnf.py', 'tacker/objects/vnf_package_vnfd.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/objects/vnf_instance.py', 'tacker/tests/unit/objects/test_vnf_resource.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/tests/unit/db/test_db_migration.py', 'tacker/tests/unit/objects/test_vnf_instance.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/fakes.py', 'tacker/tests/unit/objects/test_vnf_lcm_op_occs.py', 'tacker/tests/unit/db/test_db_purge_delete.py', 'tacker/tests/unit/objects/test_vnf.py', 'tacker/conductor/conductor_server.py']",26,b282e435992bd1884e5604002aa0e6093430c5d6,bp/support-etsi-nfv-specs,"import io import jsonimport webob import yamlimport tacker.conffrom tacker.db.common_services import common_services_db_pluginCONF = tacker.conf.CONF LOG = logging.getLogger(__name__)@utils.expects_func_args('vnf_lcm_opoccs') def revert_update_lcm(function): """"""Decorator to revert update_lcm on failure."""""" @functools.wraps(function) def decorated_function(self, context, *args, **kwargs): try: return function(self, context, *args, **kwargs) except Exception as exp: LOG.error(""update vnf_instance failed %s"" % exp) with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) context = keyed_args['context'] vnf_lcm_opoccs = keyed_args['vnf_lcm_opoccs'] try: # update vnf vnf_now = timeutils.utcnow() vnf_obj = objects.vnf.VNF(context=context) vnf_obj.id = vnf_lcm_opoccs.get('vnf_instance_id') vnf_obj.status = 'ERROR' vnf_obj.updated_at = vnf_now vnf_obj.save() # update events e_msg = str(exp) t_admin_context = t_context.get_admin_context() with t_admin_context.session.begin(subtransactions=True): event_db = common_services_db.Event( resource_id=vnf_lcm_opoccs.get('vnf_instance_id'), resource_state=constants.ERROR, resource_type='vnf', event_type='MODIFY_INFO', event_details=e_msg, timestamp=vnf_now) t_admin_context.session.add(event_db) # update lcm_op_occs problem_obj = objects.vnf_lcm_op_occs.ProblemDetails() problem_obj.status = '500' problem_obj.detail = e_msg lcm_op_obj = objects.vnf_lcm_op_occs.VnfLcmOpOcc( context=context) lcm_op_obj.id = vnf_lcm_opoccs.get('id') lcm_op_obj.operation_state =\ fields.InstanceOperationalState.FAILED_TEMP lcm_op_obj.error = problem_obj lcm_op_obj.state_entered_time = vnf_now lcm_op_obj.updated_at = vnf_now lcm_op_obj.save() except Exception as msg: LOG.error(""revert_update_lcm failed %s"" % str(msg)) return decorated_function self._cos_db_plg = common_services_db_plugin.CommonServicesPluginDb() file_data = yaml.safe_load(io.open(file_path)) tosca_meta_data = yaml.safe_load(io.open(os.path.join( csar_path, 'TOSCA-Metadata', 'TOSCA.meta'))) file_data = yaml.safe_load(io.open(src_path)) @revert_update_lcm def update_lcm( self, context, vnf_lcm_opoccs, body_data, vnfd_pkg_data, vnfd_id): # input vnf_lcm_op_occs now = timeutils.utcnow() lcm_op_obj = objects.vnf_lcm_op_occs.VnfLcmOpOcc(context=context) lcm_op_obj.id = vnf_lcm_opoccs.get('id') lcm_op_obj.operation_state = fields.InstanceOperationalState.PROCESSING lcm_op_obj.state_entered_time = vnf_lcm_opoccs.get( 'state_entered_time') lcm_op_obj.start_time = now lcm_op_obj.vnf_instance_id = vnf_lcm_opoccs.get('vnf_instance_id') lcm_op_obj.operation = fields.InstanceOperation.MODIFY_INFO lcm_op_obj.is_automatic_invocation = 0 lcm_op_obj.is_cancel_pending = 0 lcm_op_obj.operationParams = vnf_lcm_opoccs.get('operationParams') try: lcm_op_obj.create() except Exception as msg: raise Exception(str(msg)) # update vnf_instances try: ins_obj = objects.vnf_instance.VnfInstance(context=context) result = ins_obj.update( context, vnf_lcm_opoccs, body_data, vnfd_pkg_data, vnfd_id) except Exception as msg: raise Exception(str(msg)) # update events event_admin_context = t_context.get_admin_context() with event_admin_context.session.begin(subtransactions=True): event_db = common_services_db.Event( resource_id=vnf_lcm_opoccs.get('vnf_instance_id'), resource_state=constants.ACTIVE, resource_type=constants.RES_TYPE_VNF, event_type='MODIFY_INFO', timestamp=vnf_lcm_opoccs.get('state_entered_time')) try: event_admin_context.session.add(event_db) except Exception as msg: raise Exception(str(msg)) # update lcm_op_occs changed_info = {} changed_info = objects.vnf_lcm_op_occs.VnfInfoModifications() changed_info.vnf_instance_name = body_data.get('vnf_instance_name') changed_info.vnf_instance_description = body_data.get( 'vnf_instance_description') changed_info.vnf_configurable_properties = body_data.get( 'vnf_configurable_properties') changed_info.vnfc_info_modifications_delete_ids = body_data.get( 'vnfc_info_modifications_delete_ids') if body_data.get('vnfd_id'): changed_info.vnfd_id = body_data.get('vnfd_id') changed_info.vnf_provider = vnfd_pkg_data.get('vnf_provider') changed_info.vnf_product_name = vnfd_pkg_data.get( 'vnf_product_name') changed_info.vnf_software_version = vnfd_pkg_data.get( 'vnf_software_version') changed_info.vnfd_version = vnfd_pkg_data.get('vnfd_version') # update vnf_lcm_op_occs now = timeutils.utcnow() lcm_op_obj.id = vnf_lcm_opoccs.get('id') lcm_op_obj.operation_state = fields.InstanceOperationalState.COMPLETED lcm_op_obj.state_entered_time = result lcm_op_obj.updated_at = now lcm_op_obj.changed_info = changed_info try: lcm_op_obj.save() except Exception as msg: raise Exception(str(msg)) def _make_problem_detail( self, detail, status, title=None, type=None, instance=None): res = webob.Response(content_type='application/problem+json') problemDetails = {} if type: problemDetails['type'] = type if title: problemDetails['title'] = title problemDetails['detail'] = detail problemDetails['status'] = status if instance: problemDetails['instance'] = instance res.text = json.dumps(problemDetails) res.status_int = status return res ","import yamlCONF = cfg.CONF with open(file_path) as f: file_data = yaml.safe_load(f) with open(os.path.join( csar_path, 'TOSCA-Metadata', 'TOSCA.meta')) as f: tosca_meta_data = yaml.safe_load(f) with open(src_path) as f: file_data = yaml.safe_load(f)",2180,144
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,stable/ussuri,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-20 07:23:53.000000000,2020-08-21 12:18:42.000000000,2020-08-21 12:17:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 07:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d08ca672b8947c4ff18cb9a46ac3d65bb2bbcb61', 'message': 'Add ironic-inspector to constraints\n\nWe missed adding ironic-inspector to constraints which resulted\nin installing always the latest avaialbe version in the pypi.\n\nDepends-On: https://review.opendev.org/746931\nChange-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9\n(cherry picked from commit bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85)\n'}, {'number': 2, 'created': '2020-08-20 07:24:20.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/fac83016c0de7a27b2c8600bff4310b412c09080', 'message': 'Add ironic-inspector to constraints\n\nWe missed adding ironic-inspector to constraints which resulted\nin installing always the latest avaialbe version in the pypi.\n\nDepends-On: https://review.opendev.org/747108\nChange-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9\n(cherry picked from commit bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85)\n'}]",0,747114,fac83016c0de7a27b2c8600bff4310b412c09080,12,4,2,25023,,,0,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/747108
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
(cherry picked from commit bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/14/747114/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d08ca672b8947c4ff18cb9a46ac3d65bb2bbcb61,,"ironic_inspector_git_repo: https://opendev.org/openstack/ironic-inspectorironic_inspector_git_install_branch: master - ""git+{{ ironic_inspector_git_repo }}@{{ ironic_inspector_git_install_branch }}#egg=ironic-inspector""","ironic_inspector_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""",3,1
openstack%2Fnova~master~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,master,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-08-05 16:43:00.000000000,2020-08-21 12:15:36.000000000,2020-08-20 09:38:37.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-05 16:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1badda5ac4a3207edf14889153cfafa47475065', 'message': 'tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n'}, {'number': 2, 'created': '2020-08-05 17:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2306d1d72dd21d61c6ac87feea1ec82c34ce5b1', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n""}, {'number': 3, 'created': '2020-08-07 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d76efdf7e0b429c0156c7bf980780634f3d6d993', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n""}, {'number': 4, 'created': '2020-08-11 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/013d64bb8d4dc8b0438eca5edb542cde5350234d', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n""}, {'number': 5, 'created': '2020-08-19 19:32:50.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10f0a42de162c90c701f70c9c28dc31bfada87db', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n""}]",15,744950,10f0a42de162c90c701f70c9c28dc31bfada87db,48,13,5,15334,,,0,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/744950/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,a1badda5ac4a3207edf14889153cfafa47475065,bug/1879878,"import nova def test_resize_bug_1879878(self): """"""Resize a instance with a NUMA topology when confirm takes time. Bug 1879878 describes a race between the periodic tasks of the resource tracker and the libvirt virt driver. The virt driver expects to be the one doing the unpinning of instances, however, the resource tracker is stepping on the virt driver's toes. """""" self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) # start services self.start_computes(save_rp_uuids=True) # create server flavor_a_id = self._create_flavor( extra_spec={'hw:cpu_policy': 'dedicated'}) server = self._create_server(flavor_id=flavor_a_id) # we don't really care what the new flavor is, so long as the old # flavor using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( extra_spec={'hw:cpu_policy': 'dedicated'}) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') orig_confirm = nova.virt.libvirt.driver.LibvirtDriver.confirm_migration def fake_confirm_migration(*args, **kwargs): # run periodics before finally running the confirm_resize routine, # simulating a race between the resource tracker and the virt # driver self._run_periodics() return orig_confirm(*args, **kwargs) self.stub_out( 'nova.virt.libvirt.driver.LibvirtDriver.confirm_migration', fake_confirm_migration, ) # Now confirm the resize # FIXME(stephenfin): This should be successful, but it's failing with a # HTTP 500 due to bug #1879878 post = {'confirmResize': None} exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) ",,62,0
openstack%2Fqinling-dashboard~master~If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,openstack/qinling-dashboard,master,If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140,[DNM] Test qinling-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:33:15.000000000,2020-08-21 12:10:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-20 14:33:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/qinling-dashboard/commit/aadda3fcb948196c1261b8b93cdd78de7cab1de2', 'message': '[DNM] Test qinling-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140\n'}]",0,747182,aadda3fcb948196c1261b8b93cdd78de7cab1de2,6,2,1,29313,,,0,"[DNM] Test qinling-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: If1b8c33b6a3aabae486da1d7dc1d5cbb0dbd3140
",git fetch https://review.opendev.org/openstack/qinling-dashboard refs/changes/82/747182/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aadda3fcb948196c1261b8b93cdd78de7cab1de2,,#test qinling-dashboard with horizon jobs on focal,,1,0
openstack%2Foctavia~stable%2Fstein~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/stein,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:08:07.000000000,2020-08-21 12:09:51.000000000,2020-08-21 12:05:42.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-20 15:08:07.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cf72ccbb13e8b0df4e6ccc5588e5db569dbeda8', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)\n'}]",0,747203,6cf72ccbb13e8b0df4e6ccc5588e5db569dbeda8,10,4,1,11628,,,0,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/03/747203/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6cf72ccbb13e8b0df4e6ccc5588e5db569dbeda8,sec-grp-rule-quota-stable/ussuri-stable/train-stable/stein, # Increase the octavia account secgroups quota openstack quota set --secgroups 100 $OCTAVIA_PROJECT_NAME openstack quota set --secgroup-rules 1000 $OCTAVIA_PROJECT_NAME, # Increase the service account secgroups quota openstack quota set --secgroups 100 $SERVICE_PROJECT_NAME,3,2
openstack%2Fneutron-vpnaas-dashboard~master~I37f460b933a545e112f261ed69ce956498704114,openstack/neutron-vpnaas-dashboard,master,I37f460b933a545e112f261ed69ce956498704114,[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 14:24:31.000000000,2020-08-21 12:08:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-20 14:24:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/deb8cb783a0cf0194c805cf46d0b17b7830e5c1f', 'message': '[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I37f460b933a545e112f261ed69ce956498704114\n'}]",0,747177,deb8cb783a0cf0194c805cf46d0b17b7830e5c1f,5,2,1,29313,,,0,"[DNM] Test neutron-vpnaas-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I37f460b933a545e112f261ed69ce956498704114
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/77/747177/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,deb8cb783a0cf0194c805cf46d0b17b7830e5c1f,,#test this repo with horizon jobs on focal,,1,0
openstack%2Fironic~master~I963276efae5599bfed6cbb4df18e8dd3bd1b9839,openstack/ironic,master,I963276efae5599bfed6cbb4df18e8dd3bd1b9839,Wipe agent token during reboot or power off,MERGED,2020-07-08 12:07:27.000000000,2020-08-21 12:07:43.000000000,2020-07-16 17:27:02.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 30842}]","[{'number': 1, 'created': '2020-07-08 12:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35d3a8ebe6153286cbce37e991ed53ca785ae14b', 'message': '[WIP] Wipe agent token during reboot or power off\n\nChange-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839\n'}, {'number': 2, 'created': '2020-07-14 14:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9527ef4f1780932074edc89e7543916b29822f6', 'message': 'Wipe agent token during reboot or power off\n\nOtherwise a reboot during fast-track will leave the newly booted\nagent without an ability to request a token.\n\nChange-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839\n'}, {'number': 3, 'created': '2020-07-15 08:54:42.000000000', 'files': ['ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/token-reboot-b48b5981a58a30ae.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d4d375358c8eb923a0a3bcee211ac53b991e54b', 'message': 'Wipe agent token during reboot or power off\n\nOtherwise a reboot during fast-track will leave the newly booted\nagent without an ability to request a token.\n\nChange-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839\n'}]",3,739964,2d4d375358c8eb923a0a3bcee211ac53b991e54b,33,9,3,10239,,,0,"Wipe agent token during reboot or power off

Otherwise a reboot during fast-track will leave the newly booted
agent without an ability to request a token.

Change-Id: I963276efae5599bfed6cbb4df18e8dd3bd1b9839
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/739964/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,35d3a8ebe6153286cbce37e991ed53ca785ae14b,token-reboot," # NOTE(dtantsur): wipe token on shutting down, otherwise a reboot in # fast-track (or an accidentally booted agent) will cause subsequent # actions to fail. if target_state in (states.POWER_OFF, states.SOFT_POWER_OFF, states.REBOOT, states.SOFT_REBOOT): driver_internal_info.pop('agent_secret_token', False)",,6,0
openstack%2Ftripleo-ci~master~Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,openstack/tripleo-ci,master,Ie8243be1e794724aa6b2a598c3ba4e23478c9cad,add debug to container builds,ABANDONED,2020-08-18 01:38:22.000000000,2020-08-21 11:46:03.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 01:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f668f643937a1e3d971008c67f7d6051cbe51a6f', 'message': 'DNM, debug container build role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 2, 'created': '2020-08-18 18:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9179aba3ea5bcd1d7a5844df14815003287b1f33', 'message': 'DNM, debug container build role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 3, 'created': '2020-08-18 19:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8fac7dbcd2cb868957649370e6f994b277a5d45b', 'message': 'DNM, debug container build role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 4, 'created': '2020-08-18 19:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f391901bc78d815f297acba0526c4f53fb629138', 'message': 'update the container build ansible role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 5, 'created': '2020-08-18 19:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/76d5c87f1767ee3598e2afae352a830440c7ae2a', 'message': 'update the container build ansible role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 6, 'created': '2020-08-18 19:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b5d4052e69dba15931e5235f197a243be1d18767', 'message': 'update the container build ansible role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 7, 'created': '2020-08-18 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/709aed464662631f65471db30a11414ecc586d44', 'message': 'update the container build ansible role path\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}, {'number': 8, 'created': '2020-08-20 01:58:59.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3de30141d64ae0031f314d9446f6a5535b753b20', 'message': 'add debug to container builds\n\n* print out the important variables\n* list out the roles\n\nChange-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad\n'}]",1,746624,3de30141d64ae0031f314d9446f6a5535b753b20,16,3,8,9592,,,0,"add debug to container builds

* print out the important variables
* list out the roles

Change-Id: Ie8243be1e794724aa6b2a598c3ba4e23478c9cad
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/746624/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,f668f643937a1e3d971008c67f7d6051cbe51a6f,,"export ANSIBLE_ROLES_PATH=""${TRIPLEO_ANSIBLE_WORKPATH}/roles:/${TRIPLEO_ANSIBLE_WORKPATH}/usr/share/ansible/roles"" echo ""print exported variables"" set | grep -i TRIPLEO set | grep -i ANSIBLE echo ""list files in ansible role path, TRIPLEO_ANSIBLE_WORKPATH/roles"" ls -la ${TRIPLEO_ANSIBLE_WORKPATH}/roles echo ""list files in ansible role path, TRIPLEO_ANSIBLE_WORKPATH/usr/share/ansible/roles"" ls -la ${TRIPLEO_ANSIBLE_WORKPATH}/usr/share/ansible/roles ","export ANSIBLE_ROLES_PATH=""${TRIPLEO_ANSIBLE_WORKPATH}/roles""",12,1
openstack%2Fmasakari-dashboard~master~Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,openstack/masakari-dashboard,master,Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45,[DNM] test masakari-dashboar with horizon jobs on focal,ABANDONED,2020-08-20 14:11:35.000000000,2020-08-21 11:38:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-20 14:11:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/ea9ba97667d4dc28facb73a846973c58923b8ed6', 'message': '[DNM] test masakari-dashboar with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45\n'}]",0,747171,ea9ba97667d4dc28facb73a846973c58923b8ed6,6,2,1,29313,,,0,"[DNM] test masakari-dashboar with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icbd69a8f7bb9a4edea72c3e5928b25383acb9f45
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/71/747171/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ea9ba97667d4dc28facb73a846973c58923b8ed6,,# test masakari-dashboar with horizon jobs on focal,,1,0
openstack%2Fvalidations-common~master~I3321fbf3140288586af89a2f733072cb1653ff8e,openstack/validations-common,master,I3321fbf3140288586af89a2f733072cb1653ff8e,"Rename parameter, and add a new one",ABANDONED,2020-07-24 09:57:30.000000000,2020-08-21 11:37:43.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 09:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2e160ce0e38e221c3eb565fb4af1f193e6502c1f', 'message': 'Rename parameter, and add a new one\n\nThe ""log-output"" parameter was misleading, let\'s rename it to a more\nmeaningful ""redirect-stdout"".\n\nAlso, add a new ""--log-path"" parameter. It allows to set the standard\nlogging directory for the validations. This is especially useful when an\noperator is running the script as a user instead of root.\n\nChange-Id: I3321fbf3140288586af89a2f733072cb1653ff8e\n'}, {'number': 2, 'created': '2020-07-24 11:39:37.000000000', 'files': ['validations_common/validation.py', 'roles/validations/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/54b9ad6c7f998c3b9db09616df1a707ba470ce5a', 'message': 'Rename parameter, and add a new one\n\nThe ""log-output"" parameter was misleading, let\'s rename it to a more\nmeaningful ""redirect-stdout"". Updated functional test accordingly.\n\nAlso, add a new ""--log-path"" parameter. It allows to set the standard\nlogging directory for the validations. This is especially useful when an\noperator is running the script as a user instead of root.\n\nChange-Id: I3321fbf3140288586af89a2f733072cb1653ff8e\n'}]",1,742839,54b9ad6c7f998c3b9db09616df1a707ba470ce5a,7,3,2,28223,,,0,"Rename parameter, and add a new one

The ""log-output"" parameter was misleading, let's rename it to a more
meaningful ""redirect-stdout"". Updated functional test accordingly.

Also, add a new ""--log-path"" parameter. It allows to set the standard
logging directory for the validations. This is especially useful when an
operator is running the script as a user instead of root.

Change-Id: I3321fbf3140288586af89a2f733072cb1653ff8e
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/39/742839/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/validation.py'],1,2e160ce0e38e221c3eb565fb4af1f193e6502c1f,script/connection-type," parser.add_argument('--redirect-stdout', dest='redirect_stdout', help=(""Write the stdout in a JSON file"")) parser.add_argument('--log-path', dest='log_path', default='/var/log/validations', help=('Path to the log directory')) def _write_output(self, redirect_stdout, results): """"""Write stdout as a JSON file format"""""" with open(redirect_stdout, 'w') as output: log_path = parsed_args.log_path log_path=log_path, if parsed_args.redirect_stdout: self._write_output(parsed_args.redirect_stdout, results) if parsed_args.redirect_stdout: self._write_output(parsed_args.redirect_stdout, results) if parsed_args.redirect_stdout: self._write_output(parsed_args.redirect_stdout, results)"," parser.add_argument('--output-log', dest='output_log', help=(""Path where the run result will be stored"")) def _write_output(self, output_log, results): """"""Write output log file as Json format"""""" with open(output_log, 'w') as output: if parsed_args.output_log: self._write_output(parsed_args.output_log, results) if parsed_args.output_log: self._write_output(parsed_args.output_log, results) if parsed_args.output_log: self._write_output(parsed_args.output_log, results)",16,11
openstack%2Fkayobe~stable%2Frocky~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/rocky,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 15:08:39.000000000,2020-08-21 11:34:14.000000000,2020-08-21 11:27:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 15:08:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5de53a58f525503774326493265eb2132b3e3d53', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)\n'}]",0,746955,5de53a58f525503774326493265eb2132b3e3d53,11,2,1,15197,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/746955/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5de53a58f525503774326493265eb2132b3e3d53,,"ansible-lint>=3.0.0,!=4.3.0 # MIT",ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fzaqar-ui~master~I21f97d993cd41df95ca2e2f77c44797a2945ed56,openstack/zaqar-ui,master,I21f97d993cd41df95ca2e2f77c44797a2945ed56,[DNM] test zaqar-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:40:50.000000000,2020-08-21 11:25:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:40:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/460c27e6630a52a731a028c18bbed6641db0b6de', 'message': '[DNM] test zaqar-ui with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I21f97d993cd41df95ca2e2f77c44797a2945ed56\n'}]",0,747274,460c27e6630a52a731a028c18bbed6641db0b6de,3,1,1,29313,,,0,"[DNM] test zaqar-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I21f97d993cd41df95ca2e2f77c44797a2945ed56
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/74/747274/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,460c27e6630a52a731a028c18bbed6641db0b6de,migrate-to-focal,#test zaqar-ui with horizon jobs on focal,,1,0
openstack%2Fwatcher-dashboard~master~I33469e566e745f7a0394ea12a515dac56e27a5f6,openstack/watcher-dashboard,master,I33469e566e745f7a0394ea12a515dac56e27a5f6,[DNM] test watcher-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:37:57.000000000,2020-08-21 11:24:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:37:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/83c0482590d6b9d3778da58db2764c2828dfefa9', 'message': '[DNM] test watcher-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I33469e566e745f7a0394ea12a515dac56e27a5f6\n'}]",0,747272,83c0482590d6b9d3778da58db2764c2828dfefa9,3,1,1,29313,,,0,"[DNM] test watcher-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I33469e566e745f7a0394ea12a515dac56e27a5f6
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/72/747272/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83c0482590d6b9d3778da58db2764c2828dfefa9,,#test watcher-dashboard with horizon jobs on focal,,1,0
openstack%2Fvitrage-dashboard~master~Id49b27012e1ecb8b318a72a036cbe137b735aeb9,openstack/vitrage-dashboard,master,Id49b27012e1ecb8b318a72a036cbe137b735aeb9,[DNM] Test vitrage-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:35:00.000000000,2020-08-21 11:24:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:35:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/18615b18aaf0cfb38f744ae488ef1db7ef59225c', 'message': '[DNM] Test vitrage-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: Id49b27012e1ecb8b318a72a036cbe137b735aeb9\n'}]",0,747269,18615b18aaf0cfb38f744ae488ef1db7ef59225c,3,1,1,29313,,,0,"[DNM] Test vitrage-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Id49b27012e1ecb8b318a72a036cbe137b735aeb9
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/69/747269/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18615b18aaf0cfb38f744ae488ef1db7ef59225c,,#test vitrage-dashboard with horizon jobs on focal,,1,0
openstack%2Ftrove-dashboard~master~I3f410e2e8c677953ef67192b752b1321413d8b06,openstack/trove-dashboard,master,I3f410e2e8c677953ef67192b752b1321413d8b06,[DNM] Test trove-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:32:07.000000000,2020-08-21 11:23:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:32:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/6ea58252746e7a8fbf5b686b2e28c65509766759', 'message': '[DNM] Test trove-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I3f410e2e8c677953ef67192b752b1321413d8b06\n'}]",0,747268,6ea58252746e7a8fbf5b686b2e28c65509766759,3,1,1,29313,,,0,"[DNM] Test trove-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I3f410e2e8c677953ef67192b752b1321413d8b06
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/68/747268/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6ea58252746e7a8fbf5b686b2e28c65509766759,,#test trove-dashboard with horizon jobs on focal,,1,0
openstack%2Fsolum-dashboard~master~I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,openstack/solum-dashboard,master,I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2,[DNM] Test solum-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:24:22.000000000,2020-08-21 11:22:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:24:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/c3e78aa014c895e375b6a0d391c0af04f68dda91', 'message': '[DNM] Test solum-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2\n'}]",0,747266,c3e78aa014c895e375b6a0d391c0af04f68dda91,3,1,1,29313,,,0,"[DNM] Test solum-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I2d57cc3632fd70dc065f62f011fbac9fcfe8e1b2
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/66/747266/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3e78aa014c895e375b6a0d391c0af04f68dda91,,#test solum-dashboard with horizon jobs on focal,,1,0
openstack%2Fsearchlight-ui~master~I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,openstack/searchlight-ui,master,I6f6d55ab6728430d95f23fabc5edf5df80af2c5e,[DNM] Test searchlight-ui with horizon jobs on focal,ABANDONED,2020-08-20 18:14:04.000000000,2020-08-21 11:21:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:14:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/1931554f771d739c756ab63b3f559462d4634ca7', 'message': '[DNM] Test searchlight-ui with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I6f6d55ab6728430d95f23fabc5edf5df80af2c5e\n'}]",0,747263,1931554f771d739c756ab63b3f559462d4634ca7,3,1,1,29313,,,0,"[DNM] Test searchlight-ui with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I6f6d55ab6728430d95f23fabc5edf5df80af2c5e
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/63/747263/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1931554f771d739c756ab63b3f559462d4634ca7,,#test searchlight-ui with horizon jobs on focal,,1,0
openstack%2Fsahara-dashboard~master~I9ea6db8a42b05e59b63f3ff28170e22ebae47654,openstack/sahara-dashboard,master,I9ea6db8a42b05e59b63f3ff28170e22ebae47654,[DNM] Test sahara-dashboard with horizon jobs on focal,ABANDONED,2020-08-20 18:10:03.000000000,2020-08-21 11:20:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:10:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/777a93bb0dc2592329782a3d206419d9f08cb101', 'message': '[DNM] Test sahara-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I9ea6db8a42b05e59b63f3ff28170e22ebae47654\n'}]",0,747262,777a93bb0dc2592329782a3d206419d9f08cb101,3,1,1,29313,,,0,"[DNM] Test sahara-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9ea6db8a42b05e59b63f3ff28170e22ebae47654
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/62/747262/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,777a93bb0dc2592329782a3d206419d9f08cb101,migrate-to-focal,#test sahara-dashboard with horizon jobs on focal,,1,0
openstack%2Fkarbor-dashboard~master~I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,openstack/karbor-dashboard,master,I9e1f42e8fab75b5951610fbdcf45b739ef9311c9,[DNM] Test karbor-dahboard with horizon jobs on focal,ABANDONED,2020-08-20 14:00:32.000000000,2020-08-21 11:18:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 14:00:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/c40a346ac5f92e807cd572901f6bb93510d47231', 'message': '[DNM] Test karbor-dahboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I9e1f42e8fab75b5951610fbdcf45b739ef9311c9\n'}]",0,747168,c40a346ac5f92e807cd572901f6bb93510d47231,4,1,1,29313,,,0,"[DNM] Test karbor-dahboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I9e1f42e8fab75b5951610fbdcf45b739ef9311c9
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/68/747168/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c40a346ac5f92e807cd572901f6bb93510d47231,,#test horizon jobs on focal,,1,0
openstack%2Ftacker-horizon~master~I57b3b29474c3e61cd3399ac727330f7166480d02,openstack/tacker-horizon,master,I57b3b29474c3e61cd3399ac727330f7166480d02,[DNM] Test tacker-horizon with horizon jobs on focal,ABANDONED,2020-08-20 18:28:27.000000000,2020-08-21 11:14:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 18:28:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/32164ee48dc9105e0808f45249e0e26c0fa9da81', 'message': '[DNM] Test tacker-horizon with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I57b3b29474c3e61cd3399ac727330f7166480d02\n'}]",0,747267,32164ee48dc9105e0808f45249e0e26c0fa9da81,3,1,1,29313,,,0,"[DNM] Test tacker-horizon with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I57b3b29474c3e61cd3399ac727330f7166480d02
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/67/747267/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,32164ee48dc9105e0808f45249e0e26c0fa9da81,,#test tacker-horizon with horizon jobs on focal,,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ia55eebc833877f2eae226ba46c18653c1b859299,openstack/kolla-ansible,stable/ussuri,Ia55eebc833877f2eae226ba46c18653c1b859299,Pin ansible-lint to 4.2.0,MERGED,2020-08-21 10:36:56.000000000,2020-08-21 11:02:44.000000000,2020-08-21 11:00:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 10:36:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57536ed6f207d658d55e5c72015b537dfb6da3aa', 'message': ""Pin ansible-lint to 4.2.0\n\nIn stable branches we don't want to follow the latest rules and\nhave constantly broken CI but rather ensure we control quality\nchecks and act as needed.\n\nMost other test reqs are actually pinned via upper-constraints,\nbut ansible-lint is not in global-requirements so it is entirely\nup to us to handle pinning.\n\nChange-Id: Ia55eebc833877f2eae226ba46c18653c1b859299\n""}]",0,747386,57536ed6f207d658d55e5c72015b537dfb6da3aa,8,3,1,30491,,,0,"Pin ansible-lint to 4.2.0

In stable branches we don't want to follow the latest rules and
have constantly broken CI but rather ensure we control quality
checks and act as needed.

Most other test reqs are actually pinned via upper-constraints,
but ansible-lint is not in global-requirements so it is entirely
up to us to handle pinning.

Change-Id: Ia55eebc833877f2eae226ba46c18653c1b859299
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/747386/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,57536ed6f207d658d55e5c72015b537dfb6da3aa,pin-ansible-lint-for-stable-branch,ansible-lint==4.2.0 # MIT,"ansible-lint>=4.2.0,!=4.3.0 # MIT",1,1
openstack%2Fceilometer~stable%2Fussuri~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,stable/ussuri,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-19 20:43:10.000000000,2020-08-21 11:01:49.000000000,2020-08-21 10:59:45.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-19 20:43:10.000000000', 'files': ['ceilometer/gnocchi_client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/be8edb074970117265cc44effb11996b30c9f20a', 'message': 'Run migration with NotFound exception as well\n\nGnocchi start returning regular 404 when requesting resource that do not\nexist [1]. That means, that in case of 404, which is also excpected,\nwe just fail resource creation.\n\n[1] http://paste.openstack.org/show/796884/\n\nChange-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6\n(cherry picked from commit 49b098eda41ed23fde0d9373bd5510b95271f051)\n'}]",3,747034,be8edb074970117265cc44effb11996b30c9f20a,15,6,1,28619,,,0,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
(cherry picked from commit 49b098eda41ed23fde0d9373bd5510b95271f051)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/34/747034/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/gnocchi_client.py'],1,be8edb074970117265cc44effb11996b30c9f20a,," except (gnocchi_exc.ResourceTypeNotFound, gnocchi_exc.NotFound):", except gnocchi_exc.ResourceTypeNotFound:,1,1
openstack%2Fironic~master~I7a6bb699f171585119c91d0808ff0c85d04104bf,openstack/ironic,master,I7a6bb699f171585119c91d0808ff0c85d04104bf,Fix network_data path for dhcpless deployments,MERGED,2020-08-20 11:40:55.000000000,2020-08-21 10:53:54.000000000,2020-08-21 09:47:02.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 11:40:55.000000000', 'files': ['ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dae84efd66a637f5cb0f3179312e3dc11e42864c', 'message': 'Fix network_data path for dhcpless deployments\n\nThe curent path ""openstack/latest/metadata/network_data.json"" is\nnot being used by Glean. This path must be changed to\n""openstack/latest/network_data.json"" as per the code here\nhttps://opendev.org/opendev/glean/src/branch/master/glean/cmd.py#L1317-L1331\n\nChange-Id: I7a6bb699f171585119c91d0808ff0c85d04104bf\nStory: #2008042\nTask: #40704\n'}]",0,747144,dae84efd66a637f5cb0f3179312e3dc11e42864c,12,5,1,18781,,,0,"Fix network_data path for dhcpless deployments

The curent path ""openstack/latest/metadata/network_data.json"" is
not being used by Glean. This path must be changed to
""openstack/latest/network_data.json"" as per the code here
https://opendev.org/opendev/glean/src/branch/master/glean/cmd.py#L1317-L1331

Change-Id: I7a6bb699f171585119c91d0808ff0c85d04104bf
Story: #2008042
Task: #40704
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/747144/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/boot.py'],1,dae84efd66a637f5cb0f3179312e3dc11e42864c,fix_network_data_path, metadata_fileobj.name: 'openstack/latest/' 'network_data.json', metadata_fileobj.name: 'openstack/latest/meta' 'data/network_data.json',2,2
openstack%2Fcharm-layer-openstack~master~I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,openstack/charm-layer-openstack,master,I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6,Add a 'is-update-status-hook' flag to the layer,MERGED,2020-08-20 11:42:36.000000000,2020-08-21 10:41:16.000000000,2020-08-21 10:41:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 11:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/76953a862dd36f7b7e5e12269a6c90457a465f84', 'message': 'Add a \'is-update-status-hook\' flag to the layer\n\nThis flag is to enable charms.openstack / layer-openstack charms to have\na way to determine if the current hook is update-status from a flag.  By\nbeing a flag, it means that charm reactive handler code doesn\'t have to\ncheck for the the hook in every handlers, but can declare ""don\'t run\nthis if it\'s an update-status hook"".  The flag is guaranteed to not be\nset during a not update-status hook (in that, if it is set, then it gets\ncleared and the handlers can therefore run), or to be set during an\nupdate-status hook.  To speed things up, the code also removes the flag\nat the end of the update-status handler.\n\nThe intended use of this flag is to guard \'expensive\' handlers from\nbeing run during update-status.\n\nChange-Id: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6\n'}, {'number': 2, 'created': '2020-08-20 13:18:05.000000000', 'files': ['reactive/layer_openstack.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/49b1075506d7625d04a05e2cb232d20ea82f6406', 'message': 'Add a \'is-update-status-hook\' flag to the layer\n\nThis flag is to enable charms.openstack / layer-openstack charms to have\na way to determine if the current hook is update-status from a flag.  By\nbeing a flag, it means that charm reactive handler code doesn\'t have to\ncheck for the the hook in every handlers, but can declare ""don\'t run\nthis if it\'s an update-status hook"".  The flag is guaranteed to not be\nset during a not update-status hook (in that, if it is set, then it gets\ncleared and the handlers can therefore run), or to be set during an\nupdate-status hook.  To speed things up, the code also removes the flag\nat the end of the update-status handler.\n\nThe intended use of this flag is to guard \'expensive\' handlers from\nbeing run during update-status.\n\nChange-Id: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6\n'}]",2,747145,49b1075506d7625d04a05e2cb232d20ea82f6406,11,4,2,20870,,,0,"Add a 'is-update-status-hook' flag to the layer

This flag is to enable charms.openstack / layer-openstack charms to have
a way to determine if the current hook is update-status from a flag.  By
being a flag, it means that charm reactive handler code doesn't have to
check for the the hook in every handlers, but can declare ""don't run
this if it's an update-status hook"".  The flag is guaranteed to not be
set during a not update-status hook (in that, if it is set, then it gets
cleared and the handlers can therefore run), or to be set during an
update-status hook.  To speed things up, the code also removes the flag
at the end of the update-status handler.

The intended use of this flag is to guard 'expensive' handlers from
being run during update-status.

Change-Id: I7ca97db646ada95d7f5541ca4e2cf14013c0d7a6
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/45/747145/1 && git format-patch -1 --stdout FETCH_HEAD,['reactive/layer_openstack.py'],1,76953a862dd36f7b7e5e12269a6c90457a465f84,is-update-status-hook,"import charmhelpers.core.hookenv as hookenv Sets the state so that the default update-status handler can be called. Sets the flag reactive.set_flag('run-default-update-status') reactive.set_flag('is-update-status-hook') def atexit_clear_update_status_flag(): reactive.clear_flag('is-update-status-hook') hookenv.atexit(atexit_clear_update_status_flag) @reactive.when('is-update-status-hook') def check_really_is_update_status(): """"""Clear the is-update-status-hook if the hook is not assess-status. This is in case the previous update-status hook execution died for some reason and the flag never got cleared. """""" hook = hookenv.hook_name() != 'update-status': reactive.clear_flag('is-update-status-hook')", Just call update status. reactive.set_state('run-default-update-status'),22,2
openstack%2Fcharm-cinder-backup~master~I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,openstack/charm-cinder-backup,master,I64c4ef1d7f5c183b7f04e089e126eda52136d7fc,Add focal and ussuri test bundles,MERGED,2020-05-21 11:58:04.000000000,2020-08-21 10:34:07.000000000,2020-08-21 10:34:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-05-21 11:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/17453f6883ec73b660ac110dc5742c6d416b52cd', 'message': 'Add focal and ussuri test bundles\n\nChange-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc\nCloses-Bug: #1879684\n'}, {'number': 2, 'created': '2020-05-21 12:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/386258abbfa98e69b5b440490bbfac3f4eaca6f0', 'message': 'Add focal and ussuri test bundles\n\nChange-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc\nCloses-Bug: #1879684\n'}, {'number': 3, 'created': '2020-08-14 13:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/2327942e3904132c160efa72599ff1bc91fb172d', 'message': ""Add focal and ussuri test bundles\n\nThe focal-ussuri test is disabled for gate (it's in dev bundles) due to\nthe upstream bug [1] in os-brick connecting to ceph-octopus in focal.\nBug [2] is for tracking the issue against the charms.\n\nRelated-Bug: #1865754 [1]\nRelated-Bug: #1891626 [2]\nCloses-Bug: #1879684\n\nChange-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc\n""}, {'number': 4, 'created': '2020-08-20 14:27:48.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-ussuri.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/a1dade70f95e6e0c5de66903b8bfabaf336ca373', 'message': ""Add focal and ussuri test bundles\n\nThe focal-ussuri test is disabled for gate (it's in dev bundles) due to\nthe upstream bug [1] in os-brick connecting to ceph-octopus in focal.\nBug [2] is for tracking the issue against the charms.\n\nRelated-Bug: #1865754 [1]\nRelated-Bug: #1891626 [2]\nCloses-Bug: #1879684\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/390\nChange-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc\n""}]",0,729932,a1dade70f95e6e0c5de66903b8bfabaf336ca373,36,6,4,20870,,,0,"Add focal and ussuri test bundles

The focal-ussuri test is disabled for gate (it's in dev bundles) due to
the upstream bug [1] in os-brick connecting to ceph-octopus in focal.
Bug [2] is for tracking the issue against the charms.

Related-Bug: #1865754 [1]
Related-Bug: #1891626 [2]
Closes-Bug: #1879684

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/390
Change-Id: I64c4ef1d7f5c183b7f04e089e126eda52136d7fc
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/32/729932/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-ussuri.yaml', 'metadata.yaml']",4,17453f6883ec73b660ac110dc5742c6d416b52cd,enable-focal,maintainer: OpenStack Charmers <openstack-charmers@lists.ubuntu.com> - trusty,maintainer: Edward Hope-Morley <opentastic@gmail.com> - trusty,203,3
openstack%2Fdevstack~stable%2Ftrain~I5308a6948fbe23d888f4336bbd30d064005e159f,openstack/devstack,stable/train,I5308a6948fbe23d888f4336bbd30d064005e159f,Add non-voting devstack-platform-centos-8 to Train,ABANDONED,2020-08-21 07:32:18.000000000,2020-08-21 10:20:01.000000000,,[],"[{'number': 1, 'created': '2020-08-21 07:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d47da1bbf049ecdb0423b94742aa82d80ebc5fdd', 'message': 'Add non-voting devstack-platform-centos-8 to Train\n\nCentOS 8 is a popular distribution used by many in the community.\n\nChange-Id: I5308a6948fbe23d888f4336bbd30d064005e159f\n'}, {'number': 2, 'created': '2020-08-21 08:45:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7253b954a73fe8eeb24338ce3cbac37aa0568eb7', 'message': 'Add non-voting devstack-platform-centos-8 to Train\n\nCentOS 8 is a popular distribution used by many in the community.\n\nChange-Id: I5308a6948fbe23d888f4336bbd30d064005e159f\n'}]",0,747350,7253b954a73fe8eeb24338ce3cbac37aa0568eb7,3,0,2,6469,,,0,"Add non-voting devstack-platform-centos-8 to Train

CentOS 8 is a popular distribution used by many in the community.

Change-Id: I5308a6948fbe23d888f4336bbd30d064005e159f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/747350/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d47da1bbf049ecdb0423b94742aa82d80ebc5fdd,centos-gating, name: devstack-single-node-centos-8 nodes: - name: controller label: centos-8 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-centos-8 parent: tempest-full description: Centos 8 platform test nodeset: devstack-single-node-centos-8 voting: false - job: - devstack-platform-centos-8,,18,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,stable/ussuri,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-20 05:37:53.000000000,2020-08-21 10:13:15.000000000,2020-08-21 10:09:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 05:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aacca12a4f9901c582b39ebb40cb17d445d2bfe5', 'message': ""Add ironic-inspector to the openstack_services\n\nWe clean forgot about adding ironic-inspector to the services, so\nit's time we fix that.\n\nChange-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4\n(cherry picked from commit 4f1d3610159fc4eec5559900527e4e078848cf6f)\n""}, {'number': 2, 'created': '2020-08-20 07:16:41.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b1ebd689f07af20eed083b550b8197cec7806e38', 'message': ""Add ironic-inspector to the openstack_services\n\nWe clean forgot about adding ironic-inspector to the services, so\nit's time we fix that.\n\nChange-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4\n(cherry picked from commit 4f1d3610159fc4eec5559900527e4e078848cf6f)\n""}]",0,747108,b1ebd689f07af20eed083b550b8197cec7806e38,11,4,2,28619,,,0,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
(cherry picked from commit 4f1d3610159fc4eec5559900527e4e078848cf6f)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/747108/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/jobs.yaml']",2,aacca12a4f9901c582b39ebb40cb17d445d2bfe5,746931-stable/ussuri, - name: openstack/ironic-inspector,,8,0
openstack%2Frequirements~master~Id6853599492ad869d25ee8b7f99afa9416926c2b,openstack/requirements,master,Id6853599492ad869d25ee8b7f99afa9416926c2b,cap toml library because of nested dict bug,MERGED,2020-08-17 03:40:53.000000000,2020-08-21 10:08:00.000000000,2020-08-21 10:06:32.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-17 03:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5f0397c1fa87a28ed1626630be247769e78d4c5', 'message': 'cap toml library because of nested dict bug\n\nversion 0.10.1 causes a bug with how nested dicts are handled\nand we should stay with 0.10.0 until it is fixed:\nhttps://github.com/uiri/toml/issues/295\n\nChange-Id: Id6853599492ad869d25ee8b7f99afa9416926c2b\n'}, {'number': 2, 'created': '2020-08-21 05:15:39.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/293e6502fa960bc21db55d96cc9071a052007d1a', 'message': 'cap toml library because of nested dict bug\n\nversion 0.10.1 causes a bug with how nested dicts are handled\nand we should stay with 0.10.0 until it is fixed:\nhttps://github.com/uiri/toml/issues/295\n\nChange-Id: Id6853599492ad869d25ee8b7f99afa9416926c2b\n'}]",0,746434,293e6502fa960bc21db55d96cc9071a052007d1a,15,3,2,10420,,,0,"cap toml library because of nested dict bug

version 0.10.1 causes a bug with how nested dicts are handled
and we should stay with 0.10.0 until it is fixed:
https://github.com/uiri/toml/issues/295

Change-Id: Id6853599492ad869d25ee8b7f99afa9416926c2b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/746434/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b5f0397c1fa87a28ed1626630be247769e78d4c5,new/adjutant_confspirator,toml===0.10.0,toml===0.10.1,2,1
openstack%2Fproject-config~master~If9189ccef8a5f58c7228f72c1381c2bc47d5f356,openstack/project-config,master,If9189ccef8a5f58c7228f72c1381c2bc47d5f356,Add openstack/etcd3gw,MERGED,2020-08-20 14:36:04.000000000,2020-08-21 10:07:16.000000000,2020-08-21 07:49:36.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 13734}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-20 14:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f837bc3678bb50f5bad9725da05d8506de2c71a7', 'message': 'Add openstack/etcd3gw\n\nPer [1] and [2].\n\n[1] https://github.com/dims/etcd3-gateway/issues/29\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html\n\nChange-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356\n'}, {'number': 2, 'created': '2020-08-20 14:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1c912e94a4246cc3a1cdb82fdd655fa4db98341a', 'message': 'Add openstack/etcd3gw\n\nPer [1] and [2].\n\n[1] https://github.com/dims/etcd3-gateway/issues/29\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html\n\nNeeded-By: https://review.opendev.org/747188\nChange-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356\n'}, {'number': 3, 'created': '2020-08-20 19:25:54.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/openstack/etcd3gw.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c2f434bd2faac4b435d8565f4013d29b14c96953', 'message': 'Add openstack/etcd3gw\n\nPer [1] and [2].\n\nCloned from forked repo to skip old branches.\n\n[1] https://github.com/dims/etcd3-gateway/issues/29\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html\n\nNeeded-By: https://review.opendev.org/747188\nChange-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356\n'}]",2,747185,c2f434bd2faac4b435d8565f4013d29b14c96953,21,13,3,30491,,,0,"Add openstack/etcd3gw

Per [1] and [2].

Cloned from forked repo to skip old branches.

[1] https://github.com/dims/etcd3-gateway/issues/29
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016470.html

Needed-By: https://review.opendev.org/747188
Change-Id: If9189ccef8a5f58c7228f72c1381c2bc47d5f356
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/747185/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/openstack/etcd3gw.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,f837bc3678bb50f5bad9725da05d8506de2c71a7,new-project, - openstack/etcd3gw,,36,0
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I8e8a9ce5085b7915994317af5ea903cf8a39e809,openstack/neutron-dynamic-routing,stable/train,I8e8a9ce5085b7915994317af5ea903cf8a39e809,Monkey patch original current_thread _active,MERGED,2020-05-06 08:35:07.000000000,2020-08-21 10:06:47.000000000,2020-08-21 10:04:24.000000000,"[{'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-06 08:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/2f27098ae27730d2501b53637c9bcb11b3f7a1da', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809\nCloses-Bug: #1863021\n(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)\n'}, {'number': 2, 'created': '2020-05-07 09:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0f411a11d760d1b05c1cb6d437b9e913068ee6f5', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809\nCloses-Bug: #1863021\n(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)\n'}, {'number': 3, 'created': '2020-08-20 08:58:16.000000000', 'files': ['neutron_dynamic_routing/cmd/eventlet/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/56de1c4330de76256937ecd0b1d8cde8f16d9f0a', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809\nCloses-Bug: #1863021\n(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)\n'}]",0,725790,56de1c4330de76256937ecd0b1d8cde8f16d9f0a,23,6,3,21798,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I8e8a9ce5085b7915994317af5ea903cf8a39e809
Closes-Bug: #1863021
(cherry picked from commit 44e77ea9a975e9222f38591151e2c32640ef7379)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/90/725790/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/cmd/eventlet/__init__.py'],1,2f27098ae27730d2501b53637c9bcb11b3f7a1da,bug/1863021-stable/train,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading # noqa import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,6,0
openstack%2Fneutron~stable%2Ftrain~I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,openstack/neutron,stable/train,I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe,[OVS][FW] Remote SG IDs left behind when a SG is removed,MERGED,2020-07-31 09:03:28.000000000,2020-08-21 09:55:56.000000000,2020-08-07 02:58:55.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 09:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec30e7247b49449ae602e58822e85ab9b1502e4d', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)\n'}, {'number': 2, 'created': '2020-07-31 16:05:49.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6615f248e25a361d988db1795a3486a58f4768cb', 'message': '[OVS][FW] Remote SG IDs left behind when a SG is removed\n\nWhen any port in the OVS agent is using a security groups (SG) and\nthis SG is removed, is marked to be deleted. This deletion process\nis done in [1].\n\nThe SG deletion process consists on removing any reference of this SG\nfrom the firewall and the SG port map. The firewall removes this SG in\n[2].\n\nThe information of a SG is stored in:\n* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the\n  conjunction IDS (conj_ids) in a dictionary using the following keys:\n\n    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,\n      conj_ids)] = conj_id_XXX\n\n* ConjIPFlowManager.conj_ids is a nested dictionary, built in the\n  following way:\n\n    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \\\n      set([conj_id_1, conj_id_2, ...])\n\nThis patch stores all conjuntion IDs generated and assigned to the\ntuple (sg_id, remote_sg_id, direction, ethertype). When a SG is\nremoved, the deletion method will look for this SG in the new storage\nvariable created, ConjIdMap.id_map_group, and will mark all the\nconjuntion IDs related to be removed. That will cleanup those rules\nleft in the OVS matching:\n  action=conjunction(conj_id, 1/2)\n\n[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731\n[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399\n\nConflicts:\n      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nChange-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe\nRelated-Bug: #1881157\n(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)\n(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)\n'}]",0,744105,6615f248e25a361d988db1795a3486a58f4768cb,34,5,2,16688,,,0,"[OVS][FW] Remote SG IDs left behind when a SG is removed

When any port in the OVS agent is using a security groups (SG) and
this SG is removed, is marked to be deleted. This deletion process
is done in [1].

The SG deletion process consists on removing any reference of this SG
from the firewall and the SG port map. The firewall removes this SG in
[2].

The information of a SG is stored in:
* ConjIPFlowManager.conj_id_map = ConjIdMap(). This class stores the
  conjunction IDS (conj_ids) in a dictionary using the following keys:

    ConjIdMap.id_map[(sg_id, remote_sg_id, direction, ethertype,
      conj_ids)] = conj_id_XXX

* ConjIPFlowManager.conj_ids is a nested dictionary, built in the
  following way:

    self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id] = \
      set([conj_id_1, conj_id_2, ...])

This patch stores all conjuntion IDs generated and assigned to the
tuple (sg_id, remote_sg_id, direction, ethertype). When a SG is
removed, the deletion method will look for this SG in the new storage
variable created, ConjIdMap.id_map_group, and will mark all the
conjuntion IDs related to be removed. That will cleanup those rules
left in the OVS matching:
  action=conjunction(conj_id, 1/2)

[1]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L731
[2]https://github.com/openstack/neutron/blob/118930f03d31f157f8c7a9e6c57122ecea8982b9/neutron/agent/linux/openvswitch_firewall/firewall.py#L399

Conflicts:
      neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Change-Id: I63e446a30cf10e7bcd34a6f0d6ba1711301efcbe
Related-Bug: #1881157
(cherry picked from commit 0eebd002ccda66dc6d9f9e5a254815109225e299)
(cherry picked from commit ed22f7a2ff19a874bc8521f84cb4fd1c7483a23f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/744105/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,ec30e7247b49449ae602e58822e85ab9b1502e4d,bug/1881157," test_data = [ # conj_id: 8 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 10 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 1), # conj_id: 12 ('sg1', 'sg1', constants.INGRESS_DIRECTION, constants.IPv6, 2), # conj_id: 16 ('sg2', 'sg1', constants.EGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 24 ('sg1', 'sg3', constants.INGRESS_DIRECTION, constants.IPv6, 0), # conj_id: 36 (and 32 without priority offset, stored in id_map) ('sg3', 'sg4', constants.INGRESS_DIRECTION, constants.IPv4, 2), # conj_id: 40 ('sg5', 'sg4', constants.EGRESS_DIRECTION, constants.IPv4, 0), ] conj_id_segment = set([]) # see ConjIPFlowManager.get_conj_id # This is similar to ConjIPFlowManager.add method for sg_id, rsg_id, direction, ip_version, prio_offset in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) conj_id = self.conj_id_map.get_conj_id(*conj_id_tuple) conj_id_segment.add(conj_id) conj_id_plus_prio = conj_id + prio_offset * 2 self.conj_id_map.id_map_group[conj_id_tuple].add(conj_id_plus_prio) ids.append(conj_id_plus_prio) self.assertEqual( {('sg3', 24), ('sg1', 12), ('sg1', 16), ('sg1', 8), ('sg1', 10)}, result) result = self.conj_id_map.delete_sg('sg3') self.assertEqual({('sg4', 32), ('sg4', 36)}, result) result = self.conj_id_map.delete_sg('sg4') self.assertEqual({('sg4', 40)}, result) self.assertEqual({}, self.conj_id_map.id_map) self.assertEqual({}, self.conj_id_map.id_map_group) reallocated = set([]) for sg_id, rsg_id, direction, ip_version, _ in test_data: conj_id_tuple = (sg_id, rsg_id, direction, ip_version) reallocated.add(self.conj_id_map.get_conj_id(*conj_id_tuple)) self.assertEqual(reallocated, conj_id_segment) def _sg_removed(self, sg_name): self.manager.sg_removed(sg_name) def test_sg_removed(self): self._sg_removed('sg') self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) self.driver.delete_flow_for_ip.assert_not_called() def test_remote_sg_removed(self): self._sg_removed('remote_id') self.driver._add_flow.assert_not_called() self.driver.delete_flows_for_flow_state.assert_called_once_with( {'10.22.3.4': [self.conj_id]}, {}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) # ""conj_id_to_remove"" is populated with the remote_sg conj_id assigned, # ""_update_flows_for_vlan_subr"" will call ""delete_flow_for_ip"". self.driver.delete_flow_for_ip.assert_called_once_with( '10.22.3.4', 'ingress', 'IPv4', 100, {self.conj_id}) def _test_delete_flows_for_flow_state(self, addr_to_conj, explicitly_egress_direct=True): direction = 'one_direction' ethertype = 'ethertype' vlan_tag = 'taaag' with mock.patch.object(self.firewall, 'delete_flow_for_ip') as \ mock_delete_flow_for_ip: flow_state = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} cfg.CONF.set_override('explicitly_egress_direct', explicitly_egress_direct, 'AGENT') self.firewall.delete_flows_for_flow_state( flow_state, addr_to_conj, direction, ethertype, vlan_tag) calls = [] for removed_ip in flow_state.keys() - addr_to_conj.keys(): calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, flow_state[removed_ip])) if explicitly_egress_direct: calls.append(mock.call(removed_ip, direction, ethertype, vlan_tag, [0])) mock_delete_flow_for_ip.assert_has_calls(calls) def test_delete_flows_for_flow_state_no_removed_ips_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_no_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}, 'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj, False) def test_delete_flows_for_flow_state_removed_ips_exp_egress(self): addr_to_conj = {'addr2': {32, 40}} self._test_delete_flows_for_flow_state(addr_to_conj) def test_delete_flows_for_flow_state_removed_ips_no_exp_egress(self): addr_to_conj = {'addr1': {8, 16, 24}} self._test_delete_flows_for_flow_state(addr_to_conj, False) "," test_data = [('sg1', 'sg1'), ('sg1', 'sg2')] for sg_id, remote_sg_id in test_data: ids.append(self.conj_id_map.get_conj_id( sg_id, remote_sg_id, constants.INGRESS_DIRECTION, constants.IPv6)) self.assertIn(('sg1', ids[0]), result) self.assertIn(('sg2', ids[1]), result) self.assertFalse(self.conj_id_map.id_map) reallocated = self.conj_id_map.get_conj_id( 'sg-foo', 'sg-foo', constants.INGRESS_DIRECTION, constants.IPv6) self.assertIn(reallocated, ids) def test_sg_removed(self): self.manager.sg_removed('sg') self.driver.delete_flows_for_ip_addresses.assert_called_once_with( {'10.22.3.4'}, constants.INGRESS_DIRECTION, constants.IPv4, self.vlan_tag) cfg.CONF.set_override('explicitly_egress_direct', True, 'AGENT')",169,45
openstack%2Ftrove~master~Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,openstack/trove,master,Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8,remove deprecated option for trove,ABANDONED,2020-08-10 10:10:22.000000000,2020-08-21 09:47:39.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-10 10:10:22.000000000', 'files': ['trove/common/cfg.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/a6581646c06265894cf541c4e30e68bd01c3b8d1', 'message': 'remove deprecated option for trove\n\nRemove option ""network_label_regex"" from cfg.py is deprecated for removal\n\nChange-Id: Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8\n'}]",1,745514,a6581646c06265894cf541c4e30e68bd01c3b8d1,5,3,1,32029,,,0,"remove deprecated option for trove

Remove option ""network_label_regex"" from cfg.py is deprecated for removal

Change-Id: Ibbb2c24057035557a7ed8c305bc5618b36ffb7d8
",git fetch https://review.opendev.org/openstack/trove refs/changes/14/745514/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,a6581646c06265894cf541c4e30e68bd01c3b8d1,deprecated_options,," cfg.StrOpt('network_label_regex', default='^private$', help='Regular expression to match Trove network labels.', deprecated_for_removal=True),",0,3
openstack%2Fkolla-ansible~stable%2Ftrain~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/train,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:41:47.000000000,2020-08-21 09:46:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 01:41:47.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'releasenotes/notes/add-trove-guestagent-5482833a0c99033a.yaml', 'ansible/roles/trove/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8b8aa98e6c8157ba87143027707d21faf070ef1', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)\n'}]",0,747320,d8b8aa98e6c8157ba87143027707d21faf070ef1,6,2,1,32029,,,0,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/747320/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'releasenotes/notes/add-trove-guestagent-5482833a0c99033a.yaml', 'ansible/roles/trove/tasks/config.yml']",4,d8b8aa98e6c8157ba87143027707d21faf070ef1,add_guestagent_conf-stable/ussuri-stable/train,"- name: Copying over trove-guestagent.conf vars: services_need_confs: - trove-taskmanager merge_configs: sources: - ""{{ role_path }}/templates/trove-guestagent.conf.j2"" - ""{{ node_custom_config }}/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/{{ inventory_hostname }}/trove-guestagent.conf"" dest: ""{{ node_config_directory }}/{{ item.key }}/trove-guestagent.conf"" mode: ""0660"" become: true when: - item.key in services_need_confs - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ trove_services }}"" notify: - ""Restart {{ item.key }} container"" ",,38,1
openstack%2Fkolla-ansible~stable%2Fstein~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,stable/stein,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,ABANDONED,2020-08-21 01:44:02.000000000,2020-08-21 09:46:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-21 01:44:02.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'releasenotes/notes/add-trove-guestagent-5482833a0c99033a.yaml', 'ansible/roles/trove/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/309b2830a11b94398cc5c925bc6c2f01e3375b40', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)\n'}]",0,747321,309b2830a11b94398cc5c925bc6c2f01e3375b40,5,3,1,32029,,,0,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
(cherry picked from commit 38881963344446f43ad667d3ceeac8348fac5f37)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/747321/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'releasenotes/notes/add-trove-guestagent-5482833a0c99033a.yaml', 'ansible/roles/trove/tasks/config.yml']",4,309b2830a11b94398cc5c925bc6c2f01e3375b40,add_guestagent_conf-stable/ussuri-stable/train-stable/stein,"- name: Copying over trove-guestagent.conf vars: services_need_confs: - trove-taskmanager merge_configs: sources: - ""{{ role_path }}/templates/trove-guestagent.conf.j2"" - ""{{ node_custom_config }}/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/{{ inventory_hostname }}/trove-guestagent.conf"" dest: ""{{ node_config_directory }}/{{ item.key }}/trove-guestagent.conf"" mode: ""0660"" become: true when: - item.key in services_need_confs - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ trove_services }}"" notify: - ""Restart {{ item.key }} container"" ",,38,1
openstack%2Foctavia~stable%2Fussuri~I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,openstack/octavia,stable/ussuri,I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb,Fix accepting 'insert_headers' when unsupported,MERGED,2020-08-18 21:21:42.000000000,2020-08-21 09:41:40.000000000,2020-08-21 09:38:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 21:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/294193bd6ee2be51712f538b45f716f4f4e3b197', 'message': ""Fix accepting 'insert_headers' when unsupported\n\nThis patch fixes the Octavia listener API from accepting the\n'insert_headers' parameter for protocols that do not support header\ninsertion.\n\nChange-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb\nStory: 2007967\nTask: 40464\n(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)\n""}, {'number': 2, 'created': '2020-08-18 21:30:44.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-protocol-header-insertion-mismatch-e3aeb5f5fee0348b.yaml', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/621acb4278d337e379bdcb0ed65e434bd94db11b', 'message': ""Fix accepting 'insert_headers' when unsupported\n\nThis patch fixes the Octavia listener API from accepting the\n'insert_headers' parameter for protocols that do not support header\ninsertion.\n\nChange-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb\nStory: 2007967\nTask: 40464\n(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)\n""}]",0,746802,621acb4278d337e379bdcb0ed65e434bd94db11b,12,4,2,11628,,,0,"Fix accepting 'insert_headers' when unsupported

This patch fixes the Octavia listener API from accepting the
'insert_headers' parameter for protocols that do not support header
insertion.

Change-Id: I4ec2299b64b180f8b2d8f0b8485a6be9fe32d2eb
Story: 2007967
Task: 40464
(cherry picked from commit 08fad7496612962418c81c2d981069bde275157b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/746802/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/tests/functional/api/v2/test_listener.py', 'releasenotes/notes/fix-protocol-header-insertion-mismatch-e3aeb5f5fee0348b.yaml', 'octavia/api/v2/controllers/listener.py']",4,294193bd6ee2be51712f538b45f716f4f4e3b197,," if (listener_protocol not in constants.LISTENER_PROTOCOLS_SUPPORTING_HEADER_INSERTION): raise exceptions.InvalidOption( value='insert-headers', option=('a %s protocol listener.' % listener_protocol)) raise exceptions.ValidationException( detail=_(""%s protocol listener does not "" ""support TLS."") % constants.PROTOCOL_UDP)"," raise exceptions.ValidationException(detail=_( ""%s protocol listener does not support TLS or header "" ""insertion."") % constants.PROTOCOL_UDP)",100,11
openstack%2Fbifrost~bugfix%2F8.3~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,bugfix/8.3,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 16:23:37.000000000,2020-08-21 09:40:08.000000000,2020-08-21 09:37:16.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 16:23:37.000000000', 'files': ['playbooks/roles/bifrost-cloud-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/29087d0d702ce3fd34d6f684fa691dca0cff3be4', 'message': 'dynamic: always use clouds.yaml when it is available\n\nCurrently it is ignored when noauth_mode is true (the default).\n\nChange-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9\n(cherry picked from commit d203955c28db557efdc2ab91cfd4ef3413e7b785)\n'}]",0,746978,29087d0d702ce3fd34d6f684fa691dca0cff3be4,11,4,1,10239,,,0,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
(cherry picked from commit d203955c28db557efdc2ab91cfd4ef3413e7b785)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/746978/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-cloud-config/tasks/main.yml'],1,29087d0d702ce3fd34d6f684fa691dca0cff3be4,auth-bugfix/8.3,"- name: ""If in noauth mode and no clouds.yaml, unset authentication parameters."" set_fact: auth_type: None auth: {} when: - auth is undefined - noauth_mode | bool # FIXME(dtantsur): the ironic modules hardcode None and ""None"" as valid values, # while ""none"" does not trigger handling of ironic_url. - name: ""Work around a bug in the ansible modules."" set_fact: auth_type: None when: auth_type == 'none' ","- name: ""If in noauth mode, unset authentication parameters."" set_fact: auth_type: None auth: {} when: noauth_mode | bool ",15,6
openstack%2Fkuryr-kubernetes~master~I8e2f7d9837aaf7aad12e350b06816a088e7122df,openstack/kuryr-kubernetes,master,I8e2f7d9837aaf7aad12e350b06816a088e7122df,Fix typo,MERGED,2020-08-21 01:20:10.000000000,2020-08-21 09:39:52.000000000,2020-08-21 09:38:01.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 01:20:10.000000000', 'files': ['kuryr_cni/main.go'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b7794a30c21a1cdb9e16612b509bf432182c61cb', 'message': 'Fix typo\n\nChange-Id: I8e2f7d9837aaf7aad12e350b06816a088e7122df\n'}]",0,747317,b7794a30c21a1cdb9e16612b509bf432182c61cb,8,3,1,31835,,,0,"Fix typo

Change-Id: I8e2f7d9837aaf7aad12e350b06816a088e7122df
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/17/747317/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_cni/main.go'],1,b7794a30c21a1cdb9e16612b509bf432182c61cb,fix_typo," return errors.Wrapf(err, ""Error when reading response from kuryr-daemon: %s"", string(body))"," return errors.Wrapf(err, ""Error when reading response from kurry-daemon: %s"", string(body))",1,1
openstack%2Fvitrage~stable%2Fstein~Ifc5e9d3dfb79548bff273655ad812de507876c1c,openstack/vitrage,stable/stein,Ifc5e9d3dfb79548bff273655ad812de507876c1c,Newer clients use id and not uuid as a parameter,MERGED,2020-08-20 15:27:00.000000000,2020-08-21 09:35:41.000000000,2020-08-21 09:30:35.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2a072dcd026dff051f7beb8af061358617a2d95e', 'message': 'Newer clients use id and not uuid as a parameter\n\nmake sure it works with id as a parameter\n\nChange-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c\n'}, {'number': 2, 'created': '2020-08-21 06:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/145979f2fde2bbe06377e9b4b39bfc12d8eb0c72', 'message': 'Newer clients use id and not uuid as a parameter\n\nmake sure it works with id as a parameter\n\nChange-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c\n'}, {'number': 3, 'created': '2020-08-21 07:31:59.000000000', 'files': ['vitrage/api/controllers/v1/template.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/fc1de82c6669318bafad6e7d9da7afc4d592a9b9', 'message': 'Newer clients use id and not uuid as a parameter\n\nmake sure it works with id as a parameter\n\nChange-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c\n'}]",0,747209,fc1de82c6669318bafad6e7d9da7afc4d592a9b9,11,2,3,19134,,,0,"Newer clients use id and not uuid as a parameter

make sure it works with id as a parameter

Change-Id: Ifc5e9d3dfb79548bff273655ad812de507876c1c
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/09/747209/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/api/controllers/v1/template.py'],1,2a072dcd026dff051f7beb8af061358617a2d95e,eyalb/id, # for forward computability uuid = kwargs['uuid'] if 'uuid' in kwargs else kwargs['id'] , uuid = kwargs['uuid'],3,1
openstack%2Fbifrost~bugfix%2F8.3~Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,openstack/bifrost,bugfix/8.3,Id161e2dac0d574377d27e4560ec5f9eea66c0d3d,Update TOX_CONSTRAINTS_FILE for bugfix/8.3,MERGED,2020-08-13 15:58:38.000000000,2020-08-21 09:32:43.000000000,2020-08-21 09:26:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 15:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4b6be11e5a0e64a15f70fe7fddb815041a14af14', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/8.3\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/8.3 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id161e2dac0d574377d27e4560ec5f9eea66c0d3d\n'}, {'number': 2, 'created': '2020-08-19 08:29:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/15e50e893a0d1af22bb874826b65434eb0ae96cf', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/8.3\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id161e2dac0d574377d27e4560ec5f9eea66c0d3d\n'}]",0,746179,15e50e893a0d1af22bb874826b65434eb0ae96cf,10,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/8.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id161e2dac0d574377d27e4560ec5f9eea66c0d3d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/79/746179/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4b6be11e5a0e64a15f70fe7fddb815041a14af14,create-8.3, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.3} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.3} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.3}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fbifrost~bugfix%2F8.3~Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,openstack/bifrost,bugfix/8.3,Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc,Update .gitreview for bugfix/8.3,MERGED,2020-08-13 15:58:36.000000000,2020-08-21 09:28:39.000000000,2020-08-21 09:26:35.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 15:58:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/bbb2a7cb1fa09673556cb06c1ec8f13ff95addbe', 'message': 'Update .gitreview for bugfix/8.3\n\nChange-Id: Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc\n'}]",0,746178,bbb2a7cb1fa09673556cb06c1ec8f13ff95addbe,20,3,1,22816,,,0,"Update .gitreview for bugfix/8.3

Change-Id: Ibed331cc8a84ee0fab1807e5911b08460a4d6cbc
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/746178/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bbb2a7cb1fa09673556cb06c1ec8f13ff95addbe,create-8.3,defaultbranch=bugfix/8.3,,1,0
openstack%2Fkolla~master~I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,openstack/kolla,master,I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6,ironic-pxe: add syslinux-tftpboot on ppc64le,MERGED,2020-08-17 22:29:48.000000000,2020-08-21 09:26:11.000000000,2020-08-21 09:24:01.000000000,"[{'_account_id': 8125}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23078}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-17 22:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cbc161067d2b18a0c428a9bc2e6c42ec1022e23', 'message': 'ironic-pxe: add syslinux-tftpboot on ppc64le\n\nsyslinux-tftpboot was made installable on and shipped for ppc64le in RHEL\nand CentOS 8.1.\n\nChange-Id: I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6\n'}, {'number': 2, 'created': '2020-08-18 17:48:12.000000000', 'files': ['docker/ironic/ironic-pxe/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f64ecd98e8df26589b85b5b7445d5e0eca8ee15a', 'message': 'ironic-pxe: add syslinux-tftpboot on ppc64le\n\nsyslinux-tftpboot was made installable on and shipped for ppc64le in RHEL\nand CentOS 8.1.\n\nChange-Id: I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6\n'}]",1,746611,f64ecd98e8df26589b85b5b7445d5e0eca8ee15a,16,6,2,32322,,,0,"ironic-pxe: add syslinux-tftpboot on ppc64le

syslinux-tftpboot was made installable on and shipped for ppc64le in RHEL
and CentOS 8.1.

Change-Id: I2135d6477d07e8786b81e6e3ea9f3367fc5e3ec6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/11/746611/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ironic/ironic-pxe/Dockerfile.j2'],1,7cbc161067d2b18a0c428a9bc2e6c42ec1022e23,ironic-pxe-multi-arch," {% if base_arch in ['x86_64','ppc64le'] %}", {% if base_arch == 'x86_64' %},1,1
openstack%2Fopenstack-ansible-os_octavia~master~I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,openstack/openstack-ansible-os_octavia,master,I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc,Use the utility host for db setup tasks,MERGED,2020-08-20 16:31:09.000000000,2020-08-21 09:24:56.000000000,2020-08-21 09:22:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-20 16:31:09.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7fb7f1ba753e0c146602839ec5f2a676d93830f5', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc\n'}]",0,747248,7fb7f1ba753e0c146602839ec5f2a676d93830f5,8,3,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I0bd9a36b69fb2eb388b0e23ed1fb52644d7ba4bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/48/747248/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,7fb7f1ba753e0c146602839ec5f2a676d93830f5,bind-to-mgmt,"octavia_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" octavia_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((octavia_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""octavia_galera_port: 3306","octavia_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fkolla-ansible~stable%2Ftrain~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,stable/train,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-19 18:43:53.000000000,2020-08-21 09:16:45.000000000,2020-08-21 09:13:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 18:43:53.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f22643ff5ecab957229af4820a82b52fbce7ad0e', 'message': 'CI: enable Ansible SSH pipelining\n\nThis should improve performance of CI jobs.\n\nChange-Id: I729862b89b4fe65cbb7f852fac06741b636e4939\n(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)\n'}]",0,747021,f22643ff5ecab957229af4820a82b52fbce7ad0e,8,4,1,30491,,,0,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
(cherry picked from commit 9fac359bf4ec1374ba84ff5990f3ef74454d8c07)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/747021/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,f22643ff5ecab957229af4820a82b52fbce7ad0e,, [ssh_connection] pipelining = True,,3,0
openstack%2Fdevstack~stable%2Fussuri~I5344ecf519e1a79091b6158c2d711d09b21fae0c,openstack/devstack,stable/ussuri,I5344ecf519e1a79091b6158c2d711d09b21fae0c,Use python3-mod-wsgi instead of mod_wsgi on CentOS8,MERGED,2020-08-17 19:42:18.000000000,2020-08-21 09:11:23.000000000,2020-08-21 09:08:52.000000000,"[{'_account_id': 5689}, {'_account_id': 6469}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 26106}, {'_account_id': 31737}]","[{'number': 1, 'created': '2020-08-17 19:42:18.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/96c2aa13fe9345bef31ef053faae334e2663a509', 'message': 'Use python3-mod-wsgi instead of mod_wsgi on CentOS8\n\nThis fixes a stack.sh execution error on CentOS8. We should use\npython3-mod_wsgi instead of mod_wsgi since mod_wsgi is replaced by\npython3-mod_wsgi. The following change may affect this issue.\nhttps://git.centos.org/rpms/mod_wsgi/c/4a746b53e9e3fef74b227e016e785449160871b8?branch=c8s\n\nChange-Id: I5344ecf519e1a79091b6158c2d711d09b21fae0c\nCloses-Bug: #1885645\n(cherry picked from commit 1e26508983a1ebf2c23560395ffca8b1f6f79462)\n'}]",0,746590,96c2aa13fe9345bef31ef053faae334e2663a509,17,8,1,26106,,,0,"Use python3-mod-wsgi instead of mod_wsgi on CentOS8

This fixes a stack.sh execution error on CentOS8. We should use
python3-mod_wsgi instead of mod_wsgi since mod_wsgi is replaced by
python3-mod_wsgi. The following change may affect this issue.
https://git.centos.org/rpms/mod_wsgi/c/4a746b53e9e3fef74b227e016e785449160871b8?branch=c8s

Change-Id: I5344ecf519e1a79091b6158c2d711d09b21fae0c
Closes-Bug: #1885645
(cherry picked from commit 1e26508983a1ebf2c23560395ffca8b1f6f79462)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/746590/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,96c2aa13fe9345bef31ef053faae334e2663a509,bug/1885645-stable/ussuri, install_package httpd python3-mod_wsgi, install_package httpd mod_wsgi,1,1
openstack%2Fopenstack-ansible-os_trove~master~I4f469df19bb371b0d38a6438a05054cd21152abd,openstack/openstack-ansible-os_trove,master,I4f469df19bb371b0d38a6438a05054cd21152abd,Use the utility host for db setup tasks,MERGED,2020-08-20 16:46:31.000000000,2020-08-21 09:04:00.000000000,2020-08-21 09:01:47.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-20 16:46:31.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/653aeffecf9aba40433cf7674cdf881d6b350d3a', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I4f469df19bb371b0d38a6438a05054cd21152abd\n'}]",0,747253,653aeffecf9aba40433cf7674cdf881d6b350d3a,8,3,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I4f469df19bb371b0d38a6438a05054cd21152abd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/53/747253/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,653aeffecf9aba40433cf7674cdf881d6b350d3a,bind-to-mgmt,"trove_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" trove_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((trove_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""trove_galera_port: 3306 trove_galera_connection_string: ""mysql+pymysql://{{ trove_galera_user}}:{{ trove_galera_password }}@{{ trove_galera_address }}:{{ trove_galera_port }}/{{ trove_galera_database_name }}?charset=utf8{% if trove_galera_use_ssl | bool %}&ssl_ca={{ trove_galera_ssl_ca_cert }}{% endif %}""","trove_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""trove_galera_connection_string: ""mysql+pymysql://{{ trove_galera_user}}:{{ trove_galera_password }}@{{ trove_galera_address }}/{{ trove_galera_database_name }}?charset=utf8{% if trove_galera_use_ssl | bool %}&ssl_ca={{ trove_galera_ssl_ca_cert }}{% endif %}""",13,2
openstack%2Fkolla-ansible~stable%2Ftrain~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/train,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:30.000000000,2020-08-21 09:00:29.000000000,2020-08-21 08:57:26.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-17 16:10:30.000000000', 'files': ['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/421246a338bedf48c377e8e818848c19a8d556fe', 'message': 'Add support to use bifrost-deploy behind proxy\n\nChange-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151\nDepends-On: https://review.opendev.org/#/c/720338\n(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)\n'}]",0,746558,421246a338bedf48c377e8e818848c19a8d556fe,10,4,1,30491,,,0,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/746558/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml']",2,421246a338bedf48c377e8e818848c19a8d556fe,bifrost-deploy-proxy-stable/ussuri-stable/train,--- fixes: - | Add support to use bifrost-deploy behind proxy. It uses existing container_proxy variable. ,,6,0
openstack%2Fcharm-nova-cloud-controller~master~Ia6f14a98ce3e5649f290561f59d691ded3d19177,openstack/charm-nova-cloud-controller,master,Ia6f14a98ce3e5649f290561f59d691ded3d19177,Set up nova-scheduler processes based on worker-multiplier,MERGED,2020-07-31 16:20:39.000000000,2020-08-21 08:59:44.000000000,2020-08-21 08:59:44.000000000,"[{'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 16:20:39.000000000', 'files': ['templates/train/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/dde75693c71fd23ae85b8d3f1ae2dfa685df3170', 'message': 'Set up nova-scheduler processes based on worker-multiplier\n\nUpstream Nova introduced multiple scheduler support in Rocky. Apply the\nnumber of scheduler workers based on worker-multiplier so users can\ncontrol resource consumption instead of having the same number of\nworkers with the available CPU threads.\n\nChange-Id: Ia6f14a98ce3e5649f290561f59d691ded3d19177\nCloses-Bug: #1889756\n'}]",0,744214,dde75693c71fd23ae85b8d3f1ae2dfa685df3170,13,4,1,8108,,,0,"Set up nova-scheduler processes based on worker-multiplier

Upstream Nova introduced multiple scheduler support in Rocky. Apply the
number of scheduler workers based on worker-multiplier so users can
control resource consumption instead of having the same number of
workers with the available CPU threads.

Change-Id: Ia6f14a98ce3e5649f290561f59d691ded3d19177
Closes-Bug: #1889756
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/14/744214/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/rocky/nova.conf']",2,dde75693c71fd23ae85b8d3f1ae2dfa685df3170,bug/1889756,workers = {{ workers }} ,,4,0
openstack%2Fneutron~master~I0f3cb6f534072e166610b417059acbe89302473a,openstack/neutron,master,I0f3cb6f534072e166610b417059acbe89302473a,[ovn]: gracefully handle logical switch ports with tag set to None,MERGED,2020-07-23 23:08:01.000000000,2020-08-21 08:58:57.000000000,2020-07-24 18:09:11.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-23 23:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2594453fd84be37d6ad8c24345f9a2eb8462cec', 'message': '[ovn]: gracefully handle logical switch ports with tag set to None\n\nAddLSwitchPortCommand takes kwargs as columns and tag is one of them.\nIt is possible that tag is provided with the value None and that is\nnot valid. The proposed change gracefully handles such cases so the\ntransaction is not aborted.\n\nChange-Id: I0f3cb6f534072e166610b417059acbe89302473a\nCloses-Bug: #1888736\n'}, {'number': 2, 'created': '2020-07-24 09:38:11.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe440bdd6be190588ec4310ef9630285c0acfec6', 'message': '[ovn]: gracefully handle logical switch ports with tag set to None\n\nAddLSwitchPortCommand takes kwargs as columns and tag is one of them.\nIt is possible that tag is provided with the value None and that is\nnot valid. The proposed change gracefully handles such cases so the\ntransaction is not aborted.\n\nChange-Id: I0f3cb6f534072e166610b417059acbe89302473a\nCloses-Bug: #1888736\n'}]",4,742758,fe440bdd6be190588ec4310ef9630285c0acfec6,23,11,2,11952,,,0,"[ovn]: gracefully handle logical switch ports with tag set to None

AddLSwitchPortCommand takes kwargs as columns and tag is one of them.
It is possible that tag is provided with the value None and that is
not valid. The proposed change gracefully handles such cases so the
transaction is not aborted.

Change-Id: I0f3cb6f534072e166610b417059acbe89302473a
Closes-Bug: #1888736
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/742758/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'],1,e2594453fd84be37d6ad8c24345f9a2eb8462cec,," port.tag = self.columns.pop('tag', []) or []",,1,0
openstack%2Fopenstack-ansible-os_tacker~master~I065c079fb95f299f90b51e22e8aad42fc5dbb618,openstack/openstack-ansible-os_tacker,master,I065c079fb95f299f90b51e22e8aad42fc5dbb618,Use the utility host for db setup tasks,MERGED,2020-08-20 16:42:06.000000000,2020-08-21 08:52:51.000000000,2020-08-21 08:50:43.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-20 16:42:06.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/2e04617116a0f0fe96e8b23d278fb7afbf13d28d', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: I065c079fb95f299f90b51e22e8aad42fc5dbb618\n'}]",0,747252,2e04617116a0f0fe96e8b23d278fb7afbf13d28d,8,3,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: I065c079fb95f299f90b51e22e8aad42fc5dbb618
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/52/747252/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,2e04617116a0f0fe96e8b23d278fb7afbf13d28d,bind-to-mgmt,"tacker_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" tacker_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((tacker_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""tacker_galera_port: 3306","tacker_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Fkuryr-kubernetes~master~Ie82a153c89119fc8f70071353c8e46b27d643935,openstack/kuryr-kubernetes,master,Ie82a153c89119fc8f70071353c8e46b27d643935,NP: Don't add pods without IP to affectedPods,MERGED,2020-08-19 15:32:45.000000000,2020-08-21 08:49:05.000000000,2020-08-21 08:46:56.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-08-19 15:32:45.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dabb2a70ea46b5e8accee44a69a22c97bdb028d7', 'message': ""NP: Don't add pods without IP to affectedPods\n\nWe use affectedPods to comfortably track the list of the pods that the\nNetworkPolicy indirectly targets (i.e. matches their ports). It doesn't\nmake sense to put pods without IP there, as well as it is impossible now\nwith new KuryrNetworkPolicy CRD.\n\nWe haven't seen that problem on previous CRD as we've used a weird\nformat to save that info: {'<pod-ip>': '<pod-namespace'}. If <pod-ip>\nwas None, json.dumps serialized that into {'null': '<pod-namespace>'},\nwhich was as happily accepted by K8s API as it was utterly useless.\n\nThis commit makes sure we only put pods with IP on affectedPods field.\nPlease also note that we already have protection in place to make sure\nwe won't create rules for pods without IP (those rules would effectively\nopen too much traffic), so that is already covered.\n\nChange-Id: Ie82a153c89119fc8f70071353c8e46b27d643935\nCloses-Bug: 1892208\n""}]",0,746961,dabb2a70ea46b5e8accee44a69a22c97bdb028d7,16,6,1,11600,,,0,"NP: Don't add pods without IP to affectedPods

We use affectedPods to comfortably track the list of the pods that the
NetworkPolicy indirectly targets (i.e. matches their ports). It doesn't
make sense to put pods without IP there, as well as it is impossible now
with new KuryrNetworkPolicy CRD.

We haven't seen that problem on previous CRD as we've used a weird
format to save that info: {'<pod-ip>': '<pod-namespace'}. If <pod-ip>
was None, json.dumps serialized that into {'null': '<pod-namespace>'},
which was as happily accepted by K8s API as it was utterly useless.

This commit makes sure we only put pods with IP on affectedPods field.
Please also note that we already have protection in place to make sure
we won't create rules for pods without IP (those rules would effectively
open too much traffic), so that is already covered.

Change-Id: Ie82a153c89119fc8f70071353c8e46b27d643935
Closes-Bug: 1892208
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/746961/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy.py']",2,dabb2a70ea46b5e8accee44a69a22c97bdb028d7,bug/1892208, if not ip: continue,,3,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ife52b5986de15b6e34bff7f9dc7be2199efa5650,openstack/puppet-openstack_spec_helper,stable/train,Ife52b5986de15b6e34bff7f9dc7be2199efa5650,Remove Puppet upper cap,MERGED,2020-07-22 02:31:26.000000000,2020-08-21 08:45:37.000000000,2020-08-21 08:45:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 02:31:26.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/bdc5deac82e780561c4aca195434fad7537389a5', 'message': 'Remove Puppet upper cap\n\nThe bug is fixed in later versions so we dont\nneed to cap to this upper version anymore.\n\nSee [1] on how it was originally.\n\n[1] https://github.com/openstack/puppet-openstack_spec_helper/commit/63737d7f89dfdb300463a630305642115be92b8a\n\nChange-Id: Ife52b5986de15b6e34bff7f9dc7be2199efa5650\n(cherry picked from commit 704358fe69c2d61a6150ed2a24af965e493abf85)\n'}]",0,742331,bdc5deac82e780561c4aca195434fad7537389a5,9,4,1,9816,,,0,"Remove Puppet upper cap

The bug is fixed in later versions so we dont
need to cap to this upper version anymore.

See [1] on how it was originally.

[1] https://github.com/openstack/puppet-openstack_spec_helper/commit/63737d7f89dfdb300463a630305642115be92b8a

Change-Id: Ife52b5986de15b6e34bff7f9dc7be2199efa5650
(cherry picked from commit 704358fe69c2d61a6150ed2a24af965e493abf85)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/31/742331/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,bdc5deac82e780561c4aca195434fad7537389a5,, puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['>= 5.5']," # TODO(tobias-urdin): Remove <= 6.4.2 cap when 6.6.0 is released because of this bug in 6.5.0 # https://tickets.puppetlabs.com/browse/PUP-9794 puppetversion = ENV.key?('PUPPET_GEM_VERSION') ? ENV['PUPPET_GEM_VERSION'] : ['>= 5.5', '<= 6.4.2']",1,3
openstack%2Freleases~master~I9c538ff9996ca95b908b733326ed6872049b250c,openstack/releases,master,I9c538ff9996ca95b908b733326ed6872049b250c,Release pbr 5.5.0,ABANDONED,2020-08-20 16:27:32.000000000,2020-08-21 08:43:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-20 16:27:32.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c6abf247652d4451a5845ea98c685a5a64c7e77d', 'message': 'Release pbr 5.5.0\n\nMany patches have been merged recently it could be worth to make a new\nrelease for them.\n\nChange-Id: I9c538ff9996ca95b908b733326ed6872049b250c\n'}]",0,747244,c6abf247652d4451a5845ea98c685a5a64c7e77d,4,1,1,28522,,,0,"Release pbr 5.5.0

Many patches have been merged recently it could be worth to make a new
release for them.

Change-Id: I9c538ff9996ca95b908b733326ed6872049b250c
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/747244/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,c6abf247652d4451a5845ea98c685a5a64c7e77d,oslo-independent-2020-08-20, - version: 5.5.0 projects: - repo: openstack/pbr hash: 9aee4f71860ed557a0c873247530fb911292d590,,4,0
openstack%2Fkolla-ansible~stable%2Fstein~If90c2dfd32c8bc50671f6dd38e5a82b434c07151,openstack/kolla-ansible,stable/stein,If90c2dfd32c8bc50671f6dd38e5a82b434c07151,Add support to use bifrost-deploy behind proxy,MERGED,2020-08-17 16:10:37.000000000,2020-08-21 08:35:00.000000000,2020-08-21 08:32:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-17 16:10:37.000000000', 'files': ['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/50947b418478c7bd37dc5a5e64a2eaed03cc1776', 'message': 'Add support to use bifrost-deploy behind proxy\n\nChange-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151\nDepends-On: https://review.opendev.org/#/c/720338\n(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)\n'}]",0,746559,50947b418478c7bd37dc5a5e64a2eaed03cc1776,9,4,1,30491,,,0,"Add support to use bifrost-deploy behind proxy

Change-Id: If90c2dfd32c8bc50671f6dd38e5a82b434c07151
Depends-On: https://review.opendev.org/#/c/720338
(cherry picked from commit 9da39345add7a28f05c7d6d30d3296fbdec18042)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/746559/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/start.yml', 'releasenotes/notes/bifrost-deploy-behind-proxy-e41f84e8d49a9ddf.yaml']",2,50947b418478c7bd37dc5a5e64a2eaed03cc1776,bifrost-deploy-proxy-stable/ussuri-stable/train-stable/stein,--- fixes: - | Add support to use bifrost-deploy behind proxy. It uses existing container_proxy variable. ,,6,0
openstack%2Fopenstack-ansible-os_zun~master~Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,openstack/openstack-ansible-os_zun,master,Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962,Use the utility host for db setup tasks,MERGED,2020-08-20 16:51:54.000000000,2020-08-21 08:28:40.000000000,2020-08-21 08:26:34.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-20 16:51:54.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/07d78458207156378406db2f8cb7a6140c047b47', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962\n'}]",0,747255,07d78458207156378406db2f8cb7a6140c047b47,8,3,1,28619,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic57de36d5d240e6a5dda6e1794aa04d1f77fb962
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/55/747255/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,07d78458207156378406db2f8cb7a6140c047b47,bind-to-mgmt,"zun_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" zun_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((zun_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""zun_galera_port: 3306","zun_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Ftempest~master~Icb871c2b106ee0b9770b89d15c54bef65297977c,openstack/tempest,master,Icb871c2b106ee0b9770b89d15c54bef65297977c,Fix and unskip test_list_servers_filtered_by_ip_regex,MERGED,2020-06-23 14:02:14.000000000,2020-08-21 08:25:47.000000000,2020-08-21 08:22:59.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-06-23 14:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5ce260c1924a13a238f133ca75f2cd38ce79bbc', 'message': 'Fix and unskip test_list_servers_filtered_by_ip_regex\n\nThe test assumes that all ip addresses will be allocated in a very\nspecific and static way. The patch improves the calculation of the\nip regex.\n\nChange-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c\nCloses-Bug: #1540645\n'}, {'number': 2, 'created': '2020-06-24 14:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/67d3e03f21c9a48ec522c9b179d481153334c647', 'message': 'Fix and unskip test_list_servers_filtered_by_ip_regex\n\nThe test assumes that all ip addresses will be allocated in a very\nspecific and static way. The patch improves the calculation of the\nip regex.\n\nChange-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c\nCloses-Bug: #1540645\n'}, {'number': 3, 'created': '2020-07-10 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cdc899afcc69c9b28bc0e12c96f5034e1822b398', 'message': 'Fix and unskip test_list_servers_filtered_by_ip_regex\n\nThe test assumes that all ip addresses will be allocated in a very\nspecific and static way. The patch improves the calculation of the\nip regex.\n\nChange-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c\nCloses-Bug: #1540645\n'}, {'number': 4, 'created': '2020-08-11 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ebed35e04375e19b933268459ff77559f2c29d3b', 'message': 'Fix and unskip test_list_servers_filtered_by_ip_regex\n\nThe test assumes that all ip addresses will be allocated in a very\nspecific and static way. The patch improves the calculation of the\nip regex.\n\nChange-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c\nCloses-Bug: #1540645\n'}, {'number': 5, 'created': '2020-08-17 09:31:56.000000000', 'files': ['tempest/api/compute/servers/test_list_server_filters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a07a0e51f004f79d1ddbc448371c55cfb87ce40', 'message': 'Fix and unskip test_list_servers_filtered_by_ip_regex\n\nThe test assumes that all ip addresses will be allocated in a very\nspecific and static way. The patch improves the calculation of the\nip regex.\n\nChange-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c\nCloses-Bug: #1540645\n'}]",16,737545,0a07a0e51f004f79d1ddbc448371c55cfb87ce40,39,9,5,22873,,,0,"Fix and unskip test_list_servers_filtered_by_ip_regex

The test assumes that all ip addresses will be allocated in a very
specific and static way. The patch improves the calculation of the
ip regex.

Change-Id: Icb871c2b106ee0b9770b89d15c54bef65297977c
Closes-Bug: #1540645
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/737545/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_list_server_filters.py'],1,e5ce260c1924a13a238f133ca75f2cd38ce79bbc,," # determine the common ip part of the 3 created instances by finding # how many whole octets are covered by the mask mask = CONF.network.project_network_mask_bits ocs = str(int(mask) / 8).split('.')[0] # crop the network to the first whole octets covered by the mask ip = '.'.join(addr_spec['addr'].split('.', int(ocs))[:-1]) + ""."" msg = 'the test is not for ipv6 addresses' raise self.skipException(msg)"," @decorators.skip_because(bug=""1540645"") ip = addr_spec['addr'][0:-3] params = {'ip6': ip}",8,3
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,stable/train,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 18:40:54.000000000,2020-08-21 08:21:30.000000000,2020-08-21 08:18:51.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-18 18:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/57f2111be8198c22751d209c3c99ea66050d1f6a', 'message': ""Limit ip_version when resolving public_host and admin_host\n\nUse the the local_ip config option to filter results to a single\nip version when resolving public_host and admin_host to ip\naddresses.\n\nWhen nameservers return result for both IPv4 and IPv6 we currently\nfail, due to multiple IP's for the host.\n\nChange-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e\nRelated-Bug: #1763776\nRelated: RHBZ#1868910\n(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)\n""}, {'number': 2, 'created': '2020-08-20 11:52:57.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1399785a59a8e08b2228c957e8aeabad104a7101', 'message': ""Limit ip_version when resolving public_host and admin_host\n\nUse the the local_ip config option to filter results to a single\nip version when resolving public_host and admin_host to ip\naddresses.\n\nWhen nameservers return result for both IPv4 and IPv6 we currently\nfail, due to multiple IP's for the host.\n\nChange-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e\nRelated-Bug: #1763776\nRelated: RHBZ#1868910\n(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)\n""}]",0,746786,1399785a59a8e08b2228c957e8aeabad104a7101,11,4,2,3153,,,0,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/746786/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py']",2,57f2111be8198c22751d209c3c99ea66050d1f6a,RHBZ#1868910-stable/train,"def get_single_ip(host, allow_loopback=False, ip_version=4): type = socket.AF_INET6 if ip_version == 6 else socket.AF_INET ips = get_host_ips(host, type=type)","def get_single_ip(host, allow_loopback=False): ips = get_host_ips(host)",11,7
openstack%2Fec2-api~stable%2Fstein~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/stein,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:35:28.000000000,2020-08-21 08:03:22.000000000,2020-08-21 07:57:10.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/51166f9ecde56d20ec74bcb15ce88f68da954c1f', 'message': 'Fix AMI image registration\n\nChange-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1\n'}, {'number': 2, 'created': '2020-08-21 07:28:08.000000000', 'files': ['ec2api/api/image.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c0be8589784a1500b2cdf31eca69fc52b6f1a865', 'message': 'Fix AMI image registration\n\nChange-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1\n'}]",0,747217,c0be8589784a1500b2cdf31eca69fc52b6f1a865,18,2,2,10234,,,0,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/17/747217/2 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/image.py'],1,51166f9ecde56d20ec74bcb15ce88f68da954c1f,," with open(enc_filename, 'wb') as combined: for filename in parts: with open(filename, ""rb"") as part: combined.write(part.read()) with open(unz_filename, ""rb"") as image_file: with open(local_filename, 'wb') as f: f.write(body.read()) key = _decrypt_text(encrypted_key).decode() iv = _decrypt_text(encrypted_iv).decode()"," with open(enc_filename, 'w') as combined: for filename in parts: with open(filename) as part: shutil.copyfileobj(part, combined) with open(unz_filename) as image_file: with open(local_filename, 'w') as f: if isinstance(body, six.string_types): f.write(body) else: # TODO(andrey-mp): check big objects f.write(body.read()) f.close() key = _decrypt_text(encrypted_key) iv = _decrypt_text(encrypted_iv)",8,13
openstack%2Fkarbor~master~Id481506ee49ab6440cc908b912dcbda5be5f0e0b,openstack/karbor,master,Id481506ee49ab6440cc908b912dcbda5be5f0e0b,[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs,ABANDONED,2020-08-11 02:00:59.000000000,2020-08-21 07:49:57.000000000,,"[{'_account_id': 10459}, {'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29729}]","[{'number': 1, 'created': '2020-08-11 02:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7a51a59b67c784d3b717242c57392948c996c202', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 2, 'created': '2020-08-11 02:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/1b468d22abf238659f9c2a9d8f085c1e91e05424', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 3, 'created': '2020-08-11 02:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/37f2e3c2ec96267160274241e779b15aab428fdc', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 4, 'created': '2020-08-11 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/33a05c83bd62744e95f6245f46cc1047c5c29877', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 5, 'created': '2020-08-11 09:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f45f8956edf05617806fb04af491b6010ec2d05f', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 6, 'created': '2020-08-12 04:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7b1abd618441fe104abb31443e712585e85f1a10', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 7, 'created': '2020-08-12 05:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/df8d3c28d54fb6de7f8c7034817c9c9492ea890f', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}, {'number': 8, 'created': '2020-08-12 08:32:08.000000000', 'files': ['playbooks/legacy/karbor-dsvm-fullstack/post.yaml', 'karbor/tests/fullstack/karbor_objects.py', 'karbor/common/karbor_keystone_plugin.py', 'playbooks/legacy/karbor-dsvm-fullstack/run.yaml', 'test-requirements.txt', 'karbor/tests/fullstack/test_scheduled_operations.py', '.zuul.yaml', 'devstack/plugin.sh', 'karbor/tests/fullstack/test_protectables.py', 'karbor/api/middleware/fault.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a06ee13cd2df4da8082f7817a5c249a13cef6d58', 'message': '[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs\n\nChange-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b\n'}]",2,745614,a06ee13cd2df4da8082f7817a5c249a13cef6d58,23,4,8,29729,,,0,"[WIP] Switch legacy Zuul jobs to native Zuul v3 jobs

Change-Id: Id481506ee49ab6440cc908b912dcbda5be5f0e0b
",git fetch https://review.opendev.org/openstack/karbor refs/changes/14/745614/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/karbor-dsvm-fullstack/post.yaml', 'playbooks/legacy/karbor-dsvm-fullstack/run.yaml', 'test-requirements.txt', '.zuul.yaml', 'devstack/plugin.sh']",5,7a51a59b67c784d3b717242c57392948c996c202,," run_process karbor-api ""$(which uwsgi) --ini $KARBOR_API_UWSGI_CONF"" """" oslo-config-generator --config-file etc/oslo-config-generator/karbor.conf --output-file etc/karbor.conf.sample"," run_process karbor-api ""$KARBOR_BIN_DIR/uwsgi --ini $KARBOR_API_UWSGI_CONF"" """" tox -e genconfig",36,182
openstack%2Ftripleo-ansible~master~I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,openstack/tripleo-ansible,master,I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8,Use latest ansible-lint,MERGED,2020-08-20 10:40:14.000000000,2020-08-21 07:47:19.000000000,2020-08-21 07:47:19.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-08-20 10:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0af05e1da4d045bfef8a09c1e196952b44616c21', 'message': ""Use ansible-lint from master\n\nIt seems like 4.3 is broken[1] and <4.3 does not have the fix[2]\nto bypass RepresenterError when using to_yaml filter. Let's use\nmaster till a new ansible-lint release is available.\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n[2] https://github.com/ansible/ansible-lint/pull/518\n\nCloses-Bug: #1892056\nChange-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8\n""}, {'number': 2, 'created': '2020-08-21 05:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fba4984073bf059584cf6b44a639b406c5be5368', 'message': 'Use latest ansible-lint\n\nwe need fix[1] to bypass RepresenterError when using to_yaml filter.\n\nAlso ignores some newly added flake8 rules that would be fixed in a\nsubsequent patch.\n\n[1] https://github.com/ansible/ansible-lint/pull/518\n\nCloses-Bug: #1892056\nChange-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8\n'}, {'number': 3, 'created': '2020-08-21 06:16:36.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9404c783b497a2fd36480ab6f5abf5cdf889ef0d', 'message': 'Use latest ansible-lint\n\nwe need fix[1] to bypass RepresenterError when using to_yaml filter.\n\nThis patch also migrates to pycqa/flake8 hooks repo for missing flake8.\n\nAdds missing flake8 and ignores some newly added flake8 rules that would\nbe fixed in subsequent patches.\n\n[1] https://github.com/ansible/ansible-lint/pull/518\n\nCloses-Bug: #1892056\nChange-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8\n'}]",3,747139,9404c783b497a2fd36480ab6f5abf5cdf889ef0d,15,3,3,8833,,,0,"Use latest ansible-lint

we need fix[1] to bypass RepresenterError when using to_yaml filter.

This patch also migrates to pycqa/flake8 hooks repo for missing flake8.

Adds missing flake8 and ignores some newly added flake8 rules that would
be fixed in subsequent patches.

[1] https://github.com/ansible/ansible-lint/pull/518

Closes-Bug: #1892056
Change-Id: I40b5ef703a19f7b839ff6f263140ca3cf5c4dfd8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/747139/3 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,0af05e1da4d045bfef8a09c1e196952b44616c21,, rev: master, rev: v4.1.1a2,1,1
openstack%2Fpython-glanceclient~master~I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,openstack/python-glanceclient,master,I88e1652fa2f99d475efd7489dcb3c3c1bb06f015,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:23.000000000,2020-08-21 07:06:54.000000000,2020-08-21 07:04:48.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 00:31:23.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/04d2fa705869e4ad2b1aab763290743081d0a590', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I88e1652fa2f99d475efd7489dcb3c3c1bb06f015\n'}]",0,727533,04d2fa705869e4ad2b1aab763290743081d0a590,9,4,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I88e1652fa2f99d475efd7489dcb3c3c1bb06f015
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/33/727533/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,04d2fa705869e4ad2b1aab763290743081d0a590,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fmanila~master~Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,openstack/manila,master,Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35,Update access rules documentation for user guide,MERGED,2020-08-06 19:45:55.000000000,2020-08-21 06:51:10.000000000,2020-08-21 00:13:53.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 19:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/945c8b953ca4036f2fcb6859644d638890692ee6', 'message': ""Update access rules documentation for user guide\n\nUpdates user guide documentation to provide metadata info\nto an access rules. Also add two new operations for access\nrule metadata: 'access-metadata set' and 'access-metadata unset'\n\nChange-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35\nCloses-Bug: #1782859\n""}, {'number': 2, 'created': '2020-08-20 22:55:43.000000000', 'files': ['doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/e2e764d9763b9367321a4c7f14b0150f67f3b08e', 'message': ""Update access rules documentation for user guide\n\nUpdates user guide documentation to provide metadata info\nto an access rules. Also add two new operations for access\nrule metadata: 'access-metadata set' and 'access-metadata unset'\n\nChange-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35\nCloses-Bug: #1782859\n""}]",2,745210,e2e764d9763b9367321a4c7f14b0150f67f3b08e,19,6,2,30002,,,0,"Update access rules documentation for user guide

Updates user guide documentation to provide metadata info
to an access rules. Also add two new operations for access
rule metadata: 'access-metadata set' and 'access-metadata unset'

Change-Id: Ib6008c9dd4284b8c3434ffce61fb74f1db6c3d35
Closes-Bug: #1782859
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/745210/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/create-and-manage-shares.rst'],1,945c8b953ca4036f2fcb6859644d638890692ee6,bug/1782859," $ manila access-allow myshare ip 10.0.0.0/24 --metadata key1=value1 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | rw | | access_to | 10.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1'} | .. note:: Since API version 2.45, metadata can be added, removed and updated for share access rules in a form of key=value pairs. +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 20.0.0.0/24 | | access_type | ip | | state | queued_to_apply | | access_key | None | | created_at | 2016-03-24T14:54:11.000000 | | updated_at | None | | metadata | {} | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | id | access_type | access_to | access_level | state | access_key | created_at | updated_at | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | None | 2016-03-24T14:51:36.000000 | None | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | None | 2016-03-24T14:54:11.000000 | None | +--------------------------------------+-------------+-------------+--------------+--------+------------+----------------------------+------------+Update access rules metadata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #. Add a new metadata. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 set key2=value2 $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key1': 'value1', 'key2': 'value2'} | +--------------+--------------------------------------+ #. Remove a metadata key value. .. code-block:: console $ manila access-metadata 0c8470ca-0d77-490c-9e71-29e1f453bf97 unset key $ manila access-show 0c8470ca-0d77-490c-9e71-29e1f453bf97 +--------------+--------------------------------------+ | Property | Value | +--------------+--------------------------------------+ | id | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_level | ro | | access_to | 10.0.0.0/24 | | access_type | ip | | state | active | | access_key | None | | created_at | 2016-03-24T14:51:36.000000 | | updated_at | None | | metadata | {'key2': 'value2'} | +--------------+--------------------------------------+ ", $ manila access-allow myshare ip 10.0.0.0/24 | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 10.0.0.0/24 | | access_level | rw | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | +--------------------------------------+-------------+-------------+--------------+--------+ | share_id | 8d8b854b-ec32-43f1-acc0-1b2efa7c3400 | | access_type | ip | | access_to | 20.0.0.0/24 | | access_level | ro | | state | new | +--------------------------------------+-------------+-------------+--------------+--------+ | id | access_type | access_to | access_level | state | +--------------------------------------+-------------+-------------+--------------+--------+ | 0c8470ca-0d77-490c-9e71-29e1f453bf97 | ip | 10.0.0.0/24 | rw | active | | f151ad17-654d-40ce-ba5d-98a5df67aadc | ip | 20.0.0.0/24 | ro | active | +--------------------------------------+-------------+-------------+--------------+--------+,80,22
openstack%2Fglance_store~stable%2Fussuri~Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,openstack/glance_store,stable/ussuri,Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4,zuul: glance_store-src-ceph-tempest replaces a legacy job,MERGED,2020-07-31 12:29:25.000000000,2020-08-21 06:50:00.000000000,2020-08-21 06:45:00.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 12:29:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bbd97858d9c5b8d2ddc14accb28fec855254c926', 'message': 'zuul: glance_store-src-ceph-tempest replaces a legacy job\n\nIt replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store\nwhich is defined inside openstack-zuul-jobs.\nIt is really a variant of the devstack-plugin-ceph-tempest job.\n\nRemove .zuul.yaml from the ignored file list as in other jobs.\n\nChange-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4\n(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)\n'}]",0,744148,bbd97858d9c5b8d2ddc14accb28fec855254c926,8,3,1,10459,,,0,"zuul: glance_store-src-ceph-tempest replaces a legacy job

It replaces legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
which is defined inside openstack-zuul-jobs.
It is really a variant of the devstack-plugin-ceph-tempest job.

Remove .zuul.yaml from the ignored file list as in other jobs.

Change-Id: Id9bc9172560421e3ebcbb3842da367ffd9a6bfd4
(cherry picked from commit 1f50f31c14803ea2eec021b3deb287b5a9facc27)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/48/744148/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bbd97858d9c5b8d2ddc14accb28fec855254c926,native-zuulv3-migration,- job: name: glance_store-src-ceph-tempest parent: devstack-plugin-ceph-tempest-py3 description: | Runs tempest tests with the latest glance_store and the Ceph backend Former names for this job were: * legacy-tempest-dsvm-full-ceph-plugin-src-glance_store required-projects: - opendev.org/openstack/glance_store vars: tempest_test_regex: (^tempest\.(api|scenario)|(^cinder_tempest_plugin)) - glance_store-src-ceph-tempest:, - legacy-tempest-dsvm-full-ceph-plugin-src-glance_store: - ^\.zuul\.yaml$,13,2
openstack%2Ftripleo-common~stable%2Ftrain~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/train,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:05:23.000000000,2020-08-21 06:30:18.000000000,2020-08-21 06:27:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a17778ac0b0f33e1a372d028e4c27d8b79d8c9e', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nRelated-Bug: #1890798\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)\n""}, {'number': 2, 'created': '2020-08-20 21:00:51.000000000', 'files': ['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5397e9eb4fcf2c95f50049995d433bca3ea3dcf9', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nRelated-Bug: #1890798\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)\n""}]",0,746540,5397e9eb4fcf2c95f50049995d433bca3ea3dcf9,35,6,2,3153,,,0,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/746540/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml']",30,4a17778ac0b0f33e1a372d028e4c27d8b79d8c9e,train/uidgid,- run: bash /usr/local/bin/uid_gid_manage {{ tcib_user }},- run: usermod -a -G kolla {{ tcib_user }},158,29
openstack%2Fmanila~master~I8d904cb3aab4d653178948284571f471bd59ac1b,openstack/manila,master,I8d904cb3aab4d653178948284571f471bd59ac1b,Update docs for create share from snapshot in another back end,MERGED,2020-05-21 14:55:04.000000000,2020-08-21 06:23:00.000000000,2020-08-21 01:38:32.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-05-21 14:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3a1e0009d4526795c35b3f314035721072a2eed6', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n'}, {'number': 2, 'created': '2020-08-06 18:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3b67dbf0230cb70c0772f854024f17a05ed0e9d9', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n'}, {'number': 3, 'created': '2020-08-20 22:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2acb452651a106384eeb9afafec04bb5117721be', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n'}, {'number': 4, 'created': '2020-08-20 23:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/603be8c128cc1f2176d8782f28a004f0668f0d52', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n'}, {'number': 5, 'created': '2020-08-21 00:15:23.000000000', 'files': ['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/admin/shared-file-systems-snapshots.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/6b8f416e1b20b82617ecd4feff9cbc1c5d914c25', 'message': 'Update docs for create share from snapshot in another back end\n\nThis patch add some notes regarding the use of scheduler when\ncreating share from snapshot in another pool or backend.\n\nChange-Id: I8d904cb3aab4d653178948284571f471bd59ac1b\nCloses-Bug: #1878244\n'}]",14,729991,6b8f416e1b20b82617ecd4feff9cbc1c5d914c25,41,9,5,30002,,,0,"Update docs for create share from snapshot in another back end

This patch add some notes regarding the use of scheduler when
creating share from snapshot in another pool or backend.

Change-Id: I8d904cb3aab4d653178948284571f471bd59ac1b
Closes-Bug: #1878244
",git fetch https://review.opendev.org/openstack/manila refs/changes/91/729991/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/shared-file-systems-snapshots.rst'],1,3a1e0009d4526795c35b3f314035721072a2eed6,bug/1878244,"existing snapshot. Create a share from a snapshot and check whether it is available:By default, the Shared File Systems service will place the new share in the source share's pool, unless a different destination availability zone is provided by the user, using the key ``--availability-zone``. Starting from Ussuri release, a new filter and weigher were added to the scheduler to enhance the selection of a destination pool when creating shares from snapshot. Drivers that support create from snapshot across back ends must also configure the back end option ``replication_domain`` on back ends that are able copy data between each other. The use of scheduler when creating share from a snapshot must be enabled using the configuration flag ``[DEFAULT]/use_scheduler_creating_share_from_snapshot``, that is disabled by default. .. note:: When combining both ``--snapshot-id`` and ``--availability-zone`` keys, you'll need to make sure that the configuration flag ``[DEFAULT]/use_scheduler_creating_share_from_snapshot`` is enabled, or the operation will be denied when source and destination availability zones are different. ",existing snapshot. Create a share from a snapshot and check whether it is available:,23,2
openstack%2Ftripleo-validations~stable%2Fussuri~I3bec039283fe5df56771d84fff5bd5940fd149d8,openstack/tripleo-validations,stable/ussuri,I3bec039283fe5df56771d84fff5bd5940fd149d8,Allows to use custom role name for validations,MERGED,2020-08-18 06:03:48.000000000,2020-08-21 06:06:28.000000000,2020-08-20 14:51:06.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 06:03:48.000000000', 'files': ['playbooks/controller-ulimits.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/haproxy.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/stonith-exists.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/088c4a1301ea53df1ed1a99ffbca384cbeef531d', 'message': 'Allows to use custom role name for validations\n\nThe tripleo-ansible-inventory script uses the role names in order to\ngroup the different hosts.\n\nSince we can use custom roles, the fixed ""Controller"" and others aren\'t\nrelevant in such cases.\n\nAnsible allows to use parameter for the ""hosts"" value in playbooks,\nallowing us to call the validations using this command:\n\nopenstack tripleo validator run --validation haproxy \\\n  --extra-vars \'{""controller_rolename"": ""MyCustomController""}\'\n\n(or use the --extra-vars-file in order to avoid in-line JSON)\n\nThis patch also correct a non-existent group call, Database. The closest\nwe have is the ""mysql"" group in the inventory - let\'s reflect it in\norder to avoid useless warning(s).\n\nChange-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8\n(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)\n'}]",0,746635,088c4a1301ea53df1ed1a99ffbca384cbeef531d,24,6,1,28223,,,0,"Allows to use custom role name for validations

The tripleo-ansible-inventory script uses the role names in order to
group the different hosts.

Since we can use custom roles, the fixed ""Controller"" and others aren't
relevant in such cases.

Ansible allows to use parameter for the ""hosts"" value in playbooks,
allowing us to call the validations using this command:

openstack tripleo validator run --validation haproxy \
  --extra-vars '{""controller_rolename"": ""MyCustomController""}'

(or use the --extra-vars-file in order to avoid in-line JSON)

This patch also correct a non-existent group call, Database. The closest
we have is the ""mysql"" group in the inventory - let's reflect it in
order to avoid useless warning(s).

Change-Id: I3bec039283fe5df56771d84fff5bd5940fd149d8
(cherry picked from commit ec0465e481234da62d1ba673b4432e44c930f630)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/746635/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/controller-ulimits.yaml', 'playbooks/mysql-open-files-limit.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/haproxy.yaml', 'playbooks/rabbitmq-limits.yaml', 'playbooks/ovs-dpdk-pmd-cpus-check.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/controller-token.yaml', 'playbooks/nova-event-callback.yaml', 'playbooks/stonith-exists.yaml']",10,088c4a1301ea53df1ed1a99ffbca384cbeef531d,custom-roles-stable/ussuri,"- hosts: ""{{ controller_rolename | default('Controller') }}""",- hosts: Controller,14,10
openstack%2Ftripleo-validations~stable%2Fussuri~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,stable/ussuri,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-20 12:29:53.000000000,2020-08-21 06:06:08.000000000,2020-08-21 03:37:02.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 12:29:53.000000000', 'files': ['playbooks/validate-selinux.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/70b766c2f9240e75d0c62f791d47d24d8fad0a31', 'message': ""Corrected work directory for validate-selinux\n\nthe /var/log/validations directory doesn't exist on the overcloud, since\nwe don't install the validations there.\n\nCloses-Bug: #745299\nChange-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed\n(cherry picked from commit 9645db1f74b2052ca009767b3f85642dd1e6e49f)\n""}]",0,747153,70b766c2f9240e75d0c62f791d47d24d8fad0a31,11,6,1,28223,,,0,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Closes-Bug: #745299
Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
(cherry picked from commit 9645db1f74b2052ca009767b3f85642dd1e6e49f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/53/747153/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/validate-selinux.yaml'],1,70b766c2f9240e75d0c62f791d47d24d8fad0a31,validate-selinux/work-dif-stable/ussuri, validate_selinux_working_dir: /tmp, validate_selinux_working_dir: /var/log/validations,1,1
openstack%2Fglance~master~I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,openstack/glance,master,I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0,WIP: Fix race condition in copy image operation,ABANDONED,2020-06-23 18:28:53.000000000,2020-08-21 05:49:28.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 18:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a377ec1d7f20912c08568af96f93633e9b64f3c', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 2, 'created': '2020-06-24 07:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/25896684d81ac9cd47922fbeb6ae99ad45a16b5a', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 3, 'created': '2020-06-26 10:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/78cf10223969c77677e5721430a313c22aba7eee', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 4, 'created': '2020-06-26 14:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e92387393e56ef7f968641ee0c08ca4237b1237', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 5, 'created': '2020-06-26 16:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b8d704a32444b4f1bdda176477c5c7cc73019db2', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 6, 'created': '2020-06-29 06:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/03183f87af88fb84bcfc5f5a10b4be4e269752bc', 'message': 'WIP: Fix race condition in copy image operation\n\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}, {'number': 7, 'created': '2020-06-30 10:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d97a515b9d24081c493794b2db02f4c8d4e1745f', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 8, 'created': '2020-06-30 10:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/71f7ba1d1a4608dfc5826856803b0ec6eb045436', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 9, 'created': '2020-06-30 15:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3185e7578f9a3b4d525618f5644732da4cc56cf0', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 10, 'created': '2020-07-02 05:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/77fcb9c8a301f758eddeb0729fb96919408b4c19', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 11, 'created': '2020-07-03 18:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7a106523f962326a6b8272e8b24547ab5462c4ad', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 12, 'created': '2020-07-03 18:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7b2dd00e7efc3e002e37863568f30392ad9f192d', 'message': ""Fix race condition in copy image operation\n\nSetting new property 'os_glance_import_task' using new\n'image_set_atomic_property' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n""}, {'number': 13, 'created': '2020-07-17 14:22:17.000000000', 'files': ['glance/db/simple/api.py', 'glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/221672a1bf111e50fa00cb69004c00d238c45cc4', 'message': 'WIP: Fix race condition in copy image operation\n\nSetting new property \'os_glance_import_task\' using new\n\'image_set_atomic_property\' DB API which will set only\nonce during active image import operation. If any other\nimport api operation imposed on same image while first\noperation is progress then the same will be rejected\nand HTTP 409 response will be returned to the user.\n\nThe \'os_glance_import_task\' can have two value options\n""Pending"" or UUID. When API receives import request it\nwill set the property to ""Pending"" and once the\nTaskflow is executed it will flip that property to the\ntask_id. The locking is valid for 30min of no updates\non the image while ""Pending"" and 1 day if the execution\nhas started.\n\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n\nCloses-Bug: #1884596\nChange-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0\n'}]",94,737596,221672a1bf111e50fa00cb69004c00d238c45cc4,78,8,13,9303,,,0,"WIP: Fix race condition in copy image operation

Setting new property 'os_glance_import_task' using new
'image_set_atomic_property' DB API which will set only
once during active image import operation. If any other
import api operation imposed on same image while first
operation is progress then the same will be rejected
and HTTP 409 response will be returned to the user.

The 'os_glance_import_task' can have two value options
""Pending"" or UUID. When API receives import request it
will set the property to ""Pending"" and once the
Taskflow is executed it will flip that property to the
task_id. The locking is valid for 30min of no updates
on the image while ""Pending"" and 1 day if the execution
has started.

Co-authored-by: Erno Kuvaja <jokke@usr.fi>

Closes-Bug: #1884596
Change-Id: I6bc94b7204a7c52e5fc7cf95f93f2788db7e42d0
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/737596/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py']",2,8a377ec1d7f20912c08568af96f93633e9b64f3c,copy-image_race," # Clear the os_glance_host_name property image.extra_properties['os_glance_host_name'] = """" self.image_repo.save(image) # Clear the os_glance_host_name property new_image.extra_properties['os_glance_host_name'] = """"",,30,0
openstack%2Ftripleo-ci~master~I22331644f98fe476365423ffbf7e5969dc94f95f,openstack/tripleo-ci,master,I22331644f98fe476365423ffbf7e5969dc94f95f,Add option to add rhel modules to container build template,MERGED,2020-08-19 21:42:43.000000000,2020-08-21 05:18:09.000000000,2020-08-21 05:18:09.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 21:42:43.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5485004152e0e34ced61e7eee6881a90d1c9d891', 'message': 'Add option to add rhel modules to container build template\n\nIf rhel modules are defined, they need to be passed to the\nbuild script to be included in the containers.\n\nRelated review: https://review.opendev.org/#/c/747024/\n\nChange-Id: I22331644f98fe476365423ffbf7e5969dc94f95f\n'}]",0,747047,5485004152e0e34ced61e7eee6881a90d1c9d891,13,5,1,9976,,,0,"Add option to add rhel modules to container build template

If rhel modules are defined, they need to be passed to the
build script to be included in the containers.

Related review: https://review.opendev.org/#/c/747024/

Change-Id: I22331644f98fe476365423ffbf7e5969dc94f95f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/47/747047/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,5485004152e0e34ced61e7eee6881a90d1c9d891,rhel-modules,"{% if rhel_modules is defined %} --rhel-modules {{ rhel_modules | join("","") }} \ {% endif %}",,3,0
openstack%2Ftripleo-ci~master~Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,openstack/tripleo-ci,master,Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f,Modify container build roles path to include venv ansible/roles,MERGED,2020-08-04 20:44:36.000000000,2020-08-21 05:18:08.000000000,2020-08-21 05:18:08.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-04 20:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/322cb567df5b8cf74d2e5f58dcecf49a496cd3cc', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 2, 'created': '2020-08-04 23:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1feeb07d02f993244d56300b351e4e8a73cebf2d', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 3, 'created': '2020-08-04 23:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3ece25ea626ff60ee3ec2ea916f8301a6d70b0a', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 4, 'created': '2020-08-05 00:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/06596fcb0011885e202c6096330e74446f9ab8aa', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 5, 'created': '2020-08-05 00:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e2352b824cbdf8df4a1452281e69bfe9392fff77', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 6, 'created': '2020-08-05 04:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9aa6e2382a269c9affc60f1dcac1f23c765aec29', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 7, 'created': '2020-08-06 00:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b67c85113ad759df0a094d6d65334a07ed0b9639', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 8, 'created': '2020-08-06 13:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ea469cfc6ddd86fedd763196efbdf918a6f2fc8f', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 9, 'created': '2020-08-19 12:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7e312ac53f65c90fc5520fd892c71db1bfb62e4', 'message': 'WIP: Testing change of roles path\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 10, 'created': '2020-08-19 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b34b75a637804e223f54a60dd23e897b2ca7c34', 'message': 'Modify container build roles path to include venv ansible/roles\n\nroles/build-containers/templates/build.sh.j2 aleady\nincluded code to symlink the tripleo-common roles\nfrom the venv to the roles path.\n\nThis review generalizes that code and includes\nansible/roles directory to symlink the roles\nfrom tripleo-ansible installed in the venv.\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 11, 'created': '2020-08-19 16:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7000511e81bc7e6390508f953388f72f82b02c5f', 'message': 'Modify container build roles path to include venv ansible/roles\n\nroles/build-containers/templates/build.sh.j2 aleady\nincluded code to symlink the tripleo-common roles\nfrom the venv to the roles path.\n\nThis review generalizes that code and includes\nansible/roles directory to symlink the roles\nfrom tripleo-ansible installed in the venv.\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}, {'number': 12, 'created': '2020-08-19 19:01:35.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f082f0b8f4f24308a510ba2d3f19024ec76ecde9', 'message': 'Modify container build roles path to include venv ansible/roles\n\nroles/build-containers/templates/build.sh.j2 aleady\nincluded code to symlink the tripleo-common roles\nfrom the venv to the roles path.\n\nThis review generalizes that code and includes\nansible/roles directory to symlink the roles\nfrom tripleo-ansible installed in the venv.\n\nChange-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f\n'}]",0,744786,f082f0b8f4f24308a510ba2d3f19024ec76ecde9,40,7,12,9976,,,0,"Modify container build roles path to include venv ansible/roles

roles/build-containers/templates/build.sh.j2 aleady
included code to symlink the tripleo-common roles
from the venv to the roles path.

This review generalizes that code and includes
ansible/roles directory to symlink the roles
from tripleo-ansible installed in the venv.

Change-Id: Icf792d195e52e5ddb5ee40bfa9b6130ee5ef3e5f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/86/744786/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,322cb567df5b8cf74d2e5f58dcecf49a496cd3cc,containers_roles_path,"export VIRTUAL_ENV=""{{ workspace }}/venv_build""",,1,0
openstack%2Ftripleo-ci~master~I0073a9cf7083a917968b6fff5b6ee35aa344c46e,openstack/tripleo-ci,master,I0073a9cf7083a917968b6fff5b6ee35aa344c46e,Separate required-projects and roles from base jobs,MERGED,2020-08-03 21:39:26.000000000,2020-08-21 05:18:06.000000000,2020-08-21 05:18:06.000000000,"[{'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-08-03 21:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1fd0cc2afb8259b293ec3480682e5df582a6f173', 'message': 'DNM: Separate required-projects and roles frm base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 2, 'created': '2020-08-03 21:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a235c97e19e886ab76ce5f70e06910ba4d8efdc', 'message': 'DNM: Separate required-projects and roles frm base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 3, 'created': '2020-08-04 14:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b5dea49fa734ea30f1d9babd4e291ed9419e9715', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 4, 'created': '2020-08-04 14:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d33d2ee32d8517fd5e1517fb5582b3ccef82294c', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 5, 'created': '2020-08-04 15:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02c475436a9fcc75b159752a71f6824b47929e24', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 6, 'created': '2020-08-18 14:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d700dd4c20343571324d23f8d94e9d37d49c225', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 7, 'created': '2020-08-18 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b40cb3750f15e1d7539924fee86998dfa27b081a', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}, {'number': 8, 'created': '2020-08-19 12:47:45.000000000', 'files': ['zuul.d/build-containers.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0af7328a1f19a96c9d65173e3f90d07d083d239c', 'message': 'Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e\n'}]",8,744562,0af7328a1f19a96c9d65173e3f90d07d083d239c,43,9,8,9976,,,0,"Separate required-projects and roles from base jobs

Keep required-projects and roles in separate parent
jobs so they can be shadowed downstream.

This will allow downstream to override required-projects
and roles while still parenting from upstream.

Change-Id: I0073a9cf7083a917968b6fff5b6ee35aa344c46e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/744562/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml']",3,1fd0cc2afb8259b293ec3480682e5df582a6f173,separate-base-requirements, name: tripleo-ci-base-required-projects Base abstract job to add required-projects for tripleo-ci-base abstract: true - job: name: tripleo-ci-base # min version to use (needed for proper python interpreter detection) ansible-version: 2.8 abstract: true description: | Base abstract job for all TripleO CI zuulv3 jobs parent: tripleo-ci-base-required-projects timeout: 10800 post-timeout: 3600 vars: unbound_cache_min_ttl: 900 ara_generate_html: true bridge_name: br-ex bridge_address_prefix: 192.168.24 bridge_address_subnet: 24 bridge_address_offset: 2 bridge_mtu: 1350 nodeset: two-centos-7-nodes roles: - zuul: opendev.org/zuul/zuul-jobs - zuul: opendev.org/openstack/openstack-zuul-jobs name: tripleo-ci-base-required-projects-centos-8 description: | Base abstract job to add required-projects for tripleo-ci-base-centos-8 abstract: true parent: multinode required-projects: *required_projects - job: parent: tripleo-ci-base-required-projects-centos-8, name: tripleo-ci-base # min version to use (needed for proper python interpreter detection) ansible-version: 2.8 abstract: true Base abstract job for all TripleO CI zuulv3 jobs timeout: 10800 post-timeout: 3600 vars: unbound_cache_min_ttl: 900 ara_generate_html: true bridge_name: br-ex bridge_address_prefix: 192.168.24 bridge_address_subnet: 24 bridge_address_offset: 2 bridge_mtu: 1350 nodeset: two-centos-7-nodes roles: - zuul: opendev.org/zuul/zuul-jobs - zuul: opendev.org/openstack/openstack-zuul-jobs parent: multinode required-projects: *required_projects,52,30
openstack%2Fpython-openstackclient~master~Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,openstack/python-openstackclient,master,Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b,WIP: add unit tests for server group list with 2.64 API,ABANDONED,2020-08-20 12:00:20.000000000,2020-08-21 05:15:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-08-20 12:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5605d0dba9db2e0cc60ec1325e5e1ce0fe8d4571', 'message': 'WIP: add unit tests for server group list with 2.64 API\n\nChange-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b\n'}, {'number': 2, 'created': '2020-08-20 12:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/566803107dae0b0c5736d246db46af9e33f7bc1b', 'message': 'WIP: add unit tests for server group list with 2.64 API\n\nChange-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b\n'}, {'number': 3, 'created': '2020-08-21 03:06:26.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/996d4e3fa696cf0bc160cd0de87225267959a5cb', 'message': 'WIP: add unit tests for server group list with 2.64 API\n\nChange-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b\n'}]",0,747147,996d4e3fa696cf0bc160cd0de87225267959a5cb,6,2,3,9816,,,0,"WIP: add unit tests for server group list with 2.64 API

Change-Id: Ib074c76d3e3d8afff02a6004d8c5cf7da29de68b
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/47/747147/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/test_server_group.py'],1,5605d0dba9db2e0cc60ec1325e5e1ce0fe8d4571,bug/2008041,"from novaclient import api_versionclass TestServerGroupV264(TestServerGroup): fake_server_group = \ compute_fakes.FakeServerGroupV264.create_one_server_group() columns = ( 'id', 'members', 'name', 'policy', 'project_id', 'user_id', ) data = ( fake_server_group.id, utils.format_list(fake_server_group.members), fake_server_group.name, fake_server_group.policies, fake_server_group.project_id, fake_server_group.user_id, ) def setUp(self): super(TestServerGroupV264, self).setUp() self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.64') class TestServerGroupListV264(TestServerGroupV264): list_columns = ( 'ID', 'Name', 'Policy', ) list_columns_long = ( 'ID', 'Name', 'Policy', 'Members', 'Project Id', 'User Id', ) list_data = (( TestServerGroupV264.fake_server_group.id, TestServerGroupV264.fake_server_group.name, TestServerGroupV264.fake_server_group.policy, ),) list_data_long = (( TestServerGroupV264.fake_server_group.id, TestServerGroupV264.fake_server_group.name, TestServerGroupV264.fake_server_group.policy, utils.format_list(TestServerGroupV264.fake_server_group.members), TestServerGroupV264.fake_server_group.project_id, TestServerGroupV264.fake_server_group.user_id, ),) def setUp(self): super(TestServerGroupListV264, self).setUp() self.server_groups_mock.list.return_value = [self.fake_server_group] self.cmd = server_group.ListServerGroup(self.app, None) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.64') def test_server_group_list(self): arglist = [] verifylist = [ ('all_projects', False), ('long', False), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.server_groups_mock.list.assert_called_once_with(False) self.assertEqual(self.list_columns, columns) self.assertEqual(self.list_data, tuple(data)) ",,85,0
openstack%2Fpuppet-panko~master~I00518ee991df9ab8fbfcb3309413939c500849f7,openstack/puppet-panko,master,I00518ee991df9ab8fbfcb3309413939c500849f7,Rename the parameter to define the state of panko-expirer cron job,MERGED,2020-08-14 10:17:12.000000000,2020-08-21 05:07:01.000000000,2020-08-21 05:05:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 10:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/dab3cbf90ff9797d060ded248a27ede38f6d4f7e', 'message': 'Rename the parameter to define the state of panko-expirer cron job\n\nThis patch replaces the panko::expirer::enable_cron parameter by\npanko::expirer::ensure parameter, so that the parameter name shows\nhow the parameter actually behaves more clearly.\n\nChange-Id: I00518ee991df9ab8fbfcb3309413939c500849f7\n'}, {'number': 2, 'created': '2020-08-14 12:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/181dc74b2dfe2d9693b197261b4dbbdc898beaeb', 'message': 'Rename the parameter to define the state of panko-expirer cron job\n\nThis patch replaces the panko::expirer::enable_cron parameter by\npanko::expirer::ensure parameter, so that the parameter name shows\nhow the parameter actually behaves more clearly.\n\nChange-Id: I00518ee991df9ab8fbfcb3309413939c500849f7\n'}, {'number': 3, 'created': '2020-08-16 23:00:01.000000000', 'files': ['spec/classes/panko_expirer_spec.rb', 'manifests/expirer.pp', 'releasenotes/notes/expirer-ensure-05c77588f136c659.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/4184e32676123fc00fd22e1334de2d8cb499c29c', 'message': 'Rename the parameter to define the state of panko-expirer cron job\n\nThis patch replaces the panko::expirer::enable_cron parameter by\npanko::expirer::ensure parameter, so that the parameter name shows\nhow the parameter actually behaves more clearly.\n\nChange-Id: I00518ee991df9ab8fbfcb3309413939c500849f7\n'}]",1,746314,4184e32676123fc00fd22e1334de2d8cb499c29c,18,5,3,9816,,,0,"Rename the parameter to define the state of panko-expirer cron job

This patch replaces the panko::expirer::enable_cron parameter by
panko::expirer::ensure parameter, so that the parameter name shows
how the parameter actually behaves more clearly.

Change-Id: I00518ee991df9ab8fbfcb3309413939c500849f7
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/14/746314/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/expirer.pp', 'releasenotes/notes/expirer-ensure-05c77588f136c659.yaml']",2,dab3cbf90ff9797d060ded248a27ede38f6d4f7e,expirer-ensure,--- deprecations: - | The ``panko::expirer::enable_cron`` parameter has been deprecated and will be removed in a future release. Use ``panko::expirer::ensure`` instead. ,,33,9
openstack%2Fmanila~stable%2Fussuri~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,stable/ussuri,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2020-08-19 04:31:21.000000000,2020-08-21 04:48:02.000000000,2020-08-20 10:28:46.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-19 04:31:21.000000000', 'files': ['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/eac41910c041cca3583e1e94a9dfbaf7e3229fdd', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)\n'}]",0,746831,eac41910c041cca3583e1e94a9dfbaf7e3229fdd,16,5,1,16643,,,0,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
(cherry picked from commit c1912b70f69bc59c1aaf047a556868d0e27e3518)
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/746831/1 && git format-patch -1 --stdout FETCH_HEAD,"['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst']",3,eac41910c041cca3583e1e94a9dfbaf7e3229fdd,bug/1682694,"Installing the API via mod_wsgi ------------------------------- The httpd/ directory contains sample files for configuring HTTPD to run manila API via mod_wsgi. To use sample configs, simply copy `httpd/mod_wsgi-manila.conf` to the appropiate location for your apache server. On RHEL/CentOS/Fedora it is:: /etc/httpd/conf.d/mod_wsgi-manila.conf On SLES/OpenSUSE it is:: /etc/apache2/vhosts.d/mod_wsgi-manila.conf On Debian/Ubuntu it is:: /etc/apache2/sites-available/mod_wsgi-manila.conf On Ubuntu/Debian systems enable the site using the a2ensite tool:: sudo a2ensite /etc/apache2/sites-available/mod_wsgi-manila.conf This is not required on RHEL/CentOS/Fedora systems. Start or restart HTTPD/Apache2 to pick up the new configuration. .. NOTE:: manila's primary configuration file (etc/manila.conf) and the PasteDeploy configuration file (etc/manila-paste.ini) must be readable to httpd in one of the default locations described in Configuring Manila. Access Control -------------- If you are running with Linux kernel security module enabled (for example SELinux or AppArmor), make sure that the configuration file has the appropriate context to access the linked file. ",,56,1
openstack%2Ftripleo-common~stable%2Ftrain~I474d7d30534cbb2e07fabd21faf57a3a5257c520,openstack/tripleo-common,stable/train,I474d7d30534cbb2e07fabd21faf57a3a5257c520,[DNM] train,ABANDONED,2020-08-19 05:44:22.000000000,2020-08-21 04:43:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 05:44:22.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8bc9faeba347784c48d01b9fe2e6c18431e1e049', 'message': '[DNM] train\n\nDepends-On: https://review.opendev.org/#/c/746772/\n\nChange-Id: I474d7d30534cbb2e07fabd21faf57a3a5257c520\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,746835,8bc9faeba347784c48d01b9fe2e6c18431e1e049,4,2,1,12393,,,0,"[DNM] train

Depends-On: https://review.opendev.org/#/c/746772/

Change-Id: I474d7d30534cbb2e07fabd21faf57a3a5257c520
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/746835/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,8bc9faeba347784c48d01b9fe2e6c18431e1e049,,#: CHeck it,,1,0
openstack%2Ftripleo-quickstart~master~I7452ae02c763d9540642485f6cdad45ee20cb2f5,openstack/tripleo-quickstart,master,I7452ae02c763d9540642485f6cdad45ee20cb2f5,Modify fs039 to run without novajoin on Ussuri+,MERGED,2020-06-15 13:34:12.000000000,2020-08-21 03:49:44.000000000,2020-08-21 03:48:16.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14250}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-15 13:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0f3fb6e02ec344fd04193c9b7ffbbc9daf7e2f41', 'message': 'Modyfy fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 2, 'created': '2020-06-15 13:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e0ce45b0abebaf7aa63a8ab4462c18773fee1494', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 3, 'created': '2020-06-15 19:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3ac8debe05915cfdb41ea66e994aa5fbd4be9ab9', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 4, 'created': '2020-06-29 15:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/68c2e00d45220db2bf79fe578bdda8acc91ae14e', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 5, 'created': '2020-07-01 14:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a178447f89800e05fcedf0053e5c2d5d7415b44d', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 6, 'created': '2020-07-15 09:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/822f9e7abba4cd3e771fd69608c96c709a3fefea', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nDepends-On: https://review.opendev.org/740102\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}, {'number': 7, 'created': '2020-07-21 08:10:47.000000000', 'files': ['config/general_config/featureset039.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5b9868e9f318b19b94cdf7f1bad9fbea86ee8b7c', 'message': 'Modify fs039 to run without novajoin on Ussuri+\n\nThis tests TLS-Everywhere without novajoin,\nwhich is the new way TLS-Everywhere is supported on master.\n\nDepends-On: https://review.opendev.org/721615\nDepends-On: https://review.opendev.org/740102\nChange-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5\n'}]",2,735590,5b9868e9f318b19b94cdf7f1bad9fbea86ee8b7c,89,10,7,14250,,,0,"Modify fs039 to run without novajoin on Ussuri+

This tests TLS-Everywhere without novajoin,
which is the new way TLS-Everywhere is supported on master.

Depends-On: https://review.opendev.org/721615
Depends-On: https://review.opendev.org/740102
Change-Id: I7452ae02c763d9540642485f6cdad45ee20cb2f5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/735590/4 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset039.yml'],1,0f3fb6e02ec344fd04193c9b7ffbbc9daf7e2f41,tls_without_novajoin," - ""{% if release not in ['queens, 'rocky, 'stein', 'train'] -%}ipa_prep{%- else -%}novajoin_prep{%- endif -%}"" - ""{% if release not in ['queens, 'rocky, 'stein', 'train'] -%}install_ipa{%- else -%}install_novajoin{%- endif -%}"" - ""{% if release not in ['queens, 'rocky, 'stein', 'train'] -%}ipa_prep{%- else -%}novajoin_prep{%- endif -%}"" - ""{% if release not in ['queens, 'rocky, 'stein', 'train'] -%}install_ipa{%- else -%}install_novajoin{%- endif -%}"" # This switches between a deployment with novajoin or using ansible-tripleo-ipa undercloud_enable_novajoin: >- {% if release not in ['queens,'rocky','stein','train'] -%} true {%- else -%} false {%- endif -%} ", - novajoin_prep - install_novajoin - novajoin_prep - install_novajoin,14,4
openstack%2Fpuppet-trove~master~Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,openstack/puppet-trove,master,Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:48:22.000000000,2020-08-21 03:47:20.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-9dca2ded7ff9094f.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1afa1afac188cf759190f23fd20469bc424860ee', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6\nCloses-Bug: #1892284\n'}]",0,747083,1afa1afac188cf759190f23fd20469bc424860ee,14,5,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ia19efd5737c57ccf0f7922c037cce47adf9a2fd6
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/83/747083/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-9dca2ded7ff9094f.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,1afa1afac188cf759190f23fd20469bc424860ee,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Ftripleo-quickstart-extras~master~Ib782aa9ae30903cab4072a5513ac4785500e4f16,openstack/tripleo-quickstart-extras,master,Ib782aa9ae30903cab4072a5513ac4785500e4f16,Donot add update_containers_append_tag with tempest container,ABANDONED,2020-08-17 07:52:58.000000000,2020-08-21 03:39:18.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 07:52:58.000000000', 'files': ['roles/validate-tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ddd2295ad1dcc818c39ae7cbdaf197cfe5cf6864', 'message': 'Donot add update_containers_append_tag with tempest container\n\nSince tempest container is available on undercloud registry with\ncontainer build tag. But validate-tempest was expecting tempest\ncontainer with tag and update_containers_append_tag, which does not\nexists on undercloud registry leading to fail to download the\ntempest  container.\n\nRemoving the update_containers_append_tag will fix the issue.\n\nCloses-Bug: #1891372\n\nChange-Id: Ib782aa9ae30903cab4072a5513ac4785500e4f16\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,746446,ddd2295ad1dcc818c39ae7cbdaf197cfe5cf6864,10,6,1,12393,,,0,"Donot add update_containers_append_tag with tempest container

Since tempest container is available on undercloud registry with
container build tag. But validate-tempest was expecting tempest
container with tag and update_containers_append_tag, which does not
exists on undercloud registry leading to fail to download the
tempest  container.

Removing the update_containers_append_tag will fix the issue.

Closes-Bug: #1891372

Change-Id: Ib782aa9ae30903cab4072a5513ac4785500e4f16
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/746446/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/defaults/main.yml'],1,ddd2295ad1dcc818c39ae7cbdaf197cfe5cf6864,fixtempestcontainer, {% if (undercloud_enable_tempest is defined and undercloud_enable_tempest|bool) -%} {{ container_build_id }}, {% if (undercloud_enable_tempest is defined and undercloud_enable_tempest|bool) and (update_containers_append_tag is defined)-%} {{ container_build_id }}{{ update_containers_append_tag }},2,2
openstack%2Ftripleo-common~master~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,master,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-18 13:49:12.000000000,2020-08-21 03:38:14.000000000,2020-08-21 03:36:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 13:49:12.000000000', 'files': ['tripleo_common/inventories.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fbd575cbe88400bad1ce4d37b914d7ae8a43e15c', 'message': 'Ensure atomic inventory file rename runs on the same mountpoint\n\nLinux rename system call is only supported on the same mountpoint [1].\n/tmp is often a tmpfs mount, so instead generate the temp inventory file in\nthe same directory as the target inventory file.\n\n[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html\n\nChange-Id: Id306243352f310f9054506577aa9bbce3790a7e5\nCloses-bug: #1892008\n'}]",0,746724,fbd575cbe88400bad1ce4d37b914d7ae8a43e15c,29,14,1,23811,,,0,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/746724/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventories.py', 'tripleo_common/inventory.py']",2,fbd575cbe88400bad1ce4d37b914d7ae8a43e15c,," inventory_file_dir = os.path.dirname(inventory_file_path) with tempfile.NamedTemporaryFile( 'w', dir=inventory_file_dir, delete=False) as inventory_file:"," with tempfile.NamedTemporaryFile('w', delete=False) as inventory_file:",10,2
openstack%2Ftripleo-heat-templates~master~I91b14c2bc88c9378a5b36fc96b4f7928163d0246,openstack/tripleo-heat-templates,master,I91b14c2bc88c9378a5b36fc96b4f7928163d0246,enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent,MERGED,2020-08-20 11:50:32.000000000,2020-08-21 03:37:04.000000000,2020-08-21 03:37:03.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 11:50:32.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec630598843590bb13611a5afa96e437e1c2cba6', 'message': 'enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent\n\nThis patch enabled ovs_stats and ovs_events plugins for neutron\novs dpdk agent.\n\nChange-Id: I91b14c2bc88c9378a5b36fc96b4f7928163d0246\n'}]",0,747146,ec630598843590bb13611a5afa96e437e1c2cba6,13,5,1,31108,,,0,"enable ovs_stats and ovs_events plugins for neutron ovs dpdk agent

This patch enabled ovs_stats and ovs_events plugins for neutron
ovs dpdk agent.

Change-Id: I91b14c2bc88c9378a5b36fc96b4f7928163d0246
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/747146/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml'],1,ec630598843590bb13611a5afa96e437e1c2cba6,ovs_plugins, - ovs_events - ovs_stats collectd::plugin::ovs_events::socket: '/run/openvswitch/db.sock' collectd::plugin::ovs_stats::socket: '/run/openvswitch/db.sock',,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2500200eba392888015796ec93623df089e8d31d,openstack/tripleo-heat-templates,stable/train,I2500200eba392888015796ec93623df089e8d31d,Do not hard-code vars_from,MERGED,2020-08-18 06:17:08.000000000,2020-08-21 03:37:01.000000000,2020-08-21 03:37:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 06:17:08.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48f068452bd5c2111b754df750bfa61a26a51e43', 'message': 'Do not hard-code vars_from\n\nThis break the ability to fix packages depending on the OS.\n\nChange-Id: I2500200eba392888015796ec93623df089e8d31d\nCloses-Bug: #1891465\nDepends-On: https://review.opendev.org/746637\n(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)\n(cherry picked from commit 701841df54030ab8b36d1bdb970f81621d0062e9)\n'}]",0,746639,48f068452bd5c2111b754df750bfa61a26a51e43,17,7,1,28223,,,0,"Do not hard-code vars_from

This break the ability to fix packages depending on the OS.

Change-Id: I2500200eba392888015796ec93623df089e8d31d
Closes-Bug: #1891465
Depends-On: https://review.opendev.org/746637
(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)
(cherry picked from commit 701841df54030ab8b36d1bdb970f81621d0062e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/746639/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,48f068452bd5c2111b754df750bfa61a26a51e43,train/vars_from,," vars_from: ""redhat.yml"" vars_from: ""redhat.yml""",0,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/ussuri,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 15:41:10.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:58.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 15:41:10.000000000', 'files': ['tasks/main.yml', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/06b7d748a953501da875617e398de2d5b005925b', 'message': 'Create workload_launch script when sanity testing is enabled\n\nIf workload testing is not enabled, then the workload script\nis not there, so the sanity test fails.\n\nIn this patch we change the conditionals to ensure that the\nworkload launch script is created if either test is enabled.\nwe also then ensure that the sanity test launches are using\nthe correct conditional.\n\nChange-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad\n(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)\n'}]",0,747221,06b7d748a953501da875617e398de2d5b005925b,6,2,1,6816,,,0,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/747221/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2']",2,06b7d748a953501da875617e398de2d5b005925b,ffwd-upgrade2-stable/ussuri,{% if launch_sanity_workload|bool %},{% if launch_sanity_workload|bool and workload_launch|bool %},11,11
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,stable/train,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 14:45:23.000000000,2020-08-21 03:36:59.000000000,2020-08-21 03:36:59.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 14:45:23.000000000', 'files': ['tasks/main.yml', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fcd079e6bf3f6755d3f7303d408a7b68a5cbd1a0', 'message': 'Create workload_launch script when sanity testing is enabled\n\nIf workload testing is not enabled, then the workload script\nis not there, so the sanity test fails.\n\nIn this patch we change the conditionals to ensure that the\nworkload launch script is created if either test is enabled.\nwe also then ensure that the sanity test launches are using\nthe correct conditional.\n\nChange-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad\n(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)\n'}]",0,747191,fcd079e6bf3f6755d3f7303d408a7b68a5cbd1a0,7,3,1,6816,,,0,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
(cherry picked from commit 45c2b65361846b69eac136462f368ecd1b0b76da)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/91/747191/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2']",2,fcd079e6bf3f6755d3f7303d408a7b68a5cbd1a0,ffwd-upgrade2-stable/train,{% if launch_sanity_workload|bool %},{% if launch_sanity_workload|bool and workload_launch|bool %},11,10
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/train,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:42:11.000000000,2020-08-21 03:36:58.000000000,2020-08-21 03:36:58.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 14:42:11.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f42cc7926e41f1e902459bf2c01b04a2b128bb25', 'message': 'FFWD: L3 fixup\n\nBefore we fix workload accounting and l3 test scripts we need to\nremove extra wokload test during FFWD.\n\nChange-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0\n(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)\n'}]",0,747190,f42cc7926e41f1e902459bf2c01b04a2b128bb25,6,2,1,6816,,,0,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/747190/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml']",3,f42cc7926e41f1e902459bf2c01b04a2b128bb25,ffwd-upgrade2-stable/train,,"--- - name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml - name: create FFU role ugrades scripts template: src: fast-forward-upgrade/overcloud_upgrade_role.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|default([]) }}"" - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_controller - name: pre controller role upgrade steps workarounds command: ""{{ working_dir }}/pre_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller - name: run FFU control plane ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|difference(['Compute','ComputeAlt','CephStorage']) }}"" - name: run L3 validation include_tasks: ""{{ item }}"" loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_upgrade_controller - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: run FFU compute ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: ""{{ oc_roles|intersect(['Compute','ComputeAlt']) }}"" when: - not ffu_computes_rolling|bool - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute - block: - name: register compute nodes from tripleo ansible inventory shell: | awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory.yaml register: tripleo_compute_nodes tags: ffu_overcloud_upgrade_compute - name: Create compute nodes FFU ugrade playbooks scripts template: src: fast-forward-upgrade/overcloud_upgrade_nodes.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: Rolling upgrade compute nodes command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute when: ffu_computes_rolling|bool - name: post controller role upgrade steps workarounds command: ""{{ working_dir }}/post_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller ",36,136
openstack%2Fpuppet-watcher~master~I6bed07ff699ec1d61e05fda032c538b91f0edb66,openstack/puppet-watcher,master,I6bed07ff699ec1d61e05fda032c538b91f0edb66,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 03:10:01.000000000,2020-08-21 03:08:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-ae5c0d502076878f.yaml', 'manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/77bb47b3854cb534214153d1952d65a7408f1bad', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I6bed07ff699ec1d61e05fda032c538b91f0edb66\nCloses-Bug: #1892284\n'}]",0,747080,77bb47b3854cb534214153d1952d65a7408f1bad,14,5,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I6bed07ff699ec1d61e05fda032c538b91f0edb66
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/80/747080/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-ae5c0d502076878f.yaml', 'manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb']",3,77bb47b3854cb534214153d1952d65a7408f1bad,bug/1892284," is_expected.to contain_watcher_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') :service_token_roles => ['service'], is_expected.to contain_watcher_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles])",,19,0
openstack%2Fos-brick~stable%2Ftrain~I6f01a178616b74ed9a86876ca46e7e46eb360518,openstack/os-brick,stable/train,I6f01a178616b74ed9a86876ca46e7e46eb360518,ScaleIO: Connection info backward compatibility,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 02:58:06.000000000,2020-08-21 00:14:49.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-18 00:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/27369ece71b01e34314f0e602f35966a4c8a4f15', 'message': 'ScaleIO: Connection info backward compatibility\n\nWhen we fixed bug 1823200 in Change-ID\nIab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector\nincompatible with the old connection properties dictionary as it only\nsupported the new \'config_group\' and \'failed_over\' parameters to get the\npassword.\n\nThis is a problem in any system that is upgraded and has attachments to\nthe array, because the connection properties of those volumes will not\ncontain the new fields and detaching them will result in error\n""KeyError: \'config_group\'"".\n\nThis patch adds compatibility code to support the old connection\nproperties format so we can detach those volumes.\n\nRelated-Bug: #1823200\nChange-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518\n(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)\n(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)\nConflicts:\n\tos_brick/initiator/connectors/scaleio.py\n'}, {'number': 2, 'created': '2020-08-18 03:38:06.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/db95b001e2fe53a71ec0b881407ecdf7c3db32fc', 'message': 'ScaleIO: Connection info backward compatibility\n\nWhen we fixed bug 1823200 in Change-ID\nIab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector\nincompatible with the old connection properties dictionary as it only\nsupported the new \'config_group\' and \'failed_over\' parameters to get the\npassword.\n\nThis is a problem in any system that is upgraded and has attachments to\nthe array, because the connection properties of those volumes will not\ncontain the new fields and detaching them will result in error\n""KeyError: \'config_group\'"".\n\nThis patch adds compatibility code to support the old connection\nproperties format so we can detach those volumes.\n\nRelated-Bug: #1823200\nChange-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518\n(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)\n(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)\nConflicts:\n\tos_brick/initiator/connectors/scaleio.py\n'}]",52,746621,db95b001e2fe53a71ec0b881407ecdf7c3db32fc,40,13,2,21129,,,0,"ScaleIO: Connection info backward compatibility

When we fixed bug 1823200 in Change-ID
Iab54c515fe7be252df52b1a0503a251779805759 we made the ScaleIO connector
incompatible with the old connection properties dictionary as it only
supported the new 'config_group' and 'failed_over' parameters to get the
password.

This is a problem in any system that is upgraded and has attachments to
the array, because the connection properties of those volumes will not
contain the new fields and detaching them will result in error
""KeyError: 'config_group'"".

This patch adds compatibility code to support the old connection
properties format so we can detach those volumes.

Related-Bug: #1823200
Change-Id: I6f01a178616b74ed9a86876ca46e7e46eb360518
(cherry picked from commit 54504830828757e9d72e9440dde9cff33684a74d)
(cherry picked from commit 31589a624fe8d2ebb56ccbd9c94a8dd559a7da89)
Conflicts:
	os_brick/initiator/connectors/scaleio.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/21/746621/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",2,27369ece71b01e34314f0e602f35966a4c8a4f15,bug/1823200," def test_connect_volume_old_connection_properties(self): """"""Successful connect to volume"""""" connection_properties = { 'hostIP': test_connector.MY_IP, 'serverIP': test_connector.MY_IP, 'scaleIO_volname': self.vol['name'], 'scaleIO_volume_id': self.vol['provider_id'], 'serverPort': 443, 'serverUsername': 'test', 'serverPassword': 'fake', 'serverToken': 'fake_token', 'iopsLimit': None, 'bandwidthLimit': None } self.connector.connect_volume(connection_properties) self.get_guid_mock.assert_called_once_with( self.connector.GET_GUID_OP_CODE) self.get_password_mock.assert_not_called() ",,33,6
openstack%2Fnova~master~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,master,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-13 18:09:44.000000000,2020-08-21 02:51:08.000000000,2020-08-21 02:45:36.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-13 18:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/630d3a81acd476f9953e495f5b35014ec555f979', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.3.0 to avoid referncing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n'}, {'number': 2, 'created': '2020-08-13 18:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c30fbed1f0ec310c63061c69fa72fabadca525d3', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referncing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n'}, {'number': 3, 'created': '2020-08-17 23:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e97f564340a400f8fc63b58f6ad4c743201eb78a', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n'}, {'number': 4, 'created': '2020-08-18 19:10:47.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc96af565937072c04dea31781d86d2073b77ed4', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n'}]",23,746210,bc96af565937072c04dea31781d86d2073b77ed4,75,13,4,10135,,,0,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/746210/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,630d3a81acd476f9953e495f5b35014ec555f979,bug/1891547," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock() ) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.3.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint ) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False ) # reset and try again with v4.3.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_3_0 = versionutils.convert_version_to_int((4, 3, 0)) mock_get_version.return_value = v4_3_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint ) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True ) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.3.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif ) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False ) # reset and try again with v4.3.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_3_0 = versionutils.convert_version_to_int((4, 3, 0)) mock_get_version.return_value = v4_3_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif ) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True ) ",,164,21
openstack%2Fneutron~master~Ie646b7093aa8634fd950c136a0eba9adcf56591c,openstack/neutron,master,Ie646b7093aa8634fd950c136a0eba9adcf56591c,Bump pylint version to support python 3.8,MERGED,2020-07-31 16:05:34.000000000,2020-08-21 02:49:10.000000000,2020-08-21 02:44:55.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d3ced83d2830e23097084d767274fde5a51dd63', 'message': 'Bump pylint version to support python 3.8\n\nAs spotted in Focal testing patch [0], pep8 test fails with many\nC0321 false-positives, reported in pylint as current version does not\nsupport python 3.8 [1]\n\nUse a newer version of pylint and astroid, fixing or disabling some of\nthe new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel\n\n[0] https://review.opendev.org/#/c/738163/\n[1] https://github.com/PyCQA/pylint/issues/2737\n\nChange-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c\n'}, {'number': 2, 'created': '2020-08-03 07:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7fc3ff9c532ffa3e944030944ccfa40d92b0dfb', 'message': 'Bump pylint version to support python 3.8\n\nAs spotted in Focal testing patch [0], pep8 test fails with many\nC0321 false-positives, reported in pylint as current version does not\nsupport python 3.8 [1]\n\nUse a newer version of pylint and astroid, fixing or disabling some of\nthe new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel\n\n[0] https://review.opendev.org/#/c/738163/\n[1] https://github.com/PyCQA/pylint/issues/2737\n\nChange-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c\n'}, {'number': 3, 'created': '2020-08-04 12:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9adf53c066e3d1d3a5da874b18f28cd63e6e4d2d', 'message': 'Bump pylint version to support python 3.8\n\nAs spotted in Focal testing patch [0], pep8 test fails with many\nC0321 false-positives, reported in pylint as current version does not\nsupport python 3.8 [1]\n\nUse a newer version of pylint and astroid, fixing or disabling some of\nthe new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel\n\n[0] https://review.opendev.org/#/c/738163/\n[1] https://github.com/PyCQA/pylint/issues/2737\n\nChange-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c\n'}, {'number': 4, 'created': '2020-08-06 14:00:48.000000000', 'files': ['neutron/db/securitygroups_db.py', 'test-requirements.txt', 'neutron/db/db_base_plugin_v2.py', 'neutron/objects/qos/qos_policy_validator.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/objects/network_segment_range.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/db/agentschedulers_db.py', 'neutron/services/qos/drivers/ovn/driver.py', 'neutron/agent/linux/dhcp.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/agent/linux/openvswitch_firewall/iptables.py', 'neutron/objects/router.py', 'neutron/api/extensions.py', 'neutron/common/ovn/utils.py', 'neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/managers.py', 'neutron/agent/common/async_process.py', 'neutron/agent/ovsdb/native/connection.py', 'neutron/db/migration/autogen.py', 'neutron/services/conntrack_helper/plugin.py', 'neutron/objects/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/trunk/rules.py', 'neutron/conf/db/migration_cli.py', 'neutron/db/l3_db.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/services/trunk/plugin.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/services/logapi/drivers/base.py', 'neutron/services/trunk/rpc/server.py', 'neutron/common/eventlet_utils.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cebdd77af8ed19c2f733f06274052736c2dd5a9c', 'message': 'Bump pylint version to support python 3.8\n\nAs spotted in Focal testing patch [0], pep8 test fails with many\nC0321 false-positives, reported in pylint as current version does not\nsupport python 3.8 [1]\n\nUse a newer version of pylint and astroid, fixing or disabling some of\nthe new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel\n\n[0] https://review.opendev.org/#/c/738163/\n[1] https://github.com/PyCQA/pylint/issues/2737\n\nChange-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c\n'}]",12,744211,cebdd77af8ed19c2f733f06274052736c2dd5a9c,96,11,4,21798,,,0,"Bump pylint version to support python 3.8

As spotted in Focal testing patch [0], pep8 test fails with many
C0321 false-positives, reported in pylint as current version does not
support python 3.8 [1]

Use a newer version of pylint and astroid, fixing or disabling some of
the new checks: no-else-*, unnecessary-comprehension, import-outside-toplevel

[0] https://review.opendev.org/#/c/738163/
[1] https://github.com/PyCQA/pylint/issues/2737

Change-Id: Ie646b7093aa8634fd950c136a0eba9adcf56591c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/744211/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'test-requirements.txt', 'neutron/db/db_base_plugin_v2.py', 'neutron/objects/qos/qos_policy_validator.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/agent/linux/l3_tc_lib.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/db/agentschedulers_db.py', 'neutron/services/qos/drivers/ovn/driver.py', 'neutron/agent/linux/dhcp.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/agent/linux/openvswitch_firewall/iptables.py', 'neutron/api/extensions.py', 'neutron/common/ovn/utils.py', 'neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/managers.py', 'neutron/agent/common/async_process.py', 'neutron/agent/ovsdb/native/connection.py', 'neutron/db/migration/autogen.py', 'neutron/services/conntrack_helper/plugin.py', 'neutron/objects/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/trunk/rules.py', 'neutron/conf/db/migration_cli.py', 'neutron/db/l3_db.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/services/trunk/plugin.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/services/logapi/drivers/base.py', 'neutron/services/trunk/rpc/server.py', 'neutron/common/eventlet_utils.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py']",33,6d3ced83d2830e23097084d767274fde5a51dd63,migrate-to-focal, # pylint: disable=import-outside-toplevel,,80,92
openstack%2Fnova~master~I176b273d66c870303a86f4df11cc5fc37c36d943,openstack/nova,master,I176b273d66c870303a86f4df11cc5fc37c36d943,Pass the actual target in baremetal nodes policy,MERGED,2020-07-17 21:09:48.000000000,2020-08-21 02:48:14.000000000,2020-08-21 02:45:01.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 21:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db87ccb41c9d5cbbdc0fcc80cf47b644f5d97ca4', 'message': ""Pass the actual target in baremetal nodes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for baremetal nodes policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I176b273d66c870303a86f4df11cc5fc37c36d943\n""}, {'number': 2, 'created': '2020-07-20 21:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca92ac380b89f8d2fecd97ad76bbbbcc36d980b3', 'message': ""Pass the actual target in baremetal nodes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for baremetal nodes policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I176b273d66c870303a86f4df11cc5fc37c36d943\n""}, {'number': 3, 'created': '2020-08-13 14:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb05977bbf3515c7e10913a6dd5521cf814718b', 'message': ""Pass the actual target in baremetal nodes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for baremetal nodes policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I176b273d66c870303a86f4df11cc5fc37c36d943\n""}, {'number': 4, 'created': '2020-08-17 14:36:51.000000000', 'files': ['nova/api/openstack/compute/baremetal_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcc451cd4c34aa888b954079970a146817bb7cba', 'message': ""Pass the actual target in baremetal nodes policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for baremetal nodes policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I176b273d66c870303a86f4df11cc5fc37c36d943\n""}]",1,741717,fcc451cd4c34aa888b954079970a146817bb7cba,89,13,4,8556,,,0,"Pass the actual target in baremetal nodes policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for baremetal nodes policies
which is empty dict because policy rule is system scoped rather
than project, so the token scope check deals with the required
target checking.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I176b273d66c870303a86f4df11cc5fc37c36d943
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/741717/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/baremetal_nodes.py'],1,db87ccb41c9d5cbbdc0fcc80cf47b644f5d97ca4,bp/policy-defaults-refresh-deprecated-apis," context.can(bn_policies.BASE_POLICY_NAME % 'list', target={}) context.can(bn_policies.BASE_POLICY_NAME % 'show', target={})", context.can(bn_policies.BASE_POLICY_NAME % 'list') context.can(bn_policies.BASE_POLICY_NAME % 'show'),4,2
openstack%2Fnova~master~I76bbb570996612c1366b6b6c52772f04a9953080,openstack/nova,master,I76bbb570996612c1366b6b6c52772f04a9953080,Pass the actual target in networks policy,MERGED,2020-07-23 00:46:24.000000000,2020-08-21 02:45:30.000000000,2020-08-21 02:45:30.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-23 00:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf5d0fd0da30a8998ef8d6969f8050fb3ed286e', 'message': ""Pass the actual target in networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the autorize error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I76bbb570996612c1366b6b6c52772f04a9953080\n""}, {'number': 2, 'created': '2020-07-23 00:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee52abd9057c515bc8e4f25335fd472a2689bb53', 'message': ""Pass the actual target in networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the authorise error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I76bbb570996612c1366b6b6c52772f04a9953080\n""}, {'number': 3, 'created': '2020-07-23 23:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5150839821035a4c758ea11aa9baaac22e24ff3', 'message': ""Pass the actual target in networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the authorise error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I76bbb570996612c1366b6b6c52772f04a9953080\n""}, {'number': 4, 'created': '2020-08-13 14:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1b4b068be84550c0ae966448861a8a88588013a', 'message': ""Pass the actual target in networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the authorise error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I76bbb570996612c1366b6b6c52772f04a9953080\n""}, {'number': 5, 'created': '2020-08-17 14:52:21.000000000', 'files': ['nova/api/openstack/compute/networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb3bf32fa225b977ccaf4bebd140de5a3813f56d', 'message': ""Pass the actual target in networks policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for networks policies\nwhich is context.project_id itself as nova cannot verify the owner of\nnetwork. Neutron will return the authorise error is requester is not\nowner of network.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I76bbb570996612c1366b6b6c52772f04a9953080\n""}]",0,742568,fb3bf32fa225b977ccaf4bebd140de5a3813f56d,87,15,5,8556,,,0,"Pass the actual target in networks policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for networks policies
which is context.project_id itself as nova cannot verify the owner of
network. Neutron will return the authorise error is requester is not
owner of network.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I76bbb570996612c1366b6b6c52772f04a9953080
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/742568/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/networks.py'],1,fbf5d0fd0da30a8998ef8d6969f8050fb3ed286e,bp/policy-defaults-refresh-deprecated-apis," context.can(net_policies.POLICY_ROOT % 'list', target={'project_id': context.project_id}) context.can(net_policies.POLICY_ROOT % 'show', target={'project_id': context.project_id})", context.can(net_policies.POLICY_ROOT % 'list') context.can(net_policies.POLICY_ROOT % 'show'),4,2
openstack%2Fnova~master~Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,openstack/nova,master,Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc,Add new default roles in networks policies,MERGED,2020-07-23 00:31:47.000000000,2020-08-21 02:45:19.000000000,2020-08-21 02:45:19.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-23 00:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18b353f17e6eaed0492bf8982034cb61be00a2ec', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}, {'number': 2, 'created': '2020-07-23 00:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d19921d9cf3a150cb61630675f474464b1b6e4', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}, {'number': 3, 'created': '2020-07-23 00:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/868e953280a71763162a6f72aefa18702f656432', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}, {'number': 4, 'created': '2020-07-23 23:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb0fff0d908ed79e458775e4fa8096c51f978b59', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}, {'number': 5, 'created': '2020-08-13 14:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a394ae266631297eac6c752413605ead808d050', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}, {'number': 6, 'created': '2020-08-17 14:51:35.000000000', 'files': ['nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/test_policy.py', 'nova/policies/networks.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/558c6e752a9c94fbe29b3da1a9cc730a331aabef', 'message': 'Add new default roles in networks policies\n\nThis adds new defaults roles in networks API policies.\nThese policies are made granular and default to\nPROJECT_READER_OR_SYSTEM_READER.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc\n'}]",2,742566,558c6e752a9c94fbe29b3da1a9cc730a331aabef,91,14,6,8556,,,0,"Add new default roles in networks policies

This adds new defaults roles in networks API policies.
These policies are made granular and default to
PROJECT_READER_OR_SYSTEM_READER.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Idcccdf6b3a1638cf140b5c4f887abbed85c5d7dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/742566/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_networks.py', 'nova/tests/unit/test_policy.py', 'nova/policies/networks.py', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/networks.py']",5,18b353f17e6eaed0492bf8982034cb61be00a2ec,bp/policy-defaults-refresh-deprecated-apis, context.can(net_policies.POLICY_ROOT % 'list') context.can(net_policies.POLICY_ROOT % 'show'), context.can(net_policies.POLICY_ROOT % 'view') context.can(net_policies.POLICY_ROOT % 'view'),75,19
openstack%2Fnova~master~I062e556feb5cc85d179fed9b675e4ab33ca3365a,openstack/nova,master,I062e556feb5cc85d179fed9b675e4ab33ca3365a,Add scope and new default roles in extensions policies,MERGED,2020-07-25 22:09:22.000000000,2020-08-21 02:45:10.000000000,2020-08-21 02:45:10.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-25 22:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d4b2cadc57b0f7c7bb52f7c4b8a7b5d6c4b6c2', 'message': 'Add scope and new default roles in extensions policies\n\nThis adds scope_type and new defaults roles in extensions\nAPI policies. These policies are for extensions API which are\nkept only for backward compatibility of v2.0 but nova does not\nhave extensions concept now and return only hard-coded info. So\nthese policies are not made granular.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a\n'}, {'number': 2, 'created': '2020-07-28 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bcc99f33159a2b11b603cac849fb5370ac2c6d7', 'message': 'Add scope and new default roles in extensions policies\n\nThis adds scope_type and new defaults roles in extensions\nAPI policies. These policies are for extensions API which are\nkept only for backward compatibility of v2.0 but nova does not\nhave extensions concept now and return only hard-coded info. So\nthese policies are not made granular.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a\n'}, {'number': 3, 'created': '2020-08-13 14:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/793aeb683b3a6fae30a21f26d2da4d167d8cb5c2', 'message': 'Add scope and new default roles in extensions policies\n\nThis adds scope_type and new defaults roles in extensions\nAPI policies. These policies are for extensions API which are\nkept only for backward compatibility of v2.0 but nova does not\nhave extensions concept now and return only hard-coded info. So\nthese policies are not made granular.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a\n'}, {'number': 4, 'created': '2020-08-17 14:40:32.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/api/openstack/compute/extension_info.py', 'nova/tests/unit/policies/test_extensions.py', 'nova/policies/extensions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/284ac43f7a79f5fa1ac6d841905770375f372b2f', 'message': 'Add scope and new default roles in extensions policies\n\nThis adds scope_type and new defaults roles in extensions\nAPI policies. These policies are for extensions API which are\nkept only for backward compatibility of v2.0 but nova does not\nhave extensions concept now and return only hard-coded info. So\nthese policies are not made granular.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a\n'}]",0,743046,284ac43f7a79f5fa1ac6d841905770375f372b2f,69,12,4,8556,,,0,"Add scope and new default roles in extensions policies

This adds scope_type and new defaults roles in extensions
API policies. These policies are for extensions API which are
kept only for backward compatibility of v2.0 but nova does not
have extensions concept now and return only hard-coded info. So
these policies are not made granular.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I062e556feb5cc85d179fed9b675e4ab33ca3365a
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/743046/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/extension_info.py', 'nova/tests/unit/policies/test_extensions.py', 'nova/policies/extensions.py']",3,c5d4b2cadc57b0f7c7bb52f7c4b8a7b5d6c4b6c2,bp/policy-defaults-refresh-deprecated-apis," name=BASE_POLICY_NAME, check_str=base.RULE_ANY, description=""List available extensions and show information "" ""for an extension by alias"", operations=[ ], scope_types=['system', 'project']),"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, ""List available extensions and show information for an extension "" ""by alias"", [ ]),",17,8
openstack%2Ftripleo-operator-ansible~master~I7abda2f24b8476a9008467d9096d06a9cb9531c6,openstack/tripleo-operator-ansible,master,I7abda2f24b8476a9008467d9096d06a9cb9531c6,DNM - Switch tripleo_deploy_become to false by default,ABANDONED,2020-08-11 15:35:01.000000000,2020-08-21 01:47:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-11 15:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/cb4ac23f03d3668948f092c6155e0f624c6a96db', 'message': 'DNM - Switch tripleo_deploy_become to false by default\n\nTest if standalone run without sudo actually works now with the recent\nchanges.\n\nChange-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6\n'}, {'number': 2, 'created': '2020-08-11 15:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/752933c26bfcc8b23b9d358a04113b3ab45ddefb', 'message': 'DNM - Switch tripleo_deploy_become to false by default\n\nTest if standalone run without sudo actually works now with the recent\nchanges.\n\nChange-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6\n'}, {'number': 3, 'created': '2020-08-11 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a8b6b5ccb943ef3bf9df9d3f6b724287fe028ddc', 'message': 'DNM - Switch tripleo_deploy_become to false by default\n\nTest if standalone run without sudo actually works now with the recent\nchanges.\n\nChange-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6\n'}, {'number': 4, 'created': '2020-08-11 18:31:10.000000000', 'files': ['roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/59d9608bbf4d471943bbf3cdc0882296aa1dddd1', 'message': 'DNM - Switch tripleo_deploy_become to false by default\n\nTest if standalone run without sudo actually works now with the recent\nchanges.\n\nDepends-On: https://review.opendev.org/745722\nChange-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6\n'}]",0,745701,59d9608bbf4d471943bbf3cdc0882296aa1dddd1,8,1,4,3153,,,0,"DNM - Switch tripleo_deploy_become to false by default

Test if standalone run without sudo actually works now with the recent
changes.

Depends-On: https://review.opendev.org/745722
Change-Id: I7abda2f24b8476a9008467d9096d06a9cb9531c6
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/01/745701/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md']",2,cb4ac23f03d3668948f092c6155e0f624c6a96db,sudo/standalone,* `tripleo_deploy_become`: (Boolean) Execute command with escalated privileges. Default: false,* `tripleo_deploy_become`: (Boolean) Execute command with escalated privileges. Default: true,2,2
openstack%2Fos-brick~stable%2Ftrain~Ib98043358d51426ca650104ad59a7e09911ee8e9,openstack/os-brick,stable/train,Ib98043358d51426ca650104ad59a7e09911ee8e9,Add release note for scaleio connector upgrade,MERGED,2020-08-18 00:45:01.000000000,2020-08-21 01:42:22.000000000,2020-08-21 00:14:50.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-18 00:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/787ce026c40d2281d58bf3e82d81c8cc3926724d', 'message': 'Add release note for scaleio connector upgrade\n\nChange I6f01a178616b74ed9a86876ca46e7e46eb360518 needs to be\nbackported and included in a new os-brick release in all releaseable\nstable branches, so add a release note saying what it does.\n\nChange-Id: Ib98043358d51426ca650104ad59a7e09911ee8e9\n(cherry picked from commit 7ca8e56d505f62c0c7ee8f614d26e8b0ccf32b3d)\n(cherry picked from commit 930ce7fab9de0e4525621a5bac27feee75ac6033)\n'}, {'number': 2, 'created': '2020-08-18 03:38:06.000000000', 'files': ['releasenotes/notes/bug-1823200-scaleio-upgrade-3e83b5c9dd148714.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c380107de59a0459b81800202d51f0291661e803', 'message': 'Add release note for scaleio connector upgrade\n\nChange I6f01a178616b74ed9a86876ca46e7e46eb360518 needs to be\nbackported and included in a new os-brick release in all releaseable\nstable branches, so add a release note saying what it does.\n\nChange-Id: Ib98043358d51426ca650104ad59a7e09911ee8e9\n(cherry picked from commit 7ca8e56d505f62c0c7ee8f614d26e8b0ccf32b3d)\n(cherry picked from commit 930ce7fab9de0e4525621a5bac27feee75ac6033)\n'}]",0,746622,c380107de59a0459b81800202d51f0291661e803,23,8,2,21129,,,0,"Add release note for scaleio connector upgrade

Change I6f01a178616b74ed9a86876ca46e7e46eb360518 needs to be
backported and included in a new os-brick release in all releaseable
stable branches, so add a release note saying what it does.

Change-Id: Ib98043358d51426ca650104ad59a7e09911ee8e9
(cherry picked from commit 7ca8e56d505f62c0c7ee8f614d26e8b0ccf32b3d)
(cherry picked from commit 930ce7fab9de0e4525621a5bac27feee75ac6033)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/22/746622/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1823200-scaleio-upgrade-3e83b5c9dd148714.yaml'],1,787ce026c40d2281d58bf3e82d81c8cc3926724d,bug/1823200,"--- fixes: - | `Bug #1823200 <https://bugs.launchpad.net/cinder/+bug/1823200>`_: Prior fixes for this bug changed the connection properties but did not take into account an upgrade scenario in which currently attached volumes had the old format connection properties and could fail on detatch with ""KeyError: 'config_group'"". This release updates the 'scaleio' connector to handle this situation. It is only applicable to deployments using a Dell EMC PowerFlex/VxFlex OS/ScaleIO backend. ",,10,0
openstack%2Fkolla-ansible~master~Id0750b84fef8e19658b27f8ae16a857e1394216e,openstack/kolla-ansible,master,Id0750b84fef8e19658b27f8ae16a857e1394216e,Add trove-guestagent.conf,MERGED,2020-06-26 02:11:10.000000000,2020-08-21 01:41:02.000000000,2020-08-10 12:21:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-26 02:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fef4b10153fddac9525c558fe12b249280f6886', 'message': 'Add trove-guestagent.conf\n\nBy default, when creating a trove instance, the trove-guestagent.conf\nconfiguration file is missing, causing the instance creation to fail\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 2, 'created': '2020-07-15 04:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8d6cdc302742cc4d38b18209eabd544cc24b7b2', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagetn.conf tempest for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 3, 'created': '2020-07-15 04:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/add458f6ecda6ed1a87d446acc85171c1ac216ad', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagetn.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 4, 'created': '2020-07-20 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/389674404fa88223dec1f047e812ba51d015df7b', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 5, 'created': '2020-07-23 03:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c89eb1ce565e6c511a6264ad10edaba73d7eb38d', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 6, 'created': '2020-07-29 09:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17ab1083e06dffca95e2efc7ed0525acb3a1b467', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 7, 'created': '2020-07-30 00:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3705edb86dcb2fc0ccf6500e0a18a0f30639bb0f', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}, {'number': 8, 'created': '2020-08-10 08:23:11.000000000', 'files': ['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'releasenotes/notes/add-trove-guestagent-5482833a0c99033a.yaml', 'ansible/roles/trove/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38881963344446f43ad667d3ceeac8348fac5f37', 'message': 'Add trove-guestagent.conf\n\nAdd trove-guestagent.conf templates for trove-guestagent service.\nDefault the Guest Agent config file to be injected during instance creation.\n\nChange-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e\n'}]",8,738135,38881963344446f43ad667d3ceeac8348fac5f37,42,5,8,32029,,,0,"Add trove-guestagent.conf

Add trove-guestagent.conf templates for trove-guestagent service.
Default the Guest Agent config file to be injected during instance creation.

Change-Id: Id0750b84fef8e19658b27f8ae16a857e1394216e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/738135/8 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove-taskmanager.json.j2', 'ansible/roles/trove/templates/trove-guestagent.conf.j2', 'ansible/roles/trove/tasks/config.yml']",3,8fef4b10153fddac9525c558fe12b249280f6886,add_guestagent_conf,"- name: Copying over trove-guestagent.conf vars: service_name: ""{{ item.key }}"" merge_configs: sources: - ""{{ role_path }}/templates/trove-guestagent.conf.j2"" - ""{{ node_custom_config }}/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/trove-guestagent.conf"" - ""{{ node_custom_config }}/trove/{{ inventory_hostname }}/trove-guestagent.conf"" dest: ""{{ node_config_directory }}/{{ item.key }}/trove-guestagent.conf"" mode: ""0660"" become: true when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ trove_services }}"" notify: - ""Restart {{ item.key }} container"" ",,49,0
openstack%2Fkolla-ansible~master~I15d6891582c92c7fc813f280a2b47ebaaca77eba,openstack/kolla-ansible,master,I15d6891582c92c7fc813f280a2b47ebaaca77eba,Update trove config file,MERGED,2020-07-20 12:22:11.000000000,2020-08-21 01:40:43.000000000,2020-07-22 12:32:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-20 12:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/816d4f221cd719b6f43bccc0d64d280dd34d28a5', 'message': 'Update trove config file\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba\n'}, {'number': 2, 'created': '2020-07-21 01:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05ce4ff7eed2263a9ffcbbe1b7299fb50bf241be', 'message': 'Update trove config file\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba\n'}, {'number': 3, 'created': '2020-07-21 01:54:12.000000000', 'files': ['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/712b27daea958094d3aae6b1df26c391fe8e4200', 'message': 'Update trove config file\n\nOption ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.\nUse option ""auth_url/region_name"" from group service_credentials\n\nChange-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba\n'}]",0,741927,712b27daea958094d3aae6b1df26c391fe8e4200,14,4,3,32029,,,0,"Update trove config file

Option ""trove_auth_url/os_region_name"" from group ""DEFAULT"" is deprecated.
Use option ""auth_url/region_name"" from group service_credentials

Change-Id: I15d6891582c92c7fc813f280a2b47ebaaca77eba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/741927/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2']",3,816d4f221cd719b6f43bccc0d64d280dd34d28a5,update-config,[service_credentials] auth_url = {{ keystone_internal_url }}/v3 region_name = {{ openstack_region_name }} ,trove_auth_url = {{ keystone_internal_url }}/v3 os_region_name = {{ openstack_region_name }} ,11,10
openstack%2Fos-brick~stable%2Fqueens~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,stable/queens,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2020-08-03 09:31:02.000000000,2020-08-21 01:34:26.000000000,2020-08-20 23:09:36.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27419}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-08-03 09:31:02.000000000', 'files': ['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f85e7e61f8bc333645b5bf26d3973db2d91b12a5', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)\n(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)\n(cherry picked from commit 7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d)\n(cherry picked from commit 4e2e1bedb657cdb1ab01e77bc14b976b00df284a)\n""}]",0,744428,f85e7e61f8bc333645b5bf26d3973db2d91b12a5,26,12,1,10459,,,0,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)
(cherry picked from commit a8190cd60b59dedb11a8ed27d236d81adee3255d)
(cherry picked from commit 7168bdce5bcdf3f1a27c6fc9f998c1f3f5364f3d)
(cherry picked from commit 4e2e1bedb657cdb1ab01e77bc14b976b00df284a)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/28/744428/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py']",2,f85e7e61f8bc333645b5bf26d3973db2d91b12a5,," """"""Returns a dict of mounts and their mountpoint Format reference: http://man7.org/linux/man-pages/man5/fstab.5.html """""" with open(""/proc/mounts"", ""r"") as mounts: # Remove empty lines and split lines by whitespace lines = [l.split() for l in mounts.read().splitlines() if l.strip()] # Return {mountpoint: mountdevice}. Fields 2nd and 1st as per # http://man7.org/linux/man-pages/man5/fstab.5.html return {line[1]: line[0] for line in lines if line[0] != '#'}"," (out, _err) = self._execute('mount', check_exit_code=0) lines = out.split('\n') mounts = {} for line in lines: tokens = line.split() if 2 < len(tokens): device = tokens[0] mnt_point = tokens[2] mounts[mnt_point] = device return mounts",21,16
openstack%2Fneutron~master~I0739458ac31307d651376a33a835336285d2c7dd,openstack/neutron,master,I0739458ac31307d651376a33a835336285d2c7dd,Raise minimal greenlet version,MERGED,2020-08-19 13:30:26.000000000,2020-08-21 01:29:37.000000000,2020-08-21 01:27:43.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-19 13:30:26.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee50f7cfcf3b06ca599cb0e12ca33d9f15f22b0c', 'message': 'Raise minimal greenlet version\n\nAs seen in Ubuntu Focal test patches like [1], lower-constraints fails\non greenlet compilation. 0.4.13 added python 3.7 support with additional\nfixes coming in .14 so bumping to this version.\n\n[1] https://review.opendev.org/#/c/734304/\n\nChange-Id: I0739458ac31307d651376a33a835336285d2c7dd\n'}]",0,746922,ee50f7cfcf3b06ca599cb0e12ca33d9f15f22b0c,13,6,1,21798,,,0,"Raise minimal greenlet version

As seen in Ubuntu Focal test patches like [1], lower-constraints fails
on greenlet compilation. 0.4.13 added python 3.7 support with additional
fixes coming in .14 so bumping to this version.

[1] https://review.opendev.org/#/c/734304/

Change-Id: I0739458ac31307d651376a33a835336285d2c7dd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/746922/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ee50f7cfcf3b06ca599cb0e12ca33d9f15f22b0c,migrate-to-focal,greenlet==0.4.14,greenlet==0.4.10,1,1
openstack%2Ftripleo-docs~master~I78809157916e7b389de06c7dba8fd1afe2d95e0e,openstack/tripleo-docs,master,I78809157916e7b389de06c7dba8fd1afe2d95e0e,Fix inconsistencies in with containers-prepare-parameters.yaml,MERGED,2020-08-20 14:33:09.000000000,2020-08-21 01:13:29.000000000,2020-08-21 01:11:50.000000000,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 14:33:09.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/deployment/container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4856c840fbd96cb264ecedbff621763552167372', 'message': 'Fix inconsistencies in with containers-prepare-parameters.yaml\n\nAdd missing sudo and fix inconsistencies between pages with\ncontainers-prepare-parameters.yaml\n\nChange-Id: I78809157916e7b389de06c7dba8fd1afe2d95e0e\n'}]",0,747181,4856c840fbd96cb264ecedbff621763552167372,11,3,1,15993,,,0,"Fix inconsistencies in with containers-prepare-parameters.yaml

Add missing sudo and fix inconsistencies between pages with
containers-prepare-parameters.yaml

Change-Id: I78809157916e7b389de06c7dba8fd1afe2d95e0e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/81/747181/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/deployment/container_image_prepare.rst']",2,4856c840fbd96cb264ecedbff621763552167372,fixtypos,"specified in its own file `containers-prepare-parameters.yaml`.To generate the `containers-prepare-parameters.yaml` containing these defaults, --output-env-file containers-prepare-parameters.yaml`containers-prepare-parameters.yaml` file:: --output-env-file containers-prepare-parameters.yaml `container_images_file=$HOME/containers-prepare-parameters.yaml` (see $HOME/containers-prepare-parameters.yaml` -e ~/containers-prepare-parameters.yaml","specified in its own file `containers-prepare-parameter.yaml`.To generate the `containers-prepare-parameter.yaml` containing these defaults, --output-env-file containers-prepare-parameter.yaml`containers-prepare-parameter.yaml` file:: --output-env-file containers-prepare-parameter.yaml `container_images_file=$HOME/containers-prepare-parameter.yaml` (see $HOME/containers-prepare-parameter.yaml` -e ~/containers-prepare-parameter.yaml",9,9
openstack%2Fproject-config~master~I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,openstack/project-config,master,I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a,"Revert ""Pause all image builds""",MERGED,2020-08-20 23:23:51.000000000,2020-08-21 00:52:49.000000000,2020-08-21 00:40:40.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 23:23:51.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/88a8bf3aa613120c31a2d6198686feb41bdc192e', 'message': 'Revert ""Pause all image builds""\n\nThis reverts commit 37461abc86a972e5a16000970023a65f142d9603.\n\nThis should be fixed with dib 3.2.1 which has rolled out via\nhttps://review.opendev.org/#/c/747303/\n\nChange-Id: I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a\n'}]",0,747312,88a8bf3aa613120c31a2d6198686feb41bdc192e,8,3,1,7118,,,0,"Revert ""Pause all image builds""

This reverts commit 37461abc86a972e5a16000970023a65f142d9603.

This should be fixed with dib 3.2.1 which has rolled out via
https://review.opendev.org/#/c/747303/

Change-Id: I94290ed8c37ff5b402f90e6eeec1e4fd34893c2a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/747312/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml']",2,88a8bf3aa613120c31a2d6198686feb41bdc192e,unpause-git-removal, pause: false pause: false pause: false pause: false pause: false pause: false, pause: true pause: true pause: true pause: true pause: true pause: true,17,17
openstack%2Fmanila~stable%2Fussuri~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,stable/ussuri,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,ABANDONED,2020-08-20 23:35:47.000000000,2020-08-21 00:51:44.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-20 23:35:47.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-network-update-response-with-subnets.json', 'api-ref/source/share-networks.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/share-network-subnet-show-response.json', 'api-ref/source/samples/share-network-subnet-list-response.json', 'api-ref/source/samples/share-servers-list-response.json', 'api-ref/source/samples/share-server-manage-response.json', 'api-ref/source/samples/share-server-show-response.json', 'api-ref/source/samples/share-replica-create-request.json', 'api-ref/source/samples/share-network-create-request.json', 'api-ref/source/samples/share-network-subnet-create-response.json', 'api-ref/source/samples/share-network-create-response-with-subnets.json', 'api-ref/source/samples/share-network-show-response-with-subnets.json', 'api-ref/source/samples/share-networks-list-detailed-response-with-subnets.json', 'api-ref/source/samples/share-network-remove-security-service-response-with-subnets.json', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/common/share-network-span-multiple-subnets-note.rst', 'api-ref/source/share-replicas.inc', 'api-ref/source/samples/share-network-add-security-service-response-with-subnets.json', 'api-ref/source/share-servers.inc', 'api-ref/source/samples/share-network-subnet-create-request.json', 'api-ref/source/samples/share-server-manage-request.json'], 'web_link': 'https://opendev.org/openstack/manila/commit/51ea2354826511995c6b72bc7f0fab34494981fc', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\nPartial-Bug: #1843953\n(cherry picked from commit de62a36e3fcb77391d62e7e30a6e45a258aba5f7)\n'}]",0,747313,51ea2354826511995c6b72bc7f0fab34494981fc,5,4,1,29632,,,0,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
(cherry picked from commit de62a36e3fcb77391d62e7e30a6e45a258aba5f7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/747313/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-network-update-response-with-subnets.json', 'api-ref/source/share-networks.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/share-network-subnet-show-response.json', 'api-ref/source/samples/share-network-subnet-list-response.json', 'api-ref/source/samples/share-servers-list-response.json', 'api-ref/source/samples/share-server-manage-response.json', 'api-ref/source/samples/share-server-show-response.json', 'api-ref/source/samples/share-replica-create-request.json', 'api-ref/source/samples/share-network-create-request.json', 'api-ref/source/samples/share-network-subnet-create-response.json', 'api-ref/source/samples/share-network-create-response-with-subnets.json', 'api-ref/source/samples/share-network-show-response-with-subnets.json', 'api-ref/source/samples/share-networks-list-detailed-response-with-subnets.json', 'api-ref/source/samples/share-network-remove-security-service-response-with-subnets.json', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/common/share-network-span-multiple-subnets-note.rst', 'api-ref/source/share-replicas.inc', 'api-ref/source/samples/share-network-add-security-service-response-with-subnets.json', 'api-ref/source/share-servers.inc', 'api-ref/source/samples/share-network-subnet-create-request.json', 'api-ref/source/samples/share-server-manage-request.json']",23,51ea2354826511995c6b72bc7f0fab34494981fc,bug/1843953-stable/ussuri," ""share_network_subnet_id"": ""f53252f0-c2a9-4d7c-af41-1c6f3cfb3af3"",",,773,35
openstack%2Ftacker~master~If186db981ef834f11d82777b0e1d4e5f6752a8b0,openstack/tacker,master,If186db981ef834f11d82777b0e1d4e5f6752a8b0,Support a judgement of NFVO operation condition,ABANDONED,2020-08-20 00:27:04.000000000,2020-08-21 00:51:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-08-20 00:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a466222e6b005f2d2c5dd9eae294bfe8bfb9f5bb', 'message': 'Support a judgement of NFVO operation condition\n\nSupported judging NFVO operation condition.\nThis is related to PKG information and Granting information.\n\nChange-Id: If186db981ef834f11d82777b0e1d4e5f6752a8b0\n'}, {'number': 2, 'created': '2020-08-20 10:13:04.000000000', 'files': ['tacker/tests/unit/vnfm/test_nfvo_client.py', 'tacker/tests/unit/vnfm/sample_vnf_package_artifact.yaml', 'tacker/tests/unit/vnfm/sample_vnf_package_content.zip', 'tacker/tests/unit/vnfm/sample_vnf_package_vnfd.zip', 'tacker/vnfm/nfvo_client.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/31b1632538246fc4b782bf0ff555b75ee7bde810', 'message': 'Support a judgement of NFVO operation condition\n\nSupported judging NFVO operation condition.\nThis is related to PKG information and Granting information.\n\nChange-Id: If186db981ef834f11d82777b0e1d4e5f6752a8b0\n'}]",0,747061,31b1632538246fc4b782bf0ff555b75ee7bde810,5,5,2,31813,,,0,"Support a judgement of NFVO operation condition

Supported judging NFVO operation condition.
This is related to PKG information and Granting information.

Change-Id: If186db981ef834f11d82777b0e1d4e5f6752a8b0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/61/747061/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/test_nfvo_client.py', 'tacker/tests/unit/vnfm/sample_vnf_package_artifact.yaml', 'tacker/tests/unit/vnfm/sample_vnf_package_content.zip', 'tacker/tests/unit/vnfm/sample_vnf_package_vnfd.zip', 'test-requirements.txt', 'tacker/vnfm/nfvo_client.py']",6,a466222e6b005f2d2c5dd9eae294bfe8bfb9f5bb,bp/support-etsi-nfv-specs,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import io import os import requests import time import zipfile from oslo_config import cfg from oslo_log import log as logging LOG = logging.getLogger(__name__) class UndefinedExternalSettingException(Exception): pass class FaliedDownloadContentException(Exception): pass class _Connect: def __init__(self, retry_num=0, retry_wait=0, timeout=0): self.retry_num = retry_num self.retry_wait = retry_wait self.timeout = timeout def replace_placeholder_url(self, base_url, path, *params): replace_placeholder_url = os.path.join(base_url, path) try: return replace_placeholder_url.format(*params) except Exception: return replace_placeholder_url def request(self, *args, **kwargs): return self.__request( requests.Session().request, *args, timeout=self.timeout, **kwargs) def __request(self, request_function, *args, **kwargs): connect_cnt = 0 response = None while True: LOG.info(""Connecting to <{}:{}>, count=<{}>"".format( args[0], args[1], connect_cnt + 1)) if 'headers' in kwargs: LOG.info(""[REQ] HEADERS={}"".format(kwargs['headers'])) if 'data' in kwargs: LOG.info(""[REQ] BODY={}"".format(kwargs['data'])) if 'json' in kwargs: LOG.info(""[REQ] BODY={}"".format(kwargs['json'])) try: response = request_function(*args, **kwargs) if 200 <= response.status_code <= 299: return response elif response.status_code == 401: pass LOG.error(""Connected error. Failed http status=<{}>"".format( response.status_code)) except requests.exceptions.ConnectTimeout as e: LOG.error(""Connected error. details=<{}>"".format(e)) if connect_cnt < self.retry_num: connect_cnt += 1 time.sleep(self.retry_wait) else: break raise requests.exceptions.RequestException(response=response) class VnfPackageRequest: OPTS = [ cfg.StrOpt('base_url', default=None, help=""vnf_pakages base_url""), cfg.ListOpt('pipeline', default=None, help=""Get vnf_pakages api pipeline""), cfg.StrOpt('package_content', default=""{}/package_content"", help=""Get vnf_pakages api of package_content""), cfg.StrOpt('vnfd', default=""{}/vnfd"", help=""Get vnf_pakages api of vnfd""), cfg.StrOpt('artifacts', default=""{}/artifacts/{}"", help=""Get vnf_pakages api of artifacts""), cfg.IntOpt('retry_num', default=2, help=""Number of vnf_pakages retry count""), cfg.IntOpt('retry_wait', default=30, help=""Number of vnf_pakages retry wait""), cfg.IntOpt('timeout', default=20, help=""Number of vnf_pakages connect timeout"") ] cfg.CONF.register_opts(OPTS, group='connect_vnf_pakages') _connector = _Connect( cfg.CONF.connect_vnf_pakages.retry_num, cfg.CONF.connect_vnf_pakages.retry_wait, cfg.CONF.connect_vnf_pakages.timeout) @classmethod def validate(cls): """"""Check config settings. Raises: UndefinedExternalSettingException: tacker.conf undefined setting. """""" if (not cfg.CONF.connect_vnf_pakages.base_url or cfg.CONF.connect_vnf_pakages.base_url.strip() == ''): raise UndefinedExternalSettingException( ""Vnf package the external setting to 'base_url' undefined."") @classmethod def _write(cls, vnf_package_zip, response, filename=None): def write_zip(): with zipfile.ZipFile(io.BytesIO(response.content)) as fin: for info in fin.infolist(): vnf_package_zip.writestr( info.filename, fin.read(info.filename)) def get_filename(): content_disposition = response.headers.get('Content-Disposition') if not content_disposition: return None attribute = 'filename=' return content_disposition[content_disposition.find( attribute) + len(attribute):] if response.headers.get('Content-Type') == 'application/zip': write_zip() return filename = get_filename() if (not filename) else filename if filename: vnf_package_zip.writestr(filename, response.content) return raise FaliedDownloadContentException( ""Failed response content, vnf_package_zip={}"".format( vnf_package_zip)) @classmethod def download_vnf_packages(cls, vnf_package_id, artifact_paths=None): """"""Get vnf packages from the nfvo. Args: vnf_package_id (UUID): VNF Package ID artifact_paths (list, optional): artifatcs paths. Defaults to []. Returns: io.BytesIO: zip archive for vnf packages content. Raises: takcer.nfvo.nfvo_client.UndefinedExternalSettingException: tacker.conf undefined setting. requests.exceptions.RequestException: Failed connected, download vnf packages. takcer.nfvo.nfvo_client.FaliedDownloadContentException: Failed content, create vnf package zip file. """""" cls.validate() if not cfg.CONF.connect_vnf_pakages.pipeline or len( cfg.CONF.connect_vnf_pakages.pipeline) == 0: raise UndefinedExternalSettingException( ""Vnf package the external setting to 'pipeline' undefined."") if artifact_paths is None: artifact_paths = [] def download_vnf_package(pipeline_type, vnf_package_zip): if pipeline_type == 'package_content': cls._download_package_content(vnf_package_zip, vnf_package_id) elif pipeline_type == 'vnfd': cls._download_vnfd( vnf_package_zip, vnf_package_id) elif pipeline_type == 'artifacts': cls._download_artifacts(vnf_package_zip, vnf_package_id, artifact_paths) else: raise UndefinedExternalSettingException( ""Vnf package the external setting to 'pipeline=<{}>' "" + ""not supported."".format(pipeline_type)) zip_buffer = io.BytesIO() with zipfile.ZipFile(zip_buffer, mode='w', compression=zipfile.ZIP_DEFLATED) as vnf_package_zip: for pipeline_type in cfg.CONF.connect_vnf_pakages.pipeline: download_vnf_package(pipeline_type, vnf_package_zip) return zip_buffer @classmethod def _download_package_content(cls, vnf_package_zip, vnf_package_id): LOG.info(""Processing: download vnf_package to package content."") request_url = cls._connector.replace_placeholder_url( cfg.CONF.connect_vnf_pakages.base_url, cfg.CONF.connect_vnf_pakages.package_content, vnf_package_id) response = cls._connector.request('GET', request_url) cls._write(vnf_package_zip, response) @classmethod def _download_vnfd(cls, vnf_package_zip, vnf_package_id): LOG.info(""Processing: download vnf_package to vnfd."") request_url = cls._connector.replace_placeholder_url( cfg.CONF.connect_vnf_pakages.base_url, cfg.CONF.connect_vnf_pakages.vnfd, vnf_package_id) # zip format only. headers = {'Accept': 'application/zip'} response = cls._connector.request('GET', request_url, headers=headers) cls._write(vnf_package_zip, response) @classmethod def _download_artifacts( cls, vnf_package_zip, vnf_package_id, artifact_paths): LOG.info(""Processing: download vnf_package to artifact."") for artifact_path in artifact_paths: request_url = cls._connector.replace_placeholder_url( cfg.CONF.connect_vnf_pakages.base_url, cfg.CONF.connect_vnf_pakages.artifacts, vnf_package_id, artifact_path) response = cls._connector.request('GET', request_url) cls._write(vnf_package_zip, response, artifact_path) @classmethod def index(cls, **kwargs): """"""List vnf package. Args: kwargs: any other parameter that can be passed to requests.Session.request. Returns: requests.Response: individual vnf package. """""" cls.validate() LOG.info(""Processing: index vnf_package."") return cls._connector.request( 'GET', cfg.CONF.connect_vnf_pakages.base_url, **kwargs) @classmethod def show(cls, vnf_package_id, **kwargs): """"""Individual vnf package. Args: vnf_package_id (UUID): VNF Package ID. kwargs: any other parameter that can be passed to requests.Session.request. Returns: requests.Response: individual vnf package. """""" cls.validate() LOG.info(""Processing: show vnf_package."") request_url = cls._connector.replace_placeholder_url( cfg.CONF.connect_vnf_pakages.base_url, vnf_package_id) return cls._connector.request('GET', request_url, **kwargs) class GrantRequest: OPTS = [ cfg.StrOpt('base_url', default=None, help=""grant of base_url""), cfg.IntOpt('retry_num', default=2, help=""Number of grant retry count""), cfg.IntOpt('retry_wait', default=30, help=""Number of grant retry wait""), cfg.IntOpt('timeout', default=20, help=""Number of grant connect timeout"") ] cfg.CONF.register_opts(OPTS, group='connect_grant') _connector = _Connect( cfg.CONF.connect_grant.retry_num, cfg.CONF.connect_grant.retry_wait, cfg.CONF.connect_grant.timeout) @classmethod def validate(cls): """"""Check config settings. Raises: UndefinedExternalSettingException: tacker.conf undefined setting. """""" if (not cfg.CONF.connect_grant.base_url or cfg.CONF.connect_grant.base_url.strip() == ''): raise UndefinedExternalSettingException( ""Grant the external setting to 'base_url' undefined."") @classmethod def grants(cls, **kwargs): """"""grants request. Args: kwargs: any other parameter that can be passed to requests.Session.request. Returns: io.BytesIO: zip archive for vnf packages content. Raises: takcer.nfvo.nfvo_client.UndefinedExternalSettingException: tacker.conf undefined setting. requests.exceptions.RequestException: Failed connected, download vnf packages. takcer.nfvo.nfvo_client.FaliedDownloadContentException: Failed content, create vnf package zip file. """""" cls.validate() return cls._connector.request( 'POST', cfg.CONF.connect_grant.base_url, **kwargs) ",,997,0
openstack%2Fneutron-dynamic-routing~stable%2Ftrain~I0f76092c90ad2713057962c74d3535e9db9e3438,openstack/neutron-dynamic-routing,stable/train,I0f76092c90ad2713057962c74d3535e9db9e3438,[stable only] Fix functional job,MERGED,2020-08-20 08:40:20.000000000,2020-08-21 00:51:01.000000000,2020-08-21 00:49:11.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 08:40:20.000000000', 'files': ['playbooks/neutron-dynamic-routing-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/55dbf49e32cda926f08a4a4789a98c502e0f787a', 'message': '[stable only] Fix functional job\n\nFunctional job on stable/train now fails not finding tox, use ensure-tox\nin similar way to neutron stable branches to fix it\n\nChange-Id: I0f76092c90ad2713057962c74d3535e9db9e3438\n'}]",0,747126,55dbf49e32cda926f08a4a4789a98c502e0f787a,13,5,1,21798,,,0,"[stable only] Fix functional job

Functional job on stable/train now fails not finding tox, use ensure-tox
in similar way to neutron stable branches to fix it

Change-Id: I0f76092c90ad2713057962c74d3535e9db9e3438
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/26/747126/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/neutron-dynamic-routing-dsvm-functional/run.yaml'],1,55dbf49e32cda926f08a4a4789a98c502e0f787a,, - name: Ensure tox is installed include_role: name: ensure-tox vars: ensure_global_symlinks: True,,5,1
openstack%2Fmanila~stable%2Ftrain~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/train,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:18:21.000000000,2020-08-21 00:15:29.000000000,2020-08-21 00:13:52.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-17 17:18:21.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/ecb9d6396c529bbcba861f205932f4b45a67d1af', 'message': 'Add uWSGI configuration samples\n\nAdded some samples on uWSGI config and some docs\non how to run manila with uWSGI for contributors.\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36\n(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)\n(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)\n'}]",0,746570,ecb9d6396c529bbcba861f205932f4b45a67d1af,12,5,1,16643,,,0,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
(cherry picked from commit 8f5d81586ead346c6cde995d7baf2910663f7211)
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/746570/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf']",4,ecb9d6396c529bbcba861f205932f4b45a67d1af,bug/1682694,"KeepAlive Off SetEnv proxy-sendchunked 1 ProxyPass ""/share"" ""http://127.0.0.1:51999"" retry=0 ",,101,0
openstack%2Fpuppet-magnum~master~I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,openstack/puppet-magnum,master,I9e2fa1f42900ab1e504e3c6a54b18061e31e5694,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:14:18.000000000,2020-08-21 00:13:06.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/magnum_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-aee79eff505734d9.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b422537ec90dc3a32019d00dbdde65c8803618b7', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I9e2fa1f42900ab1e504e3c6a54b18061e31e5694\nCloses-Bug: #1892284\n'}]",0,747081,b422537ec90dc3a32019d00dbdde65c8803618b7,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I9e2fa1f42900ab1e504e3c6a54b18061e31e5694
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/81/747081/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/magnum_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-aee79eff505734d9.yaml', 'manifests/keystone/authtoken.pp']",3,b422537ec90dc3a32019d00dbdde65c8803618b7,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fpuppet-vitrage~master~I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,openstack/puppet-vitrage,master,I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-21 00:09:02.000000000,2020-08-21 00:07:38.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/vitrage_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-a220612330063caa.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/10ce01e3c9915c8f5db67d88149f73b7ae1b7858', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c\nCloses-Bug: #1892284\n'}]",0,747086,10ce01e3c9915c8f5db67d88149f73b7ae1b7858,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I004d2c8e9bc1ce82d21d71b8b8b5c95816a0104c
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/86/747086/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vitrage_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-a220612330063caa.yaml', 'manifests/keystone/authtoken.pp']",3,10ce01e3c9915c8f5db67d88149f73b7ae1b7858,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fceilometer~stable%2Fussuri~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,stable/ussuri,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 20:42:53.000000000,2020-08-21 00:06:07.000000000,2020-08-21 00:04:12.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-08-19 20:42:53.000000000', 'files': ['ceilometer/gnocchi_client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e92e4347aa24291571eb66e6a5ccad488bf5d57c', 'message': 'Run migration with NotFound exception as well\n\nGnocchi start returning regular 404 when requesting resource that do not\nexist [1]. That means, that in case of 404, which is also excpected,\nwe just fail resource creation.\n\n[1] http://paste.openstack.org/show/796938/\n\nChange-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338\n(cherry picked from commit 648ce9b6687e43d504d53111725200734053357e)\n'}]",1,747033,e92e4347aa24291571eb66e6a5ccad488bf5d57c,12,5,1,28619,,,0,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
(cherry picked from commit 648ce9b6687e43d504d53111725200734053357e)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/747033/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/gnocchi_client.py'],1,e92e4347aa24291571eb66e6a5ccad488bf5d57c,," except (gnocchi_exc.ResourceTypeNotFound, gnocchi_exc.NotFound):", except gnocchi_exc.ResourceTypeNotFound:,1,1
openstack%2Fpuppet-ec2api~master~I0376fd70a261413621726b82524f57ab59b1c73e,openstack/puppet-ec2api,master,I0376fd70a261413621726b82524f57ab59b1c73e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:59:34.000000000,2020-08-20 23:58:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-af01457e6e2f6460.yaml', 'spec/classes/ec2api_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/69e3ae15e4248c50aacf5e10c2becddb11c5508d', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I0376fd70a261413621726b82524f57ab59b1c73e\nCloses-Bug: #1892284\n'}]",0,747087,69e3ae15e4248c50aacf5e10c2becddb11c5508d,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I0376fd70a261413621726b82524f57ab59b1c73e
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/87/747087/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-af01457e6e2f6460.yaml', 'spec/classes/ec2api_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,69e3ae15e4248c50aacf5e10c2becddb11c5508d,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fpuppet-sahara~master~I08be47f277fa47498b54c3084a76aefee82eea58,openstack/puppet-sahara,master,I08be47f277fa47498b54c3084a76aefee82eea58,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 23:58:55.000000000,2020-08-20 23:57:43.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-88fd7bdb8d69271d.yaml', 'spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/f2eba4634b73c27ec6b5282f0d2fcbd7890f463d', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I08be47f277fa47498b54c3084a76aefee82eea58\nCloses-Bug: #1892284\n'}]",0,747082,f2eba4634b73c27ec6b5282f0d2fcbd7890f463d,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I08be47f277fa47498b54c3084a76aefee82eea58
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/82/747082/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-88fd7bdb8d69271d.yaml', 'spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,f2eba4634b73c27ec6b5282f0d2fcbd7890f463d,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fpuppet-mistral~master~Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,openstack/puppet-mistral,master,Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:48.000000000,2020-08-20 23:52:29.000000000,2020-08-20 23:51:04.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:48.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-8e3895d3bf4b6100.yaml', 'spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/e361bf81816c130bedf3b0c96385108fee1729a3', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb\nCloses-Bug: #1892284\n'}]",0,747090,e361bf81816c130bedf3b0c96385108fee1729a3,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ibd8a469428cf99cdafb3668e00c3b05b4762e7eb
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/90/747090/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-8e3895d3bf4b6100.yaml', 'spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,e361bf81816c130bedf3b0c96385108fee1729a3,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fmanila~master~I667a26cbf9ea93509718b71dadc8fb304fbca855,openstack/manila,master,I667a26cbf9ea93509718b71dadc8fb304fbca855,Add api-ref for share network subnets,MERGED,2019-10-07 17:17:24.000000000,2020-08-20 23:35:47.000000000,2020-08-20 22:43:47.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-07 17:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3055a43ab470f698770d8b9d3fff3545f38309f0', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\n'}, {'number': 2, 'created': '2019-10-09 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/125909204a6ba4dd0af1c83a9dc88f9a9f1fafb7', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\n'}, {'number': 3, 'created': '2019-11-27 18:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2f548d4fc4db58db0f334eec0eafad35ee773353', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\nPartial-Bug: #1843953\n'}, {'number': 4, 'created': '2020-08-06 21:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c6219d1ae5d2644432ced9b2aa69f16d7aeefc42', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\nPartial-Bug: #1843953\n'}, {'number': 5, 'created': '2020-08-06 21:59:00.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-network-update-response-with-subnets.json', 'api-ref/source/share-networks.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/share-network-subnet-show-response.json', 'api-ref/source/samples/share-network-subnet-list-response.json', 'api-ref/source/samples/share-servers-list-response.json', 'api-ref/source/samples/share-server-manage-response.json', 'api-ref/source/samples/share-server-show-response.json', 'api-ref/source/samples/share-replica-create-request.json', 'api-ref/source/samples/share-network-create-request.json', 'api-ref/source/samples/share-network-subnet-create-response.json', 'api-ref/source/samples/share-network-create-response-with-subnets.json', 'api-ref/source/samples/share-network-show-response-with-subnets.json', 'api-ref/source/samples/share-networks-list-detailed-response-with-subnets.json', 'api-ref/source/samples/share-network-remove-security-service-response-with-subnets.json', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/common/share-network-span-multiple-subnets-note.rst', 'api-ref/source/share-replicas.inc', 'api-ref/source/samples/share-network-add-security-service-response-with-subnets.json', 'api-ref/source/share-servers.inc', 'api-ref/source/samples/share-network-subnet-create-request.json', 'api-ref/source/samples/share-server-manage-request.json'], 'web_link': 'https://opendev.org/openstack/manila/commit/de62a36e3fcb77391d62e7e30a6e45a258aba5f7', 'message': 'Add api-ref for share network subnets\n\nThis patch updates the API reference to fit into the changes that\nwere done in order to implement share networks with multiple\nsubnets.\n\nChange-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855\nPartial-Bug: #1843953\n'}]",209,687108,de62a36e3fcb77391d62e7e30a6e45a258aba5f7,46,12,5,29632,,,0,"Add api-ref for share network subnets

This patch updates the API reference to fit into the changes that
were done in order to implement share networks with multiple
subnets.

Change-Id: I667a26cbf9ea93509718b71dadc8fb304fbca855
Partial-Bug: #1843953
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/687108/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-servers-list-response-with-subnet.json', 'api-ref/source/share-networks.inc', 'api-ref/source/index.rst', 'api-ref/source/samples/share-network-subnet-show-response.json', 'api-ref/source/samples/share-network-subnet-list-response.json', 'api-ref/source/samples/share-server-show-response-with-subnet.json', 'api-ref/source/samples/share-network-subnet-create-response.json', 'api-ref/source/samples/share-server-manage-response-with-subnet.json', 'api-ref/source/samples/share-network-show-response-with-subnets.json', 'api-ref/source/samples/share-networks-list-detailed-response-with-subnets.json', 'api-ref/source/samples/share-server-manage-request-with-subnet.json', 'api-ref/source/samples/share-replica-create-request-without-share-network.json', 'api-ref/source/share-network-subnets.inc', 'api-ref/source/samples/share-network-create-request-with-availability-zone.json', 'api-ref/source/share-replicas.inc', 'api-ref/source/share-servers.inc', 'api-ref/source/samples/share-network-create-response-with-subnet.json', 'api-ref/source/samples/share-network-subnet-create-request.json']",19,3055a43ab470f698770d8b9d3fff3545f38309f0,bug/1843953,"{ ""share-network-subnet"": { ""neutron_net_id"": ""62187648-6617-4509-a780-ffc973a7fe43"", ""neutron_subnet_id"": ""2276888a-27c1-47c2-82a0-ea33050128b5"", ""availability_zone"": ""manila-zone-0"" } } ",,683,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/train,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:24.000000000,2020-08-20 23:34:02.000000000,2020-08-20 23:32:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 21:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/327278a408a4c912d3f22982eec5dbb5cdd08141', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)\n""}, {'number': 2, 'created': '2020-08-19 21:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e472c1566ee728807126c845b6887f26d0b0ffce', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)\n""}, {'number': 3, 'created': '2020-08-20 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e09dbcfed9f9471ab2dd5c59cdc9332ab02a778', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)\n""}, {'number': 4, 'created': '2020-08-20 13:42:00.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'doc/source/modules/modules-tripleo-container-config-scripts.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90e15f4bbc4f4869cf5b2ddab289920bc356ab5d', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)\n""}]",0,747042,90e15f4bbc4f4869cf5b2ddab289920bc356ab5d,13,3,4,3153,,,0,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/747042/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'doc/source/modules/modules-tripleo-container-config-scripts.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml']",5,327278a408a4c912d3f22982eec5dbb5cdd08141,container/configs-stable/ussuri-stable/train,"--- driver: name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh log: true platforms: - name: instance provisioner: name: ansible config_options: defaults: fact_caching: jsonfile fact_caching_connection: /tmp/molecule/facts inventory: hosts: all: hosts: instance: ansible_host: localhost log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH:-/usr/share/ansible/roles}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ANSIBLE_FILTER_PLUGINS: ""${ANSIBLE_FILTER_PLUGINS:-/usr/share/ansible/plugins/filter}"" scenario: name: tripleo_container_config_scripts test_sequence: - prepare - converge verifier: name: testinfra ",,201,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,stable/ussuri,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-19 21:20:14.000000000,2020-08-20 23:25:40.000000000,2020-08-20 23:23:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 21:20:14.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'doc/source/modules/modules-tripleo-container-config-scripts.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/486133036dc7347a4527e5ee84708f36c7144c15', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)\n""}]",0,747041,486133036dc7347a4527e5ee84708f36c7144c15,9,3,1,3153,,,0,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
(cherry picked from commit b6f979ca1e195a9dfd9daf2279c90caaa6791c3d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/747041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'doc/source/modules/modules-tripleo-container-config-scripts.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml']",5,486133036dc7347a4527e5ee84708f36c7144c15,container/configs-stable/ussuri,"--- driver: name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh log: true platforms: - name: instance provisioner: name: ansible config_options: defaults: fact_caching: jsonfile fact_caching_connection: /tmp/molecule/facts inventory: hosts: all: hosts: instance: ansible_host: localhost log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH:-/usr/share/ansible/roles}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ANSIBLE_FILTER_PLUGINS: ""${ANSIBLE_FILTER_PLUGINS:-/usr/share/ansible/plugins/filter}"" scenario: name: tripleo_container_config_scripts test_sequence: - prepare - converge verifier: name: testinfra ",,201,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/ussuri,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-18 21:20:45.000000000,2020-08-20 23:14:43.000000000,2020-08-20 23:13:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 21:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93d2ab7bbf209fed517dfb6a4676971ba1a3ed7c', 'message': 'overcloud_cell: fix location of config-download\n\nconfig-download was moved to the home directory and not in\n/var/lib/mistral anymore.\n\nChange-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f\nCloses-Bug: #1891932\n'}, {'number': 2, 'created': '2020-08-19 21:16:38.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/018ef1218fe90f286c21932809a7366bf14ed7e0', 'message': 'overcloud_cell: fix location of config-download\n\nconfig-download was moved to the home directory and not in\n/var/lib/mistral anymore.\n\nChange-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f\nCloses-Bug: #1891932\n(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)\n'}]",0,746801,018ef1218fe90f286c21932809a7366bf14ed7e0,14,3,2,7353,,,0,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/746801/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,93d2ab7bbf209fed517dfb6a4676971ba1a3ed7c,cells-stable/ussuri,"from tripleoclient import constants config_download_dir = os.path.join(constants.DEFAULT_WORK_DIR, stack_to_export)","MISTRAL_VAR = os.environ.get('MISTRAL_VAR', ""/var/lib/mistral/"") config_download_dir = os.path.join(MISTRAL_VAR, stack_to_export)",3,5
openstack%2Fcharm-gnocchi~master~I50fd881400d4c1bf4beaa70d75af34c28c98ea41,openstack/charm-gnocchi,master,I50fd881400d4c1bf4beaa70d75af34c28c98ea41,Add trusted-external-ca-cert option,MERGED,2020-08-17 16:32:41.000000000,2020-08-20 22:46:41.000000000,2020-08-20 22:46:41.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 30670}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-17 16:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0729373d43208770e71a1c4cab0f8bb062d43b63', 'message': 'add external tls cert option\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 2, 'created': '2020-08-17 16:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/6ae2776a28764726efb51cfd5eb43127a45baa32', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 3, 'created': '2020-08-17 18:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/bbb070723e1fccd1bf19182dd09a1b3017042636', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 4, 'created': '2020-08-17 20:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7d50981350892733a36d8a08338f509615fae413', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 5, 'created': '2020-08-17 20:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/df5053b711a90e6c65ee049597f86a5c99d54867', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 6, 'created': '2020-08-17 23:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0a9ca3cd94a0107aff961a227aeef16268a81f67', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nFunc-Test-PR:https://github.com/openstack-charmers/zaza-openstack-tests/pull/384\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 7, 'created': '2020-08-18 15:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/8b34b7596cd1c2776bc138af8720620fe230a6e4', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/384\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 8, 'created': '2020-08-20 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/507539653406da42c52568f7cae7894b2d907ad8', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 9, 'created': '2020-08-20 17:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/9614f9569a40435e06284853579aee2581a387de', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nFunc-tests-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/393\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}, {'number': 10, 'created': '2020-08-20 17:25:51.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/reactive/gnocchi_handlers.py', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/6820332c8032a38350846822c9b3856ac6481a5e', 'message': 'Add trusted-external-ca-cert option\n\nTo connect to an external S3 endpoint with encryption,\na root CA needs to be installed on the gnocchi units.\n\nFunc-test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/393\nChange-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41\n'}]",14,746562,6820332c8032a38350846822c9b3856ac6481a5e,47,6,10,30670,,,0,"Add trusted-external-ca-cert option

To connect to an external S3 endpoint with encryption,
a root CA needs to be installed on the gnocchi units.

Func-test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/393
Change-Id: I50fd881400d4c1bf4beaa70d75af34c28c98ea41
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/62/746562/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/reactive/gnocchi_handlers.py']",3,0729373d43208770e71a1c4cab0f8bb062d43b63,external-cert, charm_class.configure_external_tls(),,31,0
openstack%2Fzun~stable%2Fussuri~Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,openstack/zun,stable/ussuri,Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f,Dep's should be restricted by upper-constraints,MERGED,2020-08-20 16:02:14.000000000,2020-08-20 22:43:41.000000000,2020-08-20 22:41:41.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 16:02:14.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/d5511fd828832886a37fd2d3cb133942b81c2a8e', 'message': ""Dep's should be restricted by upper-constraints\n\nTox trying to install latest versions for building docs which may\nnot be supported by stable and lower branches, so should be\nrestricted by respective version's upper-constraints.txt\n\nChange-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f\nCloses-Bug: #1889187\n""}]",0,747232,d5511fd828832886a37fd2d3cb133942b81c2a8e,7,2,1,31916,,,0,"Dep's should be restricted by upper-constraints

Tox trying to install latest versions for building docs which may
not be supported by stable and lower branches, so should be
restricted by respective version's upper-constraints.txt

Change-Id: Ia2fe3cab71b2efb89d6a4370109ec1abf2d1086f
Closes-Bug: #1889187
",git fetch https://review.opendev.org/openstack/zun refs/changes/32/747232/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,d5511fd828832886a37fd2d3cb133942b81c2a8e,bug/1889187,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1790444d289d057e9a3f612c53efe485080978b5,openstack/tripleo-heat-templates,stable/train,I1790444d289d057e9a3f612c53efe485080978b5,Fix HA resource restart when no replicas are running,MERGED,2020-08-19 15:10:49.000000000,2020-08-20 22:41:35.000000000,2020-08-20 22:41:35.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 15:10:49.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fffbdc0df115ed7f442620e4fff22fcacd595e70', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\n(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)\n\nCloses-Bug: #1889395\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\n'}]",0,746957,fffbdc0df115ed7f442620e4fff22fcacd595e70,7,4,1,20172,,,0,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)

Closes-Bug: #1889395
Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/746957/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,fffbdc0df115ed7f442620e4fff22fcacd595e70,unbundle_bootstraphost-stable/train," replicas_running=$(crm_resource -Q -r $BUNDLE_NAME --locate 2>&1 | wc -l) if [ ""$replicas_running"" != ""0"" ]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): ${BUNDLE_NAME} is not running anywhere,"" \ ""cleaning up to restart it globally if necessary"" /sbin/pcs resource cleanup $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia850286682f09cd75651591a1158c2e467343c1d,openstack/tripleo-heat-templates,stable/train,Ia850286682f09cd75651591a1158c2e467343c1d,Drop bootstrap_host_exec from pacemaker_restart_bundle,MERGED,2020-08-19 14:34:18.000000000,2020-08-20 22:41:33.000000000,2020-08-20 22:41:33.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-19 14:34:18.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da6b7b424c2eb709e22cf1d809bde405cf8e818c', 'message': 'Drop bootstrap_host_exec from pacemaker_restart_bundle\n\nbootstrap_host_exec does not exist on the host so we cannot assume its\nexistence. Since, barring argument checking, it is three lines of shell\nscript [1] we just use it directly. We also add an extra echo to make it\nsimpler to debug any bootstrap vs non-bootstrap issued.\n\n[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec\n\nChange-Id: Ia850286682f09cd75651591a1158c2e467343c1d\nRelated-Bug: #1863442\n(cherry picked from commit 4d8eb351147c359a6a2dea4ee43b247c3be59da8)\n'}]",0,746937,da6b7b424c2eb709e22cf1d809bde405cf8e818c,15,5,1,20172,,,0,"Drop bootstrap_host_exec from pacemaker_restart_bundle

bootstrap_host_exec does not exist on the host so we cannot assume its
existence. Since, barring argument checking, it is three lines of shell
script [1] we just use it directly. We also add an extra echo to make it
simpler to debug any bootstrap vs non-bootstrap issued.

[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec

Change-Id: Ia850286682f09cd75651591a1158c2e467343c1d
Related-Bug: #1863442
(cherry picked from commit 4d8eb351147c359a6a2dea4ee43b247c3be59da8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/746937/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,da6b7b424c2eb709e22cf1d809bde405cf8e818c,unbundle_bootstraphost-stable/train," HOSTNAME=$(/bin/hostname -s) SERVICE_NODEID=$(/bin/hiera -c /etc/puppet/hiera.yaml ""${TRIPLEO_SERVICE}_short_bootstrap_node_name"") if [[ ""${HOSTNAME,,}"" == ""${SERVICE_NODEID,,}"" ]]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): Skipping global restart of ${BUNDLE_NAME} on ${HOSTNAME} it will be restarted by node ${SERVICE_NODEID}"" fi "," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /usr/bin/bootstrap_host_exec $TRIPLEO_SERVICE /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,2
openstack%2Frequirements~master~Ib78a5cd7b96903033906fa9b0429b1dce31904a5,openstack/requirements,master,Ib78a5cd7b96903033906fa9b0429b1dce31904a5,Updated from generate-constraints,MERGED,2020-08-19 06:17:56.000000000,2020-08-20 22:15:28.000000000,2020-08-20 22:13:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 06:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cce976a8d3769a7ced659f2be5dda5022241ecb6', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib78a5cd7b96903033906fa9b0429b1dce31904a5\n'}, {'number': 2, 'created': '2020-08-19 06:28:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/258cf2cb18e66b70511662402dbb6652a5e0fc31', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib78a5cd7b96903033906fa9b0429b1dce31904a5\n'}]",0,746837,258cf2cb18e66b70511662402dbb6652a5e0fc31,32,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ib78a5cd7b96903033906fa9b0429b1dce31904a5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/746837/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cce976a8d3769a7ced659f2be5dda5022241ecb6,openstack/requirements/constraints/noclob,mock===4.0.2python-binary-memcached===0.30.0docutils===0.16boto3===1.14.45botocore===1.17.45pkg-resources===0.0.0diskimage-builder===3.2.0,mock===3.0.5python-binary-memcached===0.29.0docutils===0.15.2boto3===1.14.44botocore===1.17.44diskimage-builder===3.1.0,7,6
openstack%2Foctavia~stable%2Fussuri~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/ussuri,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:24.000000000,2020-08-20 22:03:53.000000000,2020-08-20 22:01:34.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-20 15:07:24.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/17c22145443ab2f8456e1ab4d738861a6d3b8d7e', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)\n'}]",0,747201,17c22145443ab2f8456e1ab4d738861a6d3b8d7e,12,4,1,11628,,,0,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/747201/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,17c22145443ab2f8456e1ab4d738861a6d3b8d7e,sec-grp-rule-quota-stable/ussuri, # Increase the octavia account secgroups quota openstack quota set --secgroups 100 $OCTAVIA_PROJECT_NAME openstack quota set --secgroup-rules 1000 $OCTAVIA_PROJECT_NAME, # Increase the service account secgroups quota openstack quota set --secgroups 100 $SERVICE_PROJECT_NAME,3,2
openstack%2Fironic-inspector~master~I8e7afee669b32de40b191990f693bf86e59a3e3c,openstack/ironic-inspector,master,I8e7afee669b32de40b191990f693bf86e59a3e3c,Log outcome of `check_conditions` method.,MERGED,2020-08-11 12:34:30.000000000,2020-08-20 21:57:29.000000000,2020-08-20 21:55:54.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 12:34:30.000000000', 'files': ['ironic_inspector/rules.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/17f58aad67f11b84ebe977fd6544a18f340b4ba6', 'message': 'Log outcome of `check_conditions` method.\n\nAdded logging to log\nIntrospectionRule.check_conditions method\noutcome for debugging purposes.\n\nChange-Id: I8e7afee669b32de40b191990f693bf86e59a3e3c\nStory: 2006995\nTask: 40645\n'}]",0,745663,17f58aad67f11b84ebe977fd6544a18f340b4ba6,10,5,1,31258,,,0,"Log outcome of `check_conditions` method.

Added logging to log
IntrospectionRule.check_conditions method
outcome for debugging purposes.

Change-Id: I8e7afee669b32de40b191990f693bf86e59a3e3c
Story: 2006995
Task: 40645
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/63/745663/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/rules.py'],1,17f58aad67f11b84ebe977fd6544a18f340b4ba6,task/40645," LOG.debug('Rule ""%s"" is global and will be applied if conditions ' 'are met.', self._description) if self._scope == node_info.node().properties.get('inspection_scope'): LOG.debug('Rule ""%s"" and node have a matching scope ""%s and will ' 'be applied if conditions are met.', self._description, self._scope) return True else: LOG.debug('Rule\'s ""%s"" scope ""%s"" does not match node\'s scope. ' 'Rule will be ignored', self._description, self._scope) return False", return self._scope == \ node_info.node().properties.get('inspection_scope'),11,2
openstack%2Fcharm-octavia~stable%2F20.08~I86e94f5a9fb4823f612718d5ef16fa9d263f3749,openstack/charm-octavia,stable/20.08,I86e94f5a9fb4823f612718d5ef16fa9d263f3749,Fix setuptools-scm's version range,MERGED,2020-08-19 12:36:49.000000000,2020-08-20 21:56:40.000000000,2020-08-20 19:12:46.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 12:36:49.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4cb3409e8929b5a5d90d4f24e1e3a23194c7cad6', 'message': ""Fix setuptools-scm's version range\n\nBecause of this typo we ended up installing version 4 instead of 3\n\n(cherry picked from commit 009dd33942938cc29acfbd1ad267352b9d0c7fba)\n\nThis triggers a rebuild and picks\nhttps://github.com/juju-solutions/layer-basic/pull/188 which resolves\nthe linked bug.\n\nChange-Id: I86e94f5a9fb4823f612718d5ef16fa9d263f3749\nCloses-Bug: #1891639\n""}]",0,746908,4cb3409e8929b5a5d90d4f24e1e3a23194c7cad6,17,3,1,31289,,,0,"Fix setuptools-scm's version range

Because of this typo we ended up installing version 4 instead of 3

(cherry picked from commit 009dd33942938cc29acfbd1ad267352b9d0c7fba)

This triggers a rebuild and picks
https://github.com/juju-solutions/layer-basic/pull/188 which resolves
the linked bug.

Change-Id: I86e94f5a9fb4823f612718d5ef16fa9d263f3749
Closes-Bug: #1891639
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/08/746908/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,4cb3409e8929b5a5d90d4f24e1e3a23194c7cad6,bug/1891639,"# Several dependencies now require setuptools-scm>=3.0,<=3.4.1 which requires toml setuptools-scm>=3.0,<=3.4.1",# Several dependencies now require setuptools-scm>=3.0<=3.4.1 which requires toml setuptools-scm>=3.0<=3.4.1,2,2
openstack%2Fpuppet-tacker~master~Ie60c7f08326712fed4458f9bee48ff1598eec224,openstack/puppet-tacker,master,Ie60c7f08326712fed4458f9bee48ff1598eec224,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:53:53.000000000,2020-08-20 21:52:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/tacker_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-828cff06713dc9bc.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/9c9f14516ce4a202daa83475256a00dda11389f5', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: Ie60c7f08326712fed4458f9bee48ff1598eec224\nCloses-Bug: #1892284\n'}]",0,747085,9c9f14516ce4a202daa83475256a00dda11389f5,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Ie60c7f08326712fed4458f9bee48ff1598eec224
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/85/747085/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-828cff06713dc9bc.yaml', 'manifests/keystone/authtoken.pp']",3,9c9f14516ce4a202daa83475256a00dda11389f5,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,openstack/tripleo-ansible,stable/train,Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3,Set ceph_ansible_limit to ansible_limit if ansible_limit defined,MERGED,2020-08-17 14:42:39.000000000,2020-08-20 21:50:20.000000000,2020-08-20 21:50:20.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-17 14:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/572571e388f8d521fab4344c6f6d2bfdc41fe99d', 'message': ""Set ceph_ansible_limit to ansible_limit if ansible_limit defined\n\nThe 'openstack overcloud deploy ... --limit' command passes\nthe Ansible limit to the run of the config-download Ansible\nbut not to the run of ceph-ansible. To limit ceph-ansible\nit's possible to override ceph_ansible_limit (an Ansible\nvariable) but, as per the bug this patch closes, this is\nnot possible via the deploy option of the tripleo client.\nHowever, this patch makes it possible by having the variable\nceph_ansible_limit inherit the value of --limit but only\nif it is passed. For backwards compatibility the inheritance\ndoes not happen if ceph_ansible_limit is already defined.\n\nAlso, pass ceph_ansible_limit to the executions of the\nmachine unique UUID gather playbook and remote_tmp playbook.\n\nChange-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3\nCloses-Bug: 1888508\n(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)\n""}, {'number': 2, 'created': '2020-08-17 20:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6b74be2a60ba048b7d9344d563024cb622c3e261', 'message': ""Set ceph_ansible_limit to ansible_limit if ansible_limit defined\n\nThe 'openstack overcloud deploy ... --limit' command passes\nthe Ansible limit to the run of the config-download Ansible\nbut not to the run of ceph-ansible. To limit ceph-ansible\nit's possible to override ceph_ansible_limit (an Ansible\nvariable) but, as per the bug this patch closes, this is\nnot possible via the deploy option of the tripleo client.\nHowever, this patch makes it possible by having the variable\nceph_ansible_limit inherit the value of --limit but only\nif it is passed. For backwards compatibility the inheritance\ndoes not happen if ceph_ansible_limit is already defined.\n\nAlso, pass ceph_ansible_limit to the executions of the\nmachine unique UUID gather playbook and remote_tmp playbook.\n\nChange-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3\nCloses-Bug: 1888508\n(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)\n""}, {'number': 3, 'created': '2020-08-20 14:53:29.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4dbf8ed6956bd6e0c3b2b7b8bddd1fabd322156', 'message': ""Set ceph_ansible_limit to ansible_limit if ansible_limit defined\n\nThe 'openstack overcloud deploy ... --limit' command passes\nthe Ansible limit to the run of the config-download Ansible\nbut not to the run of ceph-ansible. To limit ceph-ansible\nit's possible to override ceph_ansible_limit (an Ansible\nvariable) but, as per the bug this patch closes, this is\nnot possible via the deploy option of the tripleo client.\nHowever, this patch makes it possible by having the variable\nceph_ansible_limit inherit the value of --limit but only\nif it is passed. For backwards compatibility the inheritance\ndoes not happen if ceph_ansible_limit is already defined.\n\nAlso, pass ceph_ansible_limit to the executions of the\nmachine unique UUID gather playbook and remote_tmp playbook.\n\nChange-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3\nCloses-Bug: 1888508\n(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)\n""}]",1,746520,a4dbf8ed6956bd6e0c3b2b7b8bddd1fabd322156,20,5,3,18002,,,0,"Set ceph_ansible_limit to ansible_limit if ansible_limit defined

The 'openstack overcloud deploy ... --limit' command passes
the Ansible limit to the run of the config-download Ansible
but not to the run of ceph-ansible. To limit ceph-ansible
it's possible to override ceph_ansible_limit (an Ansible
variable) but, as per the bug this patch closes, this is
not possible via the deploy option of the tripleo client.
However, this patch makes it possible by having the variable
ceph_ansible_limit inherit the value of --limit but only
if it is passed. For backwards compatibility the inheritance
does not happen if ceph_ansible_limit is already defined.

Also, pass ceph_ansible_limit to the executions of the
machine unique UUID gather playbook and remote_tmp playbook.

Change-Id: Ibd1ca28592ba3dbbdd2dd129fe8319390f8435f3
Closes-Bug: 1888508
(cherry picked from commit 872233241bc2cdbd9a17cc61eff1d89f36e458d1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/746520/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml']",3,572571e388f8d521fab4344c6f6d2bfdc41fe99d,bug/1888508," - name: set ceph_ansible_limit to ansible_limit, only if ansible_limit defined set_fact: ceph_ansible_limit: ""{{ ansible_limit }}"" when: - (ceph_ansible_limit is not defined) or (ceph_ansible_limit|length == 0) - (ansible_limit is defined) and (ansible_limit|length > 0) ",,10,0
openstack%2Fpuppet-cloudkitty~master~I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,openstack/puppet-cloudkitty,master,I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:45:42.000000000,2020-08-20 21:44:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-b1b29a2399365731.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/4287abd8706450d0b0b4f34cae24cdf171fd992d', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e\nCloses-Bug: #1892284\n'}]",0,747084,4287abd8706450d0b0b4f34cae24cdf171fd992d,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I4ad7ca9594d5abee2cf641ec77e6bf8328ffe08e
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/84/747084/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-b1b29a2399365731.yaml', 'manifests/keystone/authtoken.pp']",3,4287abd8706450d0b0b4f34cae24cdf171fd992d,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fsushy~master~I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,openstack/sushy,master,I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4,Remove auth token header completely when error occurs,MERGED,2020-08-18 16:57:58.000000000,2020-08-20 21:45:27.000000000,2020-08-20 21:20:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 28128}]","[{'number': 1, 'created': '2020-08-18 16:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/87211dcf712fea42acd6d34edea3a2bdb3a385fe', 'message': ""Remove auth token header completely when error occurs\n\nWhile investigating a report indicating session incompatability with\nCisco BMCs, I noticed we didn't completely invalidate the session\ntoken, and only set it to None for the request to obtain a new\ntoken. This may not actually fix anything, but an authentication\nerror should completely invalidate any cached authentication data\nforce us through re-authentication.\n\nAdditionally, we have a bit of a lack of debug and error logging\naround the session retry logic in general. Without additional\nlogging, we have no way to really figure out exactly what\nis occuring with the BMC when we attempt to reauthenticate\nthe session.\n\nChange-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4\n""}, {'number': 2, 'created': '2020-08-20 19:22:00.000000000', 'files': ['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62', 'message': ""Remove auth token header completely when error occurs\n\nWhile investigating a report indicating session incompatability with\nCisco BMCs, I noticed we didn't completely invalidate the session\ntoken, and only set it to None for the request to obtain a new\ntoken. This may not actually fix anything, but an authentication\nerror should completely invalidate any cached authentication data\nforce us through re-authentication.\n\nAdditionally, we have a bit of a lack of debug and error logging\naround the session retry logic in general. Without additional\nlogging, we have no way to really figure out exactly what\nis occuring with the BMC when we attempt to reauthenticate\nthe session.\n\nChange-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4\n""}]",1,746768,ec5ceefd678b7c7ec3585ae6cd6d63d06a048e62,19,6,2,11655,,,0,"Remove auth token header completely when error occurs

While investigating a report indicating session incompatability with
Cisco BMCs, I noticed we didn't completely invalidate the session
token, and only set it to None for the request to obtain a new
token. This may not actually fix anything, but an authentication
error should completely invalidate any cached authentication data
force us through re-authentication.

Additionally, we have a bit of a lack of debug and error logging
around the session retry logic in general. Without additional
logging, we have no way to really figure out exactly what
is occuring with the BMC when we attempt to reauthenticate
the session.

Change-Id: I9eb238d1bbaf522d03ee3fce12fc0ab80c1b69b4
",git fetch https://review.opendev.org/openstack/sushy refs/changes/68/746768/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/test_auth.py', 'sushy/tests/unit/resources/sessionservice/test_sessionservice.py', 'sushy/auth.py', 'sushy/resources/sessionservice/sessionservice.py', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",6,87211dcf712fea42acd6d34edea3a2bdb3a385fe,, self.auth.can_refresh_session.assert_called_with(),,51,11
openstack%2Fpuppet-glare~master~I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,openstack/puppet-glare,master,I29e8d699eb34c4d89302d9b0ff08562353c1e4a1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:42:31.000000000,2020-08-20 21:39:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['releasenotes/notes/add-service_token_roles-option-bdc9d3fdfc2f8d52.yaml', 'spec/classes/glare_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/6034694981001c35595a47940954cb160563fa6e', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I29e8d699eb34c4d89302d9b0ff08562353c1e4a1\nCloses-Bug: #1892284\n'}]",0,747089,6034694981001c35595a47940954cb160563fa6e,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I29e8d699eb34c4d89302d9b0ff08562353c1e4a1
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/89/747089/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-service_token_roles-option-bdc9d3fdfc2f8d52.yaml', 'spec/classes/glare_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,6034694981001c35595a47940954cb160563fa6e,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,openstack/tripleo-ansible,stable/train,I2ea2b77bcf1be66a57cfb22463b81189ef2802f1,Use label rather than no_log,MERGED,2020-08-11 14:08:21.000000000,2020-08-20 21:37:22.000000000,2020-08-20 21:37:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-11 14:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0cbfa300cf42616d729e08f251bd4d0084ebb73', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 2, 'created': '2020-08-13 01:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c3287ff58baf238555a91064500bfe790beee76', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 3, 'created': '2020-08-17 13:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09921397d3c6bfd1a67093e949c46baf151f80c1', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 4, 'created': '2020-08-18 12:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1107d67271c3f2959c48d2845f331d024eeeba9b', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 5, 'created': '2020-08-18 13:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/031ca9cdaedfd3e75f8544b26f2b49c36e70e26f', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 6, 'created': '2020-08-18 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f823af4003239b54784c3e9cf114849874b1242d', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 7, 'created': '2020-08-20 11:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36f3ea8fe095d78313abfd943c7045a5533b5bee', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}, {'number': 8, 'created': '2020-08-20 14:07:23.000000000', 'files': ['tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/user_per_role.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bba497d40d522ebccad6a688aade0e227aa60eae', 'message': 'Use label rather than no_log\n\nWe can prevent having to hide sensitive data while being able to provide\na more descriptive output for what task is being executed by using the\nlabel loop_control attribute.\n\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label\n\nChange-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1\n(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)\n'}]",0,745680,bba497d40d522ebccad6a688aade0e227aa60eae,40,6,8,3153,,,0,"Use label rather than no_log

We can prevent having to hide sensitive data while being able to provide
a more descriptive output for what task is being executed by using the
label loop_control attribute.

https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html#limiting-loop-output-with-label

Change-Id: I2ea2b77bcf1be66a57cfb22463b81189ef2802f1
(cherry picked from commit 1920faf816df2a001d7325306c8da94ece5216e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/745680/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/roles.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/projects.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/user_per_role.yml']",9,b0cbfa300cf42616d729e08f251bd4d0084ebb73,train/label," label: ""{{ lookup('dict', tripleo_keystone_resources_data_user).key }}"" label: ""{{ lookup('dict', tripleo_keystone_resources_user_role_async_result_item.tripleo_keystone_resources_data_user).key }}""",,26,13
openstack%2Fpuppet-senlin~master~I2151e4d19ae73b246ccd32189ff800c339cd10c1,openstack/puppet-senlin,master,I2151e4d19ae73b246ccd32189ff800c339cd10c1,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:14.000000000,2020-08-20 21:34:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/add-service_token_roles-option-9a0c9608f64238c8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/222152a595781c3cdc5cddf5e1a31979f96149d7', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: I2151e4d19ae73b246ccd32189ff800c339cd10c1\nCloses-Bug: #1892284\n'}]",0,747078,222152a595781c3cdc5cddf5e1a31979f96149d7,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: I2151e4d19ae73b246ccd32189ff800c339cd10c1
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/78/747078/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/add-service_token_roles-option-9a0c9608f64238c8.yaml']",3,222152a595781c3cdc5cddf5e1a31979f96149d7,bug/1892284,--- features: - | Add support to configure service_token_roles in authtoken middleware. ,,19,0
openstack%2Fpuppet-freezer~master~Iab41f836366d42d16b6c3dc9e47db381992d6fcc,openstack/puppet-freezer,master,Iab41f836366d42d16b6c3dc9e47db381992d6fcc,Add service_token_roles for keystone authtoken config,MERGED,2020-08-20 02:42:47.000000000,2020-08-20 21:36:13.000000000,2020-08-20 21:34:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 02:42:47.000000000', 'files': ['spec/classes/freezer_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-a335c1e86ddf2718.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/ff3485b67f35ac8966d6de642e5dfbfeacd9a979', 'message': 'Add service_token_roles for keystone authtoken config\n\nAdd the ability to configure service_token_roles.\n\nChange-Id: Iab41f836366d42d16b6c3dc9e47db381992d6fcc\nCloses-Bug: #1892284\n'}]",0,747079,ff3485b67f35ac8966d6de642e5dfbfeacd9a979,12,4,1,9414,,,0,"Add service_token_roles for keystone authtoken config

Add the ability to configure service_token_roles.

Change-Id: Iab41f836366d42d16b6c3dc9e47db381992d6fcc
Closes-Bug: #1892284
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/79/747079/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/freezer_keystone_authtoken_spec.rb', 'releasenotes/notes/add-service_token_roles-option-a335c1e86ddf2718.yaml', 'manifests/keystone/authtoken.pp']",3,ff3485b67f35ac8966d6de642e5dfbfeacd9a979,bug/1892284,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,19,0
openstack%2Fkayobe~stable%2Ftrain~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/train,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:55.000000000,2020-08-20 21:14:33.000000000,2020-08-20 21:12:29.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-19 12:28:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/28cf998a204a87a03d735c53ef5d7c3b107fb969', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)\n'}]",0,746907,28cf998a204a87a03d735c53ef5d7c3b107fb969,13,4,1,15197,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/746907/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,28cf998a204a87a03d735c53ef5d7c3b107fb969,,"ansible-lint>=3.0.0,!=4.3.0 # MIT",ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fproject-config~master~Ib6dadc423a0b794bcf85b70add1eeae8974aad79,openstack/project-config,master,Ib6dadc423a0b794bcf85b70add1eeae8974aad79,Re-introduce puppet-tripleo-core group,MERGED,2020-08-18 16:21:14.000000000,2020-08-20 21:06:56.000000000,2020-08-20 21:00:23.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-18 16:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8e0509d148deec6e37ffb3be3550d4cb770424c', 'message': ""Re-introduce puppet-tripleo-core group\n\nCreating new ACLs for puppet-tripleo project, so we can have a group of\ncores dedicated to that repo, and include the tripleo-core group\nmaintainer of that project as well.\n\nIt'll allow the TripleO project to have finer gerrit permissions for\nfolks who are only core on puppet-tripleo.\n\nChange-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79\n""}, {'number': 2, 'created': '2020-08-18 21:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0838335ef0f6d6dcbd7d4ba21c69988963a7ecb0', 'message': ""Re-introduce puppet-tripleo-core group\n\nCreating new ACLs for puppet-tripleo project, so we can have a group of\ncores dedicated to that repo, and include the tripleo-core group\nmaintainer of that project as well.\n\nIt'll allow the TripleO project to have finer gerrit permissions for\nfolks who are only core on puppet-tripleo.\n\nChange-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79\n""}, {'number': 3, 'created': '2020-08-19 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/825943eeeda659865ac7d79a3c27c8f1bdf1f84f', 'message': ""Re-introduce puppet-tripleo-core group\n\nCreating new ACLs for puppet-tripleo project, so we can have a group of\ncores dedicated to that repo, and include the tripleo-core group\nmaintainer of that project as well.\n\nIt'll allow the TripleO project to have finer gerrit permissions for\nfolks who are only core on puppet-tripleo.\n\nChange-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79\n""}, {'number': 4, 'created': '2020-08-19 13:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9a38ff8cae4d0070557225b1bdb7cf810907ac60', 'message': ""Re-introduce puppet-tripleo-core group\n\nCreating new ACLs for puppet-tripleo project, so we can have a group of\ncores dedicated to that repo, and include the tripleo-core group\nmaintainer of that project as well.\n\nIt'll allow the TripleO project to have finer gerrit permissions for\nfolks who are only core on puppet-tripleo.\n\nChange-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79\n""}, {'number': 5, 'created': '2020-08-19 21:14:30.000000000', 'files': ['gerrit/acls/openstack/puppet-tripleo.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e169c45edcb23ab0a26e5b78b0d515396eb48fb', 'message': ""Re-introduce puppet-tripleo-core group\n\nCreating new ACLs for puppet-tripleo project, so we can have a group of\ncores dedicated to that repo, and include the tripleo-core group\nmaintainer of that project as well.\n\nIt'll allow the TripleO project to have finer gerrit permissions for\nfolks who are only core on puppet-tripleo.\n\nChange-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79\n""}]",4,746759,8e169c45edcb23ab0a26e5b78b0d515396eb48fb,23,7,5,3153,,,0,"Re-introduce puppet-tripleo-core group

Creating new ACLs for puppet-tripleo project, so we can have a group of
cores dedicated to that repo, and include the tripleo-core group
maintainer of that project as well.

It'll allow the TripleO project to have finer gerrit permissions for
folks who are only core on puppet-tripleo.

Change-Id: Ib6dadc423a0b794bcf85b70add1eeae8974aad79
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/746759/5 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/puppet-tripleo.config', 'gerrit/projects.yaml']",2,e8e0509d148deec6e37ffb3be3550d4cb770424c,puppet-tripleo, acl-config: /home/gerrit2/acls/openstack/puppet-tripleo.config, groups: - tripleo acl-config: /home/gerrit2/acls/openstack/tripleo.config,16,3
openstack%2Fdiskimage-builder~master~Ifb18c4243aa08055d98602aa4fdb30b16dae061d,openstack/diskimage-builder,master,Ifb18c4243aa08055d98602aa4fdb30b16dae061d,"Revert ""source-repositories: git is a build-only dependency""",MERGED,2020-08-19 19:22:05.000000000,2020-08-20 20:40:33.000000000,2020-08-20 20:37:48.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 19:22:05.000000000', 'files': ['diskimage_builder/elements/source-repositories/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f09324461101765c81111e5315bfc87f497b6e0a', 'message': 'Revert ""source-repositories: git is a build-only dependency""\n\nThis breaks having git as a package-install in other elements. And results in diskimage-builder always erasing git on the image.\n\nThis reverts commit 3c650255590d7dcded8699cd01e198f6ce4c6c8e.\n\nChange-Id: Ifb18c4243aa08055d98602aa4fdb30b16dae061d\n'}]",0,747025,f09324461101765c81111e5315bfc87f497b6e0a,38,13,1,4162,,,0,"Revert ""source-repositories: git is a build-only dependency""

This breaks having git as a package-install in other elements. And results in diskimage-builder always erasing git on the image.

This reverts commit 3c650255590d7dcded8699cd01e198f6ce4c6c8e.

Change-Id: Ifb18c4243aa08055d98602aa4fdb30b16dae061d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/25/747025/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/source-repositories/package-installs.yaml'],1,f09324461101765c81111e5315bfc87f497b6e0a,,"# if you are doing pip install on a git cloned directory, because this # looks to be a fairly common pattern it makes sense to have git on the # target image git:",# if you are doing pip install on a git cloned directory git: build-only: True,3,2
openstack%2Freleases~master~Ie0791724cff7308cb419ba046e65e0f48f70b67e,openstack/releases,master,Ie0791724cff7308cb419ba046e65e0f48f70b67e,Source the related tox environment,ABANDONED,2020-08-20 14:39:06.000000000,2020-08-20 20:39:30.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-20 14:39:06.000000000', 'files': ['tools/list_unreleased_changes.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/c7af5a017a3c53932a5abb09c08475a1f6ca464a', 'message': 'Source the related tox environment\n\nThese changes allow us to call script from anywhere even if we are\nin a different repo that also contains a tox virtual environment.\n\nWith these changes we ensure us to load the right env by retrieving\nthe full path relative to our script file.\n\nChange-Id: Ie0791724cff7308cb419ba046e65e0f48f70b67e\n'}]",1,747186,c7af5a017a3c53932a5abb09c08475a1f6ca464a,10,3,1,28522,,,0,"Source the related tox environment

These changes allow us to call script from anywhere even if we are
in a different repo that also contains a tox virtual environment.

With these changes we ensure us to load the right env by retrieving
the full path relative to our script file.

Change-Id: Ie0791724cff7308cb419ba046e65e0f48f70b67e
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/747186/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/list_unreleased_changes.sh'],1,c7af5a017a3c53932a5abb09c08475a1f6ca464a,,tools_path=$(cd $(dirname $0); pwd -P) base_path=${tools_path::-6} if [[ ! -d ${base_path}/.tox/venv ]]; then source ${base_path}/.tox/venv/bin/activate, if [[ ! -d .tox/venv ]]; then source ./.tox/venv/bin/activate,4,2
openstack%2Foctavia~stable%2Ftrain~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,stable/train,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-20 15:07:29.000000000,2020-08-20 20:31:51.000000000,2020-08-20 20:30:04.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-20 15:07:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/40777222b91028412c8b2a96230ec284d99620e1', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)\n'}]",0,747202,40777222b91028412c8b2a96230ec284d99620e1,10,3,1,11628,,,0,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
(cherry picked from commit 2e2464d778cc86df161fdf59406aac30770b58f0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/747202/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,40777222b91028412c8b2a96230ec284d99620e1,sec-grp-rule-quota-stable/ussuri-stable/train, # Increase the octavia account secgroups quota openstack quota set --secgroups 100 $OCTAVIA_PROJECT_NAME openstack quota set --secgroup-rules 1000 $OCTAVIA_PROJECT_NAME, # Increase the service account secgroups quota openstack quota set --secgroups 100 $SERVICE_PROJECT_NAME,3,2
openstack%2Fcinder~stable%2Fussuri~I88f6fb78235a40529647baf1e7564c08d8fb85f2,openstack/cinder,stable/ussuri,I88f6fb78235a40529647baf1e7564c08d8fb85f2,PowerMax Driver - Volume Migrate Exception Handling,MERGED,2020-07-27 13:14:52.000000000,2020-08-20 20:25:16.000000000,2020-08-20 11:00:05.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30165}, {'_account_id': 30615}, {'_account_id': 31981}]","[{'number': 1, 'created': '2020-07-27 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae9c0831c1eb24bb930a026f8462f4a9b9252c07', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\nCloses-Bug: 1874187\n(cherry picked from commit 16373bfb47940582b598e68755d31410f41cda07)\n'}, {'number': 2, 'created': '2020-07-29 11:45:16.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ee343044f305b198297bbdf1f0eefb6151e86b0', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\nCloses-Bug: 1874187\n(cherry picked from commit 16373bfb47940582b598e68755d31410f41cda07)\n'}]",12,743223,4ee343044f305b198297bbdf1f0eefb6151e86b0,64,21,2,12670,,,0,"PowerMax Driver - Volume Migrate Exception Handling

Add additional exception handling to _migrate_volume
and its related methods to attempt to rollback to
previous state if an exception is raised.
Also change exception message type when handling REST
request that times out when no failover settings
are present.

Change-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2
Closes-Bug: 1886662
Closes-Bug: 1874187
(cherry picked from commit 16373bfb47940582b598e68755d31410f41cda07)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/743223/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",6,ae9c0831c1eb24bb930a026f8462f4a9b9252c07,743223," raise exc_class(msg % {'method': method, 'base': self.base_uri, 'error': e.__class__.__name__, 'exc_msg': e})"," raise exc_class(msg, {'method': method, 'base': self.base_uri, 'error': e.__class__.__name__, 'exc_msg': e})",846,228
openstack%2Fbifrost~master~I4e770d1504d2fd544eb637d20fc6c742218060fb,openstack/bifrost,master,I4e770d1504d2fd544eb637d20fc6c742218060fb,Validate that the services are running after installation,MERGED,2020-07-28 15:54:12.000000000,2020-08-20 20:10:04.000000000,2020-08-20 20:07:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 31643}]","[{'number': 1, 'created': '2020-07-28 15:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f1ab116349a9519e2f1ab86663a2081111ccd67e', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 2, 'created': '2020-07-28 16:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/39322728e9b0f82c65afab942968676f8d1fc292', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 3, 'created': '2020-07-28 16:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/46a20980f117d63a1d9e6c92f6bc5fabca43b6b0', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 4, 'created': '2020-08-07 10:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f0b8b7b4625918fbc6a1135f4b65f59efaec8c2', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 5, 'created': '2020-08-17 16:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fc3823bed0c6df520ea7114f266aab9d799163b', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 6, 'created': '2020-08-17 17:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2b672b0fd9e312fe6e43bff78f4e5e0829bad32b', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}, {'number': 7, 'created': '2020-08-19 08:26:13.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/validate-261b92bc614f5d4a.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/df33abf96b85f3a112e1a4fbf3ece1ce4eec6722', 'message': 'Validate that the services are running after installation\n\nWe do it in test-bifrost, but not during a normal installation.\n\nChange-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb\n'}]",10,743569,df33abf96b85f3a112e1a4fbf3ece1ce4eec6722,31,6,7,10239,,,0,"Validate that the services are running after installation

We do it in test-bifrost, but not during a normal installation.

Change-Id: I4e770d1504d2fd544eb637d20fc6c742218060fb
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/743569/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/validate.yml', 'playbooks/roles/bifrost-ironic-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/validate-261b92bc614f5d4a.yaml']",4,f1ab116349a9519e2f1ab86663a2081111ccd67e,validate,"--- features: - | The ``bifrost-ironic-install`` role now validates that the services have been started successfully, use ``skip_validation`` to disable. ",,62,0
openstack%2Fos-brick~stable%2Fqueens~Id507109df80391699074773f4787f74507c4b882,openstack/os-brick,stable/queens,Id507109df80391699074773f4787f74507c4b882,rbd: Use showmapped to find the root RBD device during disconnect_volume,MERGED,2020-04-15 10:38:29.000000000,2020-08-20 20:05:37.000000000,2020-08-20 20:05:37.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-04-15 10:38:29.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9e30e5155d00a9cd18ebec6de1b5c1834cb33d97', 'message': 'rbd: Use showmapped to find the root RBD device during disconnect_volume\n\nThe original method of unmapping the higher level RBD device found under\n/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to\nthe volume locally. This is due to a symlink being created that points\nto the the decrypted dm-crypt device, breaking any attempt to unmap the\nRBD volume.\n\nTo avoid this we can simply find and unmap the lower level RBD device of\n/dev/rbd*.\n\nChange-Id: Id507109df80391699074773f4787f74507c4b882\n(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)\n(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)\n(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)\n(cherry picked from commit fcff1e0cb292a461b933bdc70dd21b4057711bca)\n'}]",0,720181,9e30e5155d00a9cd18ebec6de1b5c1834cb33d97,21,9,1,10135,,,0,"rbd: Use showmapped to find the root RBD device during disconnect_volume

The original method of unmapping the higher level RBD device found under
/dev/rbd/{pool}/{volume} fails when an encryptor has been attached to
the volume locally. This is due to a symlink being created that points
to the the decrypted dm-crypt device, breaking any attempt to unmap the
RBD volume.

To avoid this we can simply find and unmap the lower level RBD device of
/dev/rbd*.

Change-Id: Id507109df80391699074773f4787f74507c4b882
(cherry picked from commit 9415b3b41f55b66bee589bc8ff5f1c789d8a5d0e)
(cherry picked from commit 36b207239b2dd4b3cad2b79d7ae32f4084c36403)
(cherry picked from commit 3ce686a9fa41210fb4c08017220ce063cc869c75)
(cherry picked from commit fcff1e0cb292a461b933bdc70dd21b4057711bca)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/81/720181/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,9e30e5155d00a9cd18ebec6de1b5c1834cb33d97,,"from oslo_serialization import jsonutils def _find_root_device(self, connection_properties): """"""Find the underlying /dev/rbd* device for a mapping. Use the showmapped command to list all acive mappings and find the underlying /dev/rbd* device that corresponds to our pool and volume. :param connection_properties: The dictionary that describes all of the target volume attributes. :type connection_properties: dict :returns: '/dev/rbd*' or None if no active mapping is found. """""" __, volume = connection_properties['name'].split('/') cmd = ['rbd', 'showmapped', '--format=json'] (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) for index, mapping in jsonutils.loads(out).items(): if mapping['name'] == volume: return mapping['device'] return None root_device = self._find_root_device(connection_properties) if root_device: cmd = ['rbd', 'unmap', root_device] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)"," pool, volume = connection_properties['name'].split('/') dev_name = RBDConnector.get_rbd_device_name(pool, volume) cmd = ['rbd', 'unmap', dev_name] cmd += self._get_rbd_args(connection_properties) self._execute(*cmd, root_helper=self._root_helper, run_as_root=True)",74,11
openstack%2Fironic~bugfix%2F15.2~I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,openstack/ironic,bugfix/15.2,I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa,Update TOX_CONSTRAINTS_FILE for bugfix/15.2,MERGED,2020-08-18 20:47:22.000000000,2020-08-20 20:01:10.000000000,2020-08-20 19:58:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-18 20:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2e28c76b49a81212cb5887c28318908848bb840', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/15.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/15.2 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa\n'}, {'number': 2, 'created': '2020-08-19 08:30:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/479cde2070c4c1d5c6302f1911656b1641dfe7bf', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/15.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa\n'}]",0,746797,479cde2070c4c1d5c6302f1911656b1641dfe7bf,12,5,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/15.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3a6ea2e250e3a85505ffbb46bbb8f44c69ad67fa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/746797/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d2e28c76b49a81212cb5887c28318908848bb840,create-15.2, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.2}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fironic-python-agent~bugfix%2F6.3~I62ca56b861506f2a23b4b9621d8711bf01346d4e,openstack/ironic-python-agent,bugfix/6.3,I62ca56b861506f2a23b4b9621d8711bf01346d4e,Update TOX_CONSTRAINTS_FILE for bugfix/6.3,MERGED,2020-08-18 20:42:59.000000000,2020-08-20 19:52:15.000000000,2020-08-20 19:50:35.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-18 20:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ae099a63b2b158deb6af182fe7fcd8984471e5e4', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/6.3\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/6.3 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I62ca56b861506f2a23b4b9621d8711bf01346d4e\n'}, {'number': 2, 'created': '2020-08-19 08:32:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/34f409ba2fe2366d052a0755fe9fa2fc61cc448d', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/6.3\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I62ca56b861506f2a23b4b9621d8711bf01346d4e\n'}]",0,746795,34f409ba2fe2366d052a0755fe9fa2fc61cc448d,10,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/6.3

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I62ca56b861506f2a23b4b9621d8711bf01346d4e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/95/746795/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae099a63b2b158deb6af182fe7fcd8984471e5e4,create-6.3, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/6.3}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-helm~master~I1e93587da2b4889118f2b941c89e7d3adee2b7c8,openstack/openstack-helm,master,I1e93587da2b4889118f2b941c89e7d3adee2b7c8,Add volumemounts to cinder-backup container,MERGED,2020-08-20 14:16:32.000000000,2020-08-20 19:31:06.000000000,2020-08-20 19:28:12.000000000,"[{'_account_id': 18236}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-20 14:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2eddb7a3da20f11ceec6a83fae4d5e679dd6d5f', 'message': 'Setting readOnly-fs false to cinder backup pod\n\nWe need to allow cinder-backup to access /var/lib/cinder/tmp\n\nChange-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8\n'}, {'number': 2, 'created': '2020-08-20 16:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e4a77328aaf57f704c259505192292d3e60e8a5', 'message': 'Setting readOnly-fs false to cinder backup pod\n\nWe need to allow cinder-backup to access /var/lib/cinder/tmp\n\nChange-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8\n'}, {'number': 3, 'created': '2020-08-20 16:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ec4aeea31cc26d97c7a4bf67936be71987e797c', 'message': 'Setting readOnly-fs false to cinder backup pod\n\nWe need to allow cinder-backup to access /var/lib/cinder/tmp\n\nChange-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8\n'}, {'number': 4, 'created': '2020-08-20 16:44:23.000000000', 'files': ['cinder/templates/deployment-backup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32218070420f3221b00655beb1dcbe6ae8aff12b', 'message': 'Add volumemounts to cinder-backup container\n\nAdding volumemounts to allow cinder to access /var/lib/cinder/tmp\n\nChange-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8\n'}]",0,747173,32218070420f3221b00655beb1dcbe6ae8aff12b,18,9,4,29161,,,0,"Add volumemounts to cinder-backup container

Adding volumemounts to allow cinder to access /var/lib/cinder/tmp

Change-Id: I1e93587da2b4889118f2b941c89e7d3adee2b7c8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/747173/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values.yaml'],1,a2eddb7a3da20f11ceec6a83fae4d5e679dd6d5f,, readOnlyRootFilesystem: false, readOnlyRootFilesystem: true,1,1
openstack%2Fovsdbapp~master~Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,openstack/ovsdbapp,master,Ie8ae8f5efae2afb958ed2010053ff04372cc1c51,OVNNB backend: Fix LbDelCommand when using vip param,MERGED,2020-05-08 21:53:46.000000000,2020-08-20 19:30:56.000000000,2020-05-15 22:02:10.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 21:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6baba06029f2aefe1d10ea472e74f4082a3fe181', 'message': 'OVNNB backend: Fix LbDelCommand when using vip param\n\nFix issue in ovn_northbound LbDelCommand where logic\nfor removing vip while using if_exists=True was not\ndoing the right thing.\n\nCloses-Bug: #1877673\nChange-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51\n'}, {'number': 2, 'created': '2020-05-11 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/044ec7afee5dc920cd15458cd2c0bf1d50ff3174', 'message': 'OVNNB backend: Fix LbDelCommand when using vip param\n\nFix issue in ovn_northbound LbDelCommand where logic\nfor removing vip while using if_exists=True was not\ndoing the right thing.\n\nIn order to be consistent with as ovn-nbctl [1], this\nchange also introduces a modified behavior. When the\nlast vip is removed, it will also remove the load\nbalancer instance.\n\n[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870\n\nCloses-Bug: #1877673\nChange-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51\n'}, {'number': 3, 'created': '2020-05-14 12:21:53.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8cb3b56fa9022254d60a15125f86f6e8a7e16041', 'message': 'OVNNB backend: Fix LbDelCommand when using vip param\n\nFix issue in ovn_northbound LbDelCommand where logic\nfor removing vip while using if_exists=True was not\ndoing the right thing.\n\nIn order to be consistent with as ovn-nbctl [1], this\nchange also introduces a modified behavior. When the\nlast vip is removed, it will also remove the load\nbalancer instance.\n\n[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870\n\nCloses-Bug: #1877673\nChange-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51\n'}]",3,726478,8cb3b56fa9022254d60a15125f86f6e8a7e16041,22,4,3,11952,,,0,"OVNNB backend: Fix LbDelCommand when using vip param

Fix issue in ovn_northbound LbDelCommand where logic
for removing vip while using if_exists=True was not
doing the right thing.

In order to be consistent with as ovn-nbctl [1], this
change also introduces a modified behavior. When the
last vip is removed, it will also remove the load
balancer instance.

[1]: https://github.com/ovn-org/ovn/blob/1e2f4aaab67090935bba6347358ad9c56b0868bf/utilities/ovn-nbctl.c#L2870

Closes-Bug: #1877673
Change-Id: Ie8ae8f5efae2afb958ed2010053ff04372cc1c51
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/78/726478/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",2,6baba06029f2aefe1d10ea472e74f4082a3fe181,ovn/port_forwarding," def test_lb_del_vip_if_exists(self): name = utils.get_rand_device_name() lb = self._lb_add(name, '192.0.2.1', ['10.0.0.1']) # Remove vip that does not exist. self.api.lb_del(lb.name, '9.9.9.9', if_exists=True ).execute(check_error=True) self.assertIn('192.0.2.1', lb.vips) # Remove vip. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True ).execute(check_error=True) self.assertNotIn('192.0.2.1', lb.vips) # Attempt to remove same vip a second time with if_exists=True. self.api.lb_del(lb.name, '192.0.2.1', if_exists=True).execute( check_error=True) # Attempt to remove same vip a third time with if_exists=False. cmd = self.api.lb_del(lb.name, '192.0.2.1', if_exists=False) self.assertRaises(idlutils.RowNotFound, cmd.execute, check_error=True) # At last, remove lb. self.api.lb_del(lb.name).execute(check_error=True) ",,29,7
openstack%2Fcharm-manila-generic~master~I91ae66a5903c23c663243dfd10270d04325e5e39,openstack/charm-manila-generic,master,I91ae66a5903c23c663243dfd10270d04325e5e39,Add bionic-ussuri and focal-ussuri test bundles,MERGED,2020-06-17 15:51:01.000000000,2020-08-20 19:22:49.000000000,2020-08-20 19:22:49.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-17 15:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/ae7889b186a9586038e0f8702a2cfa0f56e82bf3', 'message': 'Add bionc-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}, {'number': 2, 'created': '2020-07-15 09:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/099620f9b3be1b03c123624720aa462847eaf82e', 'message': 'Add bionic-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}, {'number': 3, 'created': '2020-07-15 10:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/05a965dde1025af9007726120018392e6d281941', 'message': 'Add bionic-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}, {'number': 4, 'created': '2020-07-15 10:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/d24a10c250f93b787a6cc9f1f34f427be05bb9dc', 'message': 'Add bionic-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}, {'number': 5, 'created': '2020-08-14 10:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a543b193367def383acf92d5e730b88ae94a5cc7', 'message': 'Add bionic-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}, {'number': 6, 'created': '2020-08-19 14:51:24.000000000', 'files': ['src/tests/bundles/focal-ussuri.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/211a5dbae5877de41ebacbd7aa3f739989ba3cb4', 'message': 'Add bionic-ussuri and focal-ussuri test bundles\n\nAlso switch the smoke bundle to focal-ussuri as that will be the LTS on\nfocal.\n\nChange-Id: I91ae66a5903c23c663243dfd10270d04325e5e39\nCloses-Bug: #1879684\n'}]",0,736275,211a5dbae5877de41ebacbd7aa3f739989ba3cb4,33,5,6,20870,,,0,"Add bionic-ussuri and focal-ussuri test bundles

Also switch the smoke bundle to focal-ussuri as that will be the LTS on
focal.

Change-Id: I91ae66a5903c23c663243dfd10270d04325e5e39
Closes-Bug: #1879684
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/75/736275/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",3,ae7889b186a9586038e0f8702a2cfa0f56e82bf3,enable-focal,series: bionic options: source: &source cloud:bionic-ussuri services: manila: charm: cs:~openstack-charmers-next/manila num_units: 1 options: default-share-backend: generic openstack-origin: *source manila-generic: charm: ../../../manila-generic options: driver-handles-share-servers: False rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *source percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: source: *source keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source relations: - - manila:manila-plugin - manila-generic - - manila - rabbitmq-server - - manila - keystone - - keystone - percona-cluster - - manila - percona-cluster ,,130,2
openstack%2Fironic~master~Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,openstack/ironic,master,Ie8e1cbc5a9c026d11663b2e38794b41d799983fe,Get extra logging output,ABANDONED,2020-08-03 15:56:37.000000000,2020-08-20 19:22:42.000000000,,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-03 15:56:37.000000000', 'files': ['playbooks/ci-workarounds/get_extra_logs.yaml', 'zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/get_dmesg.yaml', 'playbooks/ci-workarounds/get_iptables.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a559507c1557257b4ef488a58286e69a44b111d', 'message': 'Get extra logging output\n\nAt some point we stopped getting kernel logs\nAnd statistics from the kernel packet filtering...\n\nAnd this sort of information is vital to piece together\nthe what and why various things happened when dealing with\n""virtual"" baremetal.\n\nChange-Id: Ie8e1cbc5a9c026d11663b2e38794b41d799983fe\n'}]",0,744517,7a559507c1557257b4ef488a58286e69a44b111d,10,5,1,11655,,,0,"Get extra logging output

At some point we stopped getting kernel logs
And statistics from the kernel packet filtering...

And this sort of information is vital to piece together
the what and why various things happened when dealing with
""virtual"" baremetal.

Change-Id: Ie8e1cbc5a9c026d11663b2e38794b41d799983fe
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/744517/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ci-workarounds/get_extra_logs.yaml', 'zuul.d/ironic-jobs.yaml', 'playbooks/ci-workarounds/get_dmesg.yaml', 'playbooks/ci-workarounds/get_iptables.yaml']",4,7a559507c1557257b4ef488a58286e69a44b111d,,"- hosts: all tasks: - name: Get iptables statistics shell: ""iptables -L -n -v > {{ zuul_output_dir }}/logs/iptables.txt"" become: yes - name: Get iptables nat statistics shell: ""iptables -t nat -L -n -v > {{ zuul_output_dir }}/logs/iptables-nat.txt"" become: yes ",,22,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,stable/ussuri,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-20 14:52:26.000000000,2020-08-20 19:21:27.000000000,2020-08-20 19:21:27.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 14:52:26.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ddd3c16512dfbfa2965b1503f58bfefaa3283890', 'message': 'FFWD: L3 fixup\n\nBefore we fix workload accounting and l3 test scripts we need to\nremove extra wokload test during FFWD.\n\nChange-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0\n(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)\n'}]",0,747195,ddd3c16512dfbfa2965b1503f58bfefaa3283890,6,2,1,6816,,,0,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
(cherry picked from commit 854f084fbf7dc71e702dc3c578db0e8283edf5b5)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/95/747195/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml']",3,ddd3c16512dfbfa2965b1503f58bfefaa3283890,ffwd-upgrade2-stable/ussuri,,"--- - name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml - name: create FFU role ugrades scripts template: src: fast-forward-upgrade/overcloud_upgrade_role.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|default([]) }}"" - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_controller - name: pre controller role upgrade steps workarounds command: ""{{ working_dir }}/pre_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller - name: run FFU control plane ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|difference(['Compute','ComputeAlt','CephStorage']) }}"" - name: run L3 validation include_tasks: ""{{ item }}"" loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_upgrade_controller - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: run FFU compute ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: ""{{ oc_roles|intersect(['Compute','ComputeAlt']) }}"" when: - not ffu_computes_rolling|bool - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute - block: - name: register compute nodes from tripleo ansible inventory shell: | awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory.yaml register: tripleo_compute_nodes tags: ffu_overcloud_upgrade_compute - name: Create compute nodes FFU ugrade playbooks scripts template: src: fast-forward-upgrade/overcloud_upgrade_nodes.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: Rolling upgrade compute nodes command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute when: ffu_computes_rolling|bool - name: post controller role upgrade steps workarounds command: ""{{ working_dir }}/post_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller ",36,136
openstack%2Fsushy~master~I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,openstack/sushy,master,I3e28a3c11160fbe6fa6fe21c0f087f33d832839c,Include extended information in debugging output,MERGED,2020-08-12 18:19:21.000000000,2020-08-20 19:17:16.000000000,2020-08-20 19:15:26.000000000,"[{'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 18:19:21.000000000', 'files': ['sushy/exceptions.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/d73c2af910de789cb0cf906f59904423f9a197e7', 'message': 'Include extended information in debugging output\n\nIn order to help developers and operators kind of gain a\nbetter understanding of what might be happening, we should\nlog the extended information.\n\nOEM libraries extending upon sushy should be returning this\ninformation in the errors surfaced, as applicable, however\nthat is not always possible so debug does seem a moderately\nreasonable middle ground.\n\nChange-Id: I3e28a3c11160fbe6fa6fe21c0f087f33d832839c\n'}]",0,745944,d73c2af910de789cb0cf906f59904423f9a197e7,15,5,1,11655,,,0,"Include extended information in debugging output

In order to help developers and operators kind of gain a
better understanding of what might be happening, we should
log the extended information.

OEM libraries extending upon sushy should be returning this
information in the errors surfaced, as applicable, however
that is not always possible so debug does seem a moderately
reasonable middle ground.

Change-Id: I3e28a3c11160fbe6fa6fe21c0f087f33d832839c
",git fetch https://review.opendev.org/openstack/sushy refs/changes/44/745944/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/exceptions.py'],1,d73c2af910de789cb0cf906f59904423f9a197e7,," error = '%s: %s extended: %s' % ( self.code, self.detail or 'unknown error', ext_info or None)"," error = '%s: %s' % (self.code, self.detail or 'unknown error')",2,1
openstack%2Fcinder~stable%2Fussuri~Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,openstack/cinder,stable/ussuri,Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72,Remove unnecessary releasenote,MERGED,2020-08-19 22:35:41.000000000,2020-08-20 18:59:56.000000000,2020-08-20 04:58:44.000000000,"[{'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-19 22:35:41.000000000', 'files': ['releasenotes/notes/bug-1886222-nfs-snapshot-82b5519175c48a6f.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0471fab3495928efcc1baacda1c5a07c457ca966', 'message': 'Remove unnecessary releasenote\n\nThis was introduced as a regression of [1] which is a fix in victoria\nand never released. So this releasenote is not needed.\n\n[1] https://review.opendev.org/#/c/726471/\n\nChange-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72\n(cherry picked from commit 9ae4e48279e8ffad1676a38fe2466ccdacb0427a)\n'}]",0,747055,0471fab3495928efcc1baacda1c5a07c457ca966,16,11,1,27615,,,0,"Remove unnecessary releasenote

This was introduced as a regression of [1] which is a fix in victoria
and never released. So this releasenote is not needed.

[1] https://review.opendev.org/#/c/726471/

Change-Id: Id0b4981be5bf4e79aedcdad2258fc64aad8eeb72
(cherry picked from commit 9ae4e48279e8ffad1676a38fe2466ccdacb0427a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/747055/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1886222-nfs-snapshot-82b5519175c48a6f.yaml'],1,0471fab3495928efcc1baacda1c5a07c457ca966,,,--- fixes: - | `Bug #1886222 <https://bugs.launchpad.net/cinder/+bug/1886222>`_: Fixed an issue with creating a snapshot on an NFS backend if the snapshot name is not specified. ,0,6
openstack%2Ftripleo-ansible~stable%2Ftrain~I96453d9236cb92922b058d697be8d8696f279c66,openstack/tripleo-ansible,stable/train,I96453d9236cb92922b058d697be8d8696f279c66,Prepare tripleo deps repo in tripleo_client_install molecule job,MERGED,2020-08-20 13:35:42.000000000,2020-08-20 18:58:08.000000000,2020-08-20 18:58:08.000000000,"[{'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 13:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08d0c88d46041b6621752c24f9091153b98c2e37', 'message': 'Prepare tripleo deps repo in tripleo_client_install molecule job\n\nChange-Id: I96453d9236cb92922b058d697be8d8696f279c66\nCloses-Bug: #1884696\n(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)\n(cherry picked from commit 3b0868e46cbc935e4fa1d55e216d8df823908963)\n'}, {'number': 2, 'created': '2020-08-20 13:44:03.000000000', 'files': ['tripleo_ansible/roles/tripleo-clients-install/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dcc28fac073273a03799940a6e6cdab581b477af', 'message': 'Prepare tripleo deps repo in tripleo_client_install molecule job\n\nChange-Id: I96453d9236cb92922b058d697be8d8696f279c66\nCloses-Bug: #1884696\nCloses-Bug: #1892368\n(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)\n(cherry picked from commit 3b0868e46cbc935e4fa1d55e216d8df823908963)\n'}]",0,747162,dcc28fac073273a03799940a6e6cdab581b477af,18,6,2,3153,,,0,"Prepare tripleo deps repo in tripleo_client_install molecule job

Change-Id: I96453d9236cb92922b058d697be8d8696f279c66
Closes-Bug: #1884696
Closes-Bug: #1892368
(cherry picked from commit c70a5c8f08f697a29c42eb8ee3ddf376fec1c860)
(cherry picked from commit 3b0868e46cbc935e4fa1d55e216d8df823908963)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/747162/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-clients-install/molecule/default/prepare.yml'],1,08d0c88d46041b6621752c24f9091153b98c2e37,deps/mol, vars: test_deps_setup_tripleo: true,,2,0
openstack%2Fnova~stable%2Fussuri~I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,openstack/nova,stable/ussuri,I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89,Handle Neutron errors in _post_live_migration(),ABANDONED,2020-08-17 14:53:39.000000000,2020-08-20 18:23:12.000000000,,"[{'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-17 14:53:39.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e95da0267a72143e3c9322abdcbe1a5efb1c6d2', 'message': 'Handle Neutron errors in _post_live_migration()\n\n_post_live_migration() on the destination host has a call to\nself.network_api.get_instance_nw_info(), which eventually ends up\ncalling the Neutron REST API (via\nnova.network.neutron.API._build_network_info_model()). Any exceptions\nin that call were unhandled, and caused both the server and the\nmigration to end up in ERROR. This patch handles the error, and\nmodifies the functional test to reflect the newly fixed behavior.\n\nCloses-bug: 1879787\nChange-Id: I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89\n(cherry picked from commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618)\n'}]",0,746529,1e95da0267a72143e3c9322abdcbe1a5efb1c6d2,9,6,1,8864,,,0,"Handle Neutron errors in _post_live_migration()

_post_live_migration() on the destination host has a call to
self.network_api.get_instance_nw_info(), which eventually ends up
calling the Neutron REST API (via
nova.network.neutron.API._build_network_info_model()). Any exceptions
in that call were unhandled, and caused both the server and the
migration to end up in ERROR. This patch handles the error, and
modifies the functional test to reflect the newly fixed behavior.

Closes-bug: 1879787
Change-Id: I4c89c8ba0153ec01ff57979b9bf1cfd5b2a9da89
(cherry picked from commit 9f205c620e57c9af760d3b52c93a4ff6d5c0e618)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/746529/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py']",2,1e95da0267a72143e3c9322abdcbe1a5efb1c6d2,bug/1879787," network_info = None try: network_info = self.network_api.get_instance_nw_info( ctxt, instance) except Exception as e: LOG.info('Unable to obtain network info: %s. Network info in ' 'live.migration._post.start notification will be ' 'omitted.', e, instance=instance)"," network_info = self.network_api.get_instance_nw_info(ctxt, instance)",10,7
openstack%2Frpm-packaging~master~If55a0df907f99f4d6610ff6bc91547157f7356cd,openstack/rpm-packaging,master,If55a0df907f99f4d6610ff6bc91547157f7356cd,update dependencies to follow the package renaming on SUSE side,MERGED,2020-08-18 12:55:53.000000000,2020-08-20 18:22:39.000000000,2020-08-20 18:22:39.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-18 12:55:53.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fdd4d80042f05a16a7af41f90c9fe10d8f215503', 'message': 'update dependencies to follow the package renaming on SUSE side\n\nthe SUSE python team apparently decided to follow safename going\nforward. This will be a long journey, for now, python-importlib_metadata\nhas been renamed to python-importlib-metadata. probably 200+ more\nrenames to follow.\n\nChange-Id: If55a0df907f99f4d6610ff6bc91547157f7356cd\n'}]",0,746707,fdd4d80042f05a16a7af41f90c9fe10d8f215503,11,7,1,6593,,,0,"update dependencies to follow the package renaming on SUSE side

the SUSE python team apparently decided to follow safename going
forward. This will be a long journey, for now, python-importlib_metadata
has been renamed to python-importlib-metadata. probably 200+ more
renames to follow.

Change-Id: If55a0df907f99f4d6610ff6bc91547157f7356cd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/07/746707/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.config/oslo.config.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2']",2,fdd4d80042f05a16a7af41f90c9fe10d8f215503,,BuildRequires: {{ py3('importlib-metadata') }}Requires: {{ py3('importlib-metadata') }},BuildRequires: {{ py3('importlib_metadata') }}Requires: {{ py3('importlib_metadata') }},4,4
openstack%2Frpm-packaging~master~I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,openstack/rpm-packaging,master,I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7,stevedore: Update to 3.2.0,MERGED,2020-08-04 12:30:02.000000000,2020-08-20 18:22:38.000000000,2020-08-20 18:22:38.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-04 12:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1857fa3c9c0fb3061a8925cdcb752e86e6a31a75', 'message': 'stevedore: Update to 3.2.0\n\nChange-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7\n'}, {'number': 2, 'created': '2020-08-04 15:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/17bb2a7e9e511e438da40df2444474ebbd485fac', 'message': 'stevedore: Update to 3.2.0\n\nChange-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7\n'}, {'number': 3, 'created': '2020-08-07 07:45:35.000000000', 'files': ['openstack/stevedore/stevedore.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/afd4d78f2bef0dbeb76a37f0a6a99f7b78736e74', 'message': 'stevedore: Update to 3.2.0\n\nChange-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7\n'}]",0,744694,afd4d78f2bef0dbeb76a37f0a6a99f7b78736e74,17,5,3,6593,,,0,"stevedore: Update to 3.2.0

Change-Id: I73ac270f8b22bc2fb495a6bd0ed2b4fdb800fec7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/744694/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/stevedore/stevedore.spec.j2'],1,1857fa3c9c0fb3061a8925cdcb752e86e6a31a75,,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('1.32.0') %},1,1
openstack%2Fec2-api~stable%2Ftrain~I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,openstack/ec2-api,stable/train,I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1,Fix AMI image registration,MERGED,2020-08-20 15:33:54.000000000,2020-08-20 18:21:06.000000000,2020-08-20 18:13:01.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 15:33:54.000000000', 'files': ['ec2api/api/image.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f90157089654487af9a64fdbf73c76c6909c1bf3', 'message': 'Fix AMI image registration\n\nChange-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1\n'}]",0,747215,f90157089654487af9a64fdbf73c76c6909c1bf3,10,2,1,10234,,,0,"Fix AMI image registration

Change-Id: I5ab6b6720ae75d9f036b41c84b11e0fe0608b0d1
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/15/747215/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/image.py'],1,f90157089654487af9a64fdbf73c76c6909c1bf3,," with open(enc_filename, 'wb') as combined: for filename in parts: with open(filename, ""rb"") as part: combined.write(part.read()) with open(unz_filename, ""rb"") as image_file: with open(local_filename, 'wb') as f: f.write(body.read()) key = _decrypt_text(encrypted_key).decode() iv = _decrypt_text(encrypted_iv).decode()"," with open(enc_filename, 'w') as combined: for filename in parts: with open(filename) as part: shutil.copyfileobj(part, combined) with open(unz_filename) as image_file: with open(local_filename, 'w') as f: if isinstance(body, six.string_types): f.write(body) else: # TODO(andrey-mp): check big objects f.write(body.read()) f.close() key = _decrypt_text(encrypted_key) iv = _decrypt_text(encrypted_iv)",8,13
openstack%2Fheat~stable%2Fussuri~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/ussuri,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:14:55.000000000,2020-08-20 18:16:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-12 14:14:55.000000000', 'files': ['heat/cmd/all.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9962a14c17e5dd862ff10155bdd4b32c6033fe87', 'message': '[DNM] Test Heat CI\n\nChange-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d\n(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)\n'}]",0,745902,9962a14c17e5dd862ff10155bdd4b32c6033fe87,4,2,1,25877,,,0,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/745902/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/cmd/all.py'],1,9962a14c17e5dd862ff10155bdd4b32c6033fe87,,# foo,,1,0
openstack%2Fheat~stable%2Ftrain~I0137bd73549ca47529a1707f9a3d077fc679ff8d,openstack/heat,stable/train,I0137bd73549ca47529a1707f9a3d077fc679ff8d,[DNM] Test Heat CI,ABANDONED,2020-08-12 14:15:26.000000000,2020-08-20 18:16:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-12 14:15:26.000000000', 'files': ['heat/cmd/all.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7c391a48de2f6822a666065b434b20d01730f68e', 'message': '[DNM] Test Heat CI\n\nChange-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d\n(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)\n(cherry picked from commit 9962a14c17e5dd862ff10155bdd4b32c6033fe87)\n'}]",0,745903,7c391a48de2f6822a666065b434b20d01730f68e,4,2,1,25877,,,0,"[DNM] Test Heat CI

Change-Id: I0137bd73549ca47529a1707f9a3d077fc679ff8d
(cherry picked from commit 17d4fce1652d1713362bf6473d37429dc6c9b050)
(cherry picked from commit 9962a14c17e5dd862ff10155bdd4b32c6033fe87)
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/745903/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/cmd/all.py'],1,7c391a48de2f6822a666065b434b20d01730f68e,,# foo,,1,0
openstack%2Fcharm-neutron-api-plugin-arista~master~I18b57a85536b4077945fbaf5c1afe95a02d81344,openstack/charm-neutron-api-plugin-arista,master,I18b57a85536b4077945fbaf5c1afe95a02d81344,"Add Rocky, Stein and Train support",MERGED,2020-08-19 10:03:17.000000000,2020-08-20 18:16:13.000000000,2020-08-20 18:16:13.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-19 10:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/da4499d97eda1c3325ee4dbdbaff379d3a74cdf6', 'message': 'Add Rocky, Stein and Train support\n\nAlso removed unused/dangling config option and empty test class.\n\nChange-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344\nPartial-Bug: #1890628\n'}, {'number': 2, 'created': '2020-08-19 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/3334be17ed2954196f436a32a4f9ebae14426e8e', 'message': 'Add Rocky, Stein and Train support\n\nAlso removed unused/dangling config option and empty test class.\n\nChange-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344\nPartial-Bug: #1890628\n'}, {'number': 3, 'created': '2020-08-19 14:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/e03abcc1c0fa85f09f2e38db3dc801a963366dcc', 'message': 'Add Rocky, Stein and Train support\n\nAlso removed unused/dangling config option and empty test class.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/385\nChange-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344\nPartial-Bug: #1890628\n'}, {'number': 4, 'created': '2020-08-20 09:33:03.000000000', 'files': ['src/tests/bundles/overlays/arista-virt-test-fixture-image.yaml.j2', 'src/lib/charm/openstack/neutron_arista.py', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/overlays/xenial-queens.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/README.md', 'src/config.yaml', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'unit_tests/test_lib_charm_openstack_neutron_arista.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/bionic-rocky.yaml', 'src/reactive/neutron_arista_handlers.py', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/overlays/bionic-stein.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/69829ab5487bae25084f356df674c6be079cc806', 'message': 'Add Rocky, Stein and Train support\n\nAlso removed unused/dangling config option and empty test class.\n\nChange-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344\nPartial-Bug: #1890628\n'}]",8,746871,69829ab5487bae25084f356df674c6be079cc806,29,4,4,31289,,,0,"Add Rocky, Stein and Train support

Also removed unused/dangling config option and empty test class.

Change-Id: I18b57a85536b4077945fbaf5c1afe95a02d81344
Partial-Bug: #1890628
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/71/746871/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/arista-virt-test-fixture-image.yaml.j2', 'src/lib/charm/openstack/neutron_arista.py', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/overlays/xenial-queens.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/README.md', 'src/config.yaml', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'unit_tests/test_lib_charm_openstack_neutron_arista.py', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/overlays/bionic-stein.yaml.j2']",14,da4499d97eda1c3325ee4dbdbaff379d3a74cdf6,bug/1890628,arista-virt-test-fixture-image.yaml.j2,,349,95
openstack%2Fwhitebox-tempest-plugin~master~I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,openstack/whitebox-tempest-plugin,master,I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5,Pass hostname to NovaServiceManager,MERGED,2020-08-17 21:23:43.000000000,2020-08-20 18:13:05.000000000,2020-08-20 18:13:05.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-08-17 21:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ce7633aaebc3608741746b3c81de138c26009a55', 'message': ""Pass hostname to NovaServiceManager\n\nTripleO deployments do not have the capacity to look up nova service\nbinaries based on the respetive compute's IP address. To allow the\nrecent change [1] to run downstream, this commit updates how parameters\nare passed to NovaServiceManager. The hostname is passed to\nNovaServiceManager instead of the IP address, and during the init the IP\naddress is determined from the hostname and passed to the SSHClient.\nWhen NovaServiceManager attempts to access nova services, it uses the\nprovided hostname now instead of the IP address.\n\nThe get_ctlplane_address() function was moved from api.compute.base to\nutils, since services.clients now needs to leverage this functionality as\nwell. All original calls have been updated to use the new module path.\n\nSince downstream deployments still map the internal API subnet to the\ncompute domain names, several tests are storing both the compute\nhostname as well as the compute control plane IP address and passing\nthem to the respective service managers.\n\n[1] https://review.opendev.org/#/c/736820/\n\nChange-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5\n""}, {'number': 2, 'created': '2020-08-18 16:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/14363afff6a3455c922dfdeebe72cb84929ac01a', 'message': ""Pass hostname to NovaServiceManager\n\nDefault TripleO deployments utilize compute domain names when looking up\nnova service binaries, this lookup does not work when using a compute's\nIP address though. To allow the recent change [1] to run downstream,\nthis commit updates how parameters are passed to the init of\nNovaServiceManager. The hostname is passed to NovaServiceManager instead\nof the IP address.  During the init the compute's control plane IP\naddress is determined and passed to its SSHClient. When\nNovaServiceManager attempts to access nova services, it uses the\ncompute's provided hostname now instead of the IP address.\n\nThe get_ctlplane_address() function was moved from api.compute.base to\nutils, since services.clients now needs to leverage this functionality\nas well. All test case calls of get_ctlplane_address() have been updated\nto use the new module path. Unit test modules test_base and test_utils\nwere updated to reflect these changes.\n\nLastly test cases interfacing with NovaServiceManager have been updated\nto store both the compute's hostname as well as it's associated control\nplane IP address. Originally these tests only stored the compute's\ncontrol plane address.\n\n[1] https://review.opendev.org/#/c/736820/\n\nChange-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5\n""}, {'number': 3, 'created': '2020-08-19 21:00:13.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/tests/test_utils.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/tests/test_base.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/utils.py', 'whitebox_tempest_plugin/api/compute/test_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/17185972008937fd45bc0fe3755a8e69f991a524', 'message': ""Pass hostname to NovaServiceManager\n\nDefault TripleO deployments utilize compute domain names when looking up\nnova service binaries, this lookup does not work when using a compute's\ncontrol plane IP address though. To allow the recent change [1] to run\ndownstream, this commit updates how parameters are passed to the init of\nNovaServiceManager. The hostname is passed to NovaServiceManager instead\nof the IP address.  During the init the compute's control plane IP\naddress is determined and passed to its SSHClient. When\nNovaServiceManager attempts to access nova services, it uses the\ncompute's provided hostname now instead of the IP address.\n\nThe get_ctlplane_address() function was moved from api.compute.base to\nutils, since services.clients now needs to leverage this functionality\nas well. All test case calls of get_ctlplane_address() have been updated\nto use the new module path. Unit test modules test_base and test_utils\nwere updated to reflect these changes.\n\nLastly test cases interfacing with NovaServiceManager have been updated\nto store both the compute's hostname as well as it's associated control\nplane IP address. Originally these tests only stored the compute's\ncontrol plane address.\n\n[1] https://review.opendev.org/#/c/736820/\n\nChange-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5\n""}]",16,746605,17185972008937fd45bc0fe3755a8e69f991a524,15,6,3,31033,,,0,"Pass hostname to NovaServiceManager

Default TripleO deployments utilize compute domain names when looking up
nova service binaries, this lookup does not work when using a compute's
control plane IP address though. To allow the recent change [1] to run
downstream, this commit updates how parameters are passed to the init of
NovaServiceManager. The hostname is passed to NovaServiceManager instead
of the IP address.  During the init the compute's control plane IP
address is determined and passed to its SSHClient. When
NovaServiceManager attempts to access nova services, it uses the
compute's provided hostname now instead of the IP address.

The get_ctlplane_address() function was moved from api.compute.base to
utils, since services.clients now needs to leverage this functionality
as well. All test case calls of get_ctlplane_address() have been updated
to use the new module path. Unit test modules test_base and test_utils
were updated to reflect these changes.

Lastly test cases interfacing with NovaServiceManager have been updated
to store both the compute's hostname as well as it's associated control
plane IP address. Originally these tests only stored the compute's
control plane address.

[1] https://review.opendev.org/#/c/736820/

Change-Id: I4d9330cf8abcb6ba3c0852e6ce3db732e468c6a5
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/05/746605/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/utils.py', 'whitebox_tempest_plugin/api/compute/test_volume_negative.py']",5,ce7633aaebc3608741746b3c81de138c26009a55,nova_sm_dns,from whitebox_tempest_plugin import utils as whitebox_utils host = whitebox_utils.get_ctlplane_address( server['OS-EXT-SRV-ATTR:host'] ), host = self.get_ctlplane_address(server['OS-EXT-SRV-ATTR:host']),53,39
openstack%2Fcharm-ceph-rbd-mirror~master~I0a6f1de82ecc601509822277d657485e08dc893d,openstack/charm-ceph-rbd-mirror,master,I0a6f1de82ecc601509822277d657485e08dc893d,Add focal and ussuri bundles to the charm,MERGED,2020-04-02 16:01:34.000000000,2020-08-20 18:08:12.000000000,2020-08-20 18:08:12.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-04-02 16:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e4c693f933cff32106ff4e5c5f382b1781ac75e2', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 2, 'created': '2020-04-06 13:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/00b49674b23689221510be04d968e8bda12cee6a', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 3, 'created': '2020-05-07 11:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8dac046a9126afe09eba3f5132fd7d6400fa39c7', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 4, 'created': '2020-05-18 09:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/eef0b580ecac716729e827fb5059357ee6b53099', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 5, 'created': '2020-05-20 22:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/be5a408fefbc20ec1c3d82df9b28f63c6ca2e9db', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 6, 'created': '2020-07-21 10:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/0b64a83e0c11305e5fac47fe2695a8487cc948cd', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 7, 'created': '2020-07-21 14:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/531401bc3bae6cabbcc7cfd97bccd84f9c6c8c24', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 8, 'created': '2020-07-23 09:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7f81c9978b1c6050cf93030cb8967bdc68bf1bea', 'message': 'Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.  It also\nhads the tests_options force_deploy parameter to enable the charm to\ntest on focal.\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n'}, {'number': 9, 'created': '2020-08-12 16:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/cc4d9deb4c200b60ce63b29b0dc70d075c6025e6', 'message': ""Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.\nThe focal-ussuri bundle is in the dev bundles as it can't pass at the\nmoment due to LP: #1865754.\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nRelated-Bug: #1865754\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n""}, {'number': 10, 'created': '2020-08-12 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d038f470783b46bbec4fb0c62e6abe575eb3b7b6', 'message': ""Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.\nThe focal-ussuri bundle is in the dev bundles as it can't pass at the\nmoment due to LP: #1865754.\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nRelated-Bug: #1865754\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n""}, {'number': 11, 'created': '2020-08-14 09:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e91ef2df1c3520c24e4b88e772c3e62511614398', 'message': ""Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.\nThe focal-ussuri bundle is in the dev bundles as it can't pass at the\nmoment due to LP: #1865754.\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nRelated-Bug: #1865754\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n""}, {'number': 12, 'created': '2020-08-19 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/f21106892cdde70218cd3d9d2718c4ec8b2dcc3c', 'message': ""Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.\nThe focal-ussuri bundle is in the dev bundles as it can't pass at the\nmoment due to LP: #1865754.\n\nThe bionic-ussuri bundle is in the dev bundles (i.e. not gate) as it\nfails due to LP: #1892201\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nRelated-Bug: #1865754\nRelated-Bug: #1892201\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n""}, {'number': 13, 'created': '2020-08-20 10:34:09.000000000', 'files': ['src/tests/bundles/focal-ussuri.yaml', 'src/wheelhouse.txt', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/5199c767137fe4fa2abcd619221facad40c6defe', 'message': ""Add focal and ussuri bundles to the charm\n\nThis patch updates the bundles to include up to focal-ussuri.\nThe focal-ussuri bundle is in the dev bundles as it can't pass at the\nmoment due to LP: #1865754.\n\nThe bionic-ussuri bundle is in the dev bundles (i.e. not gate) as it\nfails due to LP: #1892201\n\nAlso deal with the related bug where cinder-ceph requires the relation\nwith a nova-compute unit.\n\nRelated-Bug: #1881246\nRelated-Bug: #1865754\nRelated-Bug: #1892201\nChange-Id: I0a6f1de82ecc601509822277d657485e08dc893d\n""}]",1,717068,5199c767137fe4fa2abcd619221facad40c6defe,81,7,13,20870,,,0,"Add focal and ussuri bundles to the charm

This patch updates the bundles to include up to focal-ussuri.
The focal-ussuri bundle is in the dev bundles as it can't pass at the
moment due to LP: #1865754.

The bionic-ussuri bundle is in the dev bundles (i.e. not gate) as it
fails due to LP: #1892201

Also deal with the related bug where cinder-ceph requires the relation
with a nova-compute unit.

Related-Bug: #1881246
Related-Bug: #1865754
Related-Bug: #1892201
Change-Id: I0a6f1de82ecc601509822277d657485e08dc893d
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/68/717068/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",4,e4c693f933cff32106ff4e5c5f382b1781ac75e2,enable-focal,series: bionic applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: source: cloud:bionic-ussuri keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:bionic-ussuri rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: cloud:bionic-ussuri cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: None glance-api-version: 2 cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph num_units: 0 glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: cloud:bionic-ussuri ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: cloud:bionic-ussuri ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: cloud:bionic-ussuri bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror: series: bionic charm: ../../../ceph-rbd-mirror num_units: 1 options: source: cloud:bionic-ussuri ceph-mon-b: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: cloud:bionic-ussuri ceph-osd-b: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: cloud:bionic-ussuri bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror-b: series: bionic charm: ../../../ceph-rbd-mirror num_units: 1 options: source: cloud:bionic-ussuri relations: - - mysql - keystone - - mysql - cinder - - mysql - glance - - rabbitmq-server - cinder - - keystone - cinder - - keystone - glance - - cinder - cinder-ceph - - cinder-ceph - ceph-mon - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ,,415,1
openstack%2Fcharm-guide~master~Id612395620e74331c2c11006ef9224ce3defc859,openstack/charm-guide,master,Id612395620e74331c2c11006ef9224ce3defc859,Add Gnocchi new config option in charm new features,MERGED,2020-08-19 14:44:51.000000000,2020-08-20 18:05:24.000000000,2020-08-20 18:03:17.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-19 14:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7e4613dd4b232041ab3e86100283e3520e447864', 'message': 'Add Gnocchi new config option in charm new features\n\nThe trusted-external-ca-cert is a new configuration option,\nsubmitted via https://review.opendev.org/#/c/746562/.\n\nChange-Id: Id612395620e74331c2c11006ef9224ce3defc859\n'}, {'number': 2, 'created': '2020-08-19 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2bd0897e7d30f6782119d4fedc52cf1d4248ad57', 'message': 'Add Gnocchi new config option in charm new features\n\nThe trusted-external-ca-cert is a new configuration option,\nsubmitted via https://review.opendev.org/#/c/746562/.\n\nChange-Id: Id612395620e74331c2c11006ef9224ce3defc859\n'}, {'number': 3, 'created': '2020-08-20 13:57:34.000000000', 'files': ['doc/source/2010.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/741d08445d22499f82fd290606d634cadd30ef5a', 'message': 'Add Gnocchi new config option in charm new features\n\nThe trusted-external-ca-cert is a new configuration option,\nsubmitted via https://review.opendev.org/#/c/746562/.\n\nChange-Id: Id612395620e74331c2c11006ef9224ce3defc859\n'}]",5,746940,741d08445d22499f82fd290606d634cadd30ef5a,12,3,3,30670,,,0,"Add Gnocchi new config option in charm new features

The trusted-external-ca-cert is a new configuration option,
submitted via https://review.opendev.org/#/c/746562/.

Change-Id: Id612395620e74331c2c11006ef9224ce3defc859
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/40/746940/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2010.rst'],1,7e4613dd4b232041ab3e86100283e3520e447864,ca-config-option-gnocchi,"Gnocchi ------- The gnocchi charm now supports an additional configuration option, trusted-external-ca-cert. This option installs and configure an external root CA in the gnocchi units. This is useful when connecting to an encrypted S3 endpoint, when S3 is used as storage backend. ",,8,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib32d124a65f533283fa6b4f53e30db250d28dd78,openstack/tripleo-ansible,stable/train,Ib32d124a65f533283fa6b4f53e30db250d28dd78,[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles,MERGED,2020-08-20 14:45:46.000000000,2020-08-20 17:57:02.000000000,2020-08-20 17:57:02.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 14:45:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb676dc990433c4d265859a4c2b69b95a0ac68a0', 'message': ""[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles\n\nThe syntax of the zuul layout didn't correctly glob changes\nto the roles for tripleo-ceph. Add missing '.' so it globs\ncorrectly.\n\nChange-Id: Ib32d124a65f533283fa6b4f53e30db250d28dd78\n""}]",0,747192,bb676dc990433c4d265859a4c2b69b95a0ac68a0,8,4,1,18002,,,0,"[TRAIN ONLY] Trigger scenario001/004 for tripleo-ceph roles

The syntax of the zuul layout didn't correctly glob changes
to the roles for tripleo-ceph. Add missing '.' so it globs
correctly.

Change-Id: Ib32d124a65f533283fa6b4f53e30db250d28dd78
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/747192/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,bb676dc990433c4d265859a4c2b69b95a0ac68a0,train_senario001, - ^tripleo_ansible/roles/tripleo-ceph-.*/.* - ^tripleo_ansible/roles/tripleo-ceph-.*/.*, - ^tripleo_ansible/roles/tripleo-ceph-*/.* - ^tripleo_ansible/roles/tripleo-ceph-*/.*,2,2
openstack%2Fproject-config~master~I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,openstack/project-config,master,I668bc85c3e7bd1faf3674c47ccd551c7a92af52c,Pause all image builds,MERGED,2020-08-20 16:25:39.000000000,2020-08-20 17:26:39.000000000,2020-08-20 17:17:50.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 16:25:39.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/37461abc86a972e5a16000970023a65f142d9603', 'message': 'Pause all image builds\n\nPause all image builds until we can get git installed into them\nreliably. Otherwise jobs break.\n\nChange-Id: I668bc85c3e7bd1faf3674c47ccd551c7a92af52c\n'}]",0,747241,37461abc86a972e5a16000970023a65f142d9603,7,3,1,4146,,,0,"Pause all image builds

Pause all image builds until we can get git installed into them
reliably. Otherwise jobs break.

Change-Id: I668bc85c3e7bd1faf3674c47ccd551c7a92af52c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/747241/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml']",2,37461abc86a972e5a16000970023a65f142d9603,pause-images, pause: true pause: true pause: true pause: true pause: true pause: true, pause: false pause: false pause: false pause: false pause: false pause: false,17,17
openstack%2Ftripleo-common~stable%2Ftrain~Id306243352f310f9054506577aa9bbce3790a7e5,openstack/tripleo-common,stable/train,Id306243352f310f9054506577aa9bbce3790a7e5,Ensure atomic inventory file rename runs on the same mountpoint,MERGED,2020-08-19 06:44:58.000000000,2020-08-20 16:16:30.000000000,2020-08-20 16:08:11.000000000,"[{'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-08-19 06:44:58.000000000', 'files': ['tripleo_common/inventories.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/662b0acd91266d28bf3b0b7a4c68ba919182c56a', 'message': 'Ensure atomic inventory file rename runs on the same mountpoint\n\nLinux rename system call is only supported on the same mountpoint [1].\n/tmp is often a tmpfs mount, so instead generate the temp inventory file in\nthe same directory as the target inventory file.\n\n[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html\n\nChange-Id: Id306243352f310f9054506577aa9bbce3790a7e5\nCloses-bug: #1892008\n(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)\n'}]",0,746842,662b0acd91266d28bf3b0b7a4c68ba919182c56a,13,5,1,12393,,,0,"Ensure atomic inventory file rename runs on the same mountpoint

Linux rename system call is only supported on the same mountpoint [1].
/tmp is often a tmpfs mount, so instead generate the temp inventory file in
the same directory as the target inventory file.

[1] See EXDEV in https://man7.org/linux/man-pages/man2/rename.2.html

Change-Id: Id306243352f310f9054506577aa9bbce3790a7e5
Closes-bug: #1892008
(cherry picked from commit fbd575cbe88400bad1ce4d37b914d7ae8a43e15c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/746842/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventories.py', 'tripleo_common/inventory.py']",2,662b0acd91266d28bf3b0b7a4c68ba919182c56a,," inventory_file_dir = os.path.dirname(inventory_file_path) with tempfile.NamedTemporaryFile( 'w', dir=inventory_file_dir, delete=False) as inventory_file:"," with tempfile.NamedTemporaryFile('w', delete=False) as inventory_file:",10,2
openstack%2Fvalidations-common~master~I94eadcecbae58ad322cc3028b315eab795711027,openstack/validations-common,master,I94eadcecbae58ad322cc3028b315eab795711027,Switch legacy Zuul jobs to native Zuul v3 jobs,MERGED,2020-07-24 11:05:29.000000000,2020-08-20 16:08:12.000000000,2020-08-20 16:08:12.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-24 11:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cfa0946b213065fde8aceff72c472bc0fa8c76da', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I94eadcecbae58ad322cc3028b315eab795711027\n'}, {'number': 2, 'created': '2020-08-11 05:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f24c28946a3d010f54d73d117ff83ab881f86b22', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I94eadcecbae58ad322cc3028b315eab795711027\n'}, {'number': 3, 'created': '2020-08-12 06:51:36.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/validations/tasks/validations.yaml', 'roles/validations/defaults/main.yaml', '.zuul.yaml', 'zuul.d/base.yaml', 'zuul.d/playbooks/run.yml', 'roles/fetch_validations/defaults/main.yaml', 'zuul.d/molecule.yaml', 'playbooks/validations-common-functional.yaml', 'zuul.d/playbooks/run-local.yml', 'playbooks/post.yaml', 'roles/fetch_validations/tasks/main.yaml', 'zuul.d/playbooks/pre.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b706d7c7c92eecd0aac5664288e43fb347eae782', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I94eadcecbae58ad322cc3028b315eab795711027\n'}]",17,742853,b706d7c7c92eecd0aac5664288e43fb347eae782,22,6,3,16515,,,0,"Switch legacy Zuul jobs to native Zuul v3 jobs

See
https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
for more details.

Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I94eadcecbae58ad322cc3028b315eab795711027
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/53/742853/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validations/tasks/main.yaml', 'roles/fetch-validations/tasks/main.yaml', 'roles/validations/tasks/validations.yaml', 'roles/validations/defaults/main.yaml', '.zuul.yaml', 'roles/fetch-validations/defaults/main.yaml', 'zuul.d/base.yaml', 'zuul.d/playbooks/run.yml', 'zuul.d/molecule.yaml', 'playbooks/validations-common-functional.yaml', 'zuul.d/playbooks/run-local.yml', 'playbooks/post.yaml', 'zuul.d/playbooks/pre.yml', 'zuul.d/layout.yaml']",14,cfa0946b213065fde8aceff72c472bc0fa8c76da,,,- project: templates: - check-requirements - openstack-python3-victoria-jobs - openstack-lower-constraints-jobs - release-notes-jobs-python3 - validations-common-molecule-jobs check: jobs: - openstack-tox-linters gate: jobs: - openstack-tox-linters ,156,204
openstack%2Freleases~master~I9e982394b9814eed4248e68eb92e853a2f415ed7,openstack/releases,master,I9e982394b9814eed4248e68eb92e853a2f415ed7,Switch heat-agents to cycle-with-rc,ABANDONED,2020-08-13 16:33:45.000000000,2020-08-20 16:04:17.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 16:33:45.000000000', 'files': ['deliverables/victoria/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af29583fae787536a4d06911e6038455f1cc1ef0', 'message': 'Switch heat-agents to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nheat-agents only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I9e982394b9814eed4248e68eb92e853a2f415ed7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746191,af29583fae787536a4d06911e6038455f1cc1ef0,3,2,1,11904,,,0,"Switch heat-agents to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
heat-agents only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I9e982394b9814eed4248e68eb92e853a2f415ed7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/746191/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/heat-agents.yaml'],1,af29583fae787536a4d06911e6038455f1cc1ef0,victoria-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,stable/ussuri,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-08-19 21:08:32.000000000,2020-08-20 15:50:56.000000000,2020-08-20 15:48:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 21:08:32.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee720ed17fd5506835d44abb33d3f6c4268edd20', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)\n'}]",0,747037,ee720ed17fd5506835d44abb33d3f6c4268edd20,8,3,1,3153,,,0,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
(cherry picked from commit 8ed87699fedc60eed19ec3816d16ac42e6f08b02)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/747037/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,ee720ed17fd5506835d44abb33d3f6c4268edd20,label3-stable/ussuri, tcib_managed: True, kolla_version: none,1,1
openstack%2Ftripleo-upgrade~master~I3d2c7691d43674a0304bea8f366162e808dde3ad,openstack/tripleo-upgrade,master,I3d2c7691d43674a0304bea8f366162e808dde3ad,Create workload_launch script when sanity testing is enabled,MERGED,2020-08-20 09:43:26.000000000,2020-08-20 15:48:44.000000000,2020-08-20 15:48:44.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-20 09:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/21425430a15a09594a27a2d097ea3c50443427bd', 'message': 'Launch sanity workloads only if workload testing is enabled\n\nIf workload testing is not enabled, then the workload script\nis not there, so the script fails.\n\nChange-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad\n'}, {'number': 2, 'created': '2020-08-20 09:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d2e63ae663ff6208667b66e06c661d71bb818a35', 'message': 'Create workload_launch script when sanity testing is enabled\n\nIf workload testing is not enabled, then the workload script\nis not there, so the sanity test fails.\n\nIn this patch we change the conditionals to ensure that the\nworkload launch script is created if either test is enabled.\nwe also then ensure that the sanity test launches are using\nthe correct conditional.\n\nChange-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad\n'}, {'number': 3, 'created': '2020-08-20 10:00:27.000000000', 'files': ['tasks/main.yml', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/45c2b65361846b69eac136462f368ecd1b0b76da', 'message': 'Create workload_launch script when sanity testing is enabled\n\nIf workload testing is not enabled, then the workload script\nis not there, so the sanity test fails.\n\nIn this patch we change the conditionals to ensure that the\nworkload launch script is created if either test is enabled.\nwe also then ensure that the sanity test launches are using\nthe correct conditional.\n\nChange-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad\n'}]",0,747130,45c2b65361846b69eac136462f368ecd1b0b76da,10,3,3,6816,,,0,"Create workload_launch script when sanity testing is enabled

If workload testing is not enabled, then the workload script
is not there, so the sanity test fails.

In this patch we change the conditionals to ensure that the
workload launch script is created if either test is enabled.
we also then ensure that the sanity test launches are using
the correct conditional.

Change-Id: I3d2c7691d43674a0304bea8f366162e808dde3ad
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/747130/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",2,21425430a15a09594a27a2d097ea3c50443427bd,ffwd-upgrade2,{% if launch_sanity_workload|bool and workload_launch|bool %},{% if launch_sanity_workload|bool %},3,3
openstack%2Fpython-tripleoclient~stable%2Fussuri~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,stable/ussuri,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-08-20 02:26:33.000000000,2020-08-20 15:48:31.000000000,2020-08-20 15:46:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 02:26:33.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ffc56ed97ec8878a255c96baa16652ef825cf9d', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)\n""}]",0,747075,1ffc56ed97ec8878a255c96baa16652ef825cf9d,8,3,1,3153,,,0,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
(cherry picked from commit 9dec1b2e334e110b03f951c9fd3480f6c3dc8e11)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/747075/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,1ffc56ed97ec8878a255c96baa16652ef825cf9d,state/undercloud-stable/ussuri," # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input()"," # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input() overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name)",17,17
openstack%2Fkayobe~stable%2Fussuri~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,stable/ussuri,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 12:28:38.000000000,2020-08-20 15:40:30.000000000,2020-08-20 15:38:12.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-19 12:28:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f82a23089a24df7b6f007e2cc106e12c70143af8', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)\n'}]",0,746906,f82a23089a24df7b6f007e2cc106e12c70143af8,9,4,1,15197,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
(cherry picked from commit a33ba678df211c4d3f53c7ee9b066becd0e962b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/746906/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f82a23089a24df7b6f007e2cc106e12c70143af8,,"ansible-lint>=3.0.0,!=4.3.0 # MIT",ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fnova~master~Iccd25339bc805b0b21a9290093338a010c204f4f,openstack/nova,master,Iccd25339bc805b0b21a9290093338a010c204f4f,compute: Detach volumes on _rebuild_default_impl failure,ABANDONED,2017-03-06 18:41:28.000000000,2020-08-20 15:30:28.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2017-03-06 18:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/071f75fa070c04c065ce670d8cb910dc1f5d7d0e', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 2, 'created': '2017-03-21 10:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/659ba534dd61435932e9d5e47d1badefcdd1629d', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 3, 'created': '2017-03-30 15:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07ad5fd6a60725f1f70196d46281cfff13f79e10', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 4, 'created': '2017-04-21 09:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43da026218582134da18682d667226473108195d', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 5, 'created': '2017-04-25 19:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cceda0389472aca390d0320dae25d2abbbe1aca6', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 6, 'created': '2017-08-10 12:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3501ac6c8a540a358742b1b2297f182167fea79c', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}, {'number': 7, 'created': '2018-01-09 16:43:57.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ab416addec436870355421c5d02a20633df7fba', 'message': 'compute: Detach volumes on _rebuild_default_impl failure\n\nPreviously a failed call to spawn an instance during a rebuild using the\ndefault implementation would leave volumes accessible from and\npotentially connected to compute hosts. This change now ensures the\nprovided detach_block_devices method is called again if spawn fails.\n\nCloses-bug: #1668432\nChange-Id: Iccd25339bc805b0b21a9290093338a010c204f4f\n'}]",1,442105,4ab416addec436870355421c5d02a20633df7fba,104,20,7,10135,,,0,"compute: Detach volumes on _rebuild_default_impl failure

Previously a failed call to spawn an instance during a rebuild using the
default implementation would leave volumes accessible from and
potentially connected to compute hosts. This change now ensures the
provided detach_block_devices method is called again if spawn fails.

Closes-bug: #1668432
Change-Id: Iccd25339bc805b0b21a9290093338a010c204f4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/442105/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,071f75fa070c04c065ce670d8cb910dc1f5d7d0e,bug/1668432," try: with instance.mutated_migration_context(): self.driver.spawn(context, instance, image_meta, injected_files, admin_password, network_info=network_info, block_device_info=new_block_device_info) except Exception: with excutils.save_and_reraise_exception(): detach_block_devices(context, bdms)"," with instance.mutated_migration_context(): self.driver.spawn(context, instance, image_meta, injected_files, admin_password, network_info=network_info, block_device_info=new_block_device_info)",48,4
openstack%2Freleases~master~I38817f592ffd3255c2ce263549b5c7fbdf973956,openstack/releases,master,I38817f592ffd3255c2ce263549b5c7fbdf973956,Fix the list-deliverable command,ABANDONED,2020-08-20 15:00:50.000000000,2020-08-20 15:20:34.000000000,,[{'_account_id': 11904}],"[{'number': 1, 'created': '2020-08-20 15:00:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/0585d292ce8d0c3d3198bb93779243199d9527d2', 'message': 'Fix the list-deliverable command\n\nSince 4e944ea have been added we facing the following error:\n\n```\n$ tox -e venv -- list-deliverables --team oslo -r\nvenv develop-inst-noop: /home/hberaud/openstack/releases\nvenv installed: alabaster==0.7.12,appdirs==1.4.4,attrs==19.3.0,Babel==2.8.0,bleach==3.1.5,certifi==2020.4.5.1,cffi==1.14.0,chardet==3.0.4,cliff==3.1.0,cmd2==0.8.9,coverage==5.1,cryptography==2.9.2,docutils==0.16,dulwich==0.19.16,extras==1.0.0,fixtures==3.0.0,flake8==2.5.5,future==0.18.2,hacking==1.0.0,idna==2.9,imagesize==1.2.0,importlib-metadata==1.6.0,jeepney==0.4.3,Jinja2==2.11.2,jsonschema==3.2.0,keyring==21.2.1,linecache2==1.0.0,MarkupSafe==1.1.1,mccabe==0.2.1,mock==4.0.2,mwclient==0.8.1,openstack-governance==0.6.0,-e git+https://git.openstack.org/openstack/releases@6c9d1d79f133a0852bd842c45e2a1262a4df4033#egg=openstack_releases,oslotest==4.2.0,packaging==20.3,parawrap==1.0,pbr==5.4.5,pep8==1.5.7,pkginfo==1.5.0.1,prettytable==0.7.2,prompt-toolkit==3.0.5,pycparser==2.20,pydot2==1.0.33,pyfiglet==0.8.post1,pyflakes==0.8.1,Pygments==2.6.1,pyparsing==2.4.7,pyperclip==1.8.0,pyrsistent==0.16.0,python-mimeparse==1.6.0,python-subunit==1.4.0,pytz==2020.1,PyYAML==5.3.1,readme-renderer==26.0,reno==3.1.0,requests==2.23.0,requests-toolbelt==0.9.1,ruamel.yaml==0.16.10,ruamel.yaml.clib==0.2.0,SecretStorage==3.1.2,six==1.14.0,snowballstemmer==2.0.0,Sphinx==3.0.3,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==1.0.3,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.4,stestr==3.0.1,stevedore==1.32.0,testscenarios==0.5.0,testtools==2.4.0,tqdm==4.46.0,traceback2==1.4.0,twine==3.1.1,unittest2==1.1.0,urllib3==1.25.9,voluptuous==0.11.7,wcwidth==0.1.9,webencodings==0.5.1,yamlordereddictloader==0.4.0,zipp==3.1.0\nvenv run-test-pre: PYTHONHASHSEED=\'2741526287\'\nvenv run-test: commands[0] | list-deliverables --team oslo -r\nTraceback (most recent call last):\n  File ""/home/hberaud/openstack/releases/.tox/venv/bin/list-deliverables"", line 10, in <module>\n    sys.exit(main())\n  File ""/home/hberaud/openstack/releases/openstack_releases/cmds/list_deliverables.py"", line 256, in main\n    tag_str = \'(\' + \', \'.join(deliv.tags) + \')\'\n  File ""/home/hberaud/openstack/releases/openstack_releases/deliverable.py"", line 573, in tags\n    Deliverable._gov_data = governance.Governance.from_remote_repo()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/governance.py"", line 191, in from_remote_repo\n    wgs_data = _yamlutils.loads(r.text)\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/_yamlutils.py"", line 24, in loads\n    return yaml.load(blob, Loader=yamlordereddictloader.Loader)\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/__init__.py"", line 114, in load\n    return loader.get_single_data()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/constructor.py"", line 49, in get_single_data\n    node = self.get_single_node()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 36, in get_single_node\n    document = self.compose_document()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 58, in compose_document\n    self.get_event()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 118, in get_event\n    self.current_event = self.state()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 193, in parse_document_end\n    token = self.peek_token()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 129, in peek_token\n    self.fetch_more_tokens()\n  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 260, in fetch_more_tokens\n    self.get_mark())\nyaml.scanner.ScannerError: while scanning for the next token\nfound character \'\\t\' that cannot start any token\n  in ""<unicode string>"", line 4, column 1:\n        <meta charset=""utf-8"">\n```\n\nRevert 4e944ea:\n\nRequire latest governance parsing code(4e944ea)\n\nBump openstack-governance requirements to 0.7.0 to pick up latest\ngovernance parsing code, as the current state of governance files\nwill break anything <0.7.0.\n\nChange-Id: I38817f592ffd3255c2ce263549b5c7fbdf973956\n'}]",0,747199,0585d292ce8d0c3d3198bb93779243199d9527d2,3,1,1,28522,,,0,"Fix the list-deliverable command

Since 4e944ea have been added we facing the following error:

```
$ tox -e venv -- list-deliverables --team oslo -r
venv develop-inst-noop: /home/hberaud/openstack/releases
venv installed: alabaster==0.7.12,appdirs==1.4.4,attrs==19.3.0,Babel==2.8.0,bleach==3.1.5,certifi==2020.4.5.1,cffi==1.14.0,chardet==3.0.4,cliff==3.1.0,cmd2==0.8.9,coverage==5.1,cryptography==2.9.2,docutils==0.16,dulwich==0.19.16,extras==1.0.0,fixtures==3.0.0,flake8==2.5.5,future==0.18.2,hacking==1.0.0,idna==2.9,imagesize==1.2.0,importlib-metadata==1.6.0,jeepney==0.4.3,Jinja2==2.11.2,jsonschema==3.2.0,keyring==21.2.1,linecache2==1.0.0,MarkupSafe==1.1.1,mccabe==0.2.1,mock==4.0.2,mwclient==0.8.1,openstack-governance==0.6.0,-e git+https://git.openstack.org/openstack/releases@6c9d1d79f133a0852bd842c45e2a1262a4df4033#egg=openstack_releases,oslotest==4.2.0,packaging==20.3,parawrap==1.0,pbr==5.4.5,pep8==1.5.7,pkginfo==1.5.0.1,prettytable==0.7.2,prompt-toolkit==3.0.5,pycparser==2.20,pydot2==1.0.33,pyfiglet==0.8.post1,pyflakes==0.8.1,Pygments==2.6.1,pyparsing==2.4.7,pyperclip==1.8.0,pyrsistent==0.16.0,python-mimeparse==1.6.0,python-subunit==1.4.0,pytz==2020.1,PyYAML==5.3.1,readme-renderer==26.0,reno==3.1.0,requests==2.23.0,requests-toolbelt==0.9.1,ruamel.yaml==0.16.10,ruamel.yaml.clib==0.2.0,SecretStorage==3.1.2,six==1.14.0,snowballstemmer==2.0.0,Sphinx==3.0.3,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==1.0.3,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.4,stestr==3.0.1,stevedore==1.32.0,testscenarios==0.5.0,testtools==2.4.0,tqdm==4.46.0,traceback2==1.4.0,twine==3.1.1,unittest2==1.1.0,urllib3==1.25.9,voluptuous==0.11.7,wcwidth==0.1.9,webencodings==0.5.1,yamlordereddictloader==0.4.0,zipp==3.1.0
venv run-test-pre: PYTHONHASHSEED='2741526287'
venv run-test: commands[0] | list-deliverables --team oslo -r
Traceback (most recent call last):
  File ""/home/hberaud/openstack/releases/.tox/venv/bin/list-deliverables"", line 10, in <module>
    sys.exit(main())
  File ""/home/hberaud/openstack/releases/openstack_releases/cmds/list_deliverables.py"", line 256, in main
    tag_str = '(' + ', '.join(deliv.tags) + ')'
  File ""/home/hberaud/openstack/releases/openstack_releases/deliverable.py"", line 573, in tags
    Deliverable._gov_data = governance.Governance.from_remote_repo()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/governance.py"", line 191, in from_remote_repo
    wgs_data = _yamlutils.loads(r.text)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/openstack_governance/_yamlutils.py"", line 24, in loads
    return yaml.load(blob, Loader=yamlordereddictloader.Loader)
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/__init__.py"", line 114, in load
    return loader.get_single_data()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/constructor.py"", line 49, in get_single_data
    node = self.get_single_node()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 36, in get_single_node
    document = self.compose_document()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/composer.py"", line 58, in compose_document
    self.get_event()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 118, in get_event
    self.current_event = self.state()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/parser.py"", line 193, in parse_document_end
    token = self.peek_token()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 129, in peek_token
    self.fetch_more_tokens()
  File ""/home/hberaud/openstack/releases/.tox/venv/lib/python3.7/site-packages/yaml/scanner.py"", line 260, in fetch_more_tokens
    self.get_mark())
yaml.scanner.ScannerError: while scanning for the next token
found character '\t' that cannot start any token
  in ""<unicode string>"", line 4, column 1:
        <meta charset=""utf-8"">
```

Revert 4e944ea:

Require latest governance parsing code(4e944ea)

Bump openstack-governance requirements to 0.7.0 to pick up latest
governance parsing code, as the current state of governance files
will break anything <0.7.0.

Change-Id: I38817f592ffd3255c2ce263549b5c7fbdf973956
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/747199/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0585d292ce8d0c3d3198bb93779243199d9527d2,,openstack-governance>=0.1.0 # Apache 2.0,openstack-governance>=0.7.0 # Apache 2.0,1,1
openstack%2Fcinder~stable%2Fussuri~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,stable/ussuri,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-08-19 16:46:34.000000000,2020-08-20 15:16:56.000000000,2020-08-19 20:23:09.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-19 16:46:34.000000000', 'files': ['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dae548d5473d1aaf3894aedc0e3937d4d0613d70', 'message': ""Correct formatting in release note\n\nA missing '_' is causing a hyperlink to render incorrectly in HTML.\n\nChange-Id: Ia620043904f4f31a81bc8463fb36476a149f9808\n(cherry picked from commit f690327b55cac79540c9bb7b10c390b73aa3fc62)\n""}]",0,746995,dae548d5473d1aaf3894aedc0e3937d4d0613d70,18,11,1,27615,,,0,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
(cherry picked from commit f690327b55cac79540c9bb7b10c390b73aa3fc62)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/746995/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml'],1,dae548d5473d1aaf3894aedc0e3937d4d0613d70,correct-relnote-stable/ussuri, `Bug #1875570 <https://bugs.launchpad.net/cinder/+bug/1875570>`_:, `Bug #1875570 <https://bugs.launchpad.net/cinder/+bug/1875570>`:,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/train,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:34.000000000,2020-08-20 15:14:19.000000000,2020-08-20 15:12:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 18:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad0ea081e4480036a61dad87dbdd7e13230401f9', 'message': 'tripleo_container_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)\n'}, {'number': 2, 'created': '2020-08-19 21:57:37.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/prepare.yml', 'doc/source/modules/modules-tripleo-container-configs.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0f7dafde9017b0a3310ae2e7dec4b70a1a5bd53', 'message': 'tripleo_container_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)\n'}]",0,747009,a0f7dafde9017b0a3310ae2e7dec4b70a1a5bd53,11,3,2,3153,,,0,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/747009/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/prepare.yml', 'doc/source/modules/modules-tripleo-container-configs.rst']",5,ad0ea081e4480036a61dad87dbdd7e13230401f9,config/json-stable/train,================================== Module - tripleo_container_configs ================================== This module provides for the following ansible plugin: * tripleo_container_configs .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py :documentation: true :examples: true ,,209,0
openstack%2Fcinder~stable%2Fussuri~I621a00d34e9c2b14234e11e94857a39fe54a111f,openstack/cinder,stable/ussuri,I621a00d34e9c2b14234e11e94857a39fe54a111f,Brocade: Fix lookup UnboundLocalError,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 15:07:45.000000000,2020-08-20 15:05:23.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28182}, {'_account_id': 28801}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-08-17 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c8ab4e8d810a0f88c862d97408fd7e531a29571', 'message': ""Brocade: Fix lookup UnboundLocalError\n\nIf we get an exception when getting the southbound client in method\nget_device_mapping_from_network we will end up seeing the following\nerror:\n\n  UnboundLocalError: local variable 'conn' referenced before assignment\n\nThis patch fixes this issue by making sure that the conn variable exists\neven if that call fails.\n\nTrivialFix\nCloses-Bug: #1888550\nChange-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f\n(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)\n""}, {'number': 2, 'created': '2020-08-18 09:44:29.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py', 'releasenotes/notes/brocade_looup_fail_get_client-179151d449a34aa4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41fcbf8a56cdead8265455ddecfed96000a857bb', 'message': ""Brocade: Fix lookup UnboundLocalError\n\nIf we get an exception when getting the southbound client in method\nget_device_mapping_from_network we will end up seeing the following\nerror:\n\n  UnboundLocalError: local variable 'conn' referenced before assignment\n\nThis patch fixes this issue by making sure that the conn variable exists\neven if that call fails.\n\nTrivialFix\nCloses-Bug: #1888550\nChange-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f\n(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)\n""}]",0,746536,41fcbf8a56cdead8265455ddecfed96000a857bb,44,21,2,10459,,,0,"Brocade: Fix lookup UnboundLocalError

If we get an exception when getting the southbound client in method
get_device_mapping_from_network we will end up seeing the following
error:

  UnboundLocalError: local variable 'conn' referenced before assignment

This patch fixes this issue by making sure that the conn variable exists
even if that call fails.

TrivialFix
Closes-Bug: #1888550
Change-Id: I621a00d34e9c2b14234e11e94857a39fe54a111f
(cherry picked from commit 122036638d6377f688272ee641e8effbcef933a1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/746536/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py', 'releasenotes/notes/brocade_looup_fail_get_client-179151d449a34aa4.yaml']",3,8c8ab4e8d810a0f88c862d97408fd7e531a29571,brocade,--- fixes: - | Fix `UnboundLocalError` on the Brocade lookup driver on southbound client creation failure during the device mapping retrieval (Bug #1888550). ,,16,0
openstack%2Foctavia~master~I49e92f81b23e0b306c62c406a45029b96dce20df,openstack/octavia,master,I49e92f81b23e0b306c62c406a45029b96dce20df,Increase the devstack secuirty group rules quota,MERGED,2020-08-16 20:33:19.000000000,2020-08-20 15:07:24.000000000,2020-08-19 23:17:28.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-08-16 20:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e967907e60cb58983cbee587c1da062bcb7c161f', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n'}, {'number': 2, 'created': '2020-08-16 23:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b91d9e9f79abe711b772f391b8416dd08d2d732', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n'}, {'number': 3, 'created': '2020-08-18 20:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/da053411664859309732a9c33c6d9b553f9a6db1', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n'}, {'number': 4, 'created': '2020-08-18 23:09:31.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e2464d778cc86df161fdf59406aac30770b58f0', 'message': 'Increase the devstack secuirty group rules quota\n\nRecent changes to the Octavia tempest tests has caused our test\nruns to exceed the default neutron security group rule quota.\nThis patch increases that quota for the Octavia project in devstack.\n\nChange-Id: I49e92f81b23e0b306c62c406a45029b96dce20df\n'}]",1,746418,2e2464d778cc86df161fdf59406aac30770b58f0,30,6,4,11628,,,0,"Increase the devstack secuirty group rules quota

Recent changes to the Octavia tempest tests has caused our test
runs to exceed the default neutron security group rule quota.
This patch increases that quota for the Octavia project in devstack.

Change-Id: I49e92f81b23e0b306c62c406a45029b96dce20df
",git fetch https://review.opendev.org/openstack/octavia refs/changes/18/746418/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e967907e60cb58983cbee587c1da062bcb7c161f,sec-grp-rule-quota, openstack quota set ----secgroup-rules 1000 $SERVICE_PROJECT_NAME,,1,0
openstack%2Fcinder~stable%2Fussuri~Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,openstack/cinder,stable/ussuri,Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a,Brocade: Fix AttributeError when raising exception,MERGED,2020-08-17 15:01:09.000000000,2020-08-20 14:57:49.000000000,2020-08-20 14:55:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-08-17 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f38aa3f347ba392d071fa826b8b3ec4b11a2825', 'message': ""Brocade: Fix AttributeError when raising exception\n\nWhen we moved Brocade exceptions from cinder.exception to\ncinder.zonemanager.drivers.broade.exception we missed one file,\nbrcd_rest_fc_zone_client, so when we use that file (setting\n`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception\nwe end up seeing:\n\n  AttributeError: module 'cinder.exception' has no attribute\n  'BrocadeZoningRestException'\n\nThe CI didn't catch it because there are no unit tests for the\nbrcd_rest_fc_zone_client.py file.\n\nThis patch fixes the issue by changing the import so it gets the\nexceptions from the Brocade file and it also adds some tests for the\nfirst half (211 lines) of the code in the brcd_rest_fc_zone_client.py\nfile.\n\nTrivialFix\nCloses-Bug: #1866860\nChange-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a\n(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)\n""}, {'number': 2, 'created': '2020-08-18 09:44:29.000000000', 'files': ['cinder/tests/unit/zonemanager/test_brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'releasenotes/notes/brocade_rest_client-202cfd474c96d3fe.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d', 'message': ""Brocade: Fix AttributeError when raising exception\n\nWhen we moved Brocade exceptions from cinder.exception to\ncinder.zonemanager.drivers.broade.exception we missed one file,\nbrcd_rest_fc_zone_client, so when we use that file (setting\n`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception\nwe end up seeing:\n\n  AttributeError: module 'cinder.exception' has no attribute\n  'BrocadeZoningRestException'\n\nThe CI didn't catch it because there are no unit tests for the\nbrcd_rest_fc_zone_client.py file.\n\nThis patch fixes the issue by changing the import so it gets the\nexceptions from the Brocade file and it also adds some tests for the\nfirst half (211 lines) of the code in the brcd_rest_fc_zone_client.py\nfile.\n\nTrivialFix\nCloses-Bug: #1866860\nChange-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a\n(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)\n""}]",0,746535,373efbd7ee7e635a0f8970f4c1fea7d8cb4e878d,93,18,2,10459,,,0,"Brocade: Fix AttributeError when raising exception

When we moved Brocade exceptions from cinder.exception to
cinder.zonemanager.drivers.broade.exception we missed one file,
brcd_rest_fc_zone_client, so when we use that file (setting
`fc_southbound_protocol = REST_HTTP`) if it tries to raise an exception
we end up seeing:

  AttributeError: module 'cinder.exception' has no attribute
  'BrocadeZoningRestException'

The CI didn't catch it because there are no unit tests for the
brcd_rest_fc_zone_client.py file.

This patch fixes the issue by changing the import so it gets the
exceptions from the Brocade file and it also adds some tests for the
first half (211 lines) of the code in the brcd_rest_fc_zone_client.py
file.

TrivialFix
Closes-Bug: #1866860
Change-Id: Idfdb8796d5f4b650aa762e54a189c9ab48f93d1a
(cherry picked from commit 6dbd08b49171ecaaeb5896f58f7740e304f7e548)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/746535/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/zonemanager/test_brcd_rest_fc_zone_client.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'releasenotes/notes/brocade_rest_client-202cfd474c96d3fe.yaml']",3,4f38aa3f347ba392d071fa826b8b3ec4b11a2825,brocade,--- fixes: - | Fix `AttributeError` on the Brocade ZM driver when using setting REST_HTTP or REST_HTTPS as the fc_southbound_protocol option and an exception is raised by the client (Bug #1866860). ,,305,1
openstack%2Fheat~stable%2Fussuri~I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,openstack/heat,stable/ussuri,I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf,Add dns_domain support to OS::Neutron::ProviderNet,ABANDONED,2020-07-30 13:11:52.000000000,2020-08-20 14:56:51.000000000,,"[{'_account_id': 4257}, {'_account_id': 7130}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 13:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/346badfd196074c81a6dd8639028a46bff0d9d54', 'message': ""Add dns_domain support to OS::Neutron::ProviderNet\n\nIt is actually possible to set OS::Neutron::Net-dns_domain but\nnot OS::Neutron::ProviderNet-dns_domain with heat.   Since this\nis allowed using python-neutronclient, there're no reasons to\nnot allow this using heat.\n\nChange-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf\nTask: 36808\n(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)\n""}, {'number': 2, 'created': '2020-08-12 12:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/93920ef2e6d5c1de5ed91771a4bac44c4410e937', 'message': ""Add dns_domain support to OS::Neutron::ProviderNet\n\nIt is actually possible to set OS::Neutron::Net-dns_domain but\nnot OS::Neutron::ProviderNet-dns_domain with heat.   Since this\nis allowed using python-neutronclient, there're no reasons to\nnot allow this using heat.\n\nChange-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf\nTask: 36808\n(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)\n""}, {'number': 3, 'created': '2020-08-13 19:03:00.000000000', 'files': ['heat/engine/resources/openstack/neutron/provider_net.py', 'releasenotes/notes/add-dns_domain-to-ProviderNet-84b14a85b8653c7c.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/2bb3f7e5b9901b040e32c5abd372a522b45ec9cb', 'message': ""Add dns_domain support to OS::Neutron::ProviderNet\n\nIt is actually possible to set OS::Neutron::Net-dns_domain but\nnot OS::Neutron::ProviderNet-dns_domain with heat.   Since this\nis allowed using python-neutronclient, there're no reasons to\nnot allow this using heat.\n\nChange-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf\nTask: 36808\n(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)\n""}]",8,743967,2bb3f7e5b9901b040e32c5abd372a522b45ec9cb,22,5,3,7353,,,0,"Add dns_domain support to OS::Neutron::ProviderNet

It is actually possible to set OS::Neutron::Net-dns_domain but
not OS::Neutron::ProviderNet-dns_domain with heat.   Since this
is allowed using python-neutronclient, there're no reasons to
not allow this using heat.

Change-Id: I5b085e469f3fd24c797d5dcaf39dbe56f6ad5cdf
Task: 36808
(cherry picked from commit 5bc84d64192720b2944d32acd8dd44289bdab859)
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/743967/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/provider_net.py', 'releasenotes/notes/add-dns_domain-to-ProviderNet-84b14a85b8653c7c.yaml']",2,346badfd196074c81a6dd8639028a46bff0d9d54,story/2006616-stable/ussuri,--- features: - | Added ``dns_domain`` property to resource type ``OS::Neutron::ProviderNet``. This specifies the DNS domain to use when publishing DNS records for ports on this network. ,,17,2
openstack%2Fpaunch~stable%2Ftrain~If23ee1b5b0211221c0dd547e95a0487ea8d04909,openstack/paunch,stable/train,If23ee1b5b0211221c0dd547e95a0487ea8d04909,Log benign command errors as warns,MERGED,2020-08-18 13:12:54.000000000,2020-08-20 14:54:08.000000000,2020-08-20 14:51:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 13:12:54.000000000', 'files': ['paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/e3789cc2ea5d1dac11ece6e4b83c99631634ed64', 'message': 'Log benign command errors as warns\n\nErrors logged when an image/container was not found are misleading and\nshould become warnings instead. Only log errors for real execution\nfailures.\n\nChange-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 861ed0612805c85fe84b9c836c32aaac3095ea38)\n'}]",0,746713,e3789cc2ea5d1dac11ece6e4b83c99631634ed64,17,5,1,6926,,,0,"Log benign command errors as warns

Errors logged when an image/container was not found are misleading and
should become warnings instead. Only log errors for real execution
failures.

Change-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 861ed0612805c85fe84b9c836c32aaac3095ea38)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/13/746713/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/runner.py', 'paunch/tests/test_builder_base.py']",2,e3789cc2ea5d1dac11ece6e4b83c99631634ed64,," '--format', 'exists', 'centos:6'], mock.ANY, False, True '--format', 'exists', 'centos:7'], mock.ANY, False, True log=mock.ANY, quiet=False, warn_only=True log=mock.ANY, quiet=False, warn_only=True log=mock.ANY, quiet=False, warn_only=True '--format', 'exists', 'centos:7'], mock.ANY, False, True 'one'], mock.ANY, False, True), 'three'], mock.ANY, False, True), '--format', 'exists', 'centos:6'], mock.ANY, False, True '--format', 'exists', 'centos:7'], mock.ANY, False, True"," '--format', 'exists', 'centos:6'], mock.ANY, False '--format', 'exists', 'centos:7'], mock.ANY, False mock.ANY mock.ANY mock.ANY '--format', 'exists', 'centos:7'], mock.ANY, False 'one'], mock.ANY, False), 'three'], mock.ANY, False), '--format', 'exists', 'centos:6'], mock.ANY, False '--format', 'exists', 'centos:7'], mock.ANY, False",30,22
openstack%2Fdevstack-plugin-ceph~master~I7896886d356a75a896660e08e2152c69534fa26f,openstack/devstack-plugin-ceph,master,I7896886d356a75a896660e08e2152c69534fa26f,[CI] Gate on voting jobs,MERGED,2020-08-20 07:15:08.000000000,2020-08-20 14:53:09.000000000,2020-08-20 14:35:52.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-20 07:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/646f8c50b0348a1d5a8e382e8ab9cd5069444e62', 'message': '[CI] Gate on voting jobs\n\nPer the best practices.\n\nChange-Id: I7896886d356a75a896660e08e2152c69534fa26f\n'}, {'number': 2, 'created': '2020-08-20 07:17:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6f48063468fb0152327b32138123da390ba51403', 'message': '[CI] Gate on voting jobs\n\nPer the best practices.\n\nChange-Id: I7896886d356a75a896660e08e2152c69534fa26f\n'}]",2,747113,6f48063468fb0152327b32138123da390ba51403,10,4,2,30491,,,0,"[CI] Gate on voting jobs

Per the best practices.

Change-Id: I7896886d356a75a896660e08e2152c69534fa26f
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/13/747113/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,646f8c50b0348a1d5a8e382e8ab9cd5069444e62,gate-voting, gate: - devstack-plugin-ceph-tempest-py3,,2,0
openstack%2Fdevstack-plugin-ceph~master~Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,openstack/devstack-plugin-ceph,master,Iff47bbe4954da3ab582a007ba04b3df50ae21cd4,shaman: use 'ready' repo instead of any,MERGED,2020-08-19 20:15:38.000000000,2020-08-20 14:53:03.000000000,2020-08-20 07:05:28.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10135}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 20:15:38.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/6b409867bfc9d897ab36928b8e538ef3ba04961a', 'message': ""shaman: use 'ready' repo instead of any\n\nWe seem to have been requesting the latest build from the Shaman API\nprovided by Ceph however we did not filter the status to be 'ready'\nwhich meant that we sometimes got 'building' status repositories that\ncause the jobs to fail.\n\nThis should stabilize jobs a lot more by using only the ready\nrepositories.\n\nChange-Id: Iff47bbe4954da3ab582a007ba04b3df50ae21cd4\n""}]",0,747030,6b409867bfc9d897ab36928b8e538ef3ba04961a,12,6,1,1004,,,0,"shaman: use 'ready' repo instead of any

We seem to have been requesting the latest build from the Shaman API
provided by Ceph however we did not filter the status to be 'ready'
which meant that we sometimes got 'building' status repositories that
cause the jobs to fail.

This should stabilize jobs a lot more by using only the ready
repositories.

Change-Id: Iff47bbe4954da3ab582a007ba04b3df50ae21cd4
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/30/747030/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,6b409867bfc9d897ab36928b8e538ef3ba04961a,," repo=$(curl -L ""https://shaman.ceph.com/api/search/?project=ceph&status=ready&distros=${distro_type}/${distro_release}&ref=${ceph_release}&sha1=${repo_type}"" | \"," repo=$(curl -L ""https://shaman.ceph.com/api/search/?project=ceph&distros=${distro_type}/${distro_release}&ref=${ceph_release}&sha1=${repo_type}"" | \",1,1
openstack%2Ftripleo-upgrade~master~Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,openstack/tripleo-upgrade,master,Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0,FFWD: L3 fixup,MERGED,2020-08-19 09:48:13.000000000,2020-08-20 14:52:26.000000000,2020-08-20 14:51:04.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-19 09:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2b3c74cb966090267e048584d115f5943d419245', 'message': 'WIP: FFWD: L3 fixup\n\nChange-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0\n'}, {'number': 2, 'created': '2020-08-19 20:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cf180e39a219ad3d242b916aee6e10308a2fb83d', 'message': 'WIP: FFWD: L3 fixup\n\nChange-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0\n'}, {'number': 3, 'created': '2020-08-20 09:54:18.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/854f084fbf7dc71e702dc3c578db0e8283edf5b5', 'message': 'FFWD: L3 fixup\n\nBefore we fix workload accounting and l3 test scripts we need to\nremove extra wokload test during FFWD.\n\nChange-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0\n'}]",0,746869,854f084fbf7dc71e702dc3c578db0e8283edf5b5,13,3,3,11166,,,0,"FFWD: L3 fixup

Before we fix workload accounting and l3 test scripts we need to
remove extra wokload test during FFWD.

Change-Id: Ia36c52712c2bc32005d40c53a8b4f9cb71760cb0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/746869/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/overcloud_bulk.yaml', 'tasks/fast-forward-upgrade/main.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml']",3,2b3c74cb966090267e048584d115f5943d419245,ffwd-upgrade2,,"--- - name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml - name: create FFU role ugrades scripts template: src: fast-forward-upgrade/overcloud_upgrade_role.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|default([]) }}"" - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_controller - name: pre controller role upgrade steps workarounds command: ""{{ working_dir }}/pre_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller - name: run FFU control plane ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_controller loop: ""{{ oc_roles|difference(['Compute','ComputeAlt','CephStorage']) }}"" - name: run L3 validation include_tasks: ""{{ item }}"" loop: - '../common/l3_agent_connectivity_check_stop_script.yml' - '../common/l3_agent_failover_check_post_script.yml' tags: ffu_overcloud_upgrade_controller - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: run FFU compute ugrade scripts command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: ""{{ oc_roles|intersect(['Compute','ComputeAlt']) }}"" when: - not ffu_computes_rolling|bool - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute - block: - name: register compute nodes from tripleo ansible inventory shell: | awk -F':' '/^[^ \n]*compute-/ {print $1}' {{ working_dir }}/tripleo-ansible-inventory.yaml register: tripleo_compute_nodes tags: ffu_overcloud_upgrade_compute - name: Create compute nodes FFU ugrade playbooks scripts template: src: fast-forward-upgrade/overcloud_upgrade_nodes.sh.j2 dest: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" mode: 0775 tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: start L3 connectivity check import_tasks: ../common/l3_agent_connectivity_check_start_script.yml tags: ffu_overcloud_upgrade_compute - name: Rolling upgrade compute nodes command: ""{{ working_dir }}/overcloud_upgrade_{{ item }}.sh"" tags: ffu_overcloud_upgrade_compute loop: '{{ tripleo_compute_nodes.stdout_lines }}' - name: validate L3 connectivity result import_tasks: ../common/l3_agent_connectivity_check_stop_script.yml tags: ffu_overcloud_upgrade_compute when: ffu_computes_rolling|bool - name: post controller role upgrade steps workarounds command: ""{{ working_dir }}/post_ffu_overcloud_upgrade_workarounds.sh"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_upgrade_controller ",24,134
openstack%2Fos-brick~master~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,master,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-06-01 15:38:14.000000000,2020-08-20 14:50:04.000000000,2020-08-13 19:01:42.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25613}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-06-01 15:38:14.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7fb37c2000a148f37bc8a6c17e913c46865776bd', 'message': ""Improve WWN detection\n\nTo avoid issues with the scsi_id command getting stuck and blocking the\nattachment we use sysfs to search for the WWN, but it can happen that we\nfail to detect the WWN even if it's present in sysfs.\n\nThis happens when the storage array has multiple designators and the\nmultipath daemon detects the multipaths very fast.\n\nThe flow is:\n\n- os-brick attaches volumes using iscsiadm --login\n- udev generates the symlink with the WWN (this is the one we want)\n- multipathd detects the volumes and forms the DM\n- udev replaces the previous symlink to point to the multipath DM\n- os-brick checks the symlink\n\nThis patch adds code to get_sysfs_wwn that checks the individual devices\nbelonging to a multipath DM if the symlink points to a DM.\n\nCloses-Bug: #1881608\nChange-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c\n""}]",1,732407,7fb37c2000a148f37bc8a6c17e913c46865776bd,71,19,1,9535,,,0,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/07/732407/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py']",3,7fb37c2000a148f37bc8a6c17e913c46865776bd,improve-get_sysfs_wwn, # If we have multiple designators use symlinks to find out the wwn device_names = set(device_names) if path.startswith('/dev/'): name = path[5:] # Symlink may point to the multipath dm if the attach # was too fast or we took long to check it. Check # devices belonging to the multipath DM. if name.startswith('dm-'): # Get the devices that belong to the DM slaves_path = '/sys/class/block/%s/slaves' % name dm_devs = os.listdir(slaves_path) # This is the right wwn_path if the devices we have # attached belong to the dm we followed if device_names.intersection(dm_devs): break # This is the right wwn_path if devices we have elif name in device_names: break else: return '' return wwn_path[len(glob_str):], # If we have multiple designators follow the symlinks if path.startswith('/dev/') and path[5:] in device_names: return wwn_path[len(glob_str):] return '',68,7
openstack%2Fos-brick~master~Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,openstack/os-brick,master,Ic48bd9ac408c56073e58168df7e74e4b949ac2f2,iSCSI detect multipath DM with no WWN,MERGED,2020-06-01 17:22:15.000000000,2020-08-20 14:48:56.000000000,2020-08-13 23:08:39.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-06-01 17:22:15.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/63f52be546b4bb4689e400521bea48ce25daa703', 'message': ""iSCSI detect multipath DM with no WWN\n\nIf udev rules are slow (or don't happen) and they don't generate the\nsymlinks we use to detect the WWN, or if we just fail to find the WWN we\nend up not detecting the iSCSI multipath even if it is present in the\nsystem.\n\nWith this patch we no longer wait to find the WWN before trying to\nlocate the multipath device.\n\nThis means that as long as the multipath daemon is able to generate the\nmultipath we will be able to return a multipath device path to the\ncaller.\n\nCloses-Bug: 1881619\nChange-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2\n""}]",1,732423,63f52be546b4bb4689e400521bea48ce25daa703,45,16,1,9535,,,0,"iSCSI detect multipath DM with no WWN

If udev rules are slow (or don't happen) and they don't generate the
symlinks we use to detect the WWN, or if we just fail to find the WWN we
end up not detecting the iSCSI multipath even if it is present in the
system.

With this patch we no longer wait to find the WWN before trying to
locate the multipath device.

This means that as long as the multipath daemon is able to generate the
multipath we will be able to return a multipath device path to the
caller.

Closes-Bug: 1881619
Change-Id: Ic48bd9ac408c56073e58168df7e74e4b949ac2f2
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/23/732423/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'releasenotes/notes/improve-iscsi-multipath-detection-f36f28a993f61936.yaml']",3,63f52be546b4bb4689e400521bea48ce25daa703,improve-iscsi-multipath-detection,--- fixes: - | Improve iSCSI multipath detection to work even if we cannot find the volume's WWN in sysfs. (bug 1881619). ,,45,3
openstack%2Fnova~master~I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,openstack/nova,master,I9d8d8c3a30cf6da7e8fb48374347e069ab075df2,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""",MERGED,2020-04-23 02:30:09.000000000,2020-08-20 14:42:02.000000000,2020-05-26 04:08:54.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24849}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27594}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-23 02:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/025e4e5d15c7b71dacb64ae006046011ae88757c', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 2, 'created': '2020-05-02 04:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/261bdb6713ef3119df82b71de59721d9997a82ab', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 3, 'created': '2020-05-06 06:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c12799b48e1874bf7f8ac6e63e4cab3d7e2f35', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 4, 'created': '2020-05-06 07:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b32905e1424fdc45b8c10ce6c36e8de31f7f8c07', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 5, 'created': '2020-05-06 11:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fd566f32dc4258f4b4156224be68be69f41d2ff', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 6, 'created': '2020-05-06 13:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc7f784e112b260c1da15d29ac07fcf5a10580ad', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 7, 'created': '2020-05-07 08:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/539fa51c36096d8ea4f45983099c638c97510366', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 8, 'created': '2020-05-08 06:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b548870b55f80bb80196065991a5f05b2c83a0b8', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}, {'number': 9, 'created': '2020-05-08 09:19:36.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/api/validation/extra_specs/null.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'nova/api/validation/extra_specs/hw.py', 'doc/source/user/flavors.rst', 'releasenotes/notes/bug-1841932-c871ac7b3b05d67e.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf488a8630702160021b5848bf6e86fbb8015205', 'message': 'replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""\n\nWhen we use the flavor extra_specs ""hide_hypervisor_id"" in\nAggregateInstanceExtraSpecsFilter, then will retrun False.\nSo we need correct the extra_specs.\n\nChange-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2\nCloses-Bug: 1841932\n'}]",27,722187,bf488a8630702160021b5848bf6e86fbb8015205,130,20,9,27594,,,0,"replace the ""hide_hypervisor_id"" to ""hw:hide_hypervisor_id""

When we use the flavor extra_specs ""hide_hypervisor_id"" in
AggregateInstanceExtraSpecsFilter, then will retrun False.
So we need correct the extra_specs.

Change-Id: I9d8d8c3a30cf6da7e8fb48374347e069ab075df2
Closes-Bug: 1841932
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/722187/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'doc/source/user/flavors.rst', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,025e4e5d15c7b71dacb64ae006046011ae88757c,bug/1841932," # extra_spec ""hw:hide_hypervisor_id"" extra_specs={""hw:hide_hypervisor_id"": ""true""}, # extra_spec ""hw:hide_hypervisor_id"" and the image property extra_specs={""hw:hide_hypervisor_id"": ""true""}, extra_specs={""hw:hide_hypervisor_id"": ""true""}, extra_specs={""hw:hide_hypervisor_id"": ""true""}, extra_specs={""hw:hide_hypervisor_id"": ""true""}, extra_specs={""hw:hide_hypervisor_id"": ""false""}, extra_specs={""hw:hide_hypervisor_id"": ""false""},"," # extra_spec ""hide_hypervisor_id"" extra_specs={""hide_hypervisor_id"": ""true""}, # extra_spec ""hide_hypervisor_id"" and the image property extra_specs={""hide_hypervisor_id"": ""true""}, extra_specs={""hide_hypervisor_id"": ""true""}, extra_specs={""hide_hypervisor_id"": ""true""}, extra_specs={""hide_hypervisor_id"": ""true""}, extra_specs={""hide_hypervisor_id"": ""false""}, extra_specs={""hide_hypervisor_id"": ""false""},",12,12
openstack%2Fos-brick~stable%2Fussuri~I05f94d31277efec28ad50ae2f3502ab6fccfe37c,openstack/os-brick,stable/ussuri,I05f94d31277efec28ad50ae2f3502ab6fccfe37c,Improve WWN detection,MERGED,2020-08-17 15:05:19.000000000,2020-08-20 14:03:56.000000000,2020-08-20 13:59:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}]","[{'number': 1, 'created': '2020-08-17 15:05:19.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/935daead18b0a09eae340325f2d09b5ad2c5b569', 'message': ""Improve WWN detection\n\nTo avoid issues with the scsi_id command getting stuck and blocking the\nattachment we use sysfs to search for the WWN, but it can happen that we\nfail to detect the WWN even if it's present in sysfs.\n\nThis happens when the storage array has multiple designators and the\nmultipath daemon detects the multipaths very fast.\n\nThe flow is:\n\n- os-brick attaches volumes using iscsiadm --login\n- udev generates the symlink with the WWN (this is the one we want)\n- multipathd detects the volumes and forms the DM\n- udev replaces the previous symlink to point to the multipath DM\n- os-brick checks the symlink\n\nThis patch adds code to get_sysfs_wwn that checks the individual devices\nbelonging to a multipath DM if the symlink points to a DM.\n\nCloses-Bug: #1881608\nChange-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c\n(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)\n""}]",0,746539,935daead18b0a09eae340325f2d09b5ad2c5b569,14,9,1,10459,,,0,"Improve WWN detection

To avoid issues with the scsi_id command getting stuck and blocking the
attachment we use sysfs to search for the WWN, but it can happen that we
fail to detect the WWN even if it's present in sysfs.

This happens when the storage array has multiple designators and the
multipath daemon detects the multipaths very fast.

The flow is:

- os-brick attaches volumes using iscsiadm --login
- udev generates the symlink with the WWN (this is the one we want)
- multipathd detects the volumes and forms the DM
- udev replaces the previous symlink to point to the multipath DM
- os-brick checks the symlink

This patch adds code to get_sysfs_wwn that checks the individual devices
belonging to a multipath DM if the symlink points to a DM.

Closes-Bug: #1881608
Change-Id: I05f94d31277efec28ad50ae2f3502ab6fccfe37c
(cherry picked from commit 7fb37c2000a148f37bc8a6c17e913c46865776bd)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/39/746539/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'releasenotes/notes/improve-get_sysfs_wwn-df38ea88cdcdcc94.yaml', 'os_brick/initiator/linuxscsi.py']",3,935daead18b0a09eae340325f2d09b5ad2c5b569,improve-get_sysfs_wwn, # If we have multiple designators use symlinks to find out the wwn device_names = set(device_names) if path.startswith('/dev/'): name = path[5:] # Symlink may point to the multipath dm if the attach # was too fast or we took long to check it. Check # devices belonging to the multipath DM. if name.startswith('dm-'): # Get the devices that belong to the DM slaves_path = '/sys/class/block/%s/slaves' % name dm_devs = os.listdir(slaves_path) # This is the right wwn_path if the devices we have # attached belong to the dm we followed if device_names.intersection(dm_devs): break # This is the right wwn_path if devices we have elif name in device_names: break else: return '' return wwn_path[len(glob_str):], # If we have multiple designators follow the symlinks if path.startswith('/dev/') and path[5:] in device_names: return wwn_path[len(glob_str):] return '',68,7
openstack%2Fnova~master~Ibe236988af24a3b43508eec4efbe52a4ed05d45f,openstack/nova,master,Ibe236988af24a3b43508eec4efbe52a4ed05d45f,libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable,MERGED,2019-03-08 10:37:32.000000000,2020-08-20 13:38:52.000000000,2019-04-02 16:34:20.000000000,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-08 10:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3353ad66af5b7502f4d6700139bb1cbe46e6ebb9', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nTODO: Investigate if this is okay for Cinder volume drivers such as\n      SMBFS and Virtuozzo.  If so, then change them to use \'writeback\'\n      as well (probably in separate patches).\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 2, 'created': '2019-03-12 00:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7a01517e41d4ca3c800ed6b1703423ebc392f23', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nTODO: Investigate if this is okay for Cinder volume drivers such as\n      SMBFS and Virtuozzo.  If so, then change them to use \'writeback\'\n      as well (probably in separate patches).\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 3, 'created': '2019-03-14 15:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c7516a30c4140b8bb64a5ad9b7c7bb8551e283c', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 4, 'created': '2019-03-14 16:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb30b30dcccea7f0267924d46d6b7b3b8242060b', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 5, 'created': '2019-03-18 10:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd1072ff9c8c47a66b5578ccb50f066cbc21c0b3', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 6, 'created': '2019-03-18 11:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a08db94e0f50e09beb97a1b978ffd10c7e1e7299', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 7, 'created': '2019-03-18 13:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77549112cc602b5f6b283f19b433118e474591f5', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 8, 'created': '2019-03-18 15:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e78f33ac5d57a9910376738a4fe27255b01c5f15', 'message': 'libvirt: Use \'writeback\' QEMU cache mode for Nova instances\n\nWhen configuring QEMU cache modes for Nova instances, we use a\ncombination of \'none\' and \'writethrough\'.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nWhile at it, update the misinformation in the config text help that the\ndefault cache mode is \'writethrough\'.  It is \'writeback\'.  (Improve the\ncache modes documentation in Nova in a future patch.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 9, 'created': '2019-03-18 15:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5751028baf3dd9515d291b0990773db866bb309d', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nWhile at it, update the misinformation in the config text help that the\ndefault cache mode is \'writethrough\'.  It is \'writeback\'.  (Improve the\ncache modes documentation in Nova in a future patch.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 10, 'created': '2019-03-18 15:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afe767e332c0e07ef4a8ba4feca0cefe66c04f81', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nWhile at it, update the misinformation in the config text help that the\ndefault cache mode is \'writethrough\'.  It is \'writeback\'.  (Improve the\ncache modes documentation in Nova in a future patch.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 11, 'created': '2019-03-19 11:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2734b249605eb28fd1017bd8bd35fc262e03c97d', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nAlso update the relevant Nova config help text.  (In a future patch,\nrewrite the `disk_cachemodes` documentation to make it clearer.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 12, 'created': '2019-03-20 16:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef2a2f1c98b38ca2b5411a4d5f4197934bc4c270', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nDo the minimum required update to the `disk_cachemodes` Nova config help\ntext.  (In a future patch, rewrite the cache modes documentation to fix\nconfusing fragments and outdated information.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 13, 'created': '2019-03-21 08:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18ff2ab25b282e757e807174afcd9c122cc06aeb', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nDo the minimum required update to the `disk_cachemodes` config help\ntext.  (In a future patch, rewrite the cache modes documentation to fix\nconfusing fragments and outdated information.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}, {'number': 14, 'created': '2019-03-21 13:18:50.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'releasenotes/notes/writeback-cache-mode-for-guests-a7e4d2806c956164.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9dc86d8d646472195070022ff7ae4c372bef4ca', 'message': 'libvirt: Use \'writeback\' QEMU cache mode when \'none\' is not viable\n\nWhen configuring QEMU cache modes for Nova instances, we use\n\'writethrough\' when \'none\' is not available.  But that\'s not correct,\nbecause of our misunderstanding of how cache modes work.  E.g. the\nfunction disk_cachemode() in the libvirt driver assumes that\n\'writethrough\' and \'none\' cache modes have the same behaviour with\nrespect to host crash safety, which is not at all true.\n\nThe misunderstanding and complexity stems from not realizing that each\nQEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the\nconvenient cache mode table in the code comment (in\nnova/virt/libvirt/driver.py).\n\nAs Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made\na couple of micro edits for clarity):\n\n    The thing that makes \'writethrough\' so safe against host crashes is\n    that it never keeps data in a ""write cache"", but it calls fsync()\n    after _every_ write.  This is also what makes it horribly slow.  But\n    \'cache=none\' doesn\'t do this and therefore doesn\'t provide this kind\n    of safety.  The guest OS must explicitly flush the cache in the\n    right places to make sure data is safe on the disk.  And OSes do\n    that.\n\n    So if \'cache=none\' is safe enough for you, then \'cache=writeback\'\n    should be safe enough for you, too -- because both of them have the\n    boolean \'cache.writeback=on\'.  The difference is only in\n    \'cache.direct\', but \'cache.direct=on\' only bypasses the host kernel\n    page cache and data could still sit in other caches that could be\n    present between QEMU and the disk (such as commonly a volatile write\n    cache on the disk itself).\n\nSo use \'writeback\' mode instead of the debilitatingly slow\n\'writethrough\' for cases where the O_DIRECT-based \'none\' is unsupported.\n\nDo the minimum required update to the `disk_cachemodes` config help\ntext.  (In a future patch, rewrite the cache modes documentation to fix\nconfusing fragments and outdated information.)\n\nCloses-Bug: #1818847\nChange-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nLooks-good-to-me\'d-by: Kevin Wolf <kwolf@redhat.com>\n'}]",32,641981,b9dc86d8d646472195070022ff7ae4c372bef4ca,134,22,14,6962,,,0,"libvirt: Use 'writeback' QEMU cache mode when 'none' is not viable

When configuring QEMU cache modes for Nova instances, we use
'writethrough' when 'none' is not available.  But that's not correct,
because of our misunderstanding of how cache modes work.  E.g. the
function disk_cachemode() in the libvirt driver assumes that
'writethrough' and 'none' cache modes have the same behaviour with
respect to host crash safety, which is not at all true.

The misunderstanding and complexity stems from not realizing that each
QEMU cache mode is a shorthand to toggle *three* booleans.  Refer to the
convenient cache mode table in the code comment (in
nova/virt/libvirt/driver.py).

As Kevin Wolf (thanks!), QEMU Block Layer maintainer, explains (I made
a couple of micro edits for clarity):

    The thing that makes 'writethrough' so safe against host crashes is
    that it never keeps data in a ""write cache"", but it calls fsync()
    after _every_ write.  This is also what makes it horribly slow.  But
    'cache=none' doesn't do this and therefore doesn't provide this kind
    of safety.  The guest OS must explicitly flush the cache in the
    right places to make sure data is safe on the disk.  And OSes do
    that.

    So if 'cache=none' is safe enough for you, then 'cache=writeback'
    should be safe enough for you, too -- because both of them have the
    boolean 'cache.writeback=on'.  The difference is only in
    'cache.direct', but 'cache.direct=on' only bypasses the host kernel
    page cache and data could still sit in other caches that could be
    present between QEMU and the disk (such as commonly a volatile write
    cache on the disk itself).

So use 'writeback' mode instead of the debilitatingly slow
'writethrough' for cases where the O_DIRECT-based 'none' is unsupported.

Do the minimum required update to the `disk_cachemodes` config help
text.  (In a future patch, rewrite the cache modes documentation to fix
confusing fragments and outdated information.)

Closes-Bug: #1818847
Change-Id: Ibe236988af24a3b43508eec4efbe52a4ed05d45f
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Looks-good-to-me'd-by: Kevin Wolf <kwolf@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/641981/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,3353ad66af5b7502f4d6700139bb1cbe46e6ebb9,bug/1818847," self.assertEqual(guest_disk.get(""cache""), ""writeback"") self.flags(disk_cachemodes=['block=writeback'], group='libvirt') mock.call('qemu-img', 'convert', '-t', 'writeback',"," self.assertEqual(guest_disk.get(""cache""), ""writethrough"") self.flags(disk_cachemodes=['block=writethrough'], group='libvirt') mock.call('qemu-img', 'convert', '-t', 'writethrough',",38,11
openstack%2Ftripleo-docs~master~Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,openstack/tripleo-docs,master,Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5,Fix typos,MERGED,2020-08-19 11:50:40.000000000,2020-08-20 13:11:27.000000000,2020-08-20 13:10:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 11:50:40.000000000', 'files': ['deploy-guide/source/features/composable_services.rst', 'deploy-guide/source/deployment/instack_undercloud.rst', 'deploy-guide/source/features/baremetal_overcloud.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst', 'deploy-guide/source/features/ops_tools.rst', 'doc/source/ci/baremetal_jobs.rst', 'deploy-guide/source/post_deployment/tempest/tempest.rst', 'doc/source/developer/tht_walkthrough/changes-puppet-tripleo.rst', 'deploy-guide/source/features/deploy_manila.rst', 'deploy-guide/source/post_deployment/upgrade/minor_update.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/ceph_config.rst', 'deploy-guide/source/features/deploy_cellv2.rst', 'deploy-guide/source/features/security_hardening.rst', 'deploy-guide/source/features/distributed_multibackend_storage.rst', 'deploy-guide/source/troubleshooting/troubleshooting-log-and-status-capture.rst', 'deploy-guide/source/features/ipsec.rst', 'deploy-guide/source/deployment/container_image_prepare.rst', 'deploy-guide/source/post_deployment/validations/cli.rst', 'deploy-guide/source/post_deployment/backup_and_restore/03_undercloud_restore.rst', 'deploy-guide/source/troubleshooting/troubleshooting-nodes.rst', 'doc/source/ci/dlrn-promoter-overview.rst', 'deploy-guide/source/environments/baremetal.rst', 'deploy-guide/source/post_deployment/validations/index.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'deploy-guide/source/post_deployment/fernet_key_rotation.rst', 'deploy-guide/source/deployment/tips_tricks.rst', 'deploy-guide/source/deployment/install_undercloud.rst', 'doc/source/ci/third_party_dependencies_ci.rst', 'deploy-guide/source/features/distributed_compute_node.rst', 'deploy-guide/source/features/domain_specific_ldap_backends.rst', 'doc/source/upgrade/developer/upgrades/major_upgrade_with_os.plantuml', 'deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/post_deployment/tempest/os_tempest.rst', 'deploy-guide/source/post_deployment/upgrade/major_upgrade.rst', 'deploy-guide/source/post_deployment/backup_and_restore/05_rear.rst', 'deploy-guide/source/post_deployment/updating_network_configuration_post_deployment.rst', 'deploy-guide/source/post_deployment/upgrade/fast_forward_upgrade.rst', 'deploy-guide/source/features/deployed_server.rst', 'deploy-guide/source/features/node_specific_hieradata.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6447c381b13f2645e87d4e1760232e56e88d2e9e', 'message': 'Fix typos\n\nThis patch tries to fix maximum typos in docs.\n\nChange-Id: Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5\n'}]",0,746902,6447c381b13f2645e87d4e1760232e56e88d2e9e,8,6,1,20733,,,0,"Fix typos

This patch tries to fix maximum typos in docs.

Change-Id: Ic406e3a4423cdd7c46c8a4497d43d63c95b2a9f5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/02/746902/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/composable_services.rst', 'deploy-guide/source/deployment/instack_undercloud.rst', 'deploy-guide/source/features/baremetal_overcloud.rst', 'deploy-guide/source/features/deploy_cellv2_routed.rst', 'deploy-guide/source/features/ops_tools.rst', 'doc/source/ci/baremetal_jobs.rst', 'deploy-guide/source/post_deployment/tempest/tempest.rst', 'doc/source/developer/tht_walkthrough/changes-puppet-tripleo.rst', 'deploy-guide/source/features/deploy_manila.rst', 'deploy-guide/source/post_deployment/upgrade/minor_update.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/ceph_config.rst', 'deploy-guide/source/features/deploy_cellv2.rst', 'deploy-guide/source/features/security_hardening.rst', 'deploy-guide/source/features/distributed_multibackend_storage.rst', 'deploy-guide/source/troubleshooting/troubleshooting-log-and-status-capture.rst', 'deploy-guide/source/features/ipsec.rst', 'deploy-guide/source/deployment/container_image_prepare.rst', 'deploy-guide/source/post_deployment/validations/cli.rst', 'deploy-guide/source/post_deployment/backup_and_restore/03_undercloud_restore.rst', 'deploy-guide/source/troubleshooting/troubleshooting-nodes.rst', 'doc/source/ci/dlrn-promoter-overview.rst', 'deploy-guide/source/environments/baremetal.rst', 'deploy-guide/source/post_deployment/validations/index.rst', 'deploy-guide/source/deployment/ansible_config_download.rst', 'deploy-guide/source/post_deployment/fernet_key_rotation.rst', 'deploy-guide/source/deployment/tips_tricks.rst', 'deploy-guide/source/deployment/install_undercloud.rst', 'doc/source/ci/third_party_dependencies_ci.rst', 'deploy-guide/source/features/distributed_compute_node.rst', 'deploy-guide/source/features/domain_specific_ldap_backends.rst', 'doc/source/upgrade/developer/upgrades/major_upgrade_with_os.plantuml', 'deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/standalone.rst', 'deploy-guide/source/post_deployment/tempest/os_tempest.rst', 'deploy-guide/source/post_deployment/upgrade/major_upgrade.rst', 'deploy-guide/source/post_deployment/backup_and_restore/05_rear.rst', 'deploy-guide/source/post_deployment/updating_network_configuration_post_deployment.rst', 'deploy-guide/source/post_deployment/upgrade/fast_forward_upgrade.rst', 'deploy-guide/source/features/deployed_server.rst', 'deploy-guide/source/features/node_specific_hieradata.rst']",41,6447c381b13f2645e87d4e1760232e56e88d2e9e,typos,the root disk. The utility will always exclude the root disk from the list of devices generated.,the root disk. The utility will always exlude the root disk from the list of devices genereated.,65,65
openstack%2Fkolla-ansible~stable%2Ftrain~Iefcabb1a213fc2c2233ce4e67458f55d177506cb,openstack/kolla-ansible,stable/train,Iefcabb1a213fc2c2233ce4e67458f55d177506cb,[DNM] Timesync playground train centos7,ABANDONED,2020-07-02 19:33:13.000000000,2020-08-20 12:56:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-02 19:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e32fa320741bc2c252d90fd2c4e5f709432fc816', 'message': '[DNM] Timesync playground train centos7\n\nChange-Id: Iefcabb1a213fc2c2233ce4e67458f55d177506cb\n'}, {'number': 2, 'created': '2020-07-03 08:21:31.000000000', 'files': ['zuul.d/project.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45cbe7238152d1e866913ccb1cd405f12b94531f', 'message': '[DNM] Timesync playground train centos7\n\nChange-Id: Iefcabb1a213fc2c2233ce4e67458f55d177506cb\n'}]",0,739138,45cbe7238152d1e866913ccb1cd405f12b94531f,8,2,2,30491,,,0,"[DNM] Timesync playground train centos7

Change-Id: Iefcabb1a213fc2c2233ce4e67458f55d177506cb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/739138/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tools/setup_gate.sh']",2,e32fa320741bc2c252d90fd2c4e5f709432fc816,timesync-play-train,function debug_time { sudo systemctl list-units --all sudo journalctl -u ntp sudo timedatectl status sudo rpm -qa } debug_time &> /tmp/logs/debug_time.txt exit 1 ,,93,79
openstack%2Fnova~master~I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,openstack/nova,master,I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:10:13.000000000,2020-08-20 12:52:21.000000000,2020-08-20 12:48:45.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-17 18:10:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f881854ea6edb18d0a820ace69001fd128bf915a', 'message': 'zuul: use the new barbican simple-crypto job\n\nThe old job name is still available as an alias for a while,\nbut it is time to switch away from it.\n\nChange-Id: I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9\n'}]",0,746583,f881854ea6edb18d0a820ace69001fd128bf915a,71,11,1,10459,,,0,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I93c35b386e1b1cbcff74fe0a2388f0eda5dea3b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/746583/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f881854ea6edb18d0a820ace69001fd128bf915a,native-zuulv3-migration, - barbican-tempest-plugin-simple-crypto:, - barbican-simple-crypto-devstack-tempest:,1,1
openstack%2Fcinder~master~Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,openstack/cinder,master,Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7,Check if already managed before manage snapshot,NEW,2017-12-14 13:26:36.000000000,2020-08-20 12:44:05.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26907}, {'_account_id': 27399}, {'_account_id': 27552}]","[{'number': 1, 'created': '2017-12-14 13:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c5ef3e3278380b06f896c50299ca7775406af6e', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemnted function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemnted function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}, {'number': 2, 'created': '2017-12-14 19:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d934998b27c2bd025872557d695e86b20c4f178a', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemented function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemented function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}, {'number': 3, 'created': '2017-12-14 20:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d85f2c5b1da1b04c2ed91b11ee0a2786925a5b20', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemented function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemented function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}, {'number': 4, 'created': '2017-12-14 20:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59a1c54053181261d3d1324c7e4eb038fdba853b', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemented function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemented function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}, {'number': 5, 'created': '2017-12-15 17:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a517048e816c353ab2bd38da95fb7d6830c60113', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemented function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemented function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}, {'number': 6, 'created': '2017-12-15 17:18:20.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd70a295477ebec5320f2efbdbe0aa7384645db9', 'message': 'Check if already managed before manage snapshot\n\nCheck if the snapshot is already managed in manage_existing_snapshot\nfunction at volume/api.py through calling the new implemented function\ncheck_already_managed_snapshot at volume/utils.py. Unit tests are\nadded for the new implemented function check_already_managed_snapshot.\n\nChange-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7\nCloses-Bug: #1525887\n'}]",10,527957,dd70a295477ebec5320f2efbdbe0aa7384645db9,92,31,6,26907,,,0,"Check if already managed before manage snapshot

Check if the snapshot is already managed in manage_existing_snapshot
function at volume/api.py through calling the new implemented function
check_already_managed_snapshot at volume/utils.py. Unit tests are
added for the new implemented function check_already_managed_snapshot.

Change-Id: Iccc2dfabaaaa5eae3b21702b84e8d657488b0cc7
Closes-Bug: #1525887
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/527957/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/volume/api.py']",3,7c5ef3e3278380b06f896c50299ca7775406af6e,bug/1525887," if 'source-name' in ref: snapshot_id = ref['source-name'] if volume_utils.check_already_managed_snapshot(snapshot_id): raise exception.InvalidVolume( _(""Unable to manage existing snapshot."" "" The snapshot is already managed""))",,42,0
openstack%2Fcinder~master~I68433649766273418f258b88a2af7a7a5b5fc7ec,openstack/cinder,master,I68433649766273418f258b88a2af7a7a5b5fc7ec,Add FreeCapacityRatioWeigher,NEW,2018-10-12 06:44:18.000000000,2020-08-20 12:43:56.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20284}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-12 06:44:18.000000000', 'files': ['cinder/tests/unit/scheduler/test_free_capacity_ratio_weigher.py', 'cinder/scheduler/weights/capacity.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d39d8d89e0fca4772d62c278ac68683ddfd7b311', 'message': ""Add FreeCapacityRatioWeigher\n\nFreeCapacityRatioWeigher is a weigher that weigh hosts by their\nfree capacity ratio. The main purpose of this weigher is to select\nthe new adding storage when it's set the same volume_backend_name\nas previous but the capacity is far less than the previous one.\n\nThe ratio is equal free_capacity_gb / total_capacity_gb. When the\ncapacity contains 'infinite' or 'unknown', the host will be given\nthe lowest weight.\n\nChange-Id: I68433649766273418f258b88a2af7a7a5b5fc7ec\n""}]",1,609925,d39d8d89e0fca4772d62c278ac68683ddfd7b311,38,33,1,25837,,,0,"Add FreeCapacityRatioWeigher

FreeCapacityRatioWeigher is a weigher that weigh hosts by their
free capacity ratio. The main purpose of this weigher is to select
the new adding storage when it's set the same volume_backend_name
as previous but the capacity is far less than the previous one.

The ratio is equal free_capacity_gb / total_capacity_gb. When the
capacity contains 'infinite' or 'unknown', the host will be given
the lowest weight.

Change-Id: I68433649766273418f258b88a2af7a7a5b5fc7ec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/609925/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/weights/capacity.py', 'cinder/tests/unit/scheduler/test_free_capacity_ratio_weigher.py', 'setup.cfg']",3,d39d8d89e0fca4772d62c278ac68683ddfd7b311,add_FreeCapacityRatioWeigher, FreeCapacityRatioWeigher = cinder.scheduler.weights.capacity:FreeCapacityRatioWeigher,,161,0
openstack%2Fcinder~master~I9deb6be95fa6acd94533a719545ba471790a4590,openstack/cinder,master,I9deb6be95fa6acd94533a719545ba471790a4590,Fix TypeError when retrieving pools filtered by volume-type,NEW,2018-09-20 11:47:24.000000000,2020-08-20 12:43:47.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27911}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-09-20 11:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8de40a143bed73db3a5d6cca3697d0074f05216d', 'message': ""Fix TypeError when retrieve pools filtered by volume-type\n\nNow cinder’s get-pools API support filtering pools by volume type,\npools will be filtered by get_filtered_backends and the filter\nproperties of get_filtered_backends only consists of volume-type properties.\n\nWhen pools filtered by CapacityFilter and the backend is support thin\nprovisioning, CapacityFilter will raise TypeError since the requested_size\nis None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.\n\nIn this patch, we passed the filter class `CapabilitiesFilter` into\nget_filtered_backends to let pools only filtered by CapabilitiesFilter.\nIt can also speed up the filter process when we have thousands pools.\n\nCloses-Bug: #1793460\n\nChange-Id: I9deb6be95fa6acd94533a719545ba471790a4590\n""}, {'number': 2, 'created': '2018-09-20 15:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f66c467e1915bacc5491cc66a4ad3739e66f97a3', 'message': ""Fix TypeError when retrieving pools filtered by volume-type\n\nNow cinder's get-pools API support filtering pools by volume type,\npools will be filtered by get_filtered_backends and the filter\nproperties of get_filtered_backends only consists of volume-type properties.\n\nWhen pools are filtered by CapacityFilter and the backend supports thin\nprovisioning, CapacityFilter will raise TypeError since the requested_size\nis None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.\n\nIn this patch, we passed the filter class `CapabilitiesFilter` into\nget_filtered_backends method to let pools only be filtered by CapabilitiesFilter.\nIt can also speed up the filter process when we have thousands of pools.\n\nCloses-Bug: #1793460\n\nChange-Id: I9deb6be95fa6acd94533a719545ba471790a4590\n""}, {'number': 3, 'created': '2018-09-27 02:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb26db2afc7e37a1055def5ff5ddb2ac085f4679', 'message': ""Fix TypeError when retrieving pools filtered by volume-type\n\nNow cinder's get-pools API support filtering pools by volume type,\npools will be filtered by get_filtered_backends and the filter\nproperties of get_filtered_backends only consists of volume-type properties.\n\nWhen pools are filtered by CapacityFilter and the backend supports thin\nprovisioning, CapacityFilter will raise TypeError since the requested_size\nis None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.\n\nIn this patch, we passed the filter class `CapabilitiesFilter` into\nget_filtered_backends method to let pools only be filtered by CapabilitiesFilter.\nIt can also speed up the filter process when we have thousands of pools.\n\nCloses-Bug: #1793460\n\nChange-Id: I9deb6be95fa6acd94533a719545ba471790a4590\n""}, {'number': 4, 'created': '2018-10-19 08:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1dc495d1c8ae900a2309235c26d47ba7a1c9b63a', 'message': ""Fix TypeError when retrieving pools filtered by volume-type\n\nNow cinder's get-pools API support filtering pools by volume type,\npools will be filtered by get_filtered_backends and the filter\nproperties of get_filtered_backends only consists of volume-type properties.\n\nWhen pools are filtered by CapacityFilter and the backend supports thin\nprovisioning, CapacityFilter will raise TypeError since the requested_size\nis None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.\n\nIn this patch, we return a default volume size as 0 if size not specified in\nfilter_properties to fix this issue.\n\nCloses-Bug: #1793460\n\nChange-Id: I9deb6be95fa6acd94533a719545ba471790a4590\n""}, {'number': 5, 'created': '2018-10-23 03:17:16.000000000', 'files': ['cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/078fe5872a3bb2bbfa6ba8e069220e5d3877f550', 'message': ""Fix TypeError when retrieving pools filtered by volume-type\n\nNow cinder's get-pools API support filtering pools by volume type,\npools will be filtered by get_filtered_backends and the filter\nproperties of get_filtered_backends only consists of volume-type properties.\n\nWhen pools are filtered by CapacityFilter and the backend supports thin\nprovisioning, CapacityFilter will raise TypeError since the requested_size\nis None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.\n\nSo the size field should be set on the request (filter_properties) when\nfiltering pools by volume type.\n\nCloses-Bug: #1793460\n\nChange-Id: I9deb6be95fa6acd94533a719545ba471790a4590\n""}]",18,604067,078fe5872a3bb2bbfa6ba8e069220e5d3877f550,154,42,5,27911,,,0,"Fix TypeError when retrieving pools filtered by volume-type

Now cinder's get-pools API support filtering pools by volume type,
pools will be filtered by get_filtered_backends and the filter
properties of get_filtered_backends only consists of volume-type properties.

When pools are filtered by CapacityFilter and the backend supports thin
provisioning, CapacityFilter will raise TypeError since the requested_size
is None and it's an unsupported operand type(s) for +: 'int' and 'NoneType'.

So the size field should be set on the request (filter_properties) when
filtering pools by volume type.

Closes-Bug: #1793460

Change-Id: I9deb6be95fa6acd94533a719545ba471790a4590
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/604067/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/host_manager.py'],1,8de40a143bed73db3a5d6cca3697d0074f05216d,bug/1793460," filtered = self.get_filtered_backends( pools.values(), filter_properties, filter_class_names=['CapabilitiesFilter'])"," filtered = self.get_filtered_backends(pools.values(), filter_properties)",3,2
openstack%2Fcinder~master~I340a14ba5cf6fd2193156728a58477bca7fda8aa,openstack/cinder,master,I340a14ba5cf6fd2193156728a58477bca7fda8aa,NetApp E-Series: Add support for exporting snapshots,NEW,2018-10-29 13:12:10.000000000,2020-08-20 12:43:32.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-29 13:12:10.000000000', 'files': ['cinder/volume/drivers/netapp/eseries/iscsi_driver.py', 'cinder/volume/drivers/netapp/eseries/library.py', 'cinder/volume/drivers/netapp/eseries/client.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3beef411cc4a02702f6fe5df2bb05522475237db', 'message': 'NetApp E-Series: Add support for exporting snapshots\n\nThis change adds support for exporting NetApp E-Series snapshots over iSCSI\nand using them for cinder snapshot-based backups.\nIt eliminates the extra step of cloning the volume using an\nintermediary cinder-volume node.\n\nChange-Id: I340a14ba5cf6fd2193156728a58477bca7fda8aa\n'}]",0,613923,3beef411cc4a02702f6fe5df2bb05522475237db,27,22,1,27593,,,0,"NetApp E-Series: Add support for exporting snapshots

This change adds support for exporting NetApp E-Series snapshots over iSCSI
and using them for cinder snapshot-based backups.
It eliminates the extra step of cloning the volume using an
intermediary cinder-volume node.

Change-Id: I340a14ba5cf6fd2193156728a58477bca7fda8aa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/613923/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/eseries/iscsi_driver.py', 'cinder/volume/drivers/netapp/eseries/library.py', 'cinder/volume/drivers/netapp/eseries/client.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py']",4,3beef411cc4a02702f6fe5df2bb05522475237db,exportable-snapshots," return client.create_volume_mapping(eseries_vol.get('volumeRef', eseries_vol['id']), host['hostRef'], lun)"," return client.create_volume_mapping(eseries_vol['volumeRef'], host['hostRef'], lun)",104,14
openstack%2Fos-brick~master~Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,openstack/os-brick,master,Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6,Clean any defunct devices before iSCSI connect,NEW,2019-02-07 08:49:38.000000000,2020-08-20 12:43:29.000000000,,"[{'_account_id': 4355}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 20813}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-02-07 08:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b9cd7d270d775976cc31c43e5e84b13b304e9c7d', 'message': ""Clean any defunct devices before iSCSI connect\n\nThere may be cases where a device already exists on the host from\nan old connection that wasn't fully cleaned up, and the new\nconnection may get the same device. If we continue with the\nconnection, the newly-attached volume may get writes that were\npending for the previous volume, causing data corruption. This\npatch checks if any expected devices already exist, and if so,\ncleans them up before proceeding with the connection.\n\nChange-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6\n""}, {'number': 2, 'created': '2019-02-11 14:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2ef1d650693bdc5989128e84e423ad2d44c7005b', 'message': ""Clean any defunct devices before iSCSI connect\n\nThere may be cases where a device already exists on the host from\nan old connection that wasn't fully cleaned up, and the new\nconnection may get the same device. If we continue with the\nconnection, the newly-attached volume may get writes that were\npending for the previous volume, causing data corruption. This\npatch checks if any expected devices already exist, and if so,\ncleans them up before proceeding with the connection.\n\nChange-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6\n""}, {'number': 3, 'created': '2019-02-21 13:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2cafe70adcbd4fc8075b122f930ae3e2e6c24fc5', 'message': ""Clean any defunct devices before iSCSI connect\n\nThere may be cases where a device already exists on the host from\nan old connection that wasn't fully cleaned up, and the new\nconnection may get the same device. If we continue with the\nconnection, the newly-attached volume may get writes that were\npending for the previous volume, causing data corruption. This\npatch checks if any expected devices already exist, and if so,\ncleans them up before proceeding with the connection.\n\nChange-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6\n""}, {'number': 4, 'created': '2019-02-21 16:57:47.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/03bedb138c94b23d58eef688e260057ec8c5ba5f', 'message': ""Clean any defunct devices before iSCSI connect\n\nThere may be cases where a device already exists on the host from\nan old connection that wasn't fully cleaned up, and the new\nconnection may get the same device. If we continue with the\nconnection, the newly-attached volume may get writes that were\npending for the previous volume, causing data corruption. This\npatch checks if any expected devices already exist, and if so,\ncleans them up before proceeding with the connection.\n\nChange-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6\n""}]",11,635457,03bedb138c94b23d58eef688e260057ec8c5ba5f,62,22,4,4355,,,0,"Clean any defunct devices before iSCSI connect

There may be cases where a device already exists on the host from
an old connection that wasn't fully cleaned up, and the new
connection may get the same device. If we continue with the
connection, the newly-attached volume may get writes that were
pending for the previous volume, causing data corruption. This
patch checks if any expected devices already exist, and if so,
cleans them up before proceeding with the connection.

Change-Id: Iea985a53fa81c72bcf44e4b46ce5f904186f7ea6
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/57/635457/4 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,b9cd7d270d775976cc31c43e5e84b13b304e9c7d,cleanup-upstream," ips_iqns_luns = self._get_all_targets(connection_properties) self._clean_defunct_devices(ips_iqns_luns) self._clean_defunct_devices(ips_iqns_luns) def _clean_defunct_devices(self, ips_iqns_luns): """"""Clean defunct devices if they exists. Check if any devices have been left over from previous connections, and if so, clean them up. """""" paths = [] for target in ips_iqns_luns: paths.extend(self._get_device_path({'target_portal': target[0], 'target_iqn': target[1], 'target_lun': target[2]})) devices_to_clean = collections.defaultdict(list) for path in paths: if not os.path.exists(path): continue full_dev = os.path.realpath(path) if os.path.split(full_dev)[0] == '/dev': dev = os.path.split(full_dev)[1] multipath_dm = self._linuxscsi.find_sysfs_multipath_dm([dev]) if not multipath_dm: multipath_dm = 'None' devices_to_clean[multipath_dm].append(dev) LOG.warning('Found defunct device to clean: %s', full_dev) for multipath_dm, devices in devices_to_clean.iteritems(): LOG.info('Cleaning defunct devices: %s', ', '.join(devices)) self._linuxscsi.remove_connection(devices, multipath_dm != 'None', force=True) ",,34,0
openstack%2Fmanila~master~Id194187f9a089cc371cef1ff08ba3668914c7c74,openstack/manila,master,Id194187f9a089cc371cef1ff08ba3668914c7c74,Report LVM storage_protocol based on configuration,NEW,2019-05-29 06:42:02.000000000,2020-08-20 12:43:11.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14624}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26721}]","[{'number': 1, 'created': '2019-05-29 06:42:02.000000000', 'files': ['manila/share/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/12f6847d4760d79c0657c0378422cebb5f2014e2', 'message': 'Report LVM storage_protocol based on configuration\n\nChange-Id: Id194187f9a089cc371cef1ff08ba3668914c7c74\n'}]",1,661896,12f6847d4760d79c0657c0378422cebb5f2014e2,19,10,1,26721,,,0,"Report LVM storage_protocol based on configuration

Change-Id: Id194187f9a089cc371cef1ff08ba3668914c7c74
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/661896/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/lvm.py'],1,12f6847d4760d79c0657c0378422cebb5f2014e2,," 'storage_protocol': '_'.join(CONF.enabled_share_protocols) or 'NFS_CIFS',"," 'storage_protocol': 'NFS_CIFS',",2,1
openstack%2Fcinder~master~I981b00a83a52aab37fef8986133ec1f29d5e5fbd,openstack/cinder,master,I981b00a83a52aab37fef8986133ec1f29d5e5fbd,Include availability-zone of a pool in get-pools API request,NEW,2018-09-04 23:36:48.000000000,2020-08-20 12:43:05.000000000,,"[{'_account_id': 1736}, {'_account_id': 3031}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20722}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-09-04 23:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2bc2d3ba2d4d59a05c55dffeb10dc752a403ee3', 'message': 'Return the availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 2, 'created': '2018-09-05 02:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed58b78f4b31025f2548110b7e8e67f6343a2a1e', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 3, 'created': '2018-09-25 01:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b95ba3a49c75a94a29c4ab815aa8f9deff6c81b9', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 4, 'created': '2018-11-07 23:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88deed52d2ab5ddad874fb848ddc3ab06f71190f', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 5, 'created': '2019-02-05 23:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c0077417fd93a7be40ad64d0a9296f3b64ee7e4', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 6, 'created': '2019-02-06 21:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d4fae76f90e184ef967954bb23faf1e601bacf5', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 7, 'created': '2019-03-12 22:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf008a27565ad632802fe1623f64264883846193', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 8, 'created': '2019-03-12 22:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5eeba6256d9e9058dde5a993e43a8ef2041f8df7', 'message': 'Include availability-zone of a pool in get-pools API request\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 9, 'created': '2019-03-21 05:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00bc598cd0489c3af327eec8c3fcb3e229a1da5a', 'message': 'Include availability-zone of a pool in get-pools API request\n\nAdds a new microversion to return the availability-zone of\na pool when using the get-pools API request.\n\nThis is useful when doing capacity reporting\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}, {'number': 10, 'created': '2019-03-24 22:03:53.000000000', 'files': ['api-ref/source/v3/samples/versions/versions-response.json', 'releasenotes/notes/add-availability-zone-to-get-pools-b9369420171963f3.yaml', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/parameters.yaml', 'cinder/scheduler/host_manager.py', 'api-ref/source/v3/samples/versions/version-show-response.json', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/api/views/scheduler_stats.py', 'api-ref/source/v3/samples/pools-list-detailed-response.json', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'api-ref/source/v3/os-vol-pool-v3.inc', 'cinder/api/microversions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6681a7d2e5fc100e69ba035b07ac6124e77da62a', 'message': 'Include availability-zone of a pool in get-pools API request\n\nAdds a new microversion to return the availability-zone of\na pool when using the get-pools API request.\n\nThis is useful when doing capacity reporting\n\nImplements: bp add-az-to-pool\n\nChange-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd\n'}]",17,599866,6681a7d2e5fc100e69ba035b07ac6124e77da62a,286,50,10,3031,,,0,"Include availability-zone of a pool in get-pools API request

Adds a new microversion to return the availability-zone of
a pool when using the get-pools API request.

This is useful when doing capacity reporting

Implements: bp add-az-to-pool

Change-Id: I981b00a83a52aab37fef8986133ec1f29d5e5fbd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/599866/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/api/views/scheduler_stats.py', 'releasenotes/notes/add-availability-zone-to-get-pools-b9369420171963f3.yaml', 'api-ref/source/v3/samples/pools-list-detailed-response.json', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'cinder/scheduler/host_manager.py']",6,a2bc2d3ba2d4d59a05c55dffeb10dc752a403ee3,bp/add-az-to-pool," return [dict(name=key, capabilities=value.capabilities, availability_zone=value.service['availability_zone'])"," return [dict(name=key, capabilities=value.capabilities)",27,7
openstack%2Fcinder~master~Ic35884d406916306c860840bd6f5dad340bb4aa1,openstack/cinder,master,Ic35884d406916306c860840bd6f5dad340bb4aa1,Remove Veritas HyperScale specific metadata,NEW,2018-02-15 15:47:51.000000000,2020-08-20 12:42:55.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24282}, {'_account_id': 24502}, {'_account_id': 24615}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27839}]","[{'number': 1, 'created': '2018-02-15 15:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23fb4fbf06854cbe4e50816814966997b9ead159', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 2, 'created': '2018-02-19 05:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d504fe66f23427029d1204e57d6ec648ca3e283', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 3, 'created': '2018-02-23 07:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f817466bc5cc22aa30c5ed2c7580cd3420dc96f', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 4, 'created': '2018-03-01 09:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e3bdb9d912b59a344166fef148e70f4de51069a', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 5, 'created': '2018-03-02 06:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8eb0a7a0f5b64766771fe71f8761849c9383c61', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 6, 'created': '2018-03-13 09:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79acdcb596768448b918970e0dc7eeb03cc3c7a6', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 7, 'created': '2018-03-15 07:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ebcd27666a31942610556cb13059dbeb7cf910f', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}, {'number': 8, 'created': '2018-03-21 11:03:43.000000000', 'files': ['cinder/volume/drivers/veritas/utils.py', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/volume/drivers/veritas/vrtshyperscale.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cec24b0e13b37fff7dbdbd2a3e711d11efc06c6d', 'message': 'Remove Veritas HyperScale specific metadata\n\nCinder volume driver for Veritas HyperScale currently stores product\nspecific metadata in Cinder database.\nThis bug is to remove dependency from Cinder database and store\nrequired metadata in product specific database.\n\nCloses-Bug: #1749719\n\nChange-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1\n'}]",26,545013,cec24b0e13b37fff7dbdbd2a3e711d11efc06c6d,325,47,8,27839,,,0,"Remove Veritas HyperScale specific metadata

Cinder volume driver for Veritas HyperScale currently stores product
specific metadata in Cinder database.
This bug is to remove dependency from Cinder database and store
required metadata in product specific database.

Closes-Bug: #1749719

Change-Id: Ic35884d406916306c860840bd6f5dad340bb4aa1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/545013/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/veritas/utils.py', 'cinder/tests/unit/volume/drivers/test_vrtshyperscale.py', 'cinder/volume/drivers/veritas/vrtshyperscale.py']",3,23fb4fbf06854cbe4e50816814966997b9ead159,bug/1749719,"# Copyright (c) 2018 Veritas Technologies LLC. All rights reserved.import threadingg_images_lock = threading.Lock() g_cached_images = {} util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.volume.clone', volume['id']), current_dn_owner=self.dn_routing_key, current_dn_ip=self.datanode_ip) model_update = {'provider_location': volume['provider_location']} msg = (""Volume metadata key %(m_key)s, value %(m_val)s"") LOG.debug(msg, {""m_key"": metadata_key, ""m_val"": metadata_value}) LOG.debug(""*** Create volume ***"") volume, volume_metadata) volume_meta = {} volume_meta['Primary_datanode_ip'] = self.datanode_ip volume_meta['current_dn_owner'] = self.dn_routing_key volume_meta['current_dn_ip'] = self.datanode_ip volume_details.update(volume_meta) util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.create.volume', model_update = {'provider_location': volume['provider_location']} msg = _(""delete_volume: %(vol)s"") LOG.debug(msg, {'vol': volume}) message_body = {'display_name': volume['name'], 'current_dn_owner': self.dn_routing_key} LOG.debug(""Delete volume with id metadata: %s "", metadata) LOG.debug(""Delete volume with id message_body: %s "", message_body) try: util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.volume.delete', out_meta = util.episodic_snap(meta) if out_meta.get('update'): meta['status'] = out_meta.get('status') model_update['metadata'] = {'status': meta['status']} LOG.debug('__help request for WORKFLOW snapshot') message_body['TYPE'] = TYPE_WORKFLOW_SNAP message_body['TYPE'] = TYPE_USER_SNAP message_body['status'] = 'creating' message_body['datanode_ip'] = self.datanode_ip util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.volume.snapshot.create', message_body['dn_routing_key'] = self.dn_routing_key # send message to controller util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.version.delete', msg = _(""Clone new volume %(t_id)s from snapshot with id %(s_id)s"") LOG.debug(msg, {""t_id"": volume['id'], ""s_id"": volume['snapshot_id']}) util.message_controller( constants.HS_CONTROLLER_EXCH, 'hyperscale.controller.dm.volume.clone.create', dn_routing_key=self.dn_routing_key, LOG.exception('Exception in creating volume from' ' snapshot') model_update = {'provider_location': volume['provider_location']} try: self._stats = self._fetch_volume_status() new_total = self._stats['total_capacity_gb'] new_free = self._stats['free_capacity_gb'] if self.old_total != new_total or self.old_free != new_free: self.old_total = new_total self.old_free = new_free message_body = {'hostname': self.datanode_hostname, 'is_admin': 1, 'total': new_total, 'free': new_free} except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception during fetch stats') msg = _(""copy_image_to_volume volume: %(vol)s image service: "" ""%(service)s image id: %(id)s."") LOG.debug(msg, {'vol': volume, 'service': six.text_type(image_service), 'id': six.text_type(image_id)}) with g_images_lock: if g_cached_images.get(image_id) is None: g_cached_images[image_id] = threading.Lock() with g_cached_images[image_id]: # Skip image creation if file already exists if not os.path.isfile(path): image_utils.fetch_to_raw(context, image_service, image_id, path, BLOCK_SIZE, size=volume['size']) util.update_image(path, volume['id']) image_id = None msg = _(""copy_volume_to_image volume: %(vol)s image service: "" ""%(service)s image meta: %(meta)s."" ""image_id: %(image_id)s."") LOG.debug(msg, {'vol': volume, 'service': six.text_type(image_service), 'meta': six.text_type(image_meta), 'image_id': image_id}) vol_glance_metadata = volume.volume_glance_metadata LOG.debug(""vol_glance_metadata: %s"", str(vol_glance_metadata)) for i in vol_glance_metadata: if i['key'] == 'image_id': image_id = i['value'] break path = util.get_image_path(image_id) LOG.debug(""get_image_path: %s"", path) ","# Copyright (c) 2017 Veritas Technologies LLC. All rights reserved. # 1. Make a call to DN # Check if current_dn_owner is set. rt_key = None # Get metadata for volume metadata = self._get_volume_metadata(src_vref) rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.clone', volume['id'])) # Get metadata for volume volume_metadata = self._get_volume_metadata(volume) parent_cur_dn = self._get_volume_metadata_value(metadata, 'current_dn_ip') metadata_update = {} metadata_update['Primary_datanode_ip'] = parent_cur_dn metadata_update['current_dn_owner'] = rt_key metadata_update['current_dn_ip'] = parent_cur_dn metadata_update['source_volid'] = src_vref['id'] metadata_update['size'] = src_vref['size'] # 2. Choose a potential replica here. # The actual decision to have potential replica is made in NOVA. rt_key, rt_dn_ip = self._select_rt(volume, volume_metadata, only_select=True) if rt_key and rt_dn_ip: metadata_update['Potential_secondary_key'] = rt_key metadata_update['Potential_secondary_ip'] = rt_dn_ip except exception.InvalidMetadataType: with excutils.save_and_reraise_exception(): LOG.exception('Exception updating metadata in clone' ' volume', exc_info=True) volume_metadata.update(metadata_update) model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} def _select_rt(self, volume, metadata, only_select=False): # For the boot vdisk(first vdisk) of the instance, choose any # reflection target other than this. For the data disks, # retain the reflection target. # It will be passed by the caller after reading it from instance # metadata. LOG.debug(""_select_rt "") rt_key = self._get_volume_metadata_value(metadata, 'Secondary_datanode_key') rt_dn_ip = self._get_volume_metadata_value(metadata, 'Secondary_datanode_ip') current_dn_ip = self._get_volume_metadata_value(metadata, 'current_dn_ip') if current_dn_ip is not None and rt_dn_ip == current_dn_ip: return None, None if rt_key is not None and rt_dn_ip is not None: return rt_key, rt_dn_ip rt_key = 'NA' rt_dn_ip = 'NA' datanodes = self._get_datanodes_info() LOG.debug(""Data nodes: %s"", datanodes) for key, value in datanodes.items(): if value['personality'] == 'datanode': if self.my_dnid != value['hypervisor_id']: LOG.debug(""reflection target hypervisor_id: %s"", value['hypervisor_id']) LOG.debug(""my hypervisor_id: %s"", self.my_dnid) rt_dn_ip = value['data_ip'] rt_key = value['hypervisor_id'] if only_select: return rt_key, rt_dn_ip return rt_key, rt_dn_ip def _create_replica(self, volume, metadata): """"""Create vdisk on peer data node."""""" try: reflection_target_ip = None rt_routing_key, reflection_target_ip = ( self._select_rt(volume, metadata)) LOG.debug(""_create_replica %(rt_key)s %(rt_ip)s"", {""rt_key"": rt_routing_key, ""rt_ip"": reflection_target_ip}) metadata_update = {} metadata_update['Secondary_datanode_key'] = rt_routing_key metadata_update['Secondary_datanode_ip'] = reflection_target_ip if rt_routing_key is None or rt_routing_key == 'NA': return False, None, metadata_update instance_id = self._get_volume_metadata_value(metadata, 'InstanceId') util.message_data_plane( rt_routing_key, 'hyperscale.storage.dm.volume.create', pool_name=POOL_NAME, volume_guid=util.get_guid_with_curly_brackets( volume['id']), display_name=util.get_guid_with_curly_brackets( volume['id']), volume_raw_size=volume['size'], vm_id=util.get_guid_with_curly_brackets( six.text_type(instance_id)), is_reflection_source=0, dn_reflection_factor=1, reflection_src_ip=self.datanode_ip, user_id=util.get_guid_with_curly_brackets( volume['user_id']), project_id=util.get_guid_with_curly_brackets( volume['project_id']), volume_qos=1) # Failure handling TBD. ret = True LOG.debug(""Create volume sent to reflection target data node"") except (exception.VolumeNotFound, exception.UnableToProcessHyperScaleCmdOutput, exception.ErrorInSendingMsg): LOG.error(""Exception in creating replica"", exc_info = True) metadata_update['Secondary_datanode_key'] = 'NA' metadata_update['Secondary_datanode_ip'] = 'NA' metadata_update['DN_Resiliency'] = 'degraded' ret = False return ret, reflection_target_ip, metadata_update reflection_target_ip, if reflection_target_ip is not None: volume_details['is_reflection_source'] = 1 volume_details['dn_reflection_factor'] = 1 volume_details['reflection_target_ip'] = reflection_target_ip LOG.debug(""Volume metadata key %(m_key)s, value %(m_val)s"", {""m_key"": metadata_key, ""m_val"": metadata_value}) metadata_update = {} reflection_target_ip = None LOG.debug(""Create volume"") # 1. Check how many replicas needs to be created. replicas = self._get_replicas(volume, volume_metadata) if replicas > 1: # 2. Create replica on peer datanode. LOG.debug(""Create volume message sent to peer data node"") ret, reflection_target_ip, metadata_update = ( self._create_replica(volume, volume_metadata)) if ret is False: metadata_update['DN_Resiliency'] = 'degraded' # Do not fail volume creation, just create one replica. reflection_target_ip = None # 3. Get volume details based on reflection factor # for volume reflection_target_ip, volume, volume_metadata) util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.volume.create', volume_metadata['Primary_datanode_ip'] = self.datanode_ip volume_metadata['current_dn_owner'] = self.dn_routing_key volume_metadata['current_dn_ip'] = self.datanode_ip volume_metadata['hs_image_id'] = util.get_hyperscale_image_id() volume_metadata.update(metadata_update) model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} LOG.debug(""Delete volume with id %s"", volume['id']) message_body = {'display_name': volume['name']} # if Secondary_datanode_key is present, # delete the replica from secondary datanode. rt_key = None rt_key = self._get_volume_metadata_value(metadata, 'Secondary_datanode_key') rt_dn_ip = self._get_volume_metadata_value(metadata, 'Secondary_datanode_ip') current_dn_ip = self._get_volume_metadata_value(metadata, 'current_dn_ip') if current_dn_ip is not None and rt_dn_ip == current_dn_ip: rt_key = None # Send Delete Volume to Data Node try: if rt_key is not None: util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.delete', **message_body) util.message_data_plane( self.dn_routing_key, 'hyperscale.storage.dm.volume.delete', rt_key = None snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key # Check for episodic based on metadata key if 'SNAPSHOT-COOKIE' in meta.keys(): snapsize = meta['SIZE'] # Call DataNode for episodic snapshots LOG.debug('Calling Data Node for episodic snapshots') message_body = {} message_body['snapshot_id'] = ( util.get_guid_with_curly_brackets(snapshot['id'])) message_body['volume_guid'] = ( util.get_guid_with_curly_brackets( snapshot['volume_id'])) message_body['snapshot_cookie'] = meta['SNAPSHOT-COOKIE'] try: # send message to data node util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.snapshot.update', **message_body) # Update size via cinder api if snapsize is not None: model_update['volume_size'] = snapsize.value # Set the episodic type metatdata for filtering purpose meta['TYPE'] = TYPE_EPISODIC_SNAP meta['status'] = 'available' meta['datanode_ip'] = self.datanode_ip except (exception.VolumeNotFound, exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception in create snapshot') model_update['metadata'] = meta else: out_meta = util.episodic_snap(meta) if out_meta.get('update'): meta['TYPE'] = out_meta.get('TYPE') meta['status'] = out_meta.get('status') meta['datanode_ip'] = self.datanode_ip model_update['metadata'] = meta return model_update vsa_routing_key = None snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] vsa_ip = self._get_volume_metadata_value(metadata, 'acting_vdisk_owner') if vsa_ip is None: vsa_ip = self._get_volume_metadata_value(metadata, 'vsa_ip') LOG.debug(""Create snap on compute vsa %s"", vsa_ip) if vsa_ip: vsa_routing_key = vsa_ip.replace('.', '') util.message_compute_plane( vsa_routing_key, 'hyperscale.storage.nfs.volume.snapshot.create', if workflow_snap: LOG.debug('__help request for WORKFLOW snapshot') meta['TYPE'] = TYPE_WORKFLOW_SNAP meta['status'] = 'creating' meta['datanode_ip'] = self.datanode_ip else: LOG.debug('__help request for MANUAL snapshot') meta['TYPE'] = TYPE_USER_SNAP meta['status'] = 'creating' meta['datanode_ip'] = self.datanode_ip model_update['metadata'] = meta return model_update # HyperScale snapshots whether Episodic or User initiated, all resides # in the data plane. # Hence delete snapshot operation will go to datanode rt_key = None # Get metadata for volume snapshot_volume = snapshot.get('volume') metadata = snapshot_volume['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key # send message to data node util.message_data_plane( rt_key, 'hyperscale.storage.dm.version.delete', LOG.debug(""Clone new volume %(t_id)s from snapshot with id"" "" %(s_id)s"", {""t_id"": volume['id'], ""s_id"": volume['snapshot_id']}) # 1. Make a call to DN # Check if current_dn_owner is set. # Route the snapshot creation request to current_dn_owner rt_key = None # Get metadata for volume snap_vol = snapshot['volume'] metadata = snap_vol['metadata'] rt_key = self._get_volume_metadata_value(metadata, 'current_dn_owner') if rt_key is None: rt_key = self.dn_routing_key util.message_data_plane( rt_key, 'hyperscale.storage.dm.volume.clone.create', # Get metadata for volume volume_metadata = self._get_volume_metadata(volume) parent_cur_dn = self._get_volume_metadata_value(metadata, 'current_dn_ip') metadata_update = {} metadata_update['snapshot_id'] = snapshot['id'] metadata_update['parent_volume_guid'] = ( util.get_guid_with_curly_brackets( snapshot['volume_id'])) metadata_update['Primary_datanode_ip'] = parent_cur_dn metadata_update['current_dn_owner'] = rt_key metadata_update['current_dn_ip'] = parent_cur_dn # 2. Choose a potential replica here. # The actual decision to have potential replica is made in NOVA. rt_key, rt_dn_ip = self._select_rt(volume, volume_metadata, only_select=True) if rt_key and rt_dn_ip: metadata_update['Potential_secondary_key'] = rt_key metadata_update['Potential_secondary_ip'] = rt_dn_ip LOG.exception('Exception in creating volume from snapshot') volume_metadata.update(metadata_update) model_update = {'provider_location': volume['provider_location'], 'metadata': volume_metadata} self._stats = self._fetch_volume_status() new_total = self._stats['total_capacity_gb'] new_free = self._stats['free_capacity_gb'] if self.old_total != new_total or self.old_free != new_free: self.old_total = new_total self.old_free = new_free message_body = {'hostname': self.datanode_hostname, 'is_admin': 1, 'total': new_total, 'free': new_free} try: except (exception.UnableToExecuteHyperScaleCmd, exception.UnableToProcessHyperScaleCmdOutput): with excutils.save_and_reraise_exception(): LOG.exception('Exception during fetch stats') LOG.debug(""copy_image_to_volume volume: %(vol)s "" ""image service: %(service)s image id: %(id)s."", {'vol': volume, 'service': six.text_type(image_service), 'id': six.text_type(image_id)}) # Skip image creation if file already exists if not os.path.isfile(path): image_utils.fetch_to_raw(context, image_service, image_id, path, BLOCK_SIZE, size=volume['size']) metadata = self._get_volume_metadata(volume) hs_img_id = self._get_volume_metadata_value(metadata, 'hs_image_id') util.update_image(path, volume['id'], hs_img_id) LOG.debug(""copy_volume_to_image volume: %(vol)s"" "" image service:%(service)s image meta: %(meta)s."", {'vol': volume, 'service': six.text_type(image_service), 'meta': six.text_type(image_meta)}) metadata = self._get_volume_metadata(volume) hs_img_id = self._get_volume_metadata_value(metadata, 'hs_image_id') path = util.get_image_path(hs_img_id, 'volume')",170,600
openstack%2Ftripleo-validations~master~Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,openstack/tripleo-validations,master,Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed,Corrected work directory for validate-selinux,MERGED,2020-08-07 07:42:46.000000000,2020-08-20 12:29:53.000000000,2020-08-19 21:07:41.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 07:42:46.000000000', 'files': ['playbooks/validate-selinux.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9645db1f74b2052ca009767b3f85642dd1e6e49f', 'message': ""Corrected work directory for validate-selinux\n\nthe /var/log/validations directory doesn't exist on the overcloud, since\nwe don't install the validations there.\n\nChange-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed\n""}]",0,745299,9645db1f74b2052ca009767b3f85642dd1e6e49f,8,5,1,28223,,,0,"Corrected work directory for validate-selinux

the /var/log/validations directory doesn't exist on the overcloud, since
we don't install the validations there.

Change-Id: Ib125ca44f7e3d7fed1d19d2b1847b5bbe64226ed
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/99/745299/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/validate-selinux.yaml'],1,9645db1f74b2052ca009767b3f85642dd1e6e49f,validate-selinux/work-dif, validate_selinux_working_dir: /tmp, validate_selinux_working_dir: /var/log/validations,1,1
openstack%2Fkayobe~master~I849d9b09e973316308e574c447a78868e93a5420,openstack/kayobe,master,I849d9b09e973316308e574c447a78868e93a5420,Skip broken ansible-lint,MERGED,2020-08-19 11:31:59.000000000,2020-08-20 12:24:26.000000000,2020-08-20 12:21:39.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-08-19 11:31:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a33ba678df211c4d3f53c7ee9b066becd0e962b0', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I849d9b09e973316308e574c447a78868e93a5420\n'}]",0,746896,a33ba678df211c4d3f53c7ee9b066becd0e962b0,22,4,1,15197,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I849d9b09e973316308e574c447a78868e93a5420
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/746896/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a33ba678df211c4d3f53c7ee9b066becd0e962b0,,"ansible-lint>=3.0.0,!=4.3.0 # MIT",ansible-lint>=3.0.0 # MIT,1,1
openstack%2Fironic~master~I1b17982fdab5611086f8bb7d944db6f51bb032a0,openstack/ironic,master,I1b17982fdab5611086f8bb7d944db6f51bb032a0,Remove qemu-img rootwrap filter,MERGED,2020-08-18 14:12:59.000000000,2020-08-20 11:30:27.000000000,2020-08-20 11:28:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 14:12:59.000000000', 'files': ['etc/ironic/rootwrap.d/ironic-images.filters'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26d08bdda621e8f4d65538c022c4af5e129c75f2', 'message': 'Remove qemu-img rootwrap filter\n\nIt should be managed by ironic-lib.\n\nChange-Id: I1b17982fdab5611086f8bb7d944db6f51bb032a0\n'}]",0,746731,26d08bdda621e8f4d65538c022c4af5e129c75f2,10,6,1,23851,,,0,"Remove qemu-img rootwrap filter

It should be managed by ironic-lib.

Change-Id: I1b17982fdab5611086f8bb7d944db6f51bb032a0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/746731/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/rootwrap.d/ironic-images.filters'],1,26d08bdda621e8f4d65538c022c4af5e129c75f2,remove-image-filter,,"# ironic-rootwrap command filters to manipulate images # This file should be owned by (and only-writable by) the root user [Filters] # ironic/common/images.py: 'qemu-img' qemu-img: CommandFilter, qemu-img, root ",0,6
openstack%2Fansible-collections-openstack~master~Ife7bd55f44bf709319c6598c0f95201a1aac528f,openstack/ansible-collections-openstack,master,Ife7bd55f44bf709319c6598c0f95201a1aac528f,Add CI files config to bifrost jobs as well,MERGED,2020-08-17 13:18:46.000000000,2020-08-20 11:12:57.000000000,2020-08-20 11:12:57.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-08-17 13:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/55c4bd9d9e9c16cef407aecde6a2966f0455f916', 'message': 'Add CI files config to bifrost jobs as well\n\nChange-Id: Ife7bd55f44bf709319c6598c0f95201a1aac528f\n'}, {'number': 2, 'created': '2020-08-18 10:42:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a67272d1f5ae77b9df45a933dc6adf1d77931ee0', 'message': 'Add CI files config to bifrost jobs as well\n\nChange-Id: Ife7bd55f44bf709319c6598c0f95201a1aac528f\n'}]",0,746503,a67272d1f5ae77b9df45a933dc6adf1d77931ee0,15,4,2,10969,,,0,"Add CI files config to bifrost jobs as well

Change-Id: Ife7bd55f44bf709319c6598c0f95201a1aac528f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/03/746503/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,55c4bd9d9e9c16cef407aecde6a2966f0455f916,bfrst, dependencies: *deps_unit_lint irrelevant-files: *ignore_files dependencies: *deps_unit_lint irrelevant-files: *ignore_files,,4,0
openstack%2Freleases~master~I0f674818983587e7a52766fb13df13f8c37dc65f,openstack/releases,master,I0f674818983587e7a52766fb13df13f8c37dc65f,Release Ironic 13.0.6 for Train,MERGED,2020-08-19 13:46:37.000000000,2020-08-20 11:06:30.000000000,2020-08-20 11:06:30.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 13:46:37.000000000', 'files': ['deliverables/train/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/116b9d5fa3a588d59e6850723823b162a7c244c2', 'message': 'Release Ironic 13.0.6 for Train\n\nChange-Id: I0f674818983587e7a52766fb13df13f8c37dc65f\n'}]",0,746925,116b9d5fa3a588d59e6850723823b162a7c244c2,13,5,1,15519,,,0,"Release Ironic 13.0.6 for Train

Change-Id: I0f674818983587e7a52766fb13df13f8c37dc65f
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/746925/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic.yaml'],1,116b9d5fa3a588d59e6850723823b162a7c244c2,ironic_train, - version: 13.0.6 projects: - repo: openstack/ironic hash: c52dd85fce9d22a7fe65da8c0c3634ea0847db79,,4,0
openstack%2Fkuryr-kubernetes~master~I9fe88bb78fea4930c241ecf1117eafecaf279c94,openstack/kuryr-kubernetes,master,I9fe88bb78fea4930c241ecf1117eafecaf279c94,Ensure Service is delete if lb CRD is already gone,MERGED,2020-08-12 20:50:01.000000000,2020-08-20 10:46:58.000000000,2020-08-20 10:45:40.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-08-12 20:50:01.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9cf61488c50f4db40d539a822e7584d2ac3533c2', 'message': 'Ensure Service is delete if lb CRD is already gone\n\nAs the Finalizer is first removed from the lb CRD and\nthen from the Service, we should add protection for when\nthe CRD is gone but the Service is still present with\nthe Finalizer set.\n\nChange-Id: I9fe88bb78fea4930c241ecf1117eafecaf279c94\n'}]",0,745963,9cf61488c50f4db40d539a822e7584d2ac3533c2,22,4,1,27032,,,0,"Ensure Service is delete if lb CRD is already gone

As the Finalizer is first removed from the lb CRD and
then from the Service, we should add protection for when
the CRD is gone but the Service is still present with
the Finalizer set.

Change-Id: I9fe88bb78fea4930c241ecf1117eafecaf279c94
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/745963/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,9cf61488c50f4db40d539a822e7584d2ac3533c2,remove-svc-finalizer-on-crd-gone," try: k8s.delete(klb_crd_path) except k_exc.K8sResourceNotFound: k8s.remove_finalizer(service, k_const.SERVICE_FINALIZER)", k8s.delete(klb_crd_path),4,1
openstack%2Fsushy~master~Ic64536c0ce51820461d82f1d0d498e2754a58ed7,openstack/sushy,master,Ic64536c0ce51820461d82f1d0d498e2754a58ed7,Add a CI job with UEFI+vmedia and clean up the job definitions,MERGED,2020-08-19 15:35:31.000000000,2020-08-20 10:34:05.000000000,2020-08-20 10:30:54.000000000,"[{'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 15:35:31.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/sushy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/0e27eba2f55b027a5ec1a648753926d1e874eb85', 'message': 'Add a CI job with UEFI+vmedia and clean up the job definitions\n\nReuse parent jobs from ironic and rename the jobs accordingly.\n\nChange-Id: Ic64536c0ce51820461d82f1d0d498e2754a58ed7\n'}]",0,746962,0e27eba2f55b027a5ec1a648753926d1e874eb85,9,4,1,10239,,,0,"Add a CI job with UEFI+vmedia and clean up the job definitions

Reuse parent jobs from ironic and rename the jobs accordingly.

Change-Id: Ic64536c0ce51820461d82f1d0d498e2754a58ed7
",git fetch https://review.opendev.org/openstack/sushy refs/changes/62/746962/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/sushy-jobs.yaml']",2,0e27eba2f55b027a5ec1a648753926d1e874eb85,gate, name: sushy-tempest-partition-bios-redfish-pxe parent: ironic-tempest-partition-bios-redfish-pxe - job: name: sushy-tempest-partition-uefi-redfish-vmedia parent: ironic-tempest-partition-uefi-redfish-vmedia irrelevant-files: - ^test-requirements.txt$ - ^sushy/tests/.*$ required-projects: - openstack/sushy," name: sushy-tempest-ironic-partition-redfish-src parent: ironic-base timeout: 5400 vars: devstack_localrc: IRONIC_DEFAULT_BOOT_OPTION: netboot IRONIC_DEPLOY_DRIVER: redfish IRONIC_ENABLED_HARDWARE_TYPES: redfish IRONIC_DEFAULT_RESCUE_INTERFACE: """" EBTABLES_RACE_FIX: True",15,12
openstack%2Fcharm-ceilometer~master~I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,openstack/charm-ceilometer,master,I48e2f079e2db640d485bc74bfc2cedfd7e82ac84,Fix restart when endpoint notification is received,MERGED,2020-08-20 09:17:35.000000000,2020-08-20 10:25:58.000000000,2020-08-20 10:25:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-20 09:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/06b4ec80758d47165dbb3f902f682f68df5fe4f9', 'message': 'Fix restart when endpoint notification is received\n\nRestarts were configured only when the ceilometer agent endpoint\nhad changed and only alarm services were triggered to be restarted.\nThis change adds a check for the gnocchi service having changed\ntoo and restarts all services to be on the safe side.\n\nChange-Id: I48e2f079e2db640d485bc74bfc2cedfd7e82ac84\n'}, {'number': 2, 'created': '2020-08-20 09:18:19.000000000', 'files': ['lib/ceilometer_utils.py', 'hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/e3982a2d98a98c164890734d1dada1b1aa44ba9e', 'message': 'Fix restart when endpoint notification is received\n\nRestarts were configured only when the ceilometer agent endpoint\nhad changed and only alarm services were triggered to be restarted.\nThis change adds a check for the gnocchi service having changed\ntoo and restarts all services to be on the safe side.\n\nCloses-Bug: #1867924\nChange-Id: I48e2f079e2db640d485bc74bfc2cedfd7e82ac84\n'}]",0,747128,e3982a2d98a98c164890734d1dada1b1aa44ba9e,10,3,2,12549,,,0,"Fix restart when endpoint notification is received

Restarts were configured only when the ceilometer agent endpoint
had changed and only alarm services were triggered to be restarted.
This change adds a check for the gnocchi service having changed
too and restarts all services to be on the safe side.

Closes-Bug: #1867924
Change-Id: I48e2f079e2db640d485bc74bfc2cedfd7e82ac84
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/28/747128/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceilometer_utils.py', 'hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py']",3,06b4ec80758d47165dbb3f902f682f68df5fe4f9,bug/1867924," self.services.return_value = ['svc1', 'svc2'] call1 = call('svc1') call2 = call('svc2')", call1 = call('ceilometer-alarm-evaluator') call2 = call('ceilometer-alarm-notifier'),15,6
openstack%2Fcharm-ceph-mon~master~I7d29aec3ba9924d5677be25137907b1465401f9c,openstack/charm-ceph-mon,master,I7d29aec3ba9924d5677be25137907b1465401f9c,Add erasure-coded pool bundle,MERGED,2020-08-19 07:14:53.000000000,2020-08-20 10:06:43.000000000,2020-08-20 10:06:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 07:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e93721771f9fffa06dd9cbad8666ad8613803b4c', 'message': 'Add erasure-coded pool bundle\n\nThis change adds a bundle that configures erasure coded pools\nfor glance, cinder-ceph and nova. To verify that the pools are\nusing EC it also adds a test which verifies the pool type.\n\nTo verify that the nova pool is configured correctly in all\nscenarious all the bundles have been updated to set\nlibvirt-image-backend to rbd which triggers the nova pool\ncreation.\n\nDuring testing the Prometheus tests were failing which is\ndown to a known bug *1 in the prometheus charm. The\nbundles have been updated to pin the prometheus2 charm\nto an earlier version to get round the bug.\n\nChange-Id: I7d29aec3ba9924d5677be25137907b1465401f9c\n'}, {'number': 2, 'created': '2020-08-20 07:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4075a7f3c0ca21a1faf559bb19813f86a150efa0', 'message': 'Add erasure-coded pool bundle\n\nThis change adds a bundle that configures erasure coded pools\nfor glance, cinder-ceph and nova. To verify that the pools are\nusing EC it also adds a test which verifies the pool type.\n\nTo verify that the nova pool is configured correctly in all\nscenarious all the bundles have been updated to set\nlibvirt-image-backend to rbd which triggers the nova pool\ncreation.\n\nDuring testing the Prometheus tests were failing which is\ndown to a known bug *1 in the prometheus charm. The\nbundles have been updated to pin the prometheus2 charm\nto an earlier version to get round the bug.\n\n*! https://bugs.launchpad.net/charm-prometheus2/+bug/1891942\n\n\nChange-Id: I7d29aec3ba9924d5677be25137907b1465401f9c\n'}, {'number': 3, 'created': '2020-08-20 07:04:42.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-train-with-fsid.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-ussuri-ec.yaml', 'tests/bundles/focal-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e3f9894aeadac301e01e28d840ad0cb5ebdaa09a', 'message': 'Add erasure-coded pool bundle\n\nThis change adds a bundle that configures erasure coded pools\nfor glance, cinder-ceph and nova. To verify that the pools are\nusing EC it also adds a test which verifies the pool type.\n\nTo verify that the nova pool is configured correctly in all\nscenarious all the bundles have been updated to set\nlibvirt-image-backend to rbd which triggers the nova pool\ncreation.\n\nDuring testing the Prometheus tests were failing which is\ndown to a known bug *1 in the prometheus charm. The\nbundles have been updated to pin the prometheus2 charm\nto an earlier version to get round the bug.\n\n*1 https://bugs.launchpad.net/charm-prometheus2/+bug/1891942\n\n\nChange-Id: I7d29aec3ba9924d5677be25137907b1465401f9c\n'}]",0,746846,e3f9894aeadac301e01e28d840ad0cb5ebdaa09a,14,4,3,12549,,,0,"Add erasure-coded pool bundle

This change adds a bundle that configures erasure coded pools
for glance, cinder-ceph and nova. To verify that the pools are
using EC it also adds a test which verifies the pool type.

To verify that the nova pool is configured correctly in all
scenarious all the bundles have been updated to set
libvirt-image-backend to rbd which triggers the nova pool
creation.

During testing the Prometheus tests were failing which is
down to a known bug *1 in the prometheus charm. The
bundles have been updated to pin the prometheus2 charm
to an earlier version to get round the bug.

*1 https://bugs.launchpad.net/charm-prometheus2/+bug/1891942


Change-Id: I7d29aec3ba9924d5677be25137907b1465401f9c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/46/746846/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-train-with-fsid.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-ussuri-ec.yaml', 'tests/bundles/focal-victoria.yaml']",16,e93721771f9fffa06dd9cbad8666ad8613803b4c,ec-func-test, libvirt-image-backend: rbd# Pin prometheus2 charm version Bug #1891942 charm: cs:prometheus2-18, charm: cs:prometheus2,305,9
openstack%2Fcharm-cinder~master~I031a6bf2a066bb9d3157e545bb9df782a76551f3,openstack/charm-cinder,master,I031a6bf2a066bb9d3157e545bb9df782a76551f3,Allow specifying default_volume_type,MERGED,2020-06-22 15:17:30.000000000,2020-08-20 10:02:04.000000000,2020-08-20 10:02:04.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-22 15:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/867677c854d78acc0357c1bbdf88175d569510a8', 'message': ""Allow specifying default_volume_type\n\nIt's useful when multiple storage backends to be connected to Cinder.\nThe corresponding volume type must be created after a deployment via API\nto take effect, e.g., `openstack volume type create VOLUME_TYPE\n--property volume_backend_name=BACKEND_NAME`\n\nPlease note that there is a regression in upstream as LP: #1879578, so\nit doesn't work for Train or later releases until the issue gets fixed.\n\nThe other way to have the similar effect is to edit the definition of\n__DEFAULT__ volume type via API (available for Train or later releases).\nHowevers it's not as flexible as the option in cinder.conf since it\ndoesn't allow any modification unless all of the volumes with the\n__DEFAULT__ type get deleted.\n\nChange-Id: I031a6bf2a066bb9d3157e545bb9df782a76551f3\nCloses-Bug: #1884548\n""}, {'number': 2, 'created': '2020-08-19 17:51:35.000000000', 'files': ['templates/parts/backends', 'hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/12193d2bc20c354923cea27e12ace89d4fde9aaf', 'message': ""Allow specifying default_volume_type\n\nIt's useful when multiple storage backends to be connected to Cinder.\nThe corresponding volume type must be created after a deployment via API\nto take effect, e.g., `openstack volume type create VOLUME_TYPE\n--property volume_backend_name=BACKEND_NAME`\n\nPlease note that there is a regression in upstream as LP: #1879578, so\nit doesn't work for Train or later releases until the issue gets fixed.\n\nThe other way to have the similar effect is to edit the definition of\n__DEFAULT__ volume type via API (available for Train or later releases).\nHowevers it's not as flexible as the option in cinder.conf since it\ndoesn't allow any modification unless all of the volumes with the\n__DEFAULT__ type get deleted.\n\nChange-Id: I031a6bf2a066bb9d3157e545bb9df782a76551f3\nCloses-Bug: #1884548\n""}]",0,737288,12193d2bc20c354923cea27e12ace89d4fde9aaf,12,3,2,8108,,,0,"Allow specifying default_volume_type

It's useful when multiple storage backends to be connected to Cinder.
The corresponding volume type must be created after a deployment via API
to take effect, e.g., `openstack volume type create VOLUME_TYPE
--property volume_backend_name=BACKEND_NAME`

Please note that there is a regression in upstream as LP: #1879578, so
it doesn't work for Train or later releases until the issue gets fixed.

The other way to have the similar effect is to edit the definition of
__DEFAULT__ volume type via API (available for Train or later releases).
Howevers it's not as flexible as the option in cinder.conf since it
doesn't allow any modification unless all of the volumes with the
__DEFAULT__ type get deleted.

Change-Id: I031a6bf2a066bb9d3157e545bb9df782a76551f3
Closes-Bug: #1884548
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/88/737288/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/parts/backends', 'hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py']",4,867677c854d78acc0357c1bbdf88175d569510a8,bug/1879578," {'active_backends': [], 'backends': '', 'default_volume_type': None}) 'active_backends': ['cinder-ceph'], 'default_volume_type': None}) 'active_backends': ['cinder-ceph', 'cinder-vmware'], 'default_volume_type': None}) def test_storage_backend_multi_backend_with_default_type(self): self.config.return_value = 'my-preferred-volume-type' self.os_release.return_value = 'havana' rel_dict = { 'storage-backend': ['cinder-ceph:0', 'cinder-vmware:0'], 'ceph': []} self.relation_ids.side_effect = lambda x: rel_dict[x] self.related_units.side_effect = [['cinder-ceph/0'], ['cinder-vmware/0']] self.relation_get.side_effect = ['cinder-ceph', 'cinder-vmware'] self.assertEqual( contexts.StorageBackendContext()(), {'backends': 'cinder-ceph,cinder-vmware', 'active_backends': ['cinder-ceph', 'cinder-vmware'], 'default_volume_type': 'my-preferred-volume-type'})"," {'active_backends': [], 'backends': ''}) 'active_backends': ['cinder-ceph']}) 'active_backends': ['cinder-ceph', 'cinder-vmware']})",38,4
openstack%2Freleases~master~Iee123c6512b4f269af7943df1400a431c0bbdd93,openstack/releases,master,Iee123c6512b4f269af7943df1400a431c0bbdd93,Release ironic 15.0.1 for Ussuri,MERGED,2020-08-19 13:46:52.000000000,2020-08-20 09:48:17.000000000,2020-08-20 09:48:17.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 13:46:52.000000000', 'files': ['deliverables/ussuri/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03651f42dbd1c941bde80c3ac209cbd450fed273', 'message': 'Release ironic 15.0.1 for Ussuri\n\nChange-Id: Iee123c6512b4f269af7943df1400a431c0bbdd93\n'}]",0,746926,03651f42dbd1c941bde80c3ac209cbd450fed273,12,5,1,15519,,,0,"Release ironic 15.0.1 for Ussuri

Change-Id: Iee123c6512b4f269af7943df1400a431c0bbdd93
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/746926/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/ironic.yaml'],1,03651f42dbd1c941bde80c3ac209cbd450fed273,ironic_ussuri, - version: 15.0.1 projects: - repo: openstack/ironic hash: b26838b2913bbc739e88555c2441d1bc7fcd8429,,4,0
openstack%2Fnova~master~Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,openstack/nova,master,Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c,Add new default roles in baremetal nodes policies,MERGED,2020-07-17 21:06:18.000000000,2020-08-20 09:41:32.000000000,2020-08-20 09:38:31.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 21:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bed19644e9445af8cebf76bc9ebe4ceb330bdc2', 'message': 'Add new default roles in baremetal ndoes policies\n\nThis adds new defaults roles in baremetal nodes API policies.\nThese policies are default to SYSTEM_READER and made more\ngranular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c\n'}, {'number': 2, 'created': '2020-07-20 21:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0841f948f896b4bbc0cae479b16eecd1ebabf737', 'message': 'Add new default roles in baremetal nodes policies\n\nThis adds new defaults roles in baremetal nodes API policies.\nThese policies are default to SYSTEM_READER and made more\ngranular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c\n'}, {'number': 3, 'created': '2020-08-13 14:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b8de847a348f9c1e2af1e3877d88140be06ce6b', 'message': 'Add new default roles in baremetal nodes policies\n\nThis adds new defaults roles in baremetal nodes API policies.\nThese policies are default to SYSTEM_READER and made more\ngranular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c\n'}, {'number': 4, 'created': '2020-08-17 14:36:38.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/tests/unit/fake_policy.py', 'nova/policies/baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/de2226b4b3a2490e8a3eb1a2dc78f00d5c7e31c8', 'message': 'Add new default roles in baremetal nodes policies\n\nThis adds new defaults roles in baremetal nodes API policies.\nThese policies are default to SYSTEM_READER and made more\ngranular to adopt the new defaults.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c\n'}]",3,741716,de2226b4b3a2490e8a3eb1a2dc78f00d5c7e31c8,68,14,4,8556,,,0,"Add new default roles in baremetal nodes policies

This adds new defaults roles in baremetal nodes API policies.
These policies are default to SYSTEM_READER and made more
granular to adopt the new defaults.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: Ieaad388d31fdabf0854bf7e2ed9fddf11f86bf8c
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/741716/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/api/openstack/compute/baremetal_nodes.py', 'nova/tests/unit/fake_policy.py', 'nova/policies/baremetal_nodes.py', 'nova/tests/unit/policies/test_baremetal_nodes.py']",5,9bed19644e9445af8cebf76bc9ebe4ceb330bdc2,bp/policy-defaults-refresh-deprecated-apis," # Check that system reader is able to get baremetal nodes. self.system_reader_authorized_contexts = [ self.project_admin_context, self.system_member_context, self.system_reader_context] # Check that non-system-reader is not able to get baremetal nodes. self.system_reader_unauthorized_contexts = [ rule_name = ""os_compute_api:os-baremetal-nodes:list"" self.common_policy_check(self.system_reader_authorized_contexts, self.system_reader_unauthorized_contexts, rule_name = ""os_compute_api:os-baremetal-nodes:show"" self.common_policy_check(self.system_reader_authorized_contexts, self.system_reader_unauthorized_contexts, # Check that system reader is able to get baremetal nodes. self.system_reader_authorized_contexts = [ self.system_admin_context, self.system_member_context, self.system_reader_context] # Check that non-system or non-reader is not able to get self.system_reader_unauthorized_contexts = [ self.legacy_admin_context, self.system_foo_context,"," # Check that admin is able to get baremetal nodes. self.admin_authorized_contexts = [ self.project_admin_context] # Check that non-admin is not able to get baremetal nodes. self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, rule_name = ""os_compute_api:os-baremetal-nodes"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name = ""os_compute_api:os-baremetal-nodes"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, # Check that system admin is able to get baremetal nodes. self.admin_authorized_contexts = [ self.system_admin_context] # Check that non-system or non-admin is not able to get self.admin_unauthorized_contexts = [ self.legacy_admin_context, self.system_member_context, self.system_reader_context, self.system_foo_context,",55,28
openstack%2Foctavia~master~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,master,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-18 18:11:53.000000000,2020-08-20 09:38:00.000000000,2020-08-20 09:35:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 18:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/38e4075c970599c6e1f992c71e4b339b41aff60f', 'message': 'Fix DIB git breakage\n\nA diskimage-builder patch [1] broke our amphora-agent element by\nuninstalling git prior to the post-install.d phase.\nThis patch updates our element to finish using git before the\ninstall.d phase is complete.\n\n[1] https://review.opendev.org/#/c/745678/\n\nChange-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994\n'}, {'number': 2, 'created': '2020-08-18 18:27:52.000000000', 'files': ['elements/amphora-agent/post-install.d/90-remove-build-deps', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7d6322ae08eba23d7fc02f4141d27d51f9433a7c', 'message': 'Switch back to using git for the agent ref\n\nA diskimage-builder patch [1] broke our amphora-agent element by\nuninstalling git prior to the post-install.d phase.\nA followup patch in Octavia [2] changed how we get the git\nreference to awking an git internal log file. This seems fragile\nto me, so I am proposing this alternative.\nThis patch updates our element to finish using git before the\ninstall.d phase is complete.\n\n[1] https://review.opendev.org/745678\n[2] https://review.opendev.org/745683\n\nChange-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994\n'}]",1,746782,7d6322ae08eba23d7fc02f4141d27d51f9433a7c,12,5,2,11628,,,0,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/746782/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/post-install.d/90-remove-build-deps', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install']",2,38e4075c970599c6e1f992c71e4b339b41aff60f,git-ref,# Let's capture the git reference we installed in the venv git --git-dir=/opt/amphora-agent/.git rev-parse HEAD >> /opt/amphora-agent.gitref ,,3,1
openstack%2Foctavia~stable%2Fussuri~I9a346b626f852171ec00d2868ccb6f98b1fb8994,openstack/octavia,stable/ussuri,I9a346b626f852171ec00d2868ccb6f98b1fb8994,Switch back to using git for the agent ref,MERGED,2020-08-19 08:00:11.000000000,2020-08-20 09:37:44.000000000,2020-08-20 09:35:11.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:00:11.000000000', 'files': ['elements/amphora-agent/post-install.d/90-remove-build-deps', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f923ef093424cb05e446c490e86f648f51a52e4f', 'message': 'Switch back to using git for the agent ref\n\nA diskimage-builder patch [1] broke our amphora-agent element by\nuninstalling git prior to the post-install.d phase.\nA followup patch in Octavia [2] changed how we get the git\nreference to awking an git internal log file. This seems fragile\nto me, so I am proposing this alternative.\nThis patch updates our element to finish using git before the\ninstall.d phase is complete.\n\n[1] https://review.opendev.org/745678\n[2] https://review.opendev.org/745683\n\nChange-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994\n(cherry picked from commit 7d6322ae08eba23d7fc02f4141d27d51f9433a7c)\n'}]",0,746850,f923ef093424cb05e446c490e86f648f51a52e4f,8,3,1,6469,,,0,"Switch back to using git for the agent ref

A diskimage-builder patch [1] broke our amphora-agent element by
uninstalling git prior to the post-install.d phase.
A followup patch in Octavia [2] changed how we get the git
reference to awking an git internal log file. This seems fragile
to me, so I am proposing this alternative.
This patch updates our element to finish using git before the
install.d phase is complete.

[1] https://review.opendev.org/745678
[2] https://review.opendev.org/745683

Change-Id: I9a346b626f852171ec00d2868ccb6f98b1fb8994
(cherry picked from commit 7d6322ae08eba23d7fc02f4141d27d51f9433a7c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/746850/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/post-install.d/90-remove-build-deps', 'elements/amphora-agent/install.d/amphora-agent-source-install/75-amphora-agent-install']",2,f923ef093424cb05e446c490e86f648f51a52e4f,,# Let's capture the git reference we installed in the venv git --git-dir=/opt/amphora-agent/.git rev-parse HEAD >> /opt/amphora-agent.gitref ,,3,1
openstack%2Fopenstack-zuul-jobs~master~I9f3da2d2c00c7f335ff9dce483c0dede91604749,openstack/openstack-zuul-jobs,master,I9f3da2d2c00c7f335ff9dce483c0dede91604749,[DNM]: Testing Nodejs Job,ABANDONED,2020-08-17 09:03:29.000000000,2020-08-20 09:22:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-17 09:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/893da532eb496cfd71e34b3c8cb6ea8b30586424', 'message': '[DNM]: Testing Nodejs Job\n\nChange-Id: I9f3da2d2c00c7f335ff9dce483c0dede91604749\n'}, {'number': 2, 'created': '2020-08-17 11:10:19.000000000', 'files': ['playbooks/javascript/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4ef637c3b90625a6f4cf42a9f4fe36b649f9a4f1', 'message': '[DNM]: Testing Nodejs Job\n\nChange-Id: I9f3da2d2c00c7f335ff9dce483c0dede91604749\n'}]",0,746462,4ef637c3b90625a6f4cf42a9f4fe36b649f9a4f1,5,1,2,29313,,,0,"[DNM]: Testing Nodejs Job

Change-Id: I9f3da2d2c00c7f335ff9dce483c0dede91604749
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/62/746462/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/javascript/pre.yaml'],1,893da532eb496cfd71e34b3c8cb6ea8b30586424,test, - role: ensure-tox ensure_global_symlinks: True,,2,0
openstack%2Fblazar-dashboard~master~I5d293b58691eb3dd8dc43926be09f0de9883ae76,openstack/blazar-dashboard,master,I5d293b58691eb3dd8dc43926be09f0de9883ae76,[DNM] Test blazar-dashboard with horizon jobs on focal,ABANDONED,2020-08-19 16:27:35.000000000,2020-08-20 09:21:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 16:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/5c5a5d7451e5d8787b168824a53c29e1fdf29330', 'message': '[DNM] Test nodejs job with horizon on focal\n\nChange-Id: I5d293b58691eb3dd8dc43926be09f0de9883ae76\n'}, {'number': 2, 'created': '2020-08-19 16:36:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/faea1c90785848bd13721f21579cbdbbbbbe39f3', 'message': '[DNM] Test blazar-dashboard with horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: I5d293b58691eb3dd8dc43926be09f0de9883ae76\n'}]",0,746987,faea1c90785848bd13721f21579cbdbbbbbe39f3,7,2,2,29313,,,0,"[DNM] Test blazar-dashboard with horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: I5d293b58691eb3dd8dc43926be09f0de9883ae76
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/87/746987/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5c5a5d7451e5d8787b168824a53c29e1fdf29330,,#test-focal,,1,0
openstack%2Fcloudkitty-dashboard~master~Icb40308409b39b1ddffad43b1833e58ca0ade229,openstack/cloudkitty-dashboard,master,Icb40308409b39b1ddffad43b1833e58ca0ade229,[DNM] Test horizon jobs on focal,ABANDONED,2020-08-19 16:35:58.000000000,2020-08-20 09:21:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-19 16:35:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/3cb2b4a55f2abc4206b9ef87a5a8df7e3b145d48', 'message': '[DNM] Test horizon jobs on focal\n\nDepends-On: https://review.opendev.org/#/c/744647/\nChange-Id: Icb40308409b39b1ddffad43b1833e58ca0ade229\n'}]",0,746989,3cb2b4a55f2abc4206b9ef87a5a8df7e3b145d48,4,1,1,29313,,,0,"[DNM] Test horizon jobs on focal

Depends-On: https://review.opendev.org/#/c/744647/
Change-Id: Icb40308409b39b1ddffad43b1833e58ca0ade229
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/89/746989/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3cb2b4a55f2abc4206b9ef87a5a8df7e3b145d48,,#test horizon jobs running on focal,,1,0
openstack%2Freleases~master~I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,openstack/releases,master,I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac,Switch magnum-ui to cycle-with-rc,MERGED,2020-08-13 16:33:47.000000000,2020-08-20 08:25:24.000000000,2020-08-20 08:25:24.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 16:33:47.000000000', 'files': ['deliverables/victoria/magnum-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/034e4c6cacad9802621432a9b971b8f5da47a139', 'message': 'Switch magnum-ui to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nmagnum-ui only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746192,034e4c6cacad9802621432a9b971b8f5da47a139,10,5,1,11904,,,0,"Switch magnum-ui to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
magnum-ui only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I36ad5513dc8dc5fa5dcc3003d7b32b46e88cb6ac
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/746192/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/magnum-ui.yaml'],1,034e4c6cacad9802621432a9b971b8f5da47a139,victoria-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fnova~master~I7f93cfd18f948134c9cb429dea55740d2cf97994,openstack/nova,master,I7f93cfd18f948134c9cb429dea55740d2cf97994,Add checks for volume status when rebuilding,MERGED,2020-06-10 02:40:36.000000000,2020-08-20 08:25:07.000000000,2020-08-20 08:21:15.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28329}, {'_account_id': 29963}, {'_account_id': 30638}, {'_account_id': 31960}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-10 02:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e4742ad1040fc0694968195f46d493b576e7de5', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 2, 'created': '2020-06-10 07:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ef98169c096566dc13c635b2f6451ea2d656959', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 3, 'created': '2020-06-11 02:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fb89d3423a3c2bdf8601f52047664b8735cf16b', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 4, 'created': '2020-06-11 04:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fc8a49064f5b3ca366e6f33ccfb5fb6a8e1978b', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 5, 'created': '2020-06-12 01:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7988313522f5b9e945e18bb96d5feb13362101e7', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 6, 'created': '2020-06-13 07:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b870bdc837ac17fc488e28ab87a4408d5d2dda82', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 7, 'created': '2020-06-13 07:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f171203c4299a87f158aee2e77dcc09d4eda4bb6', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 8, 'created': '2020-06-15 09:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6869395d1c8020c76d7215bfd9f83ae72fa8e7e3', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 9, 'created': '2020-06-15 12:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a088622fd87d32b94c75f06c9a04649c68b7c66a', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 10, 'created': '2020-06-15 13:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25860b5b35fc7dbd00c9ceb5732672706c1ab810', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 11, 'created': '2020-06-16 00:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c096856a7bfef24cdfd4505eb6b8e68af1b1e4c5', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 12, 'created': '2020-06-28 05:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14ca3fe03b40c6483547e4dbf5d01ed4ddfda2d9', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 13, 'created': '2020-06-28 07:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c58c2ddd278926d0d7c705635affe39989414744', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 14, 'created': '2020-06-28 07:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b91b8d2ad19f8265fb23006a9de8aba4d9d1644', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 15, 'created': '2020-07-10 11:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bcf74ec6c546de481ca18218f81e163783a0cb3', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 16, 'created': '2020-08-17 11:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bb02fd10a26c015465ba52d105fb1dd1bca3f65', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 17, 'created': '2020-08-19 12:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7afa0e8158702d628f477503c25f4e1be9a0abc4', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}, {'number': 18, 'created': '2020-08-19 13:21:14.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519', 'message': ""Add checks for volume status when rebuilding\n\nWhen rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994\nCloses-Bug: #1489304\n""}]",9,734734,10e9a9b9fc62a3cf72c3717e3621ed95d3cf5519,208,19,18,31960,,,0,"Add checks for volume status when rebuilding

When rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Change-Id: I7f93cfd18f948134c9cb429dea55740d2cf97994
Closes-Bug: #1489304
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/734734/18 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,4e4742ad1040fc0694968195f46d493b576e7de5,bug/1489304," for bdm in bdms or []: if bdm.is_volume: LOG.info(""Call begin_detaching for volume: %s"", bdm.volume_id, instance=instance) self.volume_api.begin_detaching(context, bdm.volume_id) except exception.InvalidInput as e: LOG.error(""Rebuild failed, volume: %s cannot be detached."", bdm.volume_id, instance=instance) for bdm in bdms: if bdm.is_volume: self.volume_api.roll_detaching(context, bdm.volume_id) self._set_migration_status(migration, 'failed') self._notify_about_instance_usage(context, instance, 'rebuild.error', fault=e) raise exception.InstanceFaultRollback( exception.BuildAbortException(instance_uuid=instance.uuid, reason=e.format_message()))",,19,0
openstack%2Fopenstack-planet~master~I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,openstack/openstack-planet,master,I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2,Add damani to Planet OpenStack.,MERGED,2020-08-18 13:11:51.000000000,2020-08-20 08:04:53.000000000,2020-08-20 08:04:53.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 13:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/c441dafd818e34ae07d70efb1043c9f65265d354', 'message': 'Add damani to Planet OpenStack.\n\nAdd my blog.\n\nChange-Id: I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2\n'}, {'number': 2, 'created': '2020-08-18 13:12:59.000000000', 'files': ['images/damani.jpg', 'planet.ini'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/2bee2113ebacff8b83d37b497fb4edbcc5e5bd51', 'message': 'Add damani to Planet OpenStack.\n\nAdd my blog.\n\nChange-Id: I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2\n'}]",0,746712,2bee2113ebacff8b83d37b497fb4edbcc5e5bd51,7,2,2,31245,,,0,"Add damani to Planet OpenStack.

Add my blog.

Change-Id: I786a49724c2c97fde7a3e2e8ee74a0378d6f96d2
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/12/746712/2 && git format-patch -1 --stdout FETCH_HEAD,['planet.ini'],1,c441dafd818e34ae07d70efb1043c9f65265d354,, [https://damani42.github.io/feeds/openstack.atom.xml] name = Daniel Bengtsson face = damani.jpg nick = damani,,5,0
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I0cc70af50dbbad972baece017c7b31e0ae696579,openstack/networking-bagpipe,stable/ussuri,I0cc70af50dbbad972baece017c7b31e0ae696579,Fix pep8 job,MERGED,2020-07-27 14:40:56.000000000,2020-08-20 07:51:44.000000000,2020-08-20 00:14:44.000000000,"[{'_account_id': 12021}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 14:40:56.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b14e767b1db4ccd9a61d06fe74ce6cbd501fc3d6', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nConflicts: test-requirements.txt\n\nChange-Id: I0cc70af50dbbad972baece017c7b31e0ae696579\n(cherry picked from commit 30b058ec04f4ccbbbca41c36b72f877634873352)\n'}]",0,743245,b14e767b1db4ccd9a61d06fe74ce6cbd501fc3d6,11,4,1,8313,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.
Conflicts: test-requirements.txt

Change-Id: I0cc70af50dbbad972baece017c7b31e0ae696579
(cherry picked from commit 30b058ec04f4ccbbbca41c36b72f877634873352)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/45/743245/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,b14e767b1db4ccd9a61d06fe74ce6cbd501fc3d6,pep8-error,isort==4.3.21,,2,0
openstack%2Fkolla-ansible~stable%2Fussuri~I5ac8f20a2157d880b63a4c70bf6c782d06014f41,openstack/kolla-ansible,stable/ussuri,I5ac8f20a2157d880b63a4c70bf6c782d06014f41,Skip broken ansible-lint,MERGED,2020-08-19 08:02:34.000000000,2020-08-20 07:49:26.000000000,2020-08-20 07:47:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 08:02:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e74782af46eeff564a2c62a93dbbd0c86bd6f61f', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41\n(cherry picked from commit a90aa3e4435a6124284260094b3e875c7bc9c96d)\n'}]",0,746852,e74782af46eeff564a2c62a93dbbd0c86bd6f61f,19,2,1,30491,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41
(cherry picked from commit a90aa3e4435a6124284260094b3e875c7bc9c96d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/746852/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e74782af46eeff564a2c62a93dbbd0c86bd6f61f,skip-broken-ansible-lint-stable/ussuri,"ansible-lint>=4.2.0,!=4.3.0 # MIT",ansible-lint>=4.2.0 # MIT,1,1
openstack%2Fdiskimage-builder~master~I56ed875632a66be4b5bf7efeed83491b34d4bf73,openstack/diskimage-builder,master,I56ed875632a66be4b5bf7efeed83491b34d4bf73,Add handling for no activate_this.py in venv,ABANDONED,2020-01-28 00:48:19.000000000,2020-08-20 07:34:08.000000000,,"[{'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 27582}]","[{'number': 1, 'created': '2020-01-28 00:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d677d45a20fa1b815d398a93760a93754d7dabc', 'message': ""Add handling for no activate_this.py in venv\n\nThe python3 included venv module does not place an\nactivate_this.py file. Since this file seems to just\neffectively inject the path in newer python versions,\nthere is no reason we can't determine the path and\ninject the path as-is.\n\nChange-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73\n""}, {'number': 2, 'created': '2020-01-28 00:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9b16eff721260c6cc11032a3d9912e7493fcc764', 'message': ""Add handling for no activate_this.py in venv\n\nThe python3 included venv module does not place an\nactivate_this.py file. Since this file seems to just\neffectively inject the path in newer python versions,\nthere is no reason we can't determine the path and\ninject the path as-is.\n\nChange-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73\n""}, {'number': 3, 'created': '2020-05-29 10:32:10.000000000', 'files': ['diskimage_builder/disk_image_create.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64f10a926553923dfcc109fc342095cbf9892999', 'message': ""Add handling for no activate_this.py in venv\n\nThe python3 included venv module does not place an\nactivate_this.py file. Since this file seems to just\neffectively inject the path in newer python versions,\nthere is no reason we can't determine the path and\ninject the path as-is.\n\nChange-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73\n""}]",15,704478,64f10a926553923dfcc109fc342095cbf9892999,31,8,3,11655,,,0,"Add handling for no activate_this.py in venv

The python3 included venv module does not place an
activate_this.py file. Since this file seems to just
effectively inject the path in newer python versions,
there is no reason we can't determine the path and
inject the path as-is.

Change-Id: I56ed875632a66be4b5bf7efeed83491b34d4bf73
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/704478/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/disk_image_create.py'],1,8d677d45a20fa1b815d398a93760a93754d7dabc,," try: globs = runpy.run_path(activate_this, globals()) globals().update(globs) del globs except FileNotFoundError: # In this case venv is likely in use, so we will instead # just directly update the path. base_path = os.path.dirname(os.path.abspath(sys.executable)) path_list = list(sys.path) path_list.insert(0, base_path) sys.path[:0] = path_list"," globs = runpy.run_path(activate_this, globals()) globals().update(globs) del globs",11,3
openstack%2Ffreezer-api~master~Iacc4c218c29d44dabbf2bc933291790e7c9b7480,openstack/freezer-api,master,Iacc4c218c29d44dabbf2bc933291790e7c9b7480,zuul: use the freezer-tempest-plugins jobs and cleanup,MERGED,2020-08-10 12:46:28.000000000,2020-08-20 07:28:47.000000000,2020-08-20 07:24:19.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-10 12:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c7273b08dbb29365a8175c102f6af882bb9ffc40', 'message': 'zuul: use the freezer-tempest-plugins jobs and cleanup\n\n- use the jobs already defined inside freezer-tempest-plugins\n  instead of redefining them locally, as they are the same;\n- remove the other legacy jobs, as they are not used and\n  the jobs from freezer-tempest-plugins could be directly used\n  or adapted if needed.\n\nChange-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480\n'}, {'number': 2, 'created': '2020-08-11 12:31:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4', 'message': 'zuul: use the freezer-tempest-plugins jobs and cleanup\n\n- use the jobs already defined inside freezer-tempest-plugins\n  instead of redefining them locally, as they are the same;\n- remove the other legacy jobs, as they are not used and\n  the jobs from freezer-tempest-plugins could be directly used\n  or adapted if needed.\n\nChange-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480\n'}]",0,745524,db0c4dd3c717d2e2bf67ef7e50fa1e2fa7bef6d4,10,2,2,10459,,,0,"zuul: use the freezer-tempest-plugins jobs and cleanup

- use the jobs already defined inside freezer-tempest-plugins
  instead of redefining them locally, as they are the same;
- remove the other legacy jobs, as they are not used and
  the jobs from freezer-tempest-plugins could be directly used
  or adapted if needed.

Change-Id: Iacc4c218c29d44dabbf2bc933291790e7c9b7480
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/24/745524/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c7273b08dbb29365a8175c102f6af882bb9ffc40,native-zuulv3-migration, - freezer-tempest-basic - freezer-tempest-basic-sql - freezer-tempest-basic - freezer-tempest-basic-sql, - freezer-api-tempest - freezer-api-tempest-sqlalchemy - freezer-api-tempest - freezer-api-tempest-sqlalchemy - job: name: freezer-api-ubuntu parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-ubuntu/run.yaml post-run: playbooks/legacy/freezer-api-ubuntu/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-centos-7-old parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-centos-7/run.yaml post-run: playbooks/legacy/freezer-api-centos-7/post.yaml timeout: 7800 nodeset: legacy-centos-7 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-opensuse-15 parent: legacy-dsvm-base run: playbooks/legacy/freezer-api-opensuse-15/run.yaml post-run: playbooks/legacy/freezer-api-opensuse-15/post.yaml timeout: 7800 nodeset: legacy-opensuse-15 required-projects: - openstack/devstack-gate - openstack/freezer - openstack/freezer-api - openstack/freezer-web-ui - openstack/python-freezerclient - openstack/freezer-tempest-plugin - job: name: freezer-api-tempest parent: devstack-tempest timeout: 7200 required-projects: - openstack/devstack-gate - openstack/python-openstackclient - openstack/python-freezerclient - openstack/freezer - openstack/freezer-api - openstack/freezer-tempest-plugin - openstack/tempest vars: devstack_plugins: freezer-api: https://opendev.org/openstack/freezer-api devstack_services: tls-proxy: false freezer-api: true tempest: true s-account: false s-container: false s-object: false s-proxy: false devstack_localrc: TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tempest_test_regex: '^(freezer_tempest_plugin.tests.freezer_api)' tox_envlist: all tox_environment: PYTHONUNBUFFERED: 'true' zuul_copy_output: /etc/hosts: logs - job: name: freezer-api-tempest-sqlalchemy parent: devstack-tempest timeout: 7200 required-projects: - openstack/devstack-gate - openstack/python-openstackclient - openstack/python-freezerclient - openstack/freezer - openstack/freezer-api - openstack/freezer-tempest-plugin - openstack/tempest vars: devstack_plugins: freezer-api: https://opendev.org/openstack/freezer-api devstack_services: tls-proxy: false freezer-api: true tempest: true s-account: false s-container: false s-object: false s-proxy: false devstack_localrc: FREEZER_BACKEND: 'sqlalchemy' TEMPEST_PLUGINS: '/opt/stack/freezer-tempest-plugin' tempest_test_regex: '^(freezer_tempest_plugin.tests.freezer_api)' tox_envlist: all tox_environment: PYTHONUNBUFFERED: 'true' zuul_copy_output: /etc/hosts: logs,4,115
openstack%2Fopenstack-ansible-os_ironic~master~I9a6e7273f752b6bdc1639be299e00933889b6cc9,openstack/openstack-ansible-os_ironic,master,I9a6e7273f752b6bdc1639be299e00933889b6cc9,Add ironic-inspector to constraints,MERGED,2020-08-19 14:12:26.000000000,2020-08-20 07:23:53.000000000,2020-08-20 07:18:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-19 14:12:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85', 'message': 'Add ironic-inspector to constraints\n\nWe missed adding ironic-inspector to constraints which resulted\nin installing always the latest avaialbe version in the pypi.\n\nDepends-On: https://review.opendev.org/746931\nChange-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9\n'}]",0,746933,bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85,12,4,1,28619,,,0,"Add ironic-inspector to constraints

We missed adding ironic-inspector to constraints which resulted
in installing always the latest avaialbe version in the pypi.

Depends-On: https://review.opendev.org/746931
Change-Id: I9a6e7273f752b6bdc1639be299e00933889b6cc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/33/746933/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,bea6f664bd5f60b5c9a0aaf88a6e57c0b04cae85,,"ironic_inspector_git_repo: https://opendev.org/openstack/ironic-inspectorironic_inspector_git_install_branch: master - ""git+{{ ironic_inspector_git_repo }}@{{ ironic_inspector_git_install_branch }}#egg=ironic-inspector""","ironic_inspector_upper_constraints_url: ""{{ requirements_git_url | default('https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=' ~ requirements_git_install_branch | default('master')) }}""",3,1
openstack%2Fec2api-tempest-plugin~master~I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,openstack/ec2api-tempest-plugin,master,I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c,Add simple s3 test for create/delete bucket,MERGED,2020-08-14 04:57:21.000000000,2020-08-20 07:23:18.000000000,2020-08-17 05:54:48.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 04:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/97cade35a56633231f26430ee968b8c670402c70', 'message': 'Add simple s3 test for create/delete bucket\n\nChange-Id: I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c\n'}, {'number': 2, 'created': '2020-08-17 01:21:43.000000000', 'files': ['ec2api_tempest_plugin/api/test_s3.py'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566', 'message': 'Add simple s3 test for create/delete bucket\n\nChange-Id: I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c\n'}]",2,746270,8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566,14,2,2,3031,,,0,"Add simple s3 test for create/delete bucket

Change-Id: I3e7aa1a18509f3a177d0d5f8f6e537e55f01d81c
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/70/746270/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api_tempest_plugin/api/test_s3.py'],1,97cade35a56633231f26430ee968b8c670402c70,,"# Copyright 2020 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import botocore.exceptions from tempest.lib.common.utils import data_utils from tempest.lib import decorators import testtools from ec2api_tempest_plugin import base from ec2api_tempest_plugin import config CONF = config.CONF class ObjectStoreTest(base.EC2TestCase): @decorators.idempotent_id('03e28c10-58b9-4729-a678-14e4166279be') @testtools.skipUnless(CONF.aws.s3_url, ""s3_url is not defined"") def test_create_delete_bucket(self): bucket_name = data_utils.rand_name('bucket') self.s3_client.create_bucket(Bucket=bucket_name) self.s3_client.head_bucket(Bucket=bucket_name) self.s3_client.delete_bucket(Bucket=bucket_name) try: self.s3_client.head_bucket(Bucket=bucket_name) except botocore.exceptions.ClientError as e: # If a client error is thrown, then check that it was a 404 error. # If it was a 404 error, then the bucket does not exist. error_code = e.response['Error']['Code'] if error_code != '404': raise e ",,44,0
openstack%2Frpm-packaging~master~Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,openstack/rpm-packaging,master,Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6,August 11th updates,MERGED,2020-08-13 12:04:41.000000000,2020-08-20 07:18:04.000000000,2020-08-20 07:18:04.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 12:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/52ee15837dcd45932ca12e7998bc68219eb616ad', 'message': 'August 11th updates\n\nChange-Id: Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6\n'}, {'number': 2, 'created': '2020-08-19 08:15:36.000000000', 'files': ['openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/cliff/cliff.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2d0d2d712a7d88e22fb7c36d9fc41b78f54dd047', 'message': 'August 11th updates\n\nChange-Id: Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6\n'}]",1,746113,2d0d2d712a7d88e22fb7c36d9fc41b78f54dd047,21,7,2,6593,,,0,"August 11th updates

Change-Id: Ib601be6c3bdfe062aadf49b68b007a8ecbb3d4c6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/746113/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-designateclient/python-designateclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/cliff/cliff.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2']",7,52ee15837dcd45932ca12e7998bc68219eb616ad,,{% set upstream_version = upstream_version('3.3.2') %},{% set upstream_version = upstream_version('3.3.1') %},7,7
openstack%2Ftripleo-ci~master~I211c3885caa2605205a92cc45314acac2a0e65ac,openstack/tripleo-ci,master,I211c3885caa2605205a92cc45314acac2a0e65ac,add ansible config to container build logs,MERGED,2020-08-19 18:55:56.000000000,2020-08-20 07:09:28.000000000,2020-08-20 07:09:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 18:55:56.000000000', 'files': ['roles/build-containers/tasks/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/29fd5e83a9fd66f522303595e4d386f21fb08558', 'message': 'add ansible config to container build logs\n\nChange-Id: I211c3885caa2605205a92cc45314acac2a0e65ac\n'}]",0,747022,29fd5e83a9fd66f522303595e4d386f21fb08558,8,4,1,9592,,,0,"add ansible config to container build logs

Change-Id: I211c3885caa2605205a92cc45314acac2a0e65ac
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/22/747022/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/post.yaml'],1,29fd5e83a9fd66f522303595e4d386f21fb08558,, mkdir -p {{ workspace }}/etc/ansible rsync -var --no-links /etc/ansible/ {{ workspace }}/etc/ansible/ || true,,2,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,openstack/python-tripleoclient,stable/train,I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48,Use user set password values in overcloud export,MERGED,2020-08-13 15:29:49.000000000,2020-08-20 05:54:48.000000000,2020-08-20 05:52:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-13 15:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2299adf228f705973c36ff1274e3320b0d9b9c47', 'message': 'Use user set password values in overcloud export\n\nThe overcloud export command needs to look at both the\nparameter_defaults and passwords keys from plan-environment.yaml.\npasswords contains only the generated password values, while\nparameter_defaults contains any user set values. If a value is not set\nin parameter_defaults, then passwords can be used.\n\nChange-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48\nCloses-Bug: #1891388\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)\n'}, {'number': 2, 'created': '2020-08-14 01:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e71655783b1705c03342706f1cf859d04fd4fe48', 'message': 'Use user set password values in overcloud export\n\nThe overcloud export command needs to look at both the\nparameter_defaults and passwords keys from plan-environment.yaml.\npasswords contains only the generated password values, while\nparameter_defaults contains any user set values. If a value is not set\nin parameter_defaults, then passwords can be used.\n\nChange-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48\nCloses-Bug: #1891388\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)\n'}, {'number': 3, 'created': '2020-08-18 12:36:11.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py', 'releasenotes/notes/overcloud-export-passwords-bfa698491601a734.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c15d0d0ba0b3de7e78a9d9a4b1c88b8f497b97df', 'message': 'Use user set password values in overcloud export\n\nThe overcloud export command needs to look at both the\nparameter_defaults and passwords keys from plan-environment.yaml.\npasswords contains only the generated password values, while\nparameter_defaults contains any user set values. If a value is not set\nin parameter_defaults, then passwords can be used.\n\nChange-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48\nCloses-Bug: #1891388\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)\n'}]",0,746160,c15d0d0ba0b3de7e78a9d9a4b1c88b8f497b97df,23,5,3,3153,,,0,"Use user set password values in overcloud export

The overcloud export command needs to look at both the
parameter_defaults and passwords keys from plan-environment.yaml.
passwords contains only the generated password values, while
parameter_defaults contains any user set values. If a value is not set
in parameter_defaults, then passwords can be used.

Change-Id: I6b1b8bd1e7800720f6bbbe418c1f83b2f710fb48
Closes-Bug: #1891388
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit ced221406b70c348453c82247c9274fb11c77dd3)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/746160/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py', 'releasenotes/notes/overcloud-export-passwords-bfa698491601a734.yaml']",3,2299adf228f705973c36ff1274e3320b0d9b9c47,plan,--- fixes: - openstack overcloud export now exports user defined password values instead of just always exporting the generated password values. ,,52,20
openstack%2Fopenstack-ansible~master~I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,openstack/openstack-ansible,master,I8cbcc4f878415d19506c3faadd554fbd2e9a81a4,Add ironic-inspector to the openstack_services,MERGED,2020-08-19 14:01:13.000000000,2020-08-20 05:37:53.000000000,2020-08-20 00:16:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-08-19 14:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/037c61cd869a70bbd6957ef90aa491b4b7caec9e', 'message': ""Add ironic-inspector to the openstack_services\n\nWe clean forgot about adding ironic-inspector to the services, so\nit's time we fix that.\n\nChange-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4\n""}, {'number': 2, 'created': '2020-08-19 14:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fedd67bb20c3b2567ad0c2a3125768d652edf535', 'message': ""Add ironic-inspector to the openstack_services\n\nWe clean forgot about adding ironic-inspector to the services, so\nit's time we fix that.\n\nChange-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4\n""}, {'number': 3, 'created': '2020-08-19 16:45:23.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f1d3610159fc4eec5559900527e4e078848cf6f', 'message': ""Add ironic-inspector to the openstack_services\n\nWe clean forgot about adding ironic-inspector to the services, so\nit's time we fix that.\n\nChange-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4\n""}]",0,746931,4f1d3610159fc4eec5559900527e4e078848cf6f,12,3,3,28619,,,0,"Add ironic-inspector to the openstack_services

We clean forgot about adding ironic-inspector to the services, so
it's time we fix that.

Change-Id: I8cbcc4f878415d19506c3faadd554fbd2e9a81a4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/746931/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,037c61cd869a70bbd6957ef90aa491b4b7caec9e,746931,## Ironic inspector service ironic_inspector_git_repo: https://opendev.org/openstack/ironic-inspector ironic_inspector_git_install_branch: 2c38173fbf0ba2beebebc067704a30618b2eaf0d # HEAD as of 19.08.2020 ironic_inspector_git_project_group: ironic_all ironic_inspector_git_track_branch: master ,,7,0
openstack%2Fopenstack-ansible~master~Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,openstack/openstack-ansible,master,Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf,Remove nova_api_placement from inventory,MERGED,2020-08-17 15:03:27.000000000,2020-08-20 05:37:04.000000000,2020-08-20 02:22:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-17 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6e2ce148441c2687290b2845d390d0b74c9d6d2', 'message': 'Remove nova_api_placement from inventory\n\nSince placement is standalone since train, it time we removed\nnova_api_placement group from inventory and playbooks\n\nChange-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf\n'}, {'number': 2, 'created': '2020-08-17 15:05:24.000000000', 'files': ['inventory/env.d/nova.yml', 'playbooks/os-nova-install.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py', 'playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6d8337b327e8be582cef6270b21846b34fe21f0a', 'message': 'Remove nova_api_placement from inventory\n\nSince placement is standalone since train, it time we removed\nnova_api_placement group from inventory and playbooks\n\nChange-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf\n'}]",0,746538,6d8337b327e8be582cef6270b21846b34fe21f0a,25,4,2,28619,,,0,"Remove nova_api_placement from inventory

Since placement is standalone since train, it time we removed
nova_api_placement group from inventory and playbooks

Change-Id: Ibfab5ce56b36b7b96f8e376aa7f228ad6643cabf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/746538/2 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/env.d/nova.yml', 'playbooks/os-nova-install.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/inventory.ini', 'tests/test_inventory.py', 'playbooks/common-playbooks/nova.yml']",6,f6e2ce148441c2687290b2845d390d0b74c9d6d2,osa/placement,," - ""nova_api_placement"" - ""nova_api_placement""",9,23
openstack%2Fnova~master~I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,openstack/nova,master,I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f,libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE,MERGED,2020-05-26 15:49:28.000000000,2020-08-20 05:02:28.000000000,2020-08-20 04:59:08.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-26 15:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f7b6329e7e13fb9069a6e29f0eac73ae833890e', 'message': 'libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE\n\nOur MIN_LIBVIRT_VERSION is now greater than this.\n\nChange-Id: I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-06-02 15:55:24.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/virt/libvirt/designer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d84446bdd8019e32a452f340f037a93388f2433b', 'message': 'libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE\n\nOur MIN_LIBVIRT_VERSION is now greater than this.\n\nChange-Id: I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,730865,d84446bdd8019e32a452f340f037a93388f2433b,43,16,2,15334,,,0,"libvirt: Remove MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE

Our MIN_LIBVIRT_VERSION is now greater than this.

Change-Id: I75a30bf9d7d7e7e33876539639d70c0cb3c1c37f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/730865/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_designer.py', 'nova/virt/libvirt/designer.py']",2,8f7b6329e7e13fb9069a6e29f0eac73ae833890e,trivial,"def set_vif_host_backend_ethernet_config(conf, tapname): conf.script = None","MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE = (1, 3, 3) def set_vif_host_backend_ethernet_config(conf, tapname, host): # NOTE(mriedem): Before libvirt 1.3.3, passing script=None results # in errors because /etc/qemu-ifup gets run which is blocked by # AppArmor. Passing script='' between libvirt 1.3.3 and 3.1 will also # result in errors. So we have to check the libvirt version and set # the script value accordingly. Libvirt 3.1 allows and properly handles # both None and '' as no-ops. if host.has_min_version(MIN_LIBVIRT_ETHERNET_SCRIPT_PATH_NONE): conf.script = None else: conf.script = ''",3,28
openstack%2Fneutron~stable%2Fussuri~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/ussuri,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:01:22.000000000,2020-08-20 05:02:10.000000000,2020-08-20 04:59:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 14:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/038f39e1e59981ed453c1e131d58e5eff6e8ffa5', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n'}, {'number': 2, 'created': '2020-08-06 18:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b615b24cd64f00362bba6f824857477449be35d6', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n'}, {'number': 3, 'created': '2020-08-06 18:23:00.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c678d89dabc0b39a266c7c0c7b99bd156b6fa5c9', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}]",0,744177,c678d89dabc0b39a266c7c0c7b99bd156b6fa5c9,26,7,3,11952,,,0,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/744177/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,038f39e1e59981ed453c1e131d58e5eff6e8ffa5,bug/1878299,"from neutron_lib.callbacks import registry @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') @mock.patch.object(registry, 'notify') self, mock_pf_get_object, mock_rpc_push, mock_registry_notify, mock_get_port, mock_pf_get_objects): pf_obj.internal_ip_address = ""10.0.0.1"" port_dict = {'id': 'ID', 'fixed_ips': [{""subnet_id"": ""test-subnet-id"", ""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict mock_pf_get_objects.return_value = [] @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update(self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict other_pf_obj = mock.Mock(id='cmp_obj_id') pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address='10.0.0.1') mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.pf_plugin._check_port_forwarding_update(self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_called_once_with(self.ctxt, floatingip_id=pf_obj.floatingip_id, protocol=pf_obj.protocol) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_address( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address=""99.99.99.99"") self.assertRaisesRegex( lib_exc.BadRequest, ""not correspond to an address on the internal port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_not_called() @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_external( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'floating_ip_address': 'same_fip_addr', 'external_port': 'same_ext_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two', internal_ip_address='10.0.0.1') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_fip_addr.*same_ext_port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, mock.ANY) mock_pf_get_objects.assert_called_once() @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_internal( self, mock_get_port, mock_pf_get_objects): same_internal_ip = ""10.0.0.10"" port_dict = {'fixed_ips': [{""ip_address"": same_internal_ip}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'internal_port_id': 'same_int_port_id', 'internal_ip_address': same_internal_ip, 'internal_port': 'same_int_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_int_port_id.*{}.*same_int_port"".format( same_internal_ip), self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'same_int_port_id') mock_pf_get_objects.assert_called_once() "," self, mock_pf_get_object, mock_rpc_push):",130,1
openstack%2Fnova~master~I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,openstack/nova,master,I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f,trivial: Remove unused attributes,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 05:01:13.000000000,2020-08-20 04:58:48.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-07-27 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28765910a9a9a038edd12c7f44e8fa51ce28c6bb', 'message': 'trivial: Remove unused attributes\n\nThese seem to be hangover from the very first days of the libvirt\ndriver.\n\nChange-Id: I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-07-31 12:12:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27336fb465a8cdab8e7ac82b30cce142080ae56f', 'message': 'trivial: Remove unused attributes\n\nThese seem to be hangover from the very first days of the libvirt\ndriver.\n\nChange-Id: I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,743284,27336fb465a8cdab8e7ac82b30cce142080ae56f,36,15,2,15334,,,0,"trivial: Remove unused attributes

These seem to be hangover from the very first days of the libvirt
driver.

Change-Id: I02f39d0f97e4cd3e30d477b46215fe1fa5f17f6f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/743284/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,28765910a9a9a038edd12c7f44e8fa51ce28c6bb,trivial," if ( CONF.libvirt.virt_type in ('kvm', 'qemu') and not vifs_already_plugged and power_on and timeout ):", if (drvr._conn_supports_start_paused and not vifs_already_plugged and power_on and timeout):,13,21
openstack%2Fneutron~stable%2Fussuri~I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,openstack/neutron,stable/ussuri,I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,ovn-migration-mtu: Support migrating MTU of GRE networks,MERGED,2020-08-18 13:34:55.000000000,2020-08-20 05:01:06.000000000,2020-08-20 04:58:41.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-18 13:34:55.000000000', 'files': ['neutron/cmd/ovn/migration_mtu.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3549e52467a6b7bb2160f44f7c6ed976e94232b1', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n(cherry picked from commit a418d55bc282990847626a2dcb09a8c97604582a)\n'}]",0,746721,3549e52467a6b7bb2160f44f7c6ed976e94232b1,16,6,1,11805,,,0,"ovn-migration-mtu: Support migrating MTU of GRE networks

Add support for adjusting MTU on GRE networks the same way the
tool already supports adjusting MTU on VXLAN networks.

Change-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76
Closes-Bug: #1887781
(cherry picked from commit a418d55bc282990847626a2dcb09a8c97604582a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/746721/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ovn/migration_mtu.py'],1,3549e52467a6b7bb2160f44f7c6ed976e94232b1,bug/1887781-stable/ussuri,"from neutron_lib import constants # Overhead size of Geneve is configurable, use the recommended value GENEVE_ENCAP_OVERHEAD = 38 # map of network types to migrate and the difference in overhead size when # converted to Geneve. NETWORK_TYPE_OVERHEAD_DIFF = { 'vxlan': GENEVE_ENCAP_OVERHEAD - constants.VXLAN_ENCAP_OVERHEAD, 'gre': GENEVE_ENCAP_OVERHEAD - constants.GRE_ENCAP_OVERHEAD, } network.provider_network_type in NETWORK_TYPE_OVERHEAD_DIFF) and ( network.provider_network_type in NETWORK_TYPE_OVERHEAD_DIFF) and ( mtu=int(network.mtu) - NETWORK_TYPE_OVERHEAD_DIFF[ network.provider_network_type])",# TODO(dalvarez): support also GRE GENEVE_TO_VXLAN_OVERHEAD = 8 network.provider_network_type == 'vxlan') and ( network.provider_network_type == 'vxlan') and ( mtu=int(network.mtu) - GENEVE_TO_VXLAN_OVERHEAD),15,5
openstack%2Fneutron~stable%2Ftrain~Id988cab87d32d5721cd91152df194fbb6fa703c5,openstack/neutron,stable/train,Id988cab87d32d5721cd91152df194fbb6fa703c5,String to byte conversion should provide the encoding type,MERGED,2020-07-31 16:28:18.000000000,2020-08-20 05:01:03.000000000,2020-08-20 04:59:26.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 16:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/894453dccf49636de70544c595b507cb3c2ebf65', 'message': 'String to byte conversion should provide the encoding type\n\nChange-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5\nCloses-Bug: #1887385\n(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)\n(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)\n'}, {'number': 2, 'created': '2020-08-06 10:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5549a4abd52dd54544585c3b21161931c5c8bef8', 'message': 'String to byte conversion should provide the encoding type\n\nChange-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5\nCloses-Bug: #1887385\n(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)\n(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)\n'}, {'number': 3, 'created': '2020-08-13 10:58:15.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0090884e15068a69f229044e37847ae13432c970', 'message': 'String to byte conversion should provide the encoding type\n\nNote:\nIn Train we still need to support Python 2.7 so this commit\nadds import of six and six is used to make correct convertion\nto bytes in both Python 2.7 and Python 3.\n\nChange-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5\nCloses-Bug: #1887385\n(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)\n(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)\n'}]",4,744218,0090884e15068a69f229044e37847ae13432c970,47,6,3,16688,,,0,"String to byte conversion should provide the encoding type

Note:
In Train we still need to support Python 2.7 so this commit
adds import of six and six is used to make correct convertion
to bytes in both Python 2.7 and Python 3.

Change-Id: Id988cab87d32d5721cd91152df194fbb6fa703c5
Closes-Bug: #1887385
(cherry picked from commit 7a56b8f3bc5187846ce9f62dd9347ab5ffefcb5c)
(cherry picked from commit 18f019984a71a0e09530c2e6ec29c010968de90e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/744218/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,894453dccf49636de70544c595b507cb3c2ebf65,bug/1887385," os.write(self.pipeout, bytes(str(self.port), 'utf-8'))"," os.write(self.pipeout, bytes(self.port))",1,1
openstack%2Fswift~master~If41e3d542b30747da7ca289708e9d24873c46e2e,openstack/swift,master,If41e3d542b30747da7ca289708e9d24873c46e2e,proxy-logging: Be able to configure log_route,MERGED,2020-06-11 19:39:01.000000000,2020-08-20 05:00:59.000000000,2020-08-20 04:59:23.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 19:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fe4bf1983aba0eef42ae12393c28249d46a3e248', 'message': 'proxy-logging: Be able to configure log_route\n\nThis lets you have separate loggers for the left and right proxy-logging\nmiddlewares, so you can have a config like\n\n    [pipeline:main]\n    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server\n\n    [proxy-logging-client]\n    use = egg:swift#proxy_logging\n    access_log_statsd_metric_prefix = client-facing\n\n    [proxy-logging-subrequest]\n    use = egg:swift#proxy_logging\n    access_log_route = subrequest\n    access_log_statsd_metric_prefix = client-facing\n\nto isolate subrequest metrics from client-facing metrics.\n\nChange-Id: If41e3d542b30747da7ca289708e9d24873c46e2e\n'}, {'number': 2, 'created': '2020-06-11 20:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/225c4cebbaecc2c4a4ed182a58ac69a1f3f60183', 'message': 'proxy-logging: Be able to configure log_route\n\nThis lets you have separate loggers for the left and right proxy-logging\nmiddlewares, so you can have a config like\n\n    [pipeline:main]\n    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server\n\n    [proxy-logging-client]\n    use = egg:swift#proxy_logging\n    access_log_statsd_metric_prefix = client-facing\n\n    [proxy-logging-subrequest]\n    use = egg:swift#proxy_logging\n    access_log_route = subrequest\n    access_log_statsd_metric_prefix = client-facing\n\nto isolate subrequest metrics from client-facing metrics.\n\nChange-Id: If41e3d542b30747da7ca289708e9d24873c46e2e\n'}, {'number': 3, 'created': '2020-06-11 20:30:53.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/2ffe598f4855665e7b8d386b3a592a560228a6b5', 'message': 'proxy-logging: Be able to configure log_route\n\nThis lets you have separate loggers for the left and right proxy-logging\nmiddlewares, so you can have a config like\n\n    [pipeline:main]\n    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server\n\n    [proxy-logging-client]\n    use = egg:swift#proxy_logging\n    access_log_statsd_metric_prefix = client-facing\n\n    [proxy-logging-subrequest]\n    use = egg:swift#proxy_logging\n    access_log_route = subrequest\n    access_log_statsd_metric_prefix = subrequest\n\nto isolate subrequest metrics from client-facing metrics.\n\nChange-Id: If41e3d542b30747da7ca289708e9d24873c46e2e\n'}]",2,735220,2ffe598f4855665e7b8d386b3a592a560228a6b5,15,3,3,15343,,,0,"proxy-logging: Be able to configure log_route

This lets you have separate loggers for the left and right proxy-logging
middlewares, so you can have a config like

    [pipeline:main]
    pipeline = ... proxy-logging-client ... proxy-logging-subrequest proxy-server

    [proxy-logging-client]
    use = egg:swift#proxy_logging
    access_log_statsd_metric_prefix = client-facing

    [proxy-logging-subrequest]
    use = egg:swift#proxy_logging
    access_log_route = subrequest
    access_log_statsd_metric_prefix = subrequest

to isolate subrequest metrics from client-facing metrics.

Change-Id: If41e3d542b30747da7ca289708e9d24873c46e2e
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/735220/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'etc/proxy-server.conf-sample']",2,fe4bf1983aba0eef42ae12393c28249d46a3e248,735220,# Log route for this filter. Useful if you want to have different configs for # the two proxy-logging filters. # access_log_route = proxy-server #,,6,2
openstack%2Ftempest~master~I9459db0dbeda721187ea5f4802c7453c2092dac3,openstack/tempest,master,I9459db0dbeda721187ea5f4802c7453c2092dac3,Improve unit tests for subunit_describe_calls,MERGED,2020-07-18 16:16:30.000000000,2020-08-20 05:00:57.000000000,2020-08-20 04:59:15.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 26365}, {'_account_id': 29875}, {'_account_id': 30690}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-07-18 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/845e53306964880168629b8d1c80f65961c2eef6', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 2, 'created': '2020-07-19 00:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd68681a08adea4465e59d361d76adc5582b5ff5', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 3, 'created': '2020-07-20 00:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/382d4f922b8ad55b9bf160ee5d93ec86254e1f4e', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nI am also getting ready to add test cases for cliff subprocess\nsupport for different options.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 4, 'created': '2020-07-20 02:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25647755c3696199b70ee11fb36809a8d999d67a', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 5, 'created': '2020-07-20 03:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e91e44065f2a9a33a01876c72a787134b1db6003', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 6, 'created': '2020-07-20 12:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/682e7caf7a4e93867576e5bd40478b7bd26605b5', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 7, 'created': '2020-07-25 12:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccbaba7383cd6febeb6911736bff75dbada5f43c', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 8, 'created': '2020-08-02 22:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/deb097105a46238ce0d8ee73f49ed3ffd10ef7f0', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 9, 'created': '2020-08-02 23:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50d16e4e9f36254327fdb38bb8b6e5e99bde15e1', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubenetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing too stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options.\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 10, 'created': '2020-08-03 00:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0373af30b8aa4f3adc66bd700234dab61cd8941', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 11, 'created': '2020-08-04 17:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7786b97282ab62b7d0bb6270b9c89814e493ebf7', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 12, 'created': '2020-08-11 18:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6225fdaeaae9a6c10b806ee4201cf1e7b9067111', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 13, 'created': '2020-08-12 03:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fdc342377211d62e632e71963a6dd6a37f7101a0', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 14, 'created': '2020-08-13 00:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d972ce76aa19d2a78928a24dde647c8bcab5898', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 15, 'created': '2020-08-13 03:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a25036c311c71f4efb9255267203effaa4e7802', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 16, 'created': '2020-08-14 00:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4951bb4e36c9ba3f1575d1d658666468216cb57', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 17, 'created': '2020-08-15 10:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b0a1a5a6bb8f9af68535c9201610f11e261597e', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 18, 'created': '2020-08-15 11:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3cdd863ce7125e98155a8c706ac3abcd048e4a9', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 19, 'created': '2020-08-15 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fce2cc3528c97ae271e6760d1182828d2e511c00', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026/1\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}, {'number': 20, 'created': '2020-08-18 22:25:49.000000000', 'files': ['releasenotes/notes/25/subunt-describe-call-verbose-arg-fix.yaml', 'tempest/cmd/subunit_describe_calls.py', 'tempest/tests/cmd/test_subunit_describe_calls.py', 'tempest/tests/cmd/subunit_describe_calls_data/calls_subunit_expected.json', 'tempest/tests/cmd/subunit_describe_calls_data/calls.subunit'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6aa733e0f348bc9c3362d0a5c5b881cc77472968', 'message': 'Improve unit tests for subunit_describe_calls\n\nin order to enhance the cmd to support kubernetes url based\nrouting over port based routing.  Once this is merged I will\nsubmit another patch set to subunit_describe_calls to support\n-u --urls (Optional) The path to a JSON file describing the urls\n  being used by different services. Note Can not be used with -p.\n\nAdded test cases for cliff subprocess and found a bug with the\n-v. The standard -v --verbose of cliff conflict with this command\n so I changed the -v --verbose to -a --all for print header\nwith printing to stdout I am also getting ready to add test cases\nfor cliff subprocess support for different options. Bug #1890060\n\nCorrect os join in test cases to avoid a conflict with\nhttps://review.opendev.org/#/c/683026\n\nCloses-bug: #1890060\nChange-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3\n'}]",16,741810,6aa733e0f348bc9c3362d0a5c5b881cc77472968,83,16,20,17887,,,0,"Improve unit tests for subunit_describe_calls

in order to enhance the cmd to support kubernetes url based
routing over port based routing.  Once this is merged I will
submit another patch set to subunit_describe_calls to support
-u --urls (Optional) The path to a JSON file describing the urls
  being used by different services. Note Can not be used with -p.

Added test cases for cliff subprocess and found a bug with the
-v. The standard -v --verbose of cliff conflict with this command
 so I changed the -v --verbose to -a --all for print header
with printing to stdout I am also getting ready to add test cases
for cliff subprocess support for different options. Bug #1890060

Correct os join in test cases to avoid a conflict with
https://review.opendev.org/#/c/683026

Closes-bug: #1890060
Change-Id: I9459db0dbeda721187ea5f4802c7453c2092dac3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/741810/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/cmd/test_subunit_describe_calls.py'],1,845e53306964880168629b8d1c80f65961c2eef6,bug/1890060,"import argparseimport shutilimport sysfrom mock import Mock class TestUrlParser(base.TestCase): services_custom_ports = { ""18776"": ""Block Storage"", ""18774"": ""Nova"", ""18773"": ""Nova-API"", ""18386"": ""Sahara"", ""35358"": ""Keystone"", ""19292"": ""Glance"", ""19696"": ""Neutron"", ""16000"": ""Swift"", ""18004"": ""Heat"", ""18777"": ""Ceilometer"", ""10080"": ""Horizon"", ""18080"": ""Swift"", ""1873"": ""rsync"", ""13260"": ""iSCSI"", ""13306"": ""MySQL"", ""15672"": ""AMQP"", ""18082"": ""murano""} def setUp(self): super(TestUrlParser, self).setUp() self.test_object = subunit_describe_calls.UrlParser() def test_get_service_default_ports(self): base_url = ""http://site.something.com:"" for port in self.test_object.services: url = base_url + port + ""/v2/action"" service = self.test_object.services[port] self.assertEqual(service, self.test_object.get_service(url)) def test_get_service_custom_ports(self): self.test_object = subunit_describe_calls.\ UrlParser(services=self.services_custom_ports) base_url = ""http://site.something.com:"" for port in self.services_custom_ports: url = base_url + port + ""/v2/action"" service = self.services_custom_ports[port] self.assertEqual(service, self.test_object.get_service(url)) def test_url_path_ports(self): uuid_sample1 = ""3715e0bb-b1b3-4291-aa13-2c86c3b9ec93"" uuid_sample2 = ""2715e0bb-b1b4-4291-aa13-2c86c3b9ec88"" # test http url host = ""http://host.company.com"" url = host + "":8776/v3/"" + uuid_sample1 + ""/types/"" + \ uuid_sample2 + ""/extra_specs"" self.assertEqual(""v3/<uuid>/types/<uuid>/extra_specs"", self.test_object.url_path(url)) url = host + "":8774/v2.1/servers/"" + uuid_sample1 self.assertEqual(""v2.1/servers/<uuid>"", self.test_object.url_path(url)) # test https url host = ""https://host.company.com"" url = host + "":8776/v3/"" + uuid_sample1 + ""/types/"" + \ uuid_sample2 + ""/extra_specs"" self.assertEqual(""v3/<uuid>/types/<uuid>/extra_specs"", self.test_object.url_path(url)) url = host + "":8774/v2.1/servers/"" + uuid_sample1 self.assertEqual(""v2.1/servers/<uuid>"", self.test_object.url_path(url)) def test_get_description(self): test_object = subunit_describe_calls.TempestSubunitDescribeCalls( app=Mock(), app_args=Mock(spec=argparse.Namespace)) self.assertEqual(subunit_describe_calls.DESCRIPTION, test_object.get_description()) def test_get_parser_default_min(self): test_object = subunit_describe_calls.TempestSubunitDescribeCalls( app=Mock(), app_args=Mock(spec=argparse.Namespace)) parser = test_object.get_parser('NAME') parsed_args = parser.parse_args([]) self.assertIsNone(parsed_args.output_file) self.assertIsNone(parsed_args.ports) self.assertFalse(parsed_args.verbose) self.assertEqual(parsed_args.subunit, sys.stdin) def test_get_parser_default_max(self): # tmp_dir = self._get_tmp_directory() # input_conf_file = self._create_input_file(tmp_dir) # output_conf_file = self._create_output_file(tmp_dir) temp_dir = tempfile.mkdtemp(prefix=""parser"") self.addCleanup(shutil.rmtree, temp_dir, ignore_errors=True) outfile_name = os.path.join(temp_dir, 'output.json') open(outfile_name, 'a').close() portfile_name = os.path.join(temp_dir, 'ports.json') open(portfile_name, 'a').close() test_object = subunit_describe_calls.TempestSubunitDescribeCalls( app=Mock(), app_args=Mock(spec=argparse.Namespace)) parser = test_object.get_parser('NAME') parsed_args = parser.parse_args([""-v"", ""-o "" + outfile_name, ""-p "" + portfile_name]) self.assertIsNotNone(parsed_args.output_file) self.assertIsNotNone(parsed_args.ports) self.assertTrue(parsed_args.verbose) self.assertEqual(parsed_args.subunit, sys.stdin)",,109,0
openstack%2Fnova~master~I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,openstack/nova,master,I795f96ab02c6aa0ebbbe211af37707d91dcc9e93,Remove warning filters for legacy Python version,MERGED,2020-07-27 17:04:32.000000000,2020-08-20 04:58:59.000000000,2020-08-20 04:58:59.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-27 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/911dc41ab7d4791b1b312ad17b75d59c543e29d4', 'message': ""Remove warning filters for legacy Python version\n\nThe nested context warning was raised from contextlib.nested, which is a\nPython 2.7-only construct, while the 'pkg_resources' issues are not\npresent in Python 3.6 and later.\n\nChange-Id: I795f96ab02c6aa0ebbbe211af37707d91dcc9e93\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-31 12:12:18.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77d3f5bacf1cf203c931756b92f241e0a76d1287', 'message': ""Remove warning filters for legacy Python version\n\nThe nested context warning was raised from contextlib.nested, which is a\nPython 2.7-only construct, while the 'pkg_resources' issues are not\npresent in Python 3.6 and later.\n\nChange-Id: I795f96ab02c6aa0ebbbe211af37707d91dcc9e93\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,743285,77d3f5bacf1cf203c931756b92f241e0a76d1287,21,10,2,15334,,,0,"Remove warning filters for legacy Python version

The nested context warning was raised from contextlib.nested, which is a
Python 2.7-only construct, while the 'pkg_resources' issues are not
present in Python 3.6 and later.

Change-Id: I795f96ab02c6aa0ebbbe211af37707d91dcc9e93
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/743285/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,911dc41ab7d4791b1b312ad17b75d59c543e29d4,trivial,," warnings.filterwarnings('ignore', message='With-statements now directly support' ' multiple context managers') # NOTE(sdague): nova does not use pkg_resources directly, this # is all very long standing deprecations about other tools # using it. None of this is useful to Nova development. warnings.filterwarnings('ignore', module='pkg_resources')",2,8
openstack%2Fpuppet-heat~stable%2Fussuri~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,stable/ussuri,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-19 16:10:08.000000000,2020-08-20 04:08:28.000000000,2020-08-20 04:08:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 16:10:08.000000000', 'files': ['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/8b91724b4004d8e975ee0acbcdedf957ceb0421b', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Heat CFN service.\n\nChange-Id: If689eb5e896dba443358ac83cd7f566aacc276f1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)\n""}]",0,746975,8b91724b4004d8e975ee0acbcdedf957ceb0421b,7,3,1,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 0e85f1c7b0d7c8819aedeb83da10eea4633d2e25)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/75/746975/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb']",2,8b91724b4004d8e975ee0acbcdedf957ceb0421b,," :access_log_format => false, :vhost_custom_fragment => 'RequestHeader set Content-Type ""application/json""',)"," :access_log_format => false,)",10,3
openstack%2Fopenstack-helm-infra~master~I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,openstack/openstack-helm-infra,master,I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb,[DNM] Test Cinder Depends on : https://review.opendev.org/#/c/745468/,ABANDONED,2020-05-01 02:47:05.000000000,2020-08-20 02:59:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-05-01 02:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ce21079724c439056a127801a0c6829f00a07fc', 'message': '[DNM] Test Ingress\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-05-01 18:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5144c9b7b6f92d5643cd9569ef5f4773faeb1e18', 'message': '[DNM] Test Ingress\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-06-04 00:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5223d283165d918f1e60c5873a30f1d8be3789ed', 'message': '[DNM] Test Ingress\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-06-04 14:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/433941038479aceb00338f94ef46104d8e712f27', 'message': '[DNM] Test Ingress\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-06-04 14:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0089f258b4848849a475383bc6a43e392a0dc4d', 'message': '[DNM] Test Cinder\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-06-04 14:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/827e0ee0e2fccbf5817faf46547798f456f598c7', 'message': '[DNM] Test Cinder\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-06-04 19:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7825c00a9b9135bc067e77ec7b63798a01f5ef1b', 'message': '[DNM] Test Cinder\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-08-10 21:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82c0e2b50065e9a471131d43ba75a291305f90b8', 'message': '[DNM] Test Cinder\nDepends on https://review.opendev.org/#/c/724747/4\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 9, 'created': '2020-08-10 21:52:30.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62daa1b108e5f646f0c07da82d4bf120262af0da', 'message': '[DNM] Test Cinder\nDepends on : https://review.opendev.org/#/c/745468/\n\nChange-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,724790,62daa1b108e5f646f0c07da82d4bf120262af0da,34,2,9,29131,,,0,"[DNM] Test Cinder
Depends on : https://review.opendev.org/#/c/745468/

Change-Id: I40ffc79bdbaf14ced398f4dc00e25a0ec85ad8fb
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/724790/8 && git format-patch -1 --stdout FETCH_HEAD,[],0,1ce21079724c439056a127801a0c6829f00a07fc,test_cinder,,,0,0
openstack%2Fpython-tripleoclient~master~I70bbc40f8e5eb709d9f0f608e936a818e082918b,openstack/python-tripleoclient,master,I70bbc40f8e5eb709d9f0f608e936a818e082918b,overcloud_deploy: move horizon url/rc files before config-download,MERGED,2020-07-28 14:36:41.000000000,2020-08-20 02:26:33.000000000,2020-08-20 02:22:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 14:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f118c9d0e0243434fb5b855bb68f0a34d061956a', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n""}, {'number': 2, 'created': '2020-07-30 15:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/11a3e99f818473420d735b905637da273d4a2347', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n""}, {'number': 3, 'created': '2020-08-10 14:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c51e6dfdfa5f2efbacc434c199bfcde846ffbf65', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n""}, {'number': 4, 'created': '2020-08-17 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/74622448267a60b5c53d49db8588e0257d167d4a', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n""}, {'number': 5, 'created': '2020-08-17 18:21:18.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9dec1b2e334e110b03f951c9fd3480f6c3dc8e11', 'message': ""overcloud_deploy: move horizon url/rc files before config-download\n\nWhen a deployment fails, we run the playbooks to generate horizon URL &\nRC files anyway. However it is confusing to have them at the end, after\nthe actual trace and an operator with a small screen won't see the\nactual errors easily.\n\nLet's just move these actions before the config download execution,\nwhich has no impact anyway; but will improve logging a lot.\n\nChange-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b\nRelated-Bug: #1889212\n""}]",0,743556,9dec1b2e334e110b03f951c9fd3480f6c3dc8e11,40,5,5,3153,,,0,"overcloud_deploy: move horizon url/rc files before config-download

When a deployment fails, we run the playbooks to generate horizon URL &
RC files anyway. However it is confusing to have them at the end, after
the actual trace and an operator with a small screen won't see the
actual errors easily.

Let's just move these actions before the config download execution,
which has no impact anyway; but will improve logging a lot.

Change-Id: I70bbc40f8e5eb709d9f0f608e936a818e082918b
Related-Bug: #1889212
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/743556/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,f118c9d0e0243434fb5b855bb68f0a34d061956a,state/undercloud," # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure # endpoints are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name) "," # Force fetching of attributes stack.get() rcpath = deployment.create_overcloudrc( container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure # endpoints are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name) ",24,24
openstack%2Ftripleo-validations~stable%2Ftrain~I07fd17501ea66d229549fcf4031ae4126b055906,openstack/tripleo-validations,stable/train,I07fd17501ea66d229549fcf4031ae4126b055906,"Updated ""overcloud"" to ""allovercloud"" group",MERGED,2020-08-12 06:04:11.000000000,2020-08-20 02:23:50.000000000,2020-08-20 02:22:12.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-12 06:04:11.000000000', 'files': ['roles/openstack_endpoints/tasks/main.yml', 'playbooks/ntp.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/container-status.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/no-op.yaml', 'playbooks/repos.yaml', 'doc/source/readme.rst', 'playbooks/service-status.yaml', 'playbooks/check-ftype.yaml', 'roles/openshift_on_openstack/tasks/openshift-nw-requirements.yaml', 'playbooks/healthcheck-service-status.yaml', 'roles/node_health/tasks/main.yml', 'playbooks/dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/015dab217e946355f7a249f174c67a85a6b679d8', 'message': 'Updated ""overcloud"" to ""allovercloud"" group\n\nApparently this is the new term to access all the overcloud nodes.\n\nCloses-Bug: #1891267\nChange-Id: I07fd17501ea66d229549fcf4031ae4126b055906\n(cherry picked from commit 1a4991daf38d61e453ae4d948e7e639f52986943)\n'}]",0,745788,015dab217e946355f7a249f174c67a85a6b679d8,13,6,1,28223,,,0,"Updated ""overcloud"" to ""allovercloud"" group

Apparently this is the new term to access all the overcloud nodes.

Closes-Bug: #1891267
Change-Id: I07fd17501ea66d229549fcf4031ae4126b055906
(cherry picked from commit 1a4991daf38d61e453ae4d948e7e639f52986943)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/745788/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/openstack_endpoints/tasks/main.yml', 'playbooks/ntp.yaml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/container-status.yaml', 'playbooks/ceph-dependencies-installed.yaml', 'playbooks/no-op.yaml', 'playbooks/repos.yaml', 'doc/source/readme.rst', 'playbooks/service-status.yaml', 'playbooks/check-ftype.yaml', 'roles/openshift_on_openstack/tasks/openshift-nw-requirements.yaml', 'playbooks/healthcheck-service-status.yaml', 'roles/node_health/tasks/main.yml', 'playbooks/dns.yaml']",14,015dab217e946355f7a249f174c67a85a6b679d8,,"- hosts: undercloud, allovercloud","- hosts: undercloud, overcloud",18,18
openstack%2Ftripleo-common~stable%2Fussuri~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,stable/ussuri,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-17 15:00:34.000000000,2020-08-20 02:23:35.000000000,2020-08-20 02:22:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 15:00:34.000000000', 'files': ['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70b1ca4b1cee3813ee49cd71d8e16b9337ad11fd', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nRelated-Bug: #1890798\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)\n""}]",0,746533,70b1ca4b1cee3813ee49cd71d8e16b9337ad11fd,33,7,1,3153,,,0,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
(cherry picked from commit fb0ec2ffd0a99d441c361bb83472e48ead18d013)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/746533/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml']",30,70b1ca4b1cee3813ee49cd71d8e16b9337ad11fd,ussuri/uidgid,- run: bash /usr/local/bin/uid_gid_manage {{ tcib_user }},- run: usermod -a -G kolla {{ tcib_user }},158,30
openstack%2Ftripleo-ci~master~I864ed5605b82a0c857bc71bb743320bb5216b391,openstack/tripleo-ci,master,I864ed5605b82a0c857bc71bb743320bb5216b391,collect-logs: add ~/.tripleo dir collection,MERGED,2020-08-17 19:47:50.000000000,2020-08-20 02:22:13.000000000,2020-08-20 02:22:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-17 19:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/52705fc613925d49e4040708d6611730ef8c6ec0', 'message': 'collect-logs: add ~/.tripleo dir collection\n\nThis directory will have more files in there when we switch the tripleo\ndeploy command (standalone) to work without root. In advance we want to\nstart collecting the directory for further potential debug in TripleO\nCI.\n\nChange-Id: I864ed5605b82a0c857bc71bb743320bb5216b391\n'}, {'number': 2, 'created': '2020-08-19 05:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebc43f0421630d27fb19e1661540093f6d37f1f5', 'message': 'collect-logs: add ~/.tripleo dir collection\n\nThis directory will have more files in there when we switch the tripleo\ndeploy command (standalone) to work without root. In advance we want to\nstart collecting the directory for further potential debug in TripleO\nCI.\n\nDepends-On: https://review.opendev.org/#/c/746772/\nChange-Id: I864ed5605b82a0c857bc71bb743320bb5216b391\n'}, {'number': 3, 'created': '2020-08-19 05:35:06.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/04d2dfa539db681946aaa5a52d7197cd57f6cdaf', 'message': 'collect-logs: add ~/.tripleo dir collection\n\nThis directory will have more files in there when we switch the tripleo\ndeploy command (standalone) to work without root. In advance we want to\nstart collecting the directory for further potential debug in TripleO\nCI.\n\nChange-Id: I864ed5605b82a0c857bc71bb743320bb5216b391\n'}]",0,746592,04d2dfa539db681946aaa5a52d7197cd57f6cdaf,30,7,3,3153,,,0,"collect-logs: add ~/.tripleo dir collection

This directory will have more files in there when we switch the tripleo
deploy command (standalone) to work without root. In advance we want to
start collecting the directory for further potential debug in TripleO
CI.

Change-Id: I864ed5605b82a0c857bc71bb743320bb5216b391
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/746592/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,52705fc613925d49e4040708d6611730ef8c6ec0,tripleo, - /home/{{ undercloud_user }}/.tripleo/,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/train,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:48:11.000000000,2020-08-20 02:22:11.000000000,2020-08-20 02:22:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 19:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38ec5305f06e89c439a4a87b60141ea2f399db96', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 2, 'created': '2020-08-19 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e2699b002fcaf3239b7684d8f4e6ce6e13a17e9', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 3, 'created': '2020-08-19 15:57:47.000000000', 'files': ['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3dd00efb879b5e4a6dc72b97699cf44c5bb85928', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)\n""}]",0,741534,3dd00efb879b5e4a6dc72b97699cf44c5bb85928,16,7,3,7973,,,0,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/741534/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml']",2,38ec5305f06e89c439a4a87b60141ea2f399db96,," LunasaClientIPNetwork: description: > (Optional) When set Barbican nodes will be registered with the HSMs using the IP from this network instead of the FQDN. type: string default: '' # Luna Clients use FQDN by default. When LunasaClientIPNetwork is set we # will use the Controller's IP address from that network instead. lunasa_hsm_use_fqdn: {equals: [{get_param: LunasaClientIPNetwork}, '']} if: - lunasa_hsm_use_fqdn - map_merge: - {get_param: LunasaVars} - lunasa_client_pin: {get_param: BarbicanPkcs11CryptoLogin} - map_merge: - {get_param: LunasaVars} - lunasa_client_pin: {get_param: BarbicanPkcs11CryptoLogin} - lunasa_client_ip: str_replace: template: ""{{$NETWORK_ip}}"" params: $NETWORK: {get_param: LunasaClientIPNetwork} when: lunasa_ha_slot is defined", {get_param: LunasaVars} when: lunasa_ha_slot,43,13
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,stable/ussuri,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-07-16 19:36:39.000000000,2020-08-20 02:22:09.000000000,2020-08-20 02:22:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 19:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0240541e6b4bbb044202890d8d79619daf2dae7a', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 2, 'created': '2020-08-04 15:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c7f6fa8d80ec1cb6528826594d01adf99169925', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 3, 'created': '2020-08-19 15:22:45.000000000', 'files': ['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dcd5eb871e08d124c234c976e3f9970caaf46ec', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)\n""}]",0,741530,7dcd5eb871e08d124c234c976e3f9970caaf46ec,17,6,3,7973,,,0,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
(cherry picked from commit ead85251e95ce69ef64237905ace970fe406a06a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/741530/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml']",2,0240541e6b4bbb044202890d8d79619daf2dae7a,add_barbican_lunasa-stable/ussuri," LunasaClientIPNetwork: description: > (Optional) When set Barbican nodes will be registered with the HSMs using the IP from this network instead of the FQDN. type: string default: '' # Luna Clients use FQDN by default. When LunasaClientIPNetwork is set we # will use the Controller's IP address from that network instead. lunasa_hsm_use_fqdn: {equals: [{get_param: LunasaClientIPNetwork}, '']} if: - lunasa_hsm_use_fqdn - map_merge: - {get_param: LunasaVars} - lunasa_client_pin: {get_param: BarbicanPkcs11CryptoLogin} - map_merge: - {get_param: LunasaVars} - lunasa_client_pin: {get_param: BarbicanPkcs11CryptoLogin} - lunasa_client_ip: str_replace: template: ""{{$NETWORK_ip}}"" params: $NETWORK: {get_param: LunasaClientIPNetwork} when: lunasa_ha_slot is defined", {get_param: LunasaVars} when: lunasa_ha_slot,43,13
openstack%2Fpuppet-tripleo~stable%2Ftrain~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,stable/train,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-08-18 08:09:41.000000000,2020-08-20 02:22:07.000000000,2020-08-20 02:22:07.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 08:09:41.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f28b6907c799731549ece3011e5e2920201b457d', 'message': 'Make sure python3-novaclient is installed before creating fence_compute\n\nThis has been observed during an IHA FFU process. Namely\nafter the OS upgrade by LEAPP the fence_compute resource will\nfail starting because python3-novaclient is not installed.\nNormally this is taken care of by rpm dependencies, but\nfence_compute is buggy and does not explicitely have that\ndep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)\n\nSo we need to make sure the package is installed before\ncreating the resource.\n\nTested this on four consecutive successful IHA FFU runs\nand it worked okay.\n\nNB: Cherry-pick not 100% due to relative class names\n\nRelated-Bug: #1888398\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)\n(cherry picked from commit c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0)\n'}]",0,746654,f28b6907c799731549ece3011e5e2920201b457d,17,5,1,20172,,,0,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

NB: Cherry-pick not 100% due to relative class names

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
(cherry picked from commit c1e9447998c635a825529cff99b99ed13a4e89d7)
(cherry picked from commit c3e86ea6dc0b2f57af12a088c2086e6fc70a95b0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/746654/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,f28b6907c799731549ece3011e5e2920201b457d,bug/1888398-stable/train2," if $enable_instanceha { if $pacemaker_master { include ::tripleo::profile::base::pacemaker::instance_ha } # Until https://bugzilla.redhat.com/show_bug.cgi?id=1857247 is fixed we # need to make sure the package is installed on the host. ensure_resource('package', 'python3-novaclient', { ensure => 'installed' }) Package<| name == 'python3-novaclient' |> -> Pcmk_stonith<| title == 'fence-nova' |>", if $enable_instanceha and $pacemaker_master { include ::tripleo::profile::base::pacemaker::instance_ha,8,2
openstack%2Fneutron~stable%2Frocky~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/rocky,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:33:42.000000000,2020-08-20 02:03:50.000000000,2020-08-20 02:03:50.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-19 08:33:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d54a0da091d847c376c1b94fb386e576f9259426', 'message': '[Stable only] Drop *-master jobs\n\nThese jobs are used to test neutron against current master branches of\nexternal projects (ryu).\n\nStable branches are not expected to run with this setup so we can drop\nthe jobs there (especially as some of these jobs are periodic ones).\n\nConflicts:\n\t.zuul.yaml\n\nThis is adapted to the older single .zuul.yaml file layout\n\nChange-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8\n(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)\n(cherry picked from commit da0bad4acc7c293fc8b74d5fff29ec1cccd41814)\n'}]",0,746858,d54a0da091d847c376c1b94fb386e576f9259426,10,4,1,21798,,,0,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (ryu).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
(cherry picked from commit da0bad4acc7c293fc8b74d5fff29ec1cccd41814)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/746858/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d54a0da091d847c376c1b94fb386e576f9259426,drop-master-jobs,, - neutron-tempest-with-ryu-master - legacy-tempest-dsvm-neutron-with-ryu-master: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ name: neutron-tempest-with-ryu-master parent: legacy-dsvm-base run: playbooks/legacy/neutron-tempest-with-ryu-master/run.yaml post-run: playbooks/legacy/neutron-tempest-with-ryu-master/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest - job:,0,23
openstack%2Fmasakari-monitors~master~I231d34b2b45db426e4bb76026eb9fc441d706ed5,openstack/masakari-monitors,master,I231d34b2b45db426e4bb76026eb9fc441d706ed5,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-02 00:11:35.000000000,2020-08-20 01:59:06.000000000,2020-08-20 01:57:22.000000000,"[{'_account_id': 8556}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 30491}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-02 00:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2093d88dd552c7bb26da2cdcb2e6ff22b586bf41', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40195\n\nChange-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5\n'}, {'number': 2, 'created': '2020-08-04 07:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/0d7fabcf9dcccdebaec27547e347041e2c608400', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40195\n\nChange-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5\n'}, {'number': 3, 'created': '2020-08-04 07:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/cf03b90f1021767385a28a94d0a364c94583e43d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40195\n\nChange-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5\n'}, {'number': 4, 'created': '2020-08-04 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/109f9ee4e8df09b6363b967d99d149551604c1b2', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nremoving the python-libvirt from bindep as that is py2 things and not\navailable/needed for Focal/Victoria testing.\n\nStory: #2007865\nTask: #40195\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\n\nChange-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5\n'}, {'number': 5, 'created': '2020-08-04 16:25:48.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/03ef3555888fdd0ea38b4edfdc093382071f1031', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nremoving the python-libvirt from bindep as that is py2 things and not\navailable/needed for Focal/Victoria testing.\n\nStory: #2007865\nTask: #40195\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\n\nChange-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,744342,03ef3555888fdd0ea38b4edfdc093382071f1031,24,8,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

removing the python-libvirt from bindep as that is py2 things and not
available/needed for Focal/Victoria testing.

Story: #2007865
Task: #40195

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal


Change-Id: I231d34b2b45db426e4bb76026eb9fc441d706ed5
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/42/744342/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2093d88dd552c7bb26da2cdcb2e6ff22b586bf41,migrate-to-focal,#test focal,,1,0
openstack%2Fnetworking-bagpipe~stable%2Fussuri~I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,openstack/networking-bagpipe,stable/ussuri,I5ea4bb27361df3c489deedb51d7ca8ea64bb923b,Monkey patch original current_thread _active,MERGED,2020-05-07 09:42:35.000000000,2020-08-20 01:55:54.000000000,2020-08-20 01:54:25.000000000,"[{'_account_id': 8313}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-07 09:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7b98c0f2312f1afadf5fd94ae387baf530b4a402', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b\nCloses-Bug: #1863021\n(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)\n'}, {'number': 2, 'created': '2020-08-19 22:50:20.000000000', 'files': ['networking_bagpipe/agent/bagpipe_ml2/agent_extension.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0e866eed9f6c3e545a2fd6c0b680a718996661a5', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b\nCloses-Bug: #1863021\n(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)\n'}]",0,726073,0e866eed9f6c3e545a2fd6c0b680a718996661a5,16,5,2,21798,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5ea4bb27361df3c489deedb51d7ca8ea64bb923b
Closes-Bug: #1863021
(cherry picked from commit f0db421843f1161f4daa1e08b83eb2b11e78d9dd)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/73/726073/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/agent/bagpipe_ml2/agent_extension.py'],1,7b98c0f2312f1afadf5fd94ae387baf530b4a402,bug/1863021-stable/ussuri,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading # pylint: disable=E0401 import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,6,0
openstack%2Fneutron~stable%2Ftrain~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/train,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-08-19 08:26:11.000000000,2020-08-20 01:28:42.000000000,2020-08-20 01:25:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-19 08:26:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da0bad4acc7c293fc8b74d5fff29ec1cccd41814', 'message': '[Stable only] Drop *-master jobs\n\nThese jobs are used to test neutron against current master branches of\nexternal projects (os-ken).\n\nStable branches are not expected to run with this setup so we can drop\nthe jobs there (especially as some of these jobs are periodic ones).\n\nConflicts:\n\t.zuul.yaml\n\nThis is adapted to the older single .zuul.yaml file layout\n\nChange-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8\n(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)\n'}]",0,746855,da0bad4acc7c293fc8b74d5fff29ec1cccd41814,10,4,1,21798,,,0,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Conflicts:
	.zuul.yaml

This is adapted to the older single .zuul.yaml file layout

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
(cherry picked from commit 21719a875d63adc9a823de7feacb119e5887f5af)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/746855/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,da0bad4acc7c293fc8b74d5fff29ec1cccd41814,drop-master-jobs,, - neutron-tempest-with-os-ken-master name: neutron-tempest-with-os-ken-master parent: legacy-dsvm-base run: playbooks/legacy/neutron-tempest-with-os-ken-master/run.yaml post-run: playbooks/legacy/neutron-tempest-with-os-ken-master/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/tempest - job:,0,12
openstack%2Ftripleo-ansible~stable%2Ftrain~I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,openstack/tripleo-ansible,stable/train,I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf,Switch podman actions to use label,MERGED,2020-08-11 14:10:11.000000000,2020-08-20 01:26:48.000000000,2020-08-20 01:26:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-11 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bfe9af8f660b82186fcb614658ed4bb4b1482ef', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 2, 'created': '2020-08-13 01:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec99839d31da79fc7d7437d34cc024b13c3318fe', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 3, 'created': '2020-08-17 13:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc5129d33d61ecf7361afba037ec73648df02384', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 4, 'created': '2020-08-18 12:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7f27857f9892b1ece363a8044d1446c533f7493', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 5, 'created': '2020-08-18 13:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9cecde516ccc4a4ab983bb543253d15f32e74dc9', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 6, 'created': '2020-08-18 15:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b668c5acf020499408672bd7e3dfe25236f40b36', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}, {'number': 7, 'created': '2020-08-19 21:19:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86c95804599c920fa7fe0e18103cf386b50d729d', 'message': ""Switch podman actions to use label\n\nWe don't have to use no_log if we use label to prevent all the info from\nbeing outputed during execution.\n\nChange-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf\n(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)\n""}]",0,745681,86c95804599c920fa7fe0e18103cf386b50d729d,33,6,7,3153,,,0,"Switch podman actions to use label

We don't have to use no_log if we use label to prevent all the info from
being outputed during execution.

Change-Id: I084c7e933a024b76f4d6fa6ac000c58b6b3c7acf
(cherry picked from commit 5c880c0f61ed297d1fc91c5d2a3c5121fa212377)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/745681/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,9bfe9af8f660b82186fcb614658ed4bb4b1482ef,train/label2," label: ""{{ lookup('dict', container_exec_data).key }}"" label: ""{{ lookup('dict', exec_async_result_item.container_exec_data).key }}"""," no_log: ""{{ not tripleo_container_manage_debug }}"" no_log: ""{{ not tripleo_container_manage_debug }}""",4,4
openstack%2Fneutron~master~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,master,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-06 08:22:44.000000000,2020-08-20 01:11:27.000000000,2020-08-14 13:52:32.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29157}]","[{'number': 1, 'created': '2020-08-06 08:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59f35a2c857e257c16b4a5a047180d545583613b', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}, {'number': 2, 'created': '2020-08-06 09:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/602988367f7f144e929412fbce38fa67222d0993', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}, {'number': 3, 'created': '2020-08-10 06:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64371f8d030d83e28c5cd1a1bc8cfd5b064e81fc', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}, {'number': 4, 'created': '2020-08-10 07:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f213c3c317c74b1dd9d4d3a34be71631ee61ded', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}, {'number': 5, 'created': '2020-08-10 11:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc7425ee6008c88993ad271d89c355ce285e6a3b', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}, {'number': 6, 'created': '2020-08-10 15:42:37.000000000', 'files': ['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc54a1c38e0b537883de43fecda781034c80daf3', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n'}]",9,745089,cc54a1c38e0b537883de43fecda781034c80daf3,66,14,6,29157,,,0,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/745089/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,59f35a2c857e257c16b4a5a047180d545583613b,bug/1890539, if (context.is_admin not tenant_id or g.tenant_id == tenant_id or sg_obj.SecurityGroup.is_shared_with_tenant(, if (not tenant_id or g.tenant_id == tenant_id or sg_obj.SecurityGroup.is_shared_with_tenant(,2,2
openstack%2Frequirements~stable%2Fussuri~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,stable/ussuri,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-08-19 18:31:41.000000000,2020-08-20 00:48:29.000000000,2020-08-20 00:48:29.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 18:31:41.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f047fe28b6eb5d5e4c982f41180b49e9948b5bf2', 'message': 'Add ansible to blacklist\n\nSome projects, such as kolla-ansible, have a dependency on ansible. At\npresent it is not possible to add this to your requirements as it does\nnot appear in the global requirements file. However, it is useful to\nhave ansible as dependency to allow testing of plugins.\n\nThere is not a strong dependence on the openstack libraries, so it makes\nsense to include this in the blacklist and not in global requirements,\nso that the individual projects can specify the version required.\n\nThe reason for Ussuri backport: Kolla cut off the Ussuri branch\nalready in Victoria cycle, with this in place, and now it fails\non req-checks jobs in Ussuri.\n\nChange-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354\n(cherry picked from commit dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c)\n'}]",0,747012,f047fe28b6eb5d5e4c982f41180b49e9948b5bf2,10,6,1,30491,,,0,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
(cherry picked from commit dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/747012/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,f047fe28b6eb5d5e4c982f41180b49e9948b5bf2,, # Projects are free to specify their own version of ansible ansible,,3,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,stable/ussuri,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-19 18:26:24.000000000,2020-08-20 00:32:18.000000000,2020-08-20 00:30:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-19 18:26:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/prepare.yml', 'doc/source/modules/modules-tripleo-container-configs.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7601805f0cfc962c67b9acfe79aa88a58bd257f', 'message': 'tripleo_container_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)\n'}]",0,747008,b7601805f0cfc962c67b9acfe79aa88a58bd257f,8,3,1,3153,,,0,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
(cherry picked from commit bfc2681ad539e55087c1f4a15e638c34c31dc7e1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/747008/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/prepare.yml', 'doc/source/modules/modules-tripleo-container-configs.rst']",5,b7601805f0cfc962c67b9acfe79aa88a58bd257f,config/json-stable/ussuri,================================== Module - tripleo_container_configs ================================== This module provides for the following ansible plugin: * tripleo_container_configs .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py :documentation: true :examples: true ,,209,0
openstack%2Fnetworking-bgpvpn~master~I701c89ecc890a1d866815b5401cd4c022c51c9c4,openstack/networking-bgpvpn,master,I701c89ecc890a1d866815b5401cd4c022c51c9c4,Switch to hacking 3.0.1,MERGED,2020-02-28 13:27:12.000000000,2020-08-20 00:30:50.000000000,2020-08-20 00:29:07.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-02-28 13:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/19236a7c46070a98bf817d603e3b8b02764b11c1', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 2, 'created': '2020-03-16 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/631b87af2162b70e5a19d352eb5da0e04dd714ee', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 3, 'created': '2020-04-07 13:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/57994ff66e47367d80d59c25c3da0c561528f710', 'message': 'Switch to hacking 2.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 4, 'created': '2020-04-07 13:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/13143a48961327ceb261dab552ff0a45b86e56c6', 'message': 'Switch to hacking 3.0.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 5, 'created': '2020-05-11 13:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/af8d743d51deab86d6c8a8e24a6b06c8d37bfa97', 'message': 'Switch to hacking 3.0.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 6, 'created': '2020-05-18 10:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/46828105c720088f3a13e345774f7a32321c368c', 'message': 'Switch to hacking 3.0.0\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW503, line break before binary operator, as if I understand well the\nsuggested is to have the line break before the operator)\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 7, 'created': '2020-05-18 10:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7ea06645dab1d5c1ff6017c615e52db646c348e3', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 8, 'created': '2020-05-27 13:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/34e089757ce019dbd01150addd0bc123a10da52a', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 9, 'created': '2020-06-08 13:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8fbc437e3a3f3d6dab9e1ccfde95ff1d93fad2fe', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 10, 'created': '2020-06-09 07:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d90afd79c92879f06c9250fa857131471c9d7261', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 11, 'created': '2020-06-29 16:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/408dc386bc9c01d652a912e6aa0aa71912b42c8f', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 12, 'created': '2020-07-06 16:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/249c13d73e9418b2c4d53daa698dd28f4c87e233', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}, {'number': 13, 'created': '2020-07-28 09:03:19.000000000', 'files': ['networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/39411aacf9b8_add_vni_to_bgpvpn_table.py', '.pylintrc', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/newton/contract/23ce05e0a19f_rename_tenant_to_project.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/666c706fea3b_bgpvpn_local_pref.py', 'test-requirements.txt', 'networking_bgpvpn/neutron/db/bgpvpn_db.py', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'networking_bgpvpn/neutronclient/neutron/v2_0/bgpvpn/bgpvpn.py', 'networking_bgpvpn/tests/functional/db/test_migrations.py', 'bgpvpn_dashboard/test/settings.py', 'lower-constraints.txt', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/rocky/contract/9d7f1ae5fa56_add_standard_attributes.py', 'doc/source/samples/bgpvpn-sample01.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/9a6664f3b8d4_add_port_association_table.py', 'networking_bgpvpn/neutron/services/service_drivers/driver_api.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/workflows.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/router_associations/tables.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/4610803bdf0d_router_assoc_add_advertise_extra_routes.py', 'tox.ini', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/rocky/expand/7a9482036ecd_add_standard_attributes.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/96c266c9a797e44e43ce01f2469156eb285e9f0f', 'message': 'Switch to hacking 3.0.1\n\nMake the code compatible with hacking rules:\n* import order problems\n* line break before/after binary operator (for this added ignore for\nW504, line break after binary operator\n* indentation problems\n\nI removed the rule N530 (Direct neutron imports not allowed), as that is\na longer story.\nAs a side-effect use newer pylint version, and fix the problems reported\n\nChange-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4\nDepends-On: https://review.opendev.org/#/c/708965/\n'}]",32,710447,96c266c9a797e44e43ce01f2469156eb285e9f0f,51,8,13,8313,,,0,"Switch to hacking 3.0.1

Make the code compatible with hacking rules:
* import order problems
* line break before/after binary operator (for this added ignore for
W504, line break after binary operator
* indentation problems

I removed the rule N530 (Direct neutron imports not allowed), as that is
a longer story.
As a side-effect use newer pylint version, and fix the problems reported

Change-Id: I701c89ecc890a1d866815b5401cd4c022c51c9c4
Depends-On: https://review.opendev.org/#/c/708965/
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/47/710447/12 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'networking_bgpvpn/neutron/db/bgpvpn_db.py', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', 'networking_bgpvpn/neutronclient/neutron/v2_0/bgpvpn/bgpvpn.py', 'networking_bgpvpn/tests/functional/db/test_migrations.py', 'bgpvpn_dashboard/test/settings.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/rocky/contract/9d7f1ae5fa56_add_standard_attributes.py', 'networking_bgpvpn/neutron/services/plugin.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/9a6664f3b8d4_add_port_association_table.py', 'networking_bgpvpn/neutron/services/service_drivers/driver_api.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/workflows.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe_v2.py', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/env.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/router_associations/tables.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/4610803bdf0d_router_assoc_add_advertise_extra_routes.py', 'networking_bgpvpn/neutron/extensions/bgpvpn_routes_control.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/39411aacf9b8_add_vni_to_bgpvpn_table.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/newton/contract/23ce05e0a19f_rename_tenant_to_project.py', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/queens/expand/666c706fea3b_bgpvpn_local_pref.py', 'lower-constraints.txt', 'doc/source/samples/bgpvpn-sample01.py', 'tox.ini', 'networking_bgpvpn/neutron/db/migration/alembic_migrations/versions/rocky/expand/7a9482036ecd_add_standard_attributes.py']",27,19236a7c46070a98bf817d603e3b8b02764b11c1,hacking3,from alembic import op import sqlalchemy as sa ,from alembic import op import sqlalchemy as sa ,170,130
openstack%2Fopenstack-helm~master~Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,openstack/openstack-helm,master,Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc,feat-tls: Add certs to cinder scheduler and Volume.,MERGED,2020-08-19 21:53:33.000000000,2020-08-19 23:41:40.000000000,2020-08-19 23:40:05.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 21:53:33.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'cinder/values_overrides/tls.yaml', 'cinder/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a91dd5f30d6ebccd219f5e3a3279a32baef1bd6', 'message': 'feat-tls: Add certs to cinder scheduler and Volume.\n\nThis ps mounts certs to scheduler and Volume.\n\nChange-Id: Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc\n'}]",0,747049,0a91dd5f30d6ebccd219f5e3a3279a32baef1bd6,10,4,1,24780,,,0,"feat-tls: Add certs to cinder scheduler and Volume.

This ps mounts certs to scheduler and Volume.

Change-Id: Ibc013ffd4e8fe7500fcfdd285ad896b0e6b97acc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/49/747049/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/values_overrides/tls.yaml', 'cinder/templates/deployment-scheduler.yaml']",3,0a91dd5f30d6ebccd219f5e3a3279a32baef1bd6,,"{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.volume.api.internal ""path"" ""/etc/cinder/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }} {{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.volume.api.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,5,0
openstack%2Fopenstack-ansible-os_nova~master~Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,openstack/openstack-ansible-os_nova,master,Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe,Use the utility host for db setup tasks,MERGED,2020-08-19 18:15:20.000000000,2020-08-19 23:28:02.000000000,2020-08-19 23:25:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-19 18:15:20.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5e528413913d52154a1bbbe2d014b17ecb6c0968', 'message': 'Use the utility host for db setup tasks\n\nMove it to the service setup host (defaults to utility[0]) instead\nof the galera[0] host, and use galera_address (defaults to internal VIP)\nas the endpoint instead of a local connection on the db host.\n\nChange-Id: Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe\n'}]",0,747006,5e528413913d52154a1bbbe2d014b17ecb6c0968,8,3,1,28008,,,0,"Use the utility host for db setup tasks

Move it to the service setup host (defaults to utility[0]) instead
of the galera[0] host, and use galera_address (defaults to internal VIP)
as the endpoint instead of a local connection on the db host.

Change-Id: Ic4a2dfeeb022e1dbe0b1ba8aa0d0dd5feb7a8ffe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/06/747006/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'defaults/main.yml']",3,5e528413913d52154a1bbbe2d014b17ecb6c0968,bind-to-mgmt,"nova_db_setup_host: ""{{ openstack_db_setup_host | default('localhost') }}"" nova_db_setup_python_interpreter: ""{{ openstack_db_setup_python_interpreter | default((nova_db_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""nova_galera_port: 3306","nova_db_setup_host: ""{{ ('galera_all' in groups) | ternary(groups['galera_all'][0], 'localhost') }}""",12,1
openstack%2Foctavia~stable%2Fussuri~I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,openstack/octavia,stable/ussuri,I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,Set amphora-agent build-only packages,MERGED,2020-08-19 08:00:11.000000000,2020-08-19 22:40:10.000000000,2020-08-19 22:38:20.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:00:11.000000000', 'files': ['elements/amphora-agent/package-installs.yaml', 'elements/amphora-agent/post-install.d/90-remove-build-deps'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19557664170d54ace5fc919c48ae46ed9172c96a', 'message': 'Set amphora-agent build-only packages\n\nA recent change in DIB [1] broke our CentOS 8 amphora image builds only\nbecause we\'ve not been handling package dependencies propertly.\n\nThe DIB change now installs package ""python3"" which provides\n/usr/bin/python3 and is a requirement of scripts in later build phases.\nIt so happens that we are removing package ""python3-pip"", a dependency\nof ""python36"" too early so builds fail when bin python3 is required.\n\nDIB package-installs element provides property ""build-only"". When set,\nit will cause packages to be added both to the list of packages\ninstalled and list of packages to be uninstalled. This allows expressing\nbuild-time dependencies that should not end up in the final image as is\nthe case of packages like ""build-essential"" and ""libffi-dev"" in our\namphora-agent element.\n\nAs for the removal of Git, we do not explicitely install it so we should\nnot uninstall it either. Git is a fake dependency of source-repositories\nelement and will be abstent in the final image with [2].\n\n[1] https://review.opendev.org/#/c/741868/\n[2] https://review.opendev.org/#/c/745678/\n\nDepends-On: https://review.opendev.org/#/c/745678/\n\nChange-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba\n(cherry picked from commit fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2)\n'}]",0,746849,19557664170d54ace5fc919c48ae46ed9172c96a,14,3,1,6469,,,0,"Set amphora-agent build-only packages

A recent change in DIB [1] broke our CentOS 8 amphora image builds only
because we've not been handling package dependencies propertly.

The DIB change now installs package ""python3"" which provides
/usr/bin/python3 and is a requirement of scripts in later build phases.
It so happens that we are removing package ""python3-pip"", a dependency
of ""python36"" too early so builds fail when bin python3 is required.

DIB package-installs element provides property ""build-only"". When set,
it will cause packages to be added both to the list of packages
installed and list of packages to be uninstalled. This allows expressing
build-time dependencies that should not end up in the final image as is
the case of packages like ""build-essential"" and ""libffi-dev"" in our
amphora-agent element.

As for the removal of Git, we do not explicitely install it so we should
not uninstall it either. Git is a fake dependency of source-repositories
element and will be abstent in the final image with [2].

[1] https://review.opendev.org/#/c/741868/
[2] https://review.opendev.org/#/c/745678/

Depends-On: https://review.opendev.org/#/c/745678/

Change-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba
(cherry picked from commit fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/746849/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/package-installs.yaml', 'elements/amphora-agent/post-install.d/90-remove-build-deps']",2,19557664170d54ace5fc919c48ae46ed9172c96a,,awk 'FNR == 1 {print $1}' /opt/amphora-agent/.git/logs/HEAD >> /opt/amphora-agent.gitref apt-get --assume-yes purge --auto-remove ${YUM} -v -y autoremove,"git --git-dir=/opt/amphora-agent/.git rev-parse HEAD >> /opt/amphora-agent.gitref apt-get --assume-yes purge --auto-remove build-essential libffi-dev libssl-dev python-dev python3-dev git ${YUM} -v -y autoremove automake make gcc gcc-c++ kernel-devel libffi-devel openssl-devel python-devel platform-python-devel python{2,3,}-pip git",7,7
openstack%2Fneutron~master~I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,openstack/neutron,master,I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb,Remove usage of six.next and iterators,ABANDONED,2020-05-22 18:08:46.000000000,2020-08-19 21:31:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-22 18:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0c6ad81bc7602d9129d3df65b3bb187671ceade', 'message': 'Remove usage of six.next and iterators\n\nWith python 3.x, six.next, six.itervalues, six.iteritems\nand six.iterkeys can be replaced by their python 3\nequivalents.\n\nAnother step in removing all of six usage from neutron.\n\nChange-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb\n'}, {'number': 2, 'created': '2020-05-26 16:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f187a975faa25184607fc380432b538570fac5b9', 'message': 'Remove usage of six.next and iterators\n\nWith python 3.x, six.next, six.itervalues, six.iteritems\nand six.iterkeys can be replaced by their python 3\nequivalents.\n\nAnother step in removing all of six usage from neutron.\n\nChange-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb\n'}, {'number': 3, 'created': '2020-05-26 19:41:10.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/extensions/test_timestamp.py', 'neutron/services/network_segment_range/plugin.py', 'neutron/objects/router.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3d583189d34c8c7c30e0d5e7ea4dd7b8606665a', 'message': 'Remove usage of six.next and iterators\n\nWith python 3.x, six.next, six.itervalues, six.iteritems\nand six.iterkeys can be replaced by their python 3\nequivalents.\n\nAnother step in removing all of six usage from neutron.\n\nChange-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb\n'}]",5,730387,f3d583189d34c8c7c30e0d5e7ea4dd7b8606665a,17,7,3,1131,,,0,"Remove usage of six.next and iterators

With python 3.x, six.next, six.itervalues, six.iteritems
and six.iterkeys can be replaced by their python 3
equivalents.

Another step in removing all of six usage from neutron.

Change-Id: I6baedf05e5ddaf9413a5c5abc6e8f34bb1e874fb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/730387/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/extensions/test_timestamp.py', 'neutron/services/network_segment_range/plugin.py', 'neutron/agent/linux/pd.py', 'neutron/objects/router.py']",9,d0c6ad81bc7602d9129d3df65b3bb187671ceade,remove-six, row = [r for r in next(value)],import six row = [r for r in six.next(value)],16,24
openstack%2Fpython-novaclient~master~I7b6d49ea8320e014e2ef444e456f6eea02eca912,openstack/python-novaclient,master,I7b6d49ea8320e014e2ef444e456f6eea02eca912,zuul functional job: drop the custom playbooks,MERGED,2020-08-18 07:44:14.000000000,2020-08-19 21:28:45.000000000,2020-08-19 21:21:56.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6773d4d4895d5f18db560ecdee207eb276fe85bb', 'message': 'zuul functional job: drop the custom playbooks\n\nThe base devstack-tox-functional* jobs now set the required\nenvironment (OS_* vars set by devstack) before calling tox.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: I7b6d49ea8320e014e2ef444e456f6eea02eca912\n'}, {'number': 2, 'created': '2020-08-18 15:04:06.000000000', 'files': ['playbooks/post.yaml', '.zuul.yaml', 'playbooks/python-novaclient-functional.yaml', 'roles/get-os-environment/tasks/main.yaml', 'roles/get-os-environment/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/553257d1b74493b7a9b30ffa2a960485d3588adf', 'message': 'zuul functional job: drop the custom playbooks\n\nThe base devstack-tox-functional* jobs now set the required\nenvironment (OS_* vars set by devstack) before calling tox.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: I7b6d49ea8320e014e2ef444e456f6eea02eca912\n'}]",0,746649,553257d1b74493b7a9b30ffa2a960485d3588adf,13,4,2,10459,,,0,"zuul functional job: drop the custom playbooks

The base devstack-tox-functional* jobs now set the required
environment (OS_* vars set by devstack) before calling tox.

Depends-On: https://review.opendev.org/746235
Change-Id: I7b6d49ea8320e014e2ef444e456f6eea02eca912
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/49/746649/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/post.yaml', '.zuul.yaml', 'playbooks/python-novaclient-functional.yaml', 'roles/get-os-environment/tasks/main.yaml', 'roles/get-os-environment/defaults/main.yaml']",5,6773d4d4895d5f18db560ecdee207eb276fe85bb,get-devstack-os-environment-role,,"--- openrc_file: ""{{ devstack_base_dir|default('/opt/stack') }}/devstack/openrc"" ",1,37
openstack%2Fplacement~master~I129fe0098944f14fc0d9ef6228eb26cc38050237,openstack/placement,master,I129fe0098944f14fc0d9ef6228eb26cc38050237,Add DEBUG logs to help troubleshoot no allocation candidates,MERGED,2020-08-03 22:24:10.000000000,2020-08-19 21:26:09.000000000,2020-08-19 00:42:29.000000000,"[{'_account_id': 4690}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-08-03 22:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/707ca90fcb893e9e6a54097fe27b957d2908e4e8', 'message': ""Add DEBUG logs to help troubleshoot no allocation candidates\n\nWe currently have DEBUG logs that are emitted when at least one\nallocation candidate is successfully found (added in changes\nIf9ddb8a6d2f03392f3cc11136c4a0b026212b95b and\nI952d5229d6c40588cde6197683117a7e19127939) but we don't get much\nlogging in cases when no allocation candidates are found.\n\nThis adds DEBUG log messages for cases where we raise\nResourceProviderNotFound to aid in debugging scenarios where placement\nis unexpectedly returning no allocation candidates for a request.\n\nChange-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237\n""}, {'number': 2, 'created': '2020-08-04 20:59:41.000000000', 'files': ['placement/objects/research_context.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/fa9ae57984ba1f839331174d9b3ef9658af5b775', 'message': ""Add DEBUG logs to help troubleshoot no allocation candidates\n\nWe currently have DEBUG logs that are emitted when at least one\nallocation candidate is successfully found (added in changes\nIf9ddb8a6d2f03392f3cc11136c4a0b026212b95b and\nI952d5229d6c40588cde6197683117a7e19127939) but we don't get much\nlogging in cases when no allocation candidates are found.\n\nThis adds DEBUG log messages for cases where we raise\nResourceProviderNotFound to aid in debugging scenarios where placement\nis unexpectedly returning no allocation candidates for a request.\n\nChange-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237\n""}]",6,744569,fa9ae57984ba1f839331174d9b3ef9658af5b775,15,5,2,4690,,,0,"Add DEBUG logs to help troubleshoot no allocation candidates

We currently have DEBUG logs that are emitted when at least one
allocation candidate is successfully found (added in changes
If9ddb8a6d2f03392f3cc11136c4a0b026212b95b and
I952d5229d6c40588cde6197683117a7e19127939) but we don't get much
logging in cases when no allocation candidates are found.

This adds DEBUG log messages for cases where we raise
ResourceProviderNotFound to aid in debugging scenarios where placement
is unexpectedly returning no allocation candidates for a request.

Change-Id: I129fe0098944f14fc0d9ef6228eb26cc38050237
",git fetch https://review.opendev.org/openstack/placement refs/changes/69/744569/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/research_context.py'],1,707ca90fcb893e9e6a54097fe27b957d2908e4e8,744569," LOG.debug('found no providers matching aggregates %s', self.member_of) rc_name = context.rc_cache.string_from_id(rc_id) LOG.debug('getting providers with %d %s', amount, rc_name) LOG.debug('found no providers with %d %s', amount, rc_name) required_ids = set(trait_obj.ids_from_names( forbidden_ids = set(trait_obj.ids_from_names( self._ctx, required_ids, forbidden_ids) LOG.debug('found no providers satisfying required traits: %s and ' 'forbidden traits: %s', required, forbidden)"," required = set(trait_obj.ids_from_names( forbidden = set(trait_obj.ids_from_names( self._ctx, required, forbidden)",10,3
openstack%2Fopenstack-helm-infra~master~Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,openstack/openstack-helm-infra,master,Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5,Add Alerta feature to osh-infra,MERGED,2020-08-11 20:52:11.000000000,2020-08-19 21:24:05.000000000,2020-08-19 21:19:17.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-11 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d060f1a4e434865e8ed48e6ae82ab4202ba2c5b', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 2, 'created': '2020-08-12 20:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b508ce1a28e16fe1693432d55786eed801348647', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 3, 'created': '2020-08-12 20:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd227715c246e6a8b51b895bc415ad844dc8c1e2', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 4, 'created': '2020-08-13 12:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/508e8c29480c588bca1e6a59b811312b0bb12914', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 5, 'created': '2020-08-13 14:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e048ea4deedc773f354c64bd5f101c60a23708f', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 6, 'created': '2020-08-13 22:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/897bdee0fda543dc9607e94edccb2e702977bcbb', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 7, 'created': '2020-08-14 02:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/51968d6784a3d08a46ee3f0404066db05aa8f105', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}, {'number': 8, 'created': '2020-08-19 13:35:49.000000000', 'files': ['alerta/values.yaml', 'tools/deployment/common/postgresql.sh', 'alerta/templates/bin/_create_db.sh.tpl', 'alerta/templates/create_db.yaml', 'tools/deployment/apparmor/175-alerta.sh', 'tools/deployment/multinode/175-alerta.sh', 'tools/deployment/osh-infra-monitoring/170-postgresql.sh', 'alerta/templates/configmap-etc.yaml', 'alerta/templates/secret.yaml', 'tools/deployment/apparmor/130-postgresql.sh', 'tools/deployment/common/alerta.sh', 'tools/deployment/multinode/170-postgresql.sh', 'alerta/Chart.yaml', 'alerta/templates/configmap-bin.yaml', 'alerta/requirements.yaml', 'alerta/templates/service.yaml', 'prometheus-alertmanager/values.yaml', 'tools/deployment/osh-infra-monitoring/175-alerta.sh', 'alerta/templates/deployment.yaml', 'tools/deployment/apparmor/170-postgresql.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83a55fd19ecd40dee443abaeca7f16017cccea7f', 'message': 'Add Alerta feature to osh-infra\n\nChange-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5\n'}]",0,745743,83a55fd19ecd40dee443abaeca7f16017cccea7f,25,5,8,31713,,,0,"Add Alerta feature to osh-infra

Change-Id: Id8dc3f86b8d6754df4ba3c0c720a78731e3f54d5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/745743/8 && git format-patch -1 --stdout FETCH_HEAD,"['alerta/templates/postgresql/pod-test.yaml', 'alerta/templates/postgresql/secrets-etc.yaml', 'alerta/templates/postgresql/configmap-bin.yaml', 'alerta/templates/secret.yaml', 'alerta/templates/postgresql/bin/_restore_postgresql.sh.tpl', 'tools/deployment/common/alerta.sh', 'alerta/templates/postgresql/service-postgres.yaml', 'alerta/Chart.yaml', 'alerta/requirements.yaml', 'alerta/templates/service.yaml', 'alerta/templates/postgresql/create_db.yaml', 'alerta/templates/deployment.yaml', 'alerta/templates/postgresql/statefulset.yaml', 'alerta/templates/postgresql/bin/_create_db.sh.tpl', 'alerta/templates/postgresql/secrets/_admin_user.conf.tpl', 'alerta/templates/postgresql/cron-job-backup-postgres.yaml', 'alerta/templates/postgresql/secret-replica.yaml', 'alerta/templates/postgresql/secret-server.yaml', 'alerta/templates/postgresql/bin/_db_test.sh.tpl', 'alerta/templates/postgresql/bin/_set_password.sh.tpl', 'alerta/values.yaml', 'alerta/templates/postgresql/bin/_remote_store_postgresql.sh.tpl', 'alerta/templates/postgresql/job-image-repo-sync.yaml', 'alerta/templates/postgresql/bin/_remote_retrieve_postgresql.sh.tpl', 'alerta/templates/postgresql/postgresql-backup-pvc.yaml', 'alerta/templates/postgresql/bin/_patroni_conversion.sh.tpl', 'alerta/templates/postgresql/secret-backup-restore.yaml', 'alerta/templates/configmap.yaml', 'alerta/templates/postgresql/bin/_backup_postgresql.sh.tpl', 'alerta/templates/postgresql/job-ks-user.yaml', 'alerta/templates/postgresql/configmap-etc.yaml', 'alerta/templates/postgresql/secret-audit.yaml', 'alerta/templates/postgresql/bin/_start.sh.tpl', 'alerta/templates/postgresql/bin/_readiness.sh.tpl', 'alerta/templates/postgresql/bin/_common_backup_restore.sh.tpl', 'alerta/templates/postgresql/secret-admin.yaml', 'alerta/templates/postgresql/secret-rgw.yaml', 'alerta/templates/postgresql/service-restapi.yaml', 'alerta/templates/postgresql/network_policy.yaml']",39,9d060f1a4e434865e8ed48e6ae82ab4202ba2c5b,745743,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.postgresql.network_policy -}} {{- $netpol_opts := dict ""envAll"" . ""name"" ""application"" ""label"" ""postgresql"" -}} {{ $netpol_opts | include ""helm-toolkit.manifests.kubernetes_network_policy"" }} {{- end -}} ",,3276,0
openstack%2Ftripleo-ansible~master~I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,openstack/tripleo-ansible,master,I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74,Create tripleo_container_config_scripts module,MERGED,2020-08-13 19:39:24.000000000,2020-08-19 21:20:14.000000000,2020-08-18 23:37:58.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 19:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4d7fbbb185d77f4ad14d168c6d842b6dd04c882', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 2, 'created': '2020-08-13 19:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/025f48420bb3e9facd9b35fc720944517371ecb1', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 3, 'created': '2020-08-13 20:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9faeab8a62342d7e4272c5f14f3576a342c0c508', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 4, 'created': '2020-08-13 20:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/028f9790a92d7644e7ad93a9c3dd922308a42563', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 5, 'created': '2020-08-13 20:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f39d0560b3eef60a0dec9ea97c9a3dbd7c2ab03d', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 6, 'created': '2020-08-13 21:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86157d67a4e53cbf79d66b18478cb2fb65bdb7d8', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 7, 'created': '2020-08-13 21:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c2b02af94f319b506c86d3814be2cc4e0691de5', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 8, 'created': '2020-08-13 21:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e7221d1f620797d54888763a3be593431fab141', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 9, 'created': '2020-08-16 01:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc43f163a212ec8af0d1200a4eba64e0e072e518', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 10, 'created': '2020-08-16 22:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e487654bf8cb8c1dfbb24886721871bed1b32c0', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 11, 'created': '2020-08-17 02:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/269e845f355698e9cc85f92481c80a35b57802d7', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 12, 'created': '2020-08-17 12:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0227072fd92195e9400a6bda5e13869c38e7240e', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 13, 'created': '2020-08-17 13:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f8552a741542014811cbdcb9a823044a1b7f930a', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 14, 'created': '2020-08-17 14:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25024b0fe48d820437741a58fce1c3a01a375d27', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}, {'number': 15, 'created': '2020-08-18 12:32:54.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'doc/source/modules/modules-tripleo-container-config-scripts.rst', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6f979ca1e195a9dfd9daf2279c90caaa6791c3d', 'message': ""Create tripleo_container_config_scripts module\n\nThis module will help to simplify the task that creates the container\nconfig scripts, generated via config download.\n\nIt'll replace the loop in THT that iterate over a file to create the\nscripts and their content, and executer faster on module.\n\nChange-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74\n""}]",5,746218,b6f979ca1e195a9dfd9daf2279c90caaa6791c3d,41,7,15,3153,,,0,"Create tripleo_container_config_scripts module

This module will help to simplify the task that creates the container
config scripts, generated via config download.

It'll replace the loop in THT that iterate over a file to create the
scripts and their content, and executer faster on module.

Change-Id: I4bbd54d193271daa10383b8cb48c9ea9aa0b5b74
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/746218/15 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_container_config_scripts.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_config_scripts/molecule.yml']",4,b4d7fbbb185d77f4ad14d168c6d842b6dd04c882,container/configs,"--- driver: name: delegated options: managed: false login_cmd_template: >- ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o Compression=no -o TCPKeepAlive=yes -o VerifyHostKeyDNS=no -o ForwardX11=no -o ForwardAgent=no {instance} ansible_connection_options: ansible_connection: ssh log: true platforms: - name: instance provisioner: name: ansible config_options: defaults: fact_caching: jsonfile fact_caching_connection: /tmp/molecule/facts inventory: hosts: all: hosts: instance: ansible_host: localhost log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_ROLES_PATH: ""${ANSIBLE_ROLES_PATH:-/usr/share/ansible/roles}:${HOME}/zuul-jobs/roles"" ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" ANSIBLE_FILTER_PLUGINS: ""${ANSIBLE_FILTER_PLUGINS:-/usr/share/ansible/plugins/filter}"" scenario: name: tripleo_container_config_scripts test_sequence: - prepare - converge verifier: name: testinfra ",,204,0
openstack%2Fneutron~master~I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,openstack/neutron,master,I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e,Make security group CIDR conversion stricter,ABANDONED,2020-04-02 01:09:13.000000000,2020-08-19 21:20:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6469}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-02 01:09:13.000000000', 'files': ['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/237d66017af51ecbb75b1ad46bb3e970a0a7611d', 'message': ""Make security group CIDR conversion stricter\n\nNeutron API currently accepts security group remote-ip CIDR in format\n'192.168.1.1/24', which is a CIDR with host bits set. There are two\nissues with this:\n\n1. Security-wise, a user may unwittingly use '192.168.1.1/0', which\neffectively is '0.0.0.0/0'\n\n2. CIDRs with host bits set do not work in OVN.\n\nUpdate API to throw an error if such a case occur.\n\nAlso update current tests that have CIDRs with host bits.\n\nChange-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e\nCloses-Bug: #1869129\nRelated-Bug: #1837339\n""}]",0,716806,237d66017af51ecbb75b1ad46bb3e970a0a7611d,8,8,1,8064,,,0,"Make security group CIDR conversion stricter

Neutron API currently accepts security group remote-ip CIDR in format
'192.168.1.1/24', which is a CIDR with host bits set. There are two
issues with this:

1. Security-wise, a user may unwittingly use '192.168.1.1/0', which
effectively is '0.0.0.0/0'

2. CIDRs with host bits set do not work in OVN.

Update API to throw an error if such a case occur.

Also update current tests that have CIDRs with host bits.

Change-Id: I4b1e6c76aba0f7cc75ad8f0ad3824f089798bb8e
Closes-Bug: #1869129
Related-Bug: #1837339
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/716806/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",2,237d66017af51ecbb75b1ad46bb3e970a0a7611d,bug/1869129," '22', '10.0.0.0/24') '23', '10.0.0.0/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.0/24') const.PROTO_NAME_TCP, '23', '23', '10.0.0.0/24') '22', '10.0.0.0/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.0/24') '22', '10.0.0.0/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.0/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.0/24') const.PROTO_NAME_TCP, '23', '23', '10.0.0.0/24') def test_convert_bad_ip_prefix_with_hostbits_to_cidr(self): addresses = ['10.1.1.1/16', '2001:db8:a::123/48'] for addr in addresses: self.assertRaises(exceptions.InvalidCIDR, ext_sg.convert_ip_prefix_to_cidr, addr) "," '22', '10.0.0.1/24') '23', '10.0.0.1/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.1/24') const.PROTO_NAME_TCP, '23', '23', '10.0.0.1/24') '22', '10.0.0.1/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.1/24') '22', '10.0.0.1/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.1/24') const.PROTO_NAME_TCP, '22', '22', '10.0.0.1/24') const.PROTO_NAME_TCP, '23', '23', '10.0.0.1/24')",21,11
openstack%2Fneutron~master~I4579c575b3526a835efb475865e31aa88a76360c,openstack/neutron,master,I4579c575b3526a835efb475865e31aa88a76360c,Fix reference to flake8 deprecated engine,ABANDONED,2019-12-16 16:49:45.000000000,2020-08-19 21:18:00.000000000,,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-12-16 16:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ee193aacc386149eb651e8368e50c4edfa07011', 'message': 'Fix reference to flake8 deprecated engine\n\nFlake 3 removed the Engine but kept a legacy module for compatibility.\nUse the legacy module.\n\nChange-Id: I4579c575b3526a835efb475865e31aa88a76360c\nResolves-Bug: #1856600\n'}, {'number': 2, 'created': '2019-12-16 17:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18f26bdfff7aeecb00b31d324f1ff4b9d24f0479', 'message': 'Fix reference to flake8 deprecated engine\n\nFlake 3 removed the Engine but kept a legacy module for compatibility.\nUse the legacy module.\n\nChange-Id: I4579c575b3526a835efb475865e31aa88a76360c\nResolves-Bug: #1856600\n'}, {'number': 3, 'created': '2019-12-16 18:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a6aea16f4a7b461041e924caa7d6fdcd913d5bd', 'message': 'Fix reference to flake8 deprecated engine\n\nFlake 3 removed the Engine but kept a legacy module for compatibility.\nUse the legacy module.\n\nChange-Id: I4579c575b3526a835efb475865e31aa88a76360c\nResolves-Bug: #1856600\n'}, {'number': 4, 'created': '2020-03-27 19:57:25.000000000', 'files': ['test-requirements.txt', 'neutron/tests/unit/hacking/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/977bb6c3ccba090b2a816997a1231b8ab96b3f74', 'message': 'Fix reference to flake8 deprecated engine\n\nFlake 3 removed the Engine but kept a legacy module for compatibility.\nUse the legacy module.\n\nChange-Id: I4579c575b3526a835efb475865e31aa88a76360c\nResolves-Bug: #1856600\n'}]",1,699243,977bb6c3ccba090b2a816997a1231b8ab96b3f74,26,9,4,13995,,,0,"Fix reference to flake8 deprecated engine

Flake 3 removed the Engine but kept a legacy module for compatibility.
Use the legacy module.

Change-Id: I4579c575b3526a835efb475865e31aa88a76360c
Resolves-Bug: #1856600
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/699243/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/hacking/test_checks.py'],1,5ee193aacc386149eb651e8368e50c4edfa07011,bug/1856600,from flake8.api import legacy as engine,from flake8 import engine,1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,stable/train,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,ABANDONED,2020-08-19 21:16:53.000000000,2020-08-19 21:17:13.000000000,,[],"[{'number': 1, 'created': '2020-08-19 21:16:53.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78b3fa84c63f3aa795e74ee60d86e7866ed7e5f5', 'message': 'overcloud_cell: fix location of config-download\n\nconfig-download was moved to the home directory and not in\n/var/lib/mistral anymore.\n\nChange-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f\nCloses-Bug: #1891932\n(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)\n'}]",0,747040,78b3fa84c63f3aa795e74ee60d86e7866ed7e5f5,2,0,1,3153,,,0,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
(cherry picked from commit 83677d700e368dcad0de1db85fc707f3acb86a37)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/747040/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,78b3fa84c63f3aa795e74ee60d86e7866ed7e5f5,cells-stable/train,"from tripleoclient import constants config_download_dir = os.path.join(constants.DEFAULT_WORK_DIR, stack_to_export)","MISTRAL_VAR = os.environ.get('MISTRAL_VAR', ""/var/lib/mistral/"") config_download_dir = os.path.join(MISTRAL_VAR, stack_to_export)",3,5
openstack%2Fpython-tripleoclient~master~I209ec1013d941c989bb14ef06779cdbf22cfcc0f,openstack/python-tripleoclient,master,I209ec1013d941c989bb14ef06779cdbf22cfcc0f,overcloud_cell: fix location of config-download,MERGED,2020-08-17 19:20:29.000000000,2020-08-19 21:16:53.000000000,2020-08-19 01:45:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-17 19:20:29.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83677d700e368dcad0de1db85fc707f3acb86a37', 'message': 'overcloud_cell: fix location of config-download\n\nconfig-download was moved to the home directory and not in\n/var/lib/mistral anymore.\n\nChange-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f\nCloses-Bug: #1891932\n'}]",2,746589,83677d700e368dcad0de1db85fc707f3acb86a37,14,5,1,3153,,,0,"overcloud_cell: fix location of config-download

config-download was moved to the home directory and not in
/var/lib/mistral anymore.

Change-Id: I209ec1013d941c989bb14ef06779cdbf22cfcc0f
Closes-Bug: #1891932
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/746589/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,83677d700e368dcad0de1db85fc707f3acb86a37,cells,"from tripleoclient import constants config_download_dir = os.path.join(constants.DEFAULT_WORK_DIR, stack_to_export)","MISTRAL_VAR = os.environ.get('MISTRAL_VAR', ""/var/lib/mistral/"") config_download_dir = os.path.join(MISTRAL_VAR, stack_to_export)",3,5
openstack%2Foctavia~master~Id31123cdbddf63315767312add9f4a0affb58901,openstack/octavia,master,Id31123cdbddf63315767312add9f4a0affb58901,Make octavia-grenade job use python3,ABANDONED,2019-11-08 06:52:33.000000000,2020-08-19 21:13:13.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-08 06:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/42700f3accd7142118f81565f68bd3cea314e6df', 'message': 'Add grenade-py3 job\n\nAdd the grenade-py3 job and remove the legacy\noctavia-grenade job.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 2, 'created': '2019-11-19 01:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/833c532bbe70c9b084669f544e11dae9cf2b8dac', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 3, 'created': '2019-11-19 19:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/291267aab2f1bb72e93bdfb92354b78c980b025c', 'message': 'Make octavia-grenade job use python3\n\nMake parent of octavia-grenade job to by grenade-py3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 4, 'created': '2019-11-20 17:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/74f253d12021fe630d6628b817f58179075a1013', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 5, 'created': '2019-11-21 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8afbedaa11ab6f376547f58c727b1435a1a8b7cf', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nDepends-on: https://review.opendev.org/#/c/695466/\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 6, 'created': '2019-11-26 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/632aeefd9f3bb555afd3bb84dd44f17d5fd6a50a', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nDepends-on: https://review.opendev.org/#/c/695466/\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 7, 'created': '2020-01-02 20:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1313094681bb4f02d63e4683141bf612574699e6', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 8, 'created': '2020-01-21 23:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b732c1dbe8ea0fe0cad224659b36eb2d2867aae', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}, {'number': 9, 'created': '2020-03-27 01:34:53.000000000', 'files': ['playbooks/legacy/grenade-devstack-octavia/run.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa6d668b87a484123f8c059999f0c05a02575bc6', 'message': 'Make octavia-grenade job use python3\n\nAdd override to octavia-grenade job to use python3.\n\nChange-Id: Id31123cdbddf63315767312add9f4a0affb58901\n'}]",2,693486,fa6d668b87a484123f8c059999f0c05a02575bc6,40,5,9,1131,,,0,"Make octavia-grenade job use python3

Add override to octavia-grenade job to use python3.

Change-Id: Id31123cdbddf63315767312add9f4a0affb58901
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/693486/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'playbooks/legacy/grenade-devstack-octavia/post.yaml', 'playbooks/legacy/grenade-devstack-octavia/run.yaml', 'zuul.d/jobs.yaml']",4,42700f3accd7142118f81565f68bd3cea314e6df,drop-py27-support-devstack-default-py3,, name: octavia-grenade parent: octavia-legacy-dsvm-base run: playbooks/legacy/grenade-devstack-octavia/run.yaml post-run: playbooks/legacy/grenade-devstack-octavia/post.yaml required-projects: - openstack/grenade - openstack/devstack-gate - openstack/octavia - openstack/octavia-lib - openstack/octavia-tempest-plugin - openstack/python-octaviaclient - job:,4,107
openstack%2Ftripleo-common~master~I88e921daf6bd3fdfb46ed52bde34f221e7bce591,openstack/tripleo-common,master,I88e921daf6bd3fdfb46ed52bde34f221e7bce591,Remove non-jinja tripleo_containers,ABANDONED,2020-08-19 19:13:09.000000000,2020-08-19 21:13:04.000000000,,[],"[{'number': 1, 'created': '2020-08-19 19:13:09.000000000', 'files': ['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4530fa4eae16a13d9c6cb3f8502197bd42c7267', 'message': ""Remove non-jinja tripleo_containers\n\nThe shipped overcloud_containers.yaml and tripleo_containers.yaml was\nused for the kolla build process. Since we don't need it for the tcib\nprocess, let's drop it.\n\nChange-Id: I88e921daf6bd3fdfb46ed52bde34f221e7bce591\n""}]",0,747023,c4530fa4eae16a13d9c6cb3f8502197bd42c7267,2,0,1,14985,,,0,"Remove non-jinja tripleo_containers

The shipped overcloud_containers.yaml and tripleo_containers.yaml was
used for the kolla build process. Since we don't need it for the tcib
process, let's drop it.

Change-Id: I88e921daf6bd3fdfb46ed52bde34f221e7bce591
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/747023/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",2,c4530fa4eae16a13d9c6cb3f8502197bd42c7267,bug/1889122,,container_images: - imagename: docker.io/tripleomaster/centos-binary-aodh-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-evaluator:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-aodh-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-keystone-listener:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-barbican-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-notification:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ceilometer-ipmi:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-backup:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cinder-volume:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-collectd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-cron:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-backend-bind9:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-central:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-mdns:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-producer:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-sink:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-designate-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-etcd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-glance-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-metricd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-gnocchi-statsd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-haproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-all:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-api-cfn:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-heat-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-horizon:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-inspector:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-pxe:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ironic-neutron-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-iscsid:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-keepalived:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-keystone:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-manila-share:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mariadb:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-memcached:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-executor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-mistral-event-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-multipathd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-dhcp-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-l3-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-openvswitch-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-sriov-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-mlnx-agent:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-neutron-metadata-agent-ovn:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-compute-ironic:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-compute:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-conductor:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-libvirt:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-novncproxy:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-nova-scheduler:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-novajoin-notifier:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-novajoin-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-health-manager:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-housekeeping:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-octavia-worker:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-controller:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-nb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-northd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-ovn-sb-db-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-placement-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-qdrouterd:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-rabbitmq:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-redis:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-sahara-api:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-sahara-engine:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-account:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-container:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-object:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-swift-proxy-server:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-zaqar-wsgi:current-tripleo image_source: tripleo - imagename: docker.io/ceph/daemon:v4.0.12-stable-4.0-nautilus-centos-7-x86_64 image_source: ceph - imagename: docker.io/prom/prometheus:v2.7.2 image_source: prom - imagename: docker.io/prom/alertmanager:v0.16.2 image_source: prom - imagename: docker.io/prom/node-exporter:v0.17.0 image_source: prom - imagename: docker.io/grafana/grafana:5.4.3 image_source: grafana - imagename: docker.io/tripleomaster/centos-binary-tempest:current-tripleo image_source: tripleo - imagename: docker.io/tripleomaster/centos-binary-rsyslog:current-tripleo image_source: tripleo ,0,257
openstack%2Ftripleo-common~master~I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,openstack/tripleo-common,master,I183082b44e3edff3672d1d55ffa84ba4cd5c0a74,tcib: rename kolla_version to tcib_managed,MERGED,2020-07-09 15:45:57.000000000,2020-08-19 21:12:17.000000000,2020-08-19 21:07:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-09 15:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a54f36e25e3be36c76ede6bbe5b37e7c0f1cd56', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n'}, {'number': 2, 'created': '2020-07-15 02:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cad6afa88931e95fa94eb3575105d35e48a5be09', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n'}, {'number': 3, 'created': '2020-07-20 13:24:42.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ed87699fedc60eed19ec3816d16ac42e6f08b02', 'message': 'tcib: rename kolla_version to tcib_managed\n\nTo avoid confusion, do not use kolla_version label and use tcib_managed.\nThis is useful to filter images that are built by TCIB or not.\n\nDepends-On: https://review.opendev.org/#/c/740298/\nChange-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74\n'}]",0,740323,8ed87699fedc60eed19ec3816d16ac42e6f08b02,20,7,3,3153,,,0,"tcib: rename kolla_version to tcib_managed

To avoid confusion, do not use kolla_version label and use tcib_managed.
This is useful to filter images that are built by TCIB or not.

Depends-On: https://review.opendev.org/#/c/740298/
Change-Id: I183082b44e3edff3672d1d55ffa84ba4cd5c0a74
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/740323/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,0a54f36e25e3be36c76ede6bbe5b37e7c0f1cd56,label3, tcib_managed: True, kolla_version: none,1,1
openstack%2Ftripleo-common~master~I84511dfdb8db11eca38c807ce71393cbbe453a68,openstack/tripleo-common,master,I84511dfdb8db11eca38c807ce71393cbbe453a68,Adding back overcloud-secure as it removes unsafe packages,MERGED,2020-07-24 16:22:58.000000000,2020-08-19 21:09:09.000000000,2020-08-19 21:07:46.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 16:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80c3ebdbee317e4fdfae3f2a2eec0e6d7707a6ea', 'message': 'Adding back overcloud-secure as it removes unsafe packages\n\nAdding back overcloud-secure as it removes unsafe packages as the\novercloud-secure role was splitted in two roles: overcloud-partition\nfor partitionning handling and overcloud-secure for removal of unsafe\npackages.\n\nChange-Id: I84511dfdb8db11eca38c807ce71393cbbe453a68\n'}, {'number': 2, 'created': '2020-08-19 06:19:05.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6df053a2167bfb92088052431d4ad8ec3c7a5da7', 'message': 'Adding back overcloud-secure as it removes unsafe packages\n\nAdding back overcloud-secure as it removes unsafe packages as the\novercloud-secure role was splitted in two roles: overcloud-partition\nfor partitionning handling and overcloud-secure for removal of unsafe\npackages.\n\nChange-Id: I84511dfdb8db11eca38c807ce71393cbbe453a68\n'}]",0,742938,6df053a2167bfb92088052431d4ad8ec3c7a5da7,17,6,2,7130,,,0,"Adding back overcloud-secure as it removes unsafe packages

Adding back overcloud-secure as it removes unsafe packages as the
overcloud-secure role was splitted in two roles: overcloud-partition
for partitionning handling and overcloud-secure for removal of unsafe
packages.

Change-Id: I84511dfdb8db11eca38c807ce71393cbbe453a68
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/742938/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml']",4,80c3ebdbee317e4fdfae3f2a2eec0e6d7707a6ea,secure, - overcloud-secure,,4,0
openstack%2Ftripleo-heat-templates~master~I1006eed5acee423bda380da5a61407fdc14a296c,openstack/tripleo-heat-templates,master,I1006eed5acee423bda380da5a61407fdc14a296c,Set keystone::cache parameters,MERGED,2020-08-18 11:20:49.000000000,2020-08-19 21:07:44.000000000,2020-08-19 21:07:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 11:20:49.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdca0a03fb49d22405781243f2ab3ec3760cdcb0', 'message': 'Set keystone::cache parameters\n\nThe puppet-keystone patch [1] will remove\nthe deprecated parameters.\n\nThis puppet-tripleo patch [2] changes so that\nthe keystone::cache class is used explicitly\nso that we can change these config options.\n\n[1] https://review.opendev.org/#/c/746643/\n[2] https://review.opendev.org/#/c/746686/\n\nDepends-On: https://review.opendev.org/#/c/746686/\nChange-Id: I1006eed5acee423bda380da5a61407fdc14a296c\n'}]",0,746687,bdca0a03fb49d22405781243f2ab3ec3760cdcb0,11,7,1,16137,,,0,"Set keystone::cache parameters

The puppet-keystone patch [1] will remove
the deprecated parameters.

This puppet-tripleo patch [2] changes so that
the keystone::cache class is used explicitly
so that we can change these config options.

[1] https://review.opendev.org/#/c/746643/
[2] https://review.opendev.org/#/c/746686/

Depends-On: https://review.opendev.org/#/c/746686/
Change-Id: I1006eed5acee423bda380da5a61407fdc14a296c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/746687/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,bdca0a03fb49d22405781243f2ab3ec3760cdcb0,, - keystone::cache::enabled: true keystone::cache::backend: 'dogpile.cache.memcached', - keystone::cache_enabled: true keystone::cache_backend: 'dogpile.cache.memcached',2,2
openstack%2Fpuppet-tripleo~master~I70ac9fcd3f74975c96c715ecbc818e6606ff4517,openstack/puppet-tripleo,master,I70ac9fcd3f74975c96c715ecbc818e6606ff4517,Use correct memcached IPs for Swift object-expirer,MERGED,2020-07-30 16:44:22.000000000,2020-08-19 21:07:42.000000000,2020-08-19 21:07:42.000000000,"[{'_account_id': 597}, {'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 16:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/502a8d0efc4ca09bef4177b7c50388234300ebd4', 'message': 'Use correct memcached IPs if set\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}, {'number': 2, 'created': '2020-07-30 16:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b5e85369ea32d6d6d83566dc6618af37b5bc4b08', 'message': 'Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}, {'number': 3, 'created': '2020-07-30 19:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/94ba0a80be977ea6ec972c55541b92196b4caa7f', 'message': 'Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}, {'number': 4, 'created': '2020-08-03 10:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d48dc507bff9c1db64d8a664e7a0d6a4f80f4d84', 'message': 'Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}, {'number': 5, 'created': '2020-08-17 04:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3c72953375abafab16b281aaa3e73d90ac89708', 'message': 'Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}, {'number': 6, 'created': '2020-08-17 15:29:29.000000000', 'files': ['manifests/profile/base/swift.pp', 'manifests/profile/base/swift/storage.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/swift/releasenotes/notes/swift-object-expirer-memcached-3c1e7037683ee89a.yaml', 'spec/classes/tripleo_profile_base_swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e7cb55d97b41c35800e08257a826164ca5a1c7de', 'message': 'Use correct memcached IPs for Swift object-expirer\n\nThe memcached IP is not properly set in case of separate storage nodes.\nUntil now, these were only set if the Swift proxy node was also\nconfigured on the same node; however, this is not the case with separate\nstorage nodes. The service would still run, but was not able to use any\ncache and logging errors therefore.\n\nCloses-Bug: 1889663\nChange-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517\n'}]",5,744015,e7cb55d97b41c35800e08257a826164ca5a1c7de,44,7,6,6968,,,0,"Use correct memcached IPs for Swift object-expirer

The memcached IP is not properly set in case of separate storage nodes.
Until now, these were only set if the Swift proxy node was also
configured on the same node; however, this is not the case with separate
storage nodes. The service would still run, but was not able to use any
cache and logging errors therefore.

Closes-Bug: 1889663
Change-Id: I70ac9fcd3f74975c96c715ecbc818e6606ff4517
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/744015/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/swift/storage.pp'],1,502a8d0efc4ca09bef4177b7c50388234300ebd4,rhbz/1859453,"# [*memcache_servers*] # (Optional) List of memcache servers # Defaults to hiera('memcached_node_ips') # $memcache_servers = hiera('memcached_node_ips'), class { '::swift::objectexpirer': pipeline => ['catch_errors', 'cache', 'proxy-server'], memcache_servers => $swift_memcache_servers }",,9,0
openstack%2Ftripleo-quickstart-extras~master~Id97074ff7b1341942e8c85fc709a83b33e0af414,openstack/tripleo-quickstart-extras,master,Id97074ff7b1341942e8c85fc709a83b33e0af414,Support TLS-Everywhere without novajoin,MERGED,2020-04-21 13:41:11.000000000,2020-08-19 20:57:45.000000000,2020-08-19 20:57:45.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14250}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-21 13:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/df0316e5ebb7d868b8d301f7d00408b87afd0494', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 2, 'created': '2020-04-22 09:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/447cd721fdd8bd0fc50cb8fbf2cac246221ef6f6', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 3, 'created': '2020-04-22 11:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7d5a77eeb3ad1c1f2dc4cafdcf3ae3db3a7cee04', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 4, 'created': '2020-04-22 11:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/953b78a4e252581400f2d3ffa25f27822d06fc82', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 5, 'created': '2020-04-22 13:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4abbed3f5667103f3967e9220aaf708c3eadbfe8', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 6, 'created': '2020-04-22 15:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/089c1efd69d29aee9279b940aa6f75d6642701a9', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 7, 'created': '2020-04-23 17:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/73e94aa910619860911638624c21a18712332f27', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 8, 'created': '2020-04-24 08:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8b83822dd51e363ff6714c0678e45578ebd98315', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 9, 'created': '2020-04-24 09:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50766a9011298b248199924eb6465af134e23564', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 10, 'created': '2020-04-24 11:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/916a4a244fbbf35a9d37234a4e3872b6b34c5d42', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 11, 'created': '2020-04-24 17:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9447868b80bfea570e6536861035bb650bf70e2e', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 12, 'created': '2020-04-27 09:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d73ba20bab99afeadfe5ecccac095d7ff302b50e', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 13, 'created': '2020-04-27 14:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f22018ad078357020cdc725f9e61171e4d317d76', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 14, 'created': '2020-04-28 09:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/96303db60ce5d582da75511cb38b45b871e8a61f', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 15, 'created': '2020-06-17 13:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c74d2ed3aeaded1c34729925b3b75aa098040c64', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 16, 'created': '2020-06-18 10:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c3ac8b6cb5366cb505ab667f7405381d87aea60a', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 17, 'created': '2020-06-19 10:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cf429b30f2e510ece7497f4fb3f372a4a797f26f', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 18, 'created': '2020-06-22 07:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b1a2979307488ae8e87aa409d15a17e511b5da1e', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 19, 'created': '2020-06-22 13:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0639d6b915063d9c8a957058abf46b867e2acd42', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 20, 'created': '2020-06-26 10:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/72bcf9e60658b8c8bfc44e355d4103b4b001d956', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 21, 'created': '2020-06-30 05:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9566df140a99a1ae5339aa2b688189a88bd93cc2', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 22, 'created': '2020-07-01 08:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d22ac0f0ab57b6f281a1ebf5d6c131e694dfb37', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 23, 'created': '2020-07-01 14:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d07c1d7bcc77637261017d07e14600af517a7bba', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 24, 'created': '2020-07-02 06:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d214dea8871697dec51fc675d68fb44dc65f527d', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 25, 'created': '2020-07-06 07:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0190c86b14dac28bdaa1f3b9cf8794132990c7bf', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 26, 'created': '2020-07-15 09:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6941cdcaf4a749e8309b54320fcc7acf16addf6b', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 27, 'created': '2020-07-19 20:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/53271584829c1fc65bcd2dd6478b22d1c046db00', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nDepends-On: https://review.opendev.org/740951\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 28, 'created': '2020-07-20 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d002838606ecba3b4641f8a0d8e22e837febd87b', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nDepends-On: https://review.opendev.org/740951\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 29, 'created': '2020-07-20 11:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8aaeb8b777b51c1a9a6dc549d1f2649f70a5596', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nDepends-On: https://review.opendev.org/740951\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 30, 'created': '2020-07-21 08:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7ffa96e22ca0af6aa67627a362a46ba9ea772e79', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nDepends-On: https://review.opendev.org/740951\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}, {'number': 31, 'created': '2020-07-21 16:19:32.000000000', 'files': ['roles/undercloud-deploy/templates/ipa_prep.sh.j2', 'roles/overcloud-deploy/templates/tls-everywhere.yaml.j2', 'roles/freeipa-setup/defaults/main.yml', 'roles/freeipa-setup/templates/ipa_prep.sh.j2', 'roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/hieradata-overrides-classic-undercloud.yaml.j2', 'roles/undercloud-deploy/tasks/ipa_prep.yml', 'roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/tasks/main.yml', 'roles/freeipa-setup/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/freeipa-setup/tasks/ipa_prep.yml', 'roles/freeipa-setup/tasks/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/overcloud-deploy/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d688ab722a53091faf65842f09e6dd03410c7cfe', 'message': ""Support TLS-Everywhere without novajoin\n\nTo run TLS-E without novajoin, set undercloud_enable_novajoin\nto false. To avoid confusion, this changes the previous behavior\nof undercloud_enable_novajoin flag and it's default value. The\noriginal flag wasn't used, because novajoin is only used for\nTLS-E, so it doesn't make sense to deploy it otherwise.\n\nDepends-On: https://review.opendev.org/731383\nDepends-On: https://review.opendev.org/740951\nChange-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414\n""}]",13,721615,d688ab722a53091faf65842f09e6dd03410c7cfe,163,9,31,14250,,,0,"Support TLS-Everywhere without novajoin

To run TLS-E without novajoin, set undercloud_enable_novajoin
to false. To avoid confusion, this changes the previous behavior
of undercloud_enable_novajoin flag and it's default value. The
original flag wasn't used, because novajoin is only used for
TLS-E, so it doesn't make sense to deploy it otherwise.

Depends-On: https://review.opendev.org/731383
Depends-On: https://review.opendev.org/740951
Change-Id: Id97074ff7b1341942e8c85fc709a83b33e0af414
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/15/721615/17 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/ipa_prep.sh.j2', 'roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/hieradata-overrides-classic-undercloud.yaml.j2', 'roles/undercloud-deploy/tasks/ipa_prep.yml', 'roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/tasks/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml', 'roles/overcloud-deploy/templates/tls-everywhere-without-novajoin.yaml.j2', 'roles/undercloud-deploy/defaults/main.yml', 'roles/overcloud-deploy/README.md', 'roles/undercloud-deploy/templates/install_ipa.sh.j2']",13,df0316e5ebb7d868b8d301f7d00408b87afd0494,tls_without_novajoin,#!/usr/bin/env bash ### --start_docs ## Install the required packages for TLS-everywhere ## ========================================================= ## * Install tripleo-ipa ## :: IPA_PACKAGE=ansible-tripleo-ipa sudo {{ ansible_pkg_mgr }} install -y $IPA_PACKAGE ### --stop_docs ,,139,13
openstack%2Fceilometer~master~I7061a31405a421da3ab2f192259fb23c5aa54ce6,openstack/ceilometer,master,I7061a31405a421da3ab2f192259fb23c5aa54ce6,Run migration with NotFound exception as well,MERGED,2020-08-17 12:29:10.000000000,2020-08-19 20:43:10.000000000,2020-08-17 21:49:47.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 12:29:10.000000000', 'files': ['ceilometer/gnocchi_client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/49b098eda41ed23fde0d9373bd5510b95271f051', 'message': 'Run migration with NotFound exception as well\n\nGnocchi start returning regular 404 when requesting resource that do not\nexist [1]. That means, that in case of 404, which is also excpected,\nwe just fail resource creation.\n\n[1] http://paste.openstack.org/show/796884/\n\nChange-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6\n'}]",0,746491,49b098eda41ed23fde0d9373bd5510b95271f051,9,3,1,28619,,,0,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796884/

Change-Id: I7061a31405a421da3ab2f192259fb23c5aa54ce6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/746491/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/gnocchi_client.py'],1,49b098eda41ed23fde0d9373bd5510b95271f051,," except (gnocchi_exc.ResourceTypeNotFound, gnocchi_exc.NotFound):", except gnocchi_exc.ResourceTypeNotFound:,1,1
openstack%2Fceilometer~master~Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,openstack/ceilometer,master,Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338,Run migration with NotFound exception as well,MERGED,2020-08-19 09:18:32.000000000,2020-08-19 20:42:53.000000000,2020-08-19 16:51:15.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 09:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/dbcd75306c9b7927fbab700934ce5697846ec7e5', 'message': 'Run migration with NotFound exception as well\n\nGnocchi start returning regular 404 when requesting resource that do not\nexist [1]. That means, that in case of 404, which is also excpected,\nwe just fail resource creation.\n\n[1] http://paste.openstack.org/show/796884/\n\nChange-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338\n'}, {'number': 2, 'created': '2020-08-19 09:20:46.000000000', 'files': ['ceilometer/gnocchi_client.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/648ce9b6687e43d504d53111725200734053357e', 'message': 'Run migration with NotFound exception as well\n\nGnocchi start returning regular 404 when requesting resource that do not\nexist [1]. That means, that in case of 404, which is also excpected,\nwe just fail resource creation.\n\n[1] http://paste.openstack.org/show/796938/\n\nChange-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338\n'}]",0,746865,648ce9b6687e43d504d53111725200734053357e,10,4,2,28619,,,0,"Run migration with NotFound exception as well

Gnocchi start returning regular 404 when requesting resource that do not
exist [1]. That means, that in case of 404, which is also excpected,
we just fail resource creation.

[1] http://paste.openstack.org/show/796938/

Change-Id: Ie5f8caba3111db7e7e8e50b9bc58c6e8de606338
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/65/746865/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/gnocchi_client.py'],1,dbcd75306c9b7927fbab700934ce5697846ec7e5,," except (gnocchi_exc.ResourceTypeNotFound, gnocchi_exc.NotFound):", except gnocchi_exc.ResourceTypeNotFound:,1,1
openstack%2Fnova~master~I0872ee16e9fc49c988fe588f029ab71f429790f5,openstack/nova,master,I0872ee16e9fc49c988fe588f029ab71f429790f5,libvirt: Mock LoopingCallBase._sleep in rbd tests,MERGED,2020-08-10 10:04:04.000000000,2020-08-19 20:19:04.000000000,2020-08-19 20:16:56.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-10 10:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7586cc5b7dccd77e16d7b147a5b07937064fffe1', 'message': 'libvirt: Mock LoopingCallBase._sleep in rbd tests\n\nThe tests previously mocked eventlet.greenthread.sleep directly but\nI62e9f1a7cde8846be368fbec58b8e0825ce02079 removed this call from\nLoopingCallBase._sleep in oslo.service 1.32.1. Just mock the _sleep\nmethod directly to avoid us ever spinning in tests on this again.\n\nChange-Id: I0872ee16e9fc49c988fe588f029ab71f429790f5\n'}, {'number': 2, 'created': '2020-08-17 14:20:28.000000000', 'files': ['nova/tests/unit/virt/libvirt/storage/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ba23996d036914f2ab7889db9af4ce6997ebc48', 'message': 'libvirt: Mock LoopingCallBase._sleep in rbd tests\n\nThe tests previously mocked eventlet.greenthread.sleep directly but\nI62e9f1a7cde8846be368fbec58b8e0825ce02079 removed this call from\nLoopingCallBase._sleep in oslo.service 1.32.1. Just mock the _sleep\nmethod directly to avoid us ever spinning in tests on this again.\n\nCloses-Bug: #1891898\nChange-Id: I0872ee16e9fc49c988fe588f029ab71f429790f5\n'}]",1,745512,4ba23996d036914f2ab7889db9af4ce6997ebc48,27,12,2,10135,,,0,"libvirt: Mock LoopingCallBase._sleep in rbd tests

The tests previously mocked eventlet.greenthread.sleep directly but
I62e9f1a7cde8846be368fbec58b8e0825ce02079 removed this call from
LoopingCallBase._sleep in oslo.service 1.32.1. Just mock the _sleep
method directly to avoid us ever spinning in tests on this again.

Closes-Bug: #1891898
Change-Id: I0872ee16e9fc49c988fe588f029ab71f429790f5
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/745512/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/storage/test_rbd.py'],1,7586cc5b7dccd77e16d7b147a5b07937064fffe1,bug/1891898," @mock.patch('oslo_service.loopingcall.LoopingCallBase._sleep', new=mock.Mock()) self.driver.cleanup_volumes(filter_fn)", with mock.patch('eventlet.greenthread.sleep'): self.driver.cleanup_volumes(filter_fn),3,2
openstack%2Fdiskimage-builder~master~Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,openstack/diskimage-builder,master,Id0798c0a753f893d02c2d13fddea0c04b28cb7ca,source-repositories: git is a build-only dependency,MERGED,2020-08-11 13:53:49.000000000,2020-08-19 19:22:05.000000000,2020-08-18 06:07:44.000000000,"[{'_account_id': 2}, {'_account_id': 6681}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-11 13:53:49.000000000', 'files': ['diskimage_builder/elements/source-repositories/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3c650255590d7dcded8699cd01e198f6ce4c6c8e', 'message': 'source-repositories: git is a build-only dependency\n\nGit is a build-time dependency that should not end up in the final\nimage should source-repositories be the only element requiring it at\nimage build time.\n\nChange-Id: Id0798c0a753f893d02c2d13fddea0c04b28cb7ca\n'}]",0,745678,3c650255590d7dcded8699cd01e198f6ce4c6c8e,14,7,1,6469,,,0,"source-repositories: git is a build-only dependency

Git is a build-time dependency that should not end up in the final
image should source-repositories be the only element requiring it at
image build time.

Change-Id: Id0798c0a753f893d02c2d13fddea0c04b28cb7ca
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/745678/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/source-repositories/package-installs.yaml'],1,3c650255590d7dcded8699cd01e198f6ce4c6c8e,,# if you are doing pip install on a git cloned directory git: build-only: True,"# if you are doing pip install on a git cloned directory, because this # looks to be a fairly common pattern it makes sense to have git on the # target image git:",2,3
openstack%2Fopenstack-ansible-os_designate~stable%2Fussuri~I196c263c7fb017a1d8386e8e9fb339af70165c51,openstack/openstack-ansible-os_designate,stable/ussuri,I196c263c7fb017a1d8386e8e9fb339af70165c51,Add CentOS-8 support,MERGED,2020-08-13 06:32:30.000000000,2020-08-19 18:58:07.000000000,2020-08-19 18:56:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-13 06:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/501c5b93b0f2ce56f12a6b5b912b2763a7552efd', 'message': 'Add CentOS-8 support\n\nreferencing ansible_python_interpreter to main.yml file to fix it.\n\nChange-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51\n'}, {'number': 2, 'created': '2020-08-15 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/bc553ec3f9b790eaa83926654b6e6f67730e4749', 'message': 'Add CentOS-8 support\n\nreferencing ansible_python_interpreter to main.yml file to fix it.\n\nDepends-On: https://review.opendev.org/746366\nChange-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51\n'}, {'number': 3, 'created': '2020-08-16 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/6b7a3dd9173e72e0b66b0dbbfc4704ae061f6b50', 'message': 'Add CentOS-8 support\n\nreferencing ansible_python_interpreter to main.yml file to fix it.\n\nDepends-On: https://review.opendev.org/710849\nChange-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51\n(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)\n'}, {'number': 4, 'created': '2020-08-16 13:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0ca79f6bc7488d2d3a5e37acfa0f06031f2aa2a1', 'message': 'Add CentOS-8 support\n\nreferencing ansible_python_interpreter to main.yml file to fix it.\n\nChange-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51\n(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)\n'}, {'number': 5, 'created': '2020-08-16 20:06:10.000000000', 'files': ['tasks/designate_post_install.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/a26e154d08da04afda860a6bffe6841fd49c8fb3', 'message': 'Add CentOS-8 support\n\nreferencing ansible_python_interpreter to main.yml file to fix it.\n\nDepends-On: https://review.opendev.org/746366\nChange-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51\n(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)\n'}]",0,746006,a26e154d08da04afda860a6bffe6841fd49c8fb3,23,5,5,28619,,,0,"Add CentOS-8 support

referencing ansible_python_interpreter to main.yml file to fix it.

Depends-On: https://review.opendev.org/746366
Change-Id: I196c263c7fb017a1d8386e8e9fb339af70165c51
(cherry picked from commit d16298c411a40c307752b6a6494ee8379a654525)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/06/746006/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/designate_post_install.yml', 'vars/debian.yml']",2,501c5b93b0f2ce56f12a6b5b912b2763a7552efd,osa/el8-stable/ussuri,, - python-systemd,1,3
openstack%2Fkolla-ansible~master~I729862b89b4fe65cbb7f852fac06741b636e4939,openstack/kolla-ansible,master,I729862b89b4fe65cbb7f852fac06741b636e4939,CI: enable Ansible SSH pipelining,MERGED,2020-08-13 08:27:01.000000000,2020-08-19 18:43:37.000000000,2020-08-19 14:38:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-13 08:27:01.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fac359bf4ec1374ba84ff5990f3ef74454d8c07', 'message': 'CI: enable Ansible SSH pipelining\n\nThis should improve performance of CI jobs.\n\nChange-Id: I729862b89b4fe65cbb7f852fac06741b636e4939\n'}]",0,746019,9fac359bf4ec1374ba84ff5990f3ef74454d8c07,14,3,1,14826,,,0,"CI: enable Ansible SSH pipelining

This should improve performance of CI jobs.

Change-Id: I729862b89b4fe65cbb7f852fac06741b636e4939
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/746019/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,9fac359bf4ec1374ba84ff5990f3ef74454d8c07,, [ssh_connection] pipelining = True,,3,0
openstack%2Fkolla-ansible~master~Iadf43383a7f2bf377d4666a55a38d92bd70711aa,openstack/kolla-ansible,master,Iadf43383a7f2bf377d4666a55a38d92bd70711aa,Fix ownership and permissions of admin-openrc.sh,MERGED,2020-08-06 06:24:32.000000000,2020-08-19 18:43:02.000000000,2020-08-19 16:46:53.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-06 06:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d75e512799d13797d538d43eda5aef187bdf6b71', 'message': 'Change user/group for admin-openrc.sh file\n\nfile user/group should be consistent with config_owner_user\nwhen config_owner_user is not root\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 2, 'created': '2020-08-07 01:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3bae6279afa2ca44bf545cb868d2aaf38ee88f0e', 'message': 'Change user/group for admin-openrc.sh file\n\nfile user/group should be consistent with config_owner_user\nwhen config_owner_user is not root\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 3, 'created': '2020-08-14 17:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61cbc142e164c09a50d7b17550812324dc6a3ffb', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without a mode specified. This\nresulted in admin-openrc.sh being owned by root with 644 permissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe mode to 600. It also provides transitional code to fix the ownership\nto the current user.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: # TODO\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 4, 'created': '2020-08-14 19:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e40e08fdc7db113b6e94cbe8c1ec6079a17c8e6b', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without a mode specified. This\nresulted in admin-openrc.sh being owned by root with 644 permissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe mode to 600. It also provides transitional code to fix the ownership\nto the current user.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 5, 'created': '2020-08-17 14:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e6c16426897668a2f0d95a1d719ef7e5f6c0bf7', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 6, 'created': '2020-08-17 20:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffd89ab7152df049c599eee2cdf75290e0bec7a0', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}, {'number': 7, 'created': '2020-08-19 07:24:22.000000000', 'files': ['releasenotes/notes/fix-admin-openrc-ownership-mode-310d89a6f50a9640.yaml', 'ansible/post-deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16f97867a3f7050ac42fbb921310ca884e974a11', 'message': 'Fix ownership and permissions of admin-openrc.sh\n\nPreviously the post-deploy.yml playbook was executed with become: true,\nand the admin-openrc.sh file templated without an owner or mode\nspecified. This resulted in admin-openrc.sh being owned by root with 644\npermissions.\n\nThis change creates the file without become: true, and explicitly sets\nthe owner to the user executing Ansible, and the mode to 600.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nCloses-Bug: #1891704\n\nChange-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa\n'}]",3,745071,16f97867a3f7050ac42fbb921310ca884e974a11,48,8,7,32029,,,0,"Fix ownership and permissions of admin-openrc.sh

Previously the post-deploy.yml playbook was executed with become: true,
and the admin-openrc.sh file templated without an owner or mode
specified. This resulted in admin-openrc.sh being owned by root with 644
permissions.

This change creates the file without become: true, and explicitly sets
the owner to the user executing Ansible, and the mode to 600.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Closes-Bug: #1891704

Change-Id: Iadf43383a7f2bf377d4666a55a38d92bd70711aa
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/745071/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/post-deploy.yml'],1,d75e512799d13797d538d43eda5aef187bdf6b71,bug/1891704," owner: ""{{ config_owner_user }}"" group: ""{{ config_owner_group }}""",,2,0
openstack%2Foctavia-tempest-plugin~master~I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,openstack/octavia-tempest-plugin,master,I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94,Update statistics tests for response time metric,NEW,2020-07-23 17:42:29.000000000,2020-08-19 18:36:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 32084}, {'_account_id': 32085}]","[{'number': 1, 'created': '2020-07-23 17:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3ed365d28f43e417abc6a7909f0542f6a00b0adb', 'message': 'Update statistics tests for response time metric\n\nChange-Id: I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Stephanie Djajadi <stephanie.djajadi@gmail.com>\n'}, {'number': 2, 'created': '2020-08-18 22:40:59.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b019eaee25d79107b2114db8fb0cd930f673b076', 'message': 'Update statistics tests for response time metric\n\nChange-Id: I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94\nCo-Authored-By: Adam Harwell <flux.adam@gmail.com>\nCo-Authored-By: Stephanie Djajadi <stephanie.djajadi@gmail.com>\n'}]",0,742716,b019eaee25d79107b2114db8fb0cd930f673b076,8,3,2,32084,,,0,"Update statistics tests for response time metric

Change-Id: I85ebad6d5308f5f9ce4d8f0f160d954aeb5e7c94
Co-Authored-By: Adam Harwell <flux.adam@gmail.com>
Co-Authored-By: Stephanie Djajadi <stephanie.djajadi@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/16/742716/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",3,3ed365d28f43e417abc6a7909f0542f6a00b0adb,," if self.mem_listener_client.is_version_supported( self.api_version, '2.19'): self.assertEqual(6, len(stats)) self.assertEqual(0, stats[const.RESPONSE_TIME]) else: self.assertEqual(5, len(stats))"," self.assertEqual(5, len(stats))",13,2
openstack%2Fopenstack-ansible~master~I484b1d0e659ff6aaf0284390e147adc616d63e1f,openstack/openstack-ansible,master,I484b1d0e659ff6aaf0284390e147adc616d63e1f,Return nova services reload,NEW,2020-08-17 15:13:23.000000000,2020-08-19 18:33:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-17 15:13:23.000000000', 'files': ['playbooks/os-nova-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9998d9479ca9b8646a7f3912d904eb7b022a92a4', 'message': 'Return nova services reload\n\nNova service reload has been replaced with restart several cycles ago.\nNow issue has been fixed and we can revert service action back to reload\n\nAlong with that we restart only vnc/spice service on nova_console hosts.\n\nChange-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f\n'}]",0,746544,9998d9479ca9b8646a7f3912d904eb7b022a92a4,9,2,1,28619,,,0,"Return nova services reload

Nova service reload has been replaced with restart several cycles ago.
Now issue has been fixed and we can revert service action back to reload

Along with that we restart only vnc/spice service on nova_console hosts.

Change-Id: I484b1d0e659ff6aaf0284390e147adc616d63e1f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/746544/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-nova-install.yml'],1,9998d9479ca9b8646a7f3912d904eb7b022a92a4,os-nova-install," service_action: ""reloaded"" service_fact: ""nova"" service_name: ""nova-novncproxy|nova-spicehtml5proxy"""," # NOTE(mnaser): There is a bug in oslo.service which actually restarts # the entire service instead of resetting it, but it # leaves Nova in a broken state. This should be moved # to ""reloaded"" once it's resolved. # # https://bugs.launchpad.net/openstack-ansible/+bug/1715374 # service_action: ""restarted"" service_name: ""nova""",3,11
openstack%2Frequirements~master~Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,openstack/requirements,master,Ie30fe79e686f89fbdb246b5330d5b9f10aecf354,Add ansible to blacklist,MERGED,2020-05-11 09:52:28.000000000,2020-08-19 18:31:41.000000000,2020-05-12 19:56:16.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-11 09:52:28.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c', 'message': 'Add ansible to blacklist\n\nSome projects, such as kolla-ansible, have a dependency on ansible. At\npresent it is not possible to add this to your requirements as it does\nnot appear in the global requirements file. However, it is useful to\nhave ansible as dependency to allow testing of plugins.\n\nThere is not a strong dependence on the openstack libraries, so it makes\nsense to include this in the blacklist and not in global requirements,\nso that the individual projects can specify the version required.\n\nChange-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354\n'}]",0,726768,dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c,12,5,1,28048,,,0,"Add ansible to blacklist

Some projects, such as kolla-ansible, have a dependency on ansible. At
present it is not possible to add this to your requirements as it does
not appear in the global requirements file. However, it is useful to
have ansible as dependency to allow testing of plugins.

There is not a strong dependence on the openstack libraries, so it makes
sense to include this in the blacklist and not in global requirements,
so that the individual projects can specify the version required.

Change-Id: Ie30fe79e686f89fbdb246b5330d5b9f10aecf354
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/726768/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,dcef447f6d5233ecc20ba19b7fa1e04e7dfb740c,, # Projects are free to specify their own version of ansible ansible,,3,0
openstack%2Ftripleo-ansible~master~I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,openstack/tripleo-ansible,master,I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6,tripleo_container_configs module,MERGED,2020-08-13 18:25:25.000000000,2020-08-19 18:26:34.000000000,2020-08-19 18:02:46.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-13 18:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/158eab23f932e3d9f4ed6f87ee76a25e757b467e', 'message': 'WIP - kolla_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 2, 'created': '2020-08-13 18:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6928550be054ae2dc17a6308ad53ce4f280358ca', 'message': 'WIP - kolla_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 3, 'created': '2020-08-13 18:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d89cc9066be83bb64aabe78997338450c0afe04', 'message': 'kolla_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 4, 'created': '2020-08-13 19:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/546fa746abb78a7c5d516479b53ddb5e50db31ef', 'message': 'tripleo_kolla_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 5, 'created': '2020-08-13 21:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/129cb8da090b438f7abca8036a83806752c2f4da', 'message': 'tripleo_kolla_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 6, 'created': '2020-08-17 13:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4354095225ac1dfefbfe870e997f6a3df2dba34', 'message': 'tripleo_container_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}, {'number': 7, 'created': '2020-08-18 12:35:37.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_configs.py', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_container_configs/prepare.yml', 'doc/source/modules/modules-tripleo-container-configs.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bfc2681ad539e55087c1f4a15e638c34c31dc7e1', 'message': 'tripleo_container_configs module\n\nTo replace the task that looks over kolla_config.yaml and creates the\njson files per item in the YAML, create a module that will lead to one\ntask creating all the files.\n\nChange-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6\n'}]",4,746214,bfc2681ad539e55087c1f4a15e638c34c31dc7e1,34,6,7,3153,,,0,"tripleo_container_configs module

To replace the task that looks over kolla_config.yaml and creates the
json files per item in the YAML, create a module that will lead to one
task creating all the files.

Change-Id: I19d8b8c3bc37cca6fb2c9e535e70b43dabef58d6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/746214/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/kolla_configs/kolla_config.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/kolla_configs/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/kolla_configs/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/kolla_configs/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/kolla_configs.py']",5,158eab23f932e3d9f4ed6f87ee76a25e757b467e,config/json,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. __metaclass__ = type import glob import json import os import shutil import yaml from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = """""" --- module: kolla_configs author: - ""TripleO team"" version_added: '2.9' short_description: Generate Kolla configs in JSON notes: [] description: - It will generate the Kolla JSON configs from config-download data in YAML. requirements: - None options: config_data: description: - Content of kolla_config.yaml file (must be YAML format) type: dict required: true """""" EXAMPLES = """""" - name: Write kolla config json files kolla_configs: config_data: /var/lib/kolla/config_files/ceilometer_agent_compute.json: command: /usr/bin/ceilometer-polling compute config_files: - dest: / merge: true preserve_properties: true source: /var/lib/kolla/config_files/src/* /var/lib/kolla/config_files/ceilometer_agent_notification.json: command: /usr/bin/ceilometer-agent-notification config_files: - dest: / merge: true preserve_properties: true source: /var/lib/kolla/config_files/src/* """""" class KollaConfigsManager: """"""Class for kolla_configs module."""""" def __init__(self, module, results): super(KollaConfigsManager, self).__init__() self.module = module self.results = results # parse args args = self.module.params # Set parameters self.config_data = yaml.safe_load(args['config_data']) for path, config in self.config_data.items(): self._create_config(path, config) self.module.exit_json(**self.results) def _create_config(self, path, config): """"""Update a container config. :param path: string :param config: string """""" with open(path, ""wb"") as config_file: config_file.write(json.dumps(config, indent=2).encode('utf-8')) os.chmod(path, 0o600) self.results['changed'] = True def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) KollaConfigsManager(module, results) if __name__ == '__main__': main() ",,217,0
openstack%2Fheat-translator~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/heat-translator,master,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-26 23:40:42.000000000,2020-08-19 18:13:55.000000000,2020-08-19 18:11:13.000000000,"[{'_account_id': 8556}, {'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-26 23:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/76e7cc8d25d492ef6ac73395580b2321601bf2fd', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\nStory: #2007865\nTask: #40186\n'}, {'number': 2, 'created': '2020-08-16 16:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/a3f1400a764746d697de8ee1045106d2afbb405a', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40186\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 3, 'created': '2020-08-16 17:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/4e56ad95876fd85d9c96c245c79bfe91fe105357', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40186\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 4, 'created': '2020-08-16 21:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/91c00002a3dc20d2934b16cad6961dbd0365ac35', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40186\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 5, 'created': '2020-08-16 21:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/54f8e0dbf936c85ad7d25692cedf380223ae7eca', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40186\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}, {'number': 6, 'created': '2020-08-17 14:19:52.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/828ede5d673b3adf45c0e88132ea14a03c687197', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40186\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}]",0,743104,828ede5d673b3adf45c0e88132ea14a03c687197,20,5,6,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40186

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/04/743104/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76e7cc8d25d492ef6ac73395580b2321601bf2fd,migrate-to-focal,#test focal,,1,0
openstack%2Fpuppet-cinder~stable%2Fussuri~If3f3f230aae7e04a774c967e1786561d70e43e50,openstack/puppet-cinder,stable/ussuri,If3f3f230aae7e04a774c967e1786561d70e43e50,Expose vhost_custom_fragment,MERGED,2020-08-13 15:55:02.000000000,2020-08-19 18:09:23.000000000,2020-08-19 18:09:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-08-13 15:55:02.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/61e773f49c7e5265b0e26290e43ba61b11649404', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Cinder service.\n\nChange-Id: If3f3f230aae7e04a774c967e1786561d70e43e50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)\n""}]",0,746170,61e773f49c7e5265b0e26290e43ba61b11649404,19,5,1,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Cinder service.

Change-Id: If3f3f230aae7e04a774c967e1786561d70e43e50
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 1fa7a69e9b9300c1c228f872ba3e37f0210f17dd)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/70/746170/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/cinder_wsgi_apache_spec.rb']",2,61e773f49c7e5265b0e26290e43ba61b11649404,," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Frequirements~stable%2Fussuri~Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,openstack/requirements,stable/ussuri,Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,Add yamllint to blacklist,MERGED,2020-08-19 12:53:15.000000000,2020-08-19 18:01:29.000000000,2020-08-19 18:01:29.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 12:53:15.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05f7a31434845ce8b33a7e44c0e2c6aea97dc150', 'message': 'Add yamllint to blacklist\n\nSome projects, such as kolla-ansible, use yamllint for linting YAML\ncode.\nAt present it is not possible to add this to your requirements as it\ndoes not appear in the global requirements file.\n\nThe reason for Ussuri backport: Kolla cut off the Ussuri branch\nalready in Victoria cycle, with this in place, and now it fails\non req-checks jobs in Ussuri.\n\nChange-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459\n(cherry picked from commit 6ca51f2b1c52a6691925029586b6514ede8f13a1)\n'}]",0,746916,05f7a31434845ce8b33a7e44c0e2c6aea97dc150,9,5,1,30491,,,0,"Add yamllint to blacklist

Some projects, such as kolla-ansible, use yamllint for linting YAML
code.
At present it is not possible to add this to your requirements as it
does not appear in the global requirements file.

The reason for Ussuri backport: Kolla cut off the Ussuri branch
already in Victoria cycle, with this in place, and now it fails
on req-checks jobs in Ussuri.

Change-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459
(cherry picked from commit 6ca51f2b1c52a6691925029586b6514ede8f13a1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/746916/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,05f7a31434845ce8b33a7e44c0e2c6aea97dc150,,yamllint,,1,0
openstack%2Fneutron~stable%2Frocky~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/rocky,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:49:13.000000000,2020-08-19 18:01:27.000000000,2020-08-19 18:01:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 14:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa70ea37bff2baae8b26dfefb1d46ff4115d1b48', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n'}, {'number': 2, 'created': '2020-08-06 18:40:00.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ac33d1a9bf1655ae1316f8c7b2ad3047abba69c', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}]",0,744188,4ac33d1a9bf1655ae1316f8c7b2ad3047abba69c,16,8,2,11952,,,0,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/744188/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,fa70ea37bff2baae8b26dfefb1d46ff4115d1b48,bug/1878299,"from neutron_lib.callbacks import registry @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') @mock.patch.object(registry, 'notify') self, mock_pf_get_object, mock_rpc_push, mock_registry_notify, mock_get_port, mock_pf_get_objects): pf_obj.internal_ip_address = ""10.0.0.1"" port_dict = {'id': 'ID', 'fixed_ips': [{""subnet_id"": ""test-subnet-id"", ""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict mock_pf_get_objects.return_value = [] @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update(self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict other_pf_obj = mock.Mock(id='cmp_obj_id') pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address='10.0.0.1') mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.pf_plugin._check_port_forwarding_update(self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_called_once_with(self.ctxt, floatingip_id=pf_obj.floatingip_id, protocol=pf_obj.protocol) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_address( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address=""99.99.99.99"") self.assertRaisesRegex( lib_exc.BadRequest, ""not correspond to an address on the internal port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_not_called() @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_external( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'floating_ip_address': 'same_fip_addr', 'external_port': 'same_ext_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two', internal_ip_address='10.0.0.1') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_fip_addr.*same_ext_port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, mock.ANY) mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_internal( self, mock_get_port, mock_pf_get_objects): same_internal_ip = ""10.0.0.10"" port_dict = {'fixed_ips': [{""ip_address"": same_internal_ip}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'internal_port_id': 'same_int_port_id', 'internal_ip_address': same_internal_ip, 'internal_port': 'same_int_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_int_port_id.*{}.*same_int_port"".format( same_internal_ip), self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'same_int_port_id') mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) "," self, mock_pf_get_object, mock_rpc_push):",132,1
openstack%2Fneutron~stable%2Ftrain~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,stable/train,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-07-31 14:32:26.000000000,2020-08-19 17:23:58.000000000,2020-08-19 17:21:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 14:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40f8018d634c268f29677540a2236fa564d2d2f2', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nNote: pep8 failed with following error in stable/train:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n'}, {'number': 2, 'created': '2020-08-06 18:32:52.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9273af2c50b03bb5b1d7fb1944d0271e2785b35b', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nThis is a backport that combines changes from 2 changes that go together:\nhttps://review.opendev.org/#/c/738145/\nhttps://review.opendev.org/#/c/744993/\n\nNote: pep8 failed with following error in stable/train:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:\n  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:\n    N322  Possible use of no-op mock method. please use assert_called_once_with.\n        mock_pf_get_objects.assert_called_once()\n        ^\nSo additional changes were needed for backport.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)\n(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)\n'}]",4,744182,9273af2c50b03bb5b1d7fb1944d0271e2785b35b,24,8,2,11952,,,0,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

This is a backport that combines changes from 2 changes that go together:
https://review.opendev.org/#/c/738145/
https://review.opendev.org/#/c/744993/

Note: pep8 failed with following error in stable/train:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:237:9:
  ./neutron/tests/unit/services/portforwarding/test_pf_plugin.py:261:9:
    N322  Possible use of no-op mock method. please use assert_called_once_with.
        mock_pf_get_objects.assert_called_once()
        ^
So additional changes were needed for backport.

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
(cherry picked from commit f3797403486ba43100ff9ec8917d38c8723e12b2)
(cherry picked from commit 838399f0a489e898cfefe49dbe026553bc117381)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/744182/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,40f8018d634c268f29677540a2236fa564d2d2f2,bug/1878299,"from neutron_lib.callbacks import registry @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') @mock.patch.object(registry, 'notify') self, mock_pf_get_object, mock_rpc_push, mock_registry_notify, mock_get_port, mock_pf_get_objects): pf_obj.internal_ip_address = ""10.0.0.1"" port_dict = {'id': 'ID', 'fixed_ips': [{""subnet_id"": ""test-subnet-id"", ""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict mock_pf_get_objects.return_value = [] @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update(self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict other_pf_obj = mock.Mock(id='cmp_obj_id') pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address='10.0.0.1') mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.pf_plugin._check_port_forwarding_update(self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_called_once_with(self.ctxt, floatingip_id=pf_obj.floatingip_id, protocol=pf_obj.protocol) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_address( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj = mock.Mock(id='pf_obj_id', internal_port_id='int_port_id', internal_ip_address=""99.99.99.99"") self.assertRaisesRegex( lib_exc.BadRequest, ""not correspond to an address on the internal port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'int_port_id') mock_pf_get_objects.assert_not_called() @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_external( self, mock_get_port, mock_pf_get_objects): port_dict = {'fixed_ips': [{""ip_address"": ""10.0.0.1""}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'floating_ip_address': 'same_fip_addr', 'external_port': 'same_ext_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two', internal_ip_address='10.0.0.1') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_fip_addr.*same_ext_port"", self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, mock.ANY) mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) @mock.patch.object(port_forwarding.PortForwarding, 'get_objects') @mock.patch.object(db_base_plugin_v2.NeutronDbPluginV2, 'get_port') def test_check_port_forwarding_update_invalid_internal( self, mock_get_port, mock_pf_get_objects): same_internal_ip = ""10.0.0.10"" port_dict = {'fixed_ips': [{""ip_address"": same_internal_ip}]} mock_get_port.return_value = port_dict pf_obj_dict = {'id': 'pf_obj_one', 'internal_port_id': 'same_int_port_id', 'internal_ip_address': same_internal_ip, 'internal_port': 'same_int_port'} other_pf_obj = mock.Mock(**pf_obj_dict) pf_obj_dict.update(id='pf_obj_two') pf_obj = mock.Mock(**pf_obj_dict) mock_pf_get_objects.return_value = [pf_obj, other_pf_obj] self.assertRaisesRegex( lib_exc.BadRequest, ""already exist.*same_int_port_id.*{}.*same_int_port"".format( same_internal_ip), self.pf_plugin._check_port_forwarding_update, self.ctxt, pf_obj) mock_get_port.assert_called_once_with(self.ctxt, 'same_int_port_id') mock_pf_get_objects.assert_called_with( self.ctxt, floatingip_id=mock.ANY, protocol=mock.ANY) "," self, mock_pf_get_object, mock_rpc_push):",132,1
openstack%2Foslo.cache~master~Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,openstack/oslo.cache,master,Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500,Add python-binary-memcached to support SASL,MERGED,2020-07-28 08:33:33.000000000,2020-08-19 17:19:40.000000000,2020-08-19 17:17:19.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 31827}]","[{'number': 1, 'created': '2020-07-28 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5023f0e8da224531e3ef33f7ecd8e1b8f27e3f3c', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need this package\nto support sasl protocol, so we should bump\npython-binary-memcached to 0.29.0.\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 2, 'created': '2020-07-28 08:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/07f15b41dd98ea15a0b7a1afe2477c872f406456', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 3, 'created': '2020-07-28 13:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8dad89778243c7378e16d9e63dfc3088a5c7ff19', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 4, 'created': '2020-07-29 05:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d2730d25e8e2bd880667ca9277d6576ca6c64f5e', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 5, 'created': '2020-08-12 12:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6c05e3c6195f545a4105200e191257ba171128b5', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 6, 'created': '2020-08-12 12:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ecbe35c8905d94268c010b27550dd6f7d2706cac', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 7, 'created': '2020-08-12 12:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d5fc5a0e0d4acecbd9647b72c288b4b4ae1ba6e2', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 8, 'created': '2020-08-13 01:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/265676c0756f8c38aa32ba018bafa1d98b81ffef', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we\nneed these package to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache\nrequirements.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 9, 'created': '2020-08-13 09:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e57e73e9b59cdab497eb8833bab56c6e86b5a3b8', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these \npackage to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache requirements.\nOnly required for sasl/binary protocol\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 10, 'created': '2020-08-13 09:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d6e8faae91f3ddf2edbb8529ab35f9639cef0800', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackage to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache requirements.\nOnly required for sasl/binary protocol\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 11, 'created': '2020-08-19 13:53:31.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c872fc0b9430ae43aa7fe7680f0072ada01c0707', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackage to support sasl protocol, so we should bump\npython-binary-memcached>=0.29.0 in oslo.cache requirements.\nOnly required for sasl/binary protocol\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nChange-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500\nImplements: blueprint enable-sasl-protocol\n'}]",0,743484,c872fc0b9430ae43aa7fe7680f0072ada01c0707,37,6,11,31827,,,0,"Add python-binary-memcached to support SASL

In 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced
python-binary-memcached in requirement, and we need these
package to support sasl protocol, so we should bump
python-binary-memcached>=0.29.0 in oslo.cache requirements.
Only required for sasl/binary protocol

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Change-Id: Ic4335f0a81c6189d6d0ad254c4a1bb86dbd11500
Implements: blueprint enable-sasl-protocol
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/84/743484/11 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5023f0e8da224531e3ef33f7ecd8e1b8f27e3f3c,bp/enable-sasl-protocol, #Only required for sasl/binary protocol python-binary-memcached>=0.29.0 # MIT uhashring>=1.2 # BSD,,4,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I53c30652df0168f941bec10d0f462e44512ce39a,openstack/puppet-openstack_extras,stable/ussuri,I53c30652df0168f941bec10d0f462e44512ce39a,[RedHat] Set up yum repositories from repo file,MERGED,2020-08-18 12:52:10.000000000,2020-08-19 17:09:45.000000000,2020-08-19 17:06:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e5b8023b398c4604e31791fe67d48f9d84cd98f3', 'message': '[RedHat] Set up yum repositories from repo file\n\nThis patch allows operators to use .repo file directly to configure\nyum repogitories on RHEL/CentOS node, so that they can use the .repo\nfile provided in RDO repository directly.\nThis is useful especially in RDO CentOS8, because now it provides\nseprated repogitory namespaces for modules.\n\nDepends-on: https://review.opendev.org/#/c/742146/\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n(cherry picked from commit cc751868cf8c6f0be9465ec5ca66673834feb18c)\n'}, {'number': 2, 'created': '2020-08-18 14:33:08.000000000', 'files': ['releasenotes/notes/repo-redhat-repofile-bfafdae3f8b158b2.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/2bdcc2ba5a74f39fa6ac9462efecdc8c69881b1b', 'message': '[RedHat] Set up yum repositories from repo file\n\nThis patch allows operators to use .repo file directly to configure\nyum repogitories on RHEL/CentOS node, so that they can use the .repo\nfile provided in RDO repository directly.\nThis is useful especially in RDO CentOS8, because now it provides\nseprated repogitory namespaces for modules.\n\nDepends-on: https://review.opendev.org/#/c/742146/\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n(cherry picked from commit cc751868cf8c6f0be9465ec5ca66673834feb18c)\n'}]",2,746703,2bdcc2ba5a74f39fa6ac9462efecdc8c69881b1b,16,4,2,9816,,,0,"[RedHat] Set up yum repositories from repo file

This patch allows operators to use .repo file directly to configure
yum repogitories on RHEL/CentOS node, so that they can use the .repo
file provided in RDO repository directly.
This is useful especially in RDO CentOS8, because now it provides
seprated repogitory namespaces for modules.

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I53c30652df0168f941bec10d0f462e44512ce39a
(cherry picked from commit cc751868cf8c6f0be9465ec5ca66673834feb18c)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/03/746703/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/repo-redhat-repofile-bfafdae3f8b158b2.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,e5b8023b398c4604e31791fe67d48f9d84cd98f3,centos8-beaker-stable/ussuri," context 'with repo_source_hash' do let :params do default_params.merge!({ :repo_source_hash => { 'delorean.repo' => 'https://trunk.rdoproject.org/centos8-master/puppet-passed-ci/delorean.repo', 'delorean-deps.repo' => 'https://trunk.rdoproject.org/centos8-master/delorean-deps.repo'}}) end it { should contain_file('delorean.repo').with( :path => '/etc/yum.repos.d/delorean.repo', :source => 'https://trunk.rdoproject.org/centos8-master/puppet-passed-ci/delorean.repo' ) should contain_file('delorean-deps.repo').with( :path => '/etc/yum.repos.d/delorean-deps.repo', :source => 'https://trunk.rdoproject.org/centos8-master/delorean-deps.repo' ) } end",,39,0
openstack%2Fsushy~master~I7b989bb106492a3158e0d7929871f0a7aa2b50bf,openstack/sushy,master,I7b989bb106492a3158e0d7929871f0a7aa2b50bf,DNM try breaking vmedia,ABANDONED,2020-08-19 15:36:13.000000000,2020-08-19 16:51:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-19 15:36:13.000000000', 'files': ['sushy/resources/manager/virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/a5ad232ec05f3161ad8eccf3a1dc1234c6e6775b', 'message': 'DNM try breaking vmedia\n\nChange-Id: I7b989bb106492a3158e0d7929871f0a7aa2b50bf\n'}]",0,746963,a5ad232ec05f3161ad8eccf3a1dc1234c6e6775b,3,1,1,10239,,,0,"DNM try breaking vmedia

Change-Id: I7b989bb106492a3158e0d7929871f0a7aa2b50bf
",git fetch https://review.opendev.org/openstack/sushy refs/changes/63/746963/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/resources/manager/virtual_media.py'],1,a5ad232ec05f3161ad8eccf3a1dc1234c6e6775b,test, raise RuntimeError('go away'),,1,0
openstack%2Fironic-inspector~master~I660192549918b9cd9738810cbfaf3dc4456f97fa,openstack/ironic-inspector,master,I660192549918b9cd9738810cbfaf3dc4456f97fa,Replace retrying with tenacity,MERGED,2020-08-11 13:16:12.000000000,2020-08-19 16:48:20.000000000,2020-08-19 16:44:26.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-11 13:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d13e1ba8a54a5c2c1024243426383e88cf1a63c4', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTasK: #40647\n""}, {'number': 2, 'created': '2020-08-11 13:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/09ee0e434635d6a89936b3b83c0c4180fa56088c', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTask: #40647\n""}, {'number': 3, 'created': '2020-08-11 13:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ae870462c0c45de3cc8f8900456514ffe4abdbac', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\n[1] https://github.com/jd/tenacity\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTask: #40647\n""}, {'number': 4, 'created': '2020-08-12 11:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/319df648804afba7bf65467aec950a4cacb71e6f', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\n[1] https://github.com/jd/tenacity\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTask: #40647\n""}, {'number': 5, 'created': '2020-08-18 13:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e5b8b33a6c3aaa01064bd15e6607dbf4af36b4f9', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\n[1] https://github.com/jd/tenacity\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTask: #40647\n""}, {'number': 6, 'created': '2020-08-18 13:11:26.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f4648facf76ff2ac742fc11bb81880f262e61ee2', 'message': ""Replace retrying with tenacity\n\nWe are replacing all usages of the 'retrying' package with\n'tenacity' as the author of retrying is not actively maintaining\nthe project. Tenacity is a fork of retrying, but has improved the\ninterface and extensibility (see [1] for more details). Our end\ngoal here is removing the retrying package from our requirements.\n\n[1] https://github.com/jd/tenacity\n\nChange-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa\nStory: #1635390\nTask: #40647\n""}]",2,745667,f4648facf76ff2ac742fc11bb81880f262e61ee2,25,7,6,23851,,,0,"Replace retrying with tenacity

We are replacing all usages of the 'retrying' package with
'tenacity' as the author of retrying is not actively maintaining
the project. Tenacity is a fork of retrying, but has improved the
interface and extensibility (see [1] for more details). Our end
goal here is removing the retrying package from our requirements.

[1] https://github.com/jd/tenacity

Change-Id: I660192549918b9cd9738810cbfaf3dc4456f97fa
Story: #1635390
Task: #40647
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/67/745667/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'ironic_inspector/common/ironic.py']",3,d13e1ba8a54a5c2c1024243426383e88cf1a63c4,use-tenacity,"import tenacity@tenacity.retry( retry=tenacity.retry_if_exception_type(os_exc.SDKException), stop=tenacity.stop_after_attempt(5), reraise=True)","import retrying@retrying.retry( retry_on_exception=lambda exc: isinstance(exc, os_exc.SDKException), stop_max_attempt_number=5, wait_fixed=1000)",5,6
openstack%2Fcinder~master~Ia620043904f4f31a81bc8463fb36476a149f9808,openstack/cinder,master,Ia620043904f4f31a81bc8463fb36476a149f9808,Correct formatting in release note,MERGED,2020-05-30 02:24:43.000000000,2020-08-19 16:46:34.000000000,2020-06-08 14:37:24.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-05-30 02:24:43.000000000', 'files': ['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f690327b55cac79540c9bb7b10c390b73aa3fc62', 'message': ""Correct formatting in release note\n\nA missing '_' is causing a hyperlink to render incorrectly in HTML.\n\nChange-Id: Ia620043904f4f31a81bc8463fb36476a149f9808\n""}]",0,731875,f690327b55cac79540c9bb7b10c390b73aa3fc62,30,22,1,5314,,,0,"Correct formatting in release note

A missing '_' is causing a hyperlink to render incorrectly in HTML.

Change-Id: Ia620043904f4f31a81bc8463fb36476a149f9808
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/731875/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1875570-nfs-image-volume-cache-c45e840a6ec2a702.yaml'],1,f690327b55cac79540c9bb7b10c390b73aa3fc62,correct-relnote, `Bug #1875570 <https://bugs.launchpad.net/cinder/+bug/1875570>`_:, `Bug #1875570 <https://bugs.launchpad.net/cinder/+bug/1875570>`:,1,1
openstack%2Fironic-inspector~stable%2Fussuri~Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,openstack/ironic-inspector,stable/ussuri,Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8,Fix URL parsing to enable redfish_address matching,MERGED,2020-08-18 13:31:04.000000000,2020-08-19 16:29:09.000000000,2020-08-19 16:27:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 13:31:04.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/conf/default.py', 'releasenotes/notes/support_redfish_address-94eae2c0d2879f53.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bc4311e16f108e7e38036c13b73f0824d34eb4a1', 'message': 'Fix URL parsing to enable redfish_address matching\n\nFixes the ironic utilities logic to parse URLs in driver_info\nproperly.\n\nAlso adds ``redfish_address`` to the default list of fields to\nevaluate for host matching.\n\nPreviously an operator could add the field to the list, but the\nmatching logic would not match the URL as it did not know to\ndecompose the url and identify the hostname portion of the url.\n\nConflicts:\n      ironic_inspector/conf/default.py\n\nResolves: rhbz#1670336\nStory: 2008010\nTask: 40660\nChange-Id: Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8\n(cherry picked from commit bbc5cd7da5af18558859c6b3388142555888772e)\n'}]",0,746718,bc4311e16f108e7e38036c13b73f0824d34eb4a1,8,4,1,23851,,,0,"Fix URL parsing to enable redfish_address matching

Fixes the ironic utilities logic to parse URLs in driver_info
properly.

Also adds ``redfish_address`` to the default list of fields to
evaluate for host matching.

Previously an operator could add the field to the list, but the
matching logic would not match the URL as it did not know to
decompose the url and identify the hostname portion of the url.

Conflicts:
      ironic_inspector/conf/default.py

Resolves: rhbz#1670336
Story: 2008010
Task: 40660
Change-Id: Ice86e9ab3efb98b649141bdf7e1e2febdc9203a8
(cherry picked from commit bbc5cd7da5af18558859c6b3388142555888772e)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/18/746718/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/support_redfish_address-94eae2c0d2879f53.yaml', 'ironic_inspector/common/ironic.py']",4,bc4311e16f108e7e38036c13b73f0824d34eb4a1,,"import urllib if '//' in value: url = urllib.parse.urlparse(value) value = url.hostname # TODO(TheJulia): We should likely first loop through nodes being # inspected, i.e. inspect wait, and then fallback # to the rest of the physical nodes so we limit # overall-impact of the operation.",,55,2
openstack%2Fbifrost~master~Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,openstack/bifrost,master,Ia94ee8a635629f4311dcde611d0e69a2b7c444a9,dynamic: always use clouds.yaml when it is available,MERGED,2020-08-19 08:35:50.000000000,2020-08-19 16:23:37.000000000,2020-08-19 16:17:13.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-08-19 08:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e45b4a3533bd2ffbd76f63c670951207df0ee9f2', 'message': 'dynamic: always use clouds.yaml when it is available\n\nCurrently it is ignored when noauth_mode is true (the default).\n\nChange-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9\n'}, {'number': 2, 'created': '2020-08-19 08:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/058e57c2911226ec10c270eeaad7ab9cfd18b308', 'message': 'dynamic: always use clouds.yaml when it is available\n\nCurrently it is ignored when noauth_mode is true (the default).\n\nChange-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9\n'}, {'number': 3, 'created': '2020-08-19 10:30:55.000000000', 'files': ['playbooks/roles/bifrost-cloud-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d203955c28db557efdc2ab91cfd4ef3413e7b785', 'message': 'dynamic: always use clouds.yaml when it is available\n\nCurrently it is ignored when noauth_mode is true (the default).\n\nChange-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9\n'}]",0,746859,d203955c28db557efdc2ab91cfd4ef3413e7b785,13,4,3,10239,,,0,"dynamic: always use clouds.yaml when it is available

Currently it is ignored when noauth_mode is true (the default).

Change-Id: Ia94ee8a635629f4311dcde611d0e69a2b7c444a9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/746859/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-cloud-config/tasks/main.yml'],1,e45b4a3533bd2ffbd76f63c670951207df0ee9f2,auth,, - auth is undefined,0,1
openstack%2Fpython-tripleoclient~master~Iaccdf849128e9bb85145006be0ec58d65c7a1138,openstack/python-tripleoclient,master,Iaccdf849128e9bb85145006be0ec58d65c7a1138,Remove the unused _validate_skip_tags function,MERGED,2020-02-19 12:49:44.000000000,2020-08-19 16:19:23.000000000,2020-08-19 16:17:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 12:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34b93cbe91dc552883dada543dbe061c9b4a5e8f', 'message': 'Remove the unused _validate_skip_tags function\n\nChange-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138\n'}, {'number': 2, 'created': '2020-04-15 05:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b0d580e80fe9f48054f1e9128784ea29935a53d0', 'message': 'Remove the unused _validate_skip_tags function\n\nCo-Authored-By: Saravanan KR <skramaja@redhat.com>\n\nChange-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138\n'}, {'number': 3, 'created': '2020-05-22 22:21:25.000000000', 'files': ['tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ede7520e086da44198de22f705b8a469e5a2d47', 'message': 'Remove the unused _validate_skip_tags function\n\nCo-Authored-By: Saravanan KR <skramaja@redhat.com>\n\nChange-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138\n'}]",0,708639,4ede7520e086da44198de22f705b8a469e5a2d47,23,6,3,9712,,,0,"Remove the unused _validate_skip_tags function

Co-Authored-By: Saravanan KR <skramaja@redhat.com>

Change-Id: Iaccdf849128e9bb85145006be0ec58d65c7a1138
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/708639/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_upgrade.py'],1,34b93cbe91dc552883dada543dbe061c9b4a5e8f,,," def _validate_skip_tags(self, skip_tags): tags_list = skip_tags.split(',') for tag in tags_list: tag = tag.strip() if tag and tag not in constants.MAJOR_UPGRADE_SKIP_TAGS: raise exceptions.InvalidConfiguration( ""Unexpected tag %s. Supported values are %s"" % ( tag, constants.MAJOR_UPGRADE_SKIP_TAGS)) return skip_tags ",0,10
openstack%2Fopenstack-helm~master~I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,openstack/openstack-helm,master,I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2,Update ovs dpdk config when required,MERGED,2020-08-12 11:33:56.000000000,2020-08-19 16:11:51.000000000,2020-08-19 16:09:28.000000000,"[{'_account_id': 8863}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29397}, {'_account_id': 31479}]","[{'number': 1, 'created': '2020-08-12 11:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ec647ea2db789698e10aa328817222dd317daa4', 'message': '[DNM WIP] Update ovs dpdk config when required\n\nChange-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2\n'}, {'number': 2, 'created': '2020-08-14 09:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79e887e33fca88af65e6f5b2cf1709a7ee96beb3', 'message': '[DNM WIP] Update ovs dpdk config when required\n\nChange-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2\n'}, {'number': 3, 'created': '2020-08-14 13:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2560aa9f3fb5346fdc6f643b57dd11a080b30391', 'message': 'Update ovs dpdk config when required\n\nThis commit enables user to update dpdk bond config\nonly when required using the flag UPDATE_DPDK_BOND_CONFIG.\nThis helps in avoiding disruption in ovs dpdk during ovs\nagent restart or when there is a update in bond config.\n\nSetting UPDATE_DPDK_BOND_CONFIG to true will have default\nbehavior.\n\nSetting UPDATE_DPDK_BOND_CONFIG to false will disable\nconfiguration of bonds after the first run and can be\nset to true when required.\n\nChange-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2\n'}, {'number': 4, 'created': '2020-08-14 15:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e64a80449375d039d3090d266306372203ec965', 'message': 'Update ovs dpdk config when required\n\nThis commit enables user to update dpdk bond config\nonly when required using the flag UPDATE_DPDK_BOND_CONFIG.\nThis helps in avoiding disruption in ovs dpdk during ovs\nagent restart or when there is a update in bond config.\n\nSetting UPDATE_DPDK_BOND_CONFIG to true will have default\nbehavior.\n\nSetting UPDATE_DPDK_BOND_CONFIG to false will disable\nconfiguration of bonds after the first run and can be\nset to true when required.\n\nChange-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2\n'}, {'number': 5, 'created': '2020-08-14 16:28:14.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2f2e0418fac8da4fab8d3be64415f6ffe45ee25', 'message': 'Update ovs dpdk config when required\n\nThis commit enables user to update dpdk bond config\nonly when required using the flag UPDATE_DPDK_BOND_CONFIG.\nThis helps in avoiding disruption in ovs dpdk during ovs\nagent restart or when there is a update in bond config.\n\nSetting UPDATE_DPDK_BOND_CONFIG to true will have default\nbehavior.\n\nSetting UPDATE_DPDK_BOND_CONFIG to false will disable\nconfiguration of bonds after the first run and can be\nset to true when required.\n\nChange-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2\n'}]",13,745853,a2f2e0418fac8da4fab8d3be64415f6ffe45ee25,31,8,5,29397,,,0,"Update ovs dpdk config when required

This commit enables user to update dpdk bond config
only when required using the flag UPDATE_DPDK_BOND_CONFIG.
This helps in avoiding disruption in ovs dpdk during ovs
agent restart or when there is a update in bond config.

Setting UPDATE_DPDK_BOND_CONFIG to true will have default
behavior.

Setting UPDATE_DPDK_BOND_CONFIG to false will disable
configuration of bonds after the first run and can be
set to true when required.

Change-Id: I4c8ec145c8f1c1c1b5f7a5201f792e040fdd89a2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/745853/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",4,7ec647ea2db789698e10aa328817222dd317daa4,, update_config: {{ $envAll.Values.conf.ovs_dpdk.update_config | toString | b64enc }},,24,3
openstack%2Fneutron~stable%2Fussuri~I2b1f4c4e951b691fb0c66119699b26540b0babd8,openstack/neutron,stable/ussuri,I2b1f4c4e951b691fb0c66119699b26540b0babd8,[Stable only] Drop *-master jobs,MERGED,2020-07-29 16:10:54.000000000,2020-08-19 16:05:22.000000000,2020-08-19 15:58:25.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-29 16:10:54.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21719a875d63adc9a823de7feacb119e5887f5af', 'message': '[Stable only] Drop *-master jobs\n\nThese jobs are used to test neutron against current master branches of\nexternal projects (OVS/OVN, os-ken).\n\nStable branches are not expected to run with this setup so we can drop\nthe jobs there (especially as some of these jobs are periodic ones).\n\nChange-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8\n'}]",0,743795,21719a875d63adc9a823de7feacb119e5887f5af,23,6,1,21798,,,0,"[Stable only] Drop *-master jobs

These jobs are used to test neutron against current master branches of
external projects (OVS/OVN, os-ken).

Stable branches are not expected to run with this setup so we can drop
the jobs there (especially as some of these jobs are periodic ones).

Change-Id: I2b1f4c4e951b691fb0c66119699b26540b0babd8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/743795/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml']",3,21719a875d63adc9a823de7feacb119e5887f5af,drop-master-jobs,, - neutron-ovn-tempest-full-multinode-ovs-master: voting: false - neutron-ovn-tempest-ovs-master - neutron-tempest-with-os-ken-master - neutron-ovn-tempest-ovs-master-fedora,0,79
openstack%2Fpython-openstackclient~stable%2Fussuri~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,stable/ussuri,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,MERGED,2020-07-07 10:59:55.000000000,2020-08-19 16:04:57.000000000,2020-08-19 15:58:38.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 10:59:55.000000000', 'files': ['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5b25ea899e023bcd3d7384cca943f9844bcb0b79', 'message': 'Make volume backup record commands available in v3\n\nThey work just fine in Volume API v3 but they were limited in OSC\nto v2.\n\nChange-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d\nStory: 2007896\nTask: 40279\n(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)\n'}]",0,739703,5b25ea899e023bcd3d7384cca943f9844bcb0b79,13,4,1,30491,,,0,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
(cherry picked from commit b1fc587a6d4eac795a5bc27c2dffd2d876161caa)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/739703/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml']",2,5b25ea899e023bcd3d7384cca943f9844bcb0b79,story/2007896,--- fixes: - | Makes ``volume backup record`` commands available in Volume API v3. `Task 40279 <https://storyboard.openstack.org/#!/story/2007896>`__ ,,8,0
openstack%2Fcinder~stable%2Fussuri~Id9807871f3c183e4195f01aa28c458d7551de9ed,openstack/cinder,stable/ussuri,Id9807871f3c183e4195f01aa28c458d7551de9ed,Brocade: Python 3 support,MERGED,2020-08-17 15:01:09.000000000,2020-08-19 16:04:50.000000000,2020-08-19 15:58:28.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-17 15:01:09.000000000', 'files': ['releasenotes/notes/brocade_py3-15647dbe3981d44b.yaml', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/297c8b078b822622fd3e8c9365f1e03bcd691e53', 'message': ""Brocade: Python 3 support\n\nBuiltin method `filter` changed behavior from Python 2, where it\nreturned a list, to Python 3, where it returns an interable, and the\nBrocade driver was not ready to handle this behavior which results\nin:\n\n- Always evaluating to True in `if filtered_members`\n- TypeError: 'filter' object is not subscriptable\n- RuntimeError: dictionary changed size during iteration\n\nThis patch fixes all these to make the driver Python 3 compatible.\n\nExtensive changes to test_brcd_fc_zone_driver.py were necessary to fix\nthe code that was incorrectly setting the configuration options for the\ntests, which resulted in always running with default values.\n\nCode has been tested on a DevStack deployment running Python 3.7 on\nFedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array\nand with `fc_southbound_protocol = HTTP` in the fabric group\nconfiguration.\n\nConfiguration `fc_southbound_protocol = REST_HTTP` could not be tested\nas its only supported in FOS 8.2.1 and later which available hardware\ndoesn't support.\n\nCloses-Bug: #1888548\nChange-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed\n(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)\n""}]",0,746534,297c8b078b822622fd3e8c9365f1e03bcd691e53,71,18,1,10459,,,0,"Brocade: Python 3 support

Builtin method `filter` changed behavior from Python 2, where it
returned a list, to Python 3, where it returns an interable, and the
Brocade driver was not ready to handle this behavior which results
in:

- Always evaluating to True in `if filtered_members`
- TypeError: 'filter' object is not subscriptable
- RuntimeError: dictionary changed size during iteration

This patch fixes all these to make the driver Python 3 compatible.

Extensive changes to test_brcd_fc_zone_driver.py were necessary to fix
the code that was incorrectly setting the configuration options for the
tests, which resulted in always running with default values.

Code has been tested on a DevStack deployment running Python 3.7 on
Fedora 31 with a Brocade 300 running FOS 7.1.0c against 3PAR FC array
and with `fc_southbound_protocol = HTTP` in the fabric group
configuration.

Configuration `fc_southbound_protocol = REST_HTTP` could not be tested
as its only supported in FOS 8.2.1 and later which available hardware
doesn't support.

Closes-Bug: #1888548
Change-Id: Id9807871f3c183e4195f01aa28c458d7551de9ed
(cherry picked from commit 9cd71b9de8b3ead48d9ac31a71d2743276b21648)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/746534/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/brocade_py3-15647dbe3981d44b.yaml', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py']",5,297c8b078b822622fd3e8c9365f1e03bcd691e53,brocade," cfgs = {'openstack_cfg': 'openstack50060b0000c26604201900051ee8e329'} res = self.delete_zones_cfgs(cfgs, zones_to_delete.copy(), delete_zones_info, active_cfg) self.assertEqual((zones, {}, ''), res) ",,94,66
openstack%2Fpython-openstackclient~stable%2Frocky~I7303658c27d9b9f2d8381ccea0b29e96909cab54,openstack/python-openstackclient,stable/rocky,I7303658c27d9b9f2d8381ccea0b29e96909cab54,Add dns-domain support to Network object,MERGED,2020-01-03 23:16:23.000000000,2020-08-19 16:04:35.000000000,2020-08-19 15:58:33.000000000,"[{'_account_id': 970}, {'_account_id': 1916}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 14892}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 26880}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-03 23:16:23.000000000', 'files': ['releasenotes/notes/network_dns_integration-5914b2c2be474a41.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/network/v2/port.py', 'doc/source/cli/command-objects/network.rst', 'openstackclient/network/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e7a8687a2c87a507ce25e042014d6a918e95d035', 'message': 'Add dns-domain support to Network object\n\nAdd ""dns-domain"" parameter to Network class. Also check\nbackend extensions and send an error message in case of\nan argument (like dns-domain) is sent and the extension is\nmissing (dns-integration in this case).\n\nChange-Id: I7303658c27d9b9f2d8381ccea0b29e96909cab54\nCloses-Bug: 1633214\nPartial-Bug: 1547736\n(cherry picked from commit b8754e15e7adc9a04587f67c83febaf49b64f18c)\n'}]",0,701066,e7a8687a2c87a507ce25e042014d6a918e95d035,32,11,1,14892,,,0,"Add dns-domain support to Network object

Add ""dns-domain"" parameter to Network class. Also check
backend extensions and send an error message in case of
an argument (like dns-domain) is sent and the extension is
missing (dns-integration in this case).

Change-Id: I7303658c27d9b9f2d8381ccea0b29e96909cab54
Closes-Bug: 1633214
Partial-Bug: 1547736
(cherry picked from commit b8754e15e7adc9a04587f67c83febaf49b64f18c)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/66/701066/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/network_dns_integration-5914b2c2be474a41.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/network.py', 'openstackclient/tests/unit/network/v2/test_network.py', 'openstackclient/network/v2/port.py', 'doc/source/cli/command-objects/network.rst', 'openstackclient/network/common.py']",7,e7a8687a2c87a507ce25e042014d6a918e95d035,bug/1633214-stable/rocky,"import contextlib_required_opt_extensions_map = { 'allowed_address_pairs': 'allowed-address-pairs', 'dns_domain': 'dns-integration', 'dns_name': 'dns-integration', 'extra_dhcp_opts': 'extra_dhcp_opt', 'qos_policy_id': 'qos', 'security_groups': 'security-groups', } @contextlib.contextmanager def check_missing_extension_if_error(client_manager, attrs): # If specified option requires extension, then try to # find out if it exists. If it does not exist, # then an exception with the appropriate message # will be thrown from within client.find_extension try: yield except openstack.exceptions.HttpException: for opt, ext in _required_opt_extensions_map.items(): if opt in attrs: client_manager.find_extension(ext, ignore_missing=False) raise ",,83,6
openstack%2Fcharm-ceph-iscsi~master~Ia4d794167485caf1f6c277e0a56c81149b65d70a,openstack/charm-ceph-iscsi,master,Ia4d794167485caf1f6c277e0a56c81149b65d70a,Add .gitreview and .zuul.yaml,MERGED,2020-08-04 12:39:24.000000000,2020-08-19 15:54:14.000000000,2020-08-19 15:54:14.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-04 12:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/0be1ab7b1c712722fb69efada65c71a40aa7304e', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 2, 'created': '2020-08-04 13:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/ea20ebe430333e54514546d8d628d335d61d1f1e', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 3, 'created': '2020-08-04 13:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/5c19e4eff9dc2c558f24ebda3d52d471bf1c519c', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 4, 'created': '2020-08-04 13:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/46efdf6fd3cac11eff5746b5cf2c3bf2bd0a0eea', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 5, 'created': '2020-08-04 14:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/18cf18c7a9fe1aa5d5e21bf1002fc95c97464286', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 6, 'created': '2020-08-05 07:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/c50800993318571769d039a7d1cb59015ee5c88b', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 7, 'created': '2020-08-06 11:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/66472027365003b89c49bf6c2d51de2669431315', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 8, 'created': '2020-08-06 11:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/e1c3c5d2e7a65b08ec3d55f012ea7372dc467ad4', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 9, 'created': '2020-08-06 12:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/fff2697eca01d4b18f3f3edad854d73651d040d2', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 10, 'created': '2020-08-06 13:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/6e7993da7eb2186c90fa21c82f559433c63e5a9d', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 11, 'created': '2020-08-07 06:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/849b49356f99712ab3541bd6ee6ce908c641993f', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 12, 'created': '2020-08-18 08:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/913ca0f744e4aa979b795e71918609e75de3de8d', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 13, 'created': '2020-08-18 09:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/62d4305268656b54ff98c1a4e2e8d6c2d213d22c', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 14, 'created': '2020-08-18 10:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/8060960438499956d3a25334990cfef0d483474e', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}, {'number': 15, 'created': '2020-08-19 13:55:43.000000000', 'files': ['copyright', 'requirements.txt', '.gitignore', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'unit_tests/__init__.py', 'tox.ini', '.build.manifest', '.jujuignore'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/1c95624727c99631c0be5d703cf97eab2501fb79', 'message': 'Add .gitreview and .zuul.yaml\n\nThis also includes a workaround to a bug in charmcraft which\nexcludes many of the charm files from the build charm. Until\nthat is resolved include ./add-to-archive.py to put add\nadditional files to build charm.\n\nChange-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a\n'}]",0,744696,1c95624727c99631c0be5d703cf97eab2501fb79,59,5,15,12549,,,0,"Add .gitreview and .zuul.yaml

This also includes a workaround to a bug in charmcraft which
excludes many of the charm files from the build charm. Until
that is resolved include ./add-to-archive.py to put add
additional files to build charm.

Change-Id: Ia4d794167485caf1f6c277e0a56c81149b65d70a
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/96/744696/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml']",2,0be1ab7b1c712722fb69efada65c71a40aa7304e,add-zuul,- project: templates: - python35-charm-jobs ,,7,0
openstack%2Fneutron~stable%2Fussuri~I2674bdc448d9a091b9fe8c68f0866fd19141c6be,openstack/neutron,stable/ussuri,I2674bdc448d9a091b9fe8c68f0866fd19141c6be,Fix port can not be created with the sg of other project,MERGED,2020-08-14 14:06:25.000000000,2020-08-19 15:53:14.000000000,2020-08-19 15:51:00.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29157}]","[{'number': 1, 'created': '2020-08-14 14:06:25.000000000', 'files': ['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/083748fadd8d739a99d1dacb747d2fec79b7cc27', 'message': 'Fix port can not be created with the sg of other project\n\nThis patch adds the verification of whether admin context when\nverifying the valid security groups of port.\n\nChange-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be\nCloses-Bug: #1890539\n(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)\n'}]",0,746322,083748fadd8d739a99d1dacb747d2fec79b7cc27,30,10,1,29157,,,0,"Fix port can not be created with the sg of other project

This patch adds the verification of whether admin context when
verifying the valid security groups of port.

Change-Id: I2674bdc448d9a091b9fe8c68f0866fd19141c6be
Closes-Bug: #1890539
(cherry picked from commit cc54a1c38e0b537883de43fecda781034c80daf3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/746322/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'doc/source/admin/archives/adv-features.rst', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",5,083748fadd8d739a99d1dacb747d2fec79b7cc27,bug/1890539-stable/ussuri," neutron_context = context.Context('user', 'tenant') def test_get_security_group_on_port_with_admin_from_other_tenant(self): plugin = directory.get_plugin() if not hasattr(plugin, '_get_security_groups_on_port'): self.skipTest(""plugin doesn't use the mixin with this method"") neutron_context = context.get_admin_context() res = self._create_security_group(self.fmt, 'webservers', 'webservers', tenant_id='other_tenant') sg1 = self.deserialize(self.fmt, res) sgs = plugin._get_security_groups_on_port( neutron_context, {'port': {'security_groups': [sg1['security_group']['id']], 'tenant_id': 'tenant'}}) sg1_id = sg1['security_group']['id'] self.assertEqual(sg1_id, sgs[0].id) self.assertEqual('other_tenant', sgs[0].project_id) ", neutron_context = context.get_admin_context(),124,5
openstack%2Fpuppet-tripleo~master~I6c0e8d33538edc1d521e38f028ff2772614feb99,openstack/puppet-tripleo,master,I6c0e8d33538edc1d521e38f028ff2772614feb99,Use keystone::cache,MERGED,2020-08-18 11:19:23.000000000,2020-08-19 15:44:50.000000000,2020-08-19 15:44:50.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 11:19:23.000000000', 'files': ['manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e644fef49c06e2bca1934a289dca4b74afe2f6ec', 'message': 'Use keystone::cache\n\nThis patch includes and starts using the\nkeystone::cache class explicitly.\n\nThe other parameters will be removed in [1].\n\n[1] https://review.opendev.org/#/c/746643/\n\nChange-Id: I6c0e8d33538edc1d521e38f028ff2772614feb99\n'}]",0,746686,e644fef49c06e2bca1934a289dca4b74afe2f6ec,9,5,1,16137,,,0,"Use keystone::cache

This patch includes and starts using the
keystone::cache class explicitly.

The other parameters will be removed in [1].

[1] https://review.opendev.org/#/c/746643/

Change-Id: I6c0e8d33538edc1d521e38f028ff2772614feb99
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/746686/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/keystone.pp', 'spec/classes/tripleo_profile_base_keystone_spec.rb']",2,e644fef49c06e2bca1934a289dca4b74afe2f6ec,," is_expected.to contain_class('keystone::cache').with( :memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], ) is_expected.to contain_class('keystone::cache').with( :memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], ) is_expected.to contain_class('keystone::cache').with( :memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], )"," :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ], :cache_memcache_servers => [ '192.168.0.3:11211', '192.168.0.4:11211', '192.168.0.5:11211' ],",13,4
openstack%2Fopenstack-ansible~stable%2Fussuri~Ibbdecaa454a2082cd84365ebc8605e63530f206f,openstack/openstack-ansible,stable/ussuri,Ibbdecaa454a2082cd84365ebc8605e63530f206f,Make upgrade jobs get role relevant versions,MERGED,2020-08-15 07:54:33.000000000,2020-08-19 15:41:17.000000000,2020-08-19 15:37:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-15 07:54:33.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70e1495916e6eeeff5310da41139b64b6fb07a34', 'message': ""Make upgrade jobs get role relevant versions\n\nThis patch aims to fix upgrade jobs and make them use\npatched role instead of it's master version.\n\nChange-Id: Ibbdecaa454a2082cd84365ebc8605e63530f206f\n(cherry picked from commit c7ab46f620243d6fb0bf86e656007b512dd82bce)\n""}]",0,746366,70e1495916e6eeeff5310da41139b64b6fb07a34,29,3,1,28619,,,0,"Make upgrade jobs get role relevant versions

This patch aims to fix upgrade jobs and make them use
patched role instead of it's master version.

Change-Id: Ibbdecaa454a2082cd84365ebc8605e63530f206f
(cherry picked from commit c7ab46f620243d6fb0bf86e656007b512dd82bce)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/746366/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'scripts/gate-check-commit.sh']",2,70e1495916e6eeeff5310da41139b64b6fb07a34,osa/upgrade_jobs-stable/ussuri," unset UPGRADE_TARGET_BRANCH export DROP_ROLE_DIRS=true # NOTE(noonedeadpunk): This might be moved to zuul.d/playbooks/run.yaml export ZUUL_SRC_PATH=""/home/zuul/src"" # Doing symlinking here, as bootstrap role won't be called ln -s $ZUUL_SRC_PATH /openstack/src",,9,3
openstack%2Foctavia~stable%2Fstein~I166752b379ff737404ad467f83eb3b4bf6f905e8,openstack/octavia,stable/stein,I166752b379ff737404ad467f83eb3b4bf6f905e8,Disable log offloading scenario tests,MERGED,2020-08-19 06:24:38.000000000,2020-08-19 15:39:36.000000000,2020-08-19 15:32:03.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30533}]","[{'number': 1, 'created': '2020-08-19 06:24:38.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b6f73ddf0c41c50164bcb2dbca0ba2ef7f0fbd1', 'message': 'Disable log offloading scenario tests\n\nStein Octavia does not include support for amphora log offloading\ncapability. The recently merged log offloading tests [1][2] need to be\nexcluded from Stein scenario jobs.\n\n[1] https://review.opendev.org/#/c/673720/\n[2] https://review.opendev.org/#/c/673726/\n\nChange-Id: I166752b379ff737404ad467f83eb3b4bf6f905e8\n'}]",0,746838,6b6f73ddf0c41c50164bcb2dbca0ba2ef7f0fbd1,10,4,1,6469,,,0,"Disable log offloading scenario tests

Stein Octavia does not include support for amphora log offloading
capability. The recently merged log offloading tests [1][2] need to be
excluded from Stein scenario jobs.

[1] https://review.opendev.org/#/c/673720/
[2] https://review.opendev.org/#/c/673726/

Change-Id: I166752b379ff737404ad467f83eb3b4bf6f905e8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/746838/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6b6f73ddf0c41c50164bcb2dbca0ba2ef7f0fbd1,," - octavia-v2-dsvm-scenario: vars: &scenario-vars devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": loadbalancer-feature-enabled: log_offload_enabled: False - octavia-v2-dsvm-py2-scenario: vars: *scenario-vars - octavia-v2-dsvm-py2-scenario-centos-7: vars: *scenario-vars vars: *scenario-vars vars: *scenario-vars vars: *scenario-vars - octavia-v2-dsvm-scenario: vars: *scenario-vars - octavia-v2-dsvm-py2-scenario: vars: *scenario-vars", - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py2-scenario - octavia-v2-dsvm-py2-scenario-centos-7: - octavia-v2-dsvm-scenario - octavia-v2-dsvm-py2-scenario,17,4
openstack%2Fopenstack-ansible-os_keystone~stable%2Fussuri~Id2248e93f2636407396d4ac8fe29c8943e4a3a57,openstack/openstack-ansible-os_keystone,stable/ussuri,Id2248e93f2636407396d4ac8fe29c8943e4a3a57,Add Paramaters to httpd.conf template,MERGED,2020-06-25 14:03:54.000000000,2020-08-19 15:37:29.000000000,2020-08-04 17:59:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31750}]","[{'number': 1, 'created': '2020-06-25 14:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/3516373a1fdc93b3bef2016c0338ecd3066882d0', 'message': 'Add Paramaters to httpd.conf template\n\nAdded the following parameters to the httpd.conf template\nto be used with mod_auth_openidc Apache mod. Params include:\n- OIDCStateMaxNumberOfCookies - this takes parameters in the form\n<number> <false|true> where number is the maximum number of state\ncookies stored in parallel for outstanding auth requests, and the\nboolean indicates whether cookies that are still valid over this\namount are deleted\n- OIDCDefaultURL - Defines a default URL to be used in case of\n3rd-party or OP initiated SSO when no explicit target_link_uri has\nbeen provided. The user is also sent to this URL is in case an\ninvalid authorization response was received\n(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)\n\nThe reason these have been added is due to some stability issues\nthat have been seen regarding cached session cookies that subsequently\ncause a ""state mismatch"" error. Being able to limit the number of active cookies\nappears to resolve this issue.\n\nChange-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57\n'}, {'number': 7, 'created': '2020-07-27 13:30:24.000000000', 'files': ['templates/keystone-httpd.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d2536d37fa03cf7c52f8d2a3965412727a0f7b60', 'message': 'Add Paramaters to httpd.conf template\n\nAdded the following parameters to the httpd.conf template\nto be used with mod_auth_openidc Apache mod. Params include:\n- OIDCStateMaxNumberOfCookies - this takes parameters in the form\n<number> <false|true> where number is the maximum number of state\ncookies stored in parallel for outstanding auth requests, and the\nboolean indicates whether cookies that are still valid over this\namount are deleted\n- OIDCDefaultURL - Defines a default URL to be used in case of\n3rd-party or OP initiated SSO when no explicit target_link_uri has\nbeen provided. The user is also sent to this URL is in case an\ninvalid authorization response was received\n(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)\n\nThe reason these have been added is due to some stability issues\nthat have been seen regarding cached session cookies that subsequently\ncause a ""state mismatch"" error. Being able to limit the number of active cookies\nappears to resolve this issue.\n\nChange-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57\n'}]",0,738034,d2536d37fa03cf7c52f8d2a3965412727a0f7b60,19,4,2,29865,,,0,"Add Paramaters to httpd.conf template

Added the following parameters to the httpd.conf template
to be used with mod_auth_openidc Apache mod. Params include:
- OIDCStateMaxNumberOfCookies - this takes parameters in the form
<number> <false|true> where number is the maximum number of state
cookies stored in parallel for outstanding auth requests, and the
boolean indicates whether cookies that are still valid over this
amount are deleted
- OIDCDefaultURL - Defines a default URL to be used in case of
3rd-party or OP initiated SSO when no explicit target_link_uri has
been provided. The user is also sent to this URL is in case an
invalid authorization response was received
(ref: https://github.com/zmartzone/mod_auth_openidc/blob/master/auth_openidc.conf)

The reason these have been added is due to some stability issues
that have been seen regarding cached session cookies that subsequently
cause a ""state mismatch"" error. Being able to limit the number of active cookies
appears to resolve this issue.

Change-Id: Id2248e93f2636407396d4ac8fe29c8943e4a3a57
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/34/738034/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone-httpd.conf.j2', 'defaults/main.yml']",2,3516373a1fdc93b3bef2016c0338ecd3066882d0,add-params-to-httpd.conf-template,# oidc_auth_request_params: param=some+url+encoded+value&param2=and+another+one (optional) # oidc_state_max_number_of_cookies: 5 false (optional) # oidc_default_url: https://example.com/callback (optional),,12,0
openstack%2Fopenstack-health~master~Id3c316df1a79bd35eed162e3291ef31cc36b092f,openstack/openstack-health,master,Id3c316df1a79bd35eed162e3291ef31cc36b092f,Fix typo in contributor guide,MERGED,2020-04-23 02:55:25.000000000,2020-08-19 15:37:16.000000000,2020-08-19 15:37:16.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-04-23 02:55:25.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/6bf9b0689c2e1ae1ec9bf4939af9934976b7378e', 'message': 'Fix typo in contributor guide\n\nThere are few typo in contributor guide which were\nadded recently.\n\nChange-Id: Id3c316df1a79bd35eed162e3291ef31cc36b092f\n'}]",0,722192,6bf9b0689c2e1ae1ec9bf4939af9934976b7378e,10,6,1,8556,,,0,"Fix typo in contributor guide

There are few typo in contributor guide which were
added recently.

Change-Id: Id3c316df1a79bd35eed162e3291ef31cc36b092f
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/92/722192/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,6bf9b0689c2e1ae1ec9bf4939af9934976b7378e,,* IRC channel ``#openstack-qa`` at FreeNodePlease refer to the `openstack-health Core TeamThe Release Process for QA is documented in `QA Release Process <https://wiki.openstack.org/wiki/QA/releases>`_.,* IRC channel #openstack-qa at FreeNodePlease refer the `openstack-health Core TeamRelease Process fir QA is documented in `QA Release Process <https://wiki.openstack.org/wiki/QA#Releases_Process>`_.,4,4
openstack%2Ftripleo-quickstart-extras~master~I620cc652d17981d973b340dc086b86fe549bc268,openstack/tripleo-quickstart-extras,master,I620cc652d17981d973b340dc086b86fe549bc268,Enable nova local meta data per cell,ABANDONED,2020-03-27 15:50:25.000000000,2020-08-19 15:32:15.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-03-27 15:50:25.000000000', 'files': ['roles/overcloud-deploy/templates/cell.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1e1d40ce7c5a2ee795add2211c3756fa0db9dfc7', 'message': 'Enable nova local meta data per cell\n\nAdd support of nova local meta data api per cell\nin the existing multi cell job\n\nChange-Id: I620cc652d17981d973b340dc086b86fe549bc268\n'}]",1,715455,1e1d40ce7c5a2ee795add2211c3756fa0db9dfc7,6,7,1,31239,,,0,"Enable nova local meta data per cell

Add support of nova local meta data api per cell
in the existing multi cell job

Change-Id: I620cc652d17981d973b340dc086b86fe549bc268
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/55/715455/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/cell.yaml.j2'],1,1e1d40ce7c5a2ee795add2211c3756fa0db9dfc7,, NovaLocalMetadataPerCell: True,,1,0
openstack%2Fproject-config~master~I0fdd4a79b886d1c4875e748b08f99da809d9d767,openstack/project-config,master,I0fdd4a79b886d1c4875e748b08f99da809d9d767,Disable E106 & E208 for now,MERGED,2020-08-19 13:17:30.000000000,2020-08-19 15:28:17.000000000,2020-08-19 15:28:16.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-19 13:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fd69d3d33f3bc2fd2f7906d01a76a5a0bad4018b', 'message': 'Disable E208 for now\n\nansible-lint throws an undocumented error ""E208 File permissions not\nmentioned"" that looks too aggressive, for example it complains IMHO\nwrongly about:\n\nroles/add-build-sshkey/tasks/remote-linux.yaml:1: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:14: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:20: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:27: [E208] File\npermissions not mentioned\n\nDisable it for now until ansible-lint is fixed - and the real problems\nin zuul-jobs are fixed.\n\nhttps://github.com/ansible/ansible-lint/pull/949 fixes the false\npositives. Once that is merged and a new release is out, we should\nrevert and fix the real problems.\n\nInspired by I3e3978bbc9458ad79623d22969344fb46f5fee43\n\nChange-Id: I0fdd4a79b886d1c4875e748b08f99da809d9d767\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\n'}, {'number': 2, 'created': '2020-08-19 13:52:34.000000000', 'files': ['.ansible-lint'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d1d0f66734ad1c3c7e74e82d23d44a5f924a0d2f', 'message': 'Disable E106 & E208 for now\n\nE106 rejects roles with \'-\' in their names, which is important\nfor collections, but these aren\'t collections.\n\nAlso ansible-lint throws an undocumented error ""E208 File permissions not\nmentioned"" that looks too aggressive, for example it complains IMHO\nwrongly about:\n\nroles/add-build-sshkey/tasks/remote-linux.yaml:1: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:14: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:20: [E208] File\npermissions not mentioned\nroles/add-build-sshkey/tasks/remote-linux.yaml:27: [E208] File\npermissions not mentioned\n\nDisable it for now until ansible-lint is fixed - and the real problems\nin zuul-jobs are fixed.\n\nhttps://github.com/ansible/ansible-lint/pull/949 fixes the false\npositives. Once that is merged and a new release is out, we should\nrevert and fix the real problems.\n\nInspired by I3e3978bbc9458ad79623d22969344fb46f5fee43\nand I48f837e8d5bd7d0d9d708d728d93627deb4093cc\n\nChange-Id: I0fdd4a79b886d1c4875e748b08f99da809d9d767\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\n'}]",0,746920,d1d0f66734ad1c3c7e74e82d23d44a5f924a0d2f,11,4,2,3153,,,0,"Disable E106 & E208 for now

E106 rejects roles with '-' in their names, which is important
for collections, but these aren't collections.

Also ansible-lint throws an undocumented error ""E208 File permissions not
mentioned"" that looks too aggressive, for example it complains IMHO
wrongly about:

roles/add-build-sshkey/tasks/remote-linux.yaml:1: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:14: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:20: [E208] File
permissions not mentioned
roles/add-build-sshkey/tasks/remote-linux.yaml:27: [E208] File
permissions not mentioned

Disable it for now until ansible-lint is fixed - and the real problems
in zuul-jobs are fixed.

https://github.com/ansible/ansible-lint/pull/949 fixes the false
positives. Once that is merged and a new release is out, we should
revert and fix the real problems.

Inspired by I3e3978bbc9458ad79623d22969344fb46f5fee43
and I48f837e8d5bd7d0d9d708d728d93627deb4093cc

Change-Id: I0fdd4a79b886d1c4875e748b08f99da809d9d767
Co-Authored-By: Andreas Jaeger <aj@suse.com>
Co-Authored-By: James E. Blair <jeblair@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/746920/1 && git format-patch -1 --stdout FETCH_HEAD,['.ansible-lint'],1,fd69d3d33f3bc2fd2f7906d01a76a5a0bad4018b,ansible-lint-E208," # TODO(AJaeger): E208 gives false positives currently, we # should enable it once all issues in zuul-jobs and # ansible-lint are fixed. - '208' # File permissions not mentioned",,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ifbccd663373f0e29301810dcc088b83d968f6203,openstack/tripleo-ansible,stable/train,Ifbccd663373f0e29301810dcc088b83d968f6203,Ensure those two tasks are compatible with t-h-t import,MERGED,2020-08-18 06:09:03.000000000,2020-08-19 15:23:27.000000000,2020-08-19 15:23:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 06:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3d02056d04e13c9eccdbe3e0b6586a6dfd7e532', 'message': 'Ensure those two tasks are compatible with t-h-t import\n\nIn t-h-t, we call ""tasks_from"" in order to exclusively call those two\nfiles in different location.\nWe therefore need to ensure we actually set the right variables, even in\nthis case.\n\nChange-Id: Ifbccd663373f0e29301810dcc088b83d968f6203\nRelated-Bug: #1891465\n(cherry picked from commit 11f365d00b444727f61b643acff30771c0453ec9)\n(cherry picked from commit 5781caccd593a079e20eb353e8d62393e5d933ba)\n'}, {'number': 2, 'created': '2020-08-19 07:56:49.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc963ce0b76a511d182ad08b74ffe57b5a4b4a33', 'message': 'Ensure those two tasks are compatible with t-h-t import\n\nIn t-h-t, we call ""tasks_from"" in order to exclusively call those two\nfiles in different location.\nWe therefore need to ensure we actually set the right variables, even in\nthis case.\n\nChange-Id: Ifbccd663373f0e29301810dcc088b83d968f6203\nRelated-Bug: #1891465\n(cherry picked from commit 11f365d00b444727f61b643acff30771c0453ec9)\n(cherry picked from commit 5781caccd593a079e20eb353e8d62393e5d933ba)\n'}]",0,746637,dc963ce0b76a511d182ad08b74ffe57b5a4b4a33,21,7,2,28223,,,0,"Ensure those two tasks are compatible with t-h-t import

In t-h-t, we call ""tasks_from"" in order to exclusively call those two
files in different location.
We therefore need to ensure we actually set the right variables, even in
this case.

Change-Id: Ifbccd663373f0e29301810dcc088b83d968f6203
Related-Bug: #1891465
(cherry picked from commit 11f365d00b444727f61b643acff30771c0453ec9)
(cherry picked from commit 5781caccd593a079e20eb353e8d62393e5d933ba)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/746637/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/tasks/load_vars.yaml', 'tripleo_ansible/roles/tripleo-podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_docker_purge.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml']",4,a3d02056d04e13c9eccdbe3e0b6586a6dfd7e532,train/tht-compat,- name: Load vars id needed when: tripleo_podman_packages is undefined or tripleo_podman_packages|length == 0 import_tasks: load_vars.yaml,,41,17
openstack%2Fkeystonemiddleware~master~I6c964585402681f216314bae6a694305697b76e1,openstack/keystonemiddleware,master,I6c964585402681f216314bae6a694305697b76e1,Use unittest.mock instead of mock,ABANDONED,2020-06-08 23:18:40.000000000,2020-08-19 14:47:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-08 23:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9eb75ba80b6650eb4206209bafca0e2dc38ce7dd', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I6c964585402681f216314bae6a694305697b76e1\n'}, {'number': 2, 'created': '2020-06-10 11:47:54.000000000', 'files': ['keystonemiddleware/tests/unit/audit/test_logging_notifier.py', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'lower-constraints.txt', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'doc/requirements.txt', 'keystonemiddleware/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4a18db5798b9845a0a7532de14389d2109e95953', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I6c964585402681f216314bae6a694305697b76e1\n'}]",7,734360,4a18db5798b9845a0a7532de14389d2109e95953,6,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I6c964585402681f216314bae6a694305697b76e1
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/60/734360/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/audit/test_logging_notifier.py', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/tests/unit/audit/test_audit_middleware.py', 'lower-constraints.txt', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/auth_token/test_base_middleware.py', 'doc/requirements.txt', 'keystonemiddleware/tests/unit/utils.py']",13,9eb75ba80b6650eb4206209bafca0e2dc38ce7dd,drop_mock,from unittest import mock,import mock,10,13
openstack%2Fironic~bugfix%2F15.2~I8214cfbc3602e797213ee949b9536902a338a642,openstack/ironic,bugfix/15.2,I8214cfbc3602e797213ee949b9536902a338a642,Update .gitreview for bugfix/15.2,MERGED,2020-08-18 20:47:20.000000000,2020-08-19 14:43:03.000000000,2020-08-19 08:55:28.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 20:47:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/23ee40389a9e2949b01518cee6f2b9f323cf3d0e', 'message': 'Update .gitreview for bugfix/15.2\n\nChange-Id: I8214cfbc3602e797213ee949b9536902a338a642\n'}]",0,746796,23ee40389a9e2949b01518cee6f2b9f323cf3d0e,9,4,1,22816,,,0,"Update .gitreview for bugfix/15.2

Change-Id: I8214cfbc3602e797213ee949b9536902a338a642
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/746796/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,23ee40389a9e2949b01518cee6f2b9f323cf3d0e,create-15.2,defaultbranch=bugfix/15.2,,1,0
openstack%2Fpuppet-heat~master~If689eb5e896dba443358ac83cd7f566aacc276f1,openstack/puppet-heat,master,If689eb5e896dba443358ac83cd7f566aacc276f1,Expose vhost_custom_fragment,MERGED,2020-08-18 17:51:24.000000000,2020-08-19 14:41:19.000000000,2020-08-19 14:41:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 17:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/7e499845ca4f3516ba6fd2e924a24ae2aaeda1dc', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Heat CFN service.\n\nChange-Id: If689eb5e896dba443358ac83cd7f566aacc276f1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-08-18 17:53:43.000000000', 'files': ['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0e85f1c7b0d7c8819aedeb83da10eea4633d2e25', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Heat CFN service.\n\nChange-Id: If689eb5e896dba443358ac83cd7f566aacc276f1\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",0,746779,0e85f1c7b0d7c8819aedeb83da10eea4633d2e25,12,4,2,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Heat CFN service.

Change-Id: If689eb5e896dba443358ac83cd7f566aacc276f1
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/79/746779/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api_cfn.pp', 'spec/classes/heat_wsgi_apache_api_cfn_spec.rb']",2,7e499845ca4f3516ba6fd2e924a24ae2aaeda1dc,," :access_log_format => false, :vhost_custom_fragment => 'RequestHeader set Content-Type ""application/json""',)"," :access_log_format => false,)",11,3
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ief4f8601131cb5a82c087a8519e8726afd54157a,openstack/puppet-openstack-integration,stable/ussuri,Ief4f8601131cb5a82c087a8519e8726afd54157a,Fix wrong nodepool_type for CentOS8 beaker,MERGED,2020-08-19 10:28:00.000000000,2020-08-19 14:34:31.000000000,2020-08-19 14:34:31.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 10:28:00.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/53937442fcf5ea2c4e711063272c5aa9f1cf0345', 'message': 'Fix wrong nodepool_type for CentOS8 beaker\n\nChange-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a\n(cherry picked from commit 0829a02293a31022576d4b38c66d2f0cb152279d)\n'}]",0,746879,53937442fcf5ea2c4e711063272c5aa9f1cf0345,7,3,1,9816,,,0,"Fix wrong nodepool_type for CentOS8 beaker

Change-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a
(cherry picked from commit 0829a02293a31022576d4b38c66d2f0cb152279d)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/746879/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,53937442fcf5ea2c4e711063272c5aa9f1cf0345,centos8-beaker-stable/ussuri, nodepool_type: centos8, nodepool_type: centos7,1,1
openstack%2Ftripleo-heat-templates~master~Ia850286682f09cd75651591a1158c2e467343c1d,openstack/tripleo-heat-templates,master,Ia850286682f09cd75651591a1158c2e467343c1d,Drop bootstrap_host_exec from pacemaker_restart_bundle,MERGED,2020-02-21 16:16:28.000000000,2020-08-19 14:34:18.000000000,2020-04-21 14:41:40.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-21 16:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c929415d73a0e5dd6e859ece6b04df87690a0f0c', 'message': 'WIP drop bootstrap_host_exec from pacemaker_restart_bundle\n\nbootstrap_host_exec does not exist on the host so we cannot assume its\nexistence. Since, barring argument checking, it is three lines of shell\nscript we just use it directly.\n\nChange-Id: Ia850286682f09cd75651591a1158c2e467343c1d\nRelated-Bug: #1863442\n'}, {'number': 2, 'created': '2020-04-20 09:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c55299282e92f1f594de6659f8b6c64e854a0aba', 'message': 'WIP drop bootstrap_host_exec from pacemaker_restart_bundle\n\nbootstrap_host_exec does not exist on the host so we cannot assume its\nexistence. Since, barring argument checking, it is three lines of shell\nscript we just use it directly.\n\nChange-Id: Ia850286682f09cd75651591a1158c2e467343c1d\nRelated-Bug: #1863442\n'}, {'number': 3, 'created': '2020-04-20 10:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b91546ead0f7fb820d14b4032d7b77483f49b82', 'message': 'Drop bootstrap_host_exec from pacemaker_restart_bundle\n\nbootstrap_host_exec does not exist on the host so we cannot assume its\nexistence. Since, barring argument checking, it is three lines of shell\nscript [1] we just use it directly. We also add an extra echo to make it\nsimpler to debug any bootstrap vs non-bootstrap issued.\n\n[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec\n\nChange-Id: Ia850286682f09cd75651591a1158c2e467343c1d\nRelated-Bug: #1863442\n'}, {'number': 4, 'created': '2020-04-20 15:28:20.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d8eb351147c359a6a2dea4ee43b247c3be59da8', 'message': 'Drop bootstrap_host_exec from pacemaker_restart_bundle\n\nbootstrap_host_exec does not exist on the host so we cannot assume its\nexistence. Since, barring argument checking, it is three lines of shell\nscript [1] we just use it directly. We also add an extra echo to make it\nsimpler to debug any bootstrap vs non-bootstrap issued.\n\n[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec\n\nChange-Id: Ia850286682f09cd75651591a1158c2e467343c1d\nRelated-Bug: #1863442\n'}]",6,709181,4d8eb351147c359a6a2dea4ee43b247c3be59da8,22,5,4,20172,,,0,"Drop bootstrap_host_exec from pacemaker_restart_bundle

bootstrap_host_exec does not exist on the host so we cannot assume its
existence. Since, barring argument checking, it is three lines of shell
script [1] we just use it directly. We also add an extra echo to make it
simpler to debug any bootstrap vs non-bootstrap issued.

[1] https://github.com/openstack/tripleo-common/blob/master/scripts/bootstrap_host_exec

Change-Id: Ia850286682f09cd75651591a1158c2e467343c1d
Related-Bug: #1863442
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/709181/4 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,c929415d73a0e5dd6e859ece6b04df87690a0f0c,unbundle_bootstraphost," HOSTNAME=$(/bin/hostname -s) SERVICE_NODEID=$(/bin/hiera -c /etc/puppet/hiera.yaml ""${TRIPLEO_SERVICE}_short_bootstrap_node_name"") if [[ ""${HOSTNAME,,}"" == ""${SERVICE_NODEID,,}"" ]]; then /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""pcmk_restart_bundle.sh: Skipping execution since ${HOSTNAME} is not the bootstrap node for service ${TRIPLEO_SERVICE}."" fi", /usr/bin/bootstrap_host_exec $TRIPLEO_SERVICE /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME,7,1
openstack%2Fvitrage~master~If3e3754fa92f500c58dadb668ed4c4d747c92704,openstack/vitrage,master,If3e3754fa92f500c58dadb668ed4c4d747c92704,Native Zuul v3 grenade - try,ABANDONED,2020-08-19 12:53:05.000000000,2020-08-19 14:31:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-19 12:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/672f110c7e1d53bc318f8074c682824af5a19b0e', 'message': 'Native Zuul v3 grenade - try\n\nChange-Id: If3e3754fa92f500c58dadb668ed4c4d747c92704\n'}, {'number': 2, 'created': '2020-08-19 12:54:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/396ccb96adcaddaa96c902d6f3ba5b2fbf944260', 'message': 'Native Zuul v3 grenade - try\n\nChange-Id: If3e3754fa92f500c58dadb668ed4c4d747c92704\n'}]",0,746915,396ccb96adcaddaa96c902d6f3ba5b2fbf944260,4,1,2,19184,,,0,"Native Zuul v3 grenade - try

Change-Id: If3e3754fa92f500c58dadb668ed4c4d747c92704
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/15/746915/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,672f110c7e1d53bc318f8074c682824af5a19b0e,grenade_try,# - openstack-lower-constraints-jobs # - openstack-python3-victoria-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3# - vitrage-devstack-api # - vitrage-devstack-api-ipv6-only # - vitrage-devstack-datasources # - vitrage-devstack-mock - vitrage-grenade # - vitrage-devstack-api # - vitrage-devstack-api-ipv6-only # - vitrage-devstack-datasources - vitrage-grenade name: vitrage-grenade parent: grenade-py3 branch_override: default, - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - vitrage-dsvm-api-py3 - vitrage-dsvm-datasources-py3 - vitrage-dsvm-mock-py3 - grenade-vitrage - vitrage-dsvm-api-ipv6-only - vitrage-dsvm-api-py3 - vitrage-dsvm-datasources-py3 - grenade-vitrage - vitrage-dsvm-api-ipv6-only name: vitrage-dsvm-api-py3 parent: legacy-dsvm-base run: playbooks/legacy/vitrage-dsvm-api-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-api-py3/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/aodh - openstack/mistral - openstack/python-vitrageclient - openstack/vitrage - openstack/vitrage-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: vitrage-dsvm-api-ipv6-only parent: vitrage-dsvm-api-py3 run: playbooks/legacy/vitrage-dsvm-api-py3/run-ipv6.yaml required-projects: - openstack/tempest - job: name: vitrage-dsvm-datasources-py3 parent: legacy-dsvm-base run: playbooks/legacy/vitrage-dsvm-datasources-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-datasources-py3/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/aodh - openstack/mistral - openstack/python-vitrageclient - openstack/vitrage - openstack/vitrage-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: vitrage-dsvm-mock-py3 parent: legacy-dsvm-base voting: false run: playbooks/legacy/vitrage-dsvm-mock-py3/run.yaml post-run: playbooks/legacy/vitrage-dsvm-mock-py3/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/python-vitrageclient - openstack/vitrage - openstack/vitrage-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: grenade-vitrage parent: legacy-dsvm-base branch_override: default ,18,76
openstack%2Fkolla-ansible~master~Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a,openstack/kolla-ansible,master,Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a,Fix sysctl config not live until reboot,ABANDONED,2020-08-19 10:04:58.000000000,2020-08-19 14:28:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-08-19 10:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3199cb09c006e5b6ca9a5630e768af60cd113da', 'message': 'Fix sysctl config not live until reboot\n\nAdd sysctl module args state and reload , change the default rp_filter\nvalue to 2.\n\nChange-Id: Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a\nCloses-Bug: #1837551\n'}, {'number': 2, 'created': '2020-08-19 10:06:56.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/tasks/config-host.yml', 'ansible/roles/nova-cell/tasks/config-host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94f4aeebff19fabe28ee9d6444277a7f66cab529', 'message': 'Fix sysctl config not live until reboot\n\nAdd sysctl module args state and reload , change the default rp_filter\nvalue to 2.\n\nChange-Id: Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a\nCloses-Bug: #1837551\n'}]",6,746872,94f4aeebff19fabe28ee9d6444277a7f66cab529,9,3,2,32238,,,0,"Fix sysctl config not live until reboot

Add sysctl module args state and reload , change the default rp_filter
value to 2.

Change-Id: Ibb34a0b1bb4af686ed9ba98009b57532ef987f7a
Closes-Bug: #1837551
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/746872/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/tasks/config-host.yml', 'ansible/roles/nova-cell/tasks/config-host.yml']",4,d3199cb09c006e5b6ca9a5630e768af60cd113da,bug/1837551, state: present reload: yes ,,6,2
openstack%2Fhorizon~master~I79212d0b5552fce3dffb5c5527b65e48e1325f52,openstack/horizon,master,I79212d0b5552fce3dffb5c5527b65e48e1325f52,"Revert ""Add required mark on Create and Update image form""",MERGED,2020-08-19 10:31:04.000000000,2020-08-19 14:19:26.000000000,2020-08-19 14:16:17.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-19 10:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/de675a22b66f923e36742c77af97c1b52f35e207', 'message': 'Revert ""Add required mark on Create and Update image form""\n\nThis reverts commit 55878ae4b2c85f26350a8ddfae18930eaeea58d9.\n\nMinimum Disk and Minimum RAM are not required in the Glance API.\n\nChange-Id: I79212d0b5552fce3dffb5c5527b65e48e1325f52\n'}, {'number': 2, 'created': '2020-08-19 10:31:55.000000000', 'files': ['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.html', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5368c97a4dedba7c5e1956346a2cfc6f97685b4', 'message': 'Revert ""Add required mark on Create and Update image form""\n\nThis reverts commit 55878ae4b2c85f26350a8ddfae18930eaeea58d9.\n\nMinimum Disk and Minimum RAM are not required in the Glance API [1].\n\n\n[1]https://docs.openstack.org/api-ref/image/v2/index.html?expanded=create-image-detail#request\n\nChange-Id: I79212d0b5552fce3dffb5c5527b65e48e1325f52\n'}]",0,746880,d5368c97a4dedba7c5e1956346a2cfc6f97685b4,10,6,2,1736,,,0,"Revert ""Add required mark on Create and Update image form""

This reverts commit 55878ae4b2c85f26350a8ddfae18930eaeea58d9.

Minimum Disk and Minimum RAM are not required in the Glance API [1].


[1]https://docs.openstack.org/api-ref/image/v2/index.html?expanded=create-image-detail#request

Change-Id: I79212d0b5552fce3dffb5c5527b65e48e1325f52
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/746880/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.html', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.html']",2,de675a22b66f923e36742c77af97c1b52f35e207,add_required_mark, <translate>Minimum Disk (GB)</translate> <translate>Minimum RAM (MB)</translate>," <translate>Minimum Disk (GB)</translate><span class=""hz-icon-required fa fa-asterisk""></span> <translate>Minimum RAM (MB)</translate><span class=""hz-icon-required fa fa-asterisk""></span>",4,8
openstack%2Fmagnum~master~I7f8b1b91eba733ecda01dc385c594d04f238a30b,openstack/magnum,master,I7f8b1b91eba733ecda01dc385c594d04f238a30b,Increase container-publish timeout,MERGED,2020-08-04 09:23:55.000000000,2020-08-19 14:18:26.000000000,2020-08-18 23:24:53.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30262}]","[{'number': 1, 'created': '2020-08-04 09:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e32392e544e130b7bcfacd34f1a6c23ba44bb97a', 'message': ""Increase container-publish timeout\n\nThe magnum-container-publish job first\nhas the run the container-build job,\nso it doesn't make sense for the publish job\ntimeout to be shorter than the build job timeout.\n\nChange-Id: I7f8b1b91eba733ecda01dc385c594d04f238a30b\n""}, {'number': 2, 'created': '2020-08-04 13:19:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/79c4b72f6e98b1da04f7670a19393bd7c3ab6138', 'message': ""Increase container-publish timeout\n\nThe magnum-container-publish job first\nhas to run the container-build job,\nso it doesn't make sense for the publish job\ntimeout to be shorter than the build job timeout.\n\nChange-Id: I7f8b1b91eba733ecda01dc385c594d04f238a30b\n""}]",1,744667,79c4b72f6e98b1da04f7670a19393bd7c3ab6138,16,6,2,30262,,,0,"Increase container-publish timeout

The magnum-container-publish job first
has to run the container-build job,
so it doesn't make sense for the publish job
timeout to be shorter than the build job timeout.

Change-Id: I7f8b1b91eba733ecda01dc385c594d04f238a30b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/744667/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e32392e544e130b7bcfacd34f1a6c23ba44bb97a,increase-publish-timeout, timeout: 2400, timeout: 1200,1,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,stable/ussuri,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 18:40:45.000000000,2020-08-19 14:11:34.000000000,2020-08-19 14:09:21.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-18 18:40:45.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7fcc694d002e3c163d14698067b6540dd913a324', 'message': ""Limit ip_version when resolving public_host and admin_host\n\nUse the the local_ip config option to filter results to a single\nip version when resolving public_host and admin_host to ip\naddresses.\n\nWhen nameservers return result for both IPv4 and IPv6 we currently\nfail, due to multiple IP's for the host.\n\nChange-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e\nRelated-Bug: #1763776\nRelated: RHBZ#1868910\n(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)\n""}]",0,746785,7fcc694d002e3c163d14698067b6540dd913a324,8,3,1,3153,,,0,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
(cherry picked from commit 1fd42a85da98e356e85146a9afbec528584c600b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/746785/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py']",2,7fcc694d002e3c163d14698067b6540dd913a324,RHBZ#1868910-stable/ussuri,"def get_single_ip(host, allow_loopback=False, ip_version=4): type = socket.AF_INET6 if ip_version == 6 else socket.AF_INET ips = get_host_ips(host, type=type)","def get_single_ip(host, allow_loopback=False): ips = get_host_ips(host)",11,7
openstack%2Ftripleo-quickstart-extras~master~I7f9019eff1a19da24a1f91fc5bc52c279520ca87,openstack/tripleo-quickstart-extras,master,I7f9019eff1a19da24a1f91fc5bc52c279520ca87,Switch logic on when to use control_virtual_ip,MERGED,2020-08-18 17:08:55.000000000,2020-08-19 14:09:24.000000000,2020-08-19 14:09:23.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 12393}, {'_account_id': 17823}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 17:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5faee45ae3878c21a7a27b4a57322865bc06a3df', 'message': 'Add else clause to tripleo_deploy_control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 2, 'created': '2020-08-18 17:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/14fb7270b6162054b015c321e56b81c6990a481f', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 3, 'created': '2020-08-18 17:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/227ea1f7f1c4f60b32a300f98342601ee2db1a00', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nCloses-Bug: #1892078\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 4, 'created': '2020-08-18 19:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d47d687704ea1bfde22ecf346112b95875c7ef36', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nCloses-Bug: #1892078\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 5, 'created': '2020-08-19 05:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/295686311a73df04792b01ae209b3a4a7fac8a1e', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nCloses-Bug: #1892078\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 6, 'created': '2020-08-19 05:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8410d4a88a7945e96ed6f8b406603d611635b8c6', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nCloses-Bug: #1892078\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}, {'number': 7, 'created': '2020-08-19 05:28:51.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a961129b65105c9ac89642ff2c88ed2d39e5c5d8', 'message': 'Switch logic on when to use control_virtual_ip\n\nWithout an else clause, the variable will be undefined\nand fail on releases where tripleo_deploy_control_virtual_ip\nis not set.\n\nThis review switches the order so that the condition will\nresolev on either situation.\n\nFixes failing commit:\nhttps://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8\n\nCloses-Bug: #1892078\nChange-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87\n'}]",1,746772,a961129b65105c9ac89642ff2c88ed2d39e5c5d8,34,10,7,9976,,,0,"Switch logic on when to use control_virtual_ip

Without an else clause, the variable will be undefined
and fail on releases where tripleo_deploy_control_virtual_ip
is not set.

This review switches the order so that the condition will
resolev on either situation.

Fixes failing commit:
https://github.com/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8

Closes-Bug: #1892078
Change-Id: I7f9019eff1a19da24a1f91fc5bc52c279520ca87
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/72/746772/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,5faee45ae3878c21a7a27b4a57322865bc06a3df,add-else-virtual-ip," (standalone_ha_control_virtual_ip|default() if tripleo_deploy_ha_control_plane else '') }}"""," (standalone_ha_control_virtual_ip|default() if tripleo_deploy_ha_control_plane) }}""",1,1
openstack%2Ftripleo-quickstart-extras~master~I101d1d938862785ec7afc5d5a7c97ad2f1e78c04,openstack/tripleo-quickstart-extras,master,I101d1d938862785ec7afc5d5a7c97ad2f1e78c04,Generalize vars in template file in build-test-packages role,MERGED,2020-08-12 09:47:43.000000000,2020-08-19 14:09:22.000000000,2020-08-19 14:09:22.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-12 09:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12f92247dcb0adb2cc8481618721b07db51d7aaa', 'message': '[wip] Generalize vars in template file in build-test-packages role\n\nChange-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04\n'}, {'number': 2, 'created': '2020-08-12 10:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0e149c7d267feeb3a08e273db1a4f9578897e561', 'message': '[wip] Generalize vars in template file in build-test-packages role\n\nChange-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04\n'}, {'number': 3, 'created': '2020-08-18 06:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31de3efd56812598b52a7674c1755f6ddd25114b', 'message': 'Generalize vars in template file in build-test-packages role\n\nWith this patch we are generalizing vars in template file to take care\nof differenet osp_release naming conventions we currently have in \ndownstream:-\n\nFor 17:- osp_release: rhos-17\nFor 16.2:- osp_release: rhos-16.2\n\nWe have plans to switch 17 osp_release to numbered in downstream from\nosp_release: rhos-17 --> osp_release: rhos-17.0 in near future so that\nthese kind of changes are not required. \nBut as osp_release for 17 is in multiple places, For now we are going \nahead with this change to make both versions working.\n\nChange-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04\n'}, {'number': 4, 'created': '2020-08-18 06:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/afb059954df2f23ccd79dea1770f354ebc32f5a5', 'message': 'Generalize vars in template file in build-test-packages role\n\nWith this patch we are generalizing vars in template file to take care\nof differenet osp_release naming conventions we currently have in \ndownstream:-\n\nFor 17:- osp_release: rhos-17\nFor 16.2:- osp_release: rhos-16.2\n\nWe have plans to switch 17 osp_release to numbered in downstream from\nosp_release: rhos-17 --> osp_release: rhos-17.0 in near future so that\nthese kind of changes are not required. \nBut as osp_release for 17 is in multiple places, For now we are going \nahead with this change to make both versions working.\n\nChange-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04\n'}, {'number': 5, 'created': '2020-08-18 07:27:55.000000000', 'files': ['roles/build-test-packages/templates/projects.ini.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e86f82b9a0f61370ffe25d55e4652f7f8848150e', 'message': 'Generalize vars in template file in build-test-packages role\n\nWith this patch we are generalizing vars in template file to take care\nof differenet osp_release naming conventions we currently have in \ndownstream:-\n\nFor 17:- osp_release: rhos-17\nFor 16.2:- osp_release: rhos-16.2\n\nWe have plans to switch 17 osp_release to numbered in downstream from\nosp_release: rhos-17 --> osp_release: rhos-17.0 in near future so that\nthese kind of changes are not required. \nBut as osp_release for 17 is in multiple places, For now we are going \nahead with this change to make both versions working.\n\nChange-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04\n'}]",0,745819,e86f82b9a0f61370ffe25d55e4652f7f8848150e,21,8,5,29775,,,0,"Generalize vars in template file in build-test-packages role

With this patch we are generalizing vars in template file to take care
of differenet osp_release naming conventions we currently have in 
downstream:-

For 17:- osp_release: rhos-17
For 16.2:- osp_release: rhos-16.2

We have plans to switch 17 osp_release to numbered in downstream from
osp_release: rhos-17 --> osp_release: rhos-17.0 in near future so that
these kind of changes are not required. 
But as osp_release for 17 is in multiple places, For now we are going 
ahead with this change to make both versions working.

Change-Id: I101d1d938862785ec7afc5d5a7c97ad2f1e78c04
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/745819/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/templates/projects.ini.j2'],1,12f92247dcb0adb2cc8481618721b07db51d7aaa,update_buildtestpackages,downstream_distro_branch={{ osp_release }}-rhel-8-trunk downstream_tag=osp-{{ osp_release.split('-')[1] }},downstream_distro_branch={{ osp_release }}.0-rhel-8-trunk # downstream tag needs to be osp-17.0 downstream_tag=osp-{{ osp_release.split('-')[1] }}.0,2,3
openstack%2Fopenstack-ansible~stable%2Frocky~I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953,openstack/openstack-ansible,stable/rocky,I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953,Ensure that global-requirement-pins.txt is applied,ABANDONED,2020-08-17 18:05:41.000000000,2020-08-19 14:08:21.000000000,,"[{'_account_id': 6816}, {'_account_id': 17264}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-17 18:05:41.000000000', 'files': ['scripts/openstack-ansible.sh', 'scripts/bootstrap-ansible.sh', 'inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf6dfd9598d0681be5050d62d55b54bf6c05471d', 'message': ""Ensure that global-requirement-pins.txt is applied\n\nIn the previous repo build process, we had global constraints which\noverride upper constraints and anything set in the roles. This was\nessential for two purposes:\n\n1. To enable us to pin things that were not in upper constraints. eg: pip,\n   setuptools, wheel\n2. To enable us to pin things which were in upper constraints, but broken.\n   This would usually be a temporary measure until upper constraints was\n   fixed.\n\nThis patch extracts the global pins from global-requirement-pins.txt\ninto a list and sets 'venv_build_global_constraints' to the resulting\nlist so that it is applied to all venvs built.\n\nIn order to reliably find this file without using a hard-coded path, we\nimplement a change to the wrapper script to set the path in it in a\nsimilar manner to that implemented for the inventory path.\n\nChange-Id: I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953\n(cherry picked from commit 0635dfbccc98bc2beb308d2b30ddbaf404201087)\n(cherry picked from commit 03405f8f7de59cc5cfaaa076692dd1a266fa46b1)\n""}]",0,746580,bf6dfd9598d0681be5050d62d55b54bf6c05471d,9,5,1,17264,,,0,"Ensure that global-requirement-pins.txt is applied

In the previous repo build process, we had global constraints which
override upper constraints and anything set in the roles. This was
essential for two purposes:

1. To enable us to pin things that were not in upper constraints. eg: pip,
   setuptools, wheel
2. To enable us to pin things which were in upper constraints, but broken.
   This would usually be a temporary measure until upper constraints was
   fixed.

This patch extracts the global pins from global-requirement-pins.txt
into a list and sets 'venv_build_global_constraints' to the resulting
list so that it is applied to all venvs built.

In order to reliably find this file without using a hard-coded path, we
implement a change to the wrapper script to set the path in it in a
similar manner to that implemented for the inventory path.

Change-Id: I138fe1c8ea80fe71244ab0dc6497cfc6d7bdf953
(cherry picked from commit 0635dfbccc98bc2beb308d2b30ddbaf404201087)
(cherry picked from commit 03405f8f7de59cc5cfaaa076692dd1a266fa46b1)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/746580/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/openstack-ansible.sh', 'scripts/bootstrap-ansible.sh', 'inventory/group_vars/all/all.yml']",3,bf6dfd9598d0681be5050d62d55b54bf6c05471d,bp/python-build-simplification-stable/rocky," _global_pins_file_path: >- {{ (lookup('env', 'OSA_CLONE_ROOT') | default('/opt/openstack-ansible', true)) ~ '/global-requirement-pins.txt' }} venv_build_global_constraints: >- {{ lookup('file', _global_pins_file_path).splitlines() | reject('match','^#.*$') | reject('equalto', '') | list }}",,12,2
openstack%2Fpython-heatclient~master~I51314da6d6bf0467308f3598fa9e666655e286d0,openstack/python-heatclient,master,I51314da6d6bf0467308f3598fa9e666655e286d0,Native Zuul v3 version of the functional legacy job,MERGED,2020-08-19 10:49:18.000000000,2020-08-19 14:08:05.000000000,2020-08-19 14:00:29.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 10459}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 10:49:18.000000000', 'files': ['heatclient/tests/functional/hooks/post_test_hook.sh', '.zuul.yaml', 'heatclient/tests/functional/base.py', 'playbooks/devstack/functional-run.yaml', 'playbooks/devstack/functional-post.yaml'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/bb22add60c5d7a206ed8023d78fd155e256253a0', 'message': 'Native Zuul v3 version of the functional legacy job\n\nPretty straightforward conversion, and remove the old scripts\nwhich are not needed anymore.\n\nAlso, even though OS_TENANT_NAME is still exported,\nread OS_PROJECT_NAME as first choice.\n\nDepends-On: https://review.opendev.org/746235\nChange-Id: I51314da6d6bf0467308f3598fa9e666655e286d0\n'}]",0,746884,bb22add60c5d7a206ed8023d78fd155e256253a0,10,6,1,10459,,,0,"Native Zuul v3 version of the functional legacy job

Pretty straightforward conversion, and remove the old scripts
which are not needed anymore.

Also, even though OS_TENANT_NAME is still exported,
read OS_PROJECT_NAME as first choice.

Depends-On: https://review.opendev.org/746235
Change-Id: I51314da6d6bf0467308f3598fa9e666655e286d0
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/84/746884/1 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/functional/hooks/post_test_hook.sh', '.zuul.yaml', 'heatclient/tests/functional/base.py', 'playbooks/devstack/functional-run.yaml', 'playbooks/devstack/functional-post.yaml']",5,bb22add60c5d7a206ed8023d78fd155e256253a0,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,13,192
openstack%2Fopenstack-helm-infra~master~I899b74fe733b687a3681d7dfb4e8a76ddc4e9019,openstack/openstack-helm-infra,master,I899b74fe733b687a3681d7dfb4e8a76ddc4e9019,[WIP] Create chart for Alerta,ABANDONED,2019-12-18 21:49:35.000000000,2020-08-19 14:06:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-12-18 21:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82a9c79455dfa85cae4a5a3571ec54692790604b', 'message': '[WIP] Create chart for Alerta\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 2, 'created': '2019-12-18 22:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09a22d61b260246325aa433b30843021bd4610f6', 'message': '[WIP] Create chart for Alerta\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 3, 'created': '2019-12-19 18:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd0d5cacd2bf5e2fdbad4952c7b1c46be308572e', 'message': '[WIP] Create chart for Alerta\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 4, 'created': '2019-12-19 18:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d31071a495e7350ad0e4b98448814a02214b7a68', 'message': '[WIP] Create chart for Alerta\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 5, 'created': '2019-12-19 22:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cba92c5bd653f8f47a35164d8ebf11f2c0937b1', 'message': '[WIP] Create chart for Alerta\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 6, 'created': '2019-12-27 20:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09e4fa6310a1452db605b4c4ae9e11892766b44b', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 7, 'created': '2019-12-27 21:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3df96a1c1784d2c71c4ef0f7c981e6d4857a3bd0', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 8, 'created': '2020-01-02 21:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b05f5c9059c859ffd72ea940bd45f7931a33de0', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 9, 'created': '2020-01-02 21:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d571b61eca7098da427e986c2e843839de5ad28', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 10, 'created': '2020-01-06 21:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92ea9fc9abd173b2c12ed64d83633573fc85b0af', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\n'}, {'number': 11, 'created': '2020-01-13 19:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02efa98fa4706a1f5d232b8ca0c41cd78d5f8c23', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\nCo-authored-By: Meghan Heisler <mkheisler93@gmail.com>\n'}, {'number': 12, 'created': '2020-07-15 20:51:37.000000000', 'files': ['prometheus-alertmanager/templates/receivers/snmp/configmap-bin.yaml', 'snmp/templates/deployment.yaml', 'snmp/templates/configmap-etc.yaml', 'tools/deployment/osh-infra-alerta/090-process-exporter.sh', 'alerta/templates/job-image-repo-sync.yaml', 'tools/deployment/osh-infra-alerta/070-kube-state-metrics.sh', 'alerta/templates/secret-ingress-tls.yaml', 'prometheus-alertmanager/templates/receivers/snmp/bin/_webhook_snmp.sh.tpl', 'alerta/templates/secret-postgres-creds.yaml', 'snmp/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-alerta/140-alerta.sh', 'alerta/templates/bin/_apache.sh.tpl', 'snmp/templates/service.yaml', 'alerta/Chart.yaml', 'alerta/requirements.yaml', 'alerta/templates/network-policy.yaml', 'alerta/templates/service.yaml', 'prometheus-alertmanager/values.yaml', 'prometheus-alertmanager/templates/receivers/snmp/network-policy.yaml', 'alerta/templates/deployment.yaml', 'tools/deployment/osh-infra-alerta/130-postgresql.sh', 'snmp/Chart.yaml', 'snmp/values.yaml', 'alerta/templates/service-ingress-alerta.yaml', 'alerta/values.yaml', 'alerta/templates/ingress-alerta.yaml', 'alerta/templates/configmap-etc.yaml', 'snmp/requirements.yaml', 'tools/deployment/osh-infra-alerta/100-openstack-exporter.sh', 'tools/deployment/osh-infra-alerta/050-prometheus.sh', 'snmp/templates/bin/_snmp.sh.tpl', 'alerta/templates/bin/_alerta.sh.tpl', 'tools/deployment/osh-infra-alerta/150-snmp.sh', 'alerta/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-alerta/080-node-exporter.sh', 'prometheus-alertmanager/templates/receivers/snmp/deployment.yaml', 'prometheus-alertmanager/templates/receivers/snmp/service.yaml', 'tools/deployment/osh-infra-alerta/060-alertmanager.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7162ded12abb9e6f184b5f5fcd302753a680cb5', 'message': '[WIP] Create chart for Alerta\n\nAn snmp chart has been added to demo / verify that traps sent via\nalertmanager are successful. With the current configuration used\nby the snmp chart, any incoming traps will be sent to stdout and\nare visible by using kubectl get logs.\n\nHowever, the snmp chart is not required to use alerta and can/should\nbe removed before merging, unless there is general interest in adding\nthis chart to openstack-helm-infra.\n\nChange-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019\nCo-Authored-By: Radhika Pai <rp592h@att.com>\nCo-authored-By: Meghan Heisler <mkheisler93@gmail.com>\n'}]",0,699877,c7162ded12abb9e6f184b5f5fcd302753a680cb5,22,2,12,30777,,,0,"[WIP] Create chart for Alerta

An snmp chart has been added to demo / verify that traps sent via
alertmanager are successful. With the current configuration used
by the snmp chart, any incoming traps will be sent to stdout and
are visible by using kubectl get logs.

However, the snmp chart is not required to use alerta and can/should
be removed before merging, unless there is general interest in adding
this chart to openstack-helm-infra.

Change-Id: I899b74fe733b687a3681d7dfb4e8a76ddc4e9019
Co-Authored-By: Radhika Pai <rp592h@att.com>
Co-authored-By: Meghan Heisler <mkheisler93@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/77/699877/4 && git format-patch -1 --stdout FETCH_HEAD,"['alerta/templates/service-ingress-alerta.yaml', 'alerta/values.yaml', 'alerta/templates/ingress-alerta.yaml', 'alerta/templates/job-image-repo-sync.yaml', 'alerta/templates/configmap-etc.yaml', 'alerta/templates/secret-ingress-tls.yaml', 'alerta/templates/secret-postgres-creds.yaml', 'alerta/templates/bin/_apache.sh.tpl', 'alerta/Chart.yaml', 'alerta/templates/bin/_alerta.sh.tpl', 'alerta/templates/configmap-bin.yaml', 'alerta/requirements.yaml', 'alerta/templates/network-policy.yaml', 'alerta/templates/service.yaml', 'alerta/templates/deployment.yaml']",15,82a9c79455dfa85cae4a5a3571ec54692790604b,Alerta,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.deployment }} {{- $envAll := . }} # Someday this chart might support both mongodb and postgres {{- $database := .Values.manifests.database_backend }} {{- $dbUserSecret := .Values.secrets.postgres.user }} {{- $dbUser := .Values.endpoints.postgres.auth.admin.username }} {{- $dbPass := .Values.endpoints.postgres.auth.admin.password }} {{- $authHeader := printf ""%s:%s"" $dbUser $dbPass | b64enc }} {{- $serviceAccountName := ""alerta"" }} {{ tuple $envAll ""alerta"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1 kind: Deployment metadata: name: alerta annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""alerta"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: replicas: {{ .Values.pod.replicas.alerta }} selector: matchLabels: {{ tuple $envAll ""alerta"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} {{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""alerta"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: {{ dict ""envAll"" $envAll ""application"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }} serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""alerta"" ""dashboard"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.alerta.node_selector_key }}: {{ .Values.labels.alerta.node_selector_value | quote }} initContainers: {{ tuple $envAll ""alerta"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: apache-proxy {{ tuple $envAll ""apache_proxy"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.apache_proxy | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""dashboard"" ""container"" ""apache_proxy"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} command: - /tmp/apache.sh - start ports: - name: http containerPort: {{ tuple ""alerta"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: tcpSocket: port: {{ tuple ""alerta"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 20 periodSeconds: 10 env: # - name: ELASTICSEARCH_USERNAME # valueFrom: # secretKeyRef: # name: $esUserSecret # key: ELASTICSEARCH_USERNAME # - name: ELASTICSEARCH_PASSWORD # valueFrom: # secretKeyRef: # name: $esUserSecret # key: ELASTICSEARCH_PASSWORD volumeMounts: - name: pod-tmp mountPath: /tmp - name: alerta-bin mountPath: /tmp/apache.sh subPath: apache.sh readOnly: true - name: alerta-etc mountPath: /usr/local/apache2/conf/httpd.conf subPath: httpd.conf readOnly: true - name: alerta {{ tuple $envAll ""alerta"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.alerta | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""dashboard"" ""container"" ""alerta"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} command: {} ports: - name: alerta containerPort: {{ tuple ""alerta"" ""internal"" ""alerta"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} readinessProbe: {} env: - name: DATABASE_URL valueFrom: secretKeyRef: name: {{ $dbUserSecret }} key: DATABASE_URL volumeMounts: - name: pod-tmp mountPath: /tmp - name: pod-run mountPath: /run - name: alerta-bin mountPath: /tmp/alerta.sh subPath: alerta.sh readOnly: true volumes: - name: pod-tmp emptyDir: {} - name: pod-run emptyDir: medium: ""Memory"" - name: alerta-bin configMap: name: alerta-bin defaultMode: 0555 {{- end }} ",,842,0
openstack%2Fpuppet-openstack_extras~master~I9deedd7625d512030e82d7c77c764b87adaf1677,openstack/puppet-openstack_extras,master,I9deedd7625d512030e82d7c77c764b87adaf1677,Use g-api instead of g-reg in unit tests,MERGED,2020-08-18 23:14:53.000000000,2020-08-19 13:32:46.000000000,2020-08-19 13:32:46.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 23:14:53.000000000', 'files': ['spec/defines/openstack_extras_pacemaker_service_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e3a7742153f4029bf578d237f6dd277565131669', 'message': 'Use g-api instead of g-reg in unit tests\n\n... because glance-registry has been removed.\n\nChange-Id: I9deedd7625d512030e82d7c77c764b87adaf1677\n'}]",0,746816,e3a7742153f4029bf578d237f6dd277565131669,7,3,1,9816,,,0,"Use g-api instead of g-reg in unit tests

... because glance-registry has been removed.

Change-Id: I9deedd7625d512030e82d7c77c764b87adaf1677
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/16/746816/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/openstack_extras_pacemaker_service_spec.rb'],1,e3a7742153f4029bf578d237f6dd277565131669,g-reg," ""class { 'glance::api::authtoken': password => 'password', }"", ""include glance::api"", let (:title) { 'glance-api' } it { should contain_service('glance-api').with_provider('pacemaker') } it { should contain_cs_primitive('p_glance-api').with( it { should contain_cs_clone('p_glance-api-clone').with_ensure('absent') } it { should_not contain_file('ocf_handler_glance_api') } it { should contain_cs_primitive('p_glance-api').with( it { should contain_cs_clone('p_glance-api-clone').with( :primitive => 'p_glance-api',"," ""class { 'glance::registry::authtoken': password => 'password', }"", ""include glance::registry"", let (:title) { 'glance-registry' } it { should contain_service('glance-registry').with_provider('pacemaker') } it { should contain_cs_primitive('p_glance-registry').with( it { should contain_cs_clone('p_glance-registry-clone').with_ensure('absent') } it { should_not contain_file('ocf_handler_glance_registry') } it { should contain_cs_primitive('p_glance-registry').with( it { should contain_cs_clone('p_glance-registry-clone').with( :primitive => 'p_glance-registry',",10,10
openstack%2Fmanila-tempest-plugin~master~I7e16b341e3c9d76647eb2fa08909392328fb330b,openstack/manila-tempest-plugin,master,I7e16b341e3c9d76647eb2fa08909392328fb330b,"Fix skip condition for ""test_default_share_group_type_applied""",MERGED,2020-08-19 06:36:00.000000000,2020-08-19 13:29:00.000000000,2020-08-19 13:28:32.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-08-19 06:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/301879fafe2e5ab325bd127fcdf74f4e6338910e', 'message': 'Fix skip condition for ""test_default_share_group_type_applied""\n\nTest ""test_default_share_group_type_applied"" is failed with code 404 that because\nthere is a wrong skip condition. The test runs when ""default_share_type_name""\nconfiguration option is defined but that does not mean that group share type also\nexists.\nSo in case there is a default share type but not a group share type the api call\nfor default share group types fails because resource could not be found.\nThis patch skips the test in case group share type is not found.\n\nChange-Id: I7e16b341e3c9d76647eb2fa08909392328fb330b\n'}, {'number': 2, 'created': '2020-08-19 06:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/fb113952aca10100d3476b2e8aeed459e4e302c1', 'message': 'Fix skip condition for ""test_default_share_group_type_applied""\n\nTest ""test_default_share_group_type_applied"" is failed with code 404\nthat because there is a wrong skip condition. The test runs when\n""default_share_type_name"" configuration option is defined but that\ndoes not mean that group share type also exists.\nSo in case there is a default share type but not a group share type\nthe api call for default share group types fails because resource\ncould not be found.\nThis patch skips the test in case group share type is not found.\n\nChange-Id: I7e16b341e3c9d76647eb2fa08909392328fb330b\n'}, {'number': 3, 'created': '2020-08-19 06:58:30.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_groups.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1369e54a2d8c4874f2b90f98c77e115349efb22a', 'message': 'Fix skip condition for ""test_default_share_group_type_applied""\n\nTest ""test_default_share_group_type_applied"" is failed with code 404\nthat because there is a wrong skip condition. The test runs when\n""default_share_type_name"" configuration option is defined but that\ndoes not mean that group share type also exists.\nSo in case there is a default share type but not a group share type\nthe api call for default share group types fails because resource\ncould not be found.\nThis patch skips the test in case group share type is not found.\n\nChange-Id: I7e16b341e3c9d76647eb2fa08909392328fb330b\n'}]",2,746839,1369e54a2d8c4874f2b90f98c77e115349efb22a,17,9,3,19262,,,0,"Fix skip condition for ""test_default_share_group_type_applied""

Test ""test_default_share_group_type_applied"" is failed with code 404
that because there is a wrong skip condition. The test runs when
""default_share_type_name"" configuration option is defined but that
does not mean that group share type also exists.
So in case there is a default share type but not a group share type
the api call for default share group types fails because resource
could not be found.
This patch skips the test in case group share type is not found.

Change-Id: I7e16b341e3c9d76647eb2fa08909392328fb330b
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/39/746839/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_share_groups.py'],1,301879fafe2e5ab325bd127fcdf74f4e6338910e,default_group_type,"from tempest.lib import exceptions try: default_type = self.shares_v2_client.get_default_share_group_type( version=version ) except exceptions.NotFound: msg = ""There is not a predefined share group types"" raise self.skipException(msg)", default_type = self.shares_v2_client.get_default_share_group_type( version=version ),8,4
openstack%2Fpuppet-openstack_extras~master~Ib76b19b0bf73f693f63456b3e3c3eafc33513b17,openstack/puppet-openstack_extras,master,Ib76b19b0bf73f693f63456b3e3c3eafc33513b17,Fix wrong parameter name in a release note,MERGED,2020-08-19 09:34:36.000000000,2020-08-19 13:17:22.000000000,2020-08-19 13:15:37.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 09:34:36.000000000', 'files': ['releasenotes/notes/repo-redhat-repofile-bfafdae3f8b158b2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/cd81471dbaae37e48484a030ba93141ff7fd35ef', 'message': 'Fix wrong parameter name in a release note\n\nChange-Id: Ib76b19b0bf73f693f63456b3e3c3eafc33513b17\n'}]",0,746868,cd81471dbaae37e48484a030ba93141ff7fd35ef,8,3,1,9816,,,0,"Fix wrong parameter name in a release note

Change-Id: Ib76b19b0bf73f693f63456b3e3c3eafc33513b17
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/68/746868/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/repo-redhat-repofile-bfafdae3f8b158b2.yaml'],1,cd81471dbaae37e48484a030ba93141ff7fd35ef,reno," The new ``repo::redhat::redhat::repo_source_hash`` parameter has been added, so that repo file can be passed directly to configure yum"," The new ``manifests::repo::redhat::redhat::repo_source_hash`` parameter has been added, so that repo file can be passed directly to configure yum",2,2
openstack%2Ftripleo-ansible~master~Ib511f3ec76c4d429af4846182a915bb8f22ac851,openstack/tripleo-ansible,master,Ib511f3ec76c4d429af4846182a915bb8f22ac851,Use native modules for octavia certs creation,ABANDONED,2020-03-23 08:23:05.000000000,2020-08-19 13:17:06.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-03-23 08:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf697dc1604cf3c0cb19162da81a7e1a6921be5c', 'message': 'Use native modules for octavia certs creation\n\nReplace shell tasks with openssl_* modules.\n\nChange-Id: Ib511f3ec76c4d429af4846182a915bb8f22ac851\n'}, {'number': 2, 'created': '2020-03-25 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7affc728f212abdbbd27f52aa04ffef9b5f3a07', 'message': 'Use native modules for octavia certs creation\n\nReplace shell tasks with openssl_* modules.\n\nChange-Id: Ib511f3ec76c4d429af4846182a915bb8f22ac851\n'}, {'number': 3, 'created': '2020-03-26 17:14:00.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bab131b39cfca8e3373feec457b5cf1ba900089', 'message': 'Use native modules for octavia certs creation\n\nReplace shell tasks with openssl_* modules.\n\nChange-Id: Ib511f3ec76c4d429af4846182a915bb8f22ac851\n'}]",18,714396,8bab131b39cfca8e3373feec457b5cf1ba900089,15,4,3,29244,,,0,"Use native modules for octavia certs creation

Replace shell tasks with openssl_* modules.

Change-Id: Ib511f3ec76c4d429af4846182a915bb8f22ac851
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/714396/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'],1,cf697dc1604cf3c0cb19162da81a7e1a6921be5c,," openssl_privatekey: path: ""{{ openssl_temp_dir }}/private/cakey.pem"" type: RSA cipher: des3 passphrase: ""{{ ca_passphrase }}"" size: 2048 slurp: src: ""{{ openssl_temp_dir }}/private/cakey.pem"" private_key_content: ""{{ private_key_data.content | b64decode }}"" - name: Generate certification authority certificate request openssl_csr: path: ""{{ openssl_temp_dir }}/ca.csr"" subject: C: US ST: NC L: Raleigh O: Red Hat CN: OctaviaCA basic_constraints: ""CA:TRUE"" privatekey_passphrase: ""{{ ca_passphrase }}"" privatekey_path: ""{{ openssl_temp_dir }}/private/cakey.pem"" openssl_certificate: path: ""{{ openssl_temp_dir }}/ca_01.pem"" provider: selfsigned csr_path: ""{{ openssl_temp_dir }}/ca.csr"" privatekey_passphrase: ""{{ ca_passphrase }}"" privatekey_path: ""{{ openssl_temp_dir }}/private/cakey.pem"" selfsigned_not_after: ""+365d"" slurp: src: ""{{ openssl_temp_dir }}/ca_01.pem"" ca_cert_content: ""{{ ca_cert_data.content | b64decode }}"" - name: Generating service private key openssl_privatekey: path: ""{{ openssl_temp_dir }}/client.pem"" type: RSA size: 2048 - name: Generate service certificate request openssl_csr: path: ""{{ openssl_temp_dir }}/client.csr"" subject: C: US ST: NC L: Raleigh O: Red Hat CN: OctaviaController privatekey_path: ""{{ openssl_temp_dir }}/client.pem"" openssl_certificate: path: ""{{ openssl_temp_dir }}/client-.pem"" provider: ownca csr_path: ""{{ openssl_temp_dir }}/client.csr"" ownca_path: ""{{ openssl_temp_dir }}/ca_01.pem"" ownca_privatekey_passphrase: ""{{ ca_passphrase }}"" ownca_privatekey_path: ""{{ openssl_temp_dir }}/private/cakey.pem"" ownca_not_after: ""+365d"" - name: Reading service private key slurp: src: ""{{ openssl_temp_dir }}/client.pem""- name: Reading service public certificate slurp: src: ""{{ openssl_temp_dir }}/client-.pem"" register: service_public_data service_pem_content: ""{{ service_public_data.content | b64decode }}{{ service_key_data.content | b64decode }}"""," become: true become: true- name: create temporary ssl newcerts directory become: true file: path={{ openssl_temp_dir }}/newcerts recurse=yes - name: create index.txt become: true copy: content="""" dest={{ openssl_temp_dir }}/index.txt force=no - name: create serial file become: true copy: content=""01"" dest={{ openssl_temp_dir }}/serial - name: create openssl configuration file from template become: true copy: src=""/etc/pki/tls/openssl.cnf"" dest=""{{ openssl_temp_dir }}/openssl.cnf"" remote_src=yes - name: update openssl directory entry in the configuration file become: true ini_file: path=""{{ openssl_temp_dir }}/openssl.cnf"" section="" CA_default "" option=""dir"" value=""{{ openssl_temp_dir }}"" - name: update openssl ca certificate file in the configuration file become: true replace: path=""{{ openssl_temp_dir }}/openssl.cnf"" regexp=""cacert.pem"" replace=""ca_01.pem"" become: true shell: | openssl genrsa -passout pass:{{ ca_passphrase }} -des3 -out {{ openssl_temp_dir }}/private/cakey.pem 2048 become: true shell: cat {{ openssl_temp_dir }}/private/cakey.pem private_key_content: ""{{ private_key_data.stdout }}"" become: true shell: | openssl req -x509 -passin pass:{{ ca_passphrase }} -new -nodes -key {{ openssl_temp_dir }}/private/cakey.pem \ -subj ""/C=US/ST=Denial/L=Springfield/O=Dis/CN=www.example.com"" \ -days 365 -config {{ openssl_temp_dir }}/openssl.cnf \ -out {{ openssl_temp_dir }}/ca_01.pem become: true shell: cat {{ openssl_temp_dir }}/ca_01.pem ca_cert_content: ""{{ ca_cert_data.stdout }}"" - name: Generating service private key & certificate request become: true shell: | openssl req -newkey rsa:2048 -nodes -config {{ openssl_temp_dir }}/openssl.cnf -keyout {{ openssl_temp_dir }}/client.key \ -subj ""/C=US/ST=Denial/L=Springfield/O=Dis/CN=www.example.com"" \ -out {{ openssl_temp_dir }}/client.csr become: true shell: | openssl ca -config {{ openssl_temp_dir }}/openssl.cnf -passin pass:{{ ca_passphrase }} -in {{ openssl_temp_dir }}/client.csr \ -days 365 -out {{ openssl_temp_dir }}/client-.pem -batch - name: Read service private key and public certifcate become: true shell: | cat {{ openssl_temp_dir }}/client-.pem {{ openssl_temp_dir }}/client.key service_pem_content: ""{{ service_key_data.stdout }}""",65,56
openstack%2Fcinder~stable%2Ftrain~Ia26993f8c352d539fa8834d368a9c39109d6485d,openstack/cinder,stable/train,Ia26993f8c352d539fa8834d368a9c39109d6485d,PowerMax Driver - PowerMax Pools Fix,MERGED,2020-04-20 10:10:26.000000000,2020-08-19 13:15:40.000000000,2020-08-19 13:12:57.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30165}, {'_account_id': 30555}, {'_account_id': 31981}]","[{'number': 1, 'created': '2020-04-20 10:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f3bbb486ae963476d963fa47f524bb2a3ecac3b', 'message': ""PowerMax Driver - PowerMax Pools Fix\n\nThis change fixes bug 1873253 whereby live migration was broken\nfor volume-types with 'None' set as workload. The PowerMax for\nCinder driver now accounts for both 'None' and 'NONE' variations\nof service level and workload.\n\nChange-Id: Ia26993f8c352d539fa8834d368a9c39109d6485d\nCloses-Bug: #1873253\n(cherry picked from commit aef7fe44c10c9689bb889e866031c101c69fca4b)\n""}, {'number': 2, 'created': '2020-04-22 11:11:02.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/20a55fc0ca05b36423e89574a57a7d510e3bc0ff', 'message': ""PowerMax Driver - PowerMax Pools Fix\n\nThis change fixes bug 1873253 whereby live migration was broken\nfor volume-types with 'None' set as workload. The PowerMax for\nCinder driver now accounts for both 'None' and 'NONE' variations\nof service level and workload.\n\nChange-Id: Ia26993f8c352d539fa8834d368a9c39109d6485d\nCloses-Bug: #1873253\n(cherry picked from commit aef7fe44c10c9689bb889e866031c101c69fca4b)\n""}]",3,721220,20a55fc0ca05b36423e89574a57a7d510e3bc0ff,64,22,2,12670,,,0,"PowerMax Driver - PowerMax Pools Fix

This change fixes bug 1873253 whereby live migration was broken
for volume-types with 'None' set as workload. The PowerMax for
Cinder driver now accounts for both 'None' and 'NONE' variations
of service level and workload.

Change-Id: Ia26993f8c352d539fa8834d368a9c39109d6485d
Closes-Bug: #1873253
(cherry picked from commit aef7fe44c10c9689bb889e866031c101c69fca4b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/721220/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py']",8,2f3bbb486ae963476d963fa47f524bb2a3ecac3b,720503," @mock.patch.object(masking.PowerMaxMasking, '_clean_up_child_storage_group') @mock.patch.object(masking.PowerMaxMasking, 'move_volume_between_storage_groups') @mock.patch.object(masking.PowerMaxMasking, '_return_volume_to_fast_managed_group') def test_pre_multiattach_pool_none_workload(self, mock_return, mck_move, mck_clean): with mock.patch.object(utils.PowerMaxUtils, 'truncate_string', return_value='OptimdNONE'): self.mask.pre_multiattach( self.data.array, self.data.device_id, self.data.masking_view_dict_multiattach, self.data.extra_specs_optimized) utils.PowerMaxUtils.truncate_string.assert_called_once_with( 'OptimizedNONE', 10) ",,129,97
openstack%2Ftripleo-validations~master~I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,openstack/tripleo-validations,master,I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec,Get UUID from ansible environment variables,MERGED,2020-05-12 20:58:08.000000000,2020-08-19 13:07:53.000000000,2020-05-14 12:41:26.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-12 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e2e11265ac10f53c3643c3d766223f4313fcadcc', 'message': 'Get UUID from ansible environment variables\n\nGet the uuid set by ansible if exist for logging file creation\non disk.\n\nvalidations-common is using this uuid set by ansible from ansible-libs\nin order to share the same id for logging.\nSince the tripleo-validations callback plugin will be used for tripleo\nreleases for some times, we need to set this here as well\n\nChange-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec\n'}, {'number': 2, 'created': '2020-05-13 07:42:09.000000000', 'files': ['callback_plugins/validation_json.py', 'doc/source/_exts/generate_validations_doc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d69e3d763b8eb4d68a67dad0701e783c6fff8fa1', 'message': 'Get UUID from ansible environment variables\n\nGet the uuid set by ansible if exist for logging file creation\non disk.\n\nvalidations-common is using this uuid set by ansible from ansible-libs\nin order to share the same id for logging.\nSince the tripleo-validations callback plugin will be used for tripleo\nreleases for some times, we need to set this here as well\n\nnb: fix doc for pep8\n\nChange-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec\n'}]",0,727452,d69e3d763b8eb4d68a67dad0701e783c6fff8fa1,14,4,2,16515,,,0,"Get UUID from ansible environment variables

Get the uuid set by ansible if exist for logging file creation
on disk.

validations-common is using this uuid set by ansible from ansible-libs
in order to share the same id for logging.
Since the tripleo-validations callback plugin will be used for tripleo
releases for some times, we need to set this here as well

nb: fix doc for pep8

Change-Id: I24ee8fead53dcb9b480447c5fc1d4e2b49e0a8ec
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/727452/1 && git format-patch -1 --stdout FETCH_HEAD,['callback_plugins/validation_json.py'],1,e2e11265ac10f53c3643c3d766223f4313fcadcc,uuid/callback,"import os 'id': (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else str(play._uuid)), (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else self.results[0].get('play').get('id')),","import os.path 'id': str(play._uuid), self.results[0].get('play').get('id'),",5,3
openstack%2Fkolla-ansible~stable%2Ftrain~Ifc252ae793e6974356fcdca810b373f362d24ba5,openstack/kolla-ansible,stable/train,Ifc252ae793e6974356fcdca810b373f362d24ba5,Mount /etc/timezone based on host OS,MERGED,2020-08-13 08:17:49.000000000,2020-08-19 13:07:28.000000000,2020-08-19 13:04:10.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-13 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9ac719a20af0e1fde957852a90942e0ffde3f42', 'message': 'Mount /etc/timezone based on host OS\n\nBackport adapted for Train.\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}, {'number': 2, 'created': '2020-08-19 05:19:52.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84ccebf1649b3e3c59c6c69872560130e12d44c8', 'message': 'Mount /etc/timezone based on host OS\n\nBackport adapted for Train.\n\nPreviously we mounted /etc/timezone if the kolla_base_distro is debian\nor ubuntu. This would fail prechecks if debian or ubuntu images were\ndeployed on CentOS. While this is not a supported combination, for\ncorrectness we should fix the condition to reference the host OS rather\nthan the container OS, since that is where the /etc/timezone file is\nlocated.\n\nChange-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5\nCloses-Bug: #1882553\n(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)\n'}]",0,746018,84ccebf1649b3e3c59c6c69872560130e12d44c8,12,3,2,14826,,,0,"Mount /etc/timezone based on host OS

Backport adapted for Train.

Previously we mounted /etc/timezone if the kolla_base_distro is debian
or ubuntu. This would fail prechecks if debian or ubuntu images were
deployed on CentOS. While this is not a supported combination, for
correctness we should fix the condition to reference the host OS rather
than the container OS, since that is where the /etc/timezone file is
located.

Change-Id: Ifc252ae793e6974356fcdca810b373f362d24ba5
Closes-Bug: #1882553
(cherry picked from commit 146b00efa7081eac9cba4410b5ea7e8b17535246)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/746018/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rally/defaults/main.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",68,c9ac719a20af0e1fde957852a90942e0ffde3f42,bug/1882553," - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_os_family == 'Debian' else '' }}"""," - ""{{ '/etc/timezone:/etc/timezone:ro' if kolla_base_distro in ['debian', 'ubuntu'] else '' }}""",187,186
openstack%2Fneutron-lib~master~I6d62fed6b427dc626c3395d4f1589720959cd71c,openstack/neutron-lib,master,I6d62fed6b427dc626c3395d4f1589720959cd71c,Fix: port attribute name propagate_uplink_status,MERGED,2020-08-18 12:50:02.000000000,2020-08-19 13:05:18.000000000,2020-08-19 13:02:49.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27815}]","[{'number': 1, 'created': '2020-08-18 12:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/58845061683fcd7100d22355b1c4d32f878dfaf8', 'message': 'Fix: port attribute name propagate_uplink_status\n\nChange the incorrect port attribute name ""uplink_status_propagation""\nto ""propagate_uplink_status"".\n\nCloses-Bug: #1891873\n\nChange-Id: I6d62fed6b427dc626c3395d4f1589720959cd71c\nReviewed-by: pedh <hcn518@gmail.com>\n'}, {'number': 2, 'created': '2020-08-19 01:55:25.000000000', 'files': ['api-ref/source/v2/samples/ports/port-create-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-response.json', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'api-ref/source/v2/samples/ports/port-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'api-ref/source/v2/samples/ports/ports-list-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/ports/port-update-response.json', 'api-ref/source/v2/ports.inc', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json', 'api-ref/source/v2/samples/ports/port-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/40efa204df9feaf0d207b0e89eaa7a7776e02248', 'message': 'Fix: port attribute name propagate_uplink_status\n\nChange the incorrect port attribute name ""uplink_status_propagation""\nto ""propagate_uplink_status"".\n\nCloses-Bug: #1891873\n\nChange-Id: I6d62fed6b427dc626c3395d4f1589720959cd71c\nReviewed-by: pedh <hcn518@gmail.com>\n'}]",2,746701,40efa204df9feaf0d207b0e89eaa7a7776e02248,13,5,2,27815,,,0,"Fix: port attribute name propagate_uplink_status

Change the incorrect port attribute name ""uplink_status_propagation""
to ""propagate_uplink_status"".

Closes-Bug: #1891873

Change-Id: I6d62fed6b427dc626c3395d4f1589720959cd71c
Reviewed-by: pedh <hcn518@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/01/746701/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/ports/port-create-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-response.json', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'api-ref/source/v2/samples/ports/port-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'api-ref/source/v2/samples/ports/ports-list-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/ports/port-update-response.json', 'api-ref/source/v2/ports.inc', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json', 'api-ref/source/v2/samples/ports/port-show-response.json']",13,58845061683fcd7100d22355b1c4d32f878dfaf8,," ""propagate_uplink_status"": false"," ""uplink_status_propagation"": false",24,24
openstack%2Frequirements~master~Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,openstack/requirements,master,Ibf26d927cd45d0f39a0fcb7c4700786dbf002459,Add yamllint to blacklist,MERGED,2020-05-14 10:31:09.000000000,2020-08-19 12:53:15.000000000,2020-05-14 17:04:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 10:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5eac333f52df7835f800ebbf8c074669ca1beb9', 'message': 'Add yamllint to blacklist\n\nSome projects, such as kolla-ansible, use yamllint for linting YAML code.\nAt present it is not possible to add this to your requirements as it does\nnot appear in the global requirements file.\n\nChange-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459\n'}, {'number': 2, 'created': '2020-05-14 10:32:36.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ca51f2b1c52a6691925029586b6514ede8f13a1', 'message': 'Add yamllint to blacklist\n\nSome projects, such as kolla-ansible, use yamllint for linting YAML\ncode.\nAt present it is not possible to add this to your requirements as it\ndoes not appear in the global requirements file.\n\nChange-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459\n'}]",0,728018,6ca51f2b1c52a6691925029586b6514ede8f13a1,11,4,2,22629,,,0,"Add yamllint to blacklist

Some projects, such as kolla-ansible, use yamllint for linting YAML
code.
At present it is not possible to add this to your requirements as it
does not appear in the global requirements file.

Change-Id: Ibf26d927cd45d0f39a0fcb7c4700786dbf002459
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/728018/1 && git format-patch -1 --stdout FETCH_HEAD,['blacklist.txt'],1,b5eac333f52df7835f800ebbf8c074669ca1beb9,,yamllint,,1,0
openstack%2Fos-vif~master~Id5df8afe576881cba58b3288acd79501ef1de511,openstack/os-vif,master,Id5df8afe576881cba58b3288acd79501ef1de511,update tox envs and support pdf docs,MERGED,2020-05-14 11:36:39.000000000,2020-08-19 12:14:16.000000000,2020-08-19 12:09:48.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2020-05-14 11:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/aeda62a3b6a41340ca9bdbaa0550c1b9b92a39ee', 'message': 'update tox envs and support pdf docs\n\n- This change adds support for building pdf docs.\n- This change add a bindep.txt file and add\n  the required deps for pdf docs\n- This change groups the tox sections into logicaly\n  related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 2, 'created': '2020-05-25 06:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ba4bb5e5db4bdcf1d67952d3499ca86c32382a49', 'message': 'update tox envs and support pdf docs\n\n- This change adds support for building pdf docs.\n- This change add a bindep.txt file and add\n  the required deps for pdf docs\n- This change groups the tox sections into logicaly\n  related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 3, 'created': '2020-05-25 13:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/829719700746b927461b6f981ba82902e6c252de', 'message': 'update tox envs and support pdf docs\n\n- adds support for building PDF docs.\n- adds a bindep.txt file with required deps for pdf docs\n- groups the tox envs into logicaly related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 4, 'created': '2020-07-27 20:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/526fc38eccf16349080882f8833ec0dbe45709bd', 'message': 'update tox envs and support pdf docs\n\n- adds support for building PDF docs.\n- adds a bindep.txt file with required deps for pdf docs\n- groups the tox envs into logicaly related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 5, 'created': '2020-08-05 00:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f14449098d319476473c6c21aa795f212998a2e8', 'message': 'update tox envs and support pdf docs\n\n- adds support for building PDF docs.\n- adds a bindep.txt file with required deps for pdf docs\n- groups the tox envs into logicaly related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 6, 'created': '2020-08-05 00:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d363e3b69ad8ebb645020ad8ec8a70949a189bb0', 'message': 'update tox envs and support pdf docs\n\n- adds support for building PDF docs.\n- adds a bindep.txt file with required deps for pdf docs\n- groups the tox envs into logicaly related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}, {'number': 7, 'created': '2020-08-18 14:13:32.000000000', 'files': ['.gitignore', 'bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/68c4edba14908bdc5670097511298985304b6dc6', 'message': 'update tox envs and support pdf docs\n\n- adds support for building PDF docs.\n- adds a bindep.txt file with required deps for pdf docs\n- groups the tox envs into logicaly related sections.\n- This change updates the default set of jobs so that\n  runing tox with out any arguments should run the\n  default set of jobs that should pass before pushing\n  changes for review.\n\nChange-Id: Id5df8afe576881cba58b3288acd79501ef1de511\n'}]",24,728037,68c4edba14908bdc5670097511298985304b6dc6,26,4,7,11604,,,0,"update tox envs and support pdf docs

- adds support for building PDF docs.
- adds a bindep.txt file with required deps for pdf docs
- groups the tox envs into logicaly related sections.
- This change updates the default set of jobs so that
  runing tox with out any arguments should run the
  default set of jobs that should pass before pushing
  changes for review.

Change-Id: Id5df8afe576881cba58b3288acd79501ef1de511
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/37/728037/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'bindep.txt', 'tox.ini']",3,aeda62a3b6a41340ca9bdbaa0550c1b9b92a39ee,tox,"envlist = py3{6,7,8},pep8,docs,releasenotes,cover# skip default execution of test env if the interpreter version is not present. skip_missing_interpreters = Truewhitelist_externals = bash rm make# ----------------------- docs ----------------------------- [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf envdir = {toxworkdir}/docs deps = {[testenv:docs]deps}# ----------------------- helpers -------------------------- [testenv:venv] commands = {posargs} deps = {env:CONSTRAINTS_OPT} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt [testenv:cover] envdir = {toxworkdir}/venv setenv = {[testenv]setenv} PYTHON=coverage run --source os_vif,vif_plug_linux_bridge,vif_plug_ovs,vif_plug_noop --parallel-mode commands = stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report # ----------------------- linters -------------------------- [testenv:pep8] envdir = {toxworkdir}/venv commands = flake8 ","envlist = py37,pep8whitelist_externals = bash[testenv:pep8] commands = flake8 [testenv:venv] commands = {posargs} deps = {env:CONSTRAINTS_OPT} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt deps = {env:CONSTRAINTS_OPT} -r{toxinidir}/doc/requirements.txt",55,16
openstack%2Fbarbican~master~I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5,openstack/barbican,master,I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5,Fix kmip&dogtag level problem in the document hierarchy,MERGED,2020-05-18 07:52:18.000000000,2020-08-19 11:53:19.000000000,2020-08-19 11:51:20.000000000,"[{'_account_id': 1091}, {'_account_id': 6783}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 16046}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 27383}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-05-18 07:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/aebef9fe275a7ad93175529c8995a765748c7679', 'message': 'fix kmip&dogtag level problem in the document hierarchy\n\nChange-Id: I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5\n'}, {'number': 2, 'created': '2020-05-18 09:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/24a4ebfff7645dc2c41aaeddc66a7245298f46f3', 'message': 'fix kmip&dogtag level problem in the document hierarchy\n\nChange-Id: I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5\n'}, {'number': 3, 'created': '2020-08-18 13:56:22.000000000', 'files': ['doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0edaaf2756c8883b069ba599482bed7224dc7e89', 'message': 'Fix kmip&dogtag level problem in the document hierarchy\n\nChange-Id: I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5\n'}]",7,728768,0edaaf2756c8883b069ba599482bed7224dc7e89,17,13,3,27383,,,0,"Fix kmip&dogtag level problem in the document hierarchy

Change-Id: I5a161abbfd4ac3b6cbc6304a4674e6abde0605b5
",git fetch https://review.opendev.org/openstack/barbican refs/changes/68/728768/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/barbican-backend.rst'],1,aebef9fe275a7ad93175529c8995a765748c7679,fix_rst_index_level,++++++++++++++,------------------------,2,2
openstack%2Fgrenade~master~I3db1ac3366cf959308028a12de0222206edd6e94,openstack/grenade,master,I3db1ac3366cf959308028a12de0222206edd6e94,Explicitly enable ml2/ovs,MERGED,2020-07-08 13:36:51.000000000,2020-08-19 11:53:05.000000000,2020-08-19 11:48:13.000000000,"[{'_account_id': 4146}, {'_account_id': 6773}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 8655}, {'_account_id': 10459}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 13:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/b00109eeb1e37055673a1be68fd023c4465389dd', 'message': ""Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: I3db1ac3366cf959308028a12de0222206edd6e94\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/aea6d604207a6828ad15c269e009f77bc6f73664', 'message': ""Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: I3db1ac3366cf959308028a12de0222206edd6e94\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 3, 'created': '2020-07-16 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/c8b0e0dff7531b83b2e1f62fab5f53ea0ab99265', 'message': ""Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: I3db1ac3366cf959308028a12de0222206edd6e94\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 4, 'created': '2020-08-03 12:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/941d0c5d9e434512090cb43bfb08d7ae4a17c7bf', 'message': ""Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: I3db1ac3366cf959308028a12de0222206edd6e94\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 5, 'created': '2020-08-04 07:16:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/004781c19d7120b3ff9546db66dba21634d4c772', 'message': ""Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: I3db1ac3366cf959308028a12de0222206edd6e94\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",21,739987,004781c19d7120b3ff9546db66dba21634d4c772,47,11,5,8655,,,0,"Explicitly enable ml2/ovs

This patch is a part of switching ovn as a default in devstack
initiative. However, grenade will keep running with ml2/ovs for now.
This patch explicitly sets variables to deploy ml2/ovs, even though it's
still a default now.

Change-Id: I3db1ac3366cf959308028a12de0222206edd6e94
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/grenade refs/changes/87/739987/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b00109eeb1e37055673a1be68fd023c4465389dd,ovn-devstack," Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge",,3,0
openstack%2Fpython-troveclient~master~Iffd84ecdcb9a44137b0d51b258183c80ab6f030a,openstack/python-troveclient,master,Iffd84ecdcb9a44137b0d51b258183c80ab6f030a,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:32:50.000000000,2020-08-19 11:37:51.000000000,2020-08-19 11:36:28.000000000,"[{'_account_id': 6732}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-04 03:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/18cd6d69ba12e58993837d9dd1a76c77ffd9e677', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40225\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a\n'}, {'number': 2, 'created': '2020-08-04 21:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/9101d9f0caaeb0cb3b286e5726cb0411d52995e7', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40225\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a\n'}, {'number': 3, 'created': '2020-08-17 00:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/3841238c112c1dc899022cfe9db331cf85b5558d', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40225\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a\n'}, {'number': 4, 'created': '2020-08-17 14:17:52.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f65ac557a61b187c7314d4cd42d658b19a4937c3', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40225\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a\n'}]",0,744617,f65ac557a61b187c7314d4cd42d658b19a4937c3,16,5,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40225

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: Iffd84ecdcb9a44137b0d51b258183c80ab6f030a
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/17/744617/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18cd6d69ba12e58993837d9dd1a76c77ffd9e677,migrate-to-focal,#test focal,,1,0
openstack%2Freleases~master~Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c,openstack/releases,master,Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c,Release masakari-monitors for stable/train,MERGED,2020-06-10 21:13:36.000000000,2020-08-19 11:35:41.000000000,2020-08-19 11:35:41.000000000,"[{'_account_id': 8716}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-10 21:13:36.000000000', 'files': ['deliverables/train/masakari-monitors.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1952c1a4cab8dfec75538cc9c9b5cd118e24521', 'message': 'Release masakari-monitors for stable/train\n\nThis release picks up new commits to masakari-monitors since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nChange-Id: Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734940,c1952c1a4cab8dfec75538cc9c9b5cd118e24521,20,5,1,11904,,,0,"Release masakari-monitors for stable/train

This release picks up new commits to masakari-monitors since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: Ic55ffdd28a10ce2cd6a3c51f7ade077c7370171c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/734940/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/masakari-monitors.yaml'],1,c1952c1a4cab8dfec75538cc9c9b5cd118e24521,train-stable, - version: 8.0.1 projects: - repo: openstack/masakari-monitors hash: b02c6b6931c0256f4ce6d7167c97ebb849ff3453,,4,0
openstack%2Ftrove-dashboard~stable%2Fussuri~I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,openstack/trove-dashboard,stable/ussuri,I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,Remove clusters panel from trove dashboard,MERGED,2020-08-19 11:03:24.000000000,2020-08-19 11:29:27.000000000,2020-08-19 11:29:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 11:03:24.000000000', 'files': ['trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/enabled/_1740_project_database_clusters_panel.py', 'trove_dashboard/content/database_clusters/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/db7a5abd655d871cc036a4b59eeb4225f028e2da', 'message': 'Remove clusters panel from trove dashboard\n\nChange-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8\n(cherry picked from commit 509edaf6a4a6558b85d41969266655a444b53eb6)\n'}]",0,746886,db7a5abd655d871cc036a4b59eeb4225f028e2da,6,2,1,6732,,,0,"Remove clusters panel from trove dashboard

Change-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8
(cherry picked from commit 509edaf6a4a6558b85d41969266655a444b53eb6)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/86/746886/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/enabled/_1740_project_database_clusters_panel.py', 'trove_dashboard/content/database_clusters/tests.py']",3,db7a5abd655d871cc036a4b59eeb4225f028e2da,,,"# Copyright (c) 2014 eBay Software Foundation # Copyright 2015 HP Software, LLC # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from django.urls import reverse import mock from openstack_dashboard import api from troveclient import common from trove_dashboard import api as trove_api from trove_dashboard.content.database_clusters \ import cluster_manager from trove_dashboard.content.database_clusters import tables from trove_dashboard.test import helpers as test from trove_dashboard.utils import common as common_utils INDEX_URL = reverse('horizon:project:database_clusters:index') LAUNCH_URL = reverse('horizon:project:database_clusters:launch') DETAILS_URL = reverse('horizon:project:database_clusters:detail', args=['id']) RESET_PASSWORD_VIEWNAME = 'horizon:project:database_clusters:reset_password' class ClustersTests(test.TestCase): @test.create_mocks({trove_api.trove: ('cluster_list', 'flavor_list')}) def test_index(self): clusters = common.Paginated(self.trove_clusters.list()) self.mock_cluster_list.return_value = clusters self.mock_flavor_list.return_value = self.flavors.list() res = self.client.get(INDEX_URL) self.mock_cluster_list.assert_called_once_with( test.IsHttpRequest(), marker=None) self.mock_flavor_list.assert_called_once_with(test.IsHttpRequest()) self.assertTemplateUsed(res, 'project/database_clusters/index.html') @test.create_mocks({trove_api.trove: ('cluster_list', 'flavor_list')}) def test_index_flavor_exception(self): clusters = common.Paginated(self.trove_clusters.list()) self.mock_cluster_list.return_value = clusters self.mock_flavor_list.side_effect = self.exceptions.trove res = self.client.get(INDEX_URL) self.mock_cluster_list.assert_called_once_with( test.IsHttpRequest(), marker=None) self.mock_flavor_list.assert_called_once_with(test.IsHttpRequest()) self.assertTemplateUsed(res, 'project/database_clusters/index.html') self.assertMessageCount(res, error=1) @test.create_mocks({trove_api.trove: ('cluster_list',)}) def test_index_list_exception(self): self.mock_cluster_list.side_effect = self.exceptions.trove res = self.client.get(INDEX_URL) self.mock_cluster_list.assert_called_once_with( test.IsHttpRequest(), marker=None) self.assertTemplateUsed(res, 'project/database_clusters/index.html') self.assertMessageCount(res, error=1) @test.create_mocks({trove_api.trove: ('cluster_list', 'flavor_list')}) def test_index_pagination(self): clusters = self.trove_clusters.list() last_record = clusters[1] clusters = common.Paginated(clusters, next_marker=""foo"") self.mock_cluster_list.return_value = clusters self.mock_flavor_list.return_value = self.flavors.list() res = self.client.get(INDEX_URL) self.mock_cluster_list.assert_called_once_with( test.IsHttpRequest(), marker=None) self.mock_flavor_list.assert_called_once_with(test.IsHttpRequest()) self.assertTemplateUsed(res, 'project/database_clusters/index.html') self.assertContains( res, 'marker=' + last_record.id) @test.create_mocks({trove_api.trove: ('datastore_flavors', 'datastore_list', 'datastore_version_list'), api.base: ['is_service_enabled']}) def test_launch_cluster(self): self.mock_is_service_enabled.return_value = False self.mock_datastore_flavors.return_value = self.flavors.list() filtered_datastores = self._get_filtered_datastores('mongodb') self.mock_datastore_list.return_value = filtered_datastores self.mock_datastore_version_list.return_value = ( self._get_filtered_datastore_versions(filtered_datastores)) res = self.client.get(LAUNCH_URL) self.mock_is_service_enabled.assert_called_once_with( test.IsHttpRequest(), 'network') self.mock_datastore_flavors.assert_called_once_with( test.IsHttpRequest(), 'mongodb', '2.6') self.mock_datastore_list.assert_called_once_with(test.IsHttpRequest()) self.mock_datastore_version_list.assert_called_once_with( test.IsHttpRequest(), test.IsA(str)) self.assertTemplateUsed(res, 'project/database_clusters/launch.html') def test_launch_cluster_mongo_fields(self): datastore = 'mongodb' datastore_version = '2.6' fields = self.launch_cluster_fields_setup(datastore, datastore_version) field_name = self._build_flavor_widget_name(datastore, datastore_version) self.assertTrue(self._contains_datastore_in_attribute( fields[field_name], field_name)) self.assertTrue(self._contains_datastore_in_attribute( fields['num_instances'], field_name)) self.assertTrue(self._contains_datastore_in_attribute( fields['num_shards'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['root_password'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['num_instances_vertica'], field_name)) def test_launch_cluster_redis_fields(self): datastore = 'redis' datastore_version = '3.0' fields = self.launch_cluster_fields_setup(datastore, datastore_version) field_name = self._build_flavor_widget_name(datastore, datastore_version) self.assertTrue(self._contains_datastore_in_attribute( fields[field_name], field_name)) self.assertTrue(self._contains_datastore_in_attribute( fields['num_instances'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['num_shards'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['root_password'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['num_instances_vertica'], field_name)) def test_launch_cluster_vertica_fields(self): datastore = 'vertica' datastore_version = '7.1' fields = self.launch_cluster_fields_setup(datastore, datastore_version) field_name = self._build_flavor_widget_name(datastore, datastore_version) self.assertTrue(self._contains_datastore_in_attribute( fields[field_name], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['num_instances'], field_name)) self.assertFalse(self._contains_datastore_in_attribute( fields['num_shards'], field_name)) self.assertTrue(self._contains_datastore_in_attribute( fields['root_password'], field_name)) self.assertTrue(self._contains_datastore_in_attribute( fields['num_instances_vertica'], field_name)) @test.create_mocks({trove_api.trove: ('datastore_flavors', 'datastore_list', 'datastore_version_list'), api.base: ['is_service_enabled']}) def launch_cluster_fields_setup(self, datastore, datastore_version): self.mock_is_service_enabled.return_value = False self.mock_datastore_flavors.return_value = self.flavors.list() filtered_datastores = self._get_filtered_datastores(datastore) self.mock_datastore_list.return_value = filtered_datastores self.mock_datastore_version_list.return_value = ( self._get_filtered_datastore_versions(filtered_datastores)) res = self.client.get(LAUNCH_URL) self.mock_is_service_enabled.assert_called_once_with( test.IsHttpRequest(), 'network') self.mock_datastore_flavors.assert_called_once_with( test.IsHttpRequest(), datastore, datastore_version) self.mock_datastore_list.assert_called_once_with(test.IsHttpRequest()) self.mock_datastore_version_list.assert_called_once_with( test.IsHttpRequest(), test.IsA(str)) return res.context_data['form'].fields @test.create_mocks({trove_api.trove: ['datastore_flavors', 'cluster_create', 'datastore_list', 'datastore_version_list'], api.base: ['is_service_enabled']}) def test_create_simple_cluster(self): self.mock_is_service_enabled.return_value = False self.mock_datastore_flavors.return_value = self.flavors.list() filtered_datastores = self._get_filtered_datastores('mongodb') self.mock_datastore_list.return_value = filtered_datastores self.mock_datastore_version_list.return_value = ( self._get_filtered_datastore_versions(filtered_datastores)) self.mock_cluster_create.return_value = self.trove_clusters.first() cluster_name = u'MyCluster' cluster_volume = 1 cluster_flavor = u'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' cluster_instances = 3 cluster_datastore = u'mongodb' cluster_datastore_version = u'2.6' cluster_network = u'' field_name = self._build_flavor_widget_name(cluster_datastore, cluster_datastore_version) post = { 'name': cluster_name, 'volume': cluster_volume, 'num_instances': cluster_instances, 'num_shards': 1, 'datastore': field_name, field_name: 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', } res = self.client.post(LAUNCH_URL, post) self.mock_is_service_enabled.assert_called_once_with( test.IsHttpRequest(), 'network') self.mock_datastore_flavors.assert_called_once_with( test.IsHttpRequest(), 'mongodb', '2.6') self.mock_datastore_list.assert_called_once_with(test.IsHttpRequest()) self.mock_datastore_version_list.assert_called_once_with( test.IsHttpRequest(), test.IsA(str)) self.mock_cluster_create.assert_called_once_with( test.IsHttpRequest(), cluster_name, cluster_volume, cluster_flavor, cluster_instances, datastore=cluster_datastore, datastore_version=cluster_datastore_version, nics=cluster_network, root_password=None, locality=None) self.assertNoFormErrors(res) self.assertMessageCount(success=1) @test.create_mocks({trove_api.trove: ['datastore_flavors', 'cluster_create', 'datastore_list', 'datastore_version_list'], api.neutron: ['network_list_for_tenant'], api.base: ['is_service_enabled']}) def test_create_simple_cluster_neutron(self): self.mock_is_service_enabled.return_value = True self.mock_network_list_for_tenant.return_value = self.networks.list() self.mock_datastore_flavors.return_value = self.flavors.list() filtered_datastores = self._get_filtered_datastores('mongodb') self.mock_datastore_list.return_value = filtered_datastores self.mock_datastore_version_list.return_value = ( self._get_filtered_datastore_versions(filtered_datastores)) self.mock_cluster_create.return_value = self.trove_clusters.first() cluster_name = u'MyCluster' cluster_volume = 1 cluster_flavor = u'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' cluster_instances = 3 cluster_datastore = u'mongodb' cluster_datastore_version = u'2.6' cluster_network = u'82288d84-e0a5-42ac-95be-e6af08727e42' field_name = self._build_flavor_widget_name(cluster_datastore, cluster_datastore_version) post = { 'name': cluster_name, 'volume': cluster_volume, 'num_instances': cluster_instances, 'num_shards': 1, 'datastore': field_name, field_name: 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', 'network': cluster_network, } res = self.client.post(LAUNCH_URL, post) self.mock_is_service_enabled.assert_called_once_with( test.IsHttpRequest(), 'network') self.mock_network_list_for_tenant.assert_called_once_with( test.IsHttpRequest(), '1') self.mock_datastore_flavors.assert_called_once_with( test.IsHttpRequest(), 'mongodb', '2.6') self.mock_datastore_list.assert_called_once_with(test.IsHttpRequest()) self.mock_datastore_version_list.assert_called_once_with( test.IsHttpRequest(), test.IsA(str)) self.mock_cluster_create.assert_called_once_with( test.IsHttpRequest(), cluster_name, cluster_volume, cluster_flavor, cluster_instances, datastore=cluster_datastore, datastore_version=cluster_datastore_version, nics=cluster_network, root_password=None, locality=None) self.assertNoFormErrors(res) self.assertMessageCount(success=1) @test.create_mocks({trove_api.trove: ['datastore_flavors', 'cluster_create', 'datastore_list', 'datastore_version_list'], api.neutron: ['network_list_for_tenant']}) def test_create_simple_cluster_exception(self): self.mock_network_list_for_tenant.return_value = self.networks.list() self.mock_datastore_flavors.return_value = self.flavors.list() filtered_datastores = self._get_filtered_datastores('mongodb') self.mock_datastore_list.return_value = filtered_datastores self.mock_datastore_version_list.return_value = ( self._get_filtered_datastore_versions(filtered_datastores)) self.mock_cluster_create.side_effect = self.exceptions.trove cluster_name = u'MyCluster' cluster_volume = 1 cluster_flavor = u'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' cluster_instances = 3 cluster_datastore = u'mongodb' cluster_datastore_version = u'2.6' cluster_network = u'' field_name = self._build_flavor_widget_name(cluster_datastore, cluster_datastore_version) post = { 'name': cluster_name, 'volume': cluster_volume, 'num_instances': cluster_instances, 'num_shards': 1, 'datastore': field_name, field_name: 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', } res = self.client.post(LAUNCH_URL, post) self.mock_network_list_for_tenant.assert_called_once_with( test.IsHttpRequest(), '1') self.mock_datastore_flavors.assert_called_once_with( test.IsHttpRequest(), 'mongodb', '2.6') self.mock_datastore_list.assert_called_once_with(test.IsHttpRequest()) self.mock_datastore_version_list.assert_called_once_with( test.IsHttpRequest(), test.IsA(str)) self.mock_cluster_create.assert_called_once_with( test.IsHttpRequest(), cluster_name, cluster_volume, cluster_flavor, cluster_instances, datastore=cluster_datastore, datastore_version=cluster_datastore_version, nics=cluster_network, root_password=None, locality=None) self.assertRedirectsNoFollow(res, INDEX_URL) self.assertMessageCount(error=1) @test.create_mocks({trove_api.trove: ('cluster_get', 'instance_get', 'flavor_get',)}) def test_details(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster self.mock_instance_get.return_value = self.databases.first() self.mock_flavor_get.return_value = self.flavors.first() details_url = reverse('horizon:project:database_clusters:detail', args=[cluster.id]) res = self.client.get(details_url) self.assert_mock_multiple_calls_with_same_arguments( self.mock_cluster_get, 2, mock.call(test.IsHttpRequest(), cluster.id)) self.assert_mock_multiple_calls_with_same_arguments( self.mock_instance_get, 3, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assert_mock_multiple_calls_with_same_arguments( self.mock_flavor_get, 4, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assertTemplateUsed(res, 'horizon/common/_detail.html') self.assertContains(res, cluster.ip[0]) @test.create_mocks({trove_api.trove: ('cluster_get', 'instance_get', 'flavor_get',)}) def test_details_without_locality(self): cluster = self.trove_clusters.list()[1] self.mock_cluster_get.return_value = cluster self.mock_instance_get.return_value = self.databases.first() self.mock_flavor_get.return_value = self.flavors.first() details_url = reverse('horizon:project:database_clusters:detail', args=[cluster.id]) res = self.client.get(details_url) self.assert_mock_multiple_calls_with_same_arguments( self.mock_cluster_get, 2, mock.call(test.IsHttpRequest(), cluster.id)) self.assert_mock_multiple_calls_with_same_arguments( self.mock_instance_get, 3, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assert_mock_multiple_calls_with_same_arguments( self.mock_flavor_get, 4, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assertTemplateUsed(res, 'horizon/common/_detail.html') self.assertNotContains(res, ""Locality"") @test.create_mocks({trove_api.trove: ('cluster_get', 'instance_get', 'flavor_get',)}) def test_details_with_locality(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster self.mock_instance_get.return_value = self.databases.first() self.mock_flavor_get.return_value = self.flavors.first() details_url = reverse('horizon:project:database_clusters:detail', args=[cluster.id]) res = self.client.get(details_url) self.assert_mock_multiple_calls_with_same_arguments( self.mock_cluster_get, 2, mock.call(test.IsHttpRequest(), cluster.id)) self.assert_mock_multiple_calls_with_same_arguments( self.mock_instance_get, 3, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assert_mock_multiple_calls_with_same_arguments( self.mock_flavor_get, 4, mock.call(test.IsHttpRequest(), test.IsA(str))) self.assertTemplateUsed(res, 'project/database_clusters/' '_detail_overview.html') self.assertContains(res, ""Locality"") @test.create_mocks( {trove_api.trove: ('cluster_get', 'cluster_grow'), cluster_manager: ('get',)}) def test_grow_cluster(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster cluster_volume = 1 flavor = self.flavors.first() cluster_flavor = flavor.id cluster_flavor_name = flavor.name instances = [ cluster_manager.ClusterInstance(""id1"", ""name1"", cluster_flavor, cluster_flavor_name, cluster_volume, ""master"", None, None), cluster_manager.ClusterInstance(""id2"", ""name2"", cluster_flavor, cluster_flavor_name, cluster_volume, ""slave"", ""master"", None), cluster_manager.ClusterInstance(""id3"", None, cluster_flavor, cluster_flavor_name, cluster_volume, None, None, None), ] manager = cluster_manager.ClusterInstanceManager(cluster.id) manager.instances = instances self.mock_get.return_value = manager url = reverse('horizon:project:database_clusters:cluster_grow_details', args=[cluster.id]) res = self.client.get(url) self.assertTemplateUsed( res, 'project/database_clusters/cluster_grow_details.html') table = res.context_data[ """".join([tables.ClusterGrowInstancesTable.Meta.name, '_table'])] self.assertEqual(len(cluster.instances), len(table.data)) action = """".join([tables.ClusterGrowInstancesTable.Meta.name, '__', tables.ClusterGrowRemoveInstance.name, '__', 'id1']) self.client.post(url, {'action': action}) self.assertEqual(len(cluster.instances) - 1, len(table.data)) action = """".join([tables.ClusterGrowInstancesTable.Meta.name, '__', tables.ClusterGrowAction.name, '__', cluster.id]) res = self.client.post(url, {'action': action}) self.mock_cluster_get.assert_called_once_with( test.IsHttpRequest(), cluster.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_get, 5, mock.call(cluster.id)) self.mock_cluster_grow.assert_called_once_with( test.IsHttpRequest(), cluster.id, instances) self.assertMessageCount(success=1) self.assertRedirectsNoFollow(res, INDEX_URL) @test.create_mocks({trove_api.trove: ('cluster_get',)}) def test_grow_cluster_no_instances(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster url = reverse('horizon:project:database_clusters:cluster_grow_details', args=[cluster.id]) res = self.client.get(url) self.assertTemplateUsed( res, 'project/database_clusters/cluster_grow_details.html') action = """".join([tables.ClusterGrowInstancesTable.Meta.name, '__', tables.ClusterGrowAction.name, '__', cluster.id]) self.client.post(url, {'action': action}) self.mock_cluster_get.assert_called_once_with( test.IsHttpRequest(), cluster.id) self.assertMessageCount(info=1) @test.create_mocks( {trove_api.trove: ('cluster_get', 'cluster_grow',), cluster_manager: ('get',)}) def test_grow_cluster_exception(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster cluster_volume = 1 flavor = self.flavors.first() cluster_flavor = flavor.id cluster_flavor_name = flavor.name instances = [ cluster_manager.ClusterInstance(""id1"", ""name1"", cluster_flavor, cluster_flavor_name, cluster_volume, ""master"", None, None), cluster_manager.ClusterInstance(""id2"", ""name2"", cluster_flavor, cluster_flavor_name, cluster_volume, ""slave"", ""master"", None), cluster_manager.ClusterInstance(""id3"", None, cluster_flavor, cluster_flavor_name, cluster_volume, None, None, None), ] manager = cluster_manager.ClusterInstanceManager(cluster.id) manager.instances = instances self.mock_get.return_value = manager self.mock_cluster_grow.side_effect = self.exceptions.trove url = reverse('horizon:project:database_clusters:cluster_grow_details', args=[cluster.id]) res = self.client.get(url) self.assertTemplateUsed( res, 'project/database_clusters/cluster_grow_details.html') toSuppress = [""trove_dashboard.content.database_clusters.tables""] # Suppress expected log messages in the test output loggers = [] for cls in toSuppress: logger = logging.getLogger(cls) loggers.append((logger, logger.getEffectiveLevel())) logger.setLevel(logging.CRITICAL) try: action = """".join([tables.ClusterGrowInstancesTable.Meta.name, '__', tables.ClusterGrowAction.name, '__', cluster.id]) res = self.client.post(url, {'action': action}) self.mock_cluster_get.assert_called_once_with( test.IsHttpRequest(), cluster.id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_get, 3, mock.call(cluster.id)) self.mock_cluster_grow.assert_called_once_with( test.IsHttpRequest(), cluster.id, instances) self.assertMessageCount(error=1) self.assertRedirectsNoFollow(res, INDEX_URL) finally: # Restore the previous log levels for (log, level) in loggers: log.setLevel(level) @test.create_mocks({trove_api.trove: ('cluster_get', 'cluster_shrink')}) def test_shrink_cluster(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster instance_id = cluster.instances[0]['id'] cluster_instances = [{'id': instance_id}] url = reverse( 'horizon:project:database_clusters:cluster_shrink_details', args=[cluster.id]) res = self.client.get(url) self.assertTemplateUsed( res, 'project/database_clusters/cluster_shrink_details.html') table = res.context_data[ """".join([tables.ClusterShrinkInstancesTable.Meta.name, '_table'])] self.assertEqual(len(cluster.instances), len(table.data)) action = """".join([tables.ClusterShrinkInstancesTable.Meta.name, '__', tables.ClusterShrinkAction.name, '__', instance_id]) res = self.client.post(url, {'action': action}) self.assert_mock_multiple_calls_with_same_arguments( self.mock_cluster_get, 2, mock.call(test.IsHttpRequest(), cluster.id)) self.mock_cluster_shrink.assert_called_once_with( test.IsHttpRequest(), cluster.id, cluster_instances) self.assertNoFormErrors(res) self.assertMessageCount(info=1) self.assertRedirectsNoFollow(res, INDEX_URL) @test.create_mocks({trove_api.trove: ('cluster_get', 'cluster_shrink')}) def test_shrink_cluster_exception(self): cluster = self.trove_clusters.first() self.mock_cluster_get.return_value = cluster instance_id = cluster.instances[0]['id'] cluster_instances = [{'id': instance_id}] self.mock_cluster_shrink.side_effect = self.exceptions.trove url = reverse( 'horizon:project:database_clusters:cluster_shrink_details', args=[cluster.id]) action = """".join([tables.ClusterShrinkInstancesTable.Meta.name, '__', tables.ClusterShrinkAction.name, '__', instance_id]) toSuppress = [""trove_dashboard.content.database_clusters.tables""] # Suppress expected log messages in the test output loggers = [] for cls in toSuppress: logger = logging.getLogger(cls) loggers.append((logger, logger.getEffectiveLevel())) logger.setLevel(logging.CRITICAL) try: res = self.client.post(url, {'action': action}) self.mock_cluster_get.assert_called_once_with( test.IsHttpRequest(), cluster.id) self.mock_cluster_shrink.assert_called_once_with( test.IsHttpRequest(), cluster.id, cluster_instances) self.assertMessageCount(error=1) self.assertRedirectsNoFollow(res, INDEX_URL) finally: # Restore the previous log levels for (log, level) in loggers: log.setLevel(level) def _get_filtered_datastores(self, datastore): filtered_datastore = [] for ds in self.datastores.list(): if datastore in ds.name: filtered_datastore.append(ds) return filtered_datastore def _get_filtered_datastore_versions(self, datastores): filtered_datastore_versions = [] for ds in datastores: for dsv in self.datastore_versions.list(): if ds.id == dsv.datastore: filtered_datastore_versions.append(dsv) return filtered_datastore_versions def _contains_datastore_in_attribute(self, field, datastore): for key, value in field.widget.attrs.items(): if datastore in key: return True return False def _build_datastore_display_text(self, datastore, datastore_version): return datastore + ' - ' + datastore_version def _build_flavor_widget_name(self, datastore, datastore_version): return common_utils.hexlify(self._build_datastore_display_text( datastore, datastore_version)) ",3,683
openstack%2Ftacker~master~I4bf1fea6c414e31da5a5743732b95d0427625b75,openstack/tacker,master,I4bf1fea6c414e31da5a5743732b95d0427625b75,Support LCM notifications for VNF based on ETSI NFV-SOL,ABANDONED,2020-08-09 16:22:43.000000000,2020-08-19 11:16:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}, {'_account_id': 31902}, {'_account_id': 32219}]","[{'number': 1, 'created': '2020-08-09 16:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/824da8306be3dbf39f56659eff8864aa87fec3be', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL specification\n   Support for Flow of sending notifications as defined in ETSI SOL003\n     * Notify LCM status to the cannback URL registered in subscription\n     * Support for transmission processing from each LCM\n\nhttps://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75\n'}, {'number': 2, 'created': '2020-08-11 12:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d88dbc560baf0e161037467a568fd99431ca829c', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL\n\nSupported for Flow of sending notifications as defined in ETSI SOL003.\n\n* Notify LCM status to the cannback URL registered in subscription\n* Support for transmission processing from each LCM\n\nhttps://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75\n'}, {'number': 3, 'created': '2020-08-12 07:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4a7446fa26a295b695aff78979bdc94e2a4025fe', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL\n\nSupported for Flow of sending notifications as defined in ETSI SOL003.\n\nNotify LCM status to the cannback URL registered in subscription\nSupport for transmission processing from each LCM\n\nhttps://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75\n'}, {'number': 4, 'created': '2020-08-13 01:32:30.000000000', 'files': ['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/objects/scale_vnf_request.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/etc/samples/sample_vnf_package_csar.zip', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/conf/vnf_lcm.py', 'tacker/tests/etc/samples/sample_vnf_package_csar_with_short_notation.zip', 'tacker/tests/unit/vnflcm/test_utils.py', 'tacker/conf/__init__.py', 'tacker/objects/vnf_package_vnfd.py', 'tacker/vnflcm/utils.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/wsgi.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/843f43e7e2bd1ac4ea63b77990b16e306e370378', 'message': 'Support LCM notifications for VNF based on ETSI NFV-SOL\n\nSupported for Flow of sending notifications as defined in ETSI SOL003.\n\nNotify LCM status to the cannback URL registered in subscription\nSupport for transmission processing from each LCM\n\nhttps://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html\n\nChange-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75\n'}]",1,745469,843f43e7e2bd1ac4ea63b77990b16e306e370378,12,6,4,32219,,,0,"Support LCM notifications for VNF based on ETSI NFV-SOL

Supported for Flow of sending notifications as defined in ETSI SOL003.

Notify LCM status to the cannback URL registered in subscription
Support for transmission processing from each LCM

https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html

Change-Id: I4bf1fea6c414e31da5a5743732b95d0427625b75
",git fetch https://review.opendev.org/openstack/tacker refs/changes/69/745469/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnflcm/utils.py', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/db/migration/alembic_migrations/versions/985e28392890_add_vnflcm_db.py', 'tacker/objects/__init__.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/unit/vnflcm/test_utils.py', 'tacker/objects/vnf_package_vnfd.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py']",19,824da8306be3dbf39f56659eff8864aa87fec3be,bp/support-etsi-nfv-specs,"import datetimeimport importlibimport yamlfrom oslo_serialization import jsonutilsimport tracebackfrom tacker.vnfm.mgmt_drivers import constants as mgmt_constants@utils.expects_func_args('vnf_info', 'vnf_instance', 'scale_vnf_request') def revert_to_error_scale(function): """"""Decorator to revert task_state to error on failure."""""" @functools.wraps(function) def decorated_function(self, context, *args, **kwargs): try: return function(self, context, *args, **kwargs) except Exception as ex: with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) try: vnf_info = keyed_args['vnf_info'] vnf_instance = keyed_args['vnf_instance'] scale_vnf_request = keyed_args['scale_vnf_request'] vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = \ objects.VimConnectionInfo.obj_from_primitive( vim_info, context) if vnf_info.get('resource_changes'): resource_changes = vnf_info.get('resource_changes') else: resource_changes = self._scale_resource_update(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, error=True) except Exception as e: LOG.warning(traceback.format_exc()) LOG.warning(""Failed to scale resource update "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) try: self._vnfm_plugin._update_vnf_scaling_status_err(context, vnf_info) except Exception as e: LOG.warning(""Failed to revert scale info for event "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) try: self._vnf_instance_update(context, vnf_instance) except Exception as e: LOG.warning(""Failed to revert instantiation info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) problem = objects.ProblemDetails(status=500, detail=str(ex)) try: timestamp = datetime.utcnow() vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state = 'FAILED_TEMP' vnf_lcm_op_occ.state_entered_time = timestamp vnf_lcm_op_occ.resource_changes = resource_changes vnf_lcm_op_occ.error = problem vnf_lcm_op_occ.save() except Exception as e: LOG.warning(""Failed to update vnf_lcm_op_occ for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": e}) return decorated_function LOG.error(""Failed to update vnf %(id)s resources for instance"" def _scale_vnf_post(self, context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_id_list, resource_changes): vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 6 if scale_vnf_request.type == 'SCALE_OUT': vnfd_yaml =\ vnf_info['vnfd']['attributes'].\ get('vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnf_info['policy_name'] = scale_vnf_request.aspect_id vnfd_dict = yaml.safe_load(vnfd_yaml) # mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces']['Vnflcm']['scale_end']: vnf_info['vnfd']['mgmt_driver'] = \ vnf_node['interfaces']['Vnflcm']['scale_end'] scale_id_after = self._vnf_manager.invoke( vim_connection_info.vim_type, 'get_scale_ids', plugin=self, context=context, vnf_dict=vnf_info, auth_attr=vim_connection_info.access_info, region_name=vim_connection_info.access_info.get('region_name') ) id_list = [] id_list = list(set(scale_id_after) - set(scale_id_list)) vnf_info['res_num'] = len(scale_id_after) if len(id_list) != 0 and vnf_info['vnfd'].get('mgmt_driver'): if len(id_list) > 1: stack_value = [] stack_value = id_list else: stack_value = id_list[0] kwargs = { mgmt_constants.KEY_ACTION: mgmt_constants.ACTION_SCALE_OUT_VNF, mgmt_constants.KEY_KWARGS: {'vnf': vnf_info}, mgmt_constants.KEY_SCALE: stack_value, } self._vnfm_plugin.mgmt_call(context, vnf_info, kwargs) vnf_lcm_op_occ.error_point = 7 vnf_instance.instantiated_vnf_info.scale_level =\ vnf_info['after_scale_level'] scaleGroupDict = \ jsonutils.loads(vnf_info['attributes']['scale_group']) (scaleGroupDict ['scaleGroupDict'][scale_vnf_request.aspect_id]['default']) =\ vnf_info['res_num'] vnf_info['attributes']['scale_group'] =\ jsonutils.dump_as_bytes(scaleGroupDict) vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state = 'COMPLETED' vnf_lcm_op_occ.resource_changes = resource_changes self._vnfm_plugin._update_vnf_scaling(context, vnf_info, 'PENDING_' + scale_vnf_request.type, 'ACTIVE', vnf_instance=vnf_instance, vnf_lcm_op_occ=vnf_lcm_op_occ) def _scale_resource_update(self, context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, error=False): vnf_lcm_op_occs = vnf_info['vnf_lcm_op_occ'] instantiated_vnf_before = \ copy.deepcopy(vnf_instance.instantiated_vnf_info) self._vnf_manager.invoke( vim_connection_info.vim_type, 'scale_resource_update', context=context, vnf_instance=vnf_instance, scale_vnf_request=scale_vnf_request, vim_connection_info=vim_connection_info ) for scale in vnf_instance.instantiated_vnf_info.scale_status: if scale_vnf_request.aspect_id == scale.aspect_id: if not error: scale.scale_level = vnf_info['after_scale_level'] break else: scale.scale_level = vnf_info['scale_level'] break LOG.debug(""vnf_instance.instantiated_vnf_info %s"", vnf_instance.instantiated_vnf_info) affected_vnfcs = [] affected_virtual_storages = [] affected_virtual_links = [] if scale_vnf_request.type == 'SCALE_IN': for vnfc in instantiated_vnf_before.vnfc_resource_info: vnfc_delete = True for rsc in vnf_instance.instantiated_vnf_info.\ vnfc_resource_info: if vnfc.compute_resource.resource_id == \ rsc.compute_resource.resource_id: vnfc_delete = False break if vnfc_delete: affected_vnfc = objects.AffectedVnfc(id=vnfc.id, vdu_id=vnfc.vdu_id, change_type='REMOVED', compute_resource=vnfc.compute_resource) affected_vnfcs.append(affected_vnfc) for st in instantiated_vnf_before.virtual_storage_resource_info: st_delete = True for rsc in vnf_instance.instantiated_vnf_info.\ virtual_storage_resource_info: if st.storage_resource.resource_id == \ rsc.storage_resource.resource_id: st_delete = False break if st_delete: affected_st = objects.AffectedVirtualStorage( id=st.id, virtual_storage_desc_id=st.virtual_storage_desc_id, change_type='REMOVED', storage_resource=st.storage_resource) affected_virtual_storages.append(affected_st) for vl in instantiated_vnf_before.vnf_virtual_link_resource_info: port_delete = False for rsc in vnf_instance.\ instantiated_vnf_info.vnf_virtual_link_resource_info: if vl.network_resource.resource_id == \ rsc.network_resource.resource_id: if len(vl.vnf_link_ports) != len(rsc.vnf_link_ports): port_delete = True break if port_delete: affected_vl = objects.AffectedVirtualLink( id=vl.id, vnf_virtual_link_desc_id=vl.vnf_virtual_link_desc_id, change_type='LINK_PORT_REMOVED', network_resource=vl.network_resource) affected_virtual_links.append(affected_vl) else: for rsc in vnf_instance.instantiated_vnf_info.vnfc_resource_info: vnfc_add = True for vnfc in instantiated_vnf_before.vnfc_resource_info: if vnfc.compute_resource.resource_id == \ rsc.compute_resource.resource_id: vnfc_add = False break if vnfc_add: affected_vnfc = objects.AffectedVnfc( id=rsc.id, vdu_id=rsc.vdu_id, change_type='ADDED', compute_resource=rsc.compute_resource) affected_vnfcs.append(affected_vnfc) for rsc in vnf_instance.instantiated_vnf_info.\ virtual_storage_resource_info: st_add = True for st in instantiated_vnf_before.\ virtual_storage_resource_info: if st.storage_resource.resource_id == \ rsc.storage_resource.resource_id: st_add = False break if st_add: affected_st = objects.AffectedVirtualStorage( id=rsc.id, virtual_storage_desc_id=rsc.virtual_storage_desc_id, change_type='ADDED', storage_resource=rsc.storage_resource) affected_virtual_storages.append(affected_st) for vl in instantiated_vnf_before.vnf_virtual_link_resource_info: port_add = False for rsc in vnf_instance.instantiated_vnf_info.\ vnf_virtual_link_resource_info: if vl.network_resource.resource_id == \ rsc.network_resource.resource_id: if len(vl.vnf_link_ports) != len(rsc.vnf_link_ports): port_add = True break if port_add: affected_vl = objects.AffectedVirtualLink( id=vl.id, vnf_virtual_link_desc_id=vl.vnf_virtual_link_desc_id, change_type='LINK_PORT_ADDED', network_resource=vl.network_resource) affected_virtual_links.append(affected_vl) resource_changes = objects.ResourceChanges() resource_changes.affected_vnfcs = [] resource_changes.affected_virtual_links = [] resource_changes.affected_virtual_storages = [] if 'resource_changes' in \ vnf_lcm_op_occs and vnf_lcm_op_occs.resource_changes: if 'affected_vnfcs' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes.affected_vnfcs) > 0: resource_changes.affected_vnfcs.extend(vnf_lcm_op_occs. resource_changes.affected_vnfcs) if 'affected_virtual_storages' in \ vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_storages) > 0: resource_changes.affected_virtual_storages.extend( vnf_lcm_op_occs.resource_changes. affected_virtual_storages) if 'affected_virtual_links' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_links) > 0: resource_changes.affected_virtual_links.\ extend(vnf_lcm_op_occs.resource_changes. affected_virtual_links) resource_changes.affected_vnfcs.extend(affected_vnfcs) resource_changes.affected_virtual_storages.extend( affected_virtual_storages) resource_changes.affected_virtual_links = [] resource_changes.affected_virtual_links.extend(affected_virtual_links) vnf_info['resource_changes'] = resource_changes return resource_changes def _scale_vnf(self, context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id): # action_driver LOG.debug(""vnf_info['vnfd']['attributes'] %s"", vnf_info['vnfd']['attributes']) vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.error_point = 4 vnfd_yaml = vnf_info['vnfd']['attributes'].\ get('vnfd_' + vnf_instance.instantiated_vnf_info.flavour_id, '') vnfd_dict = yaml.safe_load(vnfd_yaml) # todo mgmt_driver from vnfd vnf_node = self._get_node_template_for_vnf(vnfd_dict) action_driver = 'scale_standard' if vnf_node and vnf_node.get('interfaces'): if vnf_node['interfaces']['Vnflcm']['scale']: if isinstance(vnf_node['interfaces']['Vnflcm']['scale'], str): if vnf_node['interfaces']['Vnflcm']['scale'] !=\ 'standard': action_driver =\ vnf_node['interfaces']['Vnflcm']['scale'] module = importlib.import_module( 'tacker.vnfm.action_drivers.' + action_driver) module.ScaleStandard().\ scale(context, vnf_info, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) vnf_lcm_op_occ.error_point = 5 @log.log @revert_to_error_scale def scale_vnf(self, context, vnf_info, vnf_instance, scale_vnf_request): LOG.info(""Request received for scale vnf '%s'"", vnf_instance.id) timestamp = datetime.utcnow() vnf_lcm_op_occ = vnf_info['vnf_lcm_op_occ'] vnf_lcm_op_occ.operation_state = 'PROCESSING' vnf_lcm_op_occ.state_entered_time = timestamp LOG.debug(""vnf_lcm_op_occ %s"", vnf_lcm_op_occ) vnf_lcm_op_occ.save() vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) scale_id_list, scale_name_list, grp_id = self._scale_vnf_pre( context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info) self._scale_vnf(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_name_list, grp_id) resource_changes = self._scale_resource_update(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info) self._scale_vnf_post(context, vnf_info, vnf_instance, scale_vnf_request, vim_connection_info, scale_id_list, resource_changes) LOG.info(""Request received for scale vnf '%s' is completed "" ""successfully"", vnf_instance.id)","def rollback_vnf_instantiated_resources(function): """"""Decorator to rollback resources created during vnf instantiation"""""" def _rollback_vnf(vnflcm_driver, context, vnf_instance): vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) LOG.info(""Rollback vnf %s"", vnf_instance.id) try: vnflcm_driver._delete_vnf_instance_resources(context, vnf_instance, vim_connection_info) if vnf_instance.instantiated_vnf_info: vnf_instance.instantiated_vnf_info.reinitialize() vnflcm_driver._vnf_instance_update(context, vnf_instance, vim_connection_info=[], task_state=None) LOG.info(""Vnf %s rollback completed successfully"", vnf_instance.id) except Exception as ex: LOG.error(""Unable to rollback vnf instance "" ""%s due to error: %s"", vnf_instance.id, ex) @functools.wraps(function) def decorated_function(self, context, *args, **kwargs): try: return function(self, context, *args, **kwargs) except Exception as exp: with excutils.save_and_reraise_exception(): wrapped_func = safe_utils.get_wrapped_function(function) keyed_args = inspect.getcallargs(wrapped_func, self, context, *args, **kwargs) vnf_instance = keyed_args['vnf_instance'] LOG.error(""Failed to instantiate vnf %(id)s. Error: %(error)s"", {""id"": vnf_instance.id, ""error"": six.text_type(exp)}) _rollback_vnf(self, context, vnf_instance) return decorated_function @utils.expects_func_args('vnf_instance') @rollback_vnf_instantiated_resources LOG.error(""Failed to update vnf %(id)s resources for instance """,3637,320
openstack%2Fcinderlib~master~I46617fb238415c0d979c482d8fd0558c80d2df26,openstack/cinderlib,master,I46617fb238415c0d979c482d8fd0558c80d2df26,run-cinderlib-tests: ensure cinder's bindep is installed,ABANDONED,2020-08-07 20:43:46.000000000,2020-08-19 10:32:58.000000000,,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-07 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/9d247e3a0eaf052ff6ff72dd4bafe7c2a8dbaf3f', 'message': ""run-cinderlib-tests: ensure os-brick's bindep is installed\n\nThe new task should ensure that all dependencies are installed\nwhen using run-cinderlib-tests (namely lsscsi and any future one).\n\nChange-Id: I46617fb238415c0d979c482d8fd0558c80d2df26\n""}, {'number': 2, 'created': '2020-08-07 22:39:48.000000000', 'files': ['roles/run-cinderlib-tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/04d7ff3d50c0d4d1efceb0076d33e53654aab8e5', 'message': ""run-cinderlib-tests: ensure cinder's bindep is installed\n\nThe new task should ensure that all dependencies are installed\nwhen using run-cinderlib-tests (namely lsscsi and any future one).\n\nChange-Id: I46617fb238415c0d979c482d8fd0558c80d2df26\n""}]",0,745414,04d7ff3d50c0d4d1efceb0076d33e53654aab8e5,9,6,2,10459,,,0,"run-cinderlib-tests: ensure cinder's bindep is installed

The new task should ensure that all dependencies are installed
when using run-cinderlib-tests (namely lsscsi and any future one).

Change-Id: I46617fb238415c0d979c482d8fd0558c80d2df26
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/14/745414/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-cinderlib-tests/tasks/main.yaml'],1,9d247e3a0eaf052ff6ff72dd4bafe7c2a8dbaf3f,fix-cinderlib-role-bindep,"# Install os-brick dependencies because cinder dependencies # includes several packages only needed by cinder functional tests - include_role: name: bindep vars: bindep_dir: ""{{ zuul.projects['opendev.org/openstack/os-brick'].src_dir }}"" ",,7,0
openstack%2Fhorizon~master~I9430e0cf970490597019a1087390a08e6eecde64,openstack/horizon,master,I9430e0cf970490597019a1087390a08e6eecde64,Add required mark on Create and Update image form,MERGED,2019-09-18 07:33:09.000000000,2020-08-19 10:31:04.000000000,2019-10-25 11:30:16.000000000,"[{'_account_id': 1736}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-18 07:33:09.000000000', 'files': ['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.html', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/55878ae4b2c85f26350a8ddfae18930eaeea58d9', 'message': 'Add required mark on Create and Update image form\n\nMinimum Disk and Minimum RAM are required but do not have a required mark\n\nThis patch Add required mark\n\nChange-Id: I9430e0cf970490597019a1087390a08e6eecde64\n'}]",0,682813,55878ae4b2c85f26350a8ddfae18930eaeea58d9,10,4,1,27822,,,0,"Add required mark on Create and Update image form

Minimum Disk and Minimum RAM are required but do not have a required mark

This patch Add required mark

Change-Id: I9430e0cf970490597019a1087390a08e6eecde64
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/682813/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/images/steps/edit-image/edit-image.html', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.html']",2,55878ae4b2c85f26350a8ddfae18930eaeea58d9,add_required_mark," <translate>Minimum Disk (GB)</translate><span class=""hz-icon-required fa fa-asterisk""></span> <translate>Minimum RAM (MB)</translate><span class=""hz-icon-required fa fa-asterisk""></span>", <translate>Minimum Disk (GB)</translate> <translate>Minimum RAM (MB)</translate>,8,4
openstack%2Ftrove-dashboard~master~I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,openstack/trove-dashboard,master,I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8,Remove clusters panel from trove dashboard,MERGED,2020-08-19 08:40:43.000000000,2020-08-19 10:30:32.000000000,2020-08-19 10:30:32.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/cca8f7d7f79fa2c5749f204957557c447fda649b', 'message': 'Remove clusters panel from trove dashboard\n\nChange-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8\n'}, {'number': 2, 'created': '2020-08-19 09:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/7a432958dbfb0052c7723b549e5e365da1a0fd26', 'message': 'Remove clusters panel from trove dashboard\n\nChange-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8\n'}, {'number': 3, 'created': '2020-08-19 10:13:40.000000000', 'files': ['trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/enabled/_1740_project_database_clusters_panel.py', 'trove_dashboard/content/database_clusters/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/509edaf6a4a6558b85d41969266655a444b53eb6', 'message': 'Remove clusters panel from trove dashboard\n\nChange-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8\n'}]",0,746860,509edaf6a4a6558b85d41969266655a444b53eb6,10,2,3,6732,,,0,"Remove clusters panel from trove dashboard

Change-Id: I95157ff4a9c07d171c3dda50f19bb3fa1bdd7ef8
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/60/746860/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/database_clusters/panel.py'],1,cca8f7d7f79fa2c5749f204957557c447fda649b,remove-cluster-panel,dashboard.Project.unregister(Clusters),dashboard.Project.register(Clusters),1,1
openstack%2Fpuppet-openstack-integration~master~Ief4f8601131cb5a82c087a8519e8726afd54157a,openstack/puppet-openstack-integration,master,Ief4f8601131cb5a82c087a8519e8726afd54157a,Fix wrong nodepool_type for CentOS8 beaker,MERGED,2020-08-18 11:55:20.000000000,2020-08-19 10:28:00.000000000,2020-08-18 16:00:01.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 11:55:20.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0829a02293a31022576d4b38c66d2f0cb152279d', 'message': 'Fix wrong nodepool_type for CentOS8 beaker\n\nChange-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a\n'}]",0,746692,0829a02293a31022576d4b38c66d2f0cb152279d,8,3,1,9816,,,0,"Fix wrong nodepool_type for CentOS8 beaker

Change-Id: Ief4f8601131cb5a82c087a8519e8726afd54157a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/746692/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,0829a02293a31022576d4b38c66d2f0cb152279d,centos8-beaker, nodepool_type: centos8, nodepool_type: centos7,1,1
openstack%2Ftrove-dashboard~stable%2Fussuri~I1c59929886ac3933b1308da04ea357bf5f2de788,openstack/trove-dashboard,stable/ussuri,I1c59929886ac3933b1308da04ea357bf5f2de788,Remove publish checkbox in log view,MERGED,2020-08-19 08:44:53.000000000,2020-08-19 09:51:31.000000000,2020-08-19 09:51:31.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:44:53.000000000', 'files': ['trove_dashboard/content/databases/templates/databases/logs/_detail_log.html'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/4709acd65fb7d318ea06933be308624abd64a330', 'message': 'Remove publish checkbox in log view\n\nChange-Id: I1c59929886ac3933b1308da04ea357bf5f2de788\n'}]",0,746861,4709acd65fb7d318ea06933be308624abd64a330,6,2,1,6732,,,0,"Remove publish checkbox in log view

Change-Id: I1c59929886ac3933b1308da04ea357bf5f2de788
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/61/746861/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/databases/templates/databases/logs/_detail_log.html'],1,4709acd65fb7d318ea06933be308624abd64a330,log-stable/ussuri,," <label for=""publish_check"">{% trans ""Publish"" %}</label> <input type=""checkbox"" name=""publish"" value=""publish"" {{ publish }}>",0,2
openstack%2Fcliff~master~I76470e806130a57375d9d28bc7acb130a3aea206,openstack/cliff,master,I76470e806130a57375d9d28bc7acb130a3aea206,Output correct json for security groups in 'openstack server show',ABANDONED,2020-06-11 12:49:06.000000000,2020-08-19 09:48:30.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31733}]","[{'number': 1, 'created': '2020-06-11 12:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/a17fbd4a6f955ec48cc5460d01b434996d6fda3e', 'message': 'Fix json output for security_groups property in\n""openstack server show -f json"" command\n\nChange-Id: I76470e806130a57375d9d28bc7acb130a3aea206\n'}, {'number': 2, 'created': '2020-06-15 08:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/e9ded7caa771f40954f85781ae77fcb7365ff1e8', 'message': 'Fix json output for security_groups property in\n""openstack server show -f json"" command\n\nChange-Id: I76470e806130a57375d9d28bc7acb130a3aea206\n'}, {'number': 3, 'created': '2020-06-18 12:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/e6d60020873d0230533e317e432c63e0b8676470', 'message': 'Output correct json for security groups in \'openstack server show\'\n\nFixes incorrect json output for \'openstack server show -f json\'.\nThe security group json output groups all the json as one\nfor e.g. ""security_groups"": ""name=\'group1\'\\nname=\'group2\'""\nThe correct output should be\n""security_groups"" : [{""name"" : ""group1""}, {""name"" : ""group2""}]\n\nStory: 2007755\n\nChange-Id: I76470e806130a57375d9d28bc7acb130a3aea206\n'}, {'number': 4, 'created': '2020-06-22 08:01:09.000000000', 'files': ['cliff/formatters/json_format.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/5c3bbe54e50025baa02224b5900f60df66662cc8', 'message': 'Output correct json for security groups in \'openstack server show\'\n\nFixes incorrect json output for \'openstack server show -f json\'.\nThe security group json output groups all the json as one\nfor e.g. ""security_groups"": ""name=\'group1\'\\nname=\'group2\'""\nThe correct output should be\n""security_groups"" : [{""name"" : ""group1""}, {""name"" : ""group2""}]\n\nStory: 2007755\n\nChange-Id: I76470e806130a57375d9d28bc7acb130a3aea206\n'}]",14,735128,5c3bbe54e50025baa02224b5900f60df66662cc8,14,4,4,31733,,,0,"Output correct json for security groups in 'openstack server show'

Fixes incorrect json output for 'openstack server show -f json'.
The security group json output groups all the json as one
for e.g. ""security_groups"": ""name='group1'\nname='group2'""
The correct output should be
""security_groups"" : [{""name"" : ""group1""}, {""name"" : ""group2""}]

Story: 2007755

Change-Id: I76470e806130a57375d9d28bc7acb130a3aea206
",git fetch https://review.opendev.org/openstack/cliff refs/changes/28/735128/4 && git format-patch -1 --stdout FETCH_HEAD,['cliff/formatters/json_format.py'],1,a17fbd4a6f955ec48cc5460d01b434996d6fda3e,story/2007755," help='whether to disable indenting the JSON.' sec_grp = """" security_groups = [] for key in one: if key == 'security_groups': sec_grp = one[key] if sec_grp: sec_grp = sec_grp.split('\n') for s in sec_grp: val = s.replace(""name="","""") val = val.replace(""'"", """") security_groups.append({""name"" : val}) one.update({'security_groups' : security_groups}) stdout.write(' \n')", help='whether to disable indenting the JSON' stdout.write('\n'),16,2
openstack%2Fnetworking-odl~master~I48fd2fd64054d9b9db85b5ae490234efe17be67d,openstack/networking-odl,master,I48fd2fd64054d9b9db85b5ae490234efe17be67d,variable type of port-id in ceilometer driver is changed from integer to string,MERGED,2019-02-05 10:09:57.000000000,2020-08-19 09:34:07.000000000,2020-08-19 09:31:24.000000000,"[{'_account_id': 333}, {'_account_id': 7125}, {'_account_id': 7249}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9542}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25416}, {'_account_id': 25550}, {'_account_id': 26507}, {'_account_id': 29233}, {'_account_id': 29399}]","[{'number': 1, 'created': '2019-02-05 10:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2780655dab50e6f2644ec8bebe886d5285879ded', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nFixes Bug #1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 2, 'created': '2019-02-05 10:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9d1eb4525bc643ce9eed25a8c51b8addb3fc3767', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nFixes Bug #1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 3, 'created': '2019-02-11 07:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fc9d84eead78612a25c5594390310d86452187e4', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 4, 'created': '2019-02-11 07:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/333a72cf25c3e8764046009387a1a9039f74a3d0', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 5, 'created': '2019-02-13 05:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f34f95e793bbe45b05563ceb1d4ef1097c279142', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 6, 'created': '2019-02-13 05:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a987a6a4cf60925eadd4d381102df4c11daf4e2d', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 7, 'created': '2019-02-22 05:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/64bcb3ed6e59e3fc389c738f65488f81bcbf0032', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 8, 'created': '2019-02-22 06:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/73427dc5b92cc39da5ff1c25afe7e26e017b4d45', 'message': 'variable type of port-id in ceilometer driver is changed from integer to string\n\ndue to some type differences of port_id variable in ceilometer driver code\nit is giving type error during execution and also switch_port counters were\nnot getting polled.\n\nso in this commit we were type casting the port-id variable and keeping\nit as integer so that it wont show any type error and also will not\neffect the polling of counters.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 9, 'created': '2019-03-19 04:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ea87d0be99a9fc9966ed27da9d798ca0052fd231', 'message': 'variable type of port-id in ceilometer driver is changed from integer to\nstring\n\ndue to some type differences of port_id variable in ceilometer driver \ncode it is giving type error during execution and also switch_port \ncounters were not getting polled.\n\nso in this commit we were type casting the port-id variable and keeping \nType casting the port-id to Integer for ceilometer polling to work \ncorrectly.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 10, 'created': '2019-03-19 06:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0f5fa7fbb09fdb357793d7eb39a4f0528cd58d7f', 'message': 'variable type of port-id in ceilometer driver is changed from integer to\nstring\n\nDue to type mismatch of port_id variable , ceilometer driver is throwing\ntype error and switchport counters are not gettng polled\n\nType casting the port-id to Integer for ceilometer polling to work correctly.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 11, 'created': '2019-03-22 05:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6abd69ec1d4044831b6bc10bc819fedc1f18b48b', 'message': 'variable type of port-id in ceilometer driver is changed from integer to\nstring\n\nDue to type mismatch of port_id variable , ceilometer driver is throwing\ntype error and switchport counters are not gettng polled\n\nType casting the port-id to Integer for ceilometer polling to work correctly.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}, {'number': 12, 'created': '2019-09-10 07:13:03.000000000', 'files': ['networking_odl/ceilometer/network/statistics/opendaylight_v2/driver.py', 'networking_odl/tests/unit/ceilometer/network/statistics/opendaylight_v2/test_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0cecb9630d0c0ee460cadd1535101fd8d0dee772', 'message': 'variable type of port-id in ceilometer driver is changed from integer to\nstring\n\nDue to type mismatch of port_id variable , ceilometer driver is throwing\ntype error and switchport counters are not gettng polled\n\nType casting the port-id to Integer for ceilometer polling to work correctly.\n\nSigned-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>\nCloses-Bug:#1806571\n\nChange-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d\n'}]",13,634899,0cecb9630d0c0ee460cadd1535101fd8d0dee772,65,16,12,29399,,,0,"variable type of port-id in ceilometer driver is changed from integer to
string

Due to type mismatch of port_id variable , ceilometer driver is throwing
type error and switchport counters are not gettng polled

Type casting the port-id to Integer for ceilometer polling to work correctly.

Signed-off-by: Yenuganti Vasudha <yenuganti.vasudha@ericsson.com>
Closes-Bug:#1806571

Change-Id: I48fd2fd64054d9b9db85b5ae490234efe17be67d
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/99/634899/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/ceilometer/network/statistics/opendaylight_v2/driver.py', 'networking_odl/tests/unit/ceilometer/network/statistics/opendaylight_v2/test_driver.py']",2,2780655dab50e6f2644ec8bebe886d5285879ded,bug/1806571," def test_switch_port_resource_id(self): expected_resource_id = '55120148545607:4' sample_data = self.driver.get_sample_data('switch.port', self.fake_odl_url, self.fake_params, {}) switch_port_data = sample_data[0][2] switch_id = switch_port_data['switch'] port_id = int(switch_port_data['port_number_on_switch']) sample_resource_id = '%s:%d' % (switch_id, port_id) self.assertEqual(expected_resource_id, sample_resource_id) ",,13,1
openstack%2Fkuryr-kubernetes~master~I9b2ec604274b733479e4e50b1279f3824f826068,openstack/kuryr-kubernetes,master,I9b2ec604274b733479e4e50b1279f3824f826068,Fix run generate_k8s_resource_definitions.sh,MERGED,2020-08-19 08:46:42.000000000,2020-08-19 09:31:34.000000000,2020-08-19 09:29:59.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:46:42.000000000', 'files': ['doc/source/installation/containerized.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/53e29b70de019e00eba493eaa20a47825aeeca6c', 'message': 'Fix run generate_k8s_resource_definitions.sh\n\nChange-Id: I9b2ec604274b733479e4e50b1279f3824f826068\n'}]",0,746862,53e29b70de019e00eba493eaa20a47825aeeca6c,7,2,1,31835,,,0,"Fix run generate_k8s_resource_definitions.sh

Change-Id: I9b2ec604274b733479e4e50b1279f3824f826068
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/746862/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/containerized.rst'],1,53e29b70de019e00eba493eaa20a47825aeeca6c,fix_run_generate_k8s_resource_definitions_sh," $ KURYR_K8S_API_ROOT=""192.168.0.1:6443"" ./tools/generate_k8s_resource_definitions.sh /tmp"," $ KURYR_K8S_API_ROOT=""192.168.0.1:6443"" ./tools/generate_k8s_resource_definitions /tmp",1,1
openstack%2Fpython-watcherclient~master~I9d5b45d2786e205e62470404ff6efeee6c0d369d,openstack/python-watcherclient,master,I9d5b45d2786e205e62470404ff6efeee6c0d369d,action plan rollback,NEW,2020-08-19 08:31:09.000000000,2020-08-19 09:17:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-19 08:31:09.000000000', 'files': ['watcherclient/tests/unit/v1/test_action_plan_shell.py', 'watcherclient/v1/action_plan_shell.py', 'watcherclient/v1/action_plan.py', 'watcherclient/tests/unit/v1/test_action_plan.py'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/e88d5330f03d0a2899051494b313b31f073851fb', 'message': 'action plan rollback\n\nChange-Id: I9d5b45d2786e205e62470404ff6efeee6c0d369d\nImplements: BP rollback-mechanism\n'}]",0,746857,e88d5330f03d0a2899051494b313b31f073851fb,2,1,1,24501,,,0,"action plan rollback

Change-Id: I9d5b45d2786e205e62470404ff6efeee6c0d369d
Implements: BP rollback-mechanism
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/57/746857/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcherclient/tests/unit/v1/test_action_plan_shell.py', 'watcherclient/v1/action_plan_shell.py', 'watcherclient/v1/action_plan.py', 'watcherclient/tests/unit/v1/test_action_plan.py']",4,e88d5330f03d0a2899051494b313b31f073851fb,,"ROLLBACK_ACTION_PLAN = copy.deepcopy(ACTION_PLAN1) ROLLBACK_ACTION_PLAN['state'] = 'ROLLBACK_PENDING' '/v1/action_plans/%s/rollback' % ACTION_PLAN1['uuid']: { 'POST': ( {}, ROLLBACK_ACTION_PLAN, ), }, def test_action_plan_rollback(self): action_plan = self.mgr.rollback(ACTION_PLAN1['uuid']) expect = [('POST', '/v1/action_plans/%s/rollback' % ACTION_PLAN1['uuid'], {}, {})] self.assertEqual(expect, self.api.calls) self.assertEqual('ROLLBACK_PENDING', action_plan.state)",,60,0
openstack%2Fneutron-vpnaas~stable%2Fussuri~Ibc4cd7f8a055457b288ef101893c252cf0464a28,openstack/neutron-vpnaas,stable/ussuri,Ibc4cd7f8a055457b288ef101893c252cf0464a28,Pin isort to 4.3.21,MERGED,2020-08-13 09:36:29.000000000,2020-08-19 09:16:26.000000000,2020-08-19 09:13:44.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 09:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/937fdc10fc44b339fc22d05695aedbcc973fe39b', 'message': ""Pin isort to 4.3.21\n\nThis patch fixes multiple issues to unblock gate:\n\n1. With new isort releases (5.X.X) pylint started to fail, with error:\n\n     AttributeError: module 'isort' has no attribute 'SortImports'\n\n   This patch pin isort to 4.3.21, the last version before 5.0.0.\n\n2. lower-constraints of appdirs and pytz need to be updated as\n   currently lower-constraints job fails.\n\n   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the\n   NEUTRON_PATH variable the functional test fails with:\n\n   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory\n\n3. Functional job fails, because during tox run the latest released\n   neutron is installed and it requires mock to be installed. This\n   patch adds mock to functional test requirements. Note: this needs\n   to be deleted as soon as new neutron will be released as on\n   development branch neutron does not depend on mock anymore.\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n(cherry picked from commit 2b293a1bfae6cefe17efa820e41ef698663749f2)\n""}, {'number': 2, 'created': '2020-08-13 11:40:53.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tools/configure_for_vpn_func_testing.sh', 'neutron_vpnaas/tests/functional/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/180fc9dcbc7debe4a3972a3d2877645a24f27a61', 'message': ""Pin isort to 4.3.21\n\nThis patch fixes multiple issues to unblock gate:\n\n1. With new isort releases (5.X.X) pylint started to fail, with error:\n\n     AttributeError: module 'isort' has no attribute 'SortImports'\n\n   This patch pin isort to 4.3.21, the last version before 5.0.0.\n\n2. lower-constraints of appdirs and pytz need to be updated as\n   currently lower-constraints job fails.\n\n   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the\n   NEUTRON_PATH variable the functional test fails with:\n\n   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory\n\n3. Functional job fails, because during tox run the latest released\n   neutron is installed and it requires mock to be installed. This\n   patch adds mock to functional test requirements. Note: this needs\n   to be deleted as soon as new neutron will be released as on\n   development branch neutron does not depend on mock anymore.\n\n4. Another fix had to squashed into this patch as functional job\n   neutron-vpnaas-functional-sswan fails with missing 'pip' command\n   (called from configure_for_vpn_func_testing.sh) without this fix:\n\n   Fix functional gate failure\n\n   Using command pip3 for python3-pip package.\n\n   Change-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe\n   (cherry picked from commit d4ef9c04ff03840665f5a47a421ae842db551264)\n\nChange-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28\n(cherry picked from commit 2b293a1bfae6cefe17efa820e41ef698663749f2)\n""}]",0,746035,180fc9dcbc7debe4a3972a3d2877645a24f27a61,13,6,2,17685,,,0,"Pin isort to 4.3.21

This patch fixes multiple issues to unblock gate:

1. With new isort releases (5.X.X) pylint started to fail, with error:

     AttributeError: module 'isort' has no attribute 'SortImports'

   This patch pin isort to 4.3.21, the last version before 5.0.0.

2. lower-constraints of appdirs and pytz need to be updated as
   currently lower-constraints job fails.

   Since patch Ia012a8e116a276a6674f86366c803e0e2d8ff704 modified the
   NEUTRON_PATH variable the functional test fails with:

   [..]neutron/tools/configure_for_func_testing.sh: line 113: /home/zuul/src/opendev.org/openstack/neutron-vpnaas/devstack/lib/ovs: No such file or directory

3. Functional job fails, because during tox run the latest released
   neutron is installed and it requires mock to be installed. This
   patch adds mock to functional test requirements. Note: this needs
   to be deleted as soon as new neutron will be released as on
   development branch neutron does not depend on mock anymore.

4. Another fix had to squashed into this patch as functional job
   neutron-vpnaas-functional-sswan fails with missing 'pip' command
   (called from configure_for_vpn_func_testing.sh) without this fix:

   Fix functional gate failure

   Using command pip3 for python3-pip package.

   Change-Id: I9f0c7ed7cf8baaa20e382e11e2276498d1c572fe
   (cherry picked from commit d4ef9c04ff03840665f5a47a421ae842db551264)

Change-Id: Ibc4cd7f8a055457b288ef101893c252cf0464a28
(cherry picked from commit 2b293a1bfae6cefe17efa820e41ef698663749f2)
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/35/746035/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tools/configure_for_vpn_func_testing.sh', 'neutron_vpnaas/tests/functional/requirements.txt']",4,937fdc10fc44b339fc22d05695aedbcc973fe39b,fix-pep8-isort,"# Make sure that mock is installed in functional environment for # neutron. This needs to be removed from master as soon as new neutron # is released from Victoria, as mock is removed in development branch. mock>=2.0.0 # BSD ",,10,2
openstack%2Fironic-inspector~bugfix%2F10.3~I86cb4f62fbaae3c0d149e9989703ac470939ea84,openstack/ironic-inspector,bugfix/10.3,I86cb4f62fbaae3c0d149e9989703ac470939ea84,Correct the constraints link in tox.ini,MERGED,2020-08-19 08:23:09.000000000,2020-08-19 08:57:08.000000000,2020-08-19 08:55:29.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-19 08:23:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/aef0068c4b7e5faf2a7c018a22155f66bf084686', 'message': 'Correct the constraints link in tox.ini\n\nChange-Id: I86cb4f62fbaae3c0d149e9989703ac470939ea84\n'}]",0,746853,aef0068c4b7e5faf2a7c018a22155f66bf084686,7,2,1,10239,,,0,"Correct the constraints link in tox.ini

Change-Id: I86cb4f62fbaae3c0d149e9989703ac470939ea84
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/53/746853/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aef0068c4b7e5faf2a7c018a22155f66bf084686,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/10.3},1,1
openstack%2Fironic-python-agent~bugfix%2F6.3~Id28a4916755b698d2f8812fef2db379b355fe5b1,openstack/ironic-python-agent,bugfix/6.3,Id28a4916755b698d2f8812fef2db379b355fe5b1,Update .gitreview for bugfix/6.3,MERGED,2020-08-18 20:42:57.000000000,2020-08-19 08:56:42.000000000,2020-08-19 08:55:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 20:42:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cd73b1a4aa0f79827a5777b070e14aef0db16772', 'message': 'Update .gitreview for bugfix/6.3\n\nChange-Id: Id28a4916755b698d2f8812fef2db379b355fe5b1\n'}]",0,746794,cd73b1a4aa0f79827a5777b070e14aef0db16772,8,3,1,22816,,,0,"Update .gitreview for bugfix/6.3

Change-Id: Id28a4916755b698d2f8812fef2db379b355fe5b1
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/746794/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cd73b1a4aa0f79827a5777b070e14aef0db16772,create-6.3,defaultbranch=bugfix/6.3,,1,0
openstack%2Ftrove-dashboard~master~I1c59929886ac3933b1308da04ea357bf5f2de788,openstack/trove-dashboard,master,I1c59929886ac3933b1308da04ea357bf5f2de788,Remove publish checkbox in log view,MERGED,2020-08-19 08:24:04.000000000,2020-08-19 08:55:20.000000000,2020-08-19 08:55:20.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-19 08:24:04.000000000', 'files': ['trove_dashboard/content/databases/templates/databases/logs/_detail_log.html'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/dee0699bb900121561f4e65d5979daf7cc0260a7', 'message': 'Remove publish checkbox in log view\n\nChange-Id: I1c59929886ac3933b1308da04ea357bf5f2de788\n'}]",0,746854,dee0699bb900121561f4e65d5979daf7cc0260a7,7,2,1,6732,,,0,"Remove publish checkbox in log view

Change-Id: I1c59929886ac3933b1308da04ea357bf5f2de788
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/54/746854/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/databases/templates/databases/logs/_detail_log.html'],1,dee0699bb900121561f4e65d5979daf7cc0260a7,log,," <label for=""publish_check"">{% trans ""Publish"" %}</label> <input type=""checkbox"" name=""publish"" value=""publish"" {{ publish }}>",0,2
openstack%2Fmagnum~master~I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,openstack/magnum,master,I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d,Remove duplicated etcd_volume_size param in coreos template,MERGED,2020-08-19 06:38:02.000000000,2020-08-19 08:52:53.000000000,2020-08-19 08:50:36.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-19 06:38:02.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0e964f8f7db23ae775a554d8f75bb7bb797ce490', 'message': 'Remove duplicated etcd_volume_size param in coreos template\n\nChange-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d\n'}]",0,746840,0e964f8f7db23ae775a554d8f75bb7bb797ce490,8,3,1,25254,,,0,"Remove duplicated etcd_volume_size param in coreos template

Change-Id: I161b0af3ef7fbf3f81ece9a4a5689ec84d8b715d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/40/746840/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml'],1,0e964f8f7db23ae775a554d8f75bb7bb797ce490,,, etcd_volume_size: type: number description: > size of the cinder volume for etcd storage default: 0 ,0,6
openstack%2Fkuryr-kubernetes~master~I6d6457541f7c2bf41b299bc33e3b570db44a4412,openstack/kuryr-kubernetes,master,I6d6457541f7c2bf41b299bc33e3b570db44a4412,Upgrade Kubernetes version to 1.18,MERGED,2020-08-09 12:27:36.000000000,2020-08-19 08:41:11.000000000,2020-08-19 08:39:35.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-09 12:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/322e8ca721c6912c8b7e31ed4c66ec108fdab94a', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Hyperkube version to\nuse 1.18, which includes beta features like\nEndpointSlice.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 2, 'created': '2020-08-09 12:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7711883e40940ea9bfbfd9c79e5f50b3f939c83b', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Hyperkube version to\nuse 1.18, which includes beta features like\nEndpointSlice.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 3, 'created': '2020-08-10 23:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9f408abf9960998c3f6dc89e5d18578e7f651ad7', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Hyperkube version to\nuse 1.18, which includes beta features like\nEndpointSlice.\n\nDepends-On: https://review.opendev.org/#/c/745601/\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 4, 'created': '2020-08-11 11:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e28e3e19ebc84e0b840640f4aa0c4ea9bb2f0c23', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Hyperkube version to\nuse 1.18, which includes beta features like\nEndpointSlice.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 5, 'created': '2020-08-12 10:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/97f190fab8218f4a7c33bff31cc8c0b9676d566e', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 6, 'created': '2020-08-12 10:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6e1e8211f8e1b0a5f07d41ce75a0b7d897025f64', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 7, 'created': '2020-08-12 13:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2bccda3c419ceedc31ae7d152f886e8f73dd4f4e', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 8, 'created': '2020-08-12 14:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8d9e48634b25ef134b0d07ba40a0c882dcade613', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 9, 'created': '2020-08-12 17:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7fa217750493fec57b1345a65acc402e3798b76b', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 10, 'created': '2020-08-12 18:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4bf56f8fe540b9d3cccc4d775c3b907d6bf24014', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 11, 'created': '2020-08-12 21:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51724a4cc2b5a17304298dc6f5433d25b3a3251b', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 12, 'created': '2020-08-13 08:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c37d8f355ce19a27128633f80704e5c1a95c86f', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 13, 'created': '2020-08-17 06:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d604920599a46ac09b36a9d4581d76744fadb4ef', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}, {'number': 14, 'created': '2020-08-18 11:03:39.000000000', 'files': ['doc/source/devref/kuryr_kubernetes_versions.rst', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7e34b411a059166543421e1c59be2faf2409c053', 'message': 'Upgrade Kubernetes version to 1.18\n\nThis commit upgrades the Kubernetes version to\n1.18 and removes Kyperkube support as is already\nDeprecated and will get removed on 1.20.\n\nChange-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412\n'}]",4,745457,7e34b411a059166543421e1c59be2faf2409c053,46,5,14,27032,,,0,"Upgrade Kubernetes version to 1.18

This commit upgrades the Kubernetes version to
1.18 and removes Kyperkube support as is already
Deprecated and will get removed on 1.20.

Change-Id: I6d6457541f7c2bf41b299bc33e3b570db44a4412
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/745457/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,322e8ca721c6912c8b7e31ed4c66ec108fdab94a,upgrade-k8s-version,KURYR_HYPERKUBE_VERSION=${KURYR_HYPERKUBE_VERSION:-v1.18.0}KURYR_KUBECTL_BINARY=${KURYR_KUBECTL_BINARY:-/usr/local/bin/kubectl} KURYR_KUBELET_BINARY=${KURYR_KUBELET_BINARY:-/usr/local/bin/kubelet},KURYR_HYPERKUBE_VERSION=${KURYR_HYPERKUBE_VERSION:-v1.16.0}KURYR_HYPERKUBE_BINARY=${KURYR_HYPERKUBE_BINARY:-/usr/local/bin/hyperkube},26,21
openstack%2Freleases~master~Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff,openstack/releases,master,Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff,Release Monasca-Agent 3.0.2,MERGED,2020-08-18 11:01:05.000000000,2020-08-19 08:34:51.000000000,2020-08-19 08:34:50.000000000,"[{'_account_id': 11904}, {'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 28522}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-08-18 11:01:05.000000000', 'files': ['deliverables/ussuri/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0caa9168cc96882d727fd286208967e45bef660c', 'message': 'Release Monasca-Agent 3.0.2\n\n- Fix a critical bug for Python 3 support in the http_check\nmetric.\n\n- Includes an update of Cinder-api versions to be monitored.\n\n- Minor change in help text.\n\nChange-Id: Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff\n'}]",0,746684,0caa9168cc96882d727fd286208967e45bef660c,11,6,1,28062,,,0,"Release Monasca-Agent 3.0.2

- Fix a critical bug for Python 3 support in the http_check
metric.

- Includes an update of Cinder-api versions to be monitored.

- Minor change in help text.

Change-Id: Ib6e683b8242a9f5d391fb36412b6fc45daa4ecff
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/746684/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/monasca-agent.yaml'],1,0caa9168cc96882d727fd286208967e45bef660c,, - version: 3.0.2 projects: - repo: openstack/monasca-agent hash: efd7763a3c32cb8bbc6db32bcfa8e3cec2aa659b,,4,0
openstack%2Fkuryr-kubernetes~master~If950900293cae1d1b0c57492d5dfa62770c08a7c,openstack/kuryr-kubernetes,master,If950900293cae1d1b0c57492d5dfa62770c08a7c,Cleanup minor thing for KuryrPort feature.,MERGED,2020-07-30 14:07:56.000000000,2020-08-19 08:31:24.000000000,2020-08-19 08:29:51.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-07-30 14:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f4c36e8657c66090bd9abdb56d2754707b18b1d', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 2, 'created': '2020-07-30 19:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c6a92040aeda69be1fa7eaac18242bb6e392e6f7', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 3, 'created': '2020-07-31 07:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8a299d11c7e41795018ee92d2b6d216c2ed8a4c', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 4, 'created': '2020-07-31 12:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d2a849054a014fe5c9d76e89aaf1e17a4d50ce3', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 5, 'created': '2020-08-03 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35e8ec2be727a1e213d6470c6d835f9521b2a467', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 6, 'created': '2020-08-04 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05ccdf4a1f97ce538097339e6466b24b059f980f', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 7, 'created': '2020-08-12 15:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c862287ad778cf352ca1ff89935d7443eed1031', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 8, 'created': '2020-08-12 16:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b9de62b6a8071d9a19d29ce084d8f20dbbe0ebee', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}, {'number': 9, 'created': '2020-08-13 08:22:42.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebf55415b6bb66c4081f325417985f5ed9709902', 'message': 'Cleanup minor thing for KuryrPort feature.\n\nThere was outstanding review comments for some minor things. In this\npatch they are resolved.\n\nChange-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c\n'}]",2,743979,ebf55415b6bb66c4081f325417985f5ed9709902,36,6,9,13692,,,0,"Cleanup minor thing for KuryrPort feature.

There was outstanding review comments for some minor things. In this
patch they are resolved.

Change-Id: If950900293cae1d1b0c57492d5dfa62770c08a7c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/79/743979/9 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py']",3,3f4c36e8657c66090bd9abdb56d2754707b18b1d,kuryrport-cleanups,, if (driver_utils.is_host_network(pod) or not pod['spec'].get('nodeName')): return ,7,55
openstack%2Fkuryr-kubernetes~master~I71385799775f9f9cc928e4d39a0fd443c98b53c6,openstack/kuryr-kubernetes,master,I71385799775f9f9cc928e4d39a0fd443c98b53c6,Move vifs to 'status' in the KuryrPort CRD.,MERGED,2020-07-30 11:29:10.000000000,2020-08-19 08:26:09.000000000,2020-08-19 08:24:26.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-07-30 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9020d15ab4227fed5370870d22b2393fbc4262c5', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}, {'number': 2, 'created': '2020-07-30 19:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0c8c78cdbd9a0f243c03db4139a24878cb86c60e', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}, {'number': 3, 'created': '2020-07-31 07:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d96db5c23179921159fa3fb46d0a7d8cf66bcc1', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}, {'number': 4, 'created': '2020-07-31 10:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d0030a3331893f394a2a34857c6687ae3e2f120a', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}, {'number': 5, 'created': '2020-08-04 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/334e28e214e9f583f53ba016220876cc5326cd2a', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}, {'number': 6, 'created': '2020-08-12 15:42:42.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/utils.py', 'kubernetes_crds/kuryr_crds/kuryrport.yaml', 'kuryr_kubernetes/cni/binding/dpdk.py', 'kuryr_kubernetes/cni/handlers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1aa6753d804164c9185caf411633ca4a7021b39f', 'message': ""Move vifs to 'status' in the KuryrPort CRD.\n\nI newly added CRD, KuryrPort, we noticed, that vifs key, which is now\nunder 'spec' object, is rather a thing which could be represented as the\nCRD status.\n\nIn this patch we propose to move vifs data under the status key.\n\nDepends-On: I2cb66e25534e44b79f660b10498086aa88ad805c\nChange-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6\n""}]",0,743955,1aa6753d804164c9185caf411633ca4a7021b39f,32,6,6,13692,,,0,"Move vifs to 'status' in the KuryrPort CRD.

I newly added CRD, KuryrPort, we noticed, that vifs key, which is now
under 'spec' object, is rather a thing which could be represented as the
CRD status.

In this patch we propose to move vifs data under the status key.

Depends-On: I2cb66e25534e44b79f660b10498086aa88ad805c
Change-Id: I71385799775f9f9cc928e4d39a0fd443c98b53c6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/55/743955/6 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kubernetes_crds/kuryr_crds/kuryrport.yaml', 'kuryr_kubernetes/cni/binding/dpdk.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/cni/handlers.py']",10,9020d15ab4227fed5370870d22b2393fbc4262c5,kuryrport-cleanups," vifs_dict = {k: obj_vif.base.VersionedObject .obj_from_primitive(v['vif']) for k, v in kuryrport_crd['status'].get('vifs', {}).values()}",from kuryr_kubernetes import utils vifs_dict = utils.get_vifs_from_crd(kuryrport_crd),55,56
openstack%2Fnetworking-hyperv~master~I3ac257d2add81b587a6f72922d4c0730282b3898,openstack/networking-hyperv,master,I3ac257d2add81b587a6f72922d4c0730282b3898,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:34:00.000000000,2020-08-19 08:25:15.000000000,2020-08-19 08:25:15.000000000,"[{'_account_id': 8543}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 03:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/38be8e4f1aadb6d5990df76e37395ed25ac18f62', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40228\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I3ac257d2add81b587a6f72922d4c0730282b3898\n'}, {'number': 2, 'created': '2020-08-04 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/a1d7bab2bb046c2ae6307a8180493ce9739f82ea', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40228\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I3ac257d2add81b587a6f72922d4c0730282b3898\n'}, {'number': 3, 'created': '2020-08-17 00:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/f1aa77bc03dc636478f95772aedc9b095323a74e', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40228\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I3ac257d2add81b587a6f72922d4c0730282b3898\n'}, {'number': 4, 'created': '2020-08-17 14:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/06a9490db69bacb74538327288ddea22f30cd309', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40228\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I3ac257d2add81b587a6f72922d4c0730282b3898\n'}, {'number': 5, 'created': '2020-08-17 14:18:35.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/fca3366641786aabae43178154e3c60e3042c20c', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40228\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>\n\nChange-Id: I3ac257d2add81b587a6f72922d4c0730282b3898\n'}]",0,744635,fca3366641786aabae43178154e3c60e3042c20c,14,3,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40228

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal>

Change-Id: I3ac257d2add81b587a6f72922d4c0730282b3898
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/35/744635/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,38be8e4f1aadb6d5990df76e37395ed25ac18f62,migrate-to-focal,#test focal,,1,0
openstack%2Fkolla-ansible~master~I5ac8f20a2157d880b63a4c70bf6c782d06014f41,openstack/kolla-ansible,master,I5ac8f20a2157d880b63a4c70bf6c782d06014f41,Skip broken ansible-lint,MERGED,2020-08-19 07:20:48.000000000,2020-08-19 08:04:06.000000000,2020-08-19 08:02:11.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-19 07:20:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a90aa3e4435a6124284260094b3e875c7bc9c96d', 'message': 'Skip broken ansible-lint\n\nSee [1].\n\n[1] https://github.com/ansible/ansible-lint/issues/969\n\nChange-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41\n'}]",0,746847,a90aa3e4435a6124284260094b3e875c7bc9c96d,9,5,1,30491,,,0,"Skip broken ansible-lint

See [1].

[1] https://github.com/ansible/ansible-lint/issues/969

Change-Id: I5ac8f20a2157d880b63a4c70bf6c782d06014f41
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/746847/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a90aa3e4435a6124284260094b3e875c7bc9c96d,skip-broken-ansible-lint,"ansible-lint>=4.2.0,!=4.3.0 # MIT",ansible-lint>=4.2.0 # MIT,1,1
openstack%2Fheat~master~I1e825834049f47a470280cce6c8bd89ef7e9ae61,openstack/heat,master,I1e825834049f47a470280cce6c8bd89ef7e9ae61,Correct release version for OS::Neutron::ProviderNet dns_domain,MERGED,2020-08-12 14:07:12.000000000,2020-08-19 07:59:50.000000000,2020-08-19 07:58:16.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 14:07:12.000000000', 'files': ['heat/engine/resources/openstack/neutron/provider_net.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c680d8933d19f27762f46481d206a906248b965f', 'message': 'Correct release version for OS::Neutron::ProviderNet dns_domain\n\nThe patch adding this new property was approved during the Ussuri\nrelease cycle, but only merged in the Victoria release. Therefore the\nversion in the SupportStatus should be 15.0.0, not 14.0.0.\n\nChange-Id: I1e825834049f47a470280cce6c8bd89ef7e9ae61\n'}]",0,745899,c680d8933d19f27762f46481d206a906248b965f,10,3,1,4257,,,0,"Correct release version for OS::Neutron::ProviderNet dns_domain

The patch adding this new property was approved during the Ussuri
release cycle, but only merged in the Victoria release. Therefore the
version in the SupportStatus should be 15.0.0, not 14.0.0.

Change-Id: I1e825834049f47a470280cce6c8bd89ef7e9ae61
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/745899/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/provider_net.py'],1,c680d8933d19f27762f46481d206a906248b965f,, support_status=support.SupportStatus(version='15.0.0'), support_status=support.SupportStatus(version='14.0.0'),1,1
openstack%2Fcharm-octavia~master~Ic2d884b8c589d00531b372ba4f742cbe651c7e48,openstack/charm-octavia,master,Ic2d884b8c589d00531b372ba4f742cbe651c7e48,Fix setuptools-scm's version range,MERGED,2020-08-18 14:40:06.000000000,2020-08-19 07:30:13.000000000,2020-08-19 07:30:13.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 14:40:06.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/009dd33942938cc29acfbd1ad267352b9d0c7fba', 'message': ""Fix setuptools-scm's version range\n\nBecause of this typo we ended up installing version 4 instead of 3\n\nChange-Id: Ic2d884b8c589d00531b372ba4f742cbe651c7e48\nRelated-Bug: #1891639\n""}]",0,746740,009dd33942938cc29acfbd1ad267352b9d0c7fba,11,4,1,31289,,,0,"Fix setuptools-scm's version range

Because of this typo we ended up installing version 4 instead of 3

Change-Id: Ic2d884b8c589d00531b372ba4f742cbe651c7e48
Related-Bug: #1891639
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/40/746740/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,009dd33942938cc29acfbd1ad267352b9d0c7fba,bug/1891639,"# Several dependencies now require setuptools-scm>=3.0,<=3.4.1 which requires toml setuptools-scm>=3.0,<=3.4.1",# Several dependencies now require setuptools-scm>=3.0<=3.4.1 which requires toml setuptools-scm>=3.0<=3.4.1,2,2
openstack%2Fvitrage~master~Ic08907fc0fe7110ab7895e203eb9d8cf3d315423,openstack/vitrage,master,Ic08907fc0fe7110ab7895e203eb9d8cf3d315423,Update volume update_timestamp_format,MERGED,2020-08-18 10:25:32.000000000,2020-08-19 06:49:07.000000000,2020-08-19 06:47:03.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-18 10:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/55c8a7cb2427b36db2fd5884fde30bbcf91344b2', 'message': 'Update volume update_timestamp_format\n\nUniform use TransformerBase._format_update_timestamp\n\nChange-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423\n'}, {'number': 2, 'created': '2020-08-18 11:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b8c21043e2fe67de70212161a8874c9f01aad7ed', 'message': 'Update volume update_timestamp_format\n\nUniform use TransformerBase._format_update_timestamp\n\nChange-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423\n'}, {'number': 3, 'created': '2020-08-18 11:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/545f6b2e3dd42ba75d4906d91950351ce539b813', 'message': 'Update volume update_timestamp_format\n\nUniform use TransformerBase._format_update_timestamp\n\nChange-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423\n'}, {'number': 4, 'created': '2020-08-19 00:46:43.000000000', 'files': ['vitrage/datasources/cinder/volume/transformer.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c2349bb18d3fefd9b3d4fe2716622d89ec00f8ce', 'message': 'Update volume update_timestamp_format\n\nUniform use TransformerBase._format_update_timestamp\n\nChange-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423\n'}]",2,746681,c2349bb18d3fefd9b3d4fe2716622d89ec00f8ce,13,3,4,30408,,,0,"Update volume update_timestamp_format

Uniform use TransformerBase._format_update_timestamp

Change-Id: Ic08907fc0fe7110ab7895e203eb9d8cf3d315423
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/81/746681/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/datasources/cinder/volume/transformer.py'],1,55c8a7cb2427b36db2fd5884fde30bbcf91344b2,time_fmt," update_timestamp = \ self._format_update_timestamp(update_timestamp, vitrage_sample_timestamp) update_timestamp=update_timestamp,"," update_timestamp=format_timestamp(update_timestamp),",4,1
openstack%2Fos-vif~master~I24a184abecdbfa1aec0de480540ca6ebcd68457f,openstack/os-vif,master,I24a184abecdbfa1aec0de480540ca6ebcd68457f,Fix - os-vif fails to get the correct UpLink Representor,ABANDONED,2020-08-19 06:00:49.000000000,2020-08-19 06:25:35.000000000,,[],"[{'number': 1, 'created': '2020-08-19 06:00:49.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4dec42c9e20fc15bfa229410e9b20789a9457690', 'message': 'Fix - os-vif fails to get the correct UpLink Representor\n\nDue to the new change in kerenl, the PF and VF representors are linked\nto their parent PCI device, and so ""get_ifname_by_pci_address"" fails\nto get the correct UpLink Representor.\n\nThis patch modifys the behviour of ""get_ifname_by_pci_address"" to\ncheck the physical port name of the netdev in\nvf_pci_addr_path/physfn/net to match the formart for the uplink ""p\\d+"".\n\nChange-Id: I24a184abecdbfa1aec0de480540ca6ebcd68457f\nCloses-Bug: #1892132\n'}]",0,746836,4dec42c9e20fc15bfa229410e9b20789a9457690,3,0,1,32296,,,0,"Fix - os-vif fails to get the correct UpLink Representor

Due to the new change in kerenl, the PF and VF representors are linked
to their parent PCI device, and so ""get_ifname_by_pci_address"" fails
to get the correct UpLink Representor.

This patch modifys the behviour of ""get_ifname_by_pci_address"" to
check the physical port name of the netdev in
vf_pci_addr_path/physfn/net to match the formart for the uplink ""p\d+"".

Change-Id: I24a184abecdbfa1aec0de480540ca6ebcd68457f
Closes-Bug: #1892132
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/36/746836/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,4dec42c9e20fc15bfa229410e9b20789a9457690,switch-dev-link," @mock.patch.object(linux_net, ""_get_phys_port_name"") self, mock__get_phys_port_name, mock_listdir, mock_open): mock__get_phys_port_name.side_effect = ([""p1""]) @mock.patch.object(linux_net, ""_get_phys_port_name"") self, mock__get_phys_port_name, mock_listdir, mock_open): mock__get_phys_port_name.side_effect = ([""p1""])"," self, mock_listdir, mock_open): self, mock_listdir, mock_open):",14,3
openstack%2Fdiskimage-builder~master~Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f,openstack/diskimage-builder,master,Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f,Adds Fedora 32 support,ABANDONED,2020-08-15 02:34:11.000000000,2020-08-19 04:56:17.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 31737}]","[{'number': 1, 'created': '2020-08-15 02:34:11.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/simple-init/pkg-map', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/455326625c43a510750a571aa4a992b41d28a5c7', 'message': 'Adds Fedora 32 support\n\nThis patch will add support Fedora32 which was released on 2020-04-28.\nCurrent supported releases of Fedora are Fedora31 and Fedora32. Please\nsee https://fedoraproject.org/wiki/Releases#Current_Supported_Releases\n\nChange-Id: Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f\n'}]",0,746363,455326625c43a510750a571aa4a992b41d28a5c7,20,6,1,31737,,,0,"Adds Fedora 32 support

This patch will add support Fedora32 which was released on 2020-04-28.
Current supported releases of Fedora are Fedora31 and Fedora32. Please
see https://fedoraproject.org/wiki/Releases#Current_Supported_Releases

Change-Id: Id9bd0d07fdc978f88148ea59de49f01fee5e7e5f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/63/746363/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', 'diskimage_builder/elements/simple-init/pkg-map', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'doc/source/user_guide/supported_distros.rst']",5,455326625c43a510750a571aa4a992b41d28a5c7,hiwkby-supports-fedora32-image,"- Fedora 31, 32- Fedora 31, 32","- Fedora 30, 31- Fedora 30, 31",20,15
openstack%2Fdiskimage-builder~master~I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e,openstack/diskimage-builder,master,I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e,update gentoo to allow building arm64 images,MERGED,2020-08-13 03:23:57.000000000,2020-08-19 04:36:45.000000000,2020-08-19 04:35:28.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-13 03:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/10c9f0e94ea915f3d3f4ea416f8a3cba24d3c6a2', 'message': 'update gentoo flags and package maps in preperation for arm64 support\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 2, 'created': '2020-08-13 04:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/71a397875a71d16d36e1d1cc8195766bedd294c3', 'message': 'update gentoo flags and package maps in preperation for arm64 support\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 3, 'created': '2020-08-13 04:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b9f6185db0ac96e0422c182c3bf8d95a4ee885f', 'message': 'update gentoo flags and package maps in preperation for arm64 support\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 4, 'created': '2020-08-13 21:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/67a41ed47847693bb6716552dcd074253606d8df', 'message': 'update gentoo flags and package maps in preperation for arm64 support\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 5, 'created': '2020-08-14 23:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6fd7adfe751f688e8b75ea44cbde959fff740c2f', 'message': 'update gentoo to allow building arm64 images\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 6, 'created': '2020-08-15 18:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e4521af51c342d63994891b9decf922726b15f36', 'message': 'update gentoo to allow building arm64 images\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 7, 'created': '2020-08-17 03:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/814c04b4fe8f48e82ef1ffc695d2fc92f4bef3ad', 'message': 'update gentoo to allow building arm64 images\n\nAdds:\n\n1. grub-efi package mappings\n2. efi-64 support\n3. default (openrc) arm64 profile\n4. systemd arm64 profile\n\nCleans up the keywords and use flags in 02-gentoo-02-flags.  Most stuff\nwas stablized.  Also cleaned up some formatting for the if statements.\n\nEnables less trusted overlays (up to the end user to verify).\n\nin 10-gentoo-image I cleaned up some bash lint things as well.\nusing && instead of -a and avoiding $?\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 8, 'created': '2020-08-17 05:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eb39ca549d7441b750219f5e994a4be91bb5c4f6', 'message': 'update gentoo to allow building arm64 images\n\nAdds:\n\n1. grub-efi package mappings\n2. efi-64 support\n3. default (openrc) arm64 profile\n4. systemd arm64 profile\n\nCleans up the keywords and use flags in 02-gentoo-02-flags.  Most stuff\nwas stablized.  Also cleaned up some formatting for the if statements.\n\nEnables less trusted overlays (up to the end user to verify).\n\nin 10-gentoo-image I cleaned up some bash lint things as well.\nusing && instead of -a and avoiding $?\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}, {'number': 9, 'created': '2020-08-18 04:50:51.000000000', 'files': ['diskimage_builder/elements/gentoo/root.d/10-gentoo-image', 'diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-02-flags', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bea81bd23465c8e88d83aa345161d7c5b56259d3', 'message': 'update gentoo to allow building arm64 images\n\nAdds:\n\n1. grub-efi package mappings\n2. efi-64 support\n3. default (openrc) arm64 profile\n4. systemd arm64 profile\n\nCleans up the keywords and use flags in 02-gentoo-02-flags.  Most stuff\nwas stablized.  Also cleaned up some formatting for the if statements.\n\nEnables less trusted overlays (up to the end user to verify).\n\nin 10-gentoo-image I cleaned up some bash lint things as well.\nusing && instead of -a and avoiding $?\n\nChange-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e\n'}]",5,746000,bea81bd23465c8e88d83aa345161d7c5b56259d3,82,7,9,14288,,,0,"update gentoo to allow building arm64 images

Adds:

1. grub-efi package mappings
2. efi-64 support
3. default (openrc) arm64 profile
4. systemd arm64 profile

Cleans up the keywords and use flags in 02-gentoo-02-flags.  Most stuff
was stablized.  Also cleaned up some formatting for the if statements.

Enables less trusted overlays (up to the end user to verify).

in 10-gentoo-image I cleaned up some bash lint things as well.
using && instead of -a and avoiding $?

Change-Id: I3dffe1aab4bbdc4946a9bf2269bf0cde49529a4e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/00/746000/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-02-flags', 'diskimage_builder/elements/gentoo/pre-install.d/02-gentoo-03-enable-overlays']",3,10c9f0e94ea915f3d3f4ea416f8a3cba24d3c6a2,gentoo-arm64-prep-work, # set layman config options sed -i 's/^check_official.*/check_official : No/g' /etc/layman/layman.cfg # allow unoffical repos,,12,13
openstack%2Fmanila~master~Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,openstack/manila,master,Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6,Add mod_wsgi configuration samples,MERGED,2017-11-23 02:53:57.000000000,2020-08-19 04:31:21.000000000,2020-08-12 12:53:56.000000000,"[{'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15100}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25388}, {'_account_id': 25456}]","[{'number': 1, 'created': '2017-11-23 02:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2491987e93583bed5ee68ae68ca0fbaa4cacca4f', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 2, 'created': '2017-11-23 05:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aaca5b017159ef7c19630b14b71f338638ebe043', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 3, 'created': '2017-11-23 10:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7fdce3a2a79912698de9311819d57a492277bb6d', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 4, 'created': '2017-11-25 00:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b45cf8c67f6f9822c81b5a7f17834eb1e41d05bc', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 5, 'created': '2017-11-27 09:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/51d268c760ee057b63eb256992194ca1dd9c0e4f', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 6, 'created': '2017-12-13 07:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dcfe2eea3de9ceb401b9acd0f76f7c61b5f41ed1', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 7, 'created': '2017-12-22 04:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ab5045ca49686bd843f7ae5d526f2b2296b99b6d', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 8, 'created': '2017-12-22 21:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/46213e921c459132adb6a2a265ece9089731921c', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 9, 'created': '2018-06-09 22:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9b66644341b5bf6fa3774213c6eef4a329f80a9', 'message': 'Add doc for using apache to launch API service\n\nAdd doc api.apache and api-httpd.conf for user to start\nmanila api server with apache.\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 10, 'created': '2020-08-06 21:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/31b499c0ca395a4aecc3d8126f96bee853672d66', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 11, 'created': '2020-08-06 21:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/463f51506d53df3f170e169ceb88b12747489552', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 12, 'created': '2020-08-06 22:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/657617c01761d5553bf5931a4d6ec7b792ff648f', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}, {'number': 13, 'created': '2020-08-11 21:00:54.000000000', 'files': ['httpd/mod_wsgi-manila.conf', 'doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/c1912b70f69bc59c1aaf047a556868d0e27e3518', 'message': 'Add mod_wsgi configuration samples\n\nExtend docs on running manila API with a web server (Apache, NGINX)\nAdd samples for mod_wsgi\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6\n'}]",28,522429,c1912b70f69bc59c1aaf047a556868d0e27e3518,113,21,13,25456,,,0,"Add mod_wsgi configuration samples

Extend docs on running manila API with a web server (Apache, NGINX)
Add samples for mod_wsgi

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: Ic756466e65ffd8b5fc6b8e8fb3eef4b8535b46d6
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/522429/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'etc/api-httpd.conf', 'doc/source/contributor/api.apache.rst']",3,2491987e93583bed5ee68ae68ca0fbaa4cacca4f,bug/1682694,".. All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Running Manila API under Apache =============================== Files ----- Copy the file etc/manila/api-httpd.conf to the appropriate location for your Apache server, most likely: ``/etc/httpd/conf.d/manila_wsgi.conf`` Update this file to match your system configuration (for example, some distributions put httpd logs in the apache2 directory and some in the httpd directory). Create the directory /var/www/cgi-bin/manila/. You can either hard or soft link the file manila/wsgi/wsgi.py to be osapi_share under the /var/www/cgi-bin/manila/ directory. For a distribution appropriate place, it should probably be copied to: ``/usr/share/openstack/manila/httpd/manila.py`` Manila's primary configuration file (etc/manila.conf) and the PasteDeploy configuration file (etc/manila-paste.ini) must be readable to httpd in one of the default locations described in Configuring Manila. Access Control -------------- If you are running with Linux kernel security module enabled (for example SELinux or AppArmor), make sure that the configuration file has the appropriate context to access the linked file. ",,61,0
openstack%2Fopenstack-helm-infra~master~I9bc1eb0173063638b2cf58465c063f602ed20bc1,openstack/openstack-helm-infra,master,I9bc1eb0173063638b2cf58465c063f602ed20bc1,Add capabilitity to backup only a single database,MERGED,2020-08-13 16:47:04.000000000,2020-08-19 03:17:22.000000000,2020-08-19 03:16:15.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18236}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}]","[{'number': 1, 'created': '2020-08-13 16:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49b5b3bcb17cb4893f1ae74d0316487187e51257', 'message': 'Add capabilitity to backup only a single database\n\nThis PS adds the capability to Mariadb and Postgresql to backup a\nsingle database (as an optional parameter to the backup script).\n\nChange-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1\n'}, {'number': 2, 'created': '2020-08-13 18:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94e6f63d0dcbbb72e2d6bfa3b4597aa0a938a499', 'message': 'Add capabilitity to backup only a single database\n\nThis PS adds the capability to Mariadb and Postgresql to backup a\nsingle database (as an optional parameter to the backup script).\n\nChange-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1\n'}, {'number': 3, 'created': '2020-08-18 01:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e45b6c27f31e42d610e030a5c610948d22cbb6eb', 'message': 'Add capabilitity to backup only a single database\n\nThis PS adds the capability to Mariadb and Postgresql to backup a\nsingle database (as an optional parameter to the backup script).\n\nChange-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1\n'}, {'number': 4, 'created': '2020-08-18 18:30:50.000000000', 'files': ['postgresql/templates/bin/_backup_postgresql.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'postgresql/templates/bin/_restore_postgresql.sh.tpl', 'helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'mariadb/templates/bin/_restore_mariadb.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/233197fc0b8f327c9dd61e03bbfc06a709d9135e', 'message': 'Add capabilitity to backup only a single database\n\nThis PS adds the capability to Mariadb and Postgresql to backup a\nsingle database (as an optional parameter to the backup script).\n\nChange-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1\n'}]",2,746202,233197fc0b8f327c9dd61e03bbfc06a709d9135e,26,8,4,22636,,,0,"Add capabilitity to backup only a single database

This PS adds the capability to Mariadb and Postgresql to backup a
single database (as an optional parameter to the backup script).

Change-Id: I9bc1eb0173063638b2cf58465c063f602ed20bc1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/746202/3 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/bin/_backup_postgresql.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl', 'postgresql/templates/bin/_restore_postgresql.sh.tpl', 'helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'mariadb/templates/bin/_restore_mariadb.sh.tpl']",5,49b5b3bcb17cb4893f1ae74d0316487187e51257,, SQL_FILE=$TMP_DIR/mariadb.$MARIADB_POD_NAMESPACE.*.sql if [[ -e $SQL_FILE ]]; then current_db_desc ${DATABASE} ${SQL_FILE} \ SQL_FILE=$TMP_DIR/mariadb.$MARIADB_POD_NAMESPACE.*.sql if [[ -e $SQL_FILE ]]; then current_db_desc ${DATABASE} ${SQL_FILE} \ SQL_FILE=$TMP_DIR/mariadb.$MARIADB_POD_NAMESPACE.*.sql if [[ -e $SQL_FILE ]]; then current_db_desc ${DATABASE} ${SQL_FILE} > ${DB_FILE} SQL_FILE=$TMP_DIR/mariadb.$MARIADB_POD_NAMESPACE.*.sql if [[ -f $SQL_FILE ]] $RESTORE_CMD --force < $SQL_FILE 2>>$RESTORE_LOG SQL_FILE=$TMP_DIR/mariadb.$MARIADB_POD_NAMESPACE.*.sql if [[ -f $SQL_FILE ]] $MYSQL < $SQL_FILE 2>$RESTORE_LOG, SQL_FILE=mariadb.$MARIADB_POD_NAMESPACE.all.sql if [[ -e $TMP_DIR/$SQL_FILE ]]; then current_db_desc ${DATABASE} ${TMP_DIR}/${SQL_FILE} \ SQL_FILE=mariadb.$MARIADB_POD_NAMESPACE.all.sql if [[ -e $TMP_DIR/$SQL_FILE ]]; then current_db_desc ${DATABASE} ${TMP_DIR}/${SQL_FILE} \ SQL_FILE=mariadb.$MARIADB_POD_NAMESPACE.all.sql if [[ -e $TMP_DIR/$SQL_FILE ]]; then current_db_desc ${DATABASE} ${TMP_DIR}/${SQL_FILE} > ${DB_FILE} SQL_FILE=mariadb.$MARIADB_POD_NAMESPACE.all.sql if [[ -f ${TMP_DIR}/$SQL_FILE ]] $RESTORE_CMD --force < ${TMP_DIR}/$SQL_FILE 2>>$RESTORE_LOG SQL_FILE=mariadb.$MARIADB_POD_NAMESPACE.all.sql if [[ -f ${TMP_DIR}/$SQL_FILE ]] $MYSQL < ${TMP_DIR}/$SQL_FILE 2>$RESTORE_LOG,98,57
openstack%2Fzaqar~master~I176e3876f2652608aaf51b0f74f4d971d31253e2,openstack/zaqar,master,I176e3876f2652608aaf51b0f74f4d971d31253e2,Fix SSLError caused by not passing the cafile,MERGED,2020-08-06 09:17:42.000000000,2020-08-19 03:13:59.000000000,2020-08-19 03:12:53.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 28367}]","[{'number': 1, 'created': '2020-08-06 09:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/7607e1ac6f526f0daea165228fd7c87569db1391', 'message': 'Fix SSLError caused by not passing the cafile\n\nWhen tls is enabled, the cafile needs to be passed in the session.\n\nChange-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2\nCloses-Bug: #1890558\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 2, 'created': '2020-08-07 04:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/10ffc46da0d8b77cac9a23d2a1a6f129672626cb', 'message': 'Fix SSLError caused by not passing the cafile\n\nWhen tls is enabled, the cafile needs to be passed in the session.\n\nChange-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2\nCloses-Bug: #1890558\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 3, 'created': '2020-08-07 04:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/29c54bdaae0cfda1bbe62774584f5c0312fb7d5d', 'message': 'Fix SSLError caused by not passing the cafile\n\nWhen tls is enabled, the cafile needs to be passed in the session.\n\nChange-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2\nCloses-Bug: #1890558\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 4, 'created': '2020-08-18 03:32:44.000000000', 'files': ['zaqar/common/auth.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d4cece4b815a67132f7522fb2dd84a02b478756d', 'message': 'Fix SSLError caused by not passing the cafile\n\nWhen tls is enabled, the cafile needs to be passed in the session.\n\nChange-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2\nCloses-Bug: #1890558\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",0,745099,d4cece4b815a67132f7522fb2dd84a02b478756d,26,3,4,28367,,,0,"Fix SSLError caused by not passing the cafile

When tls is enabled, the cafile needs to be passed in the session.

Change-Id: I176e3876f2652608aaf51b0f74f4d971d31253e2
Closes-Bug: #1890558
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/99/745099/4 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/common/auth.py'],1,7607e1ac6f526f0daea165228fd7c87569db1391,bug/1890558," trust_session = session.Session( auth=auth_plugin, verify=getattr(cfg.CONF, TRUSTEE_CONF_GROUP).cafile) return session.Session( auth=auth_plugin, verify=getattr(cfg.CONF, conf_group).cafile) sess = session.Session( auth=auth_plugin, verify=getattr(cfg.CONF, TRUSTEE_CONF_GROUP).cafile)", trust_session = session.Session(auth=auth_plugin) return session.Session(auth=auth_plugin) sess = session.Session(auth=auth_plugin),6,3
openstack%2Fmanila~stable%2Fussuri~I8e68619b00255197b3d3cf6796c60d1a3a04ff36,openstack/manila,stable/ussuri,I8e68619b00255197b3d3cf6796c60d1a3a04ff36,Add uWSGI configuration samples,MERGED,2020-08-17 17:17:56.000000000,2020-08-19 02:51:22.000000000,2020-08-19 02:49:37.000000000,"[{'_account_id': 6413}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-08-17 17:17:56.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/8f5d81586ead346c6cde995d7baf2910663f7211', 'message': 'Add uWSGI configuration samples\n\nAdded some samples on uWSGI config and some docs\non how to run manila with uWSGI for contributors.\n\nPartially-implements: blueprint wsgi-web-servers-support\n\nChange-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36\n(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)\n'}]",0,746569,8f5d81586ead346c6cde995d7baf2910663f7211,11,5,1,16643,,,0,"Add uWSGI configuration samples

Added some samples on uWSGI config and some docs
on how to run manila with uWSGI for contributors.

Partially-implements: blueprint wsgi-web-servers-support

Change-Id: I8e68619b00255197b3d3cf6796c60d1a3a04ff36
(cherry picked from commit 7a1414977f1f1699b000ff04ed0e0d32853d1185)
",git fetch https://review.opendev.org/openstack/manila refs/changes/69/746569/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/apache-httpd.rst', 'httpd/manila-uwsgi.ini', 'httpd/uwsgi-manila.conf']",4,8f5d81586ead346c6cde995d7baf2910663f7211,bug/1682694,"KeepAlive Off SetEnv proxy-sendchunked 1 ProxyPass ""/share"" ""http://127.0.0.1:51999"" retry=0 ",,101,0
openstack%2Ftripleo-common~master~If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,openstack/tripleo-common,master,If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6,(backward compatibility) create kolla UIDs/GIDs for TCIB,MERGED,2020-08-10 18:14:41.000000000,2020-08-19 02:22:22.000000000,2020-08-19 02:21:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-10 18:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2138a731e1ca990a197d6b7dabe7cb04c0de95cd', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 2, 'created': '2020-08-10 19:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3df69b7397ceea8984743fbf35b3097fd10c9f7', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 3, 'created': '2020-08-11 12:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd43c55cda8562dfd8c9c4edea3e92e7dc8b0d2c', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 4, 'created': '2020-08-11 15:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ff50ec24a56e29949e10b9dfe443b53ca8545f0', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 5, 'created': '2020-08-12 14:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ef779f66502d015a1f4163b19f3ac3ff9fc84e8', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 6, 'created': '2020-08-12 15:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87bf3dba73271983a54013b56ff4b23b96dfe176', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 7, 'created': '2020-08-12 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad3c3859e3b3a858bc6173e62ae0b47c68c75f0b', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 8, 'created': '2020-08-12 16:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1e39e7ab176188cbb64454473a0a67a8a9ce5309', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 9, 'created': '2020-08-12 18:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d5298ad0540167c76d018599ad6807dc3514f71', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 10, 'created': '2020-08-12 20:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b761f797c9da0f4cc9fa611da434596fba9ee3df', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 11, 'created': '2020-08-13 01:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3de017c33d130070f53f73e0b0b50a7d186efbf', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 12, 'created': '2020-08-13 13:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/580ae676367f3407144e7c27857b3a68ea77a671', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 13, 'created': '2020-08-13 15:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b71b22d2d6544a37467fdfbcaec7f1afb6b72b29', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 14, 'created': '2020-08-16 01:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31e1810e6e84b1b7abaf8238359af9f92785d12d', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 15, 'created': '2020-08-16 15:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a78c95a2caeecdf0b08dc7a73deb91d434e1979', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 16, 'created': '2020-08-16 18:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb85398f41914c39baf7ddfae053cbf0dfb7dc96', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 17, 'created': '2020-08-16 22:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8129687f2870616c2753bd68545c5199324479c3', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}, {'number': 18, 'created': '2020-08-17 08:08:07.000000000', 'files': ['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb0ec2ffd0a99d441c361bb83472e48ead18d013', 'message': ""(backward compatibility) create kolla UIDs/GIDs for TCIB\n\nWhen upgrading container images from Kolla-based to TCIB-based, the\nconfig files can't be read if we don't apply the new chown values unless\nwe re-use the same UIDs/GIDs as we had with Kolla; which is what we'll\ndo for now until we figure out an easy way to update config permissions\nduring the upgrade/update stage.\n\nThis introduces a new script, that will be injected in the base layer:\n\nuid_gid_manage.sh\n\nUsage:\n\n./uid_gid_manage.sh qemu nova\n\nIt'll first create the qemu user/group, then nova user/group.\nThe format aims to be simple:\n\n<username> <uid> <gid> <optional homedir> <optional list of extra groups>\n\nIt's also removing instances of usermod which aren't needed anymore;\nsince we create the user / groups only in the images where they are\nneeded; which wasn't the case for Kolla where all users/groups were\ncreated in the base image.\n\nNote: we create the user/group before installing packaging so if\npackaging creates directories and sets permissions, it'll be with the\nright UID/GID (unless packaging overrides UID/GID but rarely do it).\n\nRelated-Bug: #1890798\n\nChange-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6\n""}]",7,745575,fb0ec2ffd0a99d441c361bb83472e48ead18d013,80,11,18,3153,,,0,"(backward compatibility) create kolla UIDs/GIDs for TCIB

When upgrading container images from Kolla-based to TCIB-based, the
config files can't be read if we don't apply the new chown values unless
we re-use the same UIDs/GIDs as we had with Kolla; which is what we'll
do for now until we figure out an easy way to update config permissions
during the upgrade/update stage.

This introduces a new script, that will be injected in the base layer:

uid_gid_manage.sh

Usage:

./uid_gid_manage.sh qemu nova

It'll first create the qemu user/group, then nova user/group.
The format aims to be simple:

<username> <uid> <gid> <optional homedir> <optional list of extra groups>

It's also removing instances of usermod which aren't needed anymore;
since we create the user / groups only in the images where they are
needed; which wasn't the case for Kolla where all users/groups were
created in the base image.

Note: we create the user/group before installing packaging so if
packaging creates directories and sets permissions, it'll be with the
right UID/GID (unless packaging overrides UID/GID but rarely do it).

Related-Bug: #1890798

Change-Id: If3fa2ff34af42a7438c6dbf81dbcb0bddd63afa6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/745575/8 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/base.yaml', 'container-images/kolla/base/uid_gid_manage.sh', 'container-images/tcib/base/os/tempest/tempest.yaml']",4,2138a731e1ca990a197d6b7dabe7cb04c0de95cd,kolla/uidgid,,- run: groupadd --force --gid 42480 tempest && useradd -l -M --shell /usr/sbin/nologin --uid 42480 --gid 42480 tempest,62,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,stable/train,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-13 15:42:06.000000000,2020-08-19 01:45:13.000000000,2020-08-19 01:45:13.000000000,"[{'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-08-13 15:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c2abd26bccdc776fe2039b52524891ed9130c67', 'message': 'Iterate over all templates which need NW template migration.\n\nThere is a bug with the logic that takes care of migrating the\nNW templates from one version to another. As it is right now,\nit was only performing the NW template migration of the last\nfile it found a Net::SoftwareConfig in. Causing issues if\nmore than one template from overcloud_deploy script contained.\n\nThis patch loops over all the outputs from nic_config_envs and\nfor each match it will run the script to migrate the templates.\n\nChange-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8\n'}, {'number': 2, 'created': '2020-08-18 16:17:52.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cd641bb86a541336ae481c73139beb53f23aba24', 'message': 'Iterate over all templates which need NW template migration.\n\nThere is a bug with the logic that takes care of migrating the\nNW templates from one version to another. As it is right now,\nit was only performing the NW template migration of the last\nfile it found a Net::SoftwareConfig in. Causing issues if\nmore than one template from overcloud_deploy script contained.\n\nThis patch loops over all the outputs from nic_config_envs and\nfor each match it will run the script to migrate the templates.\n\nChange-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8\n(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)\n'}]",0,746166,cd641bb86a541336ae481c73139beb53f23aba24,14,7,2,26343,,,0,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/746166/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml']",2,0c2abd26bccdc776fe2039b52524891ed9130c67,,"--- - name: set nic_config_env fact set_fact: nic_config_env: ""{{ item.item }}"" when: item.stdout|length > 0 - block: - name: register nic templates files defined in the environment file shell: | set -o pipefail awk -F': ' '/OS::TripleO::.*::Net::SoftwareConfig/ {print $2}' {{ nic_config_env }} register: nic_template_files - name: run parameters conversion script vars: relative_path: ""{{ '/'.join(nic_config_env.split('/')[0:-1]) + '/' + item }}"" nic_path: ""{{ (item[0] == '/')|ternary(item, relative_path) }}"" shell: | set -o pipefail NIC_ROLE_NAME=$( grep {{ item }} {{ nic_config_env }} | awk -F '::' '{ print $3 }' ); /usr/share/openstack-tripleo-heat-templates/tools/merge-new-params-nic-config-script.py \ --tht-dir {{ tht_directory }} \ --role-name $NIC_ROLE_NAME \ --roles-data {{ roles_data }} \ --discard-comments yes \ --template {{ nic_path }} when: - ""(item[0] == '/' and tht_directory not in item) or \ (item[0] != '/' and tht_directory not in '/'.join(nic_config_env.split('/')[0:-1]))"" loop: ""{{ nic_template_files.stdout_lines }}"" when: nic_config_env is defined ",,33,31
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2500200eba392888015796ec93623df089e8d31d,openstack/tripleo-heat-templates,stable/ussuri,I2500200eba392888015796ec93623df089e8d31d,Do not hard-code vars_from,MERGED,2020-08-18 06:16:00.000000000,2020-08-19 01:45:12.000000000,2020-08-19 01:45:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 06:16:00.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/701841df54030ab8b36d1bdb970f81621d0062e9', 'message': 'Do not hard-code vars_from\n\nThis break the ability to fix packages depending on the OS.\n\nChange-Id: I2500200eba392888015796ec93623df089e8d31d\nCloses-Bug: #1891465\nDepends-On: https://review.opendev.org/746441\n(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)\n'}]",0,746638,701841df54030ab8b36d1bdb970f81621d0062e9,12,8,1,28223,,,0,"Do not hard-code vars_from

This break the ability to fix packages depending on the OS.

Change-Id: I2500200eba392888015796ec93623df089e8d31d
Closes-Bug: #1891465
Depends-On: https://review.opendev.org/746441
(cherry picked from commit 20131fd662071037e9aaae1960ac373675883f67)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/746638/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,701841df54030ab8b36d1bdb970f81621d0062e9,ussuri/vars_from,," vars_from: ""redhat.yml"" vars_from: ""redhat.yml""",0,2
openstack%2Fmanila~stable%2Fstein~I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,openstack/manila,stable/stein,I1a2c28548d02eee6632313a41a5c4d8ab6ad9532,Fix wrong capacity in pool_stat for DellEMC manila drivers.,MERGED,2020-08-17 01:56:56.000000000,2020-08-19 01:43:16.000000000,2020-08-19 00:12:18.000000000,"[{'_account_id': 11904}, {'_account_id': 14624}, {'_account_id': 16643}, {'_account_id': 18742}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-08-17 01:56:56.000000000', 'files': ['manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/184f2a6817387cfd9d1d913e5f0cfe2fcf927e81', 'message': 'Fix wrong capacity in pool_stat for DellEMC manila drivers.\n\nDellEMC manila drivers have bugs in returning capacity in pool_stat.\nThe current powermax/vnx manila return size in MB and unity manila\nreturns size in bytes.\n\nChange-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532\nCloses-bug: #1890372\nCloses-bug: #1890375\nCloses-bug: #1890376\n(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)\n(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)\n(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)\n'}]",4,746429,184f2a6817387cfd9d1d913e5f0cfe2fcf927e81,19,6,1,14624,,,0,"Fix wrong capacity in pool_stat for DellEMC manila drivers.

DellEMC manila drivers have bugs in returning capacity in pool_stat.
The current powermax/vnx manila return size in MB and unity manila
returns size in bytes.

Change-Id: I1a2c28548d02eee6632313a41a5c4d8ab6ad9532
Closes-bug: #1890372
Closes-bug: #1890375
Closes-bug: #1890376
(cherry picked from commit 53f756d0650a815cbb9eeac2fa7bcfa2334c674a)
(cherry picked from commit ba00d1b9abe79a6569544f1b1f7f1587645f76c3)
(cherry picked from commit a6e3474d31785577b0872bfb67ba6a216d6ecf73)
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/746429/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/vmax/connection.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/tests/share/drivers/dell_emc/plugins/vmax/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'releasenotes/releasenotes/notes/dellemc-fix-capacity-report-25f75a6c96e12b40.yaml', 'manila/tests/share/drivers/dell_emc/common/enas/test_utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connection.py']",9,184f2a6817387cfd9d1d913e5f0cfe2fcf927e81,bug/1890372,"from manila.share.drivers.dell_emc.common.enas import utils as enas_utils self.assertEqual( enas_utils.mb_to_gb(fakes.FakeData.pool_total_size), pool['total_capacity_gb']) self.assertEqual( enas_utils.mb_to_gb(free_size), pool['free_capacity_gb'])"," self.assertEqual(fakes.FakeData.pool_total_size, pool['total_capacity_gb']) self.assertEqual(free_size, pool['free_capacity_gb'])",69,19
openstack%2Ftrove-dashboard~stable%2Fussuri~I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,openstack/trove-dashboard,stable/ussuri,I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,Do not use __nonzero__(),MERGED,2020-08-18 23:36:01.000000000,2020-08-19 01:11:46.000000000,2020-08-19 01:11:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 23:36:01.000000000', 'files': ['trove_dashboard/content/database_configurations/config_param_manager.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/274807e4eddd726ccd7adafb842e53c3de3d88c5', 'message': 'Do not use __nonzero__()\n\nChange-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc\n'}]",0,746818,274807e4eddd726ccd7adafb842e53c3de3d88c5,6,2,1,6732,,,0,"Do not use __nonzero__()

Change-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/18/746818/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/database_configurations/config_param_manager.py'],1,274807e4eddd726ccd7adafb842e53c3de3d88c5,fix-stable/ussuri, if len(diffs) > 0:, if len(diffs).__nonzero__():,1,1
openstack%2Fpuppet-openstack-integration~master~Iafe694a6cc4c90a4caecc9378a0db198dbab45ce,openstack/puppet-openstack-integration,master,Iafe694a6cc4c90a4caecc9378a0db198dbab45ce,Include keystone::cache explicitly,MERGED,2020-08-18 12:46:21.000000000,2020-08-19 01:01:19.000000000,2020-08-19 01:01:19.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:46:21.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3b8dc67207d96b78d2df4dc2556433a63cf19820', 'message': 'Include keystone::cache explicitly\n\nChange-Id: Iafe694a6cc4c90a4caecc9378a0db198dbab45ce\n'}]",0,746699,3b8dc67207d96b78d2df4dc2556433a63cf19820,7,3,1,16137,,,0,"Include keystone::cache explicitly

Change-Id: Iafe694a6cc4c90a4caecc9378a0db198dbab45ce
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/99/746699/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,3b8dc67207d96b78d2df4dc2556433a63cf19820,, include keystone::cache,,1,0
openstack%2Fpython-blazarclient~master~I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977,openstack/python-blazarclient,master,I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977,Fix test_args2body_start_now unit test,MERGED,2020-08-18 10:07:51.000000000,2020-08-19 00:31:50.000000000,2020-08-19 00:31:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-08-18 10:07:51.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_leases.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/14846e19287540bdf7d8fbc1e6df23497d2fbf9b', 'message': 'Fix test_args2body_start_now unit test\n\nThe test_args2body_start_now unit test started failing because the end\ndate was set to August 9, 2020 which is now in the past.\n\nChange-Id: I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977\n'}]",0,746678,14846e19287540bdf7d8fbc1e6df23497d2fbf9b,8,3,1,15197,,,0,"Fix test_args2body_start_now unit test

The test_args2body_start_now unit test started failing because the end
date was set to August 9, 2020 which is now in the past.

Change-Id: I8cc4f4ec7bf2af5bdfef37253801fd4c970b7977
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/78/746678/1 && git format-patch -1 --stdout FETCH_HEAD,['blazarclient/tests/v1/shell_commands/test_leases.py'],1,14846e19287540bdf7d8fbc1e6df23497d2fbf9b,," end='2030-08-09 22:30', before_end='2030-08-09 21:30', 'end': '2030-08-09 22:30', 'before_end': '2030-08-09 21:30',"," end='2020-08-09 22:30', before_end='2020-08-09 21:30', 'end': '2020-08-09 22:30', 'before_end': '2020-08-09 21:30',",4,4
openstack%2Ftrove-dashboard~master~I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,openstack/trove-dashboard,master,I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc,Do not use __nonzero__(),MERGED,2020-08-18 23:08:55.000000000,2020-08-18 23:45:48.000000000,2020-08-18 23:45:48.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 23:08:55.000000000', 'files': ['trove_dashboard/content/database_configurations/config_param_manager.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/d8334a1be76fa7abe54e9f6436545f496d597000', 'message': 'Do not use __nonzero__()\n\nChange-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc\n'}]",0,746814,d8334a1be76fa7abe54e9f6436545f496d597000,7,2,1,6732,,,0,"Do not use __nonzero__()

Change-Id: I72f44bb891106c6fb6994e7b8481ab34c1e7d0dc
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/14/746814/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/database_configurations/config_param_manager.py'],1,d8334a1be76fa7abe54e9f6436545f496d597000,fix, if len(diffs) > 0:, if len(diffs).__nonzero__():,1,1
openstack%2Fpython-cinderclient~stable%2Ftrain~I4f4468b23d04ecf74fb6347bfb518377127b563d,openstack/python-cinderclient,stable/train,I4f4468b23d04ecf74fb6347bfb518377127b563d,Fix typo: dow -> down,MERGED,2020-08-05 08:44:55.000000000,2020-08-18 22:57:45.000000000,2020-08-18 22:56:33.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-08-05 08:44:55.000000000', 'files': ['cinderclient/v3/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/20607192afb4beca786599ea9d39780c9e1970e3', 'message': 'Fix typo: dow -> down\n\nCloses-Bug: #1883674\nChange-Id: I4f4468b23d04ecf74fb6347bfb518377127b563d\n(cherry picked from commit 718474a092192ea0034a8107b6947a10636a4a0a)\n(cherry picked from commit f591104f5e707985f0297ee2edd7fdc1f72e341f)\n'}]",0,744858,20607192afb4beca786599ea9d39780c9e1970e3,11,5,1,10459,,,0,"Fix typo: dow -> down

Closes-Bug: #1883674
Change-Id: I4f4468b23d04ecf74fb6347bfb518377127b563d
(cherry picked from commit 718474a092192ea0034a8107b6947a10636a4a0a)
(cherry picked from commit f591104f5e707985f0297ee2edd7fdc1f72e341f)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/58/744858/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/v3/shell.py'],1,20607192afb4beca786599ea9d39780c9e1970e3,, help='Filter by up/down status. Default=None.'), help='Filter by up/dow status. Default=None.'),1,1
openstack%2Frequirements~master~I896267fe3b49327a1ad54237b92a5e78491f0092,openstack/requirements,master,I896267fe3b49327a1ad54237b92a5e78491f0092,Updated from generate-constraints,MERGED,2020-08-17 06:22:22.000000000,2020-08-18 22:52:19.000000000,2020-08-18 22:51:08.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-17 06:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5ba53e05bd7a3c031721136d5e27c3a997e2b2bc', 'message': 'Updated from generate-constraints\n\nChange-Id: I896267fe3b49327a1ad54237b92a5e78491f0092\n'}, {'number': 2, 'created': '2020-08-17 15:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8a45acef808572e81c72c9f3dc2e26d8fefcefa8', 'message': 'Updated from generate-constraints\n\nChange-Id: I896267fe3b49327a1ad54237b92a5e78491f0092\n'}, {'number': 3, 'created': '2020-08-18 06:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/38eb18880c2784ca8191a624f28841697cbe47eb', 'message': 'Updated from generate-constraints\n\nChange-Id: I896267fe3b49327a1ad54237b92a5e78491f0092\n'}, {'number': 4, 'created': '2020-08-18 15:36:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed90da38869752602477b2ec39191f80620ce4e0', 'message': 'Updated from generate-constraints\n\nChange-Id: I896267fe3b49327a1ad54237b92a5e78491f0092\n'}]",2,746440,ed90da38869752602477b2ec39191f80620ce4e0,25,4,4,11131,,,0,"Updated from generate-constraints

Change-Id: I896267fe3b49327a1ad54237b92a5e78491f0092
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/746440/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5ba53e05bd7a3c031721136d5e27c3a997e2b2bc,openstack/requirements/constraints/noclob,pywbem===1.0.2mock===4.0.2bcrypt===3.2.0docutils===0.16pkg-resources===0.0.0cffi===1.14.1,pywbem===1.0.1mock===3.0.5bcrypt===3.1.7docutils===0.15.2cffi===1.14.2,6,5
openstack%2Fglance~master~I3571960bbfb4f8f0a716937b541f5b1594cd0e16,openstack/glance,master,I3571960bbfb4f8f0a716937b541f5b1594cd0e16,Fix import failure status reporting when all_stores_must_succeed=True,MERGED,2020-08-12 16:53:06.000000000,2020-08-18 22:20:08.000000000,2020-08-18 22:18:43.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 16:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6864eb83b2da35b8b2099183459912aabfad9665', 'message': 'Fix import failure status reporting when all_stores_must_succeed=True\n\nAs described in the referenced bug, if a store fails with\nall_stores_must_succeed=True, we never add that store to the failed\nlist, nor remove it from the pending-import list, leaving a polling\nclient to wait forever. This fixes that by making the revert handler\nof the import task do that if we are the one that failed.\n\nCloses-Bug: #1891352\nChange-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16\n'}, {'number': 2, 'created': '2020-08-12 16:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0ea71932fccbabaa3d27c23c50cd939ae5d6f1c', 'message': 'Fix import failure status reporting when all_stores_must_succeed=True\n\nAs described in the referenced bug, if a store fails with\nall_stores_must_succeed=True, we never add that store to the failed\nlist, nor remove it from the pending-import list, leaving a polling\nclient to wait forever. This fixes that by making the revert handler\nof the import task do that if we are the one that failed.\n\nCloses-Bug: #1891352\nChange-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16\n'}, {'number': 3, 'created': '2020-08-12 17:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4da88018bc2eb700952dbeac70bd9557ff963e2e', 'message': 'Fix import failure status reporting when all_stores_must_succeed=True\n\nAs described in the referenced bug, if a store fails with\nall_stores_must_succeed=True, we never add that store to the failed\nlist, nor remove it from the pending-import list, leaving a polling\nclient to wait forever. This fixes that by making the revert handler\nof the import task do that if we are the one that failed.\n\nCloses-Bug: #1891352\nChange-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16\n'}, {'number': 4, 'created': '2020-08-18 16:56:35.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/737dfca83c8d347ef22eab7afca4057ce5f03f20', 'message': 'Fix import failure status reporting when all_stores_must_succeed=True\n\nAs described in the referenced bug, if a store fails with\nall_stores_must_succeed=True, we never add that store to the\nfailed list, nor remove it from the pending-import list, leaving a\npolling client to wait forever. This fixes that by making the revert\nhandler of the import task do that if we are the one that failed.\n\nCloses-Bug: #1891352\nChange-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16\n'}]",8,745933,737dfca83c8d347ef22eab7afca4057ce5f03f20,34,6,4,4393,,,0,"Fix import failure status reporting when all_stores_must_succeed=True

As described in the referenced bug, if a store fails with
all_stores_must_succeed=True, we never add that store to the
failed list, nor remove it from the pending-import list, leaving a
polling client to wait forever. This fixes that by making the revert
handler of the import task do that if we are the one that failed.

Closes-Bug: #1891352
Change-Id: I3571960bbfb4f8f0a716937b541f5b1594cd0e16
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/745933/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",3,6864eb83b2da35b8b2099183459912aabfad9665,bug/1891352,"import sysimport taskflow def test_revert_updates_status_keys(self): img_repo = mock.MagicMock() wrapper = import_flow.ImportActionWrapper(img_repo, IMAGE_ID1) image_import = import_flow._ImportToStore(TASK_ID1, TASK_TYPE, wrapper, ""http://url"", ""store1"", True, True) extra_properties = {""os_glance_importing_to_stores"": ""store1,store2""} image = self.img_factory.new_image(image_id=UUID1, extra_properties=extra_properties) img_repo.get.return_value = image fail_key = 'os_glance_failed_import' pend_key = 'os_glance_importing_to_stores' image_import.revert(None) self.assertEqual('store2', image.extra_properties[pend_key]) try: raise Exception('foo') except Exception: fake_exc_info = sys.exc_info() extra_properties = {""os_glance_importing_to_stores"": ""store1,store2""} image_import.revert(taskflow.types.failure.Failure(fake_exc_info)) self.assertEqual('store2', image.extra_properties[pend_key]) self.assertEqual('store1', image.extra_properties[fail_key]) "," self.assertEqual(image.extra_properties['os_glance_failed_import'], ""store1"")",37,13
openstack%2Fironic-python-agent-builder~master~I3658286ed05ab6ec35b945adc23e8166f5f72ada,openstack/ironic-python-agent-builder,master,I3658286ed05ab6ec35b945adc23e8166f5f72ada,Update name of ipa job,MERGED,2020-07-25 19:53:10.000000000,2020-08-18 21:59:29.000000000,2020-08-18 21:56:59.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-25 19:53:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/089ec160139c9838a202595a03b7c1171f4bef59', 'message': 'Update name of ipa job\n\nDepends-On: https://review.opendev.org/738442\nChange-Id: I3658286ed05ab6ec35b945adc23e8166f5f72ada\n'}]",2,743043,089ec160139c9838a202595a03b7c1171f4bef59,12,4,1,23851,,,0,"Update name of ipa job

Depends-On: https://review.opendev.org/738442
Change-Id: I3658286ed05ab6ec35b945adc23e8166f5f72ada
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/43/743043/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,089ec160139c9838a202595a03b7c1171f4bef59,update-ipa-job, - ipa-tempest-bios-ipmi-iscsi-src:, - ipa-tempest-partition-bios-ipmi-iscsi-dib-src:,1,1
openstack%2Ftripleo-docs~master~I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe,openstack/tripleo-docs,master,I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe,Update the doc about 3rd party with recent changes,MERGED,2020-08-18 15:53:02.000000000,2020-08-18 21:31:51.000000000,2020-08-18 21:30:14.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 15:53:02.000000000', 'files': ['deploy-guide/source/deployment/3rd_party.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b274b01594f3df1203cb65a73e1a92d5742b18ef', 'message': ""Update the doc about 3rd party with recent changes\n\nWe backported everything down to Train, let's make sure the manual\nreflects it.\n\nChange-Id: I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe\n""}]",0,746752,b274b01594f3df1203cb65a73e1a92d5742b18ef,9,4,1,3153,,,0,"Update the doc about 3rd party with recent changes

We backported everything down to Train, let's make sure the manual
reflects it.

Change-Id: I4771b7de65a1485d49c9a5831a6ec1cb741ec1fe
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/52/746752/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/3rd_party.rst'],1,b274b01594f3df1203cb65a73e1a92d5742b18ef,tcib/backport,".. note:: Note that this method has been simplified in Victoria and backported down to train, with the new `openstack tripleo container image build` command.",".. note:: This method works with the Victoria release but work is happening to backport it to Train. To add layers on an older release, refer to the next section which uses Docker. .. note:: Note that this method has been simplified in the Victoria cycle with the new `openstack tripleo container image build` command... note:: This method works with the Victoria release but work is happening to backport it to Train. To add layers on an older release, refer to the next section which uses Docker. ",3,10
openstack%2Ftripleo-docs~master~I05f8eda29d03adac948159418b0763c5f8b5ddec,openstack/tripleo-docs,master,I05f8eda29d03adac948159418b0763c5f8b5ddec,Introduce a manual about TripleO core reviewers,MERGED,2020-07-30 15:13:20.000000000,2020-08-18 21:25:39.000000000,2020-08-18 21:24:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7160}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-30 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f33b9f3ab00018bf40ca25ea1acecd1868f9e8cc', 'message': 'Introduce a manual about TripleO core reviewers\n\nFor the first time, we now have a manual that describes the expectations\nof our core reviewers and hopefully will help people to understand how\nthey can become core at some point.\n\nNote: this was inspired by https://wiki.openstack.org/wiki/Ironic/CoreTeam\nThanks to the Ironic team for writting this.\n\nChange-Id: I05f8eda29d03adac948159418b0763c5f8b5ddec\n'}, {'number': 2, 'created': '2020-07-31 19:39:00.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/contributor/core.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f00729894c0080a877ba2b797ad8c1beb57ed52b', 'message': 'Introduce a manual about TripleO core reviewers\n\nFor the first time, we now have a manual that describes the expectations\nof our core reviewers and hopefully will help people to understand how\nthey can become core at some point.\n\nNote: this was inspired by https://wiki.openstack.org/wiki/Ironic/CoreTeam\nThanks to the Ironic team for writting this.\n\nChange-Id: I05f8eda29d03adac948159418b0763c5f8b5ddec\n'}]",35,743999,f00729894c0080a877ba2b797ad8c1beb57ed52b,36,16,2,3153,,,0,"Introduce a manual about TripleO core reviewers

For the first time, we now have a manual that describes the expectations
of our core reviewers and hopefully will help people to understand how
they can become core at some point.

Note: this was inspired by https://wiki.openstack.org/wiki/Ironic/CoreTeam
Thanks to the Ironic team for writting this.

Change-Id: I05f8eda29d03adac948159418b0763c5f8b5ddec
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/99/743999/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/contributor/core.rst']",2,f33b9f3ab00018bf40ca25ea1acecd1868f9e8cc,,"Core maintainers ================ The intention of this document is to give developers some information regarding what is expected from core maintainers and hopefully provide some guidance to those aiming for this role. Teams ----- The TripleO Core team is responsible for reviewing all changes proposed to repositories that are under the `governance of TripleO <tripleo_governance_>`_. .. _tripleo_governance: https://governance.openstack.org/tc/reference/projects/tripleo.html The TripleO Upgrade core reviewers maintain the `tripleo_upgrade`_ project. .. _tripleo_upgrade: https://opendev.org/openstack/tripleo-upgrade The TripleO Validation team maintains the Validation Framework in TripleO. The TripleO CI team maintains the TripleO CI related projects (tripleo-ci, tripleo-quickstart, tripleo-quickstart-extras, etc). We also have contributors with a specific area of expertise who have been granted core reviews on their area. Example: a Ceph integration expert would have core review on the Ceph related patches in TripleO. Because Gerrit doesn't allow such granularity, we trust people to understand which patches they can use their core reviewer status or not. If one is granted core review access on an area, there is an expectation that it'll only be used in this specific area. .. note:: Everyone is warmly encouraged to review incoming patches in TripleO, even if you're not (yet) a member of these teams. Participating in the review process will be a major task on the road to join the core maintainer teams. Adding new members ------------------ Each team mentioned above should be aware of who is active in their respective project(s). In order to add someone in one of these groups, it has to be discussed between other cores and the TripleO PTL. It is a good practice to reach out to the nominee before proposing him, to make sure about their willingness to accept this position and its responsibilities. In real life, it usually happens by informal discussions, but the official proposals have to be sent with an email to the openstack-discuss mailing list. It is strongly recommended to have this initial informal agreement before going public, in case there are some disagreements which could cause unpleasant discussions which could harm the nominee. This discussion can be initiated by any core, and only the existing cores votes will weight into whether or not the proposal is granted. Of course anyone is welcome to share their feedback and opinions. Removing members ---------------- It is normal for developers to reduce their activity and work on something else. If they don't reach out by themselves, it is the responsibility of the teams to remove them from the core list and inform about the change on the mailing-list and privately when possible. Core membership expectations ---------------------------- Becoming a core member is a serious commitment and it is not granted easily. Here are a non-exhaustive list of things that are expected: * The time invested on the project is consistent. * (Nearly) Daily participation in core reviews. .. note:: Core reviewers are expected to provide thoroughly reviews on the code, which doesn't only mean +1/-1, but also comments the code that confirm that the patch is ready (or not) to be merged into the repository. This capacity to provide these kind of reviews is strongly evaluated when recruiting new core reviewers. It is prefered to provide quality reviews over quantity. A negative review needs productive feedback and harmful comments won't help to build credibility within the team. * Awareness of discussions happening within the project (mailing-list, specs). * Best effort participation on IRC #tripleo (when timezone permits), to provide support to our dear users and developers. * Gain trust with other core members, engage collaboration and be nice with people. While mainly maintained by Red Hat, TripleO remains a friendly project where we hope people can have fun while maintaining a project which meets business needs for the OpenStack community. * Understand the `Expedited Approvals <expedited_approvals_>`_ policy. .. _expedited_approvals: https://specs.openstack.org/openstack/tripleo-specs/specs/policy/expedited-approvals.html Final note ---------- The goal of becoming core must not be intimidating. It should be reachable to anyone well involved in our project with has good intents and enough technical level. One should never hesitate to ask for help and mentorship when needed. ",,109,0
openstack%2Fnova~master~I23ac1cc79482d0fabb359486a4b934463854cae5,openstack/nova,master,I23ac1cc79482d0fabb359486a4b934463854cae5,Allow TLS ciphers/protocols to be configurable for console proxies,MERGED,2019-08-30 19:33:34.000000000,2020-08-18 21:06:34.000000000,2020-02-24 17:27:02.000000000,"[{'_account_id': 4690}, {'_account_id': 5046}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 9008}, {'_account_id': 9098}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10873}, {'_account_id': 14070}, {'_account_id': 14250}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27954}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-30 19:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bad47f585d0dedb51120c1f3a0e97a05e5ac508', 'message': ""Allow TLS ciphers to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers to be configurable.  This results in the defaults\nbeing used from the underlying system, which may not be secure enough\nfor many deployments.  This patch allows for the ciphers for each\nconsole proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers to be configurable as of version 0.9.0.\nThis change updates the lower constraint for this dependency.\n\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 2, 'created': '2019-08-30 23:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4998f70b179470cd03d6b164d22e09427d72728', 'message': ""WIP - Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 3, 'created': '2019-08-31 16:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b5e8ac18e56c72a2a14238cb0022977626ee819', 'message': ""WIP - Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 4, 'created': '2019-08-31 21:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e3b8fa294321387f1d6c1525bc404b314941b01', 'message': ""WIP - Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 5, 'created': '2019-09-04 23:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4df4aebe2d4f4e570d27bbaea284b4cc5b7b6c96', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 6, 'created': '2019-09-05 23:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2f833072284dc05aa5341e7e8fe76c5949fc4ba', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 7, 'created': '2019-12-17 17:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7472a93df3545fd71aca411bf2dfeae019f7628f', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 8, 'created': '2019-12-18 13:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac8ee7f4637032cd636dde77e4f3d3223722e917', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 9, 'created': '2019-12-18 15:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dcc07813b9c833166c93048233772e100fd65df', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 10, 'created': '2020-02-11 17:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddea95c4d5e3ab3dc64584b3901693b27627e586', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 11, 'created': '2020-02-12 18:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfa105ada7073bc8a45ffe4a6900054109669aa1', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}, {'number': 12, 'created': '2020-02-12 21:05:55.000000000', 'files': ['nova/conf/novnc.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'requirements.txt', 'doc/source/admin/remote-console-access.rst', 'nova/conf/console.py', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py', 'releasenotes/notes/bug-1842149-5ba20d57872e9996.yaml', 'lower-constraints.txt', 'nova/cmd/baseproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08bdcdb5b6866c2b6bf084344cca4dd07b960133', 'message': ""Allow TLS ciphers/protocols to be configurable for console proxies\n\nThe console proxies (VNC, SPICE, etc) currently don't allow the\nallowed TLS ciphers and protocol versions to be configurable.  This\nresults in the defaults being used from the underlying system,\nwhich may not be secure enough for many deployments.  This patch\nallows for the ciphers and minimum SSL/TLS protocol version for\neach console proxy to be configured in nova's config.\n\nWe utilize websockify underneath our console proxies, which added\nsupport for allowed ciphers and the SSL/TLS version to be\nconfigurable as of version 0.9.0.  This change updates the lower\nconstraint for this dependency.\n\nCloses-Bug: #1842149\nRelated-Bug: #1771773\nChange-Id: I23ac1cc79482d0fabb359486a4b934463854cae5\n""}]",69,679502,08bdcdb5b6866c2b6bf084344cca4dd07b960133,158,24,12,9098,,,0,"Allow TLS ciphers/protocols to be configurable for console proxies

The console proxies (VNC, SPICE, etc) currently don't allow the
allowed TLS ciphers and protocol versions to be configurable.  This
results in the defaults being used from the underlying system,
which may not be secure enough for many deployments.  This patch
allows for the ciphers and minimum SSL/TLS protocol version for
each console proxy to be configured in nova's config.

We utilize websockify underneath our console proxies, which added
support for allowed ciphers and the SSL/TLS version to be
configurable as of version 0.9.0.  This change updates the lower
constraint for this dependency.

Closes-Bug: #1842149
Related-Bug: #1771773
Change-Id: I23ac1cc79482d0fabb359486a4b934463854cae5
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/679502/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/novnc.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'doc/source/admin/remote-console-access.rst', 'lower-constraints.txt', 'nova/cmd/baseproxy.py']",5,4bad47f585d0dedb51120c1f3a0e97a05e5ac508,bug/1842149," ssl_ciphers=CONF.ssl_ciphers,",,9,2
openstack%2Fpython-cloudkittyclient~master~I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b,openstack/python-cloudkittyclient,master,I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:57:57.000000000,2020-08-18 20:55:12.000000000,2020-08-18 20:53:53.000000000,"[{'_account_id': 6476}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-04-18 16:57:57.000000000', 'files': ['cloudkittyclient/tests/unit/v1/test_hashmap.py', 'test-requirements.txt', 'cloudkittyclient/tests/utils.py', 'cloudkittyclient/tests/unit/v1/test_report_cli.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e69f9d54522446f53e029df53a7d17519e7fcc1b', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720979,e69f9d54522446f53e029df53a7d17519e7fcc1b,14,8,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I9bf0a8fbb7b4f22aa2f5b5ed0836d11cac27552b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/79/720979/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/tests/unit/v1/test_hashmap.py', 'test-requirements.txt', 'cloudkittyclient/tests/utils.py', 'cloudkittyclient/tests/unit/v1/test_report_cli.py']",4,e69f9d54522446f53e029df53a7d17519e7fcc1b,unittest.mock,from unittest import mock,import mock,4,4
openstack%2Freleases~master~I4bb86870fb7b565983c31d0181527593a4db6e93,openstack/releases,master,I4bb86870fb7b565983c31d0181527593a4db6e93,Release ironic-python-agent 6.3.0 for victoria,MERGED,2020-08-12 15:41:46.000000000,2020-08-18 20:39:39.000000000,2020-08-18 20:39:39.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-12 15:41:46.000000000', 'files': ['deliverables/victoria/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f838e8be541f237171ca2b6b8350519fce72b7ab', 'message': 'Release ironic-python-agent 6.3.0 for victoria\n\nChange-Id: I4bb86870fb7b565983c31d0181527593a4db6e93\n'}]",0,745925,f838e8be541f237171ca2b6b8350519fce72b7ab,10,5,1,23851,,,0,"Release ironic-python-agent 6.3.0 for victoria

Change-Id: I4bb86870fb7b565983c31d0181527593a4db6e93
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/745925/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-python-agent.yaml'],1,f838e8be541f237171ca2b6b8350519fce72b7ab,ipa-bugfix-630, - version: 6.3.0 projects: - repo: openstack/ironic-python-agent hash: c4a78862d31263e9fc1c8a740d3a4dd6cb63cf92 - name: bugfix/6.3 location: 6.3.0,,6,0
openstack%2Freleases~master~I3b592e363a3a85201c0913727f57b7798e6fcdf2,openstack/releases,master,I3b592e363a3a85201c0913727f57b7798e6fcdf2,Release ironic 15.2.0 for Victoria,MERGED,2020-08-13 08:33:03.000000000,2020-08-18 20:39:38.000000000,2020-08-18 20:39:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-13 08:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5f0cc686a7465981056ddcd80b020d67519c2827', 'message': 'Release ironic 15.2.0 for Victoria\n\nChange-Id: I3b592e363a3a85201c0913727f57b7798e6fcdf2\n'}, {'number': 2, 'created': '2020-08-13 15:07:10.000000000', 'files': ['deliverables/victoria/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a7789bc44266e062ab7f0b2f32fcc5dbc1be1d8', 'message': 'Release ironic 15.2.0 for Victoria\n\nChange-Id: I3b592e363a3a85201c0913727f57b7798e6fcdf2\n'}]",0,746023,1a7789bc44266e062ab7f0b2f32fcc5dbc1be1d8,13,5,2,23851,,,0,"Release ironic 15.2.0 for Victoria

Change-Id: I3b592e363a3a85201c0913727f57b7798e6fcdf2
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/746023/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic.yaml'],1,5f0cc686a7465981056ddcd80b020d67519c2827,ironic-bugfix-1520, - version: 15.2.0 projects: - repo: openstack/ironic hash: 47d4d1000882d4bb5ce371697da9756ea5fe2da9 - name: bugfix/15.2 location: 15.2.0,,6,0
openstack%2Fcloudkitty~stable%2Fstein~Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,openstack/cloudkitty,stable/stein,Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,"Use ""interface"" option for monasca endpoint discovery",MERGED,2020-03-16 10:49:29.000000000,2020-08-18 20:35:47.000000000,2020-08-18 20:34:08.000000000,"[{'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 15197}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-03-16 10:49:29.000000000', 'files': ['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f755c0a94b00488896a72ad6ddd7d2fa91ea4815', 'message': 'Use ""interface"" option for monasca endpoint discovery\n\nThe ""interface"" option was ignored for endpoint discovery. This was leading to\nunexpected behaviour.\n\nChange-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84\nStory: 2006694\nTask: 36994\n(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)\n'}]",0,713186,f755c0a94b00488896a72ad6ddd7d2fa91ea4815,9,9,1,15197,,,0,"Use ""interface"" option for monasca endpoint discovery

The ""interface"" option was ignored for endpoint discovery. This was leading to
unexpected behaviour.

Change-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84
Story: 2006694
Task: 36994
(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/86/713186/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py']",2,f755c0a94b00488896a72ad6ddd7d2fa91ea4815,story/2006694-stable/stein," self.ks_client = ks_client.Client( session=self.session, interface=CONF.collector_monasca.interface, )", self.ks_client = ks_client.Client(session=self.session),9,1
openstack%2Fcloudkitty~stable%2Ftrain~Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,openstack/cloudkitty,stable/train,Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,"Use ""interface"" option for monasca endpoint discovery",MERGED,2020-03-16 10:49:07.000000000,2020-08-18 20:35:47.000000000,2020-08-18 20:34:03.000000000,"[{'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-03-16 10:49:07.000000000', 'files': ['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0bee4f5a35f962402ebdbde46cf6b8742b18d3d5', 'message': 'Use ""interface"" option for monasca endpoint discovery\n\nThe ""interface"" option was ignored for endpoint discovery. This was leading to\nunexpected behaviour.\n\nChange-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84\nStory: 2006694\nTask: 36994\n(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)\n'}]",0,713185,0bee4f5a35f962402ebdbde46cf6b8742b18d3d5,11,10,1,15197,,,0,"Use ""interface"" option for monasca endpoint discovery

The ""interface"" option was ignored for endpoint discovery. This was leading to
unexpected behaviour.

Change-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84
Story: 2006694
Task: 36994
(cherry picked from commit cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/85/713185/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py']",2,0bee4f5a35f962402ebdbde46cf6b8742b18d3d5,story/2006694-stable/train," self.ks_client = ks_client.Client( session=self.session, interface=CONF.collector_monasca.interface, )", self.ks_client = ks_client.Client(session=self.session),9,1
openstack%2Fcloudkitty-tempest-plugin~master~Ib55ee338e788fe9c529bdc0f12bc91899d6c8618,openstack/cloudkitty-tempest-plugin,master,Ib55ee338e788fe9c529bdc0f12bc91899d6c8618,Add stable branch jobs on the plugins master gate,MERGED,2020-05-05 22:16:32.000000000,2020-08-18 20:29:59.000000000,2020-08-18 20:29:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-05 22:16:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/22a14659870b9286f136e12ebcd1eec781426572', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib55ee338e788fe9c529bdc0f12bc91899d6c8618\n'}]",0,725698,22a14659870b9286f136e12ebcd1eec781426572,7,3,1,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib55ee338e788fe9c529bdc0f12bc91899d6c8618
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/98/725698/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,22a14659870b9286f136e12ebcd1eec781426572,stable-testing-tempest-plugins, - cloudkitty-tempest-full-v2-storage-influxdb-ussuri - cloudkitty-tempest-full-v2-storage-influxdb-train - cloudkitty-tempest-full-v2-storage-influxdb-stein - job: name: cloudkitty-tempest-full-v2-storage-influxdb-ussuri parent: cloudkitty-tempest-full-v2-storage-influxdb override-checkout: stable/ussuri - job: name: cloudkitty-tempest-full-v2-storage-influxdb-train parent: cloudkitty-tempest-full-v2-storage-influxdb override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: cloudkitty-tempest-full-v2-storage-influxdb-stein parent: cloudkitty-tempest-full-v2-storage-influxdb override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,,24,0
openstack%2Fcloudkitty-specs~master~Ieeed99524a4de362392c90a872285a80c53c4b55,openstack/cloudkitty-specs,master,Ieeed99524a4de362392c90a872285a80c53c4b55,Fix pygments style,MERGED,2020-05-20 03:24:16.000000000,2020-08-18 20:21:44.000000000,2020-08-18 20:20:18.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-20 03:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/5ca2f29336be389d3128ef99d07503d20f5ca2c2', 'message': 'Fix pygments style\n\nChange-Id: Ieeed99524a4de362392c90a872285a80c53c4b55\n'}, {'number': 2, 'created': '2020-05-20 06:55:21.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/82c7083ac46b8144b213b2257088f7fb27b70433', 'message': 'Fix pygments style\n\nNew theme of docs (Victoria+) respects pygments_style.\nSince we starts using Victoria reqs while being on Ussuri,\nthis patch ensures proper rendering both in Ussuri and Victoria.\n\nChange-Id: Ieeed99524a4de362392c90a872285a80c53c4b55\n'}]",0,729502,82c7083ac46b8144b213b2257088f7fb27b70433,11,3,2,31446,,,0,"Fix pygments style

New theme of docs (Victoria+) respects pygments_style.
Since we starts using Victoria reqs while being on Ussuri,
this patch ensures proper rendering both in Ussuri and Victoria.

Change-Id: Ieeed99524a4de362392c90a872285a80c53c4b55
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/02/729502/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,5ca2f29336be389d3128ef99d07503d20f5ca2c2,,pygments_style = 'native',pygments_style = 'sphinx',1,1
openstack%2Fcloudkitty-tempest-plugin~master~Ia718139547f7435db3146fd8a9cb6f9a40185f52,openstack/cloudkitty-tempest-plugin,master,Ia718139547f7435db3146fd8a9cb6f9a40185f52,Remove .testr.conf,MERGED,2020-05-19 07:09:35.000000000,2020-08-18 20:19:19.000000000,2020-08-18 20:19:19.000000000,"[{'_account_id': 8556}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-19 07:09:35.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/cb676738caa2070907cbc4c372da9a335228a1c5', 'message': 'Remove .testr.conf\n\nThis commit removes .testr.conf since this repo already has\n.stestr.conf. We just need .stestr.conf instead of .testr.conf.\n\nChange-Id: Ia718139547f7435db3146fd8a9cb6f9a40185f52\n'}]",0,729143,cb676738caa2070907cbc4c372da9a335228a1c5,8,4,1,5689,,,0,"Remove .testr.conf

This commit removes .testr.conf since this repo already has
.stestr.conf. We just need .stestr.conf instead of .testr.conf.

Change-Id: Ia718139547f7435db3146fd8a9cb6f9a40185f52
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/43/729143/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,cb676738caa2070907cbc4c372da9a335228a1c5,rm-testrconf,,[DEFAULT] test_command=${PYTHON:-python} -m subunit.run discover -t ./ ./cloudkitty_tempest_plugin/tests $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list group_regex=gabbi\.(suitemaker|driver)\.(test_[^_]+_[^_]+) ,0,5
openstack%2Fcloudkitty-tempest-plugin~master~I60c05d6978ac8e230bc661abaaefeae6e9d2f364,openstack/cloudkitty-tempest-plugin,master,I60c05d6978ac8e230bc661abaaefeae6e9d2f364,Add py38 package metadata,MERGED,2020-05-28 03:29:50.000000000,2020-08-18 20:14:22.000000000,2020-08-18 20:14:22.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-05-28 03:29:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/071edd581a7bc5f6649b8eb38ed3ecefe445b7a9', 'message': 'Add py38 package metadata\n\nChange-Id: I60c05d6978ac8e230bc661abaaefeae6e9d2f364\n'}]",0,731399,071edd581a7bc5f6649b8eb38ed3ecefe445b7a9,8,4,1,27565,,,0,"Add py38 package metadata

Change-Id: I60c05d6978ac8e230bc661abaaefeae6e9d2f364
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/99/731399/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,071edd581a7bc5f6649b8eb38ed3ecefe445b7a9,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fcloudkitty-tempest-plugin~master~I5628be1786bc098232db44d0b74b1b2d0b828bbd,openstack/cloudkitty-tempest-plugin,master,I5628be1786bc098232db44d0b74b1b2d0b828bbd,migrate testing to ubuntu focal,MERGED,2020-07-09 20:19:09.000000000,2020-08-18 20:12:32.000000000,2020-08-18 20:12:32.000000000,"[{'_account_id': 8556}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2020-07-09 20:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/3e7c463e0dbf977ee0518332e0a1e58c955b7905', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40180\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I5628be1786bc098232db44d0b74b1b2d0b828bbd\n'}, {'number': 2, 'created': '2020-07-10 14:26:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/4ceb427d4f4c7645f368f7ac0c1b1443498344d8', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40180\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I5628be1786bc098232db44d0b74b1b2d0b828bbd\n'}]",0,740361,4ceb427d4f4c7645f368f7ac0c1b1443498344d8,10,6,2,8556,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40180

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I5628be1786bc098232db44d0b74b1b2d0b828bbd
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/61/740361/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3e7c463e0dbf977ee0518332e0a1e58c955b7905,migrate-to-focal,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,stable/ussuri,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-18 16:17:37.000000000,2020-08-18 20:04:49.000000000,2020-08-18 20:04:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-18 16:17:37.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9100bba48c419ef106c87b9f0b8c8f85f06be809', 'message': 'Iterate over all templates which need NW template migration.\n\nThere is a bug with the logic that takes care of migrating the\nNW templates from one version to another. As it is right now,\nit was only performing the NW template migration of the last\nfile it found a Net::SoftwareConfig in. Causing issues if\nmore than one template from overcloud_deploy script contained.\n\nThis patch loops over all the outputs from nic_config_envs and\nfor each match it will run the script to migrate the templates.\n\nChange-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8\n(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)\n'}]",0,746757,9100bba48c419ef106c87b9f0b8c8f85f06be809,7,2,1,6816,,,0,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
(cherry picked from commit b4e8adab423f1cd9c464cdd955704ea50aaf40a7)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/57/746757/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml']",2,9100bba48c419ef106c87b9f0b8c8f85f06be809,,"--- - name: set nic_config_env fact set_fact: nic_config_env: ""{{ item.item }}"" when: item.stdout|length > 0 - block: - name: register nic templates files defined in the environment file shell: | set -o pipefail awk -F': ' '/OS::TripleO::.*::Net::SoftwareConfig/ {print $2}' {{ nic_config_env }} register: nic_template_files - name: run parameters conversion script vars: relative_path: ""{{ '/'.join(nic_config_env.split('/')[0:-1]) + '/' + item }}"" nic_path: ""{{ (item[0] == '/')|ternary(item, relative_path) }}"" shell: | set -o pipefail NIC_ROLE_NAME=$( grep {{ item }} {{ nic_config_env }} | awk -F '::' '{ print $3 }' ); /usr/share/openstack-tripleo-heat-templates/tools/merge-new-params-nic-config-script.py \ --tht-dir {{ tht_directory }} \ --role-name $NIC_ROLE_NAME \ --roles-data {{ roles_data }} \ --discard-comments yes \ --template {{ nic_path }} when: - ""(item[0] == '/' and tht_directory not in item) or \ (item[0] != '/' and tht_directory not in '/'.join(nic_config_env.split('/')[0:-1]))"" loop: ""{{ nic_template_files.stdout_lines }}"" when: nic_config_env is defined ",,33,31
openstack%2Ftripleo-validations~master~I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124,openstack/tripleo-validations,master,I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124,Correct role name in generated playbook,MERGED,2020-08-05 11:15:18.000000000,2020-08-18 20:04:47.000000000,2020-08-18 20:04:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-05 11:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d1f2ef340229ee3df1a920a786b0f7adc34ae67', 'message': 'Correct role name in generated playbook\n\nChange-Id: I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124\n'}, {'number': 2, 'created': '2020-08-05 11:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4f12133cdd8f86488b9a8f9f831f3199e3905801', 'message': ""Correct role name in generated playbook\n\nAlso ensure we don't collect facts by default.\n\nChange-Id: I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124\n""}, {'number': 3, 'created': '2020-08-05 11:30:45.000000000', 'files': ['role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b6c8cf13a8f7d1e0097c84cc47a832c5d8ba61c', 'message': ""Correct role name in generated playbook\n\nAlso ensure we don't collect facts by default.\nAlso ensure we get the right name for the playbook itself.\n\nChange-Id: I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124\n""}]",0,744886,9b6c8cf13a8f7d1e0097c84cc47a832c5d8ba61c,12,5,3,28223,,,0,"Correct role name in generated playbook

Also ensure we don't collect facts by default.
Also ensure we get the right name for the playbook itself.

Change-Id: I1dfafed5ac75b0c52d6fd6ec48a43fbd4666c124
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/86/744886/2 && git format-patch -1 --stdout FETCH_HEAD,['role-addition.yml'],1,9d1f2ef340229ee3df1a920a786b0f7adc34ae67,correct-helper, {{ _role_name }}_debug: false roles: - {{ _role_name }}," {{ role_name | replace('-', '_') }}_debug: false roles: - {{ role_name }}",2,2
openstack%2Freleases~master~I218ebeb6a7659cc714c18720b35c8456c2f02bae,openstack/releases,master,I218ebeb6a7659cc714c18720b35c8456c2f02bae,Switch cloudkitty to cycle-with-rc,MERGED,2020-08-13 16:33:43.000000000,2020-08-18 19:54:40.000000000,2020-08-18 19:54:40.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 16:33:43.000000000', 'files': ['deliverables/victoria/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3dbcdcd3eea893bec79e44edff2f680ab18453bd', 'message': 'Switch cloudkitty to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\ncloudkitty only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: I218ebeb6a7659cc714c18720b35c8456c2f02bae\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746190,3dbcdcd3eea893bec79e44edff2f680ab18453bd,8,3,1,11904,,,0,"Switch cloudkitty to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
cloudkitty only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: I218ebeb6a7659cc714c18720b35c8456c2f02bae
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/746190/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cloudkitty.yaml'],1,3dbcdcd3eea893bec79e44edff2f680ab18453bd,victoria-cwi,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fmanila-tempest-plugin~master~I44f20a54fe7fdab821737e45db4cce1952720b60,openstack/manila-tempest-plugin,master,I44f20a54fe7fdab821737e45db4cce1952720b60,[WIP] test_over_subscription_free_space_reporting,NEW,2020-08-17 12:49:47.000000000,2020-08-18 19:28:49.000000000,,"[{'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-08-17 12:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0660a47c76c0ff6f920b423dd47447830667e88b', 'message': '[WIP] test_over_subscription_free_space_reporting\n\nChange-Id: I44f20a54fe7fdab821737e45db4cce1952720b60\n'}, {'number': 2, 'created': '2020-08-17 19:35:05.000000000', 'files': ['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bbe576ebdde36e33b387ee47105097ef4c5676f7', 'message': '[WIP] test_over_subscription_free_space_reporting\n\nChange-Id: I44f20a54fe7fdab821737e45db4cce1952720b60\n'}]",7,746494,bbe576ebdde36e33b387ee47105097ef4c5676f7,9,5,2,30025,,,0,"[WIP] test_over_subscription_free_space_reporting

Change-Id: I44f20a54fe7fdab821737e45db4cce1952720b60
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/94/746494/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py']",2,0660a47c76c0ff6f920b423dd47447830667e88b,thin," # def resource_setup(cls): # super(SharesActionsAdminTest, cls).resource_setup() # # cls.shares = [] # # # create share+ type for share filtering purposes # specs = {""storage_protocol"": CONF.share.capability_storage_protocol} # cls.share_type = cls._create_share_type(specs=specs) # cls.share_type_id = cls.share_type['id'] # # # create share # cls.share_name = data_utils.rand_name(""tempest-share-name"") # cls.share_desc = data_utils.rand_name(""tempest-share-description"") # cls.metadata = { # 'foo_key_share_1': 'foo_value_share_1', # 'bar_key_share_1': 'foo_value_share_1', # } # cls.shares.append(cls.create_share( # name=cls.share_name, # description=cls.share_desc, # metadata=cls.metadata, # share_type_id=cls.share_type_id, # )) # # if CONF.share.run_snapshot_tests: # # create snapshot # cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") # cls.snap_desc = data_utils.rand_name( # ""tempest-snapshot-description"") # cls.snap = cls.create_snapshot_wait_for_active( # cls.shares[0][""id""], cls.snap_name, cls.snap_desc) # # if CONF.share.capability_create_share_from_snapshot_support: # # # create second share from snapshot for purposes of sorting and # # snapshot filtering # cls.share_name2 = data_utils.rand_name(""tempest-share-name"") # cls.share_desc2 = data_utils.rand_name( # ""tempest-share-description"") # cls.metadata2 = { # 'foo_key_share_2': 'foo_value_share_2', # 'bar_key_share_2': 'foo_value_share_2', # } # cls.shares.append(cls.create_share( # name=cls.share_name2, # description=cls.share_desc2, # metadata=cls.metadata2, # snapshot_id=cls.snap['id'], # share_type_id=cls.share_type_id, # )) @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) # @testtools.skipUnless(CONF.share.thin_provisioned, # ""Thin provisioned is disabled."") def test_share_thin_provisioned(self): extra_specs = { 'netapp:thin_provisioned': 'True', 'netapp_disk_type': 'SAS', } extra_specs = self.add_extra_specs_to_dict(extra_specs=extra_specs) # create share_type st_name = data_utils.rand_name('share-type') st = self.create_share_type( name=st_name, extra_specs=extra_specs)['share_type'] # create share share = self.create_share( share_type_id=st['id'], share_protocol='nfs')"," def resource_setup(cls): super(SharesActionsAdminTest, cls).resource_setup() cls.shares = [] # create share type for share filtering purposes specs = {""storage_protocol"": CONF.share.capability_storage_protocol} cls.share_type = cls._create_share_type(specs=specs) cls.share_type_id = cls.share_type['id'] # create share cls.share_name = data_utils.rand_name(""tempest-share-name"") cls.share_desc = data_utils.rand_name(""tempest-share-description"") cls.metadata = { 'foo_key_share_1': 'foo_value_share_1', 'bar_key_share_1': 'foo_value_share_1', } cls.shares.append(cls.create_share( name=cls.share_name, description=cls.share_desc, metadata=cls.metadata, share_type_id=cls.share_type_id, )) if CONF.share.run_snapshot_tests: # create snapshot cls.snap_name = data_utils.rand_name(""tempest-snapshot-name"") cls.snap_desc = data_utils.rand_name( ""tempest-snapshot-description"") cls.snap = cls.create_snapshot_wait_for_active( cls.shares[0][""id""], cls.snap_name, cls.snap_desc) if CONF.share.capability_create_share_from_snapshot_support: # create second share from snapshot for purposes of sorting and # snapshot filtering cls.share_name2 = data_utils.rand_name(""tempest-share-name"") cls.share_desc2 = data_utils.rand_name( ""tempest-share-description"") cls.metadata2 = { 'foo_key_share_2': 'foo_value_share_2', 'bar_key_share_2': 'foo_value_share_2', } cls.shares.append(cls.create_share( name=cls.share_name2, description=cls.share_desc2, metadata=cls.metadata2, snapshot_id=cls.snap['id'], share_type_id=cls.share_type_id, ))",71,50
openstack%2Ftripleo-ci~master~Icdc41afbb212ff54d0f2ea3826bb213d48266d50,openstack/tripleo-ci,master,Icdc41afbb212ff54d0f2ea3826bb213d48266d50,"DNM, wes Separate required-projects and roles from base jobs",ABANDONED,2020-08-18 12:17:29.000000000,2020-08-18 19:27:29.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-18 12:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9e094f0275bb5f32be151965f25d3b887c6ebd5e', 'message': 'DNM, wes Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: Icdc41afbb212ff54d0f2ea3826bb213d48266d50\n'}, {'number': 2, 'created': '2020-08-18 18:38:33.000000000', 'files': ['zuul.d/build-containers.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1627ce7244c7ab223eb31659a89848f8318944a7', 'message': 'DNM, wes Separate required-projects and roles from base jobs\n\nKeep required-projects and roles in separate parent\njobs so they can be shadowed downstream.\n\nThis will allow downstream to override required-projects\nand roles while still parenting from upstream.\n\nChange-Id: Icdc41afbb212ff54d0f2ea3826bb213d48266d50\n'}]",0,746695,1627ce7244c7ab223eb31659a89848f8318944a7,5,3,2,9592,,,0,"DNM, wes Separate required-projects and roles from base jobs

Keep required-projects and roles in separate parent
jobs so they can be shadowed downstream.

This will allow downstream to override required-projects
and roles while still parenting from upstream.

Change-Id: Icdc41afbb212ff54d0f2ea3826bb213d48266d50
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/746695/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml']",3,9e094f0275bb5f32be151965f25d3b887c6ebd5e,, name: tripleo-ci-base-required-projects Base abstract job to add required-projects for tripleo-ci-base abstract: true - job: name: tripleo-ci-base # min version to use (needed for proper python interpreter detection) ansible-version: 2.8 abstract: true description: | Base abstract job for all TripleO CI zuulv3 jobs parent: tripleo-ci-base-required-projects timeout: 10800 post-timeout: 3600 vars: unbound_cache_min_ttl: 900 ara_generate_html: true bridge_name: br-ex bridge_address_prefix: 192.168.24 bridge_address_subnet: 24 bridge_address_offset: 2 bridge_mtu: 1350 nodeset: two-centos-7-nodes roles: - zuul: opendev.org/zuul/zuul-jobs - zuul: opendev.org/openstack/openstack-zuul-jobs name: tripleo-ci-base-required-projects-centos-8 description: | Base abstract job to add required-projects for tripleo-ci-base-centos-8 abstract: true parent: multinode required-projects: *required_projects - job: parent: tripleo-ci-base-required-projects-centos-8 name: tripleo-ci-base-standalone-required-projects-centos-8 Base abstract job providing required projects and roles for standalone centos-8 zuulv3 jobs - job: name: tripleo-ci-base-standalone-centos-8 abstract: true description: | Base abstract job for standalone TripleO CI centos-8 zuulv3 jobs parent: tripleo-ci-base-standalone-required-projects-centos-8 nodeset: single-centos-8-node name: tripleo-build-containers-base-noreposetup-required-projects abstract: true description: | Base job to provide required-projects for standalone TripleO CI build-containers jobs parent: tripleo-ci-base-singlenode roles: - zuul: opendev.org/openstack/ansible-role-container-registry - zuul: opendev.org/openstack/tripleo-ansible required-projects: - opendev.org/openstack/ansible-role-container-registry - opendev.org/openstack/kolla - opendev.org/openstack/python-tripleoclient - opendev.org/openstack/requirements - opendev.org/openstack/tripleo-ansible - opendev.org/openstack/tripleo-common - opendev.org/openstack/tripleo-repos - job: parent: tripleo-build-containers-base-noreposetup-required-projects - job: name: tripleo-build-containers-base-noreposetup-required-projects-centos-8 abstract: true description: | Base job to provide required projects for standalone TripleO CI centos-8 build-containers jobs parent: tripleo-ci-base-singlenode-centos-8 parent: tripleo-build-containers-base-noreposetup-required-projects-centos-8, name: tripleo-ci-base # min version to use (needed for proper python interpreter detection) ansible-version: 2.8 abstract: true Base abstract job for all TripleO CI zuulv3 jobs timeout: 10800 post-timeout: 3600 vars: unbound_cache_min_ttl: 900 ara_generate_html: true bridge_name: br-ex bridge_address_prefix: 192.168.24 bridge_address_subnet: 24 bridge_address_offset: 2 bridge_mtu: 1350 nodeset: two-centos-7-nodes roles: - zuul: opendev.org/zuul/zuul-jobs - zuul: opendev.org/openstack/openstack-zuul-jobs parent: multinode required-projects: *required_projects name: tripleo-ci-base-standalone-centos-8 Base abstract job for standalone TripleO CI centos-8 zuulv3 jobs nodeset: single-centos-8-node parent: tripleo-ci-base-singlenode parent: tripleo-ci-base-singlenode-centos-8 roles: - zuul: opendev.org/openstack/ansible-role-container-registry - zuul: opendev.org/openstack/tripleo-ansible required-projects: - opendev.org/openstack/ansible-role-container-registry - opendev.org/openstack/kolla - opendev.org/openstack/python-tripleoclient - opendev.org/openstack/requirements - opendev.org/openstack/tripleo-ansible - opendev.org/openstack/tripleo-common - opendev.org/openstack/tripleo-repos,80,41
openstack%2Foctavia~master~Ie5896e24bd58a13d22d3b34fc21238d8a4391f53,openstack/octavia,master,Ie5896e24bd58a13d22d3b34fc21238d8a4391f53,DNM: Checking on what CPUs we are ending up with,ABANDONED,2020-05-19 22:02:38.000000000,2020-08-18 18:45:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-19 22:02:38.000000000', 'files': ['octavia/cmd/agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6b2b3694c3ebef811db8e96e2917b5bb94ae73a4', 'message': 'DNM: Checking on what CPUs we are ending up with\n\nThis patch has the amphora agent log the cpuinfo from inside the\namphora instance. I want to know what CPU we end up with after the\nlayers of nested virtualization are done with us.\n\nChange-Id: Ie5896e24bd58a13d22d3b34fc21238d8a4391f53\n'}]",0,729409,6b2b3694c3ebef811db8e96e2917b5bb94ae73a4,3,1,1,11628,,,0,"DNM: Checking on what CPUs we are ending up with

This patch has the amphora agent log the cpuinfo from inside the
amphora instance. I want to know what CPU we end up with after the
layers of nested virtualization are done with us.

Change-Id: Ie5896e24bd58a13d22d3b34fc21238d8a4391f53
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/729409/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/cmd/agent.py'],1,6b2b3694c3ebef811db8e96e2917b5bb94ae73a4,,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) with open('/proc/cpuinfo', 'r') as file: cpuinfo = file.read() LOG.info(cpuinfo) ",,6,0
openstack%2Foctavia~master~I3511bc2cf1714be89322fa483640ef607a9bf435,openstack/octavia,master,I3511bc2cf1714be89322fa483640ef607a9bf435,DNM: Testing the impact of mitigations on the jobs,ABANDONED,2020-05-19 22:57:39.000000000,2020-08-18 18:45:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-19 22:57:39.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/811b8f800da534d9f623517471333bfa810afa34', 'message': 'DNM: Testing the impact of mitigations on the jobs\n\nThis patch adds kernel parameters to disable the CPU mitigations\nto get an idea of the impact they are having on our test runs.\n\nChange-Id: I3511bc2cf1714be89322fa483640ef607a9bf435\n'}]",0,729417,811b8f800da534d9f623517471333bfa810afa34,3,1,1,11628,,,0,"DNM: Testing the impact of mitigations on the jobs

This patch adds kernel parameters to disable the CPU mitigations
to get an idea of the impact they are having on our test runs.

Change-Id: I3511bc2cf1714be89322fa483640ef607a9bf435
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/729417/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,811b8f800da534d9f623517471333bfa810afa34,,"export DIB_BOOTLOADER_DEFAULT_CMDLINE=""nofb nomodeset vga=normal nopti nospectre_v2 spectre_v2_user=off spec_store_bypass_disable=off l1tf=off"" ",,2,0
openstack%2Fneutron-lbaas~stable%2Fqueens~I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1,openstack/neutron-lbaas,stable/queens,I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1,"Revert ""Updated ""create_pool"" method in plugin""",ABANDONED,2019-02-28 19:32:22.000000000,2020-08-18 18:45:13.000000000,,"[{'_account_id': 6469}, {'_account_id': 8064}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-28 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3133916cbcac5452c38e8171e4c0fe2d690e988b', 'message': 'Revert ""Updated ""create_pool"" method in plugin""\n\nThis reverts commit 00ed130cd74b41c1408ac60d9d9e528baee5b6cb.\n\nThis patch is causing failures on multiple drivers.\n\nChange-Id: I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1\n'}, {'number': 2, 'created': '2019-09-19 16:37:13.000000000', 'files': ['neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/tests/tempest/v2/api/base.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/a6bdb3f32da78fecda4c27c5dfdd6b0a0e19c6dd', 'message': 'Revert ""Updated ""create_pool"" method in plugin""\n\nThis reverts commit 00ed130cd74b41c1408ac60d9d9e528baee5b6cb.\n\nThis patch is causing failures on multiple drivers.\n\nChange-Id: I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1\n'}]",0,640175,a6bdb3f32da78fecda4c27c5dfdd6b0a0e19c6dd,14,6,2,11628,,,0,"Revert ""Updated ""create_pool"" method in plugin""

This reverts commit 00ed130cd74b41c1408ac60d9d9e528baee5b6cb.

This patch is causing failures on multiple drivers.

Change-Id: I6eab913c3af8354a4a10bf42d0cd58c2a5efebe1
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/75/640175/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/tests/tempest/v2/api/base.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py']",3,3133916cbcac5452c38e8171e4c0fe2d690e988b,story/2001962," context.session.refresh(pool_db.loadbalancer) return self.get_pool(context, pool_db.id)", context.session.flush() return data_models.Pool.from_sqlalchemy_model(pool_db),7,5
openstack%2Fpython-cloudkittyclient~stable%2Fussuri~I95b0ba3ad5efc5284417ff51bbac2cb5baaea248,openstack/python-cloudkittyclient,stable/ussuri,I95b0ba3ad5efc5284417ff51bbac2cb5baaea248,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 18:49:18.000000000,2020-08-18 18:43:48.000000000,2020-08-18 18:41:20.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-11 18:49:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/e90985ec4dcbefe742687bb6d78feb9644c46031', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I95b0ba3ad5efc5284417ff51bbac2cb5baaea248\n'}]",0,719261,e90985ec4dcbefe742687bb6d78feb9644c46031,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I95b0ba3ad5efc5284417ff51bbac2cb5baaea248
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/61/719261/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e90985ec4dcbefe742687bb6d78feb9644c46031,create-ussuri, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fpython-cloudkittyclient~stable%2Fussuri~I62e76909500fd442ebe9149107039d40ca163f65,openstack/python-cloudkittyclient,stable/ussuri,I62e76909500fd442ebe9149107039d40ca163f65,Update .gitreview for stable/ussuri,MERGED,2020-04-11 18:49:13.000000000,2020-08-18 18:42:42.000000000,2020-08-18 18:41:20.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-11 18:49:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/5b5e02f3d1408c45c7e10d4e45f41db0a1b95e19', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I62e76909500fd442ebe9149107039d40ca163f65\n'}]",0,719257,5b5e02f3d1408c45c7e10d4e45f41db0a1b95e19,9,4,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I62e76909500fd442ebe9149107039d40ca163f65
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/57/719257/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5b5e02f3d1408c45c7e10d4e45f41db0a1b95e19,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fpython-tripleoclient~master~Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,openstack/python-tripleoclient,master,Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e,Limit ip_version when resolving public_host and admin_host,MERGED,2020-08-18 08:13:53.000000000,2020-08-18 18:40:54.000000000,2020-08-18 18:18:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 08:13:53.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fd42a85da98e356e85146a9afbec528584c600b', 'message': ""Limit ip_version when resolving public_host and admin_host\n\nUse the the local_ip config option to filter results to a single\nip version when resolving public_host and admin_host to ip\naddresses.\n\nWhen nameservers return result for both IPv4 and IPv6 we currently\nfail, due to multiple IP's for the host.\n\nChange-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e\nRelated-Bug: #1763776\nRelated: RHBZ#1868910\n""}]",0,746656,1fd42a85da98e356e85146a9afbec528584c600b,11,4,1,24245,,,0,"Limit ip_version when resolving public_host and admin_host

Use the the local_ip config option to filter results to a single
ip version when resolving public_host and admin_host to ip
addresses.

When nameservers return result for both IPv4 and IPv6 we currently
fail, due to multiple IP's for the host.

Change-Id: Ic86dcea7abb5dbae31aa20fe91957e5e9a07f94e
Related-Bug: #1763776
Related: RHBZ#1868910
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/746656/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py']",2,1fd42a85da98e356e85146a9afbec528584c600b,RHBZ#1868910,"def get_single_ip(host, allow_loopback=False, ip_version=4): type = socket.AF_INET6 if ip_version == 6 else socket.AF_INET ips = get_host_ips(host, type=type)","def get_single_ip(host, allow_loopback=False): ips = get_host_ips(host)",11,7
openstack%2Fpython-neutronclient~stable%2Fussuri~I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,openstack/python-neutronclient,stable/ussuri,I76043ea43efe1c78ba9637876ed6a8b997b6d0ee,zuul: native Zuul v3 version of the grenade job,MERGED,2020-08-13 07:45:02.000000000,2020-08-18 18:35:26.000000000,2020-08-18 18:32:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 07:45:02.000000000', 'files': ['playbooks/legacy/grenade-dsvm-neutron-libs/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-libs/post.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c3ee486ca28fea107c8ff085715172d9e4e44c06', 'message': 'zuul: native Zuul v3 version of the grenade job\n\nAlso fix the name according the guidelines.\nThis job should really live inside neutron-lib.\n\nChange-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee\n(cherry picked from commit 097106d8fb557e85a93c696a8d64579034708f39)\n'}]",0,746012,c3ee486ca28fea107c8ff085715172d9e4e44c06,9,3,1,10459,,,0,"zuul: native Zuul v3 version of the grenade job

Also fix the name according the guidelines.
This job should really live inside neutron-lib.

Change-Id: I76043ea43efe1c78ba9637876ed6a8b997b6d0ee
(cherry picked from commit 097106d8fb557e85a93c696a8d64579034708f39)
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/12/746012/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-neutron-libs/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-libs/post.yaml']",3,c3ee486ca28fea107c8ff085715172d9e4e44c06,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,13,81
openstack%2Fpaunch~stable%2Fussuri~If23ee1b5b0211221c0dd547e95a0487ea8d04909,openstack/paunch,stable/ussuri,If23ee1b5b0211221c0dd547e95a0487ea8d04909,[USSURY-Only] Log benign command errors as warns,MERGED,2020-08-18 10:07:36.000000000,2020-08-18 18:25:08.000000000,2020-08-18 18:23:58.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-18 10:07:36.000000000', 'files': ['paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/861ed0612805c85fe84b9c836c32aaac3095ea38', 'message': '[USSURY-Only] Log benign command errors as warns\n\nErrors logged when an image/container was not found are misleading and\nshould become warnings instead. Only log errors for real execution\nfailures.\n\nChange-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,746677,861ed0612805c85fe84b9c836c32aaac3095ea38,9,6,1,6926,,,0,"[USSURY-Only] Log benign command errors as warns

Errors logged when an image/container was not found are misleading and
should become warnings instead. Only log errors for real execution
failures.

Change-Id: If23ee1b5b0211221c0dd547e95a0487ea8d04909
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/77/746677/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/runner.py', 'paunch/tests/test_builder_base.py']",2,861ed0612805c85fe84b9c836c32aaac3095ea38,," '--format', 'exists', 'centos:6'], mock.ANY, False, True '--format', 'exists', 'centos:7'], mock.ANY, False, True log=mock.ANY, quiet=False, warn_only=True log=mock.ANY, quiet=False, warn_only=True log=mock.ANY, quiet=False, warn_only=True '--format', 'exists', 'centos:7'], mock.ANY, False, True 'one'], mock.ANY, False, True), 'three'], mock.ANY, False, True), '--format', 'exists', 'centos:6'], mock.ANY, False, True '--format', 'exists', 'centos:7'], mock.ANY, False, True"," '--format', 'exists', 'centos:6'], mock.ANY, False '--format', 'exists', 'centos:7'], mock.ANY, False mock.ANY mock.ANY mock.ANY '--format', 'exists', 'centos:7'], mock.ANY, False 'one'], mock.ANY, False), 'three'], mock.ANY, False), '--format', 'exists', 'centos:6'], mock.ANY, False '--format', 'exists', 'centos:7'], mock.ANY, False",30,22
openstack%2Foctavia~master~I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b,openstack/octavia,master,I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b,Clarify the current status of Octavia in README,MERGED,2020-07-20 16:37:40.000000000,2020-08-18 18:23:21.000000000,2020-08-18 18:20:46.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 16:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/de9d34269f587ce27a9e92a5b17db411b02a2711', 'message': 'Clarify the current status of Octavia in README\n\nThere was some legacy (neutron-lbaas) language in the README.rst\nfile for Octavia. This patch updates that and highlights the API\nversion status documentation.\n\nChange-Id: I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b\n'}, {'number': 2, 'created': '2020-08-18 17:23:06.000000000', 'files': ['api-ref/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9097c575c05997586bf15c8f46750c74694f04cb', 'message': 'Clarify the current status of Octavia in README\n\nThere was some legacy (neutron-lbaas) language in the README.rst\nfile for Octavia. This patch updates that and highlights the API\nversion status documentation.\n\nChange-Id: I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b\n'}]",0,741988,9097c575c05997586bf15c8f46750c74694f04cb,14,4,2,11628,,,0,"Clarify the current status of Octavia in README

There was some legacy (neutron-lbaas) language in the README.rst
file for Octavia. This patch updates that and highlights the API
version status documentation.

Change-Id: I16bff7fc1a1359f8c34f4e154aa6dd29a5dd7a9b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/741988/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/index.rst', 'README.rst']",2,de9d34269f587ce27a9e92a5b17db411b02a2711,,"large OpenStack deployments. Octavia provides the load balancing API for OpenStack. It supports multiple ""provider drivers"" that implement load balancing, including the ""amphora"" reference driver included with Octavia.","large OpenStack deployments. It delivers load balancing services on `amphorae <https://docs.openstack.org/octavia/latest/reference/glossary.html>`_ and provides centralized command and control. Octavia is currently the reference backend for Neutron LBaaS. In the near future, Octavia is likely to become the standard OpenStack LBaaS API endpoint.",11,11
openstack%2Foctavia~master~I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,openstack/octavia,master,I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba,Set amphora-agent build-only packages,MERGED,2020-08-11 14:30:52.000000000,2020-08-18 18:22:01.000000000,2020-08-18 18:20:44.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 14:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/34885b6cab941507a5b3797e27c3f60ab540cad9', 'message': 'Set amphora-agent build-only packages\n\nA recent change in DIB [1] broke our CentOS 8 amphora image builds only\nbecause we\'ve not been handling package dependencies propertly.\n\nThe DIB change now installs package ""python3"" which provides\n/usr/bin/python3 and is a requirement of scripts in later build phases.\nIt so happens that we are removing package ""python3-pip"", a dependency\nof ""python36"" too early so builds fail when bin python3 is required.\n\nDIB package-installs element provides property ""build-only"". When set,\nit will cause packages to be added both to the list of packages\ninstalled and list of packages to be uninstalled. This allows expressing\nbuild-time dependencies that should not end up in the final image as is\nthe case of packages like ""build-essential"" and ""libffi-dev"" in our\namphora-agent element.\n\nAs for the removal of Git, we do not explicitely install it so we should\nnot uninstall it either. Git is a fake dependency of source-repositories\nelement and will be abstent in the final image with [2].\n\n[1] https://review.opendev.org/#/c/741868/\n[2] https://review.opendev.org/#/c/745678/\n\nDepends-On: https://review.opendev.org/#/c/745678/\n\nChange-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba\n'}, {'number': 2, 'created': '2020-08-11 15:21:42.000000000', 'files': ['elements/amphora-agent/package-installs.yaml', 'elements/amphora-agent/post-install.d/90-remove-build-deps'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2', 'message': 'Set amphora-agent build-only packages\n\nA recent change in DIB [1] broke our CentOS 8 amphora image builds only\nbecause we\'ve not been handling package dependencies propertly.\n\nThe DIB change now installs package ""python3"" which provides\n/usr/bin/python3 and is a requirement of scripts in later build phases.\nIt so happens that we are removing package ""python3-pip"", a dependency\nof ""python36"" too early so builds fail when bin python3 is required.\n\nDIB package-installs element provides property ""build-only"". When set,\nit will cause packages to be added both to the list of packages\ninstalled and list of packages to be uninstalled. This allows expressing\nbuild-time dependencies that should not end up in the final image as is\nthe case of packages like ""build-essential"" and ""libffi-dev"" in our\namphora-agent element.\n\nAs for the removal of Git, we do not explicitely install it so we should\nnot uninstall it either. Git is a fake dependency of source-repositories\nelement and will be abstent in the final image with [2].\n\n[1] https://review.opendev.org/#/c/741868/\n[2] https://review.opendev.org/#/c/745678/\n\nDepends-On: https://review.opendev.org/#/c/745678/\n\nChange-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba\n'}]",0,745683,fa1c5ef6dd15ce81c4a169307b7ab9970e9052d2,9,3,2,6469,,,0,"Set amphora-agent build-only packages

A recent change in DIB [1] broke our CentOS 8 amphora image builds only
because we've not been handling package dependencies propertly.

The DIB change now installs package ""python3"" which provides
/usr/bin/python3 and is a requirement of scripts in later build phases.
It so happens that we are removing package ""python3-pip"", a dependency
of ""python36"" too early so builds fail when bin python3 is required.

DIB package-installs element provides property ""build-only"". When set,
it will cause packages to be added both to the list of packages
installed and list of packages to be uninstalled. This allows expressing
build-time dependencies that should not end up in the final image as is
the case of packages like ""build-essential"" and ""libffi-dev"" in our
amphora-agent element.

As for the removal of Git, we do not explicitely install it so we should
not uninstall it either. Git is a fake dependency of source-repositories
element and will be abstent in the final image with [2].

[1] https://review.opendev.org/#/c/741868/
[2] https://review.opendev.org/#/c/745678/

Depends-On: https://review.opendev.org/#/c/745678/

Change-Id: I3b82180c8fcf2e2f053c6bcce405f1ea730f62ba
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/745683/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/package-installs.yaml', 'elements/amphora-agent/post-install.d/90-remove-build-deps']",2,34885b6cab941507a5b3797e27c3f60ab540cad9,, apt-get --assume-yes purge --auto-remove ${YUM} -v -y autoremove," apt-get --assume-yes purge --auto-remove build-essential libffi-dev libssl-dev python-dev python3-dev git ${YUM} -v -y autoremove automake make gcc gcc-c++ kernel-devel libffi-devel openssl-devel python-devel platform-python-devel python{2,3,}-pip git",6,6
openstack%2Frally-openstack~master~I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918,openstack/rally-openstack,master,I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918,Extend api_info section of env spec with pre_mitaka neutron cfg,MERGED,2020-08-17 14:48:00.000000000,2020-08-18 18:10:55.000000000,2020-08-18 18:10:54.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 14:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a58bd0466d35f5fdb1b4f2ab5efdd78abee6e86b', 'message': 'Extend api_info section of env spec with pre_mitaka neutron cfg\n\nChange-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918\n'}, {'number': 2, 'created': '2020-08-17 15:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1ac23c7107057218bb530f76a646e2193b776d80', 'message': 'Extend api_info section of env spec with pre_mitaka neutron cfg\n\nChange-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918\n'}, {'number': 3, 'created': '2020-08-17 15:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c7a02fab09fc575027aa132946ddf9d798e4a9f2', 'message': 'Extend api_info section of env spec with pre_mitaka neutron cfg\n\nChange-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918\n'}, {'number': 4, 'created': '2020-08-18 10:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f001a85ed8739c1425c04a5fff9acf475bc80f07', 'message': 'Extend api_info section of env spec with pre_mitaka neutron cfg\n\nChange-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918\n'}, {'number': 5, 'created': '2020-08-18 13:41:00.000000000', 'files': ['tests/unit/task/scenarios/neutron/test_network.py', 'rally_openstack/common/services/network/neutron.py', 'etc/rally/rally.conf.sample', 'tests/unit/task/scenarios/nova/test_servers.py', 'tests/unit/common/services/network/test_neutron.py', 'rally_openstack/common/cfg/neutron.py', 'tests/unit/task/scenarios/vm/test_utils.py', 'rally_openstack/environment/platforms/existing.py', 'CHANGELOG.rst', 'tests/unit/task/scenarios/neutron/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/57614a0d7e7815ce0b77a6b5e4ec97c3635d51f9', 'message': 'Extend api_info section of env spec with pre_mitaka neutron cfg\n\nChange-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918\n'}]",0,746522,57614a0d7e7815ce0b77a6b5e4ec97c3635d51f9,12,2,5,9545,,,0,"Extend api_info section of env spec with pre_mitaka neutron cfg

Change-Id: I9cf673fc63cc4e1f14bfc8def034e7b2b28c2918
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/22/746522/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/common/wrappers/network.py', 'etc/rally/rally.conf.sample', 'rally_openstack/common/services/network/neutron.py', 'tests/unit/common/services/network/test_neutron.py', 'rally_openstack/common/cfg/neutron.py', 'rally_openstack/environment/platforms/existing.py', 'CHANGELOG.rst', 'tests/unit/task/scenarios/neutron/test_utils.py']",8,a58bd0466d35f5fdb1b4f2ab5efdd78abee6e86b,neutron_pre_liberty, self._clients = mock.MagicMock(api_info={}), self._clients = mock.MagicMock(),151,39
openstack%2Fnova~master~Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81,openstack/nova,master,Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81,Remove six.reraise,MERGED,2020-05-11 16:23:25.000000000,2020-08-18 18:02:01.000000000,2020-08-18 17:58:21.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-11 16:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fa285ea95372a893bb3704cf0b9abd8148cfb07', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 2, 'created': '2020-05-12 11:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2b083c865ed7450f09ff0ba5343946c811967b8', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nDepends-On: https://review.opendev.org/#/c/727133/\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 3, 'created': '2020-05-12 13:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd99ce84a1d213406a51f17fa3b2de8098e38047', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 4, 'created': '2020-05-13 11:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39100e91ffeefd8d34db61a57b81db6a198746b6', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 5, 'created': '2020-05-16 04:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25180ce819f53231e48b27bc1c9288cadf53dc6d', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 6, 'created': '2020-05-19 11:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df6830d4369c074d10816b83a77ad589bf36a959', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 7, 'created': '2020-05-21 11:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cbf9ce2d9191029de886a2abd7a44eea707f7bf', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 8, 'created': '2020-05-30 04:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89e7896235335807157e30ba0a3e58e0d18c6fe1', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 9, 'created': '2020-06-03 03:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64b38ce270f371e9f77fdf43022469ee69ae6c45', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 10, 'created': '2020-06-07 12:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53b58f24e3c892046bd414135f5d3b67415188ff', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 11, 'created': '2020-06-13 04:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b180b9b5163dca5d524df2d2dce433fbcceb1e72', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 12, 'created': '2020-06-15 17:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85fe0c2af62541a8060ce9622d3f81f1a55951f4', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 13, 'created': '2020-06-17 08:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ab7f8a8705095d8dc419435652fe0bbe9f03fab', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 14, 'created': '2020-06-26 09:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0216c56a5a0d9aa351430e7ec522cc01b67b23bc', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 15, 'created': '2020-07-09 12:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aba839001cf7ccbc1e8f14e8bf39577f493d52d3', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 16, 'created': '2020-07-15 12:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7a75de52de03e1370352beaea5901c9a331613', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 17, 'created': '2020-07-16 01:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2337c7009f24875c68d2067131bb4bcb496569', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 18, 'created': '2020-07-18 14:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9e072b1bb09b43bf9b7f2eaf7eac17cfa2dd6f0', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 19, 'created': '2020-07-22 12:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ac49eb75649a7b05f9cd391a13a8ba5e8bf3c50', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 20, 'created': '2020-07-25 05:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ef2f8a5be65cff96788e543dccef81738cee90f', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 21, 'created': '2020-08-08 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/199766c1d484c932062bc441bdfd8020bd7b0823', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 22, 'created': '2020-08-08 12:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25fc518ee0b43352cd2c6d3a6b5416b23901350', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 23, 'created': '2020-08-12 02:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c527952b2197b9861725331641de05190e07922', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 24, 'created': '2020-08-15 07:45:49.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/network/security_group_api.py', 'nova/volume/cinder.py', 'nova/test.py', 'nova/image/glance.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/api/metadata/vendordata_dynamic.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c074b9486ed8c2e1fd17b958bf4d2a26517509b', 'message': 'Remove six.reraise\n\nReplace six.reraise with Python 3 style code.\nSubsequent patches will replace other six usages.\n\nChange-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",16,726898,2c074b9486ed8c2e1fd17b958bf4d2a26517509b,256,15,24,7634,,,0,"Remove six.reraise

Replace six.reraise with Python 3 style code.
Subsequent patches will replace other six usages.

Change-Id: Ib129cb399d1521ad6d18fcf0b8ac9fd793888c81
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/726898/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/network/security_group_api.py', 'nova/volume/cinder.py', 'nova/test.py', 'nova/image/glance.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/api/metadata/vendordata_dynamic.py']",9,6fa285ea95372a893bb3704cf0b9abd8148cfb07,bp/six-removal, raise e.with_traceback(sys.exc_info()[2]),"import six six.reraise(type(e), e, sys.exc_info()[2])",43,34
openstack%2Fnova~master~Iccce0ab50eee515e533ab36c8e7adc10cb3f7019,openstack/nova,master,Iccce0ab50eee515e533ab36c8e7adc10cb3f7019,Remove six.PY2 and six.PY3,MERGED,2020-05-09 09:54:42.000000000,2020-08-18 18:00:22.000000000,2020-08-18 17:58:04.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-09 09:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1da1d077fd60086e101f3c7f7a21ff7baa35f88f', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 2, 'created': '2020-05-09 14:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dec45efa82c448ea58ef4bd5648eb7c93548b92', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 3, 'created': '2020-05-13 11:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbaad4b471a134e44ab655b8ccaba8281683c0e8', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 4, 'created': '2020-05-16 04:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd59f611d65480177fddec206a3323b37ed4b95b', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 5, 'created': '2020-05-19 10:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01e4a5c03afd3e1487224bd22dbf2ce74aa5cc62', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 6, 'created': '2020-05-21 10:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb6478dc2e6bb27be484969914f3b7bfb511ce69', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 7, 'created': '2020-05-30 04:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/733c4e33a16d6d0a4287b4842aea1833d52ad55d', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 8, 'created': '2020-06-03 03:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b2b6426b06b51fb8ca596c61e90978bb714b80e', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 9, 'created': '2020-06-07 12:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00e85dc165d7ac5f6e92c4f50afaf5ab60261e1a', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 10, 'created': '2020-06-13 04:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532ed73cd468f5124eda8055ff43f1fab303fe41', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 11, 'created': '2020-06-15 17:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c0efba234460d148ffd70b66c5ae455aed7d1b8', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 12, 'created': '2020-06-17 08:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ffaae3c5b4af98fd110ce65c4f95879f50136c8', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 13, 'created': '2020-06-26 09:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4783238996e97351df5f072168388e9898fd041d', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 14, 'created': '2020-07-09 12:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cd75030f585dc1222ef7120287de5534a7cabe2', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 15, 'created': '2020-07-15 12:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/259ef318246b998c52492c176591d4aaf6978d45', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 16, 'created': '2020-07-16 01:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a047dbc67fa94f687d7398a4d54f79ca9637c0a1', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 17, 'created': '2020-07-18 14:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35e74a0d4bcc09d0f29899e9045f749473694d7d', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 18, 'created': '2020-07-22 12:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5761b941947f9f3566382e367d7e01401cd86dca', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 19, 'created': '2020-07-25 05:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a433abfb461fcb9d2c8a18c9a6e17817d03b430f', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 20, 'created': '2020-08-08 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d525b34f97b9435012a596ca258998caff9a2e64', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 21, 'created': '2020-08-08 12:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a9911867a9b9689377f37f5b239641b08f0778e', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 22, 'created': '2020-08-12 02:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90b77cb67a66639bdfc5959edb7eacb21da11c63', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 23, 'created': '2020-08-15 07:45:23.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/test_api_validation.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/test_exception.py', 'nova/api/metadata/password.py', 'nova/console/websocketproxy.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/virt/xenapi/volume_utils.py', 'nova/tests/unit/test_crypto.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/availability_zones.py', 'nova/cmd/manage.py', 'nova/api/openstack/wsgi.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/test_wsgi.py', 'nova/api/openstack/urlmap.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/virt/hardware.py', 'nova/pci/stats.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28ed0c5c9a7572c002e520685bed60ccc706175b', 'message': 'Remove six.PY2 and six.PY3\n\nRemove six.PY2 and six.PY3.\nSubsequent patches will replace other six usages.\n\nChange-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",3,726512,28ed0c5c9a7572c002e520685bed60ccc706175b,271,16,23,7634,,,0,"Remove six.PY2 and six.PY3

Remove six.PY2 and six.PY3.
Subsequent patches will replace other six usages.

Change-Id: Iccce0ab50eee515e533ab36c8e7adc10cb3f7019
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/726512/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/test_api_validation.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/test_exception.py', 'nova/api/metadata/password.py', 'nova/console/websocketproxy.py', 'nova/crypto.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/test_server_tags.py', 'nova/virt/xenapi/volume_utils.py', 'nova/tests/unit/test_crypto.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/availability_zones.py', 'nova/cmd/manage.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/api/openstack/wsgi.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/test_wsgi.py', 'nova/api/openstack/urlmap.py', 'nova/hacking/checks.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/virt/hardware.py', 'nova/pci/stats.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",29,1da1d077fd60086e101f3c7f7a21ff7baa35f88f,bp/six-removal,,"import testtools @testtools.skipIf(not six.PY2, 'libvirt python3 bindings accept unicode') def test_migrate_v3_unicode(self): dest_xml_template = ""<domain type='qemu'><name>%s</name></domain>"" name = u'\u00CD\u00F1st\u00E1\u00F1c\u00E9' dest_xml = dest_xml_template % name expect_dest_xml = dest_xml_template % encodeutils.to_utf8(name) self.guest.migrate('an-uri', flags=1, migrate_uri='dest-uri', migrate_disks=[u""disk1"", u""disk2""], destination_xml=dest_xml, bandwidth=2) self.domain.migrateToURI3.assert_called_once_with( 'an-uri', flags=1, params={'migrate_uri': 'dest-uri', 'migrate_disks': ['disk1', 'disk2'], 'destination_xml': expect_dest_xml, 'bandwidth': 2}) ",65,227
openstack%2Fglance~master~I992a14abb7cb41e2472741bf08b93976d4320ace,openstack/glance,master,I992a14abb7cb41e2472741bf08b93976d4320ace,Functional reproducer for bug 1891352,MERGED,2020-08-12 16:53:06.000000000,2020-08-18 17:59:48.000000000,2020-08-18 17:58:27.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 16:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/676f2a33e8b54782754a2289bec2732977374f30', 'message': 'Functional reproducer for bug 1891352\n\nThis reproduces the behavior described in the referenced bug, showing\nthe behavior before the fix. This asserts the *broken* behavior and leaves\nexamples of what the asserts should be for the fix patch.\n\nPartial-Bug: #1891352\n\nChange-Id: I992a14abb7cb41e2472741bf08b93976d4320ace\n'}, {'number': 2, 'created': '2020-08-12 16:57:59.000000000', 'files': ['glance/tests/functional/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ec372377b1e69eb143e4d08b0041b8199459ee15', 'message': 'Functional reproducer for bug 1891352\n\nThis reproduces the behavior described in the referenced bug, showing\nthe behavior before the fix. This asserts the *broken* behavior and leaves\nexamples of what the asserts should be for the fix patch.\n\nPartial-Bug: #1891352\n\nChange-Id: I992a14abb7cb41e2472741bf08b93976d4320ace\n'}]",0,745932,ec372377b1e69eb143e4d08b0041b8199459ee15,11,4,2,4393,,,0,"Functional reproducer for bug 1891352

This reproduces the behavior described in the referenced bug, showing
the behavior before the fix. This asserts the *broken* behavior and leaves
examples of what the asserts should be for the fix patch.

Partial-Bug: #1891352

Change-Id: I992a14abb7cb41e2472741bf08b93976d4320ace
",git fetch https://review.opendev.org/openstack/glance refs/changes/32/745932/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v2/test_images.py'],1,676f2a33e8b54782754a2289bec2732977374f30,bug/1891352," fail_key = 'os_glance_failed_import' pend_key = 'os_glance_importing_to_stores' # NOTE(danms): This is bug #1891352, where a failed import when # all_stores_must_succeed=True will leave the failed store in the # importing list forever and never put it into the failed list. # When the bug is fixed, this is what should happen: # self.assertEqual('file3', jsonutils.loads(response.text)[fail_key]) # self.assertEqual('', jsonutils.loads(response.text)[pend_key]) # but until it is fixed, this asserts the *broken* behavior: self.assertEqual('', jsonutils.loads(response.text)[fail_key]) self.assertEqual('file3', jsonutils.loads(response.text)[pend_key])",,11,0
openstack%2Fnova~master~Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272,openstack/nova,master,Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272,Remove six.add_metaclass,MERGED,2020-05-10 03:10:53.000000000,2020-08-18 17:58:12.000000000,2020-08-18 17:58:12.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-10 03:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d9a95ca491ffb9348c5425a71f9bd4750f04e7c', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 2, 'created': '2020-05-13 11:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50058adc6f2207caaaa10a6306470e4f2864a2f5', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 3, 'created': '2020-05-16 04:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfe459c9b89abd40150d82781be3854a7f3cd2c8', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 4, 'created': '2020-05-19 10:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d9edb7f77a6cd7858c33316a815a8355c039bbf', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 5, 'created': '2020-05-21 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2a8b67aa214282a0bd562c7255afd60c71833c0', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 6, 'created': '2020-05-30 04:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d91f55eb70be5e1e9d9143fb02a61d8fda7b50e9', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 7, 'created': '2020-06-03 03:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2283d7c9969aca941954c39a74eb79aab655ca84', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 8, 'created': '2020-06-07 12:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/376926b1c3908dee6407b4b3f21cf613c96bc928', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 9, 'created': '2020-06-13 04:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e66c7daa8320ec4356b1df1f5a00a7aa69d497a9', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 10, 'created': '2020-06-15 17:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68291dde85a4f0095f7945aa6e0ef56602129675', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 11, 'created': '2020-06-17 08:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d7e2f2283816505480b54218e03d4f127c4b9f2', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 12, 'created': '2020-06-26 09:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef1fadd285c923047f16e3ca3dc319a4f5ca55cc', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 13, 'created': '2020-07-09 12:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9a9521445893e0fe8e8859d32a8a4a351294403', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 14, 'created': '2020-07-15 12:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f717819fe84c7da6533c108dfe58b395f7e7aa67', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 15, 'created': '2020-07-16 01:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e5e2b427e1d4471ae265b0e65cccc14093e9271', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 16, 'created': '2020-07-18 14:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05fd0f46b952f1297eb045269cfa797ec2bd71da', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 17, 'created': '2020-07-22 12:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84eb78a35f351ef7b2a89f3112c32b610406fa05', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 18, 'created': '2020-07-25 05:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd8d40986abcbf0ac3a8e42c4c86f5fcad1a079', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 19, 'created': '2020-08-08 12:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daeb1f75fa64a96112e687da5efd23d4b75267f0', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 20, 'created': '2020-08-08 12:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd71add088fc1202198ebab821378f577c8ef8cf', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 21, 'created': '2020-08-12 02:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e83fc4146385ca07071d76c6af06ad6d500bfcf4', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}, {'number': 22, 'created': '2020-08-15 07:45:39.000000000', 'files': ['nova/pci/devspec.py', 'nova/virt/libvirt/volume/fs.py', 'nova/scheduler/driver.py', 'nova/weights.py', 'nova/compute/multi_cell_list.py', 'nova/console/securityproxy/base.py', 'nova/api/openstack/wsgi.py', 'nova/virt/powervm/vif.py', 'nova/console/rfb/auth.py', 'nova/manager.py', 'nova/test.py', 'nova/conductor/tasks/base.py', 'nova/compute/monitors/base.py', 'nova/virt/libvirt/volume/remotefs.py', 'nova/virt/libvirt/imagebackend.py', 'nova/virt/powervm/disk/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5191b4f2f00018d0273bedbc55c8a88087a25871', 'message': 'Remove six.add_metaclass\n\nReplace six.add_metaclass with Python 3 style code.\n\nChange-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272\nImplements: blueprint six-removal\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,726565,5191b4f2f00018d0273bedbc55c8a88087a25871,339,16,22,7634,,,0,"Remove six.add_metaclass

Replace six.add_metaclass with Python 3 style code.

Change-Id: Ifc3f2bcb8fcdd2b555864bd4e22a973a7858c272
Implements: blueprint six-removal
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/726565/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/devspec.py', 'nova/virt/libvirt/volume/fs.py', 'nova/scheduler/driver.py', 'nova/weights.py', 'nova/compute/multi_cell_list.py', 'nova/console/securityproxy/base.py', 'nova/api/openstack/wsgi.py', 'nova/virt/powervm/vif.py', 'nova/console/rfb/auth.py', 'nova/manager.py', 'nova/test.py', 'nova/conductor/tasks/base.py', 'nova/compute/monitors/base.py', 'nova/virt/libvirt/volume/remotefs.py', 'nova/virt/libvirt/imagebackend.py', 'nova/virt/powervm/disk/driver.py']",16,2d9a95ca491ffb9348c5425a71f9bd4750f04e7c,bp/six-removal,class DiskAdapter(metaclass=abc.ABCMeta):,import six@six.add_metaclass(abc.ABCMeta) class DiskAdapter(object):,18,51
openstack%2Fansible-config_template~master~Ie0c588a2d559bd38c68b3d018e547a036d83214c,openstack/ansible-config_template,master,Ie0c588a2d559bd38c68b3d018e547a036d83214c,Fix section overrides when commented option persist,MERGED,2020-07-30 17:18:18.000000000,2020-08-18 17:43:16.000000000,2020-08-18 17:41:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-30 17:18:18.000000000', 'files': ['action/config_template.py', 'tests/files/test_comment_configs.ini.expected', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/ea07ed008fe896b8c9812bd14785dbfa4fca0679', 'message': 'Fix section overrides when commented option persist\n\nIn cases, when key already exist, but commented out without space\n(ie ""#key) and is not in default section, it\'s not updated with\nsectdict.insert statement. That is possible happens because\nself._sections keys are protected and can\'t be overwritten (at least\nnew assignment makes no difference)\n\nChange-Id: Ie0c588a2d559bd38c68b3d018e547a036d83214c\nCloses-Bug: #1889547\n'}]",0,744023,ea07ed008fe896b8c9812bd14785dbfa4fca0679,14,4,1,28619,,,0,"Fix section overrides when commented option persist

In cases, when key already exist, but commented out without space
(ie ""#key) and is not in default section, it's not updated with
sectdict.insert statement. That is possible happens because
self._sections keys are protected and can't be overwritten (at least
new assignment makes no difference)

Change-Id: Ie0c588a2d559bd38c68b3d018e547a036d83214c
Closes-Bug: #1889547
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/23/744023/1 && git format-patch -1 --stdout FETCH_HEAD,"['action/config_template.py', 'tests/files/test_comment_configs.ini.expected', 'tests/test.yml']",3,ea07ed008fe896b8c9812bd14785dbfa4fca0679,, SubSection: testop2: below 9000,,11,12
openstack%2Fpuppet-oslo~stable%2Fussuri~I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,openstack/puppet-oslo,stable/ussuri,I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,Remove release note file in wrong path,MERGED,2020-08-18 14:34:44.000000000,2020-08-18 17:27:02.000000000,2020-08-18 17:27:02.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 14:34:44.000000000', 'files': ['manifests/releasenotes/notes/rabbitmq-connection-params-1a8ace0c23e7249e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5fa0fca1bee859ff31357c7f0df50ee4d9b73145', 'message': 'Remove release note file in wrong path\n\nThis patch removes the release note file which was added into wrong\npath in an old commit[1].\nThe removed relesae note file is not added into releasenote directory\nto avoid confusion by a note associated with wrong release.\n\n[1] 0f617ce27a99260ee03627b1fbde461a687718dc\n\nChange-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d\n(cherry picked from commit 064edacff36d949ebdd304bd404a5fdcff1f8981)\n'}]",0,746739,5fa0fca1bee859ff31357c7f0df50ee4d9b73145,7,3,1,9816,,,0,"Remove release note file in wrong path

This patch removes the release note file which was added into wrong
path in an old commit[1].
The removed relesae note file is not added into releasenote directory
to avoid confusion by a note associated with wrong release.

[1] 0f617ce27a99260ee03627b1fbde461a687718dc

Change-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d
(cherry picked from commit 064edacff36d949ebdd304bd404a5fdcff1f8981)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/39/746739/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/releasenotes/notes/rabbitmq-connection-params-1a8ace0c23e7249e.yaml'],1,5fa0fca1bee859ff31357c7f0df50ee4d9b73145,trivial-stable/ussuri,,"--- deprecations: - The rabbitmq connection paramters have been deprecated in favor of transport_url which is provided by the oslo::messaging::default class. This affects, rabbit_host, rabbit_port, rabbit_hosts, rabbit_userid, rabbit_password and rabbit_virtual_host. ",0,6
openstack%2Ftrove~stable%2Fussuri~I81273f2be8379a908cc88f7b469f8bd5246d3a33,openstack/trove,stable/ussuri,I81273f2be8379a908cc88f7b469f8bd5246d3a33,Update OpenSSL encrypt/decrypt cmd for backup/restore,NEW,2020-08-01 09:52:01.000000000,2020-08-18 17:18:37.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 09:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0f5e32c2b7fa72cf4d448109e17f184d557933a8', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nCloses-Bug: #39966\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 2, 'created': '2020-08-01 10:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ef68d97e3a9652180c6737bba126beeb5eddcd7b', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nCloses-Bug: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 3, 'created': '2020-08-01 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/34c8c089b7ad2a1c0d6f56b0de57fa42188ed983', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 4, 'created': '2020-08-02 04:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/384407125b37db5e3b5f9bea80e194d365a1371d', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 5, 'created': '2020-08-02 06:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4cdecc905d76b4d156d139964e56e19a111a52b7', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 6, 'created': '2020-08-02 09:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c0a7fd147642d96eb01c8afb98e24cd7183a968f', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 7, 'created': '2020-08-02 12:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bbba189fac990683a9aa8e05a5be148796a7cae6', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}, {'number': 8, 'created': '2020-08-02 18:15:28.000000000', 'files': ['trove/guestagent/strategies/restore/base.py', 'trove/tests/unittests/backup/test_backupagent.py', 'trove/tests/unittests/guestagent/test_backups.py', 'trove/guestagent/strategies/backup/base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c7ac01a1744f11d69f413bdf28d76b3a9419b661', 'message': 'Update OpenSSL encrypt/decrypt cmd for backup/restore\n\nUpdate Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.\n\nStory: #2007758\nChange-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33\n'}]",4,744281,c7ac01a1744f11d69f413bdf28d76b3a9419b661,17,2,8,32261,,,0,"Update OpenSSL encrypt/decrypt cmd for backup/restore

Update Openssl (Openssl 1.1.1, Ubuntu 18.04) encrypt/decrypt cmd for backup/restore.

Story: #2007758
Change-Id: I81273f2be8379a908cc88f7b469f8bd5246d3a33
",git fetch https://review.opendev.org/openstack/trove refs/changes/81/744281/7 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/strategies/restore/base.py', 'trove/guestagent/strategies/backup/base.py']",2,0f5e32c2b7fa72cf4d448109e17f184d557933a8,Story: 2007758, return (' | openssl enc -aes-256-cbc -salt -pass pass:%s -pbkdf2 -iter 1000000' %, return (' | openssl enc -aes-256-cbc -salt -pass pass:%s' %,2,2
openstack%2Fneutron~master~I6544d4a0794944abb3e1c2ff89134bf313cf35e8,openstack/neutron,master,I6544d4a0794944abb3e1c2ff89134bf313cf35e8,Allow RBAC on Neutron quotas,MERGED,2017-09-26 09:25:34.000000000,2020-08-18 16:59:51.000000000,2020-08-18 16:57:41.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1998}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9061}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12932}, {'_account_id': 15752}, {'_account_id': 16034}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22072}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27193}]","[{'number': 1, 'created': '2017-09-26 09:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/072ad36cd1a712ed9424bd11dfcbe67f63d75a18', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 2, 'created': '2017-11-03 10:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b5d9a8d5fd174b8cd919be4438658804b09a852', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 3, 'created': '2018-12-10 19:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b66333163f8aae04de1d4aecd6e4a2072859ec2c', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 4, 'created': '2018-12-10 21:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d5b1b5f7cdab2402256ea176ae3f68ee685a26c', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 5, 'created': '2018-12-10 23:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b288e804b64b1c9c8d2996c8e71f0a42c9790ee3', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 6, 'created': '2018-12-11 04:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b1ab74853e86bc0e8796cd135832dc59467eae9', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 7, 'created': '2019-12-20 09:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53629fe73346e78f7e16cf34d8c956e200dd649e', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 8, 'created': '2019-12-27 05:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/326b5e9139aa4bfeac04deb21e5bfaa6bb879231', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 9, 'created': '2020-07-20 18:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/048fb89a04eff9e1232d2ccf923ca78fc74c8e1f', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}, {'number': 10, 'created': '2020-07-20 18:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55f372ba7f6619a9a213adaf50da4e7ca65a45e', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nDepends-On: 740999\nCloses-Bug: #1671448\n'}, {'number': 11, 'created': '2020-07-20 18:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab105cc169915cc55b942a678fe8a5c544013480', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nDepends-On: https://review.opendev.org/#/c/740999/\nCloses-Bug: #1671448\n'}, {'number': 12, 'created': '2020-07-22 20:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2986641175e9d87403d3d31d52c40b6bf3966df', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nDepends-On: https://review.opendev.org/#/c/740999/\nCloses-Bug: #1671448\n'}, {'number': 13, 'created': '2020-07-23 01:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/186bb3460b11a139e23552aa0b6b31855acda740', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nDepends-On: https://review.opendev.org/#/c/740999/\nCloses-Bug: #1671448\n'}, {'number': 14, 'created': '2020-07-31 21:51:16.000000000', 'files': ['releasenotes/notes/bug-1671448-bfba96e42c7f2dbe.yaml', 'neutron/conf/policies/__init__.py', 'neutron/extensions/quotasv2.py', 'neutron/conf/policies/quotas.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9242f9a889f4d69653de4d21bec6060f549ee7b', 'message': 'Allow RBAC on Neutron quotas\n\nThis patch adds the support to allow role based access control\non quota of resources.\n\nChange-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8\nCloses-Bug: #1671448\n'}]",5,507446,c9242f9a889f4d69653de4d21bec6060f549ee7b,115,21,14,22072,,,0,"Allow RBAC on Neutron quotas

This patch adds the support to allow role based access control
on quota of resources.

Change-Id: I6544d4a0794944abb3e1c2ff89134bf313cf35e8
Closes-Bug: #1671448
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/507446/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/quotasv2.py', 'neutron/pecan_wsgi/controllers/quota.py']",2,072ad36cd1a712ed9424bd11dfcbe67f63d75a18,bug/1671448,"from neutron.extensions.quotasv2 import validate_policy validate_policy(neutron_context, ""get_quota"")"," def _check_admin(self, context, reason=_(""Only admin can view or configure quota"")): if not context.is_admin: raise n_exc.AdminRequired(reason=reason) self._check_admin(neutron_context)",22,21
openstack%2Fpuppet-openstack-integration~master~I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95,openstack/puppet-openstack-integration,master,I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95,Do not use keystone::cron::token_flush,MERGED,2020-08-18 11:04:40.000000000,2020-08-18 16:44:46.000000000,2020-08-18 16:44:46.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 11:04:40.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8039424c838e44030889a959af1b9996e852b208', 'message': 'Do not use keystone::cron::token_flush\n\n... because the class has been already deprecated[1].\n\n[1] fd8badd39c04ca49ca4c49a6ce7cef26349d3960\n\nChange-Id: I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95\n'}]",0,746685,8039424c838e44030889a959af1b9996e852b208,7,3,1,9816,,,0,"Do not use keystone::cron::token_flush

... because the class has been already deprecated[1].

[1] fd8badd39c04ca49ca4c49a6ce7cef26349d3960

Change-Id: I3141d8aeeb0a4b50daf8b7e4d5007d8bb0aedc95
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/746685/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,8039424c838e44030889a959af1b9996e852b208,keystone-token_flush,, class { 'keystone::cron::token_flush': },0,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I660b4f5bc3e0bd9ad59746df28837f39176c55af,openstack/puppet-openstack-integration,stable/ussuri,I660b4f5bc3e0bd9ad59746df28837f39176c55af,Use Ceph nautilus in CentOS8,MERGED,2020-08-18 12:57:25.000000000,2020-08-18 16:43:12.000000000,2020-08-18 16:43:12.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:57:25.000000000', 'files': ['zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8bf196d9ffe6abe1ed7bcdcb5d6ca3af4124edf2', 'message': 'Use Ceph nautilus in CentOS8\n\n... because there are no available builds of Ceph mimic for CentOS8,\nin RDO/CentOS repos.\n\nChange-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af\n(cherry picked from commit d04fb319e637eb5c1ca39132acb54f7b3c347330)\n'}]",0,746709,8bf196d9ffe6abe1ed7bcdcb5d6ca3af4124edf2,7,3,1,9816,,,0,"Use Ceph nautilus in CentOS8

... because there are no available builds of Ceph mimic for CentOS8,
in RDO/CentOS repos.

Change-Id: I660b4f5bc3e0bd9ad59746df28837f39176c55af
(cherry picked from commit d04fb319e637eb5c1ca39132acb54f7b3c347330)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/746709/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/integration.yaml'],1,8bf196d9ffe6abe1ed7bcdcb5d6ca3af4124edf2,centos8-beaker-stable/ussuri, vars: ceph: nautilus vars: ceph: nautilus vars: ceph: nautilus vars: ceph: nautilus,,8,0
openstack%2Fneutron~master~I7a158173252e73e081914f242133634c41de7999,openstack/neutron,master,I7a158173252e73e081914f242133634c41de7999,[ovn]: port forwarding -- feature support under ovn_db_sync,MERGED,2020-07-29 14:32:14.000000000,2020-08-18 16:40:02.000000000,2020-08-18 16:37:22.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-29 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ed7a4afb66b3356732367a6445bbb379e348880', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 2, 'created': '2020-07-30 21:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab1eeb7fa033f3dc67661d8ede20b84bf0c636de', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 3, 'created': '2020-07-30 22:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38153c78b597b50ad1c0a73c7bbf9177d57348cd', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 4, 'created': '2020-08-01 19:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/767d510cd5e927e4bcff75656e95e0a153b95f4e', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 5, 'created': '2020-08-04 21:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4cb823cdd587a1ca66e52adcdc511a6d77c84a1', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 6, 'created': '2020-08-05 09:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5210ff039008f3c1b46f013ff12a13bbc3533adb', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 7, 'created': '2020-08-06 20:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b5c0f1ebd7bcca17ca05936d994e05934c6d746', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 8, 'created': '2020-08-07 20:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a9b1af4b0ed9acb82d04b214749a26694e1a7f8', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 9, 'created': '2020-08-08 20:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bbfe2af0ed402786c7b10a3e231b9b31da87efa', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 10, 'created': '2020-08-09 11:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff0a75eef09cf43b507cdc36183e68f2100a5c03', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 11, 'created': '2020-08-10 13:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b24dfe5c955a8547a260bd554dcf2dd3f24bb932', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 12, 'created': '2020-08-10 14:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c27a85275176106f9945222c70f2d2e1fe7f175', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 13, 'created': '2020-08-12 16:09:29.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/361b4853180b84b1d8ba38a6967de4c254aacb0c', 'message': '[ovn]: port forwarding -- feature support under ovn_db_sync\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset updates ovn_db_sync utility and its tests to\nensure that floating ip port forwarding can be repaired.\n\nDepends-On: https://review.opendev.org/#/c/741303/\nChange-Id: I7a158173252e73e081914f242133634c41de7999\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}]",0,743772,361b4853180b84b1d8ba38a6967de4c254aacb0c,90,13,13,11952,,,0,"[ovn]: port forwarding -- feature support under ovn_db_sync

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset updates ovn_db_sync utility and its tests to
ensure that floating ip port forwarding can be repaired.

Depends-On: https://review.opendev.org/#/c/741303/
Change-Id: I7a158173252e73e081914f242133634c41de7999
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/743772/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py']",4,6ed7a4afb66b3356732367a6445bbb379e348880,ovn/port_forwarding," 'neutron.services.segments.plugin.Plugin', 'port_forwarding', ]", 'neutron.services.segments.plugin.Plugin'],234,4
openstack%2Fopenstack-helm-infra~master~Idd704fd880f56137923d4c38cc188b130ee3b56d,openstack/openstack-helm-infra,master,Idd704fd880f56137923d4c38cc188b130ee3b56d,Ingress: Configure Default SSL Certificate,MERGED,2020-08-14 14:27:58.000000000,2020-08-18 16:39:01.000000000,2020-08-18 16:36:39.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28719}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-08-14 14:27:58.000000000', 'files': ['ingress/templates/secret-ingress-tls.yaml', 'ingress/values.yaml', 'ingress/templates/bin/_ingress-controller.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/341e9b29dff9452105ee1443e6e47b6377c8db47', 'message': 'Ingress: Configure Default SSL Certificate\n\nAdds configuration options for the --default-ssl-certificate feature of\nNGINX Ingress Controller, which provides a default certificate for\nrequests that do not match any configured server names.[0]\n\nTo enable with a new certificate, specify:\n  .conf.default_ssl_certificate.enabled=true\n  .endpoints.ingress.host_fqdn_override.public.tls.crt=""PEM cert data""\n  .endpoints.ingress.host_fqdn_override.public.tls.key=""PEM key data""\n  .manifests.secret_ingress_tls=true\n\nTo enable using a TLS cert in an existing secret, specify:\n  .conf.default_ssl_certificate.enabled=true\n  .conf.default_ssl_certificate.name=""name of the secret""\n  .conf.default_ssl_certificate.namespace=""namespace of the secret""\n\n0: https://kubernetes.github.io/ingress-nginx/user-guide/tls/#default-ssl-certificate\n\nChange-Id: Idd704fd880f56137923d4c38cc188b130ee3b56d\n'}]",0,746326,341e9b29dff9452105ee1443e6e47b6377c8db47,11,7,1,28719,,,0,"Ingress: Configure Default SSL Certificate

Adds configuration options for the --default-ssl-certificate feature of
NGINX Ingress Controller, which provides a default certificate for
requests that do not match any configured server names.[0]

To enable with a new certificate, specify:
  .conf.default_ssl_certificate.enabled=true
  .endpoints.ingress.host_fqdn_override.public.tls.crt=""PEM cert data""
  .endpoints.ingress.host_fqdn_override.public.tls.key=""PEM key data""
  .manifests.secret_ingress_tls=true

To enable using a TLS cert in an existing secret, specify:
  .conf.default_ssl_certificate.enabled=true
  .conf.default_ssl_certificate.name=""name of the secret""
  .conf.default_ssl_certificate.namespace=""namespace of the secret""

0: https://kubernetes.github.io/ingress-nginx/user-guide/tls/#default-ssl-certificate

Change-Id: Idd704fd880f56137923d4c38cc188b130ee3b56d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/746326/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/secret-ingress-tls.yaml', 'ingress/values.yaml', 'ingress/templates/bin/_ingress-controller.sh.tpl']",3,341e9b29dff9452105ee1443e6e47b6377c8db47,, {{- if .Values.conf.default_ssl_certificate.enabled }} {{- $ns := .Values.conf.default_ssl_certificate.namespace | default .Release.Namespace }} {{- $secret := .Values.conf.default_ssl_certificate.name | default .Values.secrets.tls.ingress.api.public }} --default-ssl-certificate={{ $ns }}/{{ $secret }} \ {{- end }},,55,0
openstack%2Ftripleo-ci~master~I51c948fbdfa65cb74859165c87793ed5b2a5b8ce,openstack/tripleo-ci,master,I51c948fbdfa65cb74859165c87793ed5b2a5b8ce,Add container excludes for rhos-16.2 builds,MERGED,2020-07-31 13:18:14.000000000,2020-08-18 16:31:14.000000000,2020-08-18 16:31:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-31 13:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4b0a50fe4ae4e9617fc63b091bd1d1ec9d893193', 'message': 'WIP: Add container excludes for rhos-16.2 builds\n\nKeeping the excludes the same as train.\n\nChange-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce\n'}, {'number': 2, 'created': '2020-08-04 17:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5849cb1203cf9ac13637d0b83a5a3335a9435dfc', 'message': 'WIP: Add container excludes for rhos-16.2 builds\n\nKeeping the excludes the same as train.\n\nChange-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce\n'}, {'number': 3, 'created': '2020-08-06 20:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6bc9c47d26c22615ee7d30ac244686a9894f35e3', 'message': 'Add container excludes for rhos-16.2 builds\n\nSince rhos-16.2 is a downstream train import, this\nreview puts the same excludes in rhos 16.2 container\nbuilds as are referenced in train.\n\nChange-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce\n'}, {'number': 4, 'created': '2020-08-17 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbace4f5bbf55cde9cce21ea909c1fc34803d346', 'message': 'Add container excludes for rhos-16.2 builds\n\nSince rhos-16.2 is a downstream train import, this\nreview puts the same excludes in rhos 16.2 container\nbuilds as are referenced in train.\n\nChange-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce\n'}, {'number': 5, 'created': '2020-08-18 07:53:43.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fad204da7a1e07d63d2cbc8daaa9b770d36b2bbf', 'message': 'Add container excludes for rhos-16.2 builds\n\nSince rhos-16.2 is a downstream train import, this\nreview puts the same excludes in rhos 16.2 container\nbuilds as are referenced in train.\n\nDepends-On: https://review.opendev.org/#/c/746633/\n\nChange-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce\n'}]",1,744166,fad204da7a1e07d63d2cbc8daaa9b770d36b2bbf,32,11,5,9976,,,0,"Add container excludes for rhos-16.2 builds

Since rhos-16.2 is a downstream train import, this
review puts the same excludes in rhos 16.2 container
builds as are referenced in train.

Depends-On: https://review.opendev.org/#/c/746633/

Change-Id: I51c948fbdfa65cb74859165c87793ed5b2a5b8ce
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/744166/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,4b0a50fe4ae4e9617fc63b091bd1d1ec9d893193,16.2, rhos-16.2: *exclude_containers,,1,0
openstack%2Fdevstack~stable%2Ftrain~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/train,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:32:43.000000000,2020-08-18 16:27:41.000000000,2020-08-18 16:25:58.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-19 20:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50bc1c4acd95a4eec3aa43bad4165d8afc9c145f', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}, {'number': 2, 'created': '2020-06-19 20:33:10.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d377574486f21b1ca2a67e31bcf359afab7c6263', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}]",0,737076,d377574486f21b1ca2a67e31bcf359afab7c6263,11,4,2,8556,,,0,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/737076/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst']",3,50bc1c4acd95a4eec3aa43bad4165d8afc9c145f,move-stackviz-role,"Generate stackviz report. Generate stackviz report using subunit and dstat data, using the stackviz archive embedded in test images. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. .. zuul:rolevar:: stage_dir :default: ""{{ ansible_user_dir }}"" The stage directory where the input data can be found and the output will be produced. .. zuul:rolevar:: zuul_work_dir :default: {{ devstack_base_dir }}/tempest Directory to work in. It has to be a fully qualified path. ",,95,0
openstack%2Fdevstack~stable%2Fstein~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/stein,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:33:25.000000000,2020-08-18 16:27:35.000000000,2020-08-18 16:25:59.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-19 20:33:25.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/db067935bc0142b5b257d1a2b806ae5202b84cc8', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}]",0,737077,db067935bc0142b5b257d1a2b806ae5202b84cc8,10,4,1,8556,,,0,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/737077/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst']",3,db067935bc0142b5b257d1a2b806ae5202b84cc8,move-stackviz-role,"Generate stackviz report. Generate stackviz report using subunit and dstat data, using the stackviz archive embedded in test images. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. .. zuul:rolevar:: stage_dir :default: ""{{ ansible_user_dir }}"" The stage directory where the input data can be found and the output will be produced. .. zuul:rolevar:: zuul_work_dir :default: {{ devstack_base_dir }}/tempest Directory to work in. It has to be a fully qualified path. ",,95,0
openstack%2Fopenstack-helm-infra~master~I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd,openstack/openstack-helm-infra,master,I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd,Remove remaining test pods before new test run,MERGED,2020-06-05 10:00:50.000000000,2020-08-18 16:22:26.000000000,2020-08-18 16:21:00.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30777}, {'_account_id': 31479}]","[{'number': 1, 'created': '2020-06-05 10:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5757704e83db951f4133285b91d6839617bcc0cc', 'message': 'Remove remaining test pods before new test run\n\nIf the test pod still exists, then the new test run\nfails with ERROR: pods ""abc-test"" already exists\n\nSo, Removing remaining test pods before new test run\n\nChange-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd\nCloses-Bug: #1882030\n'}, {'number': 2, 'created': '2020-06-05 10:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e279daa9b1cca5c76437a6eddc1f6f59ba6387d', 'message': 'Remove remaining test pods before new test run\n\nIf the test pod still exists, then the new test run\nfails with ERROR: pods ""abc-test"" already exists\n\nSo, Removing remaining test pods before new test run\n\nChange-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd\nCloses-Bug: #1882030\n'}, {'number': 3, 'created': '2020-06-12 12:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f47616e1ee80463b3d11e81270f66ea5cbac119c', 'message': 'Remove remaining test pods before new test run\n\nIf the test pod still exists, then the new test run\nfails with ERROR: pods ""abc-test"" already exists\n\nSo, Removing remaining test pods before new test run\n\nChange-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd\nCloses-Bug: #1882030\n'}, {'number': 4, 'created': '2020-08-13 18:13:02.000000000', 'files': ['tools/deployment/multinode/050-prometheus.sh', 'tools/deployment/federated-monitoring/090-grafana.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'tools/deployment/apparmor/100-fluentbit.sh', 'tools/deployment/multinode/045-mariadb.sh', 'tools/deployment/common/010-deploy-docker-registry.sh', 'tools/deployment/apparmor/090-elasticsearch.sh', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/keystone-auth/060-mariadb.sh', 'tools/deployment/osh-infra-monitoring/120-nagios.sh', 'tools/deployment/apparmor/030-mariadb.sh', 'tools/deployment/tenant-ceph/030-ceph.sh', 'tools/deployment/federated-monitoring/070-federated-prometheus.sh', 'tools/deployment/multinode/035-ceph-ns-activate.sh', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'tools/deployment/federated-monitoring/060-prometheus.sh', 'tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'tools/deployment/tenant-ceph/060-radosgw-openstack.sh', 'tools/deployment/multinode/100-grafana.sh', 'tools/deployment/osh-infra-monitoring/045-mariadb.sh', 'tools/deployment/osh-infra-monitoring/050-prometheus.sh', 'tools/deployment/apparmor/140-ceph-radosgateway.sh', 'tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh', 'tools/deployment/osh-infra-local-storage/040-prometheus.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'tools/deployment/apparmor/110-fluentd-daemonset.sh', 'tools/deployment/multinode/115-radosgw-osh-infra.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a57190fd8acc6ceaeb268aa3b544f1082345da3a', 'message': 'Remove remaining test pods before new test run\n\nIf the test pod still exists, then the new test run\nfails with ERROR: pods ""abc-test"" already exists\n\nSo, Removing remaining test pods before new test run\n\nChange-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd\nCloses-Bug: #1882030\n'}]",4,733802,a57190fd8acc6ceaeb268aa3b544f1082345da3a,17,8,4,31479,,,0,"Remove remaining test pods before new test run

If the test pod still exists, then the new test run
fails with ERROR: pods ""abc-test"" already exists

So, Removing remaining test pods before new test run

Change-Id: I3b3ed5ceaf420aa39a669b4a50a838ad154b1fdd
Closes-Bug: #1882030
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/02/733802/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/multinode/050-prometheus.sh', 'tools/deployment/federated-monitoring/090-grafana.sh', 'tools/deployment/multinode/120-elasticsearch.sh', 'tools/deployment/apparmor/100-fluentbit.sh', 'tools/deployment/multinode/045-mariadb.sh', 'tools/deployment/common/010-deploy-docker-registry.sh', 'tools/deployment/apparmor/090-elasticsearch.sh', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/tenant-ceph/040-tenant-ceph.sh', 'tools/deployment/keystone-auth/060-mariadb.sh', 'tools/deployment/osh-infra-monitoring/120-nagios.sh', 'tools/deployment/apparmor/030-mariadb.sh', 'tools/deployment/tenant-ceph/030-ceph.sh', 'tools/deployment/federated-monitoring/070-federated-prometheus.sh', 'tools/deployment/multinode/035-ceph-ns-activate.sh', 'tools/deployment/osh-infra-kafka/050-kafka.sh', 'tools/deployment/federated-monitoring/060-prometheus.sh', 'tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh', 'tools/deployment/tenant-ceph/045-tenant-ceph-ns-activate.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'tools/deployment/tenant-ceph/060-radosgw-openstack.sh', 'tools/deployment/multinode/100-grafana.sh', 'tools/deployment/osh-infra-monitoring/045-mariadb.sh', 'tools/deployment/osh-infra-monitoring/050-prometheus.sh', 'tools/deployment/apparmor/140-ceph-radosgateway.sh', 'tools/deployment/osh-infra-logging/030-radosgw-osh-infra.sh', 'tools/deployment/osh-infra-local-storage/040-prometheus.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'tools/deployment/apparmor/110-fluentd-daemonset.sh', 'tools/deployment/multinode/115-radosgw-osh-infra.sh']",31,5757704e83db951f4133285b91d6839617bcc0cc,,"# Delete the test pod if it still exists kubectl delete pods -l application=radosgw-osh-infra,release_group=radosgw-osh-infra,component=test --namespace=osh-infra --ignore-not-found",,75,1
openstack%2Fopenstack-ansible~stable%2Fussuri~Id219ccb227485ffaf4b2cad36e8100672137c1d7,openstack/openstack-ansible,stable/ussuri,Id219ccb227485ffaf4b2cad36e8100672137c1d7,Install required modules for utility env,MERGED,2020-08-14 20:51:02.000000000,2020-08-18 16:19:51.000000000,2020-08-18 16:17:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-14 20:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b3b6ec277e1974e0637075b169135c8483b2d1f1', 'message': ""Install required modules for utility env\n\nSince we delegate image uplaod to the utility venv, we also need to\nhave selinux package, otherwise file download and some of the operations\nmay fail\n\nAlso this installs python mysql binding as we're about to delegate\ndb_setup tasks to the utility venv.\n\nChange-Id: Id219ccb227485ffaf4b2cad36e8100672137c1d7\nNeeded-By:  https://review.opendev.org/739646\nNeeded-By: https://review.opendev.org/733443\n(cherry picked from commit 93c242c1bedb4446b093efad3e11ab9ecda860bf)\n""}, {'number': 2, 'created': '2020-08-14 20:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/22a4e4c94655d93ef7e1bd799e7159269f1b1c5b', 'message': ""Install required modules for utility env\n\nSince we delegate image uplaod to the utility venv, we also need to\nhave selinux package, otherwise file download and some of the operations\nmay fail\n\nAlso this installs python mysql binding as we're about to delegate\ndb_setup tasks to the utility venv.\n\nChange-Id: Id219ccb227485ffaf4b2cad36e8100672137c1d7\nNeeded-By: https://review.opendev.org/746302\n(cherry picked from commit 93c242c1bedb4446b093efad3e11ab9ecda860bf)\n""}, {'number': 3, 'created': '2020-08-14 22:41:26.000000000', 'files': ['playbooks/defaults/source_install.yml', 'inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31048d1d7fbb4929d089bc9edbb7f97b2f8430bf', 'message': 'Install required modules for utility env\n\nSince we delegate image uplaod to the utility venv, we also need to\nhave selinux package, otherwise file download and some of the operations\nmay fail\n\nChange-Id: Id219ccb227485ffaf4b2cad36e8100672137c1d7\nNeeded-By: https://review.opendev.org/746302\n(cherry picked from commit 93c242c1bedb4446b093efad3e11ab9ecda860bf)\n'}]",0,746348,31048d1d7fbb4929d089bc9edbb7f97b2f8430bf,26,3,3,25023,,,0,"Install required modules for utility env

Since we delegate image uplaod to the utility venv, we also need to
have selinux package, otherwise file download and some of the operations
may fail

Change-Id: Id219ccb227485ffaf4b2cad36e8100672137c1d7
Needed-By: https://review.opendev.org/746302
(cherry picked from commit 93c242c1bedb4446b093efad3e11ab9ecda860bf)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/48/746348/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/distro_install.yml', 'playbooks/defaults/source_install.yml', 'inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml']",4,b3b6ec277e1974e0637075b169135c8483b2d1f1,bind-to-mgmt-stable/ussuri," - name: Add EPEL repsitory block: - name: Download EPEL gpg keys get_url: url: ""{{ centos_epel_key | default('http://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-' ~ ansible_distribution_major_version) }}"" dest: /etc/pki/rpm-gpg register: _get_yum_keys until: _get_yum_keys is success retries: 5 delay: 2 - name: Install EPEL gpg keys rpm_key: key: ""/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-{{ ansible_distribution_major_version }}"" state: present - name: Install the EPEL repository yum_repository: name: epel-utility baseurl: ""{{ centos_epel_mirror | default('http://download.fedoraproject.org/pub/epel') ~ '/' ~ ansible_distribution_major_version ~ '/' ~ ansible_architecture }}"" description: 'Extra Packages for Enterprise Linux 7 - $basearch' gpgcheck: yes enabled: yes state: present includepkgs: 'python3-PyMySQL python36-PyMySQL' register: install_epel_repo until: install_epel_repo is success retries: 5 delay: 2 when: - install_method == ""distro"" - ansible_os_family | lower == 'redhat' - ansible_distribution_major_version is version('8', '<') ",,47,1
openstack%2Ftripleo-upgrade~master~I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,openstack/tripleo-upgrade,master,I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8,Iterate over all templates which need NW template migration.,MERGED,2020-08-17 13:32:32.000000000,2020-08-18 16:17:37.000000000,2020-08-18 15:20:07.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-08-17 13:32:32.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b4e8adab423f1cd9c464cdd955704ea50aaf40a7', 'message': 'Iterate over all templates which need NW template migration.\n\nThere is a bug with the logic that takes care of migrating the\nNW templates from one version to another. As it is right now,\nit was only performing the NW template migration of the last\nfile it found a Net::SoftwareConfig in. Causing issues if\nmore than one template from overcloud_deploy script contained.\n\nThis patch loops over all the outputs from nic_config_envs and\nfor each match it will run the script to migrate the templates.\n\nChange-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8\n'}]",0,746507,b4e8adab423f1cd9c464cdd955704ea50aaf40a7,8,5,1,26343,,,0,"Iterate over all templates which need NW template migration.

There is a bug with the logic that takes care of migrating the
NW templates from one version to another. As it is right now,
it was only performing the NW template migration of the last
file it found a Net::SoftwareConfig in. Causing issues if
more than one template from overcloud_deploy script contained.

This patch loops over all the outputs from nic_config_envs and
for each match it will run the script to migrate the templates.

Change-Id: I1456f55d18d9e87782e0f6d5232bdee7f8a85fb8
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/07/746507/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml']",2,b4e8adab423f1cd9c464cdd955704ea50aaf40a7,,"--- - name: set nic_config_env fact set_fact: nic_config_env: ""{{ item.item }}"" when: item.stdout|length > 0 - block: - name: register nic templates files defined in the environment file shell: | set -o pipefail awk -F': ' '/OS::TripleO::.*::Net::SoftwareConfig/ {print $2}' {{ nic_config_env }} register: nic_template_files - name: run parameters conversion script vars: relative_path: ""{{ '/'.join(nic_config_env.split('/')[0:-1]) + '/' + item }}"" nic_path: ""{{ (item[0] == '/')|ternary(item, relative_path) }}"" shell: | set -o pipefail NIC_ROLE_NAME=$( grep {{ item }} {{ nic_config_env }} | awk -F '::' '{ print $3 }' ); /usr/share/openstack-tripleo-heat-templates/tools/merge-new-params-nic-config-script.py \ --tht-dir {{ tht_directory }} \ --role-name $NIC_ROLE_NAME \ --roles-data {{ roles_data }} \ --discard-comments yes \ --template {{ nic_path }} when: - ""(item[0] == '/' and tht_directory not in item) or \ (item[0] != '/' and tht_directory not in '/'.join(nic_config_env.split('/')[0:-1]))"" loop: ""{{ nic_template_files.stdout_lines }}"" when: nic_config_env is defined ",,33,31
openstack%2Ftripleo-ansible~stable%2Ftrain~I2484fa536a5ed4d88df7662aa2d724e44acd3dd7,openstack/tripleo-ansible,stable/train,I2484fa536a5ed4d88df7662aa2d724e44acd3dd7,Install pytest-xdist<2.0.0 for c7 jobs,MERGED,2020-08-18 12:55:04.000000000,2020-08-18 16:11:30.000000000,2020-08-18 16:11:30.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 12:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8d7817934250494a5b8af96ffaaccb539ba5d6b', 'message': 'Install pytest-xdist<=2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist <= 2.0.0 fixes the issue.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-18 13:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e23d4b5811d00c0b2fa2dfe37e426ba364b5f36', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-08-18 13:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7c464c4300cce8248132acd9bc417860b3e0d72', 'message': 'Install pytest-xdist<=2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist <= 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-08-18 13:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48e2c07dd2e97e7e6c61ac5c5564534d3569c474', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-08-18 14:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bba1304024a074a270b948813079ae4c2a48abd', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\nAdd mode 666.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-08-18 14:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e8ba749efe560676b42b84634b77c24d84bc48a', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\nAdd mode 666.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-08-18 14:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1e9475e3463854b78adfe41f07507d9fdfe28c66', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\nAdd mode 0644.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-08-18 15:34:48.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9147d636d6dff5eb9b1662f220f60755b4e6260e', 'message': 'Install pytest-xdist<2.0.0 for c7 jobs\n\npytest-xdist 2.0.0 is released recently and which pulls psutils\nwhich is failed to install on C7.\nhttps://pypi.org/project/pytest-xdist/2.0.0/\n\nInstalling pytest-xdist < 2.0.0 fixes the issue.\n\nIt also fixes the package name of tripleo-repos.\nAdd mode 0644.\n\nChange-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,746706,9147d636d6dff5eb9b1662f220f60755b4e6260e,25,7,8,12393,,,0,"Install pytest-xdist<2.0.0 for c7 jobs

pytest-xdist 2.0.0 is released recently and which pulls psutils
which is failed to install on C7.
https://pypi.org/project/pytest-xdist/2.0.0/

Installing pytest-xdist < 2.0.0 fixes the issue.

It also fixes the package name of tripleo-repos.
Add mode 0644.

Change-Id: I2484fa536a5ed4d88df7662aa2d724e44acd3dd7
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/746706/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,c8d7817934250494a5b8af96ffaaccb539ba5d6b,fixc7,pytest-xdist<=2.0.0,pytest-xdist,1,1
openstack%2Fdevstack~stable%2Fussuri~I0ba1fd05c6391cd8bb978119ecfbb891def2d497,openstack/devstack,stable/ussuri,I0ba1fd05c6391cd8bb978119ecfbb891def2d497,Move process-stackviz role from Tempest to Devstack,MERGED,2020-06-19 20:32:32.000000000,2020-08-18 15:46:58.000000000,2020-08-18 15:45:04.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-19 20:32:32.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd083d519cb93f21a09deebeef7770f5fda80099', 'message': 'Move process-stackviz role from Tempest to Devstack\n\nprocess-stackviz role currently defined in Tempest repo[1] and used\nin tempest jobs. Issue with having it in branchless Tempest is that any\nfix in that role cannot be backported to older Tempest. Also stackviz is\nnot Tempest things it is only used by Tempest jobs.\n\nStackviz can be considered as a service similar to Tempest so inatlling it in\nDevstack side make sense. Also that will give us advantage to handle the\nbranch specific fixes or backpoting the fixes.\n\nThis can solve the current issues we are facing on rocky branch\n- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller\n\n[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz\n\nChange-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497\n'}]",0,737075,cd083d519cb93f21a09deebeef7770f5fda80099,11,4,1,8556,,,0,"Move process-stackviz role from Tempest to Devstack

process-stackviz role currently defined in Tempest repo[1] and used
in tempest jobs. Issue with having it in branchless Tempest is that any
fix in that role cannot be backported to older Tempest. Also stackviz is
not Tempest things it is only used by Tempest jobs.

Stackviz can be considered as a service similar to Tempest so inatlling it in
Devstack side make sense. Also that will give us advantage to handle the
branch specific fixes or backpoting the fixes.

This can solve the current issues we are facing on rocky branch
- https://zuul.opendev.org/t/openstack/build/c1e2da80537448bfb24331fb4198a931/console#4/0/29/controller

[1] https://opendev.org/openstack/tempest/src/branch/master/roles/process-stackviz

Change-Id: I0ba1fd05c6391cd8bb978119ecfbb891def2d497
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/737075/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/process-stackviz/tasks/main.yaml', 'roles/process-stackviz/defaults/main.yaml', 'roles/process-stackviz/README.rst']",3,cd083d519cb93f21a09deebeef7770f5fda80099,move-stackviz-role,"Generate stackviz report. Generate stackviz report using subunit and dstat data, using the stackviz archive embedded in test images. **Role Variables** .. zuul:rolevar:: devstack_base_dir :default: /opt/stack The devstack base directory. .. zuul:rolevar:: stage_dir :default: ""{{ ansible_user_dir }}"" The stage directory where the input data can be found and the output will be produced. .. zuul:rolevar:: zuul_work_dir :default: {{ devstack_base_dir }}/tempest Directory to work in. It has to be a fully qualified path. ",,95,0
openstack%2Ftripleo-ansible~master~I5bced3b91e4fa3568185e2bbc85c0a000182394e,openstack/tripleo-ansible,master,I5bced3b91e4fa3568185e2bbc85c0a000182394e,Wait for node to be unlocked before provide,MERGED,2020-08-13 22:35:55.000000000,2020-08-18 15:38:23.000000000,2020-08-18 15:38:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32f673b8b73845be8ffa24e2988e3d33c0c79e6c', 'message': 'Wait for node to be unlocked before provide\n\nThis change reduces the risk of provide having a lock timeout by\nwaiting for existing node locks to be released before starting the\nprovide.\n\nAnsible based provide may not be affected by bug #1846791 because\npower-down happens after the provide, not before. However waiting for\nlocks to be released is recommended practice, and doing it here may\nimprove reliability.\n\nChange-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e\nCloses-Bug: #1846791\n'}, {'number': 2, 'created': '2020-08-17 20:33:03.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99b06ea3a2e419702349b5605572747dfe9131fd', 'message': 'Wait for node to be unlocked before provide\n\nThis change reduces the risk of provide having a lock timeout by\nwaiting for existing node locks to be released before starting the\nprovide.\n\nAnsible based provide may not be affected by bug #1846791 because\npower-down happens after the provide, not before. However waiting for\nlocks to be released is recommended practice, and doing it here may\nimprove reliability.\n\nChange-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e\nCloses-Bug: #1846791\n'}]",0,746234,99b06ea3a2e419702349b5605572747dfe9131fd,11,4,2,4571,,,0,"Wait for node to be unlocked before provide

This change reduces the risk of provide having a lock timeout by
waiting for existing node locks to be released before starting the
provide.

Ansible based provide may not be affected by bug #1846791 because
power-down happens after the provide, not before. However waiting for
locks to be released is recommended practice, and doing it here may
improve reliability.

Change-Id: I5bced3b91e4fa3568185e2bbc85c0a000182394e
Closes-Bug: #1846791
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/746234/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'],1,32f673b8b73845be8ffa24e2988e3d33c0c79e6c,bug/1846791,"def wait_for_unlocked(client, node, timeout): timeout_msg = 'Timeout waiting for node %s to be unlocked' % node for count in iterate_timeout(timeout, timeout_msg): node_info = client.get_node( node, fields=['reservation'] ).to_dict() if node_info['reservation'] is None: return timeout_msg = ('Timeout waiting for node %s to have bridge_mappings ' 'set in the ironic-neutron-agent entry' % node) wait_for_unlocked(client, node, node_timeout)", timeout_msg = ('Timeout waiting for node %(node) to have bridge_mappings ' 'set in the ironic-neutron-agent entry'),14,2
openstack%2Ftripleo-ci~master~I245a4dba477b42aedce419e45e726dec817cd572,openstack/tripleo-ci,master,I245a4dba477b42aedce419e45e726dec817cd572,Remove pprint from test-requirements.txt,MERGED,2020-08-18 05:59:14.000000000,2020-08-18 15:35:01.000000000,2020-08-18 15:35:01.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 05:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bb6ec800a696911fe93e50c3a4e2e30ecc7665d', 'message': '[DNM] pprint\n\nChange-Id: I245a4dba477b42aedce419e45e726dec817cd572\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-18 06:09:28.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/41aafa02d770d8bb0fad9f49f0a511650f3c7649', 'message': 'Remove pprint from test-requirements.txt\n\npprint is a python standard library shipped with the python\nitself. There is no package available on pypi and not used\nwithin tripleo-ci codebase. So removing it.\n\nIf third party deps is using it, it will be consumed from\nPython3 standard library.\n\nCloses-Bug: #1891971\n\nChange-Id: I245a4dba477b42aedce419e45e726dec817cd572\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,746633,41aafa02d770d8bb0fad9f49f0a511650f3c7649,9,4,2,12393,,,0,"Remove pprint from test-requirements.txt

pprint is a python standard library shipped with the python
itself. There is no package available on pypi and not used
within tripleo-ci codebase. So removing it.

If third party deps is using it, it will be consumed from
Python3 standard library.

Closes-Bug: #1891971

Change-Id: I245a4dba477b42aedce419e45e726dec817cd572
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/746633/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9bb6ec800a696911fe93e50c3a4e2e30ecc7665d,,,pprint,0,1
openstack%2Ftripleo-quickstart-extras~master~I367cf4b65300be8dca0190b9adeab549018d4a56,openstack/tripleo-quickstart-extras,master,I367cf4b65300be8dca0190b9adeab549018d4a56,Pass proper VIPs on Standalone,MERGED,2020-05-06 08:25:34.000000000,2020-08-18 15:19:20.000000000,2020-08-18 15:19:20.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-05-06 08:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17660e0f8d5d687180a32472df374a1620f19459', 'message': 'wip test standalone with separate vipfor ha\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 2, 'created': '2020-05-06 16:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/21d6ff3e6bfae9b2e86a2d66cdd96f622f3b58a7', 'message': 'wip test standalone\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 3, 'created': '2020-05-06 18:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/400dda33aea02237c58661734cc69504bd641148', 'message': 'wip test standalone\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 4, 'created': '2020-05-07 06:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d86e780b15d487fe5034f9430bb05b65046e82f', 'message': 'wip test standalone\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 5, 'created': '2020-05-07 14:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/148fa60284d4bbb1a94b4a31f2eff13728f8364b', 'message': 'wip test standalone\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 6, 'created': '2020-05-07 17:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/025400c367d1468d99d2ee4f1752b1764ad3d656', 'message': 'wip test standalone\n\nDepends-On: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n'}, {'number': 7, 'created': '2020-05-08 06:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ea2fe3820e924b7fdc4ff26bbc89baac9dea17e8', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 8, 'created': '2020-05-08 12:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0d106fcda59e8b176155e6fbb695d58fee897fe7', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 9, 'created': '2020-05-08 14:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6330d51865c269b3c07faf564591d65235094b95', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 10, 'created': '2020-05-09 14:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cbbe40393d0791fc3ab98a9cd9c7cc14222f5d63', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 11, 'created': '2020-05-13 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7d5d62bb975eb46fa77cfcbd7bfa7e48fe3c3d3d', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 12, 'created': '2020-05-18 08:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f032fb102876e8658e3898e15360aafb9e26196b', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 13, 'created': '2020-05-19 11:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f5f9a031687a6f9a4a6de9c9fbde919d6a2fe04', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 14, 'created': '2020-05-25 07:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c321aeef1fecb37ef6d35d3365a159daf326a385', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 15, 'created': '2020-05-26 20:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6b757a980ace678a173729e135a164bbc6684e5', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 16, 'created': '2020-06-15 08:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc347efff90f39fe77eaccd479bb48193286d8cb', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 17, 'created': '2020-06-16 12:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50ef5b7c7fee1e235434181a73035df78f59f021', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 18, 'created': '2020-06-22 06:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3af3832c7a3842e2b6c5043b50f5ad6ded65203', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 19, 'created': '2020-06-23 07:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c8ebf49ad988245633f99da6d3a228e8bc8e2afe', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 20, 'created': '2020-06-29 06:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1b4d7bece0ad72a81ddd1185e6a9aed3d27b9dbb', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 21, 'created': '2020-07-02 06:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd71dfc30e40a68167469ad6d08c2774b3fdae8c', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 22, 'created': '2020-07-04 07:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/138fa46682359f4ad713129f369f68b04288c43b', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 23, 'created': '2020-07-13 09:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/03d16159f89b0b2ab176ee7505ecbea86a325844', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 24, 'created': '2020-07-16 10:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6f741a2973050c7448e3f2f3af90dd1a54f20468', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 25, 'created': '2020-07-19 08:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d0b6dea4644cac8f59630b8f7518b4c122906f2e', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 26, 'created': '2020-08-04 13:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5651f353fc2354b32f02eced06d225343a58bbbb', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 27, 'created': '2020-08-04 13:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3dff7931277df7b9fda470ec61222c47595f29f', 'message': ""wip Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nDepends-On: I5b3b4b96a60c75826a24019932b368a9d2413385\nCloses-Bug: #1890288\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 28, 'created': '2020-08-04 17:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/92572832ed3a63f77437b9af9ee2bdc378445390', 'message': ""Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nRelated-Bug: #1890288\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 29, 'created': '2020-08-05 08:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6fadb4bfec55babce7d6ac28011c1acc41c1a813', 'message': ""Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nRelated-Bug: #1889395\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 30, 'created': '2020-08-05 10:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/22b81ba4f57b1818be1e93a029c8b5cc79e1625e', 'message': ""Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nRelated-Bug: #1889395\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}, {'number': 31, 'created': '2020-08-12 10:05:52.000000000', 'files': ['roles/standalone/tasks/main.yml', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63c1365d94b2246a0be8580026aff001e6d8fce8', 'message': ""Pass proper VIPs on Standalone\n\nWith HA being the default we should now specify the VIPs as well.\nThis way pacemaker will create the separate VIP and haproxy will listen\nto it and we won't have both haproxy and the service itself listening to\nthe same port on the same IP.\n\nNote: that we tried to make this work without creating a VIP at all and\nhaving haproxy's backend services listen to localhost only and leave\nhaproxy to listen on the standalone IP, but this quickly became\nimpossible to make it work due to how things are coded in a number\nof places (bootstrap hostname checks, pacemaker properties,etc.)\n\nRelated-Bug: #1889395\n\nChange-Id: I367cf4b65300be8dca0190b9adeab549018d4a56\n""}]",5,725782,63c1365d94b2246a0be8580026aff001e6d8fce8,158,14,31,20172,,,0,"Pass proper VIPs on Standalone

With HA being the default we should now specify the VIPs as well.
This way pacemaker will create the separate VIP and haproxy will listen
to it and we won't have both haproxy and the service itself listening to
the same port on the same IP.

Note: that we tried to make this work without creating a VIP at all and
having haproxy's backend services listen to localhost only and leave
haproxy to listen on the standalone IP, but this quickly became
impossible to make it work due to how things are coded in a number
of places (bootstrap hostname checks, pacemaker properties,etc.)

Related-Bug: #1889395

Change-Id: I367cf4b65300be8dca0190b9adeab549018d4a56
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/725782/25 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,17660e0f8d5d687180a32472df374a1620f19459,standalone-vip, AddVipsToEtcHosts: true ExtraConfig: apache_vip: 192.168.24.5 cloud_name_external: 192.168.24.2 controller_virtual_ip: 192.168.24.5 docker_registry_vip: 192.168.24.5 glance_api_vip: 192.168.24.5 haproxy_vip: 192.168.24.5 heat_api_vip: 192.168.24.5 ironic_api_vip: 192.168.24.5 ironic_inspector_vip: 192.168.24.5 keystone_admin_api_vip: 192.168.24.5 keystone_public_api_vip: 192.168.24.5 memcached_vip: 192.168.24.5 mistral_api_vip: 192.168.24.5 mysql_vip: 192.168.24.5 network_virtual_ips: { } neutron_api_vip: 192.168.24.5 nova_api_vip: 192.168.24.5 novajoin_vip: 192.168.24.5 oslo_messaging_notify_vip: 192.168.24.5 oslo_messaging_rpc_vip: 192.168.24.5 placement_vip: 192.168.24.5 public_virtual_ip: 192.168.24.2 swift_proxy_vip: 192.168.24.5 swift_storage_vip: 192.168.24.5 tripleo::haproxy::controller_virtual_ip: 192.168.24.5 tripleo::haproxy::public_virtual_ip: 192.168.24.2 tripleo::keepalived::controller_virtual_ip: 192.168.24.5 tripleo::keepalived::public_virtual_ip: 192.168.24.2 tripleo::keepalived::redis_virtual_ip: 192.168.24.5 tripleo::redis_notification::haproxy_monitor_ip: 192.168.24.5 zaqar_api_vip: 192.168.24.5,,34,0
openstack%2Ftripleo-heat-templates~master~I2663bc9154846cc4642c3a030be0c57df4f25e1b,openstack/tripleo-heat-templates,master,I2663bc9154846cc4642c3a030be0c57df4f25e1b,Use sensible defaults for novnc TLS minimum versions and ciphers,MERGED,2020-08-03 16:48:20.000000000,2020-08-18 15:19:20.000000000,2020-08-11 03:34:03.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9954}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 16:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7de0a965e87b41b3a05dccc031ac6fb581b4362', 'message': ""Use sensible defaults for novnc TLS minimum versions and ciphers\n\nWe recently introduced a change that allowed operators to pass novnc TLS\ncipher parameters to puppet-nova:\n\n  https://review.opendev.org/#/c/723920/10\n\nUnfortunately, the default values for NovaVNCProxySSLCiphers and\nNovaVNCProxySSLMinimumVersion conflict with puppet-nova and causes TLS-e\ndeployments to fail with the following error during the overcloud\ndeployment:\n\n  /var/log/containers/nova/nova-novncproxy.log:2020-08-03 04:45:41.120 8\n  ERROR nova oslo_config.cfg.ConfigFileValueError: Value for option\n  ssl_minimum_version from LocationInfo(location=<Locations.user: (4,\n  True)>, detail='/etc/nova/nova.conf') is not valid: Valid values are\n  [default, tlsv1_1, tlsv1_2, tlsv1_3], but found ''\n\nThis is because the values don't match what puppet-nova is expecting and\nit causes the containers to fail.\n\nThis commit attempts to add some resonable defaults in THT that align\nmore closely with the puppet-nova defaults.\n\nChange-Id: I2663bc9154846cc4642c3a030be0c57df4f25e1b\n""}, {'number': 2, 'created': '2020-08-03 18:20:36.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1d2ece7858bb03a00ee2412b8044e3ab34d7202', 'message': ""Use sensible defaults for novnc TLS minimum versions and ciphers\n\nWe recently introduced a change that allowed operators to pass novnc TLS\ncipher parameters to puppet-nova:\n\n  https://review.opendev.org/#/c/723920/10\n\nUnfortunately, the default values for NovaVNCProxySSLCiphers and\nNovaVNCProxySSLMinimumVersion conflict with puppet-nova and causes TLS-e\ndeployments to fail with the following error during the overcloud\ndeployment:\n\n  /var/log/containers/nova/nova-novncproxy.log:2020-08-03 04:45:41.120 8\n  ERROR nova oslo_config.cfg.ConfigFileValueError: Value for option\n  ssl_minimum_version from LocationInfo(location=<Locations.user: (4,\n  True)>, detail='/etc/nova/nova.conf') is not valid: Valid values are\n  [default, tlsv1_1, tlsv1_2, tlsv1_3], but found ''\n\nThis is because the values don't match what puppet-nova is expecting and\nit causes the containers to fail.\n\nThis commit attempts to add some resonable defaults in THT that align\nmore closely with the puppet-nova defaults. It also only sets the\nciphers if they're set by the end user.\n\nChange-Id: I2663bc9154846cc4642c3a030be0c57df4f25e1b\n""}]",4,744526,e1d2ece7858bb03a00ee2412b8044e3ab34d7202,19,10,2,5046,,,0,"Use sensible defaults for novnc TLS minimum versions and ciphers

We recently introduced a change that allowed operators to pass novnc TLS
cipher parameters to puppet-nova:

  https://review.opendev.org/#/c/723920/10

Unfortunately, the default values for NovaVNCProxySSLCiphers and
NovaVNCProxySSLMinimumVersion conflict with puppet-nova and causes TLS-e
deployments to fail with the following error during the overcloud
deployment:

  /var/log/containers/nova/nova-novncproxy.log:2020-08-03 04:45:41.120 8
  ERROR nova oslo_config.cfg.ConfigFileValueError: Value for option
  ssl_minimum_version from LocationInfo(location=<Locations.user: (4,
  True)>, detail='/etc/nova/nova.conf') is not valid: Valid values are
  [default, tlsv1_1, tlsv1_2, tlsv1_3], but found ''

This is because the values don't match what puppet-nova is expecting and
it causes the containers to fail.

This commit attempts to add some resonable defaults in THT that align
more closely with the puppet-nova defaults. It also only sets the
ciphers if they're set by the end user.

Change-Id: I2663bc9154846cc4642c3a030be0c57df4f25e1b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/744526/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,f7de0a965e87b41b3a05dccc031ac6fb581b4362,," default: nil default: 'default' - allowed_values: ['default', 'tlsv1_1', 'tlsv1_2', 'tlsv1_3']"," default: '' default: '' - allowed_values: ['', 'default', 'tlsv1_1', 'tlsv1_2', 'tlsv1_3']",3,3
openstack%2Fcinder~master~If4dfe5170f061ab2fa89b486ca1d09f5e719a679,openstack/cinder,master,If4dfe5170f061ab2fa89b486ca1d09f5e719a679,Fix dfs-sdk package name in extra reqs,MERGED,2020-05-08 11:08:27.000000000,2020-08-18 15:10:33.000000000,2020-08-18 02:36:39.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-08 11:08:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a32c1e1552f859a3e145043dea20ebb967471acc', 'message': 'Fix dfs-sdk package name in extra reqs\n\nThis was causing a requirements repo cleanup script to not recognize the\npackage was in use.\n\nAlso adds a few missed extra packages to the All extra section.\n\nChange-Id: If4dfe5170f061ab2fa89b486ca1d09f5e719a679\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,726336,a32c1e1552f859a3e145043dea20ebb967471acc,71,32,1,11904,,,0,"Fix dfs-sdk package name in extra reqs

This was causing a requirements repo cleanup script to not recognize the
package was in use.

Also adds a few missed extra packages to the All extra section.

Change-Id: If4dfe5170f061ab2fa89b486ca1d09f5e719a679
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/726336/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a32c1e1552f859a3e145043dea20ebb967471acc,extra-reqs, rsd-lib>=1.1.0 # Apache-2.0 dfs-sdk>=1.2.25 # Apache-2.0 dfs-sdk>=1.2.25 # Apache-2.0, dfs_sdk>=1.2.25 # Apache-2.0,3,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,openstack/tripleo-ansible,stable/ussuri,Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263,Create a role for network config,MERGED,2020-08-17 20:20:23.000000000,2020-08-18 14:52:26.000000000,2020-08-18 14:48:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-17 20:20:23.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_network_config/defaults/main.yml', 'doc/source/roles/role-tripleo_network_config.rst', 'tripleo_ansible/roles/tripleo_network_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/35a02bf184548b444fd5a70ef8f633fcb011e5b8', 'message': 'Create a role for network config\n\nPort the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role\nthat we can molecule test and improve.\n\nChange-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263\n(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)\n'}]",0,746597,35a02bf184548b444fd5a70ef8f633fcb011e5b8,9,5,1,3153,,,0,"Create a role for network config

Port the NetworkConfig logic out of THT/common/deploy-steps.j2 to a role
that we can molecule test and improve.

Change-Id: Iab1e98d4cc3eb53da5fe17cea418b1b555bb8263
(cherry picked from commit 8099218faaf79b171ebad5fc48e5727bc51d017c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/746597/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_network_config/defaults/main.yml', 'doc/source/roles/role-tripleo_network_config.rst', 'tripleo_ansible/roles/tripleo_network_config/meta/main.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml']",9,35a02bf184548b444fd5a70ef8f633fcb011e5b8,network-config-role-stable/ussuri,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Success network script block: - name: Temp network script file set_fact: dummy_network_script: /var/tmp/dummy_network_script.sh - name: Write out empty dummy network script delegate_to: localhost copy: dest: ""{{ dummy_network_script }}"" content: | #/bin/bash echo ""stderr"" >&2 exit 0 mode: '0755' - import_role: name: ""tripleo_network_config"" vars: tripleo_network_config_script_path: ""{{ dummy_network_script }}"" # skip service management in a container tripleo_network_config_manage_service: false - name: Check returncode file slurp: path: /var/lib/tripleo-config/os-net-config.returncode register: rc_file - name: returncode file value is debug: msg: ""{{ rc_file.content | b64decode }}"" - assert: that: - rc_file.content | b64decode | int == 0 always: - name: Remove dummy script become: true file: path: ""{{ dummy_network_script }}"" state: absent ignore_errors: true ",,372,1
openstack%2Fpuppet-tripleo~master~I6816d414409da3748b2e341ec05ebcad86ad8fd1,openstack/puppet-tripleo,master,I6816d414409da3748b2e341ec05ebcad86ad8fd1,Make sure python3-novaclient is installed before creating fence_compute,MERGED,2020-07-15 14:51:17.000000000,2020-08-18 14:46:59.000000000,2020-07-30 16:16:31.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-15 14:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e968ae7734c695b830b024f9b1c2af901d53c6a8', 'message': 'WIP DNM force novaclient\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n'}, {'number': 2, 'created': '2020-07-17 06:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6876c90b41514d7f415e86c82c3d5fec7a78636d', 'message': 'WIP DNM force novaclient\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n'}, {'number': 3, 'created': '2020-07-23 06:01:09.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c1e9447998c635a825529cff99b99ed13a4e89d7', 'message': 'Make sure python3-novaclient is installed before creating fence_compute\n\nThis has been observed during an IHA FFU process. Namely\nafter the OS upgrade by LEAPP the fence_compute resource will\nfail starting because python3-novaclient is not installed.\nNormally this is taken care of by rpm dependencies, but\nfence_compute is buggy and does not explicitely have that\ndep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)\n\nSo we need to make sure the package is installed before\ncreating the resource.\n\nTested this on four consecutive successful IHA FFU runs\nand it worked okay.\n\nRelated-Bug: #1888398\n\nChange-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1\n'}]",3,741231,c1e9447998c635a825529cff99b99ed13a4e89d7,21,9,3,20172,,,0,"Make sure python3-novaclient is installed before creating fence_compute

This has been observed during an IHA FFU process. Namely
after the OS upgrade by LEAPP the fence_compute resource will
fail starting because python3-novaclient is not installed.
Normally this is taken care of by rpm dependencies, but
fence_compute is buggy and does not explicitely have that
dep (https://bugzilla.redhat.com/show_bug.cgi?id=1857247)

So we need to make sure the package is installed before
creating the resource.

Tested this on four consecutive successful IHA FFU runs
and it worked okay.

Related-Bug: #1888398

Change-Id: I6816d414409da3748b2e341ec05ebcad86ad8fd1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/741231/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,e968ae7734c695b830b024f9b1c2af901d53c6a8,bug/1888398," if $enable_instanceha { if $pacemaker_master { include tripleo::profile::base::pacemaker::instance_ha } # Until https://bugzilla.redhat.com/show_bug.cgi?id=1857247 is fixed we # need to make sure the package is installed on the host. ensure_resource('package', 'python3-novaclient', { ensure => 'installed' }) Package<| name == 'python3-novaclient' |> -> Pcmk_stonith<| title == 'fence-nova' |>", if $enable_instanceha and $pacemaker_master { include tripleo::profile::base::pacemaker::instance_ha,8,2
openstack%2Fironic~stable%2Ftrain~I59bad3d8969cc8374d1436b91b32a21b38ca8d69,openstack/ironic,stable/train,I59bad3d8969cc8374d1436b91b32a21b38ca8d69,DRAC: Drives conversion from raid to jbod,MERGED,2020-06-29 20:55:30.000000000,2020-08-18 14:40:07.000000000,2020-08-18 14:37:41.000000000,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29405}]","[{'number': 1, 'created': '2020-06-29 20:55:30.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/idrac-drives-conversion-raid-to-jbod-de10755d1ec094ea.yaml', 'ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4f86d8e8b4ae8e6e75c83f396805910b4d6fac5', 'message': 'DRAC: Drives conversion from raid to jbod\n\nAdded physical drives conversion from RAID to JBOD\nmode after RAID delete_configuration cleaning step called\nin iDRAC driver.\n\nChange-Id: I59bad3d8969cc8374d1436b91b32a21b38ca8d69\nStory: 2006234\nTask: 35835\n(cherry picked from commit f772e86580505881bfa513904f8e79edae3f400b)\n'}]",1,738508,a4f86d8e8b4ae8e6e75c83f396805910b4d6fac5,14,7,1,21909,,,0,"DRAC: Drives conversion from raid to jbod

Added physical drives conversion from RAID to JBOD
mode after RAID delete_configuration cleaning step called
in iDRAC driver.

Change-Id: I59bad3d8969cc8374d1436b91b32a21b38ca8d69
Story: 2006234
Task: 35835
(cherry picked from commit f772e86580505881bfa513904f8e79edae3f400b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/738508/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/idrac-drives-conversion-raid-to-jbod-de10755d1ec094ea.yaml', 'ironic/drivers/modules/drac/raid.py']",3,a4f86d8e8b4ae8e6e75c83f396805910b4d6fac5,drives_conversion-stable/train," substep = node.driver_internal_info['raid_config_substep'] if substep == 'delete_foreign_config': foreign_drives = self._execute_foreign_drives(task, node) if foreign_drives is None: return self._convert_drives(task, node) elif substep == 'physical_disk_conversion': self._convert_drives(task, node) elif substep == 'completed': return None else: return _commit_to_controllers( substep='physical_disk_conversion') def _convert_drives(self, task, node): jbod = drac_constants.RaidStatus.jbod drives_results = _change_physical_disk_mode( node, mode=jbod) if drives_results is None: LOG.debug(""Controller does not support drives "" ""conversion on %(node_uuid)s"", {'node_uuid': node.uuid}) self._complete_raid_substep(task, node) "," if node.driver_internal_info['raid_config_substep'] == \ 'delete_foreign_config': self._execute_foreign_drives(task, node) elif node.driver_internal_info['raid_config_substep'] == \ 'completed': self._complete_raid_substep(task, node) else: _commit_to_controllers( substep='completed')",83,41
openstack%2Fpuppet-oslo~master~I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,openstack/puppet-oslo,master,I8ff8886b65a323a65dd0ff9d01066c82a4116f8d,Remove release note file in wrong path,MERGED,2020-08-14 00:22:20.000000000,2020-08-18 14:34:44.000000000,2020-08-17 17:08:51.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 00:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7734d3cfe0f4c5af061e818af35c2ef18b3501be', 'message': 'Remove release not file in wrong path\n\nThis patch removes the release note file which was added into wrong\npath[1].\nThe removed relesae note file is not added into releasenote directory\nto avoid confusion by a note associated with wrong release.\n\n[1] 0f617ce27a99260ee03627b1fbde461a687718dc\n\nChange-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d\n'}, {'number': 2, 'created': '2020-08-14 02:19:09.000000000', 'files': ['manifests/releasenotes/notes/rabbitmq-connection-params-1a8ace0c23e7249e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/064edacff36d949ebdd304bd404a5fdcff1f8981', 'message': 'Remove release note file in wrong path\n\nThis patch removes the release note file which was added into wrong\npath in an old commit[1].\nThe removed relesae note file is not added into releasenote directory\nto avoid confusion by a note associated with wrong release.\n\n[1] 0f617ce27a99260ee03627b1fbde461a687718dc\n\nChange-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d\n'}]",0,746248,064edacff36d949ebdd304bd404a5fdcff1f8981,10,3,2,9816,,,0,"Remove release note file in wrong path

This patch removes the release note file which was added into wrong
path in an old commit[1].
The removed relesae note file is not added into releasenote directory
to avoid confusion by a note associated with wrong release.

[1] 0f617ce27a99260ee03627b1fbde461a687718dc

Change-Id: I8ff8886b65a323a65dd0ff9d01066c82a4116f8d
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/48/746248/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/releasenotes/notes/rabbitmq-connection-params-1a8ace0c23e7249e.yaml'],1,7734d3cfe0f4c5af061e818af35c2ef18b3501be,trivial,,"--- deprecations: - The rabbitmq connection paramters have been deprecated in favor of transport_url which is provided by the oslo::messaging::default class. This affects, rabbit_host, rabbit_port, rabbit_hosts, rabbit_userid, rabbit_password and rabbit_virtual_host. ",0,6
openstack%2Fopenstack-ansible-os_neutron~master~Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,openstack/openstack-ansible-os_neutron,master,Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1,Make has_offline_migrations output predictable,MERGED,2020-08-17 13:07:00.000000000,2020-08-18 14:31:19.000000000,2020-08-18 14:29:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-17 13:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/19c3960c36ed20941e4a47ae8e5aecd2ed685c67', 'message': 'Make has_offline_migrations output predictable\n\nSince we parse neutron-db-manage has_offline_migrations for specific\nphrase in the output, we need to ensure that locale is correct.\nAs in case users locale is passed to the server (with SSH), this will\ncause task failure.\n\nChange-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1\n'}, {'number': 2, 'created': '2020-08-17 13:07:16.000000000', 'files': ['tasks/neutron_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/124dc769190bea27ca35e57d23615ba928a6af20', 'message': 'Make has_offline_migrations output predictable\n\nSince we parse neutron-db-manage has_offline_migrations for specific\nphrase in the output, we need to ensure that locale is correct.\nAs in case users locale is passed to the server (with SSH), this will\ncause task failure.\n\nChange-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1\n'}]",0,746496,124dc769190bea27ca35e57d23615ba928a6af20,10,3,2,28619,,,0,"Make has_offline_migrations output predictable

Since we parse neutron-db-manage has_offline_migrations for specific
phrase in the output, we need to ensure that locale is correct.
As in case users locale is passed to the server (with SSH), this will
cause task failure.

Change-Id: Iec7f1314a2e4fa4256d9b24d3ea927bd5479e7a1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/96/746496/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_db_setup.yml'],1,19c3960c36ed20941e4a47ae8e5aecd2ed685c67,, environment: LANGUAGE: en_US.UTF-8,,2,0
openstack%2Fbarbican~master~Ia96ab003d1651170f11ede1d9cbc3579639565b3,openstack/barbican,master,Ia96ab003d1651170f11ede1d9cbc3579639565b3,devstack: Honor SERVICE_PROTOCOL for endpoints,MERGED,2020-08-10 06:28:11.000000000,2020-08-18 14:30:28.000000000,2020-08-18 14:27:35.000000000,"[{'_account_id': 7973}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-08-10 06:28:11.000000000', 'files': ['devstack/lib/barbican', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/4b52ae7e543f7bb1fa082ffa71ed9532f70dbcc3', 'message': 'devstack: Honor SERVICE_PROTOCOL for endpoints\n\nWhen the tls-proxy service is enabled, all endpoints should be accessed\nvia https.\n\nChange-Id: Ia96ab003d1651170f11ede1d9cbc3579639565b3\n'}]",0,745480,4b52ae7e543f7bb1fa082ffa71ed9532f70dbcc3,9,4,1,13252,,,0,"devstack: Honor SERVICE_PROTOCOL for endpoints

When the tls-proxy service is enabled, all endpoints should be accessed
via https.

Change-Id: Ia96ab003d1651170f11ede1d9cbc3579639565b3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/80/745480/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/barbican', 'devstack/settings']",2,4b52ae7e543f7bb1fa082ffa71ed9532f70dbcc3,use-tls,BARBICAN_HOST_HREF=${BARBICAN_HOST_HREF:-$SERVICE_PROTOCOL://${SERVICE_HOST}/key-manager},BARBICAN_HOST_HREF=${BARBICAN_HOST_HREF:-http://${SERVICE_HOST}/key-manager},4,3
openstack%2Fbarbican-tempest-plugin~master~I206a845b6a7e271b73aef762062fe57f228edcbe,openstack/barbican-tempest-plugin,master,I206a845b6a7e271b73aef762062fe57f228edcbe,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-04 17:41:27.000000000,2020-08-18 14:27:30.000000000,2020-08-18 14:27:30.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-04 17:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2ac9512d1b85d06250415188b127eeb629692ec5', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I206a845b6a7e271b73aef762062fe57f228edcbe\nStory: #2007865\nTask: #40177\n'}, {'number': 2, 'created': '2020-08-16 17:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ae58b7f322b20e6057de4043d320a49c2ba2b2e3', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40177\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I206a845b6a7e271b73aef762062fe57f228edcbe\n'}, {'number': 3, 'created': '2020-08-16 17:55:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a0d3e4556d3fe1f5030b100b0f7cc6339b5fe992', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886296\nBump the pyflakes to 2.1.1 as min version to run pep8 jobs\non py3.8 which is default python vesion in ubuntu focal.\n\nStory: #2007865\nTask: #40177\n\nCloses-Bug: #1886296\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I206a845b6a7e271b73aef762062fe57f228edcbe\n'}]",0,739310,a0d3e4556d3fe1f5030b100b0f7cc6339b5fe992,14,4,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886296
Bump the pyflakes to 2.1.1 as min version to run pep8 jobs
on py3.8 which is default python vesion in ubuntu focal.

Story: #2007865
Task: #40177

Closes-Bug: #1886296
[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I206a845b6a7e271b73aef762062fe57f228edcbe
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/10/739310/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2ac9512d1b85d06250415188b127eeb629692ec5,migrate-to-focal,#test focal,,1,0
openstack%2Fblazar-tempest-plugin~master~I1f7736f8b15450e94204f78be042e470bdee766a,openstack/blazar-tempest-plugin,master,I1f7736f8b15450e94204f78be042e470bdee766a,Add py38 package metadata,MERGED,2020-05-28 03:27:20.000000000,2020-08-18 14:15:44.000000000,2020-08-18 14:13:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27565}]","[{'number': 1, 'created': '2020-05-28 03:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/742f0c4353007e12d1acd2461e071a02da1bea1f', 'message': 'Add py38 package metadata\n\nChange-Id: I1f7736f8b15450e94204f78be042e470bdee766a\n'}, {'number': 2, 'created': '2020-08-18 12:00:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/85b54e1f6a02fb4bb295663eb33ed1d2bfa701ec', 'message': 'Add py38 package metadata\n\nChange-Id: I1f7736f8b15450e94204f78be042e470bdee766a\n'}]",0,731397,85b54e1f6a02fb4bb295663eb33ed1d2bfa701ec,17,4,2,27565,,,0,"Add py38 package metadata

Change-Id: I1f7736f8b15450e94204f78be042e470bdee766a
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/97/731397/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,742f0c4353007e12d1acd2461e071a02da1bea1f,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fcastellan~master~I49e042ed89bc49736d82de7744952663415d6e02,openstack/castellan,master,I49e042ed89bc49736d82de7744952663415d6e02,zuul: use the new barbican simple-crypto job,MERGED,2020-08-17 18:06:07.000000000,2020-08-18 14:12:15.000000000,2020-08-18 14:07:47.000000000,"[{'_account_id': 7973}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-08-17 18:06:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/castellan/commit/ecf2b1fae6b6b6d9899c662c5a7bc9dbb9800141', 'message': 'zuul: use the new barbican simple-crypto job\n\nThe old job name is still available as an alias for a while,\nbut it is time to switch away from it.\n\nChange-Id: I49e042ed89bc49736d82de7744952663415d6e02\n'}]",0,746581,ecf2b1fae6b6b6d9899c662c5a7bc9dbb9800141,10,4,1,10459,,,0,"zuul: use the new barbican simple-crypto job

The old job name is still available as an alias for a while,
but it is time to switch away from it.

Change-Id: I49e042ed89bc49736d82de7744952663415d6e02
",git fetch https://review.opendev.org/openstack/castellan refs/changes/81/746581/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ecf2b1fae6b6b6d9899c662c5a7bc9dbb9800141,native-zuulv3-migration, - barbican-tempest-plugin-simple-crypto-castellan-src - barbican-tempest-plugin-simple-crypto-castellan-src, - barbican-simple-crypto-devstack-tempest-castellan-from-git - barbican-simple-crypto-devstack-tempest-castellan-from-git,2,2
openstack%2Fpython-tripleoclient~master~I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7,openstack/python-tripleoclient,master,I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7,Allow same addr for undercloud public and admin endpoint,ABANDONED,2020-08-18 09:42:12.000000000,2020-08-18 14:07:24.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-18 09:42:12.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3174543fd85150ef9658d831bac0c91d2017edcf', 'message': 'Allow same addr for undercloud public and admin endpoint\n\nDuplicate addresses for public and admin endpoint should be\nok, since TLS uses different port numbers.\n\nDepends-On: https://review.opendev.org/746671\nChange-Id: I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7\nRelated-Bug: #1832168\nRelated: RHBZ#1868910\n'}]",0,746672,3174543fd85150ef9658d831bac0c91d2017edcf,7,6,1,24245,,,0,"Allow same addr for undercloud public and admin endpoint

Duplicate addresses for public and admin endpoint should be
ok, since TLS uses different port numbers.

Depends-On: https://review.opendev.org/746671
Change-Id: I647f33dbdb8ba8622ccf04a05875bd3ebbd441f7
Related-Bug: #1832168
Related: RHBZ#1868910
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/746672/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,3174543fd85150ef9658d831bac0c91d2017edcf,RHBZ#1868910, # undercloud_admin_host == undercloud_public_host is OK.," # undercloud_admin_host == undercloud_public_host self.assertRaises(exceptions.InvalidConfiguration, undercloud_config._process_network_args, env)",12,9
openstack%2Fvitrage~master~I24703c1a257a4cdadd0506b55d835a68841ff0ea,openstack/vitrage,master,I24703c1a257a4cdadd0506b55d835a68841ff0ea,Update edge direction,MERGED,2020-08-18 07:10:59.000000000,2020-08-18 13:37:23.000000000,2020-08-18 13:35:21.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 07:10:59.000000000', 'files': ['vitrage/tests/unit/entity_graph/processor/test_entity_graph.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/baea18759614a921f410eda82274746b41510dc1', 'message': 'Update edge direction\n\nHost contains instance, so the direction of the side is that the host points to the insatnce\n\nChange-Id: I24703c1a257a4cdadd0506b55d835a68841ff0ea\n'}]",0,746641,baea18759614a921f410eda82274746b41510dc1,13,2,1,30408,,,0,"Update edge direction

Host contains instance, so the direction of the side is that the host points to the insatnce

Change-Id: I24703c1a257a4cdadd0506b55d835a68841ff0ea
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/41/746641/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/tests/unit/entity_graph/processor/test_entity_graph.py'],1,baea18759614a921f410eda82274746b41510dc1,test," vertex2 = self._update_vertex_to_graph(entity_graph, EntityCategory.RESOURCE, 'INSTANCE', '12345', False, True, {})"," 'INSTANCE', '12345', False, True, {}) vertex2 = self._update_vertex_to_graph(entity_graph, EntityCategory.RESOURCE,",6,5
openstack%2Fneutron~master~I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,openstack/neutron,master,I3f62b91a21ac7e708fb04154194f45a6ff1b6a76,ovn-migration-mtu: Support migrating MTU of GRE networks,MERGED,2020-07-16 09:41:52.000000000,2020-08-18 13:34:55.000000000,2020-07-31 02:03:35.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-16 09:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaad06f41c07967e66d238078170ccf6d928687a', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n'}, {'number': 2, 'created': '2020-07-17 05:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f6704560a62c6c32ccb785fc12621da328f34c2', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n'}, {'number': 3, 'created': '2020-07-17 09:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0f807700ef49eb98f09d53bebcb558a08e3d3b', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n'}, {'number': 4, 'created': '2020-07-21 20:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/34c70b42fea6a04b71c8d8a213d6b7dcdcb9b0a8', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n'}, {'number': 5, 'created': '2020-07-21 20:01:54.000000000', 'files': ['neutron/cmd/ovn/migration_mtu.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a418d55bc282990847626a2dcb09a8c97604582a', 'message': 'ovn-migration-mtu: Support migrating MTU of GRE networks\n\nAdd support for adjusting MTU on GRE networks the same way the\ntool already supports adjusting MTU on VXLAN networks.\n\nChange-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76\nCloses-Bug: #1887781\n'}]",5,741414,a418d55bc282990847626a2dcb09a8c97604582a,44,8,5,13686,,,0,"ovn-migration-mtu: Support migrating MTU of GRE networks

Add support for adjusting MTU on GRE networks the same way the
tool already supports adjusting MTU on VXLAN networks.

Change-Id: I3f62b91a21ac7e708fb04154194f45a6ff1b6a76
Closes-Bug: #1887781
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/741414/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ovn/migration_mtu.py'],1,eaad06f41c07967e66d238078170ccf6d928687a,bug/1887781," # map of network types to migrate and the difference in overhead size when # converted to Geneve. NETWORK_TYPE_OVERHEAD = { 'vxlan': 8, 'gre': 16, } network.provider_network_type in NETWORK_TYPE_OVERHEAD) and ( mtu=int(network.mtu) - NETWORK_TYPE_OVERHEAD[ network.provider_network_type])",# TODO(dalvarez): support also GRE GENEVE_TO_VXLAN_OVERHEAD = 8 network.provider_network_type == 'vxlan') and ( mtu=int(network.mtu) - GENEVE_TO_VXLAN_OVERHEAD),11,4
openstack%2Fneutron~master~I926a160914c16792d7911810cfded41d29fcf282,openstack/neutron,master,I926a160914c16792d7911810cfded41d29fcf282,ovn-migration-mtu: Support providing project/user domain by name,MERGED,2020-07-16 09:24:04.000000000,2020-08-18 13:34:40.000000000,2020-07-31 02:03:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-16 09:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75757f60e1ba605237ec06f69d29d411a77c1c0b', 'message': 'ovn-migration-mtu: Support providing project/user domain by name\n\nThe domain name environment variables `OS_USER_DOMAIN_NAME` and\n`OS_PROJECT_DOMAIN_NAME` will be consumed when present.\n\nOtherwise the current behaviour of using *_DOMAIN_ID environment\nvariables with fall back to the domain with literal ID of\n`default` is retained.\n\nChange-Id: I926a160914c16792d7911810cfded41d29fcf282\nCloses-Bug: #1887778\n'}, {'number': 2, 'created': '2020-07-21 20:00:08.000000000', 'files': ['neutron/cmd/ovn/migration_mtu.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8', 'message': 'ovn-migration-mtu: Support providing project/user domain by name\n\nThe domain name environment variables `OS_USER_DOMAIN_NAME` and\n`OS_PROJECT_DOMAIN_NAME` will be consumed when present.\n\nOtherwise the current behaviour of using *_DOMAIN_ID environment\nvariables with fall back to the domain with literal ID of\n`default` is retained.\n\nChange-Id: I926a160914c16792d7911810cfded41d29fcf282\nCloses-Bug: #1887778\n'}]",6,741410,c6574321bae262d2eb8ed2ad12ebf6c420ea5bf8,26,8,2,13686,,,0,"ovn-migration-mtu: Support providing project/user domain by name

The domain name environment variables `OS_USER_DOMAIN_NAME` and
`OS_PROJECT_DOMAIN_NAME` will be consumed when present.

Otherwise the current behaviour of using *_DOMAIN_ID environment
variables with fall back to the domain with literal ID of
`default` is retained.

Change-Id: I926a160914c16792d7911810cfded41d29fcf282
Closes-Bug: #1887778
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/741410/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ovn/migration_mtu.py'],1,75757f60e1ba605237ec06f69d29d411a77c1c0b,bug/1887781," user_domain_name = os.environ.get('OS_USER_DOMAIN_NAME') project_domain_name = os.environ.get('OS_PROJECT_DOMAIN_NAME') user_domain_id = os.environ.get( 'OS_USER_DOMAIN_ID', 'default') if user_domain_name is None else None project_domain_id = os.environ.get( 'OS_PROJECT_DOMAIN_ID', 'default') if project_domain_name is None else None project_domain_id=project_domain_id, user_domain_name=user_domain_name, project_domain_name=project_domain_name)"," user_domain_id = os.environ.get('OS_USER_DOMAIN_ID', 'default') project_domain_id = os.environ.get('OS_PROJECT_DOMAIN_ID', 'default') project_domain_id=project_domain_id)",11,3
openstack%2Freleases~master~If3fa129a93814705fa98d58d860d1dfc18393e73,openstack/releases,master,If3fa129a93814705fa98d58d860d1dfc18393e73,Add Cycle Highlights to Victoria,MERGED,2020-08-14 19:18:50.000000000,2020-08-18 13:30:51.000000000,2020-08-18 13:30:51.000000000,"[{'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-14 19:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f2b92acaef49a76f2037f86738c50a2dee16d2fe', 'message': 'Add Cycle Highlights to Victoria\n\nChange-Id: If3fa129a93814705fa98d58d860d1dfc18393e73\n'}, {'number': 2, 'created': '2020-08-17 16:00:46.000000000', 'files': ['doc/source/victoria/schedule.yaml', 'doc/source/victoria/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/e6018e3b095fc995d9e3bfbe719db9c26f21a423', 'message': 'Add Cycle Highlights to Victoria\n\nChange-Id: If3fa129a93814705fa98d58d860d1dfc18393e73\n'}]",2,746345,e6018e3b095fc995d9e3bfbe719db9c26f21a423,10,3,2,16708,,,0,"Add Cycle Highlights to Victoria

Change-Id: If3fa129a93814705fa98d58d860d1dfc18393e73
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/746345/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/victoria/schedule.yaml', 'doc/source/victoria/schedule.rst']",2,f2b92acaef49a76f2037f86738c50a2dee16d2fe,cycle_highlights,".. _v-cycle-highlights: Cycle Highlights --------------------- Cycle highlights need to be added to the release deliverables by feature freeze to be included in any marketing release messaging. Highlights may be added after this point, but they will likely only be useful for historical purposes. See the `Project Team Guide`_ for more details and instructions on adding these highlights. .. _Project Team Guide: https://docs.openstack.org/project-team-guide/release-management.html#cycle-highlights ",,14,0
openstack%2Freleases~master~Idea391efe6031ce90c0af386b63979ff27845988,openstack/releases,master,Idea391efe6031ce90c0af386b63979ff27845988,Switch Adjutant to cycle-with-rc,MERGED,2020-08-13 16:18:01.000000000,2020-08-18 13:27:30.000000000,2020-08-18 13:27:30.000000000,"[{'_account_id': 10420}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-13 16:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/10d6620c544cf499c20367900170ad17a9a3256e', 'message': 'Switch Adjutant to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nAdjutant only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: Idea391efe6031ce90c0af386b63979ff27845988\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-13 16:36:51.000000000', 'files': ['deliverables/victoria/adjutant.yaml', 'deliverables/victoria/adjutant-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a80a4d898b8079befa8e56e3f39038cdcbbdd47a', 'message': 'Switch Adjutant to cycle-with-rc\n\nDeliverables following the cycle-with-intermediary model are expected\nto release multiple times throughout the development cycle. Since\nAdjutant only released once last cycle, and has not done a\nrelease yet this cycle, this proposes changing the release model to\ncycle-with-rc so the expectation is only that it will release an RC by\nthe end of the cycle prior to doing the final release.\n\nThis is just a suggestion for the team to consider. The important point\nis past the milestone-2 point, downstream planning starts happening\nfor what will be included in the release. We just want to try to avoid\nthe situation where downstream expects something to be included, but we\nneed to unexpectedly drop it from the coordinated release late in the\ncycle.\n\nFor the team, please respond to this patch in one of the following ways:\n\n* -1 this patch and follow up with an intermediary release\n* +1 this patch and we will switch over the release model\n* -1 this patch, but acknowledge a release will be done prior to the\n  RC1 deadline.\n\nChange-Id: Idea391efe6031ce90c0af386b63979ff27845988\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,746187,a80a4d898b8079befa8e56e3f39038cdcbbdd47a,14,3,2,11904,,,0,"Switch Adjutant to cycle-with-rc

Deliverables following the cycle-with-intermediary model are expected
to release multiple times throughout the development cycle. Since
Adjutant only released once last cycle, and has not done a
release yet this cycle, this proposes changing the release model to
cycle-with-rc so the expectation is only that it will release an RC by
the end of the cycle prior to doing the final release.

This is just a suggestion for the team to consider. The important point
is past the milestone-2 point, downstream planning starts happening
for what will be included in the release. We just want to try to avoid
the situation where downstream expects something to be included, but we
need to unexpectedly drop it from the coordinated release late in the
cycle.

For the team, please respond to this patch in one of the following ways:

* -1 this patch and follow up with an intermediary release
* +1 this patch and we will switch over the release model
* -1 this patch, but acknowledge a release will be done prior to the
  RC1 deadline.

Change-Id: Idea391efe6031ce90c0af386b63979ff27845988
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/746187/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/adjutant.yaml', 'deliverables/victoria/adjutant-ui.yaml']",2,10d6620c544cf499c20367900170ad17a9a3256e,victoria-cwi,storyboard: openstack/adjutant-rc,storyboard: openstack/adjutant-ui,2,2
openstack%2Fswift~master~Id41e9a93b952736e3ca686cbe1efeedfaa701730,openstack/swift,master,Id41e9a93b952736e3ca686cbe1efeedfaa701730,wip: tests for mixed frag 404 vs 503,ABANDONED,2020-08-17 20:03:13.000000000,2020-08-18 13:16:21.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 20:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99a14dfdc919e89b23c1ea70492ef376d3ced8d5', 'message': 'wip: tests for mixed frag 404 vs 503\n\nChange-Id: Id41e9a93b952736e3ca686cbe1efeedfaa701730\n'}, {'number': 2, 'created': '2020-08-17 22:57:06.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1718c0551e164c177d54a40bb1db7626c57ba067', 'message': 'wip: tests for mixed frag 404 vs 503\n\nsquash this to the related change\n\nRelated-Change-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253\nChange-Id: Id41e9a93b952736e3ca686cbe1efeedfaa701730\n'}]",8,746593,1718c0551e164c177d54a40bb1db7626c57ba067,9,3,2,1179,,,0,"wip: tests for mixed frag 404 vs 503

squash this to the related change

Related-Change-Id: Ia0a9398107a400815be2e0097b1b8e76336a0253
Change-Id: Id41e9a93b952736e3ca686cbe1efeedfaa701730
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/746593/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py']",2,99a14dfdc919e89b23c1ea70492ef376d3ced8d5,404-error, if best_bucket.durable: if not (statuses or best_bucket.durable):, if best_bucket and best_bucket.durable: if not statuses and is_success( best_bucket.status) and not best_bucket.durable:,66,5
openstack%2Fpuppet-openstack_extras~master~I53c30652df0168f941bec10d0f462e44512ce39a,openstack/puppet-openstack_extras,master,I53c30652df0168f941bec10d0f462e44512ce39a,[RedHat] Set up yum repositories from repo file,MERGED,2020-07-20 02:21:56.000000000,2020-08-18 12:52:10.000000000,2020-07-29 15:13:27.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 02:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3f17745493fd6c5dddef632233d06c063f36b40e', 'message': 'WIP: Add yum repositories from repo file\n\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 2, 'created': '2020-07-20 02:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/afc27405910dec6fd5aeac8fc72985d0f0cc4128', 'message': 'WIP: Add yum repositories from repo file\n\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 3, 'created': '2020-07-20 03:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/e6d06bdc7fc858f4b6bce10f59b8f72f408f9f52', 'message': 'WIP: Add yum repositories from repo file\n\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 4, 'created': '2020-07-20 07:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ebe8826d29e4d26d7db17281b43e4dd989690ce9', 'message': 'WIP: Add yum repositories from repo file\n\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 5, 'created': '2020-07-21 06:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/717d90e811786076b2fd00e2f73625942cf6b1a9', 'message': 'WIP: Add yum repositories from repo file\n\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 6, 'created': '2020-07-21 13:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/cc5c395cb980d71f3318af24c99e4beded2075f4', 'message': '[RedHat] Set up yum repositories from repo file\n\nThis patch allows operators to use .repo file directly to configure\nyum repogitories on RHEL/CentOS node, so that they can use the .repo\nfile provided in RDO repository directly.\nThis is useful especially in RDO CentOS8, because now it provides\nseprated repogitory namespaces for modules.\n\nDepends-on: https://review.opendev.org/#/c/742146/\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}, {'number': 7, 'created': '2020-07-21 14:33:41.000000000', 'files': ['releasenotes/notes/repo-redhat-repofile-bfafdae3f8b158b2.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/cc751868cf8c6f0be9465ec5ca66673834feb18c', 'message': '[RedHat] Set up yum repositories from repo file\n\nThis patch allows operators to use .repo file directly to configure\nyum repogitories on RHEL/CentOS node, so that they can use the .repo\nfile provided in RDO repository directly.\nThis is useful especially in RDO CentOS8, because now it provides\nseprated repogitory namespaces for modules.\n\nDepends-on: https://review.opendev.org/#/c/742146/\nChange-Id: I53c30652df0168f941bec10d0f462e44512ce39a\n'}]",0,741867,cc751868cf8c6f0be9465ec5ca66673834feb18c,21,4,7,9816,,,0,"[RedHat] Set up yum repositories from repo file

This patch allows operators to use .repo file directly to configure
yum repogitories on RHEL/CentOS node, so that they can use the .repo
file provided in RDO repository directly.
This is useful especially in RDO CentOS8, because now it provides
seprated repogitory namespaces for modules.

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I53c30652df0168f941bec10d0f462e44512ce39a
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/67/741867/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/redhat.pp'],1,3f17745493fd6c5dddef632233d06c063f36b40e,centos8-beaker," $repo_source_hash = {}, $repo_host_url = 'https://trunk.rdoproject.org/' validate_legacy(Hash, 'validate_hash', $repo_source_hash) validate_legacy(String, 'validate_string', $repo_host_url) $repo_source_hash.each | $filename, $url | { file { $filename: path => ""/etc/yum.repos.d/${filename}"", source => $url, }-> file_line { $filename: path => ""/etc/yum.repos.d/${filename}"", line => $repo_host_url, match => ""https://trunk.rdoproject.org/"", } } ",,16,0
openstack%2Fgovernance-sigs~master~I9b7a07be31c7d4d255db4546141bb3bb933fa9ad,openstack/governance-sigs,master,I9b7a07be31c7d4d255db4546141bb3bb933fa9ad,Update Ansible SIG chairs,MERGED,2020-08-17 13:15:05.000000000,2020-08-18 12:50:17.000000000,2020-08-18 12:48:30.000000000,"[{'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 13:15:05.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/77c23448245550c7f850ffb3ee03de1393ee41fb', 'message': ""Update Ansible SIG chairs\n\nI'm no longer able to be as involved as I can be in the Ansible SIG and\nSagi is doing a great job in keeping up with all the patches and work\nthat needs to be there.\n\nThey've accepted to chair thise SIG as well at this point.\n\nChange-Id: I9b7a07be31c7d4d255db4546141bb3bb933fa9ad\n""}]",0,746501,77c23448245550c7f850ffb3ee03de1393ee41fb,11,6,1,1004,,,0,"Update Ansible SIG chairs

I'm no longer able to be as involved as I can be in the Ansible SIG and
Sagi is doing a great job in keeping up with all the patches and work
that needs to be there.

They've accepted to chair thise SIG as well at this point.

Change-Id: I9b7a07be31c7d4d255db4546141bb3bb933fa9ad
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/01/746501/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,77c23448245550c7f850ffb3ee03de1393ee41fb,, - name: Sagi Shnaidman irc: sshnaidm email: sshnaidm@redhat.com, - name: Mohammed Naser irc: mnaser email: mnaser@vexxhost.com,3,3
openstack%2Fneutron~master~I01f54ea4a21eb635f0bf87a15694929ed1f3a643,openstack/neutron,master,I01f54ea4a21eb635f0bf87a15694929ed1f3a643,[ovn]: port forwarding -- Functional test for IDL changes,MERGED,2020-07-30 01:44:19.000000000,2020-08-18 12:41:58.000000000,2020-08-18 12:38:22.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-30 01:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1871bebd80a55f544b55683b55e2b50efa11cea', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 2, 'created': '2020-07-30 10:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aff80d8b3bfaf54cf017c39ce5af2fb2dc9c23e2', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 3, 'created': '2020-07-30 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/125458a24bf20cccb47926c14f9edfa53e266c4b', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}, {'number': 4, 'created': '2020-07-31 10:26:58.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/605de6d96854767edd6ed5a1512e3e46b7b0c311', 'message': '[ovn]: port forwarding -- Functional test for IDL changes\n\nThis is a subset of the changes for implementing the floating IP\nport forwarding feature in neutron, using OVN as the backend.\n\nThis changeset introduces functional tests for the IDL functions\nadded to the NB API for supporting port forwarding.\n\nDepends-On: https://review.opendev.org/#/c/741000/\nChange-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643\nPartially-implements: ovn/port_forwarding\nPartial-Bug: #1877447\n'}]",2,743862,605de6d96854767edd6ed5a1512e3e46b7b0c311,29,11,4,11952,,,0,"[ovn]: port forwarding -- Functional test for IDL changes

This is a subset of the changes for implementing the floating IP
port forwarding feature in neutron, using OVN as the backend.

This changeset introduces functional tests for the IDL functions
added to the NB API for supporting port forwarding.

Depends-On: https://review.opendev.org/#/c/741000/
Change-Id: I01f54ea4a21eb635f0bf87a15694929ed1f3a643
Partially-implements: ovn/port_forwarding
Partial-Bug: #1877447
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/743862/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'],1,b1871bebd80a55f544b55683b55e2b50efa11cea,ovn/port_forwarding,"import copyfrom ovsdbapp import constants as constfrom neutron.common.ovn import constants as ovn_constfrom neutron.services.portforwarding import constants as pf_constOWNER = ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY PF_PLUGIN = pf_const.PORT_FORWARDING_PLUGIN class BaseOvnIdlTest(n_base.BaseLoggingTestCase, base.FunctionalTestCase): super(BaseOvnIdlTest, self).setUp() self.api = impl.OvsdbSbOvnIdl(self.connection['OVN_Southbound']) self.nbapi = impl.OvsdbNbOvnIdl(self.connection['OVN_Northbound']) self.handler = ovsdb_event.RowEventHandler() self.api.idl.notify = self.handler.notify class TestSbApi(BaseOvnIdlTest): def setUp(self): class TestNbApi(BaseOvnIdlTest): def setUp(self): super(TestNbApi, self).setUp() self.data = { 'lbs': [ {'name': 'pf-floatingip-fip_id1-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.8:2020"": [""10.0.0.10:22""], ""172.24.4.8:2021"": [""10.0.0.11:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id1-udp', 'protocol': const.PROTO_UDP, 'vips': {""172.24.4.8:53"": [""10.0.0.10:53""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id2-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.100:2020"": [""10.0.0.10:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id2', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '10', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr2_id'}}, {'name': 'octavia_lb1_id', 'vips': {""172.24.4.250:80"": [""10.0.0.10:8080"", ""10.0.0.11:8080""]}, 'selection_fields': ['ip_dst', 'ip_src', 'tp_dst', 'tp_src'], 'external_ids': { 'enabled': 'True', 'lr_ref': 'neutron-rtr1_id', 'ls_refs': str({'neutron-net1_id': 1}), ovn_const.LB_EXT_IDS_VIP_KEY: '172.24.4.250', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'neutron-port1_id', }}, ], } self.load_test_data() def load_test_data(self): with self.nbapi.transaction(check_error=True) as txn: for lb in copy.deepcopy(self.data['lbs']): lb_name = lb.pop('name') for vip, ips in lb.pop('vips').items(): txn.add(self.nbapi.lb_add( lb_name, vip, ips, may_exist=True, **lb)) def test_lb_list(self): lbs = self.nbapi.lb_list().execute(check_error=True) self.assertEqual(len(self.data['lbs']), len(lbs)) exp_values = [(lb['name'], lb['external_ids']) for lb in self.data['lbs']] lbs_values = [(lb.name, lb.external_ids) for lb in lbs] self.assertItemsEqual(exp_values, lbs_values) def test_get_router_floatingip_lbs(self): f = self.nbapi.get_router_floatingip_lbs self.assertEqual([], f('unused_router_name')) for exp_router_name in ['neutron-rtr1_id', 'neutron-rtr2_id']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY) == exp_router_name])] lbs_values = [(lb.name, lb.external_ids) for lb in f(exp_router_name)] self.assertTrue(exp_values) self.assertItemsEqual(exp_values, lbs_values) def test_get_floatingip_in_nat_or_lb(self): f = self.nbapi.get_floatingip_in_nat_or_lb self.assertIsNone(f('unused_fip_id')) for exp_fip_id in ['fip_id1', 'fip_id2']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_FIP_EXT_ID_KEY) == exp_fip_id])] # get_floatingip_in_nat_or_lb returns the first entry # it finds for the fip_id provided. Make sure that it # is present in exp_values. lb_match = f(exp_fip_id) self.assertIn((lb_match['name'], lb_match['external_ids']), exp_values)"," class TestSbApi(n_base.BaseLoggingTestCase, base.FunctionalTestCase): self.api = impl.OvsdbSbOvnIdl(self.connection['OVN_Southbound']) self.nbapi = impl.OvsdbNbOvnIdl(self.connection['OVN_Northbound']) self.handler = ovsdb_event.RowEventHandler() self.api.idl.notify = self.handler.notify",118,6
openstack%2Fceilometer~master~I59431d0eddda4d91051358e4366159368f9d3103,openstack/ceilometer,master,I59431d0eddda4d91051358e4366159368f9d3103,Replacing the HTTP protocal with HTTPS in run.yaml.,NEW,2018-11-13 15:31:05.000000000,2020-08-18 11:53:20.000000000,,"[{'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2018-11-13 15:31:05.000000000', 'files': ['doc/source/contributor/index.rst', 'releasenotes/source/mitaka.rst', 'doc/source/contributor/events.rst', 'releasenotes/notes/cors-support-70c33ba1f6825a7b.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/36f87ddcceb433b9eefdd64c587901d6d0f49156', 'message': 'Replacing the HTTP protocal with HTTPS in run.yaml.\n\nChange-Id: I59431d0eddda4d91051358e4366159368f9d3103\n'}]",1,617691,36f87ddcceb433b9eefdd64c587901d6d0f49156,5,3,1,29423,,,0,"Replacing the HTTP protocal with HTTPS in run.yaml.

Change-Id: I59431d0eddda4d91051358e4366159368f9d3103
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/617691/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'releasenotes/source/mitaka.rst', 'doc/source/contributor/events.rst', 'releasenotes/notes/cors-support-70c33ba1f6825a7b.yaml']",4,36f87ddcceb433b9eefdd64c587901d6d0f49156,, [`here <https://specs.openstack.org/openstack/openstack-specs/specs/cors-support.html>`_], [`here <http://specs.openstack.org/openstack/openstack-specs/specs/cors-support.html>`_],6,6
openstack%2Ftripleo-heat-templates~master~Icb5e88fa55a76207130599a5caa8592e96ee5f09,openstack/tripleo-heat-templates,master,Icb5e88fa55a76207130599a5caa8592e96ee5f09,"Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""",MERGED,2020-08-13 19:08:44.000000000,2020-08-18 11:39:39.000000000,2020-08-18 11:39:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8873}, {'_account_id': 10873}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-13 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05446ac95b2ed70d3f0788c220ade194b2c48454', 'message': 'Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""\n\nWe no longer run on 8.0 so we should be good reverting that workaround.\n\nThis reverts commit b1d82e6acbc79d9db1a54d53cd178080b72d0845.\n\nChange-Id: Icb5e88fa55a76207130599a5caa8592e96ee5f09\n'}, {'number': 2, 'created': '2020-08-13 19:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0f1945b8657bc3f46f17ad0293ef525656a32bb', 'message': 'Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""\n\nWe no longer run on 8.0 so we should be good reverting that workaround.\n\nThis reverts commit b1d82e6acbc79d9db1a54d53cd178080b72d0845.\n\nChange-Id: Icb5e88fa55a76207130599a5caa8592e96ee5f09\n'}, {'number': 3, 'created': '2020-08-14 01:24:35.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67dfa755ee9cfe59d4324a4d6bb369fc7e57e3c0', 'message': 'Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""\n\nWe no longer run on 8.0 so we should be good reverting that workaround.\n\nThis reverts commit b1d82e6acbc79d9db1a54d53cd178080b72d0845.\n\nChange-Id: Icb5e88fa55a76207130599a5caa8592e96ee5f09\n'}]",0,746216,67dfa755ee9cfe59d4324a4d6bb369fc7e57e3c0,23,11,3,3153,,,0,"Revert ""Workaround rhel8,0 iptables bug causing neutron_ovs_agent to restart continuously""

We no longer run on 8.0 so we should be good reverting that workaround.

This reverts commit b1d82e6acbc79d9db1a54d53cd178080b72d0845.

Change-Id: Icb5e88fa55a76207130599a5caa8592e96ee5f09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/746216/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,05446ac95b2ed70d3f0788c220ade194b2c48454,bug/1818834,, - name: Run iptables -t raw -L to workaround a rhel8.0 bug (remove once rhbz#1673609 is fixed) shell: | iptables -t raw -nL ip6tables -t raw -nL,0,4
openstack%2Fopenstack-ansible~stable%2Ftrain~If3175695aac15e3e2a613ca849654f4b5684a359,openstack/openstack-ansible,stable/train,If3175695aac15e3e2a613ca849654f4b5684a359,ceph: remove invalid logging options,MERGED,2020-06-11 06:58:20.000000000,2020-08-18 11:35:49.000000000,2020-08-18 11:33:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-11 06:58:20.000000000', 'files': ['playbooks/defaults/ceph_ansible.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a5eacf36888c76a3fa67439da51b26440628930', 'message': ""ceph: remove invalid logging options\n\nThese options as is just spam the logs with no permission to write 'none',\nand have been removed in master for octopus release;\nhttps://review.opendev.org/#/c/729331/\n\nChange-Id: If3175695aac15e3e2a613ca849654f4b5684a359\n""}]",0,735066,0a5eacf36888c76a3fa67439da51b26440628930,34,4,1,25600,,,0,"ceph: remove invalid logging options

These options as is just spam the logs with no permission to write 'none',
and have been removed in master for octopus release;
https://review.opendev.org/#/c/729331/

Change-Id: If3175695aac15e3e2a613ca849654f4b5684a359
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/735066/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/ceph_ansible.yml'],1,0a5eacf36888c76a3fa67439da51b26440628930,,, log_file: none mon_cluster_log_file: none,0,2
openstack%2Fkuryr-tempest-plugin~master~I2cb66e25534e44b79f660b10498086aa88ad805c,openstack/kuryr-tempest-plugin,master,I2cb66e25534e44b79f660b10498086aa88ad805c,Support for vifs being in 'spec' and 'status' objects.,MERGED,2020-07-31 10:14:34.000000000,2020-08-18 11:32:40.000000000,2020-08-18 11:31:18.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-07-31 10:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/183a5ae81f31b1ab6cf35072d00511d0b8a26281', 'message': ""Support for vifs being in 'spec' and 'status' objects.\n\nIn order to move vif information from 'spec' to 'status', we need\nto support both for the transition time.\n\nChange-Id: I2cb66e25534e44b79f660b10498086aa88ad805c\n""}, {'number': 2, 'created': '2020-08-17 06:47:31.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/53f01c482c9fc0440a7ae92b235ae7fcf43857d1', 'message': ""Support for vifs being in 'spec' and 'status' objects.\n\nIn order to move vif information from 'spec' to 'status', we need\nto support both for the transition time.\n\nChange-Id: I2cb66e25534e44b79f660b10498086aa88ad805c\n""}]",0,744115,53f01c482c9fc0440a7ae92b235ae7fcf43857d1,47,6,2,13692,,,0,"Support for vifs being in 'spec' and 'status' objects.

In order to move vif information from 'spec' to 'status', we need
to support both for the transition time.

Change-Id: I2cb66e25534e44b79f660b10498086aa88ad805c
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/15/744115/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,183a5ae81f31b1ab6cf35072d00511d0b8a26281,kuryrport-scheme," try: vif = [v['vif'].get('versioned_object.data', {}).get('id') for k, v in crd['status']['vifs'].items() if v.get('default')] except KeyError: # TODO(gryf): Remove this after moving vifs to status succeed. vif = [v['vif'].get('versioned_object.data', {}).get('id') for k, v in crd['spec']['vifs'].items() if v.get('default')] "," vif = [v['vif'].get('versioned_object.data', {}).get('id') for k, v in crd['spec']['vifs'].items() if v.get('default')]",10,2
openstack%2Fdiskimage-builder~master~I3c96ae7ebb814973b77b4a1b966c39658acc5683,openstack/diskimage-builder,master,I3c96ae7ebb814973b77b4a1b966c39658acc5683,Do not install python2 packages in ubuntu focal,MERGED,2020-08-11 12:52:05.000000000,2020-08-18 11:29:55.000000000,2020-08-18 11:28:06.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-11 12:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/722da6f1f0a951869d9fa673af2091d79e8fec96', 'message': ""Do not install python2 packages in ubuntu focal\n\nThe packages yum-utils and python-lzma have python 2 dependencies\nand they're not present for Ubuntu Focal.\nThe package zypper should not be installed as it's not used.\n\nChange-Id: I3c96ae7ebb814973b77b4a1b966c39658acc5683\n""}, {'number': 2, 'created': '2020-08-12 10:16:46.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6aa43731d89b4d2201fe9252a4e680fcadbba50', 'message': ""Do not install python2 packages in ubuntu focal\n\nThe packages yum-utils and python-lzma have python 2 dependencies\nand they're not present for Ubuntu Focal.\nThe package zypper should not be installed as it's not used.\n\nCloses-Bug: 1891299\n\nChange-Id: I3c96ae7ebb814973b77b4a1b966c39658acc5683\n""}]",0,745665,d6aa43731d89b4d2201fe9252a4e680fcadbba50,52,6,2,23851,,,0,"Do not install python2 packages in ubuntu focal

The packages yum-utils and python-lzma have python 2 dependencies
and they're not present for Ubuntu Focal.
The package zypper should not be installed as it's not used.

Closes-Bug: 1891299

Change-Id: I3c96ae7ebb814973b77b4a1b966c39658acc5683
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/745665/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,722da6f1f0a951869d9fa673af2091d79e8fec96,migrate-to-focal,zypper [!platform:debian-stretch !platform:redhat !platform:ubuntu-trusty !platform:ubuntu-bionic !platform:ubuntu-focal]python-lzma [platform:dpkg !platform:ubuntu-focal]yum-utils [platform:dpkg !platform:ubuntu-focal],zypper [!platform:debian-stretch !platform:redhat !platform:ubuntu-trusty !platform:ubuntu-bionic]python-lzma [platform:dpkg]yum-utils [platform:dpkg],3,3
openstack%2Fblazar~master~I016d0ecf3751212fc578d30e5ba0a5cec48ac252,openstack/blazar,master,I016d0ecf3751212fc578d30e5ba0a5cec48ac252,Use the native Zuul v3 jobs from blazar-tempest-plugin,MERGED,2020-06-02 14:46:32.000000000,2020-08-18 11:00:07.000000000,2020-08-18 10:57:35.000000000,"[{'_account_id': 10459}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-06-02 14:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0df5e8280f66b2487b48245e854e60456e22546d', 'message': 'Use the native Zuul v3 jobs from blazar-tempest-plugin\n\nThe new base jobs moved to that repository.\n\nDepends-On: https://review.opendev.org/732694\nChange-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252\n'}, {'number': 2, 'created': '2020-08-13 16:43:29.000000000', 'files': ['playbooks/legacy/blazar-devstack-dsvm/post.yaml', '.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run-ipv6.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a2f792629c2a6ef70ec6fa6efaa05b2357bff96a', 'message': 'Use the native Zuul v3 jobs from blazar-tempest-plugin\n\nThe new base jobs moved to that repository.\n\nDepends-On: https://review.opendev.org/732694\nChange-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252\n'}]",0,732697,a2f792629c2a6ef70ec6fa6efaa05b2357bff96a,18,4,2,10459,,,0,"Use the native Zuul v3 jobs from blazar-tempest-plugin

The new base jobs moved to that repository.

Depends-On: https://review.opendev.org/732694
Change-Id: I016d0ecf3751212fc578d30e5ba0a5cec48ac252
",git fetch https://review.opendev.org/openstack/blazar refs/changes/97/732697/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/blazar-devstack-dsvm/post.yaml', '.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run-ipv6.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml']",4,0df5e8280f66b2487b48245e854e60456e22546d,native-zuulv3-migration,,"- hosts: all name: legacy-blazar-devstack-dsvm-py35 tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin blazar https://opendev.org/openstack/blazar # Swift is not ready for python3 yet disable_service s-account disable_service s-container disable_service s-object disable_service s-proxy # Without Swift, c-bak cannot run (in the Gate at least) disable_service c-bak # Enable Tempest plugin TEMPEST_PLUGINS='/opt/stack/new/blazar-tempest-plugin' EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export DEVSTACK_GATE_USE_PYTHON3=True export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export ENABLED_SERVICES=blazar,blazar-a,blazar-m,tempest export PROJECTS=""openstack/blazar $PROJECTS"" export PROJECTS=""openstack/blazar-nova $PROJECTS"" export PROJECTS=""openstack/python-blazarclient $PROJECTS"" export PROJECTS=""openstack/blazar-tempest-plugin $PROJECTS"" export DEVSTACK_GATE_TEMPEST_REGEX=""blazar_tempest_plugin"" export TEMPEST_CONCURRENCY=1 cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",4,187
openstack%2Fopenstack-ansible-os_barbican~stable%2Fussuri~Icb253467cd4f1304c7a9290ea8dc6677fd18af59,openstack/openstack-ansible-os_barbican,stable/ussuri,Icb253467cd4f1304c7a9290ea8dc6677fd18af59,Remove py2 packages,MERGED,2020-08-17 17:48:24.000000000,2020-08-18 10:35:17.000000000,2020-08-18 10:33:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-17 17:48:24.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/dd66b509d458580a454fe5544a3af113049b53a9', 'message': 'Remove py2 packages\n\nUbuntu Focal do not even have py2 packages, so we need to drop them,\nas anyway we use py3 everywhere.\n\nChange-Id: Icb253467cd4f1304c7a9290ea8dc6677fd18af59\n(cherry picked from commit 00d3bee5845f12d0233c8977b38ce3d29540925d)\n'}]",0,746574,dd66b509d458580a454fe5544a3af113049b53a9,9,3,1,25023,,,0,"Remove py2 packages

Ubuntu Focal do not even have py2 packages, so we need to drop them,
as anyway we use py3 everywhere.

Change-Id: Icb253467cd4f1304c7a9290ea8dc6677fd18af59
(cherry picked from commit 00d3bee5845f12d0233c8977b38ce3d29540925d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/74/746574/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,dd66b509d458580a454fe5544a3af113049b53a9,, - python3-dev, - python-dev - python-systemd,1,2
openstack%2Fmonasca-ui~stable%2Fussuri~Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,openstack/monasca-ui,stable/ussuri,Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,Alarm definition breakes Alarms view,MERGED,2020-08-18 09:52:15.000000000,2020-08-18 10:33:57.000000000,2020-08-18 10:33:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-18 09:52:15.000000000', 'files': ['monitoring/alarms/tables.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/5e5d70be75d7f79cabb2913a375c01508cced69a', 'message': 'Alarm definition breakes Alarms view\n\nChange-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396\nStory: 2008005\nTask: 40654\n(cherry picked from commit 2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6)\n'}]",0,746674,5e5d70be75d7f79cabb2913a375c01508cced69a,6,2,1,29909,,,0,"Alarm definition breakes Alarms view

Change-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396
Story: 2008005
Task: 40654
(cherry picked from commit 2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6)
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/74/746674/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarms/tables.py'],1,5e5d70be75d7f79cabb2913a375c01508cced69a,tasks/piotrowskim/alarm_definition-stable/ussuri, for k in tuple(commondimensions):, for k in commondimensions.keys():,1,1
openstack%2Fmonasca-agent~stable%2Fussuri~I22b32bcc49760a2da38310aed8e04e44f691a974,openstack/monasca-agent,stable/ussuri,I22b32bcc49760a2da38310aed8e04e44f691a974,Update API version of monitored Cinder,MERGED,2020-08-18 08:12:49.000000000,2020-08-18 10:32:07.000000000,2020-08-18 10:32:07.000000000,"[{'_account_id': 16957}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-18 08:12:49.000000000', 'files': ['monasca_setup/detection/plugins/cinder.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/efd7763a3c32cb8bbc6db32bcfa8e3cec2aa659b', 'message': 'Update API version of monitored Cinder\n\nWhen checking response of Cinder API, a pattern match is done.\nAs of now, it is checked if ""version 1"" is installed.\nThis version is not supported any longer since Cinder train release, as mentioned in release notes:\nhttps://docs.openstack.org/releasenotes/python-cinderclient/train.html\nNow, http_check of monasca-agent accepts all known API versions: 1-3\n\nChange-Id: I22b32bcc49760a2da38310aed8e04e44f691a974\nStory: 2008021\nTask: 40673\n(cherry picked from commit e021416e600f81d5ed544b1c66675719c3a896b6)\n'}]",0,746655,efd7763a3c32cb8bbc6db32bcfa8e3cec2aa659b,8,3,1,16957,,,0,"Update API version of monitored Cinder

When checking response of Cinder API, a pattern match is done.
As of now, it is checked if ""version 1"" is installed.
This version is not supported any longer since Cinder train release, as mentioned in release notes:
https://docs.openstack.org/releasenotes/python-cinderclient/train.html
Now, http_check of monasca-agent accepts all known API versions: 1-3

Change-Id: I22b32bcc49760a2da38310aed8e04e44f691a974
Story: 2008021
Task: 40673
(cherry picked from commit e021416e600f81d5ed544b1c66675719c3a896b6)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/55/746655/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/cinder.py'],1,efd7763a3c32cb8bbc6db32bcfa8e3cec2aa659b,story/2008021-stable/ussuri, 'search_pattern': '.*version=[1-3].*', 'search_pattern': '.*version=1.*',1,1
openstack%2Fpython-openstackclient~master~Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,openstack/python-openstackclient,master,Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847,Support for stateless security groups,MERGED,2020-03-05 16:57:34.000000000,2020-08-18 09:53:18.000000000,2020-04-08 08:31:27.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26106}]","[{'number': 1, 'created': '2020-03-05 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/02c7106b9ad39f6bd4b4646f7ec51481ff9b2acb', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n'}, {'number': 2, 'created': '2020-03-06 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b0fc9ff718710f3286592e4fd409d1b845c5f8e3', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n'}, {'number': 3, 'created': '2020-03-06 12:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4b50a1ca925ac4ebf53b012ec9b8220ece36cac3', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n'}, {'number': 4, 'created': '2020-03-27 16:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cf122a093c99d24b24be8eb93eb417bde296b610', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n'}, {'number': 5, 'created': '2020-03-31 10:05:40.000000000', 'files': ['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'releasenotes/notes/stateful-security-group-a21fa8498e866b90.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/security_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5e62411e5f6c5b68512d1f72470b4222199eb456', 'message': 'Support for stateless security groups\n\nAdd support for stateful attribute of security groups,\nusing --stateful and --no-stateful flag on security group.\nThis allows a user to create security groups with stateful\nfalse.\n\nChange-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847\nBlueprint: stateless-security-groups\nDepends-On: https://review.opendev.org/711513/\n'}]",21,711515,5e62411e5f6c5b68512d1f72470b4222199eb456,37,8,5,26106,,,0,"Support for stateless security groups

Add support for stateful attribute of security groups,
using --stateful and --no-stateful flag on security group.
This allows a user to create security groups with stateful
false.

Change-Id: Ifd20b5fc47fd0ea0bb5aeda84820dcc0fb1e8847
Blueprint: stateless-security-groups
Depends-On: https://review.opendev.org/711513/
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/711515/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/network/v2/test_security_group.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'releasenotes/notes/stateful-security-group-a21fa8498e866b90.yaml', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/network/v2/security_group.py']",5,02c7106b9ad39f6bd4b4646f7ec51481ff9b2acb,bp/stateless-security-groups," parser.add_argument( ""--stateful"", action='store_true', help=_(""Security group is stateful"") ) parser.add_argument( ""--no-stateful"", action='store_true', help=_(""Security group is stateless"") ) if parsed_args.stateful or parsed_args.no_stateful: attrs['stateful'] = parsed_args.stateful parser.add_argument( ""--stateful"", action='store_true', help=_(""Security group is stateful"") ) parser.add_argument( ""--no-stateful"", action='store_true', help=_(""Security group is stateless"") ) if parsed_args.stateful or parsed_args.no_stateful: attrs['stateful'] = parsed_args.stateful",,44,1
openstack%2Fmonasca-ui~master~Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,openstack/monasca-ui,master,Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396,Alarm definition breakes Alarms view,MERGED,2020-08-13 09:43:23.000000000,2020-08-18 09:52:15.000000000,2020-08-18 07:57:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-08-13 09:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/249fa5d412caa4045815179a3dd287475c6f154b', 'message': 'Alarm definition brakes Alarms view\n\nChange-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396\nStory: 2008005\nTask: 40654\n'}, {'number': 2, 'created': '2020-08-14 08:30:25.000000000', 'files': ['monitoring/alarms/tables.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6', 'message': 'Alarm definition breakes Alarms view\n\nChange-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396\nStory: 2008005\nTask: 40654\n'}]",0,746037,2bfbee4bb9576fff6c0eeaf4a308ba030a1505a6,9,2,2,29909,,,0,"Alarm definition breakes Alarms view

Change-Id: Iab4bfabc21dee3709ba3d7f13e67b3a12a90b396
Story: 2008005
Task: 40654
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/37/746037/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarms/tables.py'],1,249fa5d412caa4045815179a3dd287475c6f154b,tasks/piotrowskim/alarm_definition, for k in tuple(commondimensions):, for k in commondimensions.keys():,1,1
openstack%2Fec2api-tempest-plugin~master~I32a51152fb4cf8c5b25d99ed4173365bc5390916,openstack/ec2api-tempest-plugin,master,I32a51152fb4cf8c5b25d99ed4173365bc5390916,"Revert ""Add simple s3 test for create/delete bucket""",MERGED,2020-08-18 08:01:40.000000000,2020-08-18 09:25:29.000000000,2020-08-18 09:25:29.000000000,"[{'_account_id': 3031}, {'_account_id': 10234}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 08:01:40.000000000', 'files': ['ec2api_tempest_plugin/api/test_s3.py'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/0e54fa0219f5825ee55546207982a279ce7080b4', 'message': 'Revert ""Add simple s3 test for create/delete bucket""\n\nThis reverts commit 8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566.\n\nreverted to fix skip condition.\n\nChange-Id: I32a51152fb4cf8c5b25d99ed4173365bc5390916\n'}]",0,746652,0e54fa0219f5825ee55546207982a279ce7080b4,7,4,1,10234,,,0,"Revert ""Add simple s3 test for create/delete bucket""

This reverts commit 8cfb9bdc2ee93b2ea59a54a7482afe8dce4ec566.

reverted to fix skip condition.

Change-Id: I32a51152fb4cf8c5b25d99ed4173365bc5390916
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/52/746652/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api_tempest_plugin/api/test_s3.py'],1,0e54fa0219f5825ee55546207982a279ce7080b4,,,"# Copyright 2020 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import botocore.exceptions from tempest.lib.common.utils import data_utils from tempest.lib import decorators import testtools from ec2api_tempest_plugin import base from ec2api_tempest_plugin import config CONF = config.CONF class S3Test(base.EC2TestCase): @decorators.idempotent_id('03e28c10-58b9-4729-a678-14e4166279be') @testtools.skipUnless(CONF.aws.s3_url, ""s3_url is not defined"") def test_create_delete_bucket(self): bucket_name = data_utils.rand_name('bucket') self.s3_client.create_bucket(Bucket=bucket_name) self.s3_client.head_bucket(Bucket=bucket_name) self.s3_client.delete_bucket(Bucket=bucket_name) try: self.s3_client.head_bucket(Bucket=bucket_name) except botocore.exceptions.ClientError as e: # If a client error is thrown, then check that it was a 404 error. # If it was a 404 error, then the bucket does not exist. error_code = e.response['Error']['Code'] if error_code != '404': raise ",0,44
openstack%2Fproject-config~master~Ibd19b9c18637cd10a522feee43e6d78a1ac02633,openstack/project-config,master,Ibd19b9c18637cd10a522feee43e6d78a1ac02633,Normalize projects.yaml,MERGED,2020-08-18 06:08:11.000000000,2020-08-18 09:20:43.000000000,2020-08-18 07:36:59.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-18 06:08:11.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cad6162de17d25c8129d142d80e31da5bb828d9e', 'message': 'Normalize projects.yaml\n\nChange-Id: Ibd19b9c18637cd10a522feee43e6d78a1ac02633\n'}]",0,746636,cad6162de17d25c8129d142d80e31da5bb828d9e,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ibd19b9c18637cd10a522feee43e6d78a1ac02633
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/746636/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cad6162de17d25c8129d142d80e31da5bb828d9e,project-yaml-normalization,, upstream: https://github.com/SirishaGopigiri/airship-host-config.git,0,1
openstack%2Ftacker~master~I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135,openstack/tacker,master,I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135,DNM: Fix ceilometer-upgrade,ABANDONED,2020-08-17 17:51:16.000000000,2020-08-18 09:00:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2020-08-17 17:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a9213532e021a6c9e32040ea4debe78a977c27e', 'message': 'DNM: Fix ceilometer-upgrade\n\nThis update is to fix a failure of zuul check.\n\nZuul check `tacker-functional-devstack-multinode-python3` is failed\nbecause for 404 Not Found error in `ceilometer-upgrade` command. It\nseems the error is caused by gnocchi that of log says messages as\nfollowing.\n\nAug 12 19:22:57.327857 ubuntu-bionic-rax-ord-0019237310 systemd[1]:\nStarting Devstack devstack@gnocchi-api.service...\nAug 12 19:22:57.337029 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: [uWSGI] getting INI configuration\nfrom /etc/gnocchi/uwsgi.ini\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./http_plugin.so""): No such\nfile or directory [core/utils.c line 3732]\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: !!! UNABLE to load uWSGI plugin:\n./http_plugin.so: cannot open shared object file: No such file or\ndirectory !!!\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./python3_plugin.so""): No such\nfile or directory\n\nAn example of whole log can be found here.\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fab/745616/2/check/tacker-functional-devstack-multinode-python3/fabe1cf/controller/logs/screen-gnocchi-api.txt\n\nChange-Id: I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 2, 'created': '2020-08-18 00:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3b0824d33f689d6d6c2ad03dca0a0c9048d7ec5d', 'message': 'DNM: Fix ceilometer-upgrade\n\nThis update is to fix a failure of zuul check.\n\nZuul check `tacker-functional-devstack-multinode-python3` is failed\nbecause for 404 Not Found error in `ceilometer-upgrade` command. It\nseems the error is caused by gnocchi that of log says messages as\nfollowing.\n\nAug 12 19:22:57.327857 ubuntu-bionic-rax-ord-0019237310 systemd[1]:\nStarting Devstack devstack@gnocchi-api.service...\nAug 12 19:22:57.337029 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: [uWSGI] getting INI configuration\nfrom /etc/gnocchi/uwsgi.ini\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./http_plugin.so""): No such\nfile or directory [core/utils.c line 3732]\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: !!! UNABLE to load uWSGI plugin:\n./http_plugin.so: cannot open shared object file: No such file or\ndirectory !!!\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./python3_plugin.so""): No such\nfile or directory\n\nAn example of whole log can be found here.\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fab/745616/2/check/tacker-functional-devstack-multinode-python3/fabe1cf/controller/logs/screen-gnocchi-api.txt\n\nChange-Id: I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 3, 'created': '2020-08-18 03:05:06.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2a20bd0607645fd43a6e59212968fdedc0fc7859', 'message': 'DNM: Fix ceilometer-upgrade\n\nThis update is to fix a failure of zuul check.\n\nZuul check `tacker-functional-devstack-multinode-python3` is failed\nbecause for 404 Not Found error in `ceilometer-upgrade` command. It\nseems the error is caused by gnocchi that of log says messages as\nfollowing.\n\nAug 12 19:22:57.327857 ubuntu-bionic-rax-ord-0019237310 systemd[1]:\nStarting Devstack devstack@gnocchi-api.service...\nAug 12 19:22:57.337029 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: [uWSGI] getting INI configuration\nfrom /etc/gnocchi/uwsgi.ini\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./http_plugin.so""): No such\nfile or directory [core/utils.c line 3732]\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: !!! UNABLE to load uWSGI plugin:\n./http_plugin.so: cannot open shared object file: No such file or\ndirectory !!!\nAug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310\ndevstack@gnocchi-api.service[6716]: open(""./python3_plugin.so""): No such\nfile or directory\n\nAn example of whole log can be found here.\nhttps://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fab/745616/2/check/tacker-functional-devstack-multinode-python3/fabe1cf/controller/logs/screen-gnocchi-api.txt\n\nChange-Id: I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",0,746575,2a20bd0607645fd43a6e59212968fdedc0fc7859,9,2,3,25701,,,0,"DNM: Fix ceilometer-upgrade

This update is to fix a failure of zuul check.

Zuul check `tacker-functional-devstack-multinode-python3` is failed
because for 404 Not Found error in `ceilometer-upgrade` command. It
seems the error is caused by gnocchi that of log says messages as
following.

Aug 12 19:22:57.327857 ubuntu-bionic-rax-ord-0019237310 systemd[1]:
Starting Devstack devstack@gnocchi-api.service...
Aug 12 19:22:57.337029 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: [uWSGI] getting INI configuration
from /etc/gnocchi/uwsgi.ini
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: open(""./http_plugin.so""): No such
file or directory [core/utils.c line 3732]
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: !!! UNABLE to load uWSGI plugin:
./http_plugin.so: cannot open shared object file: No such file or
directory !!!
Aug 12 19:22:57.337624 ubuntu-bionic-rax-ord-0019237310
devstack@gnocchi-api.service[6716]: open(""./python3_plugin.so""): No such
file or directory

An example of whole log can be found here.
https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_fab/745616/2/check/tacker-functional-devstack-multinode-python3/fabe1cf/controller/logs/screen-gnocchi-api.txt

Change-Id: I28d5ebbb7c70253d11508f0bf7b6b62c5ece5135
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/75/746575/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,5a9213532e021a6c9e32040ea4debe78a977c27e,fix-gnocchi-plugin,apt-get install uwsgi-plugin-all python3-dev ,,2,0
openstack%2Fpuppet-barbican~stable%2Fussuri~I3baa7af29970b4da25ff67a54e473c32ee6ad40f,openstack/puppet-barbican,stable/ussuri,I3baa7af29970b4da25ff67a54e473c32ee6ad40f,Expose vhost_custom_fragment,MERGED,2020-08-17 14:47:29.000000000,2020-08-18 08:58:32.000000000,2020-08-18 08:58:32.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 14:47:29.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/barbican_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/288dced2d324e7e68af86f1e95603a8b5c4ae5bf', 'message': ""Expose vhost_custom_fragment\n\nIt is provided by the Puppet class 'openstacklib::wsgi::apache'.\nThis change exposes it for the Barbican service.\n\nChange-Id: I3baa7af29970b4da25ff67a54e473c32ee6ad40f\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 257f929622f9e8e0791930fca3b1069accf03c50)\n""}]",0,746521,288dced2d324e7e68af86f1e95603a8b5c4ae5bf,7,3,1,25877,,,0,"Expose vhost_custom_fragment

It is provided by the Puppet class 'openstacklib::wsgi::apache'.
This change exposes it for the Barbican service.

Change-Id: I3baa7af29970b4da25ff67a54e473c32ee6ad40f
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 257f929622f9e8e0791930fca3b1069accf03c50)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/21/746521/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/barbican_wsgi_apache_spec.rb']",2,288dced2d324e7e68af86f1e95603a8b5c4ae5bf,," :vhost_custom_fragment => 'Timeout 99', :vhost_custom_fragment => 'Timeout 99',",,9,0
openstack%2Fpuppet-glance~master~I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326,openstack/puppet-glance,master,I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326,Add support for db purge cron jobs,MERGED,2020-08-17 08:15:25.000000000,2020-08-18 08:34:48.000000000,2020-08-18 08:32:55.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-17 08:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/de91bf0ae17e708512412f1d1b2ce023fe3a681a', 'message': 'Add support for db purge cron jobs\n\nThis patch introduces the following 2 classes to manage cron jobs to\npurge deleted records from database.\n - glance::cron::db_purge\n - glance::cron::db_purge_images_table\n\nChange-Id: I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326\n'}, {'number': 2, 'created': '2020-08-17 08:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/cdef78faed828c9de6ab862ca2d7e7bd9f4910e4', 'message': 'Add support for db purge cron jobs\n\nThis patch introduces the following 2 classes to manage cron jobs to\npurge deleted records from database.\n - glance::cron::db_purge\n - glance::cron::db_purge_images_table\n\nNote that purging the images table can cause a security risk. Users\nshould read and understand the implications of OSSN-0075[1] before they\nuse the glance::cron::db_purge_images_table class.\n [1] https://wiki.openstack.org/wiki/OSSN/OSSN-0075\n\nChange-Id: I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326\n'}, {'number': 3, 'created': '2020-08-17 10:40:56.000000000', 'files': ['spec/classes/glance_cron_db_purge_spec.rb', 'manifests/cron/db_purge_images_table.pp', 'spec/classes/glance_cron_db_purge_images_table_spec.rb', 'manifests/cron/db_purge.pp', 'releasenotes/notes/cron-db_purge-bbb2a1adb325e3b5.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/43f08226c3917b6aa5244880546040c8dbf66ab3', 'message': 'Add support for db purge cron jobs\n\nThis patch introduces the following 2 classes to manage cron jobs to\npurge deleted records from database.\n - glance::cron::db_purge\n - glance::cron::db_purge_images_table\n\nNote that purging the images table can cause a security risk. Users\nshould read and understand the implications of OSSN-0075[1] before they\nuse the glance::cron::db_purge_images_table class.\n [1] https://wiki.openstack.org/wiki/OSSN/OSSN-0075\n\nChange-Id: I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326\n'}]",0,746452,43f08226c3917b6aa5244880546040c8dbf66ab3,12,3,3,9816,,,0,"Add support for db purge cron jobs

This patch introduces the following 2 classes to manage cron jobs to
purge deleted records from database.
 - glance::cron::db_purge
 - glance::cron::db_purge_images_table

Note that purging the images table can cause a security risk. Users
should read and understand the implications of OSSN-0075[1] before they
use the glance::cron::db_purge_images_table class.
 [1] https://wiki.openstack.org/wiki/OSSN/OSSN-0075

Change-Id: I53f0d0b5cbbb2361d34927800b5b3dcf8a0dc326
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/52/746452/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_cron_db_purge_spec.rb', 'manifests/cron/db_purge_images_table.pp', 'spec/classes/glance_cron_db_purge_images_table_spec.rb', 'manifests/cron/db_purge.pp', 'releasenotes/notes/cron-db_purge-bbb2a1adb325e3b5.yaml']",5,de91bf0ae17e708512412f1d1b2ce023fe3a681a,db_purge,--- features: - | The new ``glance::cron::db_purge`` class has been added. This class manages a cron job to run ``glance db purge`` command periodically. - | The new ``glance::cron::db_purge_images_table`` class has been added. This class manages a cron job to run ``glance db purge_images_table`` command periodically. ,,332,0
