id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fironic-lib~master~Icd7bb4b1080163ee076f406170b610d99590415a,openstack/ironic-lib,master,Icd7bb4b1080163ee076f406170b610d99590415a,[DNM] test unprivileged qemu convert,ABANDONED,2021-02-24 08:21:52.000000000,2021-03-02 09:17:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 08:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e47b0f5fcd9a05fc3b77c77bcbf3ea6fc143be84', 'message': '[DNM] test unprivileged qemu convert\n\nChange-Id: Icd7bb4b1080163ee076f406170b610d99590415a\n'}, {'number': 2, 'created': '2021-02-24 10:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/71e03524c46ca09ba9706a0c11b321e2a8a45541', 'message': '[DNM] test unprivileged qemu convert\n\nChange-Id: Icd7bb4b1080163ee076f406170b610d99590415a\n'}, {'number': 3, 'created': '2021-02-24 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0d12b1154c3de70dccf5c21521a317f094d75a03', 'message': '[DNM] test unprivileged qemu convert\n\nChange-Id: Icd7bb4b1080163ee076f406170b610d99590415a\n'}, {'number': 4, 'created': '2021-02-25 09:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/143cc6de45101838b6c4d3e1ec0c69fde37cf0ae', 'message': '[DNM] test unprivileged qemu convert\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/777529\n\nChange-Id: Icd7bb4b1080163ee076f406170b610d99590415a\n'}, {'number': 5, 'created': '2021-02-25 14:13:38.000000000', 'files': ['ironic_lib/privsep/qemu.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/088c12d7b90fe37deb3c916078366e620a24b694', 'message': '[DNM] test unprivileged qemu convert\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/777529\n\nChange-Id: Icd7bb4b1080163ee076f406170b610d99590415a\n'}]",0,777312,088c12d7b90fe37deb3c916078366e620a24b694,14,1,5,23851,,,0,"[DNM] test unprivileged qemu convert

Depends-On: https://review.opendev.org/c/openstack/ironic/+/777529

Change-Id: Icd7bb4b1080163ee076f406170b610d99590415a
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/12/777312/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/privsep/qemu.py'],1,e47b0f5fcd9a05fc3b77c77bcbf3ea6fc143be84,privsep-migration,,@ironic_lib.privsep.sys_admin_pctxt.entrypoint,0,1
openstack%2Ftripleo-validations~stable%2Fstein~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,stable/stein,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,ABANDONED,2021-02-08 10:07:07.000000000,2021-03-02 08:50:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-08 10:07:07.000000000', 'files': ['roles/tripleo_validations/tasks/test_script.yml', 'roles/tripleo_validations/tasks/run.yml', 'roles/tripleo_validations/defaults/main.yml', 'roles/tripleo_validations/templates/run-validations-cli-tests.sh.j2', 'roles/tripleo_validations/tasks/main.yml', 'roles/tripleo_validations/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/663c1a26b8120d0414df4803f8d4850646fa57f4', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)\n(cherry picked from commit fc10280e4e349b6e3115423716cd388d91bdd6eb)\n'}]",0,774403,663c1a26b8120d0414df4803f8d4850646fa57f4,3,1,1,16515,,,0,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
(cherry picked from commit 02b1fcfdbef8bd685036833fc9d28451bd8b880f)
(cherry picked from commit fc10280e4e349b6e3115423716cd388d91bdd6eb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/774403/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validations/tasks/test_script.yml', 'roles/tripleo_validations/tasks/run.yml', 'roles/tripleo_validations/defaults/main.yml', 'roles/tripleo_validations/templates/run-validations-cli-tests.sh.j2', 'roles/tripleo_validations/tasks/main.yml', 'roles/tripleo_validations/vars/main.yml']",6,663c1a26b8120d0414df4803f8d4850646fa57f4,755390-stable/victoria-stable/ussuri-stable/train-stable/stein,--- validations_list: compute: - nova-status - nova-svirt network: - neutron-sanity-check validation: - check-ram - check-cpu - 512e tripleo: - undercloud-disk-space validations_group: compute: - compute network: - network ,,263,0
openstack%2Fcyborg~master~Ida8f8d519792fe5e2748a67be5c502415dd4fe41,openstack/cyborg,master,Ida8f8d519792fe5e2748a67be5c502415dd4fe41,Update server operations support in matrix,MERGED,2021-03-01 08:34:34.000000000,2021-03-02 08:48:10.000000000,2021-03-02 08:46:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-01 08:34:34.000000000', 'files': ['doc/source/reference/support-matrix.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7b1b9fb020a015cad39a56a6d86b7dbe8930d456', 'message': 'Update server operations support in matrix\n\nWe have already supported rebuild/evacuate[1] and shelve/unshelve[2]\na server with binding an accelerator. The evacuate and rebuild a server\nhas the same openstack command, so we just need to use ``openstack\nserver rebuild``.\n\n[1]https://review.opendev.org/c/openstack/nova/+/715326\n[2]https://review.opendev.org/c/openstack/nova/+/729563\n\nChange-Id: Ida8f8d519792fe5e2748a67be5c502415dd4fe41\n'}]",0,777939,7b1b9fb020a015cad39a56a6d86b7dbe8930d456,8,3,1,26458,,,0,"Update server operations support in matrix

We have already supported rebuild/evacuate[1] and shelve/unshelve[2]
a server with binding an accelerator. The evacuate and rebuild a server
has the same openstack command, so we just need to use ``openstack
server rebuild``.

[1]https://review.opendev.org/c/openstack/nova/+/715326
[2]https://review.opendev.org/c/openstack/nova/+/729563

Change-Id: Ida8f8d519792fe5e2748a67be5c502415dd4fe41
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/39/777939/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.rst'],1,7b1b9fb020a015cad39a56a6d86b7dbe8930d456,," * - Rebuild/Evacuate - ``openstack server rebuild`` * - Shelve/Unshelve - ``openstack server shelve``, ``openstack server unshelve``",,4,0
openstack%2Fopenstack-ansible-os_nova~master~I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,openstack/openstack-ansible-os_nova,master,I3fd8ff71ed628cdd2dc3883c160d2040542bbbff,format rst code and add bug link,ABANDONED,2018-09-06 02:57:49.000000000,2021-03-02 08:01:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-06 02:57:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/93f76eff573ec64e50c48b244a6e031e08a44f6e', 'message': 'format rst code and add bug link\n\nChange-Id: I3fd8ff71ed628cdd2dc3883c160d2040542bbbff\n'}]",0,600315,93f76eff573ec64e50c48b244a6e031e08a44f6e,7,3,1,21486,,,0,"format rst code and add bug link

Change-Id: I3fd8ff71ed628cdd2dc3883c160d2040542bbbff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/15/600315/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,93f76eff573ec64e50c48b244a6e031e08a44f6e,, https://docs.openstack.org/openstack-ansible-os_nova/latest/ https://docs.openstack.org/releasenotes/openstack-ansible-os_nova/ https://launchpad.net/openstack-ansible The bugs is at: https://bugs.launchpad.net/openstack-ansible,`<https://docs.openstack.org/openstack-ansible-os_nova/latest/>`_`<https://docs.openstack.org/releasenotes/openstack-ansible-os_nova/>`_`<https://launchpad.net/openstack-ansible>`_,6,3
openstack%2Fopenstack-ansible-haproxy_server~master~I4284391583566fc44f3501750c5893056c31385f,openstack/openstack-ansible-haproxy_server,master,I4284391583566fc44f3501750c5893056c31385f,add bug link,ABANDONED,2018-09-06 03:11:25.000000000,2021-03-02 08:00:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-09-06 03:11:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/46381d86948867ae69a023a7ddd5daeaa22e0927', 'message': 'add bug link\n\nChange-Id: I4284391583566fc44f3501750c5893056c31385f\n'}]",1,600317,46381d86948867ae69a023a7ddd5daeaa22e0927,9,3,1,21486,,,0,"add bug link

Change-Id: I4284391583566fc44f3501750c5893056c31385f
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/17/600317/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,46381d86948867ae69a023a7ddd5daeaa22e0927,, The bugs is at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Fcinder~master~I353a80ed314214ea9b9313cffa464e873b848cbb,openstack/cinder,master,I353a80ed314214ea9b9313cffa464e873b848cbb,Sets vol perms to match nas_secure_file_permissions,NEW,2020-06-08 22:53:41.000000000,2021-03-02 07:53:29.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25820}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-06-08 22:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/711ae7b896d7e2995af18c46302a0c1881e26df2', 'message': 'Set snap permissions to match nas_secure_file_permissions\n\nChange-Id: I353a80ed314214ea9b9313cffa464e873b848cbb\nCloses-Bug: #1882603\n'}, {'number': 2, 'created': '2020-06-09 02:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4810c686dfcd8ffe6a097c98c05b816113c14867', 'message': 'Set snap permissions to match nas_secure_file_permissions\n\nChange-Id: I353a80ed314214ea9b9313cffa464e873b848cbb\nCloses-Bug: #1882603\n'}, {'number': 3, 'created': '2021-02-22 13:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2ab7c5d1a6bacdc2c943fb1205556a71682b842', 'message': 'When creating new instance from snap it sets volume permissions to match nas_secure_file_permissions\n\nChange-Id: I353a80ed314214ea9b9313cffa464e873b848cbb\nCloses-Bug: #1882603\n'}, {'number': 4, 'created': '2021-02-22 13:51:54.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42b85f0e4527c33699a03ee72f782ca2d79e1c55', 'message': 'Sets vol perms to match nas_secure_file_permissions\n\nWhen creating new instance from snap it sets volume permissions\nto match nas_secure_file_permissions\n\nChange-Id: I353a80ed314214ea9b9313cffa464e873b848cbb\nCloses-Bug: #1882603\n'}]",2,734343,42b85f0e4527c33699a03ee72f782ca2d79e1c55,85,28,4,25820,,,0,"Sets vol perms to match nas_secure_file_permissions

When creating new instance from snap it sets volume permissions
to match nas_secure_file_permissions

Change-Id: I353a80ed314214ea9b9313cffa464e873b848cbb
Closes-Bug: #1882603
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/734343/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,711ae7b896d7e2995af18c46302a0c1881e26df2,bug/1882603, self._set_rw_permissions(path_to_new_vol), self._set_rw_permissions_for_all(path_to_new_vol),1,1
openstack%2Fcharm-ceph-mon~master~Iefd8d305409ba97804795eef9a5add81103d05a2,openstack/charm-ceph-mon,master,Iefd8d305409ba97804795eef9a5add81103d05a2,Block same broker_req from running twice,MERGED,2018-07-20 20:27:10.000000000,2021-03-02 07:50:33.000000000,2021-03-02 07:50:33.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 7730}, {'_account_id': 8992}, {'_account_id': 10366}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 24824}, {'_account_id': 26040}, {'_account_id': 28510}, {'_account_id': 30561}, {'_account_id': 31289}, {'_account_id': 31959}]","[{'number': 1, 'created': '2018-07-20 20:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0dbf703600ab4b2aa722cac861dcdeab50215b9d', 'message': 'Block same broker_req from running twice\nGoal is to avoid broker request retrials for every hook called on ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\n'}, {'number': 2, 'created': '2018-08-09 15:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/601338475a9b38e0b6b1a7858ea14cf38481c866', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\n'}, {'number': 3, 'created': '2018-08-10 07:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/485fad67145b4ab8fd2b0cfe1d1f08abab165776', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\n'}, {'number': 4, 'created': '2021-02-03 04:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7a2de1b5543c901ef4a0fedc731ae9b0901ec022', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 5, 'created': '2021-02-03 12:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7ba79bda446c606888e138b856ebf4f992a536ad', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 6, 'created': '2021-02-03 12:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/512c0f44debb77b8b3293ac4b23d5ee7783a524d', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 7, 'created': '2021-02-04 08:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d2bd1c83d327459a36ec6a948b1b5f6ec5c68f35', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 8, 'created': '2021-02-08 06:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b567805346e7e27ccc640e5decf482e4a74d3e71', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 9, 'created': '2021-02-17 10:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a107f500b964a982a56ca5a834c318b6d708c580', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}, {'number': 10, 'created': '2021-02-18 06:30:25.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/490bba84975b4f38220ad458d10ca7ad18e85cf3', 'message': 'Block same broker_req from running twice\n\nGoal is to avoid broker request retrials for every hook called\non ceph-mon\n\nChange-Id: Iefd8d305409ba97804795eef9a5add81103d05a2\nCloses-Bug: #1773910\nPartial-Bug: #1913992\n'}]",21,584506,490bba84975b4f38220ad458d10ca7ad18e85cf3,69,23,10,28510,,,0,"Block same broker_req from running twice

Goal is to avoid broker request retrials for every hook called
on ceph-mon

Change-Id: Iefd8d305409ba97804795eef9a5add81103d05a2
Closes-Bug: #1773910
Partial-Bug: #1913992
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/06/584506/10 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,0dbf703600ab4b2aa722cac861dcdeab50215b9d,bug/1773910," @patch.object(ceph_hooks, 'req_already_treated') req_already_treated, req_already_treated.return_value = False @patch.object(ceph_hooks, 'local_unit') @patch.object(ceph_hooks.ceph, 'is_quorum') @patch.object(ceph_hooks, 'remote_unit') @patch.object(ceph_hooks, 'relation_get') @patch.object(ceph_hooks.ceph, 'is_leader') @patch.object(ceph_hooks, 'process_requests') def test_multi_broker_req_ignored_on_rel(self, process_requests, is_leader, relation_get, remote_unit, is_quorum, local_unit): is_leader.return_value = True relation_get.side_effect = [{'broker_req': {'request-id': '1'}}, {'broker-rsp-glance-0': {""request-id"": ""1""}}] remote_unit.return_value = None is_quorum.return_value = True local_unit.return_value = ""mon/0"" ceph_hooks.client_relation_changed(relid='rel1', unit='glance/0') process_requests.assert_not_called() ",,61,0
openstack%2Fmasakari~stable%2Ftrain~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/train,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:08:18.000000000,2021-03-02 07:31:14.000000000,2021-03-02 07:29:30.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26463}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-25 07:08:18.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9280560731c91cfbf52c0afd546534ba113e83e5', 'message': 'Allow segment description to be multiline\n\nThis patch allows user to pass a multiline description for\na failover segment.\n\nCloses-Bug: #1776385\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)\n'}]",0,777331,9280560731c91cfbf52c0afd546534ba113e83e5,9,4,1,30491,,,0,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/31/777331/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py']",3,9280560731c91cfbf52c0afd546534ba113e83e5,bug/1776385-stable/victoria-stable/ussuri-stable/train," def test_create_with_multiline_description(self, mock_create): body = { ""segment"": { ""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto"", ""description"": ""failover_segment\nfor\ncompute"" } } mock_create.return_value = FAILOVER_SEGMENT result = self.controller.create(self.req, body=body) result = result['segment'] self._assert_segment_data(FAILOVER_SEGMENT, _make_segment_obj(result)) @mock.patch.object(ha_api.FailoverSegmentAPI, 'create_segment')",,21,1
openstack%2Fmasakari~stable%2Fussuri~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/ussuri,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:31.000000000,2021-03-02 07:26:27.000000000,2021-03-02 07:24:43.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26463}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-25 07:07:31.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b5ecfde6d2bd043188e220cdc88fd96fe8e93a7f', 'message': 'Allow segment description to be multiline\n\nThis patch allows user to pass a multiline description for\na failover segment.\n\nCloses-Bug: #1776385\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)\n'}]",0,777330,b5ecfde6d2bd043188e220cdc88fd96fe8e93a7f,9,4,1,30491,,,0,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/30/777330/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py']",3,b5ecfde6d2bd043188e220cdc88fd96fe8e93a7f,bug/1776385-stable/victoria-stable/ussuri," def test_create_with_multiline_description(self, mock_create): body = { ""segment"": { ""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto"", ""description"": ""failover_segment\nfor\ncompute"" } } mock_create.return_value = FAILOVER_SEGMENT result = self.controller.create(self.req, body=body) result = result['segment'] self._assert_segment_data(FAILOVER_SEGMENT, _make_segment_obj(result)) @mock.patch.object(ha_api.FailoverSegmentAPI, 'create_segment')",,21,1
openstack%2Fmasakari~stable%2Fvictoria~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,stable/victoria,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2021-02-25 07:07:13.000000000,2021-03-02 07:26:00.000000000,2021-03-02 07:24:39.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26463}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-25 07:07:13.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9af584c5c92adaf9b172351ada9bfaed24d4ef36', 'message': 'Allow segment description to be multiline\n\nThis patch allows user to pass a multiline description for\na failover segment.\n\nCloses-Bug: #1776385\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)\n'}]",0,777329,9af584c5c92adaf9b172351ada9bfaed24d4ef36,9,4,1,30491,,,0,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
(cherry picked from commit d7f47f262799b285080cb08830560891c532a5a1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/29/777329/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py']",3,9af584c5c92adaf9b172351ada9bfaed24d4ef36,bug/1776385-stable/victoria," def test_create_with_multiline_description(self, mock_create): body = { ""segment"": { ""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto"", ""description"": ""failover_segment\nfor\ncompute"" } } mock_create.return_value = FAILOVER_SEGMENT result = self.controller.create(self.req, body=body) result = result['segment'] self._assert_segment_data(FAILOVER_SEGMENT, _make_segment_obj(result)) @mock.patch.object(ha_api.FailoverSegmentAPI, 'create_segment')",,21,1
openstack%2Fcompute-hyperv~master~I62a25676267b54bf2b4b215d1bfe9b39031e4c83,openstack/compute-hyperv,master,I62a25676267b54bf2b4b215d1bfe9b39031e4c83,wip: Update port provider mappings when handling failovers,ABANDONED,2020-02-11 09:57:45.000000000,2021-03-02 07:20:26.000000000,,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-11 09:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/29ccf3f1030eff5bf935803ba977eb6243f19dd7', 'message': 'wip: Update port provider mappings when handling failovers\n\nnetwork_api.migrate_instance_finish now requires an argument\ncalled ""provider_mappings"". As the name suggests, it\'s a dict\nproviding mappings between port ids and the resource provider ids.\n\nThis is used as part of the Neutron QoS feature, which counts allocated\nbandwidth using the placement service in order to provide minimum\nIOPS levels.\n\nChange-Id: I62a25676267b54bf2b4b215d1bfe9b39031e4c83\n'}, {'number': 2, 'created': '2020-02-13 08:27:47.000000000', 'files': ['compute_hyperv/nova/cluster/clusterops.py', 'compute_hyperv/nova/utils/placement.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0c902c4c084c4ab6a3abe93324c634ff6097f904', 'message': 'wip: Update port provider mappings when handling failovers\n\nnetwork_api.migrate_instance_finish now requires an argument\ncalled ""provider_mappings"". As the name suggests, it\'s a dict\nproviding mappings between port ids and the resource provider ids.\n\nThis is used as part of the Neutron QoS feature, which counts allocated\nbandwidth using the placement service in order to provide minimum\nIOPS levels.\n\nChange-Id: I62a25676267b54bf2b4b215d1bfe9b39031e4c83\n'}]",0,707089,0c902c4c084c4ab6a3abe93324c634ff6097f904,7,2,2,8543,,,0,"wip: Update port provider mappings when handling failovers

network_api.migrate_instance_finish now requires an argument
called ""provider_mappings"". As the name suggests, it's a dict
providing mappings between port ids and the resource provider ids.

This is used as part of the Neutron QoS feature, which counts allocated
bandwidth using the placement service in order to provide minimum
IOPS levels.

Change-Id: I62a25676267b54bf2b4b215d1bfe9b39031e4c83
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/89/707089/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/cluster/clusterops.py', 'compute_hyperv/nova/utils/placement.py']",2,29ccf3f1030eff5bf935803ba977eb6243f19dd7,port_provider," def get_instance_allocations(self, context, instance, hostname): cn_uuid = objects.ComputeNode.get_by_host_and_nodename( context, hostname, hostname).uuid allocs = self._get_allocs_for_consumer( context, instance.uuid, version=CONSUMER_GENERATION_VERSION) return allocs['allocations'].get(hostname) ",,29,2
openstack%2Fglance_store~master~I6b082730619d05ec386eb7454564b60c78f91366,openstack/glance_store,master,I6b082730619d05ec386eb7454564b60c78f91366,rbd: ensure the client is installed,ABANDONED,2019-09-05 12:13:04.000000000,2021-03-02 07:19:08.000000000,,"[{'_account_id': 5202}, {'_account_id': 8543}, {'_account_id': 9303}, {'_account_id': 9531}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 12:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bed3d52a5ac2ed211728c9cd638470002037d54d', 'message': 'rbd: ensure the client is installed\n\nThis patch will check that the ceph client is available when\ninitializing the rbd store configuration, throwing\nBadStoreConfiguration otherwise, in which case the store will be\nskipped.\n\nThis will also allow the Glance tests to run when the ceph client\nis missing.\n\nChange-Id: I6b082730619d05ec386eb7454564b60c78f91366\n'}, {'number': 2, 'created': '2020-02-26 09:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ad608d49305342f2329bf303ac69196ebee6f51c', 'message': 'rbd: ensure the client is installed\n\nThis patch will check that the ceph client is available when\ninitializing the rbd store configuration, throwing\nBadStoreConfiguration otherwise, in which case the store will be\nskipped.\n\nThis will also allow the Glance tests to run when the ceph client\nis missing.\n\nChange-Id: I6b082730619d05ec386eb7454564b60c78f91366\n'}, {'number': 3, 'created': '2020-09-15 07:42:42.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/833b6a8f2c8268bdeb87c57617a3bf882f0ef55d', 'message': 'rbd: ensure the client is installed\n\nThis patch will check that the ceph client is available when\ninitializing the rbd store configuration, throwing\nBadStoreConfiguration otherwise, in which case the store will be\nskipped.\n\nThis will also allow the Glance tests to run when the ceph client\nis missing.\n\nChange-Id: I6b082730619d05ec386eb7454564b60c78f91366\n'}]",1,680388,833b6a8f2c8268bdeb87c57617a3bf882f0ef55d,16,6,3,8543,,,0,"rbd: ensure the client is installed

This patch will check that the ceph client is available when
initializing the rbd store configuration, throwing
BadStoreConfiguration otherwise, in which case the store will be
skipped.

This will also allow the Glance tests to run when the ceph client
is missing.

Change-Id: I6b082730619d05ec386eb7454564b60c78f91366
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/88/680388/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/rbd.py'],1,bed3d52a5ac2ed211728c9cd638470002037d54d,rbd," if not (rbd and rados): reason = _(""The Python Ceph client is missing."") raise exceptions.BadStoreConfiguration(store_name='rbd', reason=reason) ",,5,0
openstack%2Frequirements~master~I78db12410381908335b86d27d34ec8e7fe594853,openstack/requirements,master,I78db12410381908335b86d27d34ec8e7fe594853,Cross-check with Masakari,MERGED,2021-02-02 14:38:16.000000000,2021-03-02 07:05:44.000000000,2021-02-26 23:35:14.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24501}]","[{'number': 1, 'created': '2021-02-02 14:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b6a1dd57b107155eaf86901a8e825270796fe1b4', 'message': '[WIP] Cross-check with Masakari\n\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/771437\nChange-Id: I78db12410381908335b86d27d34ec8e7fe594853\n'}, {'number': 2, 'created': '2021-02-03 08:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ed97fa8fbd753efa9e784758e3b40dc7991c786', 'message': '[WIP] Cross-check with Masakari\n\nDepends-On: https://review.opendev.org/c/openstack/masakari/+/771437\nChange-Id: I78db12410381908335b86d27d34ec8e7fe594853\n'}, {'number': 3, 'created': '2021-02-26 06:33:32.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/51c36c8353c21e2434961ad33a5bfdb8647625b6', 'message': 'Cross-check with Masakari\n\nChange-Id: I78db12410381908335b86d27d34ec8e7fe594853\n'}]",0,773695,51c36c8353c21e2434961ad33a5bfdb8647625b6,25,4,3,30491,,,0,"Cross-check with Masakari

Change-Id: I78db12410381908335b86d27d34ec8e7fe594853
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/773695/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml']",2,b6a1dd57b107155eaf86901a8e825270796fe1b4,cross-masakari, name: cross-masakari-py36 parent: requirements-cross-test description: Run cross-project tests on masakari with py36. required-projects: openstack/masakari vars: tox_envlist: py36 - job:,,10,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I20dc57a02a315ca361883b73e4fb1cb98cf438cb,openstack/tripleo-heat-templates,stable/train,I20dc57a02a315ca361883b73e4fb1cb98cf438cb,pcs commands on host: haproxy bundle,MERGED,2021-02-18 13:14:19.000000000,2021-03-02 07:04:36.000000000,2021-02-23 22:21:04.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 13:14:19.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7cceb0f9a5c177868969a8681ed294707fe3f09', 'message': 'pcs commands on host: haproxy bundle\n\nThis implements the creation of the haproxy bundle on the host.\nThe testing protocol used is documented in the depends-on.\n\nThe reason for adding a post_update task is that during a minor update\nthe deployment tasks are not run during the node update procedure but\nonly during the final converge. So we ran the role again there to make\nsure that any config change will trigger a restart during the minor\nupdate, so the disruption is only local to the single node being\nupdated. If we did not do this a final converge could potentially\ntrigger a global restart of HA bundles which would be quite disruptive.\n\nNB: We had to remove a few tags that were present befaure because we want\nto avoid that puppet checks for /etc/haproxy/haproxy.cfg existence\non the host.\n\nNB: Some conflicts, mainly around context changes\n\nRelated-Bug: #1863442\n\nDepends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696\n\nChange-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb\n(cherry picked from commit a11622359002597c7f32c6efeda745b8500a34e6)\n(cherry picked from commit 3f8c22b5614253d201b834f4d1586da4a386391d)\n'}]",0,776430,a7cceb0f9a5c177868969a8681ed294707fe3f09,16,4,1,20172,,,0,"pcs commands on host: haproxy bundle

This implements the creation of the haproxy bundle on the host.
The testing protocol used is documented in the depends-on.

The reason for adding a post_update task is that during a minor update
the deployment tasks are not run during the node update procedure but
only during the final converge. So we ran the role again there to make
sure that any config change will trigger a restart during the minor
update, so the disruption is only local to the single node being
updated. If we did not do this a final converge could potentially
trigger a global restart of HA bundles which would be quite disruptive.

NB: We had to remove a few tags that were present befaure because we want
to avoid that puppet checks for /etc/haproxy/haproxy.cfg existence
on the host.

NB: Some conflicts, mainly around context changes

Related-Bug: #1863442

Depends-On: Iaa7e89f0d25221c2a6ef0b81eb88a6f496f01696

Change-Id: I20dc57a02a315ca361883b73e4fb1cb98cf438cb
(cherry picked from commit a11622359002597c7f32c6efeda745b8500a34e6)
(cherry picked from commit 3f8c22b5614253d201b834f4d1586da4a386391d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/776430/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,a7cceb0f9a5c177868969a8681ed294707fe3f09,train-pcshost," - name: HAproxy HA Wrappers Step when: step|int == 2 block: &haproxy_puppet_bundle - name: HAproxy puppet bundle import_role: name: tripleo_ha_wrapper vars: tripleo_ha_wrapper_service_name: haproxy tripleo_ha_wrapper_resource_name: haproxy-bundle tripleo_ha_wrapper_bundle_name: haproxy-bundle tripleo_ha_wrapper_resource_state: Started tripleo_ha_wrapper_puppet_config_volume: haproxy tripleo_ha_wrapper_puppet_execute: 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' tripleo_ha_wrapper_puppet_tags: 'pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' tripleo_ha_wrapper_puppet_debug: {get_param: ConfigDebug} post_update_tasks: - name: HAProxy bundle post update when: step|int == 1 block: *haproxy_puppet_bundle vars: tripleo_ha_wrapper_minor_update: true "," docker_config: step_2: haproxy_init_bundle: start_order: 2 detach: false net: host ipc: host user: root privileged: true command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '2' - 'file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ip,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation' - 'include ::tripleo::profile::base::pacemaker; include ::tripleo::profile::pacemaker::haproxy_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - yaql: expression: $.data.select($+"":""+$+"":ro"") data: *tls_mapping_init_bundle - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} haproxy_restart_bundle: start_order: 3 detach: false net: host ipc: host user: root config_volume: haproxy environment: TRIPLEO_MINOR_UPDATE: '' command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh haproxy haproxy-bundle haproxy-bundle Started image: {get_param: ContainerHAProxyImage} volumes: list_concat: - {get_attr: [ContainersCommon, pacemaker_restart_volumes]} - - /var/lib/config-data/puppet-generated/haproxy:/var/lib/kolla/config_files/src:ro",22,49
openstack%2Fheat~master~Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,openstack/heat,master,Iff1e39481ea3b1f00bd89dba4a00aed30334ecec,Implement secure RBAC,MERGED,2020-12-15 14:19:05.000000000,2021-03-02 07:03:17.000000000,2021-03-02 07:01:28.000000000,"[{'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 14:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/202be519e79bf2a698c3ecb0d53dae24f910872f', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 2, 'created': '2020-12-16 09:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c57453356ce2d1528675dadce681eb1ae175c250', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 3, 'created': '2021-01-11 12:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5941bf0d802f64e158257dfaa66300d60bd9e76a', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 4, 'created': '2021-01-11 12:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e11c35f6ad2c53a4ca0a30e7562f102153abbafd', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 5, 'created': '2021-01-11 12:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/251aac77e526fe60e0aea5207a429fe9af393c7b', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 6, 'created': '2021-01-15 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f012d6d62c744f61648f00f0c8119634a7d0129', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 7, 'created': '2021-01-20 09:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dbfd39613602083ff3d97f81b4c74df1810dce18', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 8, 'created': '2021-01-20 09:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f66e6a9c5f59044dcbe6ce4ec40d48df0a909191', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 9, 'created': '2021-01-21 09:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/700f69f6d514d639d838167b91a4b414b340a963', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 10, 'created': '2021-01-21 11:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/89c5c9e3529333c4eb99665661630715b99b7591', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py and includes a change\nto how we declare someone an admin so that we keep it consistent with\ncurrent code\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 11, 'created': '2021-01-21 12:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c2dedc40d395e73afad0118e5f2e334ce084efe', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py and includes a change\nto how we declare someone an admin so that we keep it consistent with\ncurrent code\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 12, 'created': '2021-01-25 10:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ba149752ab1566228be7208a111ccb9e09012a42', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 13, 'created': '2021-02-09 14:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6909ef4be668ec2c9e69a3e9dfd2f0130c6617b9', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 14, 'created': '2021-02-09 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/18fb9d45db9034d190abd2d3f344e64aac348359', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 15, 'created': '2021-02-12 08:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13e653e09cc05a8b5bec8bd269412f977de931d1', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 16, 'created': '2021-02-12 10:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4413c3f077f5c237a69f5047465c73619f5bdee3', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 17, 'created': '2021-02-15 13:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e777aa2b1cf75ba43203a6357c7bee6ff1c0826a', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 18, 'created': '2021-02-16 10:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/395ebf41fef66a64b95a27c68a47debc16686120', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 19, 'created': '2021-02-16 13:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/485916b3ba94bfcd740d31cf81308ab7c1f324e9', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 20, 'created': '2021-02-18 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/63301145ae9f2805f4843e43a9142c51536b4f39', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 21, 'created': '2021-02-18 22:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/14316dd3484fd5582741e9f15c98f64d9deb7ae9', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 22, 'created': '2021-02-22 08:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cae64ca331a6e07e6ef9c3adb6b475df63e63e3e', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 23, 'created': '2021-02-22 10:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3261a37fe6c2bcc3b6d298968fa8d5513af55cb3', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 24, 'created': '2021-02-24 10:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5fe0b84944d328781b8ea8b6a16d439fa11ba57a', 'message': 'Introduce secure RBAC policies for the API\n\nIntroduce basic/reusable check strings in base.py\n\nThese check strings are useful for consuming default roles and enforcing\nscope types. This commit adds them to a common place so that we can\nre-use them in subsequent patches to update existing policies.\n\nImplement secure RBAC for build info API\nImplement secure RBAC for the action API\nImplement secure RBAC for cloud formations\nImplement secure RBAC for events\nImplement secure RBAC for the resource API\nImplement secure RBAC for the service API\nImplement secure RBAC for software configs\nImplement secure RBAC for software deployments\nImplement secure RBAC for stacks\n\nAlso included is a change to test the new system_scope before denying\naccess to tenant_id different from the current one.\n\nAnd the tests for legacy and new secure-rbac\n\nThis commit updates the build info policy to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 25, 'created': '2021-02-28 06:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7df560a35f237a23e3aa63d922e80975ee3961f8', 'message': 'Implement secure RBAC\n\nThis commit updates default policies to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\n- Introduces basic/reusable check strings in base.py\n- Implements secure RBAC for build info API\n- Implements secure RBAC for the action API\n- Implements secure RBAC for cloud formations\n- Implements secure RBAC for events\n- Implements secure RBAC for the resource API\n- Implements secure RBAC for the service API\n- Implements secure RBAC for software configs\n- Implements secure RBAC for software deployments\n- Implements secure RBAC for stacks\n- Adds unit tests for legacy and new secure-rbac policies.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 26, 'created': '2021-03-01 09:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/60ea7c4d346a7b0a239c3c0e9a6d4f6a0ae69d7b', 'message': 'Implement secure RBAC\n\nThis commit updates default policies to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\n- Introduces basic/reusable check strings in base.py\n- Implements secure RBAC for build info API\n- Implements secure RBAC for the action API\n- Implements secure RBAC for cloud formations\n- Implements secure RBAC for events\n- Implements secure RBAC for the resource API\n- Implements secure RBAC for the service API\n- Implements secure RBAC for software configs\n- Implements secure RBAC for software deployments\n- Implements secure RBAC for stacks\n- Adds unit tests for legacy and new secure-rbac policies.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}, {'number': 27, 'created': '2021-03-02 04:06:01.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py', 'heat/policies/events.py', 'heat/policies/service.py', 'heat/policies/base.py', 'heat/tests/utils.py', 'requirements.txt', 'heat/policies/cloudformation.py', 'heat/policies/software_deployments.py', 'heat/tests/policy/deny_stack_user.json', 'releasenotes/notes/support-rbac-824a2d02c8746d3d.yaml', 'heat/tests/policy/check_admin.json', 'lower-constraints.txt', 'heat/policies/build_info.py', 'heat/tests/test_common_policy.py', 'heat/api/openstack/v1/util.py', 'heat/policies/actions.py', 'heat/tests/api/openstack_v1/tools.py', 'heat/policies/stacks.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'heat/tests/policy/resources.json', 'heat/tests/policy/notallowed.json', 'heat/tests/policy/test_acl_personas.yaml', 'heat/tests/policy/test_deprecated_access.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/93594c30eca3a52366e8138a583a00dbe5927d7d', 'message': 'Implement secure RBAC\n\nThis commit updates default policies to account for system scope\nand default roles. This is part of a broader change to provide a\nconsistent and secure authorization experience across OpenStack\nprojects.\n\n- Introduces basic/reusable check strings in base.py\n- Implements secure RBAC for build info API\n- Implements secure RBAC for the action API\n- Implements secure RBAC for cloud formations\n- Implements secure RBAC for events\n- Implements secure RBAC for the resource API\n- Implements secure RBAC for the service API\n- Implements secure RBAC for software configs\n- Implements secure RBAC for software deployments\n- Implements secure RBAC for stacks\n- Adds unit tests for legacy and new secure-rbac policies.\n\nChange-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec\n'}]",91,767161,93594c30eca3a52366e8138a583a00dbe5927d7d,127,6,27,15895,,,0,"Implement secure RBAC

This commit updates default policies to account for system scope
and default roles. This is part of a broader change to provide a
consistent and secure authorization experience across OpenStack
projects.

- Introduces basic/reusable check strings in base.py
- Implements secure RBAC for build info API
- Implements secure RBAC for the action API
- Implements secure RBAC for cloud formations
- Implements secure RBAC for events
- Implements secure RBAC for the resource API
- Implements secure RBAC for the service API
- Implements secure RBAC for software configs
- Implements secure RBAC for software deployments
- Implements secure RBAC for stacks
- Adds unit tests for legacy and new secure-rbac policies.

Change-Id: Iff1e39481ea3b1f00bd89dba4a00aed30334ecec
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/767161/21 && git format-patch -1 --stdout FETCH_HEAD,"['heat/policies/actions.py', 'heat/policies/base.py', 'heat/policies/cloudformation.py', 'heat/policies/events.py', 'heat/policies/software_deployments.py', 'heat/policies/stacks.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'heat/policies/build_info.py', 'heat/tests/test_common_policy.py', 'heat/policies/service.py']",11,202be519e79bf2a698c3ecb0d53dae24f910872f,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The service API now supports system scope and default roles. """""" deprecated_index = policy.DeprecatedRule( name=POLICY_ROOT % 'index', check_str=base.RULE_CONTEXT_IS_ADMIN ) check_str=base.SYSTEM_READER, deprecated_rule=deprecated_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY )", check_str=base.RULE_CONTEXT_IS_ADMIN),799,125
openstack%2Fopenstack-helm-infra~master~I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,openstack/openstack-helm-infra,master,I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2,Enforce release notes updates,MERGED,2021-02-16 20:19:57.000000000,2021-03-02 06:36:32.000000000,2021-03-02 06:32:56.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-02-16 20:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7386e2cf9c1aa43cc0facd27300c3fdaabc09d9c', 'message': 'WIP - Update releasenotes to latest\n\nThis change updates the release notes for each chart to their\nlatest change and removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 2, 'created': '2021-02-22 16:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c81e7dd94a2dc21f7522b76fac694351eecce59', 'message': 'WIP - Update releasenotes to latest\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 3, 'created': '2021-02-22 19:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be9416f5af2430cc8184da0857d0db6bdf5d8f73', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 4, 'created': '2021-02-22 23:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68ca2e8a0ec03b84114677f7ba63adbc2580c359', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 5, 'created': '2021-02-22 23:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acea7192e2913e39028e58094e2450196bad261d', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 6, 'created': '2021-02-22 23:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/587c704f0ba675013b1659fbdf7bb9c63b15a3aa', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 7, 'created': '2021-02-22 23:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd776d09e9aea7147d3712c99151b2a78da9d5c4', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 8, 'created': '2021-02-23 00:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3f4fd4d03f7309176ebd9b7c41a91d5e7c5095b', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 9, 'created': '2021-02-23 00:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01d4fd89c08b3adf4847c879aa6ff0262c00626e', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 10, 'created': '2021-02-23 01:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21786dcac44462c62875b613a8022128f45e43ef', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 11, 'created': '2021-02-25 22:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9e2dced1b33278b46230472283b667ad2570779', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 12, 'created': '2021-03-01 22:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03baf7ffa7dd41de5037e97baf1fd3a87575b599', 'message': 'WIP - Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}, {'number': 13, 'created': '2021-03-01 22:55:16.000000000', 'files': ['playbooks/lint.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00334a7f8aa2704b2ed167063f91836fc4553d75', 'message': 'Enforce release notes updates\n\nThis change removes the ignore-errors parameter for the\nlinter in order to enforce release note updates per chart\nchange.\n\nChange-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2\n'}]",0,775927,00334a7f8aa2704b2ed167063f91836fc4553d75,40,5,13,21420,,,0,"Enforce release notes updates

This change removes the ignore-errors parameter for the
linter in order to enforce release note updates per chart
change.

Change-Id: I15f538be3c4ad253d5c4f64c21c0b1df10e7e5d2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/27/775927/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/lint.yml'],1,7386e2cf9c1aa43cc0facd27300c3fdaabc09d9c,reno-update,, # TODO(gagehugo): Remove this when all the release notes are updated ignore_errors: True,0,2
openstack%2Fnova~master~Ie7dc3247a0d6526224bed1af429234cc2403a70a,openstack/nova,master,Ie7dc3247a0d6526224bed1af429234cc2403a70a,libvirt: Remove dead code,MERGED,2021-01-28 17:27:44.000000000,2021-03-02 06:15:55.000000000,2021-03-02 02:06:17.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14614}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-28 17:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2661d1b7f8c994ba3dfa9020431aacbc872cd3df', 'message': 'libvirt: Remove dead code\n\nThe \'_prepare_pci_devices_for_use\' function is Xen-specific and should\nhave been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1\n(""libvirt: Drop support for Xen""). Remove it now.\n\nChange-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-01-29 12:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66eb8e4e24b1866a01257ff28164f430cfd67f03', 'message': 'libvirt: Remove dead code\n\nThe \'_prepare_pci_devices_for_use\' function is Xen-specific and should\nhave been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1\n(""libvirt: Drop support for Xen""). Remove it now.\n\nChange-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-03-01 11:07:36.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c23bda400a41adf206eaa7a269644928fd84cfc1', 'message': 'libvirt: Remove dead code\n\nThe \'_prepare_pci_devices_for_use\' function is Xen-specific and should\nhave been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1\n(""libvirt: Drop support for Xen""). Remove it now.\n\nChange-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,772928,c23bda400a41adf206eaa7a269644928fd84cfc1,54,8,3,15334,,,0,"libvirt: Remove dead code

The '_prepare_pci_devices_for_use' function is Xen-specific and should
have been removed in change I73305e82da5d8da548961b801a8e75fb0e8c4cf1
(""libvirt: Drop support for Xen""). Remove it now.

Change-Id: Ie7dc3247a0d6526224bed1af429234cc2403a70a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/772928/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,2661d1b7f8c994ba3dfa9020431aacbc872cd3df,mypy-integration,," def _prepare_pci_devices_for_use(self, pci_devices): # kvm , qemu support managed mode # In managed mode, the configured device will be automatically # detached from the host OS drivers when the guest is started, # and then re-attached when the guest shuts down. if CONF.libvirt.virt_type != 'xen': # we do manual detach only for xen return try: for dev in pci_devices: libvirt_dev_addr = dev['hypervisor_name'] libvirt_dev = \ self._host.device_lookup_by_name(libvirt_dev_addr) # Note(yjiang5) Spelling for 'dettach' is correct, see # http://libvirt.org/html/libvirt-libvirt.html. libvirt_dev.dettach() # Note(yjiang5): A reset of one PCI device may impact other # devices on the same bus, thus we need two separated loops # to detach and then reset it. for dev in pci_devices: libvirt_dev_addr = dev['hypervisor_name'] libvirt_dev = \ self._host.device_lookup_by_name(libvirt_dev_addr) libvirt_dev.reset() except libvirt.libvirtError as exc: raise exception.PciDevicePrepareFailed(id=dev['id'], instance_uuid= dev['instance_uuid'], reason=str(exc)) ",0,32
openstack%2Fpython-swiftclient~stable%2Fussuri~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/ussuri,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,ABANDONED,2021-03-01 21:01:55.000000000,2021-03-02 05:25:51.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 21:01:55.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/49f7cb6d814ccf5b9f2abdda56b784a9b185aa80', 'message': ""Fix multiple CI failures\n\n1. Clean up some requirements\n\n* Drop the py26 marker for futures; we don't support 2.6 anymore.\n* Split hacking version used based on python version.\n* Clean up sphinx split -- 2.0+ aren't available to install on py2,\n  anyway.\n\nDepends-On: https://review.opendev.org/#/c/752340/\nDepends-On: https://review.opendev.org/#/c/752736/\n(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)\n\n2. Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/777025\n(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)\n\nChange-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5\n""}]",0,778070,49f7cb6d814ccf5b9f2abdda56b784a9b185aa80,3,2,1,15197,,,0,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/70/778070/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",6,49f7cb6d814ccf5b9f2abdda56b784a9b185aa80,,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt .[keystone] ,6,58
openstack%2Fopenstack-helm~master~Ib7bc455631f288919296c3592e1cb891539e129d,openstack/openstack-helm,master,Ib7bc455631f288919296c3592e1cb891539e129d,DNM - Testing reno check,ABANDONED,2021-03-01 22:43:38.000000000,2021-03-02 04:20:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-01 22:43:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/780cc35675c83395012764cd972a9052f8c30dd3', 'message': 'DNM - Testing reno check\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/775927\nChange-Id: Ib7bc455631f288919296c3592e1cb891539e129d\n'}]",0,778087,780cc35675c83395012764cd972a9052f8c30dd3,4,2,1,21420,,,0,"DNM - Testing reno check

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/775927
Change-Id: Ib7bc455631f288919296c3592e1cb891539e129d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/778087/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,780cc35675c83395012764cd972a9052f8c30dd3,reno-check,, templates: - publish-openstack-docs-pti - release-notes-jobs-python3 - openstack-helm-bandit - openstack-helm-cinder-stein-ubuntu_bionic - openstack-helm-cinder-train-ubuntu_bionic - openstack-helm-cinder-ussuri-ubuntu_bionic - openstack-helm-compute-kit-stein-ubuntu_bionic - openstack-helm-compute-kit-train-ubuntu_bionic - openstack-helm-compute-kit-ussuri-ubuntu_bionic - openstack-helm-horizon-stein-ubuntu_bionic,0,11
openstack%2Fswift~master~I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,openstack/swift,master,I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e,sharder: downgrade 'no data dirs' warning to info,MERGED,2021-02-19 11:43:18.000000000,2021-03-02 02:30:45.000000000,2021-03-02 02:29:16.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/76186817bb0c9db4c6a26cb2cfe586b1513fe20b', 'message': ""sharder: downgrade 'no data dirs' warning to info\n\nPreviously if the sharder found no 'containers' directory on any\ndevice then it would emit a warning. This can be a distraction when in\nnormal operation the sharder daemon is run on all nodes including\nthose not in the container ring. This patch clarifies the log message\nand downgrades it to info level:\n\n  INFO: Found no containers directories\n\nThe change also fixes the intermittent failure of the probe test\ntest_delete_root_reclaim in test/probe/test_sharder.pr. The test\nasserts that no warning logs are emitted, but would previously fail if\nno containers were created on one of the devices, since the 'Found no\ndata dirs' warning would be emitted.\n\nChange-Id: I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e\n""}, {'number': 2, 'created': '2021-03-02 00:13:28.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/87c7684fb09ebb80b08039cc4153f339cb2bdb14', 'message': ""sharder: downgrade 'no data dirs' warning to info\n\nPreviously if the sharder found no 'containers' directory on any\ndevice then it would emit a warning. This can be a distraction when in\nnormal operation the sharder daemon is run on all nodes including\nthose not in the container ring. This patch clarifies the log message\nand downgrades it to info level:\n\n  INFO: Found no containers directories\n\nThe change also fixes the intermittent failure of the probe test\ntest_delete_root_reclaim in test/probe/test_sharder.pr. The test\nasserts that no warning logs are emitted, but would previously fail if\nno containers were created on one of the devices, since the 'Found no\ndata dirs' warning would be emitted.\n\nChange-Id: I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e\n""}]",0,776608,87c7684fb09ebb80b08039cc4153f339cb2bdb14,12,3,2,7847,,,0,"sharder: downgrade 'no data dirs' warning to info

Previously if the sharder found no 'containers' directory on any
device then it would emit a warning. This can be a distraction when in
normal operation the sharder daemon is run on all nodes including
those not in the container ring. This patch clarifies the log message
and downgrades it to info level:

  INFO: Found no containers directories

The change also fixes the intermittent failure of the probe test
test_delete_root_reclaim in test/probe/test_sharder.pr. The test
asserts that no warning logs are emitted, but would previously fail if
no containers were created on one of the devices, since the 'Found no
data dirs' warning would be emitted.

Change-Id: I97f7aa790c225ffd72b77a3fc1a6ef41f72df13e
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/776608/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,76186817bb0c9db4c6a26cb2cfe586b1513fe20b,p-sharder-no-containers, self.logger.info('Found no containers directories'), self.logger.warning('Found no data dirs!'),24,1
openstack%2Fopenstack-helm-infra~master~Iae20717482ad6c7a40f54174eef120d094abbd59,openstack/openstack-helm-infra,master,Iae20717482ad6c7a40f54174eef120d094abbd59,Remove zookeeper residue,MERGED,2021-03-01 01:54:44.000000000,2021-03-02 02:26:29.000000000,2021-03-02 02:23:04.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 01:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23591f77f1d29c99148cc7665a06c065d1191e72', 'message': ""Remove zookeeper residue\n\nAbout zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.\n\nChange-Id: Iae20717482ad6c7a40f54174eef120d094abbd59\n""}, {'number': 2, 'created': '2021-03-01 02:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e98905d37e3c4c3060d7aeb8bd5df56b4a3c2b3', 'message': ""Remove zookeeper residue\n\nAbout zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.\n\nChange-Id: Iae20717482ad6c7a40f54174eef120d094abbd59\n""}, {'number': 3, 'created': '2021-03-01 06:31:18.000000000', 'files': ['zookeeper/templates/bin/_zookeeper.sh.tpl', 'tools/deployment/multinode/160-zookeeper.sh', 'zookeeper/templates/service-ingress-zookeeper.yaml', 'zookeeper/templates/job-image-repo-sync.yaml', 'zookeeper/templates/service.yaml', 'zookeeper/requirements.yaml', 'zookeeper/templates/service-discovery.yaml', 'zookeeper/templates/network_policy.yaml', 'zookeeper/templates/ingress-zookeeper.yaml', 'falco/values.yaml', 'zookeeper/templates/configmap-bin.yaml', 'zookeeper/templates/bin/_generate-myid.sh.tpl', 'releasenotes/notes/falco.yaml', 'zookeeper/templates/secret-zookeeper.yaml', 'zookeeper/templates/statefulset.yaml', 'tools/deployment/common/zookeeper.sh', 'zookeeper/Chart.yaml', 'zookeeper/templates/bin/_zookeeper-probe.sh.tpl', 'falco/Chart.yaml', 'zookeeper/values.yaml', 'zookeeper/templates/secret-ingress-tls.yaml', 'zuul.d/jobs.yaml', 'zookeeper/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c6d281b621024382f04928651eeae61fb90031c', 'message': ""Remove zookeeper residue\n\nAbout zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.\n\nChange-Id: Iae20717482ad6c7a40f54174eef120d094abbd59\n""}]",1,777916,5c6d281b621024382f04928651eeae61fb90031c,22,4,3,30449,,,0,"Remove zookeeper residue

About zookeeper chart,It's been removed,But there are still some related scripts that have not been completely deleted,we should remove them.

Change-Id: Iae20717482ad6c7a40f54174eef120d094abbd59
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/777916/3 && git format-patch -1 --stdout FETCH_HEAD,"['zookeeper/templates/bin/_zookeeper.sh.tpl', 'zookeeper/templates/service-ingress-zookeeper.yaml', 'zookeeper/templates/job-image-repo-sync.yaml', 'zookeeper/templates/service.yaml', 'zookeeper/requirements.yaml', 'zookeeper/templates/service-discovery.yaml', 'zookeeper/templates/network_policy.yaml', 'zookeeper/templates/ingress-zookeeper.yaml', 'falco/values.yaml', 'zookeeper/templates/configmap-bin.yaml', 'zookeeper/templates/bin/_generate-myid.sh.tpl', 'zookeeper/templates/secret-zookeeper.yaml', 'zookeeper/templates/statefulset.yaml', 'tools/deployment/common/zookeeper.sh', 'zookeeper/Chart.yaml', 'zookeeper/templates/bin/_zookeeper-probe.sh.tpl', 'zookeeper/values.yaml', 'zookeeper/templates/secret-ingress-tls.yaml', 'zuul.d/jobs.yaml', 'zookeeper/templates/configmap-etc.yaml']",20,23591f77f1d29c99148cc7665a06c065d1191e72,Remove_zookeeper_residue,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_etc }} {{- $envAll := . }} --- apiVersion: v1 kind: Secret metadata: name: zookeeper-etc type: Opaque data: {{- include ""helm-toolkit.snippets.values_template_renderer"" (dict ""envAll"" $envAll ""template"" .Values.conf.zookeeper.template ""key"" ""zoo.cfg"" ""format"" ""Secret"") | indent 2 }} {{- include ""helm-toolkit.snippets.values_template_renderer"" (dict ""envAll"" $envAll ""template"" .Values.conf.zookeeper.jaas.template ""key"" ""jaas.conf"" ""format"" ""Secret"") | indent 2 }} {{- end }} ",0,916
openstack%2Fironic-python-agent~stable%2Fussuri~I60682d7e1d83793fb9dc3df4398e8e6f17438f98,openstack/ironic-python-agent,stable/ussuri,I60682d7e1d83793fb9dc3df4398e8e6f17438f98,Pin version of ipa-builder when publishing image,MERGED,2021-03-01 16:04:37.000000000,2021-03-02 02:21:33.000000000,2021-03-02 02:18:05.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 16:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/14115becbb38ef548f36727dba27fec10c548200', 'message': 'Pin version of ipa-builder when publishing image\n\nChange-Id: I60682d7e1d83793fb9dc3df4398e8e6f17438f98\n'}, {'number': 2, 'created': '2021-03-01 16:08:17.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/90b79c2f3cd556c9d934c8da8e5a0f8a005b6886', 'message': ""Pin version of ipa-builder when publishing image\n\nThe ironic-python-agent-build-image-tinyipa job from ipa-builder comes\nfrom master branch and it will use that branch to build all the tinyipa\nramdisks.\nFor compatibility reasons with the base version of tinycore used to\nbuild tinyipa, we need to pin the ipa-builder code to tag 2.2.0 as\nussuri CI is based on bionic and it won't support the new kernel used in\ntinycore 11.x when we need to chroot to modify the image during CI jobs\nlike ironic-standalone.\n\nChange-Id: I60682d7e1d83793fb9dc3df4398e8e6f17438f98\n""}]",0,778021,90b79c2f3cd556c9d934c8da8e5a0f8a005b6886,8,2,2,23851,,,0,"Pin version of ipa-builder when publishing image

The ironic-python-agent-build-image-tinyipa job from ipa-builder comes
from master branch and it will use that branch to build all the tinyipa
ramdisks.
For compatibility reasons with the base version of tinycore used to
build tinyipa, we need to pin the ipa-builder code to tag 2.2.0 as
ussuri CI is based on bionic and it won't support the new kernel used in
tinycore 11.x when we need to chroot to modify the image during CI jobs
like ironic-standalone.

Change-Id: I60682d7e1d83793fb9dc3df4398e8e6f17438f98
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/778021/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,14115becbb38ef548f36727dba27fec10c548200,pin-ipa-builder, - ironic-python-agent-build-image-tinyipa-ussuri, - ironic-python-agent-build-image-tinyipa,8,1
openstack%2Fmanila~master~I6e7608be57de8987117f3f4ace018a7eb91c8bd2,openstack/manila,master,I6e7608be57de8987117f3f4ace018a7eb91c8bd2,Remove deprecated public share policies,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 02:19:47.000000000,2021-03-02 01:42:30.000000000,"[{'_account_id': 6413}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c7396bfcd3e8d192acf9271507e176c04ecc1a5b', 'message': ""Remove deprecated public share policies\n\nThese policies were deprecated in Stein and flagged for removal in\nTrain. Now that we're in the Wallaby development cycle let's remove\nthem.\n\nChange-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\n""}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/38a586c5ce2d48c6ae6d5f591d328bb5cc5b15ed', 'message': ""Remove deprecated public share policies\n\nThese policies were deprecated in Stein and flagged for removal in\nTrain. Now that we're in the Wallaby development cycle let's remove\nthem.\n\nChange-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\n""}, {'number': 3, 'created': '2021-02-23 04:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/43fe5c547015c613dfe938674a5aa950b36aed9c', 'message': ""Remove deprecated public share policies\n\nThese policies were deprecated in Stein and flagged for removal in\nTrain. Now that we're in the Wallaby development cycle let's remove\nthem.\n\nChange-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\n""}, {'number': 4, 'created': '2021-02-23 04:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/739e95a4ae11d73dca3affd15f53b6bf612ea4ec', 'message': ""Remove deprecated public share policies\n\nThese policies were deprecated in Stein and flagged for removal in\nTrain. Now that we're in the Wallaby development cycle let's remove\nthem.\n\nDepends-On: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nChange-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\n""}, {'number': 5, 'created': '2021-02-23 17:38:28.000000000', 'files': ['releasenotes/notes/remove-deprecated-public-share-creation-policies-051d59249e556b44.yaml', 'manila/policies/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e3e0486de9ccdfbd5c82a31b702b87bd1e7f890f', 'message': ""Remove deprecated public share policies\n\nThese policies were deprecated in Stein and flagged\nfor removal in Train. Now that we're in the Wallaby\ndevelopment cycle let's remove them.\n\nDepends-On: I2a647fd5871ef6bb7d1ab45db893a44a560bed72\nChange-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,763468,e3e0486de9ccdfbd5c82a31b702b87bd1e7f890f,62,6,5,5046,,,0,"Remove deprecated public share policies

These policies were deprecated in Stein and flagged
for removal in Train. Now that we're in the Wallaby
development cycle let's remove them.

Depends-On: I2a647fd5871ef6bb7d1ab45db893a44a560bed72
Change-Id: I6e7608be57de8987117f3f4ace018a7eb91c8bd2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/763468/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/shares.py'],1,c7396bfcd3e8d192acf9271507e176c04ecc1a5b,secure-rbac," description=""Create shares visible across all projects in the cloud."", ""cloud."",","# These deprecated rules can be removed in the 'Train' release. deprecated_create_public_share_rule = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create_public_share', check_str=base.RULE_DEFAULT, ) deprecated_set_public_share_rule = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'set_public_share', check_str=base.RULE_DEFAULT, ) description=""Create shares visible across all projects in the cloud. "" ""This option will default to rule:admin_api in the "" ""9.0.0 (Train) release of the OpenStack Shared File "" ""Systems (manila) service."", deprecated_rule=deprecated_create_public_share_rule, deprecated_reason=""Public shares must be accessible across the "" ""cloud, irrespective of project namespaces. To "" ""avoid unintended consequences, rule:admin_api "" ""serves as a better default for this policy."", deprecated_since='S', ""cloud. This option will default to rule:admin_api in the "" ""9.0.0 (Train) release of the OpenStack Shared File "" ""Systems (manila) service."", deprecated_rule=deprecated_set_public_share_rule, deprecated_reason=""Public shares must be accessible across the "" ""cloud, irrespective of project namespaces. To "" ""avoid unintended consequences, rule:admin_api "" ""serves as a better default for this policy."", deprecated_since='S',",2,30
openstack%2Fswift~master~Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,openstack/swift,master,Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b,sharder: fix loop in find_compactible_shard_sequences,MERGED,2021-02-26 20:29:34.000000000,2021-03-02 01:52:27.000000000,2021-03-02 01:50:58.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 20:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7c50b2b9d73122005c24cf6589ec85bc3c579d4', 'message': 'sharder: fix loop in find_compactible_shard_sequences\n\nThe sharder find_compactible_shard_sequences function was vulnerable\nto looping with some combinations of shrink_threshold and merge_size\nparameters. The inner loop might not consume a shard range, resulting\nin the same shard range being submitted to the inner loop again.\n\nThis patch simplifies the function in an attempt to make it more\nobvious that the loops are always making progress towards termination\nby consuming shard ranges from the list.\n\nChange-Id: Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b\n'}, {'number': 2, 'created': '2021-02-28 16:01:03.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/41f85f3969d854dceb1a0f6f22c377d62e7e6477', 'message': 'sharder: fix loop in find_compactible_shard_sequences\n\nThe sharder find_compactible_shard_sequences function was vulnerable\nto looping with some combinations of shrink_threshold and merge_size\nparameters. The inner loop might not consume a shard range, resulting\nin the same shard range being submitted to the inner loop again.\n\nThis patch simplifies the function in an attempt to make it more\nobvious that the loops are always making progress towards termination\nby consuming shard ranges from the list.\n\nChange-Id: Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b\n'}]",10,777819,41f85f3969d854dceb1a0f6f22c377d62e7e6477,13,3,2,7847,,,0,"sharder: fix loop in find_compactible_shard_sequences

The sharder find_compactible_shard_sequences function was vulnerable
to looping with some combinations of shrink_threshold and merge_size
parameters. The inner loop might not consume a shard range, resulting
in the same shard range being submitted to the inner loop again.

This patch simplifies the function in an attempt to make it more
obvious that the loops are always making progress towards termination
by consuming shard ranges from the list.

Change-Id: Ia87ab6feaf5172d91f1c60c2e0f72e03182e3c9b
",git fetch https://review.opendev.org/openstack/swift refs/changes/19/777819/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,c7c50b2b9d73122005c24cf6589ec85bc3c579d4,p-sharder-compact-to-root,"def is_shrinking_candidate(shard_range, shrink_threshold, merge_size, states=None): shard_range.object_count < shrink_threshold and shard_range.object_count <= merge_size) sequence[-1], shrink_threshold, merge_size, # check for sequence that is already shrinking def is_eligible(shard_range): # found? created? sharded? don't touch it return (shard_range.name == own_shard_range.name or shard_range.state in (ShardRange.ACTIVE, ShardRange.SHRINKING)) if not (is_eligible(shard_ranges[index]) and is_shrinking_candidate( shard_ranges[index], shrink_threshold, merge_size, states=(ShardRange.ACTIVE, ShardRange.SHRINKING))): # this shard range cannot be the start of a new or existing # compactible sequence, move on index += 1 continue # start of a *possible* sequence sequence = ShardRangeList([shard_ranges[index]]) for shard_range in shard_ranges[index + 1:]: # attempt to add contiguous shard ranges to the sequence if sequence.upper < shard_range.lower: # found a gap! break before consuming this range because it # could become the first in the next sequence break if not is_eligible(shard_range): break if shard_range.state == ShardRange.SHRINKING: # already shrinking: add to sequence unconditionally sequence.append(shard_range) elif (sequence.object_count + shard_range.object_count <= merge_size): # add to sequence: could be a donor or acceptor sequence.append(shard_range) if sequence_complete(sequence): break else: break index += len(sequence)","def is_shrinking_candidate(shard_range, shrink_threshold, states=None): shard_range.object_count < shrink_threshold) sequence[-1], shrink_threshold, # check for sequence that ia already shrinking def find_compactible_sequence(shard_ranges_todo): compactible_sequence = ShardRangeList() object_count = 0 consumed = 0 for shard_range in shard_ranges_todo: if (compactible_sequence and compactible_sequence.upper < shard_range.lower): # found a gap! break before consuming this range because it # could become the first in the next sequence break if (shard_range.name != own_shard_range.name and shard_range.state not in (ShardRange.ACTIVE, ShardRange.SHRINKING)): # found? created? sharded? don't touch it consumed += 1 break proposed_object_count = object_count + shard_range.object_count if (shard_range.state == ShardRange.SHRINKING or proposed_object_count <= merge_size): consumed += 1 compactible_sequence.append(shard_range) object_count = proposed_object_count if shard_range.state == ShardRange.SHRINKING: continue if sequence_complete(compactible_sequence): break return compactible_sequence, consumed sequence, consumed = find_compactible_sequence(shard_ranges[index:]) index += consumed",151,45
openstack%2Fironic~master~I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,openstack/ironic,master,I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423,remove unicode from code,ABANDONED,2021-03-01 10:06:48.000000000,2021-03-02 01:49:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 10:06:48.000000000', 'files': ['ironic/tests/unit/common/test_policy.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'doc/source/install/troubleshooting.rst', 'ironic/tests/unit/drivers/modules/test_image_cache.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'api-ref/source/conf.py', 'doc/source/admin/troubleshooting.rst', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'doc/source/conf.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/db/utils.py', 'ironic/db/sqlalchemy/alembic/versions/5ea1b0d310e_added_port_group_table_and_altered_ports.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'doc/source/admin/console.rst', 'ironic/tests/unit/common/test_pxe_utils.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/77340bd07911cf1d224b8c35558b8cdb2fcbe688', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.\n\nChange-Id: I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423\n""}]",0,777969,77340bd07911cf1d224b8c35558b8cdb2fcbe688,6,1,1,32291,,,0,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.

Change-Id: I63a3a8217e4e3f1c78fe8e90f4e711d9a6a61423
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/777969/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_policy.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'doc/source/install/troubleshooting.rst', 'ironic/tests/unit/drivers/modules/test_image_cache.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'api-ref/source/conf.py', 'doc/source/admin/troubleshooting.rst', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/api/controllers/v1/test_utils.py', 'doc/source/conf.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/db/utils.py', 'ironic/db/sqlalchemy/alembic/versions/5ea1b0d310e_added_port_group_table_and_altered_ports.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'doc/source/admin/console.rst', 'ironic/tests/unit/common/test_pxe_utils.py', 'releasenotes/source/conf.py']",26,77340bd07911cf1d224b8c35558b8cdb2fcbe688,,"project = 'Ironic Release Notes' copyright = '2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', 'Ironic Release Notes Documentation', 'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', 'Ironic Release Notes Documentation', ['Ironic Developers'], 1) ('index', 'IronicReleaseNotes', 'Ironic Release Notes Documentation', 'Ironic Developers', 'IronicReleaseNotes',","project = u'Ironic Release Notes' copyright = u'2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', u'Ironic Release Notes Documentation', u'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', u'Ironic Release Notes Documentation', [u'Ironic Developers'], 1) ('index', 'IronicReleaseNotes', u'Ironic Release Notes Documentation', u'Ironic Developers', 'IronicReleaseNotes',",107,107
openstack%2Fneutron~master~I44b587b8da641536593eadcb5919689278dda494,openstack/neutron,master,I44b587b8da641536593eadcb5919689278dda494,first commit test,ABANDONED,2021-03-02 01:31:49.000000000,2021-03-02 01:38:14.000000000,,[],"[{'number': 1, 'created': '2021-03-02 01:31:49.000000000', 'files': ['.gitignore', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b79b9263fa448b4449d6472058943d1231f768fa', 'message': 'first commit test\n\nzzs\n\nChange-Id: I44b587b8da641536593eadcb5919689278dda494\n'}]",0,778121,b79b9263fa448b4449d6472058943d1231f768fa,3,0,1,31842,,,0,"first commit test

zzs

Change-Id: I44b587b8da641536593eadcb5919689278dda494
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/778121/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'lower-constraints.txt']",2,b79b9263fa448b4449d6472058943d1231f768fa,zzs,# test-commit==1.1.1,,5,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,openstack/puppet-tripleo,stable/train,I567d6b2cd66d5eb98971cd54987c1fbea3c1da78,Add ability to specify memcached port,MERGED,2021-02-15 12:17:19.000000000,2021-03-02 01:36:10.000000000,2021-03-02 01:34:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-15 12:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4b465a6e83f822b0f209f99039f85aa5b134286d', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}, {'number': 2, 'created': '2021-02-18 14:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c808998ff6f8474755585d2564590584d36cea6b', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}, {'number': 3, 'created': '2021-02-24 08:55:49.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8d5bb4b8948ecdef0a0659e4b6bb10756b7cc1bc', 'message': ""Add ability to specify memcached port\n\nThe port defaults to hiera('memcached_authtoken_port', 11211)\nfor authtoken middleware and hiera('memcached_port', 11211)\nfor other uses. Different ports might be set for security\nand performance tuning.\n\nChange-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78\n(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)\n""}]",0,775605,8d5bb4b8948ecdef0a0659e4b6bb10756b7cc1bc,18,7,3,14250,,,0,"Add ability to specify memcached port

The port defaults to hiera('memcached_authtoken_port', 11211)
for authtoken middleware and hiera('memcached_port', 11211)
for other uses. Different ports might be set for security
and performance tuning.

Change-Id: I567d6b2cd66d5eb98971cd54987c1fbea3c1da78
(cherry picked from commit f460e659ba72a99d21b5aa69d9099c42cc868cfc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/775605/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/panko/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'releasenotes/notes/add-memcached-port-048959c2f58f0a57.yaml', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",19,4b465a6e83f822b0f209f99039f85aa5b134286d,memcached-cert-stable/train,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # $memcached_ips = hiera('memcached_node_ips', []), $memcached_port = hiera('memcached_authtoken_port', 11211), $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"")"," $memcached_ips = hiera('memcached_node_ips'), $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211')",144,51
openstack%2Fkolla-ansible~master~I7f3f0e01e504e806235d467db90294fdc14216e1,openstack/kolla-ansible,master,I7f3f0e01e504e806235d467db90294fdc14216e1,Update manila-share.conf,ABANDONED,2021-02-26 09:01:59.000000000,2021-03-02 01:23:45.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b196f66dec0114c69699a8faa461dc24975a199', 'message': 'Update manila-share.conf\n\nmanila glusterfs nfs backend does not require the configuration of\n[nova] [cinder] [neutron], add the judgment condition and filter it\n\nChange-Id: I7f3f0e01e504e806235d467db90294fdc14216e1\n'}, {'number': 2, 'created': '2021-02-26 09:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e679eb95b80f7b34e7a88fda0bca6632fbc4ba82', 'message': 'Update manila-share.conf\n\nmanila glusterfs nfs backend does not require the configuration of\n[nova] [cinder] [neutron], add the judgment condition and filter it\n\nChange-Id: I7f3f0e01e504e806235d467db90294fdc14216e1\n'}, {'number': 3, 'created': '2021-02-26 09:13:39.000000000', 'files': ['ansible/roles/manila/templates/manila-share.conf.j2', 'releasenotes/notes/Update-manila-share-conf-722981e2848f0790.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab4f75575165b698bff210a911f19b1a0d1d3652', 'message': 'Update manila-share.conf\n\nmanila glusterfs nfs backend does not require the configuration of\n[nova] [cinder] [neutron], add the judgment condition and filter it\n\nChange-Id: I7f3f0e01e504e806235d467db90294fdc14216e1\n'}]",0,777728,ab4f75575165b698bff210a911f19b1a0d1d3652,11,2,3,31506,,,0,"Update manila-share.conf

manila glusterfs nfs backend does not require the configuration of
[nova] [cinder] [neutron], add the judgment condition and filter it

Change-Id: I7f3f0e01e504e806235d467db90294fdc14216e1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/777728/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/manila/templates/manila-share.conf.j2'],1,7b196f66dec0114c69699a8faa461dc24975a199,,{% if not enable_manila_backend_glusterfs_nfs | bool %}{% endif %} {% if not enable_manila_backend_glusterfs_nfs | bool %}{% endif %} {% if not enable_manila_backend_glusterfs_nfs | bool %}{% endif %},,6,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I5e5ea241308a11b79864885584944037dfecc6bc,openstack/openstack-ansible-lxc_hosts,master,I5e5ea241308a11b79864885584944037dfecc6bc,Remove duplicate lxc volume tasks,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 01:01:46.000000000,2021-03-02 01:00:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 13:50:21.000000000', 'files': ['tasks/lxc_volume.yml', 'tasks/lxc_cache_preparation.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/608254f0a136eb0de4abab904716ae84418b48d8', 'message': 'Remove duplicate lxc volume tasks\n\nThese tasks are duplicated in both lxc_cache_preparation_simple.yml\nand lxc_volume.yml, so we remove one of the duplicate set of tasks.\n\nChange-Id: I5e5ea241308a11b79864885584944037dfecc6bc\n'}]",0,776200,608254f0a136eb0de4abab904716ae84418b48d8,15,3,1,25023,,,0,"Remove duplicate lxc volume tasks

These tasks are duplicated in both lxc_cache_preparation_simple.yml
and lxc_volume.yml, so we remove one of the duplicate set of tasks.

Change-Id: I5e5ea241308a11b79864885584944037dfecc6bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/00/776200/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_volume.yml', 'tasks/lxc_cache_preparation.yml']",2,608254f0a136eb0de4abab904716ae84418b48d8,lxc-hosts-cleanup,,- include_tasks: lxc_volume.yml ,0,54
openstack%2Fopenstack-ansible-lxc_hosts~master~Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,openstack/openstack-ansible-lxc_hosts,master,Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769,Move lxc cache facts setting to where those facts are used.,MERGED,2021-02-17 13:50:21.000000000,2021-03-02 00:59:23.000000000,2021-03-02 00:58:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 13:50:21.000000000', 'files': ['tasks/lxc_cache.yml', 'tasks/lxc_cache_prestage.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/369c807b90e0be7b604c3e336811ac5decf9ead8', 'message': 'Move lxc cache facts setting to where those facts are used.\n\nIf we build a local chroot then the lxc_cache_prestage.yml tasks\nare no longer required, but the cache facts are still used later in\nthe role. Move the settings of the facts closer to where the facts\nare used.\n\nChange-Id: Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769\n'}]",0,776199,369c807b90e0be7b604c3e336811ac5decf9ead8,13,3,1,25023,,,0,"Move lxc cache facts setting to where those facts are used.

If we build a local chroot then the lxc_cache_prestage.yml tasks
are no longer required, but the cache facts are still used later in
the role. Move the settings of the facts closer to where the facts
are used.

Change-Id: Ie0bcf56f0ac12f5a5472f539824221f2d8f3c769
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/99/776199/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache.yml', 'tasks/lxc_cache_prestage.yml']",2,369c807b90e0be7b604c3e336811ac5decf9ead8,lxc-hosts-cleanup,,"- name: Set LXC cache fact(s) set_fact: cache_path_fact: ""{{ lxc_container_cache_path }}/{{ lxc_cache_map.distro }}/{{ lxc_cache_map.release }}/{{ lxc_cache_map.arch }}/{{ lxc_cache_default_variant }}"" cache_time: ""{{ ansible_date_time.epoch }}"" ",5,5
openstack%2Fnova~master~I92eb27b710f16d69cf003712431fe225a014c3a8,openstack/nova,master,I92eb27b710f16d69cf003712431fe225a014c3a8,libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent,MERGED,2020-09-04 12:06:35.000000000,2021-03-02 00:56:54.000000000,2021-03-02 00:53:33.000000000,"[{'_account_id': 6962}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-04 12:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0e8c4f1aeb6d47853e79e24b54851dc749fdab5', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nDepends-On: https://review.opendev.org/#/c/734700/\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 2, 'created': '2020-09-07 14:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d3c93c28a8a7968cdd0d6ecad74784b27468591', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nDepends-On: https://review.opendev.org/750171\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 3, 'created': '2021-01-11 10:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60e0d58b8d0bbac102f3378cc3201b61747bd11d', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nDepends-On: https://review.opendev.org/750171\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 4, 'created': '2021-01-11 10:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dafd9027f6e874265466d371e33147ff4168553f', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nDepends-On: https://review.opendev.org/750171\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 5, 'created': '2021-01-11 10:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33634f3d22e96ffd8e91041fd6d22471868167af', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 6, 'created': '2021-01-15 13:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8121c0bfc5858f93f08308c5dbbb2a09ab7a2d1', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 7, 'created': '2021-01-18 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c74ff2e4e9db14d7975d2f9ba6be54f6336026a', 'message': 'WIP/DNM libvirt: Start emitting DeviceRemovedEvent and DeviceRemovalFailedEvent events\n\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 8, 'created': '2021-01-25 17:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/950a395a2717f6a99e8ce6aaff91bb15cf826020', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 9, 'created': '2021-01-25 17:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e985fffa2844f449d2a4b9c7583e7091a591140', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 10, 'created': '2021-01-29 12:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9761ceddb85257a6f323d4df94cd782b8626ea2', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 11, 'created': '2021-02-08 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8029f16221cbc425b4658ec5de1d72e49dfb88bb', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 12, 'created': '2021-02-17 16:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce0757f74af1846d7fcd8777e346a8188d52c45a', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}, {'number': 13, 'created': '2021-02-22 15:07:23.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'mypy-files.txt', 'nova/virt/libvirt/event.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a70fc9cfb1d4354969c75e12fb94e1681e28ab7', 'message': 'libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent\n\nThis patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and\nVIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms\nthem to nova virt events.\n\nThis patch also extends the libvirt driver to have a driver specific\nevent handling function for these events instead of using the generic\nvirt driver event handler that passes all the existing lifecycle events\nup to the compute manager.\n\nThis is part of the longer series trying to transform the existing\ndevice detach handling to use libvirt events.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1882521\nChange-Id: I92eb27b710f16d69cf003712431fe225a014c3a8\n'}]",23,749929,4a70fc9cfb1d4354969c75e12fb94e1681e28ab7,124,9,13,10135,,,0,"libvirt: Define and emit DeviceRemovedEvent and DeviceRemovalFailedEvent

This patch registers for VIR_DOMAIN_EVENT_ID_DEVICE_REMOVED and
VIR_DOMAIN_EVENT_ID_DEVICE_REMOVAL_FAILED libvirt events and transforms
them to nova virt events.

This patch also extends the libvirt driver to have a driver specific
event handling function for these events instead of using the generic
virt driver event handler that passes all the existing lifecycle events
up to the compute manager.

This is part of the longer series trying to transform the existing
device detach handling to use libvirt events.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1882521
Change-Id: I92eb27b710f16d69cf003712431fe225a014c3a8
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/749929/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/host.py', 'nova/virt/event.py']",2,d0e8c4f1aeb6d47853e79e24b54851dc749fdab5,bug/1882521," class DeviceRemovedEvent(InstanceEvent): def __init__(self, uuid, dev, timestamp=None): super().__init__(uuid, timestamp) self.dev = dev def get_device(self): return self.dev def __repr__(self): return ""<%s: %s, %s => %s>"" % ( self.__class__.__name__, self.timestamp, self.uuid, self.get_device()) class DeviceRemovalFailedEvent(DeviceRemovedEvent): def __init__(self, uuid, dev, timestamp=None): super().__init__(uuid, dev, timestamp=timestamp)",,64,4
openstack%2Fmanila~master~I1bbb6dc900ef413189c20d41fe08d9263a0038c2,openstack/manila,master,I1bbb6dc900ef413189c20d41fe08d9263a0038c2,Implement secure RBAC for storage availability zones,MERGED,2020-11-19 21:17:02.000000000,2021-03-02 00:56:47.000000000,2021-03-02 00:54:45.000000000,"[{'_account_id': 9954}, {'_account_id': 12016}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/31bc2d780e879dc5ce19eb487c06b9271596cf18', 'message': 'Implement secure RBAC for storage availability zones\n\nThis commit updates the policies for availability zones to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/60b4e6cfefcf21130f7e2a502ba2e5a1cbfe1968', 'message': 'Implement secure RBAC for storage availability zones\n\nThis commit updates the policies for availability zones to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2\n'}, {'number': 3, 'created': '2021-01-12 07:18:32.000000000', 'files': ['manila/policies/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a43911d7de968e9e4172a386247f639f9536cc6a', 'message': 'Implement secure RBAC for storage availability zones\n\nThis commit updates the policies for availability zones to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2\n'}]",0,763441,a43911d7de968e9e4172a386247f639f9536cc6a,36,7,3,5046,,,0,"Implement secure RBAC for storage availability zones

This commit updates the policies for availability zones to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I1bbb6dc900ef413189c20d41fe08d9263a0038c2
",git fetch https://review.opendev.org/openstack/manila refs/changes/41/763441/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/availability_zone.py'],1,31bc2d780e879dc5ce19eb487c06b9271596cf18,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The availability zone API now supports system scope and default roles. """""" deprecated_get_availability_zone = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_get_availability_zone, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]),",17,2
openstack%2Fopenstack-ansible~master~Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,openstack/openstack-ansible,master,Idfdb34e53d7e0a54dd35b95e7b9f51eece405238,Switch gnocchi release to 4.4,MERGED,2021-01-26 09:43:59.000000000,2021-03-02 00:42:35.000000000,2021-03-02 00:40:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29605}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-01-26 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40e80146698e033faa8782fdbfa40186145d6445', 'message': 'Switch gnocchi release to 4.4\n\nGnocchi has released version 4.4 and there is no reason why we should\nnot use it.\n\nChange-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\n'}, {'number': 2, 'created': '2021-02-15 08:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e11b9ba8af31c458532297643d4cf4929ed625c', 'message': 'Switch gnocchi release to 4.4\n\nGnocchi has released version 4.4 and there is no reason why we should\nnot use it.\n\nChange-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\n'}, {'number': 3, 'created': '2021-02-16 12:14:37.000000000', 'files': ['playbooks/defaults/repo_packages/gnocchi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e6d353649e95538fd5623078d6a9b1165208bffd', 'message': 'Switch gnocchi release to 4.4\n\nGnocchi has released version 4.4 and there is no reason why we should\nnot use it.\n\nChange-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238\n'}]",1,772485,e6d353649e95538fd5623078d6a9b1165208bffd,22,4,3,28619,,,0,"Switch gnocchi release to 4.4

Gnocchi has released version 4.4 and there is no reason why we should
not use it.

Change-Id: Idfdb34e53d7e0a54dd35b95e7b9f51eece405238
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/772485/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/gnocchi.yml'],1,40e80146698e033faa8782fdbfa40186145d6445,,gnocchi_git_install_branch: 64ff78fb27bff33fc8c284f7dd7267da0676c14d # HEAD as of 17.01.2021 gnocchi_git_track_branch: stable/4.4,gnocchi_git_install_branch: 3d52c28bdd4b8b730528d2e630c7679f98ad2d9e # HEAD as of 17.01.2021 gnocchi_git_track_branch: stable/4.3,2,2
openstack%2Fdevstack-plugin-ceph~master~Ib107d20075ef92611840b3635bbe15f8805ccb52,openstack/devstack-plugin-ceph,master,Ib107d20075ef92611840b3635bbe15f8805ccb52,Added missing libvirt keyring for Cinder,NEW,2019-11-19 12:58:14.000000000,2021-03-02 00:22:03.000000000,,"[{'_account_id': 1}, {'_account_id': 866}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 4523}, {'_account_id': 5196}, {'_account_id': 5314}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9236}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 12:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bc2d20538ef08f53f1abba7e291f44b31f42bfae', 'message': 'Added missing libvirt keyring for Cinder\n\nOn executing tempest tests like:\ntempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name\n\nnova-compute service was raising an error:\n""libvirtError: Secret not found: no secret with matching uuid"".\nThis patch set will add secret in virsh for Cinder.\n\nChange-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52\n'}, {'number': 2, 'created': '2020-05-08 08:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e6ea63b82b70707665ec896ee331f3be4b18f0b8', 'message': 'Added missing libvirt keyring for Cinder\n\nOn executing tempest tests like:\ntempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name\n\nnova-compute service was raising an error:\n""libvirtError: Secret not found: no secret with matching uuid"".\nThis patch set will add secret in virsh for Cinder.\n\nChange-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52\n'}, {'number': 3, 'created': '2021-03-01 22:21:03.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5b01ec5001776cca5e3ca3b1982b560c61023ad7', 'message': 'Added missing libvirt keyring for Cinder\n\nOn executing tempest tests like:\ntempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name\n\nnova-compute service was raising an error:\n""libvirtError: Secret not found: no secret with matching uuid"".\nThis patch set will add secret in virsh for Cinder.\n\nChange-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52\n'}]",0,694997,5b01ec5001776cca5e3ca3b1982b560c61023ad7,10,19,3,20676,,,0,"Added missing libvirt keyring for Cinder

On executing tempest tests like:
tempest.api.compute.servers.test_create_server.ServersTestBootFromVolume.test_host_name_is_same_as_server_name

nova-compute service was raising an error:
""libvirtError: Secret not found: no secret with matching uuid"".
This patch set will add secret in virsh for Cinder.

Change-Id: Ib107d20075ef92611840b3635bbe15f8805ccb52
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/97/694997/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,bc2d20538ef08f53f1abba7e291f44b31f42bfae,, import_libvirt_secret_ceph,,1,0
openstack%2Fansible-role-python_venv_build~master~I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,openstack/ansible-role-python_venv_build,master,I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b,Slurp constraints for all hosts,MERGED,2021-03-01 13:23:37.000000000,2021-03-01 23:41:51.000000000,2021-03-01 23:40:40.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-03-01 13:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/0b158697da2123d927c8780521531157cc7f9b5f', 'message': 'Slurp constraints for all hosts\n\nThis fixes bug when content slurp has been performed only for single\nhost. Others were having invalid contstraints file with single record\nin it.\n\nChange-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b\n'}, {'number': 2, 'created': '2021-03-01 13:32:45.000000000', 'files': ['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c', 'message': 'Slurp constraints for all hosts\n\nThis fixes bug when content slurp has been performed only for single\nhost. Others were having invalid contstraints file with single record\nin it.\n\nChange-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b\n'}]",0,777994,20f8ad42ce3a7cf9cc9139c48bd11872af2fb10c,9,3,2,28619,,,0,"Slurp constraints for all hosts

This fixes bug when content slurp has been performed only for single
host. Others were having invalid contstraints file with single record
in it.

Change-Id: I7189e061f6c8ab3dfb69dda6a9e7f974f8bdc06b
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/94/777994/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",2,0b158697da2123d927c8780521531157cc7f9b5f,,"- name: Slurp up the constraints file for later re-deployment delegate_to: ""{{ venv_build_host }}"" become: ""{{ venv_build_host == 'localhost' }}"" slurp: src: ""{{ venv_build_host_requirements_path }}/{{ venv_install_destination_path | basename }}-constraints.txt"" register: _constraints_file_slurp when: venv_wheel_build_enable | bool ",,8,7
openstack%2Fopenstack-helm-infra~master~Ic01e7c012ab2167d59b2117eb985386666f2bb2a,openstack/openstack-helm-infra,master,Ic01e7c012ab2167d59b2117eb985386666f2bb2a,Enable TLS for grafana,MERGED,2021-02-06 04:49:10.000000000,2021-03-01 23:34:06.000000000,2021-03-01 23:32:41.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28849}, {'_account_id': 29585}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 30777}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-02-06 04:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac0406bc84637a31ea773f57159d16c57ff969b3', 'message': 'Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 2, 'created': '2021-02-09 23:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59a840c75b2c3270db085755f99a33136f4fb894', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 3, 'created': '2021-02-10 00:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84a1f332764a6f55963043d4a65b1b066b3410d3', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 4, 'created': '2021-02-10 01:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0cdea3502fed177250d12d4455bacb1db938988c', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 5, 'created': '2021-02-10 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70fddf7e956dee03fb4a90f345c564606a121c0e', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 6, 'created': '2021-02-19 22:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b37b15935d2e38ac366f02089b018fc89f8f3e43', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 7, 'created': '2021-02-22 17:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1950949567e483a43380afcf53a64e2ed91a64f4', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 8, 'created': '2021-02-22 21:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c208d3bd77be0d25778e193ae912f0834de3e65', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 9, 'created': '2021-02-23 22:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c26c51a69a1dc6bd2513d4cdfcc5f75dd8a4035', 'message': '[WIP] Enable TLS for grafana users\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 10, 'created': '2021-02-24 20:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62577d8c3ba719ced457d3f12247bef967f6a4e4', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 11, 'created': '2021-02-24 22:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e218873289a412f212895321a40fca6b55f98461', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 12, 'created': '2021-02-25 18:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a5990186370bacb5925c29abf6b0e6b3773b958', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 13, 'created': '2021-02-25 20:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c58ec1d7a963b16d7c4aef7422af3d36d083248c', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 14, 'created': '2021-02-25 21:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/091fd409d5b30f2b3ec33b74124c15f8d3cbf8ef', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 15, 'created': '2021-02-26 00:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92a4e8e02ef6f68c30367b62e00d5aae934c07ff', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 16, 'created': '2021-02-26 05:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93bcc8e27070d1161c4e403787d849e336c3cbac', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 17, 'created': '2021-02-26 05:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa1a7ea5315a8b73195d990905b813388f9fa9d4', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 18, 'created': '2021-02-26 17:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d738eed566eb0132311f1aebb58d5e37239e05e', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 19, 'created': '2021-02-26 20:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9980e87a50b30eea8d0602318097921920ca53c3', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 20, 'created': '2021-03-01 19:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ecabf0afc3f81a88c6948c5ae7299e1ac726ee3', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS with osh-infra mariadb.\nTLS for osh-infra mariadb is completed as part of TLS phase 1, no additional mariadb chart work\nis required to work with this patch.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}, {'number': 21, 'created': '2021-03-01 20:22:43.000000000', 'files': ['grafana/templates/job-db-init-session.yaml', 'grafana/values.yaml', 'grafana/templates/certificates.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/templates/secret-db.yaml', 'grafana/templates/configmap-etc.yaml', 'grafana/templates/deployment.yaml', 'grafana/templates/job-db-init.yaml', 'grafana/templates/secret-db-session.yaml', 'grafana/Chart.yaml', 'grafana/templates/job-db-session-sync.yaml', 'grafana/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87e3a02dd558dfca6a9a8f49feb34f47d516cbf7', 'message': 'Enable TLS for grafana\n\nThis patchset updates grafana chart manifests to enable TLS with\nosh-infra mariadb.  TLS for osh-infra mariadb is completed as part\nof TLS phase 1, no additional mariadb chart work is required to\nwork with this patch.\n\nChange-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a\n'}]",13,774346,87e3a02dd558dfca6a9a8f49feb34f47d516cbf7,96,13,21,19391,,,0,"Enable TLS for grafana

This patchset updates grafana chart manifests to enable TLS with
osh-infra mariadb.  TLS for osh-infra mariadb is completed as part
of TLS phase 1, no additional mariadb chart work is required to
work with this patch.

Change-Id: Ic01e7c012ab2167d59b2117eb985386666f2bb2a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/774346/21 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/templates/job-db-init-session.yaml', 'grafana/templates/job-db-init.yaml']",2,ac0406bc84637a31ea773f57159d16c57ff969b3,change-774346-20," {{- if $envAll.Values.manifests.certificates }} - name: MARIADB_X509 value: ""REQUIRE X509"" {{- end }}",,8,0
openstack%2Fnetworking-sfc~master~Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,openstack/networking-sfc,master,Ic5c1d1bceff3e995d40ee49218e3627d26be1bed,Use unittest.mock instead of mock,MERGED,2020-12-03 17:50:03.000000000,2021-03-01 23:30:29.000000000,2021-03-01 23:29:00.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2020-12-03 17:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/70962aaa59f40a5ee555e5d47daca8217076410a', 'message': 'Use unittest.mock instead of mock\n\nFew files were still using third party mock library, this patch removes\nthem and use the standard library mock module instead.\n\nChange-Id: Ic5c1d1bceff3e995d40ee49218e3627d26be1bed\n'}, {'number': 2, 'created': '2021-03-01 17:57:23.000000000', 'files': ['test-requirements.txt', 'networking_sfc/tests/unit/services/flowclassifier/test_driver_manager.py', 'lower-constraints.txt', 'networking_sfc/tests/unit/services/sfc/test_driver_manager.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/3f759390dd48d3b21a293912ec700a2214271ff5', 'message': 'Use unittest.mock instead of mock\n\nFew files were still using third party mock library, this patch removes\nthem and use the standard library mock module instead.\n\nChange-Id: Ic5c1d1bceff3e995d40ee49218e3627d26be1bed\n'}]",0,765355,3f759390dd48d3b21a293912ec700a2214271ff5,19,7,2,32102,,,0,"Use unittest.mock instead of mock

Few files were still using third party mock library, this patch removes
them and use the standard library mock module instead.

Change-Id: Ic5c1d1bceff3e995d40ee49218e3627d26be1bed
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/55/765355/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'networking_sfc/tests/unit/services/flowclassifier/test_driver_manager.py', 'lower-constraints.txt', 'networking_sfc/tests/unit/services/sfc/test_driver_manager.py']",4,70962aaa59f40a5ee555e5d47daca8217076410a,unittest.mock,from unittest.mock import Mock ,from mock import Mock,4,4
openstack%2Fproject-config~master~Ief16de137553c13df9d6037300efb80feb38f3db,openstack/project-config,master,Ief16de137553c13df9d6037300efb80feb38f3db,intel-nfv-ci-tests: move zuul definition into repo,MERGED,2021-02-25 08:47:38.000000000,2021-03-01 23:24:22.000000000,2021-03-01 23:24:22.000000000,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 08:47:38.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/563b8c27038a65ba3cfc5e0477ec9ba4a7d1e650', 'message': 'intel-nfv-ci-tests: move zuul definition into repo\n\nMove zuul related definition into intel-nfv-ci-tests own repo.\n\nDepends-On: Idc727e5232c6b1697e65cbda8b955d9f4f1490d3\nChange-Id: Ief16de137553c13df9d6037300efb80feb38f3db\n'}]",0,777511,563b8c27038a65ba3cfc5e0477ec9ba4a7d1e650,12,5,1,4491,,,0,"intel-nfv-ci-tests: move zuul definition into repo

Move zuul related definition into intel-nfv-ci-tests own repo.

Depends-On: Idc727e5232c6b1697e65cbda8b955d9f4f1490d3
Change-Id: Ief16de137553c13df9d6037300efb80feb38f3db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/777511/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,563b8c27038a65ba3cfc5e0477ec9ba4a7d1e650,in-repo,, name: x/intel-nfv-ci-tests check: jobs: - openstack-tox-pep8 gate: jobs: - openstack-tox-pep8 - project:,0,9
openstack%2Ftripleo-operator-ansible~master~I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,openstack/tripleo-operator-ansible,master,I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90,Create tripleo_overcloud_backup role,MERGED,2021-02-08 16:03:26.000000000,2021-03-01 23:21:37.000000000,2021-03-01 23:21:37.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-08 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b059c96a4734f29741efd5e36a1f6442e63399c2', 'message': ""Create tripleo_overcloud_backup role\n\n- tripleo_overcloud_backup role was added to match python-tripleoclient\n  interface for B&R overcloud command. It follows the same structure\n  as tripleo_undercloud_backup role.\n- 'tripleo_overcloud_backup_init' string variable was added for\n  the flag '--init' for installing and configure 'rear' and 'nfs'.\n  Depending on the value. WARNING: this flag will be deprecated\n  in favor of '--setup-nfs' and '--setup-rear'.\n- 'tripleo_overcloud_backup_setup_nfs' boolean variable was added\n  for the flag '--setup-nfs' which will install and configure NFS\n  server. Default to: false.\n- 'tripleo_overcloud_backup_setup_rear' boolean variable was added\n  for the flag '--setup-rear' which will install and configure ReaR\n  on the overcloud controllers. Default to: false.\n- 'tripleo_overcloud_backup_storage_ip' string variable was added\n  for the flag '--storage-ip' which will allows to specify an ip for\n  NFS / Backup server. It has precedence over '--extra-vars'. WARNING:\n  this flag will be deprecated in favor of '--extra-vars'.\n- 'tripleo_overcloud_backup_extra_vars' string variable was added\n  for '--extra-vars' variable for passing variables as JSON string\n  or JSON / YAML path.\n\nDepends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589\n\nChange-Id: I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90\n""}, {'number': 2, 'created': '2021-02-09 10:28:09.000000000', 'files': ['roles/tripleo_overcloud_backup/tests/inventory', 'zuul.d/molecule.yaml', 'roles/tripleo_overcloud_backup/molecule/default/prepare.yml', 'roles/tripleo_overcloud_backup/tasks/main.yml', 'roles/tripleo_overcloud_backup/defaults/main.yml', 'roles/tripleo_overcloud_backup/molecule/default/converge.yml', 'roles/tripleo_overcloud_backup/tests/test.yml', 'roles/tripleo_overcloud_backup/molecule/default/molecule.yml', 'roles/tripleo_overcloud_backup/README.md', 'roles/tripleo_overcloud_backup/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/f90c7a44b664bde887be9a21fabd75a3c89b585d', 'message': ""Create tripleo_overcloud_backup role\n\n- tripleo_overcloud_backup role was added to match python-tripleoclient\n  interface for B&R overcloud command. It follows the same structure\n  as tripleo_undercloud_backup role.\n- 'tripleo_overcloud_backup_init' string variable was added for\n  the flag '--init' for installing and configure 'rear' and 'nfs'.\n  Depending on the value. WARNING: this flag will be deprecated\n  in favor of '--setup-nfs' and '--setup-rear'.\n- 'tripleo_overcloud_backup_setup_nfs' boolean variable was added\n  for the flag '--setup-nfs' which will install and configure NFS\n  server. Default to: false.\n- 'tripleo_overcloud_backup_setup_rear' boolean variable was added\n  for the flag '--setup-rear' which will install and configure ReaR\n  on the overcloud controllers. Default to: false.\n- 'tripleo_overcloud_backup_storage_ip' string variable was added\n  for the flag '--storage-ip' which will allows to specify an ip for\n  NFS / Backup server. It has precedence over '--extra-vars'. WARNING:\n  this flag will be deprecated in favor of '--extra-vars'.\n- 'tripleo_overcloud_backup_extra_vars' string variable was added\n  for '--extra-vars' variable for passing variables as JSON string\n  or JSON / YAML path.\n- zuul.d updated to include molecule tests\n\nDepends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589\n\nChange-Id: I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90\n""}]",0,774508,f90c7a44b664bde887be9a21fabd75a3c89b585d,10,5,2,32728,,,0,"Create tripleo_overcloud_backup role

- tripleo_overcloud_backup role was added to match python-tripleoclient
  interface for B&R overcloud command. It follows the same structure
  as tripleo_undercloud_backup role.
- 'tripleo_overcloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value. WARNING: this flag will be deprecated
  in favor of '--setup-nfs' and '--setup-rear'.
- 'tripleo_overcloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_overcloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the overcloud controllers. Default to: false.
- 'tripleo_overcloud_backup_storage_ip' string variable was added
  for the flag '--storage-ip' which will allows to specify an ip for
  NFS / Backup server. It has precedence over '--extra-vars'. WARNING:
  this flag will be deprecated in favor of '--extra-vars'.
- 'tripleo_overcloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.
- zuul.d updated to include molecule tests

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I0bdb9ce1e434f7ffd75d1931a70a451cdc48bc90
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/08/774508/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_backup/tests/inventory', 'roles/tripleo_overcloud_backup/molecule/default/prepare.yml', 'roles/tripleo_overcloud_backup/tasks/main.yml', 'roles/tripleo_overcloud_backup/defaults/main.yml', 'roles/tripleo_overcloud_backup/molecule/default/converge.yml', 'roles/tripleo_overcloud_backup/tests/test.yml', 'roles/tripleo_overcloud_backup/molecule/default/molecule.yml', 'roles/tripleo_overcloud_backup/README.md', 'roles/tripleo_overcloud_backup/meta/main.yml']",9,b059c96a4734f29741efd5e36a1f6442e63399c2,cli/backup/overcloud,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: author: OpenStack description: TripleO Operator Role -- tripleo_overcloud_backup company: Red Hat license: Apache-2.0 min_ansible_version: 2.8 # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: CentOS versions: - 7 - 8 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: [] ",,306,0
openstack%2Ftripleo-operator-ansible~master~I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,openstack/tripleo-operator-ansible,master,I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79,Update tripleo_undercloud_backup role,MERGED,2021-02-04 15:13:56.000000000,2021-03-01 23:21:30.000000000,2021-03-01 23:21:30.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 29268}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-04 15:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/3837f2f6afb3a0fec73a20060e16668e1d7dd0ec', 'message': ""Update tripleo_undercloud_backup role\n\n- 'tripleo_undercloud_backup_init' string variable was added for\n  the flag '--init' for installing and configure 'rear' and 'nfs'.\n  Depending on the value.\n  Though it is advised that this flag will be deprecated.\n- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added\n  for the flag '--setup-nfs' which will install and configure NFS\n  server. Default to: false.\n- 'tripleo_undercloud_backup_setup_rear' boolean variable was added\n  for the flag '--setup-rear' which will install and configure ReaR\n  on the undercloud. Default to: false.\n- 'tripleo_undercloud_backup_extra_vars' string variable was added\n  for '--extra-vars' variable for passing variables as JSON string\n  or JSON / YAML path.\n\nChange-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79\n""}, {'number': 2, 'created': '2021-02-04 17:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c57df25da247224e488f9f51cedd38ad6d918ee4', 'message': ""Update tripleo_undercloud_backup role\n\n- 'tripleo_undercloud_backup_init' string variable was added for\n  the flag '--init' for installing and configure 'rear' and 'nfs'.\n  Depending on the value.\n  Though it is advised that this flag will be deprecated.\n- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added\n  for the flag '--setup-nfs' which will install and configure NFS\n  server. Default to: false.\n- 'tripleo_undercloud_backup_setup_rear' boolean variable was added\n  for the flag '--setup-rear' which will install and configure ReaR\n  on the undercloud. Default to: false.\n- 'tripleo_undercloud_backup_extra_vars' string variable was added\n  for '--extra-vars' variable for passing variables as JSON string\n  or JSON / YAML path.\n\nChange-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79\n""}, {'number': 3, 'created': '2021-02-04 17:50:21.000000000', 'files': ['roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_undercloud_backup/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b3265b80053b7faee215497cbc2e52ed01d5963a', 'message': ""Update tripleo_undercloud_backup role\n\n- 'tripleo_undercloud_backup_init' string variable was added for\n  the flag '--init' for installing and configure 'rear' and 'nfs'.\n  Depending on the value.\n  Though it is advised that this flag will be deprecated.\n- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added\n  for the flag '--setup-nfs' which will install and configure NFS\n  server. Default to: false.\n- 'tripleo_undercloud_backup_setup_rear' boolean variable was added\n  for the flag '--setup-rear' which will install and configure ReaR\n  on the undercloud. Default to: false.\n- 'tripleo_undercloud_backup_extra_vars' string variable was added\n  for '--extra-vars' variable for passing variables as JSON string\n  or JSON / YAML path.\n\nDepends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589\n\nChange-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79\n""}]",8,774087,b3265b80053b7faee215497cbc2e52ed01d5963a,15,9,3,32728,,,0,"Update tripleo_undercloud_backup role

- 'tripleo_undercloud_backup_init' string variable was added for
  the flag '--init' for installing and configure 'rear' and 'nfs'.
  Depending on the value.
  Though it is advised that this flag will be deprecated.
- 'tripleo_undercloud_backup_setup_nfs' boolean variable was added
  for the flag '--setup-nfs' which will install and configure NFS
  server. Default to: false.
- 'tripleo_undercloud_backup_setup_rear' boolean variable was added
  for the flag '--setup-rear' which will install and configure ReaR
  on the undercloud. Default to: false.
- 'tripleo_undercloud_backup_extra_vars' string variable was added
  for '--extra-vars' variable for passing variables as JSON string
  or JSON / YAML path.

Depends on: https://review.opendev.org/c/openstack/python-tripleoclient/+/771589

Change-Id: I5c22ab09f98ceff0b6c3e036a37fb76a2a744e79
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/87/774087/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_undercloud_backup/tasks/main.yml', 'roles/tripleo_undercloud_backup/defaults/main.yml', 'roles/tripleo_undercloud_backup/molecule/default/converge.yml', 'roles/tripleo_undercloud_backup/README.md']",4,3837f2f6afb3a0fec73a20060e16668e1d7dd0ec,cli/backup/undercloud,"* `tripleo_undercloud_backup_init`: (String) Flag to initialize environment for backup, using `rear` or `nfs` as args which will check for packages, install and configure ReaR or NFS server. WARNING: This flag will be deprecated and replaced by `--setup-rear` and `--setup-nfs`. * `tripleo_undercloud_backup_setup_nfs`: (Boolean) Flag to setup the NFS server on the backup node which will install required packages and configuration. * `tripleo_undercloud_backup_setup_rear`: (Boolean) Flag to setup ReaR on undercloud which will install and configure ReaR. * `tripleo_undercloud_backup_extra_vars`: (String) Flag to set additional variables as JSON or as an absolute path of a JSON or YAML file type.",,85,0
openstack%2Fopenstack-ansible-ops~master~Iad12c5f7191f7f273a174c5dfbddae9447a78e03,openstack/openstack-ansible-ops,master,Iad12c5f7191f7f273a174c5dfbddae9447a78e03,Make focal jobs voting,MERGED,2021-03-01 08:51:58.000000000,2021-03-01 22:51:30.000000000,2021-03-01 22:46:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-01 08:51:58.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5c895cb2a82f2ff6ec257c5ad793ea3e31c253c7', 'message': 'Make focal jobs voting\n\nChange-Id: Iad12c5f7191f7f273a174c5dfbddae9447a78e03\n'}]",0,777940,5c895cb2a82f2ff6ec257c5ad793ea3e31c253c7,8,3,1,28619,,,0,"Make focal jobs voting

Change-Id: Iad12c5f7191f7f273a174c5dfbddae9447a78e03
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/40/777940/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,5c895cb2a82f2ff6ec257c5ad793ea3e31c253c7,elk_adjustments,, voting: false,1,1
openstack%2Frpm-packaging~master~Id3e71044b9e97c88595bad3874228ae07e68448e,openstack/rpm-packaging,master,Id3e71044b9e97c88595bad3874228ae07e68448e,octavia: update filelist for amphora driver,MERGED,2021-02-24 08:24:10.000000000,2021-03-01 21:41:18.000000000,2021-03-01 21:41:18.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 08:24:10.000000000', 'files': ['openstack/octavia/octavia.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6223b9af12f49c3ca69ed4194bffecb42b59d3f5', 'message': 'octavia: update filelist for amphora driver\n\nFrom the release notes:\n\n  Support for SCTP health monitors is provided by the\n  amphora-health-checker script and relies on an INIT/INIT-ACK/ABORT\n  sequence of packets.\n\nChange-Id: Id3e71044b9e97c88595bad3874228ae07e68448e\n'}]",0,777313,6223b9af12f49c3ca69ed4194bffecb42b59d3f5,9,5,1,6593,,,0,"octavia: update filelist for amphora driver

From the release notes:

  Support for SCTP health monitors is provided by the
  amphora-health-checker script and relies on an INIT/INIT-ACK/ABORT
  sequence of packets.

Change-Id: Id3e71044b9e97c88595bad3874228ae07e68448e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/777313/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/octavia/octavia.spec.j2'],1,6223b9af12f49c3ca69ed4194bffecb42b59d3f5,,%{_bindir}/amphora-health-checker,,1,0
openstack%2Fswift~stable%2Ftrain~I3a197fecfd68359a325efdfd4590b7bd48598da8,openstack/swift,stable/train,I3a197fecfd68359a325efdfd4590b7bd48598da8,Avoid loops when gathering container listings from shards,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:32:53.000000000,2021-03-01 21:30:17.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03769ad4cbcd25adee3e8b7bc659559609de17c7', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nCherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\nChange-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8eb552f2ccbab6cfaa24e444ca5b95b7b29f09db', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nCherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\nChange-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8\n""}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/96e24bb1dbbac0313cea1f233f8cd918c6d820ac', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nCherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\nChange-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8\n""}]",0,774343,96e24bb1dbbac0313cea1f233f8cd918c6d820ac,16,3,3,597,,,0,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I3a197fecfd68359a325efdfd4590b7bd48598da8
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/774343/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py']",3,03769ad4cbcd25adee3e8b7bc659559609de17c7,train-sharding," # Construct listing using shards described by the response body. # The history of containers that have returned shard ranges is # maintained in the request environ so that loops can be avoided by # forcing an object listing if the same container is visited again. # This can happen in at least two scenarios: # 1. a container has filled a gap in its shard ranges with a # shard range pointing to itself # 2. a root container returns a (stale) shard range pointing to a # shard that has shrunk into the root, in which case the shrunken # shard may return the root's shard range. shard_listing_history = req.environ.setdefault( 'swift.shard_listing_history', []) shard_listing_history.append((self.account_name, self.container_name)) if ((shard_range.account, shard_range.container) in shard_listing_history):", # construct listing using shards described by the response body if (shard_range.account == self.account_name and shard_range.container == self.container_name):,178,5
openstack%2Fnova~master~I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,openstack/nova,master,I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9,scheduler: Add 'socket' PCI NUMA affinity policy trait,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 21:31:55.000000000,2021-03-01 21:28:57.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 16:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/386bb80584cb1a15b8aa8a0019320ddfd681f301', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_poicy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 2, 'created': '2021-01-27 22:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c06795b60b6e987e858d1b662d4811843267e59d', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_poicy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch - and the `socket` value remains a hidden no-op.\n\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 3, 'created': '2021-01-28 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ad84dd5a233fb0b3fe575ea1832ea53aad49801', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_poicy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 4, 'created': '2021-02-04 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb6783b8f3fa0e6faa9cb246b474fd8463dd51f4', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 5, 'created': '2021-02-05 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93be4a73a46a1515506fa5f17f51af868cdb4c13', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 6, 'created': '2021-02-05 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f7f2c6ca41713c06ad07bed49d1a1aebf15b461', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 7, 'created': '2021-02-06 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c745192e7e6a1dbc30f776e0844c2c2a830ca681', 'message': ""WIP: Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 8, 'created': '2021-02-09 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31e3e69cf4fd563f57797dea938857e6f7065ee9', 'message': ""Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 9, 'created': '2021-02-17 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d63b64bf136a571add0051194d8239233c503694', 'message': ""Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nDepends-on: https://review.opendev.org/c/openstack/os-traits/+/771705\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 10, 'created': '2021-02-18 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c30c958a30806d49988d6cd9b7f66efc284bb1', 'message': ""Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 11, 'created': '2021-02-21 14:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09a879c7727c917cd1340c589a12c11c85765dd5', 'message': ""Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 12, 'created': '2021-02-21 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30aff4207a61b7d48de2e09139b4fb2550814182', 'message': ""Add `socket` PCI NUMA affinity policy request prefilter\n\nSince only Wallaby compute nodes will support the `socket` PCI NUMA\naffinity policy, this patch adds a request prefilter that adds a\nrequired trait if the value of `(hw_|hw:)pci_numa_affinity_policy` is\n`socket`.\n\nSince we need to look at both image properties and flavor extra spec,\nwe've also made the _get_unique_flavor_image_meta() helper in\nhardware.py public.\n\nThe actual trait reporting by the libvirt driver will be added\nin a future patch. Until then the `socket` value remains a hidden\nno-op.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}, {'number': 13, 'created': '2021-02-24 10:50:39.000000000', 'files': ['requirements.txt', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/db7517d5a8aaa5a24be12d9c3453dcd98d9a887e', 'message': ""scheduler: Add 'socket' PCI NUMA affinity policy trait\n\nSince only Wallaby compute nodes will support the 'socket' PCI NUMA\naffinity policy, this patch adds a ResourceRequest translator that adds\na required trait if the value of '(hw_|hw:)pci_numa_affinity_policy' is\n'socket'.\n\nThe actual trait reporting by the libvirt driver will be added in a\nfuture patch. Until then the 'socket' value remains a hidden no-op.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9\n""}]",15,772749,db7517d5a8aaa5a24be12d9c3453dcd98d9a887e,81,3,13,8864,,,0,"scheduler: Add 'socket' PCI NUMA affinity policy trait

Since only Wallaby compute nodes will support the 'socket' PCI NUMA
affinity policy, this patch adds a ResourceRequest translator that adds
a required trait if the value of '(hw_|hw:)pci_numa_affinity_policy' is
'socket'.

The actual trait reporting by the libvirt driver will be added in a
future patch. Until then the 'socket' value remains a hidden no-op.

Implements: blueprint pci-socket-affinity
Change-Id: I908ff07e1107304ca5926cc04d2fdc8fe0da5ed9
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/772749/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_request_filter.py', 'nova/virt/hardware.py', 'nova/scheduler/request_filter.py']",3,386bb80584cb1a15b8aa8a0019320ddfd681f301,bp/pci-socket-affinity,"from nova.virt import hardwaredef socket_pci_numa_affinity_trait(ctxt, request_spec): """"""Add a required trait if the PCI NUMA affinity policy is `socket` to ensure the request lands on a compute host new enough to support it. """""" policy = hardware.get_unique_flavor_image_meta( 'pci_numa_affinity_policy', request_spec.flavor, request_spec.image) if policy == objects.fields.PCINUMAAffinityPolicy.SOCKET: request_spec.root_required.add('COMPUTE_SOCKET_PCI_NUMA_AFFINITY') @trace_request_filter socket_pci_numa_affinity_trait,",,42,3
openstack%2Fswift~stable%2Ftrain~I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,openstack/swift,stable/train,I83441cb0ba600e7c26aa24a80bc3fb85803c90f3,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 21:31:42.000000000,2021-03-01 21:30:01.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf8f1517eab3a50cdf4744103cc0893c47fdff36', 'message': ""Populate shrinking shards with shard ranges learnt from root\n\nShard shrinking can be instigated by a third party modifying shard\nranges, moving one shard to shrinking state and expanding the\nnamespace of one or more other shard(s) to act as acceptors. These\nstate and namespace changes must propagate to the shrinking and\nacceptor shards. The shrinking shard must also discover the acceptor\nshard(s) into which it will shard itself.\n\nThe sharder audit function already updates shards with their own state\nand namespace changes from the root. However, there is currently no\nmechanism for the shrinking shard to learn about the acceptor(s) other\nthan by a PUT request being made to the shrinking shard container.\n\nThis patch modifies the shard container audit function so that other\noverlapping shards discovered from the root are merged into the\naudited shard's db. In this way, the audited shard will have acceptor\nshards to cleave to if shrinking.\n\nThis new behavior is restricted to when the shard is shrinking. In\ngeneral, a shard is responsible for processing its own sub-shard\nranges (if any) and reporting them to root. Replicas of a shard\ncontainer synchronise their sub-shard ranges via replication, and do\nnot rely on the root to propagate sub-shard ranges between shard\nreplicas. The exception to this is when a third party (or\nauto-sharding) wishes to instigate shrinking by modifying the shard\nand other acceptor shards in the root container.  In other\ncircumstances, merging overlapping shard ranges discovered from the\nroot is undesirable because it risks shards inheriting other unrelated\nshard ranges. For example, if the root has become polluted by\nsplit-brain shard range management, a sharding shard may have its\nsub-shards polluted by an undesired shard from the root.\n\nDuring the shrinking process a shard range's own shard range state may\nbe either shrinking or, prior to this patch, sharded. The sharded\nstate could occur when one replica of a shrinking shard completed\nshrinking and moved the own shard range state to sharded before other\nreplica(s) had completed shrinking. This makes it impossible to\ndistinguish a shrinking shard (with sharded state), which we do want\nto inherit shard ranges, from a sharding shard (with sharded state),\nwhich we do not want to inherit shard ranges.\n\nThis patch therefore introduces a new shard range state, 'SHRUNK', and\napplies this state to shard ranges that have completed shrinking.\nShards are now restricted to inherit shard ranges from the root only\nwhen their own shard range state is either SHRINKING or SHRUNK.\n\nThis patch also:\n\n - Stops overlapping shrinking shards from generating audit warnings:\n   overlaps are cured by shrinking and we therefore expect shrinking\n   shards to sometimes overlap.\n\n - Extends an existing probe test to verify that overlapping shard\n   ranges may be resolved by shrinking a subset of the shard ranges.\n\n - Adds a --no-auto-shard option to swift-container-sharder to enable the\n   probe tests to disable auto-sharding.\n\n - Improves sharder logging, in particular by decrementing ranges_todo\n   when a shrinking shard is skipped during cleaving.\n\n - Adds a ShardRange.sort_key class method to provide a single definition\n   of ShardRange sort ordering.\n\n - Improves unit test coverage for sharder shard auditing.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6\nChange-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c250aa74bccb5c122c1881b4c00f8fd8dc2b5308', 'message': ""Populate shrinking shards with shard ranges learnt from root\n\nShard shrinking can be instigated by a third party modifying shard\nranges, moving one shard to shrinking state and expanding the\nnamespace of one or more other shard(s) to act as acceptors. These\nstate and namespace changes must propagate to the shrinking and\nacceptor shards. The shrinking shard must also discover the acceptor\nshard(s) into which it will shard itself.\n\nThe sharder audit function already updates shards with their own state\nand namespace changes from the root. However, there is currently no\nmechanism for the shrinking shard to learn about the acceptor(s) other\nthan by a PUT request being made to the shrinking shard container.\n\nThis patch modifies the shard container audit function so that other\noverlapping shards discovered from the root are merged into the\naudited shard's db. In this way, the audited shard will have acceptor\nshards to cleave to if shrinking.\n\nThis new behavior is restricted to when the shard is shrinking. In\ngeneral, a shard is responsible for processing its own sub-shard\nranges (if any) and reporting them to root. Replicas of a shard\ncontainer synchronise their sub-shard ranges via replication, and do\nnot rely on the root to propagate sub-shard ranges between shard\nreplicas. The exception to this is when a third party (or\nauto-sharding) wishes to instigate shrinking by modifying the shard\nand other acceptor shards in the root container.  In other\ncircumstances, merging overlapping shard ranges discovered from the\nroot is undesirable because it risks shards inheriting other unrelated\nshard ranges. For example, if the root has become polluted by\nsplit-brain shard range management, a sharding shard may have its\nsub-shards polluted by an undesired shard from the root.\n\nDuring the shrinking process a shard range's own shard range state may\nbe either shrinking or, prior to this patch, sharded. The sharded\nstate could occur when one replica of a shrinking shard completed\nshrinking and moved the own shard range state to sharded before other\nreplica(s) had completed shrinking. This makes it impossible to\ndistinguish a shrinking shard (with sharded state), which we do want\nto inherit shard ranges, from a sharding shard (with sharded state),\nwhich we do not want to inherit shard ranges.\n\nThis patch therefore introduces a new shard range state, 'SHRUNK', and\napplies this state to shard ranges that have completed shrinking.\nShards are now restricted to inherit shard ranges from the root only\nwhen their own shard range state is either SHRINKING or SHRUNK.\n\nThis patch also:\n\n - Stops overlapping shrinking shards from generating audit warnings:\n   overlaps are cured by shrinking and we therefore expect shrinking\n   shards to sometimes overlap.\n\n - Extends an existing probe test to verify that overlapping shard\n   ranges may be resolved by shrinking a subset of the shard ranges.\n\n - Adds a --no-auto-shard option to swift-container-sharder to enable the\n   probe tests to disable auto-sharding.\n\n - Improves sharder logging, in particular by decrementing ranges_todo\n   when a shrinking shard is skipped during cleaving.\n\n - Adds a ShardRange.sort_key class method to provide a single definition\n   of ShardRange sort ordering.\n\n - Improves unit test coverage for sharder shard auditing.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6\nChange-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3\n""}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/80b7892266389d04f122dd7b870fd64c98c0fe29', 'message': ""Populate shrinking shards with shard ranges learnt from root\n\nShard shrinking can be instigated by a third party modifying shard\nranges, moving one shard to shrinking state and expanding the\nnamespace of one or more other shard(s) to act as acceptors. These\nstate and namespace changes must propagate to the shrinking and\nacceptor shards. The shrinking shard must also discover the acceptor\nshard(s) into which it will shard itself.\n\nThe sharder audit function already updates shards with their own state\nand namespace changes from the root. However, there is currently no\nmechanism for the shrinking shard to learn about the acceptor(s) other\nthan by a PUT request being made to the shrinking shard container.\n\nThis patch modifies the shard container audit function so that other\noverlapping shards discovered from the root are merged into the\naudited shard's db. In this way, the audited shard will have acceptor\nshards to cleave to if shrinking.\n\nThis new behavior is restricted to when the shard is shrinking. In\ngeneral, a shard is responsible for processing its own sub-shard\nranges (if any) and reporting them to root. Replicas of a shard\ncontainer synchronise their sub-shard ranges via replication, and do\nnot rely on the root to propagate sub-shard ranges between shard\nreplicas. The exception to this is when a third party (or\nauto-sharding) wishes to instigate shrinking by modifying the shard\nand other acceptor shards in the root container.  In other\ncircumstances, merging overlapping shard ranges discovered from the\nroot is undesirable because it risks shards inheriting other unrelated\nshard ranges. For example, if the root has become polluted by\nsplit-brain shard range management, a sharding shard may have its\nsub-shards polluted by an undesired shard from the root.\n\nDuring the shrinking process a shard range's own shard range state may\nbe either shrinking or, prior to this patch, sharded. The sharded\nstate could occur when one replica of a shrinking shard completed\nshrinking and moved the own shard range state to sharded before other\nreplica(s) had completed shrinking. This makes it impossible to\ndistinguish a shrinking shard (with sharded state), which we do want\nto inherit shard ranges, from a sharding shard (with sharded state),\nwhich we do not want to inherit shard ranges.\n\nThis patch therefore introduces a new shard range state, 'SHRUNK', and\napplies this state to shard ranges that have completed shrinking.\nShards are now restricted to inherit shard ranges from the root only\nwhen their own shard range state is either SHRINKING or SHRUNK.\n\nThis patch also:\n\n - Stops overlapping shrinking shards from generating audit warnings:\n   overlaps are cured by shrinking and we therefore expect shrinking\n   shards to sometimes overlap.\n\n - Extends an existing probe test to verify that overlapping shard\n   ranges may be resolved by shrinking a subset of the shard ranges.\n\n - Adds a --no-auto-shard option to swift-container-sharder to enable the\n   probe tests to disable auto-sharding.\n\n - Improves sharder logging, in particular by decrementing ranges_todo\n   when a shrinking shard is skipped during cleaving.\n\n - Adds a ShardRange.sort_key class method to provide a single definition\n   of ShardRange sort ordering.\n\n - Improves unit test coverage for sharder shard auditing.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6\nChange-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3\n""}]",0,774342,80b7892266389d04f122dd7b870fd64c98c0fe29,15,3,3,597,,,0,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: I83441cb0ba600e7c26aa24a80bc3fb85803c90f3
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/774342/2 && git format-patch -1 --stdout FETCH_HEAD,"['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",6,cf8f1517eab3a50cdf4744103cc0893c47fdff36,train-sharding," ShardRange.SHARDED, ShardRange.SHRUNK): shard_ranges.sort(key=ShardRange.sort_key)"," ShardRange.SHARDED): # note if this ever changes to *not* sort by upper first then it breaks # a key assumption for bisect, which is used by utils.find_shard_ranges shard_ranges.sort(key=lambda sr: ( sr.upper, sr.state, sr.lower, sr.name))",621,175
openstack%2Frequirements~master~I398680e2f105d377790d9d7748d28e8e678375ad,openstack/requirements,master,I398680e2f105d377790d9d7748d28e8e678375ad,Updated from generate-constraints,MERGED,2021-03-01 06:34:35.000000000,2021-03-01 21:31:39.000000000,2021-03-01 21:29:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 06:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e9508b9aa788e7b22ba6ff6da51812f456aa8a09', 'message': 'Updated from generate-constraints\n\nChange-Id: I398680e2f105d377790d9d7748d28e8e678375ad\n'}, {'number': 2, 'created': '2021-03-01 07:30:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8fb0cabbea075eb9a61087c2a9ff11dd5475f641', 'message': 'Updated from generate-constraints\n\nChange-Id: I398680e2f105d377790d9d7748d28e8e678375ad\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777928,8fb0cabbea075eb9a61087c2a9ff11dd5475f641,16,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I398680e2f105d377790d9d7748d28e8e678375ad
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/777928/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e9508b9aa788e7b22ba6ff6da51812f456aa8a09,openstack/requirements/constraints/noclob,arrow===1.0.2coverage===5.5keyring===22.3.0GitPython===3.1.14pkg-resources===0.0.0importlib-resources===5.1.1httpx===0.17.0,arrow===1.0.0coverage===5.4keyring===22.2.0GitPython===3.1.13importlib-resources===5.1.0futures===3.3.0;python_version=='2.7'httpx===0.16.1setuptools===53.0.0,7,8
openstack%2Fproject-config~master~I5d4c579daffe9c7147e527e61f810eebf1ef3582,openstack/project-config,master,I5d4c579daffe9c7147e527e61f810eebf1ef3582,Enable inap-mtl01 region,MERGED,2021-03-01 20:49:50.000000000,2021-03-01 21:20:24.000000000,2021-03-01 21:12:07.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 20:49:50.000000000', 'files': ['nodepool/nl03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7167b379dc97c2b732cdce95b7680a9a82d83bd7', 'message': 'Enable inap-mtl01 region\n\nChange-Id: I5d4c579daffe9c7147e527e61f810eebf1ef3582\n'}]",0,778064,7167b379dc97c2b732cdce95b7680a9a82d83bd7,8,3,1,7156,,,0,"Enable inap-mtl01 region

Change-Id: I5d4c579daffe9c7147e527e61f810eebf1ef3582
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/778064/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.openstack.org.yaml'],1,7167b379dc97c2b732cdce95b7680a9a82d83bd7,inap-mtl01, max-servers: 200, max-servers: 0,1,1
openstack%2Fswift~master~Ic765305da394a45e73ec17dcecb58da0c0b54a40,openstack/swift,master,Ic765305da394a45e73ec17dcecb58da0c0b54a40,WIP: s3api: Allow MPUs via CORS requests,NEW,2020-04-14 23:01:06.000000000,2021-03-01 21:11:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-14 23:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b50493146e3d52658dea98c75b4ee70a345f8a63', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 2, 'created': '2020-04-15 02:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fe64def6699b4bb29ab00b2ded7227c5aea837bf', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 3, 'created': '2020-04-16 00:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2cbd6b1261964c9f8798f252f450ff3d8fa116c', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 4, 'created': '2020-04-16 17:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a811eafb46c52fabd2710f248703d16ba1677e19', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 5, 'created': '2020-04-16 17:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/74b9b8f28ff2c0e53d1c85edafa2541f15749fb1', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 6, 'created': '2020-04-16 20:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92120f478bbb2983d2f7f9db0d8b667d498c382f', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 7, 'created': '2020-05-30 05:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be93d0f38752059304eb07fdf64826940fdf6bed', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 8, 'created': '2020-10-14 00:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4e8f6937093bcd3818eb2d25a6dcd3c1a06b1319', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 9, 'created': '2021-01-21 18:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0034e3b98625c58d9e3615e8dcc61829005b0419', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}, {'number': 10, 'created': '2021-03-01 19:05:35.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/slo.py', 'test/cors/test-s3-obj.js', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/cors/main.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/325cff580436b84cf73256825f5bd1ca4486e837', 'message': ""WIP: s3api: Allow MPUs via CORS requests\n\nStill need to:\n\n* drop the `Access-Control-Expose-Headers: *` in favor of something more\n  targetted\n* at least *try* to respect the CORS settings on the container, and\n* think about how best to deal with the `+segments` container so we\n  don't need to configure CORS via swift.\n\nChange-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40\n""}]",1,720098,325cff580436b84cf73256825f5bd1ca4486e837,18,1,10,15343,,,0,"WIP: s3api: Allow MPUs via CORS requests

Still need to:

* drop the `Access-Control-Expose-Headers: *` in favor of something more
  targetted
* at least *try* to respect the CORS settings on the container, and
* think about how best to deal with the `+segments` container so we
  don't need to configure CORS via swift.

Change-Id: Ic765305da394a45e73ec17dcecb58da0c0b54a40
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/720098/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/obj.py', 'swift/common/middleware/slo.py', 'test/cors/test-s3-obj.js', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/cors/main.py']",5,b50493146e3d52658dea98c75b4ee70a345f8a63,cors," conn.put_container('private-with-cors+segments', { 'X-Container-Read': '', 'X-Container-Meta-Access-Control-Allow-Origin': '*', })",,142,10
openstack%2Ftripleo-heat-templates~master~Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,openstack/tripleo-heat-templates,master,Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8,WIP: Environment overrides for multinode standalone CI job,ABANDONED,2021-02-09 15:13:59.000000000,2021-03-01 21:09:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-09 15:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5c1a72abf03db8c669191e4eb814bd8de7f1380', 'message': ""WIP: Environment overrides for multinode standalone CI job\n\nThis is intended as a sort of strawman to try and get a multinode\nstandalone job working. Basedon zuul.d/READMET.rst in triplo-ci,\n`standalone_environment_files` is overridable, but only by files\nalready in tht, hence this patch. I'm sure there are better/smarter\nways of doing the same thing, but let's get the ball rolling with this\npatch.\n\nNeeded-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866\nChange-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8\n""}, {'number': 2, 'created': '2021-02-09 15:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b76bddcc059e4858df689923d2d298fcaf5628f3', 'message': ""WIP: Environment overrides for multinode standalone CI job\n\nThis is intended as a sort of strawman to try and get a multinode\nstandalone job working. Based on zuul.d/README.rst in tripleo-ci,\n`standalone_environment_files` is overridable, but only by files\nalready in tht, hence this patch.\n\nI was told ComputeCount is not enough, and I might also need to\noverride HostnameMap and DeployedServerPortMap, but they're not as\ntrivial to figure out, so let's start with ComputeCount and see what\nhappens.\n\nI'm sure there are better/smarter ways of doing the same thing, but\nlet's get the ball rolling with this patch.\n\nNeeded-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866\nChange-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8\n""}, {'number': 3, 'created': '2021-02-15 17:27:33.000000000', 'files': ['environments/standalone-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a66634f153f82982118ce2f0ca13428fb6f1dc7', 'message': ""WIP: Environment overrides for multinode standalone CI job\n\nThis is intended as a sort of strawman to try and get a multinode\nstandalone job working. Based on zuul.d/README.rst in tripleo-ci,\n`standalone_environment_files` is overridable, but only by files\nalready in tht, hence this patch.\n\nI was told ComputeCount is not enough, and I might also need to\noverride HostnameMap and DeployedServerPortMap, but they're not as\ntrivial to figure out, so let's start with ComputeCount and see what\nhappens.\n\nI'm sure there are better/smarter ways of doing the same thing, but\nlet's get the ball rolling with this patch.\n\nNeeded-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866\nChange-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8\n""}]",0,774677,9a66634f153f82982118ce2f0ca13428fb6f1dc7,8,2,3,8864,,,0,"WIP: Environment overrides for multinode standalone CI job

This is intended as a sort of strawman to try and get a multinode
standalone job working. Based on zuul.d/README.rst in tripleo-ci,
`standalone_environment_files` is overridable, but only by files
already in tht, hence this patch.

I was told ComputeCount is not enough, and I might also need to
override HostnameMap and DeployedServerPortMap, but they're not as
trivial to figure out, so let's start with ComputeCount and see what
happens.

I'm sure there are better/smarter ways of doing the same thing, but
let's get the ball rolling with this patch.

Needed-by: https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/762866
Change-Id: Ib35f4346f94c2a6b172f6c6d64d45e24615f61c8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/774677/3 && git format-patch -1 --stdout FETCH_HEAD,['environments/standalone-multinode.yaml'],1,c5c1a72abf03db8c669191e4eb814bd8de7f1380,,parameter_defaults: ComputeCount: 2 ,,2,0
openstack%2Fpython-swiftclient~stable%2Fvictoria~I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,openstack/python-swiftclient,stable/victoria,I5a6ba8e65c23ada7297f6684dcbdd886591d0af5,Fix multiple CI failures,MERGED,2020-09-21 18:27:44.000000000,2021-03-01 21:07:26.000000000,2021-03-01 21:02:23.000000000,"[{'_account_id': 15197}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-21 18:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/cc9674abb20ad086de64950cb3b0552e103171df', 'message': ""Clean up some requirements\n\n* Drop the py26 marker for futures; we don't support 2.6 anymore.\n* Split hacking version used based on python version.\n* Clean up sphinx split -- 2.0+ aren't available to install on py2,\n  anyway.\n\nDepends-On: https://review.opendev.org/#/c/752340/\nDepends-On: https://review.opendev.org/#/c/752736/\nChange-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5\n(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)\n""}, {'number': 2, 'created': '2021-02-25 10:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/5216b726ce4ba470225e5839d5d4b8118263d253', 'message': ""Fix multiple CI failures\n\n1. Clean up some requirements\n\n* Drop the py26 marker for futures; we don't support 2.6 anymore.\n* Split hacking version used based on python version.\n* Clean up sphinx split -- 2.0+ aren't available to install on py2,\n  anyway.\n\nDepends-On: https://review.opendev.org/#/c/752340/\nDepends-On: https://review.opendev.org/#/c/752736/\n(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)\n\n2. Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\n(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)\n\nChange-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5\n""}, {'number': 3, 'created': '2021-02-25 20:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/a1c54140208f3bfaa224e6ef8759a65d291fd1f1', 'message': ""Fix multiple CI failures\n\n1. Clean up some requirements\n\n* Drop the py26 marker for futures; we don't support 2.6 anymore.\n* Split hacking version used based on python version.\n* Clean up sphinx split -- 2.0+ aren't available to install on py2,\n  anyway.\n\nDepends-On: https://review.opendev.org/#/c/752340/\nDepends-On: https://review.opendev.org/#/c/752736/\n(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)\n\n2. Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\n(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)\n\n3. [goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\n- Keep py2 functional job run on Bionic node\n\nStory: #2007865\nTask: #40221\n\n(cherry picked from commit 9f69908f759daafc99a162b136b24570a2822ee2)\n\nChange-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5\n""}, {'number': 4, 'created': '2021-03-01 10:45:32.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'test/unit/test_shell.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/acd7091f605e2ca1b43461f566988436af3e76bc', 'message': ""Fix multiple CI failures\n\n1. Clean up some requirements\n\n* Drop the py26 marker for futures; we don't support 2.6 anymore.\n* Split hacking version used based on python version.\n* Clean up sphinx split -- 2.0+ aren't available to install on py2,\n  anyway.\n\nDepends-On: https://review.opendev.org/#/c/752340/\nDepends-On: https://review.opendev.org/#/c/752736/\n(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)\n\n2. Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\n(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)\n\n3. [goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\n- Keep py2 functional job run on Bionic node\n\nStory: #2007865\nTask: #40221\n\n(cherry picked from commit 9f69908f759daafc99a162b136b24570a2822ee2)\n\ntests: Make test_delete_container_versions less flakey\n\nHammering that test in a tight loop, I'd often see failures due to\nordering issues. Make the delete single-threaded to avoid that.\n\n(cherry picked from commit c73792c2e55e4fbdff78a192a991e064a317e840)\n\nChange-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5\n""}]",0,753118,acd7091f605e2ca1b43461f566988436af3e76bc,18,3,4,15343,,,0,"Fix multiple CI failures

1. Clean up some requirements

* Drop the py26 marker for futures; we don't support 2.6 anymore.
* Split hacking version used based on python version.
* Clean up sphinx split -- 2.0+ aren't available to install on py2,
  anyway.

Depends-On: https://review.opendev.org/#/c/752340/
Depends-On: https://review.opendev.org/#/c/752736/
(cherry picked from commit 5cb906148709ccc74ca96463fd69a5cae2381edb)

2. Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

(cherry picked from commit 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5)

3. [goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

- Keep py2 functional job run on Bionic node

Story: #2007865
Task: #40221

(cherry picked from commit 9f69908f759daafc99a162b136b24570a2822ee2)

tests: Make test_delete_container_versions less flakey

Hammering that test in a tight loop, I'd often see failures due to
ordering issues. Make the delete single-threaded to avoid that.

(cherry picked from commit c73792c2e55e4fbdff78a192a991e064a317e840)

Change-Id: I5a6ba8e65c23ada7297f6684dcbdd886591d0af5
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/18/753118/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt']",3,cc9674abb20ad086de64950cb3b0552e103171df,requirements-stable/victoria,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,!=2.1.0,!=3.0.0 # BSD","sphinx!=1.6.6,!=1.6.7,<2.0.0,>=1.6.2;python_version=='2.7' # BSD sphinx>=2.0.0,!=2.1.0;python_version>='3.4' # BSD",4,4
openstack%2Foslo.messaging~stable%2Ftrain~I01a38754a31c891f2b3b9c7f8135690693df5d13,openstack/oslo.messaging,stable/train,I01a38754a31c891f2b3b9c7f8135690693df5d13,Fix type of direct_mandatory_flag opt,MERGED,2021-02-18 10:34:50.000000000,2021-03-01 21:00:02.000000000,2021-03-01 20:58:51.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 10:34:50.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/56fc332608028ba4c671255e8bd9223a0bae762d', 'message': ""Fix type of direct_mandatory_flag opt\n\nAn IntOpt with a default of True is invalid. I'm a little surprised\nthis doesn't fail a defaults check somewhere, but it needs to be\nfixed regardless.\n\nLooking at where it is used, it appears the boolean type is correct.\nThis just changes the opt type to BoolOpt to match.\n\nConflicts:\n  oslo_messaging/_drivers/impl_rabbit.py\n\nNOTE(hberaud): Conflicts are due to a patch [1][2] not yet backported on\ntrain and which added a new option on other branches.\n\n[1] https://opendev.org/openstack/oslo.messaging/commit/196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/747892\n\nChange-Id: I01a38754a31c891f2b3b9c7f8135690693df5d13\nCloses-Bug: 1909036\n(cherry picked from commit b8f8b17030e93f6fe64e986ebae1de4011f007d5)\n(cherry picked from commit a0329a3f86e8bf275dd4e16c1f354911a6ff2eb6)\n(cherry picked from commit 3bf9ba550454719f1d56dbbf8bccbabab11a16f6)\n""}]",0,776416,56fc332608028ba4c671255e8bd9223a0bae762d,17,2,1,28522,,,0,"Fix type of direct_mandatory_flag opt

An IntOpt with a default of True is invalid. I'm a little surprised
this doesn't fail a defaults check somewhere, but it needs to be
fixed regardless.

Looking at where it is used, it appears the boolean type is correct.
This just changes the opt type to BoolOpt to match.

Conflicts:
  oslo_messaging/_drivers/impl_rabbit.py

NOTE(hberaud): Conflicts are due to a patch [1][2] not yet backported on
train and which added a new option on other branches.

[1] https://opendev.org/openstack/oslo.messaging/commit/196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/747892

Change-Id: I01a38754a31c891f2b3b9c7f8135690693df5d13
Closes-Bug: 1909036
(cherry picked from commit b8f8b17030e93f6fe64e986ebae1de4011f007d5)
(cherry picked from commit a0329a3f86e8bf275dd4e16c1f354911a6ff2eb6)
(cherry picked from commit 3bf9ba550454719f1d56dbbf8bccbabab11a16f6)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/16/776416/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,56fc332608028ba4c671255e8bd9223a0bae762d,fix-option-train," cfg.BoolOpt('direct_mandatory_flag', default=True, help='Enable/Disable the RabbitMQ mandatory flag ' 'for direct send. The direct send is used as reply, ' 'so the MessageUndeliverable exception is raised ' 'in case the client queue does not exist.'),"," cfg.IntOpt('direct_mandatory_flag', default=True, help='Enable/Disable the RabbitMQ mandatory flag ' 'for direct send. The direct send is used as reply,' 'so the MessageUndeliverable exception is raised' ' in case the client queue does not exist.'),",6,6
openstack%2Fgovernance-sigs~master~Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,openstack/governance-sigs,master,Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885,Update automation and multi-arch SIGs,MERGED,2021-01-26 09:19:55.000000000,2021-03-01 20:56:46.000000000,2021-02-04 16:02:39.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 09:19:55.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/42401fb845fdba8da8079a4062d827cb985c06ec', 'message': 'Update automation and multi-arch SIGs\n\nChanges:\n* Automation SIG to advisory\n* Multi-arch SIG to active\n\nChange-Id: Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885\n'}]",0,772483,42401fb845fdba8da8079a4062d827cb985c06ec,12,4,1,12404,,,0,"Update automation and multi-arch SIGs

Changes:
* Automation SIG to advisory
* Multi-arch SIG to active

Change-Id: Ie9cfc43a3d29858fbfa3fa6e7b3927821175c885
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/83/772483/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,42401fb845fdba8da8079a4062d827cb985c06ec,formal-vote, status: advisory status: active, status: active status: forming,2,2
openstack%2Ftripleo-heat-templates~master~Ie84fa812c71ccff8328a0c43e023f98522dd80fb,openstack/tripleo-heat-templates,master,Ie84fa812c71ccff8328a0c43e023f98522dd80fb,Allow configuring cinder mount point for glance cinder store,MERGED,2021-02-05 07:34:29.000000000,2021-03-01 20:50:05.000000000,2021-03-01 20:41:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-05 07:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25bde18d2f183ee9e40708cebe7e32064399252b', 'message': 'Allow configuring cinder mount point for glance cinder store\n\nThe new parameter CinderMountPointBase has been added which will be used\nfor mounting NFS volumes on glance nodes.\nWhen glance uses cinder as store and cinder backend is NFS, the mount\npoint would be required to be set with this parameter.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb\n'}, {'number': 2, 'created': '2021-02-05 08:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/571c797977eef965166cf5758c243be3a13ac9b6', 'message': 'Allow configuring cinder mount point for glance cinder store\n\nThe new parameter CinderMountPointBase has been added which will be used\nfor mounting NFS volumes on glance nodes.\nWhen glance uses cinder as store and cinder backend is NFS, the mount\npoint would be required to be set with this parameter.\n\nDepends-On: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\nChange-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb\n'}, {'number': 3, 'created': '2021-02-10 07:47:57.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/add-glance-cinder-mount-point-base-parameter-852554398b9f3a19.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/365f16e21d25e6ffeed65a65c22df48a857935b0', 'message': 'Allow configuring cinder mount point for glance cinder store\n\nThe new parameter CinderMountPointBase has been added which will be used\nfor mounting NFS volumes on glance nodes.\nWhen glance uses cinder as store and cinder backend is NFS, the mount\npoint would be required to be set with this parameter.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb\n'}]",6,774201,365f16e21d25e6ffeed65a65c22df48a857935b0,21,12,3,19138,,,0,"Allow configuring cinder mount point for glance cinder store

The new parameter CinderMountPointBase has been added which will be used
for mounting NFS volumes on glance nodes.
When glance uses cinder as store and cinder backend is NFS, the mount
point would be required to be set with this parameter.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/774201/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/add-glance-cinder-mount-point-base-parameter-852554398b9f3a19.yaml']",2,25bde18d2f183ee9e40708cebe7e32064399252b,glance-cinder-mountpoint,"--- features: - | The new parameter CinderMountPointBase has been added which will be used for mounting NFS volumes on glance nodes. When glance uses cinder as store and cinder backend is NFS, the mount point would be required to be set with this parameter. ",,14,0
openstack%2Fopenstack-ansible-os_octavia~master~Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,openstack/openstack-ansible-os_octavia,master,Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340,[reno] Stop publishing release notes,MERGED,2021-01-22 16:27:16.000000000,2021-03-01 20:49:50.000000000,2021-03-01 20:37:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-01-22 16:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f64f3951188db6a5886de530f4ac3ad96f62911e', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340'}, {'number': 2, 'created': '2021-02-25 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/93c65051f6d561a7cc07aea40b6920012a90ec8a', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601\nChange-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340\n'}, {'number': 3, 'created': '2021-02-25 14:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b980347496c5f837974f678480f3bf0dcad6873b', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601\nChange-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340\n'}, {'number': 4, 'created': '2021-03-01 16:26:16.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c8e9eeda0b4b54225c5fff293fc224a0dec657ce', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601\nChange-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340\n'}]",0,772042,c8e9eeda0b4b54225c5fff293fc224a0dec657ce,19,4,4,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ic0d72d232bc1d0cfc2f252d0550d1d4a08a32340
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/42/772042/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f64f3951188db6a5886de530f4ac3ad96f62911e,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-os_designate~master~I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,openstack/openstack-ansible-os_designate,master,I5fb104e1ba18d8dd1349600b006be73f2e0f32fa,[reno] Stop publishing release notes,MERGED,2021-01-22 16:25:13.000000000,2021-03-01 20:49:33.000000000,2021-03-01 20:37:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:25:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/d2f1b890fb8dd4edd8b8b5a3c6412c33f734cbef', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I5fb104e1ba18d8dd1349600b006be73f2e0f32fa'}]",0,772027,d2f1b890fb8dd4edd8b8b5a3c6412c33f734cbef,15,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I5fb104e1ba18d8dd1349600b006be73f2e0f32fa",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/27/772027/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d2f1b890fb8dd4edd8b8b5a3c6412c33f734cbef,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/train,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:58:23.000000000,2021-03-01 20:49:29.000000000,2021-03-01 20:36:31.000000000,"[{'_account_id': 360}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 15:58:23.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db8ff0ae158edc549ac853687b1500325bb0f18b', 'message': 'Add cloud-admin user to tripleoclient container\n\nosp-director-operator use tripleoclient pod to render the ansible\nplaybooks in an ephemeral heat stack. The cloud-admin user is also\nused as default deployment user to run the ansible playbooks to\ndeploy the overcloud.\n\nThis also adds osc-placement to the container image which allows\nto query placment direct using osc.\n\nChange-Id: I38fe6419a6e18693adad79083a589f3a417de02f\n(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)\n(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)\n(cherry picked from commit 090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b)\n'}]",0,776485,db8ff0ae158edc549ac853687b1500325bb0f18b,10,6,1,17216,,,0,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
(cherry picked from commit 090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/776485/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh']",3,db8ff0ae158edc549ac853687b1500325bb0f18b,tripleoclient-t,_SUPPORTED_USERS['cloud-admin']='cloud-admin 42401 42401 /home/cloud-admin',,9,0
openstack%2Ftripleo-common~stable%2Fussuri~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/ussuri,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:12.000000000,2021-03-01 20:49:27.000000000,2021-03-01 20:36:27.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 09:10:12.000000000', 'files': ['container-images/tcib/base/os/os.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6d2607f37b2cd8d8ac92305a9eddb61f5a58f6a', 'message': ""Add python3-pymemcache to tcib\n\npymemcache is required by services connecting to\nMemcached with TLS. pymemcache will also likely replace\npython-memcached alltogether, because of it's lack of\nmaintenance.\n\nsee: https://review.opendev.org/761612\nChange-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5\n(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)\n""}]",0,777536,a6d2607f37b2cd8d8ac92305a9eddb61f5a58f6a,13,4,1,14250,,,0,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/777536/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/os.yaml'],1,a6d2607f37b2cd8d8ac92305a9eddb61f5a58f6a,memcached-cert-stable/victoria-stable/ussuri, - python3-pymemcache,,1,0
openstack%2Ftripleo-common~stable%2Fvictoria~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/victoria,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:09:42.000000000,2021-03-01 20:47:15.000000000,2021-03-01 20:32:26.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 09:09:42.000000000', 'files': ['container-images/tcib/base/os/os.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24b7ac1e6b6ea4fd46d8d39f93fd2f0824855d4c', 'message': ""Add python3-pymemcache to tcib\n\npymemcache is required by services connecting to\nMemcached with TLS. pymemcache will also likely replace\npython-memcached alltogether, because of it's lack of\nmaintenance.\n\nsee: https://review.opendev.org/761612\nChange-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5\n(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)\n""}]",0,777335,24b7ac1e6b6ea4fd46d8d39f93fd2f0824855d4c,14,4,1,14250,,,0,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/777335/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/os.yaml'],1,24b7ac1e6b6ea4fd46d8d39f93fd2f0824855d4c,memcached-cert-stable/victoria, - python3-pymemcache,,1,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,openstack/puppet-tripleo,stable/ussuri,I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7,Add authtoken security options,MERGED,2021-02-16 09:43:06.000000000,2021-03-01 20:46:58.000000000,2021-03-01 20:32:23.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:43:06.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/17fdf05badae6f4ceb3b131e62232a97889973b0', 'message': 'Add authtoken security options\n\nAdd ability to specify the memcache_security_strategy and\nmemcache_secret_key for keystone authtoken middleware.\nThe keys for individual services are hashed with a salt,\nto isolate them.\n\nChange-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7\n(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)\n'}]",0,775783,17fdf05badae6f4ceb3b131e62232a97889973b0,19,3,1,14250,,,0,"Add authtoken security options

Add ability to specify the memcache_security_strategy and
memcache_secret_key for keystone authtoken middleware.
The keys for individual services are hashed with a salt,
to isolate them.

Change-Id: I8d558cac3c23c3c0708e7e00d7bb83ac91795bb7
(cherry picked from commit 59b54b6f46b2089b0480a276463f8d5d1de9f307)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/775783/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/manila/authtoken.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'manifests/profile/base/novajoin/authtoken.pp', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/designate/authtoken.pp', 'releasenotes/notes/add-memcache-security-92060c4fe540774c.yaml', 'manifests/profile/base/neutron/authtoken.pp', 'manifests/profile/base/aodh/authtoken.pp']",18,17fdf05badae6f4ceb3b131e62232a97889973b0,memcached-cert-stable/ussuri,"# [*memcached_port*] # (Optional) Memcached port to use. # Defaults to hiera('memcached_authtoken_port', 11211) # # [*security_strategy*] # (Optional) Memcached (authtoken) security strategy. # Defaults to hiera('memcached_authtoken_security_strategy', undef) # # [*secret_key*] # (Optional) Memcached (authtoken) secret key, used with security_strategy. # The key is hashed with a salt, to isolate services. # Defaults to hiera('memcached_authtoken_secret_key', undef) # $memcached_port = hiera('memcached_authtoken_port', 11211), $security_strategy = hiera('memcached_authtoken_security_strategy', undef), $secret_key = hiera('memcached_authtoken_secret_key', undef), if $secret_key { $hashed_secret_key = sha256(""${secret_key}+aodh"") } else { $hashed_secret_key = undef } class { 'aodh::keystone::authtoken': memcached_servers => $memcache_servers, memcache_security_strategy => $security_strategy, memcache_secret_key => $hashed_secret_key,", class { 'aodh::keystone::authtoken': memcached_servers => $memcache_servers,432,17
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I03e042b9684e6bdd8c277066776df23d2eb84ecd,openstack/tripleo-heat-templates,stable/victoria,I03e042b9684e6bdd8c277066776df23d2eb84ecd,Enabling 'cinder_use_multipath' if cinder multipath is enabled,MERGED,2021-02-16 06:20:58.000000000,2021-03-01 20:41:40.000000000,2021-03-01 20:41:40.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 06:20:58.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/853f4a15ce442d47bd2dbf4afa19cacc1d950430', 'message': ""Enabling 'cinder_use_multipath' if cinder multipath is enabled\n\nCurrently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,\nwhen cinder multipath is enabled.\n\nEnabling 'cinder_use_multipath' when multipath is enabled.\n\nChange-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd\n(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)\n""}]",0,775655,853f4a15ce442d47bd2dbf4afa19cacc1d950430,10,3,1,19138,,,0,"Enabling 'cinder_use_multipath' if cinder multipath is enabled

Currently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,
when cinder multipath is enabled.

Enabling 'cinder_use_multipath' when multipath is enabled.

Change-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd
(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/775655/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,853f4a15ce442d47bd2dbf4afa19cacc1d950430,cinder-multipath-stable/victoria, - cinder_multipathd_enabled - glance::backend::cinder::cinder_use_multipath: true - {} - if:,,5,0
openstack%2Fos-apply-config~stable%2Fqueens~Id10f028fda218d8a4fab0e391cbcd3aca6519253,openstack/os-apply-config,stable/queens,Id10f028fda218d8a4fab0e391cbcd3aca6519253,Remove tripleo-multinode-baremetal-minimal from zuul layout,MERGED,2021-02-25 09:53:08.000000000,2021-03-01 20:32:53.000000000,2021-03-01 20:32:53.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:53:08.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/b8687b3a6b712bebfbd62452d6f27e0241f91b95', 'message': 'Remove tripleo-multinode-baremetal-minimal from zuul layout\n\nThe tripleo-multinode-baremetal-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id10f028fda218d8a4fab0e391cbcd3aca6519253\n'}]",0,777530,b8687b3a6b712bebfbd62452d6f27e0241f91b95,9,3,1,8449,,,0,"Remove tripleo-multinode-baremetal-minimal from zuul layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id10f028fda218d8a4fab0e391cbcd3aca6519253
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/30/777530/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b8687b3a6b712bebfbd62452d6f27e0241f91b95,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal,0,1
openstack%2Fos-apply-config~stable%2Frocky~I9bd3b482492cb59d247193de71377611317b76b8,openstack/os-apply-config,stable/rocky,I9bd3b482492cb59d247193de71377611317b76b8,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:48:05.000000000,2021-03-01 20:32:49.000000000,2021-03-01 20:32:49.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:48:05.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/c3da807b7c125a7386eb4c6c1a091bea25ceb581', 'message': 'Remove tripleo-multinode-container|baremetal-minimal from layout\n\nThe tripleo-multinode-container-minimal and -baremetal-minimal\ntemplates are being deprecated [1] as part of wider tripleo CI\noptimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I9bd3b482492cb59d247193de71377611317b76b8\n'}]",0,777525,c3da807b7c125a7386eb4c6c1a091bea25ceb581,8,3,1,8449,,,0,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I9bd3b482492cb59d247193de71377611317b76b8
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/25/777525/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c3da807b7c125a7386eb4c6c1a091bea25ceb581,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,2
openstack%2Fos-apply-config~stable%2Fpike~I6715edd673b45dad6fba7d1987eac8677f61eaa2,openstack/os-apply-config,stable/pike,I6715edd673b45dad6fba7d1987eac8677f61eaa2,Remove tripleo-multinode-container|baremetal-minimal from layout,MERGED,2021-02-25 09:50:29.000000000,2021-03-01 20:32:33.000000000,2021-03-01 20:32:33.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:50:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/1fcccb880e30522d66238b205a48d553a050c562', 'message': 'Remove tripleo-multinode-container|baremetal-minimal from layout\n\nThe tripleo-multinode-container-minimal and -baremetal-minimal\ntemplates are being deprecated [1] as part of wider tripleo CI\noptimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I6715edd673b45dad6fba7d1987eac8677f61eaa2\n'}]",0,777527,1fcccb880e30522d66238b205a48d553a050c562,8,3,1,8449,,,0,"Remove tripleo-multinode-container|baremetal-minimal from layout

The tripleo-multinode-container-minimal and -baremetal-minimal
templates are being deprecated [1] as part of wider tripleo CI
optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I6715edd673b45dad6fba7d1987eac8677f61eaa2
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/27/777527/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1fcccb880e30522d66238b205a48d553a050c562,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal - tripleo-multinode-container-minimal,0,2
openstack%2Fos-apply-config~stable%2Fstein~I10f106fb980acd04f6a220564c63494d8d84460d,openstack/os-apply-config,stable/stein,I10f106fb980acd04f6a220564c63494d8d84460d,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:45:32.000000000,2021-03-01 20:32:30.000000000,2021-03-01 20:32:30.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:45:32.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/f76911c726483ed31b902ed02b49009dac14c5f5', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I10f106fb980acd04f6a220564c63494d8d84460d\n'}]",0,777524,f76911c726483ed31b902ed02b49009dac14c5f5,8,3,1,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I10f106fb980acd04f6a220564c63494d8d84460d
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/24/777524/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f76911c726483ed31b902ed02b49009dac14c5f5,tripleo-ci-reduce,, - tripleo-multinode-container-minimal,0,1
openstack%2Fnova~master~I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,openstack/nova,master,I9135f37fe29a7f6ecf54a2c2c1019c17c9815404,tests: Remove unnecessary mock,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:49:34.000000000,2021-03-01 19:44:26.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 17:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443a7f0c08a62269198eb729154f9eaba6eb62de', 'message': 'trivial: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-12 16:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9508afe31615733cd013a27e3845056e39cc4d8', 'message': 'tests: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-02-16 11:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4059105d4096c38c3a45a3e70b455da01311a7b', 'message': 'tests: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-02-16 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28ae216ec43567e4fe8b54afa6bb4648c14ea24f', 'message': 'tests: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45bc0602fb6f9f4046cafef5292ea3163b96c051', 'message': 'tests: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2021-02-20 15:37:06.000000000', 'files': ['nova/tests/functional/libvirt/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b367cf114cdf825c83ada213233133362a6e5acf', 'message': 'tests: Remove unnecessary mock\n\nThis is already handled by the LibvirtFixture\n\nChange-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,774905,b367cf114cdf825c83ada213233133362a6e5acf,35,5,6,15334,,,0,"tests: Remove unnecessary mock

This is already handled by the LibvirtFixture

Change-Id: I9135f37fe29a7f6ecf54a2c2c1019c17c9815404
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/774905/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/base.py'],1,443a7f0c08a62269198eb729154f9eaba6eb62de,bp/allow-secure-boot-for-qemu-kvm-guests,," # Replace libvirt with fakelibvirt self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.libvirt', fakelibvirt)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.host.libvirt', fakelibvirt)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.guest.libvirt', fakelibvirt))",0,10
openstack%2Fnova~master~I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,openstack/nova,master,I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c,tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture,MERGED,2021-02-10 17:15:36.000000000,2021-03-01 19:47:28.000000000,2021-03-01 19:43:58.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 17:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9d33a6362f7dbc15b49587da21e481d349baa7a', 'message': ""tests: Move 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy moving this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-12 16:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4b298446be01424bbab9ad44ed151b3c7e2b730', 'message': ""tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy add this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-16 11:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f12ef78958ff3d4c2d07e29e21962902f55766b', 'message': ""tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy add this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-16 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd71cfc1152f551ffa50588cdfc1ca0c32d73a49', 'message': ""tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy add this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a59bfe34c983d97ef2b3c0e71abeec0fbb4e9af', 'message': ""tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy add this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-02-20 15:37:06.000000000', 'files': ['nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1053ae0b61a6c253b5684096b96ccad7a39343ac', 'message': ""tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture\n\nBy add this to the 'LibvirtFixture', we ensure virtually every test\nthat validates a libvirt thing will have this stubbed automatically.\n\nChange-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,774904,1053ae0b61a6c253b5684096b96ccad7a39343ac,37,4,6,15334,,,0,"tests: Add 'nova.virt.libvirt.utils.get_arch' stub to fixture

By add this to the 'LibvirtFixture', we ensure virtually every test
that validates a libvirt thing will have this stubbed automatically.

Change-Id: I03febf6ad7d76c7eec818d3b16a3ef8b26dcd84c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/774904/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,c9d33a6362f7dbc15b49587da21e481d349baa7a,bp/allow-secure-boot-for-qemu-kvm-guests,," # ensure tests perform the same on all host architectures _p = mock.patch( 'nova.virt.libvirt.utils.get_arch', return_value=fields.Architecture.X86_64) self.mock_get_arch = _p.start() self.addCleanup(_p.stop) ",23,18
openstack%2Fopenstack-manuals~master~I10c45b4940491f795ab6c503bc0d2417310fd144,openstack/openstack-manuals,master,I10c45b4940491f795ab6c503bc0d2417310fd144,Redirect git-review docs to opendev,MERGED,2021-02-26 21:00:23.000000000,2021-03-01 19:40:23.000000000,2021-03-01 19:17:26.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 21:00:23.000000000', 'files': ['www/.htaccess', 'www/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c7cc19b436f986b0974f0c2bb121313c98626fe1', 'message': 'Redirect git-review docs to opendev\n\nThe opendev/git-review projects has started publishing its\ndocumentation on the docs.opendev.org site now, so install a\nredirect from the former location for the sake of user continuity.\n\nChange-Id: I10c45b4940491f795ab6c503bc0d2417310fd144\nDepends-On: https://review.opendev.org/777799\n'}]",0,777828,c7cc19b436f986b0974f0c2bb121313c98626fe1,10,2,1,5263,,,0,"Redirect git-review docs to opendev

The opendev/git-review projects has started publishing its
documentation on the docs.opendev.org site now, so install a
redirect from the former location for the sake of user continuity.

Change-Id: I10c45b4940491f795ab6c503bc0d2417310fd144
Depends-On: https://review.opendev.org/777799
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/28/777828/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/.htaccess', 'www/redirect-tests.txt']",2,c7cc19b436f986b0974f0c2bb121313c98626fe1,gitreview-2,"# Redirect https://docs.openstack.org/infra/git-review to # https://docs.opendev.org/opendev/git-review {{ deep_links('/infra/git-review', 'https://docs.opendev.org/opendev/git-review/latest') }} # End redirect git-review ",,10,0
openstack%2Fopenstack-helm-infra~master~I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,openstack/openstack-helm-infra,master,I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2,Update ldap chart releasenotes to latest,MERGED,2021-03-01 02:37:24.000000000,2021-03-01 19:29:54.000000000,2021-03-01 19:28:05.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-01 02:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/754ef972fa75e27a1d65f2ec2677207929e2fa3a', 'message': 'Update ldap chart releasenotes to latesti\n\nThis change updates the releasenotes for the ldap chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2\n'}, {'number': 2, 'created': '2021-03-01 02:49:21.000000000', 'files': ['releasenotes/notes/ldap.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dd9a25b28314a4ea0c14e03dab3180156eff3d4', 'message': 'Update ldap chart releasenotes to latest\n\nThis change updates the releasenotes for the ldap chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2\n'}]",1,777920,5dd9a25b28314a4ea0c14e03dab3180156eff3d4,12,5,2,21420,,,0,"Update ldap chart releasenotes to latest

This change updates the releasenotes for the ldap chart to the
latest version of the chart as of this patchset.

Change-Id: I8c22fb3a7b0c6235e7179d96e32c1f160bf08ed2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/777920/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ldap.yaml'],1,754ef972fa75e27a1d65f2ec2677207929e2fa3a,," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0""",,1,0
openstack%2Fswift~master~I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,openstack/swift,master,I57a8caa094c30d06fbedf0ef0eb0f070e6db5561,Fixups for cors tests README,ABANDONED,2021-03-01 15:29:10.000000000,2021-03-01 19:09:40.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 15:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b33f93bce6619f42eb89f53fcaa32e35b877bd6b', 'message': 'Fixups for cors tests README\n\nChange-Id: I57a8caa094c30d06fbedf0ef0eb0f070e6db5561\n'}, {'number': 2, 'created': '2021-03-01 15:38:15.000000000', 'files': ['test/cors/README.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/51df9d09335b6bce90763c259627afcd95739fde', 'message': 'Fixups for cors tests README\n\nChange-Id: I57a8caa094c30d06fbedf0ef0eb0f070e6db5561\n'}]",2,778010,51df9d09335b6bce90763c259627afcd95739fde,6,2,2,7847,,,0,"Fixups for cors tests README

Change-Id: I57a8caa094c30d06fbedf0ef0eb0f070e6db5561
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/778010/1 && git format-patch -1 --stdout FETCH_HEAD,['test/cors/README.rst'],1,b33f93bce6619f42eb89f53fcaa32e35b877bd6b,cors,".. note:: It is necessary to set `s3_acl = False` in the `[filter:s3api]` section of your `proxy-server.conf` for all the s3 object tests to pass. * saving in the ``test/cors/vendor`` directory, and finally","* saving in the ``test/cors/vendored`` directory, and finally",5,1
openstack%2Fswift~master~I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,openstack/swift,master,I8d6d6ada6c7a502b47060c0fecf9a13a81879baf,s3api: reinstate underscores in access-control-expose-headers,ABANDONED,2021-03-01 11:38:17.000000000,2021-03-01 19:07:42.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 11:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37eda20920a409bf283c23450c1c4050570c8b71', 'message': ""s3api: reinstate underscores in access-control-expose-headers\n\ns3api translate underscores in x-amz-meta- headers to '=5F' in\ncorresponding x-object-meta- headers for storage in swift. When\nreturning metadata headers the '=5F' is replaced with an\nunderscore. The same should be done when translating\naccess-control-expose-headers for an S3Response.\n\nChange-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf\n""}, {'number': 2, 'created': '2021-03-01 14:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9d7caf28a8a5049df0c7d80fd3c13be2806cc1b', 'message': ""s3api: reinstate underscores in access-control-expose-headers\n\ns3api translate underscores in x-amz-meta- headers to '=5F' in\ncorresponding x-object-meta- headers for storage in swift. When\nreturning metadata headers the '=5F' is replaced with an\nunderscore. The same should be done when translating\naccess-control-expose-headers for an S3Response.\n\nChange-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf\n""}, {'number': 3, 'created': '2021-03-01 15:37:01.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aeb2fa64f9d298ed8b66bdabe0592b9715eeb825', 'message': ""s3api: reinstate underscores in access-control-expose-headers\n\ns3api translate underscores in x-amz-meta- headers to '=5F' in\ncorresponding x-object-meta- headers for storage in swift. When\nreturning metadata headers the '=5F' is replaced with an\nunderscore. The same should be done when translating\naccess-control-expose-headers for an S3Response.\n\nChange-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf\n""}]",1,777985,aeb2fa64f9d298ed8b66bdabe0592b9715eeb825,7,2,3,7847,,,0,"s3api: reinstate underscores in access-control-expose-headers

s3api translate underscores in x-amz-meta- headers to '=5F' in
corresponding x-object-meta- headers for storage in swift. When
returning metadata headers the '=5F' is replaced with an
underscore. The same should be done when translating
access-control-expose-headers for an S3Response.

Change-Id: I8d6d6ada6c7a502b47060c0fecf9a13a81879baf
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/777985/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py']",3,37eda20920a409bf283c23450c1c4050570c8b71,p-s3-underscores," 'X-Object-Meta-With=5FUnderscore': 'underscored', 'x-amz-meta-with_underscore': 'underscored',",,22,7
openstack%2Fkayobe~stable%2Fvictoria~I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,openstack/kayobe,stable/victoria,I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,Fix copying Swift ring files,MERGED,2021-02-03 14:01:07.000000000,2021-03-01 19:01:36.000000000,2021-03-01 18:58:16.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23871}]","[{'number': 1, 'created': '2021-02-03 14:01:07.000000000', 'files': ['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed498331a7b6187d01f861462ccd1590d5cc7bed', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}]",0,773898,ed498331a7b6187d01f861462ccd1590d5cc7bed,22,4,1,14826,,,0,"Fix copying Swift ring files

Ring files are binary formatted and should not be templated. Attempting
to template them causes an error such as the following:

    Template source files must be utf-8 encoded

This change fixes the issue by implementing support for configuration
files that are listed as 'untemplated'.

Change-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28
Story: 2007297
Task: 38774
(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/98/773898/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml']",4,ed498331a7b6187d01f861462ccd1590d5cc7bed,story/2007297-stable/victoria," register: copy_result python3 {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ copy_result.uid }}:{{ copy_result.gid }}"""," # Facts required for ansible_user_uid and ansible_user_gid. - name: Gather facts for swift ring build host setup: when: not module_setup | default(false) python {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ ansible_user_uid }}:{{ ansible_user_gid }}""",25,9
openstack%2Fkayobe~master~Ia885a226de30d72610dca2eb2f194cef10193095,openstack/kayobe,master,Ia885a226de30d72610dca2eb2f194cef10193095,Quote kolla limit when calling kolla-ansible,MERGED,2021-01-21 15:54:58.000000000,2021-03-01 19:00:48.000000000,2021-03-01 18:58:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-01-21 15:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e055d445f63bbb3cd6e0bec3ea25c1b20bc2b182', 'message': 'Quote kolla limit when calling kolla-ansible\n\nThis is necessary for correctly passing limits containing special\ncharacters such as ~ or &.\n\nChange-Id: Ia885a226de30d72610dca2eb2f194cef10193095\nStory: 2008546\nTask: 41651\n'}, {'number': 2, 'created': '2021-01-21 16:12:15.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a1c9a8152508785d5babe4ed98eb6a743932a229', 'message': 'Quote kolla limit when calling kolla-ansible\n\nThis is necessary for correctly passing limits containing special\ncharacters such as ~ or &.\n\nChange-Id: Ia885a226de30d72610dca2eb2f194cef10193095\nStory: 2008546\nTask: 41651\n'}]",0,771840,a1c9a8152508785d5babe4ed98eb6a743932a229,21,3,2,15197,,,0,"Quote kolla limit when calling kolla-ansible

This is necessary for correctly passing limits containing special
characters such as ~ or &.

Change-Id: Ia885a226de30d72610dca2eb2f194cef10193095
Story: 2008546
Task: 41651
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/40/771840/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_kolla_ansible.py', 'releasenotes/notes/quote-kolla-limit-042422e69c008109.yaml', 'kayobe/kolla_ansible.py']",3,e055d445f63bbb3cd6e0bec3ea25c1b20bc2b182,story/2008546," cmd += [""--limit"", utils.quote_and_escape(limit_arg) ]"," cmd += [""--limit"", limit_arg]",8,3
openstack%2Ftripleo-upgrade~master~I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,openstack/tripleo-upgrade,master,I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5,[WIP] Test patch,ABANDONED,2021-02-24 11:08:25.000000000,2021-03-01 18:26:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 11:08:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1b6ae204acd012372530becb0f020d16ca5010b5', 'message': '[WIP] Test patch\n\nChange-Id: I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5\n'}]",0,777362,1b6ae204acd012372530becb0f020d16ca5010b5,3,1,1,11090,,,0,"[WIP] Test patch

Change-Id: I7fddac1876ea6b6f0043e9a9a76838f2db5ffff5
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/777362/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,1b6ae204acd012372530becb0f020d16ca5010b5,test_branch,Test,,1,0
openstack%2Fcharm-deployment-guide~master~Ia30a9150c4b8182c098b2c41294aff5637659bb9,openstack/charm-deployment-guide,master,Ia30a9150c4b8182c098b2c41294aff5637659bb9,Add various improvements to OpenStack upgrades,MERGED,2021-02-27 02:26:33.000000000,2021-03-01 18:26:29.000000000,2021-03-01 18:24:50.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 02:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/69262f4df2459f689953403b5d449f25e92a01d1', 'message': 'Add precision factoids to OpenStack upgrades\n\nAdd some very useful bits of information to the\nupgrade-openstack page.\n\nCreate a new section. Refactor a little.\n\nChange-Id: Ia30a9150c4b8182c098b2c41294aff5637659bb9\n'}, {'number': 2, 'created': '2021-02-27 15:47:18.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b076b6ddd965f52ba499c4113dc7d3b413cdee24', 'message': 'Add various improvements to OpenStack upgrades\n\nAdd some useful bits of information to the\nupgrade-openstack page.\n\nRefactor. Create a new section and reword a\nlittle.\n\nChange-Id: Ia30a9150c4b8182c098b2c41294aff5637659bb9\n'}]",0,777853,b076b6ddd965f52ba499c4113dc7d3b413cdee24,9,2,2,30561,,,0,"Add various improvements to OpenStack upgrades

Add some useful bits of information to the
upgrade-openstack page.

Refactor. Create a new section and reword a
little.

Change-Id: Ia30a9150c4b8182c098b2c41294aff5637659bb9
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/53/777853/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,69262f4df2459f689953403b5d449f25e92a01d1,openstack-upgrades-and-packages,"individually. **Only the packages associated with a charm's OpenStack service will be updated.**Software sources ---------------- The essence of an OpenStack upgrade is a change of a machine's software sources so that a more recent combination of Ubuntu release (series) and OpenStack release is used. This combination is based on the `Ubuntu Cloud Archive`_ and translates to a ""cloud archive OpenStack release"". It takes on the following syntax: ``<ubuntu series>-<openstack-release>`` This becomes the value given to a charm's ``openstack-origin`` configuration option. For example, to select the 'bionic-train' release: ``openstack-origin=cloud:bionic-train`` .. important:: The series must correspond to the series currently in use. Actions for a charm can be listed with command :command:`juju actions <charm-name>`.","individually.The essence of a charmed OpenStack service upgrade is a change of the corresponding machine software sources so that a more recent combination of Ubuntu release and OpenStack release is used. This combination is based on the `Ubuntu Cloud Archive`_ and translates to a ""cloud archive OpenStack release"". It takes on the following syntax: ``<ubuntu series>-<openstack-release>`` For example, the 'bionic-train' UCA release is expressed during configuration as: ``cloud:bionic-train`` Actions for a charm can be listed in this way: .. code-block:: none juju actions <charm-name>",24,19
openstack%2Foslo.versionedobjects~stable%2Fussuri~I93ca2a3854dd521fbd199ac942653657d517468e,openstack/oslo.versionedobjects,stable/ussuri,I93ca2a3854dd521fbd199ac942653657d517468e,[stable] Fix a few pep8 failures,ABANDONED,2021-02-17 23:49:28.000000000,2021-03-01 18:13:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-17 23:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/88a801997756157d7b5399632334fc25b3af2533', 'message': '[stable] Fix a few pep8 failures\n\nThose errors have been workarounded in different commits in victoria\nand later. Apply them here without bumping hacking&co\n(i.e. implement the minimum required set of changes)\n\nChange-Id: I93ca2a3854dd521fbd199ac942653657d517468e\n'}, {'number': 2, 'created': '2021-02-19 09:52:13.000000000', 'files': ['oslo_versionedobjects/tests/test_objects.py', 'oslo_versionedobjects/test.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/2af78695db552f7f368ed30d105415fb118f08a6', 'message': '[stable] Fix a few pep8 failures\n\nThose errors have been workarounded in different commits in victoria\nand later. Apply them here without bumping hacking&co\n(i.e. implement the minimum required set of changes)\n\nChange-Id: I93ca2a3854dd521fbd199ac942653657d517468e\n'}]",0,776295,2af78695db552f7f368ed30d105415fb118f08a6,6,1,2,10459,,,0,"[stable] Fix a few pep8 failures

Those errors have been workarounded in different commits in victoria
and later. Apply them here without bumping hacking&co
(i.e. implement the minimum required set of changes)

Change-Id: I93ca2a3854dd521fbd199ac942653657d517468e
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/95/776295/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_objects.py', 'oslo_versionedobjects/test.py']",2,88a801997756157d7b5399632334fc25b3af2533,native-zuulv3-migration,import functools # noqa: E402 import inspect # noqa: E402 import os # noqa: E402 from unittest import mock # noqa: E402 import fixtures # noqa: E402 from oslo_concurrency import lockutils # noqa: E402 from oslo_config import cfg # noqa: E402 from oslo_config import fixture as config_fixture # noqa: E402 from oslo_log.fixture import logging_error # noqa: E402 import testtools # noqa: E402 from oslo_versionedobjects.tests import obj_fixtures # noqa: E402,import functools import inspect import os from unittest import mock import fixtures from oslo_concurrency import lockutils from oslo_config import cfg from oslo_config import fixture as config_fixture from oslo_log.fixture import logging_error import testtools from oslo_versionedobjects.tests import obj_fixtures,12,12
openstack%2Fironic~master~Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,openstack/ironic,master,Idc86d7b78854e0618f62c7e4c1a88670dc4561b0,Add support to manage certificates in iLO,MERGED,2020-10-30 14:58:56.000000000,2021-03-01 17:49:52.000000000,2021-03-01 17:47:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 18781}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-30 14:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/026b24a75c31a7104576804a2040f3a5b1d2d936', 'message': 'Add support to manage certificates in iLO\n\nAdd support to manage certificates in iLO. When ""export_certificates"" in\nthe driver info is set to \'True\' the certificates list configured in\n\'[default] webserver_verify_ca\' are exported to the iLO.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 2, 'created': '2020-11-02 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bca385e57b45f5610a0f9cb27e79b9027998f6c4', 'message': 'Add support to manage certificates in iLO\n\nAdd support to manage certificates in iLO.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 3, 'created': '2020-11-05 08:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39bba941e8dcc65cfdcba8b909a6bfbaaa22c65e', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 4, 'created': '2020-11-05 13:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3980530109e73bad5d296fcbc47de3a4946665e1', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 5, 'created': '2020-11-23 09:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae35dc658b98c026155b8d419cd80c14cfbe20e4', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 6, 'created': '2020-11-23 09:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5c345269348937f9d27ca54fa9224fd0d911ddb', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 7, 'created': '2020-11-30 07:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7d409a9a6ac28a01cbd006dd54de29ab82f688d', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 8, 'created': '2020-11-30 08:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c2279120a51b3dd6b61ac3f6d5c267eb4ff9c0e', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 9, 'created': '2020-11-30 08:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4312c5295b1e08d49daf141ef802a36c4f51d2fc', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 10, 'created': '2020-12-09 12:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92cc97d09fdebaeb47c28b7c32f3f06a45c785de', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 11, 'created': '2020-12-15 07:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/903d19d0cd6a32e94320e57d59775bfc7819c1da', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 12, 'created': '2021-02-08 11:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/625d37c0bf9d567a3e24f7b54b2bde36d1c7941d', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}, {'number': 13, 'created': '2021-02-10 05:49:16.000000000', 'files': ['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'releasenotes/notes/add-support-to-manage_certs-b6615e15f697bc26.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d4c1214ffca486aca56aa6602a3bedb41f95baf', 'message': 'Add support to manage certificates in iLO\n\nAdds methods to export and clear certificates on the node during node\nprovisioning. Also enables to implement clean/deploy steps for certificate\nmanagement through these APIs.\n\nChange-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0\nStory: #2008297\nTask: #41182\n'}]",81,760573,7d4c1214ffca486aca56aa6602a3bedb41f95baf,71,9,13,18781,,,0,"Add support to manage certificates in iLO

Adds methods to export and clear certificates on the node during node
provisioning. Also enables to implement clean/deploy steps for certificate
management through these APIs.

Change-Id: Idc86d7b78854e0618f62c7e4c1a88670dc4561b0
Story: #2008297
Task: #41182
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/760573/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py']",4,026b24a75c31a7104576804a2040f3a5b1d2d936,tls_config_work," @mock.patch.object(os.path, 'exists', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_export_certificates_false(self, get_ilo_object_mock, path_mock): CONF.webserver_verify_ca = '/file/path' ilo_mock_object = get_ilo_object_mock.return_value with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.driver_info['export_certificates'] = ""false"" ilo_common.export_certificates(task) path_mock.assert_not_called() ilo_mock_object.add_tls_certificate.assert_not_called() @mock.patch.object(os.path, 'exists', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_export_certificates_true_verify_true(self, get_ilo_object_mock, path_mock): CONF.webserver_verify_ca = True ilo_mock_object = get_ilo_object_mock.return_value with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.driver_info['export_certificates'] = ""true"" ilo_common.export_certificates(task) path_mock.assert_not_called() ilo_mock_object.add_tls_certificate.assert_not_called() @mock.patch.object(os.path, 'exists', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_export_certificates_true_verify_valid_path( self, get_ilo_object_mock, path_mock): CONF.webserver_verify_ca = '/file/path' ilo_mock_object = get_ilo_object_mock.return_value path_mock.return_value = True with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.driver_info['export_certificates'] = True ilo_common.export_certificates(task) path_mock.assert_called_once_with('/file/path') ilo_mock_object.add_tls_certificate.assert_called_once_with( ['/file/path']) @mock.patch.object(os.path, 'exists', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_export_certificates_true_verify_invalid_path( self, get_ilo_object_mock, path_mock): CONF.webserver_verify_ca = '/file/path' ilo_mock_object = get_ilo_object_mock.return_value path_mock.return_value = False with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.driver_info['export_certificates'] = True ilo_common.export_certificates(task) path_mock.assert_called_once_with('/file/path') ilo_mock_object.add_tls_certificate.assert_not_called() ",,171,0
openstack%2Fkayobe~master~I006d46954456cf30ce4e743fcbe9b2862d43dd01,openstack/kayobe,master,I006d46954456cf30ce4e743fcbe9b2862d43dd01,Ubuntu: support non-persistent veth configuration,MERGED,2021-01-07 13:45:40.000000000,2021-03-01 17:46:50.000000000,2021-03-01 17:44:04.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-01-07 13:45:40.000000000', 'files': ['ansible/roles/veth/tasks/main.yml', 'ansible/roles/veth/tasks/Debian.yml', 'ansible/roles/veth/tasks/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9b02c8bf5d4cfe8ff29aac6181a38771f267037', 'message': 'Ubuntu: support non-persistent veth configuration\n\nAdds support for veth patch pair configuration on Ubuntu. Currently this\nis not persistent across reboots. This will need to be addressed once\nthe network configuration model is chosen for Ubuntu.\n\nChange-Id: I006d46954456cf30ce4e743fcbe9b2862d43dd01\nStory: 2004960\nTask: 41545\n'}]",0,769728,f9b02c8bf5d4cfe8ff29aac6181a38771f267037,15,3,1,14826,,,0,"Ubuntu: support non-persistent veth configuration

Adds support for veth patch pair configuration on Ubuntu. Currently this
is not persistent across reboots. This will need to be addressed once
the network configuration model is chosen for Ubuntu.

Change-Id: I006d46954456cf30ce4e743fcbe9b2862d43dd01
Story: 2004960
Task: 41545
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/28/769728/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/veth/tasks/main.yml', 'ansible/roles/veth/tasks/Debian.yml', 'ansible/roles/veth/tasks/RedHat.yml']",3,f9b02c8bf5d4cfe8ff29aac6181a38771f267037,story/2004960,"--- - name: Ensure veth sysconfig network control scripts exist copy: src: ""{{ item }}"" dest: ""{{ network_scripts_dir }}/{{ item }}"" owner: root group: root mode: 0755 with_items: - ""ifup-veth"" - ""ifdown-veth"" become: True register: ctl_result - name: Ensure veth sysconfig network interface files exist template: src: ifcfg-veth.j2 dest: ""{{ network_scripts_dir }}/ifcfg-{{ item.device }}"" owner: root group: root mode: 0644 with_items: ""{{ veth_interfaces }}"" become: True register: veth_result - name: Ensure veth peer sysconfig network interface files exist template: src: ifcfg-peer.j2 dest: ""{{ network_scripts_dir }}/ifcfg-{{ item.peer_device }}"" owner: root group: root mode: 0644 with_items: ""{{ veth_interfaces }}"" become: True register: peer_result - name: Bounce veth interfaces shell: ifdown {{ item[0].item.device }} ; ifup {{ item[0].item.device }} with_together: - ""{{ veth_result.results }}"" - ""{{ peer_result.results }}"" when: ctl_result is changed or item[0] is changed or item[1] is changed become: True ",,86,42
openstack%2Fkayobe~master~Ib5462684fa5fd307068c67f9a13f73b80967beb4,openstack/kayobe,master,Ib5462684fa5fd307068c67f9a13f73b80967beb4,Ubuntu: fix pip configuration for kolla user,MERGED,2020-12-22 13:57:56.000000000,2021-03-01 17:45:40.000000000,2021-03-01 17:43:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2020-12-22 13:57:56.000000000', 'files': ['ansible/roles/pip/tasks/pip_conf.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/50dddc3ace4c4c40e3d1680ddcceb789a47ae3fb', 'message': 'Ubuntu: fix pip configuration for kolla user\n\nOn Ubuntu, Kayobe can fail creating pip configuration for the kolla\nuser, with the following error:\n\n    Failed to set permissions on the temporary files Ansible needs to\n    create when becoming an unprivileged user\n\nAn earlier error seen with Ansible verbose mode shows that the setfacl\ncommand is missing. It can be installed using the acl package, however\nthis is not always present in Ubuntu 20.04.\n\nThis change installs the acl package in the pip role.\n\nStory: 2004960\nTask: 41492\n\nChange-Id: Ib5462684fa5fd307068c67f9a13f73b80967beb4\n'}]",0,768206,50dddc3ace4c4c40e3d1680ddcceb789a47ae3fb,15,4,1,14826,,,0,"Ubuntu: fix pip configuration for kolla user

On Ubuntu, Kayobe can fail creating pip configuration for the kolla
user, with the following error:

    Failed to set permissions on the temporary files Ansible needs to
    create when becoming an unprivileged user

An earlier error seen with Ansible verbose mode shows that the setfacl
command is missing. It can be installed using the acl package, however
this is not always present in Ubuntu 20.04.

This change installs the acl package in the pip role.

Story: 2004960
Task: 41492

Change-Id: Ib5462684fa5fd307068c67f9a13f73b80967beb4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/768206/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/pip/tasks/pip_conf.yml'],1,50dddc3ace4c4c40e3d1680ddcceb789a47ae3fb,story/2004960,"# NOTE(mgoddard): The acl package is required for the setfacl command, used by # become_user. - name: Ensure acl package is installed package: name: acl become: true ",,7,0
openstack%2Fproject-config~master~I2d8fa92c2e98481504709c08c319c8b5eb047460,openstack/project-config,master,I2d8fa92c2e98481504709c08c319c8b5eb047460,Allow all registered users to edit hashtags on all Zuul projects,MERGED,2021-03-01 15:40:09.000000000,2021-03-01 17:40:18.000000000,2021-03-01 17:23:35.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-01 15:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a424cd4edf0f406e781c8739b4c1d3371cb3f4e3', 'message': ""Allow all registered users to edit hashtags on all Zuul projects\n\nHashtags are useful for organizing changes and facilitating searching.\nLet's let any user set hashtags on changes to Zuul projects.\n\nChange-Id: I2d8fa92c2e98481504709c08c319c8b5eb047460\n""}, {'number': 2, 'created': '2021-03-01 16:30:52.000000000', 'files': ['gerrit/acls/zuul/nodepool.config', 'gerrit/acls/zuul/zuul-website.config', 'gerrit/acls/zuul/project-config.config', 'gerrit/acls/zuul/zuul-base-jobs.config', 'gerrit/acls/zuul/zuul.config', 'gerrit/acls/zuul/zuul-jobs.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/240d932b906a0abe11f60faf4e0eb1deb485379c', 'message': ""Allow all registered users to edit hashtags on all Zuul projects\n\nHashtags are useful for organizing changes and facilitating searching.\nLet's let any user set hashtags on changes to Zuul projects.\n\nChange-Id: I2d8fa92c2e98481504709c08c319c8b5eb047460\n""}]",0,778012,240d932b906a0abe11f60faf4e0eb1deb485379c,15,5,2,1,,,0,"Allow all registered users to edit hashtags on all Zuul projects

Hashtags are useful for organizing changes and facilitating searching.
Let's let any user set hashtags on changes to Zuul projects.

Change-Id: I2d8fa92c2e98481504709c08c319c8b5eb047460
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/778012/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/zuul/nodepool.config', 'gerrit/acls/zuul/project-config.config', 'gerrit/acls/zuul/zuul-website.config', 'gerrit/acls/zuul/zuul-base-jobs.config', 'gerrit/acls/zuul/zuul-jobs.config', 'gerrit/acls/zuul/zuul.config']",6,a424cd4edf0f406e781c8739b4c1d3371cb3f4e3,,editHashtags = group Registered Users,,6,0
openstack%2Foslo.rootwrap~stable%2Ftrain~Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,openstack/oslo.rootwrap,stable/train,Ibdc46d188a6025a42a6c7244cb0700563f56b3d1,[stable-only] Cap bandit and fix lower-constraints,MERGED,2021-02-26 22:34:58.000000000,2021-03-01 17:39:17.000000000,2021-03-01 17:37:26.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-26 22:34:58.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/f3e5c7727cdd17b70e04603011433088b0af1b5c', 'message': '[stable-only] Cap bandit and fix lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\nContradicting hacking version replaced (in lower-constraints.txt to\nmatch with test-requirements.txt), which pulls in newer flake8, too.\n\nSphinx requirements also fixed to make requirements-check job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: Ibdc46d188a6025a42a6c7244cb0700563f56b3d1\n'}]",0,777842,f3e5c7727cdd17b70e04603011433088b0af1b5c,9,3,1,17685,,,0,"[stable-only] Cap bandit and fix lower-constraints

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

Contradicting hacking version replaced (in lower-constraints.txt to
match with test-requirements.txt), which pulls in newer flake8, too.

Sphinx requirements also fixed to make requirements-check job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: Ibdc46d188a6025a42a6c7244cb0700563f56b3d1
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/42/777842/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,f3e5c7727cdd17b70e04603011433088b0af1b5c,cap-bandit-1.6.2,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",8,5
openstack%2Fironic~master~I8d7a06558cbf073487707fc33219e43beb5fc043,openstack/ironic,master,I8d7a06558cbf073487707fc33219e43beb5fc043,Update oslo.policy requirement to version 3.6.2,MERGED,2021-02-05 21:04:11.000000000,2021-03-01 17:28:16.000000000,2021-03-01 17:25:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 21:04:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/94ba2641e338527f8b6f682540716fe883225fb9', 'message': 'Update oslo.policy requirement to version 3.6.2\n\nThis version of oslo.policy includes fixes that ensure the Enforcer only\nmodifies copies of the rules, making it safer in environments that run\ntests in parallel where the Enforcer is configured differently.\n\nChange-Id: I8d7a06558cbf073487707fc33219e43beb5fc043\n'}]",0,774307,94ba2641e338527f8b6f682540716fe883225fb9,18,3,1,5046,,,0,"Update oslo.policy requirement to version 3.6.2

This version of oslo.policy includes fixes that ensure the Enforcer only
modifies copies of the rules, making it safer in environments that run
tests in parallel where the Enforcer is configured differently.

Change-Id: I8d7a06558cbf073487707fc33219e43beb5fc043
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/774307/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,94ba2641e338527f8b6f682540716fe883225fb9,,oslo.policy>=3.6.2 # Apache-2.0,oslo.policy>=3.6.0 # Apache-2.0,1,1
openstack%2Fglance-specs~master~Ic11be7628535f87b9002b69f845150bd02b9f0d7,openstack/glance-specs,master,Ic11be7628535f87b9002b69f845150bd02b9f0d7,Distributed Image Import spec,MERGED,2021-02-04 16:02:14.000000000,2021-03-01 17:18:40.000000000,2021-03-01 17:16:51.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 16:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/65bcac00e3a07a6fd07e46b2ae2fffa55cf1b19b', 'message': 'Distributed Image Import spec\n\nAs planned in the glance meeting today, this adds a new spec for\ndistributed image import, in total isolation, with a proposal to\nstart with the simple case and moving to use image location\nmetadata when available.\n\nChange-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7\n'}, {'number': 2, 'created': '2021-02-04 18:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9a91d2a2bb1038a6a00a668929c104889aadf2fc', 'message': 'Distributed Image Import spec\n\nAs planned in the glance meeting today, this adds a new spec for\ndistributed image import, in total isolation, with a proposal to\nstart with the simple case and moving to use image location\nmetadata when available.\n\nChange-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7\n'}, {'number': 3, 'created': '2021-02-16 14:37:57.000000000', 'files': ['specs/wallaby/approved/glance/distributed-image-import.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/434abee27ecc8b5289701aa21d82bcb5195ad95d', 'message': 'Distributed Image Import spec\n\nAs planned in the glance meeting today, this adds a new spec for\ndistributed image import, in total isolation, with a proposal to\nstart with the simple case and moving to use image location\nmetadata when available.\n\nChange-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7\n'}]",13,774097,434abee27ecc8b5289701aa21d82bcb5195ad95d,25,5,3,4393,,,0,"Distributed Image Import spec

As planned in the glance meeting today, this adds a new spec for
distributed image import, in total isolation, with a proposal to
start with the simple case and moving to use image location
metadata when available.

Change-Id: Ic11be7628535f87b9002b69f845150bd02b9f0d7
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/97/774097/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/wallaby/approved/glance/distributed-image-import.rst', 'specs/wallaby/approved/index.rst']",2,65bcac00e3a07a6fd07e46b2ae2fffa55cf1b19b,bp/distributed-image-import,Wallaby Approved Specs for Glance .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in until a new approved space is added. ,241,1
openstack%2Fnetworking-sfc~master~I25a7e1d47c267631ebcb8ce34876ccfd38007e03,openstack/networking-sfc,master,I25a7e1d47c267631ebcb8ce34876ccfd38007e03,Fix lower-constraints,MERGED,2021-02-15 12:53:41.000000000,2021-03-01 17:15:23.000000000,2021-03-01 17:13:36.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-02-15 12:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c173cb89d4a568b4e02b47f819ad466563f2f6e6', 'message': 'Fix lower-constraints\n\nThe latest pip resolver started to check requirements strictly\nand it detects many inconsistencies in lower-constraints.txt.\n\nThe summary of changes in lower-constraints.txt are as below.\n\n* Address inconsistencies detected by the pip resolver accordingly.\n* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible\n  in eventlet versions which neutron and other projects require.\n  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron\n  already bumped it to >=0.3.4 to pass the check by the new pip.\n* Bump the minimum neutron requirement to 17.0.0 (victoria release)\n  as the previous min version 13.0.0.0b2 is too old.\n  Wallaby and Victoria neutron are not different much, so I think\n  it is no problem to use the latest released version here.\n  (This is mainly to narrow down the space which the pip resolver\n   searchs and speed up the fix effort.)\n* Drop linter-specific entries from lower-constraints.txt.\n* Minimum versions in requirements.txt and test-requirements.txt\n  are updated accordingly.\n\nChange-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03\n'}, {'number': 2, 'created': '2021-02-15 14:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/957235240ed3e3228ddfbb8e3541d64a3e04c00b', 'message': ""Fix lower-constraints\n\nThe latest pip resolver started to check requirements strictly\nand it detects many inconsistencies in lower-constraints.txt.\n\nThe summary of changes in lower-constraints.txt are as below.\n\n* Address inconsistencies detected by the pip resolver accordingly.\n* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible\n  in eventlet versions which neutron and other projects require.\n  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron\n  already bumped it to >=0.3.4 to pass the check by the new pip.\n* Bump the minimum neutron requirement to 17.0.0 (victoria release)\n  as the previous min version 13.0.0.0b2 is too old.\n  Wallaby and Victoria neutron are not different much, so I think\n  it is no problem to use the latest released version here.\n  (This is mainly to narrow down the space which the pip resolver\n   searchs and speed up the fix effort.)\n* Minimum versions in requirements.txt and test-requirements.txt\n  are updated accordingly.\n* Drop linter-specific entries from lower-constraints.txt.\n* Move linter dependencies to tox.ini. It is out of the outcomes\n  in [1] and its thread. Note that we don't need isort explicitly\n  as pylint now set a proper version including the upper limit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019415.html\n\nChange-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03\n""}, {'number': 3, 'created': '2021-02-15 22:46:41.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0eb06a29299264c7a5ca3c5ff0691715335d4385', 'message': ""Fix lower-constraints\n\nThe latest pip resolver started to check requirements strictly\nand it detects many inconsistencies in lower-constraints.txt.\n\nThe summary of changes in lower-constraints.txt are as below.\n\n* Address inconsistencies detected by the pip resolver accordingly.\n* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible\n  in eventlet versions which neutron and other projects require.\n  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron\n  already bumped it to >=0.3.4 to pass the check by the new pip.\n* Bump the minimum neutron requirement to 17.0.0 (victoria release)\n  as the previous min version 13.0.0.0b2 is too old.\n  Wallaby and Victoria neutron are not different much, so I think\n  it is no problem to use the latest released version here.\n  (This is mainly to narrow down the space which the pip resolver\n   searchs and speed up the fix effort.)\n* Minimum versions in requirements.txt and test-requirements.txt\n  are updated accordingly.\n* Drop linter-specific entries from lower-constraints.txt.\n* Move linter dependencies to tox.ini. It is out of the outcomes\n  in [1] and its thread. Note that we don't need isort explicitly\n  as pylint now set a proper version including the upper limit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019415.html\n\nChange-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03\n""}]",1,775614,0eb06a29299264c7a5ca3c5ff0691715335d4385,15,5,3,841,,,0,"Fix lower-constraints

The latest pip resolver started to check requirements strictly
and it detects many inconsistencies in lower-constraints.txt.

The summary of changes in lower-constraints.txt are as below.

* Address inconsistencies detected by the pip resolver accordingly.
* os-xenapi in l-c is bumped to 0.3.4. os-xenapi 0.3.1 is incompatible
  in eventlet versions which neutron and other projects require.
  Note that neutron 17.0.0 says os-xenapi>=0.3.1 but wallaby neutron
  already bumped it to >=0.3.4 to pass the check by the new pip.
* Bump the minimum neutron requirement to 17.0.0 (victoria release)
  as the previous min version 13.0.0.0b2 is too old.
  Wallaby and Victoria neutron are not different much, so I think
  it is no problem to use the latest released version here.
  (This is mainly to narrow down the space which the pip resolver
   searchs and speed up the fix effort.)
* Minimum versions in requirements.txt and test-requirements.txt
  are updated accordingly.
* Drop linter-specific entries from lower-constraints.txt.
* Move linter dependencies to tox.ini. It is out of the outcomes
  in [1] and its thread. Note that we don't need isort explicitly
  as pylint now set a proper version including the upper limit.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019415.html

Change-Id: I25a7e1d47c267631ebcb8ce34876ccfd38007e03
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/14/775614/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,c173cb89d4a568b4e02b47f819ad466563f2f6e6,l-c-fix,alembic==0.9.6 amqp==2.5.2cliff==2.8.0keystoneauth1==3.14.0kombu==4.6.6msgpack==0.6.0neutron-lib==2.6.0 neutron==17.0.0 openstacksdk==0.31.2os-ken==0.3.0 os-service-types==1.7.0 os-vif==1.15.1 os-xenapi==0.3.4oslo.cache==1.26.0oslo.context==2.22.0oslo.i18n==3.20.0 oslo.log==4.2.1oslo.policy==2.0.0 oslo.privsep==2.3.0oslo.serialization==2.25.0 oslo.service==1.31.0 oslo.upgradecheck==1.3.0 oslo.utils==4.5.0 oslo.versionedobjects==1.35.1ovsdbapp==1.3.0 packaging==20.4pbr==4.0.0 pecan==1.3.2tooz==1.58.0WebOb==1.8.2,alembic==0.8.10 amqp==2.2.2cliff==3.4.0keystoneauth1==3.4.0kombu==4.6.1msgpack==0.5.6neutron-lib==2.2.0 openstacksdk==0.12.0os-service-types==1.2.0 os-xenapi==0.3.1oslo.cache==1.29.0oslo.context==2.20.0oslo.i18n==3.15.3 oslo.log==3.36.0oslo.policy==1.34.0 oslo.privsep==1.28.0oslo.serialization==2.18.0 oslo.service==1.30.0 oslo.utils==3.33.0 oslo.versionedobjects==1.32.0ovsdbapp==0.10.0 packaging==17.1pbr==2.0.0 pecan==1.2.1WebOb==1.7.1,39,34
openstack%2Fbifrost~master~If40f044a86cdde6d653bbfb441de53fb4071e390,openstack/bifrost,master,If40f044a86cdde6d653bbfb441de53fb4071e390,Make DHCP inventory handling more flexible,MERGED,2020-12-18 18:31:46.000000000,2021-03-01 17:00:52.000000000,2021-03-01 16:58:19.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 18:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7abc4e22b341124cf90efd31bae292deca06e19c', 'message': 'Make DHCP inventory handling more flexible\n\nConfigure a hostsdir even when inventory_dhcp is false, so that\na deployment can use a mixed approach.\n\nStop creating an unused additional hostsdir by default.\n\nChange-Id: If40f044a86cdde6d653bbfb441de53fb4071e390\n'}, {'number': 2, 'created': '2021-01-08 13:30:15.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2', 'releasenotes/notes/inventory-ddf41d563a320201.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fc7d10a49be62808dfba887e33ddff2befaf41f2', 'message': ""Make DHCP inventory handling more flexible\n\nConfigure a hostsdir even when inventory_dhcp is false, so that\na deployment can use a mixed approach.\n\nStop creating an unused additional DNS hostsdir by default since\nwe disable DNS by default. While we're here, rename\ndisable_dnsmasq_dns -> ! dnsmasq_enable_dns for consistency.\n\nChange-Id: If40f044a86cdde6d653bbfb441de53fb4071e390\n""}]",1,767929,fc7d10a49be62808dfba887e33ddff2befaf41f2,11,3,2,10239,,,0,"Make DHCP inventory handling more flexible

Configure a hostsdir even when inventory_dhcp is false, so that
a deployment can use a mixed approach.

Stop creating an unused additional DNS hostsdir by default since
we disable DNS by default. While we're here, rename
disable_dnsmasq_dns -> ! dnsmasq_enable_dns for consistency.

Change-Id: If40f044a86cdde6d653bbfb441de53fb4071e390
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/29/767929/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/dnsmasq.conf.j2', 'releasenotes/notes/inventory-ddf41d563a320201.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml']",4,7abc4e22b341124cf90efd31bae292deca06e19c,inventory,"- name: ""Setup additional DHCP hosts directory"" file: path: ""{{ dnsmasq_additional_hostsdir }}"" when: dnsmasq_additional_hostsdir is defined - name: ""Setup inventory DHCP hosts directory"" file: path: ""{{ dnsmasq_inventory_hostsdir }}""","- name: ""Setup Inventory Hosts Directory"" file: path: ""/etc/dnsmasq.d/bifrost.hosts.d"" when: inventory_dhcp | bool - name: ""Setup Inventory DHCP Hosts Directory"" file: path: ""/etc/dnsmasq.d/bifrost.dhcp-hosts.d"" when: inventory_dhcp | bool",31,8
openstack%2Fmanila~master~I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,openstack/manila,master,I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b,[NetApp] Fix deepcopy of sqlalchemy objects inside the driver,MERGED,2021-02-26 16:32:06.000000000,2021-03-01 16:59:36.000000000,2021-03-01 16:54:45.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-02-26 16:32:06.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1269a8669d96a8088b0b91821bd59a6291fe693b', 'message': ""[NetApp] Fix deepcopy of sqlalchemy objects inside the driver\n\nThis patch fix a sqlalchemy object copy made in the driver\nthat can raise a 'DetachedInstanceError' exception, depending on\nchanges made in the DB model. A simple copy is being made instead, to\nhave a new share object with share server information inside it.\n\nChange-Id: I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n""}]",0,777770,1269a8669d96a8088b0b91821bd59a6291fe693b,17,3,1,30002,,,0,"[NetApp] Fix deepcopy of sqlalchemy objects inside the driver

This patch fix a sqlalchemy object copy made in the driver
that can raise a 'DetachedInstanceError' exception, depending on
changes made in the DB model. A simple copy is being made instead, to
have a new share object with share server information inside it.

Change-Id: I5fef50a17bc72ba66a3a9d6f786742bcb5745d7b
Signed-off-by: Douglas Viroel <viroel@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/777770/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",3,1269a8669d96a8088b0b91821bd59a6291fe693b,fix_detachedinstance_error," mock.Mock(return_value=src_vserver)) mock_get_vserver_from_share_server = self.mock_object( mock_dm_session, 'get_vserver_from_share_server', mock.Mock(return_value=dest_vserver)) mock_get_vserver.assert_called_once_with(fake_parent_share) mock_get_vserver_from_share_server.assert_called_once_with( fake_share_server)"," mock.Mock(side_effect=[src_vserver, dest_vserver])) mock_get_vserver.assert_has_calls([mock.call(fake_parent_share), mock.call(internal_share)])",12,12
openstack%2Fcinder-tempest-plugin~master~Iac0aefff7a2277e1d3a36d8943e285a226a6830f,openstack/cinder-tempest-plugin,master,Iac0aefff7a2277e1d3a36d8943e285a226a6830f,Wait for CG to be available before creating volume in the CG,MERGED,2020-09-28 09:11:09.000000000,2021-03-01 16:57:40.000000000,2021-03-01 16:57:40.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 14624}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29122}]","[{'number': 1, 'created': '2020-09-28 09:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2da35929a1e227d35600a4e5c379f959809fdfab', 'message': 'Wait for CG to be available before creating volume in the CG\n\nThe test cases should wait for CG to be available first before moving to\ncreate volume in the CG.\n\nChange-Id: Iac0aefff7a2277e1d3a36d8943e285a226a6830f\nCloses-Bug: #1897532\n'}, {'number': 2, 'created': '2020-10-09 02:27:05.000000000', 'files': ['cinder_tempest_plugin/api/volume/admin/test_consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4f00e9f52b07b77f50aed1c6cfc59440da4f8294', 'message': 'Wait for CG to be available before creating volume in the CG\n\nThe test cases should wait for CG to be available first before moving to\ncreate volume in the CG.\n\nChange-Id: Iac0aefff7a2277e1d3a36d8943e285a226a6830f\nCloses-Bug: #1897532\n'}]",0,754660,4f00e9f52b07b77f50aed1c6cfc59440da4f8294,20,8,2,14624,,,0,"Wait for CG to be available before creating volume in the CG

The test cases should wait for CG to be available first before moving to
create volume in the CG.

Change-Id: Iac0aefff7a2277e1d3a36d8943e285a226a6830f
Closes-Bug: #1897532
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/60/754660/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wait-cg-available-before-create-volume-498ea4a2d91fe436.yaml', 'cinder_tempest_plugin/api/volume/admin/test_consistencygroups.py']",2,2da35929a1e227d35600a4e5c379f959809fdfab,bug/1897532," self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) # Create volume self.consistencygroups_adm_client.wait_for_cgsnapshot_status( cgsnapshot['id'], 'available') self.assertEqual(cgsnapshot_name, cgsnapshot['name']) self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) # Create volume self.consistencygroups_adm_client.wait_for_cgsnapshot_status( cgsnapshot['id'], 'available') self.assertEqual(cgsnapshot_name, cgsnapshot['name']) self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg2['id'], 'available') self.assertEqual(cg_name2, cg2['name']) self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg2['id'], 'available') self.assertEqual(cg_name2, cg2['name'])"," # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) self.consistencygroups_adm_client.wait_for_cgsnapshot_status( cgsnapshot['id'], 'available') self.assertEqual(cgsnapshot_name, cgsnapshot['name']) # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) self.consistencygroups_adm_client.wait_for_cgsnapshot_status( cgsnapshot['id'], 'available') self.assertEqual(cgsnapshot_name, cgsnapshot['name']) self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg2['id'], 'available') self.assertEqual(cg_name2, cg2['name']) # Create volume self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg['id'], 'available') self.assertEqual(cg_name, cg['name']) self.consistencygroups_adm_client.wait_for_consistencygroup_status( cg2['id'], 'available') self.assertEqual(cg_name2, cg2['name'])",37,32
openstack%2Fi18n~master~I83f38fd673456e0d1179c50d9df903e16b01bd5f,openstack/i18n,master,I83f38fd673456e0d1179c50d9df903e16b01bd5f,Document tips on debugging translation job scripts,MERGED,2021-02-04 00:15:08.000000000,2021-03-01 16:56:28.000000000,2021-03-01 16:38:16.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 00:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/aaa5174e24e097257e51de56ae1d8cd62a93f28b', 'message': 'Document tips on debugging translation job scripts\n\nThe need for this information is rare but when I develop\nthe translation job scripts I always research the same thing\nso it is useful at least for me.\n\nChange-Id: I83f38fd673456e0d1179c50d9df903e16b01bd5f\n'}, {'number': 2, 'created': '2021-02-24 00:03:06.000000000', 'files': ['doc/source/index.rst', 'doc/source/infra.rst', 'doc/source/infra-debug.rst'], 'web_link': 'https://opendev.org/openstack/i18n/commit/78a21fa83087f39fe8deea00e872f0f2408c29a8', 'message': 'Document tips on debugging translation job scripts\n\nThe need for this information is rare but when I develop\nthe translation job scripts I always research the same thing\nso it is useful at least for me.\n\nChange-Id: I83f38fd673456e0d1179c50d9df903e16b01bd5f\n'}]",8,774017,78a21fa83087f39fe8deea00e872f0f2408c29a8,16,3,2,841,,,0,"Document tips on debugging translation job scripts

The need for this information is rare but when I develop
the translation job scripts I always research the same thing
so it is useful at least for me.

Change-Id: I83f38fd673456e0d1179c50d9df903e16b01bd5f
",git fetch https://review.opendev.org/openstack/i18n refs/changes/17/774017/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/infra.rst', 'doc/source/infra-debug.rst']",3,aaa5174e24e097257e51de56ae1d8cd62a93f28b,debug-job-scripts,"===================== Debugging job scripts ===================== While it would be rare, you may would like to debug the translation job scripts. This section describes tips for such cases. ``propose_translation_update.sh`` is mainly covered. Note that it is not a complete document for debugging. It was just written as a note. Feel free to add more topics. Environment ----------- It is better to use the same distribution used in the translation job. You can know it by checking ``nodeset`` of the ``propose-translation-update`` job definition in `zuul configuration <https://opendev.org/openstack/project-config/src/branch/master/zuul.d/jobs.yaml>`__ in openstack/project-config repository repository. As of Feb 2021, ``ubuntu-bionic`` is used. Preparations ------------ You can prepare dependencies by following `prepare-zanata-client role <https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/roles/prepare-zanata-client/tasks/main.yaml>`__. What you need are: * Installing Zanata CLI and its dependencies. Ensure ``zanata-cli`` command is found in your path. * Prepare ``~/.config/zanata.ini``. See :ref:`Zanata CLI <zanata-cli>` for more detail. * Copy the translation scripts to your working directory from `openstack-zuul-jobs/roles/prepare-zanata-client/files <https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/roles/prepare-zanata-client/files>`__. In addition, you need to copy ``common.sh`` from `project-config/roles/copy-proposal-common-scripts/files <https://opendev.org/openstack/project-config/src/branch/master/roles/copy-proposal-common-scripts/files>`__ to the same working directory. Commenting out CI-specific codes -------------------------------- The job scripts contain codes specific to OpenStack CI. For example, there is a code to communicate with OpenStack gerrit and the account is hardcoded. It looks convenient to comment out such code blocks to debug the scripts in a local env. It should be useful unless you are debuging a CI-specific issue. Code blocks which look better to be commented out are: * common_translation_update.sh * ``trap ""finish"" EXIT`` (It depends on testrepository and usually fails in local envs) * propose_translation_update.sh * ``setup_review`` and a logic to check an existing change (It is unnecessary as we do not propose a real change to gerrit. The account used is hardcoded and it always fails in local runs.) * ``send_patch`` (It is unnecessary as we do not want to propose a real change to gerrit.) * (optional) The main logic (from ``case ""$PROJECT"" in`` to ``filter_commits``) (we will debug the main logic, so perhaps we would like to run the script piece by piece.) The diff would be like http://paste.openstack.org/show/802260/. Copying upper-constraints.txt ----------------------------- The job scripts assume that upper-constraints.txt exists in the top directory of the target project repository. .. code-block:: console $ cd $PROJECT_DIR $ wget https://releases.openstack.org/constraints/upper/master Note that you need to adjust the URL of the upper-constraints file when you work on a stable branch. Creating ~/.venv virtualenv --------------------------- The job scripts assume that required python modules are installed in ``~/.venv`` virtualenv. In the zuul job, this virtualenv is prepared via ``ensure-sphinx`` and ``ensure-babel`` roles in zuul/zuul-jobs. You need to do the same. Note that doc/requirements.txt in most projects are almost samer so perhaps you can reuse this virtualenv for most projects. If it does not work, consider recreating the virtualenv. .. code-block:: bash $ python3 -m venv ~/.venv $ . ~/.venv/bin/activate # $PROJECT_DIR is a target project repository like horizon, ironic-ui .... (.venv) $ cd $PROJECT_DIR # Install sphinx related modules ensure-sphinx installs (.venv) $ pip install -r doc/requirements.txt -c ../requirements/upper-constraints.txt # Install modules ensure-babel installs (.venv) $ pip install Babel lxml pbr requests -c ../requirements/upper-constraints.txt (.venv) $ deactivate Loading scripts --------------- .. code-block:: bash # It is better to start a new shell when debugging the script $ bash > cd $PROJECT_REPO # The arguments are: {{ zuul.project.short_name }} {{ zuul.branch }} {{ zuul.job }} $HORIZON_REPO > . $WORKDIR/propose_translation_update.sh ironic-ui master propose-translation-update ../horizon > Simulating translation changes ------------------------------ If you would like to simulate translation changes, you can download translations in advance (using zanata-cli) and modify them as you want. In such case, you can modify the script as follows: .. code-block:: console --- a/roles/prepare-zanata-client/files/common_translation_update.sh +++ b/roles/prepare-zanata-client/files/common_translation_update.sh @@ -734,7 +732,8 @@ function pull_from_zanata { # Since Zanata does not currently have an option to not download new # files, we download everything, and then remove new files that are not # translated enough. - zanata-cli -B -e pull + #zanata-cli -B -e pull + cp -r $DOWNLOAD_TRANSLATIONS/$project/* . # We skip directories starting with '.' because they never contain # translations for the project (in particular, '.tox'). Likewise You can download translations as below. ``zanata.xml`` will be created once you run the propose_translation_update.sh (or you can prepare it by following :ref:`zanata-cli` ""Project configuration""). .. code-block:: console $ cd $DOWNLOAD_TRANSLATIONS/$project $ zanata-cli -B -e pull --project-config $PROJECT_DIR/zanata.xml ",,156,0
openstack%2Fpython-blazarclient~master~I692abac2bf1fe118c27af043e71f315c8354c8a0,openstack/python-blazarclient,master,I692abac2bf1fe118c27af043e71f315c8354c8a0,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:57:43.000000000,2021-03-01 16:56:20.000000000,2021-03-01 16:40:26.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-18 16:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/32e05c1e27c70781e049e0133319840bacd15c2b', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-18 09:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/fa3a25722236b50188e32354798d123ea4259b5c', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-18 10:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/79f405454b9917af316af9abec3871c1be0ebb2e', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-12-04 19:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/c19bd60518be56c9ab42f50d8749701baab61466', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2021-02-23 14:20:15.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'test-requirements.txt', 'lower-constraints.txt', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'blazarclient/tests/test_command.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/d2503ab47633c8a4c3c229e3deaff0d95803a6fd', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720976,d2503ab47633c8a4c3c229e3deaff0d95803a6fd,20,2,5,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I692abac2bf1fe118c27af043e71f315c8354c8a0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/76/720976/5 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/tests/v1/shell_commands/test_hosts.py', 'blazarclient/tests/test_base.py', 'test-requirements.txt', 'blazarclient/tests/v1/shell_commands/test_leases.py', 'blazarclient/tests/test_command.py']",6,32e05c1e27c70781e049e0133319840bacd15c2b,unittest.mock,from unittest import mock,import mock,5,6
openstack%2Fpuppet-swift~master~I0dd121bf866fde715756a6c7c10e6153e17c5d2c,openstack/puppet-swift,master,I0dd121bf866fde715756a6c7c10e6153e17c5d2c,Add support for the listing_formats middleware,MERGED,2021-02-21 09:50:50.000000000,2021-03-01 16:56:08.000000000,2021-03-01 16:39:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-21 09:50:50.000000000', 'files': ['releasenotes/notes/listing_formats-middleware-2ccb0d3462bc1bff.yaml', 'spec/classes/swift_proxy_listing_formats_spec.rb', 'manifests/proxy/listing_formats.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/68a8d47cf7a9bd4918397c07731bc33423b235c0', 'message': 'Add support for the listing_formats middleware\n\nChange-Id: I0dd121bf866fde715756a6c7c10e6153e17c5d2c\n'}]",1,776826,68a8d47cf7a9bd4918397c07731bc33423b235c0,8,3,1,9816,,,0,"Add support for the listing_formats middleware

Change-Id: I0dd121bf866fde715756a6c7c10e6153e17c5d2c
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/26/776826/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/listing_formats-middleware-2ccb0d3462bc1bff.yaml', 'spec/classes/swift_proxy_listing_formats_spec.rb', 'manifests/proxy/listing_formats.pp']",3,68a8d47cf7a9bd4918397c07731bc33423b235c0,proxy-pipeline,# # Configure swift listing_formats. # # == Parameters # # == Examples # # include swift::proxy::listing_formats # # == Authors # # Takashi Kajinami <tkajinam@redhat.com> # # == Copyright # # Copyright (C) 2021 Red Hat # class swift::proxy::listing_formats ( ) { include swift::deps swift_proxy_config { 'filter:listing_formats/use': value => 'egg:swift#listing_formats'; } } ,,51,0
openstack%2Fbifrost~master~I300828d54af78ef4843094ff231652adc4566aa0,openstack/bifrost,master,I300828d54af78ef4843094ff231652adc4566aa0,Add basic upgrade jobs,MERGED,2020-09-08 14:51:35.000000000,2021-03-01 16:55:51.000000000,2021-03-01 16:37:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-09-08 14:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cf1c024e79588be052f227bdf33cc9ba451f946a', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 2, 'created': '2020-09-08 14:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/98081a772e250d39e100cc8800ec2bded8e943cb', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 3, 'created': '2020-09-08 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5d74c6b20f7b42bf84c8b27e4260ef2c1ea38789', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 4, 'created': '2020-09-08 16:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/02201861a1c21d23ae0c2e14d50404bfebeccb43', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 5, 'created': '2020-09-08 16:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a556b5902533b60301bee38f0025ad1bfbf13f77', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 6, 'created': '2020-09-09 10:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6acc91aa8c8d6ee3dddf2c73ad90d06ebb967c12', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 7, 'created': '2020-09-09 10:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/787efbe27af8ec011d0dd1d85b0c170048616cbc', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 8, 'created': '2020-09-09 11:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f1fa403711a8b1d60d32db732726801299be09cc', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 9, 'created': '2020-09-09 11:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/23bc587afc4c626cc732c0b4e175802f459f589e', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 10, 'created': '2020-09-09 12:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e9f431f56551819b803ba8883fd8d01ab034917e', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 11, 'created': '2020-09-09 14:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/eb019449f0b30376f57f691cb50514d3098b7721', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 12, 'created': '2020-09-17 12:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c3df58c1d1b57b7eda9751fe20487c2d8d04c141', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 13, 'created': '2020-09-18 12:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5c8ef6be6d778cc7b8deb45be35a77e40ea75ef8', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 14, 'created': '2020-09-18 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3dc01be1e002d70e405b65c99b35c6453125ebff', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 15, 'created': '2020-10-06 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/760cedf9819c37d068ac0d3bd29a20f73c1fd2cb', 'message': '[PoC] A naive attempt at creating an upgrade job\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}, {'number': 16, 'created': '2021-01-19 15:19:59.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/bifrost-jobs.yaml', 'playbooks/ci/upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/abf7d3fcb360b5f16b33fb59d5be73878ca1c5ce', 'message': 'Add basic upgrade jobs\n\nThe CI scripts install Bifrost on old stable, test it, then\ndo the same on master.\n\nChange-Id: I300828d54af78ef4843094ff231652adc4566aa0\n'}]",1,750376,abf7d3fcb360b5f16b33fb59d5be73878ca1c5ce,38,3,16,10239,,,0,"Add basic upgrade jobs

The CI scripts install Bifrost on old stable, test it, then
do the same on master.

Change-Id: I300828d54af78ef4843094ff231652adc4566aa0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/750376/16 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'playbooks/ci/upgrade.yaml', 'zuul.d/bifrost-jobs.yaml']",3,cf1c024e79588be052f227bdf33cc9ba451f946a,upgrade, - job: name: bifrost-upgrade parent: bifrost-base run: playbooks/ci/upgrade.yaml timeout: 9600 vars: upgrade_from: stable/ussuri upgrade_to: master - job: name: bifrost-upgrade-ubuntu-bionic parent: bifrost-upgrade nodeset: ubuntu-bionic - job: name: bifrost-upgrade-keystone-centos8 parent: bifrost-upgrade nodeset: centos-8 required-projects: - openstack/keystone vars: enable_keystone: true noauth_mode: false,,64,0
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ia209311d57f607b2ddfcab8518264cd7f670dc8f,openstack/oslo.versionedobjects,stable/ussuri,Ia209311d57f607b2ddfcab8518264cd7f670dc8f,zuul: port the legacy multinode grenade job,MERGED,2020-08-17 13:28:18.000000000,2021-03-01 16:55:37.000000000,2021-03-01 16:25:22.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-08-17 13:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/da1e2d76a8c25f5ecdc8aaf2b7fa0cf85874fa5e', 'message': 'zuul: port the legacy multinode grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade-multinode\' job\nwhere oslo.versionedobjects is installed from source instead of pip.\n\nAlso use a slightly more common name by dropping the ""-devstack""\ncomponent from the name (all grenade jobs are also devstack jobs).\n\nFinally, remove the hardcoded xenial nodeset, thus inheriting the\ndefault testing definition for it, and probably unbreaking\nthe job which has been failing so far.\n\nChange-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f\n(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)\n'}, {'number': 2, 'created': '2021-02-17 23:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/cbce481858adb7936084b262f931abb4e07a8a92', 'message': 'zuul: port the legacy multinode grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade-multinode\' job\nwhere oslo.versionedobjects is installed from source instead of pip.\n\nAlso use a slightly more common name by dropping the ""-devstack""\ncomponent from the name (all grenade jobs are also devstack jobs).\n\nFinally, remove the hardcoded xenial nodeset, thus inheriting the\ndefault testing definition for it, and probably unbreaking\nthe job which has been failing so far.\n\nChange-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f\n(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)\n'}, {'number': 3, 'created': '2021-02-19 09:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/c2cc3ace9b4715c181d2060fe448e25aad368e8d', 'message': 'zuul: port the legacy multinode grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade-multinode\' job\nwhere oslo.versionedobjects is installed from source instead of pip.\n\nAlso use a slightly more common name by dropping the ""-devstack""\ncomponent from the name (all grenade jobs are also devstack jobs).\n\nFinally, remove the hardcoded xenial nodeset, thus inheriting the\ndefault testing definition for it, and probably unbreaking\nthe job which has been failing so far.\n\nChange-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f\n(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)\n'}, {'number': 4, 'created': '2021-03-01 12:27:56.000000000', 'files': ['playbooks/legacy/oslo.versionedobjects-src-grenade-devstack-multinode/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.versionedobjects-src-grenade-devstack-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/0756920f742b4024869f9f359794d9ba82ec2a8f', 'message': 'zuul: port the legacy multinode grenade job\n\nMake it a native Zuul v3 job.\nIt is a simple variant of the base \'grenade-multinode\' job\nwhere oslo.versionedobjects is installed from source instead of pip.\n\nAlso use a slightly more common name by dropping the ""-devstack""\ncomponent from the name (all grenade jobs are also devstack jobs).\n\nFinally, remove the hardcoded xenial nodeset, thus inheriting the\ndefault testing definition for it, and probably unbreaking\nthe job which has been failing so far.\n\nChange-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f\n(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)\n'}]",0,746506,0756920f742b4024869f9f359794d9ba82ec2a8f,19,5,4,10459,,,0,"zuul: port the legacy multinode grenade job

Make it a native Zuul v3 job.
It is a simple variant of the base 'grenade-multinode' job
where oslo.versionedobjects is installed from source instead of pip.

Also use a slightly more common name by dropping the ""-devstack""
component from the name (all grenade jobs are also devstack jobs).

Finally, remove the hardcoded xenial nodeset, thus inheriting the
default testing definition for it, and probably unbreaking
the job which has been failing so far.

Change-Id: Ia209311d57f607b2ddfcab8518264cd7f670dc8f
(cherry picked from commit 9d67d0ff95d572d2a27cd50774b81b3eec4882df)
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/06/746506/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/oslo.versionedobjects-src-grenade-devstack-multinode/post.yaml', '.zuul.yaml', 'playbooks/legacy/oslo.versionedobjects-src-grenade-devstack-multinode/run.yaml']",3,da1e2d76a8c25f5ecdc8aaf2b7fa0cf85874fa5e,native-zuulv3-migration,,"- hosts: primary name: Autoconverted job legacy-oslo.versionedobjects-src-grenade-dsvm-multinode from old job gate-oslo.versionedobjects-src-grenade-dsvm-multinode-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/grenade $PROJECTS"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_USE_PYTHON3=True export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=""multinode"" export DEVSTACK_PROJECT_FROM_GIT=$ZUUL_SHORT_PROJECT_NAME # Even if the branch is overridden, make sure we use # the correct branch using the OVERRIDE_*_PROJECT_BRANCH # variable. uc_project=`echo $DEVSTACK_PROJECT_FROM_GIT | tr [:lower:] [:upper:] | tr '-' '_' | sed 's/[^A-Z_]//'` export ""OVERRIDE_""$uc_project""_PROJECT_BRANCH""=$ZUUL_BRANCH cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",4,78
openstack%2Fglance~master~Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,openstack/glance,master,Idd1f3b84fa5af7d432411055c2a9641c3ce98abd,Take new staging columns in use,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:54:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 14:27:48.000000000', 'files': ['glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/api/v2/images.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/560f8abb8043d1b28a1b860928a78255e080d0e0', 'message': 'Take new staging columns in use\n\nChange-Id: Idd1f3b84fa5af7d432411055c2a9641c3ce98abd\n'}]",0,777756,560f8abb8043d1b28a1b860928a78255e080d0e0,3,1,1,5202,,,0,"Take new staging columns in use

Change-Id: Idd1f3b84fa5af7d432411055c2a9641c3ce98abd
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/777756/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/api/v2/images.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/v2/test_images_resource.py']",9,560f8abb8043d1b28a1b860928a78255e080d0e0,feature_dist_import_func," self.active_image_staged = _domain_fixture( UUID3, name='image-1', visibility='public', status='active', size=1024, virtual_size=3072, created_at=DATETIME, updated_at=DATETIME, locations=[{'id': '1', 'url': 'file://some/fake/location', 'metadata': {}, 'status': 'active', 'staging': True, 'staging_host': 'http://test'}, {'id': '2', 'url': 'http://some/fake/location', 'metadata': {}, 'status': 'active'}]) self.queued_image, self.active_image_staged]}) self.assertEqual(UUID3, images[2]['id']) self.assertNotEqual('file://some/fake/location', images[2]['direct_url']) self.assertEqual('http://some/fake/location', images[2]['direct_url']) {'images': [self.location_data_image, self.active_image_staged]}), loc = images[1]['locations'][0] self.assertIn('staging', loc) self.assertNotIn('staging_host', loc)"," self.queued_image]}) {'images': [self.location_data_image]}),",140,27
openstack%2Fglance~master~I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,openstack/glance,master,I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f,Add get_ksa_client() helper,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:53:13.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 22:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac53e433e23419defc745bb42b2419daca87adc5', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nThis is copy of\nhttps://review.opendev.org/c/openstack/glance/+/770682 for keeping\nDan's original chain intact as requested.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f\n""}, {'number': 2, 'created': '2021-02-26 14:27:48.000000000', 'files': ['glance/tests/unit/test_context.py', 'glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7454e969323bc0b0c0bc07942fcddb184e7a0c63', 'message': ""Add get_ksa_client() helper\n\nThis adds a method in glance.context that will give us a\nkeystoneauth1 client, authorized with the user's token, suitable for\ncalling directly to other services.\n\nThis is copy of\nhttps://review.opendev.org/c/openstack/glance/+/770682 for keeping\nDan's original chain intact as requested.\n\nRelated to blueprint distributed-image-import\n\nChange-Id: I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f\n""}]",0,777017,7454e969323bc0b0c0bc07942fcddb184e7a0c63,10,2,2,5202,,,0,"Add get_ksa_client() helper

This adds a method in glance.context that will give us a
keystoneauth1 client, authorized with the user's token, suitable for
calling directly to other services.

This is copy of
https://review.opendev.org/c/openstack/glance/+/770682 for keeping
Dan's original chain intact as requested.

Related to blueprint distributed-image-import

Change-Id: I5bd407de2ca7ec1f0a276c5f4e6f3da73f1d422f
",git fetch https://review.opendev.org/openstack/glance refs/changes/17/777017/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_context.py', 'glance/context.py']",2,ac53e433e23419defc745bb42b2419daca87adc5,feature_dist_import_func,"from keystoneauth1 import session from keystoneauth1 import token_endpoint from oslo_config import cfgCONF = cfg.CONF def get_ksa_client(context): """"""Returns a keystoneauth Adapter using token from context. This will return a simple keystoneauth adapter that can be used to make requests against a remote service using the token provided (and already authenticated) from the user and stored in a RequestContext. :param context: User request context :returns: keystoneauth1 Adapter object """""" auth = token_endpoint.Token(CONF.keystone_authtoken.identity_uri, context.auth_token) return session.Session(auth=auth) ",,45,0
openstack%2Fglance~master~I50f88d0eeaa54d9857e8a7e30326bc4013928be6,openstack/glance,master,I50f88d0eeaa54d9857e8a7e30326bc4013928be6,WIP: Staging refactor,ABANDONED,2021-02-22 22:41:12.000000000,2021-03-01 16:52:55.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 22:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4548a5a39227b24a4ed59d318693428e735f0592', 'message': 'WIP: Staging refactor\n\nThis change is to address old technical debt by refactoring the\nstaging used related to Interoperable Image Import to utilize\nlocations mechanisms to track the user staging data through the\nprocess.\n\nHandling of ""staging_host"" location metadata as preparation for\nDistributed Image Import tht needs to track the host where user\nimage data is being staged to avoid the shared filesystem between\nservice nodes.\n\nHiding the ""staging_host"" from API user and never selecting\nstaging loction as direct_url provided by the API.\n\nTo be addressed beofre merging:\nRemoving or refactoring tests skipped as ""Irrelevant?"", likely\nso due to the code they were testing been removed from said\nmodules.\nFixing tests skipped as ""BROKEN, needs eyes"" that are broken\nrelying the code they were testing being in the module and mocking\nthe rest.\nAdditional API testing for the insecure deprecated locations API\naround how the locations are being presented.\n\nChange-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6\n'}, {'number': 2, 'created': '2021-02-23 12:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c555fae018fc926f7ff8bb96ffccd2324e44737', 'message': 'WIP: Staging refactor\n\nThis change is to address old technical debt by refactoring the\nstaging used related to Interoperable Image Import to utilize\nlocations mechanisms to track the user staging data through the\nprocess.\n\nHandling of ""staging_host"" location metadata as preparation for\nDistributed Image Import that needs to track the host where user\nimage data is being staged to avoid the shared filesystem between\nservice nodes.\n\nHiding the ""staging_host"" from API user and never selecting\nstaging loction as direct_url provided by the API.\n\nTo be addressed before merging:\nRemoving or refactoring tests skipped as ""Irrelevant?"", likely\nso due to the code they were testing been removed from said\nmodules.\nFixing tests skipped as ""BROKEN, needs eyes"" that are broken\nrelying the code they were testing being in the module and mocking\nthe rest.\nAdditional API testing for the insecure deprecated locations API\naround how the locations are being presented.\n\nChange-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6\n'}, {'number': 3, 'created': '2021-02-23 12:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae34cb91795a9dc92c98c3871d30f13383809208', 'message': 'WIP: Staging refactor\n\nThis change is to address old technical debt by refactoring the\nstaging used related to Interoperable Image Import to utilize\nlocations mechanisms to track the user staging data through the\nprocess.\n\nHandling of ""staging_host"" location metadata as preparation for\nDistributed Image Import that needs to track the host where user\nimage data is being staged to avoid the shared filesystem between\nservice nodes.\n\nHiding the ""staging_host"" from API user and never selecting\nstaging loction as direct_url provided by the API.\n\nTo be addressed before merging:\nRemoving or refactoring tests skipped as ""Irrelevant?"", likely\nso due to the code they were testing been removed from said\nmodules.\nFixing tests skipped as ""BROKEN, needs eyes"" that are broken\nrelying the code they were testing being in the module and mocking\nthe rest.\nAdditional API testing for the insecure deprecated locations API\naround how the locations are being presented.\n\nChange-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6\n'}, {'number': 4, 'created': '2021-02-23 18:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a1ddbf303c1c4195739a90d014058d4ea7c87967', 'message': 'WIP: Staging refactor\n\nThis change is to address old technical debt by refactoring the\nstaging used related to Interoperable Image Import to utilize\nlocations mechanisms to track the user staging data through the\nprocess.\n\nHandling of ""staging_host"" location metadata as preparation for\nDistributed Image Import that needs to track the host where user\nimage data is being staged to avoid the shared filesystem between\nservice nodes.\n\nHiding the ""staging_host"" from API user and never selecting\nstaging loction as direct_url provided by the API.\n\nHiding the staging_host details from the output is tested on the\nfolowing change that implements the actual value for it.\n\nTo be addressed before merging:\nRemoving or refactoring tests skipped as ""Irrelevant?"", likely\nso due to the code they were testing been removed from said\nmodules.\nFixing tests skipped as ""BROKEN, needs eyes"" that are broken\nrelying the code they were testing being in the module and mocking\nthe rest.\n\nChange-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6\n'}, {'number': 5, 'created': '2021-02-26 14:27:48.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/tests/unit/async_/flows/test_web_download.py', 'glance/tests/unit/async_/flows/test_copy_image.py', 'glance/tests/functional/v2/test_legacy_update_cinder_store.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_notifier.py', 'glance/notifier.py', 'glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/async_/flows/_internal_plugins/copy_image.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c7bd3835992fd32985bf0236f3e4c00357c1284c', 'message': 'WIP: Staging refactor\n\nThis change is to address old technical debt by refactoring the\nstaging used related to Interoperable Image Import to utilize\nlocations mechanisms to track the user staging data through the\nprocess.\n\nHandling of ""staging_host"" location metadata as preparation for\nDistributed Image Import that needs to track the host where user\nimage data is being staged to avoid the shared filesystem between\nservice nodes.\n\nHiding the ""staging_host"" from API user and never selecting\nstaging loction as direct_url provided by the API.\n\nHiding the staging_host details from the output is tested on the\nfolowing change that implements the actual value for it.\n\nTo be addressed before merging:\nRemoving or refactoring tests skipped as ""Irrelevant?"", likely\nso due to the code they were testing been removed from said\nmodules.\nFixing tests skipped as ""BROKEN, needs eyes"" that are broken\nrelying the code they were testing being in the module and mocking\nthe rest.\n\nChange-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6\n'}]",68,777018,c7bd3835992fd32985bf0236f3e4c00357c1284c,22,2,5,5202,,,0,"WIP: Staging refactor

This change is to address old technical debt by refactoring the
staging used related to Interoperable Image Import to utilize
locations mechanisms to track the user staging data through the
process.

Handling of ""staging_host"" location metadata as preparation for
Distributed Image Import that needs to track the host where user
image data is being staged to avoid the shared filesystem between
service nodes.

Hiding the ""staging_host"" from API user and never selecting
staging loction as direct_url provided by the API.

Hiding the staging_host details from the output is tested on the
folowing change that implements the actual value for it.

To be addressed before merging:
Removing or refactoring tests skipped as ""Irrelevant?"", likely
so due to the code they were testing been removed from said
modules.
Fixing tests skipped as ""BROKEN, needs eyes"" that are broken
relying the code they were testing being in the module and mocking
the rest.

Change-Id: I50f88d0eeaa54d9857e8a7e30326bc4013928be6
",git fetch https://review.opendev.org/openstack/glance refs/changes/18/777018/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/async_/flows/test_web_download.py', 'glance/tests/unit/async_/flows/test_copy_image.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_notifier.py', 'glance/api/v2/images.py', 'glance/notifier.py', 'glance/async_/flows/_internal_plugins/web_download.py', 'glance/async_/flows/api_image_import.py', 'glance/common/scripts/image_import/main.py', 'glance/async_/flows/_internal_plugins/copy_image.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'glance/tests/unit/async_/flows/test_api_image_import.py']",20,4548a5a39227b24a4ed59d318693428e735f0592,feature_dist_import_func," callback=None, staging=False, image_data=None) callback=None, staging=False, image_data=None):","class TestDeleteFromFS(test_utils.BaseTestCase): def test_delete_with_backends_deletes(self): task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) self.config(enabled_backends='file:foo') with mock.patch.object(import_flow.store_api, 'delete') as mock_del: task.execute(mock.sentinel.path) mock_del.assert_called_once_with( mock.sentinel.path, 'os_glance_staging_store') def test_delete_with_backends_delete_fails(self): self.config(enabled_backends='file:foo') task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) with mock.patch.object(import_flow.store_api, 'delete') as mock_del: mock_del.side_effect = store_exceptions.NotFound(image=IMAGE_ID1, message='Testing') # If we didn't swallow this we would explode here task.execute(mock.sentinel.path) mock_del.assert_called_once_with( mock.sentinel.path, 'os_glance_staging_store') # Raise something unexpected and make sure it bubbles up mock_del.side_effect = RuntimeError self.assertRaises(RuntimeError, task.execute, mock.sentinel.path) @mock.patch('os.path.exists') @mock.patch('os.unlink') def test_delete_without_backends_exists(self, mock_unlink, mock_exists): mock_exists.return_value = True task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) task.execute('1234567foo') # FIXME(danms): I have no idea why the code arbitrarily snips # the first seven characters from the path. Need a comment or # *something*. mock_unlink.assert_called_once_with('foo') mock_unlink.reset_mock() mock_unlink.side_effect = OSError(123, 'failed') # Make sure we swallow the OSError and don't explode task.execute('1234567foo') @mock.patch('os.path.exists') @mock.patch('os.unlink') def test_delete_without_backends_missing(self, mock_unlink, mock_exists): mock_exists.return_value = False task = import_flow._DeleteFromFS(TASK_ID1, TASK_TYPE) task.execute('foo') mock_unlink.assert_not_called() callback=None) callback=None):",418,468
openstack%2Fglance~master~I1b694011a3a3bdd2698fcaac885b4cdf455d1049,openstack/glance,master,I1b694011a3a3bdd2698fcaac885b4cdf455d1049,Distributed image import,ABANDONED,2021-02-23 18:30:46.000000000,2021-03-01 16:52:28.000000000,,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 18:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a13d791fe1978deafaed9981f9da50641a677e31', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it's\ndirect_access_url gets recorded into the location metadata.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis is refctored copy of\nhttps://review.opendev.org/c/openstack/glance/+/769976 as requested to\nkeep Dan's original chain intact.\n\nCo-Authored-by: Erno Kuvaja <jokke@usr.fi>\nChange-Id: I1b694011a3a3bdd2698fcaac885b4cdf455d1049\nImplements: blueprint distributed-image-import\n""}, {'number': 2, 'created': '2021-02-26 14:27:48.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/test_store_image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ec9de83e4665a3dbdd75b4f89d642451fe431688', 'message': ""Distributed image import\n\nThis implements distributed image import support, which addresses\nthe problem when one API worker has staged the image and another\nreceives the import request.\n\nThe general approach is that when a worker stages the image, it's\ndirect_access_url gets recorded into the location metadata.  When\nthe import request comes in, any other host will proxy that HTTP\nrequest direct to the original host instead of trying to do the import\nitself.\n\nThis is refctored copy of\nhttps://review.opendev.org/c/openstack/glance/+/769976 as requested to\nkeep Dan's original chain intact.\n\nCo-Authored-by: Erno Kuvaja <jokke@usr.fi>\nChange-Id: I1b694011a3a3bdd2698fcaac885b4cdf455d1049\nImplements: blueprint distributed-image-import\n""}]",12,777183,ec9de83e4665a3dbdd75b4f89d642451fe431688,14,4,2,5202,,,0,"Distributed image import

This implements distributed image import support, which addresses
the problem when one API worker has staged the image and another
receives the import request.

The general approach is that when a worker stages the image, it's
direct_access_url gets recorded into the location metadata.  When
the import request comes in, any other host will proxy that HTTP
request direct to the original host instead of trying to do the import
itself.

This is refctored copy of
https://review.opendev.org/c/openstack/glance/+/769976 as requested to
keep Dan's original chain intact.

Co-Authored-by: Erno Kuvaja <jokke@usr.fi>
Change-Id: I1b694011a3a3bdd2698fcaac885b4cdf455d1049
Implements: blueprint distributed-image-import
",git fetch https://review.opendev.org/openstack/glance refs/changes/83/777183/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/async_/flows/test_api_image_import.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/functional/v2/test_images_import_locking.py', 'glance/tests/unit/test_store_image.py']",11,a13d791fe1978deafaed9981f9da50641a677e31,feature_dist_import_func," self.config(direct_access_url='http://gapi1') ""staging_host"": ""http://gapi1""}) ""staging_host"": ""http://gapi1""},"," ""staging_host"": ""placeholder""}) ""staging_host"": ""placeholder""},",644,8
openstack%2Fglance~master~Ie89838a87adfff846a284cc7582e50853f02c007,openstack/glance,master,Ie89838a87adfff846a284cc7582e50853f02c007,Add staging and staging_host columns into image_locations,ABANDONED,2021-02-26 14:27:48.000000000,2021-03-01 16:51:13.000000000,,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 14:27:48.000000000', 'files': ['glance/db/sqlalchemy/alembic_migrations/versions/wallaby_expand02_add_staging_staging_host_to_image_locations.py', 'glance/tests/functional/db/migrations/test_wallaby_expand02.py', 'glance/db/sqlalchemy/alembic_migrations/data_migrations/wallaby_migrate02_empty.py', 'glance/db/migration.py', 'glance/db/sqlalchemy/models.py', 'glance/db/sqlalchemy/alembic_migrations/versions/wallaby_contract02_empty.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f71f4d4b9232adb8be3313afea35712c921b7cee', 'message': 'Add staging and staging_host columns into image_locations\n\nChange-Id: Ie89838a87adfff846a284cc7582e50853f02c007\n'}]",8,777755,f71f4d4b9232adb8be3313afea35712c921b7cee,10,3,1,5202,,,0,"Add staging and staging_host columns into image_locations

Change-Id: Ie89838a87adfff846a284cc7582e50853f02c007
",git fetch https://review.opendev.org/openstack/glance refs/changes/55/777755/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/db/sqlalchemy/alembic_migrations/versions/wallaby_expand02_add_staging_staging_host_to_image_locations.py', 'glance/tests/functional/db/migrations/test_wallaby_expand02.py', 'glance/db/sqlalchemy/alembic_migrations/data_migrations/wallaby_migrate02_empty.py', 'glance/db/migration.py', 'glance/db/sqlalchemy/models.py', 'glance/db/sqlalchemy/alembic_migrations/versions/wallaby_contract02_empty.py']",6,f71f4d4b9232adb8be3313afea35712c921b7cee,feature_dist_import_func,"# Copyright (C) 2021 RedHat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # revision identifiers, used by Alembic. revision = 'wallaby_contract02' down_revision = 'wallaby_contract01' branch_labels = None depends_on = 'wallaby_expand02' def upgrade(): pass ",,146,2
openstack%2Foslo.versionedobjects~stable%2Fussuri~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/ussuri,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:51:20.000000000,2021-03-01 16:46:26.000000000,2021-03-01 16:25:03.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-19 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/3d6651573e1aa1b468649dcc0a45f3c78c5a8750', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nThis change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a\nwhich removes the lower-constraints.txt file and its references, and\nwhich completes this change.\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\nThey come from the change in the version-specific job template for unit tests,\nand a few version-specific changes in lower-contraints.txt.\n\nChange-Id: Ied61e65006ad54803453776e763594e216be1353\n(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)\n(cherry picked from commit 0755e99cda0db69aef7b4345cd6ae6d8cb36a3e3)\n'}, {'number': 2, 'created': '2021-03-01 12:25:22.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'oslo_versionedobjects/tests/test_objects.py', 'oslo_versionedobjects/test.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/3b51947c36bed64225ccbcf79738e610e19a9df3', 'message': ""Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nThis change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a\nwhich removes the lower-constraints.txt file and its references, and\nwhich completes this change, as suggested by hberaud.\n\nThis change also includes a few PEP8 fixes which are branch-specific\nand which have been workarounded from victoria onwards.\nThe fixes don't bump hacking&co (i.e. just a minimal set of changes).\n\nConflicts:\n        .zuul.yaml\n        lower-constraints.txt\nThey come from the change in the version-specific job template for unit tests,\nand a few version-specific changes in lower-contraints.txt.\n\nChange-Id: Ied61e65006ad54803453776e763594e216be1353\n(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)\n(cherry picked from commit 8b3deb7b5adfed68b2f2d742743383f5f8503e82)\n""}]",3,776594,3b51947c36bed64225ccbcf79738e610e19a9df3,13,3,2,10459,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

This change also includes a few PEP8 fixes which are branch-specific
and which have been workarounded from victoria onwards.
The fixes don't bump hacking&co (i.e. just a minimal set of changes).

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
(cherry picked from commit 8b3deb7b5adfed68b2f2d742743383f5f8503e82)
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/94/776594/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,3d6651573e1aa1b468649dcc0a45f3c78c5a8750,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,81
openstack%2Fnova~master~I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,openstack/nova,master,I1b6be3eb61f3e21da69a42ea32a19ce373b0a898,apidb: Compact Mitaka database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-01 16:31:07.000000000,2021-03-01 16:23:32.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b4bc846cdd32a5918006cb908001c8b8ece0c45', 'message': ""apidb: Compact Mitaka database migrations\n\nSpecific changes include:\n\n- Add 'request_specs' table (004)\n- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)\n- Add 'build_requests' table (006)\n- Alter 'cell_id' column of 'instance_mappings' table to be nullable\n  (007)\n\nChange-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/699eee1cc21934b7e0cfbbb01b244e81b916508c', 'message': ""apidb: Compact Mitaka database migrations\n\nSpecific changes include:\n\n- Add 'request_specs' table (004)\n- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)\n- Add 'build_requests' table (006)\n- Alter 'cell_id' column of 'instance_mappings' table to be nullable\n  (007)\n\nChange-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/004_add_request_spec.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_instance_mapping_nullable_cellid.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/006_build_request.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/005_flavors.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_liberty.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_mitaka.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2449232bd34f4f7a7cb3cb6a3523924624a0a31', 'message': ""apidb: Compact Mitaka database migrations\n\nSpecific changes include:\n\n- Add 'request_specs' table (004)\n- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)\n- Add 'build_requests' table (006)\n- Alter 'cell_id' column of 'instance_mappings' table to be nullable\n  (007)\n\nChange-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,759400,d2449232bd34f4f7a7cb3cb6a3523924624a0a31,71,11,3,15334,,,0,"apidb: Compact Mitaka database migrations

Specific changes include:

- Add 'request_specs' table (004)
- Add 'flavors', 'flavor_extra_specs' and 'flavor_projects' tables (005)
- Add 'build_requests' table (006)
- Alter 'cell_id' column of 'instance_mappings' table to be nullable
  (007)

Change-Id: I1b6be3eb61f3e21da69a42ea32a19ce373b0a898
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/759400/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/004_add_request_spec.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_instance_mapping_nullable_cellid.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/006_build_request.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/005_flavors.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_liberty.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/007_mitaka.py', 'nova/tests/functional/db/api/test_migrations.py']",8,0b4bc846cdd32a5918006cb908001c8b8ece0c45,bp/compact-db-migrations-wallaby,," def _check_004(self, engine, data): columns = ['created_at', 'updated_at', 'id', 'instance_uuid', 'spec'] for column in columns: self.assertColumnExists(engine, 'request_specs', column) self.assertUniqueConstraintExists(engine, 'request_specs', ['instance_uuid']) self.assertIndexExists(engine, 'request_specs', 'request_spec_instance_uuid_idx') def _check_005(self, engine, data): # flavors for column in ['created_at', 'updated_at', 'name', 'id', 'memory_mb', 'vcpus', 'swap', 'vcpu_weight', 'flavorid', 'rxtx_factor', 'root_gb', 'ephemeral_gb', 'disabled', 'is_public']: self.assertColumnExists(engine, 'flavors', column) self.assertUniqueConstraintExists(engine, 'flavors', ['flavorid']) self.assertUniqueConstraintExists(engine, 'flavors', ['name']) # flavor_extra_specs for column in ['created_at', 'updated_at', 'id', 'flavor_id', 'key', 'value']: self.assertColumnExists(engine, 'flavor_extra_specs', column) self.assertIndexExists(engine, 'flavor_extra_specs', 'flavor_extra_specs_flavor_id_key_idx') self.assertUniqueConstraintExists(engine, 'flavor_extra_specs', ['flavor_id', 'key']) inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('flavor_extra_specs')[0] self.assertEqual('flavors', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['flavor_id'], fk['constrained_columns']) # flavor_projects for column in ['created_at', 'updated_at', 'id', 'flavor_id', 'project_id']: self.assertColumnExists(engine, 'flavor_projects', column) self.assertUniqueConstraintExists(engine, 'flavor_projects', ['flavor_id', 'project_id']) inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('flavor_projects')[0] self.assertEqual('flavors', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['flavor_id'], fk['constrained_columns']) def _check_006(self, engine, data): for column in ['id', 'request_spec_id', 'project_id', 'user_id', 'display_name', 'instance_metadata', 'progress', 'vm_state', 'image_ref', 'access_ip_v4', 'access_ip_v6', 'info_cache', 'security_groups', 'config_drive', 'key_name', 'locked_by']: self.assertColumnExists(engine, 'build_requests', column) self.assertIndexExists(engine, 'build_requests', 'build_requests_project_id_idx') self.assertUniqueConstraintExists(engine, 'build_requests', ['request_spec_id']) inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('build_requests')[0] self.assertEqual('request_specs', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['request_spec_id'], fk['constrained_columns']) def _check_007(self, engine, data): map_table = db_utils.get_table(engine, 'instance_mappings') self.assertTrue(map_table.columns['cell_id'].nullable) # Ensure the foreign key still exists inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('instance_mappings')[0] self.assertEqual('cell_mappings', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['cell_id'], fk['constrained_columns']) ",192,379
openstack%2Fpython-blazarclient~master~Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,openstack/python-blazarclient,master,Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583,Remove use of mock.seal(),MERGED,2021-02-23 14:11:38.000000000,2021-03-01 16:30:39.000000000,2021-03-01 16:30:39.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2021-02-23 14:11:38.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_leases.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/1db6cb37c6b32c6b3b664fedccd814bb79c1c044', 'message': 'Remove use of mock.seal()\n\nThe seal function was introduced in unittest.mock in Python 3.7. It is\npreventing us from using unittest.mock instead of mock.\n\nWe can restore it when the minimum runtime is Python 3.7 or later.\n\nChange-Id: Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583\n'}]",0,777114,1db6cb37c6b32c6b3b664fedccd814bb79c1c044,7,3,1,15197,,,0,"Remove use of mock.seal()

The seal function was introduced in unittest.mock in Python 3.7. It is
preventing us from using unittest.mock instead of mock.

We can restore it when the minimum runtime is Python 3.7 or later.

Change-Id: Ieb26af07da0c4084fb8c4ea2c4d461eb5595f583
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/14/777114/1 && git format-patch -1 --stdout FETCH_HEAD,['blazarclient/tests/v1/shell_commands/test_leases.py'],1,1db6cb37c6b32c6b3b664fedccd814bb79c1c044,,, mock.seal(lease_manager) mock.seal(lease_manager) mock.seal(lease_manager) mock.seal(lease_manager),0,4
openstack%2Fkolla~master~Ic8b427893b0d865bc3757598eb7a514854f898c2,openstack/kolla,master,Ic8b427893b0d865bc3757598eb7a514854f898c2,neutron-server: stop pinning networking-hyperv,ABANDONED,2021-03-01 13:16:51.000000000,2021-03-01 16:27:30.000000000,,[],"[{'number': 1, 'created': '2021-03-01 13:16:51.000000000', 'files': ['docker/neutron/neutron-server/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/412f15ccba07b3a1186526ae6db917d9724b0a3e', 'message': 'neutron-server: stop pinning networking-hyperv\n\nPike release was long time ago so maybe it is time to unpin it?\n\ncommit 6dc8e978462fd08122133e273ae956721997d3af\nAuthor: Dan Ardelean <dardelean@cloudbasesolutions.com>\nDate:   Mon Aug 28 12:56:25 2017 +0300\n\n    Change networking-hyperv version for Pike\n\nChange-Id: Ic8b427893b0d865bc3757598eb7a514854f898c2\n'}]",0,777993,412f15ccba07b3a1186526ae6db917d9724b0a3e,4,0,1,24072,,,0,"neutron-server: stop pinning networking-hyperv

Pike release was long time ago so maybe it is time to unpin it?

commit 6dc8e978462fd08122133e273ae956721997d3af
Author: Dan Ardelean <dardelean@cloudbasesolutions.com>
Date:   Mon Aug 28 12:56:25 2017 +0300

    Change networking-hyperv version for Pike

Change-Id: Ic8b427893b0d865bc3757598eb7a514854f898c2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/93/777993/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-server/Dockerfile.j2'],1,412f15ccba07b3a1186526ae6db917d9724b0a3e,, 'networking-hyperv'," '""networking-hyperv>=5.0.0,<6.0.0""'",1,1
openstack%2Foslo.versionedobjects~stable%2Fvictoria~Ied61e65006ad54803453776e763594e216be1353,openstack/oslo.versionedobjects,stable/victoria,Ied61e65006ad54803453776e763594e216be1353,Dropping lower constraints testing,MERGED,2021-02-19 09:48:41.000000000,2021-03-01 16:22:22.000000000,2021-03-01 16:09:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-19 09:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/0755e99cda0db69aef7b4345cd6ae6d8cb36a3e3', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nThis change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a\nwhich removes the lower-constraints.txt file and its references, and\nwhich completes this change.\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\nThey come from the change in the version-specific job template for unit tests,\nand a few version-specific changes in lower-contraints.txt.\n\nChange-Id: Ied61e65006ad54803453776e763594e216be1353\n(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)\n'}, {'number': 2, 'created': '2021-03-01 12:16:54.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/8b3deb7b5adfed68b2f2d742743383f5f8503e82', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nThis change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a\nwhich removes the lower-constraints.txt file and its references, and\nwhich completes this change, as suggested by hberaud.\n\nConflicts:\n        .zuul.yaml\n        lower-constraints.txt\nThey come from the change in the version-specific job template for unit tests,\nand a few version-specific changes in lower-contraints.txt.\n\nChange-Id: Ied61e65006ad54803453776e763594e216be1353\n(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)\n'}]",0,776593,8b3deb7b5adfed68b2f2d742743383f5f8503e82,12,3,2,10459,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

This change includes a backport of I2baa6d318cdbbf86da86cc94171cc7714dbdba3a
which removes the lower-constraints.txt file and its references, and
which completes this change, as suggested by hberaud.

Conflicts:
        .zuul.yaml
        lower-constraints.txt
They come from the change in the version-specific job template for unit tests,
and a few version-specific changes in lower-contraints.txt.

Change-Id: Ied61e65006ad54803453776e763594e216be1353
(cherry picked from commit e8062fc9e3e6b43c426bdba1d8425ee8635ba976)
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/93/776593/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,0755e99cda0db69aef7b4345cd6ae6d8cb36a3e3,oslo_lc_drop,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,76
openstack%2Fsushy-tools~master~Ica78dab39639d7acb2168866b0035f9c3d865fa1,openstack/sushy-tools,master,Ica78dab39639d7acb2168866b0035f9c3d865fa1,New option to prevent libvirt defining boot order,MERGED,2021-02-19 15:31:57.000000000,2021-03-01 16:09:08.000000000,2021-03-01 14:37:53.000000000,"[{'_account_id': 1926}, {'_account_id': 4328}, {'_account_id': 11655}, {'_account_id': 14352}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 15:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/eb4f9a5beb680c73067d754d5c55f1b22a99d8e3', 'message': 'New option to prevent libvirt defining boot order\n\nAdd a new config option ""SUSHY_EMULATOR_IGNORE_BOOT_DEVICE"".\nInstructs the libvirt driver to ignore any instructions to\nset the boot device. Allowing the UEFI firmware to instead\nrely on the EFI Boot Manager\n\nChange-Id: Ica78dab39639d7acb2168866b0035f9c3d865fa1\n'}, {'number': 2, 'created': '2021-02-25 11:18:22.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/02b451b500f19fbb3f9d3617f2e703974c054198', 'message': 'New option to prevent libvirt defining boot order\n\nAdd a new config option ""SUSHY_EMULATOR_IGNORE_BOOT_DEVICE"".\nInstructs the libvirt driver to ignore any instructions to\nset the boot device. Allowing the UEFI firmware to instead\nrely on the EFI Boot Manager\n\nChange-Id: Ica78dab39639d7acb2168866b0035f9c3d865fa1\n'}]",0,776660,02b451b500f19fbb3f9d3617f2e703974c054198,18,6,2,1926,,,0,"New option to prevent libvirt defining boot order

Add a new config option ""SUSHY_EMULATOR_IGNORE_BOOT_DEVICE"".
Instructs the libvirt driver to ignore any instructions to
set the boot device. Allowing the UEFI firmware to instead
rely on the EFI Boot Manager

Change-Id: Ica78dab39639d7acb2168866b0035f9c3d865fa1
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/60/776660/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py']",3,eb4f9a5beb680c73067d754d5c55f1b22a99d8e3,," @mock.patch('libvirt.open', autospec=True) def test_set_boot_device_ignored(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/' 'domain_boot_os.xml', 'r') as f: data = f.read() conn_mock = libvirt_mock.return_value domain_mock = conn_mock.lookupByUUID.return_value domain_mock.XMLDesc.return_value = data self.test_driver.SUSHY_EMULATOR_IGNORE_BOOT_DEVICE = True self.test_driver.set_boot_device(self.uuid, 'Hdd') conn_mock.defineXML.assert_called_once_with(mock.ANY) tree = ET.fromstring(conn_mock.defineXML.call_args[0][0]) self.assertEqual(1, len(tree.findall('.//boot'))) os_element = tree.find('os') boot_element = os_element.find('boot') self.assertEqual('fd', boot_element.get('dev')) ",,51,9
openstack%2Fkolla-ansible~master~I9ce8c01ff7c62ed15d872038229013ec8e301b04,openstack/kolla-ansible,master,I9ce8c01ff7c62ed15d872038229013ec8e301b04,[DNM] test swift deploy 1,ABANDONED,2021-02-25 19:25:26.000000000,2021-03-01 16:08:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-25 19:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64e4d37dd0f490eabea41f0672c637604e797851', 'message': '[DNM] test swift deploy 2\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I9ce8c01ff7c62ed15d872038229013ec8e301b04\n'}, {'number': 2, 'created': '2021-02-25 19:26:36.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c682c2b40c9e271fd82eca5ae0dd75216f78825', 'message': '[DNM] test swift deploy 1\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I9ce8c01ff7c62ed15d872038229013ec8e301b04\n(cherry picked from commit 64e4d37dd0f490eabea41f0672c637604e797851)\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,777656,1c682c2b40c9e271fd82eca5ae0dd75216f78825,7,1,2,14200,,,0,"[DNM] test swift deploy 1

Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Change-Id: I9ce8c01ff7c62ed15d872038229013ec8e301b04
(cherry picked from commit 64e4d37dd0f490eabea41f0672c637604e797851)
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/777656/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,64e4d37dd0f490eabea41f0672c637604e797851,swift-s3api-test,"enable_swift: ""yes"" enable_swift_s3api: ""yes""","enable_swift: ""no"" enable_swift_s3api: ""no""",2,2
openstack%2Fopenstack-helm-infra~master~Idd4180993775807ebcef3e7879afb2f8ab42148c,openstack/openstack-helm-infra,master,Idd4180993775807ebcef3e7879afb2f8ab42148c,Update elasticsearch chart releasenotes to latest,MERGED,2021-02-26 01:04:32.000000000,2021-03-01 16:07:38.000000000,2021-03-01 16:05:02.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 01:04:32.000000000', 'files': ['releasenotes/notes/elasticsearch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab4989fd176d0171eb86784b17fcd1d98ec81a3b', 'message': 'Update elasticsearch chart releasenotes to latest\n\nThis change updates the releasenotes for the elasticsearch chart to the latest version of the chart as of this patchset.\n\nChange-Id: Idd4180993775807ebcef3e7879afb2f8ab42148c\n'}]",0,777703,ab4989fd176d0171eb86784b17fcd1d98ec81a3b,9,4,1,30449,,,0,"Update elasticsearch chart releasenotes to latest

This change updates the releasenotes for the elasticsearch chart to the latest version of the chart as of this patchset.

Change-Id: Idd4180993775807ebcef3e7879afb2f8ab42148c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/777703/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/elasticsearch.yaml'],1,ab4989fd176d0171eb86784b17fcd1d98ec81a3b,elasticsearch-reno, - 0.1.6 Fix elasticsearch-master rendering error,,1,0
openstack%2Foslo.messaging~stable%2Fvictoria~Id5cddbefbe24ef100f1cc522f44430df77d217cb,openstack/oslo.messaging,stable/victoria,Id5cddbefbe24ef100f1cc522f44430df77d217cb,Correctly handle missing RabbitMQ queues,MERGED,2021-02-18 10:47:17.000000000,2021-03-01 16:04:11.000000000,2021-03-01 16:01:27.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 10:47:17.000000000', 'files': ['releasenotes/notes/handle-missing-queue-553a803f94976be7.yaml', 'oslo_messaging/_drivers/amqpdriver.py', 'doc/source/admin/rabbit.rst', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/391ce7fc69adc8d713d8ca64e76d901eb3e65df1', 'message': ""Correctly handle missing RabbitMQ queues\n\nCurrently, setting the '[oslo_messaging] direct_mandatory_flag' config\noption to 'True' (the default) will result in a 'MessageUndeliverable'\nexception being raised when sending a reply if a RabbitMQ queue is\nmissing [1]. It was the responsibility of the application to handle\nthis exception, however, many applications are not doing so. This has\nresulted in a number of bug reports.\n\nStart handling this error condition, using a retry loop to attempt to\nresend the message and work around any temporary glitches. Since\nattempting to send a reply will will no longer raise an exception,\nthere is little benefit in retaining the '[oslo_messaging]\ndirect_mandatory_flag' config option: users setting this to False will\nsimply not benefit from the retry logic and improved logging added\nhere. This option is already deprecated though and will be fully\nremoved in a future release.\n\n[1] https://www.rabbitmq.com/channels.html\n\nChange-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb\nCloses-Bug: #1905965\n(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)\n""}]",0,776418,391ce7fc69adc8d713d8ca64e76d901eb3e65df1,10,3,1,28522,,,0,"Correctly handle missing RabbitMQ queues

Currently, setting the '[oslo_messaging] direct_mandatory_flag' config
option to 'True' (the default) will result in a 'MessageUndeliverable'
exception being raised when sending a reply if a RabbitMQ queue is
missing [1]. It was the responsibility of the application to handle
this exception, however, many applications are not doing so. This has
resulted in a number of bug reports.

Start handling this error condition, using a retry loop to attempt to
resend the message and work around any temporary glitches. Since
attempting to send a reply will will no longer raise an exception,
there is little benefit in retaining the '[oslo_messaging]
direct_mandatory_flag' config option: users setting this to False will
simply not benefit from the retry logic and improved logging added
here. This option is already deprecated though and will be fully
removed in a future release.

[1] https://www.rabbitmq.com/channels.html

Change-Id: Id5cddbefbe24ef100f1cc522f44430df77d217cb
Closes-Bug: #1905965
(cherry picked from commit 4937949dffecdf8863a7876e5a6b0b18e811c3ac)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/18/776418/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/handle-missing-queue-553a803f94976be7.yaml', 'oslo_messaging/_drivers/amqpdriver.py', 'doc/source/admin/rabbit.rst', 'oslo_messaging/_drivers/impl_rabbit.py']",4,391ce7fc69adc8d713d8ca64e76d901eb3e65df1,backport-mandatory-to-victoria, 'MessageUndeliverable exception will be used to loop for a ' 'timeout to lets a chance to sender to recover.',,60,23
openstack%2Fmagnum~stable%2Fvictoria~I51659c6e179d7e4e2cfc5be46348fac483d76e3b,openstack/magnum,stable/victoria,I51659c6e179d7e4e2cfc5be46348fac483d76e3b,Do not create constraints for boolean fields,MERGED,2021-03-01 11:54:42.000000000,2021-03-01 15:53:54.000000000,2021-03-01 15:52:06.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-01 11:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/907fa819dc174e6da3f68afe2591ee7b93994949', 'message': 'Do not create constraints for boolean fields\n\nOn mysql 8, Boolean fields create constraints which later\nmake it impossible to alter the name of the column.\nSee: https://github.com/sqlalchemy/alembic/issues/699\n\nPer upstream alembic recommendation, do not create constraints\nexplicitly.\nhttps://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057\n\nstory: 2008488\ntask: 41537\n\nChange-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)\n'}, {'number': 2, 'created': '2021-03-01 12:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/89a115676c95573db958f705f9887b23655e5bef', 'message': 'Do not create constraints for boolean fields\n\nOn mysql 8, Boolean fields create constraints which later\nmake it impossible to alter the name of the column.\nSee: https://github.com/sqlalchemy/alembic/issues/699\n\nPer upstream alembic recommendation, do not create constraints\nexplicitly.\nhttps://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057\n\nstory: 2008488\ntask: 41537\n\nChange-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)\n'}, {'number': 3, 'created': '2021-03-01 12:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/15b2694fbddb5e105a7f26e96f15e66a2ed493fb', 'message': 'Do not create constraints for boolean fields\n\nOn mysql 8, Boolean fields create constraints which later\nmake it impossible to alter the name of the column.\nSee: https://github.com/sqlalchemy/alembic/issues/699\n\nPer upstream alembic recommendation, do not create constraints\nexplicitly.\nhttps://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057\n\nstory: 2008488\ntask: 41537\n\nChange-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)\n'}, {'number': 4, 'created': '2021-03-01 12:18:43.000000000', 'files': ['magnum/db/sqlalchemy/alembic/versions/2ae93c9c6191_add_public_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py', 'magnum/db/sqlalchemy/alembic/versions/ac92cbae311c_add_nodegoup_table.py', 'magnum/db/sqlalchemy/alembic/versions/5ad410481b88_rename_insecure.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py', 'magnum/db/sqlalchemy/alembic/versions/4e263f236334_add_registry_enabled.py', 'releasenotes/notes/migrations-1.3.20-60e5f990422f2ca5.yaml', 'magnum/db/sqlalchemy/alembic/versions/87e62e3c7abc_add_hidden_to_cluster_template.py', 'magnum/db/sqlalchemy/alembic/versions/68ce16dfd341_add_master_lb_enabled_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/27ad304554e2_adding_magnum_service_functionality.py', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/b1f612248cab_add_floating_ip_enabled_column_to_.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/210984fa264af876201b0099a8b7153fa09c5856', 'message': 'Do not create constraints for boolean fields\n\nOn mysql 8, Boolean fields create constraints which later\nmake it impossible to alter the name of the column.\nSee: https://github.com/sqlalchemy/alembic/issues/699\n\nPer upstream alembic recommendation, do not create constraints\nexplicitly.\nhttps://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057\n\nstory: 2008488\ntask: 41537\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)\n\nFix database migrations\n\nThe pattern of adding a column and then reading a table with it\nno longer works in SQLAlchemy 1.3.20. This has been reported\nupstream [1].\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669\n\nsquashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b\n(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)\n\nChange-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b\n'}]",2,777910,210984fa264af876201b0099a8b7153fa09c5856,13,4,4,28022,,,0,"Do not create constraints for boolean fields

On mysql 8, Boolean fields create constraints which later
make it impossible to alter the name of the column.
See: https://github.com/sqlalchemy/alembic/issues/699

Per upstream alembic recommendation, do not create constraints
explicitly.
https://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057

story: 2008488
task: 41537

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)

Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

squashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)

Change-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/777910/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/alembic/versions/2ae93c9c6191_add_public_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py', 'magnum/db/sqlalchemy/alembic/versions/ac92cbae311c_add_nodegoup_table.py', 'magnum/db/sqlalchemy/alembic/versions/5ad410481b88_rename_insecure.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py', 'magnum/db/sqlalchemy/alembic/versions/4e263f236334_add_registry_enabled.py', 'magnum/db/sqlalchemy/alembic/versions/87e62e3c7abc_add_hidden_to_cluster_template.py', 'magnum/db/sqlalchemy/alembic/versions/68ce16dfd341_add_master_lb_enabled_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/27ad304554e2_adding_magnum_service_functionality.py', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/b1f612248cab_add_floating_ip_enabled_column_to_.py']",12,907fa819dc174e6da3f68afe2591ee7b93994949,story/2008488," sa.Boolean(create_constraint=False),"," sa.Boolean(),",37,14
openstack%2Fcharm-swift-storage~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,openstack/charm-swift-storage,master,I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470,Fix swift replication errors,MERGED,2020-12-02 15:32:44.000000000,2021-03-01 15:51:27.000000000,2021-03-01 15:51:27.000000000,"[{'_account_id': 8992}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 15:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/bb530bc584601b75440eca7b71abc901014d6d61', 'message': 'The fix\n\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 2, 'created': '2020-12-02 19:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/f79fbfeb14e6e444615ece9d3db4ea4d6fcfac22', 'message': 'Fix charm port replication settings\n\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 3, 'created': '2020-12-02 19:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/289e089e44dc821963a5d229a5a2ade03aa47057', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 4, 'created': '2020-12-03 23:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d963dc111d4c1113321ec1bcc9832436012cf3e6', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 5, 'created': '2020-12-10 13:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/e2084dbf4c2740ce821702f9403c26bd5701305f', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 6, 'created': '2020-12-14 15:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/26ce8b28fa7956e4d5492bf2977bffebec0d6f1a', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 7, 'created': '2020-12-15 00:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/99f1a95c89fb734d07e05a295bbb54e1fc157b14', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 8, 'created': '2020-12-15 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/8ec48eb58d7ae664dc7b5d552710248072b4c9cc', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}, {'number': 9, 'created': '2021-01-05 14:35:12.000000000', 'files': ['unit_tests/test_swift_storage_context.py', 'lib/swift_storage_context.py', 'templates/object-server-replicator.conf', 'unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/4337b753f5899377b93258f2a631b394fde221cd', 'message': 'Fix swift replication errors\n\nThere are several errors related to the swift replication service.\nThe swift storage charm is not properly restarting the services\nafter configuration changes, the correct object_lockup_timeout\nvalue (that per the behaviour observerd in our environments must\nbe greater than object_rsync_timeout) and we also needed to fix\nthe object replicator config file to honor the\nobject-handoffs-first configuration.\n\nThis patch along with the swift proxy-change should fix the\ncurrently known replication problems.\n\nCloses-bug: #1903762\nDepends-on: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470\n'}]",21,765158,4337b753f5899377b93258f2a631b394fde221cd,43,5,9,10058,,,0,"Fix swift replication errors

There are several errors related to the swift replication service.
The swift storage charm is not properly restarting the services
after configuration changes, the correct object_lockup_timeout
value (that per the behaviour observerd in our environments must
be greater than object_rsync_timeout) and we also needed to fix
the object replicator config file to honor the
object-handoffs-first configuration.

This patch along with the swift proxy-change should fix the
currently known replication problems.

Closes-bug: #1903762
Depends-on: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324c8470
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/58/765158/9 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift_storage_utils.py'],1,bb530bc584601b75440eca7b71abc901014d6d61,bug/1903762," '/etc/swift/account-server.conf': ACCOUNT_SVCS + ACCOUNT_SVCS_REP, '/etc/swift/account-server/account-server-replicator.conf': ACCOUNT_SVCS + ACCOUNT_SVCS_REP, '/etc/swift/container-server.conf': CONTAINER_SVCS + CONTAINER_SVCS_REP, '/etc/swift/container-server/container-server-replicator.conf': CONTAINER_SVCS + CONTAINER_SVCS_REP, '/etc/swift/object-server.conf': OBJECT_SVCS + OBJECT_SVCS_REP, '/etc/swift/object-server/object-server-replicator.conf': OBJECT_SVCS + OBJECT_SVCS_REP, config('account-server-port'), config('object-server-port-rep'), config('container-server-port-rep'), config('account-server-port-rep')]","# TODO(erlon): Re-test and think about the map '/etc/swift/account-server.conf': ACCOUNT_SVCS, '/etc/swift/account-server/replicator.conf': ACCOUNT_SVCS_REP, '/etc/swift/container-server.conf': CONTAINER_SVCS, '/etc/swift/container-server/replicator.conf': CONTAINER_SVCS_REP, '/etc/swift/object-server.conf': OBJECT_SVCS, '/etc/swift/object-server/replicator.conf': OBJECT_SVCS_REP, config('account-server-port')]",10,8
openstack%2Fsushy~master~Id35d5b3c1d09718d05f6b2e470412d76d60b5198,openstack/sushy,master,Id35d5b3c1d09718d05f6b2e470412d76d60b5198,Initial support for secure boot databases,MERGED,2021-02-01 14:04:15.000000000,2021-03-01 15:45:54.000000000,2021-03-01 15:43:07.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-01 14:04:15.000000000', 'files': ['sushy/tests/unit/resources/system/test_secure_boot_database.py', 'sushy/resources/system/constants.py', 'sushy/resources/system/secure_boot_database.py', 'sushy/resources/system/secure_boot.py', 'sushy/tests/unit/json_samples/secure_boot_database_collection.json', 'sushy/tests/unit/resources/system/test_secure_boot.py', 'releasenotes/notes/secure-boot-database-7fae673722d7cf4f.yaml', 'sushy/tests/unit/json_samples/secure_boot_database.json', 'sushy/resources/system/mappings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/4abea1879fb2296b42590b2235a219e5f0a81d76', 'message': 'Initial support for secure boot databases\n\nChange-Id: Id35d5b3c1d09718d05f6b2e470412d76d60b5198\n'}]",0,773397,4abea1879fb2296b42590b2235a219e5f0a81d76,9,3,1,10239,,,0,"Initial support for secure boot databases

Change-Id: Id35d5b3c1d09718d05f6b2e470412d76d60b5198
",git fetch https://review.opendev.org/openstack/sushy refs/changes/97/773397/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/constants.py', 'sushy/tests/unit/resources/system/test_secure_boot_database.py', 'sushy/resources/system/secure_boot.py', 'sushy/resources/system/secure_boot_database.py', 'sushy/tests/unit/json_samples/secure_boot_database_collection.json', 'sushy/tests/unit/resources/system/test_secure_boot.py', 'releasenotes/notes/secure-boot-database-7fae673722d7cf4f.yaml', 'sushy/tests/unit/json_samples/secure_boot_database.json', 'sushy/resources/system/mappings.py']",9,4abea1879fb2296b42590b2235a219e5f0a81d76,secure-boot," SECURE_BOOT_DATABASE_TYPE = { 'PK': sys_cons.SECURE_BOOT_PLATFORM_KEY, 'KEK': sys_cons.SECURE_BOOT_KEY_EXCHANGE_KEYS, 'db': sys_cons.SECURE_BOOT_ALLOWED_KEYS_DATABASE, 'dbx': sys_cons.SECURE_BOOT_DENIED_KEYS_DATABASE, 'dbr': sys_cons.SECURE_BOOT_RECOVERY_KEYS_DATABASE, 'dbt': sys_cons.SECURE_BOOT_TIMESTAMP_DATABASE, 'PKDefault': sys_cons.SECURE_BOOT_DEFAULT_PLATFORM_KEY, 'KEKDefault': sys_cons.SECURE_BOOT_DEFAULT_KEY_EXCHANGE_KEYS, 'dbDefault': sys_cons.SECURE_BOOT_DEFAULT_ALLOWED_KEYS_DATABASE, 'dbxDefault': sys_cons.SECURE_BOOT_DEFAULT_DENIED_KEYS_DATABASE, 'dbrDefault': sys_cons.SECURE_BOOT_DEFAULT_RECOVERY_KEYS_DATABASE, 'dbtDefault': sys_cons.SECURE_BOOT_DEFAULT_TIMESTAMP_DATABASE, } SECURE_BOOT_DATABASE_TYPE_REV = utils.revert_dictionary( SECURE_BOOT_DATABASE_TYPE) SECURE_BOOT_DATABASE_RESET_KEYS = { 'ResetAllKeysToDefault': sys_cons.SECURE_BOOT_RESET_KEYS_TO_DEFAULT, 'DeleteAllKeys': sys_cons.SECURE_BOOT_RESET_KEYS_DELETE_ALL, } SECURE_BOOT_DATABASE_RESET_KEYS_REV = utils.revert_dictionary( SECURE_BOOT_DATABASE_RESET_KEYS)",,395,3
openstack%2Fcharm-swift-proxy~master~I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,openstack/charm-swift-proxy,master,I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0,Fix swift port replication configuration,MERGED,2020-12-02 15:35:37.000000000,2021-03-01 15:42:38.000000000,2021-03-01 14:25:27.000000000,"[{'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-02 15:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/36aba4506d666ebfc22a1a182845b162e96ba2a5', 'message': 'The fix\n\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 2, 'created': '2020-12-02 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2b810f18acbdd18c17dc91f956e656b4829deb31', 'message': 'The fix\n\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 3, 'created': '2020-12-02 19:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f4d9f7cfb5519045a19fc5d68f31f6c6819959fb', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 4, 'created': '2020-12-03 23:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a355a47801845c9490b395cdce329630243ce2eb', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 5, 'created': '2020-12-10 13:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b1f288ecebc22455fff4a2719e13ba7d8e29c9f9', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 6, 'created': '2020-12-14 15:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d711f07eec32cedc5dfcb059b27f3489f5c896b5', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 7, 'created': '2020-12-15 00:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/bf9f297809fcb9566e0e264437428f016eb7ed39', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 8, 'created': '2020-12-15 12:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6fd7832a0503ed29f239acb4bf35c1705c63add9', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed\nin the swift-storage charm,  swift-storage changes the\nrelated configs in the config files, but that does not\nupdate the ring files.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 9, 'created': '2021-01-05 14:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/43846a549e373c6939910f4b29c6cfb97b2cc896', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 10, 'created': '2021-01-05 19:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/5b7531afefffc3f2f5c4f25da6bf65f6f5926a77', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 11, 'created': '2021-01-05 19:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/3d89d843d5e4b8460e5e1d0af40d14d005ddcd87', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 12, 'created': '2021-01-26 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/017bc20538eeb63b6273979633b2360de861b649', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 13, 'created': '2021-01-26 17:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/121e5f54a9d8e8b50652781ca03b12e94bd57888', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}, {'number': 14, 'created': '2021-01-26 18:53:24.000000000', 'files': ['lib/swift_utils.py', 'unit_tests/test_swift_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/498d3b0f1e8e3627de50ed44ab7793af595f4b0e', 'message': 'Fix swift port replication configuration\n\nPort replication configs are not being set into the ring files.\nWhen replication port configs\n(account|container|object)-server-port-rep, are changed in the\nswift-storage charm, swift-storage changes the related configs in\nthe config files, but that does not update the rings.\n\nThis patch adds a function that runs in every config-change\ntriggered from the swift-storage nodes and make sure any replication\nconfig is written to the ring and distributed to all nodes.\n\nPartial-bug: #1903762\nChange-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0\n'}]",23,765161,498d3b0f1e8e3627de50ed44ab7793af595f4b0e,68,6,14,10058,,,0,"Fix swift port replication configuration

Port replication configs are not being set into the ring files.
When replication port configs
(account|container|object)-server-port-rep, are changed in the
swift-storage charm, swift-storage changes the related configs in
the config files, but that does not update the rings.

This patch adds a function that runs in every config-change
triggered from the swift-storage nodes and make sure any replication
config is written to the ring and distributed to all nodes.

Partial-bug: #1903762
Change-Id: I87eb23de94e3f2f5b06d44df1f8bd9d2324456a0
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/61/765161/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/swift_hooks.py', 'lib/swift_utils.py']",2,36aba4506d666ebfc22a1a182845b162e96ba2a5,bug/1903762,"def update_ring_node_ports(ring_name, ring_path, nodes): """""" Updates ring port and replication for each device node :param ring_name: account, container or object :type ring_name: str :param ring_path: path to the ring :type ring_path: str :param nodes: list of device nodes :type ring_path: list of dicts :raises: SwiftProxyCharmException """""" log(""Updating ports and replication ports for {} ring."".format(ring_name), level=INFO) port_field_name = ""%s_port"" % ring_name portrep_field_name = ""%s_port_rep"" % ring_name for node in nodes: cmd = ['swift-ring-builder', ring_path, 'set_info', '--ip', node['ip'], '--replication-ip', node['ip_rep'], '--device', node['device'], '--change-port', str(node[port_field_name]), '--change-replication-port', str(node[portrep_field_name])] try: subprocess.check_call(cmd) except subprocess.CalledProcessError as e: raise SwiftProxyCharmException( ""Failed to update device (host={}, rep_host={}, "" ""dev_name={}) on {} ring: {}"".format( node['ip'], node['ip_rep'], node['device'], ring_name, e)) # Updates the ring with the builder contents even if re-balance is not # needed. That makes sure that ports and replication ports changes are # written into the ring. See Bug #1903762. write_rings() @sync_builders_and_rings_if_changed def write_rings(): """"""Write any change to builder files to the rings"""""" if not is_elected_leader(SWIFT_HA_RES): log(""Balance rings called by non-leader - skipping"", level=WARNING) return log(""Writing rings from builder files"", level=INFO) for path in SWIFT_RINGS.values(): cmd = ['swift-ring-builder', path, 'write_ring'] try: subprocess.check_call(cmd) except subprocess.CalledProcessError: raise SwiftProxyCharmException( ""Failed to set write ring {}"".format(path))",,58,0
openstack%2Fpython-ironicclient~master~Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,openstack/python-ironicclient,master,Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a,Add tests for 'baremetal port create' command,MERGED,2016-06-22 15:45:14.000000000,2021-03-01 15:39:03.000000000,2021-03-01 15:35:15.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13636}, {'_account_id': 14614}, {'_account_id': 15784}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-22 15:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ce0630ea175c3afdd48f542ddf58b3c386c15ea8', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 2, 'created': '2016-06-22 16:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8d022001280308f496b1e41538a4db2411b5be2a', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 3, 'created': '2016-06-23 11:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/85cdbd5ac28362c4c541389b4e41437295cfc797', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 4, 'created': '2016-06-23 12:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/4167ef84792a704ae2feed85d8b4ddafbe9db1d6', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 5, 'created': '2016-06-23 13:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/cebbbbd818fef874276c9bf30c00d01413ccaa87', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 6, 'created': '2016-06-24 09:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b2ef65fdaba839a608a2c2ce895edc9aff0b9c14', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 7, 'created': '2016-07-06 16:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/65930b1d2736b33e2e07c72a26920e9cb5bfecd3', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 8, 'created': '2016-07-07 12:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5df6263e8d68f0198ea02db7cff006442a3be5e8', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 9, 'created': '2016-08-01 15:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8ea8ddd96fa5ba2eed83e752d0ec93e3de6b5d71', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\n""}, {'number': 10, 'created': '2016-08-01 15:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f14c34720323e412ca956fd0ab84d53a356d3d33', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 11, 'created': '2016-09-01 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d8681efefbd6586305baa305f1b10ad8ca9743f4', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 12, 'created': '2016-10-04 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/e87fff98f4e5d8460a86bbb7758ec267279bd4d3', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 13, 'created': '2016-10-04 14:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f244e50fb830a2d589372c0336e29582794eb4ca', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 14, 'created': '2016-10-04 14:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/fd40d37696371f818b8f1654fc053ea134f60903', 'message': ""Add test for 'baremetal port create' command\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 15, 'created': '2016-10-04 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c5cfc8bb79a244f793cf725027358590f1be7d29', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 16, 'created': '2016-10-05 10:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f10fae5c6470e99cab0bf9b288674662c130fba0', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 17, 'created': '2016-10-05 16:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/783ca0d08fbd210ec36dc444bb110070873a44d0', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 18, 'created': '2016-11-17 15:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/35846041824d9d835323f957dd4315f36feedfd3', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 19, 'created': '2017-02-16 17:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3db3cc588b7c1349dbe420d8038ff7a8e493c223', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 20, 'created': '2017-07-06 11:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c47b4a7bedb6fa80e6d37a80fda7077406c7645f', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 21, 'created': '2017-07-06 12:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ae94f6a445c61eeab6ceca001293ec05a913d2fc', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 22, 'created': '2017-08-07 08:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bb080cab5be21822fbb26e5efa9839055aca6a80', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 23, 'created': '2017-08-07 12:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1ec3d7042f5af4248a51865d8c0fcf5b90f2df29', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 24, 'created': '2017-08-07 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/5c37787d65a4928a474aacfcdbff6094c99efc1f', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}, {'number': 25, 'created': '2020-09-08 08:36:40.000000000', 'files': ['ironicclient/tests/functional/osc/v1/test_baremetal_port_create.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f8af1df9e6891d2a676378e433a1d8c363e072e2', 'message': ""Add tests for 'baremetal port create' command\n\nAdd tests for options:\n    --extra\n    --pxe-enabled\n    --local-link-connection\n\nChange-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a\nPartial-Bug: #1566329\n""}]",9,332880,f8af1df9e6891d2a676378e433a1d8c363e072e2,73,8,25,14614,,,0,"Add tests for 'baremetal port create' command

Add tests for options:
    --extra
    --pxe-enabled
    --local-link-connection

Change-Id: Idf70f8b24df6439a6a4ece9c840d904a4bcb8a8a
Partial-Bug: #1566329
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/80/332880/16 && git format-patch -1 --stdout FETCH_HEAD,[],0,ce0630ea175c3afdd48f542ddf58b3c386c15ea8,bug/1566329,,,0,0
openstack%2Fironic-lib~master~I743ce53d5e5d82401173eb7189e90531f3ee138e,openstack/ironic-lib,master,I743ce53d5e5d82401173eb7189e90531f3ee138e,Explicit execute arguments,MERGED,2021-02-25 14:00:44.000000000,2021-03-01 15:38:15.000000000,2021-03-01 15:34:49.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 14:00:44.000000000', 'files': ['ironic_lib/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0ae0ca98dc605fb495bb1679a229ee1edad52bdf', 'message': 'Explicit execute arguments\n\nThe use_standard_locale and log_stdout arguments are not passed to\nprocessutils.execute, they should be keyword arguments of the execute\nfunction.\n\nChange-Id: I743ce53d5e5d82401173eb7189e90531f3ee138e\n'}]",0,777594,0ae0ca98dc605fb495bb1679a229ee1edad52bdf,8,3,1,23851,,,0,"Explicit execute arguments

The use_standard_locale and log_stdout arguments are not passed to
processutils.execute, they should be keyword arguments of the execute
function.

Change-Id: I743ce53d5e5d82401173eb7189e90531f3ee138e
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/94/777594/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/utils.py'],1,0ae0ca98dc605fb495bb1679a229ee1edad52bdf,explicit-execute-args,"def execute(*cmd, use_standard_locale=False, log_stdout=True, **kwargs): :param use_standard_locale: Defaults to False. If set to True, :param log_stdout: Defaults to True. If set to True, logs the output.","def execute(*cmd, **kwargs): :param use_standard_locale: keyword-only argument. True | False. Defaults to False. If set to True, :param log_stdout: keyword-only argument. True | False. Defaults to True. If set to True, logs the output. use_standard_locale = kwargs.pop('use_standard_locale', False) log_stdout = kwargs.pop('log_stdout', True) ",3,9
openstack%2Fvalidations-libs~master~I293d5971457d35bc192bc9c21920681130f39bcc,openstack/validations-libs,master,I293d5971457d35bc192bc9c21920681130f39bcc,Remove the condition to check the groups.,ABANDONED,2021-03-01 15:32:40.000000000,2021-03-01 15:35:09.000000000,,[],"[{'number': 1, 'created': '2021-03-01 15:32:40.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a539defb00121cc6b01b8b72eab16a532eefb8f1', 'message': 'Remove the condition to check the groups.\n\nWe added this condition because we met this error on osp 16:\n\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run\n    column_names, data = self.take_action(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action\n    return actions.group_information(GROUP_FILE)\n  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information\n    self.validation_path, gp[0])\n  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk\n    if not groups or set(groups).intersection(val.groups):\nTypeError: \'NoneType\' object is not iterable\n\nBut it\'s not anymore necessary, because now the property groups return\nan empty list by default if it\'s not defined. To fix this patch[1] in\nthe tripleo-upgrade\n\n[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n\nChange-Id: I293d5971457d35bc192bc9c21920681130f39bcc\n'}]",0,778011,a539defb00121cc6b01b8b72eab16a532eefb8f1,2,0,1,31245,,,0,"Remove the condition to check the groups.

We added this condition because we met this error on osp 16:

Traceback (most recent call last):
  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run
    super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run
    return super(Command, self).run(parsed_args)
  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run
    column_names, data = self.take_action(parsed_args)
  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action
    return actions.group_information(GROUP_FILE)
  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information
    self.validation_path, gp[0])
  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk
    if not groups or set(groups).intersection(val.groups):
TypeError: 'NoneType' object is not iterable

But it's not anymore necessary, because now the property groups return
an empty list by default if it's not defined. To fix this patch[1] in
the tripleo-upgrade

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181
Change-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f

Change-Id: I293d5971457d35bc192bc9c21920681130f39bcc
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/11/778011/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_utils.py', 'validations_libs/utils.py']",2,a539defb00121cc6b01b8b72eab16a532eefb8f1,remove_group_condition,, if not val.groups: msg = 'Group not found in playbook - please add appropriate group' raise RuntimeError(msg),0,13
openstack%2Fkayobe~master~I87b63966b55f04f80fd0255fbf2732d527732187,openstack/kayobe,master,I87b63966b55f04f80fd0255fbf2732d527732187,Revert ironic custom configuration,MERGED,2021-02-26 08:58:01.000000000,2021-03-01 15:24:04.000000000,2021-03-01 15:22:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 08:58:01.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/ironic.conf'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5af7cac17ea72ff46da85d4c8bcdf373db91c768', 'message': 'Revert ironic custom configuration\n\nThis is now merged into kayobe-config-dev [1].\n\n[1] https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076\n\nChange-Id: I87b63966b55f04f80fd0255fbf2732d527732187\n'}]",0,777727,5af7cac17ea72ff46da85d4c8bcdf373db91c768,8,2,1,15197,,,0,"Revert ironic custom configuration

This is now merged into kayobe-config-dev [1].

[1] https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076

Change-Id: I87b63966b55f04f80fd0255fbf2732d527732187
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/777727/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/ironic.conf']",2,5af7cac17ea72ff46da85d4c8bcdf373db91c768,,,[DEFAULT] minimum_required_memory = 256 ,0,13
openstack%2Fsushy~master~I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,openstack/sushy,master,I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d,Follow up TaskMonitor refactor,MERGED,2021-02-26 09:50:50.000000000,2021-03-01 15:24:03.000000000,2021-03-01 15:21:44.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28128}]","[{'number': 1, 'created': '2021-02-26 09:50:50.000000000', 'files': ['sushy/resources/system/storage/volume.py', 'sushy/tests/unit/test_taskmonitor.py', 'sushy/connector.py', 'sushy/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/375b29b87f0251aa43752c15855c929bd4e1b9ec', 'message': 'Follow up TaskMonitor refactor\n\nFollow up to change Idd4158d87d27b6358c6d7a2a7183427a494ee384\n\nAdd wait method.\nRename TaskMonitor.get_task_monitor to TaskMonitor.from_response\n\nChange-Id: I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d\n'}]",0,777733,375b29b87f0251aa43752c15855c929bd4e1b9ec,10,4,1,27909,,,0,"Follow up TaskMonitor refactor

Follow up to change Idd4158d87d27b6358c6d7a2a7183427a494ee384

Add wait method.
Rename TaskMonitor.get_task_monitor to TaskMonitor.from_response

Change-Id: I1b14bb1eddbf6eff82b0bd06e36c667bcaaf217d
",git fetch https://review.opendev.org/openstack/sushy refs/changes/33/777733/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/volume.py', 'sushy/tests/unit/test_taskmonitor.py', 'sushy/connector.py', 'sushy/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py']",5,375b29b87f0251aa43752c15855c929bd4e1b9ec,task-mon-fwu, return taskmonitor.TaskMonitor.from_response(, return taskmonitor.TaskMonitor.get_task_monitor(,88,28
openstack%2Fneutron~stable%2Fvictoria~Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,openstack/neutron,stable/victoria,Ie97cfe9fe0020929d9a1736d55ad92a5bd643072,[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled,MERGED,2021-02-19 15:29:57.000000000,2021-03-01 15:09:25.000000000,2021-03-01 15:07:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-19 15:29:57.000000000', 'files': ['neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3452b41bf034f84e8f53eb3e61df2eb81b58be34', 'message': ""[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled\n\nPatch [1] added possibility that haproxy spawned as metadata proxy in\nthe router's namespace can be bound to IPv6 address.\nWe misssed to add the same for the HA router, so when router was\nswitched to be active on the node, L3 agent starts haproxy for that\nrouter but it was always bound to IPv4 address only.\nThat patch fixes it by adding check if IPv6 is enabled on host, and if\nyes, it adds same config to the haproxy like it is in non-ha mode.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/715483\n\nCloses-Bug: #1915495\nChange-Id: Ie97cfe9fe0020929d9a1736d55ad92a5bd643072\n(cherry picked from commit ce8361a66744539bebdae6b750c4fa437f203ca0)\n""}]",1,776618,3452b41bf034f84e8f53eb3e61df2eb81b58be34,28,6,1,11975,,,0,"[L3HA] Bind metadata haproxy to IPv6 address if IPv6 is enabled

Patch [1] added possibility that haproxy spawned as metadata proxy in
the router's namespace can be bound to IPv6 address.
We misssed to add the same for the HA router, so when router was
switched to be active on the node, L3 agent starts haproxy for that
router but it was always bound to IPv4 address only.
That patch fixes it by adding check if IPv6 is enabled on host, and if
yes, it adds same config to the haproxy like it is in non-ha mode.

[1] https://review.opendev.org/c/openstack/neutron/+/715483

Closes-Bug: #1915495
Change-Id: Ie97cfe9fe0020929d9a1736d55ad92a5bd643072
(cherry picked from commit ce8361a66744539bebdae6b750c4fa437f203ca0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/776618/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/ha.py'],1,3452b41bf034f84e8f53eb3e61df2eb81b58be34,bug/1915495-stable/victoria,"from oslo_utils import netutils spawn_kwargs = {} if netutils.is_ipv6_enabled(): spawn_kwargs['bind_address'] = '::' self.conf, router_id=ri.router_id, **spawn_kwargs)"," self.conf, router_id=ri.router_id)",5,1
openstack%2Fcharm-neutron-gateway~master~I5f36d39a80598f8cbef1c5f621d838f27227a10a,openstack/charm-neutron-gateway,master,I5f36d39a80598f8cbef1c5f621d838f27227a10a,Prune gate tests,MERGED,2021-02-20 00:03:22.000000000,2021-03-01 15:08:13.000000000,2021-03-01 15:08:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-20 00:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/24245958140b600701332493be90ead7a5b424dd', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I5f36d39a80598f8cbef1c5f621d838f27227a10a\n'}, {'number': 2, 'created': '2021-03-01 11:06:24.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/6d3cb905ae077eb2bfaf69a11944e6e44effff94', 'message': 'Prune gate tests\n\nPrune gate tests and move tests to dev_bundles.\n\nChange-Id: I5f36d39a80598f8cbef1c5f621d838f27227a10a\n'}]",0,776753,6d3cb905ae077eb2bfaf69a11944e6e44effff94,15,3,2,8992,,,0,"Prune gate tests

Prune gate tests and move tests to dev_bundles.

Change-Id: I5f36d39a80598f8cbef1c5f621d838f27227a10a
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/53/776753/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,24245958140b600701332493be90ead7a5b424dd,charms/gate-reduction, dev_bundles: - xenial-ocata - xenial-pike - xenial-queens - bionic-rocky, - bionic-rocky - xenial-queens - xenial-pike - xenial-ocata,6,4
openstack%2Fopenstack-ansible~master~Ic628788e2f9b437a275b01d8721b75c76ed91acb,openstack/openstack-ansible,master,Ic628788e2f9b437a275b01d8721b75c76ed91acb,scripts-library: simplify ara setup,MERGED,2021-02-25 22:26:57.000000000,2021-03-01 15:03:57.000000000,2021-03-01 15:02:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-25 22:26:57.000000000', 'files': ['scripts/scripts-library.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/967c5d4e2ac59400f5494eba1704c430a163ed84', 'message': 'scripts-library: simplify ara setup\n\nThe intent was to be able to test easily with Depends-On patches with a\nrepository prepared by Zuul but ara is being retired from\nopendev.org/recordsansible/ara and will no longer be available at that location.\n\nChange-Id: Ic628788e2f9b437a275b01d8721b75c76ed91acb\n'}]",0,777696,967c5d4e2ac59400f5494eba1704c430a163ed84,8,3,1,9061,,,0,"scripts-library: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: Ic628788e2f9b437a275b01d8721b75c76ed91acb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/777696/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/scripts-library.sh'],1,967c5d4e2ac59400f5494eba1704c430a163ed84,," # PIP_COMMAND and PIP_OPTS are exported by the bootstrap-ansible script. # PIP_OPTS contains the whole set of constraints that need to be applied. ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara[server]"""," ARA_SRC_HOME=""${HOME}/src/opendev.org/recordsansible/ara"" if [[ -d ""${ARA_SRC_HOME}"" ]]; then # This installs from a git checkout # PIP_COMMAND and PIP_OPTS are exported by the bootstrap-ansible script. # PIP_OPTS contains the whole set of constraints that need to be applied. ${PIP_COMMAND} install --isolated ${PIP_OPTS} ${ARA_SRC_HOME} else # This installs from pypi # PIP_COMMAND and PIP_OPTS are exported by the bootstrap-ansible script. # PIP_OPTS contains the whole set of constraints that need to be applied. ${PIP_COMMAND} install --isolated ${PIP_OPTS} ""ara[server]"" fi",3,12
openstack%2Foctavia~stable%2Fussuri~If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,openstack/octavia,stable/ussuri,If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0,Fix AttributeError on TLS-enabled pool provisioning,MERGED,2020-09-24 14:11:25.000000000,2021-03-01 14:56:30.000000000,2021-03-01 14:54:14.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-24 14:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa639326f9896819725a715653b3ccd279c1c64b', 'message': 'Fix AttributeError on TLS-enabled pool provisioning\n\nThis patch fixes an hidden AttributeError exception in the HAProxy\ndriver when adding TLS-enabled pools to listeners.\n\nTask: 40895\nStory: 2008150\n\nChange-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0\n(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)\n'}, {'number': 2, 'created': '2020-11-23 08:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fa7772e3b9958951bf20980927d37e91b17dcfd8', 'message': 'Fix AttributeError on TLS-enabled pool provisioning\n\nThis patch fixes an hidden AttributeError exception in the HAProxy\ndriver when adding TLS-enabled pools to listeners.\n\nTask: 40895\nStory: 2008150\n\nChange-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0\n(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)\n'}, {'number': 3, 'created': '2021-01-14 14:18:09.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'releasenotes/notes/fix-tls-enabled-pool-provisioning-e3adb987244a025a.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a053d7c3d9519d71b38492ddd09343efc03c6b1c', 'message': 'Fix AttributeError on TLS-enabled pool provisioning\n\nThis patch fixes an hidden AttributeError exception in the HAProxy\ndriver when adding TLS-enabled pools to listeners.\n\nTask: 40895\nStory: 2008150\n\nChange-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0\n(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)\n'}]",2,754107,a053d7c3d9519d71b38492ddd09343efc03c6b1c,28,5,3,6469,,,0,"Fix AttributeError on TLS-enabled pool provisioning

This patch fixes an hidden AttributeError exception in the HAProxy
driver when adding TLS-enabled pools to listeners.

Task: 40895
Story: 2008150

Change-Id: If165e995a8b61d8a8ed6bc0c4dd036af0c55c6e0
(cherry picked from commit a6a4001f5739e124a0ea9abb0f064a89e4ba5aae)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/754107/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'releasenotes/notes/fix-tls-enabled-pool-provisioning-e3adb987244a025a.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",4,fa639326f9896819725a715653b3ccd279c1c64b,,"from octavia.common import data_models pool_cert = data_models.TLSContainer( id=uuidutils.generate_uuid(), certificate='pool cert') pool_data = {'tls_cert': pool_cert, 'sni_certs': []} mock_load_certs.return_value = pool_data ref_name = '{id}.pem'.format(id=pool_cert.id) mock_build_pem.assert_called_once_with(pool_cert)", cert_data_mock = mock.MagicMock() cert_data_mock.id = uuidutils.generate_uuid() mock_load_certs.return_value = cert_data_mock ref_name = '{id}.pem'.format(id=cert_data_mock.id) mock_build_pem.assert_called_once_with(cert_data_mock),24,15
openstack%2Fopenstack-ansible-os_horizon~master~Ia8eca0c54079f96f1160ac88670392794e7f747a,openstack/openstack-ansible-os_horizon,master,Ia8eca0c54079f96f1160ac88670392794e7f747a,Use ansible_facts[] instead of fact variables,MERGED,2021-02-25 18:59:32.000000000,2021-03-01 14:50:30.000000000,2021-03-01 14:48:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-25 18:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/09075d6dd6dee102df398c10994a6de9f88ee96a', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ia8eca0c54079f96f1160ac88670392794e7f747a\n'}, {'number': 2, 'created': '2021-02-26 22:53:46.000000000', 'files': ['tasks/horizon_apache.yml', 'tasks/main.yml', 'vars/distro_install.yml', 'tasks/horizon_install_source.yml', 'handlers/main.yml', 'tasks/horizon_install.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/horizon_post_install.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9c8062fb512bfb14eb5b0337086c6e42c4a7d53f', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ia8eca0c54079f96f1160ac88670392794e7f747a\n'}]",0,777651,9c8062fb512bfb14eb5b0337086c6e42c4a7d53f,11,3,2,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia8eca0c54079f96f1160ac88670392794e7f747a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/51/777651/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/horizon_apache.yml', 'tasks/main.yml', 'vars/distro_install.yml', 'tasks/horizon_install_source.yml', 'handlers/main.yml', 'tasks/horizon_install.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/horizon_post_install.yml', 'templates/horizon_local_settings.py.j2']",10,09075d6dd6dee102df398c10994a6de9f88ee96a,osa-facts,{% if horizon_install_method == 'distro' and (ansible_facts['os_family'] | lower) == 'redhat' %},{% if horizon_install_method == 'distro' and (ansible_os_family | lower) == 'redhat' %},22,22
openstack%2Fglance_store~master~Ie278638466c3848c18cc353d966d2275370eaca0,openstack/glance_store,master,Ie278638466c3848c18cc353d966d2275370eaca0,Wallaby cycle Release Notes,MERGED,2021-03-01 07:18:40.000000000,2021-03-01 14:41:19.000000000,2021-03-01 14:38:50.000000000,"[{'_account_id': 4393}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 07:18:40.000000000', 'files': ['releasenotes/notes/wallaby-final-release-00f0f851ff7d93ab.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bfbea18d8774cb99a9d0a8949b962190c74aa9ad', 'message': 'Wallaby cycle Release Notes\n\nChange-Id: Ie278638466c3848c18cc353d966d2275370eaca0\n'}]",0,777933,bfbea18d8774cb99a9d0a8949b962190c74aa9ad,8,3,1,9303,,,0,"Wallaby cycle Release Notes

Change-Id: Ie278638466c3848c18cc353d966d2275370eaca0
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/33/777933/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/wallaby-final-release-00f0f851ff7d93ab.yaml'],1,bfbea18d8774cb99a9d0a8949b962190c74aa9ad,wallaby-releasenotes,--- prelude: > This was a quiet development cycle for the ``glance_store`` library. Several bugs were fixed and some code changes were committed to increase stability. fixes: - | * Bug 1915602_: Cinder store: Use v3 API by default .. _1915602: https://code.launchpad.net/bugs/1915602,,10,0
openstack%2Fkayobe~stable%2Fvictoria~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/victoria,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-28 20:36:20.000000000,2021-03-01 14:16:44.000000000,2021-03-01 14:13:30.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-02-28 20:36:20.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'dev/tenks-deploy-config-compute.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/276115105bd72659f291f9b363ab466d48dab218', 'message': ""CI: Fix overcloud and seed VM jobs on vexxhost clouds\n\nThe issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,\nwhich applied some fixes for CentOS 8.3, and inadvertently removed\nthe Tenks variable that forces the use of qemu for 'bare metal' VMs.\nThis lead to autodetection of KVM, which does not work well when nested\nin all CI cloud providers.\n\nThis change fixes the issue by forcing the use of qemu for the overcloud\nonce more. It also adds a similar option for the seed VM job.\n\nChange-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9\n(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)\n""}]",0,777892,276115105bd72659f291f9b363ab466d48dab218,9,4,1,15197,,,0,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/92/777892/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'dev/tenks-deploy-config-compute.yml']",2,276115105bd72659f291f9b363ab466d48dab218,,"# Nested virtualisation is not working well in CI currently. Force the use of # QEMU. libvirt_vm_engine: ""qemu"" ",,8,0
openstack%2Fovsdbapp~master~I38168888bc7b3b28a4526345225bdad99c050d47,openstack/ovsdbapp,master,I38168888bc7b3b28a4526345225bdad99c050d47,Make it possible to just retrieve schema json,MERGED,2021-01-28 23:26:37.000000000,2021-03-01 14:14:34.000000000,2021-03-01 14:12:55.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 23:26:37.000000000', 'files': ['ovsdbapp/backend/ovs_idl/idlutils.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f41003dec2637cea3f8fd9fae34dbb353f89e2b3', 'message': 'Make it possible to just retrieve schema json\n\nThis breaks out a fetch_schema_json() method to make it possible\nto retrieve the schema without creating a SchemaHelper object\nwhich only stores the schema json until the Idl calls the\nget_idl_schema method on it.\n\nChange-Id: I38168888bc7b3b28a4526345225bdad99c050d47\n'}]",0,772955,f41003dec2637cea3f8fd9fae34dbb353f89e2b3,8,3,1,5756,,,0,"Make it possible to just retrieve schema json

This breaks out a fetch_schema_json() method to make it possible
to retrieve the schema without creating a SchemaHelper object
which only stores the schema json until the Idl calls the
get_idl_schema method on it.

Change-Id: I38168888bc7b3b28a4526345225bdad99c050d47
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/55/772955/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/idlutils.py'],1,f41003dec2637cea3f8fd9fae34dbb353f89e2b3,,"def fetch_schema_json(connection, schema_name): """"""Retrieve the schema json from an ovsdb-server return resp.resultdef get_schema_helper(connection, schema_name): """"""Create a schema helper object by querying an ovsdb-server :param connection: The ovsdb-server connection string :type connection: string :param schema_name: The schema on the server to pull :type schema_name: string """""" return create_schema_helper(fetch_schema_json(connection, schema_name)) ","def get_schema_helper(connection, schema_name): """"""Create a schema helper object by querying an ovsdb-server return create_schema_helper(resp.result)",14,3
openstack%2Fopenstack-ansible-lxc_hosts~master~I3c427bc670815ee5bac677925b56df644f460271,openstack/openstack-ansible-lxc_hosts,master,I3c427bc670815ee5bac677925b56df644f460271,Remove workarounds for old systemd bugs,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 14:07:10.000000000,2021-03-01 14:05:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-17 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/816cb3db3b06d5787fe235a86ede7bd7353774f7', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 2, 'created': '2021-02-17 17:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c2adcdac7cc02e80d87f4c586381b5bc452f458e', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 3, 'created': '2021-02-17 18:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e9c5a9f5e3f6e81a5be82f7da27b9c728f8bd592', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 4, 'created': '2021-02-17 19:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/97a8230766330edfcf01a710e3200b24aa7776ba', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 5, 'created': '2021-02-17 19:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0c574cc3d149bf204553a1d0f04b9b1a96f02738', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 6, 'created': '2021-02-17 20:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/67bc3c46bd0c82ecfbc60568bc4c5f72afdd17b7', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 7, 'created': '2021-02-17 22:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/f76525f9ff82fef74c452350d074deb83b623c4c', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 8, 'created': '2021-02-18 08:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/804ff834fa055c999d353f9be67ced55b5d292a9', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}, {'number': 9, 'created': '2021-02-18 09:20:12.000000000', 'files': ['tasks/lxc_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3f8a5b4ca368d468446256992c456fc37fa2cf28', 'message': 'Remove workarounds for old systemd bugs\n\nThese are now resolved:\n\nWere are now later than systemd v231\nhttps://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420\nhttps://github.com/lxc/lxc/issues/713\n\nChange-Id: I3c427bc670815ee5bac677925b56df644f460271\n'}]",0,776241,3f8a5b4ca368d468446256992c456fc37fa2cf28,23,3,9,25023,,,0,"Remove workarounds for old systemd bugs

These are now resolved:

Were are now later than systemd v231
https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420
https://github.com/lxc/lxc/issues/713

Change-Id: I3c427bc670815ee5bac677925b56df644f460271
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/41/776241/6 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_post_install.yml'],1,816cb3db3b06d5787fe235a86ede7bd7353774f7,,,"# NOTE(hwoarang): The previous task only affected newly created services. # However, for particular systemd versions like v228 the default one for # started scopes is 512 # See https://github.com/systemd/systemd/commit/9ded9cd14cc03c67291b10a5c42ce5094ba0912f # This has later been fixed in v231 # https://github.com/systemd/systemd/commit/79baeeb96d58676853521e10a358e85d83dac7f1 # The only way to change the value for already started services and scopes is # by using the sysfs interface. Moreover, it appears that lxc places itself into the # init.scope group which is being created during boot and as such it always uses # the default value. There are variours reports that the init.scope breaks things # for LXC such as # https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420 # https://github.com/lxc/lxc/issues/713 # https://bugs.archlinux.org/index.php?do=details&action=details.addvote&task_id=47303 # In any case, it's best to also edit the pids controller to ensure that a # better max value is used in the init.scope - name: Check that the init.scope support the pid controller stat: path: ""/sys/fs/cgroup/pids/init.scope/pids.max"" register: _init_scope_pid tags: - lxc-config - block: - name: Get init.scope pids.max value slurp: src: ""/sys/fs/cgroup/pids/init.scope/pids.max"" register: init_scope_cgroup_pids_max changed_when: false # NOTE(cloudnull): The ""shell"" module is being used instead of ""copy"" with # content as we need direct write access to the sysFS. - name: Set systemd pids.max in init.scope shell: ""echo {{ lxc_default_tasks_max }} > /sys/fs/cgroup/pids/init.scope/pids.max"" when: - (init_scope_cgroup_pids_max.content | b64decode) != lxc_default_tasks_max tags: - skip_ansible_lint rescue: - name: Notice regarding setting the init.scope/pids.max debug: msg: | Failed writing to ""/sys/fs/cgroup/pids/init.scope/pids.max"". While we prefer setting this option it's not required. See the following issues on why this is desired and what can be done when the cgroup hierarchy exists. * https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1497420 * https://github.com/lxc/lxc/issues/713 * https://bugs.archlinux.org/index.php?do=details&action=details.addvote&task_id=47303 when: _init_scope_pid.stat.exists tags: - lxc-config # Ensure apparmor reindex runs before other things that may fail - meta: flush_handlers ",0,56
openstack%2Fironic-python-agent~master~I37d050877daabc9dc0a5821cf20a689652b26f34,openstack/ironic-python-agent,master,I37d050877daabc9dc0a5821cf20a689652b26f34,Use try_execute from ironic-lib,MERGED,2021-02-25 13:46:27.000000000,2021-03-01 13:55:55.000000000,2021-03-01 13:54:15.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 13:46:27.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0459c61c8d24c3b7fe950a4d533ed4192448c52e', 'message': 'Use try_execute from ironic-lib\n\nAlso adapt unit tests\n\nChange-Id: I37d050877daabc9dc0a5821cf20a689652b26f34\n'}]",0,777591,0459c61c8d24c3b7fe950a4d533ed4192448c52e,8,3,1,23851,,,0,"Use try_execute from ironic-lib

Also adapt unit tests

Change-Id: I37d050877daabc9dc0a5821cf20a689652b26f34
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/91/777591/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py']",3,0459c61c8d24c3b7fe950a4d533ed4192448c52e,try-execute-ironic-lib,,"def try_execute(*cmd, **kwargs): """"""The same as execute but returns None on error. Executes and logs results from a system command. See docs for oslo_concurrency.processutils.execute for usage. Instead of raising an exception on failure, this method simply returns None in case of failure. :param cmd: positional arguments to pass to processutils.execute() :param kwargs: keyword arguments to pass to processutils.execute() :raises: UnknownArgumentError on receiving unknown arguments :returns: tuple of (stdout, stderr) or None in some error cases """""" try: return execute(*cmd, **kwargs) except (processutils.ProcessExecutionError, OSError) as e: LOG.debug('Command failed: %s', e) ",47,62
openstack%2Fmagnum-tempest-plugin~master~I6289066e4e2525dd8ac2cab16713cb2df265fddd,openstack/magnum-tempest-plugin,master,I6289066e4e2525dd8ac2cab16713cb2df265fddd,"Revert ""Switch to using Focal for testing""",ABANDONED,2021-03-01 11:24:58.000000000,2021-03-01 13:34:25.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-03-01 11:24:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/273713bbdbb2d6240e3d8d8c3906e3ea0fbb35c2', 'message': 'Revert ""Switch to using Focal for testing""\n\nThis reverts commit 83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9.\n\nReason for revert: this is breaking CI jobs\n\nChange-Id: I6289066e4e2525dd8ac2cab16713cb2df265fddd\n'}]",0,777909,273713bbdbb2d6240e3d8d8c3906e3ea0fbb35c2,3,4,1,28022,,,0,"Revert ""Switch to using Focal for testing""

This reverts commit 83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9.

Reason for revert: this is breaking CI jobs

Change-Id: I6289066e4e2525dd8ac2cab16713cb2df265fddd
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/09/777909/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,273713bbdbb2d6240e3d8d8c3906e3ea0fbb35c2,, # TODO(gmann): Remove the below nodeset setting to Bionic once # https://storyboard.openstack.org/#!/story/2007732 is fixed # Once nodeset is removed form here then devstack-tox-functional job # will automatically run this job on Ubuntu Focal nodeset from # Victoria gate onwards. nodeset: openstack-single-node-bionic,,6,0
openstack%2Fmagnum~stable%2Fvictoria~I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,openstack/magnum,stable/victoria,I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b,Fix database migrations,ABANDONED,2021-02-17 10:27:14.000000000,2021-03-01 13:33:16.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 10:27:14.000000000', 'files': ['releasenotes/notes/migrations-1.3.20-60e5f990422f2ca5.yaml', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/512bf5c3209213f8244ce008ab4f8502b481ee9c', 'message': 'Fix database migrations\n\nThe pattern of adding a column and then reading a table with it\nno longer works in SQLAlchemy 1.3.20. This has been reported\nupstream [1].\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669\n\nChange-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b\n(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)\n'}]",0,775912,512bf5c3209213f8244ce008ab4f8502b481ee9c,3,2,1,28022,,,0,"Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

Change-Id: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/775912/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrations-1.3.20-60e5f990422f2ca5.yaml', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py']",2,512bf5c3209213f8244ce008ab4f8502b481ee9c,fix-ci-sqlalchemy-stable/victoria," baymodel = sa.sql.table('baymodel', sa.Column('insecure', sa.Boolean(), default=False))"," baymodel = sa.sql.table('baymodel', insecure_column)",6,1
openstack%2Fopenstack-ansible-tests~master~I961f58d5b24aa5e11e2a4db39f2daff3c8330063,openstack/openstack-ansible-tests,master,I961f58d5b24aa5e11e2a4db39f2daff3c8330063,test-ansible-env-prep: simplify ara setup,MERGED,2021-02-25 22:27:02.000000000,2021-03-01 13:21:07.000000000,2021-03-01 13:19:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-25 22:27:02.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a8c775dfda2e31f2092ab4f8d1f51c8fe4f34b53', 'message': 'test-ansible-env-prep: simplify ara setup\n\nThe intent was to be able to test easily with Depends-On patches with a\nrepository prepared by Zuul but ara is being retired from\nopendev.org/recordsansible/ara and will no longer be available at that location.\n\nChange-Id: I961f58d5b24aa5e11e2a4db39f2daff3c8330063\n'}]",0,777697,a8c775dfda2e31f2092ab4f8d1f51c8fe4f34b53,8,3,1,9061,,,0,"test-ansible-env-prep: simplify ara setup

The intent was to be able to test easily with Depends-On patches with a
repository prepared by Zuul but ara is being retired from
opendev.org/recordsansible/ara and will no longer be available at that location.

Change-Id: I961f58d5b24aa5e11e2a4db39f2daff3c8330063
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/97/777697/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,a8c775dfda2e31f2092ab4f8d1f51c8fe4f34b53,,"# Install ARA from PyPi PIP_OPTS+="" ara[server]""","# Install ARA from source if running in ARA gate, otherwise install from PyPi ARA_SRC_HOME=""${TESTING_HOME}/src/opendev.org/recordsansible/ara"" if [[ -d ""${ARA_SRC_HOME}"" ]]; then PIP_OPTS+="" ${ARA_SRC_HOME}"" else PIP_OPTS+="" ara[server]"" fi",2,7
openstack%2Fneutron~master~Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,openstack/neutron,master,Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b,"[FT] Reset ""AgentCache"" singleton in functional tests",MERGED,2021-02-05 16:29:20.000000000,2021-03-01 13:18:52.000000000,2021-03-01 13:16:41.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07b078a5ef8526f070cfb5c738d939fcea42ce32', 'message': '""NeutronAgent"" should retrieve ""Chassis"" register in ""to_dict"" method\n\n""AgentCache"" singleton stores the OVN agents present in a system. Since\nthe introduction of ""Chassis_Private"" SB table, the events that populate\nthis cache belong to this table like the registers stored.\n\nWhen an agent needs to return the chassis information\n(""NeutronAgent.to_dict""), the ""Chassis"" sibling register should be\nretrieved because some parameters are stored only in this table.\n\nThis patch also resets the ""AgentCache"" singleton after each functional\ntest execution. The next test to be executed will create a new instance\nwith the new OVNMechanismDriver instance created.\n\nChange-Id: Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b\nCloses-Bug: #1914754\n'}, {'number': 2, 'created': '2021-02-08 09:21:04.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/27da92d634168960e15aa9faf3776bcf357d46dd', 'message': '[FT] Reset ""AgentCache"" singleton in functional tests\n\nReset ""AgentCache"" singleton instance after each functional test\nexecution. That will remove any stored information from the previous\ntests.\n\nRelated-Bug: #1914754\n\nChange-Id: Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b\n'}]",1,774284,27da92d634168960e15aa9faf3776bcf357d46dd,64,7,2,16688,,,0,"[FT] Reset ""AgentCache"" singleton in functional tests

Reset ""AgentCache"" singleton instance after each functional test
execution. That will remove any stored information from the previous
tests.

Related-Bug: #1914754

Change-Id: Ibd8897ec04843a5d6eb8639cc0c6ef0e2b9d2a3b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/774284/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,07b078a5ef8526f070cfb5c738d939fcea42ce32,bug/1914754, except Exception as exc: raise exc,,39,11
openstack%2Fopenstack-ansible-ops~master~I4a87c3cc9562437ff7548bb523b9f94684bed05b,openstack/openstack-ansible-ops,master,I4a87c3cc9562437ff7548bb523b9f94684bed05b,Correct spelling mistakes,MERGED,2018-11-22 11:49:56.000000000,2021-03-01 12:40:18.000000000,2021-03-01 12:38:28.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-11-22 11:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3872f38571495c9c0cc7786eff34d4a281da00db', 'message': 'Correct spelling mistakes\n\nChange-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b\n'}, {'number': 2, 'created': '2019-01-04 17:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/82c08136b50eeefe8519baeca30c8ab1327dcce0', 'message': 'Correct spelling mistakes\n\nChange-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b\n'}, {'number': 3, 'created': '2020-10-01 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/46a5d2fa04a4c64beb3d0e39e0bc42974ed28da2', 'message': 'Correct spelling mistakes\n\nChange-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b\n'}, {'number': 4, 'created': '2021-03-01 08:16:33.000000000', 'files': ['elk_metrics_6x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_6x/tests/testLayout.yml', 'leap-upgrades/upgrade-utilities/neutron-remove-old-containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f67e6b376e82053c1c0ea6d5db79ea5468e27ec9', 'message': 'Correct spelling mistakes\n\nChange-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b\n'}]",0,619530,f67e6b376e82053c1c0ea6d5db79ea5468e27ec9,26,5,4,27549,,,0,"Correct spelling mistakes

Change-Id: I4a87c3cc9562437ff7548bb523b9f94684bed05b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/30/619530/4 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/roles/elastic_data_hosts/vars/data-node-variables.yml', 'elk_metrics_6x/tests/testLayout.yml', 'elk_metrics_6x/roles/elastic_dependencies/tasks/main.yml', 'bootstrap-embedded-ansible/README.rst', 'leap-upgrades/upgrade-utilities/neutron-remove-old-containers.yml', 'elk_metrics_6x/README.rst']",6,3872f38571495c9c0cc7786eff34d4a281da00db,c1122,`run-cleanup.sh` script can be used. This script is destructive and will purge,`run-cleanup.sh` script can be used. This script is distructive and will purge,10,10
openstack%2Fpuppet-tripleo~master~I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,openstack/puppet-tripleo,master,I3f9004fd8abffefe8cfeee9011ed0e323652fdd1,Handle cinder_mount_point_base for cinder mounting needs,MERGED,2021-02-02 14:47:17.000000000,2021-03-01 12:27:42.000000000,2021-03-01 12:27:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 14:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7e25c2456e09996660837ced4b71420c9a67d2d1', 'message': 'Handle cinder_mount_point_base for cinder mounting needs\n\nAdding cinder_mount_point_base parameter, to provide the\nmount point for *fs volumes.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\n'}, {'number': 2, 'created': '2021-02-02 16:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/838880cb5ebc2516e899edd1d2a5732b2c691166', 'message': 'Handle cinder_mount_point_base for cinder mounting needs\n\nAdding cinder_mount_point_base parameter, to provide the\nmount point for *fs volumes.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\n'}, {'number': 3, 'created': '2021-02-10 07:46:07.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a', 'message': 'Handle cinder_mount_point_base for cinder mounting needs\n\nAdding cinder_mount_point_base parameter, to provide the\nmount point for *fs volumes.\n\nDepends-On: Ib724f6e895716847827be48ed08b01a7a312338f\nChange-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\n'}]",1,773699,a2dbbaedabf81ac8dd5438eee3857c4a29b95f1a,16,6,3,19138,,,0,"Handle cinder_mount_point_base for cinder mounting needs

Adding cinder_mount_point_base parameter, to provide the
mount point for *fs volumes.

Depends-On: Ib724f6e895716847827be48ed08b01a7a312338f
Change-Id: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/773699/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_backend_cinder_spec.rb', 'manifests/profile/base/glance/backend/cinder.pp']",2,7e25c2456e09996660837ced4b71420c9a67d2d1,glance-cinder-mountpoint,"# [*cinder_mount_point_base*] # (Optional) Directory where the NFS volume is mounted on the glance node. # Defaults to hiera('glance::backend::cinder::cinder_mount_point_base', undef) # $cinder_mount_point_base = hiera('glance::backend::cinder::cinder_mount_point_base', undef), cinder_mount_point_base => $cinder_mount_point_base,",,8,0
openstack%2Fopenstack-ansible-ops~master~I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,openstack/openstack-ansible-ops,master,I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4,"Switch deprecated options to ""modern"" equivalents",MERGED,2021-01-11 06:40:51.000000000,2021-03-01 12:24:53.000000000,2021-03-01 12:23:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-01-11 06:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/59062d86aaa5937c52b43ad8e7ee588513007485', 'message': 'Switch deprecated options to ""modern"" equivalents\n\nChange-Id: I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4\n'}, {'number': 2, 'created': '2021-03-01 08:17:04.000000000', 'files': ['elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0bb4435caab2891f3b17580d33ff25e95dd517b9', 'message': 'Switch deprecated options to ""modern"" equivalents\n\nChange-Id: I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4\n'}]",0,770064,0bb4435caab2891f3b17580d33ff25e95dd517b9,10,3,2,25600,,,0,"Switch deprecated options to ""modern"" equivalents

Change-Id: I1a91b36a2b0d01a1c42ba21e735ba261201ac1a4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/64/770064/2 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elasticsearch/templates/elasticsearch.yml.j2'],1,59062d86aaa5937c52b43ad8e7ee588513007485,,node.remote_cluster_client: {{ elasticsearch_node_ingest }}node.remote_cluster_client: {{ data_node }}node.processors: {{ processors }},cluster.remote.connect: {{ elasticsearch_node_ingest }}cluster.remote.connect: {{ data_node }}processors: {{ processors }},3,3
openstack%2Fkolla-ansible~master~I69b1931997cf38733093639e94abafa8031f0ac6,openstack/kolla-ansible,master,I69b1931997cf38733093639e94abafa8031f0ac6,Avoid errors in apparmor chrony and libvirt profile removal in Debian,NEW,2021-02-17 18:37:49.000000000,2021-03-01 12:20:31.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 18:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11dc113fca607b2216aff77f429afa4ff8918862', 'message': ""Avoid errors in apparmor chrony profile removal in Debian\n\nThis patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,\nor better kolla bootstrap-servers will fail.\nThe failure is due to that fact that we can't remove already removed chronyd profile from apparmor.\n\nThis patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,\nbefore one even tries to do a removal.\n\nCloses-Bug: #1915549\nChange-Id: I69b1931997cf38733093639e94abafa8031f0ac6\n""}, {'number': 2, 'created': '2021-02-17 18:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24b17482a07e145cdedb8c44313b3789bdaf7bd1', 'message': ""Avoid errors in apparmor chrony profile removal in Debian\n\nThis patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,\nor better kolla bootstrap-servers will fail.\nThe failure is due to that fact that we can't remove already removed chronyd profile from apparmor.\n\nThis patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,\nbefore one even tries to do a removal.\nThis will ideally go to some of the stable/ releases.\n\nCloses-Bug: #1915549\nChange-Id: I69b1931997cf38733093639e94abafa8031f0ac6\n""}, {'number': 3, 'created': '2021-02-17 18:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45425046ff75c82384880929cae1ad18faf5b57e', 'message': ""Avoid errors in apparmor chrony profile removal in Debian\n\nThis patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,\nor better kolla bootstrap-servers will fail.\nThe failure is due to that fact that we can't remove already removed chronyd profile from apparmor.\n\nThis patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,\nbefore one even tries to do a removal.\n\nCloses-Bug: #1915549\nChange-Id: I69b1931997cf38733093639e94abafa8031f0ac6\n""}, {'number': 4, 'created': '2021-02-24 09:20:33.000000000', 'files': ['releasenotes/notes/bug-1915549-removing-chrony-from-apparmor-fails-for-debian-on-redeploy.yaml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1c9a18a489deb3a3d5fda3f6937a93f139a6cbe', 'message': ""Avoid errors in apparmor chrony and libvirt profile removal in Debian\n\nThis patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,\nor better kolla bootstrap-servers will fail.\nThe failure is due to that fact that we can't remove already removed chronyd profile from apparmor.\n\nThis patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,\nbefore one even tries to do a removal.\nAdditionally the same logic has been applied to libvirtd profile removal for now for Ubuntu\nonly (as it did exist for Ubuntu only so far).\nThis can be changed to catch entire Debian os_family for libvirt.\n\nCloses-Bug: #1915549\nChange-Id: I69b1931997cf38733093639e94abafa8031f0ac6\n""}]",12,776252,d1c9a18a489deb3a3d5fda3f6937a93f139a6cbe,17,2,4,33105,,,0,"Avoid errors in apparmor chrony and libvirt profile removal in Debian

This patch should fix the issue described in Bug ID #1915549, where the second run of kolla deploy,
or better kolla bootstrap-servers will fail.
The failure is due to that fact that we can't remove already removed chronyd profile from apparmor.

This patch focuses on deeper check using apparmor_status to make sure that chronyd is not there,
before one even tries to do a removal.
Additionally the same logic has been applied to libvirtd profile removal for now for Ubuntu
only (as it did exist for Ubuntu only so far).
This can be changed to catch entire Debian os_family for libvirt.

Closes-Bug: #1915549
Change-Id: I69b1931997cf38733093639e94abafa8031f0ac6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/776252/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-removing-chrony-from-apparmor-fails-for-debian-on-redeploy.yaml', 'ansible/roles/baremetal/tasks/post-install.yml']",2,11dc113fca607b2216aff77f429afa4ff8918862,,"- name: Get status of chronyd apparmor profile command: apparmor_status --json become: True register: apparmor_status ignore_errors: True - apparmor_status is succeeded - (apparmor_status.stdout | from_json).profiles[""/usr/sbin/chronyd""] | default(false)",,13,0
openstack%2Fkayobe~stable%2Ftrain~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/train,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:51:37.000000000,2021-03-01 12:18:17.000000000,2021-03-01 12:16:26.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-01 06:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5153dfa2a1233c75fe334c0376e527bb6c2c38af', 'message': ""CI: Fix overcloud and seed VM jobs on vexxhost clouds\n\nThe issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,\nwhich applied some fixes for CentOS 8.3, and inadvertently removed\nthe Tenks variable that forces the use of qemu for 'bare metal' VMs.\nThis lead to autodetection of KVM, which does not work well when nested\nin all CI cloud providers.\n\nThis change fixes the issue by forcing the use of qemu for the overcloud\nonce more. It also adds a similar option for the seed VM job.\n\nChange-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9\n(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)\n""}, {'number': 2, 'created': '2021-03-01 07:00:39.000000000', 'files': ['dev/tenks-deploy-config-compute.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38d0904fc82047fe6787c31c895e260c554a89f3', 'message': ""CI: Fix overcloud and seed VM jobs on vexxhost clouds\n\nThe issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,\nwhich applied some fixes for CentOS 8.3, and inadvertently removed\nthe Tenks variable that forces the use of qemu for 'bare metal' VMs.\nThis lead to autodetection of KVM, which does not work well when nested\nin all CI cloud providers.\n\nThis change fixes the issue by forcing the use of qemu for the overcloud\nonce more.\n\nChange-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9\n(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)\n""}]",0,777932,38d0904fc82047fe6787c31c895e260c554a89f3,10,4,2,15197,,,0,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/777932/2 && git format-patch -1 --stdout FETCH_HEAD,"['dev/tenks-deploy-config-compute.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2']",2,5153dfa2a1233c75fe334c0376e527bb6c2c38af,,,"--- # NOTE(mgoddard): Don't reboot after disabling SELinux during CI testing, as # Ansible is run directly on the controller. disable_selinux_do_reboot: false # Use the OpenStack infra's Dockerhub mirror. docker_registry_mirrors: - ""http://{{ zuul_site_mirror_fqdn }}:8082/"" kolla_source_url: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kolla'].src_dir }}"" kolla_source_version: ""{{ zuul.projects['opendev.org/openstack/kolla'].checkout }}"" kolla_ansible_source_url: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kolla-ansible'].src_dir }}"" kolla_ansible_source_version: ""{{ zuul.projects['opendev.org/openstack/kolla-ansible'].checkout }}"" kolla_openstack_logging_debug: True pip_upper_constraints_file: ""/tmp/upper-constraints.txt"" # NOTE(mgoddard): We're using a cirros image, which doesn't require the # resolv.conf work around used for CentOS. overcloud_host_image_workaround_resolv_enabled: false # Use the CI infra's PyPI mirror. pip_local_mirror: true pip_index_url: ""http://{{ zuul_site_mirror_fqdn }}/pypi/simple"" # NOTE(mgoddard): CentOS 8 removes interfaces from their bridge during ifdown, # and removes the bridge if there are no interfaces left. When Kayobe bounces # veth links plugged into the bridge, it causes the bridge which has the IP we # are using for SSH to be removed. Use a dummy interface. aio_bridge_ports: - dummy1 ",4,30
openstack%2Fkayobe~stable%2Fussuri~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,stable/ussuri,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-03-01 06:49:47.000000000,2021-03-01 12:17:49.000000000,2021-03-01 12:16:21.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-03-01 06:49:47.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'dev/tenks-deploy-config-compute.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8eadb255a7edbe5cd1483f510b8108eaf9e5dff8', 'message': ""CI: Fix overcloud and seed VM jobs on vexxhost clouds\n\nThe issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,\nwhich applied some fixes for CentOS 8.3, and inadvertently removed\nthe Tenks variable that forces the use of qemu for 'bare metal' VMs.\nThis lead to autodetection of KVM, which does not work well when nested\nin all CI cloud providers.\n\nThis change fixes the issue by forcing the use of qemu for the overcloud\nonce more. It also adds a similar option for the seed VM job.\n\nChange-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9\n(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)\n""}]",0,777931,8eadb255a7edbe5cd1483f510b8108eaf9e5dff8,9,4,1,15197,,,0,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
(cherry picked from commit f9d9afcfba09ef73c6663a38fb60b703caeb56c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/777931/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'dev/tenks-deploy-config-compute.yml']",2,8eadb255a7edbe5cd1483f510b8108eaf9e5dff8,,"# Nested virtualisation is not working well in CI currently. Force the use of # QEMU. libvirt_vm_engine: ""qemu"" ",,8,0
openstack%2Foctavia~stable%2Ftrain~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,stable/train,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2021-02-02 08:45:38.000000000,2021-03-01 12:03:10.000000000,2021-03-01 12:01:31.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 28514}]","[{'number': 1, 'created': '2021-02-02 08:45:38.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a94e5af899936e3fb7e554cfccb4d66903f34c6b', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nAlso moved assignment after initial session query for the\nobject in the listener update path.\n\nConflicts:\n\toctavia/db/repositories.py\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)\n(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)\n(cherry picked from commit 95a97cf1eba85222e4ff683b88878f0f030a2f11)\n'}]",0,773610,a94e5af899936e3fb7e554cfccb4d66903f34c6b,11,4,1,29244,,,0,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Conflicts:
	octavia/db/repositories.py

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
(cherry picked from commit 7ad022379ff2e366d3dfd73113d4619b0137551c)
(cherry picked from commit adb4e78e4439181f57c17f277bad0cd325f219cf)
(cherry picked from commit 95a97cf1eba85222e4ff683b88878f0f030a2f11)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/773610/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,a94e5af899936e3fb7e554cfccb4d66903f34c6b,," def test_update_delete_tag(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, admin_state_up=False, tags=['test_tag1'],) lb_dict = lb.get(self.root_tag) lb_json = self._build_body({'tags': []}) self.set_lb_status(lb_dict.get('id')) response = self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) api_lb = response.json.get(self.root_tag) self.assertEqual([], api_lb.get('tags')) ",,20,5
openstack%2Fmagnum-tempest-plugin~master~I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,openstack/magnum-tempest-plugin,master,I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b,Switch to using Focal for testing,MERGED,2021-01-06 07:21:37.000000000,2021-03-01 11:58:00.000000000,2021-02-17 09:45:22.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-06 07:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0c3a73762f729955b7e7ea753609692ecc51df2e', 'message': 'Test using Focal\n\nChange-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b\n'}, {'number': 2, 'created': '2021-01-23 23:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/64b4e7e07ffc238c206e4eae95908d0b74e56702', 'message': 'Test using Focal\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/762861\nChange-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b\n'}, {'number': 3, 'created': '2021-02-06 21:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/dbcf10dd6cb888e130af6794ac80778a1df7be52', 'message': 'Test using Focal\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/774142\nChange-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b\n'}, {'number': 4, 'created': '2021-02-06 21:07:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9', 'message': 'Switch to using Focal for testing\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/774142\nChange-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b\n'}]",0,769461,83a43fdca4bca8e61d2bb76bfcca5e6d01f971e9,21,4,4,22623,,,0,"Switch to using Focal for testing

Depends-On: https://review.opendev.org/c/openstack/magnum/+/774142
Change-Id: I6baad8e3bf640959ee9e34b8e5fdef1a0bf9295b
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/61/769461/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0c3a73762f729955b7e7ea753609692ecc51df2e,,, # TODO(gmann): Remove the below nodeset setting to Bionic once # https://storyboard.openstack.org/#!/story/2007732 is fixed # Once nodeset is removed form here then devstack-tox-functional job # will automatically run this job on Ubuntu Focal nodeset from # Victoria gate onwards. nodeset: openstack-single-node-bionic,0,6
openstack%2Fcharm-rabbitmq-server~master~Ia819cb03d30f6b4e0a04cc388e7243849800455a,openstack/charm-rabbitmq-server,master,Ia819cb03d30f6b4e0a04cc388e7243849800455a,Clarify TLS,MERGED,2021-02-24 20:46:22.000000000,2021-03-01 11:51:06.000000000,2021-03-01 11:51:06.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 20:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/3d6b6d418be50ad36ed24be15613fc1626c2a268', 'message': 'Clarify TLS\n\n* Make TLS simpler and more accurate.\n\n* Apply README template.\n\nChange-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a\n'}, {'number': 2, 'created': '2021-02-24 23:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/954a393eaa151d4f501b1f9c30255b360e682d35', 'message': 'Clarify TLS\n\n* Make TLS simpler and more accurate.\n\n* Apply README template.\n\nRelated-Bug: #1871442\n\nChange-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a\n'}, {'number': 3, 'created': '2021-02-26 19:54:06.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/a00ecabe6728e7959e14a0871e1f493a3cca2d6d', 'message': 'Clarify TLS\n\n* Make TLS simpler and more accurate.\n\n* Apply README template.\n\n* Adjust config.yaml re use of Vault.\n\nRelated-Bug: #1871442\n\nChange-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a\n'}]",3,777467,a00ecabe6728e7959e14a0871e1f493a3cca2d6d,17,4,3,30561,,,0,"Clarify TLS

* Make TLS simpler and more accurate.

* Apply README template.

* Adjust config.yaml re use of Vault.

Related-Bug: #1871442

Change-Id: Ia819cb03d30f6b4e0a04cc388e7243849800455a
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/67/777467/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,3d6b6d418be50ad36ed24be15613fc1626c2a268,bug/1871442,"This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications.See [Infrastructure high availability][cdg-ha-rabbitmq] in the [OpenStack Charms Deployment Guide][cdg] for details. ### TLSapplications) can be TLS-encrypted. There are two methods for managing keys and certificates:1. manually (via charm options)To display action descriptions run `juju actions --schema rabbitmq-server`. If the charm is not deployed then see file ``actions.yaml``. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information[cdg-ha-rabbitmq]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#rabbitmq [juju-docs-config-apps]: https://juju.is/docs/configuring-applications","This section covers common configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values.#### `ssl` The `ssl` option enables encryption for client-server communication. It can take on several values: * 'off': disables SSL (the default) * 'on': enables SSL for compatible clients * 'only': enforces SSL To deploy a three-node cluster: juju deploy -n 3 --config min-cluster-size=3 rabbitmq-server ### SSLapplications) can be encrypted with SSL. There are two methods for managing keys and certificates:1. manually (via `openssl` commands and charm options)Enable SSL by passing the `ssl` option (see description above) to the deployed rabbitmq-server application: juju config rabbitmq-server ssl=only To display action descriptions run `juju actions rabbitmq-server`. If the charm is not deployed then see file ``actions.yaml``.Please report bugs on [Launchpad][lp-bugs-charm-rabbitmq-server]. ",27,29
openstack%2Fironic-inspector~master~I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,openstack/ironic-inspector,master,I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8,Add release version to release notes,MERGED,2021-02-01 09:10:52.000000000,2021-03-01 11:47:52.000000000,2021-03-01 11:45:28.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 09:10:52.000000000', 'files': ['releasenotes/source/victoria.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f47fbd60a1afb188a91cb0a65521b589420891dc', 'message': 'Add release version to release notes\n\nChange-Id: I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8\n'}]",0,773316,f47fbd60a1afb188a91cb0a65521b589420891dc,8,3,1,23851,,,0,"Add release version to release notes

Change-Id: I945a33a50caf1ceef3cf86a2a68fac77ceb53ee8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/16/773316/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/victoria.rst'],1,f47fbd60a1afb188a91cb0a65521b589420891dc,victoria-reno-versions,=============================================== Victoria Series (10.2.0 - 10.4.x) Release Notes ===============================================,============================= Victoria Series Release Notes =============================,3,3
openstack%2Fironic-python-agent~master~I66b0990acaec45b1635795563987b99f9fa04ac7,openstack/ironic-python-agent,master,I66b0990acaec45b1635795563987b99f9fa04ac7,Allow clean_configuration to run against full-device arrays,MERGED,2021-02-27 02:45:17.000000000,2021-03-01 11:44:14.000000000,2021-03-01 11:42:34.000000000,"[{'_account_id': 1004}, {'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-27 02:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/81656d288cbc3a65886f0d2e99075249020f8ce6', 'message': 'Allow clean_configuration to run against full-device arrays\n\nAt the moment, it is not possible for Ironic to clean up a\nRAID array that is built from an entire device.  This patch\nallows it to do so by overriding the behaviour of attempting\nto find the device name if the device names does not end with\na number and is a real block device.\n\nStory: #2008663\nTask: #41948\nChange-Id: I66b0990acaec45b1635795563987b99f9fa04ac7\n'}, {'number': 2, 'created': '2021-02-27 22:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6821826bc4e687320a6df5ad6cd3925a83bd1832', 'message': 'Allow clean_configuration to run against full-device arrays\n\nAt the moment, it is not possible for Ironic to clean up a\nRAID array that is built from an entire device.  This patch\nallows it to do so by overriding the behaviour of attempting\nto find the device name if the device names does not end with\na number and is a real block device.\n\nStory: #2008663\nTask: #41948\nChange-Id: I66b0990acaec45b1635795563987b99f9fa04ac7\n'}, {'number': 3, 'created': '2021-02-27 22:24:32.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-clean-config-for-full-device-28ee09b58d97d122.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ab267aabdd84e4cdf6496ec3a11fcb3580d542bd', 'message': 'Allow clean_configuration to run against full-device arrays\n\nAt the moment, it is not possible for Ironic to clean up a\nRAID array that is built from an entire device.  This patch\nallows it to do so by overriding the behaviour of attempting\nto find the device name if the device names does not end with\na number and is a real block device.\n\nStory: #2008663\nTask: #41948\nChange-Id: I66b0990acaec45b1635795563987b99f9fa04ac7\n'}]",0,777854,ab267aabdd84e4cdf6496ec3a11fcb3580d542bd,15,5,3,1004,,,0,"Allow clean_configuration to run against full-device arrays

At the moment, it is not possible for Ironic to clean up a
RAID array that is built from an entire device.  This patch
allows it to do so by overriding the behaviour of attempting
to find the device name if the device names does not end with
a number and is a real block device.

Story: #2008663
Task: #41948
Change-Id: I66b0990acaec45b1635795563987b99f9fa04ac7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/54/777854/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",3,81656d288cbc3a65886f0d2e99075249020f8ce6,,"MDADM_DETAIL_OUTPUT_WHOLE_DEVICE = (""""""/dev/md0: Version : 1.0 Creation Time : Fri Feb 15 12:37:44 2019 Raid Level : raid1 Array Size : 1048512 (1023.94 MiB 1073.68 MB) Used Dev Size : 1048512 (1023.94 MiB 1073.68 MB) Raid Devices : 2 Total Devices : 2 Persistence : Superblock is persistent Update Time : Fri Feb 15 12:38:02 2019 State : clean Active Devices : 2 Working Devices : 2 Failed Devices : 0 Spare Devices : 0 Consistency Policy : resync Name : abc.xyz.com:0 (local to host abc.xyz.com) UUID : 83143055:2781ddf5:2c8f44c7:9b45d92e Events : 17 Number Major Minor RaidDevice State 0 253 64 0 active sync /dev/vde 1 253 80 1 active sync /dev/vdf """""") ",,50,0
openstack%2Fpuppet-nova~master~I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,openstack/puppet-nova,master,I6c627855d6c90ae8ad18898fb8c2adb8d73477e1,Clean up the deprecated neutron_* parameters,MERGED,2021-01-23 23:42:16.000000000,2021-03-01 11:42:42.000000000,2021-03-01 11:40:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 23:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8f9f5785dd7b1f02644d309ed88dc65cfb0978a2', 'message': 'Clean up the deprecated neutron_* parameters\n\nThis change removes the deprecated neutorn_* parameters from\nnova::network::neutron, which were deprecated during the previous\nVictoria cycle.\n\nChange-Id: I6c627855d6c90ae8ad18898fb8c2adb8d73477e1\n'}, {'number': 2, 'created': '2021-02-19 13:50:23.000000000', 'files': ['spec/classes/nova_network_neutron_spec.rb', 'releasenotes/notes/cleanup-neutron-opts-2471ddec1148f7ac.yaml', 'manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d18ad5bcc7358db9c71f1326f8b6a83784fdf725', 'message': 'Clean up the deprecated neutron_* parameters\n\nThis change removes the deprecated neutorn_* parameters from\nnova::network::neutron, which were deprecated during the previous\nVictoria cycle.\n\nChange-Id: I6c627855d6c90ae8ad18898fb8c2adb8d73477e1\n'}]",0,772175,d18ad5bcc7358db9c71f1326f8b6a83784fdf725,16,3,2,9816,,,0,"Clean up the deprecated neutron_* parameters

This change removes the deprecated neutorn_* parameters from
nova::network::neutron, which were deprecated during the previous
Victoria cycle.

Change-Id: I6c627855d6c90ae8ad18898fb8c2adb8d73477e1
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/75/772175/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_network_neutron_spec.rb', 'releasenotes/notes/cleanup-neutron-opts-2471ddec1148f7ac.yaml', 'manifests/network/neutron.pp']",3,8f9f5785dd7b1f02644d309ed88dc65cfb0978a2,cleanup-neutron-opts," $password, $auth_type = 'v3password', $project_name = 'services', $project_domain_name = 'Default', $username = 'neutron', $user_domain_name = 'Default', $auth_url = 'http://127.0.0.1:5000/v3', $valid_interfaces = $::os_service_default, $endpoint_override = $::os_service_default, $timeout = '30', $region_name = 'RegionOne', $ovs_bridge = 'br-int', $extension_sync_interval = '600', $vif_plugging_is_fatal = true, $vif_plugging_timeout = '300', $default_floating_pool = 'nova', 'neutron/timeout': value => $timeout; 'neutron/project_name': value => $project_name; 'neutron/project_domain_name': value => $project_domain_name; 'neutron/region_name': value => $region_name; 'neutron/username': value => $username; 'neutron/user_domain_name': value => $user_domain_name; 'neutron/password': value => $password, secret => true; 'neutron/auth_url': value => $auth_url; 'neutron/valid_interfaces': value => $valid_interfaces; 'neutron/endpoint_override': value => $endpoint_override; 'neutron/ovs_bridge': value => $ovs_bridge; 'neutron/extension_sync_interval': value => $extension_sync_interval; 'neutron/auth_type': value => $auth_type;","# DEPRECATED # # [*neutron_password*] # (optional) Password for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_auth_type*] # Name of the auth type to load (string value) # Defaults to undef # # [*neutron_project_name*] # (optional) Project name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_project_domain_name*] # (optional) Project Domain name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_username*] # (optional) Username for connecting to Neutron network services in admin context # through the OpenStack Identity service. # Defaults to undef # # [*neutron_user_domain_name*] # (optional) User Domain name for connecting to Neutron network services in # admin context through the OpenStack Identity service. # Defaults to undef # # [*neutron_auth_url*] # (optional) Points to the OpenStack Identity server IP and port. # This is the Identity (keystone) admin API server IP and port value, # and not the Identity service API IP and port. # Defaults to undef # # [*neutron_valid_interfaces*] # (optional) The endpoint type to lookup when talking to Neutron. # Defaults to undef # # [*neutron_endpoint_override*] # (optional) Override the endpoint to use to talk to Neutron. # Defaults to undef # # [*neutron_timeout*] # (optional) Timeout value for connecting to neutron in seconds. # Defaults to undef # # [*neutron_region_name*] # (optional) Region name for connecting to neutron in admin context # through the OpenStack Identity service. # Defaults to undef # # [*neutron_ovs_bridge*] # (optional) Name of Integration Bridge used by Open vSwitch # Defaults to undef # # [*neutron_extension_sync_interval*] # (optional) Number of seconds before querying neutron for extensions # Defaults to undef # $password = false, $auth_type = 'v3password', $project_name = 'services', $project_domain_name = 'Default', $username = 'neutron', $user_domain_name = 'Default', $auth_url = 'http://127.0.0.1:5000/v3', $valid_interfaces = $::os_service_default, $endpoint_override = $::os_service_default, $timeout = '30', $region_name = 'RegionOne', $ovs_bridge = 'br-int', $extension_sync_interval = '600', $vif_plugging_is_fatal = true, $vif_plugging_timeout = '300', $default_floating_pool = 'nova', #DEPRECATED $neutron_password = undef, $neutron_auth_type = undef, $neutron_project_name = undef, $neutron_project_domain_name = undef, $neutron_username = undef, $neutron_user_domain_name = undef, $neutron_auth_url = undef, $neutron_valid_interfaces = undef, $neutron_endpoint_override = undef, $neutron_timeout = undef, $neutron_region_name = undef, $neutron_ovs_bridge = undef, $neutron_extension_sync_interval = undef, if $neutron_password != undef { warning('The neutron_password parameter was deprecated. Use password instead') $password_real = $neutron_password } else { $password_real = $password } if $neutron_auth_type != undef { warning('The neutron_auth_type parameter was deprecated. Use auth_type instead') $auth_type_real = $neutron_auth_type } else { $auth_type_real = $auth_type } if $neutron_project_name != undef { warning('The neutron_project_name parameter was deprecated. Use project_name instead') $project_name_real = $neutron_project_name } else { $project_name_real = $project_name } if $neutron_project_domain_name != undef { warning('The neutron_project_domain_name parameter was deprecated. Use project_domain_name instead') $project_domain_name_real = $neutron_project_domain_name } else { $project_domain_name_real = $project_domain_name } if $neutron_username != undef { warning('The neutron_username parameter was deprecated. Use username instead') $username_real = $neutron_username } else { $username_real = $username } if $neutron_user_domain_name != undef { warning('The neutron_user_domain_name parameter was deprecated. Use user_domain_name_name instead') $user_domain_name_real = $neutron_user_domain_name } else { $user_domain_name_real = $user_domain_name } if $neutron_auth_url != undef { warning('The neutron_auth_url parameter was deprecated. Use auth_url instead') $auth_url_real = $neutron_auth_url } else { $auth_url_real = $auth_url } if $neutron_valid_interfaces != undef { warning('The neutron_valid_interfaces parameter was deprecated. Use valid_interfaces instead') $valid_interfaces_real = $neutron_valid_interfaces } else { $valid_interfaces_real = $valid_interfaces } if $neutron_endpoint_override != undef { warning('The neutron_endpoint_override parameter was deprecated. Use endpoint_override instead') $endpoint_override_real = $neutron_endpoint_override } else { $endpoint_override_real = $endpoint_override } if $neutron_timeout != undef { warning('The neutron_timeout parameter was deprecated. Use timeout instead') $timeout_real = $neutron_timeout } else { $timeout_real = $timeout } if $neutron_region_name != undef { warning('The neutron_region_name parameter was deprecated. Use region_name instead') $region_name_real = $neutron_region_name } else { $region_name_real = $region_name } if $neutron_ovs_bridge != undef { warning('The neutron_ovs_bridge parameter was deprecated. Use ovs_bridge instead') $ovs_bridge_real = $neutron_ovs_bridge } else { $ovs_bridge_real = $ovs_bridge } if $neutron_extension_sync_interval != undef { warning('The neutron_extension_sync_interval parameter was deprecated. Use extension_sync_interval instead') $extension_sync_interval_real = $neutron_extension_sync_interval } else { $extension_sync_interval_real = $extension_sync_interval } 'neutron/timeout': value => $timeout_real; 'neutron/project_name': value => $project_name_real; 'neutron/project_domain_name': value => $project_domain_name_real; 'neutron/region_name': value => $region_name_real; 'neutron/username': value => $username_real; 'neutron/user_domain_name': value => $user_domain_name_real; 'neutron/password': value => $password_real, secret => true; 'neutron/auth_url': value => $auth_url_real; 'neutron/valid_interfaces': value => $valid_interfaces_real; 'neutron/endpoint_override': value => $endpoint_override_real; 'neutron/ovs_bridge': value => $ovs_bridge_real; 'neutron/extension_sync_interval': value => $extension_sync_interval_real; 'neutron/auth_type': value => $auth_type_real;",34,231
openstack%2Fironic~master~Ife77ccc5e2aae696ffac14fa78f10125456f9b01,openstack/ironic,master,Ife77ccc5e2aae696ffac14fa78f10125456f9b01,[trivial] Remove default parameter from execute,MERGED,2021-02-24 09:38:16.000000000,2021-03-01 11:29:10.000000000,2021-03-01 11:27:26.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-24 09:38:16.000000000', 'files': ['ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f541d517c138184ae0c7d14601f3d34bbfe79de3', 'message': '[trivial] Remove default parameter from execute\n\nThe param check_exit_code from the processutils extension execute has\ndefault already at [0]\nSee:\nhttps://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214\n\nChange-Id: Ife77ccc5e2aae696ffac14fa78f10125456f9b01\n'}]",0,777348,f541d517c138184ae0c7d14601f3d34bbfe79de3,26,4,1,23851,,,0,"[trivial] Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ife77ccc5e2aae696ffac14fa78f10125456f9b01
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/777348/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/common/utils.py']",3,f541d517c138184ae0c7d14601f3d34bbfe79de3,default-check-exit-code," execute(*args, run_as_root=True) execute(*args, run_as_root=True)"," execute(*args, run_as_root=True, check_exit_code=[0]) execute(*args, run_as_root=True, check_exit_code=[0])",6,15
openstack%2Foctavia~stable%2Ftrain~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/train,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:43.000000000,2021-03-01 11:19:14.000000000,2021-03-01 11:17:37.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 08:14:43.000000000', 'files': ['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd92b4bf414e0c7a34bcd295810b02128ab0d7c1', 'message': ""Fix nf_conntrack_buckets sysctl in Amphora\n\nSetting nf_conntrack_buckets in the amphora namespace fails because this\nsysctl can only be set in the initial namespace (cf kernel doc at\nhttps://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)\n\nThis commit allows to set nf_conntrack_buckets in the initial namespace,\nthe value is then inherited by other namespaces.\n\nConntrack is not enabled in the main namespace, the new default value\ndoesn't affect this namespace behavior.\n\nConflicts:\n\telements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel\n\nStory: 2008028\nTask: 40682\n\nChange-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615\n(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)\n(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)\n(cherry picked from commit 9f1307affc328e5ca58a2e814ed55885ed0710c7)\n""}]",0,773601,bd92b4bf414e0c7a34bcd295810b02128ab0d7c1,10,3,1,29244,,,0,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
(cherry picked from commit 9f1307affc328e5ca58a2e814ed55885ed0710c7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/01/773601/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2']",3,bd92b4bf414e0c7a34bcd295810b02128ab0d7c1,,"# Set nf_conntrack_buckets sysctl in the main namespace (nf_conntrack_buckets # cannot be set in another net namespace, but its value is inherited from the # main namespace) ExecStart=-/sbin/sysctl -w net.netfilter.nf_conntrack_buckets=125000",,9,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/victoria,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:28.000000000,2021-03-01 11:13:20.000000000,2021-03-01 11:11:16.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32398}]","[{'number': 1, 'created': '2021-02-08 08:57:28.000000000', 'files': ['doc/source/user/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9698fa1533ef707fc4c7afb3918709254ca207d7', 'message': 'docs: Improve multinode Docker registry setup\n\nThe multinode guide hints at how to setup the registry as a registry\nmirror, however it does not provide all information necessary. This\nchange fixes that, and separates the local registry and registry mirror\ncases.\n\nChange-Id: I0790830e1c21520df2534d2f3b1ea96010064355\nCloses-Bug: #1901768\n(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)\n'}]",0,774398,9698fa1533ef707fc4c7afb3918709254ca207d7,9,4,1,14826,,,0,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/774398/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multinode.rst'],1,9698fa1533ef707fc4c7afb3918709254ca207d7,bug/1901768-stable/victoria,"`pokey registry <https://github.com/docker/docker/issues/14018>`__. The Kolla community recommends using registry 2.3 or later. The registry may be configured either as a local registry with support for storing images, or as a pull-through cache for Docker hub. Option 1: local registry ------------------------ .. code-block:: console docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ registry:2 Here we are using port 4000 to avoid a conflict with Keystone. If the registry is not running on the same host as Keystone, the ``-p`` argument may be omitted. Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: docker_registry: 192.168.1.100:4000 Option 2: registry mirror -------------------------registry as a pull through cache, pass the environment variable ``REGISTRY_PROXY_REMOTEURL`` through to the registry container. Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \ registry:2 Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: .. code-block:: yaml docker_custom_config: registry-mirrors: - 192.168.1.100:4000","`pokey registry <https://github.com/docker/docker/issues/14018>`__. Edit the ``/etc/kolla/globals.yml`` and add the following where 192.168.1.100 is the IP address of the machine and 5000 is the port where the registry is currently running: docker_registry: 192.168.1.100:5000 The Kolla community recommends using registry 2.3 or later. To deploy registry with version 2.3 or later, do the following: .. code-block:: console cd kolla tools/start-registryregistry as a pull through cache, in the host machine set the environment variable ``REGISTRY_PROXY_REMOTEURL`` to the URL for the repository on Docker Hub. export REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io .. note:: Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. .. _configure_docker_all_nodes: Configure Docker on all nodes ============================= .. note:: As the subtitle for this section implies, these steps should be applied to all nodes, not just the deployment node. After starting the registry, it is necessary to instruct Docker that it will be communicating with an insecure registry. For example, To enable insecure registry communication, modify the ``/etc/docker/daemon.json`` file to contain the following where ``192.168.1.100`` is the IP address of the machine where the registry is currently running: .. path /etc/docker/daemon.json .. code-block:: json { ""insecure-registries"" : [""192.168.1.100:5000""] } Restart Docker by executing the following commands: For CentOS or Ubuntu with systemd: .. code-block:: console systemctl restart docker For Ubuntu with upstart or sysvinit: .. code-block:: console service docker restart",44,57
openstack%2Fkolla-ansible~stable%2Ftrain~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/train,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:46.000000000,2021-03-01 11:13:16.000000000,2021-03-01 11:11:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-08 08:57:46.000000000', 'files': ['doc/source/user/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d55c82159bd55723b44e39331f70c70a53872a97', 'message': 'docs: Improve multinode Docker registry setup\n\nThe multinode guide hints at how to setup the registry as a registry\nmirror, however it does not provide all information necessary. This\nchange fixes that, and separates the local registry and registry mirror\ncases.\n\nChange-Id: I0790830e1c21520df2534d2f3b1ea96010064355\nCloses-Bug: #1901768\n(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)\n'}]",0,774400,d55c82159bd55723b44e39331f70c70a53872a97,8,3,1,14826,,,0,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/774400/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multinode.rst'],1,d55c82159bd55723b44e39331f70c70a53872a97,bug/1901768-stable/train,"`pokey registry <https://github.com/docker/docker/issues/14018>`__. The Kolla community recommends using registry 2.3 or later. The registry may be configured either as a local registry with support for storing images, or as a pull-through cache for Docker hub. Option 1: local registry ------------------------ .. code-block:: console docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ registry:2 Here we are using port 4000 to avoid a conflict with Keystone. If the registry is not running on the same host as Keystone, the ``-p`` argument may be omitted. Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: docker_registry: 192.168.1.100:4000 Option 2: registry mirror -------------------------registry as a pull through cache, pass the environment variable ``REGISTRY_PROXY_REMOTEURL`` through to the registry container. Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \ registry:2 Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: .. code-block:: yaml docker_custom_config: registry-mirrors: - 192.168.1.100:4000","`pokey registry <https://github.com/docker/docker/issues/14018>`__. Edit the ``/etc/kolla/globals.yml`` and add the following where 192.168.1.100 is the IP address of the machine and 5000 is the port where the registry is currently running: docker_registry: 192.168.1.100:5000 The Kolla community recommends using registry 2.3 or later. To deploy registry with version 2.3 or later, do the following: .. code-block:: console cd kolla tools/start-registryregistry as a pull through cache, in the host machine set the environment variable ``REGISTRY_PROXY_REMOTEURL`` to the URL for the repository on Docker Hub. export REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io .. note:: Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. .. _configure_docker_all_nodes: Configure Docker on all nodes ============================= .. note:: As the subtitle for this section implies, these steps should be applied to all nodes, not just the deployment node. After starting the registry, it is necessary to instruct Docker that it will be communicating with an insecure registry. For example, To enable insecure registry communication, modify the ``/etc/docker/daemon.json`` file to contain the following where ``192.168.1.100`` is the IP address of the machine where the registry is currently running: .. path /etc/docker/daemon.json .. code-block:: json { ""insecure-registries"" : [""192.168.1.100:5000""] } Restart Docker by executing the following commands: For CentOS or Ubuntu with systemd: .. code-block:: console systemctl restart docker For Ubuntu with upstart or sysvinit: .. code-block:: console service docker restart",44,57
openstack%2Fkolla-ansible~stable%2Fussuri~I0790830e1c21520df2534d2f3b1ea96010064355,openstack/kolla-ansible,stable/ussuri,I0790830e1c21520df2534d2f3b1ea96010064355,docs: Improve multinode Docker registry setup,MERGED,2021-02-08 08:57:35.000000000,2021-03-01 11:13:15.000000000,2021-03-01 11:11:06.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32398}]","[{'number': 1, 'created': '2021-02-08 08:57:35.000000000', 'files': ['doc/source/user/multinode.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/150445c5bf565851cecb12b144a1edcaaccc553f', 'message': 'docs: Improve multinode Docker registry setup\n\nThe multinode guide hints at how to setup the registry as a registry\nmirror, however it does not provide all information necessary. This\nchange fixes that, and separates the local registry and registry mirror\ncases.\n\nChange-Id: I0790830e1c21520df2534d2f3b1ea96010064355\nCloses-Bug: #1901768\n(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)\n'}]",0,774399,150445c5bf565851cecb12b144a1edcaaccc553f,9,4,1,14826,,,0,"docs: Improve multinode Docker registry setup

The multinode guide hints at how to setup the registry as a registry
mirror, however it does not provide all information necessary. This
change fixes that, and separates the local registry and registry mirror
cases.

Change-Id: I0790830e1c21520df2534d2f3b1ea96010064355
Closes-Bug: #1901768
(cherry picked from commit 34cce4c57e9a609899f2922db83878500495f825)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/774399/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/multinode.rst'],1,150445c5bf565851cecb12b144a1edcaaccc553f,bug/1901768-stable/ussuri,"`pokey registry <https://github.com/docker/docker/issues/14018>`__. The Kolla community recommends using registry 2.3 or later. The registry may be configured either as a local registry with support for storing images, or as a pull-through cache for Docker hub. Option 1: local registry ------------------------ .. code-block:: console docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ registry:2 Here we are using port 4000 to avoid a conflict with Keystone. If the registry is not running on the same host as Keystone, the ``-p`` argument may be omitted. Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: docker_registry: 192.168.1.100:4000 Option 2: registry mirror -------------------------registry as a pull through cache, pass the environment variable ``REGISTRY_PROXY_REMOTEURL`` through to the registry container. Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. docker run -d \ --name registry \ --restart=always \ -p 4000:5000 \ -v registry:/var/lib/registry \ -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \ registry:2 Edit ``globals.yml`` and add the following, where ``192.168.1.100:4000`` is the IP address and port on which the registry is listening: .. code-block:: yaml docker_custom_config: registry-mirrors: - 192.168.1.100:4000","`pokey registry <https://github.com/docker/docker/issues/14018>`__. Edit the ``/etc/kolla/globals.yml`` and add the following where 192.168.1.100 is the IP address of the machine and 5000 is the port where the registry is currently running: docker_registry: 192.168.1.100:5000 The Kolla community recommends using registry 2.3 or later. To deploy registry with version 2.3 or later, do the following: .. code-block:: console cd kolla tools/start-registryregistry as a pull through cache, in the host machine set the environment variable ``REGISTRY_PROXY_REMOTEURL`` to the URL for the repository on Docker Hub. export REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io .. note:: Pushing to a registry configured as a pull-through cache is unsupported. For more information, Reference the `Docker Documentation <https://docs.docker.com/registry/configuration/>`__. .. _configure_docker_all_nodes: Configure Docker on all nodes ============================= .. note:: As the subtitle for this section implies, these steps should be applied to all nodes, not just the deployment node. After starting the registry, it is necessary to instruct Docker that it will be communicating with an insecure registry. For example, To enable insecure registry communication, modify the ``/etc/docker/daemon.json`` file to contain the following where ``192.168.1.100`` is the IP address of the machine where the registry is currently running: .. path /etc/docker/daemon.json .. code-block:: json { ""insecure-registries"" : [""192.168.1.100:5000""] } Restart Docker by executing the following commands: For CentOS or Ubuntu with systemd: .. code-block:: console systemctl restart docker For Ubuntu with upstart or sysvinit: .. code-block:: console service docker restart",44,57
openstack%2Fkolla~stable%2Fvictoria~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/victoria,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:53:48.000000000,2021-03-01 11:13:10.000000000,2021-03-01 11:10:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-15 13:53:48.000000000', 'files': ['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f72a4b36e49cb4c6f86f2ad4069f77892124b9fd', 'message': 'Make kolla_set_configs open files in binary mode\n\nThis fixes comparisons when files are not Unicode-encoded.\n\nA relevant unit test is included.\nIt can be used as a base for other _cmp_file method unit tests\nif the need arises.\n\nChange-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388\nCloses-Bug: #1913952\n(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)\n'}]",0,775593,f72a4b36e49cb4c6f86f2ad4069f77892124b9fd,13,3,1,30491,,,0,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/93/775593/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py']",3,f72a4b36e49cb4c6f86f2ad4069f77892124b9fd,bug/1913952-stable/victoria," @mock.patch('grp.getgrgid', autospec=True) @mock.patch('pwd.getpwuid', autospec=True) @mock.patch('os.stat', autospec=True) @mock.patch('builtins.open', new_callable=mock.mock_open) @mock.patch('os.path.exists', autospec=True) def test_cmp_file_opens_both_files_rb(self, mock_os_exists, mock_open, mock_os_stat, mock_pwd_getpwuid, mock_grp_getgrgid): config_file = set_configs.ConfigFile( '/var/lib/kolla/config_files/bar', '/foo', 'user1', '0644') mock_os_exists.return_value = True mock_os_stat.return_value.st_mode = int('0o100644', 8) mock_pwd_getpwuid.return_value.pw_name = 'user1' mock_grp_getgrgid.return_value.gr_name = 'user1' self.assertIs(True, config_file._cmp_file('/fake/file1', '/fake/file2')) self.assertEqual([mock.call('/fake/file1', 'rb'), mock.call('/fake/file2', 'rb')], mock_open.call_args_list)",,30,1
openstack%2Fopenstack-ansible-ops~master~I74a4788ff25c5ef45c064d1f8309002b1731ad7a,openstack/openstack-ansible-ops,master,I74a4788ff25c5ef45c064d1f8309002b1731ad7a,"Fix elk 7 {conf,env}.d sample",MERGED,2020-11-11 11:00:47.000000000,2021-03-01 11:04:20.000000000,2021-03-01 11:02:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-11-11 11:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8554f3f2b7ca1f8ec2971b1773fc980bf855cded', 'message': ""Fix elk 7 env.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}, {'number': 2, 'created': '2020-11-12 11:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b055a78933cdddcb0f2e12802cc87b608c6a397b', 'message': ""Fix elk 7 env.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}, {'number': 3, 'created': '2021-01-04 12:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/57e6e52b7c7477ee8a13ae3372d4134a4da99ff3', 'message': ""Fix elk 7 {conf,env}.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile they were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\nAlso elaborate more on conf.env sample as per the intents of\nhttps://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}, {'number': 4, 'created': '2021-01-05 15:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e8eb8c4b99951152624a11164d20eb6c99c4f341', 'message': ""Fix elk 7 {conf,env}.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile they were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\nAlso elaborate more on conf.env sample as per the intents of\nhttps://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}, {'number': 5, 'created': '2021-01-07 09:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2c2587add2fc845b96f15b5880afbc01559757c8', 'message': ""Fix elk 7 {conf,env}.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile they were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\nAlso elaborate more on conf.env sample as per the intents of\nhttps://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}, {'number': 6, 'created': '2021-03-01 08:15:32.000000000', 'files': ['elk_metrics_7x/conf.d/elk.yml', 'elk_metrics_7x/env.d/elk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7dd097344f6fbb88af9aa52113f85cb4ab7a3b05', 'message': ""Fix elk 7 {conf,env}.d sample\n\nNeither elastic nor logstash elements were present in container_skel\nwhile they were referenced in component_skel which is not valid for\ndynamic_inventory. So attempt to generate it resulted in:\nKeyError: 'elastic-logstash' here [1]\n\nAlso elaborate more on conf.env sample as per the intents of\nhttps://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849\n\n[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266\n\nChange-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a\n""}]",0,762331,7dd097344f6fbb88af9aa52113f85cb4ab7a3b05,24,4,6,28619,,,0,"Fix elk 7 {conf,env}.d sample

Neither elastic nor logstash elements were present in container_skel
while they were referenced in component_skel which is not valid for
dynamic_inventory. So attempt to generate it resulted in:
KeyError: 'elastic-logstash' here [1]

Also elaborate more on conf.env sample as per the intents of
https://review.opendev.org/c/openstack/openstack-ansible-ops/+/707849

[1] https://opendev.org/openstack/openstack-ansible/src/branch/master/osa_toolkit/generate.py#L266

Change-Id: I74a4788ff25c5ef45c064d1f8309002b1731ad7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/31/762331/3 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/env.d/elk.yml'],1,8554f3f2b7ca1f8ec2971b1773fc980bf855cded,elk_adjustments, elastic-logstash:, elastic: logstash: belongs_to:,1,3
openstack%2Fnova~master~I7239c7fc108b83decc728a01392640806ff32800,openstack/nova,master,I7239c7fc108b83decc728a01392640806ff32800,WIP: Store UEFI'ness of guest as attribute,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c947fcaf642c86eeaab2c78d241e190732e354f2', 'message': ""WIP: Store UEFI'ness of guest as attribute\n\nThis avoids the need to inspect the image metadata each and every time.\n\nChange-Id: I7239c7fc108b83decc728a01392640806ff32800\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,775692,c947fcaf642c86eeaab2c78d241e190732e354f2,6,1,1,15334,,,0,"WIP: Store UEFI'ness of guest as attribute

This avoids the need to inspect the image metadata each and every time.

Change-Id: I7239c7fc108b83decc728a01392640806ff32800
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/775692/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,c947fcaf642c86eeaab2c78d241e190732e354f2,bp/allow-secure-boot-for-qemu-kvm-guests, @property def uses_uefi(self): return False ,,4,0
openstack%2Fnova~master~I5bc2a18a41b29628fd14359023db9bb5b6b2a335,openstack/nova,master,I5bc2a18a41b29628fd14359023db9bb5b6b2a335,libvirt: Add secure boot loader config support,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d12ddeee31806b83eeb6a7d3a1eaf5376f37b067', 'message': ""libvirt: Add secure boot loader config support\n\nAdd the knobs to our XML element generation code needed for secure boot\nsupport, namely setting the 'secure' attribute of the\n'/domain/os/loader' element.\n\nChange-Id: I5bc2a18a41b29628fd14359023db9bb5b6b2a335\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,775687,d12ddeee31806b83eeb6a7d3a1eaf5376f37b067,7,1,1,15334,,,0,"libvirt: Add secure boot loader config support

Add the knobs to our XML element generation code needed for secure boot
support, namely setting the 'secure' attribute of the
'/domain/os/loader' element.

Change-Id: I5bc2a18a41b29628fd14359023db9bb5b6b2a335
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/775687/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",2,d12ddeee31806b83eeb6a7d3a1eaf5376f37b067,bp/allow-secure-boot-for-qemu-kvm-guests," obj.os_loader = '/tmp/OVMF_CODE.secboot.fd' obj.os_loader_secure = True self.assertXmlEqual( xml, """""" <loader secure='yes' readonly='yes' type='pflash'>/tmp/OVMF_CODE.secboot.fd</loader> </domain>"""""", # noqa: E501 )"," obj.os_loader = '/tmp/OVMF_CODE.fd' self.assertXmlEqual(xml, """""" <loader readonly='yes' type='pflash'>/tmp/OVMF_CODE.fd</loader> </domain>"""""")",16,17
openstack%2Fnova~master~Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,openstack/nova,master,Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3,WIP: libvirt: Stop checking non-host architectures for SEV,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-01 11:03:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': ['nova/virt/libvirt/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/594d2aca47849a5a5420c6193ee9f19306e42cd3', 'message': ""WIP: libvirt: Stop checking non-host architectures for SEV\n\nnova does not currently support booting guests with non-host\narchitectures. There's no need to keep this code around until that is\nresolved.\n\nChange-Id: Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,775693,594d2aca47849a5a5420c6193ee9f19306e42cd3,8,1,1,15334,,,0,"WIP: libvirt: Stop checking non-host architectures for SEV

nova does not currently support booting guests with non-host
architectures. There's no need to keep this code around until that is
resolved.

Change-Id: Ib18fcc8e5d5dd856cbfc21cc3d7a7d07115ce6b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/775693/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/host.py'],1,594d2aca47849a5a5420c6193ee9f19306e42cd3,bp/allow-secure-boot-for-qemu-kvm-guests," arch = self.get_capabilities().host.cpu.arch if arch != fields.Architecture.X86_64: return for machine_type in domain_caps[arch]: LOG.debug( 'Checking SEV support for arch %s and machine type %s', arch, machine_type, ) for feature in domain_caps[arch][machine_type].features: feature_is_sev = isinstance( feature, vconfig.LibvirtConfigDomainCapsFeatureSev ) if feature_is_sev and feature.supported: LOG.info('AMD SEV support detected') self._supports_amd_sev = True return self._supports_amd_sev LOG.debug('No AMD SEV support detected')"," caps = self.get_capabilities() if caps.host.cpu.arch != fields.Architecture.X86_64: return self._supports_amd_sev for arch in domain_caps: for machine_type in domain_caps[arch]: LOG.debug(""Checking SEV support for arch %s "" ""and machine type %s"", arch, machine_type) for feature in domain_caps[arch][machine_type].features: feature_is_sev = isinstance( feature, vconfig.LibvirtConfigDomainCapsFeatureSev) if feature_is_sev and feature.supported: LOG.info(""AMD SEV support detected"") self._supports_amd_sev = True return self._supports_amd_sev LOG.debug(""No AMD SEV support detected for any (arch, machine_type)"")",17,15
openstack%2Ftripleo-common~stable%2Fussuri~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/ussuri,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:57:00.000000000,2021-03-01 11:02:56.000000000,2021-03-01 11:01:34.000000000,"[{'_account_id': 360}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 15:57:00.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b', 'message': 'Add cloud-admin user to tripleoclient container\n\nosp-director-operator use tripleoclient pod to render the ansible\nplaybooks in an ephemeral heat stack. The cloud-admin user is also\nused as default deployment user to run the ansible playbooks to\ndeploy the overcloud.\n\nThis also adds osc-placement to the container image which allows\nto query placment direct using osc.\n\nChange-Id: I38fe6419a6e18693adad79083a589f3a417de02f\n(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)\n(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)\n'}]",0,776484,090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b,8,6,1,17216,,,0,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
(cherry picked from commit 4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/776484/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh']",3,090ff9b8ecd0e90fcfeba64b4f6794be72d1ae2b,tripleoclient-u,_SUPPORTED_USERS['cloud-admin']='cloud-admin 42401 42401 /home/cloud-admin',,9,0
openstack%2Fnova~master~I12990eaca3820e56047e4d0e526c436fd2cfcf31,openstack/nova,master,I12990eaca3820e56047e4d0e526c436fd2cfcf31,Remove short call timeout from func test,MERGED,2021-02-24 18:20:15.000000000,2021-03-01 11:00:51.000000000,2021-03-01 10:59:08.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-24 18:20:15.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1909120.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c8478e40bdb996d5e0a1f01ae0ae55e6926f318d', 'message': 'Remove short call timeout from func test\n\nThe bugfix I759aa36dc00a6c0612b9755dacd9aa414c408498 ensured that nova\nrejectes a volume detach if the compute is down. But the func test still\nhas short rpc timeout set which sometimes causes that the server creates\ntimes out on a slow node. Before the bugfix the short timeout was needed\nto speed up the test but after the fix it is not needed any more so it\nis removed to stabilize the test.\n\nChange-Id: I12990eaca3820e56047e4d0e526c436fd2cfcf31\nRelated-Bug: #1909120\n'}]",9,777447,c8478e40bdb996d5e0a1f01ae0ae55e6926f318d,18,5,1,9708,,,0,"Remove short call timeout from func test

The bugfix I759aa36dc00a6c0612b9755dacd9aa414c408498 ensured that nova
rejectes a volume detach if the compute is down. But the func test still
has short rpc timeout set which sometimes causes that the server creates
times out on a slow node. Before the bugfix the short timeout was needed
to speed up the test but after the fix it is not needed any more so it
is removed to stabilize the test.

Change-Id: I12990eaca3820e56047e4d0e526c436fd2cfcf31
Related-Bug: #1909120
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/777447/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1909120.py'],1,c8478e40bdb996d5e0a1f01ae0ae55e6926f318d,bug/1909120,, # _IntegratedTestBase uses CastAsCall so set the response timeout to 1 self.flags(rpc_response_timeout=1) ,0,3
openstack%2Ftripleo-common~stable%2Fvictoria~I38fe6419a6e18693adad79083a589f3a417de02f,openstack/tripleo-common,stable/victoria,I38fe6419a6e18693adad79083a589f3a417de02f,Add cloud-admin user to tripleoclient container,MERGED,2021-02-18 15:55:24.000000000,2021-03-01 10:56:33.000000000,2021-03-01 10:55:10.000000000,"[{'_account_id': 360}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-18 15:55:24.000000000', 'files': ['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24', 'message': 'Add cloud-admin user to tripleoclient container\n\nosp-director-operator use tripleoclient pod to render the ansible\nplaybooks in an ephemeral heat stack. The cloud-admin user is also\nused as default deployment user to run the ansible playbooks to\ndeploy the overcloud.\n\nThis also adds osc-placement to the container image which allows\nto query placment direct using osc.\n\nChange-Id: I38fe6419a6e18693adad79083a589f3a417de02f\n(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)\n'}]",0,776482,4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24,24,6,1,17216,,,0,"Add cloud-admin user to tripleoclient container

osp-director-operator use tripleoclient pod to render the ansible
playbooks in an ephemeral heat stack. The cloud-admin user is also
used as default deployment user to run the ansible playbooks to
deploy the overcloud.

This also adds osc-placement to the container image which allows
to query placment direct using osc.

Change-Id: I38fe6419a6e18693adad79083a589f3a417de02f
(cherry picked from commit 24c311aab02b8e50b817bff4e008a0d8b32443ca)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/776482/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/kolla/tripleoclient/tripleoclient_sudoers', 'container-images/kolla/base/uid_gid_manage.sh']",3,4bac1cb80b4f5c216b2cc0eaab6112f3294a0b24,tripleoclient-v,_SUPPORTED_USERS['cloud-admin']='cloud-admin 42401 42401 /home/cloud-admin',,9,0
openstack%2Fkolla~stable%2Fussuri~Ic638516eb92d24ad247a7866fd1b5e2ac0400388,openstack/kolla,stable/ussuri,Ic638516eb92d24ad247a7866fd1b5e2ac0400388,Make kolla_set_configs open files in binary mode,MERGED,2021-02-15 13:54:12.000000000,2021-03-01 10:56:10.000000000,2021-03-01 10:54:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-15 13:54:12.000000000', 'files': ['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc5fe2f0eb19601236a54deeeee4ebc0ccd519d9', 'message': 'Make kolla_set_configs open files in binary mode\n\nThis fixes comparisons when files are not Unicode-encoded.\n\nA relevant unit test is included.\nIt can be used as a base for other _cmp_file method unit tests\nif the need arises.\n\nChange-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388\nCloses-Bug: #1913952\n(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)\n'}]",0,775594,dc5fe2f0eb19601236a54deeeee4ebc0ccd519d9,10,4,1,30491,,,0,"Make kolla_set_configs open files in binary mode

This fixes comparisons when files are not Unicode-encoded.

A relevant unit test is included.
It can be used as a base for other _cmp_file method unit tests
if the need arises.

Change-Id: Ic638516eb92d24ad247a7866fd1b5e2ac0400388
Closes-Bug: #1913952
(cherry picked from commit 8e3027c5427ecfb89fe48ad38eb8189b1608d0fc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/775594/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/set_configs.py', 'releasenotes/notes/bug-1913952-a23431cef137f9c7.yaml', 'tests/test_set_config.py']",3,dc5fe2f0eb19601236a54deeeee4ebc0ccd519d9,bug/1913952-stable/victoria-stable/ussuri," @mock.patch('grp.getgrgid', autospec=True) @mock.patch('pwd.getpwuid', autospec=True) @mock.patch('os.stat', autospec=True) @mock.patch('builtins.open', new_callable=mock.mock_open) @mock.patch('os.path.exists', autospec=True) def test_cmp_file_opens_both_files_rb(self, mock_os_exists, mock_open, mock_os_stat, mock_pwd_getpwuid, mock_grp_getgrgid): config_file = set_configs.ConfigFile( '/var/lib/kolla/config_files/bar', '/foo', 'user1', '0644') mock_os_exists.return_value = True mock_os_stat.return_value.st_mode = int('0o100644', 8) mock_pwd_getpwuid.return_value.pw_name = 'user1' mock_grp_getgrgid.return_value.gr_name = 'user1' self.assertIs(True, config_file._cmp_file('/fake/file1', '/fake/file2')) self.assertEqual([mock.call('/fake/file1', 'rb'), mock.call('/fake/file2', 'rb')], mock_open.call_args_list)",,30,1
openstack%2Fopenstack-ansible-os_zun~master~I4532d9975a2e68a12a7755ca3798a59f4928593c,openstack/openstack-ansible-os_zun,master,I4532d9975a2e68a12a7755ca3798a59f4928593c,Improve image and network cleanup procedure,MERGED,2021-01-18 13:03:44.000000000,2021-03-01 10:46:49.000000000,2021-03-01 10:45:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-18 13:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/708c332cb86b98926daeb4f7401e9f5fb408fe32', 'message': ""Improve image and network cleanup procedure\n\nThis adds periodic cleanup of the directory which zun uses to\ntemporarily cache images loaded from Glance to avoid it becoming\ntoo large.\n\nDocker image cleanup is adjusted to make it less aggressive as\nthe 'until' filtering has been seen to clear images which were\ncreated more recently than one hour.\n\nThe network pruning is removed as this causes zun to become out\nof sync with Docker which can prevent creation of new containers\non pruned networks.\n\nFinally, the default is to leave cleanup disabled so that it can\nbe enabled purely based upon user preference.\n\nChange-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c\n""}, {'number': 2, 'created': '2021-02-15 10:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/7e5d715939b397369cb0b73bc0a0601c324ef7f8', 'message': ""Improve image and network cleanup procedure\n\nThis adds periodic cleanup of the directory which zun uses to\ntemporarily cache images loaded from Glance to avoid it becoming\ntoo large.\n\nDocker image cleanup is adjusted to make it less aggressive as\nthe 'until' filtering has been seen to clear images which were\ncreated more recently than one hour.\n\nThe network pruning is removed as this causes zun to become out\nof sync with Docker which can prevent creation of new containers\non pruned networks.\n\nFinally, the default is to leave cleanup disabled so that it can\nbe enabled purely based upon user preference.\n\nAs Systemd timers cannot be disabled, this is achieved via a file\npresence check with can be overridden for manual execution.\n\nChange-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c\n""}, {'number': 3, 'created': '2021-02-19 09:38:40.000000000', 'files': ['releasenotes/notes/zun-docker-cleanup-471cd731f6963c61.yaml', 'tasks/zun_compute.yml', 'templates/zun-docker-cleanup.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/b5bd190e24d19f59dfe8e66bdee0b1298bcfd02f', 'message': ""Improve image and network cleanup procedure\n\nThis adds periodic cleanup of the directory which zun uses to\ntemporarily cache images loaded from Glance to avoid it becoming\ntoo large.\n\nDocker image cleanup is adjusted to make it less aggressive as\nthe 'until' filtering has been seen to clear images which were\ncreated more recently than one hour.\n\nThe network pruning is removed as this causes zun to become out\nof sync with Docker which can prevent creation of new containers\non pruned networks.\n\nFinally, the default is to leave cleanup disabled so that it can\nbe enabled purely based upon user preference.\n\nAs Systemd timers cannot be disabled, this is achieved via a file\npresence check with can be overridden for manual execution.\n\nChange-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c\n""}]",6,771218,b5bd190e24d19f59dfe8e66bdee0b1298bcfd02f,26,4,3,31542,,,0,"Improve image and network cleanup procedure

This adds periodic cleanup of the directory which zun uses to
temporarily cache images loaded from Glance to avoid it becoming
too large.

Docker image cleanup is adjusted to make it less aggressive as
the 'until' filtering has been seen to clear images which were
created more recently than one hour.

The network pruning is removed as this causes zun to become out
of sync with Docker which can prevent creation of new containers
on pruned networks.

Finally, the default is to leave cleanup disabled so that it can
be enabled purely based upon user preference.

As Systemd timers cannot be disabled, this is achieved via a file
presence check with can be overridden for manual execution.

Change-Id: I4532d9975a2e68a12a7755ca3798a59f4928593c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/18/771218/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/zun-docker-cleanup.j2', 'defaults/main.yml']",2,708c332cb86b98926daeb4f7401e9f5fb408fe32,zun-prune,zun_docker_prune_images: False,zun_docker_prune_images: True zun_docker_prune_networks: True,5,6
openstack%2Fcharm-neutron-gateway~master~I4561d693034d6e0181def787a53e95232d05fca7,openstack/charm-neutron-gateway,master,I4561d693034d6e0181def787a53e95232d05fca7,Remove -proposed from the focal-ussuri bundle,MERGED,2021-02-23 09:09:59.000000000,2021-03-01 10:44:09.000000000,2021-03-01 10:44:09.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:09:59.000000000', 'files': ['tests/bundles/focal-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/528d858907280d59027a7231586667b0a244f5dd', 'message': ""Remove -proposed from the focal-ussuri bundle\n\nThe -proposed bucket contains a buggy pip version at\nthe moment which leads to `pip freeze` failures in\nplacement's install hook. A similar change has\nalready been made in another bundle:\nhttps://review.opendev.org/c/openstack/charm-neutron-openvswitch/+/775801\n\nChange-Id: I4561d693034d6e0181def787a53e95232d05fca7\n""}]",0,777066,528d858907280d59027a7231586667b0a244f5dd,13,3,1,31289,,,0,"Remove -proposed from the focal-ussuri bundle

The -proposed bucket contains a buggy pip version at
the moment which leads to `pip freeze` failures in
placement's install hook. A similar change has
already been made in another bundle:
https://review.opendev.org/c/openstack/charm-neutron-openvswitch/+/775801

Change-Id: I4561d693034d6e0181def787a53e95232d05fca7
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/66/777066/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/focal-ussuri.yaml'],1,528d858907280d59027a7231586667b0a244f5dd,rm-proposed, openstack-origin: &openstack-origin distro, openstack-origin: &openstack-origin distro-proposed,1,1
openstack%2Fpython-monascaclient~master~Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,openstack/python-monascaclient,master,Ieeb3770c5b378218c218d1bcd91b962c4978f1b8,Uncap PrettyTable,MERGED,2021-02-23 15:00:13.000000000,2021-03-01 10:41:54.000000000,2021-03-01 10:40:09.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-23 15:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/26d577f97b5bb47906f4e7422fb76132e830bc2f', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8\n'}, {'number': 2, 'created': '2021-03-01 09:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/df103e64f5de4c58acada4a37d31515115c5720b', 'message': ""Uncap PrettyTable\n\nThe requirements project uncapped PrettyTable [2] as it is now\nmaintained as a Jazzband project [1]. Keeping a local cap makes the\nrequirements-check job fail:\n\nERROR: Requirement for package PrettyTable excludes a version not excluded in the global list.\n  Local settings : {'<0.8'}\n  Global settings: set()\n  Unexpected     : set()\n\n[1] https://review.opendev.org/c/openstack/requirements/+/774917\n[2] https://github.com/jazzband/prettytable\n\nChange-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8\n""}, {'number': 3, 'created': '2021-03-01 09:33:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/75e44a1e5f9d0d673ed1a4a5adfbb8a2c6061b76', 'message': ""Uncap PrettyTable\n\nThe requirements project uncapped PrettyTable [1] as it is now\nmaintained as a Jazzband project [2]. Keeping a local cap makes the\nrequirements-check job fail:\n\nERROR: Requirement for package PrettyTable excludes a version not excluded in the global list.\n  Local settings : {'<0.8'}\n  Global settings: set()\n  Unexpected     : set()\n\n[1] https://review.opendev.org/c/openstack/requirements/+/774917\n[2] https://github.com/jazzband/prettytable\n\nChange-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8\n""}]",2,777144,75e44a1e5f9d0d673ed1a4a5adfbb8a2c6061b76,15,3,3,15197,,,0,"Uncap PrettyTable

The requirements project uncapped PrettyTable [1] as it is now
maintained as a Jazzband project [2]. Keeping a local cap makes the
requirements-check job fail:

ERROR: Requirement for package PrettyTable excludes a version not excluded in the global list.
  Local settings : {'<0.8'}
  Global settings: set()
  Unexpected     : set()

[1] https://review.opendev.org/c/openstack/requirements/+/774917
[2] https://github.com/jazzband/prettytable

Change-Id: Ieeb3770c5b378218c218d1bcd91b962c4978f1b8
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/44/777144/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,26d577f97b5bb47906f4e7422fb76132e830bc2f,bump_prettytable_version,PrettyTable>=0.7.2 # BSD,"PrettyTable<0.8,>=0.7.2 # BSD",1,1
openstack%2Fansible-role-python_venv_build~master~I79a10a3f774246ab9c57313f19f3804f9422e08c,openstack/ansible-role-python_venv_build,master,I79a10a3f774246ab9c57313f19f3804f9422e08c,Gather facts for repo containers,MERGED,2021-02-25 10:20:41.000000000,2021-03-01 10:39:42.000000000,2021-03-01 10:37:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-02-25 10:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/6d48d486668935c87029aeabe10bad7dcf6512d2', 'message': ""Gather facts for repo containers\n\nWe can't evaluate `venv_wheel_build_enable` without gathered facts about\nrepo containers. And default facts cache is 1day. After that time role\nwill fail to evaluate the variable.\n\nChange-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c\n""}, {'number': 2, 'created': '2021-02-27 17:24:24.000000000', 'files': ['tasks/main.yml', 'tasks/python_venv_wheel_build.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632', 'message': ""Gather facts for repo containers\n\nWe can't evaluate `venv_wheel_build_enable` without gathered facts about\nrepo containers. And default facts cache is 1day. After that time role\nwill fail to evaluate the variable.\n\nChange-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c\n""}]",1,777559,f487ab46ba23b8d3f729900bd8bcbe7ef4d2d632,11,3,2,28619,,,0,"Gather facts for repo containers

We can't evaluate `venv_wheel_build_enable` without gathered facts about
repo containers. And default facts cache is 1day. After that time role
will fail to evaluate the variable.

Change-Id: I79a10a3f774246ab9c57313f19f3804f9422e08c
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/59/777559/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/python_venv_wheel_build.yml']",2,6d48d486668935c87029aeabe10bad7dcf6512d2,,,"- name: gather build target facts setup: gather_subset: '!all:hardware' delegate_to: ""{{ item }}"" delegate_facts: true with_items: ""{{ groups['repo_all'] | default([inventory_hostname]) }}"" ",7,7
openstack%2Fneutron~master~I1a5205303ebede533ffa6b3b85d4ec2f4b112426,openstack/neutron,master,I1a5205303ebede533ffa6b3b85d4ec2f4b112426,"Implement ""IPAllocation"" router ports allocated retrieval",MERGED,2021-02-19 13:59:28.000000000,2021-03-01 10:36:13.000000000,2021-03-01 10:33:42.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 13:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea62ef30d5a5d8254219806c283acac236c3d444', 'message': 'Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nTrivial-Fix\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n'}, {'number': 2, 'created': '2021-02-25 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0091c282973b9c8cc2dc5fb120920e64f6da6eb', 'message': '[WIP] Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nNOTE: I think I found an error. The gateway IP used to check the\nallocated router ports was the currently used one, instead of the\nnew one provided, that is the IP address to be tested.\nNow testing in the CI...\n\nCloses-Bug: #TBD\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n'}, {'number': 3, 'created': '2021-02-25 10:46:57.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7956d80ca481864502ba16a7c3a5f47891e11c4', 'message': 'Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nTrivial-Fix\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n'}]",0,776643,b7956d80ca481864502ba16a7c3a5f47891e11c4,38,5,3,16688,,,0,"Implement ""IPAllocation"" router ports allocated retrieval

Implemented a method, in ""IPAllocation"" OVO class, to retrieve
the allocated router ports.

The new query used dispenses with one of the inner join queries
required in the former query, making it faster.

This method allows to filter by gateway IP address and can return the
whole query list or just the first register found.

Trivial-Fix

Change-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/776643/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py']",2,ea62ef30d5a5d8254219806c283acac236c3d444,get_alloc_routerports," @classmethod def get_alloc_routerports(cls, context, subnet_id, gateway_ip=None, first=False): alloc_qry = context.session.query(cls.db_model.port_id) alloc_qry = alloc_qry.join( l3.RouterPort, l3.RouterPort.port_id == cls.db_model.port_id) alloc_qry.filter(cls.db_model.subnet_id == subnet_id) if gateway_ip: alloc_qry.filter(cls.db_model.ip_address == gateway_ip) if first: return alloc_qry.first() else: return alloc_qry.all() ",,20,8
openstack%2Fcharm-ceph-radosgw~master~I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,openstack/charm-ceph-radosgw,master,I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d,Remove reference to ntp package,MERGED,2021-02-25 09:31:29.000000000,2021-03-01 10:36:06.000000000,2021-03-01 10:36:06.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-25 09:31:29.000000000', 'files': ['hooks/hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/1e8e89e5826f2daeccaf0ff06442db9747151cc9', 'message': ""Remove reference to ntp package\n\nThis is motivated by the fact that NTP will be managed by\noperators through the NTP charm. In the other Ceph charms,\nNTP / Chrony are removed by the charm if the charm is in a\ncontainer because the ceph-base package will install it;\nhowever, this is unneceessary for the radosgw package\nbecause it doesn't depend on the ceph-common package.\n\nChange-Id: I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d\nCloses-Bug: #1915351\n""}]",0,777519,1e8e89e5826f2daeccaf0ff06442db9747151cc9,14,4,1,20634,,,0,"Remove reference to ntp package

This is motivated by the fact that NTP will be managed by
operators through the NTP charm. In the other Ceph charms,
NTP / Chrony are removed by the charm if the charm is in a
container because the ceph-base package will install it;
however, this is unneceessary for the radosgw package
because it doesn't depend on the ceph-common package.

Change-Id: I53ab9ece631bbaeed6e3cebba4ffbbcb1e32193d
Closes-Bug: #1915351
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/19/777519/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,1e8e89e5826f2daeccaf0ff06442db9747151cc9,bug/1915351,," is_container, 'ntp', if is_container(): PACKAGES.remove('ntp') ",0,5
openstack%2Fironic-python-agent-builder~master~I6f98d0afafa2acd746e67e23df2958a0ed3ac930,openstack/ironic-python-agent-builder,master,I6f98d0afafa2acd746e67e23df2958a0ed3ac930,Pass rescue user password during user creation,ABANDONED,2021-02-25 15:50:18.000000000,2021-03-01 10:34:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-25 15:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9ba33383c3b0b8c64eb6d8847eb7a3858b2a77d5', 'message': 'Pass rescue user password during user creation\n\nThis avoids issues that could happen with echo and pipe.\nHopefully.\n\nChange-Id: I6f98d0afafa2acd746e67e23df2958a0ed3ac930\n'}, {'number': 2, 'created': '2021-02-25 15:51:01.000000000', 'files': ['tinyipa/build_files/bootlocal.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b529609306f25c36848edd124f7185d88e1bb716', 'message': 'Pass rescue user password during user creation\n\nThis avoids issues that could happen with echo and pipe.\nHopefully.\n\nChange-Id: I6f98d0afafa2acd746e67e23df2958a0ed3ac930\n'}]",0,777611,b529609306f25c36848edd124f7185d88e1bb716,4,1,2,23851,,,0,"Pass rescue user password during user creation

This avoids issues that could happen with echo and pipe.
Hopefully.

Change-Id: I6f98d0afafa2acd746e67e23df2958a0ed3ac930
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/11/777611/1 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build_files/bootlocal.sh'],1,9ba33383c3b0b8c64eb6d8847eb7a3858b2a77d5,direct-rescue-pass," CRYPTED_RESCUE_PASS=$(cat /etc/ipa-rescue-config/ipa-rescue-password) # NOTE(rpittau) there is no useradd in tinycore sudo adduser rescue -D -G root -p $CRYPTED_RESCUE_PASS # NOTE(rpittau) there is no sudoers.d in tinycore sudo sh -c ""echo \""rescue ALL=(ALL) NOPASSWD: ALL\"" >> /etc/sudoers"""," crypted_pass=$(cat /etc/ipa-rescue-config/ipa-rescue-password) sudo adduser rescue -D -G root # no useradd echo ""rescue:$crypted_pass"" | sudo chpasswd -e sudo sh -c ""echo \""rescue ALL=(ALL) NOPASSWD: ALL\"" >> /etc/sudoers"" # no suooers.d in tiny core.",8,4
openstack%2Fswift~stable%2Ftrain~Icbe504fd1b7680ab45254fe9acb5010754222dd3,openstack/swift,stable/train,Icbe504fd1b7680ab45254fe9acb5010754222dd3,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:30:55.000000000,2021-03-01 10:25:41.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/202c98340e3fedb8398c9401551a9b3efcae2b46', 'message': 'Use swiftclient Connections in sharding probe tests\n\nThis gets us retries ""for free"" and should reduce gate flakiness.\n\nCherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756\nChange-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3\n'}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d6d027342d3580004aa3e90d4fbd31b560116783', 'message': 'Use swiftclient Connections in sharding probe tests\n\nThis gets us retries ""for free"" and should reduce gate flakiness.\n\nCherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756\nChange-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3\n'}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1f8c16fcaa9a2fe95c325a1c8b526c09bbf227b6', 'message': 'Use swiftclient Connections in sharding probe tests\n\nThis gets us retries ""for free"" and should reduce gate flakiness.\n\nCherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756\nChange-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3\n'}]",1,774341,1f8c16fcaa9a2fe95c325a1c8b526c09bbf227b6,15,2,3,597,,,0,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icbe504fd1b7680ab45254fe9acb5010754222dd3
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/774341/2 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,202c98340e3fedb8398c9401551a9b3efcae2b46,train-sharding," conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) for obj in obj_names: conn.put_object(self.container_name, obj, contents=contents) def delete_objects(self, obj_names_and_versions): conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) for obj in obj_names_and_versions: conn.delete_object(self.container_name, obj)"," for obj in obj_names: client.put_object(self.url, token=self.token, container=self.container_name, name=obj, contents=contents) def delete_objects(self, obj_names): for obj in obj_names: client.delete_object( self.url, self.token, self.container_name, obj)",6,7
openstack%2Fswift~stable%2Fussuri~I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,openstack/swift,stable/ussuri,I6cff16a00e48c4d069000dd54c6f4cb9f02f773d,Avoid loops when gathering container listings from shards,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:29:59.000000000,2021-03-01 10:25:49.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e69b3c60feb8c60cae5ec27508fd6f860d8c14e0', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nCherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\nChange-Id: I6cff16a00e48c4d069000dd54c6f4cb9f02f773d\n""}]",0,777289,e69b3c60feb8c60cae5ec27508fd6f860d8c14e0,11,3,1,597,,,0,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I6cff16a00e48c4d069000dd54c6f4cb9f02f773d
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/777289/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py']",3,e69b3c60feb8c60cae5ec27508fd6f860d8c14e0,ussuri-sharding," # Construct listing using shards described by the response body. # The history of containers that have returned shard ranges is # maintained in the request environ so that loops can be avoided by # forcing an object listing if the same container is visited again. # This can happen in at least two scenarios: # 1. a container has filled a gap in its shard ranges with a # shard range pointing to itself # 2. a root container returns a (stale) shard range pointing to a # shard that has shrunk into the root, in which case the shrunken # shard may return the root's shard range. shard_listing_history = req.environ.setdefault( 'swift.shard_listing_history', []) shard_listing_history.append((self.account_name, self.container_name)) if ((shard_range.account, shard_range.container) in shard_listing_history):", # construct listing using shards described by the response body if (shard_range.account == self.account_name and shard_range.container == self.container_name):,178,5
openstack%2Fneutron~master~I97ada62484023b9833ed12afd68eb4c8d337fd1f,openstack/neutron,master,I97ada62484023b9833ed12afd68eb4c8d337fd1f,"Improve ""get_devices_with_ip"" performance",MERGED,2021-02-24 15:04:26.000000000,2021-03-01 10:29:56.000000000,2021-03-01 10:24:44.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b3579595727a1ab42ea703002ad31364b20139f', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n'}, {'number': 2, 'created': '2021-02-25 07:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28152d29ccaa6b98fe6caf151e4c40378bd3f783', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n'}, {'number': 3, 'created': '2021-02-27 10:07:03.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57', 'message': 'Improve ""get_devices_with_ip"" performance\n\nAs reported in LP#1896734, there is a limit in the size of information\nthat can be transmitted in one single message between an application\nand the privsep daemon. The read socket buffer is limited in size;\na message exceeding this size will generate an exception.\n\nIn order to limit the amount of information to be sent, this patch\nimproves the performance of ""get_devices_with_ip"". In the previous\nimplementation, the whole list of network devices from a namespace\nwas retrieved. In some environments, the list of devices could be\nso big that the list returned by ""privileged.get_link_devices"" can\nexceed the read buffer size (as reported in the LP bug when the\nOVS agent tries to retrieve the list of IP addresses in the system).\n\nNow the function calls ""privileged.get_ip_addresses"", that returns\na much smaller list. This patch is also reducing the number of system\ncalls to just one; the previous implementation was retrieving first\nthe devices link information list (that method was returning a much\nbigger blob) and then, per device, retrieving the IP address\ninformation.\n\nChange-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f\nRelated-Bug: #1896734\n'}]",1,777401,a6cdf273c06a3bba713d7b8d0ef3a9b71b0ffc57,23,5,3,16688,,,0,"Improve ""get_devices_with_ip"" performance

As reported in LP#1896734, there is a limit in the size of information
that can be transmitted in one single message between an application
and the privsep daemon. The read socket buffer is limited in size;
a message exceeding this size will generate an exception.

In order to limit the amount of information to be sent, this patch
improves the performance of ""get_devices_with_ip"". In the previous
implementation, the whole list of network devices from a namespace
was retrieved. In some environments, the list of devices could be
so big that the list returned by ""privileged.get_link_devices"" can
exceed the read buffer size (as reported in the LP bug when the
OVS agent tries to retrieve the list of IP addresses in the system).

Now the function calls ""privileged.get_ip_addresses"", that returns
a much smaller list. This patch is also reducing the number of system
calls to just one; the previous implementation was retrieving first
the devices link information list (that method was returning a much
bigger blob) and then, per device, retrieving the IP address
information.

Change-Id: I97ada62484023b9833ed12afd68eb4c8d337fd1f
Related-Bug: #1896734
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/777401/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",3,5b3579595727a1ab42ea703002ad31364b20139f,bug/1896734,,"class ParseLinkDeviceTestCase(base.BaseTestCase): def setUp(self): super(ParseLinkDeviceTestCase, self).setUp() self._mock_get_ip_addresses = mock.patch.object(priv_lib, 'get_ip_addresses') self.mock_get_ip_addresses = self._mock_get_ip_addresses.start() self.addCleanup(self._stop_mock) def _stop_mock(self): self._mock_get_ip_addresses.stop() def test_parse_link_devices(self): device = ({'index': 1, 'attrs': [['IFLA_IFNAME', 'int_name']]}) self.mock_get_ip_addresses.return_value = [ {'prefixlen': 24, 'scope': 200, 'event': 'RTM_NEWADDR', 'attrs': [ ['IFA_ADDRESS', '192.168.10.20'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}, {'prefixlen': 64, 'scope': 200, 'event': 'RTM_DELADDR', 'attrs': [ ['IFA_ADDRESS', '2001:db8::1'], ['IFA_FLAGS', ifaddrmsg.IFA_F_PERMANENT]]}] retval = ip_lib._parse_link_device('namespace', device) expected = [{'scope': 'site', 'cidr': '192.168.10.20/24', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'added'}, {'scope': 'site', 'cidr': '2001:db8::1/64', 'dynamic': False, 'dadfailed': False, 'name': 'int_name', 'broadcast': None, 'tentative': False, 'event': 'removed'}] self.assertEqual(expected, retval) ",105,55
openstack%2Fswift~stable%2Ftrain~Ia313663ae43d7041d710f4122d2537e5e601908d,openstack/swift,stable/train,Ia313663ae43d7041d710f4122d2537e5e601908d,Address a sharder/replicator race,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:29:13.000000000,2021-03-01 10:25:08.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e849442be2e00295e2ca4fd61023c68c9394f791', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nCherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: Ia313663ae43d7041d710f4122d2537e5e601908d\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cce55dcee55070c5b5bbefdd912d47e84f4f4e9', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nCherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: Ia313663ae43d7041d710f4122d2537e5e601908d\n""}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/87c1aa0e0701a35f7bd16913c7622f1445081423', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nCherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: Ia313663ae43d7041d710f4122d2537e5e601908d\n""}]",0,774338,87c1aa0e0701a35f7bd16913c7622f1445081423,21,2,3,597,,,0,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: Ia313663ae43d7041d710f4122d2537e5e601908d
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/774338/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,e849442be2e00295e2ca4fd61023c68c9394f791,train-sharding," elif not own_shard_range.deleted: # else, our shard range is deleted, so root may have reclaimed it delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path)) "," else: delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path))",13,9
openstack%2Fnova~master~I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,openstack/nova,master,I0680d4e21f3e317ac702b55afef4c87e8acbfc3a,objects: Add 'socket' PCI NUMA affinity,MERGED,2021-01-27 16:58:06.000000000,2021-03-01 10:28:53.000000000,2021-03-01 10:26:14.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 16:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94c5e6208de09c87a89900708547606b18f31025', 'message': 'WIP: extra specs/image pros: add `socket PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 2, 'created': '2021-01-27 22:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0b934fa7802ece24dcf80e5336dc8b6ec490e34', 'message': 'WIP: extra specs/image pros: add `socket PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. This is to\nkeep the commits in this series small and manageable.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 3, 'created': '2021-01-28 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c3f1d7fbac8caa037a452914c5cf8c2fe1592eb', 'message': 'WIP: extra specs/image pros: add `socket PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. This is to\nkeep the commits in this series small and manageable.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 4, 'created': '2021-02-04 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0460d20baad2b271411d65e9d69ad961f9114994', 'message': 'WIP: extra specs/image pros: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 5, 'created': '2021-02-05 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5807a0861a1337e74309dd6cf7e74a9424fa17ec', 'message': 'WIP: extra specs/image pros: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 6, 'created': '2021-02-05 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1209437006102cdef643163c11f8208fe1463531', 'message': 'WIP: extra specs/image pros: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 7, 'created': '2021-02-06 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c64668cfe9135070cd04cfe8bab9c1ab88b68c2', 'message': 'WIP: extra specs/image pros: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 8, 'created': '2021-02-09 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f2b1bfc89bb8c76f2adc1be487e4abf9bfc806a', 'message': 'extra specs/image props: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 9, 'created': '2021-02-17 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbe0b80f5a76027a59b3856e8a8ef36657b9ce73', 'message': 'extra specs/image props: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 10, 'created': '2021-02-18 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a92a88ad1cb0b713b3adc2f1d494d29551064b8c', 'message': 'extra specs/image props: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 11, 'created': '2021-02-21 14:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9fb21b1666ed9acbfd79930a91bbdab2ab7bc1c', 'message': 'extra specs/image props: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 12, 'created': '2021-02-21 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f524c3d262a2daac7a4183007da6d3d89b9ea6d8', 'message': 'extra specs/image props: add `socket` PCI NUMA affinity\n\nThis patch adds the `socket` value to the allowed PCI NUMA affinity\npolicies, both to the `hw:pci_numa_affinity_policy` flavor extra spec,\nand the `hw_pci_numa_affinity_policy` image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n'}, {'number': 13, 'created': '2021-02-24 10:50:39.000000000', 'files': ['nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'nova/api/validation/extra_specs/hw.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/notifications/objects/request_spec.py', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/objects/image_meta.py', 'nova/objects/instance_pci_requests.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be80dfdc714d0f00c77d84d72703f7fea04d2f94', 'message': ""objects: Add 'socket' PCI NUMA affinity\n\nThis patch adds the 'socket' value to the allowed PCI NUMA affinity\npolicies, both to the 'hw:pci_numa_affinity_policy' flavor extra spec,\nand the 'hw_pci_numa_affinity_policy' image property.\n\nFor now the new value is a no-op and remains undocumented. It will be\nwired-in in a subsequent patch.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a\n""}]",9,772748,be80dfdc714d0f00c77d84d72703f7fea04d2f94,85,3,13,8864,,,0,"objects: Add 'socket' PCI NUMA affinity

This patch adds the 'socket' value to the allowed PCI NUMA affinity
policies, both to the 'hw:pci_numa_affinity_policy' flavor extra spec,
and the 'hw_pci_numa_affinity_policy' image property.

For now the new value is a no-op and remains undocumented. It will be
wired-in in a subsequent patch.

Implements: blueprint pci-socket-affinity
Change-Id: I0680d4e21f3e317ac702b55afef4c87e8acbfc3a
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/772748/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/objects/fields.py', 'nova/api/validation/extra_specs/hw.py']",3,94c5e6208de09c87a89900708547606b18f31025,bp/pci-socket-affinity," 'socket',",,9,1
openstack%2Fswift~stable%2Fussuri~Ifc5d1ae142f63520df49fe610c94b332dcea3180,openstack/swift,stable/ussuri,Ifc5d1ae142f63520df49fe610c94b332dcea3180,Populate shrinking shards with shard ranges learnt from root,MERGED,2021-02-24 03:15:09.000000000,2021-03-01 10:28:35.000000000,2021-03-01 10:24:58.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/18cdf9b5680b6d9a2201e9781771e3a5efac0355', 'message': ""Populate shrinking shards with shard ranges learnt from root\n\nShard shrinking can be instigated by a third party modifying shard\nranges, moving one shard to shrinking state and expanding the\nnamespace of one or more other shard(s) to act as acceptors. These\nstate and namespace changes must propagate to the shrinking and\nacceptor shards. The shrinking shard must also discover the acceptor\nshard(s) into which it will shard itself.\n\nThe sharder audit function already updates shards with their own state\nand namespace changes from the root. However, there is currently no\nmechanism for the shrinking shard to learn about the acceptor(s) other\nthan by a PUT request being made to the shrinking shard container.\n\nThis patch modifies the shard container audit function so that other\noverlapping shards discovered from the root are merged into the\naudited shard's db. In this way, the audited shard will have acceptor\nshards to cleave to if shrinking.\n\nThis new behavior is restricted to when the shard is shrinking. In\ngeneral, a shard is responsible for processing its own sub-shard\nranges (if any) and reporting them to root. Replicas of a shard\ncontainer synchronise their sub-shard ranges via replication, and do\nnot rely on the root to propagate sub-shard ranges between shard\nreplicas. The exception to this is when a third party (or\nauto-sharding) wishes to instigate shrinking by modifying the shard\nand other acceptor shards in the root container.  In other\ncircumstances, merging overlapping shard ranges discovered from the\nroot is undesirable because it risks shards inheriting other unrelated\nshard ranges. For example, if the root has become polluted by\nsplit-brain shard range management, a sharding shard may have its\nsub-shards polluted by an undesired shard from the root.\n\nDuring the shrinking process a shard range's own shard range state may\nbe either shrinking or, prior to this patch, sharded. The sharded\nstate could occur when one replica of a shrinking shard completed\nshrinking and moved the own shard range state to sharded before other\nreplica(s) had completed shrinking. This makes it impossible to\ndistinguish a shrinking shard (with sharded state), which we do want\nto inherit shard ranges, from a sharding shard (with sharded state),\nwhich we do not want to inherit shard ranges.\n\nThis patch therefore introduces a new shard range state, 'SHRUNK', and\napplies this state to shard ranges that have completed shrinking.\nShards are now restricted to inherit shard ranges from the root only\nwhen their own shard range state is either SHRINKING or SHRUNK.\n\nThis patch also:\n\n - Stops overlapping shrinking shards from generating audit warnings:\n   overlaps are cured by shrinking and we therefore expect shrinking\n   shards to sometimes overlap.\n\n - Extends an existing probe test to verify that overlapping shard\n   ranges may be resolved by shrinking a subset of the shard ranges.\n\n - Adds a --no-auto-shard option to swift-container-sharder to enable the\n   probe tests to disable auto-sharding.\n\n - Improves sharder logging, in particular by decrementing ranges_todo\n   when a shrinking shard is skipped during cleaving.\n\n - Adds a ShardRange.sort_key class method to provide a single definition\n   of ShardRange sort ordering.\n\n - Improves unit test coverage for sharder shard auditing.\n\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nCherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6\nChange-Id: Ifc5d1ae142f63520df49fe610c94b332dcea3180\n""}]",0,777288,18cdf9b5680b6d9a2201e9781771e3a5efac0355,11,3,1,597,,,0,"Populate shrinking shards with shard ranges learnt from root

Shard shrinking can be instigated by a third party modifying shard
ranges, moving one shard to shrinking state and expanding the
namespace of one or more other shard(s) to act as acceptors. These
state and namespace changes must propagate to the shrinking and
acceptor shards. The shrinking shard must also discover the acceptor
shard(s) into which it will shard itself.

The sharder audit function already updates shards with their own state
and namespace changes from the root. However, there is currently no
mechanism for the shrinking shard to learn about the acceptor(s) other
than by a PUT request being made to the shrinking shard container.

This patch modifies the shard container audit function so that other
overlapping shards discovered from the root are merged into the
audited shard's db. In this way, the audited shard will have acceptor
shards to cleave to if shrinking.

This new behavior is restricted to when the shard is shrinking. In
general, a shard is responsible for processing its own sub-shard
ranges (if any) and reporting them to root. Replicas of a shard
container synchronise their sub-shard ranges via replication, and do
not rely on the root to propagate sub-shard ranges between shard
replicas. The exception to this is when a third party (or
auto-sharding) wishes to instigate shrinking by modifying the shard
and other acceptor shards in the root container.  In other
circumstances, merging overlapping shard ranges discovered from the
root is undesirable because it risks shards inheriting other unrelated
shard ranges. For example, if the root has become polluted by
split-brain shard range management, a sharding shard may have its
sub-shards polluted by an undesired shard from the root.

During the shrinking process a shard range's own shard range state may
be either shrinking or, prior to this patch, sharded. The sharded
state could occur when one replica of a shrinking shard completed
shrinking and moved the own shard range state to sharded before other
replica(s) had completed shrinking. This makes it impossible to
distinguish a shrinking shard (with sharded state), which we do want
to inherit shard ranges, from a sharding shard (with sharded state),
which we do not want to inherit shard ranges.

This patch therefore introduces a new shard range state, 'SHRUNK', and
applies this state to shard ranges that have completed shrinking.
Shards are now restricted to inherit shard ranges from the root only
when their own shard range state is either SHRINKING or SHRUNK.

This patch also:

 - Stops overlapping shrinking shards from generating audit warnings:
   overlaps are cured by shrinking and we therefore expect shrinking
   shards to sometimes overlap.

 - Extends an existing probe test to verify that overlapping shard
   ranges may be resolved by shrinking a subset of the shard ranges.

 - Adds a --no-auto-shard option to swift-container-sharder to enable the
   probe tests to disable auto-sharding.

 - Improves sharder logging, in particular by decrementing ranges_todo
   when a shrinking shard is skipped during cleaving.

 - Adds a ShardRange.sort_key class method to provide a single definition
   of ShardRange sort ordering.

 - Improves unit test coverage for sharder shard auditing.

Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Cherry-Picked-From: I9034a5715406b310c7282f1bec9625fe7acd57b6
Change-Id: Ifc5d1ae142f63520df49fe610c94b332dcea3180
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/777288/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/swift-container-sharder', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",6,18cdf9b5680b6d9a2201e9781771e3a5efac0355,ussuri-sharding," ShardRange.SHARDED, ShardRange.SHRUNK): shard_ranges.sort(key=ShardRange.sort_key)"," ShardRange.SHARDED): # note if this ever changes to *not* sort by upper first then it breaks # a key assumption for bisect, which is used by utils.find_shard_ranges shard_ranges.sort(key=lambda sr: ( sr.upper, sr.state, sr.lower, sr.name))",621,175
openstack%2Fswift~stable%2Ftrain~I23a91efd4b1ef909fff355ca18976b8da331f9bf,openstack/swift,stable/train,I23a91efd4b1ef909fff355ca18976b8da331f9bf,Refactor audit shard tests,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:31.000000000,2021-03-01 10:25:31.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ae3277399689c86267e2b4e8a9060738ca48eae4', 'message': 'Refactor audit shard tests\n\nThe existing tests cover a lot of behaviors and carry around a lot of\nstate that makes them hard to extend in a descriptive mannor to cover\nnew or changed behaviors.\n\nCherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b\nChange-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf\n'}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a71e11e01d5990c16a2af67e409d74632d7e73e6', 'message': 'Refactor audit shard tests\n\nThe existing tests cover a lot of behaviors and carry around a lot of\nstate that makes them hard to extend in a descriptive mannor to cover\nnew or changed behaviors.\n\nCherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b\nChange-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf\n'}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d8c9e8a3ec6b79b8634c116af5d20323eb1f43f', 'message': 'Refactor audit shard tests\n\nThe existing tests cover a lot of behaviors and carry around a lot of\nstate that makes them hard to extend in a descriptive mannor to cover\nnew or changed behaviors.\n\nCherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b\nChange-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf\n'}]",0,774340,3d8c9e8a3ec6b79b8634c116af5d20323eb1f43f,14,3,3,597,,,0,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I23a91efd4b1ef909fff355ca18976b8da331f9bf
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/774340/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,ae3277399689c86267e2b4e8a9060738ca48eae4,train-sharding," def call_audit_container(self, broker, shard_ranges, exc=None): with self._mock_sharder() as sharder: with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift def assert_no_audit_messages(self, sharder, mock_swift, marker='k', end_marker='t'): self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) expected_stats = {'attempted': 1, 'success': 1, 'failure': 0} self._assert_stats(expected_stats, sharder, 'audit_shard') expected_headers = {'X-Backend-Record-Type': 'shard', 'X-Newest': 'true', 'X-Backend-Include-Deleted': 'True', 'X-Backend-Override-Deleted': 'true'} params = {'format': 'json', 'marker': marker, 'end_marker': end_marker} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) def test_audit_deleted_range_in_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' shard_bounds = ( ('a', 'j'), ('k', 't'), ('k', 's'), ('l', 's'), ('s', 'z')) shard_ranges = self._make_shard_ranges(shard_bounds, ShardRange.ACTIVE) shard_ranges[1].name = broker.path shard_ranges[1].update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) shard_ranges[1].deleted = 1 sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) self.assertTrue(broker.is_deleted()) def test_audit_deleted_range_missing_from_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' own_shard_range.update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) own_shard_range.deleted = 1 broker.merge_shard_ranges([own_shard_range]) self.assertFalse(broker.is_deleted()) sharder, mock_swift = self.call_audit_container(broker, []) self.assert_no_audit_messages(sharder, mock_swift)"," def call_audit_container(exc=None): with self._mock_sharder() as sharder: sharder.logger = debug_logger() with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() assert_ok() def call_audit_container(exc=None): with self._mock_sharder() as sharder: sharder.logger = debug_logger() with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() own_shard_range.deleted = 1 own_shard_range.timestamp = Timestamp.now() del shard_ranges[:] # root responds with no shard ranges assert_ok()",88,77
openstack%2Fswift~stable%2Ftrain~I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,openstack/swift,stable/train,I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3,container-sharding: Stable overlap order,MERGED,2021-02-06 02:29:07.000000000,2021-03-01 10:25:22.000000000,2021-03-01 10:25:22.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/743f4f0cd31740568f3c5dc65e87b007da93e074', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nCherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\nChange-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3\n'}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/469b17902835ac5658546931802e3666e7f0f21b', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nCherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\nChange-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3\n'}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/71921f8612e1de682f96962ac1a7094f789dcff1', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nCherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\nChange-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3\n'}]",0,774339,71921f8612e1de682f96962ac1a7094f789dcff1,14,3,3,597,,,0,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: I9e3b6391b3ea85ecd147916a2bf0f002c35fe5e3
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/774339/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,743f4f0cd31740568f3c5dc65e87b007da93e074,train-sharding," shard_ranges.sort(key=lambda sr: ( sr.upper, sr.state, sr.lower, sr.name))"," shard_ranges.sort(key=lambda sr: (sr.upper, sr.state, sr.lower))",42,1
openstack%2Freleases~master~Ia019d4fca4b44c508680b599c4b929c0b2923e80,openstack/releases,master,Ia019d4fca4b44c508680b599c4b929c0b2923e80,Release versions for ansible-roles,MERGED,2021-02-23 20:16:30.000000000,2021-03-01 10:18:03.000000000,2021-03-01 10:18:03.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-23 20:16:30.000000000', 'files': ['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-chrony.yaml', 'deliverables/_independent/ansible-role-container-registry.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/07ba3192c1fe87c5cfaa06b2e2f7fb1fbfefce69', 'message': 'Release versions for ansible-roles\n\nWe need to release ansible-role-chrony, ansible-role-container-registry,\nansible-role-redhat-subscription to get versions with ansible_facts\nbeing used.\n\nChange-Id: Ia019d4fca4b44c508680b599c4b929c0b2923e80\n'}]",0,777211,07ba3192c1fe87c5cfaa06b2e2f7fb1fbfefce69,15,5,1,14985,,,0,"Release versions for ansible-roles

We need to release ansible-role-chrony, ansible-role-container-registry,
ansible-role-redhat-subscription to get versions with ansible_facts
being used.

Change-Id: Ia019d4fca4b44c508680b599c4b929c0b2923e80
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/777211/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/ansible-role-redhat-subscription.yaml', 'deliverables/_independent/ansible-role-chrony.yaml', 'deliverables/_independent/ansible-role-container-registry.yaml']",3,07ba3192c1fe87c5cfaa06b2e2f7fb1fbfefce69,ansible-role-bump, - version: 1.3.0 projects: - repo: openstack/ansible-role-container-registry hash: 41c93a403dd720e505536836865342131193c6eb,,12,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,openstack/tripleo-heat-templates,stable/victoria,Ibe7925e4ee568d3d45e138d543b6d7064a8503a3,Always set NetworkDeploymentActions to its default,MERGED,2021-02-16 09:21:58.000000000,2021-03-01 10:15:16.000000000,2021-03-01 10:15:16.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 09:21:58.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58825e47368a233be31baef254df7afc95c6aef7', 'message': ""Always set NetworkDeploymentActions to its default\n\nThere are instances users use ``NetworkDeploymentActions`` to\ndo network configuration during update, but just drop the\nparameter for subsequent updates. This sometimes results in\nnetwork configuration changes in existing nodes and disruptions.\nLet's always set them to defaults unless overridden explicitly.\n\nChange-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3\nRelated: https://bugzilla.redhat.com/1928055\n(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)\n""}]",0,775777,58825e47368a233be31baef254df7afc95c6aef7,24,3,1,8833,,,0,"Always set NetworkDeploymentActions to its default

There are instances users use ``NetworkDeploymentActions`` to
do network configuration during update, but just drop the
parameter for subsequent updates. This sometimes results in
network configuration changes in existing nodes and disruptions.
Let's always set them to defaults unless overridden explicitly.

Change-Id: Ibe7925e4ee568d3d45e138d543b6d7064a8503a3
Related: https://bugzilla.redhat.com/1928055
(cherry picked from commit 92dcffc714bc92a28f610bf0322f04551aade758)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/775777/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,58825e47368a233be31baef254df7afc95c6aef7,, NetworkDeploymentActions: ['CREATE'] {{role.name}}NetworkDeploymentActions: [],,2,0
openstack%2Fansible-role-systemd_service~master~I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,openstack/ansible-role-systemd_service,master,I7cba791c6d6d90390e5adaf63a4797cbc320cbc5,Make systemd.service more consistent,MERGED,2021-01-21 17:52:53.000000000,2021-03-01 10:11:10.000000000,2021-03-01 10:08:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-21 17:52:53.000000000', 'files': ['templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/1cc15d7923d8936bc96b2f7e70c6b755df2f06da', 'message': ""Make systemd.service more consistent\n\nThis file doesn't need to change based on the whims of which order\nthe after_targets decide to jumble themselves into. By sorting the\nafter_targets we get less changes.\n\nChange-Id: I7cba791c6d6d90390e5adaf63a4797cbc320cbc5\n""}]",0,771869,1cc15d7923d8936bc96b2f7e70c6b755df2f06da,10,3,1,25600,,,0,"Make systemd.service more consistent

This file doesn't need to change based on the whims of which order
the after_targets decide to jumble themselves into. By sorting the
after_targets we get less changes.

Change-Id: I7cba791c6d6d90390e5adaf63a4797cbc320cbc5
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/69/771869/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/systemd-service.j2'],1,1cc15d7923d8936bc96b2f7e70c6b755df2f06da,,{% for target in after_targets | sort %},{% for target in after_targets %},1,1
openstack%2Foctavia~master~I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,openstack/octavia,master,I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b,Add HTTP/2 example to the load balancing cookbook,MERGED,2020-09-21 13:30:50.000000000,2021-03-01 10:09:23.000000000,2021-03-01 10:06:47.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-21 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/436f7522836799507aba73495187ee1dd0946246', 'message': 'Add HTTP/2 example to the load balancing cookbook\n\nChange-Id: I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b\n'}, {'number': 2, 'created': '2021-02-23 08:36:44.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c93a76b9f3d22bc131d899554c88ba1caf6dd249', 'message': 'Add HTTP/2 example to the load balancing cookbook\n\nChange-Id: I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b\n'}]",2,752952,c93a76b9f3d22bc131d899554c88ba1caf6dd249,14,4,2,6469,,,0,"Add HTTP/2 example to the load balancing cookbook

Change-Id: I55453a92ad8107bf19fc8dd20e5b5d90e2b6458b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/52/752952/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,436f7522836799507aba73495187ee1dd0946246,http2,"Deploy a secure HTTP/2 load balancer with ALPN TLS extension ------------------------------------------------------------ This example is exactly like :ref:`basic-tls-terminated-listener`, except that we would like to enable HTTP/2 load balancing. The load balancer negotiates HTTP/2 with clients as part of the TLS handshake via the Application-Layer Protocol Negotiation (ALPN) TLS extension. **Scenario description**: * Back-end servers 192.0.2.10 and 192.0.2.11 on subnet *private-subnet* have been configured with regular HTTP application on TCP port 80. * Subnet *public-subnet* is a shared external subnet created by the cloud operator which is reachable from the internet. * A TLS certificate, key, and intermediate certificate chain for www.example.com have been obtained from an external certificate authority. These now exist in the files server.crt, server.key, and ca-chain.crt in the current directory. The key and certificate are PEM-encoded, and the intermediate certificate chain is multiple PEM-encoded certs concatenated together. The key is not encrypted with a passphrase. * We want to configure a TLS-terminated HTTP/2 load balancer that is accessible from the internet using the key and certificate mentioned above, which distributes requests to the back-end servers over the non-encrypted HTTP protocol. * Octavia is configured to use barbican for key management. **Solution**: 1. Combine the individual cert/key/intermediates to a single PKCS12 file. 2. Create a barbican *secret* resource for the PKCS12 file. We will call this *tls_secret1*. 3. Create load balancer *lb1* on subnet *public-subnet*. 4. Create listener *listener1* as a TERMINATED_HTTPS listener referencing *tls_secret1* as its default TLS container, and *h2* ALPN protocol ID and *http/1.1* as fall-back protocol should the client not support HTTP/2. 5. Create pool *pool1* as *listener1*'s default pool. 6. Add members 192.0.2.10 and 192.0.2.11 on *private-subnet* to *pool1*. **CLI commands**: :: openssl pkcs12 -export -inkey server.key -in server.crt -certfile ca-chain.crt -passout pass: -out server.p12 openstack secret store --name='tls_secret1' -t 'application/octet-stream' -e 'base64' --payload=""$(base64 < server.p12)"" openstack loadbalancer create --name lb1 --vip-subnet-id public-subnet # Re-run the following until lb1 shows ACTIVE and ONLINE statuses: openstack loadbalancer show lb1 openstack loadbalancer listener create --protocol-port 443 --protocol TERMINATED_HTTPS --alpn-protocol h2 --alpn-protocol http/1.1 --name listener1 --default-tls-container=$(openstack secret list | awk '/ tls_secret1 / {print $2}') lb1 openstack loadbalancer pool create --name pool1 --lb-algorithm ROUND_ROBIN --listener listener1 --protocol HTTP openstack loadbalancer member create --subnet-id private-subnet --address 192.0.2.10 --protocol-port 80 pool1 openstack loadbalancer member create --subnet-id private-subnet --address 192.0.2.11 --protocol-port 80 pool1 ",,51,0
openstack%2Foctavia-tempest-plugin~master~I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,openstack/octavia-tempest-plugin,master,I0e719b5dc4fc2e62aefa282ac96647e02afd60bb,New test case: test_udp_update_pool_healthmonitor_listener,ABANDONED,2021-02-25 12:36:00.000000000,2021-03-01 09:46:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28609}]","[{'number': 1, 'created': '2021-02-25 12:36:00.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6057c977099313f93301609f0a36bfc8781b07f5', 'message': 'New test case: test_udp_update_pool_healthmonitor_listener\n\nTest scenario:\n1) Create: UDP listener, pool, healtmonitor and validate UDP traffic\n2) Update pool algorithm to: ""source_ip"" and validate UDP traffic\n3) Update healtmonitor with: ""delay=20"" and validate UDP traffic\n4) Update listener with: ""connection-limit=300"" and validate UDP traffic\n\nChange-Id: I0e719b5dc4fc2e62aefa282ac96647e02afd60bb\n'}]",0,777582,6057c977099313f93301609f0a36bfc8781b07f5,4,2,1,28609,,,0,"New test case: test_udp_update_pool_healthmonitor_listener

Test scenario:
1) Create: UDP listener, pool, healtmonitor and validate UDP traffic
2) Update pool algorithm to: ""source_ip"" and validate UDP traffic
3) Update healtmonitor with: ""delay=20"" and validate UDP traffic
4) Update listener with: ""connection-limit=300"" and validate UDP traffic

Change-Id: I0e719b5dc4fc2e62aefa282ac96647e02afd60bb
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/82/777582/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,6057c977099313f93301609f0a36bfc8781b07f5,test_udp_update_pool_healthmonitor_listener," def _make_udp_requests_with_retries( self, vip_address, number_of_retries, dst_port, src_port=None, socket_timeout=20): retry_number = 0 while retry_number < number_of_retries: LOG.info('_make_udp_requests_with_retries attempt number: {}'. format(retry_number)) retry_number += 1 try: self.make_udp_request( vip_address, dst_port, timeout=socket_timeout, source_port=src_port) break except Exception as e: LOG.warning('_make_udp_requests_with_retries {}'.format(e)) else: raise RuntimeError('Error - UDP requests failed to receive data!') hm = self._pool_add_healthmonitor(pool_id, protocol) def _pool_add_healthmonitor(self, pool_id, protocol): hm_name = data_utils.rand_name(""lb_member_hm1-hm-traffic"") if protocol != const.HTTP: if protocol == const.UDP: hm_type = const.HEALTH_MONITOR_UDP_CONNECT elif protocol == const.TCP: hm_type = const.HEALTH_MONITOR_TCP hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: hm_type, const.DELAY: 3, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.ADMIN_STATE_UP: True, } else: hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: const.HEALTH_MONITOR_HTTP, const.DELAY: 2, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.HTTP_METHOD: const.GET, const.URL_PATH: '/', const.EXPECTED_CODES: '200', const.ADMIN_STATE_UP: True, } hm = self.mem_healthmonitor_client.create_healthmonitor(**hm_kwargs) self.addCleanup( self.mem_healthmonitor_client.cleanup_healthmonitor, hm[const.ID], lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) hm = waiters.wait_for_status( self.mem_healthmonitor_client.show_healthmonitor, hm[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) return hm def _pause_vm(self, vm_id, action): if action == 'pause': return self.os_admin_servers_client.pause_server(vm_id) elif action == 'unpause': return self.os_admin_servers_client.unpause_server(vm_id) else: raise RuntimeError( 'Function ""_pause_vm"" failed to ' + action + ' ID: ' + vm_id) @decorators.idempotent_id('c79f2cd0-0324-11eb-bc8e-74e5f9e2a801') def test_udp_update_pool_healthmonitor_listener(self): """"""Test scenario: * Create: UDP listener, pool, healtmonitor and validate UDP traffic * Update pool algorithm to: ""source_ip"" and validate UDP traffic * Update healtmonitor with: ""delay=20"" and validate UDP traffic * Update listener with: ""connection-limit=300"" and validate UDP traffic """""" if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') listener_port = 102 high_src_port = 60093 listener_id, pool_id = self._listener_pool_create( const.UDP, listener_port) healthmonitor_id = self._pool_add_healthmonitor( pool_id, protocol=const.UDP)[const.ID] self._test_basic_traffic( const.UDP, listener_port, listener_id, pool_id) # Update pool self.mem_pool_client.update_pool( pool_id=pool_id, lb_algorithm=const.LB_ALGORITHM_SOURCE_IP) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) self._make_udp_requests_with_retries( vip_address=self.lb_vip_address, dst_port=listener_port, number_of_retries=3, src_port=high_src_port) # Update healthmonitor self.mem_healthmonitor_client.update_healthmonitor( healthmonitor_id=healthmonitor_id, delay=5) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) self._make_udp_requests_with_retries( vip_address=self.lb_vip_address, dst_port=listener_port, number_of_retries=3) # Update listener listener_kwargs = {const.LISTENER_ID: listener_id, const.CONNECTION_LIMIT: 300} self.mem_listener_client.update_listener(**listener_kwargs) waiters.wait_for_status(self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) self._make_udp_requests_with_retries( vip_address=self.lb_vip_address, dst_port=listener_port, number_of_retries=3)"," hm_name = data_utils.rand_name(""lb_member_hm1-hm-traffic"") if protocol != const.HTTP: if protocol == const.UDP: hm_type = const.HEALTH_MONITOR_UDP_CONNECT elif protocol == const.TCP: hm_type = const.HEALTH_MONITOR_TCP hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: hm_type, const.DELAY: 3, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.ADMIN_STATE_UP: True, } else: hm_kwargs = { const.POOL_ID: pool_id, const.NAME: hm_name, const.TYPE: const.HEALTH_MONITOR_HTTP, const.DELAY: 2, const.TIMEOUT: 2, const.MAX_RETRIES: 2, const.MAX_RETRIES_DOWN: 2, const.HTTP_METHOD: const.GET, const.URL_PATH: '/', const.EXPECTED_CODES: '200', const.ADMIN_STATE_UP: True, } hm = self.mem_healthmonitor_client.create_healthmonitor(**hm_kwargs) self.addCleanup( self.mem_healthmonitor_client.cleanup_healthmonitor, hm[const.ID], lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout) hm = waiters.wait_for_status( self.mem_healthmonitor_client.show_healthmonitor, hm[const.ID], const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout)",136,48
openstack%2Fansible-role-python_venv_build~master~Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,openstack/ansible-role-python_venv_build,master,Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:20:19.000000000,2021-03-01 09:45:15.000000000,2021-03-01 09:42:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b856b7721cfdf9c3363adbe471373928e722d731', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913\n'}, {'number': 2, 'created': '2021-02-23 12:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/763859044bd7462cc136846ea0d5182d555a914b', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913\n'}, {'number': 3, 'created': '2021-02-25 12:24:09.000000000', 'files': ['tasks/python_venv_install_symlink.yml', 'tests/test.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/2a533ed185c693711cb1fbb11f588d84c973df90', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913\n'}]",1,777068,2a533ed185c693711cb1fbb11f588d84c973df90,19,4,3,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Iec4a2a8c5251ddccedc4310c26c8fd2ca8bdc913
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/68/777068/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_install_symlink.yml', 'tests/test.yml', 'tasks/python_venv_wheel_build.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/python_venv_install.yml']",6,b856b7721cfdf9c3363adbe471373928e722d731,osa-facts," update_cache: ""{{ (ansible_facts['pkg_mgr'] in ['apt', 'zypper']) | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_facts['pkg_mgr'] == 'apt') | ternary(venv_distro_cache_valid_time, omit) }}"" {{ (ansible_facts['pkg_mgr'] == 'apt') | ternary('--always-copy', '') }}"," update_cache: ""{{ (ansible_pkg_mgr in ['apt', 'zypper']) | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_pkg_mgr == 'apt') | ternary(venv_distro_cache_valid_time, omit) }}"" {{ (ansible_pkg_mgr == 'apt') | ternary('--always-copy', '') }}",23,23
openstack%2Fopenstack-ansible-ops~master~I22b6735ad211e60b61d74cea34c7987d74bc8596,openstack/openstack-ansible-ops,master,I22b6735ad211e60b61d74cea34c7987d74bc8596,Fix regex_replace mapping,MERGED,2020-11-12 13:33:50.000000000,2021-03-01 09:24:18.000000000,2021-03-01 09:21:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2020-11-12 13:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/462c7fb8e25990f8a5c7ae3fa2b22e6c04902d23', 'message': ""Fix regex_replace mapping\n\nWith current mapping we result in elasticsearch_data_node_details being\n172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which\nmeans that map is applied twice to the same item\nChanging regexp helps to resolve it. It looks like related to what [1] have seen\n\nAlso we don't need to transform to list when doing another map, as\nworking with generator object is more resource efficient.\n\n[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901\n\nChange-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596\n""}, {'number': 2, 'created': '2021-03-01 08:15:54.000000000', 'files': ['elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd', 'message': ""Fix regex_replace mapping\n\nWith current mapping we result in elasticsearch_data_node_details being\n172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which\nmeans that map is applied twice to the same item\nChanging regexp helps to resolve it. It looks like related to what [1] have seen\n\nAlso we don't need to transform to list when doing another map, as\nworking with generator object is more resource efficient.\n\n[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901\n\nChange-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596\n""}]",0,762519,59edfb9b32f7aab4eaaf783d8cbfff86afc6e8dd,11,3,2,28619,,,0,"Fix regex_replace mapping

With current mapping we result in elasticsearch_data_node_details being
172.29.236.126:9200:9200 instead of 172.29.236.126:9200 which
means that map is applied twice to the same item
Changing regexp helps to resolve it. It looks like related to what [1] have seen

Also we don't need to transform to list when doing another map, as
working with generator object is more resource efficient.

[1] https://gist.github.com/halberom/9bfe009c9a3df5d64c7bb505a7700430#gistcomment-2706901

Change-Id: I22b6735ad211e60b61d74cea34c7987d74bc8596
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/19/762519/2 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elastic_data_hosts/vars/data-node-variables.yml'],1,462c7fb8e25990f8a5c7ae3fa2b22e6c04902d23,elk_adjustments," | default((c_nodes | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ elastic_port) | list)) | default((data_nodes | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ elastic_port) | list) | default((groups['logstash'] | map('extract', hostvars, 'ansible_host')) | map('regex_replace', '^(.*)$' ,'\1:' ~ logstash_beat_input_port) | list)"," | default((c_nodes | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ elastic_port) | list)) | default((data_nodes | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ elastic_port) | list) | default((groups['logstash'] | map('extract', hostvars, 'ansible_host') | list) | map('regex_replace', '(.*)' ,'\1:' ~ logstash_beat_input_port) | list)",6,6
openstack%2Fopenstack-ansible-ops~master~I97b728484894e75ebc8c4e55b98b2e3eea42baf6,openstack/openstack-ansible-ops,master,I97b728484894e75ebc8c4e55b98b2e3eea42baf6,Get elastic plugins via proxy,MERGED,2021-01-07 10:22:37.000000000,2021-03-01 09:22:59.000000000,2021-03-01 09:21:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-07 10:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/70100fd02743419336639f4a82ac3d490df96481', 'message': ""Get elastic plugins via proxy\n\nSome environments don't have routed internet and can only get data\nvia proxies. If proxy_env_url is set, try getting files via that.\n\nChange-Id: I97b728484894e75ebc8c4e55b98b2e3eea42baf6\n""}, {'number': 2, 'created': '2021-03-01 08:13:51.000000000', 'files': ['elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_plugins.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/c7e76e119f0ef418760ced39bd1ae77f44eb7bb9', 'message': ""Get elastic plugins via proxy\n\nSome environments don't have routed internet and can only get data\nvia proxies. If proxy_env_url is set, try getting files via that.\n\nChange-Id: I97b728484894e75ebc8c4e55b98b2e3eea42baf6\n""}]",0,769701,c7e76e119f0ef418760ced39bd1ae77f44eb7bb9,10,3,2,25600,,,0,"Get elastic plugins via proxy

Some environments don't have routed internet and can only get data
via proxies. If proxy_env_url is set, try getting files via that.

Change-Id: I97b728484894e75ebc8c4e55b98b2e3eea42baf6
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/01/769701/2 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/roles/elasticsearch/tasks/elasticsearch_plugins.yml'],1,70100fd02743419336639f4a82ac3d490df96481,," when: proxy_env_url is not defined - name: Install plugins via proxy command: ""/usr/share/elasticsearch/bin/elasticsearch-plugin install --batch --verbose {{ item.remote | default(item.name) }}"" environment: ES_JAVA_OPTS: ""-Dhttp.proxyHost={{ proxy_env_url | urlsplit('hostname') }} -Dhttp.proxyPort={{ proxy_env_url | urlsplit('port') }} -Dhttps.proxyHost={{ proxy_env_url | urlsplit('hostname') }} -Dhttps.proxyPort={{ proxy_env_url | urlsplit('port') }}"" with_items: ""{{ elastic_plugins }}"" when: proxy_env_url is defined",,8,0
openstack%2Fopenstack-ansible-ops~master~I486e12555113b9209d8563598ca63e9de4fd1dc7,openstack/openstack-ansible-ops,master,I486e12555113b9209d8563598ca63e9de4fd1dc7,Remove `elastic_lxc_template_config` mapping,MERGED,2020-11-12 11:01:12.000000000,2021-03-01 09:21:17.000000000,2021-03-01 09:21:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2020-11-12 11:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fc8b337689d0fc9d678c4f1d63ec331dead251fe', 'message': ""Remove `elastic_lxc_template_config` mapping\n\nWe don't have OS at this moment that have lxc2, so mapping can be dropped\nThis fil also bring ubuntu focal support, since it has only lxc4.\n\nChange-Id: I486e12555113b9209d8563598ca63e9de4fd1dc7\n""}, {'number': 2, 'created': '2021-03-01 08:16:22.000000000', 'files': ['elk_metrics_7x/roles/elastic_dependencies/defaults/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6565d14ae05b13f595d103525846f1a22ca8c5f0', 'message': ""Remove `elastic_lxc_template_config` mapping\n\nWe don't have OS at this moment that have lxc2, so mapping can be dropped\nThis fil also bring ubuntu focal support, since it has only lxc4.\n\nChange-Id: I486e12555113b9209d8563598ca63e9de4fd1dc7\n""}]",0,762501,6565d14ae05b13f595d103525846f1a22ca8c5f0,10,3,2,28619,,,0,"Remove `elastic_lxc_template_config` mapping

We don't have OS at this moment that have lxc2, so mapping can be dropped
This fil also bring ubuntu focal support, since it has only lxc4.

Change-Id: I486e12555113b9209d8563598ca63e9de4fd1dc7
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/01/762501/2 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_dependencies/defaults/main.yml', 'elk_metrics_7x/roles/elastic_dependencies/tasks/main.yml']",2,fc8b337689d0fc9d678c4f1d63ec331dead251fe,elk_adjustments," - ""lxc.mount.entry=/openstack/{{ inventory_hostname }}/{{ service_name }} var/lib/{{ service_name }} none bind 0 0"" - ""lxc.apparmor.profile=unconfined"""," - ""{{ elastic_lxc_template_config[(lxc_major_version | int)]['mount'] }}=/openstack/{{ inventory_hostname }}/{{ service_name }} var/lib/{{ service_name }} none bind 0 0"" - ""{{ elastic_lxc_template_config[(lxc_major_version | int)]['aa_profile'] }}=unconfined""",2,10
openstack%2Fpython-monascaclient~master~I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,openstack/python-monascaclient,master,I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5,[DNM] Test requirements-check job,ABANDONED,2021-03-01 09:13:05.000000000,2021-03-01 09:21:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 09:13:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/96c294e9fb3b27d2e62a2e90121659d7f8f71897', 'message': '[DNM] Test requirements-check job\n\nChange-Id: I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5\n'}]",0,777942,96c294e9fb3b27d2e62a2e90121659d7f8f71897,3,1,1,15197,,,0,"[DNM] Test requirements-check job

Change-Id: I14b9983c3bc54932e60ad1a0cb87bc77f4abaee5
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/42/777942/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,96c294e9fb3b27d2e62a2e90121659d7f8f71897,dnm,bandit>=1.6.2 # Apache-2.0,bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fopenstack-zuul-jobs~master~Icd86fb696f3c9fe383c28888acd914144ff3a1c4,openstack/openstack-zuul-jobs,master,Icd86fb696f3c9fe383c28888acd914144ff3a1c4,Fix hacking min version to 4.0.0,ABANDONED,2020-11-02 06:04:09.000000000,2021-03-01 09:21:02.000000000,,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-02 06:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4bb53ea8e48746c442b4c3fac2f68c983ab67282', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4\n'}, {'number': 2, 'created': '2020-11-02 08:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/85dc24f0bf193f3b5d8e163c2e26d60c009920c1', 'message': 'Fix hacking min version to 3.2.0\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4\n'}, {'number': 3, 'created': '2020-11-02 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7ce5ecc6bd0a06f7fedf85c5a95a9d3c02bef36f', 'message': 'Fix hacking min version to 3.2.0\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4\n'}, {'number': 4, 'created': '2020-11-03 00:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a4bc0961f6a6e4e27cfe37727883208c152fa51d', 'message': 'Fix hacking min version to 3.2.0\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4\n'}, {'number': 5, 'created': '2021-03-01 01:10:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9b0c52ce51c9542301085f0561866ab9e77bbc2c', 'message': 'Fix hacking min version to 4.0.0\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, and hacking 4.0.0 is available,\nwe need to bump the hacking min version.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4\n'}]",4,760746,9b0c52ce51c9542301085f0561866ab9e77bbc2c,22,4,5,32291,,,0,"Fix hacking min version to 4.0.0

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, and hacking 4.0.0 is available,
we need to bump the hacking min version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Icd86fb696f3c9fe383c28888acd914144ff3a1c4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/46/760746/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4bb53ea8e48746c442b4c3fac2f68c983ab67282,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fopenstack-ansible-ops~master~I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,openstack/openstack-ansible-ops,master,I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4,Make ELK Journalbeat seek configuration a variable,MERGED,2020-07-31 14:15:14.000000000,2021-03-01 09:20:11.000000000,2021-03-01 09:18:38.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31749}]","[{'number': 1, 'created': '2020-07-31 14:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5c456482e27a5e6567898f31c75bd0fb676ce80c', 'message': 'Make ELK Journalbeat seek configuration a variable\n\nAllow users to specifiy the journalbeat configuration for where to\nstart reading journals from.\nhttps://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek\n\nChange-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4\n'}, {'number': 2, 'created': '2020-07-31 14:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/9e23263764381c0bdc7a78420371726a0ded4a64', 'message': 'Make ELK Journalbeat seek configuration a variable\n\nAllow users to specifiy the journalbeat configuration for where to\nstart reading journals from.\nhttps://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek\n\nDepends-On: https://review.opendev.org/741997\nChange-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4\n'}, {'number': 3, 'created': '2020-11-17 14:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6ba6131445d81090ecb03c1c56be573e4d8e50c6', 'message': 'Make ELK Journalbeat seek configuration a variable\n\nAllow users to specifiy the journalbeat configuration for where to\nstart reading journals from.\nhttps://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek\n\nDepends-On: https://review.opendev.org/741997\nChange-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4\n'}, {'number': 4, 'created': '2021-03-01 08:16:13.000000000', 'files': ['elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/dd12e4d611ada48168502de06d40853f5664e68a', 'message': 'Make ELK Journalbeat seek configuration a variable\n\nAllow users to specifiy the journalbeat configuration for where to\nstart reading journals from.\nhttps://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek\n\nDepends-On: https://review.opendev.org/741997\nChange-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4\n'}]",0,744180,dd12e4d611ada48168502de06d40853f5664e68a,25,6,4,31749,,,0,"Make ELK Journalbeat seek configuration a variable

Allow users to specifiy the journalbeat configuration for where to
start reading journals from.
https://www.elastic.co/guide/en/beats/journalbeat/current/configuration-journalbeat-options.html#seek

Depends-On: https://review.opendev.org/741997
Change-Id: I0d611f7cf3f30d054452cd6f1e426f5d13c06ac4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/80/744180/3 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_journalbeat/templates/journalbeat.yml.j2', 'elk_metrics_7x/roles/elastic_journalbeat/defaults/main.yml']",2,5c456482e27a5e6567898f31c75bd0fb676ce80c,elk-journalbeat-seek,"# Position to start reading from journal. Valid values: head, tail, cursor journalbeat_seek: head ",,4,1
openstack%2Fkayobe~stable%2Fussuri~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/ussuri,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:19:15.000000000,2021-03-01 09:17:56.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 07:19:15.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6a15a595aa0dabf5640340f98eb26371fad100d6', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. The seed VM job also has trouble on Vexxhost,\nalthough does sometimes pass. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nNote: compared to the original commit, the custom configuration for\nironic is removed since it only applies to Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)\n""}]",0,777723,6a15a595aa0dabf5640340f98eb26371fad100d6,5,2,1,15197,,,0,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/777723/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml']",4,6a15a595aa0dabf5640340f98eb26371fad100d6,,," # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3 # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3",18,6
openstack%2Fkayobe~stable%2Ftrain~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/train,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:21:55.000000000,2021-03-01 09:17:42.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 07:21:55.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/36287d027c07537367f9407b041503352542d5f7', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. The seed VM job also has trouble on Vexxhost,\nalthough does sometimes pass. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nNote: compared to the original commit, the custom configuration for\nironic is removed since it only applies to Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)\n""}]",0,777724,36287d027c07537367f9407b041503352542d5f7,3,2,1,15197,,,0,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/777724/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml']",2,36287d027c07537367f9407b041503352542d5f7,," # FIXME(mgoddard): work out what's going wrong here. - name: Fail if running on Vexxhost infra fail: msg: Baremetal tests fail on vexxhost - roll the dice again when: ""'vexxhost' in ansible_hostname"" ",,12,0
openstack%2Fdevstack~master~I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,openstack/devstack,master,I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08,Install 'httpd' package earlier on RedHat distros,ABANDONED,2020-12-14 08:45:14.000000000,2021-03-01 09:14:15.000000000,,"[{'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13988}, {'_account_id': 16385}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-14 08:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9666e2d3ced26dbaebc52f418f62388cb9893f29', 'message': ""[WIP] Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to\nwrite modules configuration files at\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 2, 'created': '2020-12-14 08:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c12e1e1b71c6d7ee9d29fa2706e5c65142796ca6', 'message': ""[WIP] Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to\nwrite modules configuration files at\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 3, 'created': '2020-12-14 10:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0752e6684c933c7855dd38689967f6c1b7dde07', 'message': ""[WIP] Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to\nwrite modules configuration files at\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 4, 'created': '2020-12-14 10:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6247ba8c436a560b8c4e70f676d40757c5088ac6', 'message': ""Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to write\nmodules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 5, 'created': '2020-12-14 12:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5d5877d22dd25a9eb2a766b6c3dc1fc8ef6c2f43', 'message': ""Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to write\nmodules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 6, 'created': '2020-12-14 13:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/805ac2cb2754319af7217fca489d21fd2e44c4a9', 'message': ""Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to write\nmodules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 7, 'created': '2020-12-16 11:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/03a7ef6ff05ad4fea9003d1cde3cf6bb4fa1869f', 'message': ""Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to write\nmodules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 8, 'created': '2020-12-16 11:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/dfd3f06131b65dd47329fa6c926370eddbbe4db6', 'message': ""Install 'httpd' pakcage on RedHat distros\n\n'httpd' package is required to be able to write\nmodules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 9, 'created': '2020-12-16 12:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1fa498b885eb8ba8ea1ee0edb7b16296b02cd8cb', 'message': ""Install 'httpd' package earlier on RedHat distros\n\n'httpd' package installation is required before\nwriting modules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 10, 'created': '2020-12-17 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c0dda8f3c7a23498de2fade70ab33ff5ecf0fd84', 'message': ""Install 'httpd' package earlier on RedHat distros\n\n'httpd' package installation is required before\nwriting modules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 11, 'created': '2020-12-17 14:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e8fe1bfb068bcf1ec8e958a36a34a1ec3c20f50d', 'message': ""Install 'httpd' package earlier on RedHat distros\n\n'httpd' package installation is required before\nwriting modules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}, {'number': 12, 'created': '2020-12-23 14:23:06.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/709f60627cf315c9b2ab5275ff13b29f09d5d91e', 'message': ""Install 'httpd' package earlier on RedHat distros\n\n'httpd' package installation is required before\nwriting modules configuration files on folder\n'/etc/httpd/conf.modules.d/'\n\nCloses-Bug: #1908397\nChange-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08\n""}]",4,766892,709f60627cf315c9b2ab5275ff13b29f09d5d91e,26,7,12,27329,,,0,"Install 'httpd' package earlier on RedHat distros

'httpd' package installation is required before
writing modules configuration files on folder
'/etc/httpd/conf.modules.d/'

Closes-Bug: #1908397
Change-Id: I322ad6311a82e2da8fe4981c1ecfcd42da4e8d08
",git fetch https://review.opendev.org/openstack/devstack refs/changes/92/766892/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,9666e2d3ced26dbaebc52f418f62388cb9893f29,centos-8, install_package httpd \ uwsgi \, # Note httpd comes with mod_proxy_uwsgi and it is loaded by # default; the mod_proxy_uwsgi package actually conflicts now. # See: # https://bugzilla.redhat.com/show_bug.cgi?id=1574335 # # Thus there is nothing else to do after this install install_package uwsgi \,3,7
openstack%2Fdevstack~master~Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,openstack/devstack,master,Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c,Remove libyaml-devel package installation,ABANDONED,2020-12-14 15:14:14.000000000,2021-03-01 09:13:55.000000000,,"[{'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13988}, {'_account_id': 16385}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-14 15:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/260cf70150449a6001ce2d34f5d53e9bf6612b90', 'message': '[WIP] Are libyaml-devel and PowerTools actually required?\n\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 2, 'created': '2020-12-14 15:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7660bac7101355c90ceb969709cbbc98a1d0dda5', 'message': '[WIP] Are libyaml-devel and PowerTools actually required?\n\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 3, 'created': '2020-12-14 17:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b9d93915a4307d74b47a0537fc800c4e31a8dcae', 'message': 'Remove libyaml-devel and PowerTools\n\nBecause libyaml-devel package is no more required we\ncan also remove subscription to PowerTools\n\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 4, 'created': '2020-12-16 12:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25874eb6409e1ccd185992698bb7af5444960557', 'message': 'Remove libyaml-devel package installation\n\nlibyaml-devel package is no more required,\ntherefore we can now also remove subscription to\nPowerTools repository\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 5, 'created': '2020-12-16 12:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/450706443fcdf858ee2953a7b34b464d6325cec8', 'message': 'Remove libyaml-devel package installation\n\nlibyaml-devel package is no more required,\ntherefore we can now also remove subscription to\nPowerTools repository\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 6, 'created': '2020-12-16 12:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/366ca92dadacafde3126fbd74cfa9c6cfa1f81cf', 'message': 'Remove libyaml-devel package installation\n\nlibyaml-devel package is no more required,\ntherefore we can now also remove subscription to\nPowerTools repository\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 7, 'created': '2020-12-17 14:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c3f68d63fdfaddf1e3bfff882d09e7579574b619', 'message': 'Remove libyaml-devel package installation\n\nlibyaml-devel package is no more required,\ntherefore we can now also remove subscription to\nPowerTools repository\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 8, 'created': '2020-12-17 14:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b52ba2fbd68f3424ddb12c0e2c5effb348fcd1a', 'message': 'Remove libyaml-devel package installation\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}, {'number': 9, 'created': '2020-12-23 14:22:46.000000000', 'files': ['files/rpms/general', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0104deca1f76ca729aed3a6850e8560d152da269', 'message': 'Remove libyaml-devel package installation\n\nCloses-Bug: #1907213\nChange-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c\n'}]",1,766970,0104deca1f76ca729aed3a6850e8560d152da269,18,6,9,27329,,,0,"Remove libyaml-devel package installation

Closes-Bug: #1907213
Change-Id: Ied79f87a20657e6dc3fe9e19f5c8e2cfa6822f3c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/766970/2 && git format-patch -1 --stdout FETCH_HEAD,"['files/rpms/general', 'stack.sh']",2,260cf70150449a6001ce2d34f5d53e9bf6612b90,centos-8,, # PowerTools repo provides libyaml-devel required by devstack itself and # EPEL packages assume that the PowerTools repository is enable. sudo dnf config-manager --set-enabled PowerTools ,0,5
openstack%2Fnetworking-bagpipe~master~I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,openstack/networking-bagpipe,master,I18dec37fa415cf4a3cb7c94153295eafa2ce3e77,Set secure mode for mpls bridge,MERGED,2021-02-09 13:08:01.000000000,2021-03-01 09:05:21.000000000,2021-03-01 09:04:02.000000000,"[{'_account_id': 8313}, {'_account_id': 9542}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4f03e3fff02e30a60c6f0d0aa0c9a10c89c83db3', 'message': 'Set secure mode for mpls bridge\n\nRelated-Prod: PRODX-11480\nChange-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77\n'}, {'number': 2, 'created': '2021-02-12 08:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7a747e229f8a2378c91e6e5ec74a886e8d05467c', 'message': 'Set secure mode for mpls bridge\n\nCloses-Bug: #1915499\nChange-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77\n'}, {'number': 3, 'created': '2021-02-12 12:07:14.000000000', 'files': ['networking_bagpipe/agent/bgpvpn/agent_extension.py', 'networking_bagpipe/tests/unit/agent/base.py', 'networking_bagpipe/tests/unit/agent/bgpvpn/test_agent_extension.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/144f243a081e65fc31c020e12a4340371e83e8f4', 'message': 'Set secure mode for mpls bridge\n\nCloses-Bug: #1915499\n\nChange-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77\n'}]",4,774640,144f243a081e65fc31c020e12a4340371e83e8f4,15,4,3,14525,,,0,"Set secure mode for mpls bridge

Closes-Bug: #1915499

Change-Id: I18dec37fa415cf4a3cb7c94153295eafa2ce3e77
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/40/774640/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/agent/bgpvpn/agent_extension.py', 'networking_bagpipe/tests/unit/agent/base.py', 'networking_bagpipe/tests/unit/agent/bgpvpn/test_agent_extension.py']",3,4f03e3fff02e30a60c6f0d0aa0c9a10c89c83db3,or_m," bulk_pull_patcher = mock.patch.object( self.agent_ext.rpc_pull_api, 'bulk_pull') self.mocked_rpc_pull = bulk_pull_patcher.start() self.addCleanup(bulk_pull_patcher.stop) self.agent_ext.mpls_br.set_secure_mode.assert_called_once()"," self.mocked_rpc_pull = mock.patch.object( self.agent_ext.rpc_pull_api, 'bulk_pull').start()",12,2
openstack%2Fcinder~master~Ia08c252d747148e624f8d9e8b0e43f94773421e0,openstack/cinder,master,Ia08c252d747148e624f8d9e8b0e43f94773421e0,[RBD] Fix snapshot backup name,MERGED,2020-12-17 16:08:41.000000000,2021-03-01 08:50:01.000000000,2021-02-20 13:34:51.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-17 16:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6fd40dbd60905409e25440ca3d2189a8cc1fb29', 'message': '[RBD] Fix snapshot backup name\n\nWe always create a full backup for snapshots. It means we have to\ngenerate a correct buckup name for a base backup.\n\nChange-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0\n'}, {'number': 2, 'created': '2020-12-17 16:09:22.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f04d905a63fe02f5a660e9852bdacbc2bc0f9233', 'message': '[RBD] Fix snapshot backup name\n\nWe always create a full backup for snapshots. It means we have to\ngenerate a correct buckup name for a base backup.\n\nCloses-Bug: #1860739\nChange-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0\n'}]",0,767581,f04d905a63fe02f5a660e9852bdacbc2bc0f9233,71,5,2,1736,,,0,"[RBD] Fix snapshot backup name

We always create a full backup for snapshots. It means we have to
generate a correct buckup name for a base backup.

Closes-Bug: #1860739
Change-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/767581/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,a6fd40dbd60905409e25440ca3d2189a8cc1fb29,," if backup.snapshot_id: backup_name = self._get_backup_base_name(volume_id) else: backup_name = self._get_backup_base_name(volume_id, backup=backup)"," backup_name = self._get_backup_base_name(volume_id, backup=backup)",4,1
openstack%2Ftacker~master~I4900d9a8abbc8fb42ebd6088654ec02379a15c80,openstack/tacker,master,I4900d9a8abbc8fb42ebd6088654ec02379a15c80,[DNM] Check for MySQL related issues in this patch,ABANDONED,2021-02-26 04:32:59.000000000,2021-03-01 08:47:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 04:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1e03006f49011a629b3da0eaa3f28bbf6ceb6663', 'message': '[DNM] Check for MySQL related issues in this patch\n\nChange-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80\n'}, {'number': 2, 'created': '2021-02-26 07:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/58b71c1af2506a5f511873c01b9124e377853db2', 'message': '[DNM] Check for MySQL related issues in this patch\n\nChange-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80\n'}, {'number': 3, 'created': '2021-02-28 02:48:34.000000000', 'files': ['api-ref/source/v1/vnflcm.inc', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/db/db_sqlalchemy/models.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/db/migration/alembic_migrations/versions/3adac34764da_add_column_to_vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a82f912c0cc844e6164c362711642929ec0555e1', 'message': '[DNM] Check for MySQL related issues in this patch\n\nChange-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80\n'}]",0,777712,a82f912c0cc844e6164c362711642929ec0555e1,7,1,3,32219,,,0,"[DNM] Check for MySQL related issues in this patch

Change-Id: I4900d9a8abbc8fb42ebd6088654ec02379a15c80
",git fetch https://review.opendev.org/openstack/tacker refs/changes/12/777712/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/vnflcm.inc', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/db/db_sqlalchemy/models.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py']",15,1e03006f49011a629b3da0eaa3f28bbf6ceb6663,dnmpatch," - Get opOccs list # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) - get opOccs List. # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) # occ-list resp, op_occs_info = self._list_op_occs() self._assert_occ_list(resp, op_occs_info) def _assert_occ_list(self, resp, op_occs_list): self.assertEqual(200, resp.status_code) # Only check required parameters. for op_occs_info in op_occs_list: self.assertIsNotNone(op_occs_info.get('id')) self.assertIsNotNone(op_occs_info.get('operationState')) self.assertIsNotNone(op_occs_info.get('stateEnteredTime')) self.assertIsNotNone(op_occs_info.get('vnfInstanceId')) self.assertIsNotNone(op_occs_info.get('operation')) self.assertIsNotNone(op_occs_info.get('isAutomaticInvocation')) self.assertIsNotNone(op_occs_info.get('isCancelPending')) _links = op_occs_info.get('_links') self.assertIsNotNone(_links.get('self')) self.assertIsNotNone(_links.get('self').get('href')) self.assertIsNotNone(_links.get('vnfInstance')) self.assertIsNotNone(_links.get('vnfInstance').get('href')) self.assertIsNotNone(_links.get('grant')) self.assertIsNotNone(_links.get('grant').get('href'))",,777,114
openstack%2Fopenstack-ansible-ops~master~Ibfc20b1605245927ad4de4a54e751a13defb1ee0,openstack/openstack-ansible-ops,master,Ibfc20b1605245927ad4de4a54e751a13defb1ee0,Fixes for tests/gates,MERGED,2020-07-20 17:50:58.000000000,2021-03-01 08:37:16.000000000,2021-03-01 08:33:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31749}]","[{'number': 1, 'created': '2020-07-20 17:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0e9658ed2c79c625d30660827a32b1919c4fbe1f', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 2, 'created': '2020-07-20 18:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/80f84119151bc60bd4be495c329434fd1067e9b5', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 3, 'created': '2020-07-21 14:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7279948afc4f701751f157793f32a922fdf2fba4', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 4, 'created': '2020-10-19 13:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4e07a13ede584a5f07c3ea9a8fb6b4319916d776', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 5, 'created': '2020-11-12 11:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8243b44bbda1e4cf1198dd97bab5787ff91303fe', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 6, 'created': '2020-11-12 14:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f24786ec110304ac2ce2a86e770650365ec8694a', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 7, 'created': '2020-11-12 14:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3a3135bd06a27496c45e5de3065b52a60051d074', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 8, 'created': '2020-11-12 15:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7c0d76f67e192ccfafda65ab3bfa469902dce2b1', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 9, 'created': '2020-11-12 16:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4a984908ca607a38dd8f45b0e640348e3b2406b2', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 10, 'created': '2020-11-12 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b7204788302c1ad42ea85b7217c7e98d77b2dd5c', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 11, 'created': '2020-11-13 10:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4dff77e975ff4a763dddc805c3dbe1302b77e6fd', 'message': 'Install virtualenv\n\nRecent changes mean that tests are failing with:\n./bootstrap-embedded-ansible.sh: line 52: virtualenv: command not found\nSo we will install virtualenv before installing python-virtualenv.\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 12, 'created': '2021-01-25 13:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/34e2a80b20e93720e73bd5a2582bc720dde0426e', 'message': 'Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nUse saved_objects API for setting defaultIndex in kibana\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 13, 'created': '2021-02-28 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/08557647b7ed721ad7814badb708ae24cf648030', 'message': 'Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 14, 'created': '2021-02-28 16:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2497bd6f4fc6588c362ea82b6ad41c0845a3a321', 'message': 'Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n'}, {'number': 15, 'created': '2021-02-28 18:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/69d4b98886de5e96e5d8d8de07c80c1d0abf4239', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}, {'number': 16, 'created': '2021-02-28 21:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/18bdb35b7fc038a00ff8243adff09644d32310a5', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nStop using forked galera_server role, now that 633321 is merged\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}, {'number': 17, 'created': '2021-02-28 21:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8c456ca125464bdcc9d685ab09f28b2c436c0f1e', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nStop using forked galera_server role, now that 633321 is merged\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}, {'number': 18, 'created': '2021-02-28 21:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/73bc36598c74a2dba1cabc04aa768f01bf613db8', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nStop using forked galera_server role, now that 633321 is merged\nForce osquery inventory to python3\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}, {'number': 19, 'created': '2021-02-28 22:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1639048b3bd91c4fd5dbbd7bf990bc9d34397534', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.9.9\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nStop using forked galera_server role, now that 633321 is merged\nForce osquery inventory to python3\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}, {'number': 20, 'created': '2021-02-28 23:21:40.000000000', 'files': ['elk_metrics_6x/roles/elastic_curator/tasks/main.yml', 'elk_metrics_7x/roles/elastic_beat_setup/tasks/main.yml', 'osquery/tests/inventory/test-metal-inventory.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'elk_metrics_7x/createElasticIndexes.yml', 'osquery/installDB.yml', 'elk_metrics_7x/roles/elastic_ilm/tasks/elastic_ilm_update_policy.yml', 'osquery/ansible-role-requirements.yml', 'elk_metrics_6x/createElasticIndexes.yml', 'zuul.d/project.yaml', 'elk_metrics_6x/roles/elastic_curator/vars/ubuntu.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b05893ae39ee6de63aaafab76528234fde6a252d', 'message': ""Fixes for tests/gates\n\nBump ansible version to 2.10.5\nPrefer python3 over python2\nFix ansible str vs int comparisons\nPrint a message if setting defaultIndex in kibana 6 fails\nUse saved_objects API for setting defaultIndex in kibana 7\nUpdate version in dashboard path for 7x\nILM doesn't like bodies from GET requests\nStop using forked galera_server role, now that 633321 is merged\nForce osquery inventory to python3\nUpdate zuul jobs\n\nChange-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0\n""}]",1,741997,b05893ae39ee6de63aaafab76528234fde6a252d,57,5,20,29865,,,0,"Fixes for tests/gates

Bump ansible version to 2.10.5
Prefer python3 over python2
Fix ansible str vs int comparisons
Print a message if setting defaultIndex in kibana 6 fails
Use saved_objects API for setting defaultIndex in kibana 7
Update version in dashboard path for 7x
ILM doesn't like bodies from GET requests
Stop using forked galera_server role, now that 633321 is merged
Force osquery inventory to python3
Update zuul jobs

Change-Id: Ibfc20b1605245927ad4de4a54e751a13defb1ee0
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/97/741997/20 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'],1,0e9658ed2c79c625d30660827a32b1919c4fbe1f,fix-tests, apt-get -y virtualenv yum install -y virtualenv,,2,0
openstack%2Ftripleo-ci~master~Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,openstack/tripleo-ci,master,Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe,Make overcloud-hardened-full build image jobs vote and gate,MERGED,2021-02-23 09:58:00.000000000,2021-03-01 08:30:11.000000000,2021-03-01 08:30:11.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-23 09:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d491a13fb50462665c73805482fd8a77e0ed349', 'message': 'Make overcloud-hardened-full build image jobs vote and gate\n\nThis makes tripleo-buildimage-overcloud-hardened-full-centos-8 and\n-victoria/-ussuri/-train voting and adds them to the gate layout.\n\nSeen as part of [1] and in reviewing our non-voting and failing jobs\nthese have a very good pass rate so there is no reason to keep them\nas non voting [2].\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://zuul.openstack.org/builds?job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-victoria&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-train\n\nChange-Id: Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe\n'}, {'number': 2, 'created': '2021-02-25 11:48:13.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d84af247a1b8bc42da088efc46065e0b46c2b757', 'message': 'Make overcloud-hardened-full build image jobs vote and gate\n\nThis makes tripleo-buildimage-overcloud-hardened-full-centos-8 and\n-victoria/-ussuri/-train voting and adds them to the gate layout.\n\nSeen as part of [1] and in reviewing our non-voting and failing jobs\nthese have a very good pass rate so there is no reason to keep them\nas non voting [2]. The patch at [3] depends-on this one.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://zuul.openstack.org/builds?job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-victoria&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-train\n[3] I24615a067a56ac226b07c2ebcf477b3682dfed2f\n\nChange-Id: Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe\n'}]",1,777083,d84af247a1b8bc42da088efc46065e0b46c2b757,18,9,2,8449,,,0,"Make overcloud-hardened-full build image jobs vote and gate

This makes tripleo-buildimage-overcloud-hardened-full-centos-8 and
-victoria/-ussuri/-train voting and adds them to the gate layout.

Seen as part of [1] and in reviewing our non-voting and failing jobs
these have a very good pass rate so there is no reason to keep them
as non voting [2]. The patch at [3] depends-on this one.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://zuul.openstack.org/builds?job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-victoria&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri&job_name=tripleo-buildimage-overcloud-hardened-full-centos-8-train
[3] I24615a067a56ac226b07c2ebcf477b3682dfed2f

Change-Id: Icd4c1dc4802f5130499cacfba615dc8ad1e0fefe
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/777083/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,2d491a13fb50462665c73805482fd8a77e0ed349,tripleo-ci-reduce, - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-victoria: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-ussuri: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-train: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files, voting: false,12,1
openstack%2Foctavia~master~I94005e79129abb187538f90d9042bbc9b4f7e3ac,openstack/octavia,master,I94005e79129abb187538f90d9042bbc9b4f7e3ac,Delete useless row,ABANDONED,2021-03-01 02:59:32.000000000,2021-03-01 08:24:29.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 02:59:32.000000000', 'files': ['octavia/controller/worker/v1/flows/amphora_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5554e63f4276fff612dbf82c75f706a7599d060e', 'message': ""Delete useless row\n\nThis line is invalid definition in the function, there is a new definition in 'if'(is_spare = False)\n\nChange-Id: I94005e79129abb187538f90d9042bbc9b4f7e3ac\n""}]",0,777921,5554e63f4276fff612dbf82c75f706a7599d060e,4,2,1,32644,,,0,"Delete useless row

This line is invalid definition in the function, there is a new definition in 'if'(is_spare = False)

Change-Id: I94005e79129abb187538f90d9042bbc9b4f7e3ac
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/777921/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v1/flows/amphora_flows.py'],1,5554e63f4276fff612dbf82c75f706a7599d060e,delete_useless_row,, is_spare = True,0,1
openstack%2Fopenstack-ansible-ops~master~Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,openstack/openstack-ansible-ops,master,Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7,update to osquery,NEW,2018-10-24 18:23:00.000000000,2021-03-01 08:22:16.000000000,,"[{'_account_id': 11365}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 18:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/90d1f901db712326fa95dfba2ce147a39320d004', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}, {'number': 2, 'created': '2018-10-24 21:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/52cbfd16e985af24bdae0955b3ccdc0ecb16275e', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}, {'number': 3, 'created': '2018-10-25 11:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/291d6127c83d4a206e242b80d22437a1845b3075', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}, {'number': 4, 'created': '2018-10-25 17:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e538034c1125696b255fe0b15ac708dd3783410d', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}, {'number': 5, 'created': '2018-11-09 14:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/30f07d5e8e4f0914e23507401836aefdd1b98e2c', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}, {'number': 6, 'created': '2021-03-01 08:07:40.000000000', 'files': ['osquery/roles/fleet/templates/fleet_config.yml.j2', 'osquery/roles/fleet/tasks/fleetSetOsqueryAgentOptions.yml', 'osquery/vars/variables.yml', 'osquery/roles/osquery/handlers/main.yml', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/osquery/templates/osqueryd.service.j2', 'osquery/roles/osquery/templates/osquery.conf.j2', 'elk_metrics_6x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'osquery/roles/fleet/templates/osquery_agent_options.yml.j2', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/fleet/tasks/fleetService.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fce41ab3c85bd5821b0607f08ba286d12bc5d15d', 'message': 'update to osquery\n\n  * update elk integration\n  * update osquery config\n  * update kolide fleet configuration\n\nChange-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7\n'}]",5,613136,fce41ab3c85bd5821b0607f08ba286d12bc5d15d,15,2,6,11365,,,0,"update to osquery

  * update elk integration
  * update osquery config
  * update kolide fleet configuration

Change-Id: Ica6170056d597d1fd0a3e8c06ebb65c8fbab77c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/36/613136/4 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/roles/fleet/templates/fleet_config.yml.j2', 'osquery/roles/fleet/tasks/fleetSetOsqueryAgentOptions.yml', 'osquery/vars/variables.yml', 'osquery/roles/osquery/tasks/osquery_configure.yml', 'osquery/roles/osquery/templates/osqueryd.service.j2', 'elk_metrics_6x/roles/elastic_filebeat/templates/filebeat.yml.j2', 'osquery/roles/fleet/templates/osquery_agent_options.yml.j2', 'osquery/roles/osquery/defaults/main.yml', 'osquery/roles/fleet/tasks/fleetService.yml']",9,90d1f901db712326fa95dfba2ce147a39320d004,osquery-updates, - name: Place the kolide-fleet default os agent options template: src: 'osquery_agent_options.yml.j2' dest: '/etc/fleet/os_default_options.yml',,116,14
openstack%2Ftripleo-docs~master~I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,openstack/tripleo-docs,master,I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2,Remove references to DefaultPasswords,MERGED,2021-02-26 10:29:59.000000000,2021-03-01 08:16:22.000000000,2021-03-01 08:14:00.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 10:29:59.000000000', 'files': ['doc/source/developer/tht_walkthrough/tls_for_services.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/developer/tht_walkthrough/changes-tht.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e264e819359f35361cf602e10ce64b9fb12f9445', 'message': 'Remove references to DefaultPasswords\n\nThe DefaultPasswords interface was removed from tripleo-heat-templates\nin Change-Id If83d0f3d72a229d737a45b2fd37507dc11a04649.\n\nChange-Id: I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2\n'}]",0,777738,e264e819359f35361cf602e10ce64b9fb12f9445,8,3,1,6469,,,0,"Remove references to DefaultPasswords

The DefaultPasswords interface was removed from tripleo-heat-templates
in Change-Id If83d0f3d72a229d737a45b2fd37507dc11a04649.

Change-Id: I42913c36b634ad1fb1c1b4cc0c798fe98dc430c2
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/38/777738/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/tht_walkthrough/tls_for_services.rst', 'doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/developer/tht_walkthrough/changes-tht.rst']",3,e264e819359f35361cf602e10ce64b9fb12f9445,env_merging,," DefaultPasswords: {get_attr: [DefaultPasswords, passwords]}",0,14
openstack%2Fpython-manilaclient~master~Iae54779386eccce0fd338017ed18b9ad21e13b95,openstack/python-manilaclient,master,Iae54779386eccce0fd338017ed18b9ad21e13b95,Remove all usage of six library,ABANDONED,2020-09-25 02:58:22.000000000,2021-03-01 07:46:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 30408}, {'_account_id': 32475}]","[{'number': 1, 'created': '2020-09-25 02:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d2fe14698249e4ba77b48469e0e2680d918c640e', 'message': 'Remove six\n\nReplace six with Python 3 style code.\n\nChange-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95\n'}, {'number': 2, 'created': '2020-09-25 06:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/879a6a7210d4d6317959ea48fb54906c019e0b18', 'message': 'Remove six\n\nReplace six with Python 3 style code.\n\nChange-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95\n'}, {'number': 3, 'created': '2020-09-25 06:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5e47f8c75882420f4622a4c14e38199e338e824b', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95\n'}, {'number': 4, 'created': '2020-09-25 08:20:53.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/unit/v2/fake_clients.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/01591607709605412a57beb2d7a46c69c82d9334', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nDepends-On: https://review.opendev.org#/c/753570/\nChange-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95\n'}]",3,754253,01591607709605412a57beb2d7a46c69c82d9334,14,3,4,32211,,,0,"Remove all usage of six library

Replace six with Python 3 style code.

Depends-On: https://review.opendev.org#/c/753570/
Change-Id: Iae54779386eccce0fd338017ed18b9ad21e13b95
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/53/754253/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/unit/v2/fake_clients.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py']",38,d2fe14698249e4ba77b48469e0e2680d918c640e,remove-six, result = str(self.message),import six result = six.text_type(self.message),95,164
openstack%2Fglance_store~master~I8f374eb1b26ec408c52c6279da79cfe470d59a1c,openstack/glance_store,master,I8f374eb1b26ec408c52c6279da79cfe470d59a1c,Cinder store: Use v3 API by default,MERGED,2021-02-13 09:26:26.000000000,2021-03-01 05:52:35.000000000,2021-03-01 05:51:20.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-13 09:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/70fb674f83a5f5be56102902fa97564c73d1e3a6', 'message': ""Use volumev3 API by default\n\nvolumev2 API is already deprecated, and the cinder community is now\nplanning to remove the deprecated version.\nLet's use volumev3 API instead, which is the current latest version\nactively maintainced.\n\nChange-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c\n""}, {'number': 2, 'created': '2021-02-13 13:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f5f82aae22b9a5cc8e344f53d952e2b9a04699f0', 'message': ""Use volumev3 API by default\n\nvolumev2 API is already deprecated, and the cinder community is now\nplanning to remove the deprecated version.\nLet's use volumev3 API instead, which is the current latest version\nactively maintainced.\n\nCloses-Bug: #1915602\nChange-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c\n""}, {'number': 3, 'created': '2021-02-13 13:21:05.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'releasenotes/notes/bug-1915602-fcc807a435d8a6bf.yaml', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/77b61a952e9f62217a08548cef015bf6e5b953ac', 'message': 'Cinder store: Use v3 API by default\n\nv2 API of cinder is already deprecated, and the cinder community is now\nplanning to remove it.\nThis change makes cinder store use v3 API instead, which is the current\nlatest version actively maintainced.\n\nCloses-Bug: #1915602\nChange-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c\n'}]",0,775497,77b61a952e9f62217a08548cef015bf6e5b953ac,11,4,3,9816,,,0,"Cinder store: Use v3 API by default

v2 API of cinder is already deprecated, and the cinder community is now
planning to remove it.
This change makes cinder store use v3 API instead, which is the current
latest version actively maintainced.

Closes-Bug: #1915602
Change-Id: I8f374eb1b26ec408c52c6279da79cfe470d59a1c
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/97/775497/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'releasenotes/notes/use-volume-v3-by-default-f9b72806272af478.yaml']",3,70fb674f83a5f5be56102902fa97564c73d1e3a6,bug/1915602,--- upgrade: - | Now cinder store uses volumev3 service instead of volumev2 service. ,,6,2
openstack%2Fswift~master~I4445f1ef8b296c52cfc77041fede466ace23971b,openstack/swift,master,I4445f1ef8b296c52cfc77041fede466ace23971b,Sharding: add mean and std dev to cli tools,NEW,2021-03-01 03:53:35.000000000,2021-03-01 05:09:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-01 03:53:35.000000000', 'files': ['swift/cli/info.py', 'swift/common/utils.py', 'swift/cli/manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a9bd7e8fd3d4003ff9cf7452e9452383d5fe3c5e', 'message': 'Sharding: add mean and std dev to cli tools\n\nJust playing around with adding some variance or distribution numbers to\nthe tools that display shard ranges. Just to see if it might be a good\naddition.\n\nVariance is just (std deviation)^2 so mean and std deviation should\ncover most most of what we need.\n\nChange-Id: I4445f1ef8b296c52cfc77041fede466ace23971b\n'}]",0,777922,a9bd7e8fd3d4003ff9cf7452e9452383d5fe3c5e,3,1,1,7233,,,0,"Sharding: add mean and std dev to cli tools

Just playing around with adding some variance or distribution numbers to
the tools that display shard ranges. Just to see if it might be a good
addition.

Variance is just (std deviation)^2 so mean and std deviation should
cover most most of what we need.

Change-Id: I4445f1ef8b296c52cfc77041fede466ace23971b
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/777922/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'swift/common/utils.py', 'swift/cli/manage_shard_ranges.py']",3,a9bd7e8fd3d4003ff9cf7452e9452383d5fe3c5e,add_config_to_manage_shard_ranges," config_percent_value, get_mean_and_stdev sr_mean, sr_stdev = get_mean_and_stdev([ sr.object_count for sr in shard_ranges if sr.state in (ShardRange.ACTIVE, ShardRange.SHRINKING)]) return 0 if getattr(args, 'brief', False): print(""Distribution: Mean %f Std.Dev: %f"" % (sr_mean, sr_stdev), file=sys.stderr)"," config_percent_value elif getattr(args, 'brief', False):",30,4
openstack%2Fcinder~master~I5b3f0d6a637534b40cd8e3fa468a86a94605d879,openstack/cinder,master,I5b3f0d6a637534b40cd8e3fa468a86a94605d879,Correct format string in error message,MERGED,2020-12-03 09:36:14.000000000,2021-03-01 03:46:48.000000000,2021-02-20 13:34:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-12-03 09:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5a165ebe5cab9367a6572bdc1f3b4870bae5016', 'message': 'Modify the error message format in swift writer\n\nUse dict values to fill in error messages when MD5 of object\nin swift is not the same as MD5 of object sent to swift.\n\nCloses-Bug: #1906605\nChange-Id: I5b3f0d6a637534b40cd8e3fa468a86a94605d879\n'}, {'number': 2, 'created': '2021-02-01 06:34:12.000000000', 'files': ['cinder/backup/drivers/swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/203eb2cf8465ffe79fa691c2eb3070c0907359f9', 'message': 'Correct format string in error message\n\nDue to a syntax error, values are not being interpolated into a\nmessage format string.  This patch corrects the error.\n\nCloses-Bug: #1906605\nChange-Id: I5b3f0d6a637534b40cd8e3fa468a86a94605d879\n'}]",3,765304,203eb2cf8465ffe79fa691c2eb3070c0907359f9,105,7,2,32537,,,0,"Correct format string in error message

Due to a syntax error, values are not being interpolated into a
message format string.  This patch corrects the error.

Closes-Bug: #1906605
Change-Id: I5b3f0d6a637534b40cd8e3fa468a86a94605d879
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/765304/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/swift.py'],1,f5a165ebe5cab9367a6572bdc1f3b4870bae5016,bug/1906605," err = (_('error writing object to swift, MD5 of object in ' 'swift %(etag)s is not the same as MD5 of object sent' ' to swift %(md5)s') % {'etag': etag, 'md5': md5})"," err = _('error writing object to swift, MD5 of object in ' 'swift %(etag)s is not the same as MD5 of object sent ' 'to swift %(md5)s'), {'etag': etag, 'md5': md5}",3,3
openstack%2Fneutron~master~I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,openstack/neutron,master,I538aa6d68fbb5ff8431f82ba76601ee34c1bb181,DVR: Remove control plane arp updates for DVR,MERGED,2019-04-18 23:51:43.000000000,2021-03-01 02:39:08.000000000,2020-01-29 18:33:20.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16011}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-18 23:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f7d8a510312c11938e366272199e7b7c55e971e', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.openstack.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 2, 'created': '2019-04-22 17:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25b439462f695fe7a564e06f52ab47ce3bd15197', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.openstack.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 3, 'created': '2019-04-25 22:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45553336fc2596f63d6d489a7a3675cf34ce7f10', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.openstack.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 4, 'created': '2019-04-26 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2a77f4835b02f6b63ef39f525fc75f9c29ebd48', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.openstack.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 5, 'created': '2019-05-02 20:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/712c0838a589881408df7d2db3f3a958e7275079', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.openstack.org/#/c/651905/\n\nDepends-on: https://review.opendev.org/#/c/656867/\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 6, 'created': '2019-05-10 18:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be37e0d17fcf17989b91829435eb2ee421d3a9ec', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 7, 'created': '2019-05-29 19:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ced487bc103cfa64fb71bacdebc82b4265dda973', 'message': '(WIP)DVR: Remove control plane arp updates for DVR\n\nThis patch is to check if by removing the control plane\nupdate for arp, DVR is functional based on the patch\nin [1]\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 8, 'created': '2019-06-18 18:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f4255b23d308e12150de30defa0d5b399a30b2b', 'message': 'DVR: Remove control plane arp updates for DVR\n\nThis patch will remove all the control plane\narp updates for DVR routers. Based on the recent\npatch that merged[1], DVR routers will no longer\nrequire the control plane ARP update but will\ndepend on the ARP Responder for ARP updates.\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 9, 'created': '2019-09-30 22:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d172a7ea1b66b8ef2665026a4eab13365c6b116', 'message': 'DVR: Remove control plane arp updates for DVR\n\nThis patch will remove all the control plane\narp updates for DVR routers. Based on the recent\npatch that merged[1], DVR routers will no longer\nrequire the control plane ARP update but will\ndepend on the ARP Responder for ARP updates.\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 10, 'created': '2019-11-25 21:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e064aa6f79df9e050dee79588c6e772f761ee19', 'message': 'DVR: Remove control plane arp updates for DVR\n\nThis patch will remove all the control plane\narp updates for DVR routers. Based on the recent\npatch that merged[1], DVR routers will no longer\nrequire the control plane ARP update but will\ndepend on the ARP Responder for ARP updates.\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 11, 'created': '2020-01-15 14:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b528910fc5b8b2aa2265ec5f71f5662c7500b1f2', 'message': 'DVR: Remove control plane arp updates for DVR\n\nThis patch will remove all the control plane\narp updates for DVR routers. Based on the recent\npatch that merged[1], DVR routers will no longer\nrequire the control plane ARP update but will\ndepend on the ARP Responder for ARP updates.\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}, {'number': 12, 'created': '2020-01-29 12:02:08.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3a42cddc5c8716091d2b403831fb406d9dfcc75', 'message': 'DVR: Remove control plane arp updates for DVR\n\nThis patch will remove all the control plane\narp updates for DVR routers. Based on the recent\npatch that merged[1], DVR routers will no longer\nrequire the control plane ARP update but will\ndepend on the ARP Responder for ARP updates.\n\n[1] https://review.opendev.org/#/c/651905/\n\nChange-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181\n'}]",1,653883,b3a42cddc5c8716091d2b403831fb406d9dfcc75,98,14,12,7016,,,0,"DVR: Remove control plane arp updates for DVR

This patch will remove all the control plane
arp updates for DVR routers. Based on the recent
patch that merged[1], DVR routers will no longer
require the control plane ARP update but will
depend on the ARP Responder for ARP updates.

[1] https://review.opendev.org/#/c/651905/

Change-Id: I538aa6d68fbb5ff8431f82ba76601ee34c1bb181
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/653883/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/db/l3_dvr_db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",8,5f7d8a510312c11938e366272199e7b7c55e971e,dvr-remove-arp-update-through-control-plane," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionPopVlan(), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",,121,158
openstack%2Fopenstack-helm-deployments~master~If53e3014e1def66126eb297ab1f3a3b4268b90cb,openstack/openstack-helm-deployments,master,If53e3014e1def66126eb297ab1f3a3b4268b90cb,Add keystone to osh-deployments,MERGED,2020-11-12 21:55:16.000000000,2021-03-01 02:29:46.000000000,2021-03-01 02:29:46.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30449}]","[{'number': 1, 'created': '2020-11-12 21:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/fee34001b9a4bea379d13372cc5a77f132a7a1db', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 2, 'created': '2020-12-10 20:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7af6161b66c53052214c45ffb42ce07d339878fe', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 3, 'created': '2021-01-15 20:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/19ae1c14ef19f80c2d8e77375720954a12ea7324', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 4, 'created': '2021-01-21 21:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/be86f7a97d783450a1810a00629006d9d694d65f', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 5, 'created': '2021-01-26 18:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/5ba806ec88fafbe31b7fa29822f31f356bf25e07', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 6, 'created': '2021-01-28 02:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/15c909b2ede54962caae7953050cd3a45f6b78e3', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 7, 'created': '2021-02-04 16:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/cbe253e273228906b39a7d37666ff3678a5f1bb9', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 8, 'created': '2021-02-04 21:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/5185fbc7ff21a30ab7cb186bc9ce30c6884a0e0f', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 9, 'created': '2021-02-04 21:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/5b6fcef623cdc300f0cf8772e566ddfff06e8862', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 10, 'created': '2021-02-04 23:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/3aa2cc83e83ed0df7b14132403150f5ac76658e1', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 11, 'created': '2021-02-08 17:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/56369ee0430db451d23d78b0b7a9bb3e6e740803', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 12, 'created': '2021-02-08 19:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/487cad2efb2b5ce74e0dcba415dbd67aee35f6e6', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 13, 'created': '2021-02-08 20:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/742b5f9f8a5851dcfe12734967ef3211d5cc8b26', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 14, 'created': '2021-02-09 15:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/149aa401bf65a7c5320e961912b236d8a7ccad04', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 15, 'created': '2021-02-11 15:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/d34c4e952baa99882fa8612a977fb26428318978', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 16, 'created': '2021-02-11 15:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/ee906bd58c2cd9af47c842bde377816b13169104', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 17, 'created': '2021-02-11 21:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/2149a67f2a7a5bc1c30c864bb9f06da069a439e0', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 18, 'created': '2021-02-12 17:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7f707620d0d20af5c9a9bba754dbefac83e8520e', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 19, 'created': '2021-02-12 21:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/263fe04a791dc7a362d78d38845ff83e5fcd3deb', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 20, 'created': '2021-02-12 21:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/1b3e2bb1481f29a14b0517bd5658745b5498d076', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 21, 'created': '2021-02-12 23:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/2309a9188a154bb7d4efbbcecb341442952eda43', 'message': 'WIP - Add keystone\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 22, 'created': '2021-02-26 21:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7156ad36353f58be2e81c865f3d29c4d43e2d859', 'message': 'Add keystone to osh-deployments\n\nThis change adds the manifests/functions for keystone to\nthe composite list that is deployed via openstack-helm-deployments.\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}, {'number': 23, 'created': '2021-02-26 21:50:32.000000000', 'files': ['manifests/composite/openstack/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/catalogues-openstack/versions-openstack.yaml', 'manifests/function/keystone/replacements/kustomization.yaml', 'manifests/function/keystone/helmrepository.yaml', 'manifests/function/keystone/kustomization.yaml', 'manifests/function/keystone/replacements/versions.yaml', 'manifests/function/keystone/helmrelease.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/f889aa66c6430435c95baf3064700b49e69bacee', 'message': 'Add keystone to osh-deployments\n\nThis change adds the manifests/functions for keystone to\nthe composite list that is deployed via openstack-helm-deployments.\n\nChange-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb\n'}]",0,762586,f889aa66c6430435c95baf3064700b49e69bacee,93,5,23,21420,,,0,"Add keystone to osh-deployments

This change adds the manifests/functions for keystone to
the composite list that is deployed via openstack-helm-deployments.

Change-Id: If53e3014e1def66126eb297ab1f3a3b4268b90cb
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/86/762586/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/composite/openstack/kustomization.yaml', 'manifests/composite/openstack/replacements/kustomization.yaml', 'manifests/function/keystone/replacements/kustomization.yaml', 'manifests/function/keystone/kustomization.yaml', 'manifests/function/keystone/replacements/versions.yaml', 'manifests/function/keystone/helmrelease.yaml']",6,fee34001b9a4bea379d13372cc5a77f132a7a1db,keystone,"--- apiVersion: ""helm.fluxcd.io/v1"" kind: HelmRelease metadata: name: keystone spec: wait: true timeout: 600 values: monitoring: prometheus: enabled: true labels: server: node_selector_key: kubernetes.io/os node_selector_value: linux prometheus_keystone_exporter: node_selector_key: kubernetes.io/os node_selector_value: linux ",,53,0
openstack%2Fdiskimage-builder~master~I0016ac42003afacdc757f6003677d71c37b4e6bd,openstack/diskimage-builder,master,I0016ac42003afacdc757f6003677d71c37b4e6bd,Remove centos-release package for Centos 8.3,ABANDONED,2020-12-21 06:18:13.000000000,2021-03-01 02:19:48.000000000,,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 06:18:13.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e6f481b241a3d8b59d059f465acfd41307ea662d', 'message': 'Remove centos-release package for Centos 8.3\n\nError in build centos 8 images:\nNo package centos-release available.\n\nWith Centos 8.3, centos-repos package has been replaced by\nother packages [1].\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-September/056069.html\n\nChange-Id: I0016ac42003afacdc757f6003677d71c37b4e6bd\n'}]",4,768044,e6f481b241a3d8b59d059f465acfd41307ea662d,8,3,1,21757,,,0,"Remove centos-release package for Centos 8.3

Error in build centos 8 images:
No package centos-release available.

With Centos 8.3, centos-repos package has been replaced by
other packages [1].

[1] https://lists.centos.org/pipermail/centos-devel/2020-September/056069.html

Change-Id: I0016ac42003afacdc757f6003677d71c37b4e6bd
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/768044/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,e6f481b241a3d8b59d059f465acfd41307ea662d,centos-8," # CentOS 8.3: centos-release package has been replaced by # centos-linux-release elif [[ !(${DISTRO_NAME} = centos && ${DIB_RELEASE} > ""7"") ]]; then", else,3,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I2c23303a355c211c1d9d50238a24ef11c3f38580,openstack/openstack-ansible-lxc_hosts,master,I2c23303a355c211c1d9d50238a24ef11c3f38580,Remove single task from lxc_apparmor file,MERGED,2021-02-17 17:06:04.000000000,2021-03-01 00:45:59.000000000,2021-03-01 00:44:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-17 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7aa5d0277f901792ac618cec9033e4adc81eea04', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 2, 'created': '2021-02-17 17:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/d907d7b86bbb32ef7e90dc3aac6428320e979701', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 3, 'created': '2021-02-17 18:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/49193044e6c6cd5319a58040b2848a0cf9b0982d', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 4, 'created': '2021-02-17 19:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/41236520f29541aff0e15e6879f7500c0a0e1f7f', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 5, 'created': '2021-02-17 20:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5574801ef142627546f585e51f308364c6a97b44', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 6, 'created': '2021-02-17 22:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ff51612ffd95ab733219f83b73bfc1b293169efd', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 7, 'created': '2021-02-18 08:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/95db59c27a04fe1d2080159fd954b52c81fa6748', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}, {'number': 8, 'created': '2021-02-18 09:20:01.000000000', 'files': ['tasks/lxc_install_apt.yml', 'tasks/lxc_apparmor.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/611e278642341fd2285756044d1d9099febe1b5d', 'message': 'Remove single task from lxc_apparmor file\n\nThis can go in the lxc_install_apt tasks file where the previous\nlxc_apparmor file was included\n\nChange-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580\n'}]",0,776240,611e278642341fd2285756044d1d9099febe1b5d,25,3,8,25023,,,0,"Remove single task from lxc_apparmor file

This can go in the lxc_install_apt tasks file where the previous
lxc_apparmor file was included

Change-Id: I2c23303a355c211c1d9d50238a24ef11c3f38580
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/40/776240/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_apt.yml', 'tasks/lxc_apparmor.yml']",2,7aa5d0277f901792ac618cec9033e4adc81eea04,lxc-hosts-cleanup,,"--- # Copyright 2018, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Drop lxc-openstack apparmor profile template: src: ""lxc-openstack.apparmor.j2"" dest: ""/etc/apparmor.d/lxc/lxc-openstack"" owner: ""root"" group: ""root"" mode: ""0644"" notify: - Start apparmor - Reload apparmor tags: - lxc-files - lxc-apparmor - lxc_hosts-config ",14,30
openstack%2Fkuryr-tempest-plugin~master~I9e1c05820519ccf8547377937f9faeef966645b0,openstack/kuryr-tempest-plugin,master,I9e1c05820519ccf8547377937f9faeef966645b0,Fix ports population test,NEW,2021-02-25 01:53:30.000000000,2021-03-01 00:18:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-25 01:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/805a002535633e35ca8157f5c86290b46ec4c0ad', 'message': 'Fix ports pre-population test\n\nThe test_port_pool is not properly handling the case for\nwhen pre-population is enabled. This commit fixes the issue\nby ensuring the inital number of ports created is the expected\nand that the final number of created Ports is also the expected.\n\nChange-Id: I9e1c05820519ccf8547377937f9faeef966645b0\n'}, {'number': 2, 'created': '2021-02-25 14:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7592267d5128c55a297084c4933c672afde8a358', 'message': 'Fix ports pre-population test\n\nThe test_port_pool is not properly handling the case for\nwhen pre-population is enabled. This commit fixes the issue\nby ensuring the inital number of ports created is the expected\nand that the final number of created Ports is also the expected.\n\nChange-Id: I9e1c05820519ccf8547377937f9faeef966645b0\n'}, {'number': 3, 'created': '2021-02-25 14:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/80a9bb59cbeb5b65ac12ef4db5b5558de027162c', 'message': 'Fix ports population test\n\nThe test_port_pool is not properly handling the case for\nwhen pre-population is enabled and when the ports_pool_batch\ndiffers from 3. This commit fixes the issues by ensuring the\ncorrect amount of Ports is created when needed.\n\nChange-Id: I9e1c05820519ccf8547377937f9faeef966645b0\n'}, {'number': 4, 'created': '2021-02-25 15:31:00.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_port_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9c3e22b5c70639491e0688d6984fd6460ffe86c8', 'message': 'Fix ports population test\n\nThe test_port_pool is not properly handling the case for\nwhen pre-population is enabled and when the ports_pool_batch\ndiffers from 3. This commit fixes the issues by ensuring the\ncorrect amount of Ports is created when needed.\n\nChange-Id: I9e1c05820519ccf8547377937f9faeef966645b0\n'}]",0,777492,9c3e22b5c70639491e0688d6984fd6460ffe86c8,9,2,4,27032,,,0,"Fix ports population test

The test_port_pool is not properly handling the case for
when pre-population is enabled and when the ports_pool_batch
differs from 3. This commit fixes the issues by ensuring the
correct amount of Ports is created when needed.

Change-Id: I9e1c05820519ccf8547377937f9faeef966645b0
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/92/777492/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_port_pool.py'],1,805a002535633e35ca8157f5c86290b46ec4c0ad,fix-ports-pool," # the initial population is reduced to half to reduce the workload num_ports_initial = num_nodes * (int(int(pool_batch)/2)) + 1 pool_batch = int(self.PORTS_POOL_DEFAULT_DICT['ports_pool_batch']) # port number should be increased by ports_pool_batch value # when the min port number was reached new_port_num = port_list_num + pool_batch updated_port_list_num = self.check_ports_num_increase( new_port_num, subnet_id) updated_port_list_num, pool_batch)) num_to_compare = updated_port_list_num - pool_batch if CONF.kuryr_kubernetes.prepopulation_enabled: num_ports_expected = updated_port_list_num # 3 Pods created required 2 populations to happen elif population_threshold < 3:"," num_ports_initial = num_nodes * (int(pool_batch/2) + 1) pool_batch = self.PORTS_POOL_DEFAULT_DICT['ports_pool_batch'] # port number should increase by ports_pool_batch value updated_port_list_num = len(self.os_admin.ports_client.list_ports( fixed_ips='subnet_id=%s' % subnet_id)['ports']) updated_port_list_num, self.PORTS_POOL_DEFAULT_DICT[ 'ports_pool_batch'])) num_to_compare = updated_port_list_num - int( self.PORTS_POOL_DEFAULT_DICT['ports_pool_batch']) if population_threshold < 3:",14,11
openstack%2Fopenstack-ansible-openstack_openrc~master~I8d1787e14f818c553f398adde554816856ef1a17,openstack/openstack-ansible-openstack_openrc,master,I8d1787e14f818c553f398adde554816856ef1a17,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:22:32.000000000,2021-02-28 23:27:53.000000000,2021-02-28 23:26:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/da9c3722e9e9d8da93e17577485b5d8615da20e8', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I8d1787e14f818c553f398adde554816856ef1a17\n'}, {'number': 2, 'created': '2021-02-25 12:25:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/b4f6b665b216d8e48e66c1be0f7bdcd2623a1131', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I8d1787e14f818c553f398adde554816856ef1a17\n'}]",2,777070,b4f6b665b216d8e48e66c1be0f7bdcd2623a1131,13,4,2,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8d1787e14f818c553f398adde554816856ef1a17
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/70/777070/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,da9c3722e9e9d8da93e17577485b5d8615da20e8,osa-facts,"openrc_file_dest: ""{{ ansible_facts['env'].HOME }}/openrc""openrc_file_owner: ""{{ ansible_facts['user_id'] }}"" openrc_file_group: ""{{ ansible_facts['user_id'] }}""openrc_openstack_client_config_dir_dest: ""{{ ansible_facts['env'].HOME }}/.config/openstack"" openrc_openstack_client_config_dir_owner: ""{{ ansible_facts['user_id'] }}"" openrc_openstack_client_config_dir_group: ""{{ ansible_facts['user_id'] }}""openrc_clouds_yml_file_owner: ""{{ ansible_facts['user_id'] }}"" openrc_clouds_yml_file_group: ""{{ ansible_facts['user_id'] }}""","openrc_file_dest: ""{{ ansible_env.HOME }}/openrc""openrc_file_owner: ""{{ ansible_user_id }}"" openrc_file_group: ""{{ ansible_user_id }}""openrc_openstack_client_config_dir_dest: ""{{ ansible_env.HOME }}/.config/openstack"" openrc_openstack_client_config_dir_owner: ""{{ ansible_user_id }}"" openrc_openstack_client_config_dir_group: ""{{ ansible_user_id }}""openrc_clouds_yml_file_owner: ""{{ ansible_user_id }}"" openrc_clouds_yml_file_group: ""{{ ansible_user_id }}""",8,8
openstack%2Fpuppet-openstack-integration~master~I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,openstack/puppet-openstack-integration,master,I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2,Clean up unused logics to install tempest from source,ABANDONED,2021-02-17 13:08:59.000000000,2021-02-28 22:56:45.000000000,,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 13:08:59.000000000', 'files': ['run_tests.sh', 'manifests/tempest.pp', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9e9bcd859d5dc6dfce0aba1900fffd6f698fd901', 'message': 'Clean up unused logics to install tempest from source\n\nChange-Id: I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2\n'}]",0,776165,9e9bcd859d5dc6dfce0aba1900fffd6f698fd901,4,2,1,9816,,,0,"Clean up unused logics to install tempest from source

Change-Id: I73d6ca61cd9ad1a3fd3ab79747a5c49a2d53c5b2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/65/776165/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'manifests/tempest.pp', 'zuul.d/base.yaml']",3,9e9bcd859d5dc6dfce0aba1900fffd6f698fd901,bug/1915832,, - openstack/tempest,5,59
openstack%2Fpuppet-openstack-integration~master~I46ac94b274f502a579dcbe0df3e563c02630a364,openstack/puppet-openstack-integration,master,I46ac94b274f502a579dcbe0df3e563c02630a364,Ubuntu: Install tempest by packages,ABANDONED,2021-02-17 13:01:49.000000000,2021-02-28 22:56:31.000000000,,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 13:01:49.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cc72f2d8312521ff1b2f8fbd6257a18a46a3e0bb', 'message': ""Ubuntu: Install tempest by packages\n\nNow Ubuntu provides packages for tempest and its plugins, thus we don't\nneed to install it from source.\n\nChange-Id: I46ac94b274f502a579dcbe0df3e563c02630a364\n""}]",0,776164,cc72f2d8312521ff1b2f8fbd6257a18a46a3e0bb,5,3,1,9816,,,0,"Ubuntu: Install tempest by packages

Now Ubuntu provides packages for tempest and its plugins, thus we don't
need to install it from source.

Change-Id: I46ac94b274f502a579dcbe0df3e563c02630a364
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/776164/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,cc72f2d8312521ff1b2f8fbd6257a18a46a3e0bb,bug/1915832,export TEMPEST_FROM_SOURCE=${TEMPEST_FROM_SOURCE:-false} # TODO(tkajinam): Here we install only tempest but should consider how to # install other plugins,"# For installing Tempest from RPM keep TEMPEST_FROM_SOURCE to false # In Ubuntu, Tempest packages are not maintained so installing from source if [ $(lsb_release --id -s) = ""Ubuntu"" ]; then export TEMPEST_FROM_SOURCE=${TEMPEST_FROM_SOURCE:-true} else export TEMPEST_FROM_SOURCE=${TEMPEST_FROM_SOURCE:-false} fi # TODO(tobias-urdin): We must have the neutron-tempest-plugin to even test Neutron, is also required by # vpnaas and dynamic routing projects. $SUDO apt install -y python3-pip $SUDO pip3 install neutron-tempest-plugin",5,11
openstack%2Fironic~stable%2Fvictoria~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,stable/victoria,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-28 16:33:59.000000000,2021-02-28 20:59:06.000000000,2021-02-28 20:57:48.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-28 16:33:59.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/90da180a17852eab6af4b038fbd92989feccb5f8', 'message': 'devstack: a safeguard for disabled tempurls\n\nChange-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb\n(cherry picked from commit 7abac806a7f889fc87120c9e2c3a61b3a35f6458)\n'}]",0,777900,90da180a17852eab6af4b038fbd92989feccb5f8,9,2,1,10239,,,0,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
(cherry picked from commit 7abac806a7f889fc87120c9e2c3a61b3a35f6458)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/777900/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,90da180a17852eab6af4b038fbd92989feccb5f8,gate-stable/victoria," if is_service_enabled swift && [[ ""$SWIFT_ENABLE_TEMPURLS"" == ""True"" ]] && ! is_service_enabled tls-proxy; then", if is_service_enabled swift && ! is_service_enabled tls-proxy; then,1,1
openstack%2Fcinder~master~I6fad95580906434feeaf5a51e172ed7045f0e7f4,openstack/cinder,master,I6fad95580906434feeaf5a51e172ed7045f0e7f4,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:51:50.000000000,2021-02-28 20:56:45.000000000,2021-02-19 23:16:24.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-12-24 06:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6aaf00b1342521d6a2608fc10b2045a473b9529', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I6fad95580906434feeaf5a51e172ed7045f0e7f4\n'}, {'number': 2, 'created': '2021-02-19 22:22:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc938a4056c76e69695d773a051f3f4b79a6cac1', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I6fad95580906434feeaf5a51e172ed7045f0e7f4\n'}]",0,768427,dc938a4056c76e69695d773a051f3f4b79a6cac1,58,7,2,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I6fad95580906434feeaf5a51e172ed7045f0e7f4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/768427/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6aaf00b1342521d6a2608fc10b2045a473b9529,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fkayobe~stable%2Fvictoria~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,stable/victoria,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,ABANDONED,2021-02-26 07:14:03.000000000,2021-02-28 20:44:31.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 07:14:03.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7c0de4a579bc102566a996586198c5f5da847ade', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. The seed VM job also has trouble on Vexxhost,\nalthough does sometimes pass. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nNote: compared to the original commit, the custom configuration for\nironic is removed since it only applies to Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)\n""}]",0,777720,7c0de4a579bc102566a996586198c5f5da847ade,5,2,1,15197,,,0,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Note: compared to the original commit, the custom configuration for
ironic is removed since it only applies to Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
(cherry picked from commit 47bbb96b29ab30764d6220cdd43e63a1d2072533)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/777720/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml']",4,7c0de4a579bc102566a996586198c5f5da847ade,,," # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3 # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3",18,6
openstack%2Fpuppet-horizon~master~If89f2da5e915fef69af6667cd96f830b7b666867,openstack/puppet-horizon,master,If89f2da5e915fef69af6667cd96f830b7b666867,Remove the deprecated horizon::log_handler parameter,MERGED,2021-02-12 06:57:04.000000000,2021-02-28 18:06:48.000000000,2021-02-28 18:05:38.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/348ac1f1cc9627c2e8ec0aa04e718478f644002e', 'message': 'Remove the deprecated horizon::log_handler parameter\n\nThis parameter was deprecated during the previous cycle and replaced\nby the new log_handlers parameter.\n\nChange-Id: If89f2da5e915fef69af6667cd96f830b7b666867\n'}, {'number': 2, 'created': '2021-02-28 11:34:56.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/init.pp', 'releasenotes/notes/remove-log_handlers-62c1f89f2b7851ef.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/66c74785e1075318dac45f73ffc17f9ab3c60aa2', 'message': 'Remove the deprecated horizon::log_handler parameter\n\nThis parameter was deprecated during the previous cycle and replaced\nby the new log_handlers parameter.\n\nChange-Id: If89f2da5e915fef69af6667cd96f830b7b666867\n'}]",0,775320,66c74785e1075318dac45f73ffc17f9ab3c60aa2,26,4,2,9816,,,0,"Remove the deprecated horizon::log_handler parameter

This parameter was deprecated during the previous cycle and replaced
by the new log_handlers parameter.

Change-Id: If89f2da5e915fef69af6667cd96f830b7b666867
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/20/775320/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'manifests/init.pp', 'releasenotes/notes/remove-log_handlers-62c1f89f2b7851ef.yaml']",3,348ac1f1cc9627c2e8ec0aa04e718478f644002e,log_handler,--- upgrade: - | The deprecated ``horizon::log_handler`` parameter has been removed. ,,18,27
openstack%2Foctavia-dashboard~master~Ia93cb7520ff9c179a27e72719f1fd10524c57acb,openstack/octavia-dashboard,master,Ia93cb7520ff9c179a27e72719f1fd10524c57acb,Disable Load Balancers panel when Octavia service is not deployed,MERGED,2020-12-14 04:43:11.000000000,2021-02-28 17:19:01.000000000,2021-02-28 17:17:53.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-14 04:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a513769e65bab5dd168c781c3ec738614afe1582', 'message': ""Disable Load Balancers panel when Octavias service is not deployed\n\nThis change ensures that the Load Balancers panel is only enabled when\nOctavi service is actually deployed, so that operators don't need to\nmaintain enabled dashboards according to the enabled services.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}, {'number': 2, 'created': '2020-12-14 11:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a2b0626d7aa609294ba676a3ab8d28369566d132', 'message': ""Disable Load Balancers panel when Octavias service is not deployed\n\nThis change ensures that the Load Balancers panel is enabled only when\nOctavia service is actually deployed, so that operators don't need to\nmaintain enabled dashboards according to the enabled services.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}, {'number': 3, 'created': '2021-01-20 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d778c62cf68f2ce5b3e161823e2e40fdf95e2ce5', 'message': ""Disable Load Balancers panel when Octavias service is not deployed\n\nThis change ensures that the Load Balancers panel is enabled only when\nOctavia service is actually deployed, so that operators don't need to\nmaintain enabled dashboards according to the enabled services.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}, {'number': 4, 'created': '2021-02-18 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a909f7941d8dfcab0ed37a4700efbcde2bf1bffd', 'message': ""Disable Load Balancers panel when Octavias service is not deployed\n\nCurrently Load Balancers panel is enabled based on 'network' service\ndefined in Keystone but it should refer to 'load-balancer' service\nwhich is served by Octavia.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}, {'number': 5, 'created': '2021-02-18 15:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/fa0313bf85ceaaee0a5279d6e61ded82564f860a', 'message': ""Disable Load Balancers panel when Octavias service is not deployed\n\nCurrently Load Balancers panel is enabled based on 'network' service\ndefined in Keystone but it should refer to 'load-balancer' service\nwhich is served by Octavia.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}, {'number': 6, 'created': '2021-02-28 14:23:19.000000000', 'files': ['octavia_dashboard/dashboards/project/load_balancer/panel.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/9b10ff4964d125dbd59232c52ca692c5c7fe0044', 'message': ""Disable Load Balancers panel when Octavia service is not deployed\n\nCurrently Load Balancers panel is enabled based on 'network' service\ndefined in Keystone but it should refer to 'load-balancer' service\nwhich is served by Octavia.\n\nStory: #2008446\nTask: #41413\nChange-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb\n""}]",3,766878,9b10ff4964d125dbd59232c52ca692c5c7fe0044,35,5,6,9816,,,0,"Disable Load Balancers panel when Octavia service is not deployed

Currently Load Balancers panel is enabled based on 'network' service
defined in Keystone but it should refer to 'load-balancer' service
which is served by Octavia.

Story: #2008446
Task: #41413
Change-Id: Ia93cb7520ff9c179a27e72719f1fd10524c57acb
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/78/766878/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/dashboards/project/load_balancer/panel.py'],1,a513769e65bab5dd168c781c3ec738614afe1582,task/41413,"from openstack_dashboard.api import base def allowed(self, context): request = context['request'] if not base.is_service_enabled(request, 'load-balancer'): return False else: return super(NGLoadBalancers, self).allowed(context) def nav(self, context): request = context['request'] if not base.is_service_enabled(request, 'load-balancer'): return False else: return True",,16,0
openstack%2Fcinder~master~I67ac3df632a34729646e7b037205327696818a22,openstack/cinder,master,I67ac3df632a34729646e7b037205327696818a22,mypy: annotate volume manager,MERGED,2020-06-04 14:26:44.000000000,2021-02-28 15:56:24.000000000,2021-02-28 15:55:00.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 31980}, {'_account_id': 32071}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-06-04 14:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61c7f53eb215bbeb7a805c40d4138bed9ed35e04', 'message': 'WIP: annotate volume manager\n\nChange-Id: Idd448778551bc0036cf550db10856d7f9e3f7224\n\nchase around _do_cleanup type error\n\nChange-Id: I6d9b9411461bb0577a61cf2f31810e9cc810d4ca\n\nmanager\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 2, 'created': '2020-06-08 23:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1d9e484e7bcbc90672246da0ef1ee1b264669ea', 'message': 'WIP: annotate volume manager\n\nmanager\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 3, 'created': '2020-06-18 22:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0032bcca2eef6b1b78febec562bdedcdb72219b', 'message': 'WIP: mypy: annotate volume manager\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 4, 'created': '2020-06-19 18:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2095ab2e1626c43cfa55281dcf784d63bc0916ab', 'message': 'WIP: mypy: annotate volume manager\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 5, 'created': '2020-07-07 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/183561ee144a52f1c19d51a78326308363427a4c', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 6, 'created': '2020-07-14 15:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f01f79b64a8b73a068f5492a1a510fc3c25792d', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 7, 'created': '2020-08-10 16:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47d78572a39a94216b7489e0703fac2acb3bafa5', 'message': 'mypy: annotate volume manager\n\nAdd an initial set of annotations to the\nvolume manager.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 8, 'created': '2020-09-02 15:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c635023831559497422393d065c3f884d416ade4', 'message': 'mypy: annotate volume manager\n\nAdd an initial set of annotations to the\nvolume manager.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 9, 'created': '2020-09-28 21:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c185304c7e4a4d74b0eed5907318cc4e86140b6', 'message': 'mypy: annotate volume manager\n\nAdd an initial set of annotations to the\nvolume manager.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 10, 'created': '2020-10-07 19:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cd532e1319c761b0304abdaaef18ccd40279fec', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 11, 'created': '2020-10-08 15:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f7a9189dce902f14e40f991914602db0fb9843e', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 12, 'created': '2020-10-14 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cb85847d02a5318c80b91fb83f51f78436f9256', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 13, 'created': '2020-12-02 15:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4512bbb7c7a8aa2b1c1d4341a7ef7a15ea8b2b5c', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 14, 'created': '2020-12-09 18:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d11be845e21c639e5ca60a0eb23dee1184a47a9d', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 15, 'created': '2021-01-19 14:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6ce1a9b5c1785354342631b6f6690363e97ca9c', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 16, 'created': '2021-02-05 17:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae790e7964e3a2675cf5642521444c08539e708a', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}, {'number': 17, 'created': '2021-02-10 17:30:07.000000000', 'files': ['cinder/manager.py', 'cinder/volume/manager.py', 'cinder/context.py', 'cinder/volume/volume_types.py', 'mypy-files.txt', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/698ab86a74442a13713902dfb7bf0bc4ec7d628c', 'message': 'mypy: annotate volume manager\n\nThis is just a first pass to get things\nrolling.\n\nChange-Id: I67ac3df632a34729646e7b037205327696818a22\n'}]",79,733621,698ab86a74442a13713902dfb7bf0bc4ec7d628c,544,45,17,4523,,,0,"mypy: annotate volume manager

This is just a first pass to get things
rolling.

Change-Id: I67ac3df632a34729646e7b037205327696818a22
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/733621/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/manager.py', 'cinder/volume/manager.py', 'mypy-files.txt']",3,61c7f53eb215bbeb7a805c40d4138bed9ed35e04,mypy,cinder/manager.py cinder/volume/api.py cinder/volume/manager.py ,,140,124
openstack%2Fpuppet-horizon~master~I0508bfc19741c6bed435f11160122d422450f9ac,openstack/puppet-horizon,master,I0508bfc19741c6bed435f11160122d422450f9ac,Specify correct tempest whitelist,MERGED,2021-02-28 07:22:57.000000000,2021-02-28 15:02:47.000000000,2021-02-28 15:02:47.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-28 07:22:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bd119e751949205b67124343db0a1e9c88f62983', 'message': 'Specify correct tempest whitelist\n\nHorizon dashboard tempest tests have been moved from\ntempest-horizon plugin to Tempest.\n\nCloses-Bug: #1917197\nChange-Id: I0508bfc19741c6bed435f11160122d422450f9ac\n'}]",0,777882,bd119e751949205b67124343db0a1e9c88f62983,7,2,1,8833,,,0,"Specify correct tempest whitelist

Horizon dashboard tempest tests have been moved from
tempest-horizon plugin to Tempest.

Closes-Bug: #1917197
Change-Id: I0508bfc19741c6bed435f11160122d422450f9ac
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/82/777882/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bd119e751949205b67124343db0a1e9c88f62983,, - 'tempest.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario', - 'horizon',1,1
openstack%2Fironic-lib~master~I0e790cebcd086d26bf27b909f73842c3f46bbd77,openstack/ironic-lib,master,I0e790cebcd086d26bf27b909f73842c3f46bbd77,Import json_rpc from ironic,MERGED,2021-02-06 12:36:15.000000000,2021-02-28 14:43:07.000000000,2021-02-28 14:41:57.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-06 12:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/ebe8b4cabd84d7bc131741b203ae6d4dbfa34f36', 'message': '[WIP] import json_rpc from ironic\n\nChange-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77\n'}, {'number': 2, 'created': '2021-02-06 12:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e6ffb45eb3111f2828cb7cf19f051abf3f152c26', 'message': '[WIP] import json_rpc from ironic\n\nChange-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77\n'}, {'number': 3, 'created': '2021-02-08 12:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/8321db232434b74974a334f823642078de19500f', 'message': '[WIP] import json_rpc from ironic\n\nChange-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77\n'}, {'number': 4, 'created': '2021-02-23 14:45:55.000000000', 'files': ['ironic_lib/json_rpc/server.py', 'ironic_lib/tests/test_json_rpc.py', 'extra-requirements.txt', 'ironic_lib/json_rpc/__init__.py', 'ironic_lib/json_rpc/client.py', 'test-requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/22a944bd31e546350b94d451dc3386ba75fdab0e', 'message': 'Import json_rpc from ironic\n\nTo be able to use the same JSON RPC implementation for ironic-inspector,\nit is now imported in ironic-lib. Some additional abstraction laters are\nadded to avoid hard dependency on oslo.context and oslo.messaging.\n\nChange-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77\n'}]",33,774354,22a944bd31e546350b94d451dc3386ba75fdab0e,15,3,4,10239,,,0,"Import json_rpc from ironic

To be able to use the same JSON RPC implementation for ironic-inspector,
it is now imported in ironic-lib. Some additional abstraction laters are
added to avoid hard dependency on oslo.context and oslo.messaging.

Change-Id: I0e790cebcd086d26bf27b909f73842c3f46bbd77
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/54/774354/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/json_rpc/server.py', 'ironic_lib/tests/test_json_rpc.py', 'requirements.txt', 'ironic_lib/context.py', 'ironic_lib/json_rpc/__init__.py', 'ironic_lib/json_rpc/client.py', 'test-requirements.txt', 'ironic_lib/tests/test_context.py']",8,ebe8b4cabd84d7bc131741b203ae6d4dbfa34f36,json-rpc,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from oslo_context import context as oslo_context from ironic_lib import context from ironic_lib.tests import base as tests_base class RequestContextTestCase(tests_base.IronicLibTestCase): def setUp(self): super(RequestContextTestCase, self).setUp() self.context_dict = { 'auth_token': 'auth_token1', ""user_id"": ""user1"", ""project_id"": ""project1"", ""project_name"": ""somename"", 'is_admin': True, 'read_only': True, 'show_deleted': True, 'request_id': 'id1', ""is_public_api"": True, ""domain_id"": ""domain_id2"", ""user_domain_id"": ""domain_id3"", ""user_domain_name"": ""TreeDomain"", ""project_domain_id"": ""domain_id4"", ""roles"": None, ""overwrite"": True } @mock.patch.object(oslo_context.RequestContext, ""__init__"", autospec=True) def test_create_context(self, context_mock): test_context = context.RequestContext() context_mock.assert_called_once_with(mock.ANY) self.assertFalse(test_context.is_public_api) def test_to_policy_values(self): ctx = context.RequestContext(**self.context_dict) ctx_dict = ctx.to_policy_values() self.assertEqual('somename', ctx_dict['project_name']) self.assertTrue(ctx_dict['is_public_api']) def test_get_admin_context(self): admin_context = context.get_admin_context() self.assertTrue(admin_context.is_admin) @mock.patch.object(oslo_context, 'get_current', autospec=True) def test_thread_without_context(self, context_get_mock): self.context.update_store = mock.Mock() context_get_mock.return_value = None self.context.ensure_thread_contain_context() self.context.update_store.assert_called_once_with() @mock.patch.object(oslo_context, 'get_current', autospec=True) def test_thread_with_context(self, context_get_mock): self.context.update_store = mock.Mock() context_get_mock.return_value = self.context self.context.ensure_thread_contain_context() self.assertFalse(self.context.update_store.called) ",,1422,0
openstack%2Fironic~master~Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,openstack/ironic,master,Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb,devstack: a safeguard for disabled tempurls,MERGED,2021-02-25 11:10:02.000000000,2021-02-28 14:37:37.000000000,2021-02-28 14:36:13.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 11:10:02.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7abac806a7f889fc87120c9e2c3a61b3a35f6458', 'message': 'devstack: a safeguard for disabled tempurls\n\nChange-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb\n'}]",0,777572,7abac806a7f889fc87120c9e2c3a61b3a35f6458,17,3,1,10239,,,0,"devstack: a safeguard for disabled tempurls

Change-Id: Id5fcd4cc1f73b80e8a9e9d2c50e2e4e1667c01cb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/777572/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,7abac806a7f889fc87120c9e2c3a61b3a35f6458,gate," if is_service_enabled swift && [[ ""$SWIFT_ENABLE_TEMPURLS"" == ""True"" ]] && ! is_service_enabled tls-proxy; then", if is_service_enabled swift && ! is_service_enabled tls-proxy; then,1,1
openstack%2Fheat~master~I034625733c2d22f0f5635f58e9df3d5785e58cf5,openstack/heat,master,I034625733c2d22f0f5635f58e9df3d5785e58cf5,Allow using database configs on db retry,MERGED,2020-09-18 07:49:56.000000000,2021-02-28 13:39:47.000000000,2021-02-28 13:38:29.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-18 07:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/029dcac225d7c97c7ef5cc80925044756b7b88f9', 'message': 'Allow using database configs on db retry\n\nAllow following db configs when calling wrap_db_retry:\n    * database.db_max_retries\n    * database.db_retry_interval\n    * database.db_inc_retry_interval\n    * database.db_max_retry_interval\nSo database cofig can now control db retries.\nPlease reference [1] for what each config options can do.\n\n[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py\n\nChange-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5\n'}, {'number': 2, 'created': '2020-09-18 15:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1c88294790fcd7cc17163606dfe93e93d7971b7', 'message': 'Allow using database configs on db retry\n\nAllow following db configs when calling wrap_db_retry:\n    * database.db_max_retries\n    * database.db_retry_interval\n    * database.db_inc_retry_interval\n    * database.db_max_retry_interval\nSo database cofig can now control db retries.\nPlease reference [1] for what each config options can do.\n\n[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py\n\nChange-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5\n'}, {'number': 3, 'created': '2020-09-20 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb8e82b5fea8b00d25561680a9dabebd5507b1e7', 'message': 'Allow using database configs on db retry\n\nAllow following db configs when calling wrap_db_retry:\n    * database.db_max_retries\n    * database.db_retry_interval\n    * database.db_inc_retry_interval\n    * database.db_max_retry_interval\nSo database cofig can now control db retries.\nPlease reference [1] for what each config options can do.\n\n[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py\n\nChange-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5\n'}, {'number': 4, 'created': '2020-11-16 07:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a026277a1d7d31e31277edc18747915f96fb8652', 'message': 'Allow using database configs on db retry\n\nAllow following db configs when calling wrap_db_retry:\n    * database.db_max_retries\n    * database.db_retry_interval\n    * database.db_inc_retry_interval\n    * database.db_max_retry_interval\nSo database cofig can now control db retries.\nPlease reference [1] for what each config options can do.\n\n[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py\n\nChange-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5\n'}, {'number': 5, 'created': '2021-02-27 07:42:24.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'config-generator.conf', 'heat/db/sqlalchemy/api.py', 'releasenotes/notes/honoring_oslo_db_config-bf32711bf99a2e47.yaml', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8daa7e938985e0fc34f603debf3a8ba1413d8ff7', 'message': 'Allow using database configs on db retry\n\nAllow following db configs when calling wrap_db_retry:\n    * database.db_max_retries\n    * database.db_retry_interval\n    * database.db_inc_retry_interval\n    * database.db_max_retry_interval\nSo database cofig can now control db retries.\nPlease reference [1] for what each config options can do.\n\n[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py\n\nChange-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5\n'}]",2,752637,8daa7e938985e0fc34f603debf3a8ba1413d8ff7,17,2,5,12404,,,0,"Allow using database configs on db retry

Allow following db configs when calling wrap_db_retry:
    * database.db_max_retries
    * database.db_retry_interval
    * database.db_inc_retry_interval
    * database.db_max_retry_interval
So database cofig can now control db retries.
Please reference [1] for what each config options can do.

[1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py

Change-Id: I034625733c2d22f0f5635f58e9df3d5785e58cf5
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/752637/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/sqlalchemy/api.py', 'releasenotes/notes/honoring_oslo_db_config-bf32711bf99a2e47.yaml']",2,029dcac225d7c97c7ef5cc80925044756b7b88f9,change-752637-4,--- fixes: - | Oslo db config is able to control wrap_db_retry call in heat. We remove hard coded settings for wrap_db_retry and use following configs from oslo_db instead. * database.db_max_retries * database.db_retry_interval * database.db_inc_retry_interval * database.db_max_retry_interval So database cofig can now control db retries. Please reference [1] for what each config options can do. [1] https://opendev.org/openstack/oslo.db/src/branch/master/oslo_db/options.py ,,24,5
openstack%2Fopenstack-manuals~master~Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,openstack/openstack-manuals,master,Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc,Update site for deprecated monasca-log-api & monasca-ceilometer,MERGED,2021-02-26 18:20:20.000000000,2021-02-28 10:22:48.000000000,2021-02-28 10:02:05.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 18:20:20.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d142f6c426055ee552e0d28907b2859320ff4b16', 'message': 'Update site for deprecated monasca-log-api & monasca-ceilometer\n\nmonasca-log-api & monasca-ceilometer are deprecated now\n- https://review.opendev.org/c/openstack/governance/+/771785\n\nChange-Id: Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc\n'}]",0,777804,d142f6c426055ee552e0d28907b2859320ff4b16,8,3,1,8556,,,0,"Update site for deprecated monasca-log-api & monasca-ceilometer

monasca-log-api & monasca-ceilometer are deprecated now
- https://review.opendev.org/c/openstack/governance/+/771785

Change-Id: Id0800c9c9471a6d2fcf2bb03071abc3c7f3578cc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/04/777804/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,d142f6c426055ee552e0d28907b2859320ff4b16,," 'openstack/monasca-ceilometer', 'openstack/monasca-log-api',",,2,0
openstack%2Fproject-config~master~I3ffc52e38708211f090319a63b9d794d0376223a,openstack/project-config,master,I3ffc52e38708211f090319a63b9d794d0376223a,Add infrawatch/functional-tests to available repos,MERGED,2021-02-24 16:28:09.000000000,2021-02-28 10:19:22.000000000,2021-02-28 10:05:43.000000000,"[{'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 16:28:09.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb4e6933bbecff49e86044da2508940bd9044f47', 'message': 'Add infrawatch/functional-tests to available repos\n\nThis should allow tripleo-ansible molecule tests to complete\nwithout cloning from github\n\nChange-Id: I3ffc52e38708211f090319a63b9d794d0376223a\n'}]",0,777428,fb4e6933bbecff49e86044da2508940bd9044f47,9,4,1,13177,,,0,"Add infrawatch/functional-tests to available repos

This should allow tripleo-ansible molecule tests to complete
without cloning from github

Change-Id: I3ffc52e38708211f090319a63b9d794d0376223a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/777428/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,fb4e6933bbecff49e86044da2508940bd9044f47,add_repo/functional-tests, - infrawatch/functional-tests,,1,0
openstack%2Fopenstack-helm~master~Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,openstack/openstack-helm,master,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,Update rbac api version for cinder,MERGED,2021-01-30 08:44:27.000000000,2021-02-28 08:37:16.000000000,2021-02-28 08:35:44.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-30 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a58bce5ac27671d4b04187dc87a238a636d90d03', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 2, 'created': '2021-01-31 05:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b0c7418d7e293082fb56bc6fbe87b08d66a4f6e1', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 3, 'created': '2021-02-15 00:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2f9f9fc9d2820acdda4e67ff73aea15cdd422b7', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 4, 'created': '2021-02-16 14:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e66bb9eaf06beb685c21f4b57d2229f64c2568fe', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 5, 'created': '2021-02-16 14:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/42f25ebe8591988045942bab1bc99c4718485b8f', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 6, 'created': '2021-02-18 05:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd0d9d2aa15d3671580d4eec82f63b81b0244fb9', 'message': 'Update rabc api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 7, 'created': '2021-02-18 05:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b57df02336ca351f15563963a03febe79e0e2ab', 'message': 'Update rbac api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 8, 'created': '2021-02-24 00:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33a7fed966757e81c8d37b608eef9bf2bdd051f4', 'message': 'Update rbac api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 9, 'created': '2021-02-24 00:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f48784730a942e320cc887b73da752c3681f50b', 'message': 'Update rbac api version for cinder\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}, {'number': 10, 'created': '2021-02-27 03:44:54.000000000', 'files': ['cinder/Chart.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/job-clean.yaml', 'releasenotes/notes/cinder.yaml', 'cinder/templates/job-storage-init.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/566e1cb6698ec69efc14e881b24034eee833db22', 'message': 'Update rbac api version for cinder\n\nWhen using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.\n\nChange-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb\n'}]",6,773234,566e1cb6698ec69efc14e881b24034eee833db22,38,8,10,30449,,,0,"Update rbac api version for cinder

When using a helm3 to deploy , it fails. Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can support helm2 and helm3.

Change-Id: Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/773234/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/job-clean.yaml', 'cinder/templates/job-storage-init.yaml']",3,a58bce5ac27671d4b04187dc87a238a636d90d03,Ie4e1c79c2b2513318d1b7d6a13712921a6c2a6cb,apiVersion: rbac.authorization.k8s.io/v1apiVersion: rbac.authorization.k8s.io/v1,apiVersion: rbac.authorization.k8s.io/v1beta1apiVersion: rbac.authorization.k8s.io/v1beta1,6,6
openstack%2Frequirements~master~I1b1d5a731aa8f868e2af628f196378207c65ca37,openstack/requirements,master,I1b1d5a731aa8f868e2af628f196378207c65ca37,Updated from generate-constraints,ABANDONED,2021-02-28 06:17:29.000000000,2021-02-28 06:56:20.000000000,,[],"[{'number': 1, 'created': '2021-02-28 06:17:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d779fce1bf66a31e379ffb3c06fc15a92ed86e73', 'message': 'Updated from generate-constraints\n\nChange-Id: I1b1d5a731aa8f868e2af628f196378207c65ca37\n'}]",0,777879,d779fce1bf66a31e379ffb3c06fc15a92ed86e73,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I1b1d5a731aa8f868e2af628f196378207c65ca37
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/777879/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d779fce1bf66a31e379ffb3c06fc15a92ed86e73,openstack/requirements/constraints,arrow===1.0.1keyring===22.3.0GitPython===3.1.14pkg-resources===0.0.0,arrow===1.0.0keyring===22.2.0GitPython===3.1.13futures===3.3.0;python_version=='2.7'setuptools===53.0.0,4,5
openstack%2Fcinder~stable%2Fvictoria~I4383b691a8cc4aacb046332e418aafb88ba8ba56,openstack/cinder,stable/victoria,I4383b691a8cc4aacb046332e418aafb88ba8ba56,NetApp SolidFire: Fix duplicate volume when API response is lost,MERGED,2020-11-26 03:44:46.000000000,2021-02-28 05:42:45.000000000,2021-02-24 21:33:12.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-26 03:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12130ff6e03c9385fbaa452b6a5176f4e1ea92bd', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option sf_volume_create_timeout to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n""}, {'number': 2, 'created': '2021-02-17 13:52:53.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/deb31a0c4d35ea6c479bfe466b780ed07a489276', 'message': ""NetApp SolidFire: Fix duplicate volume when API response is lost\n\nThe SolidFire driver retries API requests in case a connection\nerror occurrs. When network is unstable, there may be the\npossibility that the SolidFire backend successfully receive\nand process a create volume operation, but fail to deliver the\nresponse back to the driver.\n\nWhen this scenario occurrs, the SolidFire driver automatically\nresends the request, creating a second volume and leaving a\nduplicate unused. Although this doesn't affect\ndriver functionality at first moment (the volume id from the\ncluster is always correctly associated to cinder provider id),\nfurther operations may hit the unused volume, leading to\nunexpected hehavior.\n\nThis patch fixes this issue by:\n\n1. Checking if the volume name already exists in the\nbackend before trying to create it. Volume creation will\nraise a exception and abort in case of a volume is found.\n\n2. Checking for volume creation right after a read timeout is\ndetected, preventing invalid API calls.\n\n3. Adding option sf_volume_create_timeout to the SolidFire\ndriver, to allow users to set the appropriate timeout value for\ntheir environment.\n\nCloses-Bug: #1896112\nChange-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56\n(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)\n""}]",2,764273,deb31a0c4d35ea6c479bfe466b780ed07a489276,49,7,2,30555,,,0,"NetApp SolidFire: Fix duplicate volume when API response is lost

The SolidFire driver retries API requests in case a connection
error occurrs. When network is unstable, there may be the
possibility that the SolidFire backend successfully receive
and process a create volume operation, but fail to deliver the
response back to the driver.

When this scenario occurrs, the SolidFire driver automatically
resends the request, creating a second volume and leaving a
duplicate unused. Although this doesn't affect
driver functionality at first moment (the volume id from the
cluster is always correctly associated to cinder provider id),
further operations may hit the unused volume, leading to
unexpected hehavior.

This patch fixes this issue by:

1. Checking if the volume name already exists in the
backend before trying to create it. Volume creation will
raise a exception and abort in case of a volume is found.

2. Checking for volume creation right after a read timeout is
detected, preventing invalid API calls.

3. Adding option sf_volume_create_timeout to the SolidFire
driver, to allow users to set the appropriate timeout value for
their environment.

Closes-Bug: #1896112
Change-Id: I4383b691a8cc4aacb046332e418aafb88ba8ba56
(cherry picked from commit 42c92cc407d475751bc61c98445c9c0740a71496)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/764273/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-duplicate-volume-request-lost-adefacda1298dc62.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,12130ff6e03c9385fbaa452b6a5176f4e1ea92bd,bug/1896112," if params and params.get('startVolumeID', None): selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']] else: result = {'result': {'volumes': []}} ", if params and params['startVolumeID']: selected_volumes = [v for v in volumes if v.get('volumeID') != params['startVolumeID']],88,8
openstack%2Fkeystone~master~I960379ceb435472cdc754b5f63243c70d552d9c3,openstack/keystone,master,I960379ceb435472cdc754b5f63243c70d552d9c3,fix E225 missing whitespace around operator,MERGED,2020-11-27 12:21:45.000000000,2021-02-28 04:55:45.000000000,2021-02-28 04:53:55.000000000,"[{'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-27 12:21:45.000000000', 'files': ['keystone/models/revoke_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6e7369f2e4e25055121570637de31bcd23fb0cf4', 'message': 'fix E225 missing whitespace around operator\n\nChange-Id: I960379ceb435472cdc754b5f63243c70d552d9c3\n'}]",0,764453,6e7369f2e4e25055121570637de31bcd23fb0cf4,15,5,1,18816,,,0,"fix E225 missing whitespace around operator

Change-Id: I960379ceb435472cdc754b5f63243c70d552d9c3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/764453/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/models/revoke_model.py'],1,6e7369f2e4e25055121570637de31bcd23fb0cf4,models_revoke_model_e225, if event.domain_id is not None and event.domain_id not in (, if event.domain_id is not None and event.domain_id not in(,1,1
openstack%2Fcinder~master~Ic63333e00430cf3075061e280ca05c7ad1d18c44,openstack/cinder,master,Ic63333e00430cf3075061e280ca05c7ad1d18c44,Remove install unnecessary packages,MERGED,2020-09-23 03:39:15.000000000,2021-02-28 04:43:55.000000000,2021-02-19 22:18:30.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31980}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-09-23 03:39:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1f517927841341d456ce1cf175bce638a205081', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: Ic63333e00430cf3075061e280ca05c7ad1d18c44\n'}]",0,753490,e1f517927841341d456ce1cf175bce638a205081,51,25,1,31027,,,0,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: Ic63333e00430cf3075061e280ca05c7ad1d18c44
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/753490/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1f517927841341d456ce1cf175bce638a205081,,, -r{toxinidir}/requirements.txt,0,1
openstack%2Foslo.policy~master~I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,openstack/oslo.policy,master,I7437cf00b2ba5c02926dc8c2435e237ef730f2b1,trivial: Tweak docstrings,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:31:16.000000000,2021-02-28 04:30:11.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-05 12:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/03ef551ead6919cfbab836927d895ac69e339061', 'message': ""trivial: Tweak docstrings\n\nThere's no functional changes here other than moving the initializer\ndocumentation for the 'DeprecatedRule' from the '__init__' docstring to\nthe class' docstring. This allows us to remove '__init__' entirely since\nit was just calling the superclass.\n\nChange-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/70033e10332f765bf2c1ca872ef164e923c2a298', 'message': ""trivial: Tweak docstrings\n\nThere's no functional changes here other than moving the initializer\ndocumentation for the 'DeprecatedRule' from the '__init__' docstring to\nthe class' docstring. This allows us to remove '__init__' entirely since\nit was just calling the superclass.\n\nChange-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-02-23 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f85e6b056a8372b4b29bfd7140491fb912303dd9', 'message': ""trivial: Tweak docstrings\n\nThere's no functional changes here other than moving the initializer\ndocumentation for the 'DeprecatedRule' from the '__init__' docstring to\nthe class' docstring. This allows us to remove '__init__' entirely since\nit was just calling the superclass.\n\nChange-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2021-02-23 13:13:04.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d8534850d9238e85ae0ea55bf2ac8583681fdb2b', 'message': ""trivial: Tweak docstrings\n\nThere's no functional changes here other than moving the initializer\ndocumentation for the 'DeprecatedRule' from the '__init__' docstring to\nthe class' docstring. This allows us to remove '__init__' entirely since\nit was just calling the superclass.\n\nChange-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,774235,d8534850d9238e85ae0ea55bf2ac8583681fdb2b,33,7,4,15334,,,0,"trivial: Tweak docstrings

There's no functional changes here other than moving the initializer
documentation for the 'DeprecatedRule' from the '__init__' docstring to
the class' docstring. This allows us to remove '__init__' entirely since
it was just calling the superclass.

Change-Id: I7437cf00b2ba5c02926dc8c2435e237ef730f2b1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/35/774235/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,03ef551ead6919cfbab836927d895ac69e339061,bug/1914095," :returns: A dict of the form:: { 'policy_name1': 'policy1', 'policy_name2': 'policy2, # ... } :param policy_file: Custom policy file to use, if none is specified, ``conf.oslo_policy.policy_file`` will be used. :param rules: Default dictionary / Rules to use. It will be considered just in the first instantiation. If :meth:`load_rules` with ``force_reload=True``, :meth:`clear` or :meth:`set_rules` with ``overwrite=True`` is called this will be overwritten. :param default_rule: Default rule to use, conf.default_rule will be used if none is specified. from config file. def __init__( self, conf, policy_file=None, rules=None, default_rule=None, use_conf=True, overwrite=True, fallback_to_json_file=True, ): :param rules: New rules to use. with the new rules. DeprecatedRule """"""Check if a RuleCheck references an undefined rule."""""" """"""Check if RuleChecks cycle. Looking for something like:: ""foo"": ""rule:bar"" ""bar"": ""rule:foo"" :param check: The check to search for. :param seen: A set of previously seen rules, else None. """""" :param path: A path of the policy file to load rules from. :param force_reload: Forcefully reload the policy file content. :param overwrite: Replace policy rules instead of updating them. full path specified, this function just returns the full path. When related path specified, this function will search configuration directories to find one that exists. :raises: ConfigFilesNotFoundError if the file/path couldn't be located. def enforce( self, rule, target, creds, do_raise=False, exc=None, *args, **kwargs, ): :param rule: The rule to evaluate as a string or :class:`BaseCheck`. :param target: As much information about the object being operated on as possible. The target argument should be a dict instance or an instance of a class that fully supports the Mapping abstract base class. :param creds: As much information about the user performing the action as possible. This parameter can also be an instance of ``oslo_context.context.RequestContext``. fails. Any remaining arguments passed to :meth:`enforce` (both positional and keyword arguments) will be passed to the exception class. If not specified, :class:`PolicyNotAuthorized` will be used. :return: ``False`` if the policy does not allow the action and ``exc`` is not provided; otherwise, returns a value that evaluates to ``True``. Note: for rules using the ""case"" expression, this ``True`` value will be the specified string from the expression. return self.enforce( rule, target, creds, do_raise, exc, *args, **kwargs) :param name: the policy name :param check_str: the value of the policy's check string "," :returns: A dict of the form {'policy_name1': 'policy1', 'policy_name2': 'policy2,...} :param policy_file: Custom policy file to use, if none is specified, ``conf.oslo_policy.policy_file`` will be used. :param rules: Default dictionary / Rules to use. It will be considered just in the first instantiation. If :meth:`load_rules` with ``force_reload=True``, :meth:`clear` or :meth:`set_rules` with ``overwrite=True`` is called this will be overwritten. :param default_rule: Default rule to use, conf.default_rule will be used if none is specified. from config file. def __init__(self, conf, policy_file=None, rules=None, default_rule=None, use_conf=True, overwrite=True, fallback_to_json_file=True): :param dict rules: New rules to use. with the new rules. DeprecatedRule '''Check if a RuleCheck references an undefined rule.''' '''Check if RuleChecks cycle. Looking for something like: ""foo"": ""rule:bar"" ""bar"": ""rule:foo"" ''' :param str path: A path of the policy file to load rules from. :param bool force_reload: Forcefully reload the policy file content. :param bool overwrite: Replace policy rules instead of updating them. :rtype: bool full path specified, this function just returns the full path. When related path specified, this function will search configuration directories to find one that exists. :raises: ConfigFilesNotFoundError if the file/path couldn't be located. def enforce(self, rule, target, creds, do_raise=False, exc=None, *args, **kwargs): :param rule: The rule to evaluate. :type rule: string or :class:`BaseCheck` :param dict target: As much information about the object being operated on as possible. The target argument should be a dict instance or an instance of a class that fully supports the Mapping abstract base class. :param dict creds: As much information about the user performing the action as possible. This parameter can also be an instance of ``oslo_context.context.RequestContext``. fails. Any remaining arguments passed to :meth:`enforce` (both positional and keyword arguments) will be passed to the exception class. If not specified, :class:`PolicyNotAuthorized` will be used. :return: ``False`` if the policy does not allow the action and `exc` is not provided; otherwise, returns a value that evaluates to ``True``. Note: for rules using the ""case"" expression, this ``True`` value will be the specified string from the expression. return self.enforce(rule, target, creds, do_raise, exc, *args, **kwargs) def __init__(self, name, check_str): """"""Construct a DeprecatedRule object. :param name: the policy name :param check_str: the value of the policy's check string """""" super().__init__(name, check_str)",65,70
openstack%2Foslo.policy~master~Ibcbf5292977e5264bf7eedd225cbab83e683e394,openstack/oslo.policy,master,Ibcbf5292977e5264bf7eedd225cbab83e683e394,Make 'Rule' attributes read-only,MERGED,2021-02-05 12:43:07.000000000,2021-02-28 04:13:25.000000000,2021-02-28 04:12:20.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-05 12:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2759f7c816a282a88c0c8b07032b78b77a53905a', 'message': ""Make 'Rule.check' a read-only property\n\nJust as there are negative side-effects to us setting this attribute, so\nthere are for others setting it. Prevent people doing so by making it a\nread only attribute.\n\nWe probably want to make the rest of these read-only. That's left for a\nfuture change.\n\nChange-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-02-09 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/266c917e9546ce8d165e697a455418165ca18593', 'message': ""Make 'Rule.check' a read-only property\n\nJust as there are negative side-effects to us setting this attribute, so\nthere are for others setting it. Prevent people doing so by making it a\nread only attribute.\n\nWe probably want to make the rest of these read-only. That's left for a\nfuture change.\n\nChange-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-02-23 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1155ae30d41c38a203840ce0341c22f152cfdd6b', 'message': ""Make 'Rule.check' a read-only property\n\nJust as there are negative side-effects to us setting this attribute, so\nthere are for others setting it. Prevent people doing so by making it a\nread only attribute.\n\nWe probably want to make the rest of these read-only. That's left for a\nfuture change.\n\nChange-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2021-02-23 13:13:04.000000000', 'files': ['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/45249db86e55c8d2c30186443371d352a74b6540', 'message': ""Make 'Rule' attributes read-only\n\nWe obviously can't do much about people accessing the private functions,\nbut this should avoid some obvious bugs. If people want to change the\nrules, they should either state a different definition in a file or\nchange the definition in code.\n\nChange-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,774233,45249db86e55c8d2c30186443371d352a74b6540,31,5,4,15334,,,0,"Make 'Rule' attributes read-only

We obviously can't do much about people accessing the private functions,
but this should avoid some obvious bugs. If people want to change the
rules, they should either state a different definition in a file or
change the definition in code.

Change-Id: Ibcbf5292977e5264bf7eedd225cbab83e683e394
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/33/774233/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py']",2,2759f7c816a282a88c0c8b07032b78b77a53905a,bug/1914095," self.enforcer.registered_rules['test']._check = 'role:admin' self.assertEqual( self.enforcer.registered_rules['test'].check_str, 'role:admin') self.assertEqual( self.enforcer.registered_rules['test'].check, 'role:admin')"," rule_original._deprecated_rule_handled = False self.enforcer.registered_rules['test'].check = 'role:admin' self.enforcer.registered_rules['test']._deprecated_rule_handled = True self.assertEqual(self.enforcer.registered_rules['test'].check_str, 'role:admin') self.assertEqual(self.enforcer.registered_rules['test'].check, 'role:admin') self.assertTrue( self.enforcer.registered_rules['test']._deprecated_rule_handled) self.assertFalse(rule_original._deprecated_rule_handled)",39,31
openstack%2Fswift~stable%2Fussuri~Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,openstack/swift,stable/ussuri,Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b,Use swiftclient Connections in sharding probe tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:58:18.000000000,2021-02-28 02:56:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5791cec31e6935a9af691dbd181bc1657d87ce2d', 'message': 'Use swiftclient Connections in sharding probe tests\n\nThis gets us retries ""for free"" and should reduce gate flakiness.\n\nCherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756\nChange-Id: Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b\n'}]",0,777287,5791cec31e6935a9af691dbd181bc1657d87ce2d,12,2,1,597,,,0,"Use swiftclient Connections in sharding probe tests

This gets us retries ""for free"" and should reduce gate flakiness.

Cherry-Picked-From: Ia2e4c94f246230a3e25e4557b4b2c1a3a67df756
Change-Id: Icdf1f9d02d1e6ae5dc1112d2792ef6845067158b
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/777287/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,5791cec31e6935a9af691dbd181bc1657d87ce2d,ussuri-sharding," conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) conn.put_object(self.container_name, obj, contents=contents, response_dict=rdict) conn = client.Connection(preauthurl=self.url, preauthtoken=self.token) conn.delete_object(self.container_name, obj, query_string='version-id=%s' % version) else: conn.delete_object(self.container_name, obj)"," client.put_object(self.url, token=self.token, container=self.container_name, name=obj, contents=contents, response_dict=rdict) client.delete_object( self.url, self.token, self.container_name, obj, query_string='version-id=%s' % version) else: client.delete_object( self.url, self.token, self.container_name, obj)",7,8
openstack%2Fswift~stable%2Fussuri~I12988d2cd8e7c948f107e7df943cab8f8565c3d2,openstack/swift,stable/ussuri,I12988d2cd8e7c948f107e7df943cab8f8565c3d2,Refactor audit shard tests,MERGED,2021-02-24 03:15:09.000000000,2021-02-28 02:57:16.000000000,2021-02-28 02:55:59.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/959a98d7b18aba3e9b9812f5cf81d107a237e59e', 'message': 'Refactor audit shard tests\n\nThe existing tests cover a lot of behaviors and carry around a lot of\nstate that makes them hard to extend in a descriptive mannor to cover\nnew or changed behaviors.\n\nCherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b\nChange-Id: I12988d2cd8e7c948f107e7df943cab8f8565c3d2\n'}]",0,777286,959a98d7b18aba3e9b9812f5cf81d107a237e59e,12,3,1,597,,,0,"Refactor audit shard tests

The existing tests cover a lot of behaviors and carry around a lot of
state that makes them hard to extend in a descriptive mannor to cover
new or changed behaviors.

Cherry-Picked-From: Ie52932d8d4a66b11c295d5568aa3a60895b84f3b
Change-Id: I12988d2cd8e7c948f107e7df943cab8f8565c3d2
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/777286/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,959a98d7b18aba3e9b9812f5cf81d107a237e59e,ussuri-sharding," def call_audit_container(self, broker, shard_ranges, exc=None): with self._mock_sharder() as sharder: with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift def assert_no_audit_messages(self, sharder, mock_swift, marker='k', end_marker='t'): self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) expected_stats = {'attempted': 1, 'success': 1, 'failure': 0} self._assert_stats(expected_stats, sharder, 'audit_shard') expected_headers = {'X-Backend-Record-Type': 'shard', 'X-Newest': 'true', 'X-Backend-Include-Deleted': 'True', 'X-Backend-Override-Deleted': 'true'} params = {'format': 'json', 'marker': marker, 'end_marker': end_marker} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) sharder, mock_swift = self.call_audit_container( broker, shard_ranges, sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) def test_audit_deleted_range_in_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' shard_bounds = ( ('a', 'j'), ('k', 't'), ('k', 's'), ('l', 's'), ('s', 'z')) shard_ranges = self._make_shard_ranges(shard_bounds, ShardRange.ACTIVE) shard_ranges[1].name = broker.path shard_ranges[1].update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) shard_ranges[1].deleted = 1 sharder, mock_swift = self.call_audit_container(broker, shard_ranges) self.assert_no_audit_messages(sharder, mock_swift) self.assertTrue(broker.is_deleted()) def test_audit_deleted_range_missing_from_root_container(self): broker = self._make_broker(account='.shards_a', container='shard_c') broker.set_sharding_sysmeta('Quoted-Root', 'a/c') own_shard_range = broker.get_own_shard_range() own_shard_range.lower = 'k' own_shard_range.upper = 't' own_shard_range.update_state(ShardRange.SHARDED, state_timestamp=Timestamp.now()) own_shard_range.deleted = 1 broker.merge_shard_ranges([own_shard_range]) self.assertFalse(broker.is_deleted()) sharder, mock_swift = self.call_audit_container(broker, []) self.assert_no_audit_messages(sharder, mock_swift)"," def call_audit_container(exc=None): with self._mock_sharder() as sharder: sharder.logger = debug_logger() with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() assert_ok() def call_audit_container(exc=None): with self._mock_sharder() as sharder: with mock.patch.object(sharder, '_audit_root_container') \ as mocked, mock.patch.object( sharder, 'int_client') as mock_swift: mock_response = mock.MagicMock() mock_response.headers = {'x-backend-record-type': 'shard'} mock_response.body = json.dumps( [dict(sr) for sr in shard_ranges]) mock_swift.make_request.return_value = mock_response mock_swift.make_request.side_effect = exc mock_swift.make_path = (lambda a, c: '/v1/%s/%s' % (a, c)) sharder.reclaim_age = 0 sharder._audit_container(broker) mocked.assert_not_called() return sharder, mock_swift sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container() sharder, mock_swift = call_audit_container( def assert_ok(): sharder, mock_swift = call_audit_container() self.assertFalse(sharder.logger.get_lines_for_level('warning')) self.assertFalse(sharder.logger.get_lines_for_level('error')) self._assert_stats(expected_stats, sharder, 'audit_shard') params = {'format': 'json', 'marker': 'k', 'end_marker': 't'} mock_swift.make_request.assert_called_once_with( 'GET', '/v1/a/c', expected_headers, acceptable_statuses=(2,), params=params) assert_ok() assert_ok() own_shard_range.deleted = 1 own_shard_range.timestamp = Timestamp.now() del shard_ranges[:] # root responds with no shard ranges assert_ok()",88,76
openstack%2Fironic~master~I52e4ee022b17cb7f007534cb368136567b139a34,openstack/ironic,master,I52e4ee022b17cb7f007534cb368136567b139a34,Add both IPv4 and IPv6 DHCP options if interface has both,MERGED,2021-02-25 22:05:48.000000000,2021-02-28 02:56:17.000000000,2021-02-28 02:54:46.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 22:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2c77037e61103c7c107bb5a9ce1db97efa07e07', 'message': 'Add both IPv4 and IPv6 DHCP options if interface has both\n\nIt is possible that an interface has both IPv4 and IPv6 addresses,\nprimarily when using SLAAC with OpenStack Neutron.  When this is\nthe case, it is very likely that the first fixed IP would be a\nSLAAC assigned port and the second IP is the IPv4 address.\n\nIn an environment where you are looking to boot via IPv4, no DHCPv6\ninfrastructure exists as IPv6 connectivity is provided via SLAAC,\nyou would not be able to use this network to boot off of.\n\nThis patch instead grabs all the fixed IP addresses, then inserts\nthe options that match the IP versions which are attached to the\ninterface, potentially resulting in both IPv4 and IPv6 options\nbeing included (though the IPv6 ones would be largely omitted).\n\nIn environments where only IPv4 or IPv6 is in use on the port, it\nwill still only insert the options for those specific IP versions.\n\nStory #2008660\nTask #41933\nChange-Id: I9419b379935a3ba2bdcea356ce8987a5b12dad6f\n\nChange-Id: I52e4ee022b17cb7f007534cb368136567b139a34\n'}, {'number': 2, 'created': '2021-02-26 23:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f0e3ed21aeaa3efa58132c8d1d4f6c2c1b1d393', 'message': 'Add both IPv4 and IPv6 DHCP options if interface has both\n\nIt is possible that an interface has both IPv4 and IPv6 addresses,\nprimarily when using SLAAC with OpenStack Neutron.  When this is\nthe case, it is very likely that the first fixed IP would be a\nSLAAC assigned port and the second IP is the IPv4 address.\n\nIn an environment where you are looking to boot via IPv4, no DHCPv6\ninfrastructure exists as IPv6 connectivity is provided via SLAAC,\nyou would not be able to use this network to boot off of.\n\nThis patch instead grabs all the fixed IP addresses, then inserts\nthe options that match the IP versions which are attached to the\ninterface, potentially resulting in both IPv4 and IPv6 options\nbeing included (though the IPv6 ones would be largely omitted).\n\nIn environments where only IPv4 or IPv6 is in use on the port, it\nwill still only insert the options for those specific IP versions.\n\nStory #2008660\nTask #41933\nChange-Id: I52e4ee022b17cb7f007534cb368136567b139a34\n'}, {'number': 3, 'created': '2021-02-26 23:39:44.000000000', 'files': ['releasenotes/notes/add-dual-stack-dhcp-opts-6dc18ae10aeb599a.yaml', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/367cdcd66521a569965fc59cbce431039dbeb3ac', 'message': 'Add both IPv4 and IPv6 DHCP options if interface has both\n\nIt is possible that an interface has both IPv4 and IPv6 addresses,\nprimarily when using SLAAC with OpenStack Neutron.  When this is\nthe case, it is very likely that the first fixed IP would be a\nSLAAC assigned port and the second IP is the IPv4 address.\n\nIn an environment where you are looking to boot via IPv4, no DHCPv6\ninfrastructure exists as IPv6 connectivity is provided via SLAAC,\nyou would not be able to use this network to boot off of.\n\nThis patch instead grabs all the fixed IP addresses, then inserts\nthe options that match the IP versions which are attached to the\ninterface, potentially resulting in both IPv4 and IPv6 options\nbeing included (though the IPv6 ones would be largely omitted).\n\nIn environments where only IPv4 or IPv6 is in use on the port, it\nwill still only insert the options for those specific IP versions.\n\nStory #2008660\nTask #41933\nChange-Id: I52e4ee022b17cb7f007534cb368136567b139a34\n'}]",4,777692,367cdcd66521a569965fc59cbce431039dbeb3ac,35,5,3,1004,,,0,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Story #2008660
Task #41933
Change-Id: I52e4ee022b17cb7f007534cb368136567b139a34
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/777692/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-dual-stack-dhcp-opts-6dc18ae10aeb599a.yaml', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py']",3,d2c77037e61103c7c107bb5a9ce1db97efa07e07,fix-ip-version," def test_update_port_dhcp_opts_v4_and_v6(self, update_mock, client_mock): opts = [{'opt_name': 'bootfile-name', 'opt_value': 'pxelinux.0', 'ip_version': 4}, {'opt_name': 'tftp-server', 'opt_value': '1.1.1.1', 'ip_version': 4}, {'opt_name': 'server-ip-address', 'opt_value': '1.1.1.1', 'ip_version': 4}, {'opt_name': 'bootfile-url', 'opt_value': 'tftp://::1/file.name', 'ip_version': 6}] port_id = 'fake-port-id' expected = { 'extra_dhcp_opts': [ { 'opt_name': 'bootfile-name', 'opt_value': 'pxelinux.0', 'ip_version': 4 }, { 'opt_name': 'tftp-server', 'opt_value': '1.1.1.1', 'ip_version': 4 }, { 'opt_name': 'server-ip-address', 'opt_value': '1.1.1.1', 'ip_version': 4 }, { 'opt_name': 'bootfile-url', 'opt_value': 'tftp://::1/file.name', 'ip_version': 6 } ] } port_data = { ""id"": port_id, ""fixed_ips"": [ { ""ip_address"": ""192.168.1.3"", }, { ""ip_address"": ""2001:db8::201"", } ], } client_mock.return_value.get_port.return_value = port_data api = dhcp_factory.DHCPFactory() with task_manager.acquire(self.context, self.node.uuid) as task: api.provider.update_port_dhcp_opts(port_id, opts, context=task.context) update_mock.assert_called_once_with( task.context, port_id, expected) @mock.patch('ironic.common.neutron.get_client', autospec=True) @mock.patch('ironic.common.neutron.update_neutron_port', autospec=True)",,85,20
openstack%2Fironic-python-agent~stable%2Fussuri~Ib46612697851e36a16d272ccaeb0115106253863,openstack/ironic-python-agent,stable/ussuri,Ib46612697851e36a16d272ccaeb0115106253863,Software RAID: Get component devices by md UUID,MERGED,2021-02-27 05:20:51.000000000,2021-02-28 01:02:37.000000000,2021-02-28 01:01:29.000000000,"[{'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 05:20:51.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/get_md_components_by_uuid-7f08d423ea9e7c94.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c23c107b3e770eb3deaafa0e6ebdfcde2722a6a4', 'message': 'Software RAID: Get component devices by md UUID\n\nScanning the output of mdadm commands for RAID members will\nmiss component devices which are currently not part of the\nRAID. For proper cleaning it is better to scan block devices\nfor a signature of the md device for which we would like to\nget the components.\n\nStory: #2008186\nTask: #40947\n\nChange-Id: Ib46612697851e36a16d272ccaeb0115106253863\n(cherry picked from commit 044c64dbc0ccf166368ae364b48289420e8674ed)\n'}]",0,777778,c23c107b3e770eb3deaafa0e6ebdfcde2722a6a4,8,3,1,1004,,,0,"Software RAID: Get component devices by md UUID

Scanning the output of mdadm commands for RAID members will
miss component devices which are currently not part of the
RAID. For proper cleaning it is better to scan block devices
for a signature of the md device for which we would like to
get the components.

Story: #2008186
Task: #40947

Change-Id: Ib46612697851e36a16d272ccaeb0115106253863
(cherry picked from commit 044c64dbc0ccf166368ae364b48289420e8674ed)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/78/777778/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/get_md_components_by_uuid-7f08d423ea9e7c94.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,c23c107b3e770eb3deaafa0e6ebdfcde2722a6a4,story_2008186-stable/ussuri,"MDADM_EXAMINE_OUTPUT_MEMBER = (""""""/dev/sda1: Magic : a92b4efc Version : 1.2 Feature Map : 0x0 Array UUID : 83143055:2781ddf5:2c8f44c7:9b45d92e Name : horse.cern.ch:1 (local to host abc.xyz.com) Creation Time : Tue Jun 11 12:43:37 2019 Raid Level : raid1 Raid Devices : 2 Avail Dev Size : 2093056 sectors (1022.00 MiB 1071.64 MB) Array Size : 1046528 KiB (1022.00 MiB 1071.64 MB) Data Offset : 2048 sectors Super Offset : 8 sectors Unused Space : before=1968 sectors, after=0 sectors State : clean Device UUID : 88bf2723:d082f14f:f95e87cf:b7c59b83 Update Time : Sun Sep 27 01:00:08 2020 Bad Block Log : 512 entries available at offset 16 sectors Checksum : 340a1610 - correct Events : 178 Device Role : Active device 0 Array State : A. ('A' == active, '.' == missing, 'R' == replacing) """""") MDADM_EXAMINE_OUTPUT_NON_MEMBER = (""""""/dev/sdz1: Magic : a92b4efc Version : 1.2 Feature Map : 0x0 Array UUID : 83143055:2781ddf5:2c8f44c7:9b45d92f Name : horse.cern.ch:1 (local to host abc.xyz.com) Creation Time : Tue Jun 11 12:43:37 2019 Raid Level : raid1 Raid Devices : 2 Avail Dev Size : 2093056 sectors (1022.00 MiB 1071.64 MB) Array Size : 1046528 KiB (1022.00 MiB 1071.64 MB) Data Offset : 2048 sectors Super Offset : 8 sectors Unused Space : before=1968 sectors, after=0 sectors State : clean Device UUID : 88bf2723:d082f14f:f95e87cf:b7c59b84 Update Time : Sun Sep 27 01:00:08 2020 Bad Block Log : 512 entries available at offset 16 sectors Checksum : 340a1610 - correct Events : 178 Device Role : Active device 0 Array State : A. ('A' == active, '.' == missing, 'R' == replacing) """""") def test__get_md_uuid(self, mocked_execute): md_uuid = hardware._get_md_uuid('/dev/md0') self.assertEqual('83143055:2781ddf5:2c8f44c7:9b45d92e', md_uuid) @mock.patch.object(hardware, '_get_md_uuid', autospec=True) @mock.patch.object(hardware, 'list_all_block_devices', autospec=True) def test__get_component_devices(self, mocked_execute, mocked_list_all_block_devices, mocked_md_uuid): raid_device1 = hardware.BlockDevice('/dev/md0', 'RAID-1', 107374182400, True) sda = hardware.BlockDevice('/dev/sda', 'model12', 21, True) sdz = hardware.BlockDevice('/dev/sdz', 'model12', 21, True) sda1 = hardware.BlockDevice('/dev/sda1', 'model12', 21, True) sdz1 = hardware.BlockDevice('/dev/sdz1', 'model12', 21, True) mocked_md_uuid.return_value = '83143055:2781ddf5:2c8f44c7:9b45d92e' hardware.list_all_block_devices.side_effect = [ [sda, sdz], # list_all_block_devices [sda1, sdz1], # list_all_block_devices partitions ] mocked_execute.side_effect = [ ['mdadm --examine output for sda', '_'], ['mdadm --examine output for sdz', '_'], [MDADM_EXAMINE_OUTPUT_MEMBER, '_'], [MDADM_EXAMINE_OUTPUT_NON_MEMBER, '_'], ] component_devices = hardware._get_component_devices(raid_device1) self.assertEqual(['/dev/sda1'], component_devices) mocked_execute.assert_has_calls([ mock.call('mdadm', '--examine', '/dev/sda', use_standard_locale=True), mock.call('mdadm', '--examine', '/dev/sdz', use_standard_locale=True), mock.call('mdadm', '--examine', '/dev/sda1', use_standard_locale=True), mock.call('mdadm', '--examine', '/dev/sdz1', use_standard_locale=True)])"," def test__get_component_devices(self, mocked_execute): component_devices = hardware._get_component_devices('/dev/md0') self.assertEqual(['/dev/vde1', '/dev/vdf1'], component_devices) def test__get_component_devices_broken_raid0(self, mocked_execute): mocked_execute.side_effect = [(MDADM_DETAIL_OUTPUT_BROKEN_RAID0, '')] component_devices = hardware._get_component_devices('/dev/md126') self.assertEqual(['/dev/sda2'], component_devices)",152,20
openstack%2Fcinder~master~If127b75aac1ea6b25ec6473913410b1a7ec217d4,openstack/cinder,master,If127b75aac1ea6b25ec6473913410b1a7ec217d4,TOYOU:  Abandon the target parameter and  Report SAN driver options,MERGED,2021-02-03 07:51:31.000000000,2021-02-27 22:36:00.000000000,2021-02-23 22:40:41.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 07:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83a842ab25b4803ec7d7a28114d04ec0f0f13bfc', 'message': 'TOYOU:  Abandon the target parameter and  Report SAN driver options\n\nReport SAN driver options:\nAdded configuration options(san_ip, san_ssh_port, san_login) to report on their specific ""get_driver_options"" method.\n\nAbandon the target parameter:\nThe target parameter should not be required or used. Automatic adaptation when mapping.\n\nThis change resolves the remaining issues with the target parameter and get_driver_options method in review [1]\n\n[1]: https://review.opendev.org/c/openstack/cinder/+/767290\nChange-Id: If127b75aac1ea6b25ec6473913410b1a7ec217d4\n'}, {'number': 2, 'created': '2021-02-18 05:42:39.000000000', 'files': ['cinder/opts.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'doc/source/configuration/block-storage/drivers/toyou-acs5000-driver.rst', 'cinder/volume/drivers/toyou/acs5000/acs5000_iscsi.py', 'cinder/tests/unit/volume/drivers/toyou/test_acs5000.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/11185189ba214c68294267fbcf38c4c4d1c2b69b', 'message': 'TOYOU:  Abandon the target parameter and  Report SAN driver options\n\nReport SAN driver options:\nAdded configuration options(san_ip, san_ssh_port, san_login) to report on their specific ""get_driver_options"" method.\n\nAbandon the target parameter:\nThe target parameter should not be required or used. Automatic adaptation when mapping.\n\nThis patch resolves the remaining issues with the target parameter and get_driver_options method in review [1].\n\n[1]: https://review.opendev.org/c/openstack/cinder/+/767290\n\nChange-Id: If127b75aac1ea6b25ec6473913410b1a7ec217d4\n'}]",5,773844,11185189ba214c68294267fbcf38c4c4d1c2b69b,89,3,2,32833,,,0,"TOYOU:  Abandon the target parameter and  Report SAN driver options

Report SAN driver options:
Added configuration options(san_ip, san_ssh_port, san_login) to report on their specific ""get_driver_options"" method.

Abandon the target parameter:
The target parameter should not be required or used. Automatic adaptation when mapping.

This patch resolves the remaining issues with the target parameter and get_driver_options method in review [1].

[1]: https://review.opendev.org/c/openstack/cinder/+/767290

Change-Id: If127b75aac1ea6b25ec6473913410b1a7ec217d4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/773844/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'doc/source/configuration/block-storage/drivers/toyou-acs5000-driver.rst', 'cinder/volume/drivers/toyou/acs5000/acs5000_iscsi.py', 'cinder/tests/unit/volume/drivers/toyou/test_acs5000.py']",5,83a842ab25b4803ec7d7a28114d04ec0f0f13bfc,fixed-issues-toyou-acs5000-driver," {'id': '0', {'id': '1', self._ip_list = { '0': [{ 'ctrl_idx': 0, 'id': 0, 'name': 'lan1', 'ip': '10.23.45.67', 'mask': '255.255.255.0', 'gw': '' }, { 'ctrl_idx': 0, 'id': 1, 'name': 'lan2', 'ip': '10.23.45.68', 'mask': '255.255.255.0', 'gw': '' }], '1': [{ 'ctrl_idx': 1, 'id': 0, 'name': 'lan1', 'ip': '10.23.45.69', 'mask': '255.255.255.0', 'gw': '' }, { 'ctrl_idx': 1, 'id': 1, 'name': 'lan2', 'ip': '10.23.45.70', 'mask': '255.255.255.0', 'gw': '' }] } 'sshGetIpConnect': 'get_ip_connect', return self._json_return(self._ip_list) if lun_row['protocol'] == protocol: ret = {'lun': [], 'iscsi_name': [], 'portal': []} for ctr, ips in self._ip_list.items(): for ip in ips: ret['lun'].append(lun_info['lun']) ret['portal'].append('%s:3260' % ip['ip']) for control in self._controllers_list: if ctr == control['id']: ret['iscsi_name'].append(control['iscsi_name']) break return self._json_return(ret) and row['host'] in hosts): ip_connect = self.sim._ip_list ip_count = 0 for ips in ip_connect.values(): ip_count += len(ips) self.assertEqual(ip_count, len(result['data']['target_iqns'])) self.assertEqual(ip_count, len(result['data']['target_portals'])) self.assertEqual(ip_count, self._assert_lun_exists(volume['id'], False)"," {'id': '1', {'id': '2', 'sshGetIscsiConnect': 'get_ip_connect', target = kwargs['target'] data = { 'iscsi_name': [], 'portal': [], 'state': 'online' } ctr1_iscsi = ('iqn.2020-04.cn.com.toyou:disk-array-' '000f12345:dev%s.ctr1' % target) ctr2_iscsi = ('iqn.2020-04.cn.com.toyou:disk-array-' '000f12345:dev%s.ctr2' % target) ctr1_port1 = '10.23.45.67:3260' ctr1_port2 = '10.23.45.68:3260' ctr2_port1 = '10.23.45.69:3260' ctr2_port2 = '10.23.45.70:3260' data['iscsi_name'] = [ctr1_iscsi, ctr2_iscsi] data['portal'] = [ctr1_port1, ctr1_port2, ctr2_port1, ctr2_port2] return self._json_return(data) target = kwargs['target'] if (lun_row['protocol'] == protocol and lun_row['target'] == target): lun_info['target'] = target return self._json_return({'info': lun_info['lun']}) target = kwargs['cinderTarget'] and row['host'] in hosts and row['target'] == target): self.configuration.acs5000_target = 0 ip_connect = self.iscsi_driver._cmd.get_ip_connect( str(self.configuration.acs5000_target)) self.assertEqual(ip_connect['iscsi_name'], result['data']['target_iqns']) self.assertEqual(ip_connect['portal'], result['data']['target_portals']) self.assertEqual(len(ip_connect['portal']), self.configuration.acs5000_target = 0 self.override_config('acs5000_target', 0, conf.SHARED_CONF_GROUP)",82,96
openstack%2Frequirements~master~I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,openstack/requirements,master,I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c,Updated from generate-constraints,MERGED,2021-02-27 06:27:06.000000000,2021-02-27 22:30:39.000000000,2021-02-27 22:29:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 06:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e92a1711f54b2d66c061a37e8b3f3c68331c8b25', 'message': 'Updated from generate-constraints\n\nChange-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c\n'}, {'number': 2, 'created': '2021-02-27 07:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d1cc955ff3c30b9a95ccabd8f22fb6c47da40e7', 'message': 'Updated from generate-constraints\n\nChange-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-02-27 20:13:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8566a9c40141afef2612496e34f13f1db052f1ba', 'message': 'Updated from generate-constraints\n\nChange-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777859,8566a9c40141afef2612496e34f13f1db052f1ba,16,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I4173b25ad03fec91b0cb76ce6b8abd5cda34da5c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/777859/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e92a1711f54b2d66c061a37e8b3f3c68331c8b25,openstack/requirements/constraints/noclob,grpcio===1.36.0googleapis-common-protos===1.53.0arrow===1.0.0autobahn===21.2.1;python_version=='3.6' autobahn===21.2.2;python_version=='3.8'boto3===1.17.17keyring===22.2.0protobuf===3.15.3salt===3002.5botocore===1.20.17pkg-resources===0.0.0,grpcio===1.35.0googleapis-common-protos===1.52.0arrow===0.17.0autobahn===21.2.1boto3===1.17.15keyring===22.0.1protobuf===3.15.2salt===3002.2botocore===1.20.15futures===3.3.0;python_version=='2.7'setuptools===53.0.0,11,11
openstack%2Fcinder~master~Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,openstack/cinder,master,Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e,Tests: Add another mock psutil in quobyte tests,MERGED,2021-01-28 16:10:23.000000000,2021-02-27 22:25:47.000000000,2021-02-19 22:17:57.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-28 16:10:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/01f01001187c66695eafec519f019c147cf58932', 'message': 'Tests: Add another mock psutil in quobyte tests\n\nAdd a mock of psutil.disk_partitions as it appears that psutil\ncan be called in this test depending on the state of the system.\n\nChange-Id: Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e\nCloses-Bug: #1913607\n'}]",0,772902,01f01001187c66695eafec519f019c147cf58932,39,5,1,11805,,,0,"Tests: Add another mock psutil in quobyte tests

Add a mock of psutil.disk_partitions as it appears that psutil
can be called in this test depending on the state of the system.

Change-Id: Ibdbc1c4c215dc1aa5ea728e3ff4727ddc803bd7e
Closes-Bug: #1913607
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/772902/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_quobyte.py'],1,01f01001187c66695eafec519f019c147cf58932,," @mock.patch.object(psutil, ""disk_partitions"") def test_mount_quobyte_should_reraise_already_mounted_error(self, part_mock): part_mock.return_value = [] # no quobyte@ devices", def test_mount_quobyte_should_reraise_already_mounted_error(self):,4,1
openstack%2Fmasakari~master~I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,openstack/masakari,master,I2b7f8e6b968cd96195eeb1f40f6de5764d65785d,Simplify endpoints created by devstack plugin,MERGED,2017-03-06 08:22:47.000000000,2021-02-27 20:22:36.000000000,2021-02-27 20:11:57.000000000,"[{'_account_id': 3}, {'_account_id': 8988}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2017-03-06 08:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5f0980a3ba87fe4e9d6a259b05cc715ea744ab9f', 'message': 'Simplify endpoints created by devstack plugin\n\nAdmin endpoint and internal endpoint are not configured by default\nin recent devstack.[1]\n\nAccording to the above change, this patch removes these type\nendpoints from masakari devstack plugin.\n\n[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e\n\nChange-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d\n'}, {'number': 2, 'created': '2017-03-06 08:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/13090a7c0c46802cefbe8a9a11fb4bf11d3b3d55', 'message': 'Simplify endpoints created by devstack plugin\n\nAdmin endpoint and internal endpoint are not configured by default\nin recent devstack.[1]\n\nAccording to the above change, this patch removes these type\nendpoints from masakari devstack plugin and README.rst.\n\n[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e\n\nChange-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d\n'}, {'number': 3, 'created': '2017-10-27 04:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/77eb1b610adea6b3be9b90425b859e532ab4abd9', 'message': 'Simplify endpoints created by devstack plugin\n\nAdmin endpoint and internal endpoint are not configured by default\nin recent devstack.[1]\n\nAccording to the above change, this patch removes these type\nendpoints from masakari devstack plugin and README.rst.\n\n[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e\n\nChange-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d\n'}, {'number': 4, 'created': '2021-02-27 19:29:27.000000000', 'files': ['README.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/54c726a332025827f866060dd1e221cbb46caa21', 'message': 'Simplify endpoints created by devstack plugin\n\nAdmin endpoint and internal endpoint are not configured by default\nin recent devstack. [1]\n\nAccording to the above change, this patch removes these type\nendpoints from masakari devstack plugin and README.rst.\n\n[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e\n\nChange-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d\n'}]",0,441796,54c726a332025827f866060dd1e221cbb46caa21,17,6,4,8988,,,0,"Simplify endpoints created by devstack plugin

Admin endpoint and internal endpoint are not configured by default
in recent devstack. [1]

According to the above change, this patch removes these type
endpoints from masakari devstack plugin and README.rst.

[1] Ided7a65c81b3a0b56f0184847fc82e17c29a771e

Change-Id: I2b7f8e6b968cd96195eeb1f40f6de5764d65785d
",git fetch https://review.opendev.org/openstack/masakari refs/changes/96/441796/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5f0980a3ba87fe4e9d6a259b05cc715ea744ab9f,endpoint_simplification,," ""http://$SERVICE_HOST:$MASAKARI_SERVICE_PORT/v1/\$(tenant_id)s"" \ ""http://$SERVICE_HOST:$MASAKARI_SERVICE_PORT/v1/\$(tenant_id)s"" \",0,2
openstack%2Fmasakari~master~Iad942530b5d540af3d3c074e9944687b93bcd7f2,openstack/masakari,master,Iad942530b5d540af3d3c074e9944687b93bcd7f2,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-20 23:26:08.000000000,2021-02-27 19:33:41.000000000,2021-02-27 19:32:32.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-20 23:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4cbb46499947253166204dcd835a55395501caf8', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2\n""}, {'number': 2, 'created': '2020-12-20 23:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8432121810f3f9ab13ce5bdceb7d453d514409ac', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2\n""}, {'number': 3, 'created': '2020-12-23 00:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/78873f85a8515c5c6e5ea2df46f0c34180e38f50', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2\n""}, {'number': 4, 'created': '2020-12-23 00:47:36.000000000', 'files': ['README.rst', 'masakari/common/config.py', 'masakari/policy.py', 'devstack/plugin.sh', 'doc/source/configuration/sample_policy.rst', 'devstack/settings', 'requirements.txt', 'masakari/cmd/status.py', 'masakari/tests/unit/cmd/test_status.py', 'doc/source/configuration/policy.rst', 'setup.cfg', 'releasenotes/notes/deprecate-json-formatted-policy-file-57ad537ec19cc7e0.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/513c29078ffa52f50bc75528c891eef2e77eda99', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and tests.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2\n""}]",4,768022,513c29078ffa52f50bc75528c891eef2e77eda99,16,4,4,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and tests.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Iad942530b5d540af3d3c074e9944687b93bcd7f2
",git fetch https://review.opendev.org/openstack/masakari refs/changes/22/768022/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'masakari/common/config.py', 'masakari/policy.py', 'devstack/plugin.sh', 'lower-constraints.txt', 'doc/source/configuration/sample_policy.rst', 'devstack/settings', 'requirements.txt', 'masakari/cmd/status.py', 'masakari/tests/unit/cmd/test_status.py', 'doc/source/configuration/policy.rst', 'setup.cfg', 'releasenotes/notes/deprecate-json-formatted-policy-file-57ad537ec19cc7e0.yaml']",13,4cbb46499947253166204dcd835a55395501caf8,policy-json-to-yaml,"--- upgrade: - | The default value of ``[oslo_policy] policy_file`` config option has been changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing customized or previously generated static policy JSON files (which are not needed by default), should generate new policy files or convert them in YAML format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to convert a JSON to YAML formatted policy file in backward compatible way. deprecations: - | Use of JSON policy files was deprecated by the ``oslo.policy`` library during the Victoria development cycle. As a result, this deprecation is being noted in the Wallaby cycle with an anticipated future removal of support by ``oslo.policy``. As such operators will need to convert to YAML policy files. Please see the upgrade notes for details on migration of any custom policy files. ",,84,14
openstack%2Fopenstack-ansible-os_octavia~master~Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,openstack/openstack-ansible-os_octavia,master,Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7,Add variable to override keypair setup python interpreter,MERGED,2021-01-26 15:23:03.000000000,2021-02-27 18:52:10.000000000,2021-02-27 18:51:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-26 15:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/16f8f50254476d5dc3e1ebe8a30c8ed7bdc3df33', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}, {'number': 2, 'created': '2021-02-23 08:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/35a336f5002f4d5838a0c55257fdf54a75bf7db8', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nDepends-On: https://review.opendev.org/777056\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}, {'number': 3, 'created': '2021-02-23 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ea0aaee6d31e47d768fd16935781285a174fc8ae', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}, {'number': 4, 'created': '2021-02-26 08:24:58.000000000', 'files': ['tasks/octavia_keypair.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/44d0a6d39838cd76d55111096783bbcab838ec79', 'message': 'Add variable to override keypair setup python interpreter\n\nWhen using a non-standard host for keypair setup (such as a utility\ncontainer) it is necessary to set a custom python interpreter\nwhich has access to openstacksdk.\n\nThis commit provides a variable to do this in the same style as\nused for service setup hosts.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601\nChange-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7\n'}]",0,772559,44d0a6d39838cd76d55111096783bbcab838ec79,21,3,4,31542,,,0,"Add variable to override keypair setup python interpreter

When using a non-standard host for keypair setup (such as a utility
container) it is necessary to set a custom python interpreter
which has access to openstacksdk.

This commit provides a variable to do this in the same style as
used for service setup hosts.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777601
Change-Id: Ia2056cf287b666d4d3d8d36f06772c5117ca6bf7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/59/772559/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_keypair.yml', 'defaults/main.yml']",2,16f8f50254476d5dc3e1ebe8a30c8ed7bdc3df33,,"octavia_keypair_setup_host_python_interpreter: ""{{ openstack_keypair_setup_host_python_interpreter | default((octavia_keypair_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,2
openstack%2Fironic~master~I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,openstack/ironic,master,I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c,Enforce autospec in test_driver,MERGED,2021-02-23 09:55:54.000000000,2021-02-27 18:51:57.000000000,2021-02-27 18:49:00.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 09:55:54.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_driver.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f18fec2329d48514130a07652dcd74cb2d12c3c0', 'message': 'Enforce autospec in test_driver\n\nAnd remove filter from tox.ini\n\nChange-Id: I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c\n'}]",0,777082,f18fec2329d48514130a07652dcd74cb2d12c3c0,12,3,1,23851,,,0,"Enforce autospec in test_driver

And remove filter from tox.ini

Change-Id: I90efb9f309df46c9b0ef073e789e1f1aaa1b1a1c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/777082/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_driver.py', 'tox.ini']",2,f18fec2329d48514130a07652dcd74cb2d12c3c0,enforce-autospec,, ironic/tests/unit/api/controllers/v1/test_driver.py:H210,43,27
openstack%2Fironic~master~I0eadacf87baf68bc1c6547aac562f85edcad1aa3,openstack/ironic,master,I0eadacf87baf68bc1c6547aac562f85edcad1aa3,Enforce autospec in test_node,MERGED,2021-02-18 15:18:58.000000000,2021-02-27 18:50:42.000000000,2021-02-27 18:48:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 15:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eda765a63826825f5423ab5a227037c9736be4fe', 'message': 'Enforce autospec in test_node\n\nAnd remove filter from tox.ini\n\nAlso sets noqa for 2 mocks to keep ignoring autospec.\n\nChange-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3\n'}, {'number': 2, 'created': '2021-02-19 10:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7255f6f1dca48953d08fdae834db5096fdfeccd5', 'message': 'Enforce autospec in test_node\n\nAnd remove filter from tox.ini\n\nAlso sets noqa for 2 mocks to keep ignoring autospec.\n\nChange-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3\n'}, {'number': 3, 'created': '2021-02-19 13:16:09.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_node.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ed75bc6cf81404a029f36c8ff7f5166769ed2be', 'message': 'Enforce autospec in test_node\n\nAnd remove filter from tox.ini\n\nAlso sets noqa for 2 mocks to keep ignoring autospec.\n\nChange-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3\n'}]",0,776479,6ed75bc6cf81404a029f36c8ff7f5166769ed2be,20,4,3,23851,,,0,"Enforce autospec in test_node

And remove filter from tox.ini

Also sets noqa for 2 mocks to keep ignoring autospec.

Change-Id: I0eadacf87baf68bc1c6547aac562f85edcad1aa3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/776479/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_node.py', 'tox.ini']",2,eda765a63826825f5423ab5a227037c9736be4fe,enforce-autospec,, ironic/tests/unit/api/controllers/v1/test_node.py:H210,391,272
openstack%2Fironic~master~I29257c805ce0afb01ae9422671d71d225f4b2573,openstack/ironic,master,I29257c805ce0afb01ae9422671d71d225f4b2573,Enforce autospec in test_notification_utils module,MERGED,2021-02-19 10:59:13.000000000,2021-02-27 18:48:43.000000000,2021-02-27 18:48:43.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-19 10:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8aeee3080bdc2e317d459f71daffae733f563d75', 'message': 'Enforce autospec in test_notification_utils module\n\nAnd remove tox.ini filter\n\nChange-Id: I29257c805ce0afb01ae9422671d71d225f4b2573\n'}, {'number': 2, 'created': '2021-02-19 13:16:29.000000000', 'files': ['tox.ini', 'ironic/tests/unit/api/controllers/v1/test_notification_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/52c01f87cc34c71aa355a53fb5dee8eff0a3a6ba', 'message': 'Enforce autospec in test_notification_utils module\n\nAnd remove tox.ini filter\n\nChange-Id: I29257c805ce0afb01ae9422671d71d225f4b2573\n'}]",0,776603,52c01f87cc34c71aa355a53fb5dee8eff0a3a6ba,14,4,2,23851,,,0,"Enforce autospec in test_notification_utils module

And remove tox.ini filter

Change-Id: I29257c805ce0afb01ae9422671d71d225f4b2573
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/776603/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_node.py', 'tox.ini', 'ironic/tests/unit/api/controllers/v1/test_notification_utils.py']",3,8aeee3080bdc2e317d459f71daffae733f563d75,enforce-autospec," @mock.patch('ironic.objects.node.NodeMaintenanceNotification', autospec=True) @mock.patch.object(notification.NotificationBase, 'emit', autospec=True) emit_mock.assert_called_once_with(mock.ANY, self.context)"," @mock.patch('ironic.objects.node.NodeMaintenanceNotification') @mock.patch.object(notification.NotificationBase, 'emit') emit_mock.assert_called_once_with(self.context)",6,6
openstack%2Fmasakari~master~I869e00b214cacb0dc223e962201944d3ce13526c,openstack/masakari,master,I869e00b214cacb0dc223e962201944d3ce13526c,[docs] Add docs on code structure,MERGED,2020-11-12 10:00:23.000000000,2021-02-27 18:46:51.000000000,2021-02-27 17:54:44.000000000,"[{'_account_id': 17289}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-12 10:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/587ae2b4554ea6956f2fbfb929e3fd07e93ab6a6', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 2, 'created': '2020-11-19 12:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e9b896336081487b2bab7d3f03553e1ad26d84f4', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 3, 'created': '2020-11-19 12:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/440499c356addf656775127c8a3798f74cc30468', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 4, 'created': '2020-11-19 13:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b9f76d01ce5c5278844df65e0ef18b96c1dd9b13', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 5, 'created': '2020-11-19 13:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e224bfebc6fb4d00f638f9f7c49f0e334fdfbcd5', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 6, 'created': '2020-11-20 11:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/c937459ac272cdd8bdd1cd1ef27c9588dcd91e0d', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 7, 'created': '2020-11-20 11:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f1ee63dc3c803849a96cbe6b50517e0f423b3d21', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 8, 'created': '2021-02-24 20:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0adee0d351aff162dc67440ec64aa9d43fddb49f', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 9, 'created': '2021-02-24 20:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2a098f86924fb97a5283379b4d11e6a14c5cbeac', 'message': 'Updated the docs, added a contributing section and a code structure overview\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\n'}, {'number': 10, 'created': '2021-02-27 17:40:51.000000000', 'files': ['doc/source/contributor/code_structure.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/5caad48713c33b22ccaa0e10f5e2b5be70bc2d3c', 'message': '[docs] Add docs on code structure\n\nAdditionally restructures the contributor guide.\n\nChange-Id: I869e00b214cacb0dc223e962201944d3ce13526c\nCo-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",6,762490,5caad48713c33b22ccaa0e10f5e2b5be70bc2d3c,28,3,10,32304,,,0,"[docs] Add docs on code structure

Additionally restructures the contributor guide.

Change-Id: I869e00b214cacb0dc223e962201944d3ce13526c
Co-Authored-By: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/masakari refs/changes/90/762490/10 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/code_structure.rst']",2,587ae2b4554ea6956f2fbfb929e3fd07e93ab6a6,,".. Copyright 2017 NTT DATA Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ======================= Masakari Code Structure ======================= Getting started with any codebase requires some getting used to the layout of the project, this guide is meant to make your journey navigating the code easier. Code layout =========== The source code for the project can be found in: - <repository_root>/masakari - <repository_root>/masakari/api contains the api service - <repository_root>/masakari/engine contains the engine service The data model ============== The data model has mappings for multiple endpoints. The oslo messenger ------------------ The datamodel mappings for oslo can be found in: - <repository_root>/masakari/objects/ - <repository_root>/masakari/notifications/ These models contain fields, crud and other operations. The operations in these are implemented in: - <repository_root>/masakari/db/api.py Some of the operations use @base.remotable_classmethod and @base.remotable_classmethod from oslo_versionedobjects. The REST api ------------ Mappings of the models for the api are in: - <repository_root>/masakari/api/openstack/ha/schemas/ For the rest api the controllers are in: - <repository_root>/masakari/api/openstack/ha/ The implementations of these actions are in: - <repository_root>/masakari/ha/api.py The database ------------ Some objects can be saved to the database using sqalchemy The interface to the database has an interface and an implementation so the sqalchemy driver could be replaced. The interface is in: - <repository_root>/masakari/db/api.py The sqalchemy implementation is in: - <repository_root>/masakari/db/sqalchemy/api.py Database mappings are in: - <repository_root>/masakari/db/sqalchemy/models.py The entry points ================ The Masakari project consists from multiple services. As such it has a variety of entry points. Masakari is configured as an openstack plugin using setup_tools. The entry points can be found in the entry_points section of - <repository_root>/setup.cfg The main entry points --------------------- The main entry points are for the engine and the api: - masakari.cmd.api:main - masakari.cmd.engine:main Another interesting one is the entry point for the management CLI - masakari.cmd.manage:main The tests ========= The tests are located in: <repository_root>/masakari/tests/ The unit tests can be run using: .. code-block:: tox -e cover The integration tests can be run using: .. code-block:: bash tox -e functional ",,146,6
openstack%2Foslo.policy~master~Iff85a9134f4db7c0355da2858deb8a704d044634,openstack/oslo.policy,master,Iff85a9134f4db7c0355da2858deb8a704d044634,Don't modify 'Rule.check',MERGED,2021-02-04 17:33:14.000000000,2021-02-27 18:13:34.000000000,2021-02-27 18:12:21.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-04 17:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/42d20da73febcc537209b6d51d1ac4203edb9c2e', 'message': ""WIP: Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-02-04 17:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c44308f09300c3b459d51f8cc5c56b9d5c113149', 'message': ""WIP: Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-02-05 12:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/655987a2aaaa288d749558e2e1963f6c9b02bece', 'message': ""Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2021-02-09 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/c4ca73b3081ae6548e8bcb93fe5f34bb44f0d901', 'message': ""Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-02-23 12:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5f731250e99262082dd4e810d391653e3e0e2e5a', 'message': ""Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2021-02-23 13:13:04.000000000', 'files': ['oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d933ca88baf4070f1968c66e56bc20b06bc2457b', 'message': ""Don't modify 'Rule.check'\n\nThere are two big issues with this. Firstly, as noted in bug #1914095,\nwe're not copying the provided 'Rule' object which means if we create an\nenforcer and the rule is modified, then a second enforcer in the same\nprocess will ultimately end up using the same modified 'Rule' object\nwill be used. Secondly, while the 'check' attribute is modified the\n'check_str' attribute is not. This is immensely confusing for people\ndebugging.\n\nResolve both issues by not modifying this check at all and instead build\nthe combined check and store this.\n\nChange-Id: Iff85a9134f4db7c0355da2858deb8a704d044634\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",12,774112,d933ca88baf4070f1968c66e56bc20b06bc2457b,31,7,6,15334,,,0,"Don't modify 'Rule.check'

There are two big issues with this. Firstly, as noted in bug #1914095,
we're not copying the provided 'Rule' object which means if we create an
enforcer and the rule is modified, then a second enforcer in the same
process will ultimately end up using the same modified 'Rule' object
will be used. Secondly, while the 'check' attribute is modified the
'check_str' attribute is not. This is immensely confusing for people
debugging.

Resolve both issues by not modifying this check at all and instead build
the combined check and store this.

Change-Id: Iff85a9134f4db7c0355da2858deb8a704d044634
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/12/774112/6 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,42d20da73febcc537209b6d51d1ac4203edb9c2e,bug/1914095," if default.name in self.rules: continue check = default.check if default.deprecated_rule: check = self._handle_deprecated_rule(default) self.rules[default.name] = check check = default.check check = self.file_rules[ check = OrCheck([ _parser.parse_rule(cs) for cs in [ default.check_str, deprecated_rule.check_str, ] ]) return check"," elif default.deprecated_rule: self._handle_deprecated_rule(default) self.rules[default.name] = default.check # Short-circuit the rule deprecation logic if we've already processed # it for this particular rule. if default._deprecated_rule_handled: return self.rules[default.name] = self.file_rules[ default.check = OrCheck([_parser.parse_rule(cs) for cs in [default.check_str, deprecated_rule.check_str]]) default._deprecated_rule_handled = True",16,14
openstack%2Fnova~master~I5708442336cd9cea43bfbf32292475e52872ca3d,openstack/nova,master,I5708442336cd9cea43bfbf32292475e52872ca3d,apidb: Compact Liberty database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-02-27 17:48:55.000000000,2021-02-27 17:47:21.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e77f3b8044849d8bb893549ad95495ea56c317e', 'message': 'apidb: Compact Liberty database migrations\n\nChange-Id: I5708442336cd9cea43bfbf32292475e52872ca3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16cbbe7b55b57ffae4eb1fc83830eb0261f53e16', 'message': 'apidb: Compact Liberty database migrations\n\nChange-Id: I5708442336cd9cea43bfbf32292475e52872ca3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/002_instance_mapping.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_host_mapping.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_liberty.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/001_cell_mapping.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d97fd311311a52a212691c4c5fc5ef47afb5d5e0', 'message': ""apidb: Compact Liberty database migrations\n\nSpecific changes include:\n\n- Add 'cell_mappings' table (001)\n- Add 'host_mappings' table (002)\n- Add 'instance_mappings' table (003)\n\nChange-Id: I5708442336cd9cea43bfbf32292475e52872ca3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,759399,d97fd311311a52a212691c4c5fc5ef47afb5d5e0,67,12,3,15334,,,0,"apidb: Compact Liberty database migrations

Specific changes include:

- Add 'cell_mappings' table (001)
- Add 'host_mappings' table (002)
- Add 'instance_mappings' table (003)

Change-Id: I5708442336cd9cea43bfbf32292475e52872ca3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/759399/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/002_instance_mapping.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_host_mapping.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/003_liberty.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/001_cell_mapping.py', 'nova/tests/functional/db/api/test_migrations.py']",7,2e77f3b8044849d8bb893549ad95495ea56c317e,bp/compact-db-migrations-wallaby," self.INIT_VERSION + 1, # initial change"," def _check_001(self, engine, data): for column in ['created_at', 'updated_at', 'id', 'uuid', 'name', 'transport_url', 'database_connection']: self.assertColumnExists(engine, 'cell_mappings', column) self.assertIndexExists(engine, 'cell_mappings', 'uuid_idx') self.assertUniqueConstraintExists(engine, 'cell_mappings', ['uuid']) def _check_002(self, engine, data): for column in ['created_at', 'updated_at', 'id', 'instance_uuid', 'cell_id', 'project_id']: self.assertColumnExists(engine, 'instance_mappings', column) for index in ['instance_uuid_idx', 'project_id_idx']: self.assertIndexExists(engine, 'instance_mappings', index) self.assertUniqueConstraintExists(engine, 'instance_mappings', ['instance_uuid']) inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('instance_mappings')[0] self.assertEqual('cell_mappings', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['cell_id'], fk['constrained_columns']) def _check_003(self, engine, data): for column in ['created_at', 'updated_at', 'id', 'cell_id', 'host']: self.assertColumnExists(engine, 'host_mappings', column) self.assertIndexExists(engine, 'host_mappings', 'host_idx') self.assertUniqueConstraintExists(engine, 'host_mappings', ['host']) inspector = reflection.Inspector.from_engine(engine) # There should only be one foreign key here fk = inspector.get_foreign_keys('host_mappings')[0] self.assertEqual('cell_mappings', fk['referred_table']) self.assertEqual(['id'], fk['referred_columns']) self.assertEqual(['cell_id'], fk['constrained_columns']) ",87,182
openstack%2Ftripleo-heat-templates~master~I5d5df3948964c28f53eda0ba5a966c824012bd4c,openstack/tripleo-heat-templates,master,I5d5df3948964c28f53eda0ba5a966c824012bd4c,Remove ovn-dbs temporary container,MERGED,2020-11-23 08:30:20.000000000,2021-02-27 16:59:16.000000000,2021-02-27 16:59:16.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-23 08:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/534bd0233444db290f3a491fe858428789a6abd0', 'message': 'Remove ovn-dbs temporary container\n\nWith I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs\ncreation out of the ephemeral ovn_dbs_init_bundle container and on to\nthe host.\n\nWe left the ovn_dbs_init_bundle container around and kept the tag\novn_dbs_remove_old_cruft for it. This is because with that tag\nwe historically triggered the needed code to make sure to handle\nthe transition from a deployment where ovn-dbs used the internal_api\nVIP to the (current) deployment where ovn-dbs uses its own VIP.\n\nSince ovn-dbs has its own VIP starting with train, we can now safely\ndrop this container.\n\nChange-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c\n'}, {'number': 2, 'created': '2020-11-24 07:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ca920ddbf117c8cc7d07861d606dc10ffb02952', 'message': 'Remove ovn-dbs temporary container\n\nWith I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs\ncreation out of the ephemeral ovn_dbs_init_bundle container and on to\nthe host.\n\nWe left the ovn_dbs_init_bundle container around and kept the tag\novn_dbs_remove_old_cruft for it. This is because with that tag\nwe historically triggered the needed code to make sure to handle\nthe transition from a deployment where ovn-dbs used the internal_api\nVIP to the (current) deployment where ovn-dbs uses its own VIP.\n\nSince ovn-dbs has its own VIP starting with train, we can now safely\ndrop this container.\n\nChange-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c\n'}, {'number': 3, 'created': '2021-02-27 10:20:57.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aca8b5fd6f799859a718105744f1d0b1331de848', 'message': 'Remove ovn-dbs temporary container\n\nWith I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs\ncreation out of the ephemeral ovn_dbs_init_bundle container and on to\nthe host.\n\nWe left the ovn_dbs_init_bundle container around and kept the tag\novn_dbs_remove_old_cruft for it. This is because with that tag\nwe historically triggered the needed code to make sure to handle\nthe transition from a deployment where ovn-dbs used the internal_api\nVIP to the (current) deployment where ovn-dbs uses its own VIP.\n\nSince ovn-dbs has its own VIP starting with train, we can now safely\ndrop this container.\n\nChange-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c\n'}]",0,763749,aca8b5fd6f799859a718105744f1d0b1331de848,22,6,3,20172,,,0,"Remove ovn-dbs temporary container

With I918b6c16db6ed70d9ad612aecd7af7d725520f7b we moved the ovn-dbs
creation out of the ephemeral ovn_dbs_init_bundle container and on to
the host.

We left the ovn_dbs_init_bundle container around and kept the tag
ovn_dbs_remove_old_cruft for it. This is because with that tag
we historically triggered the needed code to make sure to handle
the transition from a deployment where ovn-dbs used the internal_api
VIP to the (current) deployment where ovn-dbs uses its own VIP.

Since ovn-dbs has its own VIP starting with train, we can now safely
drop this container.

Change-Id: I5d5df3948964c28f53eda0ba5a966c824012bd4c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/763749/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,534bd0233444db290f3a491fe858428789a6abd0,remove-ovn-dbs-cruft,," docker_config: step_3: ovn_dbs_init_bundle: start_order: 0 detach: false net: host ipc: host user: root config_volume: 'ovn_dbs_init_bundle' command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '3' - 'ovn_dbs_remove_old_cruft' - 'include tripleo::profile::pacemaker::ovn_dbs_bundle' - if: - puppet_debug_enabled - - '--debug' - - '' image: *ovn_dbs_config_image volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - if: - docker_enabled - - /etc/corosync/corosync.conf:/etc/corosync/corosync.conf:ro - null - if: - internal_tls_enabled - - /etc/pki/tls/certs/ovn_dbs.crt:/etc/pki/tls/certs/ovn_dbs.crt:ro - /etc/pki/tls/private/ovn_dbs.key:/etc/pki/tls/private/ovn_dbs.key:ro - null environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier}",0,37
openstack%2Fcinder-tempest-plugin~master~I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,openstack/cinder-tempest-plugin,master,I5c5ff6f996dd39b52fada82f3938b628e58b0a2c,Add Snapshot data integrity test,MERGED,2020-01-14 18:00:09.000000000,2021-02-27 16:47:15.000000000,2021-02-27 16:47:15.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-01-14 18:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/acaf177e0e07f49058cb056c75bab913f079a004', 'message': 'WIP: Add Snapshot data integrity test\n\nDepends-On: Ib5ebbc6d5538a6179eca27c203faee6805af0093\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 2, 'created': '2020-01-21 06:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c6ba6ee315dcd1f142340f6786f06f01d81bbea8', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 3, 'created': '2020-01-21 08:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4183ac996a9cd09a4bb4234f252d3e07cbe514c0', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 4, 'created': '2020-04-06 07:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6d39705b66de7694f407a5c1d4d370b967938943', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 5, 'created': '2020-05-11 10:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/705d16c3b70e441d8da0857cd9d4a7978984c11b', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 6, 'created': '2020-05-11 10:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/53e40fb289a1db5864ae44ed208425620104dbb3', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 7, 'created': '2020-05-12 15:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8e70ed4a2f597b4eb0b7fa62f8967b9e82ca6325', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 8, 'created': '2021-01-20 15:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6f1ee68ac33a084b5ce462e06eb01e90870af5ff', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 9, 'created': '2021-01-21 06:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2f09283ba858d0d3f990683a45327a42d3705237', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 10, 'created': '2021-01-21 07:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/490d79eb902d3cf691e2adba51a170f3841df71d', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 11, 'created': '2021-01-21 07:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8fa6b111386df4eb2d5d046a9c891e7d96634196', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 12, 'created': '2021-01-28 11:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/953e513d253c15bfe00a6f7a22155121df7f908f', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 13, 'created': '2021-01-29 11:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f8c3c05a888597c399162f1336132dd1e3511e4a', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 14, 'created': '2021-01-29 16:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c547ac05b9c5915462e8870bb7180d0cd1f301e2', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 15, 'created': '2021-01-29 17:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4b18e1fdd5be52aacb57528f9894c87e403064cb', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}, {'number': 16, 'created': '2021-01-29 19:52:01.000000000', 'files': ['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/21d63a3ada907341348ac8b73d31b0d07f3390d6', 'message': 'Add Snapshot data integrity test\n\nThis patch adds data integrity tests for snapshot with the following\nprocedure :\n\n1) create a volume from image\n2) Boot an instance from the volume\n3) create file on vm and write data into it\n4) create first snapshot\n5) repeat 3\n5) create second snapshot\n6) repeat 3\n7) create third snapshot\n\nNow restore the snapshots one by one into volume, create instances\nfrom it and check the number of files and file content at each\npoint snapshot was created.\n\nWe are also temporarily making a copy of tempest scenario manager until\nthe actual manager is available for import in tempest plugins.\n\nChange-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c\n'}]",70,702495,21d63a3ada907341348ac8b73d31b0d07f3390d6,108,10,16,27615,,,0,"Add Snapshot data integrity test

This patch adds data integrity tests for snapshot with the following
procedure :

1) create a volume from image
2) Boot an instance from the volume
3) create file on vm and write data into it
4) create first snapshot
5) repeat 3
5) create second snapshot
6) repeat 3
7) create third snapshot

Now restore the snapshots one by one into volume, create instances
from it and check the number of files and file content at each
point snapshot was created.

We are also temporarily making a copy of tempest scenario manager until
the actual manager is available for import in tempest plugins.

Change-Id: I5c5ff6f996dd39b52fada82f3938b628e58b0a2c
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/95/702495/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/scenario/test_snapshots.py'],1,acaf177e0e07f49058cb056c75bab913f079a004,702495,"# Copyright 2013 NEC Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import utils from tempest.scenario import manager class SnapshotDataIntegrityTests(manager.ScenarioTest): def files_count_and_content(self, ip_address, filename, mount_path='/mnt', private_key=None, server=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key, server=server) count = ssh_client.exec_command('sudo ls -l %s | wc -l' % mount_path) content = ssh_client.exec_command('sudo cat %s/file-%s' % (mount_path, filename)) return int(count) - 1, content def create_file(self, ip_address, filename, content='', mount_path='/mnt', private_key=None, server=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key, server=server) ssh_client.exec_command('sudo touch /%s/file-%s' % (mount_path, filename)) if content: ssh_client.exec_command('echo ""%s"" | sudo tee %s/file-%s' % (content, mount_path, filename)) @utils.services('compute', 'volume', 'image', 'network') def test_snapshot_data_integrity(self): keypair = self.create_keypair() security_group = self._create_security_group() # Create a volume from image volume = self._create_volume_from_image() # create an instance from bootable volume server = self._boot_instance_from_resource( source_id=volume['id'], source_type='volume', keypair=keypair, security_group=security_group) instance_ip = self.get_server_ip(server) # Write data to volume self.create_file(instance_ip, filename=""file1"", content=""content1"", private_key=keypair['private_key'], server=instance_ip) # Create first snapshot snapshot1 = self.create_volume_snapshot(volume['id'], force=True) # Write data to volume self.create_file(instance_ip, filename=""file2"", content=""content2"", private_key=keypair['private_key'], server=instance_ip) # Create second snapshot snapshot2 = self.create_volume_snapshot(volume['id'], force=True) # Write data to volume self.create_file(instance_ip, filename=""file3"", content=""content3"", private_key=keypair['private_key'], server=instance_ip) # Create third snapshot snapshot3 = self.create_volume_snapshot(volume['id'], force=True) # Create volume from first snapshot volume_snap1 = self.create_volume(snapshot_id=snapshot1['id'], size=snapshot1['size']) server_snap_1 = self._boot_instance_from_resource( source_id=volume_snap1['id'], source_type='volume', keypair=keypair, security_group=security_group) instance_ip = self.get_server_ip(server_snap_1) count_snap_1, content_snap_1 = self.files_count_and_content( instance_ip, filename=""file1"", private_key=keypair['private_key'], server=server_snap_1) self.assertEqual(count_snap_1, 1) self.assertEqual(content_snap_1, ""content1"") # Create volume from second snapshot volume_snap2 = self.create_volume(snapshot_id=snapshot2['id'], size=snapshot2['size']) server_snap_2 = self._boot_instance_from_resource( source_id=volume_snap2['id'], source_type='volume', keypair=keypair, security_group=security_group) instance_ip = self.get_server_ip(server_snap_2) count_snap_2, content_snap_2 = self.files_count_and_content( instance_ip, filename=""file2"", private_key=keypair['private_key'], server=server_snap_2) self.assertEqual(count_snap_2, 2) self.assertEqual(content_snap_2, ""content2"") # Create volume from third snapshot volume_snap3 = self.create_volume(snapshot_id=snapshot3['id'], size=snapshot3['size']) server_snap_3 = self._boot_instance_from_resource( source_id=volume_snap3['id'], source_type='volume', keypair=keypair, security_group=security_group) instance_ip = self.get_server_ip(server_snap_3) count_snap_3, content_snap_3 = self.files_count_and_content( instance_ip, filename=""file2"", private_key=keypair['private_key'], server=server_snap_3) self.assertEqual(count_snap_3, 3) self.assertEqual(content_snap_3, ""content3"") ",,151,0
openstack%2Fpuppet-glance~stable%2Fussuri~Ib724f6e895716847827be48ed08b01a7a312338f,openstack/puppet-glance,stable/ussuri,Ib724f6e895716847827be48ed08b01a7a312338f,Add config parameter for cinder mounting needs,MERGED,2021-02-24 07:28:22.000000000,2021-02-27 16:47:00.000000000,2021-02-27 16:45:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 07:28:22.000000000', 'files': ['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1bd1615234f261e2df8cda04fd6581230b758e6b', 'message': 'Add config parameter for cinder mounting needs\n\nThis patch is introducing cinder_mount_point_base parameter into\nglance::backend::multistore::cinder class, so that operators can\nprovide the cinder mount point for NFS volumes.\n\nChange-Id: Ib724f6e895716847827be48ed08b01a7a312338f\n(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)\n(cherry picked from commit 11bd956b9b6ae6e09547bfe14ac02af4ade573ce)\n'}]",0,777128,1bd1615234f261e2df8cda04fd6581230b758e6b,9,4,1,19138,,,0,"Add config parameter for cinder mounting needs

This patch is introducing cinder_mount_point_base parameter into
glance::backend::multistore::cinder class, so that operators can
provide the cinder mount point for NFS volumes.

Change-Id: Ib724f6e895716847827be48ed08b01a7a312338f
(cherry picked from commit 46e9319d8e012d2df6b7d8f85f59315db6e95ff2)
(cherry picked from commit 11bd956b9b6ae6e09547bfe14ac02af4ade573ce)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/28/777128/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp', 'releasenotes/notes/glance_backend_cinder_mount_point_base-5741d2966cc10c7b.yaml']",3,1bd1615234f261e2df8cda04fd6581230b758e6b,glance-cinder-mountpoint-stable/victoria-stable/ussuri,"--- features: - | A new parameter ``cinder_mount_point_base`` is introduced into ``glance::backend::multistore::cinder`` class, so that operators can provide the cinder mount point for NFS volumes.",,19,0
openstack%2Fcinder~master~Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,openstack/cinder,master,Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2,Tests: Move glance_stubs to glance dir,MERGED,2020-11-17 17:01:10.000000000,2021-02-27 15:46:01.000000000,2021-02-19 22:17:28.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 31868}, {'_account_id': 32159}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-17 17:01:10.000000000', 'files': ['cinder/tests/unit/glance/__init__.py', 'cinder/tests/unit/image/glance_stubs.py', 'cinder/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ceb5022547f33345e3047d34c2cb539318c1bac5', 'message': 'Tests: Move glance_stubs to glance dir\n\nThis is only used by test_glance.py -- move the\nstubs over there for better organization.\n\nChange-Id: Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2\n'}]",0,763046,ceb5022547f33345e3047d34c2cb539318c1bac5,55,24,1,4523,,,0,"Tests: Move glance_stubs to glance dir

This is only used by test_glance.py -- move the
stubs over there for better organization.

Change-Id: Ib9440b4b277b61dcedd324a4cb3d4776e5a9f5a2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/763046/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/glance/__init__.py', 'cinder/tests/unit/image/glance_stubs.py', 'cinder/tests/unit/image/test_glance.py']",3,ceb5022547f33345e3047d34c2cb539318c1bac5,,from cinder.tests.unit.image import glance_stubs,from cinder.tests.unit.glance import stubs as glance_stubs,1,1
openstack%2Fpuppet-designate~master~I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,openstack/puppet-designate,master,I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2,Add bind9 backend parameter to allow bypassing bind configuration,MERGED,2021-02-18 19:03:16.000000000,2021-02-27 15:41:12.000000000,2021-02-27 15:39:59.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 19:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/30151c7d8caf4503a54b5fc837c89c0237f94b6a', 'message': 'Add bind9 backend parameter to allow bypassing named configuration\n\nAdds designate::backedn::bind9::configure_named paramter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n'}, {'number': 2, 'created': '2021-02-19 17:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/b1ac0e4dfd386e426a3b28e582565cb099aaf62c', 'message': 'Add bind9 backend parameter to allow bypassing named configuration\n\nAdds designate::backedn::bind9::configure_named paramter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n'}, {'number': 3, 'created': '2021-02-24 19:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8089f9ac7151768af476cf68c9327081c5a64bed', 'message': 'Add bind9 backend parameter to allow bypassing bind configuration\n\nAdds designate::backedn::bind9::configure_bind parameter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n'}, {'number': 4, 'created': '2021-02-25 14:36:41.000000000', 'files': ['manifests/backend/bind9.pp', 'releasenotes/notes/add-config-bind-param-bind-backend-506bf4bbde8b6d03.yaml', 'spec/classes/designate_backend_bind9_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d68a16c853574fd20e4e003e2ec49183ebbe34ef', 'message': 'Add bind9 backend parameter to allow bypassing bind configuration\n\nAdds designate::backedn::bind9::configure_bind parameter to allow\nbypassing the dns puppet module. This is necessary when bind is not\ninstalled on same host as designate.\n\nChange-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2\n'}]",6,776517,d68a16c853574fd20e4e003e2ec49183ebbe34ef,18,3,4,6681,,,0,"Add bind9 backend parameter to allow bypassing bind configuration

Adds designate::backedn::bind9::configure_bind parameter to allow
bypassing the dns puppet module. This is necessary when bind is not
installed on same host as designate.

Change-Id: I3e94e3846fb97f0a0a5d25b2f5a1ef02e88a84b2
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/17/776517/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/bind9.pp', 'releasenotes/notes/add-config-named-param-bind-backend-506bf4bbde8b6d03.yaml', 'spec/classes/designate_backend_bind9_spec.rb']",3,30151c7d8caf4503a54b5fc837c89c0237f94b6a,designate," context 'with named configuration disabled ' do let :params do { :config_named => false } end it 'configures designate backend bind9 with default parameters' do is_expected.to contain_designate_config('backend:bind9/rndc_host').with_value('127.0.0.1') is_expected.to contain_designate_config('backend:bind9/rndc_port').with_value('953') is_expected.to contain_designate_config('backend:bind9/rndc_config_file').with_value('/etc/rndc.conf') is_expected.to contain_designate_config('backend:bind9/rndc_key_file').with_value('/etc/rndc.key') is_expected.not_to contain_concat_fragment('dns allow-new-zones').with( :target => platform_params[:dns_optionspath], :content => 'allow-new-zones yes;') end end ",,59,31
openstack%2Fpuppet-nova~stable%2Ftrain~If6a26527a737a7184ebddd5b4bc346d64827e9e3,openstack/puppet-nova,stable/train,If6a26527a737a7184ebddd5b4bc346d64827e9e3,Set dhcp_domain for all nova services,MERGED,2021-02-08 13:41:58.000000000,2021-02-27 15:14:32.000000000,2021-02-27 15:13:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-02-08 13:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b5ca19bd2e3130e1320dd9b9d6370cdc7271a4f1', 'message': 'Set dhcp_domain for all nova services\n\nThis is required for nova-compute so move to init.pp from metadata.pp and set\nDEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.\n\nChange-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nRelated-bug: #1903908\nRelated-bug: #1832537\n(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)\n(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)\n(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)\n'}, {'number': 2, 'created': '2021-02-08 15:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/277b43be3c057f4da61795898a1a938e31e3f683', 'message': 'Set dhcp_domain for all nova services\n\nThis is required for nova-compute so move to init.pp from metadata.pp and set\nDEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.\n\nConflicts:\n    manifests/init.pp\n    manifests/metadata.pp\n    spec/classes/nova_init_spec.rb\n\nChange-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nRelated-bug: #1903908\nRelated-bug: #1832537\n(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)\n(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)\n(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)\n'}, {'number': 3, 'created': '2021-02-09 05:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2d1885b043fe63dd2158139bd50a4621d277b8c7', 'message': 'Set dhcp_domain for all nova services\n\nThis is required for nova-compute so move to init.pp from metadata.pp and set\nDEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.\n\nConflicts:\n    manifests/init.pp\n    manifests/metadata.pp\n    spec/classes/nova_init_spec.rb\n\nChange-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nRelated-bug: #1903908\nRelated-bug: #1832537\n(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)\n(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)\n(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)\n'}, {'number': 4, 'created': '2021-02-09 10:08:49.000000000', 'files': ['manifests/metadata.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate-metadata-dhcp_domain-963c644692f72ede.yaml', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dbba136cae4bce23124b2e7b0a48a0c574397692', 'message': 'Set dhcp_domain for all nova services\n\nThis is required for nova-compute so move to init.pp from metadata.pp and set\nDEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.\n\nConflicts:\n    manifests/init.pp\n    manifests/metadata.pp\n    spec/classes/nova_init_spec.rb\n\nChange-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nRelated-bug: #1903908\nRelated-bug: #1832537\n(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)\n(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)\n(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)\n'}]",0,774414,dbba136cae4bce23124b2e7b0a48a0c574397692,18,7,4,27419,,,0,"Set dhcp_domain for all nova services

This is required for nova-compute so move to init.pp from metadata.pp and set
DEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.

Conflicts:
    manifests/init.pp
    manifests/metadata.pp
    spec/classes/nova_init_spec.rb

Change-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Related-bug: #1903908
Related-bug: #1832537
(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)
(cherry picked from commit 5e4cee430393ff8df1c587112309a54a83189ef0)
(cherry picked from commit 6d0376e33d958be0e97a9f6fb59290e85e027c78)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/14/774414/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate-metadata-dhcp_domain-963c644692f72ede.yaml', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_metadata_spec.rb']",5,b5ca19bd2e3130e1320dd9b9d6370cdc7271a4f1,refactor_nova_db_config, is_expected.to_not contain_nova_config('api/dhcp_domain') is_expected.to_not contain_nova_config('api/dhcp_domain'), is_expected.to contain_nova_config('api/dhcp_domain').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/dhcp_domain').with('value' => 'foo'),57,6
openstack%2Fcinder-tempest-plugin~master~I52d06f1c1e141cb455fb7a823a27be532afb4c16,openstack/cinder-tempest-plugin,master,I52d06f1c1e141cb455fb7a823a27be532afb4c16,Switch to stestr,MERGED,2021-02-09 21:50:41.000000000,2021-02-27 15:13:26.000000000,2021-02-27 15:13:26.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-09 21:50:41.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7c47222c549c32df615ec53ba434b0ee00710bac', 'message': ""Switch to stestr\n\nWe don't really have unit tests in the repository and any py3x venv\nwould not really be useful (the tests are executed through tempest),\nbut let's remove the old dependency anyway and depend on stestr\nlike all the other OpenStack projects.\n\nChange-Id: I52d06f1c1e141cb455fb7a823a27be532afb4c16\n""}]",0,774740,7c47222c549c32df615ec53ba434b0ee00710bac,19,5,1,10459,,,0,"Switch to stestr

We don't really have unit tests in the repository and any py3x venv
would not really be useful (the tests are executed through tempest),
but let's remove the old dependency anyway and depend on stestr
like all the other OpenStack projects.

Change-Id: I52d06f1c1e141cb455fb7a823a27be532afb4c16
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/40/774740/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,7c47222c549c32df615ec53ba434b0ee00710bac,stestr,[DEFAULT] test_path=${OS_TEST_PATH:-./cinder_tempest_plugin} top_dir=./ ,,9,10
openstack%2Fpuppet-qdr~stable%2Fqueens~Ie72494c7525a2ea361483eadad64f2aba36044f3,openstack/puppet-qdr,stable/queens,Ie72494c7525a2ea361483eadad64f2aba36044f3,DNM: Testing gate,ABANDONED,2021-02-24 14:31:07.000000000,2021-02-27 14:01:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 14:31:07.000000000', 'files': ['.dnm'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/1521a597331a6ed59033f3185dfbd7eb2f64e69e', 'message': 'DNM: Testing gate\n\nDepends-on: https://review.opendev.org/777126\nChange-Id: Ie72494c7525a2ea361483eadad64f2aba36044f3\n'}]",0,777387,1521a597331a6ed59033f3185dfbd7eb2f64e69e,3,1,1,9816,,,0,"DNM: Testing gate

Depends-on: https://review.opendev.org/777126
Change-Id: Ie72494c7525a2ea361483eadad64f2aba36044f3
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/87/777387/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm'],1,1521a597331a6ed59033f3185dfbd7eb2f64e69e,dnm,,,0,0
openstack%2Fneutron-tempest-plugin~master~Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,openstack/neutron-tempest-plugin,master,Ibc1594d0296b31af82776eea84b1d3dea5a4dac7,Explicitly set jobs to ML2/OVS,MERGED,2020-09-02 13:40:52.000000000,2021-02-27 13:01:49.000000000,2021-02-27 13:01:49.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-02 13:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ea96a4d9ca6c502d3f3afc8eea72194630a2ebd', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-09-02 14:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d89ef1c8a3666e1419f32d7ca5c17cd80660758b', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-09-02 15:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6047421990cc317a17226efe8dbceb5b13470d1a', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-09-03 08:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a66c77ab959e753c5c97bc558e61d4bd94a851ae', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-09-09 10:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c8c591cdeb200897c638a0f3448569d638779513', 'message': 'NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-09-09 12:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a47155a8e334f0ecc328e273b2274c1c645b9ab4', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-09-10 08:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c739df64f8f5b78f94bc0f26f48ddcfe1a50a15a', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-09-10 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/57543d4fe6bee275709fef84a7acfcea4a590b96', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-09-10 12:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e552df212cf84f09ee0ae8e9ab8137afdf8c1330', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-09-10 15:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d9fba2666aa2f223c78bac21dcc1989972ee39f1', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-09-16 09:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0c46c689d891df11e3da932fc40ef252b71784d', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/752057/\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2020-09-16 10:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1828f61a1327f1da33b1991cbf42119b3f2fa086', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/752057/\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2020-09-16 12:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/de52d559889c3cef95a9c8bbc90536c9cb1c327f', 'message': 'DO NOT REVIEW: Test OVN devstack module\n\nDepends-On: https://review.opendev.org/#/c/752057/\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 14, 'created': '2020-09-18 08:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/27a3daff54babefd25fabd62503aab93b9e410cb', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 15, 'created': '2020-10-02 08:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2b9be73807bc0e511639196b80f630ea7d0101b2', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 16, 'created': '2020-10-02 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/06113c93901c573192ab105aa88ccca3476ee857', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 17, 'created': '2020-10-02 14:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fbcbf6782138de1ef858b382526d5ccb95f9ee2a', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 18, 'created': '2020-10-05 09:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/432355a56582d8f85241290e30a0b2e5b6c13c2e', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 19, 'created': '2021-01-04 10:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/85b3897f65cb114a5f6a2537d4d1289c5f4c4f92', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 20, 'created': '2021-01-04 10:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/810593f00230b46db588180bc3dc0486c8b5e292', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 21, 'created': '2021-01-19 15:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dd984b324b05bde5fa4cb6127be61d3faf2c7bcb', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 22, 'created': '2021-01-19 15:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0037900b427be9e0c42323534dea83c033075dd6', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 23, 'created': '2021-02-18 13:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/13486c1e0b0301358704e4e155420ac30410b077', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 24, 'created': '2021-02-18 13:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f164b130ac3abc077f5aa5461a79d34d3e9491ab', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 25, 'created': '2021-02-18 14:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/34f4617fcf3cfaa86b9734f85637b616cf553a36', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 26, 'created': '2021-02-22 11:08:03.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/victoria_jobs.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/743c3b26b939f223838ec993434e9b166266e552', 'message': 'Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch\nis asserts that neutron-tempest-plugin gate will not get broken by\nthat change by explicitly configuring stable jobs to continue to run\nwith ML2/OVS.\n\nChange-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",162,749503,743c3b26b939f223838ec993434e9b166266e552,69,6,26,6773,,,0,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch
is asserts that neutron-tempest-plugin gate will not get broken by
that change by explicitly configuring stable jobs to continue to run
with ML2/OVS.

Change-Id: Ibc1594d0296b31af82776eea84b1d3dea5a4dac7
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/03/749503/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,1ea96a4d9ca6c502d3f3afc8eea72194630a2ebd,ovn-devstack, devstack_services: # Disable OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # Disable OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # Disable OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_services: # Disable OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,,36,0
openstack%2Fmonasca-notification~stable%2Ftrain~Ib0a2775c8886a35ff5101211abceba8d04463a65,openstack/monasca-notification,stable/train,Ib0a2775c8886a35ff5101211abceba8d04463a65,Fix zuul publish docker image job,MERGED,2021-02-26 10:18:16.000000000,2021-02-27 11:29:06.000000000,2021-02-27 11:29:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 10:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/036be00d110fd91ce0eff69c98da8d8d42835402', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ib0a2775c8886a35ff5101211abceba8d04463a65\n'}, {'number': 2, 'created': '2021-02-26 23:25:51.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0dd52ee941a552ad9f297e5cde4713fe69b1794a', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ib0a2775c8886a35ff5101211abceba8d04463a65\n'}]",0,777736,0dd52ee941a552ad9f297e5cde4713fe69b1794a,8,2,2,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ib0a2775c8886a35ff5101211abceba8d04463a65
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/36/777736/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,036be00d110fd91ce0eff69c98da8d8d42835402,fix-zuul-publish," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-train'}}"""," shell: ""docker push monasca/notification""",1,1
openstack%2Fopenstack-helm~master~I7b2df90340f33a5b3edac5a53d8031325f96244d,openstack/openstack-helm,master,I7b2df90340f33a5b3edac5a53d8031325f96244d,Update horizon chart releasenotes to latest,MERGED,2021-02-20 00:51:24.000000000,2021-02-27 11:04:51.000000000,2021-02-27 11:03:27.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-20 00:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ae4d112c9465e3653136daaba01349290ccd5de', 'message': 'Update horizon chart releasenotes to latest\n\nThis change updates the releasenotes for the horizon chart to the\nlatest version of the chart as of this patchset.\n\nChange-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d\n'}, {'number': 2, 'created': '2021-02-27 01:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09f6c8cc3a6bbb49f4c97fd88ebca42b1a9c42e3', 'message': 'Update horizon chart releasenotes to latest\n\nThis change updates the releasenotes for the horizon chart to the latest version of the chart as of this patchset.\n\nChange-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d\n'}, {'number': 3, 'created': '2021-02-27 03:31:06.000000000', 'files': ['releasenotes/notes/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3cb8aa4d1e5cf8bc688516b5372f9e8674c5c2d', 'message': 'Update horizon chart releasenotes to latest\n\nThis change updates the releasenotes for the horizon chart to the latest version of the chart as of this patchset.\n\nChange-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d\n'}]",2,776766,e3cb8aa4d1e5cf8bc688516b5372f9e8674c5c2d,17,6,3,30449,,,0,"Update horizon chart releasenotes to latest

This change updates the releasenotes for the horizon chart to the latest version of the chart as of this patchset.

Change-Id: I7b2df90340f33a5b3edac5a53d8031325f96244d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/776766/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/horizon.yaml'],1,4ae4d112c9465e3653136daaba01349290ccd5de,," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 To avoid wrong version check for mysqlclient - 0.1.3 Modify Password validator related settings in Horizon - 0.1.4 Change Issuer to ClusterIssuer - 0.1.5 Revert - Change Issuer to ClusterIssuer",,5,0
openstack%2Fcinder~master~I2885a246b8e4b1fbd849de15991108b14f4ac8ce,openstack/cinder,master,I2885a246b8e4b1fbd849de15991108b14f4ac8ce,Drop policy check failures to DEBUG,MERGED,2020-08-28 17:37:20.000000000,2021-02-27 10:09:02.000000000,2021-02-20 17:35:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-08-28 17:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8ceed5f221d14d568d9e6f892c5b5be71ed5116', 'message': ""Drop policy check failures to DEBUG\n\nThe policy check failures are not actionable by the operator of the\ncloud, therefore logging them as ERROR makes them very noisy for a cloud\nif someone is hitting an API they're not allowed to talk to.\n\nNova currently logs this in DEBUG level so it would make sense to be\nlogging it at the same level.\n\nChange-Id: I2885a246b8e4b1fbd849de15991108b14f4ac8ce\n""}, {'number': 2, 'created': '2021-02-19 15:43:36.000000000', 'files': ['cinder/policy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d99322ede13d9b0614781ae6c80c3647407cfbb8', 'message': ""Drop policy check failures to DEBUG\n\nThe policy check failures are not actionable by the operator of the\ncloud, therefore logging them as ERROR makes them very noisy for a cloud\nif someone is hitting an API they're not allowed to talk to.\n\nNova currently logs this in DEBUG level so it would make sense to be\nlogging it at the same level.\n\nChange-Id: I2885a246b8e4b1fbd849de15991108b14f4ac8ce\n""}]",0,748727,d99322ede13d9b0614781ae6c80c3647407cfbb8,113,32,2,1004,,,0,"Drop policy check failures to DEBUG

The policy check failures are not actionable by the operator of the
cloud, therefore logging them as ERROR makes them very noisy for a cloud
if someone is hitting an API they're not allowed to talk to.

Nova currently logs this in DEBUG level so it would make sense to be
logging it at the same level.

Change-Id: I2885a246b8e4b1fbd849de15991108b14f4ac8ce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/748727/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policy.py'],1,b8ceed5f221d14d568d9e6f892c5b5be71ed5116,drop-error-level, LOG.debug('Policy check for %(action)s failed with credentials ', LOG.error('Policy check for %(action)s failed with credentials ',1,1
openstack%2Fswift~stable%2Fussuri~Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,openstack/swift,stable/ussuri,Ibf304bb64f005a86cb4d08312c5d7ad4a2488719,container-sharding: Stable overlap order,MERGED,2021-02-24 03:15:09.000000000,2021-02-27 09:52:52.000000000,2021-02-27 09:51:37.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/760528cb70cf56a1a23a7d3c3e3b708677213687', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nCherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\nChange-Id: Ibf304bb64f005a86cb4d08312c5d7ad4a2488719\n'}]",0,777285,760528cb70cf56a1a23a7d3c3e3b708677213687,14,3,1,597,,,0,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Cherry-Picked-From: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
Change-Id: Ibf304bb64f005a86cb4d08312c5d7ad4a2488719
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/777285/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,760528cb70cf56a1a23a7d3c3e3b708677213687,ussuri-sharding," shard_ranges.sort(key=lambda sr: ( sr.upper, sr.state, sr.lower, sr.name))"," shard_ranges.sort(key=lambda sr: (sr.upper, sr.state, sr.lower))",42,1
openstack%2Ftripleo-ci~master~Ie6473759383bd4b903cbe56fba9fee75a24154c4,openstack/tripleo-ci,master,Ie6473759383bd4b903cbe56fba9fee75a24154c4,Remove standalone/undercloud from multinode layouts +deprecate old,MERGED,2021-02-23 12:26:15.000000000,2021-02-27 06:00:46.000000000,2021-02-27 06:00:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-02-23 12:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49511a0e601968638afbd8b4ab7064ac378d2f00', 'message': 'Remove unused multinode templates and remove standalone jobs\n\nAs part of CI optimisation at [1] this removes the following\nmultinode templates:\n\n  * tripleo-multinode-baremetal-minimal\n  * tripleo-multinode-baremetal-full\n  * tripleo-multinode-container-full\n  * tripleo-multinode-container-minimal\n  * tripleo-multinode-tripleoci\n\nThese are mostly unused except in the depends-on here.\nThis also removes the standalone jobs from the multinode template.\nIt is confusing to have the standalone/undercloud jobs in the\nmultinode templates and increases the maintenance burden for the\ntripleo-ci team.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: Ie28dd59a6bec79802d149f030f10a2ea12e454de\nDepends-On: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n\nChange-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4\n'}, {'number': 2, 'created': '2021-02-23 14:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5709e0f9b8d051ddfa9987f6cf3096ee618ac576', 'message': 'Deprecate unused multinode templates and remove standalone jobs\n\nAs part of CI optimisation at [1] this deprecates the following\nmultinode templates:\n\n  * tripleo-multinode-baremetal-minimal\n  * tripleo-multinode-baremetal-full\n  * tripleo-multinode-container-full\n  * tripleo-multinode-container-minimal\n  * tripleo-multinode-tripleoci\n\nThese are still used in some places such as [2][3] so we need\nto remove those before we can delete the templates alltogether.\n\nThis also removes the standalone jobs from the multinode template.\nIt is confusing to have the standalone/undercloud jobs in the\nmultinode templates and increases the maintenance burden for the\ntripleo-ci team.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097\n[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098\n\nChange-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4\n'}, {'number': 3, 'created': '2021-02-23 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/594cd02f64fdc82b19c4ffb448fc4eca2e344e80', 'message': 'Deprecate unused multinode templates and remove standalone jobs\n\nAs part of CI optimisation at [1] this deprecates the following\nmultinode templates:\n\n  * tripleo-multinode-baremetal-minimal\n  * tripleo-multinode-baremetal-full\n  * tripleo-multinode-container-full\n  * tripleo-multinode-container-minimal\n  * tripleo-multinode-tripleoci\n\nThese are still used in some places such as [2][3] so we need\nto remove those before we can delete the templates alltogether.\n\nThis also removes the standalone jobs from the multinode template.\nIt is confusing to have the standalone/undercloud jobs in the\nmultinode templates and increases the maintenance burden for the\ntripleo-ci team.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097\n[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098\n\nChange-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4\n'}, {'number': 4, 'created': '2021-02-25 09:20:37.000000000', 'files': ['zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0387f813b098405bbeeff5295c7434f5f9272555', 'message': 'Remove standalone/undercloud from multinode layouts +deprecate old\n\nAs part of CI optimisation at [1] this deprecates the following\nmultinode templates:\n\n  * tripleo-multinode-baremetal-minimal\n  * tripleo-multinode-baremetal-full\n  * tripleo-multinode-container-full\n  * tripleo-multinode-container-minimal\n  * tripleo-multinode-tripleoci\n\nThese are still used in some places such as [2][3] so we need\nto remove those before we can delete the templates alltogether.\n\nThis also removes the standalone and undercloud jobs from the\nmultinode template. It is confusing to have them there and\nincreases the maintenance burden for the tripleo-ci team.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097\n[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098\n\nChange-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4\n'}]",0,777099,0387f813b098405bbeeff5295c7434f5f9272555,22,10,4,8449,,,0,"Remove standalone/undercloud from multinode layouts +deprecate old

As part of CI optimisation at [1] this deprecates the following
multinode templates:

  * tripleo-multinode-baremetal-minimal
  * tripleo-multinode-baremetal-full
  * tripleo-multinode-container-full
  * tripleo-multinode-container-minimal
  * tripleo-multinode-tripleoci

These are still used in some places such as [2][3] so we need
to remove those before we can delete the templates alltogether.

This also removes the standalone and undercloud jobs from the
multinode template. It is confusing to have them there and
increases the maintenance burden for the tripleo-ci team.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
[2] https://review.opendev.org/c/openstack/os-apply-config/+/777097
[3] https://review.opendev.org/c/openstack/os-refresh-config/+/777098

Change-Id: Ie6473759383bd4b903cbe56fba9fee75a24154c4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/99/777099/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,49511a0e601968638afbd8b4ab7064ac378d2f00,tripleo-ci-reduce, name: tripleo-multinode-container-minimal-pipeline - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-7-content-provider, name: tripleo-multinode-baremetal-minimal gate: queue: tripleo - project-template: name: tripleo-multinode-container-minimal - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: &standalone_ignored - ^.*\.md$ - ^.*\.rst$ - ^Puppetfile.*$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^lower-constraints.txt$ - ^metadata.json$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^releasenotes/.*$ - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^roles/tripleo-repos/.*$ - ^spec/.*$ - ^test-requirements.txt$ - ^vars/sova-patterns.yml$ - tox.ini - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/layout.yaml - zuul.d/undercloud-jobs.yaml - zuul.d/multinode-jobs.yaml - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored gate: queue: tripleo jobs: - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored - project-template: name: tripleo-multinode-baremetal-full gate: queue: tripleo - project-template: name: tripleo-multinode-container-full check: jobs: - tripleo-ci-centos-8-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-undercloud-minion: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario007-multinode-oooq-container: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario001-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario002-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario003-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario004-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario001-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario002-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario003-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario004-standalone: irrelevant-files: *standalone_ignored gate: queue: tripleo jobs: - tripleo-ci-centos-7-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-undercloud-minion: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored - project-template: name: tripleo-multinode-container-minimal-pipeline check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-8-containers-multinode: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored vars: &sa_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-7-standalone-rocky: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-7-content-provider - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario001-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario002-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario003-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-7-scenario004-standalone: irrelevant-files: *standalone_ignored - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario001-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario002-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario003-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario004-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone: irrelevant-files: *standalone_ignored vars: *sa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-7-standalone: irrelevant-files: *standalone_ignored- project-template: name: tripleo-multinode-tripleoci check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: files: - ^scripts/emit_releases_file/.*$ - ^roles/run-test/.*$ - ^roles/common/.*$ - ^roles/tripleo-repos/.*$ dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ dependencies: - tripleo-ci-centos-8-content-provider ,3,237
openstack%2Fopenstack-helm~master~I39c5d2014146925afe7fd896123a705c19005ff9,openstack/openstack-helm,master,I39c5d2014146925afe7fd896123a705c19005ff9,BUG for deploying multiple compute nodes,MERGED,2021-02-02 02:23:01.000000000,2021-02-27 05:48:29.000000000,2021-02-27 05:47:09.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 30449}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-02-02 02:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71206874cd8102735d8bf756ea5a088d9562612b', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but\n3 compute nodes),The original\nmethod counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 2, 'created': '2021-02-18 00:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbe432f0ca91499276191041e87dd5b6c6de0ac5', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 3, 'created': '2021-02-18 01:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8965e9908319d641529f225dab183b712a603ce', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 4, 'created': '2021-02-18 06:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/564cc164690cdc0a3e01b120e37aa9214f910b81', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 5, 'created': '2021-02-18 06:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bdb600eced89a7dee54172050a66425096e1172', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 6, 'created': '2021-02-19 01:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41cdcf199291d20532bfa1ceb4c39552f301f4f8', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 7, 'created': '2021-02-26 02:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e97fc73cf91b8cb27002b77c927888d343a9c093', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes\n(e.g.Total 5 nodes,but 3 compute nodes),The original method counts all\nnodes instead of compute nodes,This can result in less than 100%  and\nthe process will get stuck,this is a bug!\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}, {'number': 8, 'created': '2021-02-27 01:35:01.000000000', 'files': ['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa5e622b47ed04cfc6ac0561f151f61e0accac44', 'message': 'BUG for deploying multiple compute nodes\n\nWhen Deployment of compute nodes is not on all nodes (e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!\n\nChange-Id: I39c5d2014146925afe7fd896123a705c19005ff9\n'}]",2,773558,aa5e622b47ed04cfc6ac0561f151f61e0accac44,64,9,8,30449,,,0,"BUG for deploying multiple compute nodes

When Deployment of compute nodes is not on all nodes (e.g.Total 5 nodes,but 3 compute nodes),The original method counts all nodes instead of compute nodes,This can result in less than 100%  and the process will get stuck,this is a bug!

Change-Id: I39c5d2014146925afe7fd896123a705c19005ff9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/773558/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/Chart.yaml']",2,71206874cd8102735d8bf756ea5a088d9562612b,773558,version: 0.1.10,version: 0.1.9,2,2
openstack%2Fkeystone~master~I2619108216035a37823e53efb5a3f9fe6cfe5cbb,openstack/keystone,master,I2619108216035a37823e53efb5a3f9fe6cfe5cbb,trivial: Update minor wording nit in RBAC persona documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:26:10.000000000,2021-02-27 05:23:24.000000000,"[{'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2021-02-05 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c1e97a2a139ea2571f7656aced75eebe78036cc5', 'message': ""trivial: Update minor wording nit in RBAC persona documentation\n\nAfter reading through the documentation, I thought this sentense sounded\nfunny using 'within' and 'in' so close to each other. I updated it so\nthat it isn't quite so jarring.\n\nChange-Id: I2619108216035a37823e53efb5a3f9fe6cfe5cbb\n""}, {'number': 2, 'created': '2021-02-05 15:00:52.000000000', 'files': ['doc/source/admin/service-api-protection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9707673b3467fd9e476eb7c4721b3d930ba74e81', 'message': ""trivial: Update minor wording nit in RBAC persona documentation\n\nAfter reading through the documentation, I thought this sentence sounded\nfunny using 'within' and 'in' so close to each other. I updated it so\nthat it isn't quite so jarring.\n\nChange-Id: I2619108216035a37823e53efb5a3f9fe6cfe5cbb\n""}]",0,774248,9707673b3467fd9e476eb7c4721b3d930ba74e81,8,2,2,5046,,,0,"trivial: Update minor wording nit in RBAC persona documentation

After reading through the documentation, I thought this sentence sounded
funny using 'within' and 'in' so close to each other. I updated it so
that it isn't quite so jarring.

Change-Id: I2619108216035a37823e53efb5a3f9fe6cfe5cbb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/774248/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/service-api-protection.rst'],1,c1e97a2a139ea2571f7656aced75eebe78036cc5,secure-rbac,*Project administrators* can only view and modify data within the project they have authorization on. They're able to view information about their projects,*Project administrators* can only view and modify data within the project in their role assignment. They're able to view information about their projects,2,2
openstack%2Fkeystone~master~Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,openstack/keystone,master,Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612,Clarify ``reader`` role implementation in persona admin guide,MERGED,2021-01-19 19:40:11.000000000,2021-02-27 05:24:57.000000000,2021-02-27 05:23:02.000000000,"[{'_account_id': 6618}, {'_account_id': 8556}, {'_account_id': 16465}, {'_account_id': 20813}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-19 19:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/59dc27358ef34d8aff0e9777cb7cf4eefb60a040', 'message': ""Clarify ``reader`` role implementation in persona admin guide\n\nThe secure RBAC work propogating throughout the community has led to\nsome interesting discussions about how to implement support for\n``reader``. Specifically, should ``reader`` be used for auditing\ndeployments?\n\nSome compliance targets, verified by third-party auditors, require\naccess to sensitive information (e.g., thinking about license keys in\nglance images or volume type encryption metadata in cinder). The concern\nraised among developers updating their default policies to use\n``reader`` roles is if they should be using that role to protect\nsensitive information, especially if it's the least-authoritative role\nin the hierarchy between reader, member, and admin.\n\nThis documentation is supposed to assist deployers in understanding the\nvarious personas that developers are implementing by default, but it\ndoesn't call out the complicated relationship we have with ``reader``\nand auditing.\n\nThe change here proposes that we explicitly say that ``reader``\nshouldn't be used to protect sensitive information, regardless of the\nscope, because ``reader`` was designed to be the least-authoritative\nrole provided by keystone, by default. Instead, service developers\nworking to implement these personas consistently in other services\nshould keep sensitive information, if applicable to their API or\nresources, at the ``admin`` tier of the hierarchy. This provides better\nprotection of sensitive information by not exposing is implicitly.\n\nWe can consider supporting a formal default role for auditing in the\nfuture, but building it outside the default implied role tree so that\nit's not implied to anyone with a role assignment. This will come at\nanother time and we can use implied roles to re-use all the work we've\ndone across OpenStack to implement support for ``reader``.\n\nFor now, ``reader`` should be viewed from the perspective of the\nleast-authoritative permissions grant-able to a given scope (e.g.,\nsystem, domain, or project). Even if ``reader`` has limited use in\nauditing deployments, it's still incredibly useful for operators\nbecause they have a role they can grant to users with minimal trust, or\nminimal permissions in the deployment.\n\nThis commit acknowledges the use-case for an elevated auditor role and\nthat it's something we can implement as a formal role in keystone in the\nfuture.\n\nChange-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612\n""}, {'number': 2, 'created': '2021-02-05 14:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c71b3fcfba7cfecc5f0e69dcac2f4355fb892f1b', 'message': ""Clarify ``reader`` role implementation in persona admin guide\n\nThe secure RBAC work propogating throughout the community has led to\nsome interesting discussions about how to implement support for\n``reader``. Specifically, should ``reader`` be used for auditing\ndeployments?\n\nSome compliance targets, verified by third-party auditors, require\naccess to sensitive information (e.g., thinking about license keys in\nglance images or volume type encryption metadata in cinder). The concern\nraised among developers updating their default policies to use\n``reader`` roles is if they should be using that role to protect\nsensitive information, especially if it's the least-authoritative role\nin the hierarchy between reader, member, and admin.\n\nThis documentation is supposed to assist deployers in understanding the\nvarious personas that developers are implementing by default, but it\ndoesn't call out the complicated relationship we have with ``reader``\nand auditing.\n\nThe change here proposes that we explicitly say that ``reader``\nshouldn't be used to protect sensitive information, regardless of the\nscope, because ``reader`` was designed to be the least-authoritative\nrole provided by keystone, by default. Instead, service developers\nworking to implement these personas consistently in other services\nshould keep sensitive information, if applicable to their API or\nresources, at the ``admin`` tier of the hierarchy. This provides better\nprotection of sensitive information by not exposing is implicitly.\n\nWe can consider supporting a formal default role for auditing in the\nfuture, but building it outside the default implied role tree so that\nit's not implied to anyone with a role assignment. This will come at\nanother time and we can use implied roles to re-use all the work we've\ndone across OpenStack to implement support for ``reader``.\n\nFor now, ``reader`` should be viewed from the perspective of the\nleast-authoritative permissions grant-able to a given scope (e.g.,\nsystem, domain, or project). Even if ``reader`` has limited use in\nauditing deployments, it's still incredibly useful for operators\nbecause they have a role they can grant to users with minimal trust, or\nminimal permissions in the deployment.\n\nThis commit acknowledges the use-case for an elevated auditor role and\nthat it's something we can implement as a formal role in keystone in the\nfuture.\n\nChange-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612\n""}, {'number': 3, 'created': '2021-02-05 14:32:27.000000000', 'files': ['doc/source/admin/service-api-protection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4df1130e1285da2a55569f727abe5077acd4220d', 'message': ""Clarify ``reader`` role implementation in persona admin guide\n\nThe secure RBAC work propogating throughout the community has led to\nsome interesting discussions about how to implement support for\n``reader``. Specifically, should ``reader`` be used for auditing\ndeployments?\n\nSome compliance targets, verified by third-party auditors, require\naccess to sensitive information (e.g., thinking about license keys in\nglance images or volume type encryption metadata in cinder). The concern\nraised among developers updating their default policies to use\n``reader`` roles is if they should be using that role to protect\nsensitive information, especially if it's the least-authoritative role\nin the hierarchy between reader, member, and admin.\n\nThis documentation is supposed to assist deployers in understanding the\nvarious personas that developers are implementing by default, but it\ndoesn't call out the complicated relationship we have with ``reader``\nand auditing.\n\nThe change here proposes that we explicitly say that ``reader``\nshouldn't be used to protect sensitive information, regardless of the\nscope, because ``reader`` was designed to be the least-authoritative\nrole provided by keystone, by default. Instead, service developers\nworking to implement these personas consistently in other services\nshould keep sensitive information, if applicable to their API or\nresources, at the ``admin`` tier of the hierarchy. This provides better\nprotection of sensitive information by not exposing is implicitly.\n\nWe can consider supporting a formal default role for auditing in the\nfuture, but building it outside the default implied role tree so that\nit's not implied to anyone with a role assignment. This will come at\nanother time and we can use implied roles to re-use all the work we've\ndone across OpenStack to implement support for ``reader``.\n\nFor now, ``reader`` should be viewed from the perspective of the\nleast-authoritative permissions grant-able to a given scope (e.g.,\nsystem, domain, or project). Even if ``reader`` has limited use in\nauditing deployments, it's still incredibly useful for operators\nbecause they have a role they can grant to users with minimal trust, or\nminimal permissions in the deployment.\n\nThis commit acknowledges the use-case for an elevated auditor role and\nthat it's something we can implement as a formal role in keystone in the\nfuture.\n\nChange-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612\n""}]",17,771509,4df1130e1285da2a55569f727abe5077acd4220d,23,7,3,5046,,,0,"Clarify ``reader`` role implementation in persona admin guide

The secure RBAC work propogating throughout the community has led to
some interesting discussions about how to implement support for
``reader``. Specifically, should ``reader`` be used for auditing
deployments?

Some compliance targets, verified by third-party auditors, require
access to sensitive information (e.g., thinking about license keys in
glance images or volume type encryption metadata in cinder). The concern
raised among developers updating their default policies to use
``reader`` roles is if they should be using that role to protect
sensitive information, especially if it's the least-authoritative role
in the hierarchy between reader, member, and admin.

This documentation is supposed to assist deployers in understanding the
various personas that developers are implementing by default, but it
doesn't call out the complicated relationship we have with ``reader``
and auditing.

The change here proposes that we explicitly say that ``reader``
shouldn't be used to protect sensitive information, regardless of the
scope, because ``reader`` was designed to be the least-authoritative
role provided by keystone, by default. Instead, service developers
working to implement these personas consistently in other services
should keep sensitive information, if applicable to their API or
resources, at the ``admin`` tier of the hierarchy. This provides better
protection of sensitive information by not exposing is implicitly.

We can consider supporting a formal default role for auditing in the
future, but building it outside the default implied role tree so that
it's not implied to anyone with a role assignment. This will come at
another time and we can use implied roles to re-use all the work we've
done across OpenStack to implement support for ``reader``.

For now, ``reader`` should be viewed from the perspective of the
least-authoritative permissions grant-able to a given scope (e.g.,
system, domain, or project). Even if ``reader`` has limited use in
auditing deployments, it's still incredibly useful for operators
because they have a role they can grant to users with minimal trust, or
minimal permissions in the deployment.

This commit acknowledges the use-case for an elevated auditor role and
that it's something we can implement as a formal role in keystone in the
future.

Change-Id: Iea28faf1b3e63c7ab07e90808d2bc76ee3ee0612
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/771509/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/service-api-protection.rst'],1,59dc27358ef34d8aff0e9777cb7cf4eefb60a040,secure-rbac,"behaves with keystone's API across different scopes. Additionally, other service developers can use this document as a guide for implementing similar patterns in their services.The default roles provided by keystone, via ``keystone-manage boostrap``, are related through role implications. The ``admin`` role implies the ``member`` role, and the ``member`` role implies the ``reader`` role. These implications mean users with the ``admin`` role automatically have the ``member`` and.. warning:: While it's possible to use the ``reader`` role to perform audits, we highly recommend assessing the viability of using ``reader`` for auditing from the perspective of the compliance target you're pursuing. The ``reader`` role is the least-privileged role within the role hierarchy described here. As such, OpenStack development teams, by default, do not advocate exposing sensitive information to users with the ``reader`` role, regardless of the scope. We have noted the need for a formal, read-only, role that is useful for inspecting all applicable resources within a particular scope, but it shouldn't be implemented as the lowest level of authorization. This work will come in a subsequent release where we support an elevated read-only role, that implies ``reader``, but also exposes sensitive information, where applicable. This will allow operators to grant third-party auditors a permissive role for viewing sensitive information, specifically for compliance targets that require it. It's imperative to note that ``reader`` is the least authoritative role in the hierarchy because assignments using ``admin`` or ``member`` ultimately include the ``reader`` role. We document this explicitly so that ``reader`` roles are not overloaded with read-only access to sensitive information. For example, a deployment pursuing a specific compliance target may want to leverage the ``reader`` role to perform the audit. If the audit requires the auditor to evaluate sensitive information, like license keys or administrative metadata, within a given scope, auditors shouldn't expect to perform these operations with the ``reader`` role. We justify this design decision because sensitive information should be explicitly protected, and not implicitly exposed. The ``reader`` role should be implemented and used from the perspective of least-privilege, which may or may not fill your auditing use case. resources within keystone. They can list role assignments, users, projects, and group memberships, among other resources. The *system reader* persona is useful for members of a support team or auditors if the audit doesn't require access to sensitive information. You can find *system members* and *system readers* in your deployment with the following assignments: +--------+------------------------+------------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+------------------------+------------------------+---------+--------+--------+-----------+ | reader | | system-support@Default | | | all | False | | admin | operator@Default | | | | all | False | | member | system-support@Default | | | | all | False | +--------+------------------------+------------------------+---------+--------+--------+-----------+The domain member and domain reader use-cases are great for support teams, monitoring the details of an account, or auditing resources within a domain assuming the audit doesn't validate sensitive information. You can find domain members and domain readers with the following role assignments:","behaves with keystone's API across different scopes.The default roles imply one another. The ``admin`` role implies the ``member`` role, and the ``member`` role implies the ``reader`` role. This implication means users with the ``admin`` role automatically have the ``member`` andresources within keystone. They can audit role assignments, users, projects, and group memberships, among other resources. The *system reader* persona is useful for auditors or members of a support team. You can find *system members* and *system readers* in your deployment with the following assignments: +--------+------------------------+-------------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+------------------------+-------------------------+---------+--------+--------+-----------+ | reader | | system-auditors@Default | | | all | False | | admin | operator@Default | | | | all | False | | member | system-support@Default | | | | all | False | +--------+------------------------+-------------------------+---------+--------+--------+-----------+The domain member and domain reader use-cases are great for auditing, support, or monitoring the details of an account. You can find domain members and domain readers with the following role assignments:",58,19
openstack%2Fkeystone~master~I40dd33fc0afa0240c6b1cd48322fd988fc5524af,openstack/keystone,master,I40dd33fc0afa0240c6b1cd48322fd988fc5524af,Clarify top-level personas in RBAC documentation,MERGED,2021-02-05 14:58:38.000000000,2021-02-27 05:23:08.000000000,2021-02-27 05:23:08.000000000,"[{'_account_id': 6618}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2021-02-05 14:58:38.000000000', 'files': ['doc/source/admin/service-api-protection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a0ae615ab95481bfc7e5621ee2179e33bcf95444', 'message': 'Clarify top-level personas in RBAC documentation\n\nThis commit updates the documentation for service api protection to\nbetter describe the overall personas for system, domain, and project\nusers. It also adds some examples that show operators how to list users\nwith all role assignments on a particular target, which include a\nsuperset of the existing examples.\n\nChange-Id: I40dd33fc0afa0240c6b1cd48322fd988fc5524af\n'}]",0,774247,a0ae615ab95481bfc7e5621ee2179e33bcf95444,8,4,1,5046,,,0,"Clarify top-level personas in RBAC documentation

This commit updates the documentation for service api protection to
better describe the overall personas for system, domain, and project
users. It also adds some examples that show operators how to list users
with all role assignments on a particular target, which include a
superset of the existing examples.

Change-Id: I40dd33fc0afa0240c6b1cd48322fd988fc5524af
",git fetch https://review.opendev.org/openstack/keystone refs/changes/47/774247/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/service-api-protection.rst'],1,a0ae615ab95481bfc7e5621ee2179e33bcf95444,secure-rbac,"--------------- System Personas --------------- This section describes authorization personas typically used for operators and deployers. You can find all users with system role assignments using the following query: .. code-block:: console $ openstack role assignment list --names --system all +--------+------------------------+------------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+------------------------+------------------------+---------+--------+--------+-----------+ | admin | | system-admins@Default | | | all | False | | admin | admin@Default | | | | all | False | | admin | operator@Default | | | | all | False | | reader | | system-support@Default | | | all | False | | admin | operator@Default | | | | all | False | | member | system-support@Default | | | | all | False | +--------+------------------------+------------------------+---------+--------+--------+-----------+ ===================== $ openstack role assignment list --names --system all --role admin===============================--------------- Domain Personas --------------- This section describes authorization personas for people who manage their own domains, which contain projects, users, and groups. You can find all users with role assignments on a specific domain using the following query: .. code-block:: console $ openstack role assignment list --names --domain foobar +--------+-----------------+----------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+-----------------+----------------------+---------+--------+--------+-----------+ | reader | support@Default | | | foobar | | False | | admin | jsmith@Default | | | foobar | | False | | admin | | foobar-admins@foobar | | foobar | | False | | member | jdoe@foobar | | | foobar | | False | +--------+-----------------+----------------------+---------+--------+--------+-----------+ ====================================================---------------- Project Personas ---------------- This section describes authorization personas for users operating within a project. These personas are commonly used by end users. You can find all users with role assignments on a specific project using the following query: .. code-block:: console $ openstack role assignment list --names --project production +--------+----------------+----------------------------+-------------------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+----------------+----------------------------+-------------------+--------+--------+-----------+ | admin | jsmith@Default | | production@foobar | | | False | | admin | | production-admins@foobar | production@foobar | | | False | | member | | foobar-operators@Default | production@foobar | | | False | | reader | alice@Default | | production@foobar | | | False | | reader | | production-support@Default | production@foobar | | | False | +--------+----------------+----------------------------+-------------------+--------+--------+-----------+ =======================================================",------------------------------------------ $ openstack role assignment list --names --system all---------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------,69,13
openstack%2Fnova~stable%2Fussuri~Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,openstack/nova,stable/ussuri,Ic5ce2580e7638a47f1ffddb4edbb503bf490504c,compute: Lock by instance.uuid lock during swap_volume,MERGED,2020-10-19 09:05:37.000000000,2021-02-27 05:07:21.000000000,2021-02-27 05:05:56.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-10-19 09:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6f2b873bea90df4a2c1fa3b45c6ac1bc2fac618', 'message': 'compute: Lock by instance.uuid lock during swap_volume\n\nThe libvirt driver is currently the only virt driver implementing swap\nvolume within Nova. While libvirt itself does support moving between\nmultiple volumes attached to the same instance at the same time the\ncurrent logic within the libvirt driver makes a call to\nvirDomainGetXMLDesc that fails if there are active block jobs against\nany disk attached to the domain.\n\nThis change simply uses an instance.uuid based lock in the compute layer\nto serialise requests to swap_volume to avoid this from being possible.\n\nCloses-Bug: #1896621\nChange-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c\n(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)\n(cherry picked from commit a53e8471728ba934b55fd6438405f897f07293ca)\n'}, {'number': 2, 'created': '2021-01-26 21:12:34.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7ba1aab5f6f76ba88d6cc63cde2ec246ee61ec5', 'message': 'compute: Lock by instance.uuid lock during swap_volume\n\nThe libvirt driver is currently the only virt driver implementing swap\nvolume within Nova. While libvirt itself does support moving between\nmultiple volumes attached to the same instance at the same time the\ncurrent logic within the libvirt driver makes a call to\nvirDomainGetXMLDesc that fails if there are active block jobs against\nany disk attached to the domain.\n\nThis change simply uses an instance.uuid based lock in the compute layer\nto serialise requests to swap_volume to avoid this from being possible.\n\nCloses-Bug: #1896621\nChange-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c\n(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)\n(cherry picked from commit eebf94b6540fcd16826067fac544b5a3238842a3)\n'}]",0,758732,f7ba1aab5f6f76ba88d6cc63cde2ec246ee61ec5,42,6,2,10135,,,0,"compute: Lock by instance.uuid lock during swap_volume

The libvirt driver is currently the only virt driver implementing swap
volume within Nova. While libvirt itself does support moving between
multiple volumes attached to the same instance at the same time the
current logic within the libvirt driver makes a call to
virDomainGetXMLDesc that fails if there are active block jobs against
any disk attached to the domain.

This change simply uses an instance.uuid based lock in the compute layer
to serialise requests to swap_volume to avoid this from being possible.

Closes-Bug: #1896621
Change-Id: Ic5ce2580e7638a47f1ffddb4edbb503bf490504c
(cherry picked from commit 6cf449bdd0d4beb95cf12311e7d2f8669e625fac)
(cherry picked from commit eebf94b6540fcd16826067fac544b5a3238842a3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/758732/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,c6f2b873bea90df4a2c1fa3b45c6ac1bc2fac618,bug/1896621," """"""Replace the old volume with the new volume within the active server :param context: User request context :param old_volume_id: Original volume id :param new_volume_id: New volume id being swapped to :param instance: Instance with original_volume_id attached :param new_attachment_id: ID of the new attachment for new_volume_id """""" @utils.synchronized(instance.uuid) def _do_locked_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id): self._do_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id) _do_locked_swap_volume(context, old_volume_id, new_volume_id, instance, new_attachment_id) def _do_swap_volume(self, context, old_volume_id, new_volume_id, instance, new_attachment_id): """"""Replace the old volume with the new volume within the active server :param context: User request context :param old_volume_id: Original volume id :param new_volume_id: New volume id being swapped to :param instance: Instance with original_volume_id attached :param new_attachment_id: ID of the new attachment for new_volume_id """""" context = context.elevated()"," """"""Swap volume for an instance."""""" context = context.elevated() ",26,2
openstack%2Ftripleo-validations~stable%2Ftrain~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/train,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:31:49.000000000,2021-02-27 04:26:18.000000000,2021-02-27 04:26:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-25 10:31:49.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/46cee611d58e81d3c0cd9002a297a954d27a8113', 'message': 'Optionally fail ceph-health if HEALTH_WARN\n\nHelps controlling the behavior of the ceph-health check for it to\nfail, optionally, not only when cluster is in _ERR state but also\nin _WARN state.\n\nChange-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716\nRelated-Bug: 1915700\n(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)\n(cherry picked from commit 2896ce06d7aad365bc6f02d5ab60acbe45315eb5)\n(cherry picked from commit 45a78f35238d13b077b984b56817e71e23e208a2)\n'}]",0,777563,46cee611d58e81d3c0cd9002a297a954d27a8113,12,2,1,6796,,,0,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
(cherry picked from commit 2896ce06d7aad365bc6f02d5ab60acbe45315eb5)
(cherry picked from commit 45a78f35238d13b077b984b56817e71e23e208a2)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/63/777563/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml']",2,46cee611d58e81d3c0cd9002a297a954d27a8113,,fail_on_ceph_health_warn: false,,8,0
openstack%2Fopenstack-helm-infra~master~I969b7d76146ebf7c04cac47a8313fb7aff473078,openstack/openstack-helm-infra,master,I969b7d76146ebf7c04cac47a8313fb7aff473078,Update ceph-client chart releasenotes to latest,ABANDONED,2021-02-26 01:50:04.000000000,2021-02-27 03:36:00.000000000,,"[{'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 01:50:04.000000000', 'files': ['releasenotes/notes/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29b66a5ea62af7e332ff3cdb761cf6e3533ceccd', 'message': 'Update ceph-client chart releasenotes to latest\n\nThis change updates the releasenotes for the ceph-client chart to the latest version of the chart as of this patchset.\n\nChange-Id: I969b7d76146ebf7c04cac47a8313fb7aff473078\n'}]",0,777707,29b66a5ea62af7e332ff3cdb761cf6e3533ceccd,4,2,1,30449,,,0,"Update ceph-client chart releasenotes to latest

This change updates the releasenotes for the ceph-client chart to the latest version of the chart as of this patchset.

Change-Id: I969b7d76146ebf7c04cac47a8313fb7aff473078
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/777707/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ceph-client.yaml'],1,29b66a5ea62af7e332ff3cdb761cf6e3533ceccd,ceph-client-reno," - 0.1.8 Enhance logic to enable the autoscaler for Octopus - 0.1.9 Revert ""Enhance logic to enable the autoscaler for Octopus""",,2,0
openstack%2Fpython-cinderclient~master~I7a703e0ee91b73b7ab736712756caaba6981f8e4,openstack/python-cinderclient,master,I7a703e0ee91b73b7ab736712756caaba6981f8e4,Stop configuring install_command in tox.,MERGED,2021-02-03 16:30:54.000000000,2021-02-27 03:10:39.000000000,2021-02-27 03:09:15.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 12033}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-03 16:30:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2c43d65238063eeaf54e9ae4b0e1c8463c9cbe0e', 'message': 'Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I7a703e0ee91b73b7ab736712756caaba6981f8e4\n'}]",0,773941,2c43d65238063eeaf54e9ae4b0e1c8463c9cbe0e,15,8,1,30615,,,0,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: I7a703e0ee91b73b7ab736712756caaba6981f8e4
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/41/773941/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c43d65238063eeaf54e9ae4b0e1c8463c9cbe0e,,,install_command = pip install {opts} {packages},0,1
openstack%2Fdevstack~master~I722dcc5dbb1e9a51b68884ec310ecd2f55577746,openstack/devstack,master,I722dcc5dbb1e9a51b68884ec310ecd2f55577746,Add a variable to set the tempest_roles in Tempest conf,NEW,2021-02-26 18:11:47.000000000,2021-02-27 02:20:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 18:11:47.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f13f5d0c604d9a943751d462369b3ae503a6a99a', 'message': ""Add a variable to set the tempest_roles in Tempest conf\n\nDevstack no more set the default 'member' roles to Tempest's\ntempest_roles config option which is used to set roles\nfor all dynamically created test users.\n\nThis commit provides a var to set tempest_roles.\n\nChange-Id: I722dcc5dbb1e9a51b68884ec310ecd2f55577746\n""}]",0,777802,f13f5d0c604d9a943751d462369b3ae503a6a99a,6,1,1,8556,,,0,"Add a variable to set the tempest_roles in Tempest conf

Devstack no more set the default 'member' roles to Tempest's
tempest_roles config option which is used to set roles
for all dynamically created test users.

This commit provides a var to set tempest_roles.

Change-Id: I722dcc5dbb1e9a51b68884ec310ecd2f55577746
",git fetch https://review.opendev.org/openstack/devstack refs/changes/02/777802/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,f13f5d0c604d9a943751d462369b3ae503a6a99a,," if [[ ! -z ""$TEMPEST_USER_DEFAULT_ROLES"" ]]; then iniset $TEMPEST_CONFIG auth tempest_roles $TEMPEST_USER_DEFAULT_ROLES fi",,3,0
openstack%2Fcyborg~master~Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,openstack/cyborg,master,Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f,support configuring multiple vgpu types in cyborg,MERGED,2020-11-27 11:57:49.000000000,2021-02-27 01:55:52.000000000,2021-02-27 01:54:30.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-11-27 11:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6498add78f21e839047349e1f30132e477fcc31b', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 2, 'created': '2020-12-25 03:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/19855b030fde0b4e490678c922ff59a62e2e3802', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 3, 'created': '2021-01-08 05:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4f1068cdaaefcb7fc0aece1e75e167bb46f78d55', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 4, 'created': '2021-01-08 05:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/437bf9f9caeb55479da3e3f1ea7b836c55bb7f90', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 5, 'created': '2021-01-08 06:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1203f689e8fb9e5c8c716389e7a73c46c52b8963', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 6, 'created': '2021-01-08 06:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/09cc9226d4607515f3a28cd470817939a6488c69', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 7, 'created': '2021-02-16 02:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5247508e1ce1a7cd0b10339c2b336591c0704af1', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 8, 'created': '2021-02-24 07:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/fba37bb98ab5fe1979eacfc489bd95bc12fdbdd8', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}, {'number': 9, 'created': '2021-02-26 08:02:18.000000000', 'files': ['releasenotes/notes/configure-multiple-vgpu-types-a60d09dfb5b7be4b.yaml', 'cyborg/conf/devices.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0605fe39fdd319da7a4334c871b17fd1e120b3ae', 'message': 'support configuring multiple vgpu types in cyborg\n\nThis patch defines the group and options for vgpu types configuration.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nChange-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f\nStory: 2008265\nTask: 41326\n'}]",41,764450,0605fe39fdd319da7a4334c871b17fd1e120b3ae,40,6,9,24872,,,0,"support configuring multiple vgpu types in cyborg

This patch defines the group and options for vgpu types configuration.

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Change-Id: Ifbdf7f8fee663ddd28eeef9d7a804d29c0354c5f
Story: 2008265
Task: 41326
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/50/764450/8 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/conf/__init__.py', 'releasenotes/notes/configure-multiple-vgpu-types-a60d09dfb5b7be4b.yaml', 'cyborg/conf/devices.py']",3,6498add78f21e839047349e1f30132e477fcc31b,enable-vgpu-in-cyborg,"# Copyright 2020 ZTE Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg gpu_group = cfg.OptGroup( name='gpu', title='virtual gpu options') vgpu_opts = [ cfg.ListOpt('enabled_vgpu_types', default=[], help="""""" The vGPU types enabled in the compute node. Cyborg support multiple vGPU types in one host. Usually, a singel physical GPU only set one vgpu type. Some pGPUs (e.g. NVIDIA GRID K1) support different vGPU types. If more than one single vGPU type is provided, then for each *vGPU type* an additional section, ``[vgpu_$(VGPU_TYPE)]``, must be added to the configuration file. Each section then **must** be configured with a single configuration option, ``device_addresses``, which should be a list of PCI addresses corresponding to the physical GPU(s) to assign to this type. If one or more sections are missing (meaning that a specific type is not wanted to use for at least one physical GPU) or if no device addresses are provided, then cyborg will only use the first type that was provided by ``[devices]/enabled_vgpu_types``. If the same PCI address is provided for two different types, cyborg-agent will return an InvalidLibvirtGPUConfig exception at restart. An example is as the following:: [devices] enabled_vgpu_types = nvidia-35, nvidia-36 [vgpu_nvidia-35] device_addresses = 0000:84:00.0,0000:85:00.0 [vgpu_nvidia-36] device_addresses = 0000:86:00.0 """""") ] def register_opts(conf): conf.register_group(gpu_group) conf.register_opts(vgpu_opts, group=gpu_group) def register_dynamic_opts(conf): """"""Register dynamically-generated options and groups. This must be called by the service that wishes to use the options **after** the initial configuration has been loaded. """""" opt = cfg.ListOpt('device_addresses', default=[], item_type=cfg.types.String()) # Register the '[vgpu_$(VGPU_TYPE)]/device_addresses' opts, implicitly # registering the '[vgpu_$(VGPU_TYPE)]' groups in the process for vgpu_type in conf.devices.enabled_vgpu_types: conf.register_opt(opt, group='vgpu_%s' % vgpu_type) def list_opts(): return {gpu_group: vgpu_opts} ",,92,0
openstack%2Fmanila~master~I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,openstack/manila,master,I84d80d9165b7542cc0c56e4d41b1e6fb45eab369,WIP: Unified limits PoC,NEW,2021-02-19 18:11:35.000000000,2021-02-27 01:16:04.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32635}]","[{'number': 1, 'created': '2021-02-19 18:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/06926190ef3688a6cd54a371d8e7cc7ad88fe208', 'message': 'WIP: Unified limits PoC\n\nDoes nothing - just testing\n\nChange-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-02-19 20:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7e3eb17601c722f0d1aca32d3e4267011b536545', 'message': 'WIP: Unified limits PoC\n\nDoes nothing - just testing\n\nChange-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-02-25 22:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/87155e559da6c88a564effe173e03205104656aa', 'message': 'WIP: Unified limits PoC\n\nOslo.limti use in Manila\n\nChange-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-02-26 18:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7a92fb8751a55f14b3641f1011547cc1d52e172f', 'message': 'WIP: Unified limits PoC\n\nOslo.limit use in Manila\n\nChange-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2021-02-26 23:26:09.000000000', 'files': ['manila/db/api.py', 'requirements.txt', 'manila/share/api.py', 'manila/db/sqlalchemy/api.py', 'manila/limit/__init__.py', 'lower-constraints.txt', 'manila/opts.py', 'manila/limit/keystone.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/07a5948c98aadcccd2d892d29639405b08808b55', 'message': 'WIP: Unified limits PoC\n\nOslo.limit use in Manila\n\nChange-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",17,776690,07a5948c98aadcccd2d892d29639405b08808b55,29,3,5,16643,,,0,"WIP: Unified limits PoC

Oslo.limit use in Manila

Change-Id: I84d80d9165b7542cc0c56e4d41b1e6fb45eab369
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/776690/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'requirements.txt', 'manila/share/api.py', 'manila/db/sqlalchemy/api.py', 'manila/limit/__init__.py', 'lower-constraints.txt', 'manila/limit/keystone.py']",7,06926190ef3688a6cd54a371d8e7cc7ad88fe208,bp/unified-limits-manila,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from manila import exception from oslo_limit import limit from oslo_log import log from oslo_limit import exception as limit_exceptions LOG = log.getLogger(__name__) class ManilaLimitEnforcer(): def __init__(self, db): self.db = db def enforce_limits(self, context, deltas): def callback(project_id, resources): return self._get_resource_usage_by_project( context, resources, project_id) enforcer = limit.Enforcer(callback) try: # Check a limit for a given project for a set of resources, # resource unit are delta to be consumed enforcer.enforce(context.project_id, deltas) except limit_exceptions.ProjectOverLimit as e: # What to do in case of limit exception, e contain a list of # resource over quota LOG.error(e) raise exception.OverQuota(e) def _get_resource_usage_by_project(self, context, resources, project_id): all_usages = self.db.get_project_quota_usages(context, project_id) resource_usages = {} for resource in resources: resource_usages[resource] = all_usages[resource]['in_use'] return resource_usages ",,66,5
openstack%2Fswift~stable%2Ftrain~I3560d1352fee825c63cd26556caa806f7424c389,openstack/swift,stable/train,I3560d1352fee825c63cd26556caa806f7424c389,Identify deleted shards as shards,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:14:27.000000000,2021-02-27 01:12:18.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e008b5011375f87d14b5d9b114e0c2a7a87a386e', 'message': 'Identify deleted shards as shards\n\nWhen a DB gets deleted, we clear out its metadata. This included sysmeta\nsuch as that used to tell shards the name of their root DB.\n\nPreviously, this would cause deleted shards to pop back to life as roots\nthat claimed to have objects still sitting in whatever container they\nsharnk into.\n\nNow, use the metadata if it\'s available, but when it\'s not, go by the\nstate of the DB\'s ""own shard range"" -- deleted shards should be marked\ndeleted, while roots never are.\n\nThis allows us to actually clean up the database files; you can test\nthis by doing something like\n\n * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`\n * Run `find /srv/*/*/containers -name \'*.db\'` to see how many databases\n   are left on disk. There should be 15: 3 for the root container, 6 for\n   the two shards on the first pass, and another 6 for the two shards on\n   the second pass.\n * Edit container configs to decrease reclaim_age -- even 1 should be\n   fine.\n * Run `swift-init main start` to restart the servers.\n * Run `swift-init container-sharder once` to have the shards get marked\n   deleted.\n * Run `swift-init container-updater once` to ensure all containers have\n   reported.\n * Run `swift-init container-replicator once` to clean up the\n   containers.\n * Run `find /srv/*/*/containers -name \'*.db\'` again to verify no\n   containers remain on disk.\n\nCherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: I3560d1352fee825c63cd26556caa806f7424c389\n'}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/786b8689ace04b0ad52fa011647dc5fd2a877eb5', 'message': 'Identify deleted shards as shards\n\nWhen a DB gets deleted, we clear out its metadata. This included sysmeta\nsuch as that used to tell shards the name of their root DB.\n\nPreviously, this would cause deleted shards to pop back to life as roots\nthat claimed to have objects still sitting in whatever container they\nsharnk into.\n\nNow, use the metadata if it\'s available, but when it\'s not, go by the\nstate of the DB\'s ""own shard range"" -- deleted shards should be marked\ndeleted, while roots never are.\n\nThis allows us to actually clean up the database files; you can test\nthis by doing something like\n\n * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`\n * Run `find /srv/*/*/containers -name \'*.db\'` to see how many databases\n   are left on disk. There should be 15: 3 for the root container, 6 for\n   the two shards on the first pass, and another 6 for the two shards on\n   the second pass.\n * Edit container configs to decrease reclaim_age -- even 1 should be\n   fine.\n * Run `swift-init main start` to restart the servers.\n * Run `swift-init container-sharder once` to have the shards get marked\n   deleted.\n * Run `swift-init container-updater once` to ensure all containers have\n   reported.\n * Run `swift-init container-replicator once` to clean up the\n   containers.\n * Run `find /srv/*/*/containers -name \'*.db\'` again to verify no\n   containers remain on disk.\n\nCherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: I3560d1352fee825c63cd26556caa806f7424c389\n'}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/98da7b0933a2975598844bf40edec4b61714db40', 'message': 'Identify deleted shards as shards\n\nWhen a DB gets deleted, we clear out its metadata. This included sysmeta\nsuch as that used to tell shards the name of their root DB.\n\nPreviously, this would cause deleted shards to pop back to life as roots\nthat claimed to have objects still sitting in whatever container they\nsharnk into.\n\nNow, use the metadata if it\'s available, but when it\'s not, go by the\nstate of the DB\'s ""own shard range"" -- deleted shards should be marked\ndeleted, while roots never are.\n\nThis allows us to actually clean up the database files; you can test\nthis by doing something like\n\n * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`\n * Run `find /srv/*/*/containers -name \'*.db\'` to see how many databases\n   are left on disk. There should be 15: 3 for the root container, 6 for\n   the two shards on the first pass, and another 6 for the two shards on\n   the second pass.\n * Edit container configs to decrease reclaim_age -- even 1 should be\n   fine.\n * Run `swift-init main start` to restart the servers.\n * Run `swift-init container-sharder once` to have the shards get marked\n   deleted.\n * Run `swift-init container-updater once` to ensure all containers have\n   reported.\n * Run `swift-init container-replicator once` to clean up the\n   containers.\n * Run `find /srv/*/*/containers -name \'*.db\'` again to verify no\n   containers remain on disk.\n\nCherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: I3560d1352fee825c63cd26556caa806f7424c389\n'}]",0,774337,98da7b0933a2975598844bf40edec4b61714db40,13,2,3,597,,,0,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I3560d1352fee825c63cd26556caa806f7424c389
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/774337/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,e008b5011375f87d14b5d9b114e0c2a7a87a386e,train-sharding," def _get_root_meta(self): """""" Get the (unquoted) root path, plus the header the info came from. If no info available, returns ``(None, None)`` """""" path = self.get_sharding_sysmeta('Quoted-Root') if path: return 'X-Container-Sysmeta-Shard-Quoted-Root', unquote(path) path = self.get_sharding_sysmeta('Root') if path: return 'X-Container-Sysmeta-Shard-Root', path return None, None hdr, path = self._get_root_meta() _, path = self._get_root_meta() if path is not None: # We have metadata telling us where the root is; it's authoritative return self.path == path # Else, we're either a root or a deleted shard. # Use internal method so we don't try to update stats. own_shard_range = self._own_shard_range(no_default=True) if not own_shard_range: return True # Never been sharded if own_shard_range.deleted: # When shard ranges shrink, they get marked deleted return False else: # But even when a root collapses, empties, and gets deleted, its # own_shard_range is left alive return True", path = self.get_sharding_sysmeta('Quoted-Root') hdr = 'X-Container-Sysmeta-Shard-Quoted-Root' if path: path = unquote(path) else: path = self.get_sharding_sysmeta('Root') hdr = 'X-Container-Sysmeta-Shard-Root' self._populate_instance_cache() return (self.root_account == self.account and self.root_container == self.container),50,10
openstack%2Fswift~stable%2Ftrain~I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,openstack/swift,stable/train,I45fb36602284ca1ec5f6fc73d05c039fd6ca1269,Don't auto-create shard containers,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:13:24.000000000,2021-02-27 01:12:10.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7ce7862a71322f61398e873941436c6f43c97ac', 'message': ""Don't auto-create shard containers\n\n...unless the client requests it specifically using a new flag:\n\n   X-Backend-Auto-Create: true\n\nPreviously, you could get real jittery listings during a rebalance:\n\n * Partition with a shard DB get reassigned, so one primary has no DB.\n * Proxy makes a listing, gets a 404, tries another node. Likely, one of\n   the other shard replicas responds. Things are fine.\n * Update comes in. Since we use the auto_create_account_prefix\n   namespace for shards, container DB gets created and we write the row.\n * Proxy makes another listing. There's a one-in-three chance that we\n   claim there's only one object in that whole range.\n\nNote that unsharded databases would respond to the update with a 404 and\nwait for one of the other primaries (or the old primary that's now a\nhand-off) to rsync a whole DB over, keeping us in the happy state.\n\nNow, if the account is in the shards namespace, 404 the object update if\nwe have no DB. Wait for replication like in the unsharded case.\n\nContinue to be willing to create the DB when the sharder is seeding all\nthe CREATED databases before it starts cleaving, though.\n\nCloses-Bug: #1881210\nCherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb\nChange-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d07c671025ccfc3150296b7744d096f2cf0ccae6', 'message': ""Don't auto-create shard containers\n\n...unless the client requests it specifically using a new flag:\n\n   X-Backend-Auto-Create: true\n\nPreviously, you could get real jittery listings during a rebalance:\n\n * Partition with a shard DB get reassigned, so one primary has no DB.\n * Proxy makes a listing, gets a 404, tries another node. Likely, one of\n   the other shard replicas responds. Things are fine.\n * Update comes in. Since we use the auto_create_account_prefix\n   namespace for shards, container DB gets created and we write the row.\n * Proxy makes another listing. There's a one-in-three chance that we\n   claim there's only one object in that whole range.\n\nNote that unsharded databases would respond to the update with a 404 and\nwait for one of the other primaries (or the old primary that's now a\nhand-off) to rsync a whole DB over, keeping us in the happy state.\n\nNow, if the account is in the shards namespace, 404 the object update if\nwe have no DB. Wait for replication like in the unsharded case.\n\nContinue to be willing to create the DB when the sharder is seeding all\nthe CREATED databases before it starts cleaving, though.\n\nCloses-Bug: #1881210\nCherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb\nChange-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269\n""}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['swift/container/server.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7ee5fc197736106881142b018f7f4d073e50bc60', 'message': ""Don't auto-create shard containers\n\n...unless the client requests it specifically using a new flag:\n\n   X-Backend-Auto-Create: true\n\nPreviously, you could get real jittery listings during a rebalance:\n\n * Partition with a shard DB get reassigned, so one primary has no DB.\n * Proxy makes a listing, gets a 404, tries another node. Likely, one of\n   the other shard replicas responds. Things are fine.\n * Update comes in. Since we use the auto_create_account_prefix\n   namespace for shards, container DB gets created and we write the row.\n * Proxy makes another listing. There's a one-in-three chance that we\n   claim there's only one object in that whole range.\n\nNote that unsharded databases would respond to the update with a 404 and\nwait for one of the other primaries (or the old primary that's now a\nhand-off) to rsync a whole DB over, keeping us in the happy state.\n\nNow, if the account is in the shards namespace, 404 the object update if\nwe have no DB. Wait for replication like in the unsharded case.\n\nContinue to be willing to create the DB when the sharder is seeding all\nthe CREATED databases before it starts cleaving, though.\n\nCloses-Bug: #1881210\nCherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb\nChange-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269\n""}]",1,774335,7ee5fc197736106881142b018f7f4d073e50bc60,14,2,3,597,,,0,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I45fb36602284ca1ec5f6fc73d05c039fd6ca1269
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/774335/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py']",3,a7ce7862a71322f61398e873941436c6f43c97ac,train-sharding," 'X-Container-Sysmeta-Sharding': 'True', 'X-Backend-Auto-Create': 'True'}", 'X-Container-Sysmeta-Sharding': True},93,75
openstack%2Fswift~stable%2Ftrain~Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,openstack/swift,stable/train,Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c,swift-container-info: Show shard ranges summary,MERGED,2021-02-06 02:29:07.000000000,2021-02-27 01:12:14.000000000,2021-02-27 01:12:14.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ef9dd9af19b9cb9e050f644988d2307789e1a74e', 'message': ""swift-container-info: Show shard ranges summary\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.  The new summary with the states is default.  Users can\nadd a -v/--verbose flag to see the old full detail view.\n\nCherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892\nChange-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52270a4a793586a80f5352a7e2502eebcfbb1276', 'message': ""swift-container-info: Show shard ranges summary\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.  The new summary with the states is default.  Users can\nadd a -v/--verbose flag to see the old full detail view.\n\nCherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892\nChange-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c\n""}, {'number': 3, 'created': '2021-02-26 22:41:09.000000000', 'files': ['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info'], 'web_link': 'https://opendev.org/openstack/swift/commit/f8f50ca60efac9690b8cde8640005b8eea7bd2b5', 'message': ""swift-container-info: Show shard ranges summary\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.  The new summary with the states is default.  Users can\nadd a -v/--verbose flag to see the old full detail view.\n\nCherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892\nChange-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c\n""}]",0,774336,f8f50ca60efac9690b8cde8640005b8eea7bd2b5,11,2,3,597,,,0,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: Id86f09e20dd2460a3f0baf1aeaf9dd482152a43c
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/774336/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info']",3,ef9dd9af19b9cb9e050f644988d2307789e1a74e,train-sharding," parser.add_option( '-v', '--verbose', default=False, action=""store_true"", help=""Show all shard ranges. By default, only the number of shard "" ""ranges is displayed if there are many shards."")",,116,22
openstack%2Fironic~master~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,master,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-02-26 14:29:49.000000000,2021-02-27 01:00:57.000000000,2021-02-27 00:59:13.000000000,"[{'_account_id': 6618}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 14:29:49.000000000', 'files': ['ironic/tests/unit/conductor/test_task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4', 'message': '[Trivial] Fix testing of volume connector exception\n\nRestore test symmetry.\n\nChange-Id: I54a9fed73e366a30545c3cd1982588d2f544d228\n'}]",0,777757,61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4,11,3,1,11292,,,0,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/777757/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_task_manager.py'],1,61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4,test_task_manager, self.assertFalse(build_driver_mock.called), self.assertFalse(get_voltgt_mock.called),1,1
openstack%2Fironic-lib~master~Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,openstack/ironic-lib,master,Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8,Remove default parameter from execute,MERGED,2021-02-25 10:22:40.000000000,2021-02-27 01:00:36.000000000,2021-02-27 00:59:09.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 10:22:40.000000000', 'files': ['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/disk_partitioner.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e7a35e41f19645304fb4ebc0fa4bcb99d6a602a3', 'message': 'Remove default parameter from execute\n\nThe param check_exit_code from the processutils extension execute has\ndefault already at [0]\nSee:\nhttps://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214\n\nChange-Id: Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8\n'}]",0,777560,e7a35e41f19645304fb4ebc0fa4bcb99d6a602a3,8,3,1,23851,,,0,"Remove default parameter from execute

The param check_exit_code from the processutils extension execute has
default already at [0]
See:
https://opendev.org/openstack/oslo.concurrency/src/branch/master/oslo_concurrency/processutils.py#L214

Change-Id: Ia0f42bf3de9c074a1212859352b5c5e1abe7eed8
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/60/777560/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/utils.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py', 'ironic_lib/disk_partitioner.py']",4,e7a35e41f19645304fb4ebc0fa4bcb99d6a602a3,default-processutils," '--', 'unit', 'MiB', *args, use_standard_locale=True, run_as_root=True)"," '--', 'unit', 'MiB', *args, check_exit_code=[0], use_standard_locale=True, run_as_root=True)",15,23
openstack%2Fcharm-deployment-guide~master~Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,openstack/charm-deployment-guide,master,Ifadc6ebf2dfbb30b8d704a802fa826725c104b75,Correct env section on configure page,MERGED,2021-02-25 20:21:28.000000000,2021-02-27 00:49:04.000000000,2021-02-27 00:47:54.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 20:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0e5ea46087e2ac104e7b0e1f3b076b9fb8c0afe7', 'message': 'Correct env section on configure page\n\n* Correct how to establish control of the cloud.\n  Use files in openstack-bundles repository.\n\n* Make protocoal (HTTPS) and IP addresses consistent.\n\nCloses-Bug: #1916067\n\nChange-Id: Ifadc6ebf2dfbb30b8d704a802fa826725c104b75\n'}, {'number': 2, 'created': '2021-02-27 00:23:29.000000000', 'files': ['deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/configure-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/02fb5eb7c50f326e23387b8c205a575368b23689', 'message': 'Correct env section on configure page\n\n* Correct how to establish control of the cloud.\n  Use files in openstack-bundles repository.\n\n* Make protocoal (HTTPS) and IP addresses consistent.\n\nCloses-Bug: #1916067\n\nChange-Id: Ifadc6ebf2dfbb30b8d704a802fa826725c104b75\n'}]",1,777666,02fb5eb7c50f326e23387b8c205a575368b23689,10,2,2,30561,,,0,"Correct env section on configure page

* Correct how to establish control of the cloud.
  Use files in openstack-bundles repository.

* Make protocoal (HTTPS) and IP addresses consistent.

Closes-Bug: #1916067

Change-Id: Ifadc6ebf2dfbb30b8d704a802fa826725c104b75
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/66/777666/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/configure-openstack.rst']",2,0e5ea46087e2ac104e7b0e1f3b076b9fb8c0afe7,bug/1916067,To gain control of the cloud the Keystone administrator password and the root CA certificate are needed. This information can be most easily obtained by using files created and maintained for this purpose. They can be found in the `openstack-bundles`_ repository. Download the repository and source the ``openrc`` file: git clone https://github.com/openstack-charmers/openstack-bundles ~/openstack-bundles source ~/openstack-bundles/stable/openstack-base/openrc Sourcing the file will also set up the admin user environment. Verify this: .. code-block:: none env | grep OS_ Sample output: .. code-block:: console OS_REGION_NAME=RegionOne OS_AUTH_VERSION=3 OS_CACERT=/home/ubuntu/snap/openstackclients/common/root-ca.crt OS_AUTH_URL=https://10.0.0.29:5000/v3 OS_PROJECT_DOMAIN_NAME=admin_domain OS_AUTH_PROTOCOL=https OS_USERNAME=admin OS_AUTH_TYPE=password OS_USER_DOMAIN_NAME=admin_domain OS_PROJECT_NAME=admin OS_PASSWORD=kohy6shoh3diWav5 OS_IDENTITY_API_VERSION=3 The value for ``OS_USERNAME`` should be **admin**. +----------------------------------+-----------+--------------+--------------+---------+-----------+-----------------------------------------+ | ID | Region | Service Name | Service Type | Enabled | Interface | URL | +----------------------------------+-----------+--------------+--------------+---------+-----------+-----------------------------------------+ | 0515d09c36dd4fd991a1b2aa448eb3cb | RegionOne | neutron | network | True | admin | https://10.0.0.7:9696 | | 0abda66d8c414faea7e7485ea6e8ff80 | RegionOne | glance | image | True | admin | https://10.0.0.20:9292 | | 46599b147a2e4ff79513d8a4c6a37a83 | RegionOne | cinderv2 | volumev2 | True | admin | https://10.0.0.24:8776/v2/$(tenant_id)s | | c046918276db46a7b9e0106d5102927f | RegionOne | cinderv3 | volumev3 | True | admin | https://10.0.0.24:8776/v3/$(tenant_id)s | | c2a70ec99ec6417988e57f093ff4888d | RegionOne | keystone | identity | True | admin | https://10.0.0.29:35357/v3 | | c79512b6f9774bb59f23b5b687ac286d | RegionOne | placement | placement | True | admin | https://10.0.0.11:8778 | | e8fbd499be904832b8ffa55fcb9c6efb | RegionOne | nova | compute | True | admin | https://10.0.0.10:8774/v2.1 | +----------------------------------+-----------+--------------+--------------+---------+-----------+-----------------------------------------+**https://10.0.0.29:5000/v3**. export OS_AUTH_URL=https://10.0.0.29:5000/v3.. _openstack-bundles: https://github.com/openstack-charmers/openstack-bundles,"Somehow we need to gain administrative control of OpenStack, the key piece of which is the Keystone administrator password. This is achieved using our default Juju administrative powers. Typically a script is used to generate this OpenStack admin environment. Let this script be placed in a file called ``openrc`` whose contents is: .. code-block:: bash OS_PARAMS=$(env | awk 'BEGIN {FS=""=""} /^OS_/ {print $1;}' | paste -sd ' ') for param in $_OS_PARAMS; do if [ ""$param"" = ""OS_AUTH_PROTOCOL"" ]; then continue; fi if [ ""$param"" = ""OS_CACERT"" ]; then continue; fi unset $param done unset _OS_PARAMS _keystone_ip=$(juju run $_juju_model_arg --unit keystone/leader 'unit-get private-address') _password=$(juju run $_juju_model_arg --unit keystone/leader 'leader-get admin_passwd') export OS_AUTH_URL=${OS_AUTH_PROTOCOL:-http}://${_keystone_ip}:5000/v3 export OS_USERNAME=admin export OS_PASSWORD=${_password} export OS_USER_DOMAIN_NAME=admin_domain export OS_PROJECT_DOMAIN_NAME=admin_domain export OS_PROJECT_NAME=admin export OS_REGION_NAME=RegionOne export OS_IDENTITY_API_VERSION=3 # Swift needs this: export OS_AUTH_VERSION=3 # Gnocchi needs this export OS_AUTH_TYPE=password Note that the origin of this file is the `openstack-bundles`_ repository. Source the file to become the admin user: source openrc echo $OS_USERNAME The output for the last command should be **admin**. +----------------------------------+-----------+--------------+--------------+---------+-----------+----------------------------------------+ | ID | Region | Service Name | Service Type | Enabled | Interface | URL | +----------------------------------+-----------+--------------+--------------+---------+-----------+----------------------------------------+ | 0515d09c36dd4fd991a1b2aa448eb3cb | RegionOne | neutron | network | True | admin | http://10.0.0.7:9696 | | 0abda66d8c414faea7e7485ea6e8ff80 | RegionOne | glance | image | True | admin | http://10.0.0.20:9292 | | 46599b147a2e4ff79513d8a4c6a37a83 | RegionOne | cinderv2 | volumev2 | True | admin | http://10.0.0.24:8776/v2/$(tenant_id)s | | c046918276db46a7b9e0106d5102927f | RegionOne | cinderv3 | volumev3 | True | admin | http://10.0.0.24:8776/v3/$(tenant_id)s | | c2a70ec99ec6417988e57f093ff4888d | RegionOne | keystone | identity | True | admin | http://10.0.0.29:35357/v3 | | c79512b6f9774bb59f23b5b687ac286d | RegionOne | placement | placement | True | admin | http://10.0.0.11:8778 | | e8fbd499be904832b8ffa55fcb9c6efb | RegionOne | nova | compute | True | admin | http://10.0.0.10:8774/v2.1 | +----------------------------------+-----------+--------------+--------------+---------+-----------+----------------------------------------+**http://10.0.0.23:5000/v3**. export OS_AUTH_URL=http://10.0.0.23:5000/v3.. _openstack-bundles: https://github.com/openstack-charmers/openstack-bundles/blob/master/stable/shared/openrcv3_project",48,54
openstack%2Fkayobe~master~I6bc8da2b8da903e09b97df8cd95c68a562c11db9,openstack/kayobe,master,I6bc8da2b8da903e09b97df8cd95c68a562c11db9,CI: Fix overcloud and seed VM jobs on vexxhost clouds,MERGED,2021-02-26 11:12:33.000000000,2021-02-27 00:48:38.000000000,2021-02-27 00:47:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 11:12:33.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-base/pre.yml', 'dev/tenks-deploy-config-compute.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9d9afcfba09ef73c6663a38fb60b703caeb56c7', 'message': ""CI: Fix overcloud and seed VM jobs on vexxhost clouds\n\nThis partially reverts commit 47bbb96b29ab30764d6220cdd43e63a1d2072533\nwhich triggered a retry on vexxhost clouds.\n\nThe issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,\nwhich applied some fixes for CentOS 8.3, and inadvertently removed\nthe Tenks variable that forces the use of qemu for 'bare metal' VMs.\nThis lead to autodetection of KVM, which does not work well when nested\nin all CI cloud providers.\n\nThis change fixes the issue by forcing the use of qemu for the overcloud\nonce more. It also adds a similar option for the seed VM job.\n\nChange-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9\n""}]",0,777741,f9d9afcfba09ef73c6663a38fb60b703caeb56c7,12,2,1,14826,,,0,"CI: Fix overcloud and seed VM jobs on vexxhost clouds

This partially reverts commit 47bbb96b29ab30764d6220cdd43e63a1d2072533
which triggered a retry on vexxhost clouds.

The issue was introduced in Ie8fd965165e8d347d27528a2c16d0647e412ccdc,
which applied some fixes for CentOS 8.3, and inadvertently removed
the Tenks variable that forces the use of qemu for 'bare metal' VMs.
This lead to autodetection of KVM, which does not work well when nested
in all CI cloud providers.

This change fixes the issue by forcing the use of qemu for the overcloud
once more. It also adds a similar option for the seed VM job.

Change-Id: I6bc8da2b8da903e09b97df8cd95c68a562c11db9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/777741/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'dev/tenks-deploy-config-compute.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml']",5,f9d9afcfba09ef73c6663a38fb60b703caeb56c7,,," # FIXME(mgoddard): work out what's going wrong here. - name: Fail if running on Vexxhost infra fail: msg: Baremetal tests fail on vexxhost - roll the dice again when: ""'vexxhost' in ansible_hostname"" ",8,18
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/train,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 16:01:03.000000000,2021-02-26 23:53:56.000000000,2021-02-26 23:53:56.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 16:01:03.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/badc6bc1ed0035c28a5030b19727bb39622fa6cd', 'message': 'Fix redis_tls_proxy\n\nSince we merged the pcs-host patches we erroneously also removed\nthe sidecar container that does the tls stunneling for redis.\nThis is needed to allow the redis master stream the deplications to\nits slaves via TLS.\n\nTested this and we now correctly get the working container and cluster\nstate:\n[root@controller-0 ~]# podman ps -a |grep redis\n4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0\n604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy\n[root@controller-0 ~]# pcs status |grep redis\n  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]\n  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:\n    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0\n    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1\n    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2\n\nWe also move the redis_tls_proxy from step_2/start_order: 3 to step_1\nsince it actually makes sense to have it run before we start the\nredis pcmk bundle at step 2 (i.e. so the slave replica can work right\naway from the start).\n\nCloses-Bug: #1916873\n\nChange-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab\n'}]",0,777549,badc6bc1ed0035c28a5030b19727bb39622fa6cd,15,4,1,20172,,,0,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/777549/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,badc6bc1ed0035c28a5030b19727bb39622fa6cd,fix-redis-tls-stable/victoria-stable/ussuri-stable/train," docker_config: step_1: if: - internal_tls_enabled - redis_tls_proxy: start_order: 0 image: {get_param: ContainerRedisImage} net: host user: root restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis_tls_proxy.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/private/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key:ro - /var/lib/container-config-scripts/wait-port-and-run.sh:/wait-port-and-run.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {}",,22,0
openstack%2Fswift~stable%2Fussuri~I324916f8207e1346806951b600105cccfd8c62f7,openstack/swift,stable/ussuri,I324916f8207e1346806951b600105cccfd8c62f7,Address a sharder/replicator race,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:50:40.000000000,2021-02-26 23:49:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/94346b1345b28fa1809bc0def34f821ab13ea0e4', 'message': ""Address a sharder/replicator race\n\nIn the previous patch, we could clean up all container DBs, but only if\nthe daemons went in a specific order (which cannot be guaranteed in a\nproduction system).\n\nOnce a reclaim age passes, there's a race: If the container-replicator\nprocesses the root container before the container-sharder processes the\nshards, the deleted shards would get reaped from the root so they won't\nbe available for the sharder. The shard containers then hang around\nindefinitely.\n\nNow, be willing to mark shard DBs as deleted even when we can't find our\nown shard range in the root. Fortunately, the shard already knows that\nits range has been deleted; we don't need to get that info from the root.\n\nCherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c\nRelated-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: I324916f8207e1346806951b600105cccfd8c62f7\n""}]",0,777284,94346b1345b28fa1809bc0def34f821ab13ea0e4,10,2,1,597,,,0,"Address a sharder/replicator race

In the previous patch, we could clean up all container DBs, but only if
the daemons went in a specific order (which cannot be guaranteed in a
production system).

Once a reclaim age passes, there's a race: If the container-replicator
processes the root container before the container-sharder processes the
shards, the deleted shards would get reaped from the root so they won't
be available for the sharder. The shard containers then hang around
indefinitely.

Now, be willing to mark shard DBs as deleted even when we can't find our
own shard range in the root. Fortunately, the shard already knows that
its range has been deleted; we don't need to get that info from the root.

Cherry-Picked-From: If08bccf753490157f27c95b4038f3dd33d3d7f8c
Related-Change: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I324916f8207e1346806951b600105cccfd8c62f7
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/777284/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,94346b1345b28fa1809bc0def34f821ab13ea0e4,ussuri-sharding," elif not own_shard_range.deleted: # else, our shard range is deleted, so root may have reclaimed it delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path)) "," else: delete_age = time.time() - self.reclaim_age if (own_shard_range.state == ShardRange.SHARDED and own_shard_range.deleted and own_shard_range.timestamp < delete_age and broker.empty()): broker.delete_db(Timestamp.now().internal) self.logger.debug('Deleted shard container %s (%s)', broker.db_file, quote(broker.path))",13,9
openstack%2Fswift~stable%2Ftrain~If2346d1079b656290ad698d6e4ce276fbd9a5841,openstack/swift,stable/train,If2346d1079b656290ad698d6e4ce276fbd9a5841,Latch shard-stat reporting,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:40:42.000000000,2021-02-26 23:35:00.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/18e62cfc388b39d5b9df145584a502d4593b67d8', 'message': ""Latch shard-stat reporting\n\nThe idea is, if none of\n\n  - timestamp,\n  - object_count,\n  - bytes_used,\n  - state, or\n  - epoch\n\nhas changed, we shouldn't need to send an update back to the root\ncontainer.\n\nThis is more-or-less comparable to what the container-updater does to\navoid unnecessary writes to the account.\n\nCloses-Bug: #1834097\nCherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af\nChange-Id: If2346d1079b656290ad698d6e4ce276fbd9a5841\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7ed79e3b24f2f0af031c41cc96d01b1c9ebbf02a', 'message': ""Latch shard-stat reporting\n\nThe idea is, if none of\n\n  - timestamp,\n  - object_count,\n  - bytes_used,\n  - state, or\n  - epoch\n\nhas changed, we shouldn't need to send an update back to the root\ncontainer.\n\nThis is more-or-less comparable to what the container-updater does to\navoid unnecessary writes to the account.\n\nCloses-Bug: #1834097\nCherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af\nChange-Id: If2346d1079b656290ad698d6e4ce276fbd9a5841\n""}]",0,774334,7ed79e3b24f2f0af031c41cc96d01b1c9ebbf02a,9,2,2,597,,,0,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: If2346d1079b656290ad698d6e4ce276fbd9a5841
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/774334/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",7,18e62cfc388b39d5b9df145584a502d4593b67d8,train-sharding," state_timestamp=ts_1.internal, epoch=None, reported=0) state_timestamp=ts_3.internal, epoch=ts_4, reported=0) 'state_timestamp': ts_3.internal, 'epoch': ts_4, 'reported': 0}) good_reported = good_run.copy() good_reported['reported'] = 1 assert_initialisation_ok(good_reported, dict(expect, reported=1)) 'epoch': ts_4, 'reported': 0} if key == 'reported': # This was added after the fact, and we need to be able to eat # data from old servers utils.ShardRange.from_dict(bad_dict) utils.ShardRange(**bad_dict) continue # The rest were present from the beginning"," state_timestamp=ts_1.internal, epoch=None) state_timestamp=ts_3.internal, epoch=ts_4) 'state_timestamp': ts_3.internal, 'epoch': ts_4}) 'epoch': ts_4}",284,39
openstack%2Fneutron~master~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,master,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-18 11:56:51.000000000,2021-02-26 23:39:25.000000000,2021-02-26 23:34:29.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-18 11:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8bf63d44f979a2e6cc3cf3cfb5674056306dcf8', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nBut as since patch [1] such initial status is checked by\nneutron_keepalived_state_change_monitor process so there is no need\nto do it by RouterInfo class too.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}, {'number': 2, 'created': '2021-02-19 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2be4e45d6a619d0b4099632fd08a16ea0da714bb', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primare\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}, {'number': 3, 'created': '2021-02-19 14:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4ea8e0df047f0ab7860c8d8e03ac5c2934ce1ed', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primare\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}, {'number': 4, 'created': '2021-02-22 08:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d08689ecd52bb947de4267d3f5dc250433ab09e1', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primare\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}, {'number': 5, 'created': '2021-02-22 14:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0efd33146d36ddb3289bf144d48228f63062cb8e', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primare\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}, {'number': 6, 'created': '2021-02-23 14:58:35.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d8ae1576724b196580c9af3782fd3c9e9072bef', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n'}]",4,776423,0d8ae1576724b196580c9af3782fd3c9e9072bef,52,8,6,11975,,,0,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/776423/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",2,f8bf63d44f979a2e6cc3cf3cfb5674056306dcf8,bug/1916022,, ri.update_initial_state = mock.Mock() ri.update_initial_state = mock.Mock(),0,12
openstack%2Fswift~stable%2Fussuri~I7b7be3b62e033ab668316e3c698ba667ceef31f8,openstack/swift,stable/ussuri,I7b7be3b62e033ab668316e3c698ba667ceef31f8,Identify deleted shards as shards,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 23:39:06.000000000,2021-02-26 23:35:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eef68d69c586f9231a20b24d973893b154353290', 'message': 'Identify deleted shards as shards\n\nWhen a DB gets deleted, we clear out its metadata. This included sysmeta\nsuch as that used to tell shards the name of their root DB.\n\nPreviously, this would cause deleted shards to pop back to life as roots\nthat claimed to have objects still sitting in whatever container they\nsharnk into.\n\nNow, use the metadata if it\'s available, but when it\'s not, go by the\nstate of the DB\'s ""own shard range"" -- deleted shards should be marked\ndeleted, while roots never are.\n\nThis allows us to actually clean up the database files; you can test\nthis by doing something like\n\n * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`\n * Run `find /srv/*/*/containers -name \'*.db\'` to see how many databases\n   are left on disk. There should be 15: 3 for the root container, 6 for\n   the two shards on the first pass, and another 6 for the two shards on\n   the second pass.\n * Edit container configs to decrease reclaim_age -- even 1 should be\n   fine.\n * Run `swift-init main start` to restart the servers.\n * Run `swift-init container-sharder once` to have the shards get marked\n   deleted.\n * Run `swift-init container-updater once` to ensure all containers have\n   reported.\n * Run `swift-init container-replicator once` to clean up the\n   containers.\n * Run `find /srv/*/*/containers -name \'*.db\'` again to verify no\n   containers remain on disk.\n\nCherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b\nChange-Id: I7b7be3b62e033ab668316e3c698ba667ceef31f8\n'}]",0,777283,eef68d69c586f9231a20b24d973893b154353290,8,2,1,597,,,0,"Identify deleted shards as shards

When a DB gets deleted, we clear out its metadata. This included sysmeta
such as that used to tell shards the name of their root DB.

Previously, this would cause deleted shards to pop back to life as roots
that claimed to have objects still sitting in whatever container they
sharnk into.

Now, use the metadata if it's available, but when it's not, go by the
state of the DB's ""own shard range"" -- deleted shards should be marked
deleted, while roots never are.

This allows us to actually clean up the database files; you can test
this by doing something like

 * Run `nosetests test/probe/test_sharder.py:TestContainerSharding.test_shrinking`
 * Run `find /srv/*/*/containers -name '*.db'` to see how many databases
   are left on disk. There should be 15: 3 for the root container, 6 for
   the two shards on the first pass, and another 6 for the two shards on
   the second pass.
 * Edit container configs to decrease reclaim_age -- even 1 should be
   fine.
 * Run `swift-init main start` to restart the servers.
 * Run `swift-init container-sharder once` to have the shards get marked
   deleted.
 * Run `swift-init container-updater once` to ensure all containers have
   reported.
 * Run `swift-init container-replicator once` to clean up the
   containers.
 * Run `find /srv/*/*/containers -name '*.db'` again to verify no
   containers remain on disk.

Cherry-Picked-From: Icba98f1c9e17e8ade3f0e1b9a23360cf5ab8c86b
Change-Id: I7b7be3b62e033ab668316e3c698ba667ceef31f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/777283/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,eef68d69c586f9231a20b24d973893b154353290,ussuri-sharding," def _get_root_meta(self): """""" Get the (unquoted) root path, plus the header the info came from. If no info available, returns ``(None, None)`` """""" path = self.get_sharding_sysmeta('Quoted-Root') if path: return 'X-Container-Sysmeta-Shard-Quoted-Root', unquote(path) path = self.get_sharding_sysmeta('Root') if path: return 'X-Container-Sysmeta-Shard-Root', path return None, None hdr, path = self._get_root_meta() _, path = self._get_root_meta() if path is not None: # We have metadata telling us where the root is; it's authoritative return self.path == path # Else, we're either a root or a deleted shard. # Use internal method so we don't try to update stats. own_shard_range = self._own_shard_range(no_default=True) if not own_shard_range: return True # Never been sharded if own_shard_range.deleted: # When shard ranges shrink, they get marked deleted return False else: # But even when a root collapses, empties, and gets deleted, its # own_shard_range is left alive return True", path = self.get_sharding_sysmeta('Quoted-Root') hdr = 'X-Container-Sysmeta-Shard-Quoted-Root' if path: path = unquote(path) else: path = self.get_sharding_sysmeta('Root') hdr = 'X-Container-Sysmeta-Shard-Root' self._populate_instance_cache() return (self.root_account == self.account and self.root_container == self.container),50,10
openstack%2Fswift~stable%2Ftrain~Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,openstack/swift,stable/train,Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:39:04.000000000,2021-02-26 23:34:39.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a4eb662458e6532379b83fc2da8f319971b91c7', 'message': 'sharding: Add probe test that exercises swift-manage-shard-ranges\n\nCherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab\nChange-Id: Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f\n'}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f96f2411745ed4b50c28fe35d97550368cf265de', 'message': 'sharding: Add probe test that exercises swift-manage-shard-ranges\n\nCherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab\nChange-Id: Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f\n'}]",0,774332,f96f2411745ed4b50c28fe35d97550368cf265de,9,2,2,597,,,0,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: Ie5bee7eb7d219a6c8cec5fc1c9367793cecc7f4f
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/774332/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,0a4eb662458e6532379b83fc2da8f319971b91c7,train-sharding,"import subprocess def get_db_file(self, part, node, account=None, container=None): return db_file def get_broker(self, part, node, account=None, container=None): return ContainerBroker( self.get_db_file(part, node, account, container)) class TestManagedContainerSharding(BaseTestContainerSharding): '''Test sharding using swift-manage-shard-ranges''' def test_manage_shard_ranges(self): obj_names = self._make_object_names(4) self.put_objects(obj_names) client.post_container(self.url, self.admin_token, self.container_name, headers={'X-Container-Sharding': 'on'}) # run replicators first time to get sync points set self.replicators.once() # sanity check: we don't have nearly enough objects for this to shard # automatically self.sharders.once(number=self.brain.node_numbers[0], additional_args='--partitions=%s' % self.brain.part) self.assert_container_state(self.brain.nodes[0], 'unsharded', 0) subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[0]), 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[0], 'unsharded', 2) # ""Run container-replicator to replicate them to other nodes."" self.replicators.once() # ""Run container-sharder on all nodes to shard the container."" self.sharders.once(additional_args='--partitions=%s' % self.brain.part) # Everybody's settled self.assert_container_state(self.brain.nodes[0], 'sharded', 2) self.assert_container_state(self.brain.nodes[1], 'sharded', 2) self.assert_container_state(self.brain.nodes[2], 'sharded', 2) self.assert_container_listing(obj_names) def test_manage_shard_ranges_used_poorly(self): obj_names = self._make_object_names(8) self.put_objects(obj_names) client.post_container(self.url, self.admin_token, self.container_name, headers={'X-Container-Sharding': 'on'}) # run replicators first time to get sync points set self.replicators.once() subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[0]), 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[0], 'unsharded', 4) # *Also* go find shard ranges on *another node*, like a dumb-dumb subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[1]), 'find_and_replace', '3', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[1], 'unsharded', 3) # Run things out of order (they were likely running as daemons anyway) self.sharders.once(number=self.brain.node_numbers[0], additional_args='--partitions=%s' % self.brain.part) self.sharders.once(number=self.brain.node_numbers[1], additional_args='--partitions=%s' % self.brain.part) self.replicators.once() # Uh-oh self.assert_container_state(self.brain.nodes[0], 'sharding', 7) self.assert_container_state(self.brain.nodes[1], 'sharding', 7) # There's a race: the third replica may be sharding, may be unsharded # Try it again a few times self.sharders.once(additional_args='--partitions=%s' % self.brain.part) self.replicators.once() self.sharders.once(additional_args='--partitions=%s' % self.brain.part) # It's not really fixing itself... self.assert_container_state(self.brain.nodes[0], 'sharding', 7) self.assert_container_state(self.brain.nodes[1], 'sharding', 7) # But hey, at least listings still work! They're just going to get # horribly out of date as more objects are added self.assert_container_listing(obj_names)"," def get_broker(self, part, node, account=None, container=None): return ContainerBroker(db_file)",91,2
openstack%2Fcinder~master~I10afd1fb781f8f3c933a2783723215654da31e00,openstack/cinder,master,I10afd1fb781f8f3c933a2783723215654da31e00,Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware),MERGED,2020-07-17 06:16:40.000000000,2021-02-26 23:37:24.000000000,2021-02-19 22:16:32.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29217}, {'_account_id': 29705}, {'_account_id': 31940}, {'_account_id': 31981}]","[{'number': 1, 'created': '2020-07-17 06:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9464010ee5e6e8e085b69d41c8af36f36ba6296c', 'message': 'Due to Fusionstorage rename to OceanStor 100D, there is a necessary to support\n OceanStor 100D with Fusionstorage Cinder Driver.(dsware)\n\nChange-Id: I10afd1fb781f8f3c933a2783723215654da31e00\n'}, {'number': 2, 'created': '2020-07-17 06:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a95b7f092dd77931fa4acb2f7bde0e3e5452c1f', 'message': 'Due to Fusionstorage rename to OceanStor 100D, there is a necessary to support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)\n\nChange-Id: I10afd1fb781f8f3c933a2783723215654da31e00\n'}, {'number': 3, 'created': '2020-07-17 06:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec004ba571c9b4b1dad4d6736e67d1bb19105359', 'message': 'Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware)\n\nDue to Fusionstorage rename to OceanStor 100D, there is a necessary\nto support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)\n\nChange-Id: I10afd1fb781f8f3c933a2783723215654da31e00\n'}, {'number': 4, 'created': '2021-02-19 15:25:16.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/Fusionstorage_Cinder_Driver_Support_OceanStor_100D-d21a300fd27b2440.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40d93a61187de417af1d7fd761723bb91e2333bc', 'message': 'Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware)\n\nDue to Fusionstorage rename to OceanStor 100D, there is a necessary\nto support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)\n\nChange-Id: I10afd1fb781f8f3c933a2783723215654da31e00\n'}]",2,741579,40d93a61187de417af1d7fd761723bb91e2333bc,84,29,4,29217,,,0,"Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware)

Due to Fusionstorage rename to OceanStor 100D, there is a necessary
to support OceanStor 100D with Fusionstorage Cinder Driver.(dsware)

Change-Id: I10afd1fb781f8f3c933a2783723215654da31e00
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/741579/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/Fusionstorage_Cinder_Driver_Support_OceanStor_100D-d21a300fd27b2440.yaml']",2,9464010ee5e6e8e085b69d41c8af36f36ba6296c,,--- features: - | Fusionstorage Cinder Driver Support OceanStor 100D Storage.(dsware) ,,5,1
openstack%2Fswift~stable%2Ftrain~Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,openstack/swift,stable/train,Icfffb3e7f53161a2641e8fd5be55b045d0c3de02,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-06 02:29:07.000000000,2021-02-26 23:34:56.000000000,2021-02-26 23:34:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-06 02:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/07030faae327687554df878368c721cf17ea34b4', 'message': ""py27: Suppress UnicodeWarnings in ShardRange setters\n\nPreviously, we'd see warnings like\n\n   UnicodeWarning: Unicode equal comparison failed to convert both\n   arguments to Unicode - interpreting them as being unequal\n\nwhen setting lower/upper bounds with non-ascii byte strings.\n\nCherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1\nChange-Id: Icfffb3e7f53161a2641e8fd5be55b045d0c3de02\n""}, {'number': 2, 'created': '2021-02-25 02:02:32.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7159cb73dce8eb7de95d0bfbb6d30a3a1740c937', 'message': ""py27: Suppress UnicodeWarnings in ShardRange setters\n\nPreviously, we'd see warnings like\n\n   UnicodeWarning: Unicode equal comparison failed to convert both\n   arguments to Unicode - interpreting them as being unequal\n\nwhen setting lower/upper bounds with non-ascii byte strings.\n\nCherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1\nChange-Id: Icfffb3e7f53161a2641e8fd5be55b045d0c3de02\n""}]",0,774333,7159cb73dce8eb7de95d0bfbb6d30a3a1740c937,8,2,2,597,,,0,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: Icfffb3e7f53161a2641e8fd5be55b045d0c3de02
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/774333/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,07030faae327687554df878368c721cf17ea34b4,train-sharding,"import warnings with warnings.catch_warnings(record=True) as captured_warnings: do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) self.assertFalse(captured_warnings) with warnings.catch_warnings(record=True) as captured_warnings: do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) self.assertFalse(captured_warnings)"," do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected)",18,8
openstack%2Fironic~master~I57bab93adaf7e562c4c46febd612e1f27ea50bfa,openstack/ironic,master,I57bab93adaf7e562c4c46febd612e1f27ea50bfa,RBAC System Scope: observer -> reader,MERGED,2021-01-25 22:56:52.000000000,2021-02-26 23:18:26.000000000,2021-02-26 23:15:24.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-25 22:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f35349a25bb5680b7dc2f3785b9e76bc097a649', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}, {'number': 2, 'created': '2021-02-03 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4218bd324b7044e6d67e4d48b93b7ce011dc4e87', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}, {'number': 3, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f34c8c1a6790e5de9fe4ee76c3a376d238b0e2cc', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}, {'number': 4, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f505100a2326e79e5e11b8f6dbebde84895cab5e', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}, {'number': 5, 'created': '2021-02-22 14:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4d3893aec153dfc9dc13e502a76cb4993775afe', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}, {'number': 6, 'created': '2021-02-23 20:01:17.000000000', 'files': ['ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/eabb72b6bc3e23f649b03a89a50e52e479f6e2d5', 'message': 'RBAC System Scope: observer -> reader\n\nOne of the default role names in the RBAC model with system and\nproject scopes is reader. Reader replaces observer, and while this\nwas not done earlier to the tests in system scope was because it is\nbetter to evolve the tests being able to run individual groups with\nthe same name as opposed to different names.\n\nChange-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa\n'}]",0,772450,eabb72b6bc3e23f649b03a89a50e52e479f6e2d5,30,4,6,11655,,,0,"RBAC System Scope: observer -> reader

One of the default role names in the RBAC model with system and
project scopes is reader. Reader replaces observer, and while this
was not done earlier to the tests in system scope was because it is
better to evolve the tests being able to run individual groups with
the same name as opposed to different names.

Change-Id: I57bab93adaf7e562c4c46febd612e1f27ea50bfa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/772450/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/test_rbac_system_scoped.yaml'],1,5f35349a25bb5680b7dc2f3785b9e76bc097a649,secure-rbac," # Project Scoped Reader Token reader_headers: &reader_headers X-Auth-Token: 'baremetal-reader-token' # TODO(TheJulia): reader shouldn't require member in the # future universe, seems counter to the intent unless readernodes_post_reader: headers: *reader_headersnodes_get_node_reader: headers: *reader_headersnodes_detail_get_reader: headers: *reader_headersnodes_node_ident_get_reader: headers: *reader_headersnodes_node_ident_patch_reader: headers: *reader_headersnodes_node_ident_delete_reader: headers: *reader_headersnodes_validate_get_reader: headers: *reader_headersnodes_maintenance_put_reader: headers: *reader_headersnodes_maintenance_delete_reader: headers: *reader_headersnodes_management_boot_device_put_reader: headers: *reader_headersnodes_management_boot_device_get_reader: headers: *reader_headersnodes_management_boot_device_supported_get_reader: headers: *reader_headersnodes_management_inject_nmi_put_reader: headers: *reader_headersnodes_states_get_reader: headers: *reader_headersnodes_states_power_put_reader: headers: *reader_headersnodes_states_provision_put_reader: headers: *reader_headersnodes_states_raid_put_reader: headers: *reader_headers headers: *reader_headersnodes_states_console_put_reader: headers: *reader_headersnodes_vendor_passthru_methods_get_reader: headers: *reader_headersnodes_vendor_passthru_get_reader: headers: *reader_headersnodes_vendor_passthru_post_reader: headers: *reader_headersnodes_vendor_passthru_put_reader: headers: *reader_headersnodes_vendor_passthru_delete_reader: headers: *reader_headersnodes_traits_get_reader: headers: *reader_headersnodes_traits_put_reader: headers: *reader_headersnodes_traits_delete_reader: headers: *reader_headersnodes_traits_trait_put_reader: headers: *reader_headersnodes_traits_trait_delete_reader: headers: *reader_headersnodes_vifs_get_reader: headers: *reader_headersnodes_vifs_post_reader: headers: *reader_headersnodes_vifs_node_vif_ident_delete_reader: headers: *reader_headersportgroups_get_reader: headers: *reader_headersportgroups_post_reader: headers: *reader_headersportgroups_detail_get_reader: headers: *reader_headersportgroups_portgroup_ident_get_reader: headers: *reader_headersportgroups_portgroup_ident_patch_reader: headers: *reader_headersportgroups_portgroup_ident_delete_reader: headers: *reader_headersnodes_portgroups_get_reader: headers: *reader_headersnodes_portgroups_detail_get_reader: headers: *reader_headersports_get_reader: headers: *reader_headersports_post_reader: headers: *reader_headersports_detail_get_reader: headers: *reader_headersports_port_id_get_reader: headers: *reader_headersports_port_id_patch_reader: headers: *reader_headersports_port_id_delete_reader: headers: *reader_headersnodes_ports_get_reader: headers: *reader_headersnodes_ports_detail_get_reader: headers: *reader_headersportgroups_ports_get_reader: headers: *reader_headersportgroups_ports_detail_get_reader: headers: *reader_headersvolume_get_reader: headers: *reader_headersvolume_connectors_get_reader: headers: *reader_headersvolume_connectors_post_reader: headers: *reader_headersvolume_volume_connector_id_get_reader: headers: *reader_headersvolume_volume_connector_id_patch_reader: headers: *reader_headersvolume_volume_connector_id_delete_reader: headers: *reader_headersvolume_targets_get_reader: headers: *reader_headersvolume_targets_post_reader: headers: *reader_headersvolume_volume_target_id_get_reader: headers: *reader_headersvolume_volume_target_id_patch_reader: headers: *reader_headersvolume_volume_target_id_delete_reader: headers: *reader_headersnodes_volume_get_reader: headers: *reader_headersnodes_volume_connectors_get_reader: headers: *reader_headersnodes_volume_targets_get_reader: headers: *reader_headersdrivers_get_reader: headers: *reader_headersdrivers_driver_name_get_reader: headers: *reader_headersdrivers_properties_get_reader: headers: *reader_headersdrivers_raid_logical_disk_properties_get_reader: headers: *reader_headersdrivers_vendor_passthru_methods_get_reader: headers: *reader_headersdrivers_vendor_passthru_get_reader: headers: *reader_headersdrivers_vendor_passthru_post_reader: headers: *reader_headersdrivers_vendor_passthru_put_reader: headers: *reader_headersdrivers_vendor_passthru_delete_reader:drivers_vendor_passthru_delete_reader: headers: *reader_headersnodes_bios_get_reader: headers: *reader_headersnodes_bios_bios_setting_get_reader: headers: *reader_headersconductors_get_reader: headers: *reader_headersconductors_hostname_get_reader: headers: *reader_headersallocations_post_reader: headers: *reader_headersallocations_get_reader: headers: *reader_headersallocations_allocation_id_get_reader: headers: *reader_headersallocations_allocation_id_patch_reader: headers: *reader_headersallocations_allocation_id_delete_reader: headers: *reader_headersnodes_allocation_get_reader: headers: *reader_headersnodes_allocation_delete_reader: headers: *reader_headersdeploy_templates_post_reader: headers: *reader_headersdeploy_templates_get_reader: headers: *reader_headersdeploy_templates_deploy_template_id_get_reader: headers: *reader_headersdeploy_templates_deploy_template_id_patch_reader: headers: *reader_headersdeploy_templates_deploy_template_id_delete_reader: headers: *reader_headerschassis_post_reader: headers: *reader_headerschassis_get_reader: headers: *reader_headerschassis_detail_get_reader: headers: *reader_headerschassis_chassis_id_get_reader: headers: *reader_headerschassis_chassis_id_patch_reader: headers: *reader_headerschassis_chassis_id_delete_reader: headers: *reader_headers"," # Project Scoped Observer Token # TODO(TheJulia): s/observer/reader/ observer_headers: &observer_headers X-Auth-Token: 'baremetal-observer-token' # TODO(TheJulia): observer shouldn't require member in the # future universe, seems counter to the intent unless observernodes_post_observer: headers: *observer_headersnodes_get_node_observer: headers: *observer_headersnodes_detail_get_observer: headers: *observer_headersnodes_node_ident_get_observer: headers: *observer_headersnodes_node_ident_patch_observer: headers: *observer_headersnodes_node_ident_delete_observer: headers: *observer_headersnodes_validate_get_observer: headers: *observer_headersnodes_maintenance_put_observer: headers: *observer_headersnodes_maintenance_delete_observer: headers: *observer_headersnodes_management_boot_device_put_observer: headers: *observer_headersnodes_management_boot_device_get_observer: headers: *observer_headersnodes_management_boot_device_supported_get_observer: headers: *observer_headersnodes_management_inject_nmi_put_observer: headers: *observer_headersnodes_states_get_observer: headers: *observer_headersnodes_states_power_put_observer: headers: *observer_headersnodes_states_provision_put_observer: headers: *observer_headersnodes_states_raid_put_observer: headers: *observer_headers headers: *observer_headersnodes_states_console_put_observer: headers: *observer_headersnodes_vendor_passthru_methods_get_observer: headers: *observer_headersnodes_vendor_passthru_get_observer: headers: *observer_headersnodes_vendor_passthru_post_observer: headers: *observer_headersnodes_vendor_passthru_put_observer: headers: *observer_headersnodes_vendor_passthru_delete_observer: headers: *observer_headersnodes_traits_get_observer: headers: *observer_headersnodes_traits_put_observer: headers: *observer_headersnodes_traits_delete_observer: headers: *observer_headersnodes_traits_trait_put_observer: headers: *observer_headersnodes_traits_trait_delete_observer: headers: *observer_headersnodes_vifs_get_observer: headers: *observer_headersnodes_vifs_post_observer: headers: *observer_headersnodes_vifs_node_vif_ident_delete_observer: headers: *observer_headersportgroups_get_observer: headers: *observer_headersportgroups_post_observer: headers: *observer_headersportgroups_detail_get_observer: headers: *observer_headersportgroups_portgroup_ident_get_observer: headers: *observer_headersportgroups_portgroup_ident_patch_observer: headers: *observer_headersportgroups_portgroup_ident_delete_observer: headers: *observer_headersnodes_portgroups_get_observer: headers: *observer_headersnodes_portgroups_detail_get_observer: headers: *observer_headersports_get_observer: headers: *observer_headersports_post_observer: headers: *observer_headersports_detail_get_observer: headers: *observer_headersports_port_id_get_observer: headers: *observer_headersports_port_id_patch_observer: headers: *observer_headersports_port_id_delete_observer: headers: *observer_headersnodes_ports_get_observer: headers: *observer_headersnodes_ports_detail_get_observer: headers: *observer_headersportgroups_ports_get_observer: headers: *observer_headersportgroups_ports_detail_get_observer: headers: *observer_headersvolume_get_observer: headers: *observer_headersvolume_connectors_get_observer: headers: *observer_headersvolume_connectors_post_observer: headers: *observer_headersvolume_volume_connector_id_get_observer: headers: *observer_headersvolume_volume_connector_id_patch_observer: headers: *observer_headersvolume_volume_connector_id_delete_observer: headers: *observer_headersvolume_targets_get_observer: headers: *observer_headersvolume_targets_post_observer: headers: *observer_headersvolume_volume_target_id_get_observer: headers: *observer_headersvolume_volume_target_id_patch_observer: headers: *observer_headersvolume_volume_target_id_delete_observer: headers: *observer_headersnodes_volume_get_observer: headers: *observer_headersnodes_volume_connectors_get_observer: headers: *observer_headersnodes_volume_targets_get_observer: headers: *observer_headersdrivers_get_observer: headers: *observer_headersdrivers_driver_name_get_observer: headers: *observer_headersdrivers_properties_get_observer: headers: *observer_headersdrivers_raid_logical_disk_properties_get_observer: headers: *observer_headersdrivers_vendor_passthru_methods_get_observer: headers: *observer_headersdrivers_vendor_passthru_get_observer: headers: *observer_headersdrivers_vendor_passthru_post_observer: headers: *observer_headersdrivers_vendor_passthru_put_observer: headers: *observer_headersdrivers_vendor_passthru_delete_observer:drivers_vendor_passthru_delete_observer: headers: *observer_headersnodes_bios_get_observer: headers: *observer_headersnodes_bios_bios_setting_get_observer: headers: *observer_headersconductors_get_observer: headers: *observer_headersconductors_hostname_get_observer: headers: *observer_headersallocations_post_observer: headers: *observer_headersallocations_get_observer: headers: *observer_headersallocations_allocation_id_get_observer: headers: *observer_headersallocations_allocation_id_patch_observer: headers: *observer_headersallocations_allocation_id_delete_observer: headers: *observer_headersnodes_allocation_get_observer: headers: *observer_headersnodes_allocation_delete_observer: headers: *observer_headersdeploy_templates_post_observer: headers: *observer_headersdeploy_templates_get_observer: headers: *observer_headersdeploy_templates_deploy_template_id_get_observer: headers: *observer_headersdeploy_templates_deploy_template_id_patch_observer: headers: *observer_headersdeploy_templates_deploy_template_id_delete_observer: headers: *observer_headerschassis_post_observer: headers: *observer_headerschassis_get_observer: headers: *observer_headerschassis_detail_get_observer: headers: *observer_headerschassis_chassis_id_get_observer: headers: *observer_headerschassis_chassis_id_patch_observer: headers: *observer_headerschassis_chassis_id_delete_observer: headers: *observer_headers",195,196
openstack%2Fmonasca-notification~stable%2Ftrain~Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,openstack/monasca-notification,stable/train,Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5,[stable-only] Cap bandit to 1.6.2,MERGED,2021-02-26 21:51:26.000000000,2021-02-26 23:17:43.000000000,2021-02-26 23:16:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 21:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c5f405f4433dfb9b3679c59d28d83459a95477a3', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt\nThis also means that flake8 is bumped to 2.6.0\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5\n'}, {'number': 2, 'created': '2021-02-26 22:19:24.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/293306e14dfaa775211bcf7d9b5542cd61fb8bd6', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to\n1.6.2 when using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt\nThis also means that flake8 is bumped to 2.6.0\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5\n'}]",0,777837,293306e14dfaa775211bcf7d9b5542cd61fb8bd6,8,2,2,28062,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] so cap to
1.6.2 when using py2.

This change also raises hacking to 1.1.0 in lower-constraints.txt
This also means that flake8 is bumped to 2.6.0

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Change-Id: Ib4ecaf8398a54543d2d9f452681ca46a056d8dc5
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/37/777837/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,c5f405f4433dfb9b3679c59d28d83459a95477a3,cap-bandit,flake8==2.6.0hacking==1.1.0,flake8==2.5.5hacking==0.12.0,3,3
openstack%2Fironic~master~I1d1d1bdae0171c44e122018a8a83b35dbb093c39,openstack/ironic,master,I1d1d1bdae0171c44e122018a8a83b35dbb093c39,Implement system scoped RBAC for the deploy templates APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 23:17:12.000000000,2021-02-26 23:15:16.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05a513e0cceecb5afb2e74abe575134964030fc1', 'message': 'Implement secure RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e75141bd049538a4b13d01f1e5b45eed6840060e', 'message': 'Implement secure RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 3, 'created': '2021-01-22 20:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/be0c87ef9c37a90fb65382de0c65a07f93caf287', 'message': 'Implement secure RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 4, 'created': '2021-01-22 20:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7eb18b0077ae3d66ef88671e3d17755fe79b6a2', 'message': 'Implement secure RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 5, 'created': '2021-02-02 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1de43b31a215124d6ea5c09036bfaca7cc31e703', 'message': 'Implement secure RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92fbd0ff81de25dd5e4bb30d277e777ba24335e9', 'message': 'Implement system scoped RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/588701e79afffd217d9553bdb9f4b4b8666add31', 'message': 'Implement system scoped RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e59561e8677ed7c517a163ad2022b2ff058346c9', 'message': 'Implement system scoped RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}, {'number': 9, 'created': '2021-02-23 20:01:17.000000000', 'files': ['ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/27a889854021d20c15b3eaa309d6d8a3b33cb737', 'message': 'Implement system scoped RBAC for the deploy templates APIs\n\nThis commit updates the policies for baremetal deploy template policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39\n'}]",10,763277,27a889854021d20c15b3eaa309d6d8a3b33cb737,65,8,9,5046,,,0,"Implement system scoped RBAC for the deploy templates APIs

This commit updates the policies for baremetal deploy template policies to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: I1d1d1bdae0171c44e122018a8a83b35dbb093c39
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/763277/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,05a513e0cceecb5afb2e74abe575134964030fc1,secure-rbac,"deprecated_deploy_template_get = policy.DeprecatedRule( name='baremetal:deploy_template:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_deploy_template_create = policy.DeprecatedRule( name='baremetal:deploy_template:create', check_str='rule:is_admin' ) deprecated_deploy_template_delete = policy.DeprecatedRule( name='baremetal:deploy_template:delete', check_str='rule:is_admin' ) deprecated_deploy_template_update = policy.DeprecatedRule( name='baremetal:deploy_template:update', check_str='rule:is_admin' ) deprecated_template_reason = """""" The baremetal deploy template API is now aware of system scope and default roles. """""" name='baremetal:deploy_template:get', check_str=SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description='Retrieve Deploy Template records', operations=[ {'path': '/deploy_templates', 'method': 'GET'}, {'path': '/deploy_templates/{deploy_template_ident}', 'method': 'GET'} ], deprecated_rule=deprecated_deploy_template_get, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:deploy_template:create', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Create Deploy Template records', operations=[{'path': '/deploy_templates', 'method': 'POST'}], deprecated_rule=deprecated_deploy_template_create, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:deploy_template:delete', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Delete Deploy Template records', operations=[ {'path': '/deploy_templates/{deploy_template_ident}', 'method': 'DELETE'} ], deprecated_rule=deprecated_deploy_template_delete, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ), name='baremetal:deploy_template:update', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Update Deploy Template records', operations=[ {'path': '/deploy_templates/{deploy_template_ident}', 'method': 'PATCH'} ], deprecated_rule=deprecated_deploy_template_update, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ),"," 'baremetal:deploy_template:get', 'rule:is_admin or rule:is_observer', 'Retrieve Deploy Template records', [{'path': '/deploy_templates', 'method': 'GET'}, {'path': '/deploy_templates/{deploy_template_ident}', 'method': 'GET'}]), 'baremetal:deploy_template:create', 'rule:is_admin', 'Create Deploy Template records', [{'path': '/deploy_templates', 'method': 'POST'}]), 'baremetal:deploy_template:delete', 'rule:is_admin', 'Delete Deploy Template records', [{'path': '/deploy_templates/{deploy_template_ident}', 'method': 'DELETE'}]), 'baremetal:deploy_template:update', 'rule:is_admin', 'Update Deploy Template records', [{'path': '/deploy_templates/{deploy_template_ident}', 'method': 'PATCH'}]),",67,20
openstack%2Foctavia-tempest-plugin~master~Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,openstack/octavia-tempest-plugin,master,Idcc13fdaafb8ffe41710fc3c67f30932725cf66e,Add delay to SOURCE_IP_PORT TCP test,MERGED,2021-01-21 21:57:06.000000000,2021-02-26 23:03:40.000000000,2021-02-26 23:02:12.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-01-21 21:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/518b8075ae205bfef3f80f073fa57f3e05a50d13', 'message': 'DNM - SIP TCP debugging\n\nDebug patch for source ip port TCP scenario test failure.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}, {'number': 2, 'created': '2021-01-21 23:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5e9bab4ae9f856c79c39e91817213617faf729fd', 'message': 'DNM - SIP TCP debugging\n\nDebug patch for source ip port TCP scenario test failure.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}, {'number': 3, 'created': '2021-01-22 00:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/dbf4e1bcf1c07acf6f8e5c06b99b083f421f7a1c', 'message': 'DNM - SIP TCP debugging\n\nDebug patch for source ip port TCP scenario test failure.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}, {'number': 4, 'created': '2021-01-22 01:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ded737386218ebd835b51f8096b86b6bb93147a0', 'message': 'DNM - SIP TCP debugging\n\nDebug patch for source ip port TCP scenario test failure.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}, {'number': 5, 'created': '2021-01-22 21:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8a233992666f4f489fb54f3d7be455c702a7deaa', 'message': 'DNM - SIP TCP debugging\n\nDebug patch for source ip port TCP scenario test failure.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}, {'number': 6, 'created': '2021-01-26 19:55:33.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/52531e2b14bb77366071d39ee82bf7963f1e0905', 'message': 'Add delay to SOURCE_IP_PORT TCP test\n\nWithout a delay it can trigger a ""Cannot assign requested\naddress"" warning setting the source port, leading to failure.\n\nAlso added a log debug statement when a source port is\nbeing used since it can help with debugging.\n\nChange-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e\n'}]",1,771888,52531e2b14bb77366071d39ee82bf7963f1e0905,38,4,6,1131,,,0,"Add delay to SOURCE_IP_PORT TCP test

Without a delay it can trigger a ""Cannot assign requested
address"" warning setting the source port, leading to failure.

Also added a log debug statement when a source port is
being used since it can help with debugging.

Change-Id: Idcc13fdaafb8ffe41710fc3c67f30932725cf66e
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/88/771888/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/tests/validators.py']",2,518b8075ae205bfef3f80f073fa57f3e05a50d13,dnm-sip-tcp-debug," LOG.debug('Request is to URL %s', URL) if source_port: LOG.debug('Using source port %s for request', source_port)", if source_port:,4,1
openstack%2Fneutron~master~I00c676e234fd9f771d716def7e4388bf33004118,openstack/neutron,master,I00c676e234fd9f771d716def7e4388bf33004118,"Implement ""ip neigh flush"" with Pyroute2",MERGED,2021-02-18 16:57:55.000000000,2021-02-26 22:53:32.000000000,2021-02-26 22:51:45.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 16:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f0169d28303492bd9b08e0eedfc60878ca63f06', 'message': 'Implement ""ip neigh flush"" with Pyroute2\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I00c676e234fd9f771d716def7e4388bf33004118\n'}, {'number': 2, 'created': '2021-02-19 09:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0709f1545b348d58ef06881e8bd7d83888f8d6a0', 'message': 'Implement ""ip neigh flush"" with Pyroute2\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I00c676e234fd9f771d716def7e4388bf33004118\n'}, {'number': 3, 'created': '2021-02-19 14:18:03.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/591715b86e086bc42065a9bae1690927414100ad', 'message': 'Implement ""ip neigh flush"" with Pyroute2\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I00c676e234fd9f771d716def7e4388bf33004118\n'}]",0,776495,591715b86e086bc42065a9bae1690927414100ad,28,4,3,16688,,,0,"Implement ""ip neigh flush"" with Pyroute2

Story: #2007686
Task: #41558

Change-Id: I00c676e234fd9f771d716def7e4388bf33004118
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/776495/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,5f0169d28303492bd9b08e0eedfc60878ca63f06,bug/41558,"NUD_STATES = {state[1]: state[0] for state in ndmsg.states.items()} nud_state, **kwargs): :param nud_state: The NUD (Neighbour Unreachability Detection) state of the entry state=ndmsg.states[nud_state], entries.append({'dst': attrs['NDA_DST'], 'lladdr': attrs.get('NDA_LLADDR'), 'device': device, 'state': NUD_STATES[entry['state']]})"," **kwargs): state=ndmsg.states['permanent'], entries += [{'dst': attrs['NDA_DST'], 'lladdr': attrs.get('NDA_LLADDR'), 'device': device}]",88,12
openstack%2Fpython-cinderclient~master~I288e2a3a577a2c1098feca5db4024b608b06dc56,openstack/python-cinderclient,master,I288e2a3a577a2c1098feca5db4024b608b06dc56,Initial stab at new shell args for v3 migration.,ABANDONED,2014-05-27 18:07:33.000000000,2021-02-26 22:46:31.000000000,,"[{'_account_id': 220}, {'_account_id': 10068}]","[{'number': 1, 'created': '2014-05-27 18:07:33.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/229c4a3ee1a0c5f2e3f62d895f832662627d9e28', 'message': 'Initial stab at new shell args for v3 migration.\n\nChange-Id: I288e2a3a577a2c1098feca5db4024b608b06dc56\n'}]",0,95847,229c4a3ee1a0c5f2e3f62d895f832662627d9e28,3,2,1,9249,,,0,"Initial stab at new shell args for v3 migration.

Change-Id: I288e2a3a577a2c1098feca5db4024b608b06dc56
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/47/95847/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,229c4a3ee1a0c5f2e3f62d895f832662627d9e28,feature/keystone-v3-migration," parser.add_argument('--os-user-id', metavar='<auth-user-id>', default=utils.env('OS_USER_ID', 'CINDER_USER_ID'), help='Opestack user ID. ' 'Default=env[OS_USER_ID].') parser.add_argument('--os_user_id', help=argparse.SUPPRESS) parser.add_argument('--os-user-domain-name', metavar='<auth-user-domain-name>', default=utils.env('OS_USER_DOMAIN_NAME', 'CINDER_USER_DOMAIN_NAME'), help='Openstack user domain name. ' 'Default=env[OS_USER_DOMAIN_NAME].') parser.add_argument('--os_user_domain_name', help=argparse.SUPPRESS) parser.add_argument('--os-user-domain-id', metavar='<auth-user-domain-id>', default=utils.env('OS_USER_DOMAIN_ID', 'CINDER_USER_DOMAIN_ID'), help='Openstack user domain ID. ' 'Default=env[OS_USER_DOMAIN_ID].') parser.add_argument('--os_user_domain_id', help=argparse.SUPPRESS) parser.add_argument('--os-project-name', metavar='<auth-project-name>', default=utils.env('OS_PROJECT_NAME', 'CINDER_PROJECT_NAME'), help='Another way to specify tenant name. ' 'This option is mutually exclusive with ' '--os-tenant-name. ' 'Defaults to env[OS_PROJECT_NAME].') parser.add_argument('--os_project_name', help=argparse.SUPPRESS) parser.add_argument('--os-project-id', metavar='<auth-project-id>', default=utils.env('OS_PROJECT_ID', 'CINDER_PROJECT_ID'), help='Another way to specify tenant ID. ' 'This option is mutually exclusive with ' '--os-tenant-id. ' 'Defaults to env[OS_PROJECT_ID].') parser.add_argument('--os_project_id', help=argparse.SUPPRESS) parser.add_argument('--os-project-domain-name', metavar='<auth-project-domain-name>', default=utils.env('OS_PROJECT_DOMAIN_NAME', 'CINDER_PROJECT_DOMAIN_NAME'), help='Defaults to env[OS_PROJECT_DOMAIN_NAME].') parser.add_argument('--os_project_domain_name', help=argparse.SUPPRESS) parser.add_argument('--os-project-domain-id', metavar='<auth-project-domain-id>', default=utils.env('OS_PROJECT_DOMAIN_ID', 'CINDER_PROJECT_DOMAIN_ID'), help='Defaults to env[OS_PROJECT_DOMAIN_ID].') parser.add_argument('--os_project_domain_id', help=argparse.SUPPRESS) parser.add_argument('--os-cert', metavar='<certificate>', default=utils.env('OS_CERT', 'CINDER_CERT'), help='Defaults to env[OS_CERT].') parser.add_argument('--os-key', metavar='<key>', default=utils.env('OS_KEY', 'CINDER_KEY'), help='Defaults to env[OS_KEY].') parser.add_argument('--os-token', metavar='<token>', default=utils.env('OS_TOKEN', 'CINDER_TOKEN'), help='Defaults to env[OS_TOKEN].') parser.add_argument('--os_token', help=argparse.SUPPRESS) ",,85,0
openstack%2Fpython-cinderclient~master~I6bd64675f3be88fe54290753cbf12f9215975cda,openstack/python-cinderclient,master,I6bd64675f3be88fe54290753cbf12f9215975cda,Remove missprints and c/p errors,ABANDONED,2013-12-04 14:26:30.000000000,2021-02-26 22:45:53.000000000,,[{'_account_id': 9300}],"[{'number': 1, 'created': '2013-12-04 14:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c5c7dac551357cf75eada87d549e3f8c03e39200', 'message': 'Use volume transfer from v2 in tests and in v2 client\n\nChange-Id: I6bd64675f3be88fe54290753cbf12f9215975cda\n'}, {'number': 2, 'created': '2013-12-04 16:10:20.000000000', 'files': ['cinderclient/tests/v2/test_volume_transfers.py', 'cinderclient/tests/v2/test_availability_zone.py', 'cinderclient/v2/client.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fa6eb7e34b0fac9ee21df153debc13339b40a535', 'message': 'Remove missprints and c/p errors\n\nChanged imports from v1 to v2 in related clients and tests.\n\nChange-Id: I6bd64675f3be88fe54290753cbf12f9215975cda\n'}]",0,59985,fa6eb7e34b0fac9ee21df153debc13339b40a535,2,1,2,9300,,,0,"Remove missprints and c/p errors

Changed imports from v1 to v2 in related clients and tests.

Change-Id: I6bd64675f3be88fe54290753cbf12f9215975cda
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/85/59985/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/v2/test_volume_transfers.py', 'cinderclient/v2/client.py']",2,c5c7dac551357cf75eada87d549e3f8c03e39200,volume_transfers,from cinderclient.v2 import volume_transfers,from cinderclient.v1 import volume_transfers,2,2
openstack%2Foctavia~stable%2Fussuri~Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,openstack/octavia,stable/ussuri,Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615,Fix nf_conntrack_buckets sysctl in Amphora,MERGED,2021-02-02 08:14:10.000000000,2021-02-26 22:10:19.000000000,2021-02-26 22:08:59.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 08:14:10.000000000', 'files': ['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f1307affc328e5ca58a2e814ed55885ed0710c7', 'message': ""Fix nf_conntrack_buckets sysctl in Amphora\n\nSetting nf_conntrack_buckets in the amphora namespace fails because this\nsysctl can only be set in the initial namespace (cf kernel doc at\nhttps://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)\n\nThis commit allows to set nf_conntrack_buckets in the initial namespace,\nthe value is then inherited by other namespaces.\n\nConntrack is not enabled in the main namespace, the new default value\ndoesn't affect this namespace behavior.\n\nConflicts:\n\telements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel\n\nStory: 2008028\nTask: 40682\n\nChange-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615\n(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)\n(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)\n""}]",0,773600,9f1307affc328e5ca58a2e814ed55885ed0710c7,10,3,1,29244,,,0,"Fix nf_conntrack_buckets sysctl in Amphora

Setting nf_conntrack_buckets in the amphora namespace fails because this
sysctl can only be set in the initial namespace (cf kernel doc at
https://www.kernel.org/doc/Documentation/networking/nf_conntrack-sysctl.txt)

This commit allows to set nf_conntrack_buckets in the initial namespace,
the value is then inherited by other namespaces.

Conntrack is not enabled in the main namespace, the new default value
doesn't affect this namespace behavior.

Conflicts:
	elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel

Story: 2008028
Task: 40682

Change-Id: Ie6ccc4bf0017587df8e8e29d8ee3bf5c19e6d615
(cherry picked from commit 64a301d4ec85a1bc9b208e60d7958a89e6972976)
(cherry picked from commit dd1580d332c2191e8d28bab692c1fa08e3e8ae80)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/773600/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nf_conntrack_buckets-sysctl-75ae6dbb9d052863.yaml', 'elements/haproxy-octavia/post-install.d/20-haproxy-tune-kernel', 'octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2']",3,9f1307affc328e5ca58a2e814ed55885ed0710c7,,"# Set nf_conntrack_buckets sysctl in the main namespace (nf_conntrack_buckets # cannot be set in another net namespace, but its value is inherited from the # main namespace) ExecStart=-/sbin/sysctl -w net.netfilter.nf_conntrack_buckets=125000",,9,1
openstack%2Fcharm-vault~master~Id32206febe75b9df45af9ac99cf51f4d3f34dc42,openstack/charm-vault,master,Id32206febe75b9df45af9ac99cf51f4d3f34dc42,Fix up README,MERGED,2021-02-24 20:03:46.000000000,2021-02-26 22:01:22.000000000,2021-02-26 22:01:22.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 20:03:46.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/e851c0d6c79ea3272af92b8c92de78317d3a3163', 'message': 'Fix up README\n\n* Retitle a few links.\n\n* Update as per README template.\n\nChange-Id: Id32206febe75b9df45af9ac99cf51f4d3f34dc42\n'}]",0,777459,e851c0d6c79ea3272af92b8c92de78317d3a3163,8,3,1,30561,,,0,"Fix up README

* Retitle a few links.

* Update as per README template.

Change-Id: Id32206febe75b9df45af9ac99cf51f4d3f34dc42
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/59/777459/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,e851c0d6c79ea3272af92b8c92de78317d3a3163,rename-link-in-readme," using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates][cdg-vault-certs] in the [OpenStack Charms Deployment Guide][cdg] for details.To display action descriptions run `juju actions --schema vault`. If the charm is not deployed then see file `actions.yaml`.See [Infrastructure high availability][cdg-ha-apps] in the [OpenStack Charms# Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information ", using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates with Vault][cdg-vault-certs] in the [OpenStack Charms Deployment Guide][cdg] for details.To display action descriptions run `juju actions vault`. If the charm is not deployed then see file `actions.yaml`.See [OpenStack high availability][cdg-ha-apps] in the [OpenStack CharmsFor general charm questions refer to the [OpenStack Charm Guide][cg]. ,14,8
openstack%2Fcharm-deployment-guide~master~I1eb34e18be123768738221159595c705a63b7d28,openstack/charm-deployment-guide,master,I1eb34e18be123768738221159595c705a63b7d28,Discuss subordinate applications during payload upgrades,MERGED,2021-02-26 21:07:09.000000000,2021-02-26 22:01:17.000000000,2021-02-26 22:00:03.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 21:07:09.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1079ae0634e117b4e38df44215993b401770c97d', 'message': 'Discuss subordinate applications during payload upgrades\n\nSubordinate charm applications do not require explicit\nupgrading. Mention this.\n\nDriveby: Be consistent with the `--wait` run-action option\n\nCloses-Bug: #1876576\nChange-Id: I1eb34e18be123768738221159595c705a63b7d28\n'}]",0,777830,1079ae0634e117b4e38df44215993b401770c97d,7,2,1,30561,,,0,"Discuss subordinate applications during payload upgrades

Subordinate charm applications do not require explicit
upgrading. Mention this.

Driveby: Be consistent with the `--wait` run-action option

Closes-Bug: #1876576
Change-Id: I1eb34e18be123768738221159595c705a63b7d28
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/30/777830/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,1079ae0634e117b4e38df44215993b401770c97d,bug/1876576,"Subordinate charm applications ------------------------------ Applications that are associated with subordinate charms are upgraded along with their parent application. Subordinate charms do not support the ``openstack-origin`` configuration option which, as will be shown, is a pre-requisite for initiating an OpenStack charm payload upgrade. juju run-action --wait nova-compute/0 pause juju run-action --wait nova-compute/0 openstack-upgrade juju run-action --wait nova-compute/0 resume juju run-action --wait nova-compute/1 pause juju run-action --wait nova-compute/1 openstack-upgrade juju run-action --wait nova-compute/1 resume juju run-action --wait nova-compute/2 pause juju run-action --wait nova-compute/2 openstack-upgrade juju run-action --wait nova-compute/2 resume juju run-action --wait keystone-hacluster/1 pause juju run-action --wait keystone/2 pause juju run-action --wait keystone/2 openstack-upgrade juju run-action --wait keystone/2 resume juju run-action --wait keystone-hacluster/1 resume juju run-action --wait keystone-hacluster/2 pause juju run-action --wait keystone/1 pause juju run-action --wait keystone/1 openstack-upgrade juju run-action --wait keystone/1 resume juju run-action --wait keystone-hacluster/2 resume juju run-action --wait keystone-hacluster/0 pause juju run-action --wait keystone/0 pause juju run-action --wait keystone/0 openstack-upgrade juju run-action --wait keystone/0 resume juju run-action --wait keystone-hacluster/0 resume", juju run-action nova-compute/0 --wait pause juju run-action nova-compute/0 --wait openstack-upgrade juju run-action nova-compute/0 --wait resume juju run-action nova-compute/1 --wait pause juju run-action nova-compute/1 --wait openstack-upgrade juju run-action nova-compute/1 --wait resume juju run-action nova-compute/2 --wait pause juju run-action nova-compute/2 --wait openstack-upgrade juju run-action nova-compute/2 --wait resume juju run-action keystone-hacluster/1 --wait pause juju run-action keystone/2 --wait pause juju run-action keystone/2 --wait openstack-upgrade juju run-action keystone/2 --wait resume juju run-action keystone-hacluster/1 --wait resume juju run-action keystone-hacluster/2 --wait pause juju run-action keystone/1 --wait pause juju run-action keystone/1 --wait openstack-upgrade juju run-action keystone/1 --wait resume juju run-action keystone-hacluster/2 --wait resume juju run-action keystone-hacluster/0 --wait pause juju run-action keystone/0 --wait pause juju run-action keystone/0 --wait openstack-upgrade juju run-action keystone/0 --wait resume juju run-action keystone-hacluster/0 --wait resume,32,24
openstack%2Fcharm-deployment-guide~master~I04a9cea92ace4a1a26cb5abeef89b371930a9b65,openstack/charm-deployment-guide,master,I04a9cea92ace4a1a26cb5abeef89b371930a9b65,Add known upgrade issue - BlueStore,MERGED,2021-02-25 18:10:01.000000000,2021-02-26 21:44:33.000000000,2021-02-26 21:43:16.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 18:10:01.000000000', 'files': ['deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/346ed0dded76ae507ce1664b447c29efde3e80ea', 'message': 'Add known upgrade issue - BlueStore\n\nAdd a known upgrade issue when a non-BlueStore cloud\ngets BlueStore enabled due to an OpenStack upgrade.\n\nRelated-Bug: #1885516\n\nChange-Id: I04a9cea92ace4a1a26cb5abeef89b371930a9b65\n'}]",0,777645,346ed0dded76ae507ce1664b447c29efde3e80ea,7,2,1,30561,,,0,"Add known upgrade issue - BlueStore

Add a known upgrade issue when a non-BlueStore cloud
gets BlueStore enabled due to an OpenStack upgrade.

Related-Bug: #1885516

Change-Id: I04a9cea92ace4a1a26cb5abeef89b371930a9b65
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/45/777645/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-issues.rst'],1,346ed0dded76ae507ce1664b447c29efde3e80ea,bug/1885516,Ceph BlueStore mistakenly enabled at OpenStack upgrade ------------------------------------------------------ The Ceph BlueStore storage backend is enabled by default when Ceph Luminous is detected. Therefore it is possible for a non-BlueStore cloud to acquire BlueStore by default after an OpenStack upgrade (Luminous first appeared in Queens). Problems will occur if storage is scaled out without first disabling BlueStore (set ceph-osd charm option ``bluestore`` to 'False'). See bug `LP #1885516`_ for details. .. _LP #1885516: https://bugs.launchpad.net/charm-deployment-guide/+bug/1885516,,11,0
openstack%2Fcharm-mysql-innodb-cluster~master~If62a72fffa5e6b7c37505e2195542f800aa19842,openstack/charm-mysql-innodb-cluster,master,If62a72fffa5e6b7c37505e2195542f800aa19842,Update README,MERGED,2021-02-26 01:23:15.000000000,2021-02-26 21:32:17.000000000,2021-02-26 21:32:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 01:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7a7a69c1a75c30094552b7d44a9aa0e9d850d924', 'message': ""Update README\n\n* Simplify the Deployment section.\n    Seemingly non-sensical add-relation command removed.\n    Talk of multiple nodes being required consolidated.\n    Setting 'cluster-name' is not of much value (removed).\n    Deprecated shared-db endpoint command removed.\n    Scaling out command was moved to the CDG.\n\n* Apply current README template\n\nDepends-On: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29\nChange-Id: If62a72fffa5e6b7c37505e2195542f800aa19842\n""}, {'number': 2, 'created': '2021-02-26 15:28:46.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/9c288c61c2bd4324fef61802144c1388028a1ccf', 'message': ""Update README\n\n* Simplify the Deployment section.\n\n    Redid add-relation to mysql-router.\n    Talk of multiple nodes being required consolidated.\n    Setting 'cluster-name' is not of much value (removed).\n    Deprecated shared-db endpoint command removed.\n    Scaling out command was moved to the CDG.\n\n* Apply current README template\n\nDepends-On: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29\nChange-Id: If62a72fffa5e6b7c37505e2195542f800aa19842\n""}]",0,777706,9c288c61c2bd4324fef61802144c1388028a1ccf,11,3,2,30561,,,0,"Update README

* Simplify the Deployment section.

    Redid add-relation to mysql-router.
    Talk of multiple nodes being required consolidated.
    Setting 'cluster-name' is not of much value (removed).
    Deprecated shared-db endpoint command removed.
    Scaling out command was moved to the CDG.

* Apply current README template

Depends-On: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
Change-Id: If62a72fffa5e6b7c37505e2195542f800aa19842
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/06/777706/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,7a7a69c1a75c30094552b7d44a9aa0e9d850d924,update-readme,"clustered database (i.e. MySQL InnoDB Cluster). It is used in conjunction with the [mysql-router][mysql-router-charm] charm.See file `config.yaml` of the built charm (or see the charm in the [Charm Store][mysql-innodb-cluster-charm]) for the full list of configuration options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications.MySQL 8 is natively HA and requires at least three database units, which are often containerised. To deploy a three-node cluster to new containers on machines '0', '1', and '2': juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 mysql-innodb-cluster See [Infrastructure high availability][cdg-app-ha-mysql8] in the [OpenStack Charms Deployment Guide][cdg] for more deploy information.display action descriptions run `juju actions --schema mysql-innodb-cluster`. If the charm is not deployed then see file `actions.yaml`.# Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information [mysql-innodb-cluster-charm]: https://jaas.ai/mysql-innodb-cluster[juju-docs-config-apps]: https://juju.is/docs/configuring-applications","clustered database. It is used in conjunction with the [mysql-router][mysql-router-charm] charm.The charm is intended for deploying a cluster (minimum of three nodes) and therefore does not deploy on a single unit. See file `config.yaml` for the full list of configuration options, along with their descriptions and default values.To deploy a three-node cluster: juju deploy -n 3 mysql-innodb-cluster The name of the cluster can be customized at deploy time: juju deploy -n 3 mysql-innodb-cluster --config cluster-name myCluster Add a relation to a MySQL 8 Router (via the [db-router][db-router] endpoint): juju add-relation mysql-innodb-cluster:db-router msyql-router:db-router A relation can be made to charms that use the [shared-db][shared-db] endpoint, however this should be considered deprecated: juju add-relation mysql-innodb-cluster:shared-db keystone:shared-db Nodes can be added to the cluster as Read Only nodes: juju add-unit mysql-innodb-cluster See [OpenStack high availability][cdg-app-ha-mysql8] in the [OpenStack Charms Deployment Guide][cdg] for more deploy instructions.display action descriptions run `juju actions mysql-innodb-cluster`. If the charm is not deployed then see file `actions.yaml`.For general charm questions refer to the [OpenStack Charm Guide][cg]. [db-router]: https://github.com/openstack-charmers/charm-interface-mysql-router [shared-db]: https://github.com/openstack/charm-interface-mysql-shared",24,34
openstack%2Fneutron~master~I8c69e62ba56b0d3204e9c12df3133126071b92f7,openstack/neutron,master,I8c69e62ba56b0d3204e9c12df3133126071b92f7,Support address group in OVS firewall agent,MERGED,2020-10-12 21:10:31.000000000,2021-02-26 21:19:38.000000000,2021-02-16 01:37:04.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-10-12 21:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bac8dbbf09322e8e6f17b30c483e5f24258b5f5a', 'message': ""Support address group in OVS firewall agent\n\n- Add remote_address_group_id to the conj_id_map's tuple key.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/751110\n""}, {'number': 2, 'created': '2020-11-09 16:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3959e3f3361508f67be4a18524f13fd6738fe879', 'message': ""<WIP> Support address group in OVS firewall agent\n\n- Add remote_address_group_id to the conj_id_map's tuple key.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/751110\n""}, {'number': 3, 'created': '2020-11-12 22:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99180f72e2f5565c5f35d1fffe94cbd7c1e0cd25', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/751110\n'}, {'number': 4, 'created': '2020-11-16 21:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c3da200499e0aa594369c5b7c18afeb7396cc7f', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/751110\n'}, {'number': 5, 'created': '2020-11-25 21:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ec428f98d9e8074f03f1c67a635345e6f50cd6d', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 6, 'created': '2020-11-30 20:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11dff7088f815855faa8d62e02179d003c85cc0', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 7, 'created': '2020-11-30 23:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3b2f103bab84ad082c9b78dda62269e3b06594d', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 8, 'created': '2020-12-02 20:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffbb0278cf31f095c33d126e7dd2073f05472d38', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 9, 'created': '2020-12-04 17:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b0a8fcaade541fcd50c1feb49e3e9c7c99f5db8', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 10, 'created': '2020-12-05 03:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03bf06970280dc18f0d1181cfac42582be28ff5d', 'message': '<WIP> Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 11, 'created': '2021-01-12 21:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0de5d12a7cd717b708599445a06d71e87d9d31d2', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 12, 'created': '2021-01-19 19:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c53af9159dff067b8754f063e17ec5099d5b807', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 13, 'created': '2021-01-25 19:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/386022a7604690126507c007cf81ec6003661eba', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rule with remote_address_group_id in openvswitch\nfirewall. The conjunctive flows for a rule with remote_adress_group_id are\nsimilar to others with remote_group_id but with different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 14, 'created': '2021-02-04 23:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb4d7edfc6ba515b66dfa7364edfa58a8648ce31', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rules with remote_address_group_id in openvswitch\nfirewall. This change reuses most of the firewall functions handling remote\nsecurity groups to also process remote address groups. The conjunctive flows\nfor a rule with remote_adress_group_id are similar to others with\nremote_group_id but have different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 15, 'created': '2021-02-05 00:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8c964abfc64ee8789751a4d9afd34e7434ba1fe', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rules with remote_address_group_id in openvswitch\nfirewall. This change reuses most of the firewall functions handling remote\nsecurity groups to also process remote address groups. The conjunctive flows\nfor a rule with remote_adress_group_id are similar to others with\nremote_group_id but have different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 16, 'created': '2021-02-06 05:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa79910b41d29f9db4c712cbfd6709a6c85ef5db', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rules with remote_address_group_id in openvswitch\nfirewall. This change reuses most of the firewall functions handling remote\nsecurity groups to also process remote address groups. The conjunctive flows\nfor a rule with remote_adress_group_id are similar to others with\nremote_group_id but have different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 17, 'created': '2021-02-08 19:29:21.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'releasenotes/notes/support-address-groups-in-security-group-rules-ce3d9864068c1131.yaml', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/db.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/tests/unit/extensions/test_address_group.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f09b1fb19c3571a0b1cae76b0bb99648c3b5554', 'message': 'Support address group in OVS firewall agent\n\nSupport security group rules with remote_address_group_id in openvswitch\nfirewall. This change reuses most of the firewall functions handling remote\nsecurity groups to also process remote address groups. The conjunctive flows\nfor a rule with remote_adress_group_id are similar to others with\nremote_group_id but have different conj_ids.\n\nChange-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7\nImplements: blueprint address-groups-in-sg-rules\n'}]",25,757650,9f09b1fb19c3571a0b1cae76b0bb99648c3b5554,118,10,17,28159,,,0,"Support address group in OVS firewall agent

Support security group rules with remote_address_group_id in openvswitch
firewall. This change reuses most of the firewall functions handling remote
security groups to also process remote address groups. The conjunctive flows
for a rule with remote_adress_group_id are similar to others with
remote_group_id but have different conj_ids.

Change-Id: I8c69e62ba56b0d3204e9c12df3133126071b92f7
Implements: blueprint address-groups-in-sg-rules
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/757650/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py']",2,bac8dbbf09322e8e6f17b30c483e5f24258b5f5a,bp/address-groups-in-sg-rules, upon existence of rule['remote_group_id'] or rule['remote_address_group_id'] but can be overridden conj_offset = 0 if 'remote_group_id' in rule or \ 'remote_address_group_id' in rule or \ conjunction else 4 remote_group_id or remote_address_group_id, upon existence of rule['remote_group_id'] but can be overridden conj_offset = 0 if 'remote_group_id' in rule or conjunction else 4 remote_group_id,56,34
openstack%2Fcharm-hacluster~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-hacluster,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:23.000000000,2021-02-26 21:04:46.000000000,2021-02-26 21:04:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:43:23.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d3b4030fd0c79ff559841f2d62516a0133ab6063', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776353,d3b4030fd0c79ff559841f2d62516a0133ab6063,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/53/776353/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,d3b4030fd0c79ff559841f2d62516a0133ab6063,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs,,4,0
openstack%2Fcharm-octavia-dashboard~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-octavia-dashboard,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:48:10.000000000,2021-02-26 20:52:04.000000000,2021-02-26 20:52:04.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:48:10.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/a89d2cdad3818cd8e62404d207a24b31cfcad504', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",0,776381,a89d2cdad3818cd8e62404d207a24b31cfcad504,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/81/776381/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,a89d2cdad3818cd8e62404d207a24b31cfcad504,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri - bionic-train - bionic-stein - bionic-rocky vars: needs_charm_build: true charm_build_name: octavia-dashboard,,15,0
openstack%2Fcharm-keystone-ldap~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-keystone-ldap,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:44:25.000000000,2021-02-26 20:50:53.000000000,2021-02-26 20:50:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:44:25.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/71a0c82861ec0c4e6a3f288bedba1248f378a4b5', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776359,71a0c82861ec0c4e6a3f288bedba1248f378a4b5,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/59/776359/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,71a0c82861ec0c4e6a3f288bedba1248f378a4b5,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs vars: needs_charm_build: true charm_build_name: keystone-ldap,,7,0
openstack%2Fcharm-keystone~master~I1cc665c028ac3d63117f34a33c2335183564d318,openstack/charm-keystone,master,I1cc665c028ac3d63117f34a33c2335183564d318,Add new osci.yaml,MERGED,2021-02-18 07:44:06.000000000,2021-02-26 20:50:49.000000000,2021-02-26 20:50:49.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:44:06.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/ae4b8da5ad64dd6860ed1cea39f3a44023525531', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1cc665c028ac3d63117f34a33c2335183564d318\n'}]",0,776357,ae4b8da5ad64dd6860ed1cea39f3a44023525531,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1cc665c028ac3d63117f34a33c2335183564d318
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/57/776357/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,ae4b8da5ad64dd6860ed1cea39f3a44023525531,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs ,,4,0
openstack%2Fcharm-heat~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-heat,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:43:32.000000000,2021-02-26 20:48:00.000000000,2021-02-26 20:48:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:43:32.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/1e78c79e6906aae4c5f20b62a6cb2991f36d482e', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776354,1e78c79e6906aae4c5f20b62a6cb2991f36d482e,11,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/54/776354/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,1e78c79e6906aae4c5f20b62a6cb2991f36d482e,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs,,4,0
openstack%2Fneutron~master~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,master,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-19 10:44:16.000000000,2021-02-26 20:21:20.000000000,2021-02-26 20:19:12.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 10:44:16.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b5bcff64c4725b37f094dfd2613ec58f723d304', 'message': '[OVS FW] Allow egress ICMPv6 only for know addresses\n\nBefore that patch it was possible to send ICMPv6 packets like e.g.\n    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,\n    neutron_lib.constants.ICMPV6_TYPE_RS,\n    neutron_lib.constants.ICMPV6_TYPE_NS,\n    neutron_lib.constants.ICMPV6_TYPE_NA\n\nAnd that could cause some security issues as instance could advertise\nthat it owns IPv6 address which really don\'t belong to it.\n\nNow rules in table=71 which allows that traffic are ""per mac/ipaddress""\nand are allowed only for fixed ips allocated to port and port\'s\nallowed_address_pairs.\n\nCloses-Bug: #1902917\nChange-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c\n'}]",3,776599,4b5bcff64c4725b37f094dfd2613ec58f723d304,18,5,1,11975,,,0,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/776599/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,4b5bcff64c4725b37f094dfd2613ec58f723d304,bug/1902917,"from neutron.agent import firewall as agent_firewall allowed_pairs_v4 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv4) allowed_pairs_v6 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv6) port_name=""port-name"", allowed_pairs_v4=allowed_pairs_v4, allowed_pairs_v6=allowed_pairs_v6) def test__initialize_egress_ipv6_icmp(self): port_dict = { 'device': 'port-id', 'security_groups': [1], 'fixed_ips': [""10.0.0.1""], 'allowed_address_pairs': [ {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '192.168.1.1'}, {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '2003::1'} ]} of_port = create_ofport(port_dict) self.mock_bridge.br.db_get_val.return_value = {'tag': TESTING_VLAN_TAG} self.firewall._initialize_egress_ipv6_icmp( of_port, set([('aa:bb:cc:dd:ee:ff', '2003::1')])) expected_calls = [] for icmp_type in agent_firewall.ICMPV6_ALLOWED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, dl_src='aa:bb:cc:dd:ee:ff', ipv6_src='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE))) self.mock_bridge.br.add_flow.assert_has_calls(expected_calls) "," port_name=""port-name"")",69,25
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/ussuri,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:55.000000000,2021-02-26 20:09:21.000000000,2021-02-26 20:09:21.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 15:59:55.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc1fd47416627413346afd80458d3068bd10d2b1', 'message': 'Fix redis_tls_proxy\n\nSince we merged the pcs-host patches we erroneously also removed\nthe sidecar container that does the tls stunneling for redis.\nThis is needed to allow the redis master stream the deplications to\nits slaves via TLS.\n\nTested this and we now correctly get the working container and cluster\nstate:\n[root@controller-0 ~]# podman ps -a |grep redis\n4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0\n604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy\n[root@controller-0 ~]# pcs status |grep redis\n  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]\n  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:\n    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0\n    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1\n    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2\n\nWe also move the redis_tls_proxy from step_2/start_order: 3 to step_1\nsince it actually makes sense to have it run before we start the\nredis pcmk bundle at step 2 (i.e. so the slave replica can work right\naway from the start).\n\nCloses-Bug: #1916873\n\nChange-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab\n'}]",0,777548,bc1fd47416627413346afd80458d3068bd10d2b1,11,4,1,20172,,,0,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/777548/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,bc1fd47416627413346afd80458d3068bd10d2b1,fix-redis-tls-stable/victoria-stable/ussuri," docker_config: step_1: if: - internal_tls_enabled - redis_tls_proxy: start_order: 0 image: {get_param: ContainerRedisImage} net: host user: root restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis_tls_proxy.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/private/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key:ro - /var/lib/container-config-scripts/wait-port-and-run.sh:/wait-port-and-run.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {}",,22,0
openstack%2Fcharm-deployment-guide~master~I9e9ff874121c3af1aeb6fd2b16acc978f185a559,openstack/charm-deployment-guide,master,I9e9ff874121c3af1aeb6fd2b16acc978f185a559,Be explicit what series the controller should be,MERGED,2021-02-25 20:46:05.000000000,2021-02-26 20:07:28.000000000,2021-02-26 20:06:19.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 20:46:05.000000000', 'files': ['deploy-guide/source/install-juju.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f98a834c1c0f378899ff22f53dbc039a87a3e827', 'message': 'Be explicit what series the controller should be\n\nUse the `--bootstrap-series` option when creating\nthe controller on the install-juju page to specify\nthe focal series.\n\nCloses-Bug: #1911060\n\nChange-Id: I9e9ff874121c3af1aeb6fd2b16acc978f185a559\n'}]",0,777677,f98a834c1c0f378899ff22f53dbc039a87a3e827,7,2,1,30561,,,0,"Be explicit what series the controller should be

Use the `--bootstrap-series` option when creating
the controller on the install-juju page to specify
the focal series.

Closes-Bug: #1911060

Change-Id: I9e9ff874121c3af1aeb6fd2b16acc978f185a559
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/77/777677/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/install-juju.rst'],1,f98a834c1c0f378899ff22f53dbc039a87a3e827,bug/1911060,"Create the controller (using the 'focal' series) for the 'mymaas' cloud, and call it 'maas-controller': juju bootstrap --bootstrap-series=focal --constraints tags=juju mymaas maas-controller","We can now create the controller for the 'mymaas' cloud, and have called it 'maas-controller': juju bootstrap --constraints tags=juju mymaas maas-controller",3,3
openstack%2Fironic~master~I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,openstack/ironic,master,I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8,Implement system scoped RBAC for the event APIs,MERGED,2020-11-18 22:05:34.000000000,2021-02-26 20:05:52.000000000,2021-02-26 20:03:54.000000000,"[{'_account_id': 4571}, {'_account_id': 9954}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-18 22:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/422bea78c35c51f32b803511d2bba447f0e55b8f', 'message': 'Implement secure RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 2, 'created': '2021-01-08 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f62c6a06d016a36ed63ac7c4b36b9816a1f3c44', 'message': 'Implement secure RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 3, 'created': '2021-01-22 20:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64d1a63cb90344ffb42ea5d0d27cafb6362b861f', 'message': 'WIPImplement secure RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 4, 'created': '2021-01-22 20:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31a90c9cd6243adb04cf797a4cc7a5f8e0144de2', 'message': 'WIPImplement secure RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 5, 'created': '2021-02-02 22:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5db675b5370800ab764da90987570f2e53f13b13', 'message': 'Implement secure RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 6, 'created': '2021-02-11 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/549b2fdbdaee30179c6c4b99bc714e5782853cc5', 'message': 'Implement system scoped RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 7, 'created': '2021-02-12 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bf88720cf7bd75c96caedbfd1326bf2ac8b5903', 'message': 'Implement system scoped RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 8, 'created': '2021-02-22 13:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05f08f8bbfcc2de8cbfc48b1e65d073830c1387a', 'message': 'Implement system scoped RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}, {'number': 9, 'created': '2021-02-23 19:58:47.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_event.py', 'ironic/common/policy.py', 'releasenotes/notes/system-scoped-authentication-28e3651de250bea8.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/046e99c0b473003490ab031430a6aac31ecbde19', 'message': 'Implement system scoped RBAC for the event APIs\n\nThis commit updates the policies for baremetal event policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8\n'}]",18,763276,046e99c0b473003490ab031430a6aac31ecbde19,63,8,9,5046,,,0,"Implement system scoped RBAC for the event APIs

This commit updates the policies for baremetal event policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I9543b0524f2e85eae0d4fd4331ea1ed9a66322d8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/763276/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,422bea78c35c51f32b803511d2bba447f0e55b8f,secure-rbac," deprecated_event_create = policy.DeprecatedRule( name='baremetal:events:post', check_str='rule:is_admin' ) deprecated_event_reason = """""" The baremetal event API is now aware of system scope and default roles. """""" name='baremetal:events:post', check_str=SYSTEM_ADMIN, scope_types=['system'], description='Post events', operations=[{'path': '/events', 'method': 'POST'}], deprecated_rule=deprecated_event_create, deprecated_reason=deprecated_event_reason, deprecated_since=versionutils.deprecated.WALLABY )"," 'baremetal:events:post', 'rule:is_admin', 'Post events', [{'path': '/events', 'method': 'POST'}])",19,4
openstack%2Fbashate~master~I92e6930e06f04e6554aa4739d6b193c9c3555b69,openstack/bashate,master,I92e6930e06f04e6554aa4739d6b193c9c3555b69,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:25:24.000000000,2021-02-26 19:56:17.000000000,2021-02-26 19:54:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-25 17:25:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bashate/commit/4e5de6a91e176c415f1aa8cc614305e2b3ed0b44', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I92e6930e06f04e6554aa4739d6b193c9c3555b69\n""}]",0,777634,4e5de6a91e176c415f1aa8cc614305e2b3ed0b44,8,3,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I92e6930e06f04e6554aa4739d6b193c9c3555b69
",git fetch https://review.opendev.org/openstack/bashate refs/changes/34/777634/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4e5de6a91e176c415f1aa8cc614305e2b3ed0b44,,minversion = 3.18.0allowlist_externals = *allowlist_externals =,minversion = 3.1.1whitelist_externals = *whitelist_externals =,3,3
openstack%2Frequirements~master~Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,openstack/requirements,master,Iaab12a0ba197afa4dacd5cb621a26e0c218315f4,update constraint for ldappool to new release 3.0.0,MERGED,2021-02-26 15:40:00.000000000,2021-02-26 19:48:06.000000000,2021-02-26 19:46:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 15:40:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d021f08dd7418f546611ac0ef6cae31db7d845c0', 'message': 'update constraint for ldappool to new release 3.0.0\n\nmeta: version: 3.0.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc\nmeta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>\nmeta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Iaab12a0ba197afa4dacd5cb621a26e0c218315f4\n'}]",0,777762,d021f08dd7418f546611ac0ef6cae31db7d845c0,9,3,1,11131,,,0,"update constraint for ldappool to new release 3.0.0

meta: version: 3.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
meta: release:Code-Review+1: Kristi Nikolla <knikolla@bu.edu>
meta: release:Code-Review+2: Herv Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Iaab12a0ba197afa4dacd5cb621a26e0c218315f4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/777762/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d021f08dd7418f546611ac0ef6cae31db7d845c0,new-release,ldappool===3.0.0,ldappool===2.4.1,1,1
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I425a4265d5bca990d4b93d19eedc7b40a73311ef,openstack/ovn-octavia-provider,stable/victoria,I425a4265d5bca990d4b93d19eedc7b40a73311ef,Pin pylint version,MERGED,2021-02-24 22:02:48.000000000,2021-02-26 19:21:19.000000000,2021-02-26 19:20:10.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 22:02:48.000000000', 'files': ['test-requirements.txt', 'ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0db33223de2b3fc8f6158c9ada177434aaaa0b4f', 'message': ""Pin pylint version\n\nPylint 2.7 added new checks that make pep8 fail.\nFix the error but pin pylint so it doesn't break\nthe gate in the future.\n\nChange-Id: I425a4265d5bca990d4b93d19eedc7b40a73311ef\n""}]",1,777474,0db33223de2b3fc8f6158c9ada177434aaaa0b4f,9,3,1,1131,,,0,"Pin pylint version

Pylint 2.7 added new checks that make pep8 fail.
Fix the error but pin pylint so it doesn't break
the gate in the future.

Change-Id: I425a4265d5bca990d4b93d19eedc7b40a73311ef
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/74/777474/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'ovn_octavia_provider/helper.py']",2,0db33223de2b3fc8f6158c9ada177434aaaa0b4f,pin-pylint, return not any(k.startswith('listener') or k.startswith('pool') for k in external_ids), return not any([k.startswith('listener') or k.startswith('pool') for k in external_ids]),3,3
openstack%2Fovn-octavia-provider~master~I40a45e70156f4306021ade0029b244f4c06440a2,openstack/ovn-octavia-provider,master,I40a45e70156f4306021ade0029b244f4c06440a2,Update to pylint 2.6.0+,MERGED,2020-09-16 16:50:36.000000000,2021-02-26 19:16:43.000000000,2021-02-26 19:15:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-16 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c6eb4d142cd864e5f3b2fe3ac975fb9a4d730e31', 'message': 'Update to pylint 2.6.0\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation to\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I40a45e70156f4306021ade0029b244f4c06440a2\n'}, {'number': 2, 'created': '2020-12-09 20:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c3bef5308044be7243329de958e6b85f81c8a5c8', 'message': 'Update to pylint 2.6.0\n\nPylint 2.6.0 added two new checkers [1] that make pep8 validation\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I40a45e70156f4306021ade0029b244f4c06440a2\n'}, {'number': 3, 'created': '2021-02-23 20:53:53.000000000', 'files': ['ovn_octavia_provider/common/clients.py', 'test-requirements.txt', 'ovn_octavia_provider/tests/functional/test_integration.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py', 'ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/functional/test_agent.py', 'ovn_octavia_provider/tests/unit/base.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ffc31609848cb269219941bb527e94a8ce039193', 'message': 'Update to pylint 2.6.0+\n\nPylint 2.6.0 added two new checkers [1] that made pep8 validation\nfail:\n\n- raise-missing-from (W0707)\n- super-with-arguments (R1725)\n\nPylint 2.7.0 added one new checker [1] that made pep8 validation\nfail:\n\n- use-a-generator (R1729)\n\n[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html\n\nChange-Id: I40a45e70156f4306021ade0029b244f4c06440a2\n'}]",0,752274,ffc31609848cb269219941bb527e94a8ce039193,27,5,3,1131,,,0,"Update to pylint 2.6.0+

Pylint 2.6.0 added two new checkers [1] that made pep8 validation
fail:

- raise-missing-from (W0707)
- super-with-arguments (R1725)

Pylint 2.7.0 added one new checker [1] that made pep8 validation
fail:

- use-a-generator (R1729)

[1] http://pylint.pycqa.org/en/latest/technical_reference/features.html

Change-Id: I40a45e70156f4306021ade0029b244f4c06440a2
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/74/752274/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/common/clients.py', 'ovn_octavia_provider/event.py', 'test-requirements.txt', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/common/test_clients.py', 'ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/ovsdb/ovsdb_monitor.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/functional/test_agent.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/base.py', 'ovn_octavia_provider/tests/unit/fakes.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",15,c6eb4d142cd864e5f3b2fe3ac975fb9a4d730e31,pylint-2.6.0, super().setUp()," super(TestOvnProviderHelper, self).setUp()",31,35
openstack%2Fmonasca-notification~stable%2Fussuri~I125912b1e125aba71db0aa077dee4a412ae7873f,openstack/monasca-notification,stable/ussuri,I125912b1e125aba71db0aa077dee4a412ae7873f,Fix zuul publish docker image job,MERGED,2021-02-26 10:10:26.000000000,2021-02-26 19:08:56.000000000,2021-02-26 19:08:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 10:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f0f9755831f9afd94fa2738615002108f1b27337', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I125912b1e125aba71db0aa077dee4a412ae7873f\n'}, {'number': 2, 'created': '2021-02-26 18:15:12.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/8f7a893701762de73cbeb716c2560d05167806b8', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I125912b1e125aba71db0aa077dee4a412ae7873f\n'}]",0,777735,8f7a893701762de73cbeb716c2560d05167806b8,9,2,2,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I125912b1e125aba71db0aa077dee4a412ae7873f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/35/777735/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,f0f9755831f9afd94fa2738615002108f1b27337,fix-zuul-publish," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-ussuri'}}"""," shell: ""docker push monasca/notification""",1,1
openstack%2Fproject-config~master~I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,openstack/project-config,master,I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc,Move git-review to opendev tenant,MERGED,2021-02-26 17:36:49.000000000,2021-02-26 19:08:32.000000000,2021-02-26 18:50:19.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 17:36:49.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9d25d9cfd31b2700840d78524619261140a1730d', 'message': ""Move git-review to opendev tenant\n\nRelocate the opendev/git-review repository from the openstack tenant\ninto the opendev tenant. Also delete its release jobs, as a subsequent\nchange will add new ones in the project's repository instead. All\nother git-review jobs are already set in its repository.\n\nChange-Id: I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc\n""}]",0,777774,9d25d9cfd31b2700840d78524619261140a1730d,9,3,1,5263,,,0,"Move git-review to opendev tenant

Relocate the opendev/git-review repository from the openstack tenant
into the opendev tenant. Also delete its release jobs, as a subsequent
change will add new ones in the project's repository instead. All
other git-review jobs are already set in its repository.

Change-Id: I33af5c79fddf5e7941142ce0a1e7fedf7941a4dc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/777774/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,9d25d9cfd31b2700840d78524619261140a1730d,gitreview-2, - opendev/git-review, - opendev/git-review,1,6
openstack%2Fopenstack-helm-infra~master~I959fb9e95d8f1e03c36e44aba57c552a315867d0,openstack/openstack-helm-infra,master,I959fb9e95d8f1e03c36e44aba57c552a315867d0,[ceph-client] Separate pool quotas from pg_num calculations,MERGED,2021-02-10 17:51:05.000000000,2021-02-26 19:04:47.000000000,2021-02-26 19:03:26.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 32190}, {'_account_id': 32433}]","[{'number': 1, 'created': '2021-02-10 17:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f22eb23aba87b051d02a309836f13583ae9eb14', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 2, 'created': '2021-02-11 05:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb76579335cf95f0de130e75ce4004248afed9e9', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 3, 'created': '2021-02-11 22:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/689a7ad1be1112cf81018bdea8e64243c630cf1e', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 4, 'created': '2021-02-12 05:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc12217532ed2f2ce43b91405db7bdb14b77bcba', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 5, 'created': '2021-02-12 05:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f8bf2e28afe560144b714eedf82f4b0a664bcc9', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 6, 'created': '2021-02-16 15:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/840748e70757998738f5cb3de26e45bc4524260a', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 7, 'created': '2021-02-16 20:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee259e074f913eee651c676e16899fb723e3770b', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 8, 'created': '2021-02-16 21:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/debf46db05146dc5c9c08c85f2576179c6ebc556', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 9, 'created': '2021-02-16 21:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b60d556ae90f60be1e4ee86cceab911003307369', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 10, 'created': '2021-02-17 13:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ceb7e6c0ba64efeacd6a297750aa96053a98837', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 11, 'created': '2021-02-17 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cc6893a47258a78116337e16553a7a740610abc5', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 12, 'created': '2021-02-17 20:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1524fc78f69009774445ba681d7b9904f98b06d1', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 13, 'created': '2021-02-17 20:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d561d9fff994de12d60634e21734145ed09f99f', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 14, 'created': '2021-02-18 19:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a401345180dcb0cc613ddeef1535564c69bd8434', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 15, 'created': '2021-02-19 14:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/375e60afaba019ad3b8174c675ad8e7bcf5ba86e', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 16, 'created': '2021-02-19 14:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff0e7b775e446ecbf8ec72cef9d143ee604ab1b2', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 17, 'created': '2021-02-19 18:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc0aa89691d3dc4794af0de36aa19f160371f6b6', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 18, 'created': '2021-02-25 15:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da9c67857710145380d55969ff3962bf65dc859c', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 19, 'created': '2021-02-25 19:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b69bd0f4581e08aa32d8547a328464d1d094229', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 20, 'created': '2021-02-25 19:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3fb2ac1811757f19d91ed6e8f4604b7a5f8774de', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}, {'number': 21, 'created': '2021-02-26 16:49:10.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf7d665e793349f331b3eb76aea5c6d07c2b033a', 'message': ""[ceph-client] Separate pool quotas from pg_num calculations\n\nCurrently pool quotas and pg_num calculations are both based on\npercent_total_data values. This can be problematic when the amount\nof data allowed in a pool doesn't necessarily match the percentage\nof the cluster's data expected to be stored in the pool. It is\nalso more intuitive to define absolute quotas for pools.\n\nThis change adds an optional pool_quota value that defines an\nexplicit value in bytes to be used as a pool quota. If pool_quota\nis omitted for a given pool, that pool's quota is set to 0 (no\nquota).\n\nA check_pool_quota_target() Helm test has also been added to\nverify that the sum of all pool quotas does not exceed the target\nquota defined for the cluster if present.\n\nChange-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0\n""}]",0,774912,cf7d665e793349f331b3eb76aea5c6d07c2b033a,53,7,21,29974,,,0,"[ceph-client] Separate pool quotas from pg_num calculations

Currently pool quotas and pg_num calculations are both based on
percent_total_data values. This can be problematic when the amount
of data allowed in a pool doesn't necessarily match the percentage
of the cluster's data expected to be stored in the pool. It is
also more intuitive to define absolute quotas for pools.

This change adds an optional pool_quota value that defines an
explicit value in bytes to be used as a pool quota. If pool_quota
is omitted for a given pool, that pool's quota is set to 0 (no
quota).

A check_pool_quota_target() Helm test has also been added to
verify that the sum of all pool quotas does not exceed the target
quota defined for the cluster if present.

Change-Id: I959fb9e95d8f1e03c36e44aba57c552a315867d0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/12/774912/20 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl']",4,8f22eb23aba87b051d02a309836f13583ae9eb14,change-774912-18,"function check_pool_quota_target() { POOL_QUOTA_SUM=$(ceph --cluster ${CLUSTER} osd pool ls | xargs -I {} ceph --cluster ${CLUSTER} osd pool get-quota {} -f json | jq '.quota_max_bytes' | awk '{sum+=$1} END {printf ""%.0f"", sum}') CLUSTER_CAPACITY=$(ceph --cluster ${CLUSTER} df -f json | jq '.stats.total_bytes') # Target quota percentage for the cluster TARGET_QUOTA={{ .Values.conf.pool.target.quota | default 100 }} # Verify that the sum of all pool quotas fits within the cluster target quota if [[ $POOL_QUOTA_SUM -le $((CLUSTER_CAPACITY*TARGET_QUOTA/100)) ]]; then echo ""The sum of all pool quotas is less than or equal to the target quota for the cluster"" else echo ""The sum of all pool quotas exceeds the target quota for the cluster"" exit 1 fi } check_pool_quota_target",,22,6
openstack%2Fswift~master~I5fa39d41f9cd3b211e45d2012fd709f4135f595e,openstack/swift,master,I5fa39d41f9cd3b211e45d2012fd709f4135f595e,Report final in_progress when sharding is complete,MERGED,2021-02-08 06:12:10.000000000,2021-02-26 18:45:51.000000000,2021-02-26 18:42:36.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 06:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ce8cb89eb4068477baaf431f42e4ac8095bbd20', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nThe patch also adds SHRUNK to the in_progress ShardRange state check so\na final shrinking cleave (treated as cleaving) can also update the\ncurrent cleaving states.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 2, 'created': '2021-02-18 10:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/32d976b110e22536893fc7cb366d1ed237994b7c', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nTo help in testing, this patch also plumbs sharding stats into the recon\nmiddleware. So now your sharding recon stats are only a REST call away.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 3, 'created': '2021-02-18 10:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d30fa8caf82bc47c699245560adafe3fe408416', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nTo help in testing, this patch also plumbs sharding stats into the recon\nmiddleware. So now your sharding recon stats are only a REST call away.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 4, 'created': '2021-02-19 05:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9f461f9699b211e69e88cb26a7c2a77e7352072f', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nTo help in testing, this patch also plumbs sharding stats into the recon\nmiddleware. So now your sharding recon stats are only a REST call away.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 5, 'created': '2021-02-24 05:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/85ca6d999d392efe9f48b118e9a5895dfab2929e', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 6, 'created': '2021-02-24 05:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8079d55953883936bfb34530e846c1e3853da66', 'message': 'Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a final call to `_record_sharding_progress()` when the\nsharder completes the sharding of a container. This allows the dump to\ncontainer update information of the current state of all shard ranges\nand the current state of the own_shard_range.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n'}, {'number': 7, 'created': '2021-02-25 04:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f64277bdc10b60f43535d54c29eb43c2a098ff57', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 8, 'created': '2021-02-25 05:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e27f74c6b3844c9c74cc7534791be763340a43bc', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 9, 'created': '2021-02-25 05:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/95d1244e020abd25242fd37745c93694837b552a', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 10, 'created': '2021-02-26 01:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/898e9ca4ed9a3f341153a31b1dbd89add9badac4', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 11, 'created': '2021-02-26 01:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f96e517a71ac9a6cacdbb57af21b5fcba200854', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 12, 'created': '2021-02-26 01:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ae1f5c55149562668416f85f79cfd3b91b1daef0', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 13, 'created': '2021-02-26 05:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d8b4101dd64d76352246a2a03909d8b4a586821', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}, {'number': 14, 'created': '2021-02-26 15:56:46.000000000', 'files': ['etc/container-server.conf-sample', 'tools/playbooks/common/install_dependencies.yaml', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1de98348167f9923710d1a6d634ef6d8008eea5d', 'message': ""Report final in_progress when sharding is complete\n\nOn every sharder cycle up update in progress recon stats for each sharding\ncontainer. However, we tend to not run it one final time once sharding\nis complete because the DB state is changed to SHARDED and therefore the\nin_progress stats never get their final update.\nFor those collecting this data to monitor, this makes sharding/cleaving shards\nnever complete.\n\nThis patch, adds a new option `recon_shared_timeout` which will now\nallow sharded containers to be processed by `_record_sharding_progress()`\nafter they've finished sharding for an amount of time.\n\nChange-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e\n""}]",39,774393,1de98348167f9923710d1a6d634ef6d8008eea5d,42,4,14,7233,,,0,"Report final in_progress when sharding is complete

On every sharder cycle up update in progress recon stats for each sharding
container. However, we tend to not run it one final time once sharding
is complete because the DB state is changed to SHARDED and therefore the
in_progress stats never get their final update.
For those collecting this data to monitor, this makes sharding/cleaving shards
never complete.

This patch, adds a new option `recon_shared_timeout` which will now
allow sharded containers to be processed by `_record_sharding_progress()`
after they've finished sharding for an amount of time.

Change-Id: I5fa39d41f9cd3b211e45d2012fd709f4135f595e
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/774393/5 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,5ce8cb89eb4068477baaf431f42e4ac8095bbd20,update_stats_sharded_split," ShardRange.SHARDED, ShardRange.SHRUNK)): def _complete_sharding(self, broker, node): # Update status before we move the DB to sharded state so # we can update final sharding stats. self._record_sharding_progress(broker, node, None) if self._complete_sharding(broker, node):"," ShardRange.SHARDED)): def _complete_sharding(self, broker): if self._complete_sharding(broker):",7,3
openstack%2Fswift~master~I2a6024277d1198d8c996682682bfe28797344951,openstack/swift,master,I2a6024277d1198d8c996682682bfe28797344951,Plumb sharding stats though recon middleware,MERGED,2021-02-24 05:03:25.000000000,2021-02-26 18:44:30.000000000,2021-02-26 18:42:21.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 05:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01643a339dae1c50b68a0e15f3c26405ddf529ff', 'message': ""Plumb sharding stats though recon middleware\n\nTo make it easier to have access to the sharding stats add\n/recon/sharding as a recon middleware endpoint.\n\nThis allows an easy way to ask a container server for it's sharding\nstats using REST inside the cluster:\n\n  curl <container-server>/recon/sharding\n\nAlso add a get_recon method to the direct client so it can also be used\neasily inside tooling and probe tests.\n\nChange-Id: I2a6024277d1198d8c996682682bfe28797344951\n""}, {'number': 2, 'created': '2021-02-25 04:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b31eea938d5acd9c6c8023a6afc8e0dfe4997581', 'message': ""Plumb sharding stats though recon middleware\n\nTo make it easier to have access to the sharding stats add\n/recon/sharding as a recon middleware endpoint.\n\nThis allows an easy way to ask a container server for it's sharding\nstats using REST inside the cluster:\n\n  curl <container-server>/recon/sharding\n\nAlso add a get_recon method to the direct client so it can also be used\neasily inside tooling and probe tests.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I2a6024277d1198d8c996682682bfe28797344951\n""}, {'number': 3, 'created': '2021-02-25 05:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/27ca59bf48abac5130b806a423f82d521b82038a', 'message': ""Plumb sharding stats though recon middleware\n\nTo make it easier to have access to the sharding stats add\n/recon/sharding as a recon middleware endpoint.\n\nThis allows an easy way to ask a container server for it's sharding\nstats using REST inside the cluster:\n\n  curl <container-server>/recon/sharding\n\nAlso add a get_recon method to the direct client so it can also be used\neasily inside tooling and probe tests.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I2a6024277d1198d8c996682682bfe28797344951\n""}, {'number': 4, 'created': '2021-02-26 01:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/228423ef27e1a7756281fc8bdeffc34d7c631e1a', 'message': ""Plumb sharding stats though recon middleware\n\nTo make it easier to have access to the sharding stats add\n/recon/sharding as a recon middleware endpoint.\n\nThis allows an easy way to ask a container server for it's sharding\nstats using REST inside the cluster:\n\n  curl <container-server>/recon/sharding\n\nAlso add a get_recon method to the direct client so it can also be used\neasily inside tooling and probe tests.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I2a6024277d1198d8c996682682bfe28797344951\n""}, {'number': 5, 'created': '2021-02-26 15:56:46.000000000', 'files': ['swift/common/middleware/recon.py', 'test/unit/common/test_direct_client.py', 'test/unit/common/middleware/test_recon.py', 'swift/common/direct_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b1309c95e5d1219a9241bdf1243d9dbdd17cb2d0', 'message': ""Plumb sharding stats though recon middleware\n\nTo make it easier to have access to the sharding stats add\n/recon/sharding as a recon middleware endpoint.\n\nThis allows an easy way to ask a container server for it's sharding\nstats using REST inside the cluster:\n\n  curl <container-server>/recon/sharding\n\nAlso add a get_recon method to the direct client so it can also be used\neasily inside tooling and probe tests.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I2a6024277d1198d8c996682682bfe28797344951\n""}]",12,777297,b1309c95e5d1219a9241bdf1243d9dbdd17cb2d0,18,3,5,7233,,,0,"Plumb sharding stats though recon middleware

To make it easier to have access to the sharding stats add
/recon/sharding as a recon middleware endpoint.

This allows an easy way to ask a container server for it's sharding
stats using REST inside the cluster:

  curl <container-server>/recon/sharding

Also add a get_recon method to the direct client so it can also be used
easily inside tooling and probe tests.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I2a6024277d1198d8c996682682bfe28797344951
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/777297/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/recon.py', 'test/unit/common/test_direct_client.py', 'test/unit/common/middleware/test_recon.py', 'swift/common/direct_client.py']",4,01643a339dae1c50b68a0e15f3c26405ddf529ff,update_stats_sharded_split,"from swift.common.bufferedhttp import http_connect, http_connect_rawclass DirectClientReconException(DirectClientException): def __init__(self, method, node, path, resp, host=None): # host can be used to override the node ip and port reported in # the exception host = host if host is not None else node if not isinstance(path, six.text_type): path = path.decode(""utf-8"") msg = 'server %s:%s direct %s %r gave status %s' % ( host['ip'], host['port'], method, path, resp.status) headers = HeaderKeyDict(resp.getheaders()) super(DirectClientException, self).__init__( msg, http_host=host['ip'], http_port=host['port'], http_status=resp.status, http_reason=resp.reason, http_headers=headers) def direct_get_recon(node, recon_command, conn_timeout=5, response_timeout=15, headers=None): """""" Get recon json directly from the storage server. :param node: node dictionary from the ring :param recon_command: recon string (post /recon/) :param conn_timeout: timeout in seconds for establishing the connection :param response_timeout: timeout in seconds for getting the response :param headers: dict to be passed into HTTPConnection headers :returns: un-jsoned response :raises ClientException: HTTP REPLICATE request failed """""" if headers is None: headers = {} ip, port = get_ip_port(node, headers) path = '/recon/%s' % recon_command with Timeout(conn_timeout): conn = http_connect_raw(ip, port, 'GET', path, headers=gen_headers(headers)) with Timeout(response_timeout): resp = conn.getresponse() if not is_success(resp.status): raise DirectClientReconException('GET', node, path, resp) return json.loads(resp.read())",from swift.common.bufferedhttp import http_connect,173,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,openstack/tripleo-ansible,stable/train,I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8,Option to remove the self-installed ReaR cron task,MERGED,2021-02-24 11:33:00.000000000,2021-02-26 18:33:29.000000000,2021-02-26 18:33:29.000000000,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-02-24 11:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b92ddede85b3e428e8a3cc863a265377d5ecfea', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)\n'}, {'number': 2, 'created': '2021-02-24 11:38:16.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/210d650464f99c90189f5fc716bfb307aabe4c2f', 'message': 'Option to remove the self-installed ReaR cron task\n\nBy default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with\na default programming. This programming runs a backup job at\n1:30AM every day. During this automatic backup, the services are not\nappropiately paused. This causes the created backup to have non-valid\ndata.\n\nAs the most recent backup overwrites the older ones, this deletes\nthe ""good"" backup taken at operator\'s discretion with a new one\nthat cannot be used to restore the control plane state.\n\nThis change aims to optionally disable this default rpm behaviour.\n\nCloses-Bug: #1912764\nChange-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8\n(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)\n'}]",0,777321,210d650464f99c90189f5fc716bfb307aabe4c2f,20,6,2,32968,,,0,"Option to remove the self-installed ReaR cron task

By default, the ReaR rpm installs a cronjob on /etc/cron.d/rear with
a default programming. This programming runs a backup job at
1:30AM every day. During this automatic backup, the services are not
appropiately paused. This causes the created backup to have non-valid
data.

As the most recent backup overwrites the older ones, this deletes
the ""good"" backup taken at operator's discretion with a new one
that cannot be used to restore the control plane state.

This change aims to optionally disable this default rpm behaviour.

Closes-Bug: #1912764
Change-Id: I2582c1ba74ae115a94ecb4524ba34e79ea5b43e8
(cherry picked from commit f0acda953ca3d8ab1c17f5c9e009458168fe6f82)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/777321/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,8b92ddede85b3e428e8a3cc863a265377d5ecfea,change-777321-1,"<<<<<<< HEAD (8dba0b Revert ""Remove json_error callback"") ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_backup_and_restore_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_backup_and_restore_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}"" # Set the container command line entry-point tripleo_container_cli: ""{{ container_cli | default('podman') }}"" # Stop and start all running services before backup is ran. tripleo_backup_and_restore_service_manager: true # Set the name of the mysql container tripleo_backup_and_restore_mysql_container: mysql # All variables within this role should have a prefix of ""tripleo_backup_and_restore"" # By default this should be the Undercloud node tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24'] tripleo_backup_and_restore_rear_simulate: false tripleo_backup_and_restore_using_uefi_bootloader: 0 tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*'] tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode: true tripleo_backup_and_restore_exclude_paths_controller: ['/var/lib/mysql/*'] tripleo_backup_and_restore_exclude_paths_compute: ['/var/lib/nova/instances/*'] tripleo_backup_and_restore_hiera_config_file: ""/etc/puppet/hiera.yaml"" # This var is a dictionary of the configuration of the /etc/rear/local.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_local_config: ISO_DEFAULT: '""automatic""' USING_UEFI_BOOTLOADER: 0 OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' # This var is a dictionary of the configuration of the /etc/rear/rescue.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_rescue_config: {} tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" # Ceph authentication backup file tripleo_backup_and_restore_ceph_auth_file: ""ceph_auth_export.bak"" # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt"" # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true >>>>>>> CHANGE (78d287 Option to remove the self-installed ReaR cron task) ",,188,0
openstack%2Fswift~master~Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,openstack/swift,master,Ifda4407c9ecff4c636fe07e013c3ebcebd0df018,Run garbage collector during probe test setUp,MERGED,2021-02-26 15:56:46.000000000,2021-02-26 18:10:33.000000000,2021-02-26 18:09:07.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 15:56:46.000000000', 'files': ['test/probe/common.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6ed82b106c164560a4cbeddd39ed8a6a8d77d89d', 'message': 'Run garbage collector during probe test setUp\n\nDatabaseBrokers cache opened connections.  If a probe test\ninstantiates a DatabaseBroker, or any other class that in turn\ninstantiates a DatabaseBroker, such as a ContainerSharder, then\nconnections may hold db files open until the DatabaseBroker is garbage\ncollected. This can cause subsequent probe tests to fail during their\nsetUp() because resetswift is unable to unmount device directories\nwhile db files are open.\n\nA call to gc.collect() is added during setUp() to ensure db files are\nclosed before resetswift() is called.\n\nCloses-Bug: 1917050\nChange-Id: Ifda4407c9ecff4c636fe07e013c3ebcebd0df018\n'}]",0,777765,6ed82b106c164560a4cbeddd39ed8a6a8d77d89d,8,3,1,7847,,,0,"Run garbage collector during probe test setUp

DatabaseBrokers cache opened connections.  If a probe test
instantiates a DatabaseBroker, or any other class that in turn
instantiates a DatabaseBroker, such as a ContainerSharder, then
connections may hold db files open until the DatabaseBroker is garbage
collected. This can cause subsequent probe tests to fail during their
setUp() because resetswift is unable to unmount device directories
while db files are open.

A call to gc.collect() is added during setUp() to ensure db files are
closed before resetswift() is called.

Closes-Bug: 1917050
Change-Id: Ifda4407c9ecff4c636fe07e013c3ebcebd0df018
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/777765/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/common.py'],1,6ed82b106c164560a4cbeddd39ed8a6a8d77d89d,update_stats_sharded_split,"import gc # previous test may have left DatabaseBroker instances in garbage with # open connections to db files which will prevent unmounting devices in # resetswift, so collect garbage now gc.collect()",,5,0
openstack%2Fmonasca-notification~stable%2Fussuri~Ia36e706d995ab8174c7f8b4acc42aa57f14766de,openstack/monasca-notification,stable/ussuri,Ia36e706d995ab8174c7f8b4acc42aa57f14766de,Update lower-constraints,MERGED,2021-02-26 15:42:15.000000000,2021-02-26 17:55:07.000000000,2021-02-26 17:52:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 15:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e26f0cae5a9b647ca7a2a7e0521e27aa96cd99a1', 'message': 'Update lower-constraints\n\nChange-Id: Ia36e706d995ab8174c7f8b4acc42aa57f14766de\n'}, {'number': 2, 'created': '2021-02-26 16:39:51.000000000', 'files': ['monasca_notification/plugins/webhook_notifier.py', 'monasca_notification/common/utils.py', 'test-requirements.txt', 'monasca_notification/plugins/email_notifier.py', 'monasca_notification/plugins/jira_notifier.py', 'monasca_notification/plugins/hipchat_notifier.py', 'lower-constraints.txt', 'tox.ini', 'monasca_notification/plugins/slack_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/05249aec2333ccad1a83d53cee7295a0784fb028', 'message': 'Update lower-constraints\n\nFix flake8 E305 and E117 and set W504 as ignored\n\nChange-Id: Ia36e706d995ab8174c7f8b4acc42aa57f14766de\n'}]",0,777763,05249aec2333ccad1a83d53cee7295a0784fb028,10,2,2,28062,,,0,"Update lower-constraints

Fix flake8 E305 and E117 and set W504 as ignored

Change-Id: Ia36e706d995ab8174c7f8b4acc42aa57f14766de
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/63/777763/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,e26f0cae5a9b647ca7a2a7e0521e27aa96cd99a1,update-lower-constraints,flake8==3.6.0hacking==3.0.1mccabe==0.6.0pyflakes==2.0.0,flake8==2.5.5hacking==0.12.0mccabe==0.2.1pyflakes==0.8.1,5,5
openstack%2Fopenstack-helm-deployments~master~I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,openstack/openstack-helm-deployments,master,I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae,Adjust Gate for Airshipctl secret-generate additions,MERGED,2021-02-16 20:00:59.000000000,2021-02-26 17:48:24.000000000,2021-02-26 17:48:24.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29585}]","[{'number': 1, 'created': '2021-02-16 20:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/ef3d7d8deae59b78424eae21cd32ea7b09d3b183', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 2, 'created': '2021-02-16 23:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/cff8f5ad919f89925a7ff78d57ad782549bff9cb', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 3, 'created': '2021-02-17 02:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/d10aa9220cd34253934ef13ddc84a298223ed470', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 4, 'created': '2021-02-17 16:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/364cae9e2125052c543d46b24fd80f230f752f9f', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 5, 'created': '2021-02-17 18:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/9e608a3502e6225065ad3192f021f41128503a83', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 6, 'created': '2021-02-17 20:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/231ff39dfe885abf3b3b27fd17e53e9a18c9498b', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 7, 'created': '2021-02-18 12:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/f70967ff02a9cba64c7ad553601d14ff4f2cd754', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 8, 'created': '2021-02-18 17:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/ba8337714cad0be844fd93b72e9098e5c18aaeaa', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 9, 'created': '2021-02-19 17:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/1dd9b6b25f93b0cbe6bdae42ae77ad7fedc70ca8', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 10, 'created': '2021-02-19 21:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/bbeecf1b5b163f03a5925a5d9df96220b6e00d69', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 11, 'created': '2021-02-22 17:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/ce4e698157b0abd83d0739c6eaf09f0ff413418c', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 12, 'created': '2021-02-22 18:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/965bca36067929f0709a9b26e294af5724a3cd21', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 13, 'created': '2021-02-22 19:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c911be30cb3c3db5f3354ea001fabf5e52354cf7', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 14, 'created': '2021-02-22 20:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/4a4c6880438032bf8ec57d7b7efe35e84eb811c3', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 15, 'created': '2021-02-23 00:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7404e2c27d0070fa2f72114bbe56c107ce41b15b', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 16, 'created': '2021-02-23 00:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/51ee9017243fcb8e29fe5bc3c05da1fbf03aef10', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 17, 'created': '2021-02-23 00:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c28106903ffcfc6fda0123ba428c2a019d38fc5a', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 18, 'created': '2021-02-23 17:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/ec27ebdd47b2aa9f9f0d90fea626570ef6df5be2', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 19, 'created': '2021-02-23 17:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c863fdb0cec10d9d696e9f53fafbe98176821583', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 20, 'created': '2021-02-23 18:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/629f723c7168c657601fc0c64f18ac1a2ed4dd53', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 21, 'created': '2021-02-23 18:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/5ff9f6dd27ee91883e26e7b859b82622d6cc92a0', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 22, 'created': '2021-02-23 20:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/62eb9fde0ce34d5cbab328f0844e3b8943a772df', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 23, 'created': '2021-02-23 21:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7e8ec20b2d8efe8309e1d4e0abafc52478fdd65d', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 24, 'created': '2021-02-23 23:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/51dd8acd85ee629190444bd03f607cec0fe2f02d', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 25, 'created': '2021-02-23 23:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/6cde40ef45e687a874af63517db736bc76105733', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 26, 'created': '2021-02-24 15:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/86882548a05de2a78672e9ddd7111076864ae0da', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 27, 'created': '2021-02-24 16:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/3d42ff9406b9b9758f2c39ad250d6bc9a048d34b', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 28, 'created': '2021-02-24 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/9f73390e222cde1c53cac5aecd8ac8736ae2fe23', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 29, 'created': '2021-02-24 19:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/1ca09b192f3965f6747e4988807d1b93cbc23396', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 30, 'created': '2021-02-25 17:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/beb6b8675390a6302325a3c45ecfa0a7cb62d110', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 31, 'created': '2021-02-25 19:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/70267b32891fd1b4a540804b52a37da8159d0fc0', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 32, 'created': '2021-02-25 22:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/8671db1b9c6ce711ea771a9e86df3508ca5fa1d0', 'message': 'WIP - Fix gate\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}, {'number': 33, 'created': '2021-02-25 22:55:46.000000000', 'files': ['playbooks/openstack-helm-deployments-gate-runner.yaml', 'manifests/site/test-site/phases/patch_phases.yaml', 'manifests/site/test-site/phases/patch_executors.yaml', 'tools/patch-airship-config.sh', 'zuul.d/jobs.yaml', 'playbooks/vars/test-config.yaml', 'manifests/site/test-site/phases/kustomization.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/a1b0f7d1724f0400df2e1d6844c9fbbe45796ee6', 'message': 'Adjust Gate for Airshipctl secret-generate additions\n\nGate must be adjusted to account for airshipctl\nchanges found below. Adds scripts to gate for\ninstalling dependencies for secret-generate phase\nas well as overrides for relative paths used to\ngenerate and retrieve generated secrets.\n\nhttps://review.opendev.org/c/airship/airshipctl/+/773730\n\n\nChange-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae\n'}]",0,775925,a1b0f7d1724f0400df2e1d6844c9fbbe45796ee6,108,4,33,21420,,,0,"Adjust Gate for Airshipctl secret-generate additions

Gate must be adjusted to account for airshipctl
changes found below. Adds scripts to gate for
installing dependencies for secret-generate phase
as well as overrides for relative paths used to
generate and retrieve generated secrets.

https://review.opendev.org/c/airship/airshipctl/+/773730


Change-Id: I4c60ce1ff5c55dc84fb1276993ac1cf2fa6442ae
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/25/775925/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ef3d7d8deae59b78424eae21cd32ea7b09d3b183,fix-gates, - ./tools/deployment/23_generate_secrets.sh,,1,0
openstack%2Fpython-tripleoclient~master~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,master,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-02-25 20:29:47.000000000,2021-02-26 17:41:15.000000000,2021-02-26 17:40:04.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 20:29:47.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7', 'message': 'Add label argument for the container image build\n\nThis change adds a new argument for the container image build CLI,\nwhich allows operators to inject specific labels into a build that\nalso supports basic string replacement from user input. This\nfeature will allow maintainers and vendors to appropriately label\ntheir container images without running any post validation or\ninjection.\n\nChange-Id: Ia1337dcbeceed485eda14733221164529daf0856\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,777672,2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7,10,5,1,7353,,,0,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/777672/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml']",2,2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7,,"--- features: - The container image build command now has the ability to inject labels into various images being constructed. To add labels into a container, the argument `--label` can be specified multiple times. The value is always a key=value pair and each key must be unique. other: - The container image build label agument has the ability to do simple string replacements following the python standard. Available options for string replacement are `registry`, `namespace`, `prefix`, `image`, `tag`, and `name`. Example usage `--label component=""%(prefix)s-%(name)s-container""`. ",,44,0
openstack%2Fcharm-glance~master~Ie65d6f78f91423ba2477c3a75c195269dbe26e02,openstack/charm-glance,master,Ie65d6f78f91423ba2477c3a75c195269dbe26e02,Fix to ensure that GLANCE_SWIFT_CONF is always written,ABANDONED,2021-02-26 15:43:30.000000000,2021-02-26 17:35:03.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 15:43:30.000000000', 'files': ['unit_tests/test_glance_relations.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/549c7b0df53f478877f6c97b1c2b2bfc7e15b52d', 'message': ""Fix to ensure that GLANCE_SWIFT_CONF is always written\n\nSee associated bug.  Patch ensures that the GLANCE_SWIFT_CONF file\nis always written when the object-store-relation is joined to the unit\neven if it is the last relation to be made.  The bug indicates that this\nisn't the case if the object-store relation is the last relation to be\njoined.\n\nChange-Id: Ie65d6f78f91423ba2477c3a75c195269dbe26e02\nCloses-Bug: #1915300\n""}]",0,777764,549c7b0df53f478877f6c97b1c2b2bfc7e15b52d,5,2,1,20870,,,0,"Fix to ensure that GLANCE_SWIFT_CONF is always written

See associated bug.  Patch ensures that the GLANCE_SWIFT_CONF file
is always written when the object-store-relation is joined to the unit
even if it is the last relation to be made.  The bug indicates that this
isn't the case if the object-store relation is the last relation to be
joined.

Change-Id: Ie65d6f78f91423ba2477c3a75c195269dbe26e02
Closes-Bug: #1915300
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/64/777764/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_glance_relations.py', 'hooks/glance_relations.py']",2,549c7b0df53f478877f6c97b1c2b2bfc7e15b52d,bug/1915300," GLANCE_SWIFT_CONF, # BUG(1915300) ensure the swift config is written with the object store is # related. Note that the context only tests for existance of the relation # and not values on the relation, so doing this at joined is okay. CONFIGS.write(GLANCE_SWIFT_CONF)",,7,1
openstack%2Fmanila~master~I88b664c631eddced4ee1fcdf34cf05222cb73662,openstack/manila,master,I88b664c631eddced4ee1fcdf34cf05222cb73662,"Drop ""system_scope"" from context constructor",MERGED,2021-02-25 19:02:17.000000000,2021-02-26 17:16:57.000000000,2021-02-26 17:15:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-02-25 19:02:17.000000000', 'files': ['manila/context.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/00133f93ae2c597ffa8eef1b3b8e8523671ca661', 'message': 'Drop ""system_scope"" from context constructor\n\nManila\'s RequestContext base class was\nrecently refactored to allow arbitrary\nkeyword arguments to be passed on to the\nbase Context class in oslo_context. This\nwas done so that we don\'t have to maintain\nevery new addition to Context within manila\ncode since that layer may change as the\nmiddleware components (keystonemiddleware, for\nexample) evolve outside of manila.\n\nDuring this refactor, ""system_scope"" was\ninadvertently added as a separate keyword\nargument, and it wasn\'t being passed to the\nbase class, causing system scoped users to\nnot be represented correctly in the API.\nWe can drop this parameter and allow it to\nflow transparently through ""kwargs"".\n\nChange-Id: I88b664c631eddced4ee1fcdf34cf05222cb73662\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,777652,00133f93ae2c597ffa8eef1b3b8e8523671ca661,17,4,1,16643,,,0,"Drop ""system_scope"" from context constructor

Manila's RequestContext base class was
recently refactored to allow arbitrary
keyword arguments to be passed on to the
base Context class in oslo_context. This
was done so that we don't have to maintain
every new addition to Context within manila
code since that layer may change as the
middleware components (keystonemiddleware, for
example) evolve outside of manila.

During this refactor, ""system_scope"" was
inadvertently added as a separate keyword
argument, and it wasn't being passed to the
base class, causing system scoped users to
not be represented correctly in the API.
We can drop this parameter and allow it to
flow transparently through ""kwargs"".

Change-Id: I88b664c631eddced4ee1fcdf34cf05222cb73662
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/777652/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/context.py'],1,00133f93ae2c597ffa8eef1b3b8e8523671ca661,secure-rbac,," system_scope=None,",0,1
openstack%2Fpatrole~master~Iad89625e7514d1046e0340db96a73960a17023cf,openstack/patrole,master,Iad89625e7514d1046e0340db96a73960a17023cf,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 16:59:43.000000000,2021-02-26 17:04:15.000000000,2021-02-26 17:02:48.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 16:59:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/patrole/commit/9ec7c465620dd44d392ba12ecb58bfadd97f3260', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iad89625e7514d1046e0340db96a73960a17023cf\n""}]",0,777628,9ec7c465620dd44d392ba12ecb58bfadd97f3260,7,2,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iad89625e7514d1046e0340db96a73960a17023cf
",git fetch https://review.opendev.org/openstack/patrole refs/changes/28/777628/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9ec7c465620dd44d392ba12ecb58bfadd97f3260,,minversion = 3.18.0allowlist_externals = findallowlist_externals = nosetestsallowlist_externals = rmallowlist_externals =allowlist_externals = rm,minversion = 3.1.1whitelist_externals = findwhitelist_externals = nosetestswhitelist_externals = rmwhitelist_externals =whitelist_externals = rm,6,6
openstack%2Fopenstack-helm~master~If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,openstack/openstack-helm,master,If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:08:43.000000000,2021-02-26 16:54:12.000000000,2021-02-26 16:52:27.000000000,"[{'_account_id': 8898}, {'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 24816}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-01-28 20:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aebec5a3d8f12b07df29e65dac8c893bc4e4e067', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 2, 'created': '2021-01-28 20:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83b06e95f03e44166b02a18b8c90dea0c2bcaa2a', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 3, 'created': '2021-01-28 20:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd12c1f614f290954efd4f9661c9ef9c03e89452', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 4, 'created': '2021-01-28 22:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b2e015adf1b334387a82ddbd79196c88735be55', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 5, 'created': '2021-02-01 19:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a55bbe1275464aba34d226ad5040e770caa62e33', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 6, 'created': '2021-02-02 21:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eea964f7253f736a1caf7d398aa9a43dc557427d', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 7, 'created': '2021-02-02 21:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/352e75b98ba0ca452e0af5247ff8d3269f9da42d', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 8, 'created': '2021-02-02 22:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63a867909dc13176120916a78e84af60429eb073', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 9, 'created': '2021-02-03 04:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/925e1e16cb7bb5ddc9b7c7e4c169620cfc05d7fa', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 10, 'created': '2021-02-03 04:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c8f1ae580dd08b51a914c1b5cf38b910d63d833', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 11, 'created': '2021-02-03 04:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a51df9b69aafe55896aff6b43a22ad752f273133', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 12, 'created': '2021-02-12 15:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff6e59c7f68df75c3ff70a9cd806e80f3a832058', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 13, 'created': '2021-02-12 17:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/adc7c68e6bd24da561f43e54606cbc4e4248c399', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 14, 'created': '2021-02-12 20:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50f20a2bedebf148b4c83e03d3ac99d2856a010a', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 15, 'created': '2021-02-12 23:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8868b9eb7665371094ef9aa803ea20dec04b9b59', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 16, 'created': '2021-02-12 23:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbbcc8446006423f75f935459f1b3ab0bdac202d', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 17, 'created': '2021-02-13 07:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/def26a1abaae40ed51c34ceb6feedb42cb6f4bae', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 18, 'created': '2021-02-13 23:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71be754850f43af761208eda56aeeadf16f02be7', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 19, 'created': '2021-02-14 05:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a82638c786bc33061fe4ee6494831c1fdb749bda', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 20, 'created': '2021-02-16 07:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e15464f0dc44a7ab559eead3deb99ee714736eae', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 21, 'created': '2021-02-18 22:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e0dfe4855b0788bee119b47f3fd31060f11a195', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 22, 'created': '2021-02-18 22:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9aa2d7f4bd347ccb5732ef259dfbd64a8264dde1', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 23, 'created': '2021-02-18 22:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1f25ab8264203fb4b46baa535fb85d0356743ea', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 24, 'created': '2021-02-18 22:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2898cb083b04fb2e728d343509261c7718e9b2d7', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 25, 'created': '2021-02-18 23:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8d471dc4257a86004e00ac110adb10c38cb8d27', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 26, 'created': '2021-02-25 15:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2916476c476e6b848a7b8c6f1a290ec56b1b1d11', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 27, 'created': '2021-02-25 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30f85fbf58734397b6f3a4454005b533f89803d1', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 28, 'created': '2021-02-25 17:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d553f9329bf32c88fb9fd9d9269372d04c0bb1a', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 29, 'created': '2021-02-25 22:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87a815df3989f19eca46bfe3eb5bc05479ee5e00', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 30, 'created': '2021-02-25 22:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/454101bb53fd24e87ff36ae19e7ac65f5551284e', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 31, 'created': '2021-02-25 22:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a45507c1e808d559ff78d8b5f488f95ecdf4b3f7', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 32, 'created': '2021-02-26 02:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/740e89ecb117c539dd04c880e2d7a746e40fcab7', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 33, 'created': '2021-02-26 02:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c8c178dffbc631665d160adb0cc3bc176a840b3', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 34, 'created': '2021-02-26 02:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa29e6d28f31d69542b6160e1069191e32fbc200', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 35, 'created': '2021-02-26 02:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ff6ab4f8c8fc040621c8717c6c7a4611bf587db', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}, {'number': 36, 'created': '2021-02-26 02:43:13.000000000', 'files': ['releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'releasenotes/notes/neutron.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'keystone/values_overrides/tls.yaml', 'nova/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'placement/Chart.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca47e3c97481c8c2bdf1f3b69cabcf8bef867871', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21\n'}]",6,772813,ca47e3c97481c8c2bdf1f3b69cabcf8bef867871,177,16,36,30495,,,0,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 2ec17153c6cb918dd357f71824ec59dd0d74dfba.

Reason for revert: resolved bug with cluster issuer versioning

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772814

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: If7ebef1cebbe5b1d97ac530dd7136e3fc9232b21
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/13/772813/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml']",17,aebec5a3d8f12b07df29e65dac8c893bc4e4e067,change-772813-7,version: 0.1.4,version: 0.1.5,29,17
openstack%2Ftempest-stress~master~I6190b08b009f168bdbb1e904bf50048ac98b45ba,openstack/tempest-stress,master,I6190b08b009f168bdbb1e904bf50048ac98b45ba,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:17:34.000000000,2021-02-26 16:36:09.000000000,2021-02-26 16:35:00.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 17:17:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/47aa709502cc0570d6381e42a8abe4eb7475e249', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I6190b08b009f168bdbb1e904bf50048ac98b45ba\n""}]",0,777631,47aa709502cc0570d6381e42a8abe4eb7475e249,7,2,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I6190b08b009f168bdbb1e904bf50048ac98b45ba
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/31/777631/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,47aa709502cc0570d6381e42a8abe4eb7475e249,,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fdevstack-tools~master~I1229f065abfcbbd7a8724c12c0597d6765be9bcd,openstack/devstack-tools,master,I1229f065abfcbbd7a8724c12c0597d6765be9bcd,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:31:12.000000000,2021-02-26 16:29:56.000000000,2021-02-26 16:28:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 17:31:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/60fc831b64a5715585216ba173e04f382c9ae6f7', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1229f065abfcbbd7a8724c12c0597d6765be9bcd\n""}]",0,777635,60fc831b64a5715585216ba173e04f382c9ae6f7,7,2,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1229f065abfcbbd7a8724c12c0597d6765be9bcd
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/35/777635/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,60fc831b64a5715585216ba173e04f382c9ae6f7,,minversion = 3.18.0allowlist_externals = rmallowlist_externals =,minversion = 3.1.1whitelist_externals = rmwhitelist_externals =,3,3
openstack%2Fos-performance-tools~master~I8b8952dfbfc48fd6628584808dd5ae76db163e0b,openstack/os-performance-tools,master,I8b8952dfbfc48fd6628584808dd5ae76db163e0b,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:58:58.000000000,2021-02-26 16:27:01.000000000,2021-02-26 16:25:40.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 17:58:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/fd7258f79d0347f6716d5dfe80764902a8f68ac5', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I8b8952dfbfc48fd6628584808dd5ae76db163e0b\n""}]",0,777640,fd7258f79d0347f6716d5dfe80764902a8f68ac5,7,2,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8b8952dfbfc48fd6628584808dd5ae76db163e0b
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/40/777640/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd7258f79d0347f6716d5dfe80764902a8f68ac5,,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/train,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-24 09:16:56.000000000,2021-02-26 16:25:18.000000000,2021-02-26 16:25:18.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-24 09:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fde7a600bd09ffb4a1ff34f0fc10d7724cc885d', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1932208\n""}, {'number': 2, 'created': '2021-02-25 10:13:12.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d56985fa3342abb9c6d8bd3e6ade3f8f3c065f1', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nCloses-Bug: 1916756\nResolves: rhbz#1932208\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\n(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)\n(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)\n(cherry picked from commit 6de73eca77ae3650985e0b5d0d7d6c42562f1e6c)\n""}]",0,777341,7d56985fa3342abb9c6d8bd3e6ade3f8f3c065f1,19,7,2,8833,,,0,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
(cherry picked from commit 6de73eca77ae3650985e0b5d0d7d6c42562f1e6c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/777341/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,0fde7a600bd09ffb4a1ff34f0fc10d7724cc885d,,, roles: - admin - member - member,0,4
openstack%2Fcharm-deployment-guide~master~I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,openstack/charm-deployment-guide,master,I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29,Add scaling out text for MySQL8 cluster,MERGED,2021-02-26 01:06:46.000000000,2021-02-26 15:54:34.000000000,2021-02-26 15:52:43.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 01:06:46.000000000', 'files': ['deploy-guide/source/app-ha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1634bb1a20d1b86bb2946c6d5afe632664ee7146', 'message': 'Add scaling out text for MySQL8 cluster\n\nMove a scaling out command from the mysql-innodb-cluster\ncharm README to the HA page in this guide.\n\nChange-Id: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29\n'}]",0,777704,1634bb1a20d1b86bb2946c6d5afe632664ee7146,7,2,1,30561,,,0,"Add scaling out text for MySQL8 cluster

Move a scaling out command from the mysql-innodb-cluster
charm README to the HA page in this guide.

Change-Id: I9c5e2f4a8d5f24ee8b0cedb3d3af13bce8c90e29
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/04/777704/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ha.rst'],1,1634bb1a20d1b86bb2946c6d5afe632664ee7146,improve-ha-mysql,Scaling out the database cluster can be done in the usual manner (new units will immediately appear as read-only nodes): .. code-block:: none juju add-unit mysql-innodb-cluster ,,7,0
openstack%2Freleases~master~I16f8121258b29cec7945efe3321e09b3521b95dc,openstack/releases,master,I16f8121258b29cec7945efe3321e09b3521b95dc,ldappool 3.0.0,MERGED,2021-02-25 12:47:29.000000000,2021-02-26 15:24:11.000000000,2021-02-26 15:24:11.000000000,"[{'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-25 12:47:29.000000000', 'files': ['deliverables/_independent/ldappool.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/59d04c954e796e07a7bc421889b279a955b4b438', 'message': 'ldappool 3.0.0\n\nThis drops Python 2 support hence the major version bump. We also uncap\nPrettyTable and bump some other dependencies like openstackdocstheme and\nreno.\n\nChange-Id: I16f8121258b29cec7945efe3321e09b3521b95dc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,777584,59d04c954e796e07a7bc421889b279a955b4b438,9,4,1,15334,,,0,"ldappool 3.0.0

This drops Python 2 support hence the major version bump. We also uncap
PrettyTable and bump some other dependencies like openstackdocstheme and
reno.

Change-Id: I16f8121258b29cec7945efe3321e09b3521b95dc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/777584/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ldappool.yaml'],1,59d04c954e796e07a7bc421889b279a955b4b438,ldappool, - version: 2.4.0 projects: - version: 3.0.0 projects: - repo: openstack/ldappool hash: 322e0d753f20a9eb7f9bd27afe2271b33c6aedbb, - projects: version: 2.4.0,6,2
openstack%2Fopenstack-ansible-tests~master~I503a3b8bd09e56ab337e364732b42577a582c6a3,openstack/openstack-ansible-tests,master,I503a3b8bd09e56ab337e364732b42577a582c6a3,DNM: Pull constraint files from local path in CI,NEW,2021-02-26 14:22:44.000000000,2021-02-26 15:08:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 14:22:44.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a31927176853c6e638791a386cc9f3e947de35d3', 'message': 'DNM: Pull constraint files from local path in CI\n\nChange-Id: I503a3b8bd09e56ab337e364732b42577a582c6a3\n'}]",0,777753,a31927176853c6e638791a386cc9f3e947de35d3,2,1,1,31542,,,0,"DNM: Pull constraint files from local path in CI

Change-Id: I503a3b8bd09e56ab337e364732b42577a582c6a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/53/777753/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,a31927176853c6e638791a386cc9f3e947de35d3,,"# Set base paths to ensure locally-cloned repos are used in CI, meaning Depends-On checks work properly. _global_pins_base_path: ""{{ zuul is defined | ternary(development_repo_directory + '/opendev.org/openstack/openstack-ansible', 'https://opendev.org/openstack/openstack-ansible/raw/' + test_branch) }}"" _requirements_base_path: ""{{ zuul is defined | ternary(development_repo_directory + '/opendev.org/openstack/requirements', 'https://opendev.org/openstack/requirements/raw/' + test_branch) }}""_global_pins_path: ""{{ _global_pins_base_path }}/global-requirement-pins.txt"" _global_pins_path_type: ""{{ zuul is defined | ternary('file', 'url') }}"" {{ lookup(_global_pins_path_type, _global_pins_path, wantlist=True) | reject('match','^#.*$') | reject('equalto', '') | list }}# The URL/path of a constraints file to use when installing the additional pip packages. pip_install_upper_constraints: ""{{ _global_pins_path }} --constraint {{ _requirements_base_path }}/upper-constraints.txt"" ","# The URL/path of a constraints file to use when installing the additional pip packages. pip_install_upper_constraints: ""https://opendev.org/openstack/openstack-ansible/raw/{{ test_branch }}/global-requirement-pins.txt --constraint https://opendev.org/openstack/requirements/raw/{{ test_branch }}/upper-constraints.txt""_global_pins_file_url: ""https://opendev.org/openstack/openstack-ansible/raw/{{ test_branch }}/global-requirement-pins.txt"" {{ lookup('url', _global_pins_file_url, wantlist=True) | reject('match','^#.*$') | reject('equalto', '') | list }}",9,4
openstack%2Fopenstack-helm-infra~master~Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,openstack/openstack-helm-infra,master,Ie3ab601f379a17e666b9ed2bfe174dd098abc41f,[WIP] feat(tls): Enable TLS for Ceph RGW,ABANDONED,2021-02-24 18:45:00.000000000,2021-02-26 15:08:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 18:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ac0671b3a37dcfa6da7b61a826ac273495d5c80', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 2, 'created': '2021-02-24 18:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9842af9cada2e93580c585bb1d0afd0f0f74397a', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 3, 'created': '2021-02-24 20:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/973ab0192634908baec59d0bff233e3461ee02bd', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 4, 'created': '2021-02-24 22:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8539832e20060471efed7abe49632796226bdb32', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 5, 'created': '2021-02-24 22:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f2843d25833118cabef5fe722249aa15800bb60', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 6, 'created': '2021-02-25 18:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/906b63b21a41ab6c53fb97a2b5b8cabacf38d48c', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}, {'number': 7, 'created': '2021-02-26 14:55:53.000000000', 'files': ['ceph-rgw/templates/certificates.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/templates/bin/_helm-tests.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-rgw/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/973791b79981e053285745099c58fac97ebca9dc', 'message': '[WIP] feat(tls): Enable TLS for Ceph RGW\n\nChange-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f\n'}]",0,777451,973791b79981e053285745099c58fac97ebca9dc,13,1,7,32190,,,0,"[WIP] feat(tls): Enable TLS for Ceph RGW

Change-Id: Ie3ab601f379a17e666b9ed2bfe174dd098abc41f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/777451/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/certificates.yaml', 'ceph-rgw/Chart.yaml', 'ceph-rgw/templates/ingress-rgw.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-rgw/values_overrides/tls.yaml']",6,5ac0671b3a37dcfa6da7b61a826ac273495d5c80,rgw-tls-4,--- endpoints: ceph_object_store: host_fqdn_override: default: tls: secretName: ceph-tls-api issuerRef: name: ca-issuer kind: ClusterIssuer manifests: certificates: true ... ,,43,3
openstack%2Fcinder-tempest-plugin~master~Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,openstack/cinder-tempest-plugin,master,Id6dc96915f5b15827e6e8f58cc8195a0f76e9686,Fix cinder-backup/swift: readd member to tempest roles,MERGED,2021-02-25 21:21:04.000000000,2021-02-26 14:46:14.000000000,2021-02-26 14:46:14.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 21:21:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5d7847ccbc7c9a798aa40ee9511c3dd08ca938d6', 'message': ""Fix cinder-backup/swift: readd member to tempest roles\n\nChange I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc removed the 'member'\nuser from the default roles assigned to dynamic tempest users.\nThis broke cinder-backup with the default swift backend.\n\nSet the full list of roles, including 'creator' which should be\nadded by the barbican devstack plugin. Unfortunately the values\nhere overrides any other setting.\n\nChange-Id: Id6dc96915f5b15827e6e8f58cc8195a0f76e9686\n""}]",0,777685,5d7847ccbc7c9a798aa40ee9511c3dd08ca938d6,19,3,1,10459,,,0,"Fix cinder-backup/swift: readd member to tempest roles

Change I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc removed the 'member'
user from the default roles assigned to dynamic tempest users.
This broke cinder-backup with the default swift backend.

Set the full list of roles, including 'creator' which should be
added by the barbican devstack plugin. Unfortunately the values
here overrides any other setting.

Change-Id: Id6dc96915f5b15827e6e8f58cc8195a0f76e9686
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/85/777685/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5d7847ccbc7c9a798aa40ee9511c3dd08ca938d6,fix-add-member-tempest-cbak-swift," auth: # FIXME: 'creator' should be re-added by the barbican devstack plugin # but the value below override everything. tempest_roles: member,creator",,4,0
openstack%2Ftripleo-common~stable%2Fvictoria~I776192717798c9fc3f02c4d358bebed2bada3593,openstack/tripleo-common,stable/victoria,I776192717798c9fc3f02c4d358bebed2bada3593,Fix fact definition for deployments,MERGED,2021-02-23 21:18:10.000000000,2021-02-26 14:44:24.000000000,2021-02-26 14:42:51.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:18:10.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/451cbc23efa28019acb838700168aaa25ea548ff', 'message': 'Fix fact definition for deployments\n\nFor legacy deployment tasks we construct them here in tripleo-common. In\norder to disable inject facts, we need to fix this here too.\n\nChange-Id: I776192717798c9fc3f02c4d358bebed2bada3593\nRelated-Bug: #1915761\n(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)\n'}]",0,777228,451cbc23efa28019acb838700168aaa25ea548ff,16,3,1,14985,,,0,"Fix fact definition for deployments

For legacy deployment tasks we construct them here in tripleo-common. In
order to disable inject facts, we need to fix this here too.

Change-Id: I776192717798c9fc3f02c4d358bebed2bada3593
Related-Bug: #1915761
(cherry picked from commit 6af709a65e7814209e5e44f8de14f28c3badc81d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/777228/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,451cbc23efa28019acb838700168aaa25ea548ff,bug/1915761-stable/victoria," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_facts['hostname'] | lower ~ '/' ~ item }}"""," deployment_uuid: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_id) }}"" deployment_group: ""{{ lookup('file', tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item) | from_yaml | json_query(item_group) }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}"" src: ""{{ tripleo_role_name ~ '/' ~ ansible_hostname | lower ~ '/' ~ item }}""",4,4
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,stable/victoria,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 15:59:19.000000000,2021-02-26 14:42:56.000000000,2021-02-26 14:42:56.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 15:59:19.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6e7019add37e18092078ae1fd0738dcb23bc9cb', 'message': 'Fix redis_tls_proxy\n\nSince we merged the pcs-host patches we erroneously also removed\nthe sidecar container that does the tls stunneling for redis.\nThis is needed to allow the redis master stream the deplications to\nits slaves via TLS.\n\nTested this and we now correctly get the working container and cluster\nstate:\n[root@controller-0 ~]# podman ps -a |grep redis\n4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0\n604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy\n[root@controller-0 ~]# pcs status |grep redis\n  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]\n  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:\n    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0\n    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1\n    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2\n\nWe also move the redis_tls_proxy from step_2/start_order: 3 to step_1\nsince it actually makes sense to have it run before we start the\nredis pcmk bundle at step 2 (i.e. so the slave replica can work right\naway from the start).\n\nCloses-Bug: #1916873\n\nChange-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab\n'}]",0,777546,e6e7019add37e18092078ae1fd0738dcb23bc9cb,12,4,1,20172,,,0,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/777546/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,e6e7019add37e18092078ae1fd0738dcb23bc9cb,fix-redis-tls-stable/victoria," docker_config: step_1: if: - internal_tls_enabled - redis_tls_proxy: start_order: 0 image: {get_param: ContainerRedisImage} net: host user: root restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis_tls_proxy.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/private/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key:ro - /var/lib/container-config-scripts/wait-port-and-run.sh:/wait-port-and-run.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {}",,22,0
openstack%2Ftripleo-ansible~master~Ic27dcc9f891257ccb15e691674b440501a4c88df,openstack/tripleo-ansible,master,Ic27dcc9f891257ccb15e691674b440501a4c88df,Also bootstrap tripleo packages on Centos8,ABANDONED,2021-02-26 13:44:15.000000000,2021-02-26 13:47:34.000000000,,[],"[{'number': 1, 'created': '2021-02-26 13:44:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/vars/centos-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a93ee4b74b6af4d665803a49e0c2f50e3d847af1', 'message': 'Also bootstrap tripleo packages on Centos8\n\nCentos8 pre-deployed servers fail to install since there is no\nmatch in the vars file.\n\nChange-Id: Ic27dcc9f891257ccb15e691674b440501a4c88df\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,777750,a93ee4b74b6af4d665803a49e0c2f50e3d847af1,2,0,1,6926,,,0,"Also bootstrap tripleo packages on Centos8

Centos8 pre-deployed servers fail to install since there is no
match in the vars file.

Change-Id: Ic27dcc9f891257ccb15e691674b440501a4c88df
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/777750/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/vars/centos-8.yml'],1,a93ee4b74b6af4d665803a49e0c2f50e3d847af1,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_bootstrap_packages_bootstrap: - lvm2 - jq - openvswitch - openstack-heat-agents - openstack-selinux - os-net-config - python3-libselinux - python3-pyyaml - puppet-tripleo - rsync - tmpwatch - sysstat _tripleo_bootstrap_legacy_network_packages: - network-scripts tripleo_bootstrap_network_service: NetworkManager _tripleo_bootstrap_release_version_package: - rhosp-release ",,38,0
openstack%2Fopenstack-ansible~master~Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,openstack/openstack-ansible,master,Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1,Workaround nova bug,MERGED,2021-02-25 14:39:09.000000000,2021-02-26 13:42:00.000000000,2021-02-26 13:40:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-25 14:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a0995dbfd2d481bf680db68fde6b4c34cf73aa47', 'message': 'DNM Test workaround octavia centos bug\n\nChange-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1\n'}, {'number': 2, 'created': '2021-02-25 20:41:24.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/07f7243bf90611e31cd8c94b5ea2883f0ee65bb4', 'message': 'Workaround nova bug\n\nFor some reason libvirt of version 5.1 fails to attach\nsecond port to instances with single vcpu and pc-i440fx\nmachine type.\nSo we applying workaround with extending amount of cores\nfor amphora flavor\n\nRelated-Bug: #1916879\nChange-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1\n'}]",0,777601,07f7243bf90611e31cd8c94b5ea2883f0ee65bb4,10,3,2,28619,,,0,"Workaround nova bug

For some reason libvirt of version 5.1 fails to attach
second port to instances with single vcpu and pc-i440fx
machine type.
So we applying workaround with extending amount of cores
for amphora flavor

Related-Bug: #1916879
Change-Id: Ifbf9e4c59093e1cda2bc353a3a415fc62ad80ae1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/777601/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_octavia.yml.j2'],1,a0995dbfd2d481bf680db68fde6b4c34cf73aa47,,octavia_amp_vcpu: 2,,1,0
openstack%2Fneutron-tempest-plugin~master~I4c714f68150f4e40d09048e4d2306619455875b4,openstack/neutron-tempest-plugin,master,I4c714f68150f4e40d09048e4d2306619455875b4,Add update QoS rule test step to fip-qos scenario,MERGED,2021-02-23 08:21:02.000000000,2021-02-26 13:07:32.000000000,2021-02-26 13:07:32.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-02-23 08:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8390679e83a91d91b394fee00313184094d1e40f', 'message': 'Add update QoS rule test step to fip-qos scenario\n\nThis test step was performed at QoSTest.test_qos_basic_and_update (QoS\npolicies applied to network and port), but not at\nFloatingIPQosTest.test_qos (QoS policies applied to FIP)\n\nChange-Id: I4c714f68150f4e40d09048e4d2306619455875b4\n'}, {'number': 2, 'created': '2021-02-23 11:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c184a5dd9c12de1998859813c2b8bd54db7021ee', 'message': 'Add update QoS rule test step to fip-qos scenario\n\nThis test step was performed at QoSTest.test_qos_basic_and_update (QoS\npolicies applied to network and port), but not at\nFloatingIPQosTest.test_qos (QoS policies applied to FIP)\n\nChange-Id: I4c714f68150f4e40d09048e4d2306619455875b4\n'}, {'number': 3, 'created': '2021-02-23 19:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8b932aac6120b2d111934dad0e34c2730836738b', 'message': 'Add update QoS rule test step to fip-qos scenario\n\nThis test step was performed at QoSTest.test_qos_basic_and_update (QoS\npolicies applied to network and port), but not at\nFloatingIPQosTest.test_qos (QoS policies applied to FIP)\n\nChange-Id: I4c714f68150f4e40d09048e4d2306619455875b4\n'}, {'number': 4, 'created': '2021-02-24 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ba812066841178cf11dbb87156f78bdc84ae41d5', 'message': 'Add update QoS rule test step to fip-qos scenario\n\nThis test step was performed at QoSTest.test_qos_basic_and_update (QoS\npolicies applied to network and port), but not at\nFloatingIPQosTest.test_qos (QoS policies applied to FIP)\n\nChange-Id: I4c714f68150f4e40d09048e4d2306619455875b4\n'}, {'number': 5, 'created': '2021-02-25 07:44:46.000000000', 'files': ['neutron_tempest_plugin/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f5a40d92f2d3085148f87c8c912d50dc463d5ca1', 'message': 'Add update QoS rule test step to fip-qos scenario\n\nThis test step was performed at QoSTest.test_qos_basic_and_update (QoS\npolicies applied to network and port), but not at\nFloatingIPQosTest.test_qos (QoS policies applied to FIP)\n\nChange-Id: I4c714f68150f4e40d09048e4d2306619455875b4\n'}]",1,777058,f5a40d92f2d3085148f87c8c912d50dc463d5ca1,20,6,5,31291,,,0,"Add update QoS rule test step to fip-qos scenario

This test step was performed at QoSTest.test_qos_basic_and_update (QoS
policies applied to network and port), but not at
FloatingIPQosTest.test_qos (QoS policies applied to FIP)

Change-Id: I4c714f68150f4e40d09048e4d2306619455875b4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/58/777058/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_floatingip.py'],1,8390679e83a91d91b394fee00313184094d1e40f,," # Create a new QoS policy # As admin user create a new QoS rules # Associate QoS to the FIP # Basic test, Check that actual BW while downloading file # is as expected (Original BW) sleep=1, exception=RuntimeError( 'Failed scenario: ""Create a QoS policy associated with FIP""' 'Actual BW is not as expected!')) # As admin user update QoS rules for rule in rules: self.os_admin.network_client.update_bandwidth_limit_rule( policy_id, rule['id'], max_kbps=constants.LIMIT_KILO_BITS_PER_SECOND * 2, max_burst_kbps=constants.LIMIT_KILO_BITS_PER_SECOND * 2) # Check that actual BW while downloading file # is as expected (Update BW) common_utils.wait_until_true(lambda: self._check_bw( ssh_client, self.fip['floating_ip_address'], port=self.NC_PORT, expected_bw=test_qos.QoSTestMixin.LIMIT_BYTES_SEC * 2), timeout=120, sleep=1, exception=RuntimeError( 'Failed scenario: ""Update QoS policy associated with FIP""' 'Actual BW is not as expected!'))", sleep=1),32,1
openstack%2Fopenstack-ansible-os_adjutant~master~Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,openstack/openstack-ansible-os_adjutant,master,Ie1db13b4b4545ce33449870e5be0eabe2d36df3d,Use global service variables,MERGED,2021-02-25 14:07:49.000000000,2021-02-26 12:49:17.000000000,2021-02-26 12:47:03.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-25 14:07:49.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/cd405c2036b2715ddb731d11f746df7bf5cae8f9', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ie1db13b4b4545ce33449870e5be0eabe2d36df3d\n'}]",0,777596,cd405c2036b2715ddb731d11f746df7bf5cae8f9,9,4,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ie1db13b4b4545ce33449870e5be0eabe2d36df3d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/96/777596/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,cd405c2036b2715ddb731d11f746df7bf5cae8f9,,"# Set the package install state for distribution packagesadjutant_package_state: ""{{ package_state | default('latest') }}""adjutant_galera_port: ""{{ galera_port | default('3306') }}""adjutant_service_region: ""{{ service_region | default('RegionOne') }}""adjutant_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","# Set the package install state for distribution and pip packagesadjutant_package_state: ""latest"" adjutant_pip_package_state: ""latest""adjutant_galera_port: 3306adjutant_service_region: RegionOneadjutant_service_in_ldap: false",5,6
openstack%2Fopenstack-ansible-os_adjutant~master~Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,openstack/openstack-ansible-os_adjutant,master,Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e,Use venv_tag,MERGED,2021-02-25 14:09:18.000000000,2021-02-26 12:48:10.000000000,2021-02-26 12:47:00.000000000,"[{'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-02-25 14:09:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/e1245d8ec706ff9b1632052cf812698eea2da6d3', 'message': ""Use venv_tag\n\nThere was an issue when adjutant didn't use venv_tag that resulted in\nbroken venv.\nWe should use proper venv_tag while installing services.\n\nChange-Id: Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e\n""}]",0,777597,e1245d8ec706ff9b1632052cf812698eea2da6d3,9,4,1,28619,,,0,"Use venv_tag

There was an issue when adjutant didn't use venv_tag that resulted in
broken venv.
We should use proper venv_tag while installing services.

Change-Id: Ib5074969c8c5cbd60f45dcc100cb0cdb9c17662e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/97/777597/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e1245d8ec706ff9b1632052cf812698eea2da6d3,,"adjutant_venv_tag: ""{{ venv_tag | default('untagged') }}""",adjutant_venv_tag: untagged,1,1
openstack%2Fmonasca-notification~stable%2Fvictoria~I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,openstack/monasca-notification,stable/victoria,I70c4c771efe0c0cab536aef53a80dac3ae44bd5f,Fix zuul publish docker image job,MERGED,2021-02-26 09:40:59.000000000,2021-02-26 12:35:29.000000000,2021-02-26 12:35:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 09:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/47d86fa6f4c077ecbb4212b8e1fd82386b4159b8', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I70c4c771efe0c0cab536aef53a80dac3ae44bd5f\n'}, {'number': 2, 'created': '2021-02-26 11:37:58.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/40e5228d68659eb0cc468c975c4d265b2056799b', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I70c4c771efe0c0cab536aef53a80dac3ae44bd5f\n'}]",0,777731,40e5228d68659eb0cc468c975c4d265b2056799b,8,2,2,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I70c4c771efe0c0cab536aef53a80dac3ae44bd5f
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/31/777731/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,47d86fa6f4c077ecbb4212b8e1fd82386b4159b8,fix-zuul-publish," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria'}}"""," shell: ""docker push monasca/notification""",1,1
openstack%2Fpython-magnumclient~master~I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,openstack/python-magnumclient,master,I4b9e68d5105cdaa76b7906dbc839182ff3a57df1,Uncap PrettyTable,MERGED,2021-02-23 15:01:34.000000000,2021-02-26 12:16:52.000000000,2021-02-26 12:15:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-23 15:01:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e2bcf6e98011f04f7768ab5859077f43093166d8', 'message': 'Uncap PrettyTable\n\nThis is now maintained as a Jazzband project [1].\n\n[1] https://github.com/jazzband/prettytable\n\nChange-Id: I4b9e68d5105cdaa76b7906dbc839182ff3a57df1\n'}]",0,777145,e2bcf6e98011f04f7768ab5859077f43093166d8,8,4,1,15197,,,0,"Uncap PrettyTable

This is now maintained as a Jazzband project [1].

[1] https://github.com/jazzband/prettytable

Change-Id: I4b9e68d5105cdaa76b7906dbc839182ff3a57df1
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/45/777145/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e2bcf6e98011f04f7768ab5859077f43093166d8,bump_prettytable_version,PrettyTable>=0.7.2 # BSD,"PrettyTable<0.8,>=0.7.2 # BSD",1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I949a17a8e77e96b6933e625914ea337eb94e53c2,openstack/openstack-ansible-openstack_hosts,master,I949a17a8e77e96b6933e625914ea337eb94e53c2,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:53:20.000000000,2021-02-26 11:50:34.000000000,2021-02-26 11:49:20.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 16:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/dad4b1814a4fcad2233eaee0d0df0107b3dceb0f', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 2, 'created': '2021-02-22 18:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0bea8fe97836f0ab31e56966ad40e3b87b3fba23', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 3, 'created': '2021-02-23 09:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9e827fe6e97d1144241abf8ace93e2ec7fb8ef37', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 4, 'created': '2021-02-23 12:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7e8afd9995f086540e81855cb917eef2b264b950', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 5, 'created': '2021-02-23 14:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/28227ac93334f95cd434f07145258c6c1c1c7bdd', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 6, 'created': '2021-02-24 10:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5cdad3532f087c83f847f90da084fd8d31bdb40a', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}, {'number': 7, 'created': '2021-02-25 12:26:20.000000000', 'files': ['tasks/main.yml', 'tasks/openstack_authorized_keys.yml', 'vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml', 'tests/test.yml', 'defaults/main.yml', 'tasks/configure_metal_hosts.yml', 'vars/ubuntu-18.04.yml', 'tasks/openstack_hosts_ca_certificates.yml', 'tests/test-create-ca.yml', 'tasks/openstack_sysstat.yml', 'meta/main.yml', 'tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9c585b7257d44c5bdb111983d186f355d7065cbc', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2\n'}]",8,776960,9c585b7257d44c5bdb111983d186f355d7065cbc,26,4,7,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I949a17a8e77e96b6933e625914ea337eb94e53c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/60/776960/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/openstack_authorized_keys.yml', 'vars/redhat-8.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml', 'tests/test.yml', 'defaults/main.yml', 'tasks/configure_metal_hosts.yml', 'vars/ubuntu-18.04.yml', 'tasks/openstack_hosts_ca_certificates.yml', 'tests/test-create-ca.yml', 'tasks/openstack_sysstat.yml', 'meta/main.yml', 'tasks/openstack_update_hosts_file.yml']",14,dad4b1814a4fcad2233eaee0d0df0107b3dceb0f,osa-facts, {% set _ans_hostname = hostvars[item]['ansible_facts['hostname']] | default(_target_rfc_name) %}, {% set _ans_hostname = hostvars[item]['ansible_hostname'] | default(_target_rfc_name) %},49,49
openstack%2Fmonasca-notification~stable%2Fvictoria~Idae87291f4556eee77d40ab49f0d151435d70875,openstack/monasca-notification,stable/victoria,Idae87291f4556eee77d40ab49f0d151435d70875,Update hacking for Python3,MERGED,2021-02-26 10:24:02.000000000,2021-02-26 11:21:53.000000000,2021-02-26 11:20:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-26 10:24:02.000000000', 'files': ['monasca_notification/plugins/webhook_notifier.py', 'requirements.txt', 'monasca_notification/common/utils.py', 'test-requirements.txt', 'monasca_notification/plugins/email_notifier.py', 'monasca_notification/plugins/jira_notifier.py', 'monasca_notification/plugins/hipchat_notifier.py', 'lower-constraints.txt', 'tox.ini', 'monasca_notification/plugins/slack_notifier.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/010e237e0323b24864bfeb8caa59a4740ed116fe', 'message': 'Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found by updated hacking version.\n\nRemove hacking and friends from lower-constraints, they are not needed\nthere at all.\n\nAlign lower-constraints for new pip [1]\n\nFix flake8 E305 and E117 and set W504 as ignored\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: Idae87291f4556eee77d40ab49f0d151435d70875\n(cherry picked from commit 35a9b57f9136b4ce735a00d788fa49133aa29abc)\n'}]",0,777552,010e237e0323b24864bfeb8caa59a4740ed116fe,7,2,1,28062,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found by updated hacking version.

Remove hacking and friends from lower-constraints, they are not needed
there at all.

Align lower-constraints for new pip [1]

Fix flake8 E305 and E117 and set W504 as ignored

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: Idae87291f4556eee77d40ab49f0d151435d70875
(cherry picked from commit 35a9b57f9136b4ce735a00d788fa49133aa29abc)
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/52/777552/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/plugins/webhook_notifier.py', 'requirements.txt', 'monasca_notification/common/utils.py', 'test-requirements.txt', 'monasca_notification/plugins/email_notifier.py', 'monasca_notification/plugins/jira_notifier.py', 'monasca_notification/plugins/hipchat_notifier.py', 'lower-constraints.txt', 'tox.ini', 'monasca_notification/plugins/slack_notifier.py']",10,010e237e0323b24864bfeb8caa59a4740ed116fe,update-lower-constraints-stable/victoria,,,21,16
openstack%2Fkayobe~master~Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,openstack/kayobe,master,Ia116dec86d0417e7b51b4b6ba3caec7459cc4916,DNM: debug vexxhost baremetal deploys,ABANDONED,2021-02-25 10:14:09.000000000,2021-02-26 11:21:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-25 10:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e9e72469dc5bed270a504abf03a8bdecda6c091a', 'message': 'DNM: try CentOS DIB IPA on vexxhost\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}, {'number': 2, 'created': '2021-02-25 10:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5ec444cbc04fe30787b581394528babb9873f952', 'message': 'DNM: try CentOS DIB IPA on vexxhost\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}, {'number': 3, 'created': '2021-02-25 11:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61f3dfb009b2af9f0567ff21b5efde4307a94a4b', 'message': 'DNM: try CentOS DIB IPA on vexxhost\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}, {'number': 4, 'created': '2021-02-25 12:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cdae419f772b30603738b0ac0a73f26848dc012a', 'message': 'DNM: try CentOS DIB IPA on vexxhost\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}, {'number': 5, 'created': '2021-02-25 14:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c1901fb75e177f6e65d24d096861501d43406818', 'message': 'DNM: try CentOS DIB IPA on vexxhost\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}, {'number': 6, 'created': '2021-02-26 09:04:56.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'dev/tenks-deploy-config-compute.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a8ee1942d7b449ebb786e944bcbe168dffcd2168', 'message': 'DNM: debug vexxhost baremetal deploys\n\nChange-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916\n'}]",0,777558,a8ee1942d7b449ebb786e944bcbe168dffcd2168,17,1,6,14826,,,0,"DNM: debug vexxhost baremetal deploys

Change-Id: Ia116dec86d0417e7b51b4b6ba3caec7459cc4916
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/58/777558/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/ironic.conf', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml']",6,e9e72469dc5bed270a504abf03a8bdecda6c091a,, name: kayobe-overcloud-centos8-1 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-2 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-3 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-4 parent: kayobe-overcloud-centos8 - job:," # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3 # Use fewer attempts for upgrades, since pre.yml includes deployment of the # previous release which takes a considerable amount of time. attempts: 3",45,21
openstack%2Fnova~stable%2Fussuri~Id2d8d72d30075200d2b07b847c4e5568599b0d3b,openstack/nova,stable/ussuri,Id2d8d72d30075200d2b07b847c4e5568599b0d3b,only wait for plugtime events in pre-live-migration,MERGED,2021-01-14 12:37:15.000000000,2021-02-26 11:01:28.000000000,2021-02-26 01:32:59.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-14 12:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114b55c2f4d04f9b0bbf6f5f97467e8271d3e802', 'message': 'only wait for plugtime events in pre-live-migration\n\nThis change modifies _get_neutron_events_for_live_migration\nto filter the event to just the subset that will be sent\nat plug-time.\n\nCurrently neuton has a bug where by the dhcp agent\nsend a network-vif-plugged event during live migration after\nwe update the port profile with ""migrating-to:""\nthis cause a network-vif-plugged event to be sent for\nconfiguration where vif_plugging in nova/os-vif is a noop.\n\nwhen that is corrected the current logic in nova cause the migration\nto time out as its waiting for an event that will never arrive.\n\nThis change filters the set of events we wait for to just the plug\ntime events.\n\nRelated-Bug: #1815989\nCloses-Bug: #1901707\nChange-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b\n(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)\n'}, {'number': 2, 'created': '2021-01-14 12:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fce48e0aef86486ef15f4eea191bb6ccfacdcac4', 'message': 'only wait for plugtime events in pre-live-migration\n\nThis change modifies _get_neutron_events_for_live_migration\nto filter the event to just the subset that will be sent\nat plug-time.\n\nCurrently neuton has a bug where by the dhcp agent\nsend a network-vif-plugged event during live migration after\nwe update the port profile with ""migrating-to:""\nthis cause a network-vif-plugged event to be sent for\nconfiguration where vif_plugging in nova/os-vif is a noop.\n\nwhen that is corrected the current logic in nova cause the migration\nto time out as its waiting for an event that will never arrive.\n\nThis change filters the set of events we wait for to just the plug\ntime events.\n\nRelated-Bug: #1815989\nCloses-Bug: #1901707\nChange-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b\n(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)\n(cherry picked from commit f3c4931849c17727182655b6911e67ad35a05d34)\n'}, {'number': 3, 'created': '2021-02-02 15:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1db037a14b5b34aa06fc0953d0c2f776c9098cf', 'message': 'only wait for plugtime events in pre-live-migration\n\nThis change modifies _get_neutron_events_for_live_migration\nto filter the event to just the subset that will be sent\nat plug-time.\n\nCurrently neuton has a bug where by the dhcp agent\nsend a network-vif-plugged event during live migration after\nwe update the port profile with ""migrating-to:""\nthis cause a network-vif-plugged event to be sent for\nconfiguration where vif_plugging in nova/os-vif is a noop.\n\nwhen that is corrected the current logic in nova cause the migration\nto time out as its waiting for an event that will never arrive.\n\nThis change filters the set of events we wait for to just the plug\ntime events.\n\nThis backport has squashed the follow up change\nI37c712ba9a0ab88c44d10f80da3254ab6c463a68 to remove the unused\nmigration paramater orginally added by this patch to\n_get_neutron_events_for_live_migration\n\nRelated-Bug: #1815989\nCloses-Bug: #1901707\nChange-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b\n(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)\n(cherry picked from commit f3c4931849c17727182655b6911e67ad35a05d34)\n'}, {'number': 4, 'created': '2021-02-18 11:32:34.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/model.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c833d5a404dfa206e08c97543e80cb613b3f0b', 'message': 'only wait for plugtime events in pre-live-migration\n\nThis change modifies _get_neutron_events_for_live_migration\nto filter the event to just the subset that will be sent\nat plug-time.\n\nCurrently neuton has a bug where by the dhcp agent\nsend a network-vif-plugged event during live migration after\nwe update the port profile with ""migrating-to:""\nthis cause a network-vif-plugged event to be sent for\nconfiguration where vif_plugging in nova/os-vif is a noop.\n\nwhen that is corrected the current logic in nova cause the migration\nto time out as its waiting for an event that will never arrive.\n\nThis change filters the set of events we wait for to just the plug\ntime events.\n\nThis backport has squashed the follow up change\nI37c712ba9a0ab88c44d10f80da3254ab6c463a68 to remove the unused\nmigration paramater orginally added by this patch to\n_get_neutron_events_for_live_migration\n\nRelated-Bug: #1815989\nCloses-Bug: #1901707\nChange-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b\n(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)\n(cherry picked from commit ef348c4eb3379189f290217c9351157b1ebf0adb)\n'}]",0,770745,d9c833d5a404dfa206e08c97543e80cb613b3f0b,31,6,4,11604,,,0,"only wait for plugtime events in pre-live-migration

This change modifies _get_neutron_events_for_live_migration
to filter the event to just the subset that will be sent
at plug-time.

Currently neuton has a bug where by the dhcp agent
send a network-vif-plugged event during live migration after
we update the port profile with ""migrating-to:""
this cause a network-vif-plugged event to be sent for
configuration where vif_plugging in nova/os-vif is a noop.

when that is corrected the current logic in nova cause the migration
to time out as its waiting for an event that will never arrive.

This change filters the set of events we wait for to just the plug
time events.

This backport has squashed the follow up change
I37c712ba9a0ab88c44d10f80da3254ab6c463a68 to remove the unused
migration paramater orginally added by this patch to
_get_neutron_events_for_live_migration

Related-Bug: #1815989
Closes-Bug: #1901707
Change-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b
(cherry picked from commit 8b33ac064456482158b23c2a2d52f819ebb4c60e)
(cherry picked from commit ef348c4eb3379189f290217c9351157b1ebf0adb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/770745/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/model.py', 'nova/compute/manager.py']",3,114b55c2f4d04f9b0bbf6f5f97467e8271d3e802,bug/1901707," def _get_neutron_events_for_live_migration(instance, migration): return (instance.get_network_info() .get_live_migration_plug_time_events()) events = self._get_neutron_events_for_live_migration( instance, migration)"," def _get_neutron_events_for_live_migration(instance): return [('network-vif-plugged', vif['id']) for vif in instance.get_network_info()] events = self._get_neutron_events_for_live_migration(instance)",53,15
openstack%2Fcharm-keystone-saml-mellon~master~I926941e47966330f079929156cdbefd03b00eb64,openstack/charm-keystone-saml-mellon,master,I926941e47966330f079929156cdbefd03b00eb64,Add multi-backend testing,MERGED,2021-01-10 15:48:52.000000000,2021-02-26 10:17:12.000000000,2021-02-26 10:17:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-10 15:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8fd0fc776a169dd08ff29e9515bf0c4ae32ab1b1', 'message': 'Add multi-backend testing\n\nUse the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local\nSAML-based IdPs, and link them to two instances of the keystone-saml-mellon.\n\nThe corresponding Zaza tests will validate that Keystone is properly\nsetup with the multi-backend pointing to our local IdPs.\n\nChange-Id: I926941e47966330f079929156cdbefd03b00eb64\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480\n'}, {'number': 2, 'created': '2021-01-15 14:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/af0ee2a9cbbd86a9e29639aa36ceafff5c9ee326', 'message': 'Add multi-backend testing\n\nUse the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local\nSAML-based IdPs, and link them to two instances of the keystone-saml-mellon.\n\nThe corresponding Zaza tests will validate that Keystone is properly\nsetup with the multi-backend pointing to our local IdPs.\n\nChange-Id: I926941e47966330f079929156cdbefd03b00eb64\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480\n'}, {'number': 3, 'created': '2021-02-24 14:44:24.000000000', 'files': ['src/tests/bundles/bionic-queens-ha.yaml', 'src/tests/bundles/samltest.xml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/6196c8584246012310842e98d06abd70302c16aa', 'message': 'Add multi-backend testing\n\nUse the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local\nSAML-based IdPs, and link them to two instances of the keystone-saml-mellon.\n\nThe corresponding Zaza tests will validate that Keystone is properly\nsetup with the multi-backend pointing to our local IdPs.\n\nChange-Id: I926941e47966330f079929156cdbefd03b00eb64\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480\n'}]",0,770056,6196c8584246012310842e98d06abd70302c16aa,34,3,3,13178,,,0,"Add multi-backend testing

Use the Juju charm https://jaas.ai/u/ionutbalutoiu/test-saml-idp to deploy two local
SAML-based IdPs, and link them to two instances of the keystone-saml-mellon.

The corresponding Zaza tests will validate that Keystone is properly
setup with the multi-backend pointing to our local IdPs.

Change-Id: I926941e47966330f079929156cdbefd03b00eb64
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/480
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/56/770056/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-queens-ha.yaml', 'src/tests/bundles/samltest.xml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml']",6,8fd0fc776a169dd08ff29e9515bf0c4ae32ab1b1,,"- zaza.openstack.charm_tests.saml_mellon.setup.attach_saml_resources_idp1 - zaza.openstack.charm_tests.saml_mellon.setup.attach_saml_resources_idp2- zaza.openstack.charm_tests.saml_mellon.setup.keystone_federation_setup_idp1 - zaza.openstack.charm_tests.saml_mellon.setup.keystone_federation_setup_idp2- zaza.openstack.charm_tests.saml_mellon.tests.CharmKeystoneSAMLMellonIDP1Test - zaza.openstack.charm_tests.saml_mellon.tests.CharmKeystoneSAMLMellonIDP2Test keystone-saml-mellon1: test-saml-idp1: workload-status: blocked workload-status-message: ""sp-metadata resource is not a well-formed xml file"" keystone-saml-mellon2: workload-status: blocked workload-status-message: ""Configuration is incomplete. idp-metadata: idp-metadata resource is not a well-formed xml file"" test-saml-idp2: workload-status: blocked workload-status-message: ""sp-metadata resource is not a well-formed xml file""",- zaza.openstack.charm_tests.saml_mellon.setup.attach_saml_resources- zaza.openstack.charm_tests.saml_mellon.setup.keystone_federation_setup- zaza.openstack.charm_tests.saml_mellon.tests.CharmKeystoneSAMLMellonTest keystone-saml-mellon:,159,147
openstack%2Fcharm-ceph-osd~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-ceph-osd,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:40:38.000000000,2021-02-26 10:13:38.000000000,2021-02-26 10:13:38.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:40:38.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8ef9608f0890a659efe1ec23025cc5e2153e7ef9', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776339,8ef9608f0890a659efe1ec23025cc5e2153e7ef9,12,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/39/776339/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,8ef9608f0890a659efe1ec23025cc5e2153e7ef9,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs,,4,0
openstack%2Fcharm-designate~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:08.000000000,2021-02-26 10:11:17.000000000,2021-02-26 10:11:17.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:42:08.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/8b9fdfef5e1444538e90a0455f75148e84fcd7b2', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776348,8b9fdfef5e1444538e90a0455f75148e84fcd7b2,15,4,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/48/776348/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,8b9fdfef5e1444538e90a0455f75148e84fcd7b2,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs vars: needs_charm_build: true charm_build_name: designate,,7,0
openstack%2Fcharm-designate-bind~master~I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,openstack/charm-designate-bind,master,I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d,Add new osci.yaml,MERGED,2021-02-18 07:42:23.000000000,2021-02-26 10:09:22.000000000,2021-02-26 10:09:22.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:42:23.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/30067feeca418f1ca7b9ced5ae601827af047cad', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d\n'}]",0,776349,30067feeca418f1ca7b9ced5ae601827af047cad,14,4,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I16e82e0f295a9c0f6f21e4ff343e2f1afda1d82d
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/49/776349/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,30067feeca418f1ca7b9ced5ae601827af047cad,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs vars: needs_charm_build: true charm_build_name: designate-bind,,7,0
openstack%2Fcharm-ceilometer-agent~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-ceilometer-agent,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:48.000000000,2021-02-26 10:08:51.000000000,2021-02-26 10:08:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:39:48.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/33c30bf1bc87c1118d9257088b367b0dace8971c', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}]",0,776336,33c30bf1bc87c1118d9257088b367b0dace8971c,13,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/36/776336/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,33c30bf1bc87c1118d9257088b367b0dace8971c,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs,,4,0
openstack%2Fcharm-aodh~master~I1bba556eebc3081e890989507b0ccfe6f029c3a6,openstack/charm-aodh,master,I1bba556eebc3081e890989507b0ccfe6f029c3a6,Add new osci.yaml,MERGED,2021-02-18 07:39:00.000000000,2021-02-26 10:06:35.000000000,2021-02-26 10:06:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:39:00.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/12dbfc1b901cff79f12e524fa1b1a48b8c690d3d', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6\n'}]",0,776332,12dbfc1b901cff79f12e524fa1b1a48b8c690d3d,13,3,1,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I1bba556eebc3081e890989507b0ccfe6f029c3a6
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/32/776332/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,12dbfc1b901cff79f12e524fa1b1a48b8c690d3d,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs vars: needs_charm_build: true charm_build_name: aodh,,7,0
openstack%2Fdesignate~stable%2Fstein~I98f7f80ce365cdee33528f9964c03274f62a795a,openstack/designate,stable/stein,I98f7f80ce365cdee33528f9964c03274f62a795a,Adding distributed locking to central,MERGED,2021-02-17 22:42:25.000000000,2021-02-26 10:01:25.000000000,2021-02-26 09:59:58.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-02-17 22:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/29bc92f9518d0800ef29bf743ddc4842b11c7767', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 2, 'created': '2021-02-18 15:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9d28d3cbc50867ff1118375da461ea302f54bef6', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 3, 'created': '2021-02-18 16:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d6815979725eb46019ef9205c3fd568dde40e951', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 4, 'created': '2021-02-24 16:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2638c885475d15c0bf5faa4d65512276488c1768', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 5, 'created': '2021-02-24 19:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28bef8ad5e32b26a5563cf370e35f4ded5daebcd', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 6, 'created': '2021-02-25 14:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/95d3b62c617a2779b3bd421284d97c381b824067', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 7, 'created': '2021-02-25 15:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1e9c3e2873f957725ca84c26c5dbdcbfb8a22e0b', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}, {'number': 8, 'created': '2021-02-25 15:42:14.000000000', 'files': ['releasenotes/notes/Adding-distributed-locking-to-central-6dd97cd92eeab9e1.yaml', 'designate/coordination.py', 'designate/central/service.py', 'designate/tests/test_central/test_decorator.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/acc82755f1e8df8bb8f0ab7b4524f691637a312e', 'message': 'Adding distributed locking to central\n\nThe current locking implementation is limited to\nthe running process. This introduces distributed\nlocking that will help prevent race conditions\nwhen there are many instances of designate-central\nrunning.\n\nCloses-Bug: #1871332\nChange-Id: I98f7f80ce365cdee33528f9964c03274f62a795a\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)\n'}]",4,776288,acc82755f1e8df8bb8f0ab7b4524f691637a312e,31,4,8,19298,,,0,"Adding distributed locking to central

The current locking implementation is limited to
the running process. This introduces distributed
locking that will help prevent race conditions
when there are many instances of designate-central
running.

Closes-Bug: #1871332
Change-Id: I98f7f80ce365cdee33528f9964c03274f62a795a
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit f6090d885c8ebe00a89307a1e2f5621de75dcda8)
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/776288/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/coordination.py', 'designate/central/service.py', 'designate/tests/test_central/test_decorator.py', 'devstack/plugin.sh']",4,29bc92f9518d0800ef29bf743ddc4842b11c7767,central_lock," # Install reqs for tooz driver if [[ ""$DESIGNATE_COORDINATION_URL"" =~ ""memcached"" ]]; then pip_install_gr ""pymemcache"" fi ",,180,2
openstack%2Fsushy~master~Idd4158d87d27b6358c6d7a2a7183427a494ee384,openstack/sushy,master,Idd4158d87d27b6358c6d7a2a7183427a494ee384,Refactor TaskMonitor and update Volume methods,MERGED,2021-02-08 19:33:20.000000000,2021-02-26 09:55:13.000000000,2021-02-24 11:48:51.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 28128}]","[{'number': 1, 'created': '2021-02-08 19:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/39a79881de4f097ef8fa31b6570fcfccdd3983f3', 'message': ""[WIP] Refactor TaskMonitors\n\nresource's taskmonitor focuses on raw responses, but\nTaskService's more on processed Field hiding response.\n\nChange-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384\n""}, {'number': 2, 'created': '2021-02-10 17:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/2989ac8b8c1aead85782c39199550627388d9ca3', 'message': ""[WIP] Refactor TaskMonitors\n\nresource's taskmonitor focuses on raw responses, but\nTaskService's more on processed Field hiding response.\n\nChange-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384\n""}, {'number': 3, 'created': '2021-02-10 18:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/b667cfd05aeda04980e054d73f0b5cc9202395b8', 'message': ""[WIP] Refactor TaskMonitors\n\nresource's taskmonitor focuses on raw responses, but\nTaskService's more on processed Field hiding response.\n\nChange-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384\n""}, {'number': 4, 'created': '2021-02-12 12:26:03.000000000', 'files': ['sushy/resources/system/storage/volume.py', 'sushy/tests/unit/test_main.py', 'sushy/main.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/tests/unit/test_taskmonitor.py', 'sushy/taskmonitor.py', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'releasenotes/notes/refactor-taskmonitor-update-volume-ba99380188395852.yaml', 'sushy/tests/unit/resources/taskservice/test_taskmonitor.py', 'sushy/tests/unit/test_connector.py', 'sushy/tests/unit/resources/test_task_monitor.py', 'sushy/connector.py', 'sushy/resources/task_monitor.py', 'sushy/resources/taskservice/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/7a9a2b6020d9b16a671339e6cefaebd0baff99ec', 'message': 'Refactor TaskMonitor and update Volume methods\n\nRefactor TaskMonitor-s:\n  - deprecate ``resources.task_monitor.TaskMonitor``\n  - move TaskMonitor from ``resources.taskservice.taskmonitor``\n    to ``taskmonitor``\n  - add necessary methods from deprecated TaskMonitor to the\n    moved one\n\nUpdate Volume methods to use remaining TaskMonitor.\n\nAdd static helper method to TaskMonitor to initiate TaskMonitor\ninstance from response.\nReplace TaskMonitor in connector with the remaining TaskMonitor.\n\nAdd method get_task_monitor to Sushy class. Deprecate\nUpdateService.get_task_monitor.\n\nUppercase Location header in connector. While headers are case\ninsensitive, in unit tests where headers are mocked they are\ncase sensitive.\n\nChange-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384\n'}]",8,774532,7a9a2b6020d9b16a671339e6cefaebd0baff99ec,28,6,4,27909,,,0,"Refactor TaskMonitor and update Volume methods

Refactor TaskMonitor-s:
  - deprecate ``resources.task_monitor.TaskMonitor``
  - move TaskMonitor from ``resources.taskservice.taskmonitor``
    to ``taskmonitor``
  - add necessary methods from deprecated TaskMonitor to the
    moved one

Update Volume methods to use remaining TaskMonitor.

Add static helper method to TaskMonitor to initiate TaskMonitor
instance from response.
Replace TaskMonitor in connector with the remaining TaskMonitor.

Add method get_task_monitor to Sushy class. Deprecate
UpdateService.get_task_monitor.

Uppercase Location header in connector. While headers are case
insensitive, in unit tests where headers are mocked they are
case sensitive.

Change-Id: Idd4158d87d27b6358c6d7a2a7183427a494ee384
",git fetch https://review.opendev.org/openstack/sushy refs/changes/32/774532/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/volume.py', 'sushy/connector.py', 'sushy/resources/task_monitor.py', 'sushy/tests/unit/resources/updateservice/test_updateservice.py', 'sushy/resources/taskservice/taskmonitor.py', 'sushy/resources/updateservice/updateservice.py', 'sushy/tests/unit/test_connector.py']",7,39a79881de4f097ef8fa31b6570fcfccdd3983f3,deprecate-taskmonitor," 'Retry-After': 5, response1.json.return_value = {'Id': 3, 'Name': 'Test'}"," 'retry-after': 5,",220,75
openstack%2Ftripleo-quickstart-extras~master~I66a3e827fab054fd320ba7554baae9597f9205d0,openstack/tripleo-quickstart-extras,master,I66a3e827fab054fd320ba7554baae9597f9205d0,reproducer: do not overwrite workspace by default,MERGED,2021-02-19 20:05:24.000000000,2021-02-26 09:54:13.000000000,2021-02-26 09:54:13.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-02-19 20:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f739fed19a0241b6c79ed1b1f3338c0b2eb35057', 'message': 'reproducer: do not overwrite workspace by default\n\nusers should be allowed to tweak settings and rerun\nthis script w/o all their changes being overwritten\n\nChange-Id: I66a3e827fab054fd320ba7554baae9597f9205d0\n'}, {'number': 2, 'created': '2021-02-23 17:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/315ae6f6643a53c5df47b1293aa4b9cdf7d558ed', 'message': 'reproducer: do not overwrite workspace by default\n\nusers should be allowed to tweak settings and rerun\nthis script w/o all their changes being overwritten\n\nChange-Id: I66a3e827fab054fd320ba7554baae9597f9205d0\n'}, {'number': 3, 'created': '2021-02-25 18:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8cd58ec53239c734b4de1f25809b2228dc6edaa5', 'message': 'reproducer: do not overwrite workspace by default\n\nusers should be allowed to tweak settings and rerun\nthis script w/o all their changes being overwritten\n\nChange-Id: I66a3e827fab054fd320ba7554baae9597f9205d0\n'}, {'number': 4, 'created': '2021-02-25 18:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/60bdb739d41b94420f346a18538bbc667cef7992', 'message': 'reproducer: do not overwrite workspace by default\n\nusers should be allowed to tweak settings and rerun\nthis script w/o all their changes being overwritten\n\nChange-Id: I66a3e827fab054fd320ba7554baae9597f9205d0\n'}, {'number': 5, 'created': '2021-02-26 02:15:32.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b9fcb17b0572f9c61d4ea6c8175fa89405c2395', 'message': 'reproducer: do not overwrite workspace by default\n\nusers should be allowed to tweak settings and rerun\nthis script w/o all their changes being overwritten\n\nChange-Id: I66a3e827fab054fd320ba7554baae9597f9205d0\n'}]",4,776704,6b9fcb17b0572f9c61d4ea6c8175fa89405c2395,30,7,5,9592,,,0,"reproducer: do not overwrite workspace by default

users should be allowed to tweak settings and rerun
this script w/o all their changes being overwritten

Change-Id: I66a3e827fab054fd320ba7554baae9597f9205d0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/04/776704/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,f739fed19a0241b6c79ed1b1f3338c0b2eb35057,reproducer-fix,": ${OVERWRITE_WORKSPACE:=""0""} echo "" -o, --overwrite-workspace"" echo "" default is to not overwrite any local modifications"" echo "" to the workspace dir made by the user"" --overwrite-workspace|-o) OVERWRITE_WORKSPACE:=""1""} shift ;; if [ ""$OVERWRITE_WORKSPACE"" == 1 ] || [ ! -d ""$WORKSPACE"" ]; then mkdir -p $WORKSPACE rsync -a *-playbook.yaml $WORKSPACE cd $WORKSPACE # Run the playbook to set up the launcher env PATH=${HOME}/.local/bin:$PATH ansible-playbook \ $WORKSPACE/launcher-env-setup-playbook.yaml \ -vv \ ${EXTRA_PARAMS[@]} else cd $WORKSPACE fi",mkdir -p $WORKSPACE rsync -a *-playbook.yaml $WORKSPACE cd $WORKSPACE # Run the playbook to set up the launcher env PATH=${HOME}/.local/bin:$PATH ansible-playbook \ $WORKSPACE/launcher-env-setup-playbook.yaml \ -vv \ ${EXTRA_PARAMS[@]},21,8
openstack%2Fcharm-trilio-dm-api~master~I4100771916963b681e760f5e364420f50dc81b9f,openstack/charm-trilio-dm-api,master,I4100771916963b681e760f5e364420f50dc81b9f,Extend gate tests for Trilio 4.0 and 4.1,MERGED,2021-02-19 12:36:33.000000000,2021-02-26 09:50:26.000000000,2021-02-26 09:50:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 12:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/e3d311026adad7dac34f90bae5207dbd32855109', 'message': 'Extend gate tests for Trilio 4.0 and 4.1\n\nChange-Id: I4100771916963b681e760f5e364420f50dc81b9f\n'}, {'number': 2, 'created': '2021-02-25 15:45:31.000000000', 'files': ['src/lib/charm/openstack/dmapi.py', 'src/tests/bundles/bionic-train-ssl.yaml', 'src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-stein-ssl.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri-40.yaml', 'src/tests/bundles/bionic-queens-ssl.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/bionic-stein-41.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/ad428c2e6772d2bf307f181754e9468765c694be', 'message': 'Extend gate tests for Trilio 4.0 and 4.1\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/430\n\nChange-Id: I4100771916963b681e760f5e364420f50dc81b9f\n'}]",0,776614,ad428c2e6772d2bf307f181754e9468765c694be,18,3,2,12549,,,0,"Extend gate tests for Trilio 4.0 and 4.1

func-test-pr: https://github.com/openstack-charmers/zaza/pull/430

Change-Id: I4100771916963b681e760f5e364420f50dc81b9f
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/14/776614/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dmapi.py', 'src/tests/bundles/bionic-train-ssl.yaml', 'src/tests/bundles/bionic-ussuri-41.yaml', 'src/tests/bundles/bionic-train-40.yaml', 'src/tests/bundles/bionic-stein-ssl.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri-40.yaml', 'src/tests/bundles/bionic-queens-ssl.yaml', 'src/tests/bundles/bionic-stein-40.yaml', 'src/tests/bundles/bionic-train-41.yaml', 'src/tests/bundles/bionic-queens-40.yaml', 'src/tests/bundles/focal-ussuri-41.yaml', 'src/tests/bundles/bionic-queens-41.yaml', 'src/tests/bundles/bionic-stein-41.yaml']",14,e3d311026adad7dac34f90bae5207dbd32855109,more-bundles,"variables: openstack-origin: &openstack-origin 'cloud:bionic-stein' triliovault-pkg-source: &triliovault-pkg-source 'deb [trusted=yes] https://apt.fury.io/triliodata-4-1/ /' series: &series bionic relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp-nova' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'mysql:shared-db' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'cinder:shared-db' - 'mysql:shared-db' - - 'neutron-api:shared-db' - 'mysql:shared-db' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'mysql:shared-db' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'mysql:shared-db' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'trilio-wlm:shared-db' - 'mysql:shared-db' - - 'trilio-wlm:amqp' - 'rabbitmq-server:amqp' - - 'trilio-wlm:identity-service' - 'keystone:identity-service' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'ceph-osd:secrets-storage' - 'vault:secrets' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' - - 'vault:shared-db' - 'mysql:shared-db' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'trilio-wlm:certificates' - - 'trilio-data-mover:amqp' - 'rabbitmq-server:amqp' - - 'trilio-data-mover:juju-info' - 'nova-compute:juju-info' - - 'trilio-dm-api:identity-service' - 'keystone:identity-service' - - 'trilio-dm-api:shared-db' - 'mysql:shared-db' - - 'trilio-dm-api:amqp' - 'rabbitmq-server:amqp' - - 'trilio-dm-api:certificates' - 'vault:certificates' - - 'trilio-horizon-plugin:dashboard-plugin' - 'openstack-dashboard:dashboard-plugin' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' - - 'trilio-data-mover:ceph' - 'ceph-mon:client' - - 'trilio-data-mover:shared-db' - 'mysql:shared-db' applications: glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: ""None"" glance-api-version: 2 keystone: charm: cs:~openstack-charmers-next/keystone series: bionic num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 3 constraints: mem=4G options: openstack-origin: *openstack-origin config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh debug: true cpu-model: kvm64 cpu-mode: custom # Allow for more retries when testing ontop of openstack config-flags: block_device_allocate_retries=120 rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 trilio-data-mover: charm: cs:~openstack-charmers-next/trilio-data-mover options: triliovault-pkg-source: *triliovault-pkg-source trilio-dm-api: charm: ../../../trilio-dm-api num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source trilio-horizon-plugin: charm: cs:~openstack-charmers-next/trilio-horizon-plugin options: triliovault-pkg-source: *triliovault-pkg-source trilio-wlm: charm: cs:~openstack-charmers-next/trilio-wlm series: bionic num_units: 1 options: triliovault-pkg-source: *triliovault-pkg-source ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin expected-osd-count: 3 ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd constraints: mem=1G num_units: 3 options: source: *openstack-origin osd-encrypt-keymanager: vault osd-encrypt: True storage: osd-devices: cinder,40G cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph vault: num_units: 1 charm: cs:~openstack-charmers-next/vault nfs-server-test-fixture: charm: cs:~openstack-charmers-next/nfs-server-test-fixture num_units: 1 storage: share: cinder,40G openstack-dashboard: charm: cs:~openstack-charmers-next/openstack-dashboard num_units: 1 options: openstack-origin: *openstack-origin ",,2182,650
openstack%2Ftripleo-common~stable%2Fvictoria~I61affe32dfc9eacbe514893168397c9b291b8713,openstack/tripleo-common,stable/victoria,I61affe32dfc9eacbe514893168397c9b291b8713,Reduce fact gathering,MERGED,2021-02-22 20:51:50.000000000,2021-02-26 09:19:13.000000000,2021-02-26 09:17:34.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-22 20:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e34e140d7bc76a2e376c19d0542b22ffcf1baf3e', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775709\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/775708\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)\n'}, {'number': 2, 'created': '2021-02-22 20:54:06.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05c18eb19206d8c272c7b4d6c775b916adc0c03b', 'message': 'Reduce fact gathering\n\nThis change updates the default subset to only be the minimum list of\nfacts for ansible.  In the deployment we need to make sure that we only\ncollect the minimum amount of facts to perform the tasks at hand rather\nthan assume we have all the facts.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777002\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777004\nRelated-Bug: #1915761\nChange-Id: I61affe32dfc9eacbe514893168397c9b291b8713\n(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)\n'}]",0,777007,05c18eb19206d8c272c7b4d6c775b916adc0c03b,15,3,2,14985,,,0,"Reduce fact gathering

This change updates the default subset to only be the minimum list of
facts for ansible.  In the deployment we need to make sure that we only
collect the minimum amount of facts to perform the tasks at hand rather
than assume we have all the facts.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/777002
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/777004
Related-Bug: #1915761
Change-Id: I61affe32dfc9eacbe514893168397c9b291b8713
(cherry picked from commit 0e81eb420e8974d7815b98e084a94885a1ff1b8b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/777007/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,e34e140d7bc76a2e376c19d0542b22ffcf1baf3e,bug/1915761-stable/victoria," # NOTE(mwhahaha): only gather the bare minimum facts because this has # direct impact on how fast ansible can go. config.set('defaults', 'gather_subset', '!all,min')",,3,0
openstack%2Fvalidations-common~master~I51d9f0f2fc7c8518da420ae77824162aa3592c4b,openstack/validations-common,master,I51d9f0f2fc7c8518da420ae77824162aa3592c4b,Fixes issues caused by dict unpacking in (90e6133),MERGED,2021-02-24 08:08:02.000000000,2021-02-26 09:17:54.000000000,2021-02-26 09:17:54.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-24 08:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2ac5e42fa7fe59e660546e6dfb80323c228d185c', 'message': 'Fixes issues caused by arg unpacking (90e6133)\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I51d9f0f2fc7c8518da420ae77824162aa3592c4b\n'}, {'number': 2, 'created': '2021-02-24 15:10:15.000000000', 'files': ['validations_common/tests/library/test_haproxy_conf.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bc6b58279e94b2736be0e822aed716ab265a48b8', 'message': 'Fixes issues caused by dict unpacking in (90e6133)\n\noriginal issue https://review.rdoproject.org/r/#/c/32074/\ncaused by different dict unpacking in python 2.7 and\npython >= 3\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I51d9f0f2fc7c8518da420ae77824162aa3592c4b\n'}]",0,777308,bc6b58279e94b2736be0e822aed716ab265a48b8,15,8,2,32926,,,0,"Fixes issues caused by dict unpacking in (90e6133)

original issue https://review.rdoproject.org/r/#/c/32074/
caused by different dict unpacking in python 2.7 and
python >= 3

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I51d9f0f2fc7c8518da420ae77824162aa3592c4b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/08/777308/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/library/test_haproxy_conf.py'],1,2ac5e42fa7fe59e660546e6dfb80323c228d185c,fix/90e6133," mock_generic_ini_style_conf_parser.assert_called_once_with( args['file_path'], args['section_regex'], args['option_regex'] )", mock_generic_ini_style_conf_parser.assert_called_once_with(*args.values()),5,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/victoria,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:08:20.000000000,2021-02-26 09:17:40.000000000,2021-02-26 09:17:40.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-25 10:08:20.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd5e2c80fd7bfac2eb72c6c87557f64885648e53', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nCloses-Bug: 1916756\nResolves: rhbz#1932208\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\n(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)\n""}]",0,777538,bd5e2c80fd7bfac2eb72c6c87557f64885648e53,11,6,1,6796,,,0,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/777538/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,bd5e2c80fd7bfac2eb72c6c87557f64885648e53,,, roles: - admin - member - member,0,4
openstack%2Fkayobe-config-dev~master~I2d853d38740dca445cd281b83f4a26d842a9c9cd,openstack/kayobe-config-dev,master,I2d853d38740dca445cd281b83f4a26d842a9c9cd,Reduce ironic minimum required memory to 256MB,MERGED,2021-02-23 09:29:13.000000000,2021-02-26 08:52:36.000000000,2021-02-26 08:52:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2021-02-23 09:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e89b5525dd493dcb1abce73cafa838a18fc17a4a', 'message': 'Reduce ironic minimum required memory to 256MB\n\nIn resource-constrained environments such as CI, we may hit this new\nlimit, which prevents deployments from succeeding.\n\nFollowing the lead of the ironic devstack plugin, we reduce the limit to\n256MB.\n\nChange-Id: I2d853d38740dca445cd281b83f4a26d842a9c9cd\n'}, {'number': 2, 'created': '2021-02-25 13:44:21.000000000', 'files': ['etc/kayobe/kolla/config/ironic.conf'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/0b54af9ed9678837255e48106c96b23feb0aff70', 'message': 'Reduce ironic minimum required memory to 256MB\n\nIn resource-constrained environments such as CI, we may hit this new\nlimit, which prevents deployments from succeeding.\n\nFollowing the lead of the ironic devstack plugin, we reduce the limit to\n256MB.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/777518\n\nChange-Id: I2d853d38740dca445cd281b83f4a26d842a9c9cd\n'}]",0,777076,0b54af9ed9678837255e48106c96b23feb0aff70,37,4,2,14826,,,0,"Reduce ironic minimum required memory to 256MB

In resource-constrained environments such as CI, we may hit this new
limit, which prevents deployments from succeeding.

Following the lead of the ironic devstack plugin, we reduce the limit to
256MB.

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/777518

Change-Id: I2d853d38740dca445cd281b83f4a26d842a9c9cd
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/76/777076/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla/config/ironic.conf'],1,e89b5525dd493dcb1abce73cafa838a18fc17a4a,,[DEFAULT] minimum_required_memory = 256 ,,2,0
openstack%2Fswift~master~Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,openstack/swift,master,Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d,Add unit test coverage for CleavingContext.done(),MERGED,2021-02-25 15:00:17.000000000,2021-02-26 07:11:36.000000000,2021-02-26 07:10:09.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 15:00:17.000000000', 'files': ['test/unit/container/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9f6e760bc2b70e025edb149417862ce77689646', 'message': 'Add unit test coverage for CleavingContext.done()\n\nChange-Id: Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d\n'}]",1,777604,c9f6e760bc2b70e025edb149417862ce77689646,13,2,1,7847,,,0,"Add unit test coverage for CleavingContext.done()

Change-Id: Ica983aa13a7bcd07bc73c68f3938b190c4bbaa3d
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/777604/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_sharder.py'],1,c9f6e760bc2b70e025edb149417862ce77689646,p-sharder-context-done-tests," self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertTrue(context.done()) self.assertFalse(context.done()) self.assertFalse(context.done()) self.assertTrue(context.done()) self.assertFalse(context.done()) def test_done(self): ctx = CleavingContext( 'test', '', max_row=12, cleave_to_row=12, last_cleave_to_row=2, cleaving_done=True, misplaced_done=True) self.assertTrue(ctx.done()) ctx = CleavingContext( 'test', '', max_row=12, cleave_to_row=11, last_cleave_to_row=2, cleaving_done=True, misplaced_done=True) self.assertFalse(ctx.done()) ctx = CleavingContext( 'test', '', max_row=12, cleave_to_row=12, last_cleave_to_row=2, cleaving_done=True, misplaced_done=False) self.assertFalse(ctx.done()) ctx = CleavingContext( 'test', '', max_row=12, cleave_to_row=12, last_cleave_to_row=2, cleaving_done=False, misplaced_done=True) self.assertFalse(ctx.done()) ",,29,0
openstack%2Fneutron~master~Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,openstack/neutron,master,Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c,[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE,MERGED,2021-02-08 20:47:58.000000000,2021-02-26 07:08:54.000000000,2021-02-26 07:07:05.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 20:47:58.000000000', 'files': ['devstack/ovn-db-local.conf.sample', 'devstack/ovn-vtep-local.conf.sample', 'devstack/ovn-local.conf.sample', 'devstack/ovn-compute-local.conf.sample'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3b6cc06c3c55bfbbea64caa01a66f64afe04c0b', 'message': '[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE\n\nUsing OVN from packages was introduced in devstack via\nhttps://review.opendev.org/c/openstack/devstack/+/763402\n\nThis change updates the sample files to make users aware of it,\nespecially when specifying the OVN branch to be used.\n\nChange-Id: Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c\n'}]",0,774540,b3b6cc06c3c55bfbbea64caa01a66f64afe04c0b,18,3,1,11952,,,0,"[OVN] Update sample local.conf to mention OVN_BUILD_FROM_SOURCE

Using OVN from packages was introduced in devstack via
https://review.opendev.org/c/openstack/devstack/+/763402

This change updates the sample files to make users aware of it,
especially when specifying the OVN branch to be used.

Change-Id: Ibfbdd712e49d1fb8522bcc39357be0f311ce3f5c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/774540/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ovn-db-local.conf.sample', 'devstack/ovn-local.conf.sample', 'devstack/ovn-vtep-local.conf.sample', 'devstack/ovn-compute-local.conf.sample']",4,b3b6cc06c3c55bfbbea64caa01a66f64afe04c0b,,"# The DevStack plugin defaults to using the ovn branch from the official ovs # repo. You can optionally use a different one. For example, you may want to # use the latest patches in blp's ovn branch (and see OVN_BUILD_FROM_SOURCE): #OVN_REPO=https://github.com/blp/ovs-reviews.git #OVN_BRANCH=ovn # NOTE: When specifying the branch, as shown above, you must also enable this! # By default, OVN will be installed from packages. In order to build OVN from # source, set OVN_BUILD_FROM_SOURCE=True #OVN_BUILD_FROM_SOURCE=False ","# The DevStack plugin defaults to using the ovn branch from the official ovs # repo. You can optionally use a different one. For example, you may want to # use the latest patches in blp's ovn branch: #OVN_REPO=https://github.com/blp/ovs-reviews.git #OVN_BRANCH=ovn ",44,24
openstack%2Fvenus-dashboard~master~Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,openstack/venus-dashboard,master,Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e,.zuul.yaml: add Zuul support to new repo,MERGED,2021-02-26 05:54:24.000000000,2021-02-26 05:59:12.000000000,2021-02-26 05:59:12.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-02-26 05:54:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/82e14c6281cde55013d09bd2907a9e3a2a3142e8', 'message': '.zuul.yaml: add Zuul support to new repo\n\nChange-Id: Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e\n'}]",0,777714,82e14c6281cde55013d09bd2907a9e3a2a3142e8,6,2,1,26458,,,0,".zuul.yaml: add Zuul support to new repo

Change-Id: Ic1c9d0ac2e8a0f57e4a8d2749dbb9c099b5bb71e
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/14/777714/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,82e14c6281cde55013d09bd2907a9e3a2a3142e8,new-project,- project: templates: - noop-jobs ,,3,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/train,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:36:22.000000000,2021-02-26 05:54:30.000000000,2021-02-26 05:53:07.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 18:36:22.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/764075120014c674baf754dfb288787a752596a7', 'message': 'Add auth_token_lifetime to undercloud.conf\n\nThe undercloud currently defines the auth token life time in the\nundercloud.yaml environment in tripleo-heat-templates. At certain scale,\nit makes sense to increase this so we should make it a top level\nconfiguration item.\n\nChange-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881\n(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)\n'}]",0,777326,764075120014c674baf754dfb288787a752596a7,9,2,1,14985,,,0,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/777326/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml']",4,764075120014c674baf754dfb288787a752596a7,,--- features: - | Adds `auth_token_lifetime` to undercloud.conf with a default of 14400. This configuration option exposes the keystone token expirataion as a top level configuration since it may need to be increased to handle larger clouds. ,,16,0
openstack%2Fironic-inspector~master~I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,openstack/ironic-inspector,master,I4d038245c6b97b1504fb47eeec78ad3f9e5a897c,Implement secure RBAC,MERGED,2021-01-27 20:57:19.000000000,2021-02-26 05:51:57.000000000,2021-02-26 05:50:47.000000000,"[{'_account_id': 5046}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-27 20:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0b7979238d812624c1dc8b97c18bafd3bf6e0ec6', 'message': 'WIP Implement secure RBAC\n\nPosting this for posterity, this will be reworked so that the is_admin\nand is_observer rules are replaced with system scoped equivalents. If\nthat approach has bad review feedback this one can be restored.\n\nChange-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c\n'}, {'number': 2, 'created': '2021-01-27 21:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b8fd266382ccaf414fc7bda2963d96d7ac2149d2', 'message': 'WIP Implement secure RBAC\n\nImplementing this for inspector is simpler than for ironic, because\ninspector is a system-admin-only tool.\n\nThe is_admin and is_observer rules are deprecated for removal, and\nevery rule which refers to them are deprecated in favor of the\nsystem-scoped equivalent (system_scope:all with role:admin or\nrole:reader)\n\nWIP until there is some manner of policy test, or if we agree this\npolicy is simple enough to not require one.\n\nChange-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c\n'}, {'number': 3, 'created': '2021-01-31 23:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/02e2409777193f63fc76d0157dbba4deb3cf05a9', 'message': 'Implement secure RBAC\n\nThe default policy will been replaced with one which aligns with the\nSecure-RBAC scopes and roles. Since ironic-inspector is a tool used only\nby system-level admins, only the ``system`` scope is supported, and the\nonly roles in the policy rules are ``admin`` and ``reader``.\n\nThe is_admin and is_observer rules are deprecated for removal, and\nevery rule which refers to them are deprecated in favor of the\nsystem-scoped equivalent (system_scope:all with role:admin or\nrole:reader)\n\nChange-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c\n'}, {'number': 4, 'created': '2021-01-31 23:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d353786756daaec458e66b96331afb8810635cc1', 'message': 'Implement secure RBAC\n\nThe default policy will been replaced with one which aligns with the\nSecure-RBAC scopes and roles. Since ironic-inspector is a tool used only\nby system-level admins, only the ``system`` scope is supported, and the\nonly roles in the policy rules are ``admin`` and ``reader``.\n\nThe is_admin and is_observer rules are deprecated for removal, and\nevery rule which refers to them are deprecated in favor of the\nsystem-scoped equivalent (system_scope:all with role:admin or\nrole:reader)\n\nNo unit tests covered the existing policy, these are now covered by\ntest_acl.TestACLDeprecated.\n\nChange-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c\n'}, {'number': 5, 'created': '2021-02-22 21:24:58.000000000', 'files': ['ironic_inspector/test/unit/test_acl.py', 'ironic_inspector/policy.py', 'releasenotes/notes/secure-rbac-0d4fcbc865d45858.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c9e312f8b4aef65b60dcbfd3b05210477889a405', 'message': 'Implement secure RBAC\n\nThe default policy will been replaced with one which aligns with the\nSecure-RBAC scopes and roles. Since ironic-inspector is a tool used only\nby system-level admins, only the ``system`` scope is supported, and the\nonly roles in the policy rules are ``admin`` and ``reader``.\n\nThe is_admin and is_observer rules are deprecated for removal, and\nevery rule which refers to them are deprecated in favor of the\nsystem-scoped equivalent (system_scope:all with role:admin or\nrole:reader)\n\nNo unit tests covered the existing policy, these are now covered by\ntest_acl.TestACLDeprecated.\n\nChange-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c\n'}]",9,772771,c9e312f8b4aef65b60dcbfd3b05210477889a405,25,5,5,4571,,,0,"Implement secure RBAC

The default policy will been replaced with one which aligns with the
Secure-RBAC scopes and roles. Since ironic-inspector is a tool used only
by system-level admins, only the ``system`` scope is supported, and the
only roles in the policy rules are ``admin`` and ``reader``.

The is_admin and is_observer rules are deprecated for removal, and
every rule which refers to them are deprecated in favor of the
system-scoped equivalent (system_scope:all with role:admin or
role:reader)

No unit tests covered the existing policy, these are now covered by
test_acl.TestACLDeprecated.

Change-Id: I4d038245c6b97b1504fb47eeec78ad3f9e5a897c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/71/772771/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/policy.py'],1,0b7979238d812624c1dc8b97c18bafd3bf6e0ec6,secure-rbac,"from oslo_log import versionutils# Generic policy check string for system administrators. These are the people # who need the highest level of authorization to operate the deployment. # They're allowed to create, read, update, or delete any system-specific # resource. They can also operate on project-specific resources where # applicable (e.g., cleaning up baremetal hosts) SYSTEM_ADMIN = 'role:admin and system_scope:all' # Generic policy check string for system users who don't require all the # authorization that system administrators typically have. This persona, or # check string, typically isn't used by default, but it's existence it useful # in the event a deployment wants to offload some administrative action from # system administrator to system members SYSTEM_MEMBER = 'role:member and system_scope:all' # Generic policy check string for read-only access to system-level resources. # This persona is useful for someone who needs access for auditing or even # support. These uses are also able to view project-specific resources where # applicable (e.g., listing all volumes in the deployment, regardless of the # project they belong to). SYSTEM_READER = 'role:reader and system_scope:all' deprecated_node_reason = """""" The inspector API is now aware of system scope and default roles. """""" deprecated_introspection_status = policy.DeprecatedRule( name='introspection:status', check_str='rule:is_admin or rule:is_observer' ) deprecated_introspection_start = policy.DeprecatedRule( name='introspection:start', check_str='rule:is_admin' ) deprecated_introspection_abort = policy.DeprecatedRule( name='introspection:abort', check_str='rule:is_admin' ) deprecated_introspection_data = policy.DeprecatedRule( name='introspection:data', check_str='rule:is_admin' ) deprecated_introspection_reapply = policy.DeprecatedRule( name='introspection:reapply', check_str='rule:is_admin' ) deprecated_introspection_rule_get = policy.DeprecatedRule( name='introspection:rule:get', check_str='rule:is_admin' ) deprecated_introspection_rule_delete = policy.DeprecatedRule( name='introspection:rule:delete', check_str='rule:is_admin' ) deprecated_introspection_rule_create = policy.DeprecatedRule( name='introspection:rule:create', check_str='rule:is_admin' ) name='introspection:continue', check_str='rule:public_api', description='Ramdisk callback to continue introspection', operations=[{'path': '/continue', 'method': 'POST'}], name='introspection:status', check_str=SYSTEM_READER, description='Get introspection status', operations=[{'path': '/introspection', 'method': 'GET'}, {'path': '/introspection/{node_id}', 'method': 'GET'}], deprecated_rule=deprecated_introspection_status, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:start', check_str=SYSTEM_ADMIN, description='Start introspection', operations=[{'path': '/introspection/{node_id}', 'method': 'POST'}], deprecated_rule=deprecated_introspection_start, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:abort', check_str=SYSTEM_ADMIN, description='Abort introspection', operations=[{'path': '/introspection/{node_id}/abort', 'method': 'POST'}], deprecated_rule=deprecated_introspection_abort, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:data', check_str=SYSTEM_ADMIN, description='Get introspection data', operations=[{'path': '/introspection/{node_id}/data', 'method': 'GET'}], deprecated_rule=deprecated_introspection_data, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:reapply', check_str=SYSTEM_ADMIN, description='Reapply introspection on stored data', operations=[{'path': '/introspection/{node_id}/data/unprocessed', 'method': 'POST'}], deprecated_rule=deprecated_introspection_reapply, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:rule:get', check_str=SYSTEM_ADMIN, description='Get introspection rule(s)', operations=[{'path': '/rules', 'method': 'GET'}, {'path': '/rules/{rule_id}', 'method': 'GET'}], deprecated_rule=deprecated_introspection_rule_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:rule:delete', check_str=SYSTEM_ADMIN, description='Delete introspection rule(s)', operations=[{'path': '/rules', 'method': 'DELETE'}, {'path': '/rules/{rule_id}', 'method': 'DELETE'}], deprecated_rule=deprecated_introspection_rule_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY name='introspection:rule:create', check_str=SYSTEM_ADMIN, description='Create introspection rule', operations=[{'path': '/rules', 'method': 'POST'}], deprecated_rule=deprecated_introspection_rule_create, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY"," 'introspection:continue', 'rule:public_api', 'Ramdisk callback to continue introspection', [{'path': '/continue', 'method': 'POST'}] 'introspection:status', 'rule:is_admin or rule:is_observer', 'Get introspection status', [{'path': '/introspection', 'method': 'GET'}, {'path': '/introspection/{node_id}', 'method': 'GET'}] 'introspection:start', 'rule:is_admin', 'Start introspection', [{'path': '/introspection/{node_id}', 'method': 'POST'}] 'introspection:abort', 'rule:is_admin', 'Abort introspection', [{'path': '/introspection/{node_id}/abort', 'method': 'POST'}] 'introspection:data', 'rule:is_admin', 'Get introspection data', [{'path': '/introspection/{node_id}/data', 'method': 'GET'}] 'introspection:reapply', 'rule:is_admin', 'Reapply introspection on stored data', [{'path': '/introspection/{node_id}/data/unprocessed', 'method': 'POST'}] 'introspection:rule:get', 'rule:is_admin', 'Get introspection rule(s)', [{'path': '/rules', 'method': 'GET'}, {'path': '/rules/{rule_id}', 'method': 'GET'}] 'introspection:rule:delete', 'rule:is_admin', 'Delete introspection rule(s)', [{'path': '/rules', 'method': 'DELETE'}, {'path': '/rules/{rule_id}', 'method': 'DELETE'}] 'introspection:rule:create', 'rule:is_admin', 'Create introspection rule', [{'path': '/rules', 'method': 'POST'}]",124,40
openstack%2Fhorizon~master~Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,openstack/horizon,master,Ie78900dae54ff63d41b7ddca3fa83f627d4260c4,Fixes double loading in Image source loading,MERGED,2019-03-04 13:34:13.000000000,2021-02-26 05:35:21.000000000,2019-03-14 04:56:01.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-04 13:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6379893d84e0b6e6b6a25800c01b4c92dba65d4b', 'message': ""Fixes double loading in Image source loading\n\nThis patch removes a redundant image API call, which caused\nimages to be loaded twice in the UI. Image filtering for\nsnapshot/'normal' images has been merged into a single iteration\nfor the sake of optimization.\n\nAdditionally, tests have been changed to more comprehensively\ncheck which data is loaded into which data structures during\nmodel population.\n\nChange-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4\nCloses-Bug: #1818508\n""}, {'number': 2, 'created': '2019-03-04 15:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c31426c1b3714833dcaab49b0ec36e738fc2d62b', 'message': ""Fixes double loading in Image source loading\n\nThis patch removes a redundant image API call, which caused\nimages to be loaded twice in the UI. Image filtering for\nsnapshot/'normal' images has been merged into a single iteration\nfor the sake of optimization.\n\nAdditionally, tests have been changed to more comprehensively\ncheck which data is loaded into which data structures during\nmodel population.\n\nChange-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4\nCloses-Bug: #1818508\n""}, {'number': 3, 'created': '2019-03-06 07:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d3a80fcce978dec80251be114edfacb612de249', 'message': ""Fixes double loading in Image source loading\n\nThis patch removes a redundant image API call, which caused\nimages to be loaded twice in the UI. Image filtering for\nsnapshot/'normal' images has been merged into a single iteration\nfor the sake of optimization.\n\nAdditionally, tests have been changed to more comprehensively\ncheck which data is loaded into which data structures during\nmodel population. Code redundancy has also been removed in\ntests.\n\nChange-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4\nCloses-Bug: #1818508\n""}, {'number': 4, 'created': '2019-03-06 11:55:28.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ff5f74d5d0d5ef8f7c07ca8762b7ad197aea156f', 'message': ""Fixes double loading in Image source loading\n\nThis patch removes a redundant image API call, which caused\nimages to be loaded twice in the UI. Image filtering for\nsnapshot/'normal' images has been merged into a single iteration\nfor the sake of optimization.\n\nAdditionally, tests have been changed to more comprehensively\ncheck which data is loaded into which data structures during\nmodel population. Code redundancy has also been removed in\ntests.\n\nChange-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4\nCloses-Bug: #1818508\n""}]",3,640762,ff5f74d5d0d5ef8f7c07ca8762b7ad197aea156f,18,4,4,26546,,,0,"Fixes double loading in Image source loading

This patch removes a redundant image API call, which caused
images to be loaded twice in the UI. Image filtering for
snapshot/'normal' images has been merged into a single iteration
for the sake of optimization.

Additionally, tests have been changed to more comprehensively
check which data is loaded into which data structures during
model population. Code redundancy has also been removed in
tests.

Change-Id: Ie78900dae54ff63d41b7ddca3fa83f627d4260c4
Closes-Bug: #1818508
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/640762/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js']",2,6379893d84e0b6e6b6a25800c01b4c92dba65d4b,bug/1818508," var model, scope, settings, $q, glance, IMAGE, VOLUME, VOLUME_SNAPSHOT, INSTANCE_SNAPSHOT; then: function() { {zoneName: 'zone-1', zoneState: {available: true}}, {zoneName: 'zone-2', zoneState: {available: true}}, {zoneName: 'invalid-zone-1'}, {zoneName: 'invalid-zone-2'} deferred.resolve({data: {items: zones}}); var flavors = ['flavor-1', 'flavor-2']; deferred.resolve({data: {items: flavors}}); var keypairs = [{keypair: {name: 'key-1'}}, {keypair: {name: 'key-2'}}]; deferred.resolve({data: {items: keypairs}}); var limits = {maxTotalInstances: 10, totalInstancesUsed: 0}; deferred.resolve({data: limits}); var serverGroups = [{'id': 'group-1'}, {'id': 'group-2'}]; deferred.resolve({data: {items: serverGroups}}); {name: 'security-group-1'}, {name: 'security-group-2'} deferred.resolve({data: {items: secGroups}}); {id: 'net-1', subnets: [{id: 'subnet1'}]}, {id: 'net-2', subnets: [{id: 'subnet2'}]}, {id: 'net-3', subnets: []} deferred.resolve({data: {items: networks}}); { name: 'port-1', device_owner: '', fixed_ips: [], admin_state: 'UP' }, { name: 'port-2', device_owner: '', fixed_ips: [], admin_state: 'DOWN' } { name: 'port-3', device_owner: 'owner', fixed_ips: [], admin_state: 'DOWN' }, { name: 'port-4', device_owner: '', fixed_ips: [], admin_state: 'DOWN' } deferred.resolve({data: {items: ports[network.network_id]}}); getImages: function() { { container_format: 'ami', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]' } }, { container_format: 'raw', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]' } } getNamespaces: function() { beforeEach(function() { VOLUME_SNAPSHOT = { type: 'volume_snapshot', label: 'Volume Snapshot' }; var volumes = [{id: 'vol-1'}, {id: 'vol-2'}]; deferred.resolve({data: {items: volumes}}); var snapshots = [{id: 'snap-1', volume_id: 'vol-1'}, {id: 'snap-2', volume_id: 'vol-2'}, {id: 'snap-3', volume_id: 'vol-3'}]; deferred.resolve({data: {items: snapshots}}); var limits = { maxTotalVolumes: 100, totalVolumesUsed: 2, maxTotalVolumeGigabytes: 1000, totalGigabytesUsed: 10 }; deferred.resolve({data: limits}); var expectedImages = [ {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}} ]; expect(model.images).toEqual(expectedImages); var expectedSnapshots = [ { container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} }, { container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} } ]; expect(model.imageSnapshots).toEqual(expectedSnapshots); var expectedZones = [ {'label': 'Any Availability Zone', 'value': ''}, {'label': 'zone-1', 'value': 'zone-1'}, {'label': 'zone-2', 'value': 'zone-2'} ]; expect(model.availabilityZones).toEqual(expectedZones); var expectedFlavors = ['flavor-1', 'flavor-2']; expect(model.flavors).toEqual(expectedFlavors); var expectedKeypairs = [ {'name': 'key-1', id: 'li_keypair:key-1'}, {'name': 'key-2', id: 'li_keypair:key-2'} ]; expect(model.keypairs).toEqual(expectedKeypairs); var expectedSecurityGroups = [ {name: 'security-group-1'}, {name: 'security-group-2'} ]; expect(model.securityGroups).toEqual(expectedSecurityGroups); var expectedLimits = {maxTotalInstances: 10, totalInstancesUsed: 0}; expect(model.novaLimits).toEqual(expectedLimits); it('should not set availability zone if the zone list is empty', function() { spyOn(novaApi, 'getAvailabilityZones').and.callFake(function() { deferred.resolve({data: {items: []}}); it('sets the ports properly based on device_owner', function() { it('should set a keypair by default if only one keypair is available', function() { var keypair = {keypair: {name: 'key-1'}}; spyOn(novaApi, 'getKeypairs').and.callFake(function() { deferred.resolve({data: {items: [keypair]}}); expect(model.newInstanceSpec.key_pair).toEqual([keypair.keypair]); function() { var secGroups = [{name: 'default'}]; spyOn(securityGroupApi, 'query').and.callFake(function() { deferred.resolve({data: {items: secGroups}}); it('should set a network by default if only one network is available', function() { var networks = [{id: 'net-1', subnets: [{id: 'subnet1'}]}]; spyOn(neutronApi, 'getNetworks').and.callFake(function() { deferred.resolve({data: {items: networks}}); it('getPorts at launch should not return child port', function() { var ports = [{ id: 'parent', trunk_details: { trunk_id: 'trunk1', sub_ports: [{port_id: 'child'}] } }, {id: 'child'}, {id: 'plain'}]; var networks = [{id: 'net-1', subnets: [{id: 'subnet1'}]}]; spyOn(neutronApi, 'getNetworks').and.callFake(function() { deferred.resolve({data: {items: networks}}); spyOn(neutronApi, 'getPorts').and.callFake(function() { deferred.resolve({data: {items: ports}}); expect(model.volumeSnapshots).toEqual([{ id: 'snap-1', volume_id: 'vol-1' }, {id: 'snap-2', volume_id: 'vol-2'}]); function() { settings.LAUNCH_INSTANCE_DEFAULTS.disable_volume_snapshot = true; model.initialize(true); scope.$apply(); expect(model.allowedBootSources).toBeDefined(); expect(model.allowedBootSources.length).toBe(3); expect(model.allowedBootSources).toContain(IMAGE); expect(model.allowedBootSources).toContain(INSTANCE_SNAPSHOT); expect(model.allowedBootSources).toContain(VOLUME); expect(model.allowedBootSources).not.toContain(VOLUME_SNAPSHOT); }); 'is enabled', function() { it('should not fetch server groups if the policy does not allow it', function() { it('should fetch server groups if the policy allows it', function() { model.newInstanceSpec.source_type = {type: 'image'}; model.newInstanceSpec.source = [{id: 'cirros'}]; model.newInstanceSpec.flavor = {id: 'm1.tiny'}; model.newInstanceSpec.networks = [{id: 'public'}, {id: 'private'}]; model.newInstanceSpec.ports = []; model.newInstanceSpec.key_pair = [{name: 'keypair1'}]; model.newInstanceSpec.security_groups = [{ id: 'adminId', name: 'admin' }, {id: 'demoId', name: 'demo'}]; model.newInstanceSpec.vol_device_name = 'volTestName'; {'net-id': 'public', 'v4-fixed-ip': ''}, {'net-id': 'private', 'v4-fixed-ip': ''} expect(finalSpec.security_groups).toEqual(['admin', 'demo']); expect(finalSpec.security_groups).toEqual(['adminId', 'demoId']); {'net-id': 'public', 'v4-fixed-ip': ''}, {'net-id': 'private', 'v4-fixed-ip': ''}, {'port-id': 'port1'}"," var model, scope, settings, $q, glance, IMAGE, VOLUME, VOLUME_SNAPSHOT, INSTANCE_SNAPSHOT; then: function () { { zoneName: 'zone-1', zoneState: { available: true } }, { zoneName: 'zone-2', zoneState: { available: true } }, { zoneName: 'invalid-zone-1' }, { zoneName: 'invalid-zone-2' } deferred.resolve({ data: { items: zones } }); var flavors = [ 'flavor-1', 'flavor-2' ]; deferred.resolve({ data: { items: flavors } }); var keypairs = [ { keypair: { name: 'key-1' } }, { keypair: { name: 'key-2' } } ]; deferred.resolve({ data: { items: keypairs } }); var limits = { maxTotalInstances: 10, totalInstancesUsed: 0 }; deferred.resolve({ data: limits }); var serverGroups = [ {'id': 'group-1'}, {'id': 'group-2'} ]; deferred.resolve({ data: { items: serverGroups } }); { name: 'security-group-1' }, { name: 'security-group-2' } deferred.resolve({ data: { items: secGroups } }); { id: 'net-1', subnets: [ { id: 'subnet1' } ] }, { id: 'net-2', subnets: [ { id: 'subnet2' } ] }, { id: 'net-3', subnets: []} deferred.resolve({ data: { items: networks } }); { name: 'port-1', device_owner: '', fixed_ips: [], admin_state: 'UP' }, { name: 'port-2', device_owner: '', fixed_ips: [], admin_state: 'DOWN' } { name: 'port-3', device_owner: 'owner', fixed_ips: [], admin_state: 'DOWN' }, { name: 'port-4', device_owner: '', fixed_ips: [], admin_state: 'DOWN' } deferred.resolve({ data: { items: ports[network.network_id] } }); getImages: function () { {container_format: 'ami', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {container_format: 'raw', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}} getNamespaces: function () { beforeEach(function () { VOLUME_SNAPSHOT = {type: 'volume_snapshot', label: 'Volume Snapshot'}; $provide.value('horizon.app.core.openstack-service-api.nova', novaApi); })); beforeEach(module('horizon.dashboard.project.workflow.launch-instance')); beforeEach(module(function($provide) { $provide.value('horizon.app.core.openstack-service-api.glance', { getImages: function() { var images = [ {container_format: 'aki', properties: {} }, {container_format: 'ari', properties: {} }, {container_format: 'ami', properties: {} }, {container_format: 'raw', properties: {} }, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}, {container_format: 'ami', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {container_format: 'raw', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}} ]; var deferred = $q.defer(); deferred.resolve({ data: { items: images } }); return deferred.promise; }, getNamespaces: function() { var namespaces = [ 'ns-1', 'ns-2' ]; var deferred = $q.defer(); deferred.resolve({ data: { items: namespaces } }); return deferred.promise; } }); beforeEach(function() { settings = { LAUNCH_INSTANCE_DEFAULTS: { config_drive: false } }; }); var volumes = [ { id: 'vol-1' }, { id: 'vol-2' } ]; deferred.resolve({ data: { items: volumes } }); var snapshots = [ { id: 'snap-1', volume_id: 'vol-1' }, { id: 'snap-2', volume_id: 'vol-2' }, { id: 'snap-3', volume_id: 'vol-3' } ]; deferred.resolve({ data: { items: snapshots } }); var limits = { maxTotalVolumes: 100, totalVolumesUsed: 2, maxTotalVolumeGigabytes: 1000, totalGigabytesUsed: 10 }; deferred.resolve({ data: limits }); expect(model.images.length).toBe(12); expect(model.imageSnapshots.length).toBe(4); expect(model.availabilityZones.length).toBe(3); // 2 + 1 for 'nova pick' expect(model.flavors.length).toBe(2); expect(model.keypairs.length).toBe(2); expect(model.securityGroups.length).toBe(2); expect(model.novaLimits.maxTotalInstances).toBe(10); expect(model.novaLimits.totalInstancesUsed).toBe(0); it('should not set availability zone if the zone list is empty', function () { spyOn(novaApi, 'getAvailabilityZones').and.callFake(function () { deferred.resolve({ data: { items: [] } }); it('sets the ports properly based on device_owner', function () { it('should set a keypair by default if only one keypair is available', function () { var keypair = { keypair: { name: 'key-1' } }; spyOn(novaApi, 'getKeypairs').and.callFake(function () { deferred.resolve({ data: { items: [ keypair ] } }); expect(model.newInstanceSpec.key_pair).toEqual([ keypair.keypair ]); function () { var secGroups = [ { name: 'default' } ]; spyOn(securityGroupApi, 'query').and.callFake(function () { deferred.resolve({ data: { items: secGroups } }); it('should set a network by default if only one network is available', function () { var networks = [ { id: 'net-1', subnets: [ { id: 'subnet1' } ] } ]; spyOn(neutronApi, 'getNetworks').and.callFake(function () { deferred.resolve({ data: { items: networks } }); it('getPorts at launch should not return child port', function () { var ports = [ { id: 'parent', trunk_details: { trunk_id: 'trunk1', sub_ports: [ { port_id: 'child' } ] } }, { id: 'child' }, { id : 'plain' } ]; var networks = [ { id: 'net-1', subnets: [ { id: 'subnet1' } ] } ]; spyOn(neutronApi, 'getNetworks').and.callFake(function () { deferred.resolve({ data: { items: networks } }); spyOn(neutronApi, 'getPorts').and.callFake(function () { deferred.resolve({ data: { items: ports } }); expect(model.volumeSnapshots).toEqual([{ id: 'snap-1', volume_id: 'vol-1' }, { id: 'snap-2', volume_id: 'vol-2' }]); function() { settings.LAUNCH_INSTANCE_DEFAULTS.disable_volume_snapshot = true; model.initialize(true); scope.$apply(); expect(model.allowedBootSources).toBeDefined(); expect(model.allowedBootSources.length).toBe(3); expect(model.allowedBootSources).toContain(IMAGE); expect(model.allowedBootSources).toContain(INSTANCE_SNAPSHOT); expect(model.allowedBootSources).toContain(VOLUME); expect(model.allowedBootSources).not.toContain(VOLUME_SNAPSHOT); }); 'is enabled', function() { it('should not fetch server groups if the policy does not allow it', function () { it('should fetch server groups if the policy allows it', function () { model.newInstanceSpec.source_type = { type: 'image' }; model.newInstanceSpec.source = [ { id: 'cirros' } ]; model.newInstanceSpec.flavor = { id: 'm1.tiny' }; model.newInstanceSpec.networks = [ { id: 'public' }, { id: 'private' } ]; model.newInstanceSpec.ports = [ ]; model.newInstanceSpec.key_pair = [ { name: 'keypair1' } ]; model.newInstanceSpec.security_groups = [ { id: 'adminId', name: 'admin' }, { id: 'demoId', name: 'demo' } ]; model.newInstanceSpec.vol_device_name = ""volTestName""; { 'net-id': 'public', 'v4-fixed-ip': '' }, { 'net-id': 'private', 'v4-fixed-ip': '' } expect(finalSpec.security_groups).toEqual([ 'admin', 'demo' ]); expect(finalSpec.security_groups).toEqual([ 'adminId', 'demoId' ]); { 'net-id': 'public', 'v4-fixed-ip': '' }, { 'net-id': 'private', 'v4-fixed-ip': '' }, { 'port-id': 'port1' }",270,220
openstack%2Fglance~master~Ie7f9a9201361c56e0f0a289ef93443b9e277357c,openstack/glance,master,Ie7f9a9201361c56e0f0a289ef93443b9e277357c,Pass oslo.context RequestContext objects directly to policy enforcement,MERGED,2020-12-16 22:24:09.000000000,2021-02-26 05:00:48.000000000,2021-02-26 04:59:18.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 22:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3c4b464d648100c94fa63aa7a48f9a671b50d971', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. A subsequent patch\nmay remove the to_policy_values() implementation maintained in glance,\nsince there may not be a reason to keep it anymore.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 2, 'created': '2020-12-22 06:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83fae80041807ad98471e7558cbf66ef124d005b', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. A subsequent patch\nmay remove the to_policy_values() implementation maintained in glance,\nsince there may not be a reason to keep it anymore.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 3, 'created': '2021-02-05 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de118a3b836996fcb26426ab2469a4fe1d588f90', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 4, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/78a9d1d3c92462ca03acb43308b7c7d1038168f6', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 5, 'created': '2021-02-10 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f00aa6acd1569b4afed58afd64f90be3ab071835', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 6, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/36f3f24d975dad2d784cbd652e243467d6e87e46', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 7, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2d3b9a7fdd7dfa3eb18c2909e1310ee512264712', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 8, 'created': '2021-02-22 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cf20d89829837027c84746c1d2ffcfde9f8c4b1d', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 9, 'created': '2021-02-23 17:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c25e06ac336335589fa651d863d83960a5b624df', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nRelated: blueprint secure-rbac\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}, {'number': 10, 'created': '2021-02-23 22:25:07.000000000', 'files': ['glance/tests/unit/test_policy.py', 'glance/context.py', 'glance/api/policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e6755ebab9eea071cb5c9e4fb09be8fe81911c0c', 'message': ""Pass oslo.context RequestContext objects directly to policy enforcement\n\nThe oslo.policy's Enforcer() object will transpose authorization\ninformation from oslo.context RequestContext objects if you pass one\nto enforce()[0].\n\nThis commit simplifies the enforcement code in glance by letting\noslo.policy handle the translation instead of glance. This allows us to\nremove the to_policy_values() method maintained in glance since it's no\nlonger used.\n\n[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21\n\nRelated: blueprint secure-rbac\n\nChange-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c\n""}]",3,767425,e6755ebab9eea071cb5c9e4fb09be8fe81911c0c,69,4,10,5046,,,0,"Pass oslo.context RequestContext objects directly to policy enforcement

The oslo.policy's Enforcer() object will transpose authorization
information from oslo.context RequestContext objects if you pass one
to enforce()[0].

This commit simplifies the enforcement code in glance by letting
oslo.policy handle the translation instead of glance. This allows us to
remove the to_policy_values() method maintained in glance since it's no
longer used.

[0] https://opendev.org/openstack/oslo.policy/commit/775641a5fc549c20be37cf862deca394bf7f2d21

Related: blueprint secure-rbac

Change-Id: Ie7f9a9201361c56e0f0a289ef93443b9e277357c
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/767425/8 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/policy.py'],1,3c4b464d648100c94fa63aa7a48f9a671b50d971,secure-rbac," context,"," context.to_policy_values(),",1,1
openstack%2Fadjutant~master~Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,openstack/adjutant,master,Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4,Fix a bug with feature set config not being added as expected,MERGED,2021-02-26 00:39:45.000000000,2021-02-26 04:35:47.000000000,2021-02-26 04:34:37.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 00:39:45.000000000', 'files': ['adjutant/config/feature_sets.py', 'adjutant/config/__init__.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d703a634a4d71b54957a3a554797dc5b78aad566', 'message': ""Fix a bug with feature set config not being added as expected\n\nThe feature set config group was entirely missed from the config\ntree, and the group itself wasn't setup for lazy_loading despite\nneeding to be based on when it is meant to have config added to it.\n\nChange-Id: Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4\n""}]",0,777702,d703a634a4d71b54957a3a554797dc5b78aad566,7,2,1,10420,,,0,"Fix a bug with feature set config not being added as expected

The feature set config group was entirely missed from the config
tree, and the group itself wasn't setup for lazy_loading despite
needing to be based on when it is meant to have config added to it.

Change-Id: Ia9569ebb76ffe91d592dbc94bc528bde4aa00fc4
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/02/777702/1 && git format-patch -1 --stdout FETCH_HEAD,"['adjutant/config/feature_sets.py', 'adjutant/config/__init__.py']",2,d703a634a4d71b54957a3a554797dc5b78aad566,bug/feature_set_config,from adjutant.config import feature_sets_root_config.register_child_config(feature_sets.config_group),,3,1
openstack%2Fglance~master~Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,openstack/glance,master,Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e,New API /v2/images/{id}/tasks,MERGED,2021-02-10 11:30:47.000000000,2021-02-26 02:49:31.000000000,2021-02-26 00:27:24.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 11:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e78e3c5c789b24b63a200fc8abe652c33db1fee', 'message': 'WIP: New API /v2/images/{id}/tasks to show tasks associated with image\n\nToDo:\nUnit and functional tests\ndocumentation\n\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\nImplements: blueprint messages-api\n'}, {'number': 2, 'created': '2021-02-12 13:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/463fa2e0af4cb7ebab3beae4fd71aa1550be8064', 'message': 'WIP: New API /v2/images/{id}/tasks to show tasks associated with image\n\nToDo:\nUnit and functional tests\ndocumentation\n\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\nImplements: blueprint messages-api\n'}, {'number': 3, 'created': '2021-02-15 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d959c7b4a41ddabf0e9c93748dba96531b7504a', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 4, 'created': '2021-02-16 07:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b1ba2b2d6bd6a1cf7ecd88224587ccb33ac3e7a', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 5, 'created': '2021-02-16 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6bbafa0a09f0cee9a58349eae23c35ec0bd4257b', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 6, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d94e84e4e3df07b0258ec20524fb8c2f64e253a0', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 7, 'created': '2021-02-19 20:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1be3973e4ebe91e4f51597cd0cc764b18f3781d9', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 8, 'created': '2021-02-22 06:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ca29d8379c8357f3e0d177397f7d551769c7af6', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}, {'number': 9, 'created': '2021-02-24 06:00:03.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/tests/unit/test_db.py', 'glance/db/simple/api.py', 'glance/api/v2/images.py', 'glance/api/v2/router.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/281fadc15c5e257e72514957701a5571a83d8c38', 'message': 'New API /v2/images/{id}/tasks\n\nAdded new API /v2/images/{id}/tasks to show tasks associated with\nimage. This API will return list of tasks associated for valid image\nelse returns 404 not found if image is not present. This API also\ninitiates task scrubbing before returning tasks to user.\n\nImplements: blueprint messages-api\nChange-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e\n'}]",28,774830,281fadc15c5e257e72514957701a5571a83d8c38,47,4,9,9303,,,0,"New API /v2/images/{id}/tasks

Added new API /v2/images/{id}/tasks to show tasks associated with
image. This API will return list of tasks associated for valid image
else returns 404 not found if image is not present. This API also
initiates task scrubbing before returning tasks to user.

Implements: blueprint messages-api
Change-Id: Ib3cacb4dd4d75de32e539f8a3b48bdaa762e6d8e
",git fetch https://review.opendev.org/openstack/glance refs/changes/30/774830/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/router.py', 'glance/db/sqlalchemy/api.py']",3,9e78e3c5c789b24b63a200fc8abe652c33db1fee,bump-image-api-version,"def tasks_get_by_image(context, image_id, session=None, force_show_deleted=False): """"""Fetch a tasks associated with image_id"""""" tasks = [] session = session or get_session() query = session.query(models.Task).options( sa_orm.joinedload(models.Task.info) ).filter_by(image_id=image_id) expires_at = models.Task.expires_at query = query.filter(expires_at >= timeutils.utcnow()) if not context.is_admin and context.owner is not None: query = query.filter(models.Task.owner == context.owner) if not force_show_deleted and not context.can_see_deleted: query = query.filter_by(deleted=False) try: task_refs = query.all() except sa_orm.exc.NoResultFound: LOG.debug(""No task found for image with ID %s"", image_id) return tasks for task_ref in task_refs: # Make sure the task is visible if not _is_task_visible(context, task_ref): msg = ""Task %s is not visible, excluding"" % task_ref.id LOG.debug(msg) continue tasks.append(_task_format(task_ref, task_ref.info)) return tasks ",,53,0
openstack%2Fswift~stable%2Fussuri~I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,openstack/swift,stable/ussuri,I56b4169002122ba3e53e78abd1ad994e0ae5ed3d,swift-container-info: Show shard ranges summary,MERGED,2021-02-24 03:15:09.000000000,2021-02-26 01:53:53.000000000,2021-02-26 01:52:18.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info'], 'web_link': 'https://opendev.org/openstack/swift/commit/f4061c04364adf8933841968b053ff442f95059e', 'message': ""swift-container-info: Show shard ranges summary\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.  The new summary with the states is default.  Users can\nadd a -v/--verbose flag to see the old full detail view.\n\nCherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892\nChange-Id: I56b4169002122ba3e53e78abd1ad994e0ae5ed3d\n""}]",0,777282,f4061c04364adf8933841968b053ff442f95059e,13,2,1,597,,,0,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Cherry-Picked-From: I0a7d65f64540f99514c52a70f9157ef060a8a892
Change-Id: I56b4169002122ba3e53e78abd1ad994e0ae5ed3d
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/777282/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info']",3,f4061c04364adf8933841968b053ff442f95059e,ussuri-sharding," parser.add_option( '-v', '--verbose', default=False, action=""store_true"", help=""Show all shard ranges. By default, only the number of shard "" ""ranges is displayed if there are many shards."")",,117,22
openstack%2Ftripleo-ansible~master~I7aba66f55e1e63a233757bc07a65b5669ae782f5,openstack/tripleo-ansible,master,I7aba66f55e1e63a233757bc07a65b5669ae782f5,Fix typo in test_tripleo_overcloud_network_ports.py,MERGED,2021-02-25 18:32:53.000000000,2021-02-26 01:31:28.000000000,2021-02-26 01:31:28.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 18:32:53.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a6b7c55f9f7daa2dadded36a9447ee01913c435', 'message': 'Fix typo in test_tripleo_overcloud_network_ports.py\n\nChange-Id: I7aba66f55e1e63a233757bc07a65b5669ae782f5\n'}]",0,777649,4a6b7c55f9f7daa2dadded36a9447ee01913c435,8,4,1,24245,,,0,"Fix typo in test_tripleo_overcloud_network_ports.py

Change-Id: I7aba66f55e1e63a233757bc07a65b5669ae782f5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/777649/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py'],1,4a6b7c55f9f7daa2dadded36a9447ee01913c435,fix-typo-in-tests," mock_conn.network.set_tags.assert_called_with(some_port, mock.ANY)"," mock_conn.network.set_tags.assrt_called_with(some_port, mock.ANY)",1,1
openstack%2Fopenstack-helm~master~Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,openstack/openstack-helm,master,Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a,Move rabbit-init to dynamic dependency,MERGED,2021-02-08 19:48:47.000000000,2021-02-26 01:30:19.000000000,2021-02-26 01:28:56.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 28372}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-08 19:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ce01d3483bd538f934241551ef680d01865b715', 'message': 'Move rabbit-init to dynamic dependency\n\nWith a previous change[0] that moved rabbit-init jobs to dynamic\nin helm-toolkit, this change continues that work by moving the\nkeystone rabbit-init job to dynamic as well.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727\n\nChange-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a\n'}, {'number': 2, 'created': '2021-02-12 21:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5adb22297a5b4b045bf3372a71eb0c18774173e', 'message': 'Move rabbit-init to dynamic dependency\n\nWith a previous change[0] that moved rabbit-init jobs to dynamic\nin helm-toolkit, this change continues that work by moving the\nkeystone rabbit-init job to dynamic as well.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727\n\nChange-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a\n'}, {'number': 3, 'created': '2021-02-18 19:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f74de0718e5f568f3370e48c07ef1186ff9a78cb', 'message': 'Move rabbit-init to dynamic dependency\n\nWith a previous change[0] that moved rabbit-init jobs to dynamic\nin helm-toolkit, this change continues that work by moving the\nkeystone rabbit-init job to dynamic as well.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727\n\nChange-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a\n'}, {'number': 4, 'created': '2021-02-25 19:15:49.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de912628ca3be6232bfc8db9e47c2a975d2c7d52', 'message': 'Move rabbit-init to dynamic dependency\n\nWith a previous change[0] that moved rabbit-init jobs to dynamic\nin helm-toolkit, this change continues that work by moving the\nkeystone rabbit-init job to dynamic as well.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727\n\nChange-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a\n'}]",0,774533,de912628ca3be6232bfc8db9e47c2a975d2c7d52,50,9,4,21420,,,0,"Move rabbit-init to dynamic dependency

With a previous change[0] that moved rabbit-init jobs to dynamic
in helm-toolkit, this change continues that work by moving the
keystone rabbit-init job to dynamic as well.

[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/671727

Change-Id: Iec2ea3fdf36e19ac4f2e203389dbe19737d14c3a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/774533/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",3,4ce01d3483bd538f934241551ef680d01865b715,keystone-rabbit,version: 0.1.7,version: 0.1.6,6,5
openstack%2Fopenstack-helm~master~Id3dbbe721f4ded3c54d82852d9c155253d226867,openstack/openstack-helm,master,Id3dbbe721f4ded3c54d82852d9c155253d226867,Update rbac api version for nova,MERGED,2021-01-30 07:32:38.000000000,2021-02-26 00:58:41.000000000,2021-02-26 00:57:18.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-30 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0184ba380a240ba28a70992253b5abec412a090d', 'message': 'Update rabc api version for nova\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867\n'}, {'number': 2, 'created': '2021-01-31 03:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc7e17a871aa45a01145d2d2c797d4276ce39e4b', 'message': 'Update rbac api version for nova\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867\n'}, {'number': 3, 'created': '2021-02-18 07:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65af72da967be737511faf77b93e0b6d260fe5f7', 'message': 'Update rbac api version for nova\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867\n'}, {'number': 4, 'created': '2021-02-19 01:01:35.000000000', 'files': ['nova/templates/job-bootstrap.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a05f5c3f9ae955531ef7f593e17f0a4af601e4f', 'message': 'Update rbac api version for nova\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867\n'}]",0,773227,3a05f5c3f9ae955531ef7f593e17f0a4af601e4f,58,10,4,30449,,,0,"Update rbac api version for nova

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: Id3dbbe721f4ded3c54d82852d9c155253d226867
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/773227/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-bootstrap.yaml', 'nova/Chart.yaml']",2,0184ba380a240ba28a70992253b5abec412a090d,,version: 0.1.10,version: 0.1.9,2,2
openstack%2Fironic~master~I9419b379935a3ba2bdcea356ce8987a5b12dad6f,openstack/ironic,master,I9419b379935a3ba2bdcea356ce8987a5b12dad6f,Add both IPv4 and IPv6 DHCP options if interface has both,ABANDONED,2021-02-25 21:57:29.000000000,2021-02-26 00:42:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-25 21:57:29.000000000', 'files': ['ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b85fd4e3e653ec4654e3acca0c3dd1d3b8b44b1', 'message': 'Add both IPv4 and IPv6 DHCP options if interface has both\n\nIt is possible that an interface has both IPv4 and IPv6 addresses,\nprimarily when using SLAAC with OpenStack Neutron.  When this is\nthe case, it is very likely that the first fixed IP would be a\nSLAAC assigned port and the second IP is the IPv4 address.\n\nIn an environment where you are looking to boot via IPv4, no DHCPv6\ninfrastructure exists as IPv6 connectivity is provided via SLAAC,\nyou would not be able to use this network to boot off of.\n\nThis patch instead grabs all the fixed IP addresses, then inserts\nthe options that match the IP versions which are attached to the\ninterface, potentially resulting in both IPv4 and IPv6 options\nbeing included (though the IPv6 ones would be largely omitted).\n\nIn environments where only IPv4 or IPv6 is in use on the port, it\nwill still only insert the options for those specific IP versions.\n\nChange-Id: I9419b379935a3ba2bdcea356ce8987a5b12dad6f\n'}]",0,777691,7b85fd4e3e653ec4654e3acca0c3dd1d3b8b44b1,7,1,1,1004,,,0,"Add both IPv4 and IPv6 DHCP options if interface has both

It is possible that an interface has both IPv4 and IPv6 addresses,
primarily when using SLAAC with OpenStack Neutron.  When this is
the case, it is very likely that the first fixed IP would be a
SLAAC assigned port and the second IP is the IPv4 address.

In an environment where you are looking to boot via IPv4, no DHCPv6
infrastructure exists as IPv6 connectivity is provided via SLAAC,
you would not be able to use this network to boot off of.

This patch instead grabs all the fixed IP addresses, then inserts
the options that match the IP versions which are attached to the
interface, potentially resulting in both IPv4 and IPv6 options
being included (though the IPv6 ones would be largely omitted).

In environments where only IPv4 or IPv6 is in use on the port, it
will still only insert the options for those specific IP versions.

Change-Id: I9419b379935a3ba2bdcea356ce8987a5b12dad6f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/777691/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py']",2,7b85fd4e3e653ec4654e3acca0c3dd1d3b8b44b1,fix-ip-version," def test_update_port_dhcp_opts_v4_and_v6(self, update_mock, client_mock): opts = [{'opt_name': 'bootfile-name', 'opt_value': 'pxelinux.0', 'ip_version': 4}, {'opt_name': 'tftp-server', 'opt_value': '1.1.1.1', 'ip_version': 4}, {'opt_name': 'server-ip-address', 'opt_value': '1.1.1.1', 'ip_version': 4}, {'opt_name': 'bootfile-url', 'opt_value': 'tftp://::1/file.name', 'ip_version': 6}] port_id = 'fake-port-id' expected = { 'extra_dhcp_opts': [ { 'opt_name': 'bootfile-name', 'opt_value': 'pxelinux.0', 'ip_version': 4 }, { 'opt_name': 'tftp-server', 'opt_value': '1.1.1.1', 'ip_version': 4 }, { 'opt_name': 'server-ip-address', 'opt_value': '1.1.1.1', 'ip_version': 4 }, { 'opt_name': 'bootfile-url', 'opt_value': 'tftp://::1/file.name', 'ip_version': 6 } ] } port_data = { ""id"": port_id, ""fixed_ips"": [ { ""ip_address"": ""192.168.1.3"", }, { ""ip_address"": ""2001:db8::201"", } ], } client_mock.return_value.get_port.return_value = port_data api = dhcp_factory.DHCPFactory() with task_manager.acquire(self.context, self.node.uuid) as task: api.provider.update_port_dhcp_opts(port_id, opts, context=task.context) update_mock.assert_called_once_with( task.context, port_id, expected) @mock.patch('ironic.common.neutron.get_client', autospec=True) @mock.patch('ironic.common.neutron.update_neutron_port', autospec=True)",,80,20
openstack%2Ftempest~master~I62faa52580160127bd555283fe7bb56359c0eff8,openstack/tempest,master,I62faa52580160127bd555283fe7bb56359c0eff8,Remove usage of six,ABANDONED,2021-02-22 01:40:15.000000000,2021-02-26 00:38:12.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-02-22 01:40:15.000000000', 'files': ['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/tests/test_microversions.py', 'tempest/api/network/test_ports.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/jsonschema_validator.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/lib/common/rest_client.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/tests/lib/test_ssh.py', 'tempest/tests/cmd/test_run.py', 'tempest/tests/api/compute/test_base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/tests/test_list_tests.py', 'tempest/tests/lib/common/test_preprov_creds.py', 'tempest/tests/lib/common/test_api_version_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85e28290d584b06bec8ac17bb0eaf0fc9548937a', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.text_type\n\nChange-Id: I62faa52580160127bd555283fe7bb56359c0eff8\n'}]",0,776860,85e28290d584b06bec8ac17bb0eaf0fc9548937a,16,3,1,31412,,,0,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.text_type

Change-Id: I62faa52580160127bd555283fe7bb56359c0eff8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/776860/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/tests/test_microversions.py', 'tempest/api/network/test_ports.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/jsonschema_validator.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/lib/common/rest_client.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/tests/lib/test_ssh.py', 'tempest/tests/cmd/test_run.py', 'tempest/tests/api/compute/test_base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/tests/test_list_tests.py', 'tempest/tests/lib/common/test_preprov_creds.py', 'tempest/tests/lib/common/test_api_version_utils.py']",17,85e28290d584b06bec8ac17bb0eaf0fc9548937a,remove-six, raise testtools.TestCase.failureException(str(e)),import six raise testtools.TestCase.failureException(six.text_type(e)),36,48
openstack%2Fglance~master~Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,openstack/glance,master,Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2,Update API docs for new /v2/images/{image_id}/tasks API,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:34:08.000000000,2021-02-26 00:27:30.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/17866a1b100a0e67ff5b62ed9cc80d8e4e212b36', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 2, 'created': '2021-02-16 07:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f548847c15b3242c46da07262034ae3a9fce5fd8', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 3, 'created': '2021-02-16 15:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bc7598bcc2a1c2dd180caf6fe8bb40e74eb3737b', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 4, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/832ef03ed571f26e2def07efaa2ca57a792678fa', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 5, 'created': '2021-02-19 20:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d24da56395af70d24c45c67e1fdd4838bf305fd', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 6, 'created': '2021-02-22 06:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/54dad4ba08832f3b99781885c65bd4c0e6c5dda3', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}, {'number': 7, 'created': '2021-02-24 06:00:03.000000000', 'files': ['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/images-images-v2.inc', 'releasenotes/notes/image-tasks-api-f21b42eab91c2079.yaml', 'api-ref/source/v2/samples/image-tasks-show-response.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/03696299d20debf8a5aa561bc80878775ad02695', 'message': 'Update API docs for new /v2/images/{image_id}/tasks API\n\nUpdated API reference documentation for new API.\n\nChange-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2\nRelated: blueprint messages-api\n'}]",11,775597,03696299d20debf8a5aa561bc80878775ad02695,21,3,7,9303,,,0,"Update API docs for new /v2/images/{image_id}/tasks API

Updated API reference documentation for new API.

Change-Id: Ie69d4180e09fe4c670faaa7d3c31742d1fc581e2
Related: blueprint messages-api
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/775597/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/images-parameters.yaml', 'api-ref/source/v2/images-images-v2.inc', 'releasenotes/notes/image-tasks-api-f21b42eab91c2079.yaml', 'api-ref/source/v2/samples/image-tasks-show-response.json']",4,17866a1b100a0e67ff5b62ed9cc80d8e4e212b36,bump-image-api-version,"{ ""tasks"": [ { ""id"": ""ee22890e-8948-4ea6-9668-831f973c84f5"", ""image_id"": ""dddddddd-dddd-dddd-dddd-dddddddddddd"", ""request-id"": ""rrrrrrr-rrrr-rrrr-rrrr-rrrrrrrrrrrr"", ""user"": ""uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu"", ""type"": ""api_image_import"", ""status"": ""processing"", ""owner"": ""64f0efc9955145aeb06f297a8a6fe402"", ""expires_at"": null, ""created_at"": ""2020-12-18T05:20:38.000000"", ""updated_at"": ""2020-12-18T05:25:39.000000"", ""deleted_at"": null, ""deleted"": false, ""input"": { ""image_id"": ""829c729b-ebc4-4cc7-a164-6f43f1149b17"", ""import_req"": { ""method"": { ""name"": ""copy-image"" }, ""all_stores"": true, ""all_stores_must_succeed"": false }, ""backend"": [ ""fast"", ""cheap"", ""slow"", ""reliable"", ""common"" ] }, ""result"": null, ""message"": ""Copied 15 MiB"" } ] } ",,96,0
openstack%2Ftripleo-common~stable%2Ftrain~Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,openstack/tripleo-common,stable/train,Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5,Add python3-pymemcache to tcib,MERGED,2021-02-25 09:10:36.000000000,2021-02-26 00:33:55.000000000,2021-02-26 00:28:49.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 09:10:36.000000000', 'files': ['container-images/tcib/base/os/os.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a8f62c54985fdd1f7050b2531d434604ee1961d0', 'message': ""Add python3-pymemcache to tcib\n\npymemcache is required by services connecting to\nMemcached with TLS. pymemcache will also likely replace\npython-memcached alltogether, because of it's lack of\nmaintenance.\n\nsee: https://review.opendev.org/761612\nChange-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5\n(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)\n""}]",0,777537,a8f62c54985fdd1f7050b2531d434604ee1961d0,8,4,1,14250,,,0,"Add python3-pymemcache to tcib

pymemcache is required by services connecting to
Memcached with TLS. pymemcache will also likely replace
python-memcached alltogether, because of it's lack of
maintenance.

see: https://review.opendev.org/761612
Change-Id: Icbc02b14d89d7e84a27e6bf51869967b86f8b4a5
(cherry picked from commit ab387b6a35dd18640bb9f4701097432b6959d03a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/777537/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/os.yaml'],1,a8f62c54985fdd1f7050b2531d434604ee1961d0,memcached-cert-stable/victoria-stable/ussuri-stable/train, - python3-pymemcache,,1,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/victoria,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:33.000000000,2021-02-26 00:33:51.000000000,2021-02-26 00:29:15.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 18:35:33.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb64cf4455beb6156003644908923eddb797fdbb', 'message': 'Add auth_token_lifetime to undercloud.conf\n\nThe undercloud currently defines the auth token life time in the\nundercloud.yaml environment in tripleo-heat-templates. At certain scale,\nit makes sense to increase this so we should make it a top level\nconfiguration item.\n\nChange-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881\n(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)\n'}]",0,777324,bb64cf4455beb6156003644908923eddb797fdbb,7,2,1,14985,,,0,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/777324/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml']",4,bb64cf4455beb6156003644908923eddb797fdbb,,--- features: - | Adds `auth_token_lifetime` to undercloud.conf with a default of 14400. This configuration option exposes the keystone token expirataion as a top level configuration since it may need to be increased to handle larger clouds. ,,16,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ibf917826a2d6b2662215c58c9dd8ec8007e57881,openstack/python-tripleoclient,stable/ussuri,Ibf917826a2d6b2662215c58c9dd8ec8007e57881,Add auth_token_lifetime to undercloud.conf,MERGED,2021-02-24 18:35:51.000000000,2021-02-26 00:33:45.000000000,2021-02-26 00:29:12.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 18:35:51.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9d220cb4210fd92aa127a1d188598185c5d92e5', 'message': 'Add auth_token_lifetime to undercloud.conf\n\nThe undercloud currently defines the auth token life time in the\nundercloud.yaml environment in tripleo-heat-templates. At certain scale,\nit makes sense to increase this so we should make it a top level\nconfiguration item.\n\nChange-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881\n(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)\n'}]",0,777325,a9d220cb4210fd92aa127a1d188598185c5d92e5,7,2,1,14985,,,0,"Add auth_token_lifetime to undercloud.conf

The undercloud currently defines the auth token life time in the
undercloud.yaml environment in tripleo-heat-templates. At certain scale,
it makes sense to increase this so we should make it a top level
configuration item.

Change-Id: Ibf917826a2d6b2662215c58c9dd8ec8007e57881
(cherry picked from commit 438e53ad4e31ff88421e1b7070dbb9f097bcd359)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/777325/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'releasenotes/notes/undercloud-auth-token-expiration-configuration-6159d733f09e1b6e.yaml']",4,a9d220cb4210fd92aa127a1d188598185c5d92e5,,--- features: - | Adds `auth_token_lifetime` to undercloud.conf with a default of 14400. This configuration option exposes the keystone token expirataion as a top level configuration since it may need to be increased to handle larger clouds. ,,16,0
openstack%2Frequirements~master~I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,openstack/requirements,master,I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7,Updated from generate-constraints,MERGED,2021-02-25 06:26:22.000000000,2021-02-26 00:30:07.000000000,2021-02-26 00:27:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 06:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/282dd7c62c6add546f713b58c1c816e8264bc3f0', 'message': 'Updated from generate-constraints\n\nChange-Id: I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7\n'}, {'number': 2, 'created': '2021-02-25 06:33:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3595d1f7772b80aba64d6cc39f2f0b7a19d4f393', 'message': 'Updated from generate-constraints\n\nChange-Id: I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777498,3595d1f7772b80aba64d6cc39f2f0b7a19d4f393,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I370fdf7b92800b0a9fabcebb6503b3b96ffd06a7
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/777498/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,282dd7c62c6add546f713b58c1c816e8264bc3f0,openstack/requirements/constraints,rsa===4.7.2mock===4.0.3importlib-metadata===3.7.0;python_version=='3.6'boto3===1.17.15botocore===1.20.15pkg-resources===0.0.0docker===4.4.4,rsa===4.7.1mock===3.0.5importlib-metadata===3.6.0;python_version=='3.6'boto3===1.17.14botocore===1.20.14docker===4.4.3futures===3.3.0;python_version=='2.7'setuptools===53.0.0,7,8
openstack%2Fglance~master~Iaea8a81b64503ad82525eb8edd609253ff1d47b9,openstack/glance,master,Iaea8a81b64503ad82525eb8edd609253ff1d47b9,Add a test for migration naming and phase rules,MERGED,2021-02-24 15:51:57.000000000,2021-02-26 00:30:06.000000000,2021-02-26 00:26:24.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 15:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/610e47fa738dbabfbf0dd47b466fdf94b9d40625', 'message': 'Add a test for migration naming and phase rules\n\nAny time we have a migration for a given release, we want to make sure\nthat we have a definition for each phase, even if it is empty. This\nadds a test that makes sure we conform to that in the future, to help\nreduce reviewer load and requiring the tribal knowledge at the point\nof review.\n\nWhile doing this, this also validates that the migration files fit\na general pattern of release_phaseNN_description.py format.\n\nChange-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9\n'}, {'number': 2, 'created': '2021-02-25 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/57c7e0c2c7a4b085261d82d172f30b8ec65945b9', 'message': 'Add a test for migration naming and phase rules\n\nAny time we have a migration for a given release, we want to make sure\nthat we have a definition for each phase, even if it is empty. This\nadds a test that makes sure we conform to that in the future, to help\nreduce reviewer load and requiring the tribal knowledge at the point\nof review.\n\nWhile doing this, this also validates that the migration files fit\na general pattern of release_phaseNN_description.py format.\n\nChange-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9\n'}, {'number': 3, 'created': '2021-02-25 18:24:04.000000000', 'files': ['glance/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/dbd7495850245ed68d43839e3158b06c76d5858e', 'message': 'Add a test for migration naming and phase rules\n\nAny time we have a migration for a given release, we want to make sure\nthat we have a definition for each phase, even if it is empty. This\nadds a test that makes sure we conform to that in the future, to help\nreduce reviewer load and requiring the tribal knowledge at the point\nof review.\n\nWhile doing this, this also validates that the migration files fit\na general pattern of release_phaseNN_description.py format.\n\nChange-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9\n'}]",3,777413,dbd7495850245ed68d43839e3158b06c76d5858e,19,3,3,4393,,,0,"Add a test for migration naming and phase rules

Any time we have a migration for a given release, we want to make sure
that we have a definition for each phase, even if it is empty. This
adds a test that makes sure we conform to that in the future, to help
reduce reviewer load and requiring the tribal knowledge at the point
of review.

While doing this, this also validates that the migration files fit
a general pattern of release_phaseNN_description.py format.

Change-Id: Iaea8a81b64503ad82525eb8edd609253ff1d47b9
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/777413/3 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/db/test_migrations.py'],1,610e47fa738dbabfbf0dd47b466fdf94b9d40625,validate-migration-phases,"import collectionsclass TestVersions(test_utils.BaseTestCase): def test_phase_and_naming(self): """"""Test that migrations follow the conventional rules. Each release should have at least one file for each of the required phases, if it has one for any of them. They should also be named in a consistent way going forward. """""" # These are the phases that we require. Each release should have a # version for each of these phases, even if some are empty. required_phases = set(['expand', 'migrate', 'contract']) # The initial migration is special, and mitaka was not done according # to convention. Both of those are exceptions to these rules which # need not be enforced. # NOTE(danms): Do not add anything else to this list! New migrations # should follow the rules! exception_releases = ['liberty', 'mitaka'] versions_path, _ = os.path.split(versions.__file__) version_files = os.listdir(versions_path) version_files += os.listdir(os.path.join(versions_path, '..', 'data_migrations')) releases = collections.defaultdict(set) for version_file in [v for v in version_files if v[0] != '_']: # Exception releases get ignored if any([version_file.startswith(prefix) for prefix in exception_releases]): continue # File format should be release_phaseNN_description.py release, phasever, rest = version_file.split('_', 2) # Grab the non-numeric part of phaseNN phase = ''.join(x for x in phasever if x.isalpha()) if phase not in required_phases: # Help make sure that going forward developers stick to the # consistent format. self.fail('Migration files should be in the form of: ' 'release_phaseNN_some_description.py ' '(while processing %r)' % version_file) releases[release].add(phase) for release, phases in releases.items(): missing = required_phases - phases if missing: self.fail('Release %s missing migration phases %s' % ( release, ','.join(missing))) ",,51,0
openstack%2Ftempest~master~I3f6b8e274f9b57ae8d1389a188636660854971e3,openstack/tempest,master,I3f6b8e274f9b57ae8d1389a188636660854971e3,Make _create_network() non-private,MERGED,2021-02-22 13:39:42.000000000,2021-02-26 00:30:00.000000000,2021-02-26 00:26:46.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 13:39:42.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_network_v6.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3bdafd897924c11a32d34b9160337ad82fb9c62e', 'message': 'Make _create_network() non-private\n\n_create_network() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I3f6b8e274f9b57ae8d1389a188636660854971e3\n'}]",0,776933,3bdafd897924c11a32d34b9160337ad82fb9c62e,13,2,1,30742,,,0,"Make _create_network() non-private

_create_network() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I3f6b8e274f9b57ae8d1389a188636660854971e3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/776933/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_network_v6.py']",3,3bdafd897924c11a32d34b9160337ad82fb9c62e,bp/tempest-scenario-manager-stable, network = self.create_network() if dualnet: network_v6 = self.create_network(), network = self._create_network() if dualnet: network_v6 = self._create_network(),8,8
openstack%2Fswift~master~I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,openstack/swift,master,I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23,tempauth: Add .reseller_reader group,MERGED,2021-02-08 20:38:57.000000000,2021-02-26 00:29:56.000000000,2021-02-26 00:26:14.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 20:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/95f498d160eccc3c1c5c690f0483b14813e9ab66', 'message': 'tempauth: Add .reseller_reader group\n\nChange-Id: I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23\n'}, {'number': 2, 'created': '2021-02-10 00:35:13.000000000', 'files': ['test/unit/common/middleware/test_tempauth.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cf4f320644b63b71d0147474455f76555218d1c0', 'message': 'tempauth: Add .reseller_reader group\n\nChange-Id: I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23\n'}]",0,774539,cf4f320644b63b71d0147474455f76555218d1c0,11,3,2,15343,,,0,"tempauth: Add .reseller_reader group

Change-Id: I8c5197ed327fbb175c8a2c0e788b1ae14e6dfe23
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/774539/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempauth.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/tempauth.py']",3,95f498d160eccc3c1c5c690f0483b14813e9ab66,rbac,"There are three special groups:* ``.reseller_reader`` -- can GET/HEAD anything in any account for this authIf none of these groups are specified, the user can only accessThe name ``.service`` is an example. Unlike ``.admin``, ``.reseller_admin``, ``.reseller_reader`` it is not a reserved name. if '.reseller_reader' in user_groups and \ account not in self.reseller_prefixes and \ not self._dot_account(account) and \ req.method in ('GET', 'HEAD'): self.logger.debug(""User %s has reseller reader authorizing."" % account_user) return None ","There are two special groups:If neither of these groups are specified, the user can only accessThe name ``.service`` is an example. Unlike ``.admin`` and ``.reseller_admin`` it is not a reserved name.",75,8
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,stable/ussuri,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-25 10:12:13.000000000,2021-02-26 00:29:41.000000000,2021-02-26 00:29:41.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-25 10:12:13.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6de73eca77ae3650985e0b5d0d7d6c42562f1e6c', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nCloses-Bug: 1916756\nResolves: rhbz#1932208\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\n(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)\n(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)\n""}]",0,777557,6de73eca77ae3650985e0b5d0d7d6c42562f1e6c,9,6,1,6796,,,0,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
(cherry picked from commit c1462b7608be9c7b925009ec95c9bbed0c08d98c)
(cherry picked from commit bd5e2c80fd7bfac2eb72c6c87557f64885648e53)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/777557/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,6de73eca77ae3650985e0b5d0d7d6c42562f1e6c,,, roles: - admin - member - member,0,4
openstack%2Ftripleo-heat-templates~master~I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,openstack/tripleo-heat-templates,master,I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab,Fix redis_tls_proxy,MERGED,2021-02-25 08:58:31.000000000,2021-02-26 00:29:29.000000000,2021-02-26 00:29:29.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 08:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ed2663819e0c4b6a7a83988f97a08dddaf34d25', 'message': 'WIP Fix redis-tls\n\nChange-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab\n'}, {'number': 2, 'created': '2021-02-25 10:42:55.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84c85aaff30dd9ced19e0dd3e45fc7bf05e89edf', 'message': 'Fix redis_tls_proxy\n\nSince we merged the pcs-host patches we erroneously also removed\nthe sidecar container that does the tls stunneling for redis.\nThis is needed to allow the redis master stream the deplications to\nits slaves via TLS.\n\nTested this and we now correctly get the working container and cluster\nstate:\n[root@controller-0 ~]# podman ps -a |grep redis\n4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0\n604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy\n[root@controller-0 ~]# pcs status |grep redis\n  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]\n  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:\n    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0\n    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1\n    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2\n\nWe also move the redis_tls_proxy from step_2/start_order: 3 to step_1\nsince it actually makes sense to have it run before we start the\nredis pcmk bundle at step 2 (i.e. so the slave replica can work right\naway from the start).\n\nCloses-Bug: #1916873\n\nChange-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab\n'}]",0,777512,84c85aaff30dd9ced19e0dd3e45fc7bf05e89edf,9,4,2,20172,,,0,"Fix redis_tls_proxy

Since we merged the pcs-host patches we erroneously also removed
the sidecar container that does the tls stunneling for redis.
This is needed to allow the redis master stream the deplications to
its slaves via TLS.

Tested this and we now correctly get the working container and cluster
state:
[root@controller-0 ~]# podman ps -a |grep redis
4182a78811a2  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       /bin/bash /usr/lo...  3 minutes ago   Up 3 minutes ago                 redis-bundle-podman-0
604a086bb53c  undercloud-0.ctlplane.redhat.local:8787/openstack-redis:16.2_20210218.1-hotfixupdate2       kolla_start           8 minutes ago   Up 8 minutes ago                 redis_tls_proxy
[root@controller-0 ~]# pcs status |grep redis
  * GuestOnline: [ galera-bundle-0@database-1 galera-bundle-1@database-2 galera-bundle-2@database-0 ovn-dbs-bundle-0@controller-0 ovn-dbs-bundle-1@controller-1 ovn-dbs-bundle-2@controller-2 rabbitmq-bundle-0@messaging-0 rabbitmq-bundle-1@messaging-1 rabbitmq-bundle-2@messaging-2 redis-bundle-0@controller-0 redis-bundle-1@controller-1 redis-bundle-2@controller-2 ]
  * Container bundle set: redis-bundle [cluster.common.tag/openstack-redis:pcmklatest]:
    * redis-bundle-0    (ocf::heartbeat:redis):  Master controller-0
    * redis-bundle-1    (ocf::heartbeat:redis):  Slave controller-1
    * redis-bundle-2    (ocf::heartbeat:redis):  Slave controller-2

We also move the redis_tls_proxy from step_2/start_order: 3 to step_1
since it actually makes sense to have it run before we start the
redis pcmk bundle at step 2 (i.e. so the slave replica can work right
away from the start).

Closes-Bug: #1916873

Change-Id: I44df0ee32e5c35b87f74bdb75dcb384496dfb6ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/777512/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,9ed2663819e0c4b6a7a83988f97a08dddaf34d25,fix-redis-tls," docker_config: - if: - internal_tls_enabled - redis_tls_proxy: start_order: 3 image: {get_param: ContainerRedisImage} net: host user: root restart: always volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/redis_tls_proxy.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/redis:/var/lib/kolla/config_files/src:ro - /etc/pki/tls/certs/redis.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/redis.crt:ro - /etc/pki/tls/private/redis.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/redis.key:ro - /var/lib/container-config-scripts/wait-port-and-run.sh:/wait-port-and-run.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {}",,21,0
openstack%2Ftripleo-validations~stable%2Fvictoria~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,stable/victoria,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-25 10:29:56.000000000,2021-02-26 00:29:18.000000000,2021-02-26 00:29:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-25 10:29:56.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2896ce06d7aad365bc6f02d5ab60acbe45315eb5', 'message': 'Optionally fail ceph-health if HEALTH_WARN\n\nHelps controlling the behavior of the ceph-health check for it to\nfail, optionally, not only when cluster is in _ERR state but also\nin _WARN state.\n\nChange-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716\nRelated-Bug: 1915700\n(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)\n'}]",0,777561,2896ce06d7aad365bc6f02d5ab60acbe45315eb5,6,2,1,6796,,,0,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
(cherry picked from commit 67560d36c06860dc827ef8356f1023f42facdbec)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/777561/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml']",2,2896ce06d7aad365bc6f02d5ab60acbe45315eb5,,fail_on_ceph_health_warn: false,,8,0
openstack%2Fos-apply-config~stable%2Ftrain~Id73778d17cea24d51267dbd9b9dd4be8318e480c,openstack/os-apply-config,stable/train,Id73778d17cea24d51267dbd9b9dd4be8318e480c,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:44:46.000000000,2021-02-26 00:28:59.000000000,2021-02-26 00:28:59.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:44:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/41d86e316ed0f0b9d5c20748b470bff5e6eab73d', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id73778d17cea24d51267dbd9b9dd4be8318e480c\n'}]",0,777523,41d86e316ed0f0b9d5c20748b470bff5e6eab73d,8,3,1,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id73778d17cea24d51267dbd9b9dd4be8318e480c
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/23/777523/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,41d86e316ed0f0b9d5c20748b470bff5e6eab73d,tripleo-ci-reduce,, - tripleo-multinode-container-minimal-pipeline,0,1
openstack%2Fos-apply-config~stable%2Fussuri~Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,openstack/os-apply-config,stable/ussuri,Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:43:55.000000000,2021-02-26 00:28:56.000000000,2021-02-26 00:28:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-25 09:43:55.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/910348f934ed38497a5e3c284da0a86c5f077a1c', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9\n'}]",0,777522,910348f934ed38497a5e3c284da0a86c5f077a1c,8,3,1,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ifcf09a8d4f953df50a8a8f8933c00862ff6ce1c9
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/22/777522/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,910348f934ed38497a5e3c284da0a86c5f077a1c,tripleo-ci-reduce,, - tripleo-multinode-container-minimal-pipeline,0,1
openstack%2Fos-apply-config~master~Ie28dd59a6bec79802d149f030f10a2ea12e454de,openstack/os-apply-config,master,Ie28dd59a6bec79802d149f030f10a2ea12e454de,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-23 12:26:09.000000000,2021-02-26 00:28:53.000000000,2021-02-26 00:28:53.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-23 12:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/861b34059441bea711614575fa3610ec8edd25da', 'message': 'Replace tripleo-multinode-container-minimal with pipeline version\n\nThe tripleo-multinode-container-minimal is being removed at [1]\nwhich depends-on this patch. Instead we should have the newer\n-pipeline version of the template wired up. Part of wider tripleo\nCI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ie28dd59a6bec79802d149f030f10a2ea12e454de\n'}, {'number': 2, 'created': '2021-02-25 09:40:56.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/891e996920345c72e4b2d5f6c28c4f049225f0a4', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Ie28dd59a6bec79802d149f030f10a2ea12e454de\n'}]",0,777097,891e996920345c72e4b2d5f6c28c4f049225f0a4,15,9,2,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Ie28dd59a6bec79802d149f030f10a2ea12e454de
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/97/777097/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,861b34059441bea711614575fa3610ec8edd25da,tripleo-ci-reduce, - tripleo-multinode-container-minimal-pipeline, - tripleo-multinode-container-minimal,1,1
openstack%2Fglance~master~I299a222eeef81431143db3ba7fc08365c924326b,openstack/glance,master,I299a222eeef81431143db3ba7fc08365c924326b,Utilize newly added tasks database fields,MERGED,2021-02-09 09:50:16.000000000,2021-02-26 00:27:07.000000000,2021-02-26 00:27:07.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b43bd2bb98febf9087b1724477165f1e22b7f123', 'message': 'WIP: Utilize newly added tasks database fields\n\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\nToDo: Add unit/functional tests\n'}, {'number': 2, 'created': '2021-02-10 10:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a463be66b3839feca384062348204afb210a36f2', 'message': 'WIP: Utilize newly added tasks database fields\n\nToDo: Add unit/functional tests\n\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\n'}, {'number': 3, 'created': '2021-02-12 13:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8bba37dc19f99c22b0028fba01b6a9141092149b', 'message': 'Utilize newly added tasks database fields\n\nMade provision to pass image_id, request_id and user_id information\nwhile creating new task.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\n'}, {'number': 4, 'created': '2021-02-15 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/758bb707c63224b8ff9a1d5eaf78e32f604ff122', 'message': 'Utilize newly added tasks database fields\n\nMade provision to pass image_id, request_id and user_id information\nwhile creating new task.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\n'}, {'number': 5, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d798530b692bd9d54493fc452ebb9576e75f29cc', 'message': 'Utilize newly added tasks database fields\n\nMade provision to pass image_id, request_id and user_id information\nwhile creating new task.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\n'}, {'number': 6, 'created': '2021-02-24 06:00:03.000000000', 'files': ['glance/tests/functional/v2/test_tasks.py', 'glance/tests/unit/async_/flows/test_web_download.py', 'glance/db/simple/api.py', 'glance/tests/unit/async_/flows/test_copy_image.py', 'glance/api/v2/tasks.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/test_auth.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/test_domain.py', 'glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/tests/unit/test_notifier.py', 'glance/tests/unit/test_db.py', 'glance/api/v2/images.py', 'glance/tests/unit/async_/flows/test_import.py', 'glance/tests/unit/async_/flows/test_introspect.py', 'glance/tests/unit/async_/test_taskflow_executor.py', 'glance/domain/proxy.py', 'glance/tests/unit/async_/flows/plugins/test_inject_image_metadata.py', 'glance/tests/unit/async_/flows/test_convert.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d54449af44212e01762285832b9c7c1ad4de1eb3', 'message': 'Utilize newly added tasks database fields\n\nMade provision to pass image_id, request_id and user_id information\nwhile creating new task.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I299a222eeef81431143db3ba7fc08365c924326b\n'}]",25,774615,d54449af44212e01762285832b9c7c1ad4de1eb3,30,3,6,9303,,,0,"Utilize newly added tasks database fields

Made provision to pass image_id, request_id and user_id information
while creating new task.

Partially-Implements: blueprint messages-api
Change-Id: I299a222eeef81431143db3ba7fc08365c924326b
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/774615/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_tasks.py', 'glance/db/simple/api.py', 'glance/api/v2/images.py', 'glance/api/v2/tasks.py', 'glance/db/__init__.py', 'glance/db/sqlalchemy/api.py', 'glance/domain/proxy.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py']",9,b43bd2bb98febf9087b1724477165f1e22b7f123,bump-image-api-version," task_input=expected_input, image_id=UUID4, user=request.context.user_id, request_id=request.context.request_id)", task_input=expected_input),71,13
openstack%2Fglance~master~I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,openstack/glance,master,I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c,Extract req.context in a variable,MERGED,2021-02-15 10:49:52.000000000,2021-02-26 00:26:36.000000000,2021-02-26 00:26:36.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/67147496df577cd2932e765de2dd9f71802de481', 'message': 'Extract req.context in a variable\n\nreq.context has been used in various places in import_image and create\nmethod, this patch extract that in a variable for furthrer use.\n\nChange-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c\nRelated: blueprint messages-api\n'}, {'number': 2, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0de8a511c2b781429502d441b24da96fe45b4898', 'message': 'Extract req.context in a variable\n\nreq.context has been used in various places in import_image and create\nmethod, this patch extract that in a variable for furthrer use.\n\nChange-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c\nRelated: blueprint messages-api\n'}, {'number': 3, 'created': '2021-02-24 06:00:03.000000000', 'files': ['glance/api/v2/tasks.py', 'glance/api/v2/images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8f7ad9f45dec3ff9e8ced8bea4b882b121a5ce3a', 'message': 'Extract req.context in a variable\n\nreq.context has been used in various places in import_image and create\nmethod, this patch extract that in a variable for furthrer use.\n\nChange-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c\nRelated: blueprint messages-api\n'}]",0,775596,8f7ad9f45dec3ff9e8ced8bea4b882b121a5ce3a,23,4,3,9303,,,0,"Extract req.context in a variable

req.context has been used in various places in import_image and create
method, this patch extract that in a variable for furthrer use.

Change-Id: I9d09769f971477b4d9a9a3a7d458deb19d1f3c8c
Related: blueprint messages-api
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/775596/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/tasks.py']",2,67147496df577cd2932e765de2dd9f71802de481,bump-image-api-version," ctxt = req.context task_factory = self.gateway.get_task_factory(ctxt) executor_factory = self.gateway.get_task_executor_factory(ctxt) task_repo = self.gateway.get_task_repo(ctxt) owner=ctxt.owner, task_executor = executor_factory.new_task_executor(ctxt)"," task_factory = self.gateway.get_task_factory(req.context) executor_factory = self.gateway.get_task_executor_factory(req.context) task_repo = self.gateway.get_task_repo(req.context) owner=req.context.owner, task_executor = executor_factory.new_task_executor(req.context)",16,14
openstack%2Fnova~stable%2Fpike~Ie602ab1768efbf103563d8f6b9d28965fc81021a,openstack/nova,stable/pike,Ie602ab1768efbf103563d8f6b9d28965fc81021a,[placement] Add status and links fields to version document at /,MERGED,2020-09-11 10:42:39.000000000,2021-02-25 23:26:57.000000000,2021-02-25 23:26:57.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-11 10:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afc008d74cab838b8684274dea4a6a82e8d028e6', 'message': '[placement] Add status and links fields to version document at /\n\nAccording to the spec [1] the version discovery doc must have a status\nand links for each version. For the primary version the status value\nshould be \'CURRENT\'. For placement the version discovery doc and ""self""\nare the same thing, so the provided ""self"" href looks redundant, but it\nmakes keystoneauth1 happy when doing version discovery.\n\nIn placement, since there is only one version at the moment, set status\nto CURRENT.\n\nAdd a gabbi test that verifies the presence of both fields and values.\n\nWithout these fields, use of placement with a client that follows the\ndocumented version discovery process will fail to work.\n\nAs the version doc is not considered microversioned[2] and in any case\nthis is making version discovery work where it didn\'t before, this is\nnot a candidate for a microversion and can be backported to the\nbeginning of placement\'s history if we like.\n\nI\'ve updated the api-ref docs. In the process I made the max\nmicroversion in the sample discovery doc a bit more realistic and\nin alignment with these modern times.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html#version-discovery\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2018-06-13.log.html#t2018-06-13T13:40:12\n\nChange-Id: Ie602ab1768efbf103563d8f6b9d28965fc81021a\nCloses-Bug: #1776668\n(cherry picked from commit 1a5a3a9bc8409349ab817b4858ee54bf2a036dab)\n(cherry picked from commit 03caac048b8b7a4881cd56f00207c8d401438928)\n'}, {'number': 2, 'created': '2020-09-11 13:20:19.000000000', 'files': ['placement-api-ref/source/parameters.yaml', 'nova/api/openstack/placement/handlers/root.py', 'placement-api-ref/source/get-root.json', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'placement-api-ref/source/root.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ac745cbc49565890ad201e545a7b28e4d9bdc95', 'message': '[placement] Add status and links fields to version document at /\n\nAccording to the spec [1] the version discovery doc must have a status\nand links for each version. For the primary version the status value\nshould be \'CURRENT\'. For placement the version discovery doc and ""self""\nare the same thing, so the provided ""self"" href looks redundant, but it\nmakes keystoneauth1 happy when doing version discovery.\n\nIn placement, since there is only one version at the moment, set status\nto CURRENT.\n\nAdd a gabbi test that verifies the presence of both fields and values.\n\nWithout these fields, use of placement with a client that follows the\ndocumented version discovery process will fail to work.\n\nAs the version doc is not considered microversioned[2] and in any case\nthis is making version discovery work where it didn\'t before, this is\nnot a candidate for a microversion and can be backported to the\nbeginning of placement\'s history if we like.\n\nI\'ve updated the api-ref docs. In the process I made the max\nmicroversion in the sample discovery doc a bit more realistic and\nin alignment with these modern times.\n\nChanges:\n  placement-api-ref/source/get-root.json\n\nNOTE(stephenfin): Modified the root API sample to reflect the max\nplacement API version in Pike.\n\n[1] http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html#version-discovery\n[2] http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2018-06-13.log.html#t2018-06-13T13:40:12\n\nChange-Id: Ie602ab1768efbf103563d8f6b9d28965fc81021a\nCloses-Bug: #1776668\n(cherry picked from commit 1a5a3a9bc8409349ab817b4858ee54bf2a036dab)\n(cherry picked from commit df1542686349a97ab1527f80c81861d89aaf4f78)\n'}]",2,751240,5ac745cbc49565890ad201e545a7b28e4d9bdc95,32,8,2,15334,,,0,"[placement] Add status and links fields to version document at /

According to the spec [1] the version discovery doc must have a status
and links for each version. For the primary version the status value
should be 'CURRENT'. For placement the version discovery doc and ""self""
are the same thing, so the provided ""self"" href looks redundant, but it
makes keystoneauth1 happy when doing version discovery.

In placement, since there is only one version at the moment, set status
to CURRENT.

Add a gabbi test that verifies the presence of both fields and values.

Without these fields, use of placement with a client that follows the
documented version discovery process will fail to work.

As the version doc is not considered microversioned[2] and in any case
this is making version discovery work where it didn't before, this is
not a candidate for a microversion and can be backported to the
beginning of placement's history if we like.

I've updated the api-ref docs. In the process I made the max
microversion in the sample discovery doc a bit more realistic and
in alignment with these modern times.

Changes:
  placement-api-ref/source/get-root.json

NOTE(stephenfin): Modified the root API sample to reflect the max
placement API version in Pike.

[1] http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html#version-discovery
[2] http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2018-06-13.log.html#t2018-06-13T13:40:12

Change-Id: Ie602ab1768efbf103563d8f6b9d28965fc81021a
Closes-Bug: #1776668
(cherry picked from commit 1a5a3a9bc8409349ab817b4858ee54bf2a036dab)
(cherry picked from commit df1542686349a97ab1527f80c81861d89aaf4f78)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/751240/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement-api-ref/source/parameters.yaml', 'nova/api/openstack/placement/handlers/root.py', 'placement-api-ref/source/get-root.json', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'placement-api-ref/source/root.inc']",5,afc008d74cab838b8684274dea4a6a82e8d028e6,bug/1776668, - status: version_status - links: version_links,,37,1
openstack%2Fkayobe~master~Ie5ca04428855cbaf505adc57de76ea0b2d404080,openstack/kayobe,master,Ie5ca04428855cbaf505adc57de76ea0b2d404080,CI: retry overcloud jobs that land on vexxhost clouds,MERGED,2021-02-25 09:23:38.000000000,2021-02-25 22:59:19.000000000,2021-02-25 22:54:29.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-25 09:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f833cbf2096467f989e9662c7a62ec5ede682619', 'message': 'DNM: retry on vexxhost\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n'}, {'number': 2, 'created': '2021-02-25 10:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1c2795e421bef7b9e00a59fb389629b48405a984', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nFinally, incorporate a fix from\nhttps://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to\nallow this to merge. This part can be reverted once the\nkayobe-config-dev patch merges.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n""}, {'number': 3, 'created': '2021-02-25 10:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/069c8240894062bb597ecc1d9c818b98d46c0742', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nFinally, incorporate a fix from\nhttps://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to\nallow this to merge. This part can be reverted once the\nkayobe-config-dev patch merges.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n""}, {'number': 4, 'created': '2021-02-25 11:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5d06d86e307bd68bfb5b7762955cd2f9b674536c', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nFinally, incorporate a fix from\nhttps://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to\nallow this to merge. This part can be reverted once the\nkayobe-config-dev patch merges.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n""}, {'number': 5, 'created': '2021-02-25 11:53:22.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/ironic.conf', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/47bbb96b29ab30764d6220cdd43e63a1d2072533', 'message': ""CI: retry overcloud jobs that land on vexxhost clouds\n\nJobs that test baremetal deployment are currently failing when run on\nVexxhost infrastructure. The seed VM job also has trouble on Vexxhost,\nalthough does sometimes pass. It's not clear why yet, and we are still\ninvestigating. Until we have a solution, fail in the pre phase when we\nland on vexxhost clouds, in order to trigger the zuul retry mechanism.\n\nAlso use the normal number (5) of attempts for upgrade jobs, since these\nno longer deploy the previous release in the pre phase.\n\nFinally, incorporate a fix from\nhttps://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to\nallow this to merge. This part can be reverted once the\nkayobe-config-dev patch merges.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html\n\nChange-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080\n""}]",0,777518,47bbb96b29ab30764d6220cdd43e63a1d2072533,19,3,5,14826,,,0,"CI: retry overcloud jobs that land on vexxhost clouds

Jobs that test baremetal deployment are currently failing when run on
Vexxhost infrastructure. The seed VM job also has trouble on Vexxhost,
although does sometimes pass. It's not clear why yet, and we are still
investigating. Until we have a solution, fail in the pre phase when we
land on vexxhost clouds, in order to trigger the zuul retry mechanism.

Also use the normal number (5) of attempts for upgrade jobs, since these
no longer deploy the previous release in the pre phase.

Finally, incorporate a fix from
https://review.opendev.org/c/openstack/kayobe-config-dev/+/777076 to
allow this to merge. This part can be reverted once the
kayobe-config-dev patch merges.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-February/020685.html

Change-Id: Ie5ca04428855cbaf505adc57de76ea0b2d404080
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/777518/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/pre.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,f833cbf2096467f989e9662c7a62ec5ede682619,, name: kayobe-overcloud-centos8-1 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-2 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-3 parent: kayobe-overcloud-centos8 - job: name: kayobe-overcloud-centos8-4 parent: kayobe-overcloud-centos8 - job:,,25,15
openstack%2Fopenstack-helm-infra~master~Ie7dc4399be4f0a62576e336c1de02810eeb09212,openstack/openstack-helm-infra,master,Ie7dc4399be4f0a62576e336c1de02810eeb09212,Enable Apparmor for ElasticSearch,MERGED,2020-03-05 22:01:36.000000000,2021-02-25 22:25:20.000000000,2020-03-17 16:19:56.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-05 22:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef3dc0e164caa4fe9e6a617ed9601cfdb760868d', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 2, 'created': '2020-03-06 03:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4627a3ecc6e9d824494ee65b825a057f86f9268', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 3, 'created': '2020-03-06 22:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1c1f20b53dd43b01d2ec8db5f2845bf683a93bb', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 4, 'created': '2020-03-09 22:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bad2903fe97c48bdcdb2fd664612b282f79d40b3', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 5, 'created': '2020-03-10 00:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d6bcb876a5b093830210d361c8832a6ca50a53c', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 6, 'created': '2020-03-10 20:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19cb626ecd904e54f75d2e5b8a1a4c6051201cb6', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 7, 'created': '2020-03-11 15:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da8027206e11cebfdce0e54448cdac7e3dff9727', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 8, 'created': '2020-03-11 16:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/577fa4d49041d7b177efd5306701d47e2d0bfa09', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 9, 'created': '2020-03-11 18:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59a72e97856ff2033fa0cdf4889fbab00889e589', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 10, 'created': '2020-03-11 20:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd1efe16ba3c8f7ae82be4dce74568a187fa902e', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 11, 'created': '2020-03-12 15:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e4dad10d29a50f10a989b054cb0ab47be0a5978', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 12, 'created': '2020-03-13 01:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/265d51e79acff8d9bfcedc434e2536f4bea3bff9', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 13, 'created': '2020-03-13 01:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55a1c517b600a8b4de195511c66918453826bb5b', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 14, 'created': '2020-03-13 02:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3956e4543289cde2ecebf6ff1bf28e4532099b7b', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 15, 'created': '2020-03-13 11:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55e4345035091299f42923a4064c883036834c14', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 16, 'created': '2020-03-13 14:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/108335ccef7eaff828c7b8564678a94d97d31f9e', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 17, 'created': '2020-03-13 15:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/715edbc9e2aa18469e394bce7963ebbe234196e1', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 18, 'created': '2020-03-13 17:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ed6b34f3d405ef6de8660e9c9bba2254243b352', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 19, 'created': '2020-03-13 17:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4b00e57ed1078b0a2b1c2bbe0221ac1f76c13d9', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 20, 'created': '2020-03-13 19:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4db287473b136b35087d6d9f86f8a0a2b421fbf5', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 21, 'created': '2020-03-13 21:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ac8c9c7ea4493b9d0bf644cfffeb27465d61b54', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 22, 'created': '2020-03-14 04:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/008a2064b31be095019d7a31d92a8ae6e22c6a8f', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 23, 'created': '2020-03-16 15:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c72ba3351fccda99114ffc2b58e8cccea7f1339', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 24, 'created': '2020-03-16 18:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d538e2f2d3d242d7746655bd675efaac7c8ef89a', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}, {'number': 25, 'created': '2020-03-16 20:08:33.000000000', 'files': ['elasticsearch/templates/job-es-cluster-wait.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'elasticsearch/values_overrides/apparmor.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1871b830af5797abf313e2c21a1cf6b8601a1385', 'message': 'Enable Apparmor for ElasticSearch\n\nChange-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212\n'}]",2,711559,1871b830af5797abf313e2c21a1cf6b8601a1385,72,4,25,29131,,,0,"Enable Apparmor for ElasticSearch

Change-Id: Ie7dc4399be4f0a62576e336c1de02810eeb09212
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/711559/12 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'elasticsearch/values_overrides/apparmor.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml']",4,ef3dc0e164caa4fe9e6a617ed9601cfdb760868d,,"{{ dict ""envAll"" $envAll ""podName"" ""prometheus-elasticsearch-exporter"" ""containerNames"" (list ""elasticsearch-exporter"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,20,8
openstack%2Fopenstacksdk~master~I48bc5f70cf42e93ee46783cbefdeafed80be56d8,openstack/openstacksdk,master,I48bc5f70cf42e93ee46783cbefdeafed80be56d8,Improve Ironic API on OpenStack SDK,MERGED,2020-12-10 18:52:45.000000000,2021-02-25 22:22:19.000000000,2021-02-25 22:20:30.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-10 18:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fee4d4602574212b033044f353e23cdc50a6d88', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 2, 'created': '2021-02-17 12:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/289ba2aae9b1435d5b58b91faeecf2a503521e02', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 3, 'created': '2021-02-17 19:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d497461d8e170deb97a943354b90857653c17176', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 4, 'created': '2021-02-18 19:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b7cbb0ff4fe4219fa4c9e8c021db4c68d2923f98', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 5, 'created': '2021-02-22 16:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b8b61054c2f42fd75155f68316ae8815836907da', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 6, 'created': '2021-02-22 16:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e2b417956eef3717f75d32afdde7f561d300cfd2', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 7, 'created': '2021-02-22 17:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3dfcbf9ef0f65cb171ba4d3c1f9ea06d91977b7c', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 8, 'created': '2021-02-23 13:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/557486615b3b631d57984fae1fb4abe1e21b72f6', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 9, 'created': '2021-02-23 17:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e3d5b40d187af3a3d955843f310c05bfa8189fd8', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}, {'number': 10, 'created': '2021-02-24 17:06:23.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'openstack/tests/functional/baremetal/test_baremetal_conductor.py', 'doc/source/user/resources/baremetal/v1/conductor.rst', 'releasenotes/notes/ironic-conductors-support-3bf27e8b2f0299ba.yaml', 'openstack/baremetal/v1/conductor.py', 'openstack/tests/unit/baremetal/v1/test_conductor.py', 'doc/source/user/resources/baremetal/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e30fd860de6b36bddc27f7215bb2e3cad8eb298d', 'message': 'Improve Ironic API on OpenStack SDK\n\n1. List Conductors\n2. Show Conductors Details\n\nStory: 20083813\nTask: 40956\nChange-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8\n'}]",27,766531,e30fd860de6b36bddc27f7215bb2e3cad8eb298d,39,4,10,32518,,,0,"Improve Ironic API on OpenStack SDK

1. List Conductors
2. Show Conductors Details

Story: 20083813
Task: 40956
Change-Id: I48bc5f70cf42e93ee46783cbefdeafed80be56d8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/766531/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal/v1/_proxy.py', 'doc/source/user/resources/baremetal/v1/conductor.rst', 'openstack/tests/functional/baremetal/test_baremetal_conductor.py', 'openstack/baremetal/v1/conductor.py', 'openstack/tests/unit/baremetal/v1/test_conductor.py', 'doc/source/user/resources/baremetal/index.rst']",6,9fee4d4602574212b033044f353e23cdc50a6d88,40956, v1/conductors,,160,0
openstack%2Fopenstack-helm~master~I107d6e965ca00a6d8b766e91573be2c9aeb4f782,openstack/openstack-helm,master,I107d6e965ca00a6d8b766e91573be2c9aeb4f782,Update rbac api version for glance,MERGED,2021-01-30 08:28:55.000000000,2021-02-25 22:14:13.000000000,2021-02-25 22:12:19.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23825}]","[{'number': 1, 'created': '2021-01-30 08:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34515c2062d628ffa8e66e1f0b91a780c0bcfb97', 'message': 'Update rabc api version for glance\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782\n'}, {'number': 2, 'created': '2021-02-18 06:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c82d3e727f66a85afd5810d5b11dc6b9cb7ba935', 'message': 'Update rabc api version for glance\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782\n'}, {'number': 3, 'created': '2021-02-18 07:40:43.000000000', 'files': ['glance/Chart.yaml', 'releasenotes/notes/glance.yaml', 'glance/templates/job-clean.yaml', 'glance/templates/job-storage-init.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30bd8643e4d67a43d45656a1d1604d8bbd75e2fc', 'message': 'Update rbac api version for glance\n\nWhen using a helm3 to deploy , it fails\nHelm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can\nsupport helm2 and helm3.\n\nThis change optimized deployment.\n\nChange-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782\n'}]",5,773232,30bd8643e4d67a43d45656a1d1604d8bbd75e2fc,26,7,3,30449,,,0,"Update rbac api version for glance

When using a helm3 to deploy , it fails
Helm3 no more support rbac.authorization.k8s.io/v1beta1 , but v1 can
support helm2 and helm3.

This change optimized deployment.

Change-Id: I107d6e965ca00a6d8b766e91573be2c9aeb4f782
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/773232/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/Chart.yaml', 'glance/templates/job-clean.yaml', 'glance/templates/job-storage-init.yaml']",3,34515c2062d628ffa8e66e1f0b91a780c0bcfb97,,apiVersion: rbac.authorization.k8s.io/v1apiVersion: rbac.authorization.k8s.io/v1,apiVersion: rbac.authorization.k8s.io/v1beta1apiVersion: rbac.authorization.k8s.io/v1beta1,5,5
openstack%2Fopenstack-helm-infra~master~I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,openstack/openstack-helm-infra,master,I70a45eb3cccc7cfbe2784048a4524bd9e4d832df,[ca-issuer]: Support different versions of cert-manager,MERGED,2021-02-19 18:08:43.000000000,2021-02-25 22:08:59.000000000,2021-02-25 22:07:39.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-19 18:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/908cf85c545edb3fb9f2220ea5244f3c2bc6a7da', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and support earlier versions of\ncert-manager.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 2, 'created': '2021-02-19 20:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0f5f2f78acc05edff2add064a67004f41c86c1f', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 3, 'created': '2021-02-19 21:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76a60e10e16f5970175e28fe5eb87ffbec24c99c', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 4, 'created': '2021-02-19 22:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/157c877c46d03427971035ed2b4e6c61c53e309c', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 5, 'created': '2021-02-20 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/348367265dbed3fe9bec6bc24d7b12f3318da7bd', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 6, 'created': '2021-02-22 06:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/045287eb55b6d878a9c8c7b6cd230568e317707d', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}, {'number': 7, 'created': '2021-02-25 19:19:52.000000000', 'files': ['ca-issuer/values.yaml', 'releasenotes/notes/ca-issuer.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97bd2c4937945e38d9d985d9b2e4dcb21d2043ee', 'message': '[ca-issuer]: Support different versions of cert-manager\n\nSupport cert manager version v1.2.0 by default and\nlogic to support earlier versions.\n\nChange-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df\n'}]",7,776689,97bd2c4937945e38d9d985d9b2e4dcb21d2043ee,45,8,7,30495,,,0,"[ca-issuer]: Support different versions of cert-manager

Support cert manager version v1.2.0 by default and
logic to support earlier versions.

Change-Id: I70a45eb3cccc7cfbe2784048a4524bd9e4d832df
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/776689/2 && git format-patch -1 --stdout FETCH_HEAD,"['ca-issuer/values.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml']",3,908cf85c545edb3fb9f2220ea5244f3c2bc6a7da,,"{{- if lt .Values.cert_manager_version ""v1.0.0"" }}","{{- if semverCompare ""< 0.2.0"" .Chart.Version }}",5,2
openstack%2Fopenstack-helm-infra~master~I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,openstack/openstack-helm-infra,master,I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e,[ceph-rgw] update rbac api version,MERGED,2021-02-21 04:15:47.000000000,2021-02-25 22:07:06.000000000,2021-02-25 22:05:31.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 30777}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-02-21 04:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cdcb33f77f030cb2f51b3cf48285044c8962167', 'message': '[ceph-rgw] update rbac api version\n\nWhen using helm3 to deploy, it fails as helm 3\nno longer supports rbac.authorization.k8s.io/v1beta1,\nbut v1 can support helm2 and helm3.\n\nChange-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e\n'}, {'number': 2, 'created': '2021-02-21 04:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6099767b6b713f76e9e563b90139dd2ab78f3a52', 'message': '[ceph-rgw] update rbac api version\n\nWhen using helm3 to deploy, it fails as helm 3\nno longer supports rbac.authorization.k8s.io/v1beta1,\nbut v1 can support helm2 and helm3 (liujinyuan@inspur.com).\n\nChange-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e\n'}, {'number': 3, 'created': '2021-02-25 19:59:09.000000000', 'files': ['ceph-rgw/templates/job-rgw-restart.yaml', 'ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/367f7bec3cbfca306e10a36349a8d8622c305674', 'message': '[ceph-rgw] update rbac api version\n\nWhen using helm3 to deploy, it fails as helm 3\nno longer supports rbac.authorization.k8s.io/v1beta1,\nbut v1 can support helm2 and helm3 (liujinyuan@inspur.com).\n\nChange-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e\n'}]",0,776821,367f7bec3cbfca306e10a36349a8d8622c305674,24,8,3,18511,,,0,"[ceph-rgw] update rbac api version

When using helm3 to deploy, it fails as helm 3
no longer supports rbac.authorization.k8s.io/v1beta1,
but v1 can support helm2 and helm3 (liujinyuan@inspur.com).

Change-Id: I8e0ceb0c0991fd48b5b6a1b688a5c1b91f58c02e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/776821/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/templates/job-rgw-restart.yaml', 'ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml']",3,8cdcb33f77f030cb2f51b3cf48285044c8962167,, - 0.1.3 update rbac api version,,3,2
openstack%2Fswift~stable%2Fussuri~I17a495b76a6e4072cfc47501e0f892fcf6c56173,openstack/swift,stable/ussuri,I17a495b76a6e4072cfc47501e0f892fcf6c56173,Don't auto-create shard containers,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:43:14.000000000,2021-02-25 21:41:36.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['swift/container/server.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8588296dcfbbb52ae007e2a299e042e09c1fef4e', 'message': ""Don't auto-create shard containers\n\n...unless the client requests it specifically using a new flag:\n\n   X-Backend-Auto-Create: true\n\nPreviously, you could get real jittery listings during a rebalance:\n\n * Partition with a shard DB get reassigned, so one primary has no DB.\n * Proxy makes a listing, gets a 404, tries another node. Likely, one of\n   the other shard replicas responds. Things are fine.\n * Update comes in. Since we use the auto_create_account_prefix\n   namespace for shards, container DB gets created and we write the row.\n * Proxy makes another listing. There's a one-in-three chance that we\n   claim there's only one object in that whole range.\n\nNote that unsharded databases would respond to the update with a 404 and\nwait for one of the other primaries (or the old primary that's now a\nhand-off) to rsync a whole DB over, keeping us in the happy state.\n\nNow, if the account is in the shards namespace, 404 the object update if\nwe have no DB. Wait for replication like in the unsharded case.\n\nContinue to be willing to create the DB when the sharder is seeding all\nthe CREATED databases before it starts cleaving, though.\n\nCloses-Bug: #1881210\nCherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb\nChange-Id: I17a495b76a6e4072cfc47501e0f892fcf6c56173\n""}]",0,777281,8588296dcfbbb52ae007e2a299e042e09c1fef4e,7,2,1,597,,,0,"Don't auto-create shard containers

...unless the client requests it specifically using a new flag:

   X-Backend-Auto-Create: true

Previously, you could get real jittery listings during a rebalance:

 * Partition with a shard DB get reassigned, so one primary has no DB.
 * Proxy makes a listing, gets a 404, tries another node. Likely, one of
   the other shard replicas responds. Things are fine.
 * Update comes in. Since we use the auto_create_account_prefix
   namespace for shards, container DB gets created and we write the row.
 * Proxy makes another listing. There's a one-in-three chance that we
   claim there's only one object in that whole range.

Note that unsharded databases would respond to the update with a 404 and
wait for one of the other primaries (or the old primary that's now a
hand-off) to rsync a whole DB over, keeping us in the happy state.

Now, if the account is in the shards namespace, 404 the object update if
we have no DB. Wait for replication like in the unsharded case.

Continue to be willing to create the DB when the sharder is seeding all
the CREATED databases before it starts cleaving, though.

Closes-Bug: #1881210
Cherry-Picked-From: I15052f3f17999e6f432951ba7c0731dcdc9475bb
Change-Id: I17a495b76a6e4072cfc47501e0f892fcf6c56173
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/777281/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py']",3,8588296dcfbbb52ae007e2a299e042e09c1fef4e,ussuri-sharding," 'X-Container-Sysmeta-Sharding': 'True', 'X-Backend-Auto-Create': 'True'}", 'X-Container-Sysmeta-Sharding': True},82,73
openstack%2Fswift~stable%2Fussuri~Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,openstack/swift,stable/ussuri,Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2,Latch shard-stat reporting,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:21:28.000000000,2021-02-25 21:18:00.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0da122383b4fb86d11e21406df46311999c87461', 'message': ""Latch shard-stat reporting\n\nThe idea is, if none of\n\n  - timestamp,\n  - object_count,\n  - bytes_used,\n  - state, or\n  - epoch\n\nhas changed, we shouldn't need to send an update back to the root\ncontainer.\n\nThis is more-or-less comparable to what the container-updater does to\navoid unnecessary writes to the account.\n\nCloses-Bug: #1834097\nCherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af\nChange-Id: Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2\n""}]",0,777280,0da122383b4fb86d11e21406df46311999c87461,7,2,1,597,,,0,"Latch shard-stat reporting

The idea is, if none of

  - timestamp,
  - object_count,
  - bytes_used,
  - state, or
  - epoch

has changed, we shouldn't need to send an update back to the root
container.

This is more-or-less comparable to what the container-updater does to
avoid unnecessary writes to the account.

Closes-Bug: #1834097
Cherry-Picked-From: I1ee7ba5eae3c508064714c4deb4f7c6bbbfa32af
Change-Id: Ic6d94a1b6dc1c6cfbeb7770b489aa53483afcbf2
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/777280/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py']",7,0da122383b4fb86d11e21406df46311999c87461,ussuri-sharding," state_timestamp=ts_1.internal, epoch=None, reported=0) state_timestamp=ts_3.internal, epoch=ts_4, reported=0) 'state_timestamp': ts_3.internal, 'epoch': ts_4, 'reported': 0}) good_reported = good_run.copy() good_reported['reported'] = 1 assert_initialisation_ok(good_reported, dict(expect, reported=1)) 'epoch': ts_4, 'reported': 0} if key == 'reported': # This was added after the fact, and we need to be able to eat # data from old servers utils.ShardRange.from_dict(bad_dict) utils.ShardRange(**bad_dict) continue # The rest were present from the beginning"," state_timestamp=ts_1.internal, epoch=None) state_timestamp=ts_3.internal, epoch=ts_4) 'state_timestamp': ts_3.internal, 'epoch': ts_4}) 'epoch': ts_4}",284,39
openstack%2Fswift~stable%2Fussuri~I133c2524460ae9df779077d160ed6fc2858c08cc,openstack/swift,stable/ussuri,I133c2524460ae9df779077d160ed6fc2858c08cc,py27: Suppress UnicodeWarnings in ShardRange setters,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:19:39.000000000,2021-02-25 21:17:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d1b997889de06f8bcbeb38d0192fa4391465bc47', 'message': ""py27: Suppress UnicodeWarnings in ShardRange setters\n\nPreviously, we'd see warnings like\n\n   UnicodeWarning: Unicode equal comparison failed to convert both\n   arguments to Unicode - interpreting them as being unequal\n\nwhen setting lower/upper bounds with non-ascii byte strings.\n\nCherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1\nChange-Id: I133c2524460ae9df779077d160ed6fc2858c08cc\n""}]",0,777279,d1b997889de06f8bcbeb38d0192fa4391465bc47,7,2,1,597,,,0,"py27: Suppress UnicodeWarnings in ShardRange setters

Previously, we'd see warnings like

   UnicodeWarning: Unicode equal comparison failed to convert both
   arguments to Unicode - interpreting them as being unequal

when setting lower/upper bounds with non-ascii byte strings.

Cherry-Picked-From: I328f297a5403d7e59db95bc726428a3f92df88e1
Change-Id: I133c2524460ae9df779077d160ed6fc2858c08cc
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/777279/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,d1b997889de06f8bcbeb38d0192fa4391465bc47,ussuri-sharding,"import warnings with warnings.catch_warnings(record=True) as captured_warnings: do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) self.assertFalse(captured_warnings) with warnings.catch_warnings(record=True) as captured_warnings: do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) self.assertFalse(captured_warnings)"," do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected) do_test(u'\N{SNOWMAN}', expected) do_test(u'\N{SNOWMAN}'.encode('utf-8'), expected)",18,8
openstack%2Fswift~stable%2Fvictoria~I0e83bc18494b85f8c20698998c66ec423646475d,openstack/swift,stable/victoria,I0e83bc18494b85f8c20698998c66ec423646475d,Avoid loops when gathering container listings from shards,MERGED,2021-02-23 00:47:18.000000000,2021-02-25 21:11:31.000000000,2021-02-25 21:09:59.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 00:47:18.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1032b45e10cf942f3790f245be463bbf9b5002ab', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nCherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\nChange-Id: I0e83bc18494b85f8c20698998c66ec423646475d\n""}]",0,777036,1032b45e10cf942f3790f245be463bbf9b5002ab,8,3,1,597,,,0,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Cherry-Picked-From: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
Change-Id: I0e83bc18494b85f8c20698998c66ec423646475d
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/777036/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py']",3,1032b45e10cf942f3790f245be463bbf9b5002ab,victoria-sharding," # Construct listing using shards described by the response body. # The history of containers that have returned shard ranges is # maintained in the request environ so that loops can be avoided by # forcing an object listing if the same container is visited again. # This can happen in at least two scenarios: # 1. a container has filled a gap in its shard ranges with a # shard range pointing to itself # 2. a root container returns a (stale) shard range pointing to a # shard that has shrunk into the root, in which case the shrunken # shard may return the root's shard range. shard_listing_history = req.environ.setdefault( 'swift.shard_listing_history', []) shard_listing_history.append((self.account_name, self.container_name)) if ((shard_range.account, shard_range.container) in shard_listing_history):", # construct listing using shards described by the response body if (shard_range.account == self.account_name and shard_range.container == self.container_name):,178,5
openstack%2Fswift~stable%2Fussuri~I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,openstack/swift,stable/ussuri,I0af92f6a54aaccd38ef82dd072f7e10fdff7184c,sharding: Add probe test that exercises swift-manage-shard-ranges,MERGED,2021-02-24 03:15:09.000000000,2021-02-25 21:11:29.000000000,2021-02-25 21:10:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 03:15:09.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1b3b776964651acae6c17f581855b0fc7094acee', 'message': 'sharding: Add probe test that exercises swift-manage-shard-ranges\n\nCherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab\nChange-Id: I0af92f6a54aaccd38ef82dd072f7e10fdff7184c\n'}]",0,777278,1b3b776964651acae6c17f581855b0fc7094acee,7,2,1,597,,,0,"sharding: Add probe test that exercises swift-manage-shard-ranges

Cherry-Picked-From: Ic7c40589679c290e5565f9581f70b9a1c070f6ab
Change-Id: I0af92f6a54aaccd38ef82dd072f7e10fdff7184c
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/777278/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,1b3b776964651acae6c17f581855b0fc7094acee,ussuri-sharding,"import subprocess def get_db_file(self, part, node, account=None, container=None): return db_file def get_broker(self, part, node, account=None, container=None): return ContainerBroker( self.get_db_file(part, node, account, container)) class TestManagedContainerSharding(BaseTestContainerSharding): '''Test sharding using swift-manage-shard-ranges''' def test_manage_shard_ranges(self): obj_names = self._make_object_names(4) self.put_objects(obj_names) client.post_container(self.url, self.admin_token, self.container_name, headers={'X-Container-Sharding': 'on'}) # run replicators first time to get sync points set self.replicators.once() # sanity check: we don't have nearly enough objects for this to shard # automatically self.sharders.once(number=self.brain.node_numbers[0], additional_args='--partitions=%s' % self.brain.part) self.assert_container_state(self.brain.nodes[0], 'unsharded', 0) subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[0]), 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[0], 'unsharded', 2) # ""Run container-replicator to replicate them to other nodes."" self.replicators.once() # ""Run container-sharder on all nodes to shard the container."" self.sharders.once(additional_args='--partitions=%s' % self.brain.part) # Everybody's settled self.assert_container_state(self.brain.nodes[0], 'sharded', 2) self.assert_container_state(self.brain.nodes[1], 'sharded', 2) self.assert_container_state(self.brain.nodes[2], 'sharded', 2) self.assert_container_listing(obj_names) def test_manage_shard_ranges_used_poorly(self): obj_names = self._make_object_names(8) self.put_objects(obj_names) client.post_container(self.url, self.admin_token, self.container_name, headers={'X-Container-Sharding': 'on'}) # run replicators first time to get sync points set self.replicators.once() subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[0]), 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[0], 'unsharded', 4) # *Also* go find shard ranges on *another node*, like a dumb-dumb subprocess.check_output([ 'swift-manage-shard-ranges', self.get_db_file(self.brain.part, self.brain.nodes[1]), 'find_and_replace', '3', '--enable'], stderr=subprocess.STDOUT) self.assert_container_state(self.brain.nodes[1], 'unsharded', 3) # Run things out of order (they were likely running as daemons anyway) self.sharders.once(number=self.brain.node_numbers[0], additional_args='--partitions=%s' % self.brain.part) self.sharders.once(number=self.brain.node_numbers[1], additional_args='--partitions=%s' % self.brain.part) self.replicators.once() # Uh-oh self.assert_container_state(self.brain.nodes[0], 'sharding', 7) self.assert_container_state(self.brain.nodes[1], 'sharding', 7) # There's a race: the third replica may be sharding, may be unsharded # Try it again a few times self.sharders.once(additional_args='--partitions=%s' % self.brain.part) self.replicators.once() self.sharders.once(additional_args='--partitions=%s' % self.brain.part) # It's not really fixing itself... self.assert_container_state(self.brain.nodes[0], 'sharding', 7) self.assert_container_state(self.brain.nodes[1], 'sharding', 7) # But hey, at least listings still work! They're just going to get # horribly out of date as more objects are added self.assert_container_listing(obj_names)"," def get_broker(self, part, node, account=None, container=None): return ContainerBroker(db_file)",91,2
openstack%2Fhorizon~master~I5099cc442f023c7a67203ccd3cf647cca9bdb52c,openstack/horizon,master,I5099cc442f023c7a67203ccd3cf647cca9bdb52c,Display quotas per Cinder volume type,ABANDONED,2017-10-12 12:56:56.000000000,2021-02-25 21:06:41.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 11885}, {'_account_id': 11904}, {'_account_id': 17505}, {'_account_id': 22348}, {'_account_id': 23757}, {'_account_id': 27822}]","[{'number': 1, 'created': '2017-10-12 12:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aa5679e601f8c0566c1c6e391eafd47277f8da91', 'message': 'Display quotas per Cinder volume type\n\nThis patch makes Cinder volume type quotas visible in panels\nrelated to volume creation (from volumes and images tabs).\n\nCurrently user is able to select a desired type, but if quotas are\nset, there is no way to check if creating a volume is going to\nsucceed. With this patch two additional quota charts are displayed\nso that end user can see if there is still available quota for\nselected type.\n\nCloses-Bug: #1717342\nImplements: blueprint quotas-per-cinder-volume-type\n\nChange-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c\n'}, {'number': 2, 'created': '2018-05-28 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bafd0cd08680102b6fd1f366be16b61732753bbb', 'message': 'Display quotas per Cinder volume type\n\nThis patch makes Cinder volume type quotas visible in panels\nrelated to volume creation (from volumes and images tabs).\n\nCurrently user is able to select a desired type, but if quotas are\nset, there is no way to check if creating a volume is going to\nsucceed. With this patch two additional quota charts are displayed\nso that end user can see if there is still available quota for\nselected type.\n\nCloses-Bug: #1717342\nImplements: blueprint quotas-per-cinder-volume-type\n\nChange-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c\n'}, {'number': 3, 'created': '2019-08-07 09:37:18.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/templates/volumes/_extend_limits.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_extend.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_create.html', 'openstack_dashboard/static/js/horizon.quota.js', 'horizon/static/framework/widgets/charts/pie-chart.scss', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.html', 'horizon/utils/filters.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_limits.html', 'openstack_dashboard/dashboards/project/volumes/views.py', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd8497f705396e062c7e8424b20017c1e0ead9ee', 'message': 'Display quotas per Cinder volume type\n\nThis patch makes Cinder volume type quotas visible in panels\nrelated to volume creation (from volumes and images tabs).\n\nCurrently user is able to select a desired type, but if quotas are\nset, there is no way to check if creating a volume is going to\nsucceed. With this patch two additional quota charts are displayed\nso that end user can see if there is still available quota for\nselected type.\n\nCloses-Bug: #1717342\nImplements: blueprint quotas-per-cinder-volume-type\n\nChange-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c\n'}]",0,511472,cd8497f705396e062c7e8424b20017c1e0ead9ee,34,9,3,23757,,,0,"Display quotas per Cinder volume type

This patch makes Cinder volume type quotas visible in panels
related to volume creation (from volumes and images tabs).

Currently user is able to select a desired type, but if quotas are
set, there is no way to check if creating a volume is going to
succeed. With this patch two additional quota charts are displayed
so that end user can see if there is still available quota for
selected type.

Closes-Bug: #1717342
Implements: blueprint quotas-per-cinder-volume-type

Change-Id: I5099cc442f023c7a67203ccd3cf647cca9bdb52c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/72/511472/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/volumes/templates/volumes/_extend.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_extend_limits.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_create.html', 'openstack_dashboard/static/js/horizon.quota.js', 'horizon/static/framework/widgets/charts/pie-chart.scss', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.html', 'horizon/utils/filters.py', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/_limits.html', 'openstack_dashboard/dashboards/project/volumes/views.py', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.js']",11,aa5679e601f8c0566c1c6e391eafd47277f8da91,bug/1717342," ctrl.volumeTypeQuotas = []; ctrl.volumeTypeCapacityQuota = { title: gettext('Volume Type Quota (GB)'), maxLimit: 10, label: getPercentUsed(ctrl.volume.size, 0), data: [ { label: quotaChartDefaults.usageLabel, value: 0, colorClass: quotaChartDefaults.usageColorClass }, { label: quotaChartDefaults.addedLabel, value: ctrl.volume.size, colorClass: quotaChartDefaults.addedColorClass }, { label: quotaChartDefaults.remainingLabel, value: 0, colorClass: quotaChartDefaults.remainingColorClass } ] }; ctrl.volumeTypeAmountQuota = { title: gettext('Volume Type Quota'), maxLimit: 0, label: getPercentUsed(0, 0), data: [ { label: quotaChartDefaults.usageLabel, value: 0, colorClass: quotaChartDefaults.usageColorClass }, { label: quotaChartDefaults.addedLabel, value: numberOfVolumesToAdd, colorClass: quotaChartDefaults.addedColorClass }, { label: quotaChartDefaults.remainingLabel, value: 0, colorClass: quotaChartDefaults.remainingColorClass } ] }; function() { updateVolumeTypeCapacityGraph(); updateStorageGraph(); } // var volumeTypeWatcher = $scope.$watch( // function() { // return ctrl.volume.volume_type; // }, // function() { // updateVolumeTypeCapacityGraph(); // updateVolumeTypeAmountGraph(); // } // ); $scope.volumeTypeWatcher = function(item) { updateVolumeTypeCapacityGraph(); updateVolumeTypeAmountGraph(); }; ctrl.volumeTypes.forEach( function (e) { ctrl.volumeTypeQuotas[e.name] = {}; ctrl.volumeTypeQuotas[e.name].used_gigabytes = response[""used_gigabytes_""+e.name]; ctrl.volumeTypeQuotas[e.name].total_gigabytes = response[""total_gigabytes_""+e.name]; ctrl.volumeTypeQuotas[e.name].used_volumes = response[""used_volumes_""+e.name]; ctrl.volumeTypeQuotas[e.name].total_volumes = response[""total_volumes_""+e.name]; } ); updateVolumeTypeCapacityGraph(); updateVolumeTypeAmountGraph(); function updateVolumeTypeCapacityGraph() { var type = ctrl.volumeType.name; if (type === undefined || ctrl.volumeTypeQuotas[type] === undefined) {} else { ctrl.volumeTypeAmountQuota.maxLimit = ctrl.volumeTypeQuotas[type].total_gigabytes; if (ctrl.volume.size >= 0) { var totalGigabytesAllocated = ctrl.volume.size + ctrl.volumeTypeQuotas[type].used_gigabytes; ctrl.volumeTypeCapacityQuota.data[0].value = ctrl.volumeTypeQuotas[type].used_gigabytes; ctrl.volumeTypeCapacityQuota.data[1].value = ctrl.volume.size; ctrl.volumeTypeCapacityQuota.data[2].value = Math.max(ctrl.volumeTypeQuotas[type].total_gigabytes - totalGigabytesAllocated, 0); ctrl.volumeTypeCapacityQuota.label = getPercentUsed(totalGigabytesAllocated, ctrl.volumeTypeQuotas[type].total_gigabytes); ctrl.volumeTypeCapacityQuota.maxLimit = ctrl.volumeTypeQuotas[type].total_gigabytes; ctrl.volumeTypeCapacityQuota.overMax = totalGigabytesAllocated > ctrl.volumeTypeCapacityQuota.maxLimit; ctrl.volumeTypeCapacityQuota = angular.extend({}, ctrl.volumeTypeCapacityQuota); $scope.volumeForm.$setValidity('volumeSize', !ctrl.volumeTypeCapacityQuota.overMax); } } } function updateVolumeTypeAmountGraph() { var type = ctrl.volumeType.name; if (type === undefined || ctrl.volumeTypeQuotas[type] === undefined) {} else { ctrl.volumeTypeAmountQuota.data[0].value = ctrl.volumeTypeQuotas[type].used_volumes; ctrl.volumeTypeAmountQuota.data[2].value = Math.max(ctrl.volumeTypeQuotas[type].total_volumes - ctrl.volumeTypeQuotas[type].used_volumes - numberOfVolumesToAdd, 0); ctrl.volumeTypeAmountQuota.label = getPercentUsed(ctrl.volumeTypeQuotas[type].used_volumes + numberOfVolumesToAdd, ctrl.volumeTypeQuotas[type].total_volumes); ctrl.volumeTypeAmountQuota.maxLimit = ctrl.volumeTypeQuotas[type].total_volumes; ctrl.volumeTypeAmountQuota.overMax = ctrl.volumeTypeQuotas[type].used_volumes === ctrl.volumeTypeAmountQuota.maxLimit; ctrl.volumeTypeAmountQuota = angular.extend({}, ctrl.volumeTypeAmountQuota); } } function getPercentUsed(used, total) { if (total > 0 && used <= total) { return Math.round(used / total * 100) + '%'; } else { return '100%'; } // volumeTypeWatcher();"," updateStorageGraph function getPercentUsed(used, total) { return Math.round(used / total * 100) + '%';",277,21
openstack%2Fnova~master~I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,openstack/nova,master,I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc,Fixes the elapsed time logged during a live migration,MERGED,2021-02-18 13:04:54.000000000,2021-02-25 21:05:32.000000000,2021-02-25 18:56:02.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 13:04:54.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f88a8b0c1ba7b845f724e690ffefddb256f532d1', 'message': 'Fixes the elapsed time logged during a live migration\n\nNova doesnt log the actual time that it is taking to live\nmigrate an instance but the number of cycles/2 that it does\nwhen checking the migration job. If any operation takes\nlonger inside the loop, the reported time is wrong.\n\nThis behavior can cause some confusion when operators are\ndebugging issues.\n\nThis patch ensures that Nova logs the elapsed time of the\nlive migration.\n\nCloses-Bug: #1916031\nChange-Id: I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc\n'}]",0,776428,f88a8b0c1ba7b845f724e690ffefddb256f532d1,47,3,1,2033,,,0,"Fixes the elapsed time logged during a live migration

Nova doesnt log the actual time that it is taking to live
migrate an instance but the number of cycles/2 that it does
when checking the migration job. If any operation takes
longer inside the loop, the reported time is wrong.

This behavior can cause some confusion when operators are
debugging issues.

This patch ensures that Nova logs the elapsed time of the
live migration.

Closes-Bug: #1916031
Change-Id: I1d622c28a09ddd2aa7d33fa7057b2f78dcaf97dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/776428/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,f88a8b0c1ba7b845f724e690ffefddb256f532d1,bug/1916031," {""secs"": elapsed, ""remaining"": remaining,"," {""secs"": n / 2, ""remaining"": remaining,",1,1
openstack%2Fglance~master~I50fe718d3b50af0d662fda6fa0fbd3e29783e063,openstack/glance,master,I50fe718d3b50af0d662fda6fa0fbd3e29783e063,Properly handle InvalidScope exceptions,MERGED,2021-02-05 21:15:14.000000000,2021-02-25 20:53:38.000000000,2021-02-25 20:48:39.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4f0a8855db0f1a7da7bae3d69189ba608edaec58', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should hanlde this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 2, 'created': '2021-02-10 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/10cb5ac61312354f03f2be44f167930db45977ef', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should hanlde this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 3, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9385741b50981be440df80e2152c775056726a3', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should hanlde this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 4, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cfd8a1af5bb3c1c7f1ea814d5cce086bc7daf322', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should hanlde this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 5, 'created': '2021-02-19 18:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3665a72c56b4322ac9e774b73753a0895a8a60f', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should handle this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 6, 'created': '2021-02-19 18:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c3517dd454a4e03aab5005cbbc9388e92b1d561f', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should handle this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 7, 'created': '2021-02-22 18:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/edc054c881d4db5e22acb0942fe46efb66db2194', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should handle this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 8, 'created': '2021-02-23 17:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de30fa36aafecbff463b7bb72e6fc8bcf99f606b', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should handle this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nRelated: blueprint secure-rbac\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}, {'number': 9, 'created': '2021-02-23 22:25:07.000000000', 'files': ['glance/tests/unit/test_policy.py', 'glance/api/policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/198d5ab0a2c74b6e49aed82d6455d90c094b8d8b', 'message': ""Properly handle InvalidScope exceptions\n\nNow that we're setting scope_types on policies, oslo.policy will throw\nan InvalidScope exception if configured to do so. We should handle this\nwhen we call enforcement so that we can bubble up an appropriate\nForbidden exception to the user.\n\nRelated: blueprint secure-rbac\n\nChange-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063\n""}]",12,774309,198d5ab0a2c74b6e49aed82d6455d90c094b8d8b,71,4,9,5046,,,0,"Properly handle InvalidScope exceptions

Now that we're setting scope_types on policies, oslo.policy will throw
an InvalidScope exception if configured to do so. We should handle this
when we call enforcement so that we can bubble up an appropriate
Forbidden exception to the user.

Related: blueprint secure-rbac

Change-Id: I50fe718d3b50af0d662fda6fa0fbd3e29783e063
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/774309/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/policy.py'],1,4f0a8855db0f1a7da7bae3d69189ba608edaec58,secure-rbac," try: result = super(Enforcer, self).enforce(action, target, context.to_policy_values(), do_raise=True, exc=exception.Forbidden, action=action) return result except policy.InvalidScope: raise exception.Forbidden(action=action)"," return super(Enforcer, self).enforce(action, target, context.to_policy_values(), do_raise=True, exc=exception.Forbidden, action=action)",9,5
openstack%2Fironic-inspector~stable%2Fvictoria~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,stable/victoria,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 17:26:13.000000000,2021-02-25 20:53:33.000000000,2021-02-25 20:41:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-25 17:26:13.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/abe6eb47540d1cd2f45c3a25ff58162ace00452e', 'message': 'Enable tempurls for Swift in grenade\n\nChange-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f\n(cherry picked from commit 223cfbdbbcec549e0922fb9179cbf8a48c1642cf)\n'}]",0,777551,abe6eb47540d1cd2f45c3a25ff58162ace00452e,7,2,1,10239,,,0,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
(cherry picked from commit 223cfbdbbcec549e0922fb9179cbf8a48c1642cf)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/777551/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,abe6eb47540d1cd2f45c3a25ff58162ace00452e,gate-stable/victoria, SWIFT_ENABLE_TEMPURLS: True SWIFT_TEMPURL_KEY: secretkey,,2,0
openstack%2Fneutron~master~I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,openstack/neutron,master,I1542dc4cf98658fc9a40018192498c7a5cd1c3fe,Remove rootwrap execution (5),MERGED,2021-02-04 17:31:42.000000000,2021-02-25 20:53:23.000000000,2021-02-25 20:47:55.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 17:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1fc77611b0b6e5452905c61b983b1a1b72328ec', 'message': 'Remove rootwrap execution (3)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 2, 'created': '2021-02-05 11:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4275ac6c253abaa1d1cb1d585c5039f669086f5', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 3, 'created': '2021-02-06 17:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74a4fe2c656e682241b4acb7171e27f8751c1e13', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 4, 'created': '2021-02-08 10:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0d742c2a344532381dd408bcc67af195dd27f8b', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates some missing execution methods present in\nthe code and removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 5, 'created': '2021-02-18 09:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8564de38b59859a9e0425d9a6870525dc1ee90e', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates some missing execution methods present in\nthe code and removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 6, 'created': '2021-02-18 11:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8aa3b64724119c582f824cf0629221089ac52a7f', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates some missing execution methods present in\nthe code and removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 7, 'created': '2021-02-18 16:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/464dcf646570ff2d92adbc5643cb61aba9d8b13c', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates some missing execution methods present in\nthe code and removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}, {'number': 8, 'created': '2021-02-19 09:11:00.000000000', 'files': ['etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/test_netlink_lib.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'etc/neutron/rootwrap.d/iptables-firewall.filters', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/test_ipset_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'etc/neutron/rootwrap.d/debug.filters', 'neutron/agent/linux/ipset_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a419cbc84e26b4a3b1d0dbe5166c1ab83cc825b', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates some missing execution methods present in\nthe code and removes unneeded rootwrap filters.\n\nStory: #2007686\nTask: #41558\n\nChange-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe\n'}]",0,774110,5a419cbc84e26b4a3b1d0dbe5166c1ab83cc825b,63,5,8,16688,,,0,"Remove rootwrap execution (5)

Replace rootwrap execution with privsep context execution.
This series of patches will progressively replace any
rootwrap call.

This patch migrates some missing execution methods present in
the code and removes unneeded rootwrap filters.

Story: #2007686
Task: #41558

Change-Id: I1542dc4cf98658fc9a40018192498c7a5cd1c3fe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/774110/8 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/iptables-firewall.filters', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'etc/neutron/rootwrap.d/debug.filters', 'etc/neutron/rootwrap.d/l3.filters']",5,e1fc77611b0b6e5452905c61b983b1a1b72328ec,task/41558,,"# arping arping: CommandFilter, arping, root sysctl: CommandFilter, sysctl, root# l3_tc_lib l3_tc_show_filters: RegExpFilter, tc, root, tc, -p, -s, -d, filter, show, dev, .+, parent, .+, prio, 1 l3_tc_delete_filters: RegExpFilter, tc, root, tc, filter, del, dev, .+, parent, .+, prio, 1, handle, .+, u32 l3_tc_add_filter_ingress: RegExpFilter, tc, root, tc, filter, add, dev, .+, parent, .+, protocol, ip, prio, 1, u32, match, ip, dst, .+, police, rate, .+, burst, .+, mtu, 64kb, drop, flowid, :1 l3_tc_add_filter_egress: RegExpFilter, tc, root, tc, filter, add, dev, .+, parent, .+, protocol, ip, prio, 1, u32, match, ip, src, .+, police, rate, .+, burst, .+, mtu, 64kb, drop, flowid, :1 # l3 agent to delete floatingip's conntrack state conntrack: CommandFilter, conntrack, root ",0,36
openstack%2Fironic~stable%2Fvictoria~Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,openstack/ironic,stable/victoria,Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a,Enable swift temporary URLs in grenade and provide a good error message,MERGED,2021-02-24 16:29:11.000000000,2021-02-25 20:53:19.000000000,2021-02-25 20:40:58.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 16:29:11.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'ironic/common/swift.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1f596590235d7b76be1d6184a2f6d44857f5eb0', 'message': 'Enable swift temporary URLs in grenade and provide a good error message\n\nThe fixed configdrive_use_object_store requires them.\n\nChange-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a\n(cherry picked from commit 5533077c7d3c7afafe365173476e5580ea4b4ba0)\n'}]",0,777429,a1f596590235d7b76be1d6184a2f6d44857f5eb0,15,2,1,10239,,,0,"Enable swift temporary URLs in grenade and provide a good error message

The fixed configdrive_use_object_store requires them.

Change-Id: Ie7323ae107c7f801be010353c7c4f3b8a43c3a1a
(cherry picked from commit 5533077c7d3c7afafe365173476e5580ea4b4ba0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/777429/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'ironic/common/swift.py']",2,a1f596590235d7b76be1d6184a2f6d44857f5eb0,, temp_url_key = account_info.get('x-account-meta-temp-url-key') if not temp_url_key: raise exception.MissingParameterValue(_( 'Swift temporary URLs require a shared secret to be ' 'created. You must provide pre-generate the key on ' 'the project used to access Swift.')), temp_url_key = account_info['x-account-meta-temp-url-key'],8,1
openstack%2Fmonasca-api~stable%2Fvictoria~Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,openstack/monasca-api,stable/victoria,Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975,Fix zuul publish docker image job,MERGED,2021-02-17 21:28:40.000000000,2021-02-25 20:05:03.000000000,2021-02-25 19:58:32.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-02-17 21:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dd42cdbd4341244b9beb65e61c2abd586fdd5a5e', 'message': 'Fix zuul publish docker image job\n\nChange-Id: Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975\n'}, {'number': 2, 'created': '2021-02-25 15:13:53.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/026fa041efa0edb0d5025294a5b86770241d53b8', 'message': 'Fix zuul publish docker image job\n\nChange-Id: Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975\n'}]",0,776276,026fa041efa0edb0d5025294a5b86770241d53b8,13,2,2,26141,,,0,"Fix zuul publish docker image job

Change-Id: Ie2e681c1a65a1ffadc9d0e5c7eccd0dab4460975
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/76/776276/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,dd42cdbd4341244b9beb65e61c2abd586fdd5a5e,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria' }}"""," shell: ""docker push monasca/api""",1,1
openstack%2Fdevstack~master~I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,openstack/devstack,master,I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc,Stop configure 'member' role in tempest_roles,MERGED,2021-02-08 17:48:00.000000000,2021-02-25 19:29:11.000000000,2021-02-23 19:43:06.000000000,"[{'_account_id': 5046}, {'_account_id': 5689}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29585}]","[{'number': 1, 'created': '2021-02-08 17:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/671c302d1e19e1b75e7bc4451a895883f35b5297', 'message': ""Stop configure 'member' role in tempest_roles\n\nConfig option auth.tempest_roles is used to set the\nextra roles to dynamic cred tests users. Until the new\nsecure RBAC (with scoped and reader roles), 'member' role\nwas used as default role for each test users but now\nTempest support new defaults like reader role also so with\nsetting of 'member' role as default, Tempest will not be\nable to test the reader role policies.\n\nBy default Tempest code will assign 'member' role to users\nif test does not ask for any role[1] so setting 'member'\nrole in tempest_roles from devstack is not required as such.\nEach test itself should configure the required roles.\n\nLet's remove  this role assignment now.\n\n[1] https://github.com/openstack/tempest/blob/1b0cddc90df0d0736e1d7ae63feef3b801ffdbe1/tempest/lib/common/dynamic_creds.py#L244\n\nChange-Id: I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc\n""}, {'number': 2, 'created': '2021-02-15 17:34:20.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/57b092dbceb95ed03f8d33f64a5cc60eabd57e50', 'message': ""Stop configure 'member' role in tempest_roles\n\nConfig option auth.tempest_roles is used to set the\nextra roles to all dynamic cred tests users.\n- https://opendev.org/openstack/tempest/src/commit/9b6f441fdc2a970410ea631dc1318896349e010f/tempest/common/credentials_factory.py#L82\n\nDevstack set the 'member' role in CONF.auth.tempest_roles\n- https://opendev.org/openstack/devstack/src/commit/556f84aea90c572873fc9834292635b41e590224/lib/tempest#L628\n\nThis cause issue if any tests testing for speciifc rols and want\nto exclude the 'member' role, basically this bug\n- https://bugs.launchpad.net/devstack/+bug/1915740\n\nAlso with 'member' role assigned by default, Tempest will not be\nable to test the secure RBAC new default 'reader' role.\n\nLet's remove  this role assignment now and let test congfigure what\nthey want.\n\nCloses-Bug: #1915740\n\nChange-Id: I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc\n""}]",0,774524,57b092dbceb95ed03f8d33f64a5cc60eabd57e50,19,7,2,8556,,,0,"Stop configure 'member' role in tempest_roles

Config option auth.tempest_roles is used to set the
extra roles to all dynamic cred tests users.
- https://opendev.org/openstack/tempest/src/commit/9b6f441fdc2a970410ea631dc1318896349e010f/tempest/common/credentials_factory.py#L82

Devstack set the 'member' role in CONF.auth.tempest_roles
- https://opendev.org/openstack/devstack/src/commit/556f84aea90c572873fc9834292635b41e590224/lib/tempest#L628

This cause issue if any tests testing for speciifc rols and want
to exclude the 'member' role, basically this bug
- https://bugs.launchpad.net/devstack/+bug/1915740

Also with 'member' role assigned by default, Tempest will not be
able to test the secure RBAC new default 'reader' role.

Let's remove  this role assignment now and let test congfigure what
they want.

Closes-Bug: #1915740

Change-Id: I0b6ab9fb943c7b0925a0a0d2490a8bcdfa76cedc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/24/774524/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,671c302d1e19e1b75e7bc4451a895883f35b5297,secure-rbac,," iniset $TEMPEST_CONFIG auth tempest_roles ""member""",0,1
openstack%2Fopenstack-helm~master~I329500297512b1d9c516f1d074bd88ed0088504c,openstack/openstack-helm,master,I329500297512b1d9c516f1d074bd88ed0088504c,Imported Translations from Zanata,MERGED,2021-02-03 07:28:40.000000000,2021-02-25 19:26:35.000000000,2021-02-25 19:24:47.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-03 07:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8e02257fe38452b6ac555db9b4046a7c10934f9b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 2, 'created': '2021-02-04 07:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b33b728aaa11f5bd85c8e249e2368d80d8d89424', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 3, 'created': '2021-02-04 15:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78cbf21017c72250f3330f1494aeec82c1b93289', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 4, 'created': '2021-02-05 07:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eaf05c148131a4690aa93bb5b98dad35f7e2c612', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 5, 'created': '2021-02-18 07:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db4604d4057616d4d82b68990e3cc3816cb64de6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 6, 'created': '2021-02-19 07:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6a0767a97e95b7631b11ebff7b6d5940a661fe0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 7, 'created': '2021-02-22 19:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee58c7d712d7ca6c732132cd17a0832a77d86e65', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 8, 'created': '2021-02-23 07:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f0a4b404d69b25f28fc1a264c54d8999c1e6735', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 9, 'created': '2021-02-23 15:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a980de9d7416c474aa07ae02fdb31ae13879562f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/776990\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}, {'number': 10, 'created': '2021-02-25 15:40:35.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2de324462aa7df1d4c775988288e19a3e2d4c2e7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I329500297512b1d9c516f1d074bd88ed0088504c\n'}]",0,773840,2de324462aa7df1d4c775988288e19a3e2d4c2e7,30,5,10,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I329500297512b1d9c516f1d074bd88ed0088504c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/773840/8 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,8e02257fe38452b6ac555db9b4046a7c10934f9b,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: Python\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2021-02-03 00:15+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-02-02 04:23+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""0.1.0 Initial Chart"" msgstr ""0.1.0 Initial Chart"" msgid ""Current Series Release Notes"" msgstr ""Current Series Release Notes"" msgid ""OpenStack-Helm Release Notes"" msgstr ""OpenStack-Helm Release Notes"" msgid ""aodh Chart"" msgstr ""aodh Chart"" msgid ""barbican Chart"" msgstr ""barbican Chart"" msgid ""ceilometer Chart"" msgstr ""ceilometer Chart"" msgid ""cinder Chart"" msgstr ""cinder Chart"" msgid ""designate Chart"" msgstr ""designate Chart"" msgid ""glance Chart"" msgstr ""glance Chart"" msgid ""heat Chart"" msgstr ""heat Chart"" msgid ""horizon Chart"" msgstr ""horizon Chart"" msgid ""ironic Chart"" msgstr ""ironic Chart"" msgid ""keystone Chart"" msgstr ""keystone Chart"" msgid ""magnum Chart"" msgstr ""magnum Chart"" msgid ""mistral Chart"" msgstr ""mistral Chart"" msgid ""neutron Chart"" msgstr ""neutron Chart"" msgid ""nova Chart"" msgstr ""nova Chart"" msgid ""octavia Chart"" msgstr ""octavia Chart"" msgid ""panko Chart"" msgstr ""panko Chart"" msgid ""placement Chart"" msgstr ""placement Chart"" msgid ""rally Chart"" msgstr ""rally Chart"" msgid ""senlin Chart"" msgstr ""senlin Chart"" msgid ""tempest Chart"" msgstr ""tempest Chart"" ",,84,0
openstack%2Fopenstack-helm-infra~master~I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,openstack/openstack-helm-infra,master,I1ea7349f5821b549d7c9ea88ef0089821eff3ddf,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""",MERGED,2021-02-25 16:23:46.000000000,2021-02-25 19:04:22.000000000,2021-02-25 19:02:27.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32222}]","[{'number': 1, 'created': '2021-02-25 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ab19e54f7dad63cc829e0a6b2c651cf2438ed5c', 'message': 'Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""\n\nThis reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.\n\nReason for revert: May be causing upstream multinode gates to fail. \n\nChange-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf\n'}, {'number': 2, 'created': '2021-02-25 17:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c75791b54b7fb5c607818a7660122a6fc589df8f', 'message': 'Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""\n\nThis reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.\n\nReason for revert: May be causing upstream multinode gates to fail. \n\nChange-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf\n'}, {'number': 3, 'created': '2021-02-25 17:04:49.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl', 'ceph-client/templates/job-rbd-pool.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/714cfdad84bd5c346659b6778a1a63b2da1beb4a', 'message': 'Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""\n\nThis reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.\n\nReason for revert: May be causing upstream multinode gates to fail. \n\nChange-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf\n'}]",0,777550,714cfdad84bd5c346659b6778a1a63b2da1beb4a,15,9,3,18511,,,0,"Revert ""[ceph-client] enhance logic to enable the autoscaler for Octopus""

This reverts commit 910ed906d0df247f826ad527211bc86382e16eaa.

Reason for revert: May be causing upstream multinode gates to fail. 

Change-Id: I1ea7349f5821b549d7c9ea88ef0089821eff3ddf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/777550/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl', 'ceph-client/templates/job-rbd-pool.yaml']",6,5ab19e54f7dad63cc829e0a6b2c651cf2438ed5c,, - name: ENABLE_AUTOSCALER value: {{ .Values.conf.features.pg_autoscaler | quote }},,23,10
openstack%2Fproject-config~master~I82a3bdd8cc370cd207dd5900038aef5b72d763c3,openstack/project-config,master,I82a3bdd8cc370cd207dd5900038aef5b72d763c3,Create inspur/venus-dashboard repository,MERGED,2021-02-22 03:01:14.000000000,2021-02-25 19:02:44.000000000,2021-02-25 18:32:40.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 03:01:14.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b888cb4417a17fc5e954299c81dee0289d8271bf', 'message': 'Create inspur/venus-dashboard repository\n\nInspur is working on a log collection/management module for OpenStack.\nIt needs to be released under an open source license and fleshed out\nbefore it can be officially proposed as an offical OpenStack project.\n\nCreate a inspur/venus-dashboard repository and use the same ACL\nwith Venus project(c187f810289c0567fb2a05a8012f7227d94d0de7) to do\nall that preliminary work.\n\nChange-Id: I82a3bdd8cc370cd207dd5900038aef5b72d763c3\n'}]",0,776864,b888cb4417a17fc5e954299c81dee0289d8271bf,9,4,1,26458,,,0,"Create inspur/venus-dashboard repository

Inspur is working on a log collection/management module for OpenStack.
It needs to be released under an open source license and fleshed out
before it can be officially proposed as an offical OpenStack project.

Create a inspur/venus-dashboard repository and use the same ACL
with Venus project(c187f810289c0567fb2a05a8012f7227d94d0de7) to do
all that preliminary work.

Change-Id: I82a3bdd8cc370cd207dd5900038aef5b72d763c3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/776864/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,b888cb4417a17fc5e954299c81dee0289d8271bf,new-project, - inspur/venus-dashboard,,4,0
openstack%2Fswift~master~I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,openstack/swift,master,I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e,Trivial fixes in recon middleware,MERGED,2021-02-24 11:03:02.000000000,2021-02-25 19:02:42.000000000,2021-02-25 18:56:27.000000000,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 11:03:02.000000000', 'files': ['swift/common/middleware/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9eac76258aeeaa3287d3e8c467b6ebbfa5e41c2f', 'message': 'Trivial fixes in recon middleware\n\nFix docstring and remove unused mount_check var.\n\nChange-Id: I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e\n'}]",0,777358,9eac76258aeeaa3287d3e8c467b6ebbfa5e41c2f,11,2,1,7847,,,0,"Trivial fixes in recon middleware

Fix docstring and remove unused mount_check var.

Change-Id: I30ead8b72cb616d1311ffc81d9cfecb1afc9a05e
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/777358/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/recon.py'],1,9eac76258aeeaa3287d3e8c467b6ebbfa5e41c2f,p-recon-trivial-fix,"from swift.common.utils import get_logger, SWIFT_CONF_FILE, md5_hash_for_file declaration in the [account|container|object]-server conf file:","from swift.common.utils import get_logger, config_true_value, \ SWIFT_CONF_FILE, md5_hash_for_file declaration in the object-server.conf: self.mount_check = config_true_value(conf.get('mount_check', 'true')) ",2,5
openstack%2Ftripleo-operator-ansible~master~I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,openstack/tripleo-operator-ansible,master,I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87,add role to gather info of tripleo validation group,MERGED,2021-02-11 14:11:17.000000000,2021-02-25 18:43:37.000000000,2021-02-25 18:43:37.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 14:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b4e7a03b6d50c26cc9537d6316e3ba9b1d80d5b3', 'message': 'add role to gather info of tripleo validation group\n\nWith this patch, validator group info can be used by operators in automation.\n\nChange-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87\n'}, {'number': 2, 'created': '2021-02-11 14:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/148d91bc9ec167362fc62d67571e904491ad71b7', 'message': 'add role to gather info of tripleo validation group\n\nWith this patch, validator group info can be used by operators in automation.\n\nChange-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87\n'}, {'number': 3, 'created': '2021-02-12 12:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2a71a7ac5f47598a82d9c68f3fa59ba16ed40c3f', 'message': 'add role to gather info of tripleo validation group\n\nWith this patch, validator group info can be used by operators in automation.\n\nChange-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87\n'}, {'number': 4, 'created': '2021-02-25 15:38:17.000000000', 'files': ['roles/tripleo_validator_group_info/tasks/main.yml', 'zuul.d/molecule.yaml', 'roles/tripleo_validator_group_info/molecule/default/converge.yml', 'roles/tripleo_validator_group_info/README.md', 'roles/tripleo_validator_group_info/molecule/default/prepare.yml', 'roles/tripleo_validator_group_info/molecule/default/molecule.yml', 'roles/tripleo_validator_group_info/defaults/main.yml', 'roles/tripleo_validator_group_info/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/29186b681a407c2ffdf4559cf3b108bbf266d5a3', 'message': 'add role to gather info of tripleo validation group\n\nWith this patch, validator group info can be used by operators in automation.\n\nChange-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87\n'}]",0,775157,29186b681a407c2ffdf4559cf3b108bbf266d5a3,15,3,4,27427,,,0,"add role to gather info of tripleo validation group

With this patch, validator group info can be used by operators in automation.

Change-Id: I64d17dcb5eb6f351ac60dee8bb1ff17e0cc4db87
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/57/775157/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_group_info/tasks/main.yml', 'roles/tripleo_validator_group_info/molecule/default/converge.yml', 'roles/tripleo_validator_group_info/README.md', 'roles/tripleo_validator_group_info/molecule/default/prepare.yml', 'roles/tripleo_validator_group_info/molecule/default/molecule.yml', 'roles/tripleo_validator_group_info/defaults/main.yml', 'roles/tripleo_validator_group_info/meta/main.yml']",7,b4e7a03b6d50c26cc9537d6316e3ba9b1d80d5b3,add-role-validator-group-info,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: author: OpenStack description: TripleO Operator Role -- tripleo_validator_group_info company: Red Hat license: Apache-2.0 min_ansible_version: 2.8 # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: CentOS versions: - 7 - 8 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: [] ",,175,0
openstack%2Ftripleo-operator-ansible~master~Iedad29583c104ecd98d38455bf3422bb353a37d9,openstack/tripleo-operator-ansible,master,Iedad29583c104ecd98d38455bf3422bb353a37d9,add role to show tripleo validation,MERGED,2020-09-30 19:12:24.000000000,2021-02-25 18:29:16.000000000,2021-02-25 18:29:16.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-09-30 19:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7aa9777ca3c3aa2da0cd871be2f142e96861b0e4', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 2, 'created': '2020-10-21 17:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c71a1f0061968b560cc5e1267a5401565c77109a', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 3, 'created': '2020-10-22 19:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c7b10471ad02c3ceb6161e8963491b76158d2e82', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 4, 'created': '2020-11-04 17:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/add47c23631e6805fb108f13ebb04f4dd6d45829', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 5, 'created': '2020-12-04 16:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/1a6a0b35e3b4ead0dca080df830c1432a66ce7a7', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 6, 'created': '2021-01-05 15:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/3261b18bf0abbac72b5a206bea00bb3b842386d5', 'message': 'WIP - add role to show tripleo validation\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 7, 'created': '2021-01-05 17:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/85efe00828bdc24d43480be865dd0a04bbe99fd5', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 8, 'created': '2021-01-14 11:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/dc1206bed3eb8c73d8605dcb1439b222c9379cb1', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 9, 'created': '2021-02-09 15:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9e45bff48b79ced63fabef4360cf733f9c015ac0', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 10, 'created': '2021-02-09 15:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d3d95de64dc8c3d0fa061ba1a01f6c3f6a564021', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 11, 'created': '2021-02-10 17:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/4938345e2a23ccf6b54f40663f8b4512e1b9a232', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}, {'number': 12, 'created': '2021-02-25 15:28:20.000000000', 'files': ['zuul.d/molecule.yaml', 'roles/tripleo_validator_show/README.md', 'roles/tripleo_validator_show/defaults/main.yml', 'roles/tripleo_validator_show/meta/main.yml', 'roles/tripleo_validator_show/molecule/default/molecule.yml', 'roles/tripleo_validator_show/tasks/main.yml', 'roles/tripleo_validator_show/molecule/default/converge.yml', 'roles/tripleo_validator_show/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a8d43fa37d4c33f5e55ee4a0432e5340e55c5393', 'message': 'add role to show tripleo validation\n\nWith this patch, validator show can be used by operators in automation.\n\nChange-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9\n'}]",0,755375,a8d43fa37d4c33f5e55ee4a0432e5340e55c5393,36,4,12,27427,,,0,"add role to show tripleo validation

With this patch, validator show can be used by operators in automation.

Change-Id: Iedad29583c104ecd98d38455bf3422bb353a37d9
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/75/755375/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_show/README.md', 'roles/tripleo_validator_show/defaults/main.yml', 'roles/tripleo_validator_show/meta/main.yml', 'roles/tripleo_validator_show/molecule/default/molecule.yml', 'roles/tripleo_validator_show/tasks/main.yml', 'roles/tripleo_validator_show/molecule/default/converge.yml', 'roles/tripleo_validator_show/molecule/default/prepare.yml']",7,7aa9777ca3c3aa2da0cd871be2f142e96861b0e4,add-role-validator-show,--- - name: Prepare hosts: all tasks: - name: Include molecule prep include_role: name: test_molecule_prep ,,269,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9ee4c5501617f44cb557a0494f7b9382e4d8831f,openstack/tripleo-ansible,stable/train,I9ee4c5501617f44cb557a0494f7b9382e4d8831f,WIP: test molecule bump,ABANDONED,2021-02-25 17:39:52.000000000,2021-02-25 17:57:48.000000000,,[],"[{'number': 1, 'created': '2021-02-25 17:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aafda82d749285cd5e1eec844ee241ebac4fb723', 'message': ""WIP: test molecule bump\n\nI think this might take a bunch of additional changes but let's see what\nCI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where\nwe fixed this in Ussuri\n\nChange-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f\n""}, {'number': 2, 'created': '2021-02-25 17:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fef43c176bcd8600ab5bbcd0d720535a8aa8b58b', 'message': ""WIP: test molecule bump\n\nI think this might take a bunch of additional changes but let's see what\nCI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where\nwe fixed this in Ussuri\n\nChange-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f\n""}, {'number': 3, 'created': '2021-02-25 17:43:00.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/tasks/main.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebc426ea621fc1846e8ad232e96a71c4296af54d', 'message': ""WIP: test molecule bump\n\nI think this might take a bunch of additional changes but let's see what\nCI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where\nwe fixed this in Ussuri\n\nChange-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f\n""}]",0,777637,ebc426ea621fc1846e8ad232e96a71c4296af54d,4,0,3,14985,,,0,"WIP: test molecule bump

I think this might take a bunch of additional changes but let's see what
CI says. c7006fc49d5168d917a289cca8717595027d8c58 was the version where
we fixed this in Ussuri

Change-Id: I9ee4c5501617f44cb557a0494f7b9382e4d8831f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/777637/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,aafda82d749285cd5e1eec844ee241ebac4fb723,fix-ci,"molecule>=3.0,<3.1",molecule==3.0a5,1,1
openstack%2Fvalidations-libs~master~I3a99ac5b73b5a8d32434db15f78e14a7366e2925,openstack/validations-libs,master,I3a99ac5b73b5a8d32434db15f78e14a7366e2925,Return absolute path for inventory,MERGED,2021-02-16 20:41:20.000000000,2021-02-25 17:56:27.000000000,2021-02-25 17:51:04.000000000,"[{'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-16 20:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a1f3dcec00baeaab669ecc2f3ec9d624018ce453', 'message': 'Return absolute path for inventory\n\nIs the inventory is passed with a relative path ansible\nwont be able to find the file, we need to return the\nabsolute path in that case.\n\nChange-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925\n'}, {'number': 2, 'created': '2021-02-18 09:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/918de4b27fda7b6a77b6035d4feb9b7b4c2c8fc0', 'message': 'Return absolute path for inventory\n\nIs the inventory is passed with a relative path ansible\nwont be able to find the file, we need to return the\nabsolute path in that case.\n\nChange-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925\n'}, {'number': 3, 'created': '2021-02-18 14:45:32.000000000', 'files': ['validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3b2d2475e68e381194d49e44465296ced2fe2059', 'message': 'Return absolute path for inventory\n\nIs the inventory is passed with a relative path ansible\nwont be able to find the file, we need to return the\nabsolute path in that case.\n\nChange-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925\n'}]",2,775930,3b2d2475e68e381194d49e44465296ced2fe2059,19,5,3,16515,,,0,"Return absolute path for inventory

Is the inventory is passed with a relative path ansible
wont be able to find the file, we need to return the
absolute path in that case.

Change-Id: I3a99ac5b73b5a8d32434db15f78e14a7366e2925
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/30/775930/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/ansible.py'],1,a1f3dcec00baeaab669ecc2f3ec9d624018ce453,inventory/abspath, return os.path.abspath(inventory), return inventory,1,1
openstack%2Finstack-undercloud~stable%2Fqueens~Idd1c0c5fe7ba54c661b122e4822df16439b78d80,openstack/instack-undercloud,stable/queens,Idd1c0c5fe7ba54c661b122e4822df16439b78d80,Remove tripleo-multinode-baremetal-minimal template from layout,MERGED,2021-02-24 11:52:36.000000000,2021-02-25 17:51:02.000000000,2021-02-25 17:51:02.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-02-24 11:52:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/9b770ae2460e6ab7cf8bb3556f35239ee154db7b', 'message': 'Remove tripleo-multinode-baremetal-minimal template from layout\n\nThe tripleo-multinode-baremetal-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Idd1c0c5fe7ba54c661b122e4822df16439b78d80\n'}]",0,777371,9b770ae2460e6ab7cf8bb3556f35239ee154db7b,9,4,1,8449,,,0,"Remove tripleo-multinode-baremetal-minimal template from layout

The tripleo-multinode-baremetal-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Idd1c0c5fe7ba54c661b122e4822df16439b78d80
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/71/777371/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9b770ae2460e6ab7cf8bb3556f35239ee154db7b,tripleo-ci-reduce,, - tripleo-multinode-baremetal-minimal,0,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9ec73e3d94884c339ea5e21817c24cf5e758f242,openstack/tripleo-heat-templates,stable/train,I9ec73e3d94884c339ea5e21817c24cf5e758f242,[train-only] Ensure we stop ovn-controller with cleanup,MERGED,2021-01-28 11:37:11.000000000,2021-02-25 17:50:56.000000000,2021-02-25 17:50:56.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 8655}, {'_account_id': 11082}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-28 11:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0b61ddf8b9c9e355e4f00c508e6a6f6269601e2', 'message': 'WIP: [train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}, {'number': 2, 'created': '2021-01-29 12:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ef6cc5c413fd02fca02b6433fd2fe28b31aa6f3', 'message': 'WIP: [train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}, {'number': 3, 'created': '2021-01-30 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09e8b2ab6889999e391d2196e885a2901a15b25d', 'message': 'WIP: [train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}, {'number': 4, 'created': '2021-02-02 00:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7627f85e5723736238b70f7a2ff34dfcb60b0f6e', 'message': '[train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}, {'number': 5, 'created': '2021-02-02 11:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/379acbb9d7da2d83b7b1eb71e3a0915e288472d9', 'message': '[train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}, {'number': 6, 'created': '2021-02-10 09:54:27.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/988d5dc892b0aad28cf4c958f05b2d026cde33cd', 'message': '[train-only] Ensure we stop ovn-controller with cleanup\n\nTurns out that gracefull shutdown of container running ovn_controller\ndoes not disable routing to it. This means that after Leapp when the\nnode is clean we still try to send traffic to it and this causes\noutage. By calling ovs-appctl -t ovn-controller exit we ensure that\novn cleans up BFD interfaces from the node. For this to work we need\nto disable docker autorestart of the container.\n\nChange-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242\n'}]",2,772865,988d5dc892b0aad28cf4c958f05b2d026cde33cd,32,11,6,11166,,,0,"[train-only] Ensure we stop ovn-controller with cleanup

Turns out that gracefull shutdown of container running ovn_controller
does not disable routing to it. This means that after Leapp when the
node is clean we still try to send traffic to it and this causes
outage. By calling ovs-appctl -t ovn-controller exit we ensure that
ovn cleans up BFD interfaces from the node. For this to work we need
to disable docker autorestart of the container.

Change-Id: I9ec73e3d94884c339ea5e21817c24cf5e758f242
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/772865/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,a0b61ddf8b9c9e355e4f00c508e6a6f6269601e2,, - name: ovn_controller system_upgrade_prepare step 1 tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 1 block: - name: Check if ovn_controller is running in docker command: docker ps | grep ovn_controller register: ovn_controller_running failed_when: false changed_when: false - name: Disable autorestart on ovn_controller container command: docker update --restart=no ovn_controller when: ovn_controller_running.rc == 0 - name: Tell ovn_controller to clean up and stop command: docker exec -u root ovn_controller ovn-appctl -t ovn-controller exit when: ovn_controller_running.rc == 0,,19,0
openstack%2Foslo.policy~master~Icc486f5a04810a5a4194cac1bcae930d66e519d4,openstack/oslo.policy,master,Icc486f5a04810a5a4194cac1bcae930d66e519d4,Add '__str__' for 'DeprecatedRule',ABANDONED,2021-02-03 11:16:00.000000000,2021-02-25 17:37:31.000000000,,"[{'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 11:16:00.000000000', 'files': ['oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d698bd3b94b88f42e969ed49e499b5bb37f9d744', 'message': 'Add \'__str__\' for \'DeprecatedRule\'\n\nWithout this, attempting to get information on the rule returns a\nuseless representation like so:\n\n  <DeprecatedRule object at 0x7f17e6dbef10>\n\nWith it, we get the same format as the \'(Documented)RuleDefault\',\nnamely:\n\n  ""os_compute_api:os-hypervisors"": ""rule:admin_api""\n\nThe \'__str__ magic method for the \'RuleDefault\' class is simplified in\nthe process of this change.\n\nChange-Id: Icc486f5a04810a5a4194cac1bcae930d66e519d4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,773873,d698bd3b94b88f42e969ed49e499b5bb37f9d744,5,3,1,15334,,,0,"Add '__str__' for 'DeprecatedRule'

Without this, attempting to get information on the rule returns a
useless representation like so:

  <DeprecatedRule object at 0x7f17e6dbef10>

With it, we get the same format as the '(Documented)RuleDefault',
namely:

  ""os_compute_api:os-hypervisors"": ""rule:admin_api""

The '__str__ magic method for the 'RuleDefault' class is simplified in
the process of this change.

Change-Id: Icc486f5a04810a5a4194cac1bcae930d66e519d4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/73/773873/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,d698bd3b94b88f42e969ed49e499b5bb37f9d744,add-str," return f'""{self.name}"": ""{self.check_str}""' def __str__(self): return f'""{self.name}"": ""{self.check_str}""'"," return '""%(name)s"": ""%(check_str)s""' % {'name': self.name, 'check_str': self.check_str}",4,2
openstack%2Fmanila~master~Ic16bc3cb03b851003c189450b398f8dd5dde8160,openstack/manila,master,Ic16bc3cb03b851003c189450b398f8dd5dde8160,Doc: Add profiler support documentation,MERGED,2021-02-23 11:56:38.000000000,2021-02-25 17:36:08.000000000,2021-02-25 17:34:30.000000000,"[{'_account_id': 16643}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-02-23 11:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b90c318670843a405e76b8f929c34d58a324a50', 'message': 'Doc: Add profiler support documentation\n\nThe profiler integration with the shared file system service(Manila)\nallows to trace commands issued using both manila-client and\nopenstack-client.\n\nNote that osprofiler should be run from admin user name & tenant.\n\nCloses-Bug: #1915116\nChange-Id: Ic16bc3cb03b851003c189450b398f8dd5dde8160\n'}, {'number': 2, 'created': '2021-02-25 04:18:42.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/shared-file-systems-profiling.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/3b0358a1bc1db6c5ae397e8ebb86f902e5b2cbb6', 'message': 'Doc: Add profiler support documentation\n\nThe profiler integration with the shared file system service(Manila)\nallows to trace commands issued using both manila-client and\nopenstack-client.\n\nNote that osprofiler should be run from admin user name & tenant.\n\nCloses-Bug: #1915116\nChange-Id: Ic16bc3cb03b851003c189450b398f8dd5dde8160\n'}]",10,777096,3b0358a1bc1db6c5ae397e8ebb86f902e5b2cbb6,24,4,2,32919,,,0,"Doc: Add profiler support documentation

The profiler integration with the shared file system service(Manila)
allows to trace commands issued using both manila-client and
openstack-client.

Note that osprofiler should be run from admin user name & tenant.

Closes-Bug: #1915116
Change-Id: Ic16bc3cb03b851003c189450b398f8dd5dde8160
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/777096/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/shared-file-systems-profiling.rst']",2,4b90c318670843a405e76b8f929c34d58a324a50,bug/1915116,".. _shared_file_systems_profiling: ========================================== Profiling the Shared File Systems service ========================================== Profiler ^^^^^^^^ The detailed description of the profiler and its config options is available at `Profiler docs <https://docs.openstack.org/osprofiler/latest/user/index.html>`_. Using Profiler ^^^^^^^^^^^^^^ To start profiling Manila code, the following steps have to be taken: #. Add the following lines to the ``/etc/manila/manila.conf`` file (the profiling is disabled by default). .. code-block:: console [profiler] connection_string = redis://localhost:6379 hmac_keys = SECRET_KEY trace_sqlalchemy = True enabled = True Examples of possible values for ``connection_string`` option: * ``messaging://`` - use oslo_messaging driver for sending spans. * ``redis://127.0.0.1:6379`` - use redis driver for sending spans. * ``mongodb://127.0.0.1:27017`` - use mongodb driver for sending spans. * ``elasticsearch://127.0.0.1:9200`` - use elasticsearch driver for sending spans. * ``jaeger://127.0.0.1:6831`` - use jaeger tracing as driver for sending spans. #. Restart all manila services and keystone service. #. To verify profiler with manilaclient, run any command with --profile <key>. The key (e.g. SECRET_KEY) should be one of the hmac_keys mentioned in manila.conf. To generate correct profiling information across all services at least one key needs to be consistent between OpenStack projects. .. code-block:: console $ manila --profile SECRET_KEY create NFS 1 --name Share1 --share-network testNetwork --share-type dhss_true +---------------------------------------+--------------------------------------+ | Property | Value | +---------------------------------------+--------------------------------------+ | id | 9703da88-25ba-41e6-827d-a6932f708dd4 | | size | 1 | | availability_zone | None | | created_at | 2021-02-23T11:21:38.000000 | | status | creating | | name | Share1 | | description | None | | project_id | c67b2fd35b054060971d28cf654ee92a | | snapshot_id | None | | share_network_id | 03754c58-1456-497f-b7d6-8f36a4d644f0 | | share_proto | NFS | | metadata | {} | | share_type | 5b1a4133-371c-4583-a801-f2b6e1ae102d | | is_public | False | | snapshot_support | False | | task_state | None | | share_type_name | dhss_true | | access_rules_status | active | | replication_type | None | | has_replicas | False | | user_id | 7ecd60ddae1448b79449dc6434460eaf | | create_share_from_snapshot_support | False | | revert_to_snapshot_support | False | | share_group_id | None | | source_share_group_snapshot_member_id | None | | mount_snapshot_support | False | | progress | None | | share_server_id | None | | host | | +---------------------------------------+--------------------------------------+ Profiling trace ID: 1705dfd8-e45a-46cd-b0e2-2e40fd9e5f22 To display trace use next command: osprofiler trace show --html 1705dfd8-e45a-46cd-b0e2-2e40fd9e5f22 #. To verify profiler with openstackclient, run any command with --os-profile <key>. .. code-block:: console $ openstack --os-profile SECRET_KEY share create NFS 1 --name Share2 --share-network testNetwork --share-type dhss_true +---------------------------------------+--------------------------------------+ | Field | Value | +---------------------------------------+--------------------------------------+ | access_rules_status | active | | availability_zone | None | | create_share_from_snapshot_support | False | | created_at | 2021-02-23T11:23:41.000000 | | description | None | | has_replicas | False | | host | | | id | 78a19734-394f-4967-9671-c226df00a023 | | is_public | False | | metadata | {} | | mount_snapshot_support | False | | name | Share2 | | progress | None | | project_id | c67b2fd35b054060971d28cf654ee92a | | replication_type | None | | revert_to_snapshot_support | False | | share_group_id | None | | share_network_id | 03754c58-1456-497f-b7d6-8f36a4d644f0 | | share_proto | NFS | | share_server_id | None | | share_type | 5b1a4133-371c-4583-a801-f2b6e1ae102d | | share_type_name | dhss_true | | size | 1 | | snapshot_id | None | | snapshot_support | False | | source_share_group_snapshot_member_id | None | | status | creating | | task_state | None | | user_id | 7ecd60ddae1448b79449dc6434460eaf | | volume_type | dhss_true | +---------------------------------------+--------------------------------------+ Trace ID: 0ca7ce01-36a9-481c-8b3d-263a3b5caa35 Short trace ID for OpenTracing-based drivers: 8b3d263a3b5caa35 Display trace data with command: osprofiler trace show --html 0ca7ce01-36a9-481c-8b3d-263a3b5caa35 #. The display the trace date in HTML format, run below command. .. code-block:: console $osprofiler trace show --html 0ca7ce01-36a9-481c-8b3d-263a3b5caa35 --connection-string redis://localhost:6379 --out /opt/stack/output.html ",,136,0
openstack%2Fironic~master~I21aaf40fcdcb399b8999a049f17631667f47db48,openstack/ironic,master,I21aaf40fcdcb399b8999a049f17631667f47db48,Make fast-track work with redfish-virtual-media,ABANDONED,2021-02-25 16:50:49.000000000,2021-02-25 17:27:44.000000000,,[],"[{'number': 1, 'created': '2021-02-25 16:50:49.000000000', 'files': ['releasenotes/notes/vmedia-fast-track-fb9599cadc7e2ea3.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/96699e0a5ffa5bbc50c4be9985de559c33bb28c5', 'message': 'Make fast-track work with redfish-virtual-media\n\nIf the node is in fast-track mode, do not re-insert the virtual media.\n\nChange-Id: I21aaf40fcdcb399b8999a049f17631667f47db48\n'}]",0,777621,96699e0a5ffa5bbc50c4be9985de559c33bb28c5,5,0,1,10239,,,0,"Make fast-track work with redfish-virtual-media

If the node is in fast-track mode, do not re-insert the virtual media.

Change-Id: I21aaf40fcdcb399b8999a049f17631667f47db48
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/777621/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vmedia-fast-track-fb9599cadc7e2ea3.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",3,96699e0a5ffa5bbc50c4be9985de559c33bb28c5,vmedia-fast-track," if manager_utils.is_fast_track(task): LOG.debug('Fast track operation for node %s, not re-inserting ' 'the virtual CD', node.uuid) return ",,38,0
openstack%2Fmanila~master~I3bce1f04d1cfebfacd78ed135a949a068c78987d,openstack/manila,master,I3bce1f04d1cfebfacd78ed135a949a068c78987d,Integrate OSprofiler and Manila,MERGED,2021-01-07 13:47:25.000000000,2021-02-25 17:18:56.000000000,2021-02-25 17:16:55.000000000,"[{'_account_id': 16643}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31213}, {'_account_id': 32291}, {'_account_id': 33038}]","[{'number': 1, 'created': '2021-01-07 13:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/63f86ff95b6be3276b08162a9df95e6fa9be6eab', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --transport-url <transport_url>\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint OS-Profiler Support\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 2, 'created': '2021-01-07 16:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d57fd5714dc59726bea48a36252c3adcdc2c57bb', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --transport-url <transport_url>\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint OS-Profiler Support\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 3, 'created': '2021-01-08 02:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c04d50f60e130400c82491cbcc2a8aeccc2380f7', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --transport-url <transport_url>\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 4, 'created': '2021-02-02 04:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/74f9442383623a8b324fa7c24d821498877b16e9', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 5, 'created': '2021-02-02 05:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa1ac1b5a75b2097fc3dd824278772720343cd9f', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 6, 'created': '2021-02-08 05:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a525ad37a1b52c1008efaaf081dcf110f3f9e2c1', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 7, 'created': '2021-02-10 15:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ee4821318c24ee141e542a2d0ff72a7da8f3a4a6', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 8, 'created': '2021-02-11 03:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/91f286d14c94d2b10f4948cfc5e58fb209e42af1', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}, {'number': 9, 'created': '2021-02-25 04:03:49.000000000', 'files': ['manila/service.py', 'requirements.txt', 'manila/wsgi/wsgi.py', 'etc/manila/api-paste.ini', 'manila/db/sqlalchemy/api.py', 'manila/test.py', 'manila/share/manager.py', 'releasenotes/notes/bp-integrate-os-profiler-b637041861029175.yaml', 'lower-constraints.txt', 'manila/rpc.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fbc2b4d2896d90feaa6be2f67764688b8e571ca3', 'message': 'Integrate OSprofiler and Manila\n\n*) Add osprofiler wsgi middleware\n\nThis middleware is used for 2 things:\n1) It checks that person who want to trace is trusted and knows\nsecret HMAC key.\n2) It start tracing in case of proper trace headers and add\nfirst wsgi trace point, with info about HTTP request\n*) Add initialization of osprofiler at start of serivce.\n\nYou should use python-manilaclient with this patch:\n\nhttps://review.opendev.org/#/c/769731\n\nRun any command with --profile SECRET_KEY\n\n  $ manila --profile SECRET_KEY create NFS 1 --name <share> \\\n    --description <share_description> --share-network <network> \\\n    --share-type default\n  # it will print <Trace ID>\n\nGet pretty HTML with traces:\n\n  $ osprofiler trace show --html <Trace ID> --connection-string \\\n   <connection_string> --out <output.html>\n  e.g. --connection-string can be redis://localhost:6379\n\nNote that osprofiler should be run from admin user name & tenant.\n\nImplements: blueprint manila-os-profiler\nChange-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d\n'}]",22,769729,fbc2b4d2896d90feaa6be2f67764688b8e571ca3,104,9,9,32919,,,0,"Integrate OSprofiler and Manila

*) Add osprofiler wsgi middleware

This middleware is used for 2 things:
1) It checks that person who want to trace is trusted and knows
secret HMAC key.
2) It start tracing in case of proper trace headers and add
first wsgi trace point, with info about HTTP request
*) Add initialization of osprofiler at start of serivce.

You should use python-manilaclient with this patch:

https://review.opendev.org/#/c/769731

Run any command with --profile SECRET_KEY

  $ manila --profile SECRET_KEY create NFS 1 --name <share> \
    --description <share_description> --share-network <network> \
    --share-type default
  # it will print <Trace ID>

Get pretty HTML with traces:

  $ osprofiler trace show --html <Trace ID> --connection-string \
   <connection_string> --out <output.html>
  e.g. --connection-string can be redis://localhost:6379

Note that osprofiler should be run from admin user name & tenant.

Implements: blueprint manila-os-profiler
Change-Id: I3bce1f04d1cfebfacd78ed135a949a068c78987d
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/769729/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/service.py', 'requirements.txt', 'etc/manila/api-paste.ini', 'manila/db/sqlalchemy/api.py', 'manila/test.py', 'manila/share/manager.py', 'manila/rpc.py']",7,63f86ff95b6be3276b08162a9df95e6fa9be6eab,bp/manila-os-profiler,"from oslo_utils import importutils profiler = importutils.try_import('osprofiler.profiler') _context = context.to_dict() if profiler is not None: prof = profiler.get() if prof: trace_info = { ""hmac_key"": prof.hmac_key, ""base_id"": prof.get_base_id(), ""parent_id"": prof.get_id() } _context.update({""trace_info"": trace_info}) return _context trace_info = context.pop(""trace_info"", None) if trace_info: if profiler is not None: profiler.init(**trace_info) ", return context.to_dict(),103,9
openstack%2Ftempest~master~I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,openstack/tempest,master,I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b,[part1] Remove six,MERGED,2020-12-02 05:45:08.000000000,2021-02-25 17:12:34.000000000,2021-02-25 17:09:59.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-02 05:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/255b1aa54cfc1fadb43f1d8cd2708bbdee60c79e', 'message': '[part1] Remove six\n\nReplace the following items with Python 3 style code\n\nRemove six in follows:\n   - six.text_type\n\nChange-Id: I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b\n'}, {'number': 2, 'created': '2021-02-24 12:50:41.000000000', 'files': ['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/tests/test_microversions.py', 'tempest/api/network/test_ports.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/jsonschema_validator.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/lib/common/rest_client.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/tests/lib/test_ssh.py', 'tempest/tests/cmd/test_run.py', 'tempest/tests/api/compute/test_base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/tests/test_list_tests.py', 'tempest/tests/lib/common/test_preprov_creds.py', 'tempest/tests/lib/common/test_api_version_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/19b70a3858237654143c52ace9cf1adc284ba97d', 'message': '[part1] Remove six\n\nReplace the following items with Python 3 style code\n\nRemove six in follows:\n   - six.text_type\n\nChange-Id: I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b\n'}]",1,765056,19b70a3858237654143c52ace9cf1adc284ba97d,20,4,2,32029,,,0,"[part1] Remove six

Replace the following items with Python 3 style code

Remove six in follows:
   - six.text_type

Change-Id: I68d46733dd4dcef7a37e940ccbba5a66bfce2b5b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/765056/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_tokens.py', 'tempest/lib/common/dynamic_creds.py', 'tempest/tests/test_microversions.py', 'tempest/api/network/test_ports.py', 'tempest/lib/common/preprov_creds.py', 'tempest/lib/common/jsonschema_validator.py', 'tempest/api/compute/servers/test_attach_interfaces.py', 'tempest/lib/common/rest_client.py', 'tempest/api/compute/servers/test_novnc.py', 'tempest/tests/lib/test_ssh.py', 'tempest/tests/cmd/test_run.py', 'tempest/tests/api/compute/test_base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/tests/test_list_tests.py', 'tempest/tests/lib/common/test_preprov_creds.py', 'tempest/tests/lib/common/test_api_version_utils.py']",17,255b1aa54cfc1fadb43f1d8cd2708bbdee60c79e,remove-six, raise testtools.TestCase.failureException(str(e)),import six raise testtools.TestCase.failureException(six.text_type(e)),35,48
openstack%2Fkuryr-kubernetes~master~Icef8645baa7cba731b76814abdb63be556172ef7,openstack/kuryr-kubernetes,master,Icef8645baa7cba731b76814abdb63be556172ef7,Fixes the if-else-block bug,MERGED,2021-02-25 09:50:40.000000000,2021-02-25 17:11:11.000000000,2021-02-25 17:09:38.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-25 09:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0062c2c86a4018f9bf4deaccc7439fe61fef4ac7', 'message': 'Fixes the if-else-block bug\n\nThe SCTP version check was placed above the else block of\nOctavia-tags version check, this patch fixes that.\n\nChange-Id: Icef8645baa7cba731b76814abdb63be556172ef7\n'}, {'number': 2, 'created': '2021-02-25 13:06:39.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2edbbf259a43947045b14c3676ec158bf5048f4f', 'message': 'Fixes the if-else-block bug\n\nThe SCTP version check was placed above the else block of\nOctavia-tags version check, this patch fixes that.\n\nChange-Id: Icef8645baa7cba731b76814abdb63be556172ef7\n'}]",1,777528,2edbbf259a43947045b14c3676ec158bf5048f4f,14,5,2,32533,,,0,"Fixes the if-else-block bug

The SCTP version check was placed above the else block of
Octavia-tags version check, this patch fixes that.

Change-Id: Icef8645baa7cba731b76814abdb63be556172ef7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/28/777528/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,0062c2c86a4018f9bf4deaccc7439fe61fef4ac7,bug/sctp-version, if v >= _OCTAVIA_SCTP_VERSION: LOG.info('Octavia API supports SCTP protocol.') self._octavia_sctp = True , if v >= _OCTAVIA_SCTP_VERSION: LOG.info('Octavia API supports SCTP protocol.') self._octavia_sctp = True,4,3
openstack%2Fironic-inspector~master~Icd752783ff6df0e06f04e03b374af4862c91ec7f,openstack/ironic-inspector,master,Icd752783ff6df0e06f04e03b374af4862c91ec7f,Enable tempurls for Swift in grenade,MERGED,2021-02-25 11:06:27.000000000,2021-02-25 16:56:57.000000000,2021-02-25 16:51:03.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-25 11:06:27.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/223cfbdbbcec549e0922fb9179cbf8a48c1642cf', 'message': 'Enable tempurls for Swift in grenade\n\nChange-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f\n'}]",0,777570,223cfbdbbcec549e0922fb9179cbf8a48c1642cf,9,4,1,10239,,,0,"Enable tempurls for Swift in grenade

Change-Id: Icd752783ff6df0e06f04e03b374af4862c91ec7f
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/777570/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,223cfbdbbcec549e0922fb9179cbf8a48c1642cf,gate, SWIFT_ENABLE_TEMPURLS: True SWIFT_TEMPURL_KEY: secretkey,,2,0
openstack%2Fos-refresh-config~master~Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,openstack/os-refresh-config,master,Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b,Fix failing pep8 and update test-requirements to unblock gate,ABANDONED,2021-02-24 11:13:20.000000000,2021-02-25 16:49:51.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 30742}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-02-24 11:13:20.000000000', 'files': ['test-requirements.txt', 'os_refresh_config/tests/test_os_refresh_config.py'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/88657f7e7f0591a4974cbf7f6278359597229bee', 'message': 'Fix failing pep8 and update test-requirements to unblock gate\n\nThis updates test-requirements to fix issue seen in [1] and also\nfixes a failing pep8 test seen once the test-requirements was\naddressed.\n\n[1] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log\n\nChange-Id: Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b\n'}]",0,777364,88657f7e7f0591a4974cbf7f6278359597229bee,7,9,1,8449,,,0,"Fix failing pep8 and update test-requirements to unblock gate

This updates test-requirements to fix issue seen in [1] and also
fixes a failing pep8 test seen once the test-requirements was
addressed.

[1] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: Id02e64cde1b45c2a1ab43ec9197a3f1235857b2b
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/64/777364/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'os_refresh_config/tests/test_os_refresh_config.py']",2,88657f7e7f0591a4974cbf7f6278359597229bee,," with mock.patch('os.path.isdir', lambda x: ( x == default or x == deprecated)):"," with mock.patch('os.path.isdir', lambda x: (x == default or x == deprecated)):",3,5
openstack%2Fopenstacksdk~master~I4c87c420b263843a76d8a0d7a17141a35e63b3af,openstack/openstacksdk,master,I4c87c420b263843a76d8a0d7a17141a35e63b3af,"This is the Host Extension Resource, for capstone.",ABANDONED,2021-02-25 16:19:38.000000000,2021-02-25 16:32:46.000000000,,[],"[{'number': 1, 'created': '2021-02-25 16:19:38.000000000', 'files': ['openstack/tests/unit/block_storage/v3/test_host_extension.py', 'openstack/block_storage/v3/host_extension.py', 'openstack/block_storage/v3/test_host_extension.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/85ccbb6a534de6345f7f15349139d8bc5aada662', 'message': 'This is the Host Extension Resource, for capstone.\n\nAdding change, to try to succeed in Zuul tests.\nChange-Id: I68956431b804ab8d464d530e3ffd7c5f7776eb42\n\nChange-Id: I4c87c420b263843a76d8a0d7a17141a35e63b3af\n'}]",0,777617,85ccbb6a534de6345f7f15349139d8bc5aada662,2,0,1,33037,,,0,"This is the Host Extension Resource, for capstone.

Adding change, to try to succeed in Zuul tests.
Change-Id: I68956431b804ab8d464d530e3ffd7c5f7776eb42

Change-Id: I4c87c420b263843a76d8a0d7a17141a35e63b3af
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/17/777617/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v3/test_host_extension.py', 'openstack/block_storage/v3/host_extension.py', 'openstack/block_storage/v3/test_host_extension.py']",3,85ccbb6a534de6345f7f15349139d8bc5aada662,alex_capstone,"from openstack.block_storage.v3 import host_extension as he from openstack.tests.unit import base HOST_EXTENSION = { ""hosts"": [{ ""service-status"": ""available"", ""service"": ""cinder-backup"", ""zone"": ""nova"", ""service-state"": ""enabled"", ""host_name"": ""node1"", ""last-update"": ""2017-03-09T21:38:41.000000"" }] } class TestHostExtension(base.TestCase): def test_basic(self): he_resource = he.HostExtension() self.assertEqual('host_extension', he_resource.resource_key) self.assertEqual('host_extensions', he_resource.resources_key) self.assertEqual('/host_extension', he_resource.base_path) self.assertTrue(he_resource.allow_fetch) self.assertTrue(he_resource.allow_list) def test_make_resource_filter(self): he_resource = he.HostExtension(**HOST_EXTENSION) self.assertEqual(HOST_EXTENSION[""service-status""], he_resource.service_status) self.assertEqual(HOST_EXTENSION[""servicE""], he_resource.service) self.assertEqual(HOST_EXTENSION[""zone""], he_resource.zone) self.assertEqual(HOST_EXTENSION[""service-state""], he_resource.service_state) self.assertEqual(HOST_EXTENSION[""host_name""], he_resource.host_name) self.assertEqual(HOST_EXTENSION[""last-update""], he_resource.last_update) ",,115,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,openstack/openstack-ansible,stable/victoria,Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4,Add reno about barbican_simple_crypto_key,MERGED,2021-02-16 15:19:22.000000000,2021-02-25 16:29:09.000000000,2021-02-25 16:27:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-16 15:19:22.000000000', 'files': ['releasenotes/notes/barbican_simple_kek-17c81aac3282c707.yaml', 'scripts/upgrade-utilities/deploy-config-changes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88272b4ae077d42d540d51c13ddfc1ba4357208e', 'message': 'Add reno about barbican_simple_crypto_key\n\nThis also adds upgrade step not to change behaviour for already deployed\nenvironments with hardcoded kek.\n\nChange-Id: Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4\n'}]",0,775856,88272b4ae077d42d540d51c13ddfc1ba4357208e,26,3,1,28619,,,0,"Add reno about barbican_simple_crypto_key

This also adds upgrade step not to change behaviour for already deployed
environments with hardcoded kek.

Change-Id: Ie03282ca277ccea7af3e6d116a3cac7bcf4cdbe4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/775856/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican_simple_kek-17c81aac3282c707.yaml', 'scripts/upgrade-utilities/deploy-config-changes.yml']",2,88272b4ae077d42d540d51c13ddfc1ba4357208e,," - name: Define Barbican simple crypto key lineinfile: dest: ""{{ openstack_config_dir }}/user_secrets.yml"" regexp: ""^barbican_simple_crypto_key"" line: ""barbican_simple_crypto_key: {{ barbican_simple_crypto_key | default('abcdefghijklmnopqrstuvwxyz123456') }}"" when: - not (user_secrets.stdout | regex_search('((^|\n)barbican_simple_crypto_key)')) tags: - update-secrets ",,25,0
openstack%2Fopenstack-helm-infra~master~I90d4d279a96cd298eba03e9c0b05a8f2a752e746,openstack/openstack-helm-infra,master,I90d4d279a96cd298eba03e9c0b05a8f2a752e746,[ceph-client] enhance logic to enable the autoscaler for Octopus,MERGED,2021-01-15 20:33:59.000000000,2021-02-25 16:23:46.000000000,2021-02-22 17:35:27.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32222}]","[{'number': 1, 'created': '2021-01-15 20:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00f0c264a73aa6d0f77064bc3fce32f4c9c8dbe7', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 2, 'created': '2021-01-19 15:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fdf8eb08422067b8a8c7db31cbba5f5d3ba0e1ed', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 3, 'created': '2021-01-21 20:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bce9c167f3511537f938ebfc0b2f90651d80ffd', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 4, 'created': '2021-01-21 20:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91219d24284c7a89af79b1908ca42c8650866be8', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 5, 'created': '2021-01-21 21:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13260ef6c36f7a566b5649cee83c8323170fc582', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 6, 'created': '2021-01-21 21:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/638e1d7bbd0892df18d218dff47e73a40a07877d', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 7, 'created': '2021-01-21 22:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/86bf7ad46f91e3f0d25e504fd3e6132383f7638e', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 8, 'created': '2021-01-25 15:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc455880e2b440a600d80c548934c93a9f0b62dd', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 9, 'created': '2021-01-25 15:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/712bc11fdd12eaf35edb029a9ba56b449a3910bf', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 10, 'created': '2021-02-10 04:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a87e6b9c5ba0684a4c52a1427a208f07c9cfdfc5', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 11, 'created': '2021-02-10 04:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5475eeb54a8834efc55dd1db51e5a82ce1490cbb', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 12, 'created': '2021-02-12 17:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65e8d4f5b108ad9857ee139a1e87214913c4f846', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 13, 'created': '2021-02-12 17:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a93a3356ddb9350dfc81c530820fa70bad95401e', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 14, 'created': '2021-02-12 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/507ea0a696b26c66234ec1a5ff780deecbba38d5', 'message': '[ceph-client] enhance logic to enable the autoscaler\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 15, 'created': '2021-02-12 18:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd6a77c8f020f12171ad761c8eb81b95ff4638f4', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 16, 'created': '2021-02-12 18:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9dcd537ae86903c04dc2b9c66796bf0ef665493f', 'message': '[ceph-client] enhance logic to enable the pg autoscaler \n\nThe pg autoscaler is being enabled for\nNautilus and above (e.g., Octopus) releases.\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 17, 'created': '2021-02-12 18:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b65a5c9870e0d889b7b16206ef90b4d7ee0f8af', 'message': '[ceph-client] enhance logic to enable the pg autoscaler \n\nThe pg autoscaler is being enabled for\nNautilus and above (e.g., Octopus) releases.\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 18, 'created': '2021-02-12 18:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fae012f0a195d474592ed5bec0868681f31a23ac', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 19, 'created': '2021-02-12 19:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84a606063c8183b6ea3d8055bfacaac0c3eba129', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 20, 'created': '2021-02-18 21:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/30e8080a0bc01e791a218d2f9133f5db29a5d6e5', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 21, 'created': '2021-02-18 21:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de3ecbac2f7bd336031c03da2a4d46f7a84ff7e7', 'message': '[ceph-client] enhance logic to enable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}, {'number': 22, 'created': '2021-02-19 21:04:21.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl', 'ceph-client/templates/job-rbd-pool.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/910ed906d0df247f826ad527211bc86382e16eaa', 'message': '[ceph-client] enhance logic to enable the autoscaler for Octopus\n\nChange-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746\n'}]",1,771078,910ed906d0df247f826ad527211bc86382e16eaa,55,8,22,18511,,,0,"[ceph-client] enhance logic to enable the autoscaler for Octopus

Change-Id: I90d4d279a96cd298eba03e9c0b05a8f2a752e746
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/771078/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml']",2,00f0c264a73aa6d0f77064bc3fce32f4c9c8dbe7,,version: 0.1.4,version: 0.1.3,19,7
openstack%2Fglance~master~I4946c25375f1dc54d8f550f21c97bdf5b3005877,openstack/glance,master,I4946c25375f1dc54d8f550f21c97bdf5b3005877,Expand tasks database table to add more columns,MERGED,2020-11-23 06:25:12.000000000,2021-02-25 16:12:27.000000000,2021-02-25 16:10:32.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-23 06:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5ecbf13b128247771e9760e4a537d067e13d6a39', 'message': '[PoC] Discovery API for Task\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n'}, {'number': 2, 'created': '2020-12-14 07:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab7ebbd053e25a8883b3d8c8ec7d426c00e54970', 'message': '[PoC] Discovery API for Task\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n'}, {'number': 3, 'created': '2020-12-18 06:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8e15402cf89bb9fed3cf534a1ac30a8b67ca76b5', 'message': '[PoC] New API to get task information from image\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n'}, {'number': 4, 'created': '2021-02-04 10:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ed25106392df4143433ff7d2c4ffade163502392', 'message': '[PoC] New API to get task information from image\n\nDone:\nAdded image_id, request_id, user fields to tasks table\nSame will be inserted in Db while creating new tasks\nFixed failing tests\n\nToDo:\nNew API to show task information to the user\nAdd new unit tests\nDocumentation\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n'}, {'number': 5, 'created': '2021-02-09 07:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a02d3e603e94e7c9dbf4a107cc99cb3d7e36263f', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 6, 'created': '2021-02-09 07:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e16fc7b7314cd0e039c788c1283e5c3e1be50a1b', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 7, 'created': '2021-02-09 09:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a17f9dbbc15f95389b91d7c78f3b1f88463ecdc', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\n\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 8, 'created': '2021-02-10 07:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/52415fca1208f6dfad5a28eb831ddddc02021087', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 9, 'created': '2021-02-12 13:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b436b67e991c05d2ff84911fc6143e9c812032fa', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user_id' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 10, 'created': '2021-02-15 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fa9e8decbd4d6173810bee5136e7f1e563e3271a', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user_id' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 11, 'created': '2021-02-19 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1d86dad737e2872a1c4372f7b39c0127c0772ff7', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user_id' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}, {'number': 12, 'created': '2021-02-24 06:00:03.000000000', 'files': ['glance/db/sqlalchemy/alembic_migrations/versions/wallaby_contract01_empty.py', 'glance/tests/functional/db/migrations/test_wallaby_expand01.py', 'glance/db/migration.py', 'glance/db/sqlalchemy/models.py', 'glance/db/sqlalchemy/alembic_migrations/versions/wallaby_expand01_add_user_imageid_requestid_to_tasks.py', 'glance/db/sqlalchemy/alembic_migrations/data_migrations/wallaby_migrate01_empty.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/6f20983ff8a916839a7ce95eaa822c36981c4223', 'message': ""Expand tasks database table to add more columns\n\nAdded 3 new columns 'image_id', 'request_id' and 'user_id' to task\ntable. This is a base patch for adding new API to show task\ninformation to the user.\n\nPartially-Implements: blueprint messages-api\nChange-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877\n""}]",6,763739,6f20983ff8a916839a7ce95eaa822c36981c4223,80,7,12,9303,,,0,"Expand tasks database table to add more columns

Added 3 new columns 'image_id', 'request_id' and 'user_id' to task
table. This is a base patch for adding new API to show task
information to the user.

Partially-Implements: blueprint messages-api
Change-Id: I4946c25375f1dc54d8f550f21c97bdf5b3005877
",git fetch https://review.opendev.org/openstack/glance refs/changes/39/763739/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/router.py', 'glance/db/sqlalchemy/api.py', 'glance/api/v2/discovery.py']",3,5ecbf13b128247771e9760e4a537d067e13d6a39,bump-image-api-version,"from oslo_utils import uuidutilsfrom glance.common import exceptionimport glance.db def __init__(self, db_api=None): self.db_api = db_api or glance.db.get_api() def get_task_info(self, req, task_id): if not uuidutils.is_uuid_like(task_id): msg = _('Invalid task id') raise webob.exc.HTTPBadRequest(explanation=msg) try: task = self.db_api.task_get(req.context, task_id) except exception.TaskNotFound as e: raise webob.exc.HTTPNotFound(explanation=e.msg) return {""task"": task} ",,50,12
openstack%2Fironic~master~Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,openstack/ironic,master,Ib431c3507cb4bdbd9ba30b58e30b078e855e7754,[trivial] fix typos in conductor,MERGED,2021-02-23 16:35:34.000000000,2021-02-25 16:08:41.000000000,2021-02-25 16:06:47.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 16:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4c336cfc2ba4059ec2f390b36bc263ab0657b24', 'message': '[trivial] fix typos in conductor\n\nChange-Id: Ib431c3507cb4bdbd9ba30b58e30b078e855e7754\n'}, {'number': 2, 'created': '2021-02-23 16:55:00.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5b5356d603deb4775eca99108a1be8238c08e20', 'message': '[trivial] fix typos in conductor\n\nChange-Id: Ib431c3507cb4bdbd9ba30b58e30b078e855e7754\n'}]",1,777162,d5b5356d603deb4775eca99108a1be8238c08e20,30,3,2,23851,,,0,"[trivial] fix typos in conductor

Change-Id: Ib431c3507cb4bdbd9ba30b58e30b078e855e7754
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/777162/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/conductor/utils.py']",2,b4c336cfc2ba4059ec2f390b36bc263ab0657b24,fix-typos, :param token: A token value to validate against the driver_internal_info field agent_secret_token. :param password: password to be hashed, :token: A token value to validate against the driver_internal_info field agent_sercret_token. :param value: Value to be hashed,4,4
openstack%2Fgovernance~master~Ic1b797bb4284b89b4812df0302cb52cdc0487550,openstack/governance,master,Ic1b797bb4284b89b4812df0302cb52cdc0487550,monasca-log-api & monasca-ceilometer does not make releases,MERGED,2021-01-21 10:37:04.000000000,2021-02-25 16:07:36.000000000,2021-02-25 16:05:59.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-01-21 10:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/1dd3e38ac9e9980f8f869aa7260890b5b4ef43f2', 'message': 'monasca-log-api & monasca-ceilometer does not make releases\n\nThese projects have been deprecated [1][2] and the monasca team is ok to stop\nto release them [3].\n\nSet the release-management key so that it gets properly ignored by the release\nmanagement team.\n\n[1] https://review.opendev.org/c/openstack/monasca-ceilometer/+/720319\n[2] https://review.opendev.org/c/openstack/monasca-log-api/+/704519\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019892.html\n\nChange-Id: Ic1b797bb4284b89b4812df0302cb52cdc0487550\n'}, {'number': 2, 'created': '2021-02-23 19:09:12.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/f32804bb19f2181e02602030b92d633d45f8f3c3', 'message': 'monasca-log-api & monasca-ceilometer does not make releases\n\nThese projects have been deprecated [1][2] and the monasca team is ok to stop\nto release them [3].\n\nSet the release-management key so that it gets properly ignored by the release\nmanagement team.\n\n[1] https://review.opendev.org/c/openstack/monasca-ceilometer/+/720319\n[2] https://review.opendev.org/c/openstack/monasca-log-api/+/704519\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019892.html\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/777095\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/777093\n\nChange-Id: Ic1b797bb4284b89b4812df0302cb52cdc0487550\n'}]",0,771785,f32804bb19f2181e02602030b92d633d45f8f3c3,16,4,2,28522,,,0,"monasca-log-api & monasca-ceilometer does not make releases

These projects have been deprecated [1][2] and the monasca team is ok to stop
to release them [3].

Set the release-management key so that it gets properly ignored by the release
management team.

[1] https://review.opendev.org/c/openstack/monasca-ceilometer/+/720319
[2] https://review.opendev.org/c/openstack/monasca-log-api/+/704519
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019892.html

Depends-On: https://review.opendev.org/c/openstack/project-config/+/777095
Depends-On: https://review.opendev.org/c/openstack/project-config/+/777093

Change-Id: Ic1b797bb4284b89b4812df0302cb52cdc0487550
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/771785/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1dd3e38ac9e9980f8f869aa7260890b5b4ef43f2,project-update, release-management: none release-management: none,,2,0
openstack%2Fneutron~stable%2Fvictoria~I63221507713b941c261cdf88781133149da8ab8d,openstack/neutron,stable/victoria,I63221507713b941c261cdf88781133149da8ab8d,"Don't configure dnsmasq entries for ""network"" ports",MERGED,2021-02-23 20:09:29.000000000,2021-02-25 16:01:00.000000000,2021-02-25 15:59:07.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:09:29.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1239ac5023d45b0f6b541815ecb255ba0078af1f', 'message': 'Don\'t configure dnsmasq entries for ""network"" ports\n\nPorts with device_owner like:\n* floating_ip,\n* DHCP,\n* some types of router ports, like: HA interface interface,\n* distributed ports,\ndon\'t need to be configured in the dnsmasq file.\nSo there is no need to reload dnsmasq every time when such port is\nadded/updated to the network.\n\nThis patch adds skip in such case which should improve load on the\nNeutron DHCP agent.\n\nCloses-Bug: #1913269\nChange-Id: I63221507713b941c261cdf88781133149da8ab8d\n(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)\n'}]",0,777120,1239ac5023d45b0f6b541815ecb255ba0078af1f,15,4,1,11975,,,0,"Don't configure dnsmasq entries for ""network"" ports

Ports with device_owner like:
* floating_ip,
* DHCP,
* some types of router ports, like: HA interface interface,
* distributed ports,
don't need to be configured in the dnsmasq file.
So there is no need to reload dnsmasq every time when such port is
added/updated to the network.

This patch adds skip in such case which should improve load on the
Neutron DHCP agent.

Closes-Bug: #1913269
Change-Id: I63221507713b941c261cdf88781133149da8ab8d
(cherry picked from commit e4bbeee2060058d079885339e99ef7e6e366de16)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/777120/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'releasenotes/notes/do-not-create-dhcp-entries-for-all-types-of-ports-39c03b3782d2753e.yaml']",4,1239ac5023d45b0f6b541815ecb255ba0078af1f,bug/1913269-stable/victoria,"--- other: - | To improve performance of the DHCP agent, it will no longer configure the DHCP server for every port type created in Neutron. For example, for floating IP or router HA interfaces there is no need since a client will not make a DHCP request for them ",,46,0
openstack%2Fnetworking-bgpvpn~master~I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,openstack/networking-bgpvpn,master,I4d015cfe8b97e0fc1259d47c89f4b0704accb61c,Imported Translations from Zanata,MERGED,2020-12-13 07:20:49.000000000,2021-02-25 15:59:39.000000000,2021-02-25 15:58:22.000000000,"[{'_account_id': 8313}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-13 07:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3dadfb090d29547e6cc4266162a5948227599a93', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4d015cfe8b97e0fc1259d47c89f4b0704accb61c\n'}, {'number': 2, 'created': '2021-02-24 07:18:34.000000000', 'files': ['bgpvpn_dashboard/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/05f14532b5fbc12236633d3e3594f8e3b3fdb8fd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4d015cfe8b97e0fc1259d47c89f4b0704accb61c\n'}]",0,766853,05f14532b5fbc12236633d3e3594f8e3b3fdb8fd,11,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4d015cfe8b97e0fc1259d47c89f4b0704accb61c
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/53/766853/1 && git format-patch -1 --stdout FETCH_HEAD,['bgpvpn_dashboard/locale/en_GB/LC_MESSAGES/django.po'],1,3dadfb090d29547e6cc4266162a5948227599a93,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2020. #zanata""POT-Creation-Date: 2020-11-16 15:05+0000\n""""PO-Revision-Date: 2020-12-13 12:45+0000\n""msgid ""Associate a BGPVPN to a Network"" msgstr ""Associate a BGPVPN to a Network"" msgid ""Association ID"" msgstr ""Association ID"" msgid ""Choose a network"" msgstr ""Choose a network"" msgid ""Create Network Association"" msgstr ""Create Network Association"" msgid ""Create Router Association"" msgstr ""Create Router Association"" msgid ""Delete Router Association"" msgid_plural ""Delete Router Associations"" msgstr[0] ""Delete Router Association"" msgstr[1] ""Delete Router Associations"" msgid ""Deleted Network Association"" msgid_plural ""Deleted Network Associations"" msgstr[0] ""Deleted Network Association"" msgstr[1] ""Deleted Network Associations"" msgid ""Deleted Router Association"" msgid_plural ""Deleted Router Associations"" msgstr[0] ""Deleted Router Association"" msgstr[1] ""Deleted Router Associations"" msgid ""Failed to delete Network Association %s"" msgstr ""Failed to delete Network Association %s"" #, python-format msgid ""Failed to delete Router Association %s"" msgstr ""Failed to delete Router Association %s"" #, python-formatmsgid ""Network"" msgstr ""Network"" msgid ""Network associations list can not be retrieved."" msgstr ""Network associations list can not be retrieved."" msgid ""No network"" msgstr ""No network"" msgid ""None"" msgstr ""None"" msgid ""Overview"" msgstr ""Overview"" msgid ""Router"" msgstr ""Router"" msgid ""Router associations list can not be retrieved."" msgstr ""Router associations list can not be retrieved."" #, python-format msgid ""Unable to associate network \""%s\""."" msgstr ""Unable to associate network \""%s\""."" msgid ""Unable to retrieve Router Association details."" msgstr ""Unable to retrieve Router Association details."" msgid ""Unable to retrieve network association details."" msgstr ""Unable to retrieve network association details."" msgid ""Unable to retrieve network details."" msgstr ""Unable to retrieve network details."" msgid ""Unable to retrieve networks."" msgstr ""Unable to retrieve networks."" msgid ""Unable to retrieve router association details."" msgstr ""Unable to retrieve router association details."" msgid ""Unable to retrieve router details."" msgstr ""Unable to retrieve router details."" msgid ""Update"" msgstr ""Update"" msgid ""Update BGPVPN Router Association"" msgstr ""Update BGPVPN Router Association"" msgid ""Update BGPVPN Router Associations"" msgstr ""Update BGPVPN Router Associations"" msgid ""Update Router Association"" msgstr ""Update Router Association"" ","""POT-Creation-Date: 2019-12-05 06:33+0000\n""""PO-Revision-Date: 2019-12-21 02:47+0000\n""",96,2
openstack%2Freleases~master~I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,openstack/releases,master,I8f26fb5655ef1cd280b243cadbb7b49d596e7d51,Optional list of changes in commit message for auto release,MERGED,2021-02-04 11:36:11.000000000,2021-02-25 15:52:18.000000000,2021-02-25 15:52:18.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-04 11:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b70baf372e4dd1a5e0b77f3ffc70b3ea73dc700a', 'message': 'WIP: Append change list at the end of the commit message\n\nChange-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51\n'}, {'number': 2, 'created': '2021-02-24 19:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd2a639424ae4f37d7c55876ce11aa2e260d49f5', 'message': 'Optional list of changes in commit message for auto release\n\nWhen generating release patches with process_auto_releases.sh it could\nbe useful to have the list of changes in the commit message of the\nrelease patch. This patch adds an extra question for that.\n\nChange-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51\n'}, {'number': 3, 'created': '2021-02-25 10:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/335c3f91355112467c1aaa1b0e32e7638a67107f', 'message': 'Optional list of changes in commit message for auto release\n\nWhen generating release patches with process_auto_releases.sh it could\nbe useful to have the list of changes in the commit message of the\nrelease patch. This patch adds an extra question for that.\n\nChange-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51\n'}, {'number': 4, 'created': '2021-02-25 10:54:13.000000000', 'files': ['tools/process_auto_releases.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/b293ca4bcbf95b9a85ecf9a4c786371ec9aa3e71', 'message': 'Optional list of changes in commit message for auto release\n\nWhen generating release patches with process_auto_releases.sh it could\nbe useful to have the list of changes in the commit message of the\nrelease patch. This patch adds an extra question for that.\n\nChange-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51\n'}]",0,774071,b293ca4bcbf95b9a85ecf9a4c786371ec9aa3e71,21,4,4,17685,,,0,"Optional list of changes in commit message for auto release

When generating release patches with process_auto_releases.sh it could
be useful to have the list of changes in the commit message of the
release patch. This patch adds an extra question for that.

Change-Id: I8f26fb5655ef1cd280b243cadbb7b49d596e7d51
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/774071/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/process_auto_releases.sh'],1,b70baf372e4dd1a5e0b77f3ffc70b3ea73dc700a,," change_list="" $ git log --oneline --no-merges ${prev_tag}..HEAD $(git log --oneline --no-merges ${prev_tag}..HEAD) "" message=""${commit//PROJECT/$repo}${change_list}""", message=${commit//PROJECT/$repo},6,1
openstack%2Fopenstack-helm~master~I834b125333cbd0b8162b49a162a6a5d10d69c573,openstack/openstack-helm,master,I834b125333cbd0b8162b49a162a6a5d10d69c573,DNM - Update index.rst,ABANDONED,2021-02-22 19:36:47.000000000,2021-02-25 15:40:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-22 19:36:47.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d4e971fa1c1a1998bceb9d15455598f686cbaf2', 'message': 'DNM - Update index.rst\n\nChange-Id: I834b125333cbd0b8162b49a162a6a5d10d69c573\n'}]",0,776990,9d4e971fa1c1a1998bceb9d15455598f686cbaf2,4,2,1,21420,,,0,"DNM - Update index.rst

Change-Id: I834b125333cbd0b8162b49a162a6a5d10d69c573
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/776990/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,9d4e971fa1c1a1998bceb9d15455598f686cbaf2,fix-reno, current , current,2,1
openstack%2Fmonasca-api~stable%2Fvictoria~I6ec395aa12968a0e9bf51ed168582218f8d75f01,openstack/monasca-api,stable/victoria,I6ec395aa12968a0e9bf51ed168582218f8d75f01,Fix publish docker image job,ABANDONED,2021-02-17 21:32:30.000000000,2021-02-25 15:14:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-17 21:32:30.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/21a8b42516f79c607c7695533bebcbeaa8e2eb1a', 'message': 'Fix publish docker image job\n\nChange-Id: I6ec395aa12968a0e9bf51ed168582218f8d75f01\n'}]",0,776277,21a8b42516f79c607c7695533bebcbeaa8e2eb1a,5,1,1,26141,,,0,"Fix publish docker image job

Change-Id: I6ec395aa12968a0e9bf51ed168582218f8d75f01
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/77/776277/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,21a8b42516f79c607c7695533bebcbeaa8e2eb1a,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria'}}"""," shell: ""docker push monasca/api""",1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I36fc4650e8481024ad985408b7ac5652acf26ec4,openstack/python-tripleoclient,stable/train,I36fc4650e8481024ad985408b7ac5652acf26ec4,Fix the get_deployment_status call,MERGED,2021-01-25 18:16:43.000000000,2021-02-25 15:14:24.000000000,2021-02-25 15:12:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32231}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-25 18:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/49589d6d44742e0747eeafa84b95550dfbe26928', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 2, 'created': '2021-01-27 06:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/49c737343960a852a51b515235314588c48260ef', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 3, 'created': '2021-01-28 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19636360c5cdb88d733b3e1846ff2c327f2bdd0b', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 4, 'created': '2021-01-28 09:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9664bafe5d55dc9c8fc3fdcd6d9f2fc593482277', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 5, 'created': '2021-02-01 10:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62a494d8d6c10203b32794bccd263b5c7c3ebf54', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 6, 'created': '2021-02-01 11:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df827653073d93d5edcdc37d11fe6ab43eaf4fa0', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 7, 'created': '2021-02-09 13:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3dad5d24fbe3d965b16aaa3eaeee6d7a42e1cc0', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}, {'number': 8, 'created': '2021-02-25 07:15:06.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/018a3fe53049e685286ecfc8924582f101cc6958', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)\n(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)\n""}]",2,772417,018a3fe53049e685286ecfc8924582f101cc6958,21,7,8,11491,,,0,"Fix the get_deployment_status call

The get_deployment_status function waits for a keyworded,
variable-length argument dictionary. This patch fixes that issue by
adding the right keyword for 'plan'.

This patch also adds a space in the output string in order to be
well-formatted.

Change-Id: I36fc4650e8481024ad985408b7ac5652acf26ec4
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c246e80bfa3e03a242517783e142b14e5d10c28c)
(cherry picked from commit c54ed778b52b17e63d4a9b72d6a58c28d18ad991)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/772417/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,49589d6d44742e0747eeafa84b95550dfbe26928,train-rhbz1912879," status = deployment.get_deployment_status(clients, plan=plan) ""in 'failed' or 'deploying' state. """," status = deployment.get_deployment_status(clients, plan) ""in 'failed' or 'deploying' state.""",2,2
openstack%2Fmanila~master~I4e02aed316f68d89e7651cea8feaa3a366024145,openstack/manila,master,I4e02aed316f68d89e7651cea8feaa3a366024145,DNM - Testing add/update sec service with Netapp,NEW,2021-02-12 20:41:58.000000000,2021-02-25 14:49:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 20:41:58.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/a40c115e13b5de74d154940646887ec178a984ef', 'message': 'DNM - Testing add/update sec service with Netapp\n\nThis patch tests the feature add/update sec service\nfor NetApp driver.\n\nDepends-On: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b\nDepends-On: I8c1b882f9c4fe40a14d50a4ebb7a40ff5c94bb46\nChange-Id: I4e02aed316f68d89e7651cea8feaa3a366024145\n'}]",0,775446,a40c115e13b5de74d154940646887ec178a984ef,15,1,1,30998,,,0,"DNM - Testing add/update sec service with Netapp

This patch tests the feature add/update sec service
for NetApp driver.

Depends-On: I8556e4e2e05deb9b116eacbd5afe2f7c5d77b44b
Depends-On: I8c1b882f9c4fe40a14d50a4ebb7a40ff5c94bb46
Change-Id: I4e02aed316f68d89e7651cea8feaa3a366024145
",git fetch https://review.opendev.org/openstack/manila refs/changes/46/775446/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,a40c115e13b5de74d154940646887ec178a984ef,,,,0,0
openstack%2Fpython-manilaclient~master~I04265d6bdf84038670a3188a99cd2d639ad62cfe,openstack/python-manilaclient,master,I04265d6bdf84038670a3188a99cd2d639ad62cfe,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance",MERGED,2021-02-01 09:05:58.000000000,2021-02-25 14:37:56.000000000,2021-02-25 14:36:10.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-02-01 09:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/60bc89d9581c3d51ed37ddd39e9eb87895ff5dbf', 'message': 'Add ""--wait"" option for force-deleting a share/snapshot/share-instance\n\nChange-Id: I39afab6c844972a1c97c15055dbc1f07ed90a68b\n\nCloses-Bug: #1898317\nChange-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe\n'}, {'number': 2, 'created': '2021-02-07 08:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8d565d4ff6296c1d071d23ede8073ce713afe4f7', 'message': 'Add ""--wait"" option for force-deleting a share/snapshot/share-instance\n\nChange-Id: I39afab6c844972a1c97c15055dbc1f07ed90a68b\n\nPartial-Bug: #1898317\nChange-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe\n'}, {'number': 3, 'created': '2021-02-08 06:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4e03a7700388679ad49b2ea72916d5396831e822', 'message': 'Add ""--wait"" option for force-deleting a share/snapshot/share-instance\n\nChange-Id: I39afab6c844972a1c97c15055dbc1f07ed90a68b\n\nPartial-Bug: #1898317\nChange-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe\n'}, {'number': 4, 'created': '2021-02-22 07:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bb08fbd42623468c9fdb303881e5c56c972f909f', 'message': 'Add ""--wait"" option for force-deleting a share/snapshot/share-instance\n\nChange-Id: I39afab6c844972a1c97c15055dbc1f07ed90a68b\n\nCloses-Bug: #1898317\nChange-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe\n'}, {'number': 5, 'created': '2021-02-24 08:44:23.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-1898317-add-wait-option-for-force-deleting-share-snapshot-share-instance-fb2531b6033f0ae5.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b5b8bdbb9874304f91d29894e2b3c57b53345f82', 'message': 'Add ""--wait"" option for force-deleting a share/snapshot/share-instance\n\nCloses-Bug: #1898317\nChange-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe\n'}]",11,773313,b5b8bdbb9874304f91d29894e2b3c57b53345f82,25,4,5,32493,,,0,"Add ""--wait"" option for force-deleting a share/snapshot/share-instance

Closes-Bug: #1898317
Change-Id: I04265d6bdf84038670a3188a99cd2d639ad62cfe
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/13/773313/4 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py']",2,60bc89d9581c3d51ed37ddd39e9eb87895ff5dbf,bug/1898317,"@cliutils.arg( '--wait', action='store_true', help='Wait for share to delete') @cliutils.service_type('sharev2') shares_to_delete = [] share_ref = _find_share(cs, share) shares_to_delete.append(share_ref) share_ref.force_delete() if args.wait: for share in shares_to_delete: try: _wait_for_share_status(cs, share, expected_status='deleted') except exceptions.CommandError as e: print(e, file=sys.stderr)@cliutils.arg( '--wait', action='store_true', help='Wait for share instance deletion') @cliutils.service_type('sharev2') instances_to_delete = [] instance_ref = _find_share_instance(cs, instance) instances_to_delete.append(instance_ref) instance_ref.force_delete() if args.wait: for instance in instances_to_delete: try: _wait_for_resource_status( cs, instance, expected_status='deleted') except exceptions.CommandError as e: print(e, file=sys.stderr)@cliutils.arg( '--wait', action='store_true', help='Wait for snapshot to delete') @cliutils.service_type('sharev2') snapshots_to_delete = [] snapshots_to_delete.append(snapshot_ref) if args.wait: for snapshot in snapshots_to_delete: try: snapshot_ref = _wait_for_share_status( cs, snapshot, expected_status='deleted') except exceptions.CommandError as e: print(e, file=sys.stderr)"," _find_share(cs, share).force_delete() _find_share_instance(cs, instance).force_delete()",71,2
openstack%2Fneutron~master~Icebe0255ce11eae859c05a273335b027da3f1545,openstack/neutron,master,Icebe0255ce11eae859c05a273335b027da3f1545,Use normalized_cidr of the SG in the backen drivers,MERGED,2021-02-22 22:15:27.000000000,2021-02-25 14:15:25.000000000,2021-02-25 14:13:25.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 22:15:27.000000000', 'files': ['neutron/db/securitygroups_rpc_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bfe143d838193ccdc547f60c1e69ebac3cbd4fb', 'message': 'Use normalized_cidr of the SG in the backen drivers\n\nPatch [1] introduced new, read only field ""normalized_cidr"" in\nthe security groups\' rules.\nWith this patch this new field is send as source or\ndestination_ip_prefix field in the rule\'s dict in case if\nremote_ip_prefix and normalized_cidr are set in the rule.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/749158\n\nRelated-Bug: #1869129\nChange-Id: Icebe0255ce11eae859c05a273335b027da3f1545\n'}]",0,777015,2bfe143d838193ccdc547f60c1e69ebac3cbd4fb,34,4,1,11975,,,0,"Use normalized_cidr of the SG in the backen drivers

Patch [1] introduced new, read only field ""normalized_cidr"" in
the security groups' rules.
With this patch this new field is send as source or
destination_ip_prefix field in the rule's dict in case if
remote_ip_prefix and normalized_cidr are set in the rule.

[1] https://review.opendev.org/c/openstack/neutron/+/749158

Related-Bug: #1869129
Change-Id: Icebe0255ce11eae859c05a273335b027da3f1545
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/777015/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_rpc_base.py'],1,2bfe143d838193ccdc547f60c1e69ebac3cbd4fb,bug/1869129, normalized_cidr = rule_in_db.get('normalized_cidr') rule_dict[direction_ip_prefix] = ( normalized_cidr or rule_in_db[key]) normalized_cidr = rule_in_db.get('normalized_cidr') rule_dict[direction_ip_prefix] = ( normalized_cidr or rule_in_db[key]), rule_dict[direction_ip_prefix] = rule_in_db[key] rule_dict[direction_ip_prefix] = rule_in_db[key],6,2
openstack%2Fopenstack-ansible-repo_server~master~I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,openstack/openstack-ansible-repo_server,master,I3e48000a4685d4df46cd60113ce4c0c02b63dc0c,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:24:17.000000000,2021-02-25 13:42:14.000000000,2021-02-25 13:40:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:24:17.000000000', 'files': ['tasks/main.yml', 'tasks/repo_install.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'templates/lsyncd.defaults.j2', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/aab7090e4d7a3bc5947166931a23aa0639d188fc', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I3e48000a4685d4df46cd60113ce4c0c02b63dc0c\n'}]",0,777073,aab7090e4d7a3bc5947166931a23aa0639d188fc,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I3e48000a4685d4df46cd60113ce4c0c02b63dc0c
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/73/777073/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/repo_install.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'templates/lsyncd.defaults.j2', 'handlers/main.yml', 'defaults/main.yml', 'meta/main.yml']",8,aab7090e4d7a3bc5947166931a23aa0639d188fc,osa-facts, - ansible_facts['pkg_mgr'] == 'apt', - ansible_pkg_mgr == 'apt',20,20
openstack%2Ftripleo-ansible~stable%2Ftrain~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/train,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:48:18.000000000,2021-02-25 13:40:18.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}]","[{'number': 1, 'created': '2021-02-25 10:48:18.000000000', 'files': ['tripleo_ansible/roles/tripleo-bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f75ebf1e8a7603c1a0c4e5b742d361266e8b4b2', 'message': 'Also bootstrap python3-paunch\n\nDeployed servers expect to have paunch tooling installing\n\nChange-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7acc23d978dc50be1b3a238124bb1867c20ac1d2)\n'}]",0,777566,8f75ebf1e8a7603c1a0c4e5b742d361266e8b4b2,3,3,1,6926,,,0,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7acc23d978dc50be1b3a238124bb1867c20ac1d2)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/777566/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-bootstrap/vars/fedora-28.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-bootstrap/vars/redhat-8.yml']",3,8f75ebf1e8a7603c1a0c4e5b742d361266e8b4b2,, - python3-paunch,,3,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,openstack/tripleo-ansible,stable/ussuri,I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39,Also bootstrap python3-paunch,ABANDONED,2021-02-25 10:47:30.000000000,2021-02-25 13:39:56.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-25 10:47:30.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7acc23d978dc50be1b3a238124bb1867c20ac1d2', 'message': 'Also bootstrap python3-paunch\n\nDeployed servers expect to have paunch tooling installing\n\nChange-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,777565,7acc23d978dc50be1b3a238124bb1867c20ac1d2,4,4,1,6926,,,0,"Also bootstrap python3-paunch

Deployed servers expect to have paunch tooling installing

Change-Id: I2bfa43529c1bcd6f20da4daa4248c0e12bcb5d39
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/777565/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_bootstrap/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_bootstrap/vars/fedora-28.yml']",3,7acc23d978dc50be1b3a238124bb1867c20ac1d2,, - python3-paunch,,3,0
openstack%2Fvalidations-libs~master~Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,openstack/validations-libs,master,Iaa8ca89654804b9e6e5806dedcf867dce34b2a57,Add the path of the file in the error message.,ABANDONED,2021-02-19 10:55:05.000000000,2021-02-25 13:33:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-19 10:55:05.000000000', 'files': ['validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/82b137e9fb18811e434005f88a9f2e47bdcd7ac2', 'message': 'Add the path of the file in the error message.\n\nImprove the error message. Add the path of the playbook.\n\nChange-Id: Iaa8ca89654804b9e6e5806dedcf867dce34b2a57\n'}]",0,776602,82b137e9fb18811e434005f88a9f2e47bdcd7ac2,3,1,1,31245,,,0,"Add the path of the file in the error message.

Improve the error message. Add the path of the playbook.

Change-Id: Iaa8ca89654804b9e6e5806dedcf867dce34b2a57
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/02/776602/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/utils.py'],1,82b137e9fb18811e434005f88a9f2e47bdcd7ac2,improve_message_error_parse_all_validations_on_disk, msg = f'Group not found in playbook {pl}' \ ' - please add appropriate group', msg = 'Group not found in playbook - please add appropriate group',2,1
openstack%2Ftripleo-validations~master~I97cde165794afa4aea61da969c7b1bf4608a9f8a,openstack/tripleo-validations,master,I97cde165794afa4aea61da969c7b1bf4608a9f8a,Set a group.,ABANDONED,2021-02-22 07:35:47.000000000,2021-02-25 13:32:25.000000000,,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-22 07:35:47.000000000', 'files': ['playbooks/ceph-pg.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3b2d1669a563474f40b566420058eb322f2b0b3d', 'message': 'Set a group.\n\nSet a group for ceph-pg. Use the pre-ceph for this validation.\n\nChange-Id: I97cde165794afa4aea61da969c7b1bf4608a9f8a\n'}]",0,776874,3b2d1669a563474f40b566420058eb322f2b0b3d,9,9,1,31245,,,0,"Set a group.

Set a group for ceph-pg. Use the pre-ceph for this validation.

Change-Id: I97cde165794afa4aea61da969c7b1bf4608a9f8a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/74/776874/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-pg.yaml'],1,3b2d1669a563474f40b566420058eb322f2b0b3d,use_groups, groups: - pre-ceph, groups: [],2,1
openstack%2Fansible-role-systemd_networkd~master~I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,openstack/ansible-role-systemd_networkd,master,I36a098e4b028bdf09b38e2f2c99f68f311ce9d32,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:29:34.000000000,2021-02-25 13:31:59.000000000,2021-02-25 13:30:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 16:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1ed3bdefb9a8639a7df26ef3d1360cdd24f9e979', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 2, 'created': '2021-02-22 23:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/14e7b0d21509ce45b4e44fb58ec90237a5095439', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 3, 'created': '2021-02-23 07:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/82e30f48a2cf7c47ebd5eeba50702269ac71cb81', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 4, 'created': '2021-02-23 14:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/aa08669e7eab0ad0ff188dcbd51421e7dcd676ce', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 5, 'created': '2021-02-23 22:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/34f500664b0d1b9168239b7cf04f00d50e0daba2', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 6, 'created': '2021-02-24 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/5cb3ff541318670b655c68f6b5d64ce46d8f49c9', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}, {'number': 7, 'created': '2021-02-24 14:26:44.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/63ad4cffacd48f430ca1a9b5bd5fc03ed9f4581e', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32\n'}]",0,776955,63ad4cffacd48f430ca1a9b5bd5fc03ed9f4581e,26,3,7,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I36a098e4b028bdf09b38e2f2c99f68f311ce9d32
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/55/776955/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml', 'tests/test.yml']",3,1ed3bdefb9a8639a7df26ef3d1360cdd24f9e979,osa-facts," gateway: ""{{ ansible_facts['default_ipv4.gateway | default('10.0.0.1') }}"" - ansible_facts['dummy0'].active - ansible_facts['dummy0'].type == 'ether' - ansible_facts['dummy0'].mtu == 9000 - ansible_facts['dummy1'].active - ansible_facts['dummy1'].type == 'ether' - ansible_facts['dummy1'].mtu == 9000 - ansible_facts['dummy2'].active - ansible_facts['dummy2'].type == 'ether' - ansible_facts['dummy2'].mtu == 9000 - ansible_facts['bond0'].active - ansible_facts['bond0'].type == 'bonding' - ansible_facts['bond0'].mtu == 9000 - ansible_facts['br_dummy'].active - ansible_facts['br_dummy'].type == 'bridge' - ansible_facts['br_dummy'].address == '10.0.0.100' - ansible_facts['br_dummy'].netmask == '255.255.255.0' - ansible_facts['br_test'].active - ansible_facts['br_test'].type == 'bridge' - ansible_facts['br_test'].ipv4.address == '10.1.0.1' - ansible_facts['br_test'].ipv4.netmask == '255.255.255.0' - ansible_facts['br_test'] is defined - ansible_facts['dummy2'].active - ansible_facts['dummy2'].type == 'ether' - ansible_facts['br_test'].active - ansible_facts['br_test'].type == 'bridge' - ansible_facts['br_test'].ipv4.address == '10.1.0.1' - ansible_facts['br_test'].ipv4.netmask == '255.255.255.0'"," gateway: ""{{ ansible_default_ipv4.gateway | default('10.0.0.1') }}"" - ansible_dummy0['active'] - ansible_dummy0['type'] == 'ether' - ansible_dummy0['mtu'] == 9000 - ansible_dummy1['active'] - ansible_dummy1['type'] == 'ether' - ansible_dummy1['mtu'] == 9000 - ansible_dummy2['active'] - ansible_dummy2['type'] == 'ether' - ansible_bond0['active'] - ansible_bond0['type'] == 'bonding' - ansible_bond0['mtu'] == 9000 - ansible_br_dummy['active'] - ansible_br_dummy['type'] == 'bridge' - ansible_br_dummy['ipv4']['address'] == '10.0.0.100' - ansible_br_dummy['ipv4']['netmask'] == '255.255.255.0' - ansible_br_test['active'] - ansible_br_test['type'] == 'bridge' - ansible_br_test['ipv4']['address'] == '10.1.0.1' - ansible_br_test['ipv4']['netmask'] == '255.255.255.0' - ansible_br_test is defined - ansible_dummy2['active'] - ansible_dummy2['type'] == 'ether' - ansible_br_test['active'] - ansible_br_test['type'] == 'bridge' - ansible_br_test['ipv4']['address'] == '10.1.0.1' - ansible_br_test['ipv4']['netmask'] == '255.255.255.0'",52,51
openstack%2Ftripleo-validations~master~I4eb7508c24cce0db3179d4f3ef26cabceb164716,openstack/tripleo-validations,master,I4eb7508c24cce0db3179d4f3ef26cabceb164716,Optionally fail ceph-health if HEALTH_WARN,MERGED,2021-02-15 15:44:35.000000000,2021-02-25 13:28:57.000000000,2021-02-25 13:28:57.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-15 15:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c71106d26b0b1dbf8adc23d776cbc5371e40e3a0', 'message': 'Optionally fail ceph-health if HEALTH_WARN\n\nHelps controlling the behavior of the ceph-health check for it to\nfail, optionally, not only when cluster is in _ERR state but also\nin _WARN state.\n\nChange-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716\nRelated-Bug: 1915700\n'}, {'number': 2, 'created': '2021-02-15 15:53:16.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/67560d36c06860dc827ef8356f1023f42facdbec', 'message': 'Optionally fail ceph-health if HEALTH_WARN\n\nHelps controlling the behavior of the ceph-health check for it to\nfail, optionally, not only when cluster is in _ERR state but also\nin _WARN state.\n\nChange-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716\nRelated-Bug: 1915700\n'}]",1,775669,67560d36c06860dc827ef8356f1023f42facdbec,9,3,2,6796,,,0,"Optionally fail ceph-health if HEALTH_WARN

Helps controlling the behavior of the ceph-health check for it to
fail, optionally, not only when cluster is in _ERR state but also
in _WARN state.

Change-Id: I4eb7508c24cce0db3179d4f3ef26cabceb164716
Related-Bug: 1915700
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/775669/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ceph/tasks/ceph-health.yaml', 'roles/ceph/defaults/main.yml']",2,c71106d26b0b1dbf8adc23d776cbc5371e40e3a0,,fail_on_ceph_health_warn: false,,3,2
openstack%2Fneutron~master~I528eb847ee956d1939abe2cb9e32450a4e271999,openstack/neutron,master,I528eb847ee956d1939abe2cb9e32450a4e271999,[doc]Replace ovn-controller man page url,MERGED,2021-02-25 02:08:37.000000000,2021-02-25 13:19:27.000000000,2021-02-25 13:15:18.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 02:08:37.000000000', 'files': ['doc/source/admin/ovn/sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/809cb5129e215e5cbb2dfa882bbab448ce16e295', 'message': '[doc]Replace ovn-controller man page url\n\novn-controller man page has moved to [1]\n\n[1] http://www.ovn.org/support/dist-docs/ovn-controller.8.html\n\nChange-Id: I528eb847ee956d1939abe2cb9e32450a4e271999\n'}]",0,777493,809cb5129e215e5cbb2dfa882bbab448ce16e295,7,2,1,30380,,,0,"[doc]Replace ovn-controller man page url

ovn-controller man page has moved to [1]

[1] http://www.ovn.org/support/dist-docs/ovn-controller.8.html

Change-Id: I528eb847ee956d1939abe2cb9e32450a4e271999
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/777493/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/ovn/sriov.rst'],1,809cb5129e215e5cbb2dfa882bbab448ce16e295,,<http://www.ovn.org/support/dist-docs/ovn-controller.8.html>`_.,<http://www.openvswitch.org/support/dist-docs/ovn-controller.8.html>`_.,1,1
openstack%2Fopenstack-ansible-memcached_server~master~I8c5d46a9d612b6800b6dde37a324e2357cf99217,openstack/openstack-ansible-memcached_server,master,I8c5d46a9d612b6800b6dde37a324e2357cf99217,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:21:30.000000000,2021-02-25 13:17:46.000000000,2021-02-25 13:15:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:21:30.000000000', 'files': ['tasks/main.yml', 'tasks/memcached_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/b53e30cdacfaa193b167da9fa1772c30a0963e3a', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: I8c5d46a9d612b6800b6dde37a324e2357cf99217\n'}]",0,777069,b53e30cdacfaa193b167da9fa1772c30a0963e3a,9,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: I8c5d46a9d612b6800b6dde37a324e2357cf99217
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/69/777069/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/memcached_install.yml', 'defaults/main.yml']",3,b53e30cdacfaa193b167da9fa1772c30a0963e3a,osa-facts,"memcached_disable_privatedevices: ""{{ ansible_facts['pkg_mgr'] == 'yum' }}""base_memcached_memory: ""{{ ansible_facts['memtotal_mb'] | default(4096) }}""","memcached_disable_privatedevices: ""{{ ansible_pkg_mgr == 'yum' }}""base_memcached_memory: ""{{ ansible_memtotal_mb | default(4096) }}""",9,9
openstack%2Fneutron~master~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,master,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-02-24 12:39:13.000000000,2021-02-25 13:17:13.000000000,2021-02-25 13:14:49.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 12:39:13.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdf1416958f79e8076397fcbf2fbbc920f964b37', 'message': 'Remove redundant _ensure_default_security_group\n\n_ensure_default_security_group() is done in\n_ensure_default_security_group_handler [1] on each port BEFORE_CREATE\nevent. No need to ensure once again right after sending this event.\n\n[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894\n\nTrivialFix\n\nChange-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6\n'}]",0,777376,bdf1416958f79e8076397fcbf2fbbc920f964b37,13,4,1,5948,,,0,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/777376/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,bdf1416958f79e8076397fcbf2fbbc920f964b37,def_sg_opt,," # NOTE(kevinbenton): triggered outside of transaction since it # emits 'AFTER' events if it creates. self._ensure_default_security_group(context, attrs['tenant_id'])",0,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,openstack/openstack-ansible-rabbitmq_server,master,Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e,Use ansible_facts[] instead of fact variables,MERGED,2021-02-23 09:23:20.000000000,2021-02-25 13:17:08.000000000,2021-02-25 13:14:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-23 09:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/a0b0ef8b2fd3fe78d0fec4489ac3dd35e2525e7f', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e\n'}, {'number': 2, 'created': '2021-02-23 12:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/50dc7cd4f6648ce69c1ea5038112b4cec937e5b9', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e\n'}, {'number': 3, 'created': '2021-02-24 10:25:13.000000000', 'files': ['tasks/main.yml', 'tasks/rabbitmq_started.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_post_install.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml', 'templates/rabbitmq-env.j2', 'defaults/main.yml', 'tasks/rabbitmq_cluster.yml', 'vars/redhat.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tasks/rabbitmq_stopped.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b8fc8721133157d958344147a7d99f0f6cc8e559', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e\n'}]",0,777071,b8fc8721133157d958344147a7d99f0f6cc8e559,13,3,3,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ia6dac13c7e2206f4a86ef8e21c5b1cd80eb16e0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/71/777071/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/rabbitmq_started.yml', 'tasks/rabbitmq_install.yml', 'tasks/rabbitmq_post_install.yml', 'vars/ubuntu-20.04.yml', 'vars/debian.yml', 'templates/rabbitmq-env.j2', 'defaults/main.yml', 'tasks/rabbitmq_cluster.yml', 'vars/redhat.yml', 'tasks/rabbitmq_upgrade_check.yml', 'tasks/rabbitmq_stopped.yml']",12,a0b0ef8b2fd3fe78d0fec4489ac3dd35e2525e7f,osa-facts, - ansible_facts['hostname'] != rabbitmq_primary_cluster_node - ansible_facts['hostname'] == rabbitmq_primary_cluster_node, - ansible_hostname != rabbitmq_primary_cluster_node - ansible_hostname == rabbitmq_primary_cluster_node,36,36
openstack%2Fansible-role-uwsgi~master~Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,openstack/ansible-role-uwsgi,master,Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71,Use ansible_facts[] instead of fact variables,MERGED,2021-02-24 14:23:40.000000000,2021-02-25 13:06:19.000000000,2021-02-25 13:04:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-24 14:23:40.000000000', 'files': ['tasks/main.yml', 'templates/uwsgi.ini.j2', 'tasks/uwsgi_install.yml', 'vars/redhat.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/15f24d11f34bfab6c4170de5b1b2c65363794dc5', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71\n'}]",0,777386,15f24d11f34bfab6c4170de5b1b2c65363794dc5,8,3,1,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: Ibadca3bdce6d7adf51ddce9591a0d404e38d5e71
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/86/777386/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/uwsgi.ini.j2', 'tasks/uwsgi_install.yml', 'vars/redhat.yml', 'defaults/main.yml']",5,15f24d11f34bfab6c4170de5b1b2c65363794dc5,osa-facts,"# uwsgi_processes: [ansible_facts['processor_vcpus'] | default(1), 1] | max * 2","# uwsgi_processes: [ansible_processor_vcpus | default(1), 1] | max * 2",12,12
openstack%2Foctavia-tempest-plugin~master~I14ab0f8b159fdd0c7e81b94297a57f30260579fa,openstack/octavia-tempest-plugin,master,I14ab0f8b159fdd0c7e81b94297a57f30260579fa,Remove Stein CI jobs,MERGED,2021-02-23 07:47:28.000000000,2021-02-25 12:41:00.000000000,2021-02-25 12:35:42.000000000,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}]","[{'number': 1, 'created': '2021-02-23 07:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f1f1bec4fae08ca74ba6258ce9dca6c8533e46df', 'message': 'Remove Stein CI jobs\n\nStein release of Octavia has reached end-of-life (EOL) support [1].\nThe stable/stein Octavia branch no longer accepts changes.\nWe can now remove the Stein CI jobs.\n\n[1] https://review.opendev.org/c/openstack/releases/+/772847\n\nChange-Id: I14ab0f8b159fdd0c7e81b94297a57f30260579fa\n'}, {'number': 2, 'created': '2021-02-24 14:02:10.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/972385b91cc196b520bd6b43b55b956e680d7451', 'message': 'Remove Stein CI jobs\n\nStein release of Octavia has reached end-of-life (EOL) support [1].\nThe stable/stein Octavia branch no longer accepts changes.\nWe can now remove the Stein CI jobs.\n\n[1] https://review.opendev.org/c/openstack/releases/+/772847\n\nChange-Id: I14ab0f8b159fdd0c7e81b94297a57f30260579fa\n'}]",0,777055,972385b91cc196b520bd6b43b55b956e680d7451,19,5,2,6469,,,0,"Remove Stein CI jobs

Stein release of Octavia has reached end-of-life (EOL) support [1].
The stable/stein Octavia branch no longer accepts changes.
We can now remove the Stein CI jobs.

[1] https://review.opendev.org/c/openstack/releases/+/772847

Change-Id: I14ab0f8b159fdd0c7e81b94297a57f30260579fa
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/55/777055/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,f1f1bec4fae08ca74ba6258ce9dca6c8533e46df,,," name: octavia-v2-dsvm-noop-api-stable-stein parent: octavia-v2-dsvm-noop-api override-checkout: stable/stein - job:- job: name: octavia-v2-dsvm-scenario-stable-stein parent: octavia-v2-dsvm-scenario override-checkout: stable/stein required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 vars: devstack_local_conf: test-config: ""$TEMPEST_CONFIG"": loadbalancer-feature-enabled: log_offload_enabled: False name: octavia-v2-dsvm-tls-barbican-stable-stein parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/stein required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 - job: name: octavia-v2-dsvm-spare-pool-stable-stein parent: octavia-v2-dsvm-spare-pool override-checkout: stable/stein required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 - job:- job: name: octavia-v2-act-stdby-dsvm-scenario-stable-stein parent: octavia-v2-act-stdby-dsvm-scenario override-checkout: stable/stein required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 ",0,53
openstack%2Fopenstack-ansible-lxc_container_create~master~If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,openstack/openstack-ansible-lxc_container_create,master,If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93,Use ansible_facts[] instead of fact variables,MERGED,2021-02-22 16:44:52.000000000,2021-02-25 12:16:46.000000000,2021-02-25 12:15:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 16:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9017b780b03c30070f41d77d49b8e98b93fb83df', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 2, 'created': '2021-02-23 09:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/cf128e726b873a7f7edadd8c0b1a398494c51cc0', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 3, 'created': '2021-02-23 10:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/0bebbe46677008b0f53257a6edd57a28dcf13f50', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 4, 'created': '2021-02-23 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/0f01b2ec55aa4b7ff415284e830c16c28c541476', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 5, 'created': '2021-02-23 14:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/c3416da4eb2965017960c20415a0216b8fcee136', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 6, 'created': '2021-02-23 14:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/782c218978addcef1c5882858a30a6716c6d7653', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 7, 'created': '2021-02-23 18:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/24c2b3563db96b874d23f44d4396177e5046120e', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}, {'number': 8, 'created': '2021-02-24 14:19:18.000000000', 'files': ['tasks/main.yml', 'vars/ubuntu.yml', 'tests/test-create-btrfs-dev.yml', 'vars/debian.yml', 'vars/gentoo.yml', 'defaults/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/5d22a389c257f189a6a8ab42973e8c142df08169', 'message': 'Use ansible_facts[] instead of fact variables\n\nSee https://github.com/ansible/ansible/issues/73654\n\nChange-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93\n'}]",3,776958,5d22a389c257f189a6a8ab42973e8c142df08169,25,3,8,25023,,,0,"Use ansible_facts[] instead of fact variables

See https://github.com/ansible/ansible/issues/73654

Change-Id: If6b30e40bf71f60ee72fdc1459ce5e5a9f4f7d93
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/58/776958/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'vars/gentoo.yml', 'defaults/main.yml', 'vars/suse.yml']",6,9017b780b03c30070f41d77d49b8e98b93fb83df,osa-facts," release: ""{{ hostvars[physical_host].ansible_facts['distribution_version'] }}"""," release: ""{{ hostvars[physical_host]['ansible_distribution_version'] }}""",13,28
openstack%2Fneutron~stable%2Fvictoria~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,stable/victoria,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,ABANDONED,2021-02-25 12:09:08.000000000,2021-02-25 12:11:37.000000000,,[],"[{'number': 1, 'created': '2021-02-25 12:09:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/24a3be3d83ebfc2cbe2349b6a54a44881ee317c6', 'message': '[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated\n\nWhen an floating IP is dissasociated from an internal port, the QoS\nrule in the OVN database should be removed too. This patch adds a\nQoS extension call to delete the QoS rules in OVN in this case.\n\nChange-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5\nCloses-Bug: #1916470\n(cherry picked from commit 3398e6abc098a0dd8d0b441a729201adb9d96eca)\n'}]",0,777580,24a3be3d83ebfc2cbe2349b6a54a44881ee317c6,2,0,1,16688,,,0,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
(cherry picked from commit 3398e6abc098a0dd8d0b441a729201adb9d96eca)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/777580/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,24a3be3d83ebfc2cbe2349b6a54a44881ee317c6,bug/1916470," 'fixed_ip_address': '10.0.0.10', 'floating_network_id': 'net1'}, 'fixed_ip_address': '10.0.0.11', 'floating_network_id': 'net2'}]"," 'fixed_ip_address': '10.0.0.10'}, 'fixed_ip_address': '10.0.0.11'}]",12,5
openstack%2Fneutron~stable%2Ftrain~Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,openstack/neutron,stable/train,Ib73babdd563e3e8c21ce6f63456cc87af414c5aa,Don't try to create default SG when security groups are disabled,MERGED,2021-02-08 10:32:57.000000000,2021-02-25 11:37:10.000000000,2021-02-25 11:34:53.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-08 10:32:57.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1800d122437b3ec1f33c54777eaf930c39abdae3', 'message': ""Don't try to create default SG when security groups are disabled\n\nIf security group API is disabled, there is no point to create default\nsecurity group for tenant when e.g. network is created.\n\nCloses-Bug: #1913297\nChange-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa\n(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)\n""}]",0,774406,1800d122437b3ec1f33c54777eaf930c39abdae3,14,5,1,11975,,,0,"Don't try to create default SG when security groups are disabled

If security group API is disabled, there is no point to create default
security group for tenant when e.g. network is created.

Closes-Bug: #1913297
Change-Id: Ib73babdd563e3e8c21ce6f63456cc87af414c5aa
(cherry picked from commit 013c183d7c1a16d07f5acae9e29b157b0ffd8fae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/774406/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,1800d122437b3ec1f33c54777eaf930c39abdae3,bug/1913297-stable/victoria-stable/ussuri-stable/train," is_ext_supported = mock.patch( 'neutron_lib.api.extensions.is_extension_supported') self.is_ext_supported = is_ext_supported.start() self.is_ext_supported.return_value = True def test__ensure_default_security_group_when_disabled(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: self.is_ext_supported.return_value = False self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_not_called()",,19,1
openstack%2Frequirements~master~I6840ab2d2fde1d719018f8c2ac64282f17cdec40,openstack/requirements,master,I6840ab2d2fde1d719018f8c2ac64282f17cdec40,update mock to 4.0.3,MERGED,2021-02-22 17:07:08.000000000,2021-02-25 11:36:49.000000000,2021-02-25 11:35:10.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 17:07:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1d008e5bd17580b7a803ea4908a42185565a0775', 'message': 'update mock to 4.0.3\n\nChange-Id: I6840ab2d2fde1d719018f8c2ac64282f17cdec40\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,776967,1d008e5bd17580b7a803ea4908a42185565a0775,20,3,1,14288,,,0,"update mock to 4.0.3

Change-Id: I6840ab2d2fde1d719018f8c2ac64282f17cdec40
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/776967/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1d008e5bd17580b7a803ea4908a42185565a0775,mock-4.0.3,mock===4.0.3,mock===3.0.5,1,1
openstack%2Fopenstack-helm-images~master~I536b5468e6b90a7368d74b05e02212788ee6e13c,openstack/openstack-helm-images,master,I536b5468e6b90a7368d74b05e02212788ee6e13c,Added CentOS libvirt images,MERGED,2020-10-10 15:01:37.000000000,2021-02-25 11:35:57.000000000,2021-02-25 11:30:19.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2020-10-10 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0eb9cc96f4d89fbcc268598598c6ba77a1f659a', 'message': 'Added CentOS libvirt images\n\nChange-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c\n'}, {'number': 2, 'created': '2020-10-11 15:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1ff3ce74a9fc72546d20e75c5e025e59c29927dd', 'message': 'Added CentOS libvirt images\n\nChange-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c\n'}, {'number': 3, 'created': '2020-10-11 15:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1221d27885fa609644c5b4f5b4bf1be8a7710508', 'message': 'Added CentOS libvirt images\n\nChange-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c\n'}, {'number': 4, 'created': '2020-10-14 14:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/736bc112aeb29de752e059a2c6efdb50ad7fa16d', 'message': 'Added CentOS libvirt images\n\nChange-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c\n'}, {'number': 5, 'created': '2020-11-07 22:03:52.000000000', 'files': ['zuul.d/libvirt.yaml', 'libvirt/Dockerfile.centos_7'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ca3474eb33ed0cb1e758c9cbc4ae58c5bcefc4b7', 'message': 'Added CentOS libvirt images\n\nChange-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c\n'}]",1,757292,ca3474eb33ed0cb1e758c9cbc4ae58c5bcefc4b7,23,6,5,1004,,,0,"Added CentOS libvirt images

Change-Id: I536b5468e6b90a7368d74b05e02212788ee6e13c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/92/757292/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libvirt.yaml', 'libvirt/Dockerfile.centos_7']",2,d0eb9cc96f4d89fbcc268598598c6ba77a1f659a,add-libvirt-centos,"ARG FROM=docker.io/centos:7 FROM ${FROM} LABEL maintainer=""mnaser@vexxhost.com"" ARG CEPH_RELEASE=nautilus ARG PROJECT=nova ARG UID=42424 ARG GID=42424 RUN set -ex ; \ yum -y install centos-release-qemu-ev centos-release-ceph-${CEPH_RELEASE} ;\ yum -y install libvirt qemu-kvm-ev ;\ groupadd -g ${GID} ${PROJECT} ;\ useradd -u ${UID} -g ${PROJECT} -M -d /var/lib/${PROJECT} -s /usr/sbin/nologin -c ""${PROJECT} user"" ${PROJECT} ;\ mkdir -p /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ chown ${PROJECT}:${PROJECT} /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ usermod -a -G kvm ${PROJECT} ;\ yum clean all ;\ rm -rf /var/cache/yum",,25,0
openstack%2Fneutron~master~I00794e9c6403bbe528ea398b981e54d41d53b5a5,openstack/neutron,master,I00794e9c6403bbe528ea398b981e54d41d53b5a5,[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated,MERGED,2021-02-22 10:46:28.000000000,2021-02-25 11:27:21.000000000,2021-02-25 11:25:28.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-02-22 10:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed05003596ecd8382741d6d72bcd62a209f0aab0', 'message': '[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated\n\nWhen an floating IP is dissasociated from an internal port, the QoS\nrule in the OVN database should be removed too. This patch adds a\nQoS extension call to delete the QoS rules in OVN in this case.\n\nChange-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5\nCloses-Bug: #1916470\n'}, {'number': 2, 'created': '2021-02-23 08:55:18.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3398e6abc098a0dd8d0b441a729201adb9d96eca', 'message': '[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated\n\nWhen an floating IP is dissasociated from an internal port, the QoS\nrule in the OVN database should be removed too. This patch adds a\nQoS extension call to delete the QoS rules in OVN in this case.\n\nChange-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5\nCloses-Bug: #1916470\n'}]",5,776916,3398e6abc098a0dd8d0b441a729201adb9d96eca,29,5,2,16688,,,0,"[OVN][QoS] Remove OVN QoS rule when FIP is dissasociated

When an floating IP is dissasociated from an internal port, the QoS
rule in the OVN database should be removed too. This patch adds a
QoS extension call to delete the QoS rules in OVN in this case.

Change-Id: I00794e9c6403bbe528ea398b981e54d41d53b5a5
Closes-Bug: #1916470
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/776916/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/ovn_l3/plugin.py']",2,ed05003596ecd8382741d6d72bcd62a209f0aab0,bug/1916470," update_fip = { 'id': fip['id'], 'logical_ip': fixed_ip_address, 'external_ip': fip['floating_ip_address'], 'floating_network_id': fip['floating_network_id']}"," update_fip = {'logical_ip': fixed_ip_address, 'external_ip': fip['floating_ip_address']}",8,3
openstack%2Foslo.config~master~I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,openstack/oslo.config,master,I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55,Remove six,ABANDONED,2021-01-02 02:28:46.000000000,2021-02-25 11:24:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-02 02:28:46.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/1e87842f7b5577d001b97a14399b0d15783fdb70', 'message': 'Remove six\n\nChange-Id: I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55\n'}]",0,768842,1e87842f7b5577d001b97a14399b0d15783fdb70,8,2,1,30092,,,0,"Remove six

Change-Id: I7e608aa7c076c9dea4d4b3e89f4efcbf3bb00a55
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/42/768842/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1e87842f7b5577d001b97a14399b0d15783fdb70,,,six==1.15.0,0,1
openstack%2Fnova~master~I45f1df4935905170957c2ea2496c8a698a7464a2,openstack/nova,master,I45f1df4935905170957c2ea2496c8a698a7464a2,libvirt: add IP address to libvirt guest metadata,MERGED,2020-09-09 03:24:20.000000000,2021-02-25 11:17:14.000000000,2021-02-25 11:14:45.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31652}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-09 03:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c25a12ac1bb23ee1a1fb97ae0340689f5f1b1f3', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nWe can get the IP address of the guest in the compute node without\ncommunicating with APIs. So, this change helps system administrators\nin troubleshooting network-related problems on compute nodes.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    <nova:ip type=""fixed"" address=""100.72.28.44""/>\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-domain-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 2, 'created': '2020-09-10 04:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65efb29c65b3f04e54ea52ea10c3923541a420f4', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nWe can get the IP address of the guest in the compute node without\ncommunicating with APIs. So, this change helps system administrators\nin troubleshooting network-related problems on compute nodes.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    <nova:ip type=""fixed"" address=""100.72.28.44""/>\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-domain-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 3, 'created': '2020-09-14 02:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18da7568e0189b82ae78b15e491e97cbec6ea031', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nWe can get the IP address of the guest in the compute node without\ncommunicating with APIs. So, this change helps system administrators\nin troubleshooting network-related problems on compute nodes.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    <nova:ip type=""fixed"" address=""100.72.28.44""/>\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 4, 'created': '2020-11-26 02:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f56104f06da23144b1ceb9bd301aad78a6bb5c', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nWe can get the IP address of the guest in the compute node without\ncommunicating with APIs. So, this change helps system administrators\nin troubleshooting network-related problems on compute nodes.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    <nova:ports>\n      <nova:port uuid=""915a0bc7-79f0-4f5a-a7a3-0cc3086d909f"">\n        <nova:ip type=""fixed"" address=""10.0.0.62""/>\n        <nova:ip type=""fixed"" address=""fd67:1726:49e7:0:f816:3eff:fe27:d93d""/>\n      </nova:port>\n    </nova:ports>\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 5, 'created': '2020-12-04 04:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443be51f82d104019b714deabb10f9c05213f91d', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nWe can get the IP address of the guest in the compute node without\ncommunicating with APIs. So, this change helps system administrators\nin troubleshooting network-related problems on compute nodes.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n      <nova:port uuid=""a3ca97e2-0cf9-4159-9bfc-afd55bc13ead"">\n        <nova:ip type=""fixed"" address=""10.0.0.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fdf8:f53b:82e4::52"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""1.2.3.4"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 6, 'created': '2020-12-07 07:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8dba9c8f3d402fb19ce9cd3283c3787ec381f94', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nLibvirt XML contains useful configuration information such as instance names,\nflavors and images as metadata. This change extends this metadata to include\nthe IP addresses of the instances.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.0"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 7, 'created': '2020-12-10 10:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b9c9b71700ce631a63a78bd10162e44549c426', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nLibvirt XML contains useful configuration information such as instance names,\nflavors and images as metadata. This change extends this metadata to include\nthe IP addresses of the instances.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 8, 'created': '2021-01-26 08:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e461a3bf919bdf1a2e3b446ca4b5d7bb6d60882', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nLibvirt XML contains useful configuration information such as instance names,\nflavors and images as metadata. This change extends this metadata to include\nthe IP addresses of the instances.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 9, 'created': '2021-02-08 03:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50a5b1c46008b027a8e819412e867e10d0fd96c', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nLibvirt XML contains useful configuration information such as instance names,\nflavors and images as metadata. This change extends this metadata to include\nthe IP addresses of the instances.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}, {'number': 10, 'created': '2021-02-18 07:07:37.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bp-libvirt-driver-ip-metadata-8754c623dbd13126.yaml', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/838370a49014351051bbef2d1c2ada1f47ac2bfb', 'message': 'libvirt: add IP address to libvirt guest metadata\n\nLibvirt XML contains useful configuration information such as instance names,\nflavors and images as metadata. This change extends this metadata to include\nthe IP addresses of the instances.\n\nExample:\n<metadata>\n  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">\n    ...\n    <nova:ports>\n      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">\n        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>\n        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>\n        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>\n      </nova:port>\n    </nova:ports>\n    ...\n  </nova:instance>\n</metadata>\n\nChange-Id: I45f1df4935905170957c2ea2496c8a698a7464a2\nblueprint: libvirt-driver-ip-metadata\nSigned-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>\n'}]",30,750552,838370a49014351051bbef2d1c2ada1f47ac2bfb,132,16,10,31652,,,0,"libvirt: add IP address to libvirt guest metadata

Libvirt XML contains useful configuration information such as instance names,
flavors and images as metadata. This change extends this metadata to include
the IP addresses of the instances.

Example:
<metadata>
  <nova:instance xmlns:nova=""http://openstack.org/xmlns/libvirt/nova/1.1"">
    ...
    <nova:ports>
      <nova:port uuid=""567a4527-b0e4-4d0a-bcc2-71fda37897f7"">
        <nova:ip type=""fixed"" address=""192.168.1.1"" ipVersion=""4""/>
        <nova:ip type=""fixed"" address=""fe80::f95c:b030:7094"" ipVersion=""6""/>
        <nova:ip type=""floating"" address=""11.22.33.44"" ipVersion=""4""/>
      </nova:port>
    </nova:ports>
    ...
  </nova:instance>
</metadata>

Change-Id: I45f1df4935905170957c2ea2496c8a698a7464a2
blueprint: libvirt-driver-ip-metadata
Signed-off-by: Nobuhiro MIKI <nmiki@yahoo-corp.jp>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/750552/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",3,8c25a12ac1bb23ee1a1fb97ae0340689f5f1b1f3,bp/libvirt-driver-ip-metadata," ip = config.LibvirtConfigGuestMetaNovaIp() ip.ip_address = ""192.168.1.1"" ip.type = ""fixed"" meta.ips.append(ip) <nova:ip type=""fixed"" address=""192.168.1.1""/>",,41,2
openstack%2Fswift~master~I9de032d309befea2ff8b752797947b9fc3ed8698,openstack/swift,master,I9de032d309befea2ff8b752797947b9fc3ed8698,DNM: verify zuul cors test fails,ABANDONED,2021-02-24 15:31:10.000000000,2021-02-25 11:08:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 15:31:10.000000000', 'files': ['swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2dcba3c1cc339cb5a94552cda9d6eaf6e4e9b283', 'message': 'DNM: verify zuul cors test fails\n\nDeliberately breaks cors to verify that the zuul job fails.\n\nChange-Id: I9de032d309befea2ff8b752797947b9fc3ed8698\n'}]",0,777405,2dcba3c1cc339cb5a94552cda9d6eaf6e4e9b283,4,1,1,7847,,,0,"DNM: verify zuul cors test fails

Deliberately breaks cors to verify that the zuul job fails.

Change-Id: I9de032d309befea2ff8b752797947b9fc3ed8698
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/777405/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/base.py'],1,2dcba3c1cc339cb5a94552cda9d6eaf6e4e9b283,cors, # for header in resp.headers: # if header.startswith('X-Container-Meta') or \ # header.startswith('X-Object-Meta'): # expose_headers.add(header.lower()), for header in resp.headers: if header.startswith('X-Container-Meta') or \ header.startswith('X-Object-Meta'): expose_headers.add(header.lower()),4,4
openstack%2Ftacker~master~Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,openstack/tacker,master,Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39,Fix FT error for legacy anti-affinity test,MERGED,2021-02-24 02:36:34.000000000,2021-02-25 11:00:03.000000000,2021-02-25 10:54:50.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27880}, {'_account_id': 31821}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-02-24 02:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dfd24963e6c717bb929665365cf0b817e2f52e66', 'message': 'DNM: Fix FT error for legacy anti-affinity test\n\nIn the following patch, I solved the FT error by removing\n""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but\nafter merging the patches, the error is become to occur in the\nanti-affinity test in the legacy FT.\n[1] https://review.opendev.org/c/openstack/tacker/+/775958\n\nBecause anti-affinity may not work well in a multi-cell environment\nwith nova installed [2].\n[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e\n\nAnd db dependency error that occurred when setting single cell have\nbeen resolved by merging the following patches of devstack [3].\n[3] https://review.opendev.org/c/openstack/devstack/+/775940\n\nSo, this patch set config `CELLSV2_SETUP: singleconductor` in\n.zuul.yaml for resolve error of legacy anti-affinity test.\n\nChange-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39\n'}, {'number': 2, 'created': '2021-02-24 07:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f17bb00b25e4ba93d73fed22a996a83fc5527439', 'message': 'DNM: Fix FT error for legacy anti-affinity test\n\nIn the following patch, FT error was solved by removing\n""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but\nafter merging the patches, other error is become to occur in the\nanti-affinity test in the legacy FT.\n[1] https://review.opendev.org/c/openstack/tacker/+/775958\n\nBecause, anti-affinity may not work well in a environment with nova\ninstalled as multi-cell [2].\n[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e\n\nAnd db dependency error that occurred when setting single cell before\nhave been resolved by merging the following patches of devstack [3].\n[3] https://review.opendev.org/c/openstack/devstack/+/775940\n\nTherefore, this patch revert `CELLSV2_SETUP: singleconductor` in\n.zuul.yaml to resolve error of legacy anti-affinity test.\n\nChange-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39\n'}, {'number': 3, 'created': '2021-02-24 07:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9b56c75cea5bc985b7692b4c5a103e1d3f726658', 'message': 'DNM: Fix FT error for legacy anti-affinity test\n\nIn the following patch [1], FT error was solved by removing\n""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but\nafter merging the patch, other error is become to occur in the\nanti-affinity test in the legacy FT.\n[1] https://review.opendev.org/c/openstack/tacker/+/775958\n\nBecause, anti-affinity may not work well in a environment with nova\ninstalled as multi-cell [2].\n[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e\n\nAnd db dependency error that occurred when setting single cell before\nhave been resolved by merging the following patches of devstack [3].\n[3] https://review.opendev.org/c/openstack/devstack/+/775940\n\nTherefore, this patch revert `CELLSV2_SETUP: singleconductor` in\n.zuul.yaml to resolve error of legacy anti-affinity test.\n\nChange-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39\n'}, {'number': 4, 'created': '2021-02-24 10:03:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/811d47f0c06035f66fd7679dbe6ae19fc44c6d89', 'message': 'Fix FT error for legacy anti-affinity test\n\nIn the following patch [1], FT error was solved by removing\n""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but\nafter merging the patch, other error is become to occur in the\nanti-affinity test in the legacy FT.\n[1] https://review.opendev.org/c/openstack/tacker/+/775958\n\nBecause, anti-affinity may not work well in a environment with nova\ninstalled as multi-cell [2].\n[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e\n\nAnd db dependency error that occurred when setting single cell before\nhave been resolved by merging the following patches of devstack [3].\n[3] https://review.opendev.org/c/openstack/devstack/+/775940\n\nTherefore, this patch revert `CELLSV2_SETUP: singleconductor` in\n"".zuul.yaml"" to resolve error of legacy anti-affinity test.\n\nChange-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39\n'}]",0,777275,811d47f0c06035f66fd7679dbe6ae19fc44c6d89,22,7,4,31857,,,0,"Fix FT error for legacy anti-affinity test

In the following patch [1], FT error was solved by removing
""CELLSV2_SETUP: singleconductor"" and setup as a superconductor, but
after merging the patch, other error is become to occur in the
anti-affinity test in the legacy FT.
[1] https://review.opendev.org/c/openstack/tacker/+/775958

Because, anti-affinity may not work well in a environment with nova
installed as multi-cell [2].
[2] https://opendev.org/openstack/tacker/commit/b20812678bdb5266f4483b2e55c582167a605e

And db dependency error that occurred when setting single cell before
have been resolved by merging the following patches of devstack [3].
[3] https://review.opendev.org/c/openstack/devstack/+/775940

Therefore, this patch revert `CELLSV2_SETUP: singleconductor` in
"".zuul.yaml"" to resolve error of legacy anti-affinity test.

Change-Id: Ia1bb10daf426820b44487c85fbffd3b7ff5c0f39
",git fetch https://review.opendev.org/openstack/tacker refs/changes/75/777275/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dfd24963e6c717bb929665365cf0b817e2f52e66,fix-ft-error, CELLSV2_SETUP: singleconductor CELLSV2_SETUP: singleconductor CELLSV2_SETUP: singleconductor CELLSV2_SETUP: singleconductor,,4,0
openstack%2Fmonasca-api~stable%2Fvictoria~I002d936941e4784566d83173d55023dfd5fba282,openstack/monasca-api,stable/victoria,I002d936941e4784566d83173d55023dfd5fba282,Align lower-constraints for new pip,MERGED,2021-02-24 22:33:27.000000000,2021-02-25 10:43:05.000000000,2021-02-25 10:41:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-02-24 22:33:27.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ded997fb23e3f12319de87bad83bea03038fff33', 'message': 'Align lower-constraints for new pip\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n\nChange-Id: I002d936941e4784566d83173d55023dfd5fba282\n(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)\n'}]",0,777328,ded997fb23e3f12319de87bad83bea03038fff33,7,2,1,26141,,,0,"Align lower-constraints for new pip

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html

Change-Id: I002d936941e4784566d83173d55023dfd5fba282
(cherry picked from commit ceac157b626c7896dab94626ac4cd94cc0772468)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/28/777328/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,ded997fb23e3f12319de87bad83bea03038fff33,update-lower-constraints-stable/victoria,alembic==0.9.6 appdirs==1.4.0docutils==0.12mccabe==0.6.0six==1.12.0,alembic==0.8.10 appdirs==1.3.0docutils==0.11mccabe==0.2.1six==1.10.0,6,6
openstack%2Fvalidations-libs~master~I9ae7309495458ba35a723e13c94d9dc85c8c45e9,openstack/validations-libs,master,I9ae7309495458ba35a723e13c94d9dc85c8c45e9,Modifies README.rst to reference podman.,MERGED,2021-02-12 15:40:05.000000000,2021-02-25 10:30:44.000000000,2021-02-25 10:28:19.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-12 15:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/00d74a5207372ac385b3e273cd80dc88f0028672', 'message': 'Modifies README.rst to reference podman.\n\nThank you dpeacock for pointing out this oversight.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9ae7309495458ba35a723e13c94d9dc85c8c45e9\n'}, {'number': 2, 'created': '2021-02-15 14:30:53.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c36ac52d9188d3462ff72ab64f7e9667dc0182eb', 'message': 'Modifies README.rst to reference podman.\n\nThank you dpeacock for pointing out this oversight.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9ae7309495458ba35a723e13c94d9dc85c8c45e9\n'}]",3,775402,c36ac52d9188d3462ff72ab64f7e9667dc0182eb,16,5,2,32926,,,0,"Modifies README.rst to reference podman.

Thank you dpeacock for pointing out this oversight.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9ae7309495458ba35a723e13c94d9dc85c8c45e9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/02/775402/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,00d74a5207372ac385b3e273cd80dc88f0028672,structured/podman,"podman Quickstart podman build -t ""vf:dockerfile"" . podman run -ti vf:dockerfile /bin/bash","Docker Quickstart docker build -t ""vf:dockerfile"" . docker run -ti vf:dockerfile /bin/bash",3,3
openstack%2Fvalidations-libs~master~I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,openstack/validations-libs,master,I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4,Docker image refinement and preparation for future development.,MERGED,2021-02-12 10:44:32.000000000,2021-02-25 10:29:37.000000000,2021-02-25 10:28:09.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-12 10:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0e8912187d170831e29c5f520a7320dbf08a192f', 'message': 'Docker image refinement and preparation for future development.\n\n.dockerignore file was added to limit size of the docker context\nThe more complex docker images will be placed in newly created\ndockerfiles dir. Each in its own subdir\nand accompanied with README.rst file describing their use.\n\nRight now there is only one, the same as the one in repo root.\nBut in the future there will be more.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4\n'}, {'number': 2, 'created': '2021-02-12 11:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e5f6feaebc7b7eefa4d6959d807e9f2cf9563752', 'message': 'Docker image refinement and preparation for future development.\n\n.dockerignore file was added to limit size of the docker context\nThe more complex docker images will be placed in newly created\ndockerfiles dir. Each in its own subdir\nand accompanied with README.rst file describing their use.\n\nRight now there is only one, the same as the one in repo root.\nBut in the future there will be more.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4\n'}, {'number': 3, 'created': '2021-02-12 15:40:05.000000000', 'files': ['Dockerfile', 'dockerfiles/localvalidations/Dockerfile', '.dockerignore', 'dockerfiles/localvalidations/README.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4405071de09d944268843a172a12660894bb185f', 'message': 'Docker image refinement and preparation for future development.\n\n.dockerignore file was added to limit size of the docker context\nThe more complex docker images will be placed in newly created\ndockerfiles dir. Each in its own subdir\nand accompanied with README.rst file describing their use.\n\nRight now there is only one, the same as the one in repo root.\nBut in the future there will be more.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4\n'}]",2,775361,4405071de09d944268843a172a12660894bb185f,15,6,3,32926,,,0,"Docker image refinement and preparation for future development.

.dockerignore file was added to limit size of the docker context
The more complex docker images will be placed in newly created
dockerfiles dir. Each in its own subdir
and accompanied with README.rst file describing their use.

Right now there is only one, the same as the one in repo root.
But in the future there will be more.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5ed91d4258d9ad6725a86d5c3c6a40a02212b5d4
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/61/775361/2 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'dockerfiles/localvalidations/Dockerfile', '.dockerignore', 'dockerfiles/localvalidations/README.rst', 'README.rst']",5,0e8912187d170831e29c5f520a7320dbf08a192f,structured/podman,"order to quickly set and hack the Validation Framework, on a equivalent of a single machine.From the validations-libs repo directory. .. note:: More complex images are available in the dockerfiles directory and require explicit specification of both build context and the Dockerfile. ",order to quickly set and hack the Validation Framework.,122,5
openstack%2Fvalidations-libs~master~Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,openstack/validations-libs,master,Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87,Improved Dockefile and simplified use instructions.,MERGED,2021-02-11 09:10:50.000000000,2021-02-25 10:27:31.000000000,2021-02-25 10:25:49.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-11 09:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/756111eeee8217df12a1dbd1ed578e632d905d3e', 'message': 'Improved Dockefile and simplified use instructions.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87\n'}, {'number': 2, 'created': '2021-02-11 15:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39904bb18d0a334d91066cb95c770bc2d0a53e77', 'message': 'Improved Dockefile and simplified use instructions.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87\n'}, {'number': 3, 'created': '2021-02-12 08:02:19.000000000', 'files': ['Dockerfile', 'README.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4fabb3d2b56a6a16ea2b1ec6aef98df438529482', 'message': 'Improved Dockefile and simplified use instructions.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87\n'}]",4,775080,4fabb3d2b56a6a16ea2b1ec6aef98df438529482,24,7,3,32926,,,0,"Improved Dockefile and simplified use instructions.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia4e46f8ce13e36c08d55db729004ad6b3d9aaa87
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/80/775080/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'README.rst']",2,756111eeee8217df12a1dbd1ed578e632d905d3e,devenv/docker," docker run -ti vf:dockerfile /bin/bash validation.py run --validation check-ftype,512e --inventory /etc/ansible/hosts","Once the build is finished you can check the image id:: docker images docker run -ti <image_id> /bin/bash validation.py run --validation check-ftype,512e",13,12
openstack%2Ftripleo-quickstart-extras~master~I7bd78939acb906edfc149481d0bf9b1f80902e8d,openstack/tripleo-quickstart-extras,master,I7bd78939acb906edfc149481d0bf9b1f80902e8d,Updating cirros image download url,MERGED,2021-02-11 15:38:53.000000000,2021-02-25 10:25:46.000000000,2021-02-25 10:25:46.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-11 15:38:53.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e87d97e84dfce17b14611ca5996b37b6d713234', 'message': 'Updating cirros image download url\n\nVexxhost is down, this make the cirros image from rdo fail. Switch back\nto cirros-cloud.net\n\nChange-Id: I7bd78939acb906edfc149481d0bf9b1f80902e8d\n'}]",0,775191,9e87d97e84dfce17b14611ca5996b37b6d713234,13,4,1,8367,,,0,"Updating cirros image download url

Vexxhost is down, this make the cirros image from rdo fail. Switch back
to cirros-cloud.net

Change-Id: I7bd78939acb906edfc149481d0bf9b1f80902e8d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/775191/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,9e87d97e84dfce17b14611ca5996b37b6d713234,tempest-cirros, default_cirros_image: https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img, default_cirros_image: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img,1,1
openstack%2Ftripleo-ansible~master~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,master,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-01-20 10:25:10.000000000,2021-02-25 10:16:37.000000000,2021-02-25 10:16:37.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-01-20 10:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f845e6ed47b8fdc011873b0fb2f48321baeb561', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 2, 'created': '2021-01-20 10:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73cb51c592c6d9ff859ae940d255bdac87c67ece', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 3, 'created': '2021-01-20 11:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25ada8b92a1e5a21a59c08235d754c52f746438a', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 4, 'created': '2021-01-20 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81bf5a992a34c700825fd8791d094a617647c014', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 5, 'created': '2021-01-22 17:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44c683e59ad2a1ce96afad453d935a72555fa4e5', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 6, 'created': '2021-01-28 16:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32e022a79558fae6fd7e7f3e7718fc145eddcb5f', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}, {'number': 7, 'created': '2021-02-24 12:59:03.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ac33dcdbf054328dc61a172ee159e79e11082ac', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n'}]",6,771587,4ac33dcdbf054328dc61a172ee159e79e11082ac,38,11,7,32728,,,0,"Modifying playbooks to support python-tripleoclient B&R commands

- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  were modified to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified
  to support the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/771587/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml']",5,3f845e6ed47b8fdc011873b0fb2f48321baeb561,change-771587-6,," connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" tags: - bar_create_recover_image",36,14
openstack%2Fkuryr-kubernetes~master~I7221c67990a3dd6974ea362d209390c716540ceb,openstack/kuryr-kubernetes,master,I7221c67990a3dd6974ea362d209390c716540ceb,Skip pool pre population if no Status is present on CRD,MERGED,2021-02-22 19:15:48.000000000,2021-02-25 10:07:54.000000000,2021-02-25 10:06:35.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-02-22 19:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2f5820917f02cab455f53f2d9045d14824e8abce', 'message': ""Skip pool pre population if no Status is present on CRD\n\nIn case the kuryrnetwork_population handler is enabled\nand a Namespace creation was triggered, it's possible that\nwhile the KuryrNetwork CR is being filled with the status\nthe kuryrnetwork_population handler attempts to do its job\nand no 'status' is yet present on the CR. This commit fixes\nthis race by skipping the event when no 'status' is present.\n\nChange-Id: I7221c67990a3dd6974ea362d209390c716540ceb\n""}, {'number': 2, 'created': '2021-02-23 01:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/95fa70858b7860e3fd0d0d3cd4053eb1c1a4da2f', 'message': ""Skip pool pre population if no Status is present on CRD\n\nIn case the kuryrnetwork_population handler is enabled\nand a Namespace creation was triggered, it's possible that\nwhile the KuryrNetwork CR is being filled with the status\nthe kuryrnetwork_population handler attempts to do its job\nand no 'status' is yet present on the CR. This commit fixes\nthis race by skipping the event when no 'status' is present.\n\nCloses-bug: 1916544\nChange-Id: I7221c67990a3dd6974ea362d209390c716540ceb\n""}, {'number': 3, 'created': '2021-02-23 23:06:35.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork_population.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0719ca7b2aba8c3e28b9a0498b271397db16b8ea', 'message': ""Skip pool pre population if no Status is present on CRD\n\nIn case the kuryrnetwork_population handler is enabled\nand a Namespace creation was triggered, it's possible that\nthe kuryrnetwork_population handler attempts to do its job\nbefore the KuryrNetwork handles the CR update with status field.\nThis commit fixes this race by skipping the event for the\nkuryrnetwork_population when no 'status' is present and\nmodifying the event to be handled on a on_present operation\nsince the on_added would only be triggered once.\n\nCloses-bug: 1916544\nChange-Id: I7221c67990a3dd6974ea362d209390c716540ceb\n""}]",8,776988,0719ca7b2aba8c3e28b9a0498b271397db16b8ea,27,4,3,27032,,,0,"Skip pool pre population if no Status is present on CRD

In case the kuryrnetwork_population handler is enabled
and a Namespace creation was triggered, it's possible that
the kuryrnetwork_population handler attempts to do its job
before the KuryrNetwork handles the CR update with status field.
This commit fixes this race by skipping the event for the
kuryrnetwork_population when no 'status' is present and
modifying the event to be handled on a on_present operation
since the on_added would only be triggered once.

Closes-bug: 1916544
Change-Id: I7221c67990a3dd6974ea362d209390c716540ceb
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/776988/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork_population.py']",2,2f5820917f02cab455f53f2d9045d14824e8abce,fix-race-pool-population, del kns['status'], kns['status'] = {},4,2
openstack%2Fos-apply-config~master~I7696fbb53cfee9dad29273e17a036c5f6963f788,openstack/os-apply-config,master,I7696fbb53cfee9dad29273e17a036c5f6963f788,Remove tripleo-multinode-container-minimal from zuul layout,ABANDONED,2021-02-25 09:43:12.000000000,2021-02-25 10:00:21.000000000,,[],"[{'number': 1, 'created': '2021-02-25 09:43:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/0ac71fecc95127fa4863f43dc932b5b95d541ad2', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788\n'}]",0,777521,0ac71fecc95127fa4863f43dc932b5b95d541ad2,2,0,1,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/21/777521/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0ac71fecc95127fa4863f43dc932b5b95d541ad2,stable/victoria,, - tripleo-multinode-container-minimal,0,1
openstack%2Ftripleo-operator-ansible~master~I246cc60dd15947a9f29e78636c21a2fe78dfef1d,openstack/tripleo-operator-ansible,master,I246cc60dd15947a9f29e78636c21a2fe78dfef1d,'--network-ports' support in overcloud node (un)provison,MERGED,2021-02-10 19:03:23.000000000,2021-02-25 09:43:57.000000000,2021-02-25 09:43:57.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 19:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/dfd8b4b2a22d59e1c5bd456441b69101ec25a1e6', 'message': ""'--network-ports' support in overcloud node (un)provison\n\nAdd support for provisioning network-port as part of the\nnode provisioning workflow. In the future enabling the\noption will also apply node nic-config to provisioned\nnodes.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d\n""}, {'number': 2, 'created': '2021-02-10 21:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2190d2390209380e3a0b8a8e43a6cd7ad1cd1353', 'message': ""'--network-ports' support in overcloud node (un)provison\n\nAdd support for provisioning network-port as part of the\nnode provisioning workflow. In the future enabling the\noption will also apply node nic-config to provisioned\nnodes.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d\n""}, {'number': 3, 'created': '2021-02-24 12:02:10.000000000', 'files': ['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0990282a22e48a744aec2312c4015ef8aad29137', 'message': ""'--network-ports' support in overcloud node (un)provison\n\nAdd support for provisioning network-port as part of the\nnode provisioning workflow. In the future enabling the\noption will also apply node nic-config to provisioned\nnodes.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d\n""}]",0,774946,0990282a22e48a744aec2312c4015ef8aad29137,12,3,3,24245,,,0,"'--network-ports' support in overcloud node (un)provison

Add support for provisioning network-port as part of the
node provisioning workflow. In the future enabling the
option will also apply node nic-config to provisioned
nodes.

Related: blueprint network-data-v2-ports
Change-Id: I246cc60dd15947a9f29e78636c21a2fe78dfef1d
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/46/774946/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_provision/tasks/main.yml', 'roles/tripleo_overcloud_node_unprovision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_provision/defaults/main.yml', 'roles/tripleo_overcloud_node_unprovision/tasks/main.yml', 'roles/tripleo_overcloud_node_provision/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_unprovision/defaults/main.yml']",6,dfd8b4b2a22d59e1c5bd456441b69101ec25a1e6,network-data-v2,tripleo_overcloud_node_unprovision_network_ports:,,28,0
openstack%2Fopenstack-helm-infra~master~I047cbfaa5aa9e7285a23e603074429180495557d,openstack/openstack-helm-infra,master,I047cbfaa5aa9e7285a23e603074429180495557d,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""",MERGED,2021-01-28 20:11:09.000000000,2021-02-25 09:37:06.000000000,2021-02-25 09:34:24.000000000,"[{'_account_id': 8898}, {'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 24816}, {'_account_id': 28849}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-01-28 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/679fe6862d415216e8e97e278aa7780a0fd55cf0', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 2, 'created': '2021-01-28 20:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ed0a570f7f33f2c4b59bd77aed50d0e16ec06bf', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 3, 'created': '2021-01-28 20:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6b3ab00de3fbec2905f71a69a7c7ca65bf1d8eb', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 4, 'created': '2021-01-28 22:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6170f943d46584424e6816cb269fe954b14122ad', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: WIP testing re-enable of cluster issuer\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 5, 'created': '2021-01-28 22:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/218d3c7d1d950f2a330bf60b2d30ab502524d3f5', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 6, 'created': '2021-01-29 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ac5d4c3e9489d7f8c6fe98cfc9fcf7f648c50ee', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 7, 'created': '2021-01-30 05:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c893f7761a9fe4a601d04c58693dc5b66e04bfce', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 8, 'created': '2021-01-30 06:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48e04719dd8ece7e9bb1e155a191c27a95a1beb9', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 9, 'created': '2021-02-01 19:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d918a8772bfc68cb0f3423c1d8cb25b27a169f52', 'message': '[WIP] Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 10, 'created': '2021-02-01 19:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0407da42653335b316dae3c1cb00a9974f892bd', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 11, 'created': '2021-02-12 15:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aad01de97533dced6bf0556a958c1dc5b83b600f', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 12, 'created': '2021-02-12 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0046ac26e23e98cf74ef64e1f437e73cb0265cf4', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 13, 'created': '2021-02-12 15:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57ad7cc521cda2f031e619c76621593ac0ac6e6e', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 14, 'created': '2021-02-12 15:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0e4efc1f15da58f5e7328dddae59416f4169ada', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 15, 'created': '2021-02-12 15:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ecc8b154ca539ac82a97897d6151f95b0a2ab27', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 16, 'created': '2021-02-12 16:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9acd1c9ee9aa8600fe6a8dee85261a332c6c05c', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 17, 'created': '2021-02-12 17:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f73b5486f36f706f17f4b8dfc2bce345a194923', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: Keeping as WIP until we analyze and fix the issues\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 18, 'created': '2021-02-13 07:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2e83aa259d839e87129f20962ed542870f51290', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 19, 'created': '2021-02-13 08:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e88af073881b1fc05d6f5a5e928181c1b35402ec', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 20, 'created': '2021-02-13 19:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/caaa26c067497b96bfccc4dd0a744e3950bf17a0', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 21, 'created': '2021-02-14 05:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a5820a79b2d1134c6fbcfdbaf79108af993246d', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 22, 'created': '2021-02-18 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18eb75380a79f1cbb44ad18ec48baa0f870cb502', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 23, 'created': '2021-02-18 22:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6909ee428fe874394e5d6fb8708b19528d9dee6', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 24, 'created': '2021-02-22 06:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fb632148005bef2e5777ada4fbca89bbf6876d4', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 25, 'created': '2021-02-22 22:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb72ab71c5abc2670085c78f309359c53f20a03e', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 26, 'created': '2021-02-24 20:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de0d02fe1fb4b417ce14aec002f0e467231b351e', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}, {'number': 27, 'created': '2021-02-24 20:50:30.000000000', 'files': ['mariadb/Chart.yaml', 'ca-clusterissuer/Chart.yaml', 'ca-clusterissuer/values.yaml', 'helm-toolkit/templates/manifests/_certificates.tpl', 'ca-clusterissuer/templates/secret-ca.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl', 'releasenotes/notes/helm-toolkit.yaml', 'ca-clusterissuer/templates/clusterissuer-ca.yaml', 'mariadb/values_overrides/tls.yaml', 'releasenotes/notes/ca-clusterissuer.yaml', 'releasenotes/notes/mariadb.yaml', 'ca-clusterissuer/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ee06562c87b67f026c9cc2bd64f9b8033e433b2', 'message': 'Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""\n\nThis reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.\n\nReason for revert: resolved bug with cluster issuer versioning\n\nCo-authored-by: Sangeet Gupta <sg774j@att.com>\n\nChange-Id: I047cbfaa5aa9e7285a23e603074429180495557d\n'}]",12,772814,6ee06562c87b67f026c9cc2bd64f9b8033e433b2,95,15,27,30495,,,0,"Re-enable ""feat(tls): Change Issuer to ClusterIssuer""""

This reverts commit 8a79d7c51bdeec35d12194fe39672036c8bb1a5c.

Reason for revert: resolved bug with cluster issuer versioning

Co-authored-by: Sangeet Gupta <sg774j@att.com>

Change-Id: I047cbfaa5aa9e7285a23e603074429180495557d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/772814/27 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'ca-clusterissuer/Chart.yaml', 'ca-clusterissuer/values.yaml', 'helm-toolkit/templates/manifests/_certificates.tpl', 'ca-clusterissuer/templates/secret-ca.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl', 'ca-clusterissuer/templates/clusterissuer-ca.yaml', 'mariadb/values_overrides/tls.yaml', 'ca-clusterissuer/requirements.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml']",12,679fe6862d415216e8e97e278aa7780a0fd55cf0,feat(tls),apiVersion: cert-manager.io/v1,apiVersion: cert-manager.io/v1alpha3,128,9
openstack%2Ftempest~master~I112003baee939c34d3e3a5fdadc5d9b57c9119f5,openstack/tempest,master,I112003baee939c34d3e3a5fdadc5d9b57c9119f5,test_live_migration: Rename test_iscsi_volume,MERGED,2020-02-26 14:03:06.000000000,2021-02-25 09:26:41.000000000,2021-02-25 09:16:38.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-02-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc296aebe58650410d2d5721a89f1d0e49a1dec2', 'message': 'test_live_migration: Rename test_iscsi_volume\n\nSimply rename the test_iscsi_volume test to reflect what it is actually\ntesting, the live migration of instances with an attached volume.\n\nChange-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5\n'}, {'number': 2, 'created': '2020-03-02 09:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a001b0e44ab8efbb9cec18c4d9ca44c2758b4ed', 'message': 'test_live_migration: Rename test_iscsi_volume\n\nSimply rename the test_iscsi_volume test to reflect what it is actually\ntesting, the live migration of instances with an attached volume.\n\nChange-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5\n'}, {'number': 3, 'created': '2020-08-04 15:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d298e517eb16e3a81bf7cd5658ca5de4bdd3cb2', 'message': 'test_live_migration: Rename test_iscsi_volume\n\nSimply rename the test_iscsi_volume test to reflect what it is actually\ntesting, the live migration of instances with an attached volume.\n\nChange-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5\n'}, {'number': 4, 'created': '2021-02-02 09:55:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/249b30e0eedddf629803bfb478220c726a372d5a', 'message': 'test_live_migration: Rename test_iscsi_volume\n\nSimply rename the test_iscsi_volume test to reflect what it is actually\ntesting, the live migration of instances with an attached volume.\n\nChange-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5\n'}]",0,710039,249b30e0eedddf629803bfb478220c726a372d5a,19,5,4,10135,,,0,"test_live_migration: Rename test_iscsi_volume

Simply rename the test_iscsi_volume test to reflect what it is actually
testing, the live migration of instances with an attached volume.

Change-Id: I112003baee939c34d3e3a5fdadc5d9b57c9119f5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/710039/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,cc296aebe58650410d2d5721a89f1d0e49a1dec2,test_live_migration_refactor," def test_live_block_migration_with_attached_volume(self): """"""Test the live-migration of an instance with an attached volume. This tests the live-migration of an instance with both a local disk and attach volume. This differs from test_volume_backed_live_migration above that tests live-migration with only an attached volume. """"""", def test_iscsi_volume(self):,7,1
openstack%2Ftempest~master~I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,openstack/tempest,master,I32f37f8e874a3510bb1af6db45a1b9a8d2fed543,Add wait_for_resource_deletion for swift api clients,MERGED,2021-02-08 10:28:41.000000000,2021-02-25 09:23:23.000000000,2021-02-25 09:15:51.000000000,"[{'_account_id': 6968}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 22696}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-08 10:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b71a0e199e79856574850c9647d5b81d717a9f3', 'message': 'Add wait_for_resource_deletion for swift api clients\n\n    Currently today we dont have any way in swift to verify that resources were deleted\n    before moving to the next command\n    In current code there was hardcoded sleep for 2 seconds instead of checking if\n    resource really deleted.\n\n    Added to the current cleanup :\n    - implement is_resource_deleted for object_client and container_client\n    - after remove action we wait/ verify till resource really deleted\n    - removed hardcoded sleep for 2 seconds\n    - remove ignore for not found in reomval , if we hit on it means something\n      wrong in our code.\n\nChange-Id: I32f37f8e874a3510bb1af6db45a1b9a8d2fed543\n'}, {'number': 2, 'created': '2021-02-08 14:23:44.000000000', 'files': ['tempest/api/object_storage/base.py', 'tempest/lib/common/rest_client.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/lib/services/object_storage/object_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f5e277c802ca013cf2734f2a0435edba815f2424', 'message': 'Add wait_for_resource_deletion for swift api clients\n\nCurrently today we dont have any way in swift to verify that resources were deleted\nbefore moving to the next command\nIn current code there was hardcoded sleep for 2 seconds instead of checking if\nresource really deleted.\n\nAdded to the current cleanup :\nImplement is_resource_deleted for object_client and container_client\nAfter remove action we wait/ verify till resource really deleted\nRemove hardcoded sleep for 2 seconds\nRemove ignore for not found in reomval , if we hit on it means something\nwrong in our code.\n\nChange-Id: I32f37f8e874a3510bb1af6db45a1b9a8d2fed543\n'}]",9,774428,f5e277c802ca013cf2734f2a0435edba815f2424,23,7,2,11075,,,0,"Add wait_for_resource_deletion for swift api clients

Currently today we dont have any way in swift to verify that resources were deleted
before moving to the next command
In current code there was hardcoded sleep for 2 seconds instead of checking if
resource really deleted.

Added to the current cleanup :
Implement is_resource_deleted for object_client and container_client
After remove action we wait/ verify till resource really deleted
Remove hardcoded sleep for 2 seconds
Remove ignore for not found in reomval , if we hit on it means something
wrong in our code.

Change-Id: I32f37f8e874a3510bb1af6db45a1b9a8d2fed543
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/774428/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/base.py', 'tempest/lib/common/rest_client.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/lib/services/object_storage/object_client.py']",4,7b71a0e199e79856574850c9647d5b81d717a9f3,," def is_resource_deleted(self, object_name, container): try: self.get_object(container, object_name) except exceptions.NotFound: return True return False ",,21,7
openstack%2Fpython-swiftclient~master~Ibf0c891782afe014cc453b713a94c187340d172e,openstack/python-swiftclient,master,Ibf0c891782afe014cc453b713a94c187340d172e,Drop lower-constraints testing,MERGED,2021-02-22 20:23:50.000000000,2021-02-25 09:23:04.000000000,2021-02-25 09:17:08.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 20:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/caf87fb54db61c0f8cc23ebeeb35b5b5d04932a4', 'message': ""Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ibf0c891782afe014cc453b713a94c187340d172e\n""}, {'number': 2, 'created': '2021-02-23 00:05:48.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5', 'message': ""Drop lower-constraints testing\n\nThe OpenStack community consensus seems to be that it's not worth the\nhassle of fixing. *Maybe* we can revisit this if we ever drop py2\nsupport?\n\nReasonable spot to start on ML threads:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n\nChange-Id: Ibf0c891782afe014cc453b713a94c187340d172e\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/777025\n""}]",0,776998,06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5,10,3,2,15343,,,0,"Drop lower-constraints testing

The OpenStack community consensus seems to be that it's not worth the
hassle of fixing. *Maybe* we can revisit this if we ever drop py2
support?

Reasonable spot to start on ML threads:
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html

Change-Id: Ibf0c891782afe014cc453b713a94c187340d172e
Depends-On: https://review.opendev.org/c/openstack/requirements/+/777025
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/98/776998/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,caf87fb54db61c0f8cc23ebeeb35b5b5d04932a4,,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt .[keystone] ,0,50
openstack%2Ftempest~master~I0b0eca96b68dcb37219d035961a500f7f453c6b9,openstack/tempest,master,I0b0eca96b68dcb37219d035961a500f7f453c6b9,add unitest for api of resource providers inventories,MERGED,2020-12-18 02:51:30.000000000,2021-02-25 09:16:11.000000000,2021-02-25 09:16:11.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 26458}, {'_account_id': 30742}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-12-18 02:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5863b17f8ada7c496637aac5b741d841aa8a6ba2', 'message': 'add unitest for api of resource providers inventories\n\nsupplement unitest for api of resource providers inventories, include:\nupdate_resource_providers_inventories,\ndelete_resource_providers_inventories\n\nChange-Id: I0b0eca96b68dcb37219d035961a500f7f453c6b9\n'}, {'number': 2, 'created': '2020-12-18 06:01:42.000000000', 'files': ['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ffc28f197699941a0873f154363885b404a4a3f', 'message': 'add unitest for api of resource providers inventories\n\nsupplement unitest for api of resource providers inventories, include:\nupdate_resource_providers_inventories,\ndelete_resource_providers_inventories\n\nChange-Id: I0b0eca96b68dcb37219d035961a500f7f453c6b9\n'}]",0,767657,5ffc28f197699941a0873f154363885b404a4a3f,17,7,2,30643,,,0,"add unitest for api of resource providers inventories

supplement unitest for api of resource providers inventories, include:
update_resource_providers_inventories,
delete_resource_providers_inventories

Change-Id: I0b0eca96b68dcb37219d035961a500f7f453c6b9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/767657/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/placement/resource_providers_client.py', 'tempest/tests/lib/services/placement/test_resource_providers_client.py']",2,5863b17f8ada7c496637aac5b741d841aa8a6ba2,fix1219," FAKE_RESOURCE_UPDATE_INVENTORIES_RESPONSE = { ""inventories"": { ""MEMORY_MB"": { ""allocation_ratio"": 2.0, ""max_unit"": 16, ""min_unit"": 1, ""reserved"": 0, ""step_size"": 4, ""total"": 128 }, ""VCPU"": { ""allocation_ratio"": 10.0, ""max_unit"": 2147483647, ""min_unit"": 1, ""reserved"": 2, ""step_size"": 1, ""total"": 64 } }, ""resource_provider_generation"": 2 } FAKE_RESOURCE_UPDATE_INVENTORIES_REQUEST = { ""inventories"": { ""MEMORY_MB"": { ""allocation_ratio"": 2.0, ""max_unit"": 16, ""step_size"": 4, ""total"": 128 }, ""VCPU"": { ""allocation_ratio"": 10.0, ""reserved"": 2, ""total"": 64 } }, ""resource_provider_generation"": 1 } def _test_update_resource_providers_inventories(self, bytes_body=False): self.check_service_client_function( self.client.update_resource_providers_inventories, 'tempest.lib.common.rest_client.RestClient.put', self.FAKE_RESOURCE_UPDATE_INVENTORIES_RESPONSE, to_utf=bytes_body, status=200, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, **self.FAKE_RESOURCE_UPDATE_INVENTORIES_REQUEST ) def test_update_resource_providers_inventories_with_str_body(self): self._test_update_resource_providers_inventories() def test_update_resource_providers_inventories_with_bytes_body(self): self._test_update_resource_providers_inventories(bytes_body=True) def test_delete_resource_providers_inventories(self): self.check_service_client_function( self.client.delete_resource_providers_inventories, 'tempest.lib.common.rest_client.RestClient.delete', {}, status=204, rp_uuid=self.FAKE_RESOURCE_PROVIDER_UUID, ) ",,90,0
openstack%2Fneutron~stable%2Fqueens~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/queens,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:35.000000000,2021-02-25 09:04:45.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f9671b91a69c3ab852d5b3681d1da490bd9b0e3', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 2, 'created': '2021-02-23 07:39:52.000000000', 'files': ['neutron/objects/securitygroup.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e76c1ae600328d054939b413fd229cd779fa7829', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}]",12,776452,e76c1ae600328d054939b413fd229cd779fa7829,9,2,2,11975,,,0,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/776452/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",3,4f9671b91a69c3ab852d5b3681d1da490bd9b0e3,bug/1910691-stable/rocky-stable/queens,"import signal @mock.patch.object(linux_utils, 'delete_if_exists') mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))", mock.call().disable()]) mock.call().disable()]) mock.call().disable(),63,5
openstack%2Fneutron~stable%2Frocky~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/rocky,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:12:02.000000000,2021-02-25 09:04:40.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e775d0d3104315be0b91cad486288ff8fc396dcd', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 2, 'created': '2021-02-23 07:38:37.000000000', 'files': ['neutron/objects/securitygroup.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35778d62aa1d91e3c5e68ee7ce2a0158fbe8de93', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}]",12,776585,35778d62aa1d91e3c5e68ee7ce2a0158fbe8de93,9,2,2,11975,,,0,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/776585/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",3,e775d0d3104315be0b91cad486288ff8fc396dcd,bug/1910691-stable/rocky,"import signal @mock.patch.object(linux_utils, 'delete_if_exists') mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))", mock.call().disable()]) mock.call().disable()]) mock.call().disable(),63,5
openstack%2Fneutron~stable%2Fstein~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/stein,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,ABANDONED,2021-02-19 08:10:10.000000000,2021-02-25 09:04:36.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12bf3552b28759026f0b4793b1174777c0b03e73', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 2, 'created': '2021-02-23 07:36:56.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcd1d41b2a30967d20fb3c16474050727e7c31fd', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}]",4,776584,fcd1d41b2a30967d20fb3c16474050727e7c31fd,7,2,2,11975,,,0,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/776584/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",3,12bf3552b28759026f0b4793b1174777c0b03e73,bug/1910691-stable/stein,"import signal @mock.patch.object(linux_utils, 'delete_if_exists') mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))", mock.call().disable()]) mock.call().disable()]) mock.call().disable(),63,5
openstack%2Fopenstack-helm-infra~master~I055c69b4c5a266641b4684a94a46675475f27409,openstack/openstack-helm-infra,master,I055c69b4c5a266641b4684a94a46675475f27409,Update libvirt chart releasenotes to latest,MERGED,2021-02-24 01:27:51.000000000,2021-02-25 08:51:55.000000000,2021-02-25 08:50:28.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 01:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3840f6406fb120e1330be55b7e673f1128336ffd', 'message': 'Update libvirt chart releasenotes to latest\n\nThis commit does not update the releasenote,Causes the task<WIP - Enforce release notes updates> fail.About https://review.opendev.org/c/openstack/openstack-helm-infra/+/752263\n\nChange-Id: I055c69b4c5a266641b4684a94a46675475f27409\n'}, {'number': 2, 'created': '2021-02-25 00:46:57.000000000', 'files': ['releasenotes/notes/libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b9089a5c19d523ec2b8632692e123a4d594ad3c', 'message': 'Update libvirt chart releasenotes to latest\n\nThis change updates the releasenotes for the libvirt chart to the latest version of the chart as of this patchset.\n\nChange-Id: I055c69b4c5a266641b4684a94a46675475f27409\n'}]",2,777270,8b9089a5c19d523ec2b8632692e123a4d594ad3c,13,4,2,30449,,,0,"Update libvirt chart releasenotes to latest

This change updates the releasenotes for the libvirt chart to the latest version of the chart as of this patchset.

Change-Id: I055c69b4c5a266641b4684a94a46675475f27409
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/777270/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt.yaml'],1,3840f6406fb120e1330be55b7e673f1128336ffd,libvirt_reno, - 0.1.4 Set unix socket auth method as none,,1,0
openstack%2Ftripleo-ansible~master~I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,openstack/tripleo-ansible,master,I24d0ac0a1a04bd0d9603e71a375a87565f0f69da,[tripleo_transfer] Allow testing with docker/podman,ABANDONED,2021-02-18 21:27:42.000000000,2021-02-25 08:33:25.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 21:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c0bb35f3bcccfc890ca5b3e86d9252a9db32142', 'message': '[tripleo_transfer] Allow testing with docker\n\nChange-Id: I24d0ac0a1a04bd0d9603e71a375a87565f0f69da\n'}, {'number': 2, 'created': '2021-02-18 21:54:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0021d8febee38d9e982f7469181be8d171ea1f39', 'message': ""[tripleo_transfer] Allow testing with docker/podman\n\nWith this patch, we can use docker/podman for testing\nby executing:\n\nmolecule test -d [docker|podman]\n\nTesting will also work outside of OpenStack's CI Infra.\n\nUnfortunately, this also means that 'molecule test'\nwill now try to use the delegated driver (default) and\nwill fail.\n\nThis seems like a fault in the design of molecule. I would\nhave preferred to see molecule allow configs for each\ndriver which would be overlayed on top of molecule.yml and\nthe -d argument selecting the options.\n\nUnfortunately there is only the reverse option, specify a\ndriver option and then molecule.yml overlays its details\non top.\n\nChange-Id: I24d0ac0a1a04bd0d9603e71a375a87565f0f69da\n""}]",0,776537,0021d8febee38d9e982f7469181be8d171ea1f39,5,2,2,6816,,,0,"[tripleo_transfer] Allow testing with docker/podman

With this patch, we can use docker/podman for testing
by executing:

molecule test -d [docker|podman]

Testing will also work outside of OpenStack's CI Infra.

Unfortunately, this also means that 'molecule test'
will now try to use the delegated driver (default) and
will fail.

This seems like a fault in the design of molecule. I would
have preferred to see molecule allow configs for each
driver which would be overlayed on top of molecule.yml and
the -d argument selecting the options.

Unfortunately there is only the reverse option, specify a
driver option and then molecule.yml overlays its details
on top.

Change-Id: I24d0ac0a1a04bd0d9603e71a375a87565f0f69da
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/776537/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/docker.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/prepare.yml']",3,9c0bb35f3bcccfc890ca5b3e86d9252a9db32142,,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all become: true roles: - role: test_deps ",51,41
openstack%2Fneutron-specs~master~Icf8e867c21252e0d098e45630dcb8399eb6386ab,openstack/neutron-specs,master,Icf8e867c21252e0d098e45630dcb8399eb6386ab,Add symlink of images to doc/source,MERGED,2021-02-24 08:43:55.000000000,2021-02-25 08:20:55.000000000,2021-02-25 08:19:26.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-02-24 08:43:55.000000000', 'files': ['doc/source/images'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a7b0484b54ca2ac0f784b7a073fc3702aa7aa02c', 'message': 'Add symlink of images to doc/source\n\nsphinx seems to not finding paths for images files, but adding a symlink\nto doc/source make the doc build work again.\n\nChange-Id: Icf8e867c21252e0d098e45630dcb8399eb6386ab\nCloses-Bug: #1916332\n'}]",0,777314,a7b0484b54ca2ac0f784b7a073fc3702aa7aa02c,10,6,1,8313,,,0,"Add symlink of images to doc/source

sphinx seems to not finding paths for images files, but adding a symlink
to doc/source make the doc build work again.

Change-Id: Icf8e867c21252e0d098e45630dcb8399eb6386ab
Closes-Bug: #1916332
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/14/777314/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/images'],1,a7b0484b54ca2ac0f784b7a073fc3702aa7aa02c,bug/1916332,../../images,,1,0
openstack%2Fironic-python-agent-builder~master~Idce5d81ce83df121e521b7d26fd6523a378a0585,openstack/ironic-python-agent-builder,master,Idce5d81ce83df121e521b7d26fd6523a378a0585,Make sure we can create tinyipa isos,MERGED,2021-02-19 13:55:45.000000000,2021-02-25 07:47:33.000000000,2021-02-25 07:45:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2021-02-19 13:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9c521d04bb6ef96569321bd87bfd676167a6b865', 'message': 'Fix isolinux.bin path\n\nThe correct location is now under bios/core\n\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 2, 'created': '2021-02-19 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/f013f401a515a6d4d0654cd9a7e413c1014f8763', 'message': '[WIP] Make sure we can create tinyipa isos\n\nAdd a job to verify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 3, 'created': '2021-02-19 15:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a52290b5dc6933e7c30ed86aad3ca3cdb8366b52', 'message': '[WIP] Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 4, 'created': '2021-02-19 15:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ff53428417effa3b0addb880c723920a27c2368f', 'message': '[WIP] Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 5, 'created': '2021-02-22 09:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/32923ceff231ea3a808526f72905f819f45962a2', 'message': '[WIP] Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 6, 'created': '2021-02-22 11:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/eeff1815629153f05656ddbca51eeaebac6a9975', 'message': '[WIP] Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 7, 'created': '2021-02-22 14:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c4cad46100369cabfccffe5861dcc309df900189', 'message': '[WIP] Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\nPlus fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}, {'number': 8, 'created': '2021-02-22 14:59:49.000000000', 'files': ['tinyipa/build-iso.sh', 'roles/ipa-build-tinyipa-image/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2f4f0320a437fb530a8f35583989cc76715f65e8', 'message': 'Make sure we can create tinyipa isos\n\nVerify we\'re able to build a tinyipa iso.\n\n- use bash in build-iso script\n- account for filenames with branch names in them\n- Fix isolinux.bin path\nThe correct location is now under bios/core\n[...]/syslinux-6.03$ find . -name ""isolinux.bin""\n./bios/core/isolinux.bin\n\nChange-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585\n'}]",3,776642,2f4f0320a437fb530a8f35583989cc76715f65e8,23,5,8,23851,,,0,"Make sure we can create tinyipa isos

Verify we're able to build a tinyipa iso.

- use bash in build-iso script
- account for filenames with branch names in them
- Fix isolinux.bin path
The correct location is now under bios/core
[...]/syslinux-6.03$ find . -name ""isolinux.bin""
./bios/core/isolinux.bin

Change-Id: Idce5d81ce83df121e521b7d26fd6523a378a0585
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/42/776642/8 && git format-patch -1 --stdout FETCH_HEAD,['tinyipa/build-iso.sh'],1,9c521d04bb6ef96569321bd87bfd676167a6b865,fix-isolinux-bin-path,cp build_files/syslinux-${SYSLINUX_VERSION}/bios/core/isolinux.bin newiso/boot/isolinux/.,cp build_files/syslinux-${SYSLINUX_VERSION}/core/isolinux.bin newiso/boot/isolinux/.,1,1
openstack%2Fopenstacksdk~master~I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,openstack/openstacksdk,master,I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1,Added support for Messages resource,ABANDONED,2021-02-25 07:21:49.000000000,2021-02-25 07:42:07.000000000,,[],"[{'number': 1, 'created': '2021-02-25 07:21:49.000000000', 'files': ['openstack/block_storage/v3/messages.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2ae74ae510cecbeb5a7c976fab22bfcd5d4e9aa8', 'message': 'Added support for Messages resource\n\nIntroduce the Messages resource, fill in its\nresources, and implement API calls to support\nthe Cinder v3 API.\n\nTask: 41817\nStory: 2008619\nChange-Id: I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1\n'}]",0,777500,2ae74ae510cecbeb5a7c976fab22bfcd5d4e9aa8,2,0,1,33055,,,0,"Added support for Messages resource

Introduce the Messages resource, fill in its
resources, and implement API calls to support
the Cinder v3 API.

Task: 41817
Story: 2008619
Change-Id: I925d84b481aaa51e4b98b05e8cfa47282ebbf2e1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/777500/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/block_storage/v3/messages.py'],1,2ae74ae510cecbeb5a7c976fab22bfcd5d4e9aa8,add_messages,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class Messages(resource.Resource): resource_key = ""messages"" resources_key = ""messages"" base_path = ""/messages"" _query_mapping = resource.QueryParameters( 'project_id', 'sort', 'limit', 'offset', 'marker') # capabilities allow_fetch = True allow_delete = True allow_list = True #: Properties #: The id of the request during which the message was created. request_id = resource.Body(""request_id"", type=str) #: Links for the message. links = resource.Body(""message_level"", type=list) #: The level of the message, possible value is only ERROR now. message_level = resource.Body(""message_level"", type=str) #: The id of the event to this message. event_id = resource.Body(""message_level"", type=str) #: The date and time when the resource was created. #: Format is ISO 8601: CCYY-MM-DDThh:mm:sshh:mm #: Example: 2015-08-27T09:49:58-05:00 created_at = resource.Body(""message_level"", type=str) #: The expire time of the message, message could be deleted after this time. guaranteed_until = resource.Body(""message_level"", type=str) #: The UUID of the resource during whose operation the message was created. resource_uuid = resource.Body(""message_level"", type=str) #: The UUID for the message. id = resource.Body(""message_level"", type=str) #: The resource type corresponding to resource_uuid. resource_type = resource.Body(""message_level"", type=str) #: The translated readable message corresponding to event_id. user_message = resource.Body(""message_level"", type=str) ",,52,0
openstack%2Fos-brick~stable%2Fussuri~I9a1746658474c0f1be7ec29a36767085aaf2ab7f,openstack/os-brick,stable/ussuri,I9a1746658474c0f1be7ec29a36767085aaf2ab7f,Improve error handling on target query,MERGED,2021-02-02 13:41:50.000000000,2021-02-25 07:40:16.000000000,2021-02-25 03:31:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 13:41:50.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b', 'message': ""Improve error handling on target query\n\nThe command 'iscsiadm -m node' will return entries for corrupt targets\nin the form '[]:port,-1' instead of the expected format.  This causes an\nIndexError exception during parsing.  This patch skips invalid entries.\n\nCloses-bug: #1886855\nChange-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f\n(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)\n(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)\n""}]",0,773686,897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b,76,5,1,10459,,,0,"Improve error handling on target query

The command 'iscsiadm -m node' will return entries for corrupt targets
in the form '[]:port,-1' instead of the expected format.  This causes an
IndexError exception during parsing.  This patch skips invalid entries.

Closes-bug: #1886855
Change-Id: I9a1746658474c0f1be7ec29a36767085aaf2ab7f
(cherry picked from commit 4fabe1b33d497b5f017f07b4b5d7fce0c0eabd00)
(cherry picked from commit 958e4f5fb8ec788fe92eff67eeb3adf0ab7b06a8)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/86/773686/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,897dbdb9a1b0e87fe6c81219c4bee4ffd2585e7b,," try: lines.append((info[0].split(',')[0], info[1])) except IndexError: pass"," lines.append((info[0].split(',')[0], info[1]))",19,1
openstack%2Fpython-manilaclient~master~Ie915278b7d18e916b45a054aac2cf9134bd3e42b,openstack/python-manilaclient,master,Ie915278b7d18e916b45a054aac2cf9134bd3e42b,[WIP] Get rid of python-keystoneclient requirement,ABANDONED,2017-10-12 13:49:28.000000000,2021-02-25 07:01:01.000000000,,"[{'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-12 13:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d3cef3301271d42404d524ff4645339a8c249d34', 'message': 'Get rid of python-keystoneclient requirement\n\npython-keystoneclient is not needed. All can be handled via\nkeystoneauth1.\n\nChange-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b\nImplements: blueprint switch-to-keystoneauth\n'}, {'number': 2, 'created': '2019-01-29 11:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ddcc006a7d5d1b491929e6857c98e4f8db6d1102', 'message': 'Get rid of python-keystoneclient requirement\n\npython-keystoneclient is not needed. All can be handled via\nkeystoneauth1.\n\nChange-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b\nImplements: blueprint switch-to-keystoneauth\n'}, {'number': 3, 'created': '2019-03-21 12:06:22.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v2/fakes.py', 'requirements.txt', 'manilaclient/tests/unit/v2/test_client.py', 'manilaclient/v2/client.py', 'manilaclient/tests/unit/v2/fake_clients.py', 'manilaclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5136acc711d47291a7cb23f63df44f9ba1380075', 'message': '[WIP] Get rid of python-keystoneclient requirement\n\npython-keystoneclient is not needed. All can be handled via\nkeystoneauth1.\n\nRemove HttpClient in favor or SessionClient\n\nChange-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b\nImplements: blueprint switch-to-keystoneauth\n'}]",0,511483,5136acc711d47291a7cb23f63df44f9ba1380075,12,4,3,7102,,,0,"[WIP] Get rid of python-keystoneclient requirement

python-keystoneclient is not needed. All can be handled via
keystoneauth1.

Remove HttpClient in favor or SessionClient

Change-Id: Ie915278b7d18e916b45a054aac2cf9134bd3e42b
Implements: blueprint switch-to-keystoneauth
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/83/511483/3 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/client.py'],1,d3cef3301271d42404d524ff4645339a8c249d34,bp/switch-to-keystoneauth,"from keystoneauth1 import identity from keystoneauth1 import session as ksession if not session: if not auth and input_auth_token: auth = identity.Token( auth_url=auth_url, token=input_auth_token, project_id=project_id, project_name=project_name, project_domain_id=project_domain_id, project_domain_name=project_domain_name) elif not auth: auth = identity.Password( username=username, user_id=user_id, password=password, project_id=project_id, project_name=project_name, auth_url=auth_url, project_domain_id=project_domain_id, project_domain_name=project_domain_name, user_domain_id=user_domain_id, user_domain_name=user_domain_name) session = ksession.Session( auth=auth, verify=(cacert or not insecure), timeout=timeout, cert=cert, user_agent=user_agent) self.keystone_client = adapter.LegacyJsonAdapter( session=session, auth=auth, interface=endpoint_type, service_type=service_type, service_name=service_name, region_name=region_name) input_auth_token = self.keystone_client.session.get_token(auth)","from keystoneauth1 import session from keystoneclient import client as ks_client # NOTE(u_glide): token authorization has highest priority. # That's why session and/or password will be ignored # if token is provided. if not input_auth_token: if session: self.keystone_client = adapter.LegacyJsonAdapter( session=session, auth=auth, interface=endpoint_type, service_type=service_type, service_name=service_name, region_name=region_name) input_auth_token = self.keystone_client.session.get_token(auth) else: self.keystone_client = self._get_keystone_client() input_auth_token = self.keystone_client.auth_token def _get_keystone_client(self): # First create a Keystone session if self.insecure: verify = False else: verify = self.cacert or True ks_session = session.Session(verify=verify, cert=self.cert) # Discover the supported keystone versions using the given url ks_discover = session.discover.Discover(ks_session, self.auth_url) # Inspect the auth_url to see the supported version. If both v3 and v2 # are supported, then use the highest version if possible. v2_auth_url = ks_discover.url_for('v2.0') v3_auth_url = ks_discover.url_for('v3.0') if v3_auth_url: keystone_client = ks_client.Client( session=ks_session, version=(3, 0), auth_url=v3_auth_url, username=self.username, password=self.password, user_id=self.user_id, user_domain_name=self.user_domain_name, user_domain_id=self.user_domain_id, project_id=self.project_id or self.tenant_id, project_name=self.project_name, project_domain_name=self.project_domain_name, project_domain_id=self.project_domain_id, region_name=self.region_name) elif v2_auth_url: keystone_client = ks_client.Client( session=ks_session, version=(2, 0), auth_url=v2_auth_url, username=self.username, password=self.password, tenant_id=self.tenant_id, tenant_name=self.tenant_name, region_name=self.region_name, cert=self.cert, use_keyring=self.use_keyring, force_new_token=self.force_new_token, stale_duration=self.cached_token_lifetime) else: raise exceptions.CommandError( 'Unable to determine the Keystone version to authenticate ' 'with using the given auth_url.') keystone_client.authenticate() return keystone_client",37,70
openstack%2Fcyborg~master~Iaffac082948745c1b9171834504234570b795065,openstack/cyborg,master,Iaffac082948745c1b9171834504234570b795065,Add tags to .gitignore,MERGED,2021-02-23 09:08:18.000000000,2021-02-25 05:57:56.000000000,2021-02-25 05:56:40.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-02-23 09:08:18.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ce88d4edc1b09348d2c804c5c59ed04a2353fc5e', 'message': ""Add tags to .gitignore\n\nWhen using ctags, it will provide a 'tags' file in the directory.\nIt should be added to .gitignore.\n\nChange-Id: Iaffac082948745c1b9171834504234570b795065\n""}]",0,777064,ce88d4edc1b09348d2c804c5c59ed04a2353fc5e,9,6,1,31412,,,0,"Add tags to .gitignore

When using ctags, it will provide a 'tags' file in the directory.
It should be added to .gitignore.

Change-Id: Iaffac082948745c1b9171834504234570b795065
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/64/777064/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,ce88d4edc1b09348d2c804c5c59ed04a2353fc5e,,tags,,1,0
openstack%2Fswift~master~I9f9313df2a7fc02e843053706ad06aebca0aeeaf,openstack/swift,master,I9f9313df2a7fc02e843053706ad06aebca0aeeaf,Fixups for direct_get_recon tests,ABANDONED,2021-02-24 11:48:05.000000000,2021-02-25 05:37:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 11:48:05.000000000', 'files': ['test/unit/common/test_direct_client.py', 'test/unit/common/middleware/test_recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e6c826d747ebdbc3d25c95e9705e58d699d8b88', 'message': 'Fixups for direct_get_recon tests\n\nChange-Id: I9f9313df2a7fc02e843053706ad06aebca0aeeaf\n'}]",0,777369,7e6c826d747ebdbc3d25c95e9705e58d699d8b88,3,1,1,7847,,,0,"Fixups for direct_get_recon tests

Change-Id: I9f9313df2a7fc02e843053706ad06aebca0aeeaf
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/777369/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_direct_client.py', 'test/unit/common/middleware/test_recon.py']",2,7e6c826d747ebdbc3d25c95e9705e58d699d8b88,update_stats_sharded_split, def test_get_sharding_info(self):, def test_get_sharing_info(self):,18,16
openstack%2Ftripleo-common~master~I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,openstack/tripleo-common,master,I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d,Drop inject_facts_as_vars,MERGED,2021-02-19 14:40:35.000000000,2021-02-25 04:34:11.000000000,2021-02-25 04:32:48.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 14:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f9790e9b37d234bf630933a7fda2cf8a3f18f436', 'message': 'WIP - drop inject_facts_as_vars\n\nThis is a WIP until we fix all the ansible_distribution* vars\n\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n'}, {'number': 2, 'created': '2021-02-19 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db840967c56cbf13854f5ad788bc7282bc5e3978', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776666\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n'}, {'number': 3, 'created': '2021-02-22 17:59:48.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16bc02326be62e9df328f290a1e06f3045c54957', 'message': 'Drop inject_facts_as_vars\n\nThis setting stops ansible from converting ansible_fact items into top\nlevel ansible_* vars. This has a huge impact on performance as this is\nperformed at the end of every task execution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776666\nChange-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d\n'}]",0,776649,16bc02326be62e9df328f290a1e06f3045c54957,24,5,3,14985,,,0,"Drop inject_facts_as_vars

This setting stops ansible from converting ansible_fact items into top
level ansible_* vars. This has a huge impact on performance as this is
performed at the end of every task execution.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/776659
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/776666
Change-Id: I1a3c0d31cdb4a644cb950ca59c83bfcb051dc39d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/776649/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,f9790e9b37d234bf630933a7fda2cf8a3f18f436,ansible-facts," # NOTE(mwhahaha): this significantly affects performation per ansible#73654 config.set('defaults', 'inject_facts_as_vars', 'false')",,2,0
openstack%2Fzaqar~stable%2Fvictoria~Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,openstack/zaqar,stable/victoria,Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382,Fix the issue of raising the StopIteration,MERGED,2020-12-09 08:55:45.000000000,2021-02-25 04:22:37.000000000,2021-02-25 04:21:16.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 08:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a337357e60d0ccb252a539e90c031a70070b7966', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 2, 'created': '2020-12-10 03:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/88a335104a66a41ad6e4b33a3ced398d030d9e8b', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 3, 'created': '2020-12-11 07:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/48f0e9ec586fdc8682e12222bdb3735735312dfd', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 4, 'created': '2020-12-14 02:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/3c5424d0dff667dddce18db5f4dde61896e9ee5d', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 5, 'created': '2020-12-14 06:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9c3450ee28d490d2b9f13b68b7789fff1681f5a6', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 6, 'created': '2020-12-14 08:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/dd88625b87a6d914aeef44564b5890f06c7697db', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 7, 'created': '2020-12-15 06:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1000e356b83fdb6c3e20c44b8b4c2de5a6733029', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 8, 'created': '2020-12-15 23:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f75e265f1628f96221b03631291dada967caa320', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 9, 'created': '2020-12-16 05:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9122c2633ae390cae8269303501d166a075ed101', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 10, 'created': '2020-12-16 09:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d74e0f17f05e167973982c4f92fcbc8d2f3e9229', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 11, 'created': '2020-12-16 14:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/89c7350af9a685d55432b511e70d40faaf0c3b12', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 12, 'created': '2020-12-17 02:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1e471a4baa44efd8992b5809d5276908de8139a9', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 13, 'created': '2020-12-21 03:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/86f34b9440716ca3dcb92bda9aaddd5d3e5c0ee8', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 14, 'created': '2020-12-21 04:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b13f1a43beb0e091da6f43a53c652cc5d1cfc71a', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 15, 'created': '2020-12-21 09:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8ea981d0fbf636763be13fc6521b4ac6c8640347', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 16, 'created': '2020-12-28 01:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/721010a6a1a043245dd2a6cf3889001e73056348', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 17, 'created': '2020-12-28 05:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f42684dbedb9f7f0e36caefaacc7a35f287030b2', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 18, 'created': '2020-12-29 01:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/60bfa82227bfb158fc1515236f0d88367dfa3c23', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 19, 'created': '2020-12-29 05:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/1dc7d6153ed1ccd616dc8b7a49b495c2838e521e', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 20, 'created': '2020-12-29 10:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ec6c60ee9037b46c8a06508f5a5a09661713ddef', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}, {'number': 21, 'created': '2021-01-08 02:16:48.000000000', 'files': ['requirements.txt', 'zaqar/storage/swift/messages.py', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/eeabc5d208372475603284616051eff763f4ea4a', 'message': 'Fix the issue of raising the StopIteration\n\nThis issue caused the failure of tempest in Jekins.\n\nChange-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382\n'}]",0,766166,eeabc5d208372475603284616051eff763f4ea4a,51,2,21,8846,,,0,"Fix the issue of raising the StopIteration

This issue caused the failure of tempest in Jekins.

Change-Id: Ib8f362b5a65e5e12fdeedd7e35620df5f52f4382
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/66/766166/18 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/storage/swift/messages.py'],1,a337357e60d0ccb252a539e90c031a70070b7966,fix-tempest-failure, return, raise StopIteration(),1,1
openstack%2Frequirements~master~I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,openstack/requirements,master,I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65,add block for fasteners-0.16 and comment for upstream issue,MERGED,2021-02-24 04:17:05.000000000,2021-02-25 03:42:25.000000000,2021-02-25 03:40:59.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 04:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ad65588d5f4d468e38d7c62340c79230db625fe', 'message': 'add block for fasteners-0.16 and comment for upstream issue\n\nChange-Id: I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2021-02-24 06:09:40.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/386db3432e69e6e180e9c32f0d3700eec7eac535', 'message': 'add block for fasteners-0.16 and comment for upstream issue\n\nChange-Id: I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,777295,386db3432e69e6e180e9c32f0d3700eec7eac535,9,2,2,14288,,,0,"add block for fasteners-0.16 and comment for upstream issue

Change-Id: I4ff2bf6e83dc6205ac4dd0b8966ba7a1b6b06b65
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/777295/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,9ad65588d5f4d468e38d7c62340c79230db625fe,block-fasteners-0.16,"# https://github.com/harlowja/fasteners/issues/36 fasteners!=0.15,!=0.16 # Apache-2.0",fasteners!=0.15 # Apache-2.0,2,1
openstack%2Fopenstack-ansible~master~Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4,openstack/openstack-ansible,master,Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4,Switch back to willshersystems ansible-sshd role,MERGED,2021-02-22 17:01:48.000000000,2021-02-25 02:47:29.000000000,2021-02-25 02:44:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-02-22 17:01:48.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f48ffd984c1a1e870dcc31e54b90440711300d20', 'message': 'Switch back to willshersystems ansible-sshd role\n\nThis seems much more actively maintained and now supports centos-8\n\nChange-Id: Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4\n'}]",0,776965,f48ffd984c1a1e870dcc31e54b90440711300d20,21,3,1,25023,,,0,"Switch back to willshersystems ansible-sshd role

This seems much more actively maintained and now supports centos-8

Change-Id: Ib3853f0c0f5f2968f08adbf39ade6059c9e12ff4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/776965/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,f48ffd984c1a1e870dcc31e54b90440711300d20,osa-facts, src: https://github.com/willshersystems/ansible-sshd, src: https://github.com/bengoa/ansible-sshd,1,1
openstack%2Ftripleo-ci~master~Ia4a892007b33ed991c6fefc19cbd3683086d5148,openstack/tripleo-ci,master,Ia4a892007b33ed991c6fefc19cbd3683086d5148,Add workaround for container build,MERGED,2021-02-24 12:48:09.000000000,2021-02-25 02:26:23.000000000,2021-02-25 02:26:23.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-24 12:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cecf5d413e0734fcf9553aaf981fe0df6409aa4a', 'message': 'Set buildah log level to error\n\nContainer build job is failing, buildah deprecations warning is added\nas a first item in the list instead of container name, details in [1]\n\nSetting log level to error to get around bug[1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1916742\nCloses-Bug: bug/1916742\n\nChange-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148\n'}, {'number': 2, 'created': '2021-02-24 12:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/964d305d8b6651b4edc139ed918897bcbe41e41a', 'message': 'Set buildah log level to error\n\nContainer build job is failing, buildah deprecations warning is added\nas a first item in the list instead of container name, details in [1]\n\nSetting log level to error to get around bug[1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1916742\nCloses-Bug: bug/1916742\n\nChange-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148\n'}, {'number': 3, 'created': '2021-02-24 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/763673b44ef426facdd839b627939f356bb44547', 'message': 'Set buildah log level to error\n\nContainer build job is failing, buildah deprecations warning is added\nas a first item in the list instead of container name, details in [1]\n\nSetting log level to error to get around bug[1].\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1916742\nCloses-Bug: #1916742\n\nChange-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148\n'}, {'number': 4, 'created': '2021-02-24 16:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1428bdff896cd3b27dd94d35b31ae4f62c944fc4', 'message': 'Add workaround for container build\n\nLatest buildah.x86_64 1.16.7-4 is throwing below warning:-\n~~~\n[root@node-0000915416 ~]# buildah images\nWARN[0000] Found deprecated file /usr/share/containers/libpod.conf,\nplease remove. Use /etc/containers/containers.conf to override defaults.\nREPOSITORY TAG IMAGE ID CREATED SIZE\n~~~\n\nThe above buildah deprecations warning is getting added as a\nfirst item in the list instead of container name, details in bug[1]\n\nWith this patch, we are moving /usr/share/containers/libpod.conf to\n/usr/share/containers/libpod.conf_backup to avoid the warning as a\nworkaround.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1916742\nCloses-Bug: #1916742\n\nChange-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148\n'}, {'number': 5, 'created': '2021-02-24 18:21:38.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebe88b8190c38dc669c641aaa05ebd94c3d02a4a', 'message': 'Add workaround for container build\n\nLatest buildah.x86_64 1.16.7-4 is throwing below warning:-\n~~~\n[root@node-0000915416 ~]# buildah images\nWARN[0000] Found deprecated file /usr/share/containers/libpod.conf,\nplease remove. Use /etc/containers/containers.conf to override defaults.\nREPOSITORY TAG IMAGE ID CREATED SIZE\n~~~\n\nThe above buildah deprecations warning is getting added as a\nfirst item in the list instead of container name, details in bug[1]\n\nWith this patch, we are moving /usr/share/containers/libpod.conf to\n/usr/share/containers/libpod.conf_backup to avoid the warning as a\nworkaround.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1916742\nCloses-Bug: #1916742\n\nChange-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148\n'}]",2,777378,ebe88b8190c38dc669c641aaa05ebd94c3d02a4a,22,7,5,29775,,,0,"Add workaround for container build

Latest buildah.x86_64 1.16.7-4 is throwing below warning:-
~~~
[root@node-0000915416 ~]# buildah images
WARN[0000] Found deprecated file /usr/share/containers/libpod.conf,
please remove. Use /etc/containers/containers.conf to override defaults.
REPOSITORY TAG IMAGE ID CREATED SIZE
~~~

The above buildah deprecations warning is getting added as a
first item in the list instead of container name, details in bug[1]

With this patch, we are moving /usr/share/containers/libpod.conf to
/usr/share/containers/libpod.conf_backup to avoid the warning as a
workaround.

[1] https://bugs.launchpad.net/tripleo/+bug/1916742
Closes-Bug: #1916742

Change-Id: Ia4a892007b33ed991c6fefc19cbd3683086d5148
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/777378/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,cecf5d413e0734fcf9553aaf981fe0df6409aa4a,,"- name: Set buildah log level to error shell: ""{{ container_cli }} --log-level error"" become: true changed_when: false ",,5,0
openstack%2Fmanila-tempest-plugin~master~I92f4628051731a9f7e05404b48a96d2ed27a855b,openstack/manila-tempest-plugin,master,I92f4628051731a9f7e05404b48a96d2ed27a855b,Consolidate waiters methods,MERGED,2021-01-26 12:54:59.000000000,2021-02-25 02:09:16.000000000,2021-02-25 01:04:52.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-01-26 12:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/583937f7a28d7fd4bd1c5b4dd91eba01c55d5127', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 2, 'created': '2021-01-26 13:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1cc4a75d20e77d3410321aa1e6f52f2b56dd5cf6', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 3, 'created': '2021-01-26 19:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f15dbeed5c4a6a5a10ea11b3029e85701113ca93', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 4, 'created': '2021-01-27 05:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/90f77b5c7ccfdd5b7eed2473ea979dbdc9c1be55', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 5, 'created': '2021-01-27 07:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a59fed9b3525b3cf8a470420780df890fc06d229', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 6, 'created': '2021-01-27 08:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b184d613796b487152717db3f098617005943627', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 7, 'created': '2021-01-27 09:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a3bbe8cbc2ea93af2b6188ed04c8ece544c6d9b0', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 8, 'created': '2021-01-27 12:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bbba5c923d26ebf38b696da270de6f5af001cae7', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 9, 'created': '2021-01-28 08:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/05401c583884063e9a64212aa7ff9ea71b6b9eff', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 10, 'created': '2021-02-01 14:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e37bb8ac4f4d5cd774d98ce4e6f5dbf5df9b53f1', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 11, 'created': '2021-02-02 09:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d5a41f210c6b4b0b40385df79e188aa59a069ed6', 'message': '[WIP] Consolidate waiters methods\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 12, 'created': '2021-02-02 13:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c5ba8abe051d81ae4db3237aa0e88b516bf44cfb', 'message': 'Consolidate waiters methods\n\nCurrently, for each resource there is a waiter method.\nThe code is almost the same in all waiter methods.\nThis patch suggests proposes to consolidate these methods.\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 13, 'created': '2021-02-02 13:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5963d4076b55d936196dbef864e58dc4edffb32b', 'message': 'Consolidate waiters methods\n\nCurrently, for each resource there is a waiter method.\nThe code is almost the same in all waiter methods.\nThis patch suggests proposes to consolidate these methods.\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 14, 'created': '2021-02-03 05:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2f89f0bb082cbf458ebf6717f26eb8268fa40da6', 'message': 'Consolidate waiters methods\n\nCurrently, for each resource there is a waiter method.\nThe code is almost the same in all waiter methods.\nThis patch proposes to consolidate these methods.\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 15, 'created': '2021-02-19 05:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6ed30d354a0e404b208b6b7cdf4308725a95ac1e', 'message': 'Consolidate waiters methods\n\nCurrently, for each resource there is a waiter method.\nThe code is almost the same in all waiter methods.\nThis patch suggests proposes to consolidate these methods.\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}, {'number': 16, 'created': '2021-02-19 13:17:40.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/scenario/test_share_extend.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_share_servers.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/share_exceptions.py', 'manila_tempest_tests/common/waiters.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_manage_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/scenario/test_share_shrink.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f7fc5b6494b0cd6aaeface59fe1c378ba72b5677', 'message': 'Consolidate waiters methods\n\nCurrently, for each resource there is a waiter method.\nThe code is almost the same in all waiter methods.\nThis patch suggests proposes to consolidate these methods.\n\nChange-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b\n'}]",2,772514,f7fc5b6494b0cd6aaeface59fe1c378ba72b5677,69,5,16,19262,,,0,"Consolidate waiters methods

Currently, for each resource there is a waiter method.
The code is almost the same in all waiter methods.
This patch suggests proposes to consolidate these methods.

Change-Id: I92f4628051731a9f7e05404b48a96d2ed27a855b
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/14/772514/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_revert_to_snapshot.py', 'manila_tempest_tests/tests/scenario/test_share_extend.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_share_servers.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/share_exceptions.py', 'manila_tempest_tests/common/waiters.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/scenario/test_share_manage_unmanage.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/test_rules_negative.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_manage_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/scenario/test_share_shrink.py']",35,583937f7a28d7fd4bd1c5b4dd91eba01c55d5127,waiters_consolidation, waiters.wait_for_resource_status(, waiters.wait_for_share_status(,332,494
openstack%2Fmasakari~master~I25afb76aec10a507312b8d99b0c882ca9f6bcd81,openstack/masakari,master,I25afb76aec10a507312b8d99b0c882ca9f6bcd81,Allow segment description to be multiline,MERGED,2018-06-12 07:32:07.000000000,2021-02-25 01:54:40.000000000,2021-02-25 01:53:23.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2018-06-12 07:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4d9c2ccfd54eab1f9b459e6f2c7d016d60b26592', 'message': 'Segment description allows multiline characters\n\nOn master if user passes description in multi-line characters,\nthen it raises 400 error.\n\nThis patch allow user to pass multiline description for failover segment.\nCloses-Bug: #1776385\n\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}, {'number': 2, 'created': '2018-06-18 09:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a2c339f93a8c853739d9f0aa9dc8da4b2f10b78e', 'message': 'Segment description allows multiline characters\n\nOn master if user passes description in multi-line characters,\nthen it raises 400 error.\n\nThis patch allow user to pass multiline description for failover segment.\nCloses-Bug: #1776385\n\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}, {'number': 3, 'created': '2018-07-03 03:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4f861d3e5629f640405e5b320d43e917daab0a8c', 'message': 'Segment description allows multiline characters\n\nOn master if user passes description in multi-line characters,\nthen it raises 400 error.\n\nThis patch allow user to pass multiline description for failover segment.\nCloses-Bug: #1776385\n\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}, {'number': 4, 'created': '2020-12-25 08:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/c6bbeee570d16ff3321f26c68f32d8f359a94499', 'message': 'Segment description allows multiline characters\n\nOn master if user passes description in multi-line characters,\nthen it raises 400 error.\n\nThis patch allow user to pass multiline description for failover segment.\nCloses-Bug: #1776385\n\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}, {'number': 5, 'created': '2021-02-23 07:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/021742f34ab86c650202746f43b6f5a3f4af627e', 'message': 'Segment description allows multiline characters\n\nOn master if user passes description in multi-line characters,\nthen it raises 400 error.\n\nThis patch allow user to pass multiline description for failover segment.\nCloses-Bug: #1776385\n\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}, {'number': 6, 'created': '2021-02-24 11:36:31.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'releasenotes/notes/bug-1776385-0bcf0a0b3fad359e.yaml', 'masakari/tests/unit/api/openstack/ha/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/d7f47f262799b285080cb08830560891c532a5a1', 'message': 'Allow segment description to be multiline\n\nThis patch allows user to pass a multiline description for\na failover segment.\n\nCloses-Bug: #1776385\nChange-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81\n'}]",2,574614,d7f47f262799b285080cb08830560891c532a5a1,27,7,6,26463,,,0,"Allow segment description to be multiline

This patch allows user to pass a multiline description for
a failover segment.

Closes-Bug: #1776385
Change-Id: I25afb76aec10a507312b8d99b0c882ca9f6bcd81
",git fetch https://review.opendev.org/openstack/masakari refs/changes/14/574614/6 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/api/validation/parameter_types.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py']",2,4d9c2ccfd54eab1f9b459e6f2c7d016d60b26592,bug/1776385," def test_create_with_multiline_description(self, mock_create): body = { ""segment"": { ""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto"", ""description"": ""failover_segment\r\nfor\r\ncompute"" } } mock_create.return_value = FAILOVER_SEGMENT result = self.controller.create(self.req, body=body) result = result['segment'] self._assert_segment_data(FAILOVER_SEGMENT, _make_segment_obj(result)) @mock.patch.object(ha_api.FailoverSegmentAPI, 'create_segment')",,16,1
openstack%2Fproject-config~master~Ib631e030955bcbd0fcdac5492bf6655dff6b131b,openstack/project-config,master,Ib631e030955bcbd0fcdac5492bf6655dff6b131b,zuul-results-summary: set default branch,MERGED,2021-02-24 23:07:59.000000000,2021-02-25 01:27:33.000000000,2021-02-25 01:27:33.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 23:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dde1adb0a089587c4105e1ecddb1ee3a284d20d2', 'message': 'zuul-results-summary: set default branch\n\nThis project has a ""main"" branch, not master.  Set the default branch.\n\nChange-Id: Ib631e030955bcbd0fcdac5492bf6655dff6b131b\n'}, {'number': 2, 'created': '2021-02-24 23:23:06.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2dccaa84325f53d447dea68dba04f07e06a3e752', 'message': 'zuul-results-summary: set default branch\n\nThis project has a ""main"" branch, not master.  Set the default branch.\n\nChange-Id: Ib631e030955bcbd0fcdac5492bf6655dff6b131b\n'}]",0,777480,2dccaa84325f53d447dea68dba04f07e06a3e752,10,3,2,7118,,,0,"zuul-results-summary: set default branch

This project has a ""main"" branch, not master.  Set the default branch.

Change-Id: Ib631e030955bcbd0fcdac5492bf6655dff6b131b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/777480/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,dde1adb0a089587c4105e1ecddb1ee3a284d20d2,gerrit-zuul-branch, name: gerrit.googlesource.com/plugins/zuul-results-summary default-branch: main - project:,,4,0
openstack%2Ftripleo-heat-templates~master~I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,openstack/tripleo-heat-templates,master,I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f,Don't try creating default admin and member roles,MERGED,2021-02-24 09:26:49.000000000,2021-02-25 01:04:44.000000000,2021-02-25 01:04:44.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-24 09:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/281d9193743ea2043a419a598d054c421c6b3819', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1932208\n""}, {'number': 2, 'created': '2021-02-24 14:07:09.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1462b7608be9c7b925009ec95c9bbed0c08d98c', 'message': ""Don't try creating default admin and member roles\n\nThese are default roles and we don't need to create them for\nceph. Also swift user does not need admin role.\n\nCloses-Bug: 1916756\nResolves: rhbz#1932208\n\nChange-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f\n""}]",5,777346,c1462b7608be9c7b925009ec95c9bbed0c08d98c,17,6,2,8833,,,0,"Don't try creating default admin and member roles

These are default roles and we don't need to create them for
ceph. Also swift user does not need admin role.

Closes-Bug: 1916756
Resolves: rhbz#1932208

Change-Id: I4d4c01d4ace8c51ae9f47f4dafd76bb3b5ed674f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/777346/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,281d9193743ea2043a419a598d054c421c6b3819,,, roles: - admin - member - member,0,4
openstack%2Ftripleo-ansible~stable%2Fussuri~I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,openstack/tripleo-ansible,stable/ussuri,I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676,Update skeleton role to use ansible_facts,MERGED,2021-02-23 21:30:34.000000000,2021-02-25 00:52:37.000000000,2021-02-25 00:52:37.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 21:30:34.000000000', 'files': ['_skeleton_role_/tasks/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d734bf827994c08b7b385382947377a8cfada59c', 'message': 'Update skeleton role to use ansible_facts\n\nChange-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676\n(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)\n'}]",0,777235,d734bf827994c08b7b385382947377a8cfada59c,6,2,1,14985,,,0,"Update skeleton role to use ansible_facts

Change-Id: I6172f3a3ffa6bc7cfe6b57b198ad3e761d305676
(cherry picked from commit c0876630bdcdcf0dc297ff99c9de793f4e1573a5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/777235/1 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/tasks/main.yml.j2'],1,d734bf827994c08b7b385382947377a8cfada59c,bug/1915761-stable/ussuri," - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"""," - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml""",6,6
openstack%2Ftripleo-ansible~stable%2Fussuri~I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,openstack/tripleo-ansible,stable/ussuri,I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e,Reduce fact gathering,MERGED,2021-02-23 21:30:34.000000000,2021-02-25 00:52:33.000000000,2021-02-25 00:52:33.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:30:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed0064ad624b3d1c15807491d5c4da67c55b43a3', 'message': ""Reduce fact gathering\n\nWe've seen that large amount of facts for hosts have a direct impact on\ntask execution as part of the deployment.  This change reduces the\namount of data that we are collecting when we use facts and leverages\nmore targeted methods to collect the required information.\n\nChange-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e\nRelated-Bug: #1915761\n(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)\n""}]",0,777234,ed0064ad624b3d1c15807491d5c4da67c55b43a3,7,3,1,14985,,,0,"Reduce fact gathering

We've seen that large amount of facts for hosts have a direct impact on
task execution as part of the deployment.  This change reduces the
amount of data that we are collecting when we use facts and leverages
more targeted methods to collect the required information.

Change-Id: I49e6ca02c2b4791641fb27ebf258ef6c9d52dd9e
Related-Bug: #1915761
(cherry picked from commit f6c0acc7fe7e4571fc923d85422d7781b6d35151)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/34/777234/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/reboot.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml']",4,ed0064ad624b3d1c15807491d5c4da67c55b43a3,bug/1915761-stable/ussuri,- name: Collect default network fact - '!min' filter: 'ansible_default_ipv4',- name: Collect Network Facts - '!any',35,8
