id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-tempest-skiplist~master~Iadf76329c1b259d08908d6a62b7f5563a0dacbe5,openstack/openstack-tempest-skiplist,master,Iadf76329c1b259d08908d6a62b7f5563a0dacbe5,"Revert ""Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test""",MERGED,2021-07-06 06:34:24.000000000,2021-07-07 10:31:42.000000000,2021-07-07 10:30:29.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-06 06:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/85eea46631763674b01c58df41a5b5b8a85b1969', 'message': 'Revert ""Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test""\n\nThis reverts commit cf2ac4ca79af2353fe09cf34bfdaeb331b344a98.\n\nReason for revert: for finding out the failure reason\n\nChange-Id: Iadf76329c1b259d08908d6a62b7f5563a0dacbe5\n'}, {'number': 2, 'created': '2021-07-07 07:18:04.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ca36148a73e146b1c3b7f6c57af966faf00b5353', 'message': 'Revert ""Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test""\n\nThis reverts commit cf2ac4ca79af2353fe09cf34bfdaeb331b344a98.\n\nCloses-Bug: #1934622\n\nChange-Id: Iadf76329c1b259d08908d6a62b7f5563a0dacbe5\n'}]",0,799577,ca36148a73e146b1c3b7f6c57af966faf00b5353,12,10,2,12393,,,0,"Revert ""Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test""

This reverts commit cf2ac4ca79af2353fe09cf34bfdaeb331b344a98.

Closes-Bug: #1934622

Change-Id: Iadf76329c1b259d08908d6a62b7f5563a0dacbe5
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/77/799577/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,85eea46631763674b01c58df41a5b5b8a85b1969,bug/1934622,, - test: neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON.test_allocate_ips_are_from_correct_subnet deployment: - overcloud releases: - name: master reason: IpAddressGenerationFailureNoMatchingSubnet lp: https://bugs.launchpad.net/tripleo/+bug/1934622 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-api-master,0,9
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,openstack/openstack-ansible-os_keystone,stable/wallaby,I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,Fix typo in keystone-httpd template,MERGED,2021-07-05 22:02:23.000000000,2021-07-07 10:10:09.000000000,2021-07-07 10:08:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-07-05 22:02:23.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6bddb6abe3093b0f7b7abaef6135ea4fd593b8c1', 'message': 'Fix typo in keystone-httpd template\n\nFor backwards compatiblity I have left in the original incorrect spelling,\nthis patch should be backported.\n\nChange-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0\n(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)\n'}]",0,799495,6bddb6abe3093b0f7b7abaef6135ea4fd593b8c1,8,4,1,25023,,,0,"Fix typo in keystone-httpd template

For backwards compatiblity I have left in the original incorrect spelling,
this patch should be backported.

Change-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0
(cherry picked from commit 9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/95/799495/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,6bddb6abe3093b0f7b7abaef6135ea4fd593b8c1,," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default(keystone_sp.trusted_idp_list.0.oidc_scope | default('openid email profile')) }}"""," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default('openid email profile') }}""",1,1
openstack%2Fneutron-tempest-plugin~master~Ifc2c75abd49209625065de6fece413aed0bb7a4e,openstack/neutron-tempest-plugin,master,Ifc2c75abd49209625065de6fece413aed0bb7a4e,Fix test_allocate_ips_are_from_correct_subnet on ML2/OVN backend,MERGED,2021-07-06 11:53:19.000000000,2021-07-07 10:05:29.000000000,2021-07-07 10:05:29.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 11:53:19.000000000', 'files': ['neutron_tempest_plugin/api/test_subnets.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9115c8e4af0e476cb1c119a6f6eb4887660979f6', 'message': 'Fix test_allocate_ips_are_from_correct_subnet on ML2/OVN backend\n\nIn case of ML2/OVN, driver creates additional network:distributed port\nfor each subnet with enabled DHCP. That caused failures of that test\nin the ML2/OVN environment as subnets created in the test had only some\nspecified service_type thus Neutron couldn\'t find any IP address to\nallocate for the ""network:distributed"" port.\nNow it\'s fixed by adding ""network:distributed"" service_type to both\nsubnets.\n\nCloses-Bug: #1934622\nChange-Id: Ifc2c75abd49209625065de6fece413aed0bb7a4e\n'}]",0,799648,9115c8e4af0e476cb1c119a6f6eb4887660979f6,16,7,1,11975,,,0,"Fix test_allocate_ips_are_from_correct_subnet on ML2/OVN backend

In case of ML2/OVN, driver creates additional network:distributed port
for each subnet with enabled DHCP. That caused failures of that test
in the ML2/OVN environment as subnets created in the test had only some
specified service_type thus Neutron couldn't find any IP address to
allocate for the ""network:distributed"" port.
Now it's fixed by adding ""network:distributed"" service_type to both
subnets.

Closes-Bug: #1934622
Change-Id: Ifc2c75abd49209625065de6fece413aed0bb7a4e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/48/799648/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_subnets.py'],1,9115c8e4af0e476cb1c119a6f6eb4887660979f6,bug/1934622," # NOTE(slaweq): service_type ""network:distributed"" is needed for # ML2/OVN backend. It's needed because OVN driver creates additional # port for metadata service in each subnet with enabled dhcp and such # port needs to have allocated IP address from the subnet also. self.create_subnet( self.network, service_types=['test:type_1', 'network:distributed'], cidr=str(cidr_1)) self.create_subnet( self.network, service_types=['test:type_2', 'network:distributed'], cidr=str(cidr_2))"," self.create_subnet(self.network, service_types=['test:type_1'], cidr=str(cidr_1)) self.create_subnet(self.network, service_types=['test:type_2'], cidr=str(cidr_2))",12,6
openstack%2Ftripleo-ansible~master~I1e88907db0bb26d52c92cb996eb56767e06b3874,openstack/tripleo-ansible,master,I1e88907db0bb26d52c92cb996eb56767e06b3874,tripleo-transfer: ability to customize files transfer options,MERGED,2021-04-19 16:24:15.000000000,2021-07-07 10:00:04.000000000,2021-05-07 09:46:39.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-19 16:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/892b3d7981662113641719e198b95715fd073730', 'message': ""tripleo-transfer: ability to include/exclude files from transfer\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n""}, {'number': 2, 'created': '2021-04-21 06:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5090057405ac32e7062c3870a49dab4991056232', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n""}, {'number': 3, 'created': '2021-05-05 14:37:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f75fd172326b010e680fc0bdda8d880e256a58e', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n""}]",12,786918,6f75fd172326b010e680fc0bdda8d880e256a58e,27,7,3,20778,,,0,"tripleo-transfer: ability to customize files transfer options

There are use cases where it's useful to be able to explicitly
exclude files from a transfer request. For example when syncing galera
database, we don't want to copy coredumps, local galera state file...

Add the ability to explicitly include or exclude files by specifying
a list of files or wildcard-based patterns.

Also make the default transfer options configurable, to best suit
transfer use cases.

Related-Bug: #1925260

Change-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/786918/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",6,892b3d7981662113641719e198b95715fd073730,transfer-patterns," - ""{{ test2_src_dir }}"" - ""{{ test2_dst_dir }}"" - name: Create empty src test files file: state: touch path: ""{{ test2_src_dir }}/{{ item }}"" loop: ""{{ test2_src_files + test2_exclude_src_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test2_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test2_dst_dir }}"" tripleo_transfer_exclude: ""{{ test2_exclude_pattern }}"" tripleo_transfer_include: ""{{ test2_include_pattern }}""",,68,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibafa8b7307981f2a51e630cc113d18af6162171c,openstack/kolla-ansible,stable/victoria,Ibafa8b7307981f2a51e630cc113d18af6162171c,Add missing octavia-driver-agent,MERGED,2021-03-25 09:06:25.000000000,2021-07-07 09:47:34.000000000,2021-07-07 09:45:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-25 09:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0770ec2f935fd98279093c323d830a485bc4a632', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/771191\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 2, 'created': '2021-03-25 09:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef1a5e4936296496b5a873e8b10dd9977b27eba0', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/771191\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 3, 'created': '2021-03-25 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2aa905c77e00e35679f31795b596d3e876554f2', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/771191\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 4, 'created': '2021-03-25 11:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce53a9b3eb2c4beecf261dab1bd845b28380767a', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 5, 'created': '2021-03-29 16:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69ed91b7583f261eface99d2dd18d43c11c05620', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 6, 'created': '2021-05-18 10:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e29df028dcfc58bfd1bbbc86259d6e637cd61c25', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 7, 'created': '2021-06-08 16:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0452439a79d2eea127fde38d9068710cd9ca6b61', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 8, 'created': '2021-06-09 08:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1157851541c07ff36e64e0bdb1feaebe439f847a', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 9, 'created': '2021-06-09 09:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f729c8f972150dd47ea4f68fe03a874792a3935', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 10, 'created': '2021-06-09 11:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/70c7c2c192c9b5387378599500fa8d3a0ff13bd6', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 11, 'created': '2021-06-21 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b285bea21411fbe990f8b5fae6211c155236ef4', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 12, 'created': '2021-06-21 16:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/203cc8f2eff4d44dfe66760bc7628a67e84fccfc', 'message': 'WIP: Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 13, 'created': '2021-06-21 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9bd1211c0a8c56feabb01d7fa80305cba3061bd', 'message': 'WIP: Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}, {'number': 14, 'created': '2021-06-22 05:27:50.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/octavia/tasks/pull.yml', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/octavia/tasks/config.yml', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'tests/test-ovn.sh', 'zuul.d/base.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/check-containers.yml', 'releasenotes/notes/bug-1903506-12ae72c114bede72.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/octavia/templates/octavia-driver-agent.json.j2', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml', 'ansible/roles/service-precheck/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b19b2e31b618d6423617824daa7c7e43acc6054', 'message': 'Add missing octavia-driver-agent\n\nFor using 3rd party Octavia providers (such as OVN provider) an\noctavia-driver-agent container must be running to expose those providers to\nuse.\n\ntasks that used item.value.group where updated to not fail on missing group\n(to not break existing user inventories)\n\nOVN CI job has been extended with deploying Octavia and testing OVN Load\nBalancer.\n\nCloses-Bug: #1903506\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782957\n\nChange-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c\n(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)\n'}]",5,782735,7b19b2e31b618d6423617824daa7c7e43acc6054,54,5,14,22629,,,0,"Add missing octavia-driver-agent

For using 3rd party Octavia providers (such as OVN provider) an
octavia-driver-agent container must be running to expose those providers to
use.

tasks that used item.value.group where updated to not fail on missing group
(to not break existing user inventories)

OVN CI job has been extended with deploying Octavia and testing OVN Load
Balancer.

Closes-Bug: #1903506
Depends-On: https://review.opendev.org/c/openstack/kolla/+/782957

Change-Id: Ibafa8b7307981f2a51e630cc113d18af6162171c
(cherry picked from commit 7a066f715467db56a637dd69de3e86419a0e58de)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/782735/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/octavia/handlers/main.yml', 'tests/run.yml', 'tests/setup_gate.sh', 'tests/templates/globals-default.j2', 'tests/test-ovn.sh', 'zuul.d/base.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/octavia/defaults/main.yml', 'releasenotes/notes/bug-1903506-12ae72c114bede72.yaml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/octavia/templates/octavia-driver-agent.json.j2', 'ansible/roles/octavia/templates/octavia-api.json.j2', 'tests/templates/inventory.j2', 'etc/kolla/globals.yml']",16,0770ec2f935fd98279093c323d830a485bc4a632,octavia_driver_agent-stable/victoria,"#enable_octavia_driver_agent: ""{{ enable_octavia | bool and neutron_plugin_agent == 'ovn' }}""",,201,7
openstack%2Ftripleo-ansible~master~I6912242fafb542419535b42e93e41135ece50d05,openstack/tripleo-ansible,master,I6912242fafb542419535b42e93e41135ece50d05,Use project_id with neutron resources,MERGED,2021-06-16 06:09:43.000000000,2021-07-07 09:17:57.000000000,2021-07-01 20:37:48.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-16 06:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb2057d7d56234dd403d52661fa484e3f8de8219', 'message': 'Use project_id with neutron resources\n\nWhen creating neutron resources neutron expects\nproject_id with noauth. This would help us\nmove to standalone neutron in the undercloud.\n\nChange-Id: I6912242fafb542419535b42e93e41135ece50d05\n'}, {'number': 2, 'created': '2021-06-22 03:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/571a94364c01ccd140efce30700202ab0d7e31fa', 'message': 'Use project_id with neutron resources\n\nWhen creating neutron resources neutron expects\nproject_id with noauth. This would help us\nmove to standalone neutron in the undercloud.\n\nChange-Id: I6912242fafb542419535b42e93e41135ece50d05\n'}, {'number': 3, 'created': '2021-06-28 04:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed7eef9a197376fbd051b70433c62e92a46b5908', 'message': 'Use project_id with neutron resources\n\nWhen creating neutron resources neutron expects\nproject_id with noauth. This would help us\nmove to standalone neutron in the undercloud.\n\nChange-Id: I6912242fafb542419535b42e93e41135ece50d05\n'}, {'number': 4, 'created': '2021-07-01 04:22:46.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bac7298f137556b500eec2aae0baaea256fc3b5f', 'message': 'Use project_id with neutron resources\n\nWhen creating neutron resources neutron expects\nproject_id with noauth. This would help us\nmove to standalone neutron in the undercloud.\n\nChange-Id: I6912242fafb542419535b42e93e41135ece50d05\n'}]",0,796589,bac7298f137556b500eec2aae0baaea256fc3b5f,28,5,4,8833,,,0,"Use project_id with neutron resources

When creating neutron resources neutron expects
project_id with noauth. This would help us
move to standalone neutron in the undercloud.

Change-Id: I6912242fafb542419535b42e93e41135ece50d05
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/796589/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/tests/modules/test_tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_composable_network.py', 'tripleo_ansible/tests/modules/test_tripleo_ovn_mac_addresses.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py']",11,eb2057d7d56234dd403d52661fa484e3f8de8219,keystoneless,"from collections import namedtuple project_dict = {'id': 'admin', 'name': 'admin'} mock_conn.identity.projects.return_value = self.a2g( [namedtuple('object', project_dict.keys())(*project_dict.values())]) fixed_ips=[{'subnet_id': 'subnet_id'}], project_id='admin')", fixed_ips=[{'subnet_id': 'subnet_id'}]),129,94
openstack%2Fwatcher-dashboard~stable%2Fwallaby~Id18945b881d150f972dbbd5522010be0157fba17,openstack/watcher-dashboard,stable/wallaby,Id18945b881d150f972dbbd5522010be0157fba17,Fix create audit fail from audit_template,MERGED,2021-07-07 06:28:13.000000000,2021-07-07 08:57:17.000000000,2021-07-07 08:56:03.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 31455}]","[{'number': 1, 'created': '2021-07-07 06:28:13.000000000', 'files': ['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/6bd5236dfed5873f84a0bb69545c7ca2435ab6fe', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}]",0,799595,6bd5236dfed5873f84a0bb69545c7ca2435ab6fe,9,3,1,29911,,,0,"Fix create audit fail from audit_template

The name is a positional parameter in create() of audit,
but this parameter is not defined when calling from the
audit template. This patch fix it.

Related Bug: #1930565
Change-Id: Id18945b881d150f972dbbd5522010be0157fba17
(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/95/799595/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py']",2,6bd5236dfed5873f84a0bb69545c7ca2435ab6fe,fix_create_audit-stable/wallaby," def create(cls, request, audit_template_uuid, audit_type, name=None, auto_trigger=False, interval=None):"," def create(cls, request, name, audit_template_uuid, audit_type, auto_trigger=False, interval=None):",5,5
openstack%2Fwatcher-dashboard~stable%2Fussuri~Id18945b881d150f972dbbd5522010be0157fba17,openstack/watcher-dashboard,stable/ussuri,Id18945b881d150f972dbbd5522010be0157fba17,Fix create audit fail from audit_template,MERGED,2021-07-07 06:30:16.000000000,2021-07-07 08:57:14.000000000,2021-07-07 08:55:58.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30384}, {'_account_id': 31455}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 06:30:16.000000000', 'files': ['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/73dca396a3199e83bbde0707f2446848f8e0f1e7', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}]",0,799757,73dca396a3199e83bbde0707f2446848f8e0f1e7,9,7,1,29911,,,0,"Fix create audit fail from audit_template

The name is a positional parameter in create() of audit,
but this parameter is not defined when calling from the
audit template. This patch fix it.

Related Bug: #1930565
Change-Id: Id18945b881d150f972dbbd5522010be0157fba17
(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/57/799757/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py']",2,73dca396a3199e83bbde0707f2446848f8e0f1e7,fix_create_audit-stable/ussuri," def create(cls, request, audit_template_uuid, audit_type, name=None, auto_trigger=False, interval=None):"," def create(cls, request, name, audit_template_uuid, audit_type, auto_trigger=False, interval=None):",5,5
openstack%2Fwatcher-dashboard~stable%2Ftrain~Id18945b881d150f972dbbd5522010be0157fba17,openstack/watcher-dashboard,stable/train,Id18945b881d150f972dbbd5522010be0157fba17,Fix create audit fail from audit_template,MERGED,2021-07-07 06:32:29.000000000,2021-07-07 08:57:09.000000000,2021-07-07 08:56:01.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 31455}]","[{'number': 1, 'created': '2021-07-07 06:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/7e61ec5f2c24d99ef5a45b756a366161b184dbb6', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}, {'number': 2, 'created': '2021-07-07 07:02:47.000000000', 'files': ['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/0575a4e593f6a225ca916eff2030bf6f77df999e', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}]",0,799758,0575a4e593f6a225ca916eff2030bf6f77df999e,11,3,2,29911,,,0,"Fix create audit fail from audit_template

The name is a positional parameter in create() of audit,
but this parameter is not defined when calling from the
audit template. This patch fix it.

Related Bug: #1930565
Change-Id: Id18945b881d150f972dbbd5522010be0157fba17
(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/58/799758/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py']",2,7e61ec5f2c24d99ef5a45b756a366161b184dbb6,fix_create_audit-stable/train," def create(cls, request, audit_template_uuid, audit_type, name=None, auto_trigger=False, interval=None):"," def create(cls, request, name, audit_template_uuid, audit_type, auto_trigger=False, interval=None):",5,5
openstack%2Fnetworking-bgpvpn~master~I3a2e3e08fcb8d6606f96bfabd0638a54cbfa7dc2,openstack/networking-bgpvpn,master,I3a2e3e08fcb8d6606f96bfabd0638a54cbfa7dc2,Add Python3 xena unit tests,MERGED,2021-03-24 15:58:20.000000000,2021-07-07 08:55:05.000000000,2021-07-07 08:53:20.000000000,"[{'_account_id': 6469}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-03-24 15:58:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/dfc89f1ab99e6f08b5554efebfd7d149cede64ae', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3a2e3e08fcb8d6606f96bfabd0638a54cbfa7dc2\n'}]",0,782803,dfc89f1ab99e6f08b5554efebfd7d149cede64ae,10,6,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3a2e3e08fcb8d6606f96bfabd0638a54cbfa7dc2
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/03/782803/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dfc89f1ab99e6f08b5554efebfd7d149cede64ae,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-neutron, - openstack-python3-wallaby-jobs-neutron,1,1
openstack%2Fwatcher-dashboard~stable%2Fvictoria~Id18945b881d150f972dbbd5522010be0157fba17,openstack/watcher-dashboard,stable/victoria,Id18945b881d150f972dbbd5522010be0157fba17,Fix create audit fail from audit_template,MERGED,2021-07-07 06:29:43.000000000,2021-07-07 08:46:34.000000000,2021-07-07 08:45:08.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30384}, {'_account_id': 31455}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-07 06:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/3bcc22067d6434db189d66b3ef7d79eda99fd2e4', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}, {'number': 2, 'created': '2021-07-07 06:53:16.000000000', 'files': ['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/745cada3d66a9a0a44fdca4aadd0694787378016', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)\n'}]",0,799756,745cada3d66a9a0a44fdca4aadd0694787378016,11,7,2,29911,,,0,"Fix create audit fail from audit_template

The name is a positional parameter in create() of audit,
but this parameter is not defined when calling from the
audit template. This patch fix it.

Related Bug: #1930565
Change-Id: Id18945b881d150f972dbbd5522010be0157fba17
(cherry picked from commit 2ee3c6015c5347c75727f5afd2059e4060a1da1f)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/56/799756/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py']",2,3bcc22067d6434db189d66b3ef7d79eda99fd2e4,fix_create_audit-stable/victoria," def create(cls, request, audit_template_uuid, audit_type, name=None, auto_trigger=False, interval=None):"," def create(cls, request, name, audit_template_uuid, audit_type, auto_trigger=False, interval=None):",5,5
openstack%2Fcharm-neutron-gateway~master~I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c,openstack/charm-neutron-gateway,master,I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c,Add impish to metadata.yaml,MERGED,2021-06-03 09:21:01.000000000,2021-07-07 08:40:33.000000000,2021-07-07 08:40:33.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/c7601eb02d246d42b81bc585a3a23d95a538c5cf', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c\n'}, {'number': 2, 'created': '2021-06-18 11:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/c8419bd4a665bb7f250caffdb20f4770cb8eed93', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c\n'}, {'number': 3, 'created': '2021-07-05 12:41:18.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/d29d295c32a0667323a2869a9a0871c6be7c847a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c\n'}]",0,794527,d29d295c32a0667323a2869a9a0871c6be7c847a,19,4,3,31289,,,0,"Add impish to metadata.yaml

Change-Id: I9c3deef7a7cbc1085e72c2b7a25b32c964df6d5c
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/27/794527/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,c7601eb02d246d42b81bc585a3a23d95a538c5cf,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-keystone-saml-mellon~master~I96c94e7f1edd8227dbfe41607299f20a195bc6d1,openstack/charm-keystone-saml-mellon,master,I96c94e7f1edd8227dbfe41607299f20a195bc6d1,Add impish to metadata.yaml,MERGED,2021-06-03 09:15:05.000000000,2021-07-07 08:38:57.000000000,2021-07-07 08:38:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/aced2adf2d09613e5c1fef38825681809bfe3135', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I96c94e7f1edd8227dbfe41607299f20a195bc6d1\n'}, {'number': 2, 'created': '2021-06-23 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/55da03f4e69793c0ab34564e2615c6313f6d6a0f', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I96c94e7f1edd8227dbfe41607299f20a195bc6d1\n'}, {'number': 3, 'created': '2021-07-06 07:46:48.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7a009984054d47118e91dac8d0a3e1c3943b9f80', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I96c94e7f1edd8227dbfe41607299f20a195bc6d1\n'}]",0,794508,7a009984054d47118e91dac8d0a3e1c3943b9f80,20,4,3,31289,,,0,"Add impish to metadata.yaml

Change-Id: I96c94e7f1edd8227dbfe41607299f20a195bc6d1
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/08/794508/2 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,aced2adf2d09613e5c1fef38825681809bfe3135,charm-metadata-impish,- impish,,1,0
openstack%2Fnetworking-bgpvpn~master~I8768634717b3b8e4a9ed5af1b684986b0e04fed0,openstack/networking-bgpvpn,master,I8768634717b3b8e4a9ed5af1b684986b0e04fed0,Update master for stable/wallaby,MERGED,2021-03-24 15:57:59.000000000,2021-07-07 08:37:04.000000000,2021-07-07 08:35:51.000000000,"[{'_account_id': 6469}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-03-24 15:57:59.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ed8771f152a49103e5ffe3e10f3d345fe0531f63', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I8768634717b3b8e4a9ed5af1b684986b0e04fed0\n'}]",0,782802,ed8771f152a49103e5ffe3e10f3d345fe0531f63,10,6,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I8768634717b3b8e4a9ed5af1b684986b0e04fed0
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/02/782802/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,ed8771f152a49103e5ffe3e10f3d345fe0531f63,reno-wallaby, wallaby,,7,0
openstack%2Fopenstack-ansible~master~I9e0c2a844af40365f20fca322cc969ea54d24f8f,openstack/openstack-ansible,master,I9e0c2a844af40365f20fca322cc969ea54d24f8f,Imported Translations from Zanata,MERGED,2021-07-07 07:49:49.000000000,2021-07-07 08:29:04.000000000,2021-07-07 08:27:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-07 07:49:49.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/es/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e22c20cdeacca21da7d294875e6346b29e56d50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9e0c2a844af40365f20fca322cc969ea54d24f8f\n'}]",0,799750,6e22c20cdeacca21da7d294875e6346b29e56d50,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9e0c2a844af40365f20fca322cc969ea54d24f8f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/799750/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/es/LC_MESSAGES/doc.po']",2,6e22c20cdeacca21da7d294875e6346b29e56d50,zanata/translations,"# Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata""Project-Id-Version: openstack-ansible 23.1.0.dev1\n""""POT-Creation-Date: 2021-07-01 13:38+0000\n""""PO-Revision-Date: 2021-07-06 03:26+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n""msgid """" ""OpenStack-Ansible Wallaby series was first released with the 23.0.0 tag on "" ""02 July 2021."" msgstr """" ""OpenStack-Ansible de la serie Wallaby fue publicado inicialmente con la "" ""etiqueta 23.0.0 el 02 de julio de 2021.""msgid ""Wallaby: Maintained"" msgstr ""Wallaby: En mantenimiento""","# Alberto Molina Coballes <alb.molina@gmail.com>, 2021. #zanata""Project-Id-Version: openstack-ansible 22.0.0.0rc2.dev222\n""""POT-Creation-Date: 2021-06-01 15:03+0000\n""""PO-Revision-Date: 2021-05-21 02:18+0000\n"" ""Last-Translator: Alberto Molina Coballes <alb.molina@gmail.com>\n""msgid ""OpenStack-Ansible Wallaby is currently in development."" msgstr ""OpenStack-Ansible Wallaby está en desarrollo.""msgid ""Wallaby: Under Development"" msgstr ""Wallaby: En desarrollo""",15,17
openstack%2Fcinder~master~I047c92d1e4196fc7e64d2164e17a9633f152f436,openstack/cinder,master,I047c92d1e4196fc7e64d2164e17a9633f152f436,Delete quotas when deleting volume type,NEW,2020-12-28 03:46:50.000000000,2021-07-07 08:27:59.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 18058}, {'_account_id': 20146}, {'_account_id': 20160}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30407}, {'_account_id': 30615}, {'_account_id': 31027}, {'_account_id': 33642}]","[{'number': 1, 'created': '2020-12-28 03:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e978974780bdea61cf7b7b9fe69f5ba6bdc1925e', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 2, 'created': '2020-12-29 03:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/794062e6fa6d05bfc65555bccb2775c494e901f9', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 3, 'created': '2021-01-15 09:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/244509c061b06ae2430037cc38d34aff39459887', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 4, 'created': '2021-01-21 05:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c371f29958ec89bc32fe1309ed99c5b56a1e01c8', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 5, 'created': '2021-01-21 06:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d38fda373e61c63fe5f9f273513bec3df4b7e08', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 6, 'created': '2021-06-23 03:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0544e31330c594d243a5a6d01571adee26bd2148', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 7, 'created': '2021-06-23 08:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/602dd7fc1a04d3eabf1ccc9628b9fccc1d9e6418', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 8, 'created': '2021-06-30 06:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/760e93b1dd0e99890db9e1afa5d4da6fbf219ecf', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}, {'number': 9, 'created': '2021-07-05 07:09:02.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'releasenotes/notes/bug-1907750-2d561d49ffcde42a.yaml', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e71d063a894f5994ee9b7f1ab82d8a385b58f9f4', 'message': 'Delete quotas when deleting volume type\n\nWhen deleting a volume type, delete the quota information\nrelated to this type. Related quotas include quota_usage,\nquota_class and quota tables.\n\nChange-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436\nCloses-Bug: #1907750\n'}]",56,768592,e71d063a894f5994ee9b7f1ab82d8a385b58f9f4,217,16,9,27518,,,0,"Delete quotas when deleting volume type

When deleting a volume type, delete the quota information
related to this type. Related quotas include quota_usage,
quota_class and quota tables.

Change-Id: I047c92d1e4196fc7e64d2164e17a9633f152f436
Closes-Bug: #1907750
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/768592/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/api.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/test_quota.py', 'cinder/quota.py']",5,e978974780bdea61cf7b7b9fe69f5ba6bdc1925e,bug/1907750," def delete_quota_associated_volume_type(self, context, type_name): """"""delete type related quotas. This is to update resource in quotas, quota_classes, and quota_usages once the name of a volume type is changed. :param context: The request context, for access checks. :param old_type_name: old name of volume type. :param new_type_name: new name of volume type. """""" for quota in ('volumes', 'gigabytes', 'snapshots'): res_name = ""%s_%s"" % (quota, type_name) db.quota_usage_destroy_all_by_resource(context, res_name) db.quota_class_destroy_all_by_resource(context, res_name) db.quota_destroy_all_by_resource(context, res_name) ",,70,1
openstack%2Fskyline-apiserver~master~I71561bc3f6acbff3d90c9ad1922095e71497f226,openstack/skyline-apiserver,master,I71561bc3f6acbff3d90c9ad1922095e71497f226,feat: Add skyline-config under libs,MERGED,2021-07-01 07:03:41.000000000,2021-07-07 08:25:40.000000000,2021-07-07 08:25:40.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-07-01 07:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ba42024e7f586d1ae3f015ac824ac2085f68f3cc', 'message': 'feat: Add skyline-config under libs\n\n1. remove base.py under config folder\n2. add skyline-config library under libs\n\nChange-Id: I71561bc3f6acbff3d90c9ad1922095e71497f226\n'}, {'number': 2, 'created': '2021-07-07 06:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/61a0fd7e67222b3fb5b99ad8f74c368606fa4c8b', 'message': 'feat: Add skyline-config under libs\n\n1. remove base.py under config folder\n2. add skyline-config library under libs\n\nChange-Id: I71561bc3f6acbff3d90c9ad1922095e71497f226\n'}, {'number': 3, 'created': '2021-07-07 08:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1f98de8c464956269a0a1421212c01d365b2f9c5', 'message': 'feat: Add skyline-config under libs\n\n1. remove base.py under config folder\n2. add skyline-config library under libs\n\nChange-Id: I71561bc3f6acbff3d90c9ad1922095e71497f226\n'}, {'number': 4, 'created': '2021-07-07 08:14:26.000000000', 'files': ['libs/skyline-config/src/skyline_config/config.py', 'libs/skyline-config/tests/test_skyline_config.py', 'Makefile', 'libs/skyline-config/tests/__init__.py', 'libs/skyline-config/src/skyline_config/__init__.py', 'libs/skyline-config/tests/test_config.py', 'libs/skyline-config/pyproject.toml', 'libs/skyline-config/poetry.lock', 'src/skyline_apiserver/config/openstack.py', 'src/skyline_apiserver/config/developer.py', 'libs/skyline-config/.flake8', 'libs/skyline-config/LICENSE', 'libs/skyline-config/mypy.ini', 'libs/skyline-config/Makefile', 'libs/skyline-config/poetry.toml', 'src/skyline_apiserver/config/__init__.py', 'pyproject.toml', 'src/skyline_apiserver/config/default.py', 'src/skyline_apiserver/config/setting.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/826234e9dbadbc8f9d7bdbeff231754a2421ab41', 'message': 'feat: Add skyline-config under libs\n\n1. remove base.py under config folder\n2. add skyline-config library under libs\n\nChange-Id: I71561bc3f6acbff3d90c9ad1922095e71497f226\n'}]",10,798985,826234e9dbadbc8f9d7bdbeff231754a2421ab41,17,4,4,28706,,,0,"feat: Add skyline-config under libs

1. remove base.py under config folder
2. add skyline-config library under libs

Change-Id: I71561bc3f6acbff3d90c9ad1922095e71497f226
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/85/798985/4 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-config/src/skyline_config/config.py', 'libs/skyline-config/tests/test_skyline_config.py', 'Makefile', 'libs/skyline-config/tests/__init__.py', 'libs/skyline-config/src/skyline_config/__init__.py', 'libs/skyline-config/tests/test_config.py', 'libs/skyline-config/pyproject.toml', 'libs/skyline-config/poetry.lock', 'src/skyline_apiserver/config/openstack.py', 'src/skyline_apiserver/config/developer.py', 'libs/skyline-config/.flake8', 'libs/skyline-config/LICENSE', 'libs/skyline-config/mypy.ini', 'libs/skyline-config/Makefile', 'libs/skyline-config/poetry.toml', 'src/skyline_apiserver/config/__init__.py', 'pyproject.toml', 'src/skyline_apiserver/config/default.py', 'src/skyline_apiserver/config/setting.py']",19,ba42024e7f586d1ae3f015ac824ac2085f68f3cc,skyline/log,from skyline_config import Opt, from .base import Opt,795,13
openstack%2Fneutron-lib~master~I5f232b1c4b9d175821fe9030d0889f19dbef0ccf,openstack/neutron-lib,master,I5f232b1c4b9d175821fe9030d0889f19dbef0ccf,add global_request_id in from_dict,ABANDONED,2021-06-28 08:15:41.000000000,2021-07-07 08:13:34.000000000,,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 08:15:41.000000000', 'files': ['neutron_lib/context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0c4e5e29f47ecdd8cf18ac637cf88cccc60221c5', 'message': 'add global_request_id in from_dict\n\nCloses-bug: #1933802\nChange-Id: I5f232b1c4b9d175821fe9030d0889f19dbef0ccf\n'}]",1,798261,0c4e5e29f47ecdd8cf18ac637cf88cccc60221c5,6,3,1,33003,,,0,"add global_request_id in from_dict

Closes-bug: #1933802
Change-Id: I5f232b1c4b9d175821fe9030d0889f19dbef0ccf
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/61/798261/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/context.py'],1,0c4e5e29f47ecdd8cf18ac637cf88cccc60221c5,fix-context," global_request_id=values.get('global_request_id'),",,1,0
openstack%2Fskyline-apiserver~master~I6128077182e223d708c17753524a1f42dc6fad27,openstack/skyline-apiserver,master,I6128077182e223d708c17753524a1f42dc6fad27,refactor: Use __version__ instead of VERSION in constants,MERGED,2021-07-01 07:28:30.000000000,2021-07-07 08:10:15.000000000,2021-07-07 08:10:15.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-07-01 07:28:30.000000000', 'files': ['tests/utils/utils.py', 'src/skyline_apiserver/core/security.py', 'tests/api/v1/test_login.py', 'src/skyline_apiserver/types/constants.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/8eb2825b9bd6be37bf94b69a376bb1f86b6aaad3', 'message': 'refactor: Use __version__ instead of VERSION in constants\n\nRemove the VERSION from constants. Just use __version__ as\nversion in profile.\n\nChange-Id: I6128077182e223d708c17753524a1f42dc6fad27\n'}]",0,798996,8eb2825b9bd6be37bf94b69a376bb1f86b6aaad3,7,4,1,28706,,,0,"refactor: Use __version__ instead of VERSION in constants

Remove the VERSION from constants. Just use __version__ as
version in profile.

Change-Id: I6128077182e223d708c17753524a1f42dc6fad27
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/96/798996/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/utils/utils.py', 'src/skyline_apiserver/core/security.py', 'tests/api/v1/test_login.py', 'src/skyline_apiserver/types/constants.py']",4,8eb2825b9bd6be37bf94b69a376bb1f86b6aaad3,fix-version,,"VERSION = ""8.1.0"" ",6,6
openstack%2Fskyline-console~master~I4b0e7dd346a6167df2a8a2f7380504cdbd32dc96,openstack/skyline-console,master,I4b0e7dd346a6167df2a8a2f7380504cdbd32dc96,docs: Add English documents,MERGED,2021-07-01 07:13:20.000000000,2021-07-07 08:08:58.000000000,2021-07-07 08:08:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-07-01 07:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/98338940284e90122c8921e679c351236133d397', 'message': 'docs: Add English documents\n\nAdd English development documents\n\nIssue: 100026\nChange-Id: I4b0e7dd346a6167df2a8a2f7380504cdbd32dc96\n'}, {'number': 2, 'created': '2021-07-01 07:30:56.000000000', 'files': ['docs/en/develop/3-6-FormAction-introduction.md', 'docs/en/develop/1-ready-to-work.md', 'docs/en/develop/images/store/response-key.png', 'docs/en/develop/images/list/fresh.png', 'docs/en/develop/images/list/volumes.png', 'docs/en/develop/images/list/search.png', 'docs/en/develop/images/list/tab-list.png', 'docs/en/develop/images/list/stop-auto-refresh.png', 'docs/en/develop/images/form/page.png', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'docs/en/develop/images/list/pagination.png', 'docs/en/develop/2-catalog-introduction.md', 'docs/en/develop/images/form/create-success.png', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'docs/en/develop/3-5-BaseStore-introduction.md', 'docs/en/develop/3-0-how-to-develop.md', 'docs/en/develop/images/list/tab-service.png', 'docs/en/develop/images/list/search-example.png', 'docs/en/develop/images/list/hide.png', 'docs/en/develop/3-1-BaseList-introduction.md', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/3-1-BaseList-introduction.md', 'docs/en/develop/images/list/download.png', 'docs/en/develop/images/detail/volume.png', 'docs/en/develop/images/list/batch.png', 'docs/en/develop/images/detail/image-detail-info.png', 'docs/zh/develop/2-catalog-introduction.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4b78cc6c6019fed5617c6578675a0f9841ae1174', 'message': 'docs: Add English documents\n\nAdd English development documents\n\nChange-Id: I4b0e7dd346a6167df2a8a2f7380504cdbd32dc96\n'}]",0,798991,4b78cc6c6019fed5617c6578675a0f9841ae1174,11,3,2,33689,,,0,"docs: Add English documents

Add English development documents

Change-Id: I4b0e7dd346a6167df2a8a2f7380504cdbd32dc96
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/91/798991/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/Delete.jsx', 'docs/en/develop/3-6-FormAction-introduction.md', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/compute/containers/Instance/actions/Start.jsx', 'docs/en/develop/images/list/fresh.png', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/EditMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/compute/containers/Image/actions/CreateIronic.jsx', 'docs/en/develop/images/list/stop-auto-refresh.png', 'src/pages/network/containers/LoadBalancers/Listener/Actions/index.jsx', 'src/pages/compute/containers/Instance/actions/Rebuild.jsx', 'docs/en/develop/3-4-BaseDetailInfo-introduction.md', 'src/pages/compute/containers/Instance/actions/Lock.jsx', 'docs/en/develop/3-2-BaseTabList-introduction.md', 'docs/en/develop/3-0-how-to-develop.md', 'ssh-add', 'src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'docs/en/develop/images/list/tab-service.png', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx', 'src/pages/compute/containers/Instance/actions/Unshelve.jsx', 'docs/zh/develop/3-1-BaseList-introduction.md', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/Edit.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Instance/components/index.less', 'src/pages/compute/containers/Instance/actions/Shelve.jsx', 'docs/en/develop/images/detail/volume.png', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/network/containers/Topology/index.less', 'docs/en/develop/images/detail/image-detail-info.png', 'src/pages/compute/containers/Instance/actions/Pause.jsx', 'docs/en/develop/1-ready-to-work.md', 'docs/en/develop/images/store/response-key.png', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeletePool.jsx', 'docs/en/develop/images/list/search.png', 'src/pages/compute/containers/Instance/index.less', 'src/pages/management/App.jsx', 'docs/en/develop/images/list/tab-list.png', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'docs/en/develop/images/form/page.png', 'src/pages/compute/containers/Instance/actions/ChangePassword.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'docs/en/develop/3-1-BaseList-introduction.md', 'src/pages/compute/containers/Instance/actions/Suspend.jsx', 'src/pages/compute/containers/Instance/actions/Unpause.jsx', 'docs/zh/develop/2-catalog-introduction.md', 'src/pages/compute/containers/Instance/actions/Unlock.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/compute/containers/Instance/actions/Reboot.jsx', 'docs/en/develop/images/list/volumes.png', 'src/pages/compute/containers/Instance/actions/DeleteIronic.jsx', 'src/pages/compute/containers/Image/index.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/Detach.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'docs/en/develop/images/list/pagination.png', 'docs/en/develop/2-catalog-introduction.md', 'docs/en/develop/images/form/create-success.png', 'docs/en/develop/3-5-BaseStore-introduction.md', 'src/pages/compute/containers/Instance/actions/AttachInterface.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditPoolInfo.jsx', 'docs/en/develop/3-3-BaseDetail-introduction.md', 'src/pages/compute/containers/Instance/actions/SoftDelete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditHealthMonitor.jsx', 'docs/en/develop/images/list/download.png', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/compute/containers/Instance/actions/index.less', 'src/pages/compute/containers/Image/actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/pages/network/containers/Topology/InstanceCard.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.less', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.less', 'src/pages/compute/containers/Instance/actions/DisassociateFip.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/DeleteMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreatePool.jsx', 'src/pages/compute/containers/Instance/actions/Resume.jsx', 'docs/en/develop/images/list/search-example.png', 'docs/en/develop/images/list/hide.png', 'src/pages/compute/containers/Instance/actions/Stop.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeleteListener.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/MemberManagement.jsx', 'docs/en/develop/images/list/batch.png', 'src/pages/compute/containers/Instance/actions/Console.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.less', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/compute/containers/Image/actions/CreateInstance.jsx', 'ssh-add.pub']",98,98338940284e90122c8921e679c351236133d397,opendev,ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDQYsLL36Sv/fKgF1DzRu4RA46+gcc3Sy7QIGXOnlfGJmkTx1TND3VvDVc6K05VZ/CyaTwb99yAfvVUHxZol3lKOLXA+3Si6xYW64vP4+4nT4r2fYwWXyyoO8aHhMMEMu7ej5haDDJvHel5z1AriIBjk1c/yyLA69by35RokxYxsxvx7KaZm08xLlLkJQgxdJmWf5iaRCPnMUIm9V5zmYTWZGS4rgIGwOjH1N8qvwqnh2MXlcB9lmUcmydHCvGvg8Vvmc0ciFM1G1M+EkPfnxLtF0of6Q91ktQdJ3uc2G/PaTT35710fDF6rsWgnZ/4iTZWyxhP+uRfwfqqznFALnNIQ40u4BYNMWtyZulNdfEhN7lT5thRc2kZ81xWCmobnZ3PRwJ190lxAPhkTk+UDd16JdW9q/KOKuzuGAm7ROMsyYEXofP83YOy3H7eg3uzU1aeWTwdR0SJGEIn+jGHyT67wbdD7TE3yc3CPQDgRnVZR4cP2JjSADgBxNWZWkgL2Bc= xusongfu@xusongfudeMacBook-Pro.local ,,2664,7670
openstack%2Fneutron-tempest-plugin~master~I7b4606fd49ea7919cff56d819a2a5236ea3b1e73,openstack/neutron-tempest-plugin,master,I7b4606fd49ea7919cff56d819a2a5236ea3b1e73,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:11:07.000000000,2021-07-07 08:06:54.000000000,2021-07-07 08:05:47.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:11:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d32821b1d28f9f48c6f627dd76b25a40fedbdff0', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7b4606fd49ea7919cff56d819a2a5236ea3b1e73\n""}]",0,799599,d32821b1d28f9f48c6f627dd76b25a40fedbdff0,9,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7b4606fd49ea7919cff56d819a2a5236ea3b1e73
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/99/799599/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d32821b1d28f9f48c6f627dd76b25a40fedbdff0,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1whitelist_externals =,2,2
openstack%2Fwatcher-dashboard~stable%2Ftrain~I9308030b0a16f9a7e085b3e64230cd92dda6ad83,openstack/watcher-dashboard,stable/train,I9308030b0a16f9a7e085b3e64230cd92dda6ad83,Dropping lower constraints testing,MERGED,2021-07-07 06:58:10.000000000,2021-07-07 08:05:28.000000000,2021-07-07 08:03:40.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 30384}]","[{'number': 1, 'created': '2021-07-07 06:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/16a7c2491f24d085e76c6082933c004bba7533f7', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}, {'number': 2, 'created': '2021-07-07 07:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/bde3a02b8407f569774509fdf08a35a16a979c70', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}, {'number': 3, 'created': '2021-07-07 07:01:55.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/82994269dc992d22612471c3f1b6ff77d75562ab', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}]",0,799744,82994269dc992d22612471c3f1b6ff77d75562ab,9,3,3,29911,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83
(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)
(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/44/799744/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,16a7c2491f24d085e76c6082933c004bba7533f7,,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,1,8
openstack%2Fwatcher-dashboard~stable%2Fvictoria~I9308030b0a16f9a7e085b3e64230cd92dda6ad83,openstack/watcher-dashboard,stable/victoria,I9308030b0a16f9a7e085b3e64230cd92dda6ad83,Dropping lower constraints testing,MERGED,2021-07-07 06:48:59.000000000,2021-07-07 08:05:00.000000000,2021-07-07 08:02:47.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 30384}]","[{'number': 1, 'created': '2021-07-07 06:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/2eac7624a1a22048d4802673066a54d56213339b', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}, {'number': 2, 'created': '2021-07-07 06:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/0cf51781d92c2932d5c259182e09372ba4016d8c', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}, {'number': 3, 'created': '2021-07-07 06:52:30.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/87e436634cc2c6e575d2e27ebcbc59c42afd9aab', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)\n(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)\n'}]",0,799759,87e436634cc2c6e575d2e27ebcbc59c42afd9aab,12,3,3,29911,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83
(cherry picked from commit 427afe1f75665592c53b8597d46b9e25078627fa)
(cherry picked from commit 00ee1f57963eb844489d48e4c61f2be816c82106)
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/59/799759/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,2eac7624a1a22048d4802673066a54d56213339b,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,130
openstack%2Fcyborg~master~I6e659f58e44647308e1cc28c3f1b5f128943a29a,openstack/cyborg,master,I6e659f58e44647308e1cc28c3f1b5f128943a29a,test tempest,ABANDONED,2021-06-22 08:01:20.000000000,2021-07-07 07:42:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 08:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/375c03da7438f480fd1d4e4fd9fd1fde6b5989ee', 'message': 'test tempest\n\nChange-Id: I6e659f58e44647308e1cc28c3f1b5f128943a29a\n'}, {'number': 2, 'created': '2021-06-22 08:23:55.000000000', 'files': ['cyborg/api/controllers/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0ccaefc139f4e67c78a3ef64d98ba89f55a4d391', 'message': 'test tempest\n\nChange-Id: I6e659f58e44647308e1cc28c3f1b5f128943a29a\n'}]",0,797390,0ccaefc139f4e67c78a3ef64d98ba89f55a4d391,5,1,2,31412,,,0,"test tempest

Change-Id: I6e659f58e44647308e1cc28c3f1b5f128943a29a
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/90/797390/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,375c03da7438f480fd1d4e4fd9fd1fde6b5989ee,,,,1,0
openstack%2Fcyborg~master~I0372cdfa7e993e46bbb0828e9a35275d9650d30f,openstack/cyborg,master,I0372cdfa7e993e46bbb0828e9a35275d9650d30f,Skip tempest,ABANDONED,2021-06-24 06:09:53.000000000,2021-07-07 07:42:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 06:09:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4af7734e042a85425376d7ee898cee49649cb8bd', 'message': 'Skip tempest\n\nAs there are bugs both in cyborg and cyborg-tempest, we need skip\ntempest and fix cyborg bug first, then readd tempest after cyborg-tempest\nbug fixed.\n\nChange-Id: I0372cdfa7e993e46bbb0828e9a35275d9650d30f\n'}]",0,797803,4af7734e042a85425376d7ee898cee49649cb8bd,3,1,1,31412,,,0,"Skip tempest

As there are bugs both in cyborg and cyborg-tempest, we need skip
tempest and fix cyborg bug first, then readd tempest after cyborg-tempest
bug fixed.

Change-Id: I0372cdfa7e993e46bbb0828e9a35275d9650d30f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/03/797803/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4af7734e042a85425376d7ee898cee49649cb8bd,,, - cyborg-tempest - cyborg-tempest-ipv6-only gate: jobs: - cyborg-tempest,0,5
openstack%2Ftacker-horizon~master~I85a3e74372bb47647bc873ae0c5e320e9adad5a2,openstack/tacker-horizon,master,I85a3e74372bb47647bc873ae0c5e320e9adad5a2,Remove broken link from tacker horizon guide,MERGED,2021-07-03 17:06:49.000000000,2021-07-07 07:32:11.000000000,2021-07-07 07:30:46.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-03 17:06:49.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c4f27e2373b6d5d35ffc8ef37bf70bae9368d8b8', 'message': 'Remove broken link from tacker horizon guide\n\nIn tacker horizon guide, under ""Indices and tables"" section,\n""Module Index"" refer to a broken link [1].\n\nThe documentation build does not generate module index, thus\nwe can remove the link [1] from page.\n\n[1] https://docs.openstack.org/tacker-horizon/latest/py-modindex.html\n\nCloses-Bug: #1934177\nChange-Id: I85a3e74372bb47647bc873ae0c5e320e9adad5a2\n'}]",0,799399,c4f27e2373b6d5d35ffc8ef37bf70bae9368d8b8,9,5,1,32102,,,0,"Remove broken link from tacker horizon guide

In tacker horizon guide, under ""Indices and tables"" section,
""Module Index"" refer to a broken link [1].

The documentation build does not generate module index, thus
we can remove the link [1] from page.

[1] https://docs.openstack.org/tacker-horizon/latest/py-modindex.html

Closes-Bug: #1934177
Change-Id: I85a3e74372bb47647bc873ae0c5e320e9adad5a2
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/99/799399/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,c4f27e2373b6d5d35ffc8ef37bf70bae9368d8b8,bug/1934177,,* :ref:`modindex`,0,1
openstack%2Fwatcher~master~I00b6af1560c84d0b99b6044078c1d65d22b206b0,openstack/watcher,master,I00b6af1560c84d0b99b6044078c1d65d22b206b0,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 10:49:57.000000000,2021-07-07 07:25:39.000000000,2021-07-07 07:24:08.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-06 10:49:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/546b730c9b229415d6b325f9a083542f914715b1', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I00b6af1560c84d0b99b6044078c1d65d22b206b0\n""}]",0,799630,546b730c9b229415d6b325f9a083542f914715b1,8,3,1,29911,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I00b6af1560c84d0b99b6044078c1d65d22b206b0
",git fetch https://review.opendev.org/openstack/watcher refs/changes/30/799630/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,546b730c9b229415d6b325f9a083542f914715b1,update-min-tox,minversion = 3.18.0allowlist_externals = findallowlist_externals = bashallowlist_externals =,minversion = 2.0whitelist_externals = findwhitelist_externals = bashwhitelist_externals =,4,4
openstack%2Fwatcher-tempest-plugin~master~Ibcec688515a595b016f2832e49343b9053821304,openstack/watcher-tempest-plugin,master,Ibcec688515a595b016f2832e49343b9053821304,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 10:54:45.000000000,2021-07-07 07:24:11.000000000,2021-07-07 07:24:11.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-06 10:54:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/869e107bb97a85bef840b3c9ce3636a524fc1bfc', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ibcec688515a595b016f2832e49343b9053821304\n""}]",0,799638,869e107bb97a85bef840b3c9ce3636a524fc1bfc,7,3,1,29911,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ibcec688515a595b016f2832e49343b9053821304
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/38/799638/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,869e107bb97a85bef840b3c9ce3636a524fc1bfc,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fdiskimage-builder~master~Iad5a4717bcb55928377cc159b3360b0a70c5c5ac,openstack/diskimage-builder,master,Iad5a4717bcb55928377cc159b3360b0a70c5c5ac,fedora-container: install dnf-plugins-core,MERGED,2021-06-18 02:09:55.000000000,2021-07-07 06:53:09.000000000,2021-07-07 06:51:05.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 02:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2479bd2ee43eb17afbd1ff65311174536bc796ed', 'message': ""fedora-container: install dnf-plugins-core\n\nAdd dnf-plugins-core to the package-installs.  While we're here, clean\nup some unneeded packages, and remove the pkg-map that isn't relevant\nfor Fedora builds.\n\nChange-Id: Iad5a4717bcb55928377cc159b3360b0a70c5c5ac\n""}, {'number': 2, 'created': '2021-06-18 02:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/45b1efc05bae3b01dc02a742e676ba9d8440e033', 'message': 'fedora-container: install dnf-plugins-core\n\nAdd dnf-plugins-core to the package-installs; this lets things like\n""dnf copr"" work automatically and is in-line with fedora-minimal base\npackages.  While we\'re here, clean up some unneeded packages, and\nremove the pkg-map that isn\'t relevant for Fedora builds.\n\nChange-Id: Iad5a4717bcb55928377cc159b3360b0a70c5c5ac\n'}, {'number': 3, 'created': '2021-07-07 01:02:58.000000000', 'files': ['diskimage_builder/elements/fedora-container/package-installs.yaml', 'diskimage_builder/elements/fedora-container/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bc39a5afe792b1e2b30775f6434af8607b63b74d', 'message': 'fedora-container: install dnf-plugins-core\n\nAdd dnf-plugins-core to the package-installs; this lets things like\n""dnf copr"" work automatically and is in-line with fedora-minimal base\npackages.  While we\'re here, clean up some unneeded packages, and\nremove the pkg-map that isn\'t relevant for Fedora builds.\n\nChange-Id: Iad5a4717bcb55928377cc159b3360b0a70c5c5ac\n'}]",0,796984,bc39a5afe792b1e2b30775f6434af8607b63b74d,27,2,3,7118,,,0,"fedora-container: install dnf-plugins-core

Add dnf-plugins-core to the package-installs; this lets things like
""dnf copr"" work automatically and is in-line with fedora-minimal base
packages.  While we're here, clean up some unneeded packages, and
remove the pkg-map that isn't relevant for Fedora builds.

Change-Id: Iad5a4717bcb55928377cc159b3360b0a70c5c5ac
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/84/796984/3 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-container/package-installs.yaml', 'diskimage_builder/elements/fedora-container/pkg-map']",2,2479bd2ee43eb17afbd1ff65311174536bc796ed,f34-dnf-plugins,,"{ ""release"": { ""centos"": { ""7"": { ""NetworkManager"": """", ""dhcp-client"": """" } } }, ""family"": { ""redhat"": { ""lsb_release"": ""redhat-lsb-core"" } } } ",1,23
openstack%2Fwatcher-dashboard~master~I83ee292b6d7440f7543ef85d7eed82940ee9745d,openstack/watcher-dashboard,master,I83ee292b6d7440f7543ef85d7eed82940ee9745d,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 11:01:40.000000000,2021-07-07 06:41:24.000000000,2021-07-07 06:39:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-06 11:01:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/a48e09f7abbdb05c8c29b0fd4c9f125d589e6d7c', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I83ee292b6d7440f7543ef85d7eed82940ee9745d\n""}]",0,799640,a48e09f7abbdb05c8c29b0fd4c9f125d589e6d7c,8,3,1,29911,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I83ee292b6d7440f7543ef85d7eed82940ee9745d
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/40/799640/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a48e09f7abbdb05c8c29b0fd4c9f125d589e6d7c,update-min-tox,minversion = 3.18.0allowlist_externals = /bin/bashallowlist_externals =,minversion = 2.0whitelist_externals = /bin/bashwhitelist_externals =,3,3
openstack%2Fpython-watcherclient~master~Ie426b70156f777654d78bb3a3dada05f733abdc5,openstack/python-watcherclient,master,Ie426b70156f777654d78bb3a3dada05f733abdc5,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:16:03.000000000,2021-07-07 06:38:57.000000000,2021-07-07 06:37:15.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-06 08:16:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/cf18f56c6f84da777071202dda1253179bbd4ccc', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ie426b70156f777654d78bb3a3dada05f733abdc5\n""}]",0,799603,cf18f56c6f84da777071202dda1253179bbd4ccc,9,2,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ie426b70156f777654d78bb3a3dada05f733abdc5
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/03/799603/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cf18f56c6f84da777071202dda1253179bbd4ccc,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 2.0whitelist_externals =whitelist_externals =,3,3
openstack%2Fvalidations-libs~master~I9cd7a597cd532a43d9b6bd5ff389aca4dc082c78,openstack/validations-libs,master,I9cd7a597cd532a43d9b6bd5ff389aca4dc082c78,DNM,ABANDONED,2021-07-07 06:34:49.000000000,2021-07-07 06:38:51.000000000,,[],"[{'number': 1, 'created': '2021-07-07 06:34:49.000000000', 'files': ['playbooks/coverchange.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3ed0f4cc01a453d9865bec908fa6d437ff8edbf6', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9cd7a597cd532a43d9b6bd5ff389aca4dc082c78\n'}]",0,799742,3ed0f4cc01a453d9865bec908fa6d437ff8edbf6,2,0,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9cd7a597cd532a43d9b6bd5ff389aca4dc082c78
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/42/799742/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/coverchange.yaml'],1,3ed0f4cc01a453d9865bec908fa6d437ff8edbf6,jobretest, tox -e -r cover | awk '/TOTAL/{ print 1-$3/$2 }' tox -e cover -r | awk '/TOTAL/{ print 1-$3/$2 }', tox -e cover | awk '/TOTAL/{ print 1-$3/$2 }' tox -e cover | awk '/TOTAL/{ print 1-$3/$2 }',2,2
openstack%2Fcharm-octavia~master~I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55,openstack/charm-octavia,master,I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55,Make Amphora provider driver optional,MERGED,2021-06-16 15:52:51.000000000,2021-07-07 06:30:46.000000000,2021-07-07 06:30:46.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-16 15:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dc2e7033d4a7283e68d3966891498ae0ffa0e8b3', 'message': '[WIP] Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 2, 'created': '2021-06-17 06:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dc90e781eeeae703f232d573cbe6f2dfef2be8b0', 'message': '[WIP] Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 3, 'created': '2021-06-17 08:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f12620df6e412500f7e4e643706a280724861314', 'message': '[WIP] Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 4, 'created': '2021-06-17 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/33a3fe577e8aabe5b87407c2e093148052c21822', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 5, 'created': '2021-06-17 09:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/760570c2fa802bce785ca92137b3adf4afdbcbb5', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 6, 'created': '2021-06-17 14:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/62dff133de1fbe520d0d6f060b3be793da2a0be3', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 7, 'created': '2021-06-17 14:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/dfcc5d4d5b73aa16e428bdf87bf0f743bd5611b6', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 8, 'created': '2021-06-17 14:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/79ada7129ed932fe04a1fc927dec04a8f010487a', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}, {'number': 9, 'created': '2021-07-06 08:30:29.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'src/README.md', 'src/config.yaml', 'src/templates/victoria/octavia.conf', 'osci.yaml', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'unit_tests/test_lib_charm_openstack_octavia.py', 'src/tests/tests.yaml', 'src/tests/bundles/focal-victoria-no-amphora.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1dfabe091bb6a4847ec5e19975ece82034a4e320', 'message': 'Make Amphora provider driver optional\n\nOctavia supports multiple provider drivers. The reference Amphora\nprovider driver is distributed as part of the Octavia software,\nand is enabled by default.\n\nAdd a configuration option which allows to not enable the Amphora\nprovider driver. This is useful for use cases where a different\ndriver is desired, and removes the checks for Amphora related\nmandatory configuration options.\n\nChange-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55\n'}]",2,796701,1dfabe091bb6a4847ec5e19975ece82034a4e320,47,3,9,13686,,,0,"Make Amphora provider driver optional

Octavia supports multiple provider drivers. The reference Amphora
provider driver is distributed as part of the Octavia software,
and is enabled by default.

Add a configuration option which allows to not enable the Amphora
provider driver. This is useful for use cases where a different
driver is desired, and removes the checks for Amphora related
mandatory configuration options.

Change-Id: I4d14056bf901d813ac53fde9ccd4e8bdb56e3c55
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/01/796701/9 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/lib/charm/openstack/octavia.py', 'src/reactive/octavia_handlers.py']",3,dc2e7033d4a7283e68d3966891498ae0ffa0e8b3,optional-amphora,"@reactive.when('config.default.enable-amphora', 'charm.octavia.action_setup_hm_port')@reactive.when('identity-service.available', 'neutron-api.available', 'sdn-subordinate.available', # Neutron API calls will consistently fail as long as AMQP is # unavailable 'amqp.available', 'config.default.enable-amphora', )@reactive.when('leadership.is_leader', 'identity-service.available', 'neutron-api.available', # Neutron API calls will consistently fail as long as AMQP is # unavailable 'amqp.available', 'config.default.enable-amphora', )",@reactive.when('charm.octavia.action_setup_hm_port')@reactive.when('identity-service.available') @reactive.when('neutron-api.available') @reactive.when('sdn-subordinate.available') # Neutron API calls will consistently fail as long as AMQP is unavailable @reactive.when('amqp.available')@reactive.when('leadership.is_leader') @reactive.when('identity-service.available') @reactive.when('neutron-api.available') # Neutron API calls will consistently fail as long as AMQP is unavailable @reactive.when('amqp.available'),38,16
openstack%2Fskyline-apiserver~master~I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef,openstack/skyline-apiserver,master,I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef,feat: Add make genconfig to generate sample config,MERGED,2021-06-30 08:10:15.000000000,2021-07-07 06:05:33.000000000,2021-07-07 06:05:33.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-06-30 08:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4576829763f0e92029ccb463709c8514c456c6a4', 'message': 'feat: Add make genconfig to generate sample config\n\n1. add a cmd script to generate sample config\n2. set setup as False for generate_swagger, so we can make swagger\nwithout skyline-apiserver yaml config\n3. add make genconfig into Makefile\n4. add config-sample-generator scripts into pyproject.toml\n\nChange-Id: I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef\n'}, {'number': 2, 'created': '2021-07-01 05:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a6c013a3d326c4e32111626e277a11226617246f', 'message': 'feat: Add make genconfig to generate sample config\n\n1. add a cmd script to generate sample config\n2. set setup as False for generate_swagger, so we can make swagger\nwithout skyline-apiserver yaml config\n3. add make genconfig into Makefile\n4. add config-sample-generator scripts into pyproject.toml\n5. replace async with sync for generate_swagger script\n\nChange-Id: I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef\n'}, {'number': 3, 'created': '2021-07-02 02:56:05.000000000', 'files': ['Makefile', 'src/skyline_apiserver/cmd/generate_sample_config.py', 'src/skyline_apiserver/cmd/generate_swagger.py', 'pyproject.toml', 'src/skyline_apiserver/config/base.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a65e543bdf5272cad45d300fcfc195cb3809e047', 'message': 'feat: Add make genconfig to generate sample config\n\n1. add a cmd script to generate sample config\n2. set setup as False for generate_swagger, so we can make swagger\nwithout skyline-apiserver yaml config\n3. add make genconfig into Makefile\n4. add config-sample-generator scripts into pyproject.toml\n5. replace async with sync for generate_swagger script\n6. add items, keys, values function for Group and Configuration\n\nChange-Id: I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef\n'}]",8,798800,a65e543bdf5272cad45d300fcfc195cb3809e047,15,4,3,28706,,,0,"feat: Add make genconfig to generate sample config

1. add a cmd script to generate sample config
2. set setup as False for generate_swagger, so we can make swagger
without skyline-apiserver yaml config
3. add make genconfig into Makefile
4. add config-sample-generator scripts into pyproject.toml
5. replace async with sync for generate_swagger script
6. add items, keys, values function for Group and Configuration

Change-Id: I4c7196f1d766a6abdc24c71c4b3135cd40cc26ef
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/00/798800/1 && git format-patch -1 --stdout FETCH_HEAD,"['Makefile', 'src/skyline_apiserver/cmd/generate_sample_config.py', 'src/skyline_apiserver/cmd/generate_swagger.py', 'pyproject.toml']",4,4576829763f0e92029ccb463709c8514c456c6a4,add-cmd,config-sample-generator = 'skyline_apiserver.cmd.generate_sample_config:main',,70,1
openstack%2Fdiskimage-builder~master~If8572abd6e19a02f2f63b33d4f83a7054774d7e6,openstack/diskimage-builder,master,If8572abd6e19a02f2f63b33d4f83a7054774d7e6,Do not uninstall non-installed packages,MERGED,2021-05-26 04:34:29.000000000,2021-07-07 04:56:47.000000000,2021-07-07 04:55:09.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 04:34:29.000000000', 'files': ['diskimage_builder/elements/bootloader/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2ff65d512e33b3206c9429963f8f8515c456a988', 'message': 'Do not uninstall non-installed packages\n\nThe bootloader element uses the grub-efi-$arch package to remove already\ninstalled packages (for redhat).  The uninstall of a non-installed\npackage fails with a non-zero exit code on gentoo.  The gentoo base\ntarball does not include a bootloader and the grub-efi-$arch package is\nonly used for uninstalls, so zero out the variable to allow bootable\nimages to be generated.\n\nChange-Id: If8572abd6e19a02f2f63b33d4f83a7054774d7e6\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,793097,2ff65d512e33b3206c9429963f8f8515c456a988,65,3,1,14288,,,0,"Do not uninstall non-installed packages

The bootloader element uses the grub-efi-$arch package to remove already
installed packages (for redhat).  The uninstall of a non-installed
package fails with a non-zero exit code on gentoo.  The gentoo base
tarball does not include a bootloader and the grub-efi-$arch package is
only used for uninstalls, so zero out the variable to allow bootable
images to be generated.

Change-Id: If8572abd6e19a02f2f63b33d4f83a7054774d7e6
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/97/793097/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/pkg-map'],1,2ff65d512e33b3206c9429963f8f8515c456a988,fix-gentoo-bootloader," ""grub-efi-amd64"": """", ""grub-efi-arm64"": """", ""grub-efi-aarch64"": """""," ""grub-efi-amd64"": ""grub"", ""grub-efi-arm64"": ""grub"", ""grub-efi-aarch64"": ""grub""",3,3
openstack%2Fmetalsmith~master~I5bd097f13b21314efcc4888e3f036ebc9ab143c9,openstack/metalsmith,master,I5bd097f13b21314efcc4888e3f036ebc9ab143c9,Use project_id when creating instance ports,ABANDONED,2021-06-28 04:03:17.000000000,2021-07-07 04:52:14.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 04:03:17.000000000', 'files': ['metalsmith/_nics.py', 'metalsmith/test/test_provisioner.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/1a41d860733ab077e5e651fcb0cacc9ac5c9bd98', 'message': 'Use project_id when creating instance ports\n\nNetworking service expects `project_id` in create (POST) requests\nwhen using `noauth` authentication strategy. This would ensure\nthat metalsmith can work with standalone neutron.\n\nChange-Id: I5bd097f13b21314efcc4888e3f036ebc9ab143c9\n'}]",14,798240,1a41d860733ab077e5e651fcb0cacc9ac5c9bd98,21,5,1,8833,,,0,"Use project_id when creating instance ports

Networking service expects `project_id` in create (POST) requests
when using `noauth` authentication strategy. This would ensure
that metalsmith can work with standalone neutron.

Change-Id: I5bd097f13b21314efcc4888e3f036ebc9ab143c9
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/40/798240/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/_nics.py', 'metalsmith/test/test_provisioner.py']",2,1a41d860733ab077e5e651fcb0cacc9ac5c9bd98,keystoneless," self.api = mock.Mock(spec=['image', 'network', 'baremetal', 'session']) project_id_patcher = mock.patch.object( self.api.session, 'get_project_id', return_value='dummy_project_id', autospec=True) project_id_patcher.start() self.addCleanup(project_id_patcher.stop) project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id', project_id='dummy_project_id',"," self.api = mock.Mock(spec=['image', 'network', 'baremetal'])",43,3
openstack%2Fpuppet-mistral~stable%2Ftrain~I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,openstack/puppet-mistral,stable/train,I4b78286b2c16d3708e07164bd88d73b72d6d3bb4,Set fixture paths for unit tests,ABANDONED,2021-06-22 12:28:04.000000000,2021-07-07 03:51:41.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 12:28:04.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/6487e1ffd4d39a22a0c25dd734acc41ea20bfeeb', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nCloses-Bug: #1930403\nChange-Id: I4b78286b2c16d3708e07164bd88d73b72d6d3bb4\n(cherry picked from commit f4b3c4d78363c3615d3a181e8873a3cebed30c0e)\n'}]",0,797401,6487e1ffd4d39a22a0c25dd734acc41ea20bfeeb,4,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Closes-Bug: #1930403
Change-Id: I4b78286b2c16d3708e07164bd88d73b72d6d3bb4
(cherry picked from commit f4b3c4d78363c3615d3a181e8873a3cebed30c0e)
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/01/797401/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,6487e1ffd4d39a22a0c25dd734acc41ea20bfeeb,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fpuppet-horizon~stable%2Fwallaby~If420df47622540f818c71557b7ebc4216614b0ca,openstack/puppet-horizon,stable/wallaby,If420df47622540f818c71557b7ebc4216614b0ca,Debug UT error,ABANDONED,2021-06-11 06:50:52.000000000,2021-07-07 03:51:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 06:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1689818482f138433b50dda212a9032a48a20858', 'message': 'Debug UT error\n\nChange-Id: If420df47622540f818c71557b7ebc4216614b0ca\n'}, {'number': 2, 'created': '2021-06-11 07:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2b320c87b9399fc83e18772ab5abaababc0b8a4f', 'message': 'Debug UT error\n\nChange-Id: If420df47622540f818c71557b7ebc4216614b0ca\n'}, {'number': 3, 'created': '2021-06-11 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e75cc1983806c50ea1fd2e07c98ca8c1e1a56790', 'message': 'Debug UT error\n\nChange-Id: If420df47622540f818c71557b7ebc4216614b0ca\n'}, {'number': 4, 'created': '2021-06-11 10:27:38.000000000', 'files': ['manifests/dashboards/heat.pp', 'spec/classes/horizon_dashboards_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/27cd2dc9a0847b420ded03fd2c8e6b55d70ff170', 'message': 'Debug UT error\n\nChange-Id: If420df47622540f818c71557b7ebc4216614b0ca\n'}]",0,795932,27cd2dc9a0847b420ded03fd2c8e6b55d70ff170,7,1,4,9816,,,0,"Debug UT error

Change-Id: If420df47622540f818c71557b7ebc4216614b0ca
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/32/795932/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/dashboards/heat.pp'],1,1689818482f138433b50dda212a9032a48a20858,puppet-horizon-dashboards," fail(""test #{$::horizon::enable_user_pass} test #{enable_user_pass_real}"")",,1,0
openstack%2Fpuppet-mistral~stable%2Fussuri~Ia5dae538a30ad32e73cd5121fdcc5bc14a6aece2,openstack/puppet-mistral,stable/ussuri,Ia5dae538a30ad32e73cd5121fdcc5bc14a6aece2,Test 797447,ABANDONED,2021-06-22 13:33:27.000000000,2021-07-07 03:50:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 13:33:27.000000000', 'files': ['spec/acceptance/basic_mistral_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/2c1de58dfbf995bc0b3472a39df5505daac190b5', 'message': 'Test 797447\n\nDepends-on: https://review.opendev.org/797448\nChange-Id: Ia5dae538a30ad32e73cd5121fdcc5bc14a6aece2\n'}]",0,797449,2c1de58dfbf995bc0b3472a39df5505daac190b5,5,1,1,9816,,,0,"Test 797447

Depends-on: https://review.opendev.org/797448
Change-Id: Ia5dae538a30ad32e73cd5121fdcc5bc14a6aece2
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/49/797449/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/basic_mistral_spec.rb'],1,2c1de58dfbf995bc0b3472a39df5505daac190b5,797667,,,0,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I81e17300aabaee984fa2e99c186cf6e51b577b63,openstack/puppet-openstack-integration,stable/ussuri,I81e17300aabaee984fa2e99c186cf6e51b577b63,WIP: Test 797447,ABANDONED,2021-06-22 13:32:22.000000000,2021-07-07 03:50:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 13:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3be819dbf71daa1710801d3271e7e2693f5a741e', 'message': 'WIP: Test 797447\n\nChange-Id: I81e17300aabaee984fa2e99c186cf6e51b577b63\n'}, {'number': 2, 'created': '2021-06-27 05:06:52.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'manifests/init.pp', 'fixtures/scenario004.pp', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb5feef955d1687f8dd7ea2fca38f579ded9b4d7', 'message': 'WIP: Test 797447\n\nChange-Id: I81e17300aabaee984fa2e99c186cf6e51b577b63\n'}]",0,797448,eb5feef955d1687f8dd7ea2fca38f579ded9b4d7,5,1,2,9816,,,0,"WIP: Test 797447

Change-Id: I81e17300aabaee984fa2e99c186cf6e51b577b63
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/48/797448/2 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp', 'manifests/init.pp']",5,3be819dbf71daa1710801d3271e7e2693f5a741e,, # (amoralej) - disable selinux defaults until # https://tickets.puppetlabs.com/browse/PUP-7559 is fixed Concat { selinux_ignore_defaults => true } File { selinux_ignore_defaults => true } ,,5,28
openstack%2Ftripleo-heat-templates~master~Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14,openstack/tripleo-heat-templates,master,Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14,DNM: Remove usage of docker module,ABANDONED,2021-06-26 16:29:06.000000000,2021-07-07 03:50:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-26 16:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83af31ad94fef8b63d22ba56fecd92b51d7142ff', 'message': 'DNM: Remove usage of docker module\n\nChange-Id: Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14\n'}, {'number': 2, 'created': '2021-06-27 04:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b26741f31bc0e5950d8d12ebcb64891f8462a870', 'message': 'DNM: Remove usage of docker module\n\nChange-Id: Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14\n'}, {'number': 3, 'created': '2021-06-27 07:30:06.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0bbc8d09b36ed6fef8f62f90f17a7bb625ca4c6', 'message': 'DNM: Remove usage of docker module\n\nChange-Id: Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14\n'}]",0,798196,e0bbc8d09b36ed6fef8f62f90f17a7bb625ca4c6,9,2,3,9816,,,0,"DNM: Remove usage of docker module

Change-Id: Ic70ddbb0cd6f06263f7143ccb1824b4bf437fa14
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/798196/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,83af31ad94fef8b63d22ba56fecd92b51d7142ff,neutron-wsgi,, - name: stop and remove neutron_server_tls_proxy container if docker docker: name: neutron_server_tls_proxy state: absent when: container_cli == 'docker' when: - container_cli == 'podman' - systemd_exists.stat.exists,0,8
openstack%2Fmagnum~master~If68136b2a87956bf73a5a0c3295e8539f0691455,openstack/magnum,master,If68136b2a87956bf73a5a0c3295e8539f0691455,Add py38 support in tox.ini,ABANDONED,2020-10-09 02:47:12.000000000,2021-07-07 03:44:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-10-09 02:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/14b63e079dd8d8933973fb99404e1bfb0b7ff903', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nChange-Id: If68136b2a87956bf73a5a0c3295e8539f0691455\n""}, {'number': 2, 'created': '2020-10-09 06:19:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8f0859451362801c27851d836c614be608628d4c', 'message': ""Add py38 support in tox.ini\n\nin 'victoria' cycle, we should test py38.\n\nChange-Id: If68136b2a87956bf73a5a0c3295e8539f0691455\n""}]",0,756982,8f0859451362801c27851d836c614be608628d4c,8,2,2,32029,,,0,"Add py38 support in tox.ini

in 'victoria' cycle, we should test py38.

Change-Id: If68136b2a87956bf73a5a0c3295e8539f0691455
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/756982/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14b63e079dd8d8933973fb99404e1bfb0b7ff903,py38,"envlist = py38,pep8","envlist = py37,pep8",1,1
openstack%2Fpuppet-tripleo~master~Ib156e1379ce59b302d63feda8126ab43bd87daed,openstack/puppet-tripleo,master,Ib156e1379ce59b302d63feda8126ab43bd87daed,Do not merge: Checking rabbitmq timeouts,ABANDONED,2021-06-09 06:25:54.000000000,2021-07-07 03:43:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 06:25:54.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/052b70d95e51f31d0372b21c0a176aeba9d7ee1e', 'message': 'Do not merge: Checking rabbitmq timeouts\n\nChange-Id: Ib156e1379ce59b302d63feda8126ab43bd87daed\n'}]",0,795481,052b70d95e51f31d0372b21c0a176aeba9d7ee1e,5,2,1,9816,,,0,"Do not merge: Checking rabbitmq timeouts

Change-Id: Ib156e1379ce59b302d63feda8126ab43bd87daed
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/795481/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp']",2,052b70d95e51f31d0372b21c0a176aeba9d7ee1e,rabbitmq-timeout," $start_timeout = 201, $monitor_timeout = 202, $stop_timeout = 203,"," $start_timeout = 200, $monitor_timeout = undef, $stop_timeout = 200,",6,6
openstack%2Ftripleo-validations~stable%2Fwallaby~I88ac702a9eedc53fdc88a2dbb5422b94322b68b4,openstack/tripleo-validations,stable/wallaby,I88ac702a9eedc53fdc88a2dbb5422b94322b68b4,Allow comments in variable files to be rendered in docs,MERGED,2021-06-18 10:14:00.000000000,2021-07-07 03:10:04.000000000,2021-07-07 03:08:53.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-18 10:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f249feefb03decbb4b648992c53745d5c72e780f', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/795270\nUpstream-rpm-master: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34031\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n(cherry picked from commit 933d98402fe839b4033af71341ec56c3cf15c3fc)\n""}, {'number': 2, 'created': '2021-06-18 10:22:46.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/45847646c176a2b9aa3763f3e2b4432e8e1662c4', 'message': ""Allow comments in variable files to be rendered in docs\n\nThis change will allow all comments in our variable files to be rendered\nnormally within our documentation. This will allow folks reading our\ndocumentation to benefit from information we may put in the various\nfiles.\n\nThis patch adds ruamel.yaml as new dependency for building documentation\nand we won't need to include a README.md file into the documentation\nrole index anymore.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/797048\nUpstream-wallaby-rdo: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34056\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4\n(cherry picked from commit 933d98402fe839b4033af71341ec56c3cf15c3fc)\n""}]",0,797027,45847646c176a2b9aa3763f3e2b4432e8e1662c4,11,7,2,11491,,,0,"Allow comments in variable files to be rendered in docs

This change will allow all comments in our variable files to be rendered
normally within our documentation. This will allow folks reading our
documentation to benefit from information we may put in the various
files.

This patch adds ruamel.yaml as new dependency for building documentation
and we won't need to include a README.md file into the documentation
role index anymore.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/797048
Upstream-wallaby-rdo: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/34056

Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I88ac702a9eedc53fdc88a2dbb5422b94322b68b4
(cherry picked from commit 933d98402fe839b4033af71341ec56c3cf15c3fc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/797027/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ansible-autodoc.py', 'doc/requirements.txt']",2,f249feefb03decbb4b648992c53745d5c72e780f,VALIDATION_DEVELOPMENT_WORKFLOW-stable/wallaby,ruamel.yaml>=0.15.5 # MIT,,123,73
openstack%2Ftosca-parser~master~I3112be6e984eb3d5f9052ece370a45ac69cf3ad6,openstack/tosca-parser,master,I3112be6e984eb3d5f9052ece370a45ac69cf3ad6,Replace assertItemsEqual with assertCountEqual,MERGED,2021-07-02 18:56:23.000000000,2021-07-07 03:05:38.000000000,2021-07-07 03:04:26.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-07-02 18:56:23.000000000', 'files': ['toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/test_custom_relationships.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/405ec35f63edc29ce2667ce3af9d146d461c6ba6', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nThe assertItemsEqual has been replaced with assertCountEqual\nsince I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .\n\nThis patch replace assertItemsEqual with assertCountEqual.\n\nAdditionally, fix warning for deprecrate method skip.\nWarning:\n/opt/stack/tosca-parser/toscaparser/tests/test_toscatpl.py:\nDeprecationWarning: Only valid in 1.8.1 and earlier.\nUse skipTest instead. TestCase.skip(self, 'bug #1440247')\n\nChange-Id: I3112be6e984eb3d5f9052ece370a45ac69cf3ad6\n""}]",0,799320,405ec35f63edc29ce2667ce3af9d146d461c6ba6,9,5,1,32102,,,0,"Replace assertItemsEqual with assertCountEqual

The assertItemsEqual has been replaced with assertCountEqual
since I7c20fec08e5dc9f67b34100c925ea6724bbd25f0 .

This patch replace assertItemsEqual with assertCountEqual.

Additionally, fix warning for deprecrate method skip.
Warning:
/opt/stack/tosca-parser/toscaparser/tests/test_toscatpl.py:
DeprecationWarning: Only valid in 1.8.1 and earlier.
Use skipTest instead. TestCase.skip(self, 'bug #1440247')

Change-Id: I3112be6e984eb3d5f9052ece370a45ac69cf3ad6
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/20/799320/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/tests/test_toscatpl.py', 'toscaparser/tests/test_custom_relationships.py']",2,405ec35f63edc29ce2667ce3af9d146d461c6ba6,bug/1440247," self.assertCountEqual(self.tosca.topology_template.custom_defs.keys(),"," self.assertItemsEqual(self.tosca.topology_template.custom_defs.keys(),",3,3
openstack%2Ftripleo-heat-templates~master~Id88ef915f98844f7757b13daa1fb8671b31fba25,openstack/tripleo-heat-templates,master,Id88ef915f98844f7757b13daa1fb8671b31fba25,Remove hieratada for ceilometer::agent::auth,MERGED,2021-04-23 14:47:17.000000000,2021-07-07 02:42:08.000000000,2021-07-07 02:42:08.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 14:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad171356c5ecec8001a0c3eccd948d3360920584', 'message': 'Remove hieratada for ceilometer::auth\n\n... because it was replaced by ceilometer::service_credentials.\n\nDepends-on: https://review.opendev.org/784955\nChange-Id: Id88ef915f98844f7757b13daa1fb8671b31fba25\n'}, {'number': 2, 'created': '2021-04-24 02:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85b8ba5ace67bc87a3549b629ead2798d98cd8ee', 'message': 'Remove hieratada for ceilometer::agent::auth\n\n... because it was replaced by ceilometer::agent::service_credentials.\n\nDepends-on: https://review.opendev.org/784955\nChange-Id: Id88ef915f98844f7757b13daa1fb8671b31fba25\n'}, {'number': 3, 'created': '2021-07-06 01:32:06.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f0b375f7bb6ce54ed816d825964b67f75b413e8', 'message': 'Remove hieratada for ceilometer::agent::auth\n\n... because it was replaced by ceilometer::agent::service_credentials.\n\nDepends-on: https://review.opendev.org/784955\nChange-Id: Id88ef915f98844f7757b13daa1fb8671b31fba25\n'}]",0,787765,6f0b375f7bb6ce54ed816d825964b67f75b413e8,19,4,3,9816,,,0,"Remove hieratada for ceilometer::agent::auth

... because it was replaced by ceilometer::agent::service_credentials.

Depends-on: https://review.opendev.org/784955
Change-Id: Id88ef915f98844f7757b13daa1fb8671b31fba25
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/787765/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,ad171356c5ecec8001a0c3eccd948d3360920584,ceilo-service_credentials,," ceilometer::agent::auth::auth_password: {get_param: CeilometerPassword} ceilometer::agent::auth::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::agent::auth::auth_region: {get_param: KeystoneRegion} ceilometer::agent::auth::auth_tenant_name: 'service' ceilometer::agent::auth::auth_user_domain_name: 'Default' ceilometer::agent::auth::auth_project_domain_name: 'Default' ceilometer::agent::auth::auth_endpoint_type: 'internalURL'",0,7
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ie6952f833887507d3dc5ae10cccb246c9f525c12,openstack/tripleo-upgrade,stable/train,Ie6952f833887507d3dc5ae10cccb246c9f525c12,[FFWD upgrade pre] Add support in cold evacuate,MERGED,2021-07-05 15:36:10.000000000,2021-07-07 02:39:20.000000000,2021-07-07 02:39:20.000000000,"[{'_account_id': 11090}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:36:10.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/93394701a516fde60e0928285973304c1cec3f15', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)\n'}]",0,799489,93394701a516fde60e0928285973304c1cec3f15,6,3,1,6816,,,0,"[FFWD upgrade pre] Add support in cold evacuate

Adding parameter spec compute_cold_evacuate

To extend node_upgrade_pre.sh.j2 with cold migration,
Currently it is a mast from queens->train in nfv use cases

Change-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12
(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/799489/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",4,93394701a516fde60e0928285973304c1cec3f15,upgrade-compute-cold-evacuate-stable/train,compute_cold_evacuate: false,,26,5
openstack%2Fnetworking-odl~stable%2Fpike~Ifa58ef2012797ea1975aa435d7261c99fb5b6246,openstack/networking-odl,stable/pike,Ifa58ef2012797ea1975aa435d7261c99fb5b6246,Fix networking-l2gw location,MERGED,2021-07-01 08:26:15.000000000,2021-07-07 01:31:48.000000000,2021-07-07 01:30:07.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 08:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c6af054a0cc6a4a0e34f13fd2862f133621b8b71', 'message': ""Fix networking-l2gw location\n\nMost part of this commit is similar to a gate change in stable/rocky\nhttps://review.opendev.org/c/openstack/networking-odl/+/798298,\nbut the main goal is not to refer openstack/networking-l2gw in\nthe zuul configuration.\n\n* Replace openstack/networking-l2gw reference with x/networking-l2gw\n* tox_install_project.sh is adjusted to consume x/networking-l2gw\n* Drop failing jobs as we do in stable/rocky\n* Specify python2.7 as basepython in the pep8 tox env\n  as python2.7 was the default python in Queens\n* Cap bandit with <1.6.0 so that the job works with python2.7\n* Run requirements-check on ubuntu-bionic.\n  It seems required, otherwise the job fails.\n\nSpecific to stable/pike:\n* Ignore no-name-in-module check in pylint.\n  no-name-in-module error is detected somehow. Let's skip it.\n\nChange-Id: Ifa58ef2012797ea1975aa435d7261c99fb5b6246\n(cherry picked from commit ca1f493bb7e346f37e44adfb4c2d120776f2f469)\n""}, {'number': 2, 'created': '2021-07-02 07:59:47.000000000', 'files': ['.pylintrc', 'tools/tox_install_project.sh', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/47e49c71cf839b7a3200f73e338e85d1d8dcb5de', 'message': ""Fix networking-l2gw location\n\nMost part of this commit is similar to a gate change in stable/rocky\nhttps://review.opendev.org/c/openstack/networking-odl/+/798298,\nbut the main goal is not to refer openstack/networking-l2gw in\nthe zuul configuration.\n\n* Replace openstack/networking-l2gw reference with x/networking-l2gw\n* tox_install_project.sh is adjusted to consume x/networking-l2gw\n* Drop failing jobs as we do in stable/rocky\n* Specify python2.7 as basepython in the pep8 tox env\n  as python2.7 was the default python in Queens\n* Cap bandit with <1.6.0 so that the job works with python2.7\n* Run requirements-check on ubuntu-bionic.\n  It seems required, otherwise the job fails.\n\nSpecific to stable/pike:\n* Ignore no-name-in-module check in pylint.\n  no-name-in-module error is detected somehow. Let's skip it.\n\nChange-Id: Ifa58ef2012797ea1975aa435d7261c99fb5b6246\n(cherry picked from commit ca1f493bb7e346f37e44adfb4c2d120776f2f469)\n""}]",0,799007,47e49c71cf839b7a3200f73e338e85d1d8dcb5de,16,6,2,841,,,0,"Fix networking-l2gw location

Most part of this commit is similar to a gate change in stable/rocky
https://review.opendev.org/c/openstack/networking-odl/+/798298,
but the main goal is not to refer openstack/networking-l2gw in
the zuul configuration.

* Replace openstack/networking-l2gw reference with x/networking-l2gw
* tox_install_project.sh is adjusted to consume x/networking-l2gw
* Drop failing jobs as we do in stable/rocky
* Specify python2.7 as basepython in the pep8 tox env
  as python2.7 was the default python in Queens
* Cap bandit with <1.6.0 so that the job works with python2.7
* Run requirements-check on ubuntu-bionic.
  It seems required, otherwise the job fails.

Specific to stable/pike:
* Ignore no-name-in-module check in pylint.
  no-name-in-module error is detected somehow. Let's skip it.

Change-Id: Ifa58ef2012797ea1975aa435d7261c99fb5b6246
(cherry picked from commit ca1f493bb7e346f37e44adfb4c2d120776f2f469)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/07/799007/2 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'tools/tox_install_project.sh', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml', 'tox.ini', 'devstack/README.rst']",6,c6af054a0cc6a4a0e34f13fd2862f133621b8b71,zuul-fix, enable_plugin networking-l2gw http://git.openstack.org/x/networking-l2gw, enable_plugin networking-l2gw http://git.openstack.org/openstack/networking-l2gw,36,21
openstack%2Ftripleo-ansible~master~If29a0c4955b6ec1bdb4303e720e2f96093418563,openstack/tripleo-ansible,master,If29a0c4955b6ec1bdb4303e720e2f96093418563,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 09:02:32.000000000,2021-07-06 23:54:00.000000000,2021-07-06 23:52:45.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-03 09:02:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df97dc8efa108db85d19bde2b75edea82e14d85e', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If29a0c4955b6ec1bdb4303e720e2f96093418563\n""}]",0,794475,df97dc8efa108db85d19bde2b75edea82e14d85e,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: If29a0c4955b6ec1bdb4303e720e2f96093418563
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/794475/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,df97dc8efa108db85d19bde2b75edea82e14d85e,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.2.0whitelist_externals =,2,2
openstack%2Ftripleo-ci~master~I5474e093a5fbd1e6cefb8984ea6cec3628e192a7,openstack/tripleo-ci,master,I5474e093a5fbd1e6cefb8984ea6cec3628e192a7,Pin test dependencies,MERGED,2021-06-24 12:30:23.000000000,2021-07-06 23:52:40.000000000,2021-07-06 23:52:40.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-24 12:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c5dcfff3831ec6d3d5fd826dcd51d407707d5583', 'message': 'Pin test dependencies\n\nChange-Id: I5474e093a5fbd1e6cefb8984ea6cec3628e192a7\n'}, {'number': 2, 'created': '2021-06-28 13:10:15.000000000', 'files': ['constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6984eadf1374d0930ae0c25d8806fbd9e0b44092', 'message': 'Pin test dependencies\n\nChange-Id: I5474e093a5fbd1e6cefb8984ea6cec3628e192a7\nStory: TRIPLEOCI-514\n'}]",6,797891,6984eadf1374d0930ae0c25d8806fbd9e0b44092,18,8,2,24162,,,0,"Pin test dependencies

Change-Id: I5474e093a5fbd1e6cefb8984ea6cec3628e192a7
Story: TRIPLEOCI-514
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/797891/2 && git format-patch -1 --stdout FETCH_HEAD,"['constraints.txt', 'tox.ini']",2,c5dcfff3831ec6d3d5fd826dcd51d407707d5583,pip-compile," PIP_CONSTRAINT={env:PIP_CONSTRAINT:constraints.txt}[testenv:deps] description = Bump all test dependencies basepython = python3 deps = pre-commit>=2.6.0 pip-tools>=5.4.0 setuptools>=51.1.1 skip_install = true commands = pip-compile --upgrade --output-file=constraints.txt --pip-args ""-c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}"" setup.py test-requirements.txt requirements.txt ",,277,0
openstack%2Fsenlin~master~Ibc87323a6bafe601a29b0b3a2acc5b584c9e03eb,openstack/senlin,master,Ibc87323a6bafe601a29b0b3a2acc5b584c9e03eb,Moving IRC network reference to OFTC,MERGED,2021-07-06 22:53:45.000000000,2021-07-06 23:51:48.000000000,2021-07-06 23:50:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2021-07-06 22:53:45.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/3e02c0c8d83b33582e18a6a82df6535515086397', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ibc87323a6bafe601a29b0b3a2acc5b584c9e03eb\n'}]",0,799724,3e02c0c8d83b33582e18a6a82df6535515086397,8,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ibc87323a6bafe601a29b0b3a2acc5b584c9e03eb
",git fetch https://review.opendev.org/openstack/senlin refs/changes/24/799724/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,3e02c0c8d83b33582e18a6a82df6535515086397,oftc,IRC Channel: #senlin on `OFTC`_... _OFTC: https://oftc.net/,IRC Channel: #senlin on `Freenode`_... _Freenode: https://freenode.net/,3,3
openstack%2Fcinder~master~I9cf13f47f14a5240e005a9597805934d73a9ea89,openstack/cinder,master,I9cf13f47f14a5240e005a9597805934d73a9ea89,[WIP] Pure Storage - Adds new NVMe-RoCE driver for the FlashArray,ABANDONED,2021-07-06 18:16:00.000000000,2021-07-06 23:38:52.000000000,,[],"[{'number': 1, 'created': '2021-07-06 18:16:00.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-nvme-driver-f4217c00379c4827.yaml', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5d197eaca16427d85f144aba0bc4c83036eb156', 'message': '[WIP] Pure Storage - Adds new NVMe-RoCE driver for the FlashArray\n\nSupports all the same functionality as the iSCSI and FC drivers.\nUpdate documentation to cover this new driver.\n\nChange-Id: I9cf13f47f14a5240e005a9597805934d73a9ea89\n'}]",0,799704,f5d197eaca16427d85f144aba0bc4c83036eb156,3,0,1,13425,,,0,"[WIP] Pure Storage - Adds new NVMe-RoCE driver for the FlashArray

Supports all the same functionality as the iSCSI and FC drivers.
Update documentation to cover this new driver.

Change-Id: I9cf13f47f14a5240e005a9597805934d73a9ea89
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/799704/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-nvme-driver-f4217c00379c4827.yaml', 'doc/source/configuration/block-storage/drivers/pure-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_pure.py']",5,f5d197eaca16427d85f144aba0bc4c83036eb156,nvme_driver,"patch_retry = mock.patch('cinder.utils.retry', fake_retry)sys.modules['purestorage'] = mock.Mock()GET_ARRAY_PRIMARY = {""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target1"", ""id"": ""primary_array_id""} GET_ARRAY_SECONDARY = {""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target2"", ""id"": ""secondary_array_id""}NVME_IPS += [""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES))] AC_NVME_IPS = [""10.0.0."" + str(i + 1 + len(NVME_PORT_NAMES)) for i in range(len(NVME_PORT_NAMES))] AC_NVME_IPS += [""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES))]# Designed to filter out only one of the AC NVMe IPs, leaving the rest inISCSI_IPS += [""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES))] AC_ISCSI_IPS = [""10.0.0."" + str(i + 1 + len(ISCSI_PORT_NAMES)) for i in range(len(ISCSI_PORT_NAMES))] AC_ISCSI_IPS += [""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES))] ""21000024ff59fab"" + str(i + 1) for i in range(len(FC_PORT_NAMES))]NVME_PORTS = [{""name"": name, ""nqn"": TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, NVME_IPS)] AC_NVME_PORTS = [{""name"": name, ""nqn"": AC_TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, AC_NVME_IPS)] ISCSI_PORTS = [{""name"": name, ""iqn"": TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, ISCSI_IPS)] AC_ISCSI_PORTS = [{""name"": name, ""iqn"": AC_TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, AC_ISCSI_IPS)] FC_PORTS = [{""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, FC_WWNS)] AC_FC_PORTS = [{""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, AC_FC_WWNS)] AC_NVME_IPS[6], # IPv6 ], self.mock_config.safe_get.return_value = ""oracle-vm-server"" ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ] ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ""1.12"", ""1.13"", ""1.14"", ""1.15"", ""1.16"", ""1.17"", ""1.18"", ""1.19"", ] class PureNVMEDriverTestCase(PureBaseSharedDriverTestCase): def setUp(self): super(PureNVMEDriverTestCase, self).setUp() self.driver = pure.PureNVMEDriver(configuration=self.mock_config) self.driver._array = self.array self.mock_utils = mock.Mock() self.driver.driver_utils = self.mock_utils def test_get_host(self): good_host = PURE_HOST.copy() good_host.update(nqn=[""another-wrong-nqn"", INITIATOR_NQN]) bad_host = {""name"": ""bad-host"", ""nqn"": [""wrong-nqn""]} self.array.list_hosts.return_value = [bad_host] real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([], real_result) self.array.list_hosts.return_value.append(good_host) real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([good_host], real_result) self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_ipv6( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection self.mock_config.pure_nvme_cidr = NVME_CIDR_V6 result = deepcopy(NVME_CONNECTION_INFO_V6) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC) self.driver._is_active_cluster_enabled = True mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidr( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will block only one of the # get four+three results back self.driver.configuration.pure_nvme_cidr = NVME_CIDR_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call(mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidrs( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED_LIST) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will allow only 2 addresses from # each host of the ActiveCluster, so we should check that we only # get two+two results back self.driver.configuration.pure_nvme = NVME_CIDR self.driver.configuration.pure_nvme_cidr_list = NVME_CIDRS_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call(mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_multipath( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection multipath_connector = deepcopy(NVME_CONNECTOR) multipath_connector[""multipath""] = True result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection( vol, multipath_connector ) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, multipath_connector ) multipath_connector[""multipath""] = False self.driver.initialize_connection(vol, multipath_connector) def test_get_target_nvme_ports(self): self.array.list_ports.return_value = NVME_PORTS ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_nvme_and_fc(self): self.array.list_ports.return_value = NVME_PORTS_WITH ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_no_ports(self): # Should raise an exception if there are no ports self.array.list_ports.return_value = [] self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) def test_get_target_nvme_ports_with_only_fc_ports(self): # Should raise an exception of there are no nvme ports self.array.list_ports.return_value = PORTS_WITHOUT self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) @mock.patch(NVME_DRIVER_OBJ + ""._generate_purity_host_name"", spec=True) def test_connect(self, mock_generate, mock_host): vol, vol_name = self.new_fake_vol() result = {""vol"": vol_name, ""lun"": 1} # Branch where host already exists mock_host.return_value = [PURE_HOST] self.array.connect_host.return_value = {""vol"": vol_name, ""lun"": 1} real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(result, real_result) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) self.assertFalse(mock_generate.called) self.assertFalse(self.array.create_host.called) self.array.connect_host.assert_called_with(PURE_HOST_NAME, vol_name) # Branch where new host is created mock_host.return_value = [] mock_generate.return_value = PURE_HOST_NAME real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) mock_generate.assert_called_with(HOSTNAME) self.array.create_host.assert_called_with( PURE_HOST_NAME, nqnlist=[INITIATOR_NQN] ) self.assertFalse(self.array.set_host.called) self.assertEqual(result, real_result) mock_generate.reset_mock() self.array.reset_mock() self.assert_error_propagates( [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.array.reset_mock() self.array._list_available_rest_versions.return_value = [ ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ] self.mock_config.safe_get.return_value = ""oracle-vm-server"" # Branch where we fail due to invalid version for setting personality self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertFalse(self.array.create_host.called) self.assertFalse(self.array.set_host.called) self.array._list_available_rest_versions.return_value = [ ""1.0"", ""1.1"", ""1.2"", ""1.3"", ""1.4"", ""1.5"", ""1.6"", ""1.7"", ""1.8"", ""1.9"", ""1.10"", ""1.11"", ""1.12"", ""1.13"", ""1.14"", ""1.15"", ""1.16"", ""1.17"", ""1.18"", ""1.19"", ] # Branch where personality is set self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertDictEqual(result, real_result) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] expected = {""host"": PURE_HOST_NAME, ""lun"": 1} self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) actual = self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertEqual(expected, actual) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_empty(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.return_value = {} self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_exception(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text="""" ) ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_nqn_already_in_use(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""The specified NQN is already in use."", ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_create_host_already_exists(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host already exists."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, )","patch_retry = mock.patch(""cinder.utils.retry"", fake_retry)sys.modules[""purestorage""] = mock.Mock()GET_ARRAY_PRIMARY = { ""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target1"", ""id"": ""primary_array_id"", } GET_ARRAY_SECONDARY = { ""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target2"", ""id"": ""secondary_array_id"", }NVME_IPS += [ ""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES)) ] AC_NVME_IPS = [ ""10.0.0."" + str(i + 1 + len(NVME_PORT_NAMES)) for i in range(len(NVME_PORT_NAMES)) ] AC_NVME_IPS += [ ""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES)) ]# Designed to filter out only one of the AC ISCSI IPs, leaving the rest inISCSI_IPS += [ ""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES)) ] AC_ISCSI_IPS = [ ""10.0.0."" + str(i + 1 + len(ISCSI_PORT_NAMES)) for i in range(len(ISCSI_PORT_NAMES)) ] AC_ISCSI_IPS += [ ""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES)) ] ""21000024ff59fab"" + str(i + 1) for i in range(len(FC_PORT_NAMES)) ]NVME_PORTS = [ { ""name"": name, ""nqn"": TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, NVME_IPS) ] AC_NVME_PORTS = [ { ""name"": name, ""nqn"": AC_TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, AC_NVME_IPS) ] ISCSI_PORTS = [ { ""name"": name, ""iqn"": TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, ISCSI_IPS) ] AC_ISCSI_PORTS = [ { ""name"": name, ""iqn"": AC_TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, AC_ISCSI_IPS) ] FC_PORTS = [ { ""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, FC_WWNS) ] AC_FC_PORTS = [ { ""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, AC_FC_WWNS) ] AC_NVME_IPS[6], ], # IPv6class PureNVMEDriverTestCase(PureBaseSharedDriverTestCase): def setUp(self): super(PureNVMEDriverTestCase, self).setUp() self.driver = pure.PureNVMEDriver(configuration=self.mock_config) self.driver._array = self.array self.mock_utils = mock.Mock() self.driver.driver_utils = self.mock_utils def test_get_host(self): good_host = PURE_HOST.copy() good_host.update(nqn=[""another-wrong-nqn"", INITIATOR_NQN]) bad_host = {""name"": ""bad-host"", ""nqn"": [""wrong-nqn""]} self.array.list_hosts.return_value = [bad_host] real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([], real_result) self.array.list_hosts.return_value.append(good_host) real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([good_host], real_result) self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_ipv6( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection self.mock_config.pure_nvme_cidr = NVME_CIDR_V6 result = deepcopy(NVME_CONNECTION_INFO_V6) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC) self.driver._is_active_cluster_enabled = True mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidr( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will block only one of the # ActiveCluster addresses from above, so we should check that we only # get four+three results back self.driver.configuration.pure_nvme_cidr = NVME_CIDR_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidrs( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED_LIST) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will allow only 2 addresses from # each host of the ActiveCluster, so we should check that we only # get two+two results back self.driver.configuration.pure_nvme = NVME_CIDR self.driver.configuration.pure_nvme_cidr_list = NVME_CIDRS_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_multipath( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection multipath_connector = deepcopy(NVME_CONNECTOR) multipath_connector[""multipath""] = True result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection( vol, multipath_connector ) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, multipath_connector ) multipath_connector[""multipath""] = False self.driver.initialize_connection(vol, multipath_connector) def test_get_target_nvme_ports(self): self.array.list_ports.return_value = NVME_PORTS ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_nvme_and_fc(self): self.array.list_ports.return_value = NVME_PORTS_WITH ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_no_ports(self): # Should raise an exception if there are no ports self.array.list_ports.return_value = [] self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) def test_get_target_nvme_ports_with_only_fc_ports(self): # Should raise an exception of there are no nvme ports self.array.list_ports.return_value = PORTS_WITHOUT self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) @mock.patch(NVME_DRIVER_OBJ + ""._generate_purity_host_name"", spec=True) def test_connect(self, mock_generate, mock_host): vol, vol_name = self.new_fake_vol() result = {""vol"": vol_name, ""lun"": 1} # Branch where host already exists mock_host.return_value = [PURE_HOST] self.array.connect_host.return_value = {""vol"": vol_name, ""lun"": 1} real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(result, real_result) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) self.assertFalse(mock_generate.called) self.assertFalse(self.array.create_host.called) self.array.connect_host.assert_called_with(PURE_HOST_NAME, vol_name) # Branch where new host is created mock_host.return_value = [] mock_generate.return_value = PURE_HOST_NAME real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) mock_generate.assert_called_with(HOSTNAME) self.array.create_host.assert_called_with( PURE_HOST_NAME, nqnlist=[INITIATOR_NQN] ) self.assertFalse(self.array.set_host.called) self.assertEqual(result, real_result) mock_generate.reset_mock() self.array.reset_mock() self.assert_error_propagates( [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.array.reset_mock() self.mock_config.use_chap_auth = False self.mock_config.safe_get.return_value = ""oracle-vm-server"" # Branch where we fail due to invalid version for setting personality self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertFalse(self.array.create_host.called) self.assertFalse(self.array.set_host.called) self.array.get_rest_version.return_value = ""1.14"" # Branch where personality is set self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertDictEqual(result, real_result) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] expected = {""host"": PURE_HOST_NAME, ""lun"": 1} self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) actual = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(expected, actual) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_empty(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.return_value = {} self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_exception(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text="""" ) ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_host_deleted(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.set_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host does not exist."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_nqn_already_in_use(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""The specified NQN is already in use."", ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_create_host_already_exists(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host already exists."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.mock_config.safe_get.return_value = 'oracle-vm-server' '1.0', '1.1', '1.2', '1.3', '1.4', '1.5', '1.6', '1.7', '1.8', '1.9', '1.10', '1.11'] '1.0', '1.1', '1.2', '1.3', '1.4', '1.5', '1.6', '1.7', '1.8', '1.9', '1.10', '1.11', '1.12', '1.13', '1.14', '1.15', '1.16', '1.17', '1.18', '1.19']",623,612
openstack%2Fptgbot~master~If146ddc6176485cab038e68fae5c7cdbd7202417,openstack/ptgbot,master,If146ddc6176485cab038e68fae5c7cdbd7202417,Add Container Image Build,MERGED,2021-06-24 20:48:18.000000000,2021-07-06 23:27:11.000000000,2021-07-06 23:25:45.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 20:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/87b38a74dc4f1f58063f306240c1aa4986ac84a0', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 2, 'created': '2021-06-24 20:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/d7c803897951ea195ab323cda51246481c1f856b', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 3, 'created': '2021-06-28 21:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/627d7e53951d1d2bf85c0e9a81be34097ad891d7', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 4, 'created': '2021-06-29 19:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/622ca5251f5314ce4a40748d7f33ac2a6c067355', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 5, 'created': '2021-06-29 20:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/fbc802b74c22a00ded02efba76770784a8fad21c', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 6, 'created': '2021-06-29 20:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/d2af9da414baee2f70aac768d6b4e231281c28a9', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 7, 'created': '2021-06-30 20:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/d4d03aa7eac4e30893f148217dd388efb3625af8', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}, {'number': 8, 'created': '2021-07-06 22:14:17.000000000', 'files': ['Dockerfile', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/a3709343151ca56d29aaa50c84fb9a6789730fdd', 'message': 'Add Container Image Build\n\nChange-Id: If146ddc6176485cab038e68fae5c7cdbd7202417\n'}]",11,798025,a3709343151ca56d29aaa50c84fb9a6789730fdd,33,6,8,16708,,,0,"Add Container Image Build

Change-Id: If146ddc6176485cab038e68fae5c7cdbd7202417
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/25/798025/8 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', '.zuul.yaml', 'setup.cfg']",3,87b38a74dc4f1f58063f306240c1aa4986ac84a0,containerize, Programming Language :: Python :: 3.8,,56,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Ia8f787631c55fabb3a097919971d17b93711d4b7,openstack/tripleo-validations,stable/wallaby,Ia8f787631c55fabb3a097919971d17b93711d4b7,Sort jobs in molecule.yaml file when adding new role,MERGED,2021-07-06 09:48:36.000000000,2021-07-06 23:12:08.000000000,2021-07-06 23:12:08.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-06 09:48:36.000000000', 'files': ['roles/validation_init/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc29577f73da1c6227461731f04d37c244b29a0e', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)\n'}]",0,799616,cc29577f73da1c6227461731f04d37c244b29a0e,7,7,1,11491,,,0,"Sort jobs in molecule.yaml file when adding new role

This patch adds a mechanism to keep the job names in
zuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not
indenting lists correctly, due to [1][2].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7
(cherry picked from commit ae59abe62c65aaa7286090e2d1b98508d6c7ff6f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/16/799616/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validation_init/tasks/main.yml'],1,cc29577f73da1c6227461731f04d37c244b29a0e,," # Managed via ./role-addition.yml, do not edit manually without testing that # new role addition does not reformat it. } {% set project = items.pop(0) %} {% set sorted_jobs = items | sort(attribute='job.name') %} {% set _ = sorted_jobs.insert(0, project) %} {{ sorted_jobs | to_nice_yaml(indent=2, width=1337) }}"," } {{ items | to_nice_yaml(indent=2, width=1337) }}",7,2
openstack%2Ftripleo-validations~stable%2Fwallaby~Iac63dc6f161a0e885110a246b68001522a6f62e3,openstack/tripleo-validations,stable/wallaby,Iac63dc6f161a0e885110a246b68001522a6f62e3,Add zuul.d/molecule.yaml file back in the yamllint ignore list,MERGED,2021-07-06 09:48:36.000000000,2021-07-06 23:12:05.000000000,2021-07-06 23:12:05.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-06 09:48:36.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f798c56ba56c1fbda7f7c517044155d80e913ec2', 'message': 'Add zuul.d/molecule.yaml file back in the yamllint ignore list\n\nThe validation_init role auto generates the molecule.yaml file when\nadding a new role. But, due to [1][2], the to_nice_yaml filter is not\ncorrectly indenting lists and will break the indentation every time a\nnew validation will be created.\n\nThis patch adds this file to the yamllint ignore list and provides a new\nmolecule.yaml sorted by job names as the validation_init role will\ngenerate in a follow up patch.\n\nMoreover, this patch enables the oslo_config_validator molecule job in\nthe check/gate as it was not added in the initial patch[3].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3\n(cherry picked from commit 41dcda85921b4a79a46eaccbe28f0fffd516e3cf)\n'}]",0,799615,f798c56ba56c1fbda7f7c517044155d80e913ec2,6,7,1,11491,,,0,"Add zuul.d/molecule.yaml file back in the yamllint ignore list

The validation_init role auto generates the molecule.yaml file when
adding a new role. But, due to [1][2], the to_nice_yaml filter is not
correctly indenting lists and will break the indentation every time a
new validation will be created.

This patch adds this file to the yamllint ignore list and provides a new
molecule.yaml sorted by job names as the validation_init role will
generate in a follow up patch.

Moreover, this patch enables the oslo_config_validator molecule job in
the check/gate as it was not added in the initial patch[3].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234
[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3
(cherry picked from commit 41dcda85921b4a79a46eaccbe28f0fffd516e3cf)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/799615/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint']",2,f798c56ba56c1fbda7f7c517044155d80e913ec2,, zuul.d/molecule.yaml,,494,467
openstack%2Fcinder~master~I80b99102511d241c7099889b3756cca5bc090006,openstack/cinder,master,I80b99102511d241c7099889b3756cca5bc090006,Add Pure Storage NVMe driver,ABANDONED,2021-07-06 18:16:00.000000000,2021-07-06 22:59:00.000000000,,[],"[{'number': 1, 'created': '2021-07-06 18:16:00.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdb9cab045281c433360980e6f8e9005dbb5bb07', 'message': 'Add Pure Storage NVMe driver\n\nChange-Id: I80b99102511d241c7099889b3756cca5bc090006\n'}]",0,799703,fdb9cab045281c433360980e6f8e9005dbb5bb07,3,0,1,13425,,,0,"Add Pure Storage NVMe driver

Change-Id: I80b99102511d241c7099889b3756cca5bc090006
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/799703/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py']",2,fdb9cab045281c433360980e6f8e9005dbb5bb07,nvme_driver,"patch_retry = mock.patch(""cinder.utils.retry"", fake_retry)sys.modules[""purestorage""] = mock.Mock()NVME_DRIVER_OBJ = DRIVER_PATH + "".PureNVMEDriver""GET_ARRAY_PRIMARY = { ""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target1"", ""id"": ""primary_array_id"", } GET_ARRAY_SECONDARY = { ""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target2"", ""id"": ""secondary_array_id"", }NVME_PORT_NAMES = [""ct0.eth8"", ""ct0.eth9"", ""ct1.eth8"", ""ct1.eth9""]# These two IP blocks should use the same prefix (see NVME_CIDR_FILTERED to # make sure changes make sense). Our arrays now have 4 IPv4 + 4 IPv6 ports. NVME_IPS = [""10.0.0."" + str(i + 1) for i in range(len(NVME_PORT_NAMES))] NVME_IPS += [ ""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES)) ] AC_NVME_IPS = [ ""10.0.0."" + str(i + 1 + len(NVME_PORT_NAMES)) for i in range(len(NVME_PORT_NAMES)) ] AC_NVME_IPS += [ ""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(NVME_PORT_NAMES)) ] NVME_CIDR = ""0.0.0.0/0"" NVME_CIDR_V6 = ""::/0"" # Designed to filter out only one of the AC ISCSI IPs, leaving the rest in NVME_CIDR_FILTERED = ""10.0.0.0/29"" # Include several IP / networks: 10.0.0.2, 10.0.0.3, 10.0.0.6, 10.0.0.7 NVME_CIDRS_FILTERED = [""10.0.0.2"", ""10.0.0.3"", ""2001:db8::1:2/127""]ISCSI_IPS += [ ""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES)) ] AC_ISCSI_IPS = [ ""10.0.0."" + str(i + 1 + len(ISCSI_PORT_NAMES)) for i in range(len(ISCSI_PORT_NAMES)) ] AC_ISCSI_IPS += [ ""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES)) ]ISCSI_CIDR_FILTERED = ""10.0.0.0/29""ISCSI_CIDRS_FILTERED = [""10.0.0.2"", ""10.0.0.3"", ""2001:db8::1:2/127""] ""21000024ff59fab"" + str(i + 1) for i in range(len(FC_PORT_NAMES)) ] ""nqn"": [],INITIATOR_NQN = ( ""nqn.2014-08.org.nvmexpress:uuid:6953a373-c3f7-4ea8-ae77-105c393012ff"" )NVME_CONNECTOR = {""initiator"": INITIATOR_NQN, ""host"": HOSTNAME}TARGET_NQN = ""nqn.2010-06.com.purestorage:flasharray.12345abc"" AC_TARGET_NQN = ""nqn.2010-06.com.purestorage:flasharray.67890def"" ""5001500150015081abc"": list(set(FC_WWNS)), ""5001500150015081abc"": list(set(FC_WWNS + AC_FC_WWNS)), ""initiator_port_wwn_list"": {INITIATOR_WWN}, ""target_port_wwn_list"": FC_WWNS, ""initiator_port_wwn_list"": {INITIATOR_WWN}, ""target_port_wwn_list"": FC_WWNS + AC_FC_WWNS,NVME_PORTS = [ { ""name"": name, ""nqn"": TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, NVME_IPS) ] AC_NVME_PORTS = [ { ""name"": name, ""nqn"": AC_TARGET_NQN, ""iqn"": None, ""portal"": ip, ""wwn"": None, } for name, ip in zip(NVME_PORT_NAMES * 2, AC_NVME_IPS) ] ISCSI_PORTS = [ { ""name"": name, ""iqn"": TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, ISCSI_IPS) ] AC_ISCSI_PORTS = [ { ""name"": name, ""iqn"": AC_TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""nqn"": None, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, AC_ISCSI_IPS) ] FC_PORTS = [ { ""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, FC_WWNS) ] AC_FC_PORTS = [ { ""name"": name, ""iqn"": None, ""nqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, AC_FC_WWNS) ] ""nqn"": None,NVME_PORTS_WITH = NVME_PORTS + [NON_ISCSI_PORT] ""writes_per_sec"": 318, ""usec_per_write_op"": 255, ""output_per_sec"": 234240, ""reads_per_sec"": 15, ""input_per_sec"": 2827943, ""time"": ""2015-12-17T21:50:55Z"", ""usec_per_read_op"": 192, ""queue_depth"": 4, ""target_portals"": [ ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT, ], ""target_portals"": [ ISCSI_IPS[4] + "":"" + TARGET_PORT, ISCSI_IPS[5] + "":"" + TARGET_PORT, ISCSI_IPS[6] + "":"" + TARGET_PORT, ISCSI_IPS[7] + "":"" + TARGET_PORT, ], ""target_iqns"": [ TARGET_IQN, TARGET_IQN, TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, ], ""target_portals"": [ ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT, AC_ISCSI_IPS[0] + "":"" + TARGET_PORT, AC_ISCSI_IPS[1] + "":"" + TARGET_PORT, AC_ISCSI_IPS[2] + "":"" + TARGET_PORT, AC_ISCSI_IPS[3] + "":"" + TARGET_PORT, ], ""target_iqns"": [ TARGET_IQN, TARGET_IQN, TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, ], ""target_portals"": [ ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT, AC_ISCSI_IPS[0] + "":"" + TARGET_PORT, AC_ISCSI_IPS[1] + "":"" + TARGET_PORT, AC_ISCSI_IPS[2] + "":"" + TARGET_PORT, ], ""target_iqns"": [TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN], ""target_portals"": [ ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, AC_ISCSI_IPS[5] + "":"" + TARGET_PORT, # IPv6 AC_ISCSI_IPS[6] + "":"" + TARGET_PORT, ], # IPv6 ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1], ""target_nqns"": [TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN], ""target_portals"": [NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3]], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_V6 = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1], ""target_nqns"": [TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN], ""target_portals"": [NVME_IPS[4], NVME_IPS[5], NVME_IPS[6], NVME_IPS[7]], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1, 5, 5, 5, 5], ""target_nqns"": [ TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, ], ""target_portals"": [ NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3], AC_NVME_IPS[0], AC_NVME_IPS[1], AC_NVME_IPS[2], AC_NVME_IPS[3], ], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC_FILTERED = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 1, 1, 5, 5, 5], # Final entry filtered by NVME_CIDR_FILTERED ""target_nqns"": [ TARGET_NQN, TARGET_NQN, TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN, ], # Final entry filtered by NVME_CIDR_FILTERED ""target_portals"": [ NVME_IPS[0], NVME_IPS[1], NVME_IPS[2], NVME_IPS[3], AC_NVME_IPS[0], AC_NVME_IPS[1], AC_NVME_IPS[2], ], ""wwn"": ""3624a93709714b5cb91634c470002b2c8"", }, } NVME_CONNECTION_INFO_AC_FILTERED_LIST = { ""driver_volume_type"": ""nvme"", ""data"": { ""target_discovered"": False, ""discard"": True, ""target_luns"": [1, 1, 5, 5], # Final entry filtered by NVME_CIDR_FILTERED ""target_nqns"": [TARGET_NQN, TARGET_NQN, AC_TARGET_NQN, AC_TARGET_NQN], # Final entry filtered by NVME_CIDR_FILTERED ""target_portals"": [ NVME_IPS[1], NVME_IPS[2], AC_NVME_IPS[5], # IPv6 AC_NVME_IPS[6], ], # IPv6 ""source"": ""vol1"", ""volumes"": [""v1""], ""targets"": [{""name"": ""array2"", ""allowed"": False}], } ""targets"": [{""name"": ""array2"", ""allowed"": True}], } ""array_name"": ""3rd-pure-generic2"", } ""data_transferred"": 318, ""data_transferred"": 318, ""data_transferred"": 318, }, ] None, id=fake.VOLUME_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME_ID), None, id=fake.VOLUME2_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME2_ID), None, id=fake.VOLUME3_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME3_ID), ""size"": 1048576, ""size"": 1048576, ""size"": 1048576, }, ""arrays"": [ { ""status"": ""online"", ""array_id"": ""47966b2d-a1ed-4144-8cae-6332794562b8"", ""name"": ""fs83-14"", ""mediator_status"": ""online"", ""status"": ""online"", ""array_id"": ""8ed17cf4-4650-4634-ab3d-f2ca165cd021"", ""name"": ""fs83-15"", ""mediator_status"": ""online"", }, ""source"": None, ""name"": ""cinder-pod"", ""name"": ""myVol1"", ""serial"": ""8E9C7E588B16C1EA00048CCA"", ""size"": 3221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": None, ""name"": ""myVol2"", ""serial"": ""8E9C7E588B16C1EA00048CCB"", ""size"": 3221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": None, ""name"": ""myVol3"", ""serial"": ""8E9C7E588B16C1EA00048CCD"", ""size"": 3221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": None, }, ""reference"": {""name"": ""myVol1""}, ""size"": 3, ""safe_to_manage"": True, ""reason_not_safe"": """", ""cinder_id"": None, ""extra_info"": None, ""reference"": {""name"": ""myVol2""}, ""size"": 3, ""safe_to_manage"": True, ""reason_not_safe"": """", ""cinder_id"": None, ""extra_info"": None, ""reference"": {""name"": ""myVol3""}, ""size"": 3, ""safe_to_manage"": True, ""reason_not_safe"": """", ""cinder_id"": None, ""extra_info"": None, }, ""name"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap1"", ""serial"": ""8E9C7E588B16C1EA00048CCA"", ""size"": 3221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder"", ""name"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap2"", ""serial"": ""8E9C7E588B16C1EA00048CCB"", ""size"": 4221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder"", ""name"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap3"", ""serial"": ""8E9C7E588B16C1EA00048CCD"", ""size"": 5221225472, ""created"": ""2016-08-05T17:26:34Z"", ""source"": ""volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder"", }, ""reference"": {""name"": MANAGEABLE_PURE_SNAPS[0][""name""]}, ""size"": 3, ""safe_to_manage"": True, ""reason_not_safe"": None, ""cinder_id"": None, ""extra_info"": None, ""source_reference"": {""name"": MANAGEABLE_PURE_SNAPS[0][""source""]}, ""reference"": {""name"": MANAGEABLE_PURE_SNAPS[1][""name""]}, ""size"": 4, ""safe_to_manage"": True, ""reason_not_safe"": None, ""cinder_id"": None, ""extra_info"": None, ""source_reference"": {""name"": MANAGEABLE_PURE_SNAPS[1][""source""]}, ""reference"": {""name"": MANAGEABLE_PURE_SNAPS[2][""name""]}, ""size"": 5, ""safe_to_manage"": True, ""reason_not_safe"": None, ""cinder_id"": None, ""extra_info"": None, ""source_reference"": {""name"": MANAGEABLE_PURE_SNAPS[2][""source""]}, }, def __init__( self, target=None, rest_version=None, code=None, headers=None, text=None, ): self.mock_config.pure_nvme_cidr = NVME_CIDR self.mock_config.pure_nvme_cidr_list = None self.async_array2.replication_type = ""async"" self.purestorage_module.VERSION = ""1.4.0"" if ""action"" in kwargs and kwargs[""action""] == ""monitor"": if ""space"" in kwargs and kwargs[""space""] is True: mock_func.side_effect = [pure.PureDriverException(reason=""reason"")] self.assertRaises(pure.PureDriverException, func, *args, **kwargs) @mock.patch(""platform.platform"") def test_for_user_agent(self, mock_platform): mock_platform.return_value = ""MyFavoritePlatform"" driver.VERSION, vol_name = vol.name + ""-cinder"" if repl_type == ""sync"": vol_name = ""cinder-pod::"" + vol_name mock.MagicMock() ) group_snap_name = ""%s.cgsnapshot-%s-cinder"" % ( group_name, group_snap.id, ) REPLICATION_INTERVAL_IN_SEC ) REPLICATION_RETENTION_SHORT_TERM ) REPLICATION_RETENTION_LONG_TERM ) REPLICATION_RETENTION_LONG_TERM_PER_DAY ) self.mock_config.pure_replication_pg_name = ""cinder-group"" self.mock_config.pure_replication_pod_name = ""cinder-pod"" { ""backend_id"": self.driver._array.array_id, ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123"", } ] @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") self, mock_setup_repl_pgroups, mock_generate_replication_retention ): { ""backend_id"": self.driver._array.id, ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123"", } ] self.assertEqual(self.driver._array.id, only_target_array.backend_id) @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") self, mock_setup_repl_pgroups, mock_generate_replication_retention ): { ""backend_id"": GET_ARRAY_PRIMARY[""id""], ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123"", }, { ""backend_id"": GET_ARRAY_SECONDARY[""id""], ""managed_backend_name"": None, ""san_ip"": ""1.2.3.5"", ""api_token"": ""abc124"", }, ] self.purestorage_module.FlashArray.side_effect = [ self.array, self.async_array2, ] GET_ARRAY_PRIMARY[""id""], first_target_array.backend_id ) self.assertEqual( self.async_array2, self.driver._replication_target_arrays[1] ) self.assertEqual( GET_ARRAY_SECONDARY[""id""], second_target_array.backend_id ) @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") self, mock_setup_repl_pgroups, mock_generate_replication_retention ): self.assertEqual( mock_target, self.driver._replication_target_arrays[0] ) [mock_target], self.driver._active_cluster_target_arrays ) self.assertEqual( 0, len(self.driver._uniform_active_cluster_target_arrays) ) @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") self, mock_setup_repl_pgroups, mock_generate_replication_retention ): self.assertEqual( mock_target, self.driver._replication_target_arrays[0] ) [mock_target], self.driver._active_cluster_target_arrays ) 1, len(self.driver._uniform_active_cluster_target_arrays) ) self.assertEqual( mock_target, self.driver._uniform_active_cluster_target_arrays[0] ) @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") def test_do_setup_replicated( self, mock_setup_repl_pgroups, mock_generate_replication_retention ): self.purestorage_module.FlashArray.side_effect = [ self.array, self.async_array2, ] self.assertEqual( self.async_array2, self.driver._replication_target_arrays[0] ) mock.call( self.array, [self.async_array2], ""cinder-group"", REPLICATION_INTERVAL_IN_SEC, retention, ) @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pods"") @mock.patch(BASE_DRIVER_OBJ + ""._generate_replication_retention"") @mock.patch(BASE_DRIVER_OBJ + ""._setup_replicated_pgroups"") def test_do_setup_replicated_sync_rep( self, mock_setup_repl_pgroups, mock_generate_replication_retention, mock_setup_pods, ): mock_setup_repl_pgroups.assert_has_calls( [ mock.call( self.array, [mock_sync_target], ""cinder-group"", REPLICATION_INTERVAL_IN_SEC, retention, ), ] ) mock_setup_pods.assert_has_calls( [mock.call(self.array, [mock_sync_target], ""cinder-pod"")] ) self.new_fake_vol( spec={""id"": fake.VOLUME_ID}, set_provider_id=False ), self.new_fake_vol( spec={""id"": fake.VOLUME2_ID}, set_provider_id=False ), self.new_fake_vol( spec={""id"": fake.VOLUME3_ID}, set_provider_id=False ), self.assertEqual(vol_name, update[""provider_id""]) self.new_fake_vol( spec={""id"": fake.VOLUME_ID}, set_provider_id=True ), self.new_fake_vol( spec={""id"": fake.VOLUME2_ID}, set_provider_id=True ), self.new_fake_vol( spec={""id"": fake.VOLUME3_ID}, set_provider_id=False ), self.assertEqual(vol_names[2], model_updates[0][""provider_id""]) self.new_fake_vol( spec={""id"": fake.VOLUME_ID}, set_provider_id=True ), self.new_fake_vol( spec={""id"": fake.VOLUME2_ID}, set_provider_id=True ), self.new_fake_vol( spec={""id"": fake.VOLUME3_ID}, set_provider_id=True ), ""really-long-string-thats-a-bit-too-long"" ) self.array.copy_volume.assert_called_with( snap_name, vol_name, overwrite=True ) self.assert_error_propagates( [self.array.copy_volume], self.driver.revert_to_snapshot, context, vol, snap, ) self.array.copy_volume.assert_called_with( copy_vol_name, vol_name, overwrite=True ) self.assert_error_propagates( [self.array.copy_volume], self.driver.revert_to_snapshot, context, vol, snap, ) self.array.create_volume.assert_called_with(vol_name, 2 * units.Gi) mock_add_to_group.assert_called_once_with(vol_obj, vol_name) self.assert_error_propagates( [self.array.create_volume], self.driver.create_volume, vol_obj ) @mock.patch.object(volume_types, ""get_volume_type"") def test_create_volume_from_snapshot( self, mock_get_volume_type, mock_get_replicated_type, mock_add_to_group ): self.driver.create_volume_from_snapshot, vol, snap, ) @mock.patch.object(volume_types, ""get_volume_type"") def test_create_volume_from_snapshot_with_extend( self, mock_get_volume_type, mock_get_replicated_type, mock_add_to_group ): vol, vol_name = self.new_fake_vol( set_provider_id=False, spec={""size"": 2} ) expected = [ mock.call.copy_volume(snap_name, vol_name), mock.call.extend_volume(vol_name, 2 * units.Gi), ] @mock.patch.object(volume_types, ""get_volume_type"") ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", vol, vol_name = self.new_fake_vol( set_provider_id=False, type_extra_specs=repl_extra_specs ) @mock.patch.object(volume_types, ""get_volume_type"") def test_create_volume_from_cgsnapshot( self, mock_get_volume_type, mock_get_replicated_type, mock_get_snap_name, mock_extend_if_needed, mock_add_to_group, ): cgsnap = fake_group_snapshot.fake_group_snapshot_obj( mock.MagicMock(), group=cgroup ) vol.name, def test_create_cloned_volume( self, mock_get_replication_type, mock_add_to_group ): mock_add_to_group.assert_called_once_with(vol, vol_name) self.driver.create_cloned_volume, vol, src_vol, ) ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", type_extra_specs=repl_extra_specs ) vol, vol_name = self.new_fake_vol( set_provider_id=False, type_extra_specs=repl_extra_specs ) def test_create_cloned_volume_and_extend( self, mock_get_replication_type, mock_add_to_group ): vol, vol_name = self.new_fake_vol( set_provider_id=False, spec={""size"": 2} ) expected = [ mock.call.copy_volume(src_name, vol_name), mock.call.extend_volume(vol_name, 2 * units.Gi), ] mock_add_to_group.assert_called_once_with(vol, vol_name) def test_create_cloned_volume_with_cgroup( self, mock_get_replication_type, mock_add_to_group ): self.array.list_volume_private_connections.side_effect = ( code=400, text=""Volume does not exist"" ) self.array.destroy_volume.side_effect = ( code=http.client.BAD_REQUEST, text=""Volume does not exist"" ) self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""does not exist"" ) ) self.assert_error_propagates( [self.array.destroy_volume], self.driver.delete_volume, vol ) expected = [ mock.call.destroy_volume(vol_name), mock.call.eradicate_volume(vol_name), ] self.array.list_volume_private_connections.return_value = [ { ""host"": host_name_a, ""lun"": 7, ""name"": vol_name, ""size"": 3221225472, }, { ""host"": host_name_b, ""lun"": 2, ""name"": vol_name, ""size"": 3221225472, }, ] ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", self.array.assert_has_calls( [ mock.call.list_volume_private_connections( vol_name, remote=True ), mock.call.destroy_volume(vol_name), ] ) ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", }, mock.call.destroy_volume(vol_name), vol_name, suffix=snap[""name""] self.assert_error_propagates( [self.array.create_snapshot], self.driver.create_snapshot, snap ) self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=error_text ) ) self.assert_error_propagates( [self.array.destroy_volume], self.driver.delete_snapshot, snap ) expected = [ mock.call.destroy_volume(snap_name), mock.call.eradicate_volume(snap_name), ] {""lun"": 2, ""name"": PURE_HOST_NAME, ""vol"": ""some-vol""} ] self.array.list_host_connections.assert_called_with( PURE_HOST_NAME, private=True ) self.array.list_host_connections.assert_called_with( PURE_HOST_NAME, private=True ) self.array.disconnect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""is not connected"" ) ) self.array.list_host_connections.assert_called_with( PURE_HOST_NAME, private=True ) self.array.disconnect_host.side_effect = ( code=http.client.INTERNAL_SERVER_ERROR, text=""Some other error"" ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver.terminate_connection, vol, ISCSI_CONNECTOR, ) self, mock_host, mock_disconnect ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_disconnect.assert_has_calls( [ mock.call(mock_secondary, ""some-host1"", vol_name), mock.call(self.array, ""some-host2"", vol_name), mock.call(self.array, ""secondary-fa1:some-host1"", vol_name), ] ) self, mock_host, mock_disconnect ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_disconnect.assert_has_calls( [ mock.call(self.array, ""some-host2"", vol_name), ] ) self.array.delete_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=error ) ) self.array.list_host_connections.assert_called_with( PURE_HOST_NAME, private=True ) self._test_terminate_connection_with_error( mock_host, ""Host does not exist."" ) mock_host, ""Host cannot be deleted due to existing connections."" self.array.list_volume_private_connections.return_value = [ connections[0] ] connections[0][""host""], connections[0][""name""] self.assert_error_propagates( [self.array.extend_volume], self.driver.extend_volume, vol, 3 ) expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID), repl_types=[""async""], expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID), repl_types=[None, ""async""], expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID), repl_types=[""sync""], expected_name=( ""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID ), repl_types=[None, ""sync""], expected_name=( ""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID ), repl_types=[""sync"", ""async""], expected_name=( ""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID ), repl_types=[None, ""sync"", ""async""], expected_name=( ""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID ), ""replication_type"": ""<in> %s"" % repl_type, ""replication_enabled"": ""<is> true"", cgsnap = {""id"": ""4a2f7e3a-312a-40c5-96a8-536b8a0fe074""} expected_suffix = ""cgsnapshot-%s-cinder"" % cgsnap[""id""] expected_name = ""%(group_name)s.cgsnapshot-%(snap)s-cinder"" % { ""group_name"": group_name, ""snap"": cgsnap.id, } ""consisgroup-%s-cinder.cgsnapshot-%s-cinder.%s-cinder"" ) actual_name = self.driver._get_pgroup_snap_name_from_snapshot(snap) self.assertEqual({""status"": ""available""}, model_update) self.driver.create_consistencygroup, None, cgroup, ) mock_get_repl_types.return_value = [""sync"", ""async""] self.assertEqual({""status"": ""available""}, model_update) def test_create_consistencygroup_from_cgsnapshot( self, mock_create_cg, mock_create_vol ): source_vols=None, expected_calls = [ mock.call(vol, snap) for vol, snap in zip(mock_volumes, mock_snapshots) ] mock_create_vol.assert_has_calls(expected_calls, any_order=True) source_vols=None, source_vols=mock_source_vols, mock_context, mock_cgroup, [mock_volume] ) self.array.destroy_pgroup.side_effect = ( text=""Protection group has been destroyed."", ) self.driver.delete_consistencygroup( mock_context, mock_cgroup, [mock_volume] ) self.array.destroy_pgroup.side_effect = ( text=""Protection group does not exist"", ) self.driver.delete_consistencygroup( mock_context, mock_cgroup, [mock_volume] ) self.array.destroy_pgroup.side_effect = ( code=http.client.BAD_REQUEST, text=""Some other error"" ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver.delete_consistencygroup, mock_context, mock_cgroup, [mock_volume], ) self.array.destroy_pgroup.side_effect = ( text=""Another different error"", ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver.delete_consistencygroup, mock_context, mock_cgroup, [mock_volume], ) [mock_volume], self.driver.update_consistencygroup( mock.Mock(), group, add_vol_objs, rem_vol_objs ) remvollist=expected_remvollist, self.driver.update_consistencygroup( mock.Mock(), group, None, rem_vol_objs ) remvollist=expected_remvollist, self.driver.update_consistencygroup( mock.Mock(), group, add_vol_objs, None ) remvollist=expected_remvollist, self.driver.update_consistencygroup(mock.Mock(), group, None, None) group_name, addvollist=[], remvollist=[] mock_context, group_id=mock_group.id ) with mock.patch(""cinder.objects.Group.get_by_id"") as mock_get_group: mock_context, mock_cgsnap, [mock_snap] ) self.array.create_pgroup_snapshot.assert_called_with( expected_pgroup_name, suffix=expected_snap_suffix ) self.driver.create_cgsnapshot, mock_context, mock_cgsnap, [], ) @mock.patch( BASE_DRIVER_OBJ + ""._get_pgroup_snap_name"", spec=pure.PureBaseVolumeDriver._get_pgroup_snap_name, ) def test_delete_cgsnapshot(self, mock_get_snap_name): snap_name = ( ""consisgroup-4a2f7e3a-312a-40c5-96a8-536b8a0f"" ""e074-cinder.4a2f7e3a-312a-40c5-96a8-536b8a0fe075"" ) mock_cgsnap.status = ""deleted"" model_update, snapshots = self.driver.delete_cgsnapshot( mock_context, mock_cgsnap, [mock_snap] ) self.array.destroy_pgroup.side_effect = ( text=""Protection group snapshot has been destroyed."", ) self.array.destroy_pgroup.side_effect = ( text=""Protection group snapshot does not exist"", ) self.array.destroy_pgroup.side_effect = ( code=http.client.BAD_REQUEST, text=""Some other error"" ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver.delete_cgsnapshot, mock_context, mock_cgsnap, [mock_snap], ) self.array.destroy_pgroup.side_effect = ( text=""Another different error"", ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver.delete_cgsnapshot, mock_context, mock_cgsnap, [mock_snap], ) [mock_snap], @mock.patch( BASE_DRIVER_OBJ + ""._get_pgroup_snap_name"", spec=pure.PureBaseVolumeDriver._get_pgroup_snap_name, ) def test_delete_cgsnapshot_eradicate_now(self, mock_get_snap_name): snap_name = ( ""consisgroup-4a2f7e3a-312a-40c5-96a8-536b8a0f"" ""e074-cinder.4a2f7e3a-312a-40c5-96a8-536b8a0fe075"" ) model_update, snapshots = self.driver.delete_cgsnapshot( mock.Mock(), mock.Mock(), [mock.Mock()] ) ref_name = ""vol1"" volume_ref = {""name"": ref_name} [ self.array.list_volume_private_connections, self.array.rename_volume, ], vol, {""name"": ""vol1""}, self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {""bad_key"": ""bad_value""}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {""name"": """"}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {""name"": None}, ) self.array.get_volume.side_effect = ( text=""Volume does not exist."", code=http.client.BAD_REQUEST ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {""name"": ""non-existing-volume""}, ) ref_name = ""vol1"" volume_ref = {""name"": ref_name} type_spec = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", vol, vol_name = self.new_fake_vol( set_provider_id=False, type_extra_specs=type_spec ) self.assertRaises( exception.ManageExistingVolumeTypeMismatch, self.driver.manage_existing, vol, volume_ref, ) ref_name = ""somepod::vol1"" volume_ref = {""name"": ref_name} self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, volume_ref, ) ref_name = ""vol1"" self.array.list_volume_private_connections.return_value = [ ""host1"", ""host2"", ] self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {""name"": ref_name}, ) ref_name = ""vol1"" volume_ref = {""name"": ref_name} self.assert_error_propagates( [self.array.get_volume], self.driver.manage_existing_get_size, vol, {""name"": ""vol1""}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {""bad_key"": ""bad_value""}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {""name"": """"}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {""name"": None}, ) self.array.rename_volume.assert_called_with( vol_name, unmanaged_vol_name ) self.assert_error_propagates( [self.array.rename_volume], self.driver.unmanage, vol ) self.array.rename_volume.side_effect = ( text=""Volume does not exist."", code=http.client.BAD_REQUEST ) self.array.rename_volume.assert_called_with( vol_name, unmanaged_vol_name ) ref_name = PURE_SNAPSHOT[""name""] snap_ref = {""name"": ref_name} self.array.rename_volume.assert_called_once_with(ref_name, snap_name) self.array.get_volume.assert_called_with( PURE_SNAPSHOT[""source""], snap=True ) ref_name = PURE_SNAPSHOT[""name""] snap_ref = {""name"": ref_name} pure_snap[""name""] += str(i) self.array.rename_volume.assert_called_once_with(ref_name, snap_name) snap, {""name"": PURE_SNAPSHOT[""name""]}, self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {""bad_key"": ""bad_value""}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {""name"": """"}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {""name"": None}, ) self.array.get_volume.side_effect = ( text=""Volume does not exist."", code=http.client.BAD_REQUEST ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {""name"": ""non-existing-volume.snap1""}, ) ref_name = PURE_SNAPSHOT[""name""] + ""-fake"" snap_ref = {""name"": ref_name} self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, snap_ref, ) self.assertRaises( pure.PureDriverException, self.driver.manage_existing_snapshot, snap, {""name"": PURE_SNAPSHOT[""name""]}, ) ref_name = PURE_SNAPSHOT[""name""] snap_ref = {""name"": ref_name} size = self.driver.manage_existing_snapshot_get_size(snap, snap_ref) self.array.get_volume.assert_called_with( PURE_SNAPSHOT[""source""], snap=True ) snap, {""name"": PURE_SNAPSHOT[""name""]}, self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {""bad_key"": ""bad_value""}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {""name"": """"}, ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {""name"": None}, ) self.array.get_volume.side_effect = ( text=""Volume does not exist."", code=http.client.BAD_REQUEST ) self.assertRaises( exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {""name"": ""non-existing-volume.snap1""}, ) ""volume-1e5177e7-95e5-4a0f-b170-e45f4b469f6a-cinder."" ""snapshot-253b2878-ec60-4793-ad19-e65496ec7aab"", ""volume-1e5177e7-cinder.snapshot-e65496ec7aab"", ) self.assert_error_propagates( [self.array.rename_volume], self.driver.unmanage_snapshot, snap ) unmanaged_snap_name = ( snap_name[: -len(UNMANAGED_SUFFIX)] + UNMANAGED_SUFFIX ) self.array.rename_volume.side_effect = ( text=""Snapshot does not exist."", code=http.client.BAD_REQUEST ) self.array.rename_volume.assert_called_with( snap_name, unmanaged_snap_name ) with mock.patch( ""cinder.volume.volume_utils."" ""paginate_entries_list"" ) as mpage: expected_refs, marker, limit, offset, sort_keys, sort_dirs def test_get_manageable_volumes( self, ): connected_host[""name""] = ""host2"" connected_host[""vol""] = MANAGEABLE_PURE_VOLS[0][""name""] expected_refs[0][""safe_to_manage""] = False expected_refs[0][""reason_not_safe""] = ""Volume connected to host host2"" self._test_get_manageable_things( expected_refs=expected_refs, pure_hosts=pure_hosts ) purity_vols[0][""name""] = cinder_vol_name expected_refs[0][""reference""] = {""name"": purity_vols[0][""name""]} expected_refs[0][""safe_to_manage""] = False expected_refs[0][""reason_not_safe""] = ""Volume already managed"" expected_refs[0][""cinder_id""] = cinder_vol.id self._test_get_manageable_things( pure_objs=purity_vols, expected_refs=expected_refs, pure_hosts=[PURE_HOST], cinder_objs=cinders_vols, ) self._test_get_manageable_things( pure_objs=[], expected_refs=[], pure_hosts=[PURE_HOST] ) is_snapshot=True, purity_snaps[0][""name""] = ""volume-%s-cinder.snapshot-%s"" % ( cinder_vol.id, cinder_snap.id, expected_refs[0][""reference""] = {""name"": purity_snaps[0][""name""]} expected_refs[0][""safe_to_manage""] = False expected_refs[0][""reason_not_safe""] = ""Snapshot already managed."" expected_refs[0][""cinder_id""] = cinder_snap.id is_snapshot=True, self._test_get_manageable_things( pure_objs=[], expected_refs=[], pure_hosts=[PURE_HOST], is_snapshot=True, ) ""replication_enabled"": ""<is> false"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> false"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", ""other_spec"": ""blah"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", ""other_spec"": ""something new"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""other_spec"": ""blah"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""other_spec"": ""something new"", ""replication_enabled"": ""<is> false"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> false"", ""replication_enabled"": ""<is> false"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> false"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", def test_retype_replication( self, current_spec, new_spec, expected_model_update, expected_did_retype, expected_add_to_group, expected_remove_from_pgroup, ): self.driver._replication_pg_name, addvollist=[vol_name] self.driver._replication_pg_name, remvollist=[vol_name] ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", expected_repl_type=""async"", ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", expected_repl_type=""sync"", ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> false"", expected_repl_type=None, ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> false"", expected_repl_type=None, ""not_replication_stuff"": ""foo"", ""replication_enabled"": ""<is> true"", expected_repl_type=""async"", dict(specs=None, expected_repl_type=None), ""replication_type"": ""<in> super-turbo-repl-mode"", ""replication_enabled"": ""<is> true"", expected_repl_type=None, ), def test_get_replication_type_from_vol_type( self, specs, expected_repl_type ): self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""does not exist"" ) ) self.assert_error_propagates( [self.array.get_pgroup], self.driver._does_pgroup_exist, ""some_pgroup"", def test_wait_until_target_group_setting_propagates_ready( self, mock_exists ): mock_exists.return_value = True self.driver._wait_until_target_group_setting_propagates( self.array, ""some_pgroup"" ) @mock.patch(BASE_DRIVER_OBJ + ""._does_pgroup_exist"") def test_wait_until_target_group_setting_propagates_not_ready( self, mock_exists ): ""some_pgroup"", ""some_pgroup"", ) @mock.patch.object(volume_types, ""get_volume_type"") ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol( spec={""size"": 2}, type_extra_specs=repl_extra_specs ) vol[""name""] + ""-cinder"", 2 * units.Gi ) REPLICATION_PROTECTION_GROUP, addvollist=[vol[""name""] + ""-cinder""] ) @mock.patch.object(volume_types, ""get_volume_type"") ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol( spec={""size"": 2}, type_extra_specs=repl_extra_specs ) ""cinder-pod::"" + vol[""name""] + ""-cinder"", 2 * units.Gi ) self.assertRaises( pure.PureDriverException, self.driver._find_async_failover_target ) @mock.patch(BASE_DRIVER_OBJ + ""._get_latest_replicated_pg_snap"") mock_backend_1.replication_type = ""async"" mock_backend_2.replication_type = ""async"" self.driver._replication_target_arrays = [ mock_backend_1, mock_backend_2, ] @mock.patch(BASE_DRIVER_OBJ + ""._get_latest_replicated_pg_snap"") def test_find_async_failover_target_missing_pgsnap(self, mock_get_snap): mock_backend_1.replication_type = ""async"" mock_backend_2.replication_type = ""async"" self.driver._replication_target_arrays = [ mock_backend_1, mock_backend_2, ] @mock.patch(BASE_DRIVER_OBJ + ""._get_latest_replicated_pg_snap"") def test_find_async_failover_target_no_pgsnap(self, mock_get_snap): mock_backend.replication_type = ""async"" self.assertRaises( pure.PureDriverException, self.driver._find_async_failover_target ) @mock.patch(BASE_DRIVER_OBJ + ""._get_latest_replicated_pg_snap"") self, mock_get_snap ): mock_backend.replication_type = ""async"" [mock_get_snap], self.driver._find_async_failover_target secondary.array_id = CINDER_POD[""arrays""][1][""array_id""] ""error getting pod status"" ) secondary.array_id = CINDER_POD[""arrays""][1][""array_id""] POD_WITH_ERR[""arrays""][1][""status""] = ""error"" secondary.array_id = CINDER_POD[""arrays""][1][""array_id""] ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", self.driver._replication_pg_name, addvollist=[vol_name] with mock.patch(""cinder.objects.VolumeType.get_by_id"") as mock_type: self.driver._enable_async_replication_if_needed( self.array, vol_obj ) ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", code=http.client.BAD_REQUEST, text=""already belongs to"" ) self.driver._replication_pg_name, addvollist=[vol_name] ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", self.array, vol, @mock.patch(BASE_DRIVER_OBJ + ""._get_flasharray"") @mock.patch(BASE_DRIVER_OBJ + ""._find_async_failover_target"") def test_failover_async(self, mock_find_failover_target, mock_get_array): secondary_device_id = ""foo"" array2_v1_3.array_name = GET_ARRAY_SECONDARY[""array_name""] array2_v1_3.array_id = GET_ARRAY_SECONDARY[""id""] array2_v1_3.version = ""1.3"" REPLICATED_PGSNAPS[1], context, REPLICATED_VOLUME_OBJS, None, [] ""updates"": { ""replication_status"": fields.ReplicationStatus.FAILED_OVER ""volume_id"": ""1e5177e7-95e5-4a0f-b170-e45f4b469f6a"", ""updates"": { ""replication_status"": fields.ReplicationStatus.FAILED_OVER ""volume_id"": ""43a09914-e495-475f-b862-0bda3c8918e4"", ""updates"": { ""replication_status"": fields.ReplicationStatus.FAILED_OVER ""volume_id"": ""1b1cf149-219c-44ac-aee3-13121a7f86a7"", }, vol_name = snap[""name""].split(""."")[-1] calls.append(mock.call(snap[""name""], vol_name, overwrite=True)) @mock.patch(BASE_DRIVER_OBJ + ""._find_sync_failover_target"") def test_failover_sync(self, mock_find_failover_target): secondary_device_id = ""foo"" mock_secondary.replication_type = ""sync"" ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", type_extra_specs=sync_repl_extra_specs, spec={""id"": fake.VOLUME_ID} ""replication_type"": ""<in> async"", ""replication_enabled"": ""<is> true"", spec={""id"": fake.VOLUME2_ID}, not_replicated_vol, _ = self.new_fake_vol(spec={""id"": fake.VOLUME3_ID}) spec={""id"": fake.VOLUME4_ID} not_replicated_vol2, [], ""updates"": {""status"": fields.VolumeStatus.ERROR}, ""volume_id"": not_replicated_vol.id, ""updates"": {""status"": fields.VolumeStatus.ERROR}, ""volume_id"": async_replicated_vol.id, ""updates"": { ""replication_status"": fields.ReplicationStatus.FAILED_OVER ""volume_id"": sync_replicated_vol.id, ""updates"": {""status"": fields.VolumeStatus.ERROR}, ""volume_id"": not_replicated_vol2.id, @mock.patch(BASE_DRIVER_OBJ + ""._get_flasharray"") @mock.patch(BASE_DRIVER_OBJ + ""._find_async_failover_target"") def test_async_failover_error_propagates( self, mock_find_failover_target, mock_get_array ): REPLICATED_PGSNAPS[1], array2_v1_3.array_name = GET_ARRAY_SECONDARY[""array_name""] array2_v1_3.array_id = GET_ARRAY_SECONDARY[""id""] array2_v1_3.version = ""1.3"" [ mock_find_failover_target, mock_get_array, array2_v1_3.get_volume, self.async_array2.copy_volume, ], mock.Mock(), REPLICATED_VOLUME_OBJS, None, self.driver._replication_pg_name, remvollist=[vol_name] vol, code=http.client.BAD_REQUEST, text=""could not be found"" ) self.driver._replication_pg_name, remvollist=[vol_name] san_ip = ""1.2.3.4"" api_token = ""abcdef"" cert_path = ""/my/ssl/certs"" self.driver._get_flasharray( san_ip, api_token, verify_https=True, ssl_cert_path=cert_path ) san_ip = ""1.2.3.4"" api_token = ""abcdef"" self.driver._get_flasharray( san_ip, api_token, request_kwargs={""some"": ""arg""} ) request_kwargs={""some"": ""arg""}, san_ip = ""1.2.3.4"" api_token = ""abcdef"" self.driver._get_flasharray( san_ip, api_token, request_kwargs={""some"": ""arg""} ) user_agent=self.driver._user_agent, vol = { ""created"": ""2019-01-28T14:16:54Z"", ""name"": ""volume-fdc9892f-5af0-47c8-9d4a-5167ac29dc98-cinder"", ""serial"": ""9714B5CB91634C470002B2C8"", ""size"": 3221225472, ""source"": ""volume-a366b1ba-ec27-4ca3-9051-c301b75bc778-cinder"", } returned_wwn = self.driver._get_wwn(vol[""name""]) expected_wwn = ""3624a93709714b5cb91634c470002b2c8"" self.assertEqual(specs[""maxIOPS""], int(QOS_IOPS_BWS[""maxIOPS""])) self.assertEqual( specs[""maxBWS""], int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024 ) self.assertEqual(specs[""maxIOPS""], int(QOS_IOPS_BWS[""maxIOPS""])) self.assertEqual( specs[""maxBWS""], int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024 ) self.assertEqual(specs[""maxBWS""], int(QOS_BWS[""maxBWS""]) * 1024 * 1024) self.assertRaises( exception.InvalidQoSSpecs, self.driver._get_qos_settings, voltype ) @mock.patch.object(volume_types, ""get_volume_type"") def test_create_volume_with_qos( self, mock_get_volume_type, mock_get_qos_specs, mock_get_repl_type, mock_add_to_group, ): vol, vol_name = self.new_fake_vol( spec={""size"": 1}, type_qos_specs_id=qos.id ) vol_name, 1 * units.Gi, bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024, ) mock_add_to_group.assert_called_once_with(vol, vol_name) self.assert_error_propagates( [self.array.create_volume], self.driver.create_volume, vol ) @mock.patch.object(volume_types, ""get_volume_type"") def test_create_volume_from_snapshot_with_qos( self, mock_get_volume_type, mock_get_qos_specs, mock_get_repl_type, mock_add_to_group, ): vol, vol_name = self.new_fake_vol( set_provider_id=False, type_qos_specs_id=qos.id ) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024, ) self.driver.create_volume_from_snapshot, vol, snap, ) @mock.patch.object(volume_types, ""get_volume_type"") def test_manage_existing_with_qos( self, mock_get_volume_type, mock_get_qos_specs ): ref_name = ""vol1"" volume_ref = {""name"": ref_name} vol, vol_name = self.new_fake_vol( set_provider_id=False, type_qos_specs_id=qos.id ) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024, ) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024, ) vol_name, iops_limit="""", bandwidth_limit="""" ) self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, ISCSI_CONNECTOR, ) def test_initialize_connection( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with( self.array, vol_name, ISCSI_CONNECTOR, None, None ) self.assert_error_propagates( [mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR, ) def test_initialize_connection_ipv6( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with( self.array, vol_name, ISCSI_CONNECTOR, None, None ) self.assert_error_propagates( [mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR, ) def test_initialize_connection_uniform_ac( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" }, real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call( mock_secondary, vol_name, ISCSI_CONNECTOR, None, None ), ] ) def test_initialize_connection_uniform_ac_cidr( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" }, real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call( mock_secondary, vol_name, ISCSI_CONNECTOR, None, None ), ] ) def test_initialize_connection_uniform_ac_cidrs( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" }, real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call( mock_secondary, vol_name, ISCSI_CONNECTOR, None, None ), ] ) def test_initialize_connection_with_auth( self, mock_get_iscsi_ports, mock_connection, mock_get_chap_creds, mock_get_wwn, ): mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with( self.array, vol_name, ISCSI_CONNECTOR, chap_username, chap_password ) self.assert_error_propagates( [mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR, ) def test_initialize_connection_multipath( self, mock_get_iscsi_ports, mock_connection, mock_get_wwn ): mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" real_result = self.driver.initialize_connection( vol, multipath_connector ) mock_connection.assert_called_with( self.array, vol_name, multipath_connector, None, None ) self.assertRaises( pure.PureDriverException, self.driver._get_target_iscsi_ports, self.array, ) self.assertRaises( pure.PureDriverException, self.driver._get_target_iscsi_ports, self.array, ) real_result = self.driver._connect( self.array, vol_name, ISCSI_CONNECTOR, None, None ) mock_host.assert_called_with( self.driver, self.array, ISCSI_CONNECTOR, remote=False ) real_result = self.driver._connect( self.array, vol_name, ISCSI_CONNECTOR, None, None ) mock_host.assert_called_with( self.driver, self.array, ISCSI_CONNECTOR, remote=False ) self.array.create_host.assert_called_with( PURE_HOST_NAME, iqnlist=[INITIATOR_IQN] ) [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) self.driver._connect( self.array, vol_name, ISCSI_CONNECTOR, chap_user, chap_password ) self.array.set_host.assert_called_with( PURE_HOST_NAME, host_user=chap_user, host_password=chap_password ) self.mock_config.safe_get.return_value = ""oracle-vm-server"" self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) actual = self.driver._connect( self.array, vol_name, ISCSI_CONNECTOR, None, None ) self.array.connect_host.side_effect = ( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) self.array.list_volume_private_connections.side_effect = ( code=http.client.BAD_REQUEST, text="""" ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) mock_get_secret.return_value = ""abcdef"" code=http.client.BAD_REQUEST, text=""Host does not exist."" ) ) self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) text=""The specified IQN is already in use."", ) ) self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) code=http.client.BAD_REQUEST, text=""Host already exists."" ) ) self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None, ) host = ""host1"" expected_password = ""foo123"" username, password = self.driver._get_chap_credentials( host, INITIATOR_IQN ) def test_get_chap_credentials_create_new_fail_to_set( self, mock_generate_secret ): host = ""host1"" expected_password = ""foo123"" mock_generate_secret.return_value = ""badpassw0rd"" [{""key"": pure.CHAP_SECRET_KEY, ""value"": expected_password}], pure.PureDriverException(reason=""this should never be hit""), username, password = self.driver._get_chap_credentials( host, INITIATOR_IQN )class PureNVMEDriverTestCase(PureBaseSharedDriverTestCase): def setUp(self): super(PureNVMEDriverTestCase, self).setUp() self.driver = pure.PureNVMEDriver(configuration=self.mock_config) self.driver._array = self.array self.mock_utils = mock.Mock() self.driver.driver_utils = self.mock_utils def test_get_host(self): good_host = PURE_HOST.copy() good_host.update(nqn=[""another-wrong-nqn"", INITIATOR_NQN]) bad_host = {""name"": ""bad-host"", ""nqn"": [""wrong-nqn""]} self.array.list_hosts.return_value = [bad_host] real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([], real_result) self.array.list_hosts.return_value.append(good_host) real_result = self.driver._get_host(self.array, NVME_CONNECTOR) self.assertEqual([good_host], real_result) self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_ipv6( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection self.mock_config.pure_nvme_cidr = NVME_CIDR_V6 result = deepcopy(NVME_CONNECTION_INFO_V6) real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, NVME_CONNECTOR ) self.assert_error_propagates( [mock_get_nvme_ports, mock_connection], self.driver.initialize_connection, vol, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC) self.driver._is_active_cluster_enabled = True mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidr( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will block only one of the # ActiveCluster addresses from above, so we should check that we only # get four+three results back self.driver.configuration.pure_nvme_cidr = NVME_CIDR_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_uniform_ac_cidrs( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", } vol, vol_name = self.new_fake_vol(type_extra_specs=repl_extra_specs) mock_get_nvme_ports.side_effect = [NVME_PORTS, AC_NVME_PORTS] mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.side_effect = [ { ""vol"": vol_name, ""lun"": 1, }, { ""vol"": vol_name, ""lun"": 5, }, ] result = deepcopy(NVME_CONNECTION_INFO_AC_FILTERED_LIST) self.driver._is_active_cluster_enabled = True # Set up some CIDRs to block: this will allow only 2 addresses from # each host of the ActiveCluster, so we should check that we only # get two+two results back self.driver.configuration.pure_nvme = NVME_CIDR self.driver.configuration.pure_nvme_cidr_list = NVME_CIDRS_FILTERED mock_secondary = mock.MagicMock() self.driver._uniform_active_cluster_target_arrays = [mock_secondary] real_result = self.driver.initialize_connection(vol, NVME_CONNECTOR) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_has_calls( [ mock.call(self.array), mock.call(mock_secondary), ] ) mock_connection.assert_has_calls( [ mock.call(self.array, vol_name, NVME_CONNECTOR), mock.call( mock_secondary, vol_name, NVME_CONNECTOR), ] ) @mock.patch(NVME_DRIVER_OBJ + ""._get_wwn"") @mock.patch(NVME_DRIVER_OBJ + ""._connect"") @mock.patch(NVME_DRIVER_OBJ + ""._get_target_nvme_ports"") def test_initialize_connection_multipath( self, mock_get_nvme_ports, mock_connection, mock_get_wwn ): vol, vol_name = self.new_fake_vol() mock_get_nvme_ports.return_value = NVME_PORTS mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" lun = 1 connection = { ""vol"": vol_name, ""lun"": lun, } mock_connection.return_value = connection multipath_connector = deepcopy(NVME_CONNECTOR) multipath_connector[""multipath""] = True result = deepcopy(NVME_CONNECTION_INFO) real_result = self.driver.initialize_connection( vol, multipath_connector ) self.assertDictEqual(result, real_result) mock_get_nvme_ports.assert_called_with(self.array) mock_connection.assert_called_with( self.array, vol_name, multipath_connector ) multipath_connector[""multipath""] = False self.driver.initialize_connection(vol, multipath_connector) def test_get_target_nvme_ports(self): self.array.list_ports.return_value = NVME_PORTS ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_nvme_and_fc(self): self.array.list_ports.return_value = NVME_PORTS_WITH ret = self.driver._get_target_nvme_ports(self.array) self.assertEqual(NVME_PORTS, ret) def test_get_target_nvme_ports_with_no_ports(self): # Should raise an exception if there are no ports self.array.list_ports.return_value = [] self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) def test_get_target_nvme_ports_with_only_fc_ports(self): # Should raise an exception of there are no nvme ports self.array.list_ports.return_value = PORTS_WITHOUT self.assertRaises( pure.PureDriverException, self.driver._get_target_nvme_ports, self.array, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) @mock.patch(NVME_DRIVER_OBJ + ""._generate_purity_host_name"", spec=True) def test_connect(self, mock_generate, mock_host): vol, vol_name = self.new_fake_vol() result = {""vol"": vol_name, ""lun"": 1} # Branch where host already exists mock_host.return_value = [PURE_HOST] self.array.connect_host.return_value = {""vol"": vol_name, ""lun"": 1} real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(result, real_result) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) self.assertFalse(mock_generate.called) self.assertFalse(self.array.create_host.called) self.array.connect_host.assert_called_with(PURE_HOST_NAME, vol_name) # Branch where new host is created mock_host.return_value = [] mock_generate.return_value = PURE_HOST_NAME real_result = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) mock_host.assert_called_with( self.driver, self.array, NVME_CONNECTOR, remote=False ) mock_generate.assert_called_with(HOSTNAME) self.array.create_host.assert_called_with( PURE_HOST_NAME, nqnlist=[INITIATOR_NQN] ) self.assertFalse(self.array.set_host.called) self.assertEqual(result, real_result) mock_generate.reset_mock() self.array.reset_mock() self.assert_error_propagates( [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.array.reset_mock() self.mock_config.use_chap_auth = False self.mock_config.safe_get.return_value = ""oracle-vm-server"" # Branch where we fail due to invalid version for setting personality self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertFalse(self.array.create_host.called) self.assertFalse(self.array.set_host.called) self.array.get_rest_version.return_value = ""1.14"" # Branch where personality is set self.driver._connect(self.array, vol_name, NVME_CONNECTOR) self.assertDictEqual(result, real_result) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] expected = {""host"": PURE_HOST_NAME, ""lun"": 1} self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) actual = self.driver._connect( self.array, vol_name, NVME_CONNECTOR ) self.assertEqual(expected, actual) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_empty(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.return_value = {} self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_already_connected_list_hosts_exception(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [PURE_HOST] self.array.list_volume_private_connections.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text="""" ) ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) self.assertTrue(self.array.connect_host.called) self.assertTrue(bool(self.array.list_volume_private_connections)) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_host_deleted(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.set_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host does not exist."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_nqn_already_in_use(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""The specified NQN is already in use."", ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) @mock.patch(NVME_DRIVER_OBJ + ""._get_host"", autospec=True) def test_connect_create_host_already_exists(self, mock_host): vol, vol_name = self.new_fake_vol() mock_host.return_value = [] self.array.create_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Host already exists."" ) ) # Because we mocked out retry make sure we are raising the right # exception to allow for retries to happen. self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, NVME_CONNECTOR, ) class PureFCDriverTestCase(PureBaseSharedDriverTestCase): self.assert_error_propagates( [self.array.list_hosts], self.driver._get_host, self.array, FC_CONNECTOR, ) expected_host[""wwn""] = [INITIATOR_WWN] connector[""wwpns""] = [wwpn.upper() for wwpn in FC_CONNECTOR[""wwpns""]] ( lookup_service.get_device_mapping_from_network.return_value ) = DEVICE_MAPPING mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" mock_connection.return_value = { ""vol"": vol_name, ""lun"": 1, } def test_initialize_connection_uniform_ac( self, mock_connection, mock_get_wwn ): repl_extra_specs = { ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", ( lookup_service.get_device_mapping_from_network.return_value ) = AC_DEVICE_MAPPING mock_get_wwn.return_value = ""3624a93709714b5cb91634c470002b2c8"" }, mock_host.assert_called_with( self.driver, self.array, FC_CONNECTOR, remote=False ) mock_host.assert_called_with( self.driver, self.array, FC_CONNECTOR, remote=False ) self.array.create_host.assert_called_with( PURE_HOST_NAME, wwnlist={INITIATOR_WWN} ) [ mock_host, mock_generate, self.array.connect_host, self.array.create_host, ], self.driver._connect, self.array, vol_name, FC_CONNECTOR, ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, FC_CONNECTOR, ) self.array.set_host.assert_called_with( PURE_HOST_NAME, personality=""oracle-vm-server"" ) self.array.list_volume_private_connections.return_value = [ expected, {""host"": ""extra"", ""lun"": 2}, ] self.array.connect_host.side_effect = ( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) self.array.connect_host.side_effect = ( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) self.assertRaises( pure.PureDriverException, self.driver._connect, self.array, vol_name, FC_CONNECTOR, ) self.array.list_volume_private_connections.side_effect = ( code=http.client.BAD_REQUEST, text="""" ) self.array.connect_host.side_effect = ( self.purestorage_module.PureHTTPError( code=http.client.BAD_REQUEST, text=""Connection already exists"" ) ) self.assertRaises( self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, FC_CONNECTOR, ) text=""The specified WWN is already in use."", ) ) self.assertRaises( pure.PureRetryableException, self.driver._connect, self.array, vol_name, FC_CONNECTOR, ) ""replication_type"": ""<in> sync"", ""replication_enabled"": ""<is> true"", mock_disconnect.assert_has_calls( [ mock.call( mock_secondary, vol, FC_CONNECTOR, is_multiattach=False, remove_remote_hosts=False, ), mock.call( self.array, vol, FC_CONNECTOR, is_multiattach=False, remove_remote_hosts=False, ), ] ) @ddt.data( dict( used=10, provisioned=100, config_ratio=5, expected_ratio=5, auto=False, ), dict( used=10, provisioned=100, config_ratio=5, expected_ratio=10, auto=True, ), dict( used=0, provisioned=100, config_ratio=5, expected_ratio=5, auto=True, ), dict( used=10, provisioned=0, config_ratio=5, expected_ratio=5, auto=True ), ) def test_get_thin_provisioning( self, used, provisioned, config_ratio, expected_ratio, auto ): return_value=expected_ratio ) @mock.patch(BASE_DRIVER_OBJ + "".get_goodness_function"") @mock.patch(BASE_DRIVER_OBJ + "".get_filter_function"") @mock.patch(BASE_DRIVER_OBJ + ""._get_provisioned_space"") @mock.patch(BASE_DRIVER_OBJ + ""._get_thin_provisioning"") def test_get_volume_stats( self, mock_get_thin_provisioning, mock_get_space, mock_get_filter, mock_get_goodness, ): filter_function = ""capabilities.total_volumes < 10"" goodness_function = ""90"" mock_get_thin_provisioning.return_value = ( PROVISIONED_CAPACITY / USED_SPACE ) ""volume_backend_name"": VOLUME_BACKEND_NAME, ""vendor_name"": ""Pure Storage"", ""driver_version"": self.driver.VERSION, ""storage_protocol"": None, ""consistencygroup_support"": True, ""thin_provisioning_support"": True, ""multiattach"": True, ""QoS_support"": True, ""total_capacity_gb"": TOTAL_CAPACITY, ""free_capacity_gb"": TOTAL_CAPACITY - USED_SPACE, ""reserved_percentage"": reserved_percentage, ""provisioned_capacity"": PROVISIONED_CAPACITY, ""max_over_subscription_ratio"": (PROVISIONED_CAPACITY / USED_SPACE), ""filter_function"": filter_function, ""goodness_function"": goodness_function, ""total_volumes"": 100, ""total_snapshots"": num_snaps, ""total_hosts"": num_hosts, ""total_pgroups"": num_pgroups, ""writes_per_sec"": PERF_INFO[""writes_per_sec""], ""reads_per_sec"": PERF_INFO[""reads_per_sec""], ""input_per_sec"": PERF_INFO[""input_per_sec""], ""output_per_sec"": PERF_INFO[""output_per_sec""], ""usec_per_read_op"": PERF_INFO[""usec_per_read_op""], ""usec_per_write_op"": PERF_INFO[""usec_per_write_op""], ""queue_depth"": PERF_INFO[""queue_depth""], ""replication_enabled"": False, ""replication_type"": [], ""replication_count"": 0, ""replication_targets"": [], @mock.patch(BASE_DRIVER_OBJ + ""._add_volume_to_consistency_group"") @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") @mock.patch(BASE_DRIVER_OBJ + ""._add_volume_to_consistency_group"") @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") mock_add_to_cg.assert_called_once_with(group, vol_name) @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group, @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group, volumes, @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group, @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group, volumes, @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group_snapshot, snapshots, @mock.patch(""cinder.volume.volume_utils.is_group_a_cg_snapshot_type"") self.mock_context, group_snapshot, snapshots, @mock.patch(BASE_DRIVER_OBJ + "".create_consistencygroup"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_create_group_with_cg(self, mock_get_specs, mock_create_cg): mock_get_specs.return_value = ""<is> True"" @mock.patch(BASE_DRIVER_OBJ + "".delete_consistencygroup"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_delete_group_with_cg(self, mock_get_specs, mock_delete_cg): mock_get_specs.return_value = ""<is> True"" mock_delete_cg.assert_called_once_with( self.mock_context, group, volumes ) @mock.patch(BASE_DRIVER_OBJ + "".update_consistencygroup"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_update_group_with_cg(self, mock_get_specs, mock_update_cg): mock_get_specs.return_value = ""<is> True"" self.mock_context, group, addvollist, remvollist self.mock_context, group, addvollist, remvollist @mock.patch(BASE_DRIVER_OBJ + "".create_consistencygroup_from_src"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_create_group_from_src_with_cg(self, mock_get_specs, mock_create): mock_get_specs.return_value = ""<is> True"" source_vols, source_vols, @mock.patch(BASE_DRIVER_OBJ + "".create_cgsnapshot"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_create_group_snapshot_with_cg( self, mock_get_specs, mock_create_cgsnap ): mock_get_specs.return_value = ""<is> True"" self.mock_context, group_snapshot, snapshots self.mock_context, group_snapshot, snapshots @mock.patch(BASE_DRIVER_OBJ + "".delete_cgsnapshot"") @mock.patch(""cinder.volume.group_types.get_group_type_specs"") def test_delete_group_snapshot_with_cg( self, mock_get_specs, mock_delete_cg ): mock_get_specs.return_value = ""<is> True"" self.mock_context, group_snapshot, snapshots self.mock_context, group_snapshot, snapshots","patch_retry = mock.patch('cinder.utils.retry', fake_retry)sys.modules['purestorage'] = mock.Mock()GET_ARRAY_PRIMARY = {""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target1"", ""id"": ""primary_array_id""} GET_ARRAY_SECONDARY = {""version"": ""99.9.9"", ""revision"": ""201411230504+8a400f7"", ""array_name"": ""pure_target2"", ""id"": ""secondary_array_id""}ISCSI_IPS += [""[2001:db8::"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES))] AC_ISCSI_IPS = [""10.0.0."" + str(i + 1 + len(ISCSI_PORT_NAMES)) for i in range(len(ISCSI_PORT_NAMES))] AC_ISCSI_IPS += [""[2001:db8::1:"" + str(i + 1) + ""]"" for i in range(len(ISCSI_PORT_NAMES))]ISCSI_CIDR_FILTERED = '10.0.0.0/29'ISCSI_CIDRS_FILTERED = ['10.0.0.2', '10.0.0.3', '2001:db8::1:2/127'] ""21000024ff59fab"" + str(i + 1) for i in range(len(FC_PORT_NAMES))] '5001500150015081abc': list(set(FC_WWNS)), '5001500150015081abc': list(set(FC_WWNS + AC_FC_WWNS)), 'initiator_port_wwn_list': {INITIATOR_WWN}, 'target_port_wwn_list': FC_WWNS, 'initiator_port_wwn_list': {INITIATOR_WWN}, 'target_port_wwn_list': FC_WWNS + AC_FC_WWNS,ISCSI_PORTS = [{""name"": name, ""iqn"": TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, ISCSI_IPS)] AC_ISCSI_PORTS = [{""name"": name, ""iqn"": AC_TARGET_IQN, ""portal"": ip + "":"" + TARGET_PORT, ""wwn"": None, } for name, ip in zip(ISCSI_PORT_NAMES * 2, AC_ISCSI_IPS)] FC_PORTS = [{""name"": name, ""iqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, FC_WWNS)] AC_FC_PORTS = [{""name"": name, ""iqn"": None, ""portal"": None, ""wwn"": wwn, } for name, wwn in zip(FC_PORT_NAMES, AC_FC_WWNS)] 'writes_per_sec': 318, 'usec_per_write_op': 255, 'output_per_sec': 234240, 'reads_per_sec': 15, 'input_per_sec': 2827943, 'time': '2015-12-17T21:50:55Z', 'usec_per_read_op': 192, 'queue_depth': 4, ""target_portals"": [ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT], ""target_portals"": [ISCSI_IPS[4] + "":"" + TARGET_PORT, ISCSI_IPS[5] + "":"" + TARGET_PORT, ISCSI_IPS[6] + "":"" + TARGET_PORT, ISCSI_IPS[7] + "":"" + TARGET_PORT], ""target_iqns"": [TARGET_IQN, TARGET_IQN, TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN], ""target_portals"": [ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT, AC_ISCSI_IPS[0] + "":"" + TARGET_PORT, AC_ISCSI_IPS[1] + "":"" + TARGET_PORT, AC_ISCSI_IPS[2] + "":"" + TARGET_PORT, AC_ISCSI_IPS[3] + "":"" + TARGET_PORT], ""target_iqns"": [TARGET_IQN, TARGET_IQN, TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN], ""target_portals"": [ISCSI_IPS[0] + "":"" + TARGET_PORT, ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, ISCSI_IPS[3] + "":"" + TARGET_PORT, AC_ISCSI_IPS[0] + "":"" + TARGET_PORT, AC_ISCSI_IPS[1] + "":"" + TARGET_PORT, AC_ISCSI_IPS[2] + "":"" + TARGET_PORT], ""target_iqns"": [TARGET_IQN, TARGET_IQN, AC_TARGET_IQN, AC_TARGET_IQN], ""target_portals"": [ISCSI_IPS[1] + "":"" + TARGET_PORT, ISCSI_IPS[2] + "":"" + TARGET_PORT, AC_ISCSI_IPS[5] + "":"" + TARGET_PORT, # IPv6 AC_ISCSI_IPS[6] + "":"" + TARGET_PORT], # IPv6 ""source"": ""vol1"" ""volumes"": [""v1""] ""targets"": [{""name"": ""array2"", ""allowed"": False}]} ""targets"": [{""name"": ""array2"", ""allowed"": True}]} ""array_name"": ""3rd-pure-generic2""} ""data_transferred"": 318 ""data_transferred"": 318 ""data_transferred"": 318 }] None, id=fake.VOLUME_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME_ID) None, id=fake.VOLUME2_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME2_ID) None, id=fake.VOLUME3_ID, provider_id=(""volume-%s-cinder"" % fake.VOLUME3_ID) ""size"": 1048576 ""size"": 1048576 ""size"": 1048576 } 'arrays': [ { 'status': 'online', 'array_id': '47966b2d-a1ed-4144-8cae-6332794562b8', 'name': 'fs83-14', 'mediator_status': 'online' 'status': 'online', 'array_id': '8ed17cf4-4650-4634-ab3d-f2ca165cd021', 'name': 'fs83-15', 'mediator_status': 'online' } 'source': None, 'name': 'cinder-pod' 'name': 'myVol1', 'serial': '8E9C7E588B16C1EA00048CCA', 'size': 3221225472, 'created': '2016-08-05T17:26:34Z', 'source': None, 'name': 'myVol2', 'serial': '8E9C7E588B16C1EA00048CCB', 'size': 3221225472, 'created': '2016-08-05T17:26:34Z', 'source': None, 'name': 'myVol3', 'serial': '8E9C7E588B16C1EA00048CCD', 'size': 3221225472, 'created': '2016-08-05T17:26:34Z', 'source': None, } 'reference': {'name': 'myVol1'}, 'size': 3, 'safe_to_manage': True, 'reason_not_safe': '', 'cinder_id': None, 'extra_info': None, 'reference': {'name': 'myVol2'}, 'size': 3, 'safe_to_manage': True, 'reason_not_safe': '', 'cinder_id': None, 'extra_info': None, 'reference': {'name': 'myVol3'}, 'size': 3, 'safe_to_manage': True, 'reason_not_safe': '', 'cinder_id': None, 'extra_info': None, } 'name': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap1', 'serial': '8E9C7E588B16C1EA00048CCA', 'size': 3221225472, 'created': '2016-08-05T17:26:34Z', 'source': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder', 'name': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap2', 'serial': '8E9C7E588B16C1EA00048CCB', 'size': 4221225472, 'created': '2016-08-05T17:26:34Z', 'source': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder', 'name': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder.snap3', 'serial': '8E9C7E588B16C1EA00048CCD', 'size': 5221225472, 'created': '2016-08-05T17:26:34Z', 'source': 'volume-fd33de6e-56f6-452d-a7b6-451c11089a9f-cinder', } 'reference': {'name': MANAGEABLE_PURE_SNAPS[0]['name']}, 'size': 3, 'safe_to_manage': True, 'reason_not_safe': None, 'cinder_id': None, 'extra_info': None, 'source_reference': {'name': MANAGEABLE_PURE_SNAPS[0]['source']}, 'reference': {'name': MANAGEABLE_PURE_SNAPS[1]['name']}, 'size': 4, 'safe_to_manage': True, 'reason_not_safe': None, 'cinder_id': None, 'extra_info': None, 'source_reference': {'name': MANAGEABLE_PURE_SNAPS[1]['source']}, 'reference': {'name': MANAGEABLE_PURE_SNAPS[2]['name']}, 'size': 5, 'safe_to_manage': True, 'reason_not_safe': None, 'cinder_id': None, 'extra_info': None, 'source_reference': {'name': MANAGEABLE_PURE_SNAPS[2]['source']}, } def __init__(self, target=None, rest_version=None, code=None, headers=None, text=None): self.async_array2.replication_type = 'async' self.purestorage_module.VERSION = '1.4.0' if 'action' in kwargs and kwargs['action'] == 'monitor': if 'space' in kwargs and kwargs['space'] is True: mock_func.side_effect = [pure.PureDriverException( reason='reason')] self.assertRaises(pure.PureDriverException, func, *args, **kwargs) @mock.patch('platform.platform') def test_for_user_agent(self, mock_platform): mock_platform.return_value = 'MyFavoritePlatform' driver.VERSION vol_name = vol.name + '-cinder' if repl_type == 'sync': vol_name = 'cinder-pod::' + vol_name mock.MagicMock()) group_snap_name = ""%s.cgsnapshot-%s-cinder"" % (group_name, group_snap.id) REPLICATION_INTERVAL_IN_SEC) REPLICATION_RETENTION_SHORT_TERM) REPLICATION_RETENTION_LONG_TERM) REPLICATION_RETENTION_LONG_TERM_PER_DAY) self.mock_config.pure_replication_pg_name = 'cinder-group' self.mock_config.pure_replication_pod_name = 'cinder-pod' {""backend_id"": self.driver._array.array_id, ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123""}] @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') self, mock_setup_repl_pgroups, mock_generate_replication_retention): {""backend_id"": self.driver._array.id, ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123""}] self.assertEqual(self.driver._array.id, only_target_array.backend_id) @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') self, mock_setup_repl_pgroups, mock_generate_replication_retention): {""backend_id"": GET_ARRAY_PRIMARY[""id""], ""managed_backend_name"": None, ""san_ip"": ""1.2.3.4"", ""api_token"": ""abc123""}, {""backend_id"": GET_ARRAY_SECONDARY[""id""], ""managed_backend_name"": None, ""san_ip"": ""1.2.3.5"", ""api_token"": ""abc124""}] self.purestorage_module.FlashArray.side_effect = \ [self.array, self.async_array2] self.assertEqual(GET_ARRAY_PRIMARY[""id""], first_target_array.backend_id) self.async_array2, self.driver._replication_target_arrays[1]) self.assertEqual(GET_ARRAY_SECONDARY[""id""], second_target_array.backend_id) @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') self, mock_setup_repl_pgroups, mock_generate_replication_retention): self.assertEqual(mock_target, self.driver._replication_target_arrays[0]) self.assertEqual([mock_target], self.driver._active_cluster_target_arrays) 0, len(self.driver._uniform_active_cluster_target_arrays)) @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') self, mock_setup_repl_pgroups, mock_generate_replication_retention): self.assertEqual(mock_target, self.driver._replication_target_arrays[0]) self.assertEqual([mock_target], self.driver._active_cluster_target_arrays) 1, len(self.driver._uniform_active_cluster_target_arrays)) mock_target, self.driver._uniform_active_cluster_target_arrays[0]) @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') def test_do_setup_replicated(self, mock_setup_repl_pgroups, mock_generate_replication_retention): self.purestorage_module.FlashArray.side_effect = [self.array, self.async_array2] self.assertEqual(self.async_array2, self.driver._replication_target_arrays[0]) mock.call(self.array, [self.async_array2], 'cinder-group', REPLICATION_INTERVAL_IN_SEC, retention) @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pods') @mock.patch(BASE_DRIVER_OBJ + '._generate_replication_retention') @mock.patch(BASE_DRIVER_OBJ + '._setup_replicated_pgroups') def test_do_setup_replicated_sync_rep(self, mock_setup_repl_pgroups, mock_generate_replication_retention, mock_setup_pods): mock_setup_repl_pgroups.assert_has_calls([ mock.call(self.array, [mock_sync_target], 'cinder-group', REPLICATION_INTERVAL_IN_SEC, retention), ]) mock_setup_pods.assert_has_calls([ mock.call(self.array, [mock_sync_target], 'cinder-pod') ]) self.new_fake_vol(spec={'id': fake.VOLUME_ID}, set_provider_id=False), self.new_fake_vol(spec={'id': fake.VOLUME2_ID}, set_provider_id=False), self.new_fake_vol(spec={'id': fake.VOLUME3_ID}, set_provider_id=False), self.assertEqual(vol_name, update['provider_id']) self.new_fake_vol(spec={'id': fake.VOLUME_ID}, set_provider_id=True), self.new_fake_vol(spec={'id': fake.VOLUME2_ID}, set_provider_id=True), self.new_fake_vol(spec={'id': fake.VOLUME3_ID}, set_provider_id=False), self.assertEqual(vol_names[2], model_updates[0]['provider_id']) self.new_fake_vol(spec={'id': fake.VOLUME_ID}, set_provider_id=True), self.new_fake_vol(spec={'id': fake.VOLUME2_ID}, set_provider_id=True), self.new_fake_vol(spec={'id': fake.VOLUME3_ID}, set_provider_id=True), ""really-long-string-thats-a-bit-too-long"") self.array.copy_volume.assert_called_with(snap_name, vol_name, overwrite=True) self.assert_error_propagates([self.array.copy_volume], self.driver.revert_to_snapshot, context, vol, snap) self.array.copy_volume.assert_called_with(copy_vol_name, vol_name, overwrite=True) self.assert_error_propagates([self.array.copy_volume], self.driver.revert_to_snapshot, context, vol, snap) self.array.create_volume.assert_called_with( vol_name, 2 * units.Gi) mock_add_to_group.assert_called_once_with(vol_obj, vol_name) self.assert_error_propagates([self.array.create_volume], self.driver.create_volume, vol_obj) @mock.patch.object(volume_types, 'get_volume_type') def test_create_volume_from_snapshot(self, mock_get_volume_type, mock_get_replicated_type, mock_add_to_group): self.driver.create_volume_from_snapshot, vol, snap) @mock.patch.object(volume_types, 'get_volume_type') def test_create_volume_from_snapshot_with_extend(self, mock_get_volume_type, mock_get_replicated_type, mock_add_to_group): vol, vol_name = self.new_fake_vol(set_provider_id=False, spec={""size"": 2}) expected = [mock.call.copy_volume(snap_name, vol_name), mock.call.extend_volume(vol_name, 2 * units.Gi)] @mock.patch.object(volume_types, 'get_volume_type') 'replication_type': '<in> async', 'replication_enabled': '<is> true', vol, vol_name = self.new_fake_vol(set_provider_id=False, type_extra_specs=repl_extra_specs) @mock.patch.object(volume_types, 'get_volume_type') def test_create_volume_from_cgsnapshot(self, mock_get_volume_type, mock_get_replicated_type, mock_get_snap_name, mock_extend_if_needed, mock_add_to_group): cgsnap = fake_group_snapshot.fake_group_snapshot_obj(mock.MagicMock(), group=cgroup) vol.name def test_create_cloned_volume(self, mock_get_replication_type, mock_add_to_group): mock_add_to_group.assert_called_once_with(vol, vol_name) self.driver.create_cloned_volume, vol, src_vol) 'replication_type': '<in> sync', 'replication_enabled': '<is> true', type_extra_specs=repl_extra_specs) vol, vol_name = self.new_fake_vol(set_provider_id=False, type_extra_specs=repl_extra_specs) def test_create_cloned_volume_and_extend(self, mock_get_replication_type, mock_add_to_group): vol, vol_name = self.new_fake_vol(set_provider_id=False, spec={""size"": 2}) expected = [mock.call.copy_volume(src_name, vol_name), mock.call.extend_volume(vol_name, 2 * units.Gi)] mock_add_to_group.assert_called_once_with(vol, vol_name) def test_create_cloned_volume_with_cgroup(self, mock_get_replication_type, mock_add_to_group): self.array.list_volume_private_connections.side_effect = \ code=400, text=""Volume does not exist"" self.array.destroy_volume.side_effect = \ code=http.client.BAD_REQUEST, text=""Volume does not exist"" self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text=""does not exist"")) self.assert_error_propagates([self.array.destroy_volume], self.driver.delete_volume, vol) expected = [mock.call.destroy_volume(vol_name), mock.call.eradicate_volume(vol_name)] self.array.list_volume_private_connections.return_value = [{ ""host"": host_name_a, ""lun"": 7, ""name"": vol_name, ""size"": 3221225472, }, { ""host"": host_name_b, ""lun"": 2, ""name"": vol_name, ""size"": 3221225472, }] 'replication_type': '<in> sync', 'replication_enabled': '<is> true', self.array.assert_has_calls([ mock.call.list_volume_private_connections(vol_name, remote=True), mock.call.destroy_volume(vol_name), ]) 'replication_type': '<in> sync', 'replication_enabled': '<is> true', } mock.call.destroy_volume(vol_name) vol_name, suffix=snap[""name""] self.assert_error_propagates([self.array.create_snapshot], self.driver.create_snapshot, snap) self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text=error_text)) self.assert_error_propagates([self.array.destroy_volume], self.driver.delete_snapshot, snap) expected = [mock.call.destroy_volume(snap_name), mock.call.eradicate_volume(snap_name)] {""lun"": 2, ""name"": PURE_HOST_NAME, ""vol"": ""some-vol""}] self.array.list_host_connections.assert_called_with(PURE_HOST_NAME, private=True) self.array.list_host_connections.assert_called_with(PURE_HOST_NAME, private=True) self.array.disconnect_host.side_effect = \ self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text=""is not connected"") self.array.list_host_connections.assert_called_with(PURE_HOST_NAME, private=True) self.array.disconnect_host.side_effect = \ code=http.client.INTERNAL_SERVER_ERROR, text=""Some other error"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver.terminate_connection, vol, ISCSI_CONNECTOR) self, mock_host, mock_disconnect): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_disconnect.assert_has_calls([ mock.call(mock_secondary, ""some-host1"", vol_name), mock.call(self.array, ""some-host2"", vol_name), mock.call(self.array, ""secondary-fa1:some-host1"", vol_name) ]) self, mock_host, mock_disconnect): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_disconnect.assert_has_calls([ mock.call(self.array, ""some-host2"", vol_name), ]) self.array.delete_host.side_effect = \ self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text=error) self.array.list_host_connections.assert_called_with(PURE_HOST_NAME, private=True) self._test_terminate_connection_with_error(mock_host, 'Host does not exist.') mock_host, 'Host cannot be deleted due to existing connections.' self.array.list_volume_private_connections.return_value = \ [connections[0]] connections[0][""host""], connections[0][""name""] self.assert_error_propagates([self.array.extend_volume], self.driver.extend_volume, vol, 3) expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=['async'], expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=[None, 'async'], expected_name=(""consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=['sync'], expected_name=(""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=[None, 'sync'], expected_name=(""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=['sync', 'async'], expected_name=(""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID) repl_types=[None, 'sync', 'async'], expected_name=(""cinder-pod::consisgroup-%s-cinder"" % fake.GROUP_ID) 'replication_type': '<in> %s' % repl_type, 'replication_enabled': '<is> true', cgsnap = { 'id': ""4a2f7e3a-312a-40c5-96a8-536b8a0fe074"" } expected_suffix = ""cgsnapshot-%s-cinder"" % cgsnap['id'] expected_name = (""%(group_name)s.cgsnapshot-%(snap)s-cinder"" % { ""group_name"": group_name, ""snap"": cgsnap.id}) 'consisgroup-%s-cinder.cgsnapshot-%s-cinder.%s-cinder') actual_name = self.driver._get_pgroup_snap_name_from_snapshot( snap ) self.assertEqual({'status': 'available'}, model_update) self.driver.create_consistencygroup, None, cgroup) mock_get_repl_types.return_value = ['sync', 'async'] self.assertEqual({'status': 'available'}, model_update) def test_create_consistencygroup_from_cgsnapshot(self, mock_create_cg, mock_create_vol): source_vols=None expected_calls = [mock.call(vol, snap) for vol, snap in zip(mock_volumes, mock_snapshots)] mock_create_vol.assert_has_calls(expected_calls, any_order=True) source_vols=None source_vols=mock_source_vols mock_context, mock_cgroup, [mock_volume]) self.array.destroy_pgroup.side_effect = \ text=""Protection group has been destroyed."" self.driver.delete_consistencygroup(mock_context, mock_cgroup, [mock_volume]) self.array.destroy_pgroup.side_effect = \ text=""Protection group does not exist"" self.driver.delete_consistencygroup(mock_context, mock_cgroup, [mock_volume]) self.array.destroy_pgroup.side_effect = \ code=http.client.BAD_REQUEST, text=""Some other error"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver.delete_consistencygroup, mock_context, mock_cgroup, [mock_volume]) self.array.destroy_pgroup.side_effect = \ text=""Another different error"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver.delete_consistencygroup, mock_context, mock_cgroup, [mock_volume]) [mock_volume] self.driver.update_consistencygroup(mock.Mock(), group, add_vol_objs, rem_vol_objs) remvollist=expected_remvollist self.driver.update_consistencygroup(mock.Mock(), group, None, rem_vol_objs) remvollist=expected_remvollist self.driver.update_consistencygroup(mock.Mock(), group, add_vol_objs, None) remvollist=expected_remvollist self.driver.update_consistencygroup(mock.Mock(), group, None, None) group_name, addvollist=[], remvollist=[] mock_context, group_id=mock_group.id) with mock.patch('cinder.objects.Group.get_by_id') as mock_get_group: mock_context, mock_cgsnap, [mock_snap]) self.array.create_pgroup_snapshot\ .assert_called_with(expected_pgroup_name, suffix=expected_snap_suffix) self.driver.create_cgsnapshot, mock_context, mock_cgsnap, []) @mock.patch(BASE_DRIVER_OBJ + ""._get_pgroup_snap_name"", spec=pure.PureBaseVolumeDriver._get_pgroup_snap_name) def test_delete_cgsnapshot(self, mock_get_snap_name): snap_name = ""consisgroup-4a2f7e3a-312a-40c5-96a8-536b8a0f"" \ ""e074-cinder.4a2f7e3a-312a-40c5-96a8-536b8a0fe075"" mock_cgsnap.status = 'deleted' model_update, snapshots = self.driver.delete_cgsnapshot(mock_context, mock_cgsnap, [mock_snap]) self.array.destroy_pgroup.side_effect = \ text=""Protection group snapshot has been destroyed."" self.array.destroy_pgroup.side_effect = \ text=""Protection group snapshot does not exist"" self.array.destroy_pgroup.side_effect = \ code=http.client.BAD_REQUEST, text=""Some other error"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver.delete_cgsnapshot, mock_context, mock_cgsnap, [mock_snap]) self.array.destroy_pgroup.side_effect = \ text=""Another different error"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver.delete_cgsnapshot, mock_context, mock_cgsnap, [mock_snap]) [mock_snap] @mock.patch(BASE_DRIVER_OBJ + ""._get_pgroup_snap_name"", spec=pure.PureBaseVolumeDriver._get_pgroup_snap_name) def test_delete_cgsnapshot_eradicate_now(self, mock_get_snap_name): snap_name = ""consisgroup-4a2f7e3a-312a-40c5-96a8-536b8a0f"" \ ""e074-cinder.4a2f7e3a-312a-40c5-96a8-536b8a0fe075"" model_update, snapshots = self.driver.delete_cgsnapshot(mock.Mock(), mock.Mock(), [mock.Mock()]) ref_name = 'vol1' volume_ref = {'name': ref_name} [self.array.list_volume_private_connections, self.array.rename_volume], vol, {'name': 'vol1'} self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {'bad_key': 'bad_value'}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {'name': ''}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {'name': None}) self.array.get_volume.side_effect = \ text=""Volume does not exist."", code=http.client.BAD_REQUEST self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {'name': 'non-existing-volume'}) ref_name = 'vol1' volume_ref = {'name': ref_name} type_spec = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', vol, vol_name = self.new_fake_vol(set_provider_id=False, type_extra_specs=type_spec) self.assertRaises(exception.ManageExistingVolumeTypeMismatch, self.driver.manage_existing, vol, volume_ref) ref_name = 'somepod::vol1' volume_ref = {'name': ref_name} self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, volume_ref) ref_name = 'vol1' self.array.list_volume_private_connections.return_value = \ [""host1"", ""host2""] self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing, vol, {'name': ref_name}) ref_name = 'vol1' volume_ref = {'name': ref_name} self.assert_error_propagates([self.array.get_volume], self.driver.manage_existing_get_size, vol, {'name': 'vol1'}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {'bad_key': 'bad_value'}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {'name': ''}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_get_size, vol, {'name': None}) self.array.rename_volume.assert_called_with(vol_name, unmanaged_vol_name) self.assert_error_propagates([self.array.rename_volume], self.driver.unmanage, vol) self.array.rename_volume.side_effect = \ text=""Volume does not exist."", code=http.client.BAD_REQUEST self.array.rename_volume.assert_called_with(vol_name, unmanaged_vol_name) ref_name = PURE_SNAPSHOT['name'] snap_ref = {'name': ref_name} self.array.rename_volume.assert_called_once_with(ref_name, snap_name) self.array.get_volume.assert_called_with(PURE_SNAPSHOT['source'], snap=True) ref_name = PURE_SNAPSHOT['name'] snap_ref = {'name': ref_name} pure_snap['name'] += str(i) self.array.rename_volume.assert_called_once_with(ref_name, snap_name) snap, {'name': PURE_SNAPSHOT['name']} self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {'bad_key': 'bad_value'}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {'name': ''}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {'name': None}) self.array.get_volume.side_effect = \ text=""Volume does not exist."", code=http.client.BAD_REQUEST self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, {'name': 'non-existing-volume.snap1'}) ref_name = PURE_SNAPSHOT['name'] + '-fake' snap_ref = {'name': ref_name} self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot, snap, snap_ref) self.assertRaises(pure.PureDriverException, self.driver.manage_existing_snapshot, snap, {'name': PURE_SNAPSHOT['name']}) ref_name = PURE_SNAPSHOT['name'] snap_ref = {'name': ref_name} size = self.driver.manage_existing_snapshot_get_size(snap, snap_ref) self.array.get_volume.assert_called_with(PURE_SNAPSHOT['source'], snap=True) snap, {'name': PURE_SNAPSHOT['name']} self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {'bad_key': 'bad_value'}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {'name': ''}) self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {'name': None}) self.array.get_volume.side_effect = \ text=""Volume does not exist."", code=http.client.BAD_REQUEST self.assertRaises(exception.ManageExistingInvalidReference, self.driver.manage_existing_snapshot_get_size, snap, {'name': 'non-existing-volume.snap1'}) 'volume-1e5177e7-95e5-4a0f-b170-e45f4b469f6a-cinder.' 'snapshot-253b2878-ec60-4793-ad19-e65496ec7aab', 'volume-1e5177e7-cinder.snapshot-e65496ec7aab') self.assert_error_propagates([self.array.rename_volume], self.driver.unmanage_snapshot, snap) unmanaged_snap_name = snap_name[:-len(UNMANAGED_SUFFIX)] + \ UNMANAGED_SUFFIX self.array.rename_volume.side_effect = \ text=""Snapshot does not exist."", code=http.client.BAD_REQUEST self.array.rename_volume.assert_called_with(snap_name, unmanaged_snap_name) with mock.patch('cinder.volume.volume_utils.' 'paginate_entries_list') as mpage: expected_refs, marker, limit, offset, sort_keys, sort_dirs def test_get_manageable_volumes(self,): connected_host['name'] = 'host2' connected_host['vol'] = MANAGEABLE_PURE_VOLS[0]['name'] expected_refs[0]['safe_to_manage'] = False expected_refs[0]['reason_not_safe'] = 'Volume connected to host host2' self._test_get_manageable_things(expected_refs=expected_refs, pure_hosts=pure_hosts) purity_vols[0]['name'] = cinder_vol_name expected_refs[0]['reference'] = {'name': purity_vols[0]['name']} expected_refs[0]['safe_to_manage'] = False expected_refs[0]['reason_not_safe'] = 'Volume already managed' expected_refs[0]['cinder_id'] = cinder_vol.id self._test_get_manageable_things(pure_objs=purity_vols, expected_refs=expected_refs, pure_hosts=[PURE_HOST], cinder_objs=cinders_vols) self._test_get_manageable_things(pure_objs=[], expected_refs=[], pure_hosts=[PURE_HOST]) is_snapshot=True purity_snaps[0]['name'] = 'volume-%s-cinder.snapshot-%s' % ( cinder_vol.id, cinder_snap.id expected_refs[0]['reference'] = {'name': purity_snaps[0]['name']} expected_refs[0]['safe_to_manage'] = False expected_refs[0]['reason_not_safe'] = 'Snapshot already managed.' expected_refs[0]['cinder_id'] = cinder_snap.id is_snapshot=True self._test_get_manageable_things(pure_objs=[], expected_refs=[], pure_hosts=[PURE_HOST], is_snapshot=True) 'replication_enabled': '<is> false', 'replication_type': '<in> async', 'replication_enabled': '<is> false', 'replication_type': '<in> async', 'replication_enabled': '<is> true', 'other_spec': 'blah' 'replication_type': '<in> async', 'replication_enabled': '<is> true', 'other_spec': 'something new' 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'other_spec': 'blah' 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'other_spec': 'something new' 'replication_enabled': '<is> false', 'replication_type': '<in> async', 'replication_enabled': '<is> true', 'replication_type': '<in> async', 'replication_enabled': '<is> true', 'replication_type': '<in> async', 'replication_enabled': '<is> false', 'replication_enabled': '<is> false', 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'replication_type': '<in> sync', 'replication_enabled': '<is> false', 'replication_type': '<in> async', 'replication_enabled': '<is> true', 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'replication_type': '<in> sync', 'replication_enabled': '<is> true', 'replication_type': '<in> async', 'replication_enabled': '<is> true', def test_retype_replication(self, current_spec, new_spec, expected_model_update, expected_did_retype, expected_add_to_group, expected_remove_from_pgroup): self.driver._replication_pg_name, addvollist=[vol_name] self.driver._replication_pg_name, remvollist=[vol_name] 'replication_type': '<in> async', 'replication_enabled': '<is> true', expected_repl_type='async' 'replication_type': '<in> sync', 'replication_enabled': '<is> true', expected_repl_type='sync' 'replication_type': '<in> async', 'replication_enabled': '<is> false', expected_repl_type=None 'replication_type': '<in> sync', 'replication_enabled': '<is> false', expected_repl_type=None 'not_replication_stuff': 'foo', 'replication_enabled': '<is> true', expected_repl_type='async' dict( specs=None, expected_repl_type=None ), 'replication_type': '<in> super-turbo-repl-mode', 'replication_enabled': '<is> true', expected_repl_type=None ) def test_get_replication_type_from_vol_type(self, specs, expected_repl_type): self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text=""does not exist"")) self.assert_error_propagates([self.array.get_pgroup], self.driver._does_pgroup_exist, self.array, ""some_pgroup"") @mock.patch(BASE_DRIVER_OBJ + ""._does_pgroup_exist"") def test_wait_until_target_group_setting_propagates_ready(self, mock_exists): mock_exists.return_value = True self.driver._wait_until_target_group_setting_propagates( ""some_pgroup"" def test_wait_until_target_group_setting_propagates_not_ready(self, mock_exists): ""some_pgroup"" ""some_pgroup"",) @mock.patch.object(volume_types, 'get_volume_type') 'replication_type': '<in> async', 'replication_enabled': '<is> true', } vol, vol_name = self.new_fake_vol(spec={""size"": 2}, type_extra_specs=repl_extra_specs) vol[""name""] + ""-cinder"", 2 * units.Gi) REPLICATION_PROTECTION_GROUP, addvollist=[vol[""name""] + ""-cinder""]) @mock.patch.object(volume_types, 'get_volume_type') 'replication_type': '<in> sync', 'replication_enabled': '<is> true', } vol, vol_name = self.new_fake_vol(spec={""size"": 2}, type_extra_specs=repl_extra_specs) ""cinder-pod::"" + vol[""name""] + ""-cinder"", 2 * units.Gi) self.assertRaises(pure.PureDriverException, self.driver._find_async_failover_target) @mock.patch(BASE_DRIVER_OBJ + '._get_latest_replicated_pg_snap') mock_backend_1.replication_type = 'async' mock_backend_2.replication_type = 'async' self.driver._replication_target_arrays = [mock_backend_1, mock_backend_2] @mock.patch(BASE_DRIVER_OBJ + '._get_latest_replicated_pg_snap') def test_find_async_failover_target_missing_pgsnap( self, mock_get_snap): mock_backend_1.replication_type = 'async' mock_backend_2.replication_type = 'async' self.driver._replication_target_arrays = [mock_backend_1, mock_backend_2] @mock.patch(BASE_DRIVER_OBJ + '._get_latest_replicated_pg_snap') def test_find_async_failover_target_no_pgsnap( self, mock_get_snap): mock_backend.replication_type = 'async' self.assertRaises(pure.PureDriverException, self.driver._find_async_failover_target) @mock.patch(BASE_DRIVER_OBJ + '._get_latest_replicated_pg_snap') self, mock_get_snap): mock_backend.replication_type = 'async' [mock_get_snap], self.driver._find_async_failover_target secondary.array_id = CINDER_POD['arrays'][1]['array_id'] 'error getting pod status') secondary.array_id = CINDER_POD['arrays'][1]['array_id'] POD_WITH_ERR['arrays'][1]['status'] = 'error' secondary.array_id = CINDER_POD['arrays'][1]['array_id'] 'replication_type': '<in> async', 'replication_enabled': '<is> true', self.driver._replication_pg_name, addvollist=[vol_name] with mock.patch('cinder.objects.VolumeType.get_by_id') as mock_type: self.driver._enable_async_replication_if_needed(self.array, vol_obj) 'replication_type': '<in> async', 'replication_enabled': '<is> true', code=http.client.BAD_REQUEST, text='already belongs to') self.driver._replication_pg_name, addvollist=[vol_name] 'replication_type': '<in> async', 'replication_enabled': '<is> true', self.array, vol @mock.patch(BASE_DRIVER_OBJ + '._get_flasharray') @mock.patch(BASE_DRIVER_OBJ + '._find_async_failover_target') def test_failover_async(self, mock_find_failover_target, mock_get_array): secondary_device_id = 'foo' array2_v1_3.array_name = GET_ARRAY_SECONDARY['array_name'] array2_v1_3.array_id = GET_ARRAY_SECONDARY['id'] array2_v1_3.version = '1.3' REPLICATED_PGSNAPS[1] context, REPLICATED_VOLUME_OBJS, None, [] 'updates': { 'replication_status': fields.ReplicationStatus.FAILED_OVER 'volume_id': '1e5177e7-95e5-4a0f-b170-e45f4b469f6a' 'updates': { 'replication_status': fields.ReplicationStatus.FAILED_OVER 'volume_id': '43a09914-e495-475f-b862-0bda3c8918e4' 'updates': { 'replication_status': fields.ReplicationStatus.FAILED_OVER 'volume_id': '1b1cf149-219c-44ac-aee3-13121a7f86a7' } vol_name = snap['name'].split('.')[-1] calls.append(mock.call( snap['name'], vol_name, overwrite=True )) @mock.patch(BASE_DRIVER_OBJ + '._find_sync_failover_target') def test_failover_sync(self, mock_find_failover_target): secondary_device_id = 'foo' mock_secondary.replication_type = 'sync' 'replication_type': '<in> sync', 'replication_enabled': '<is> true', type_extra_specs=sync_repl_extra_specs, spec={'id': fake.VOLUME_ID} 'replication_type': '<in> async', 'replication_enabled': '<is> true', spec={'id': fake.VOLUME2_ID} not_replicated_vol, _ = self.new_fake_vol( spec={'id': fake.VOLUME3_ID} ) spec={'id': fake.VOLUME4_ID} not_replicated_vol2 [] 'updates': { 'status': fields.VolumeStatus.ERROR }, 'volume_id': not_replicated_vol.id 'updates': { 'status': fields.VolumeStatus.ERROR }, 'volume_id': async_replicated_vol.id 'updates': { 'replication_status': fields.ReplicationStatus.FAILED_OVER 'volume_id': sync_replicated_vol.id 'updates': { 'status': fields.VolumeStatus.ERROR }, 'volume_id': not_replicated_vol2.id @mock.patch(BASE_DRIVER_OBJ + '._get_flasharray') @mock.patch(BASE_DRIVER_OBJ + '._find_async_failover_target') def test_async_failover_error_propagates(self, mock_find_failover_target, mock_get_array): REPLICATED_PGSNAPS[1] array2_v1_3.array_name = GET_ARRAY_SECONDARY['array_name'] array2_v1_3.array_id = GET_ARRAY_SECONDARY['id'] array2_v1_3.version = '1.3' [mock_find_failover_target, mock_get_array, array2_v1_3.get_volume, self.async_array2.copy_volume], mock.Mock(), REPLICATED_VOLUME_OBJS, None self.driver._replication_pg_name, remvollist=[vol_name] vol code=http.client.BAD_REQUEST, text='could not be found') self.driver._replication_pg_name, remvollist=[vol_name] san_ip = '1.2.3.4' api_token = 'abcdef' cert_path = '/my/ssl/certs' self.driver._get_flasharray(san_ip, api_token, verify_https=True, ssl_cert_path=cert_path) san_ip = '1.2.3.4' api_token = 'abcdef' self.driver._get_flasharray(san_ip, api_token, request_kwargs={""some"": ""arg""}) request_kwargs={""some"": ""arg""} san_ip = '1.2.3.4' api_token = 'abcdef' self.driver._get_flasharray(san_ip, api_token, request_kwargs={""some"": ""arg""}) user_agent=self.driver._user_agent vol = {'created': '2019-01-28T14:16:54Z', 'name': 'volume-fdc9892f-5af0-47c8-9d4a-5167ac29dc98-cinder', 'serial': '9714B5CB91634C470002B2C8', 'size': 3221225472, 'source': 'volume-a366b1ba-ec27-4ca3-9051-c301b75bc778-cinder'} returned_wwn = self.driver._get_wwn(vol['name']) expected_wwn = '3624a93709714b5cb91634c470002b2c8' self.assertEqual(specs[""maxIOPS""], int(QOS_IOPS_BWS[""maxIOPS""])) self.assertEqual(specs[""maxBWS""], int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) self.assertEqual(specs[""maxIOPS""], int(QOS_IOPS_BWS[""maxIOPS""])) self.assertEqual(specs[""maxBWS""], int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) self.assertEqual(specs[""maxBWS""], int(QOS_BWS[""maxBWS""]) * 1024 * 1024) self.assertRaises(exception.InvalidQoSSpecs, self.driver._get_qos_settings, voltype) @mock.patch.object(volume_types, 'get_volume_type') def test_create_volume_with_qos(self, mock_get_volume_type, mock_get_qos_specs, mock_get_repl_type, mock_add_to_group): vol, vol_name = self.new_fake_vol(spec={""size"": 1}, type_qos_specs_id=qos.id) vol_name, 1 * units.Gi, bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) mock_add_to_group.assert_called_once_with(vol, vol_name) self.assert_error_propagates([self.array.create_volume], self.driver.create_volume, vol) @mock.patch.object(volume_types, 'get_volume_type') def test_create_volume_from_snapshot_with_qos(self, mock_get_volume_type, mock_get_qos_specs, mock_get_repl_type, mock_add_to_group): vol, vol_name = self.new_fake_vol(set_provider_id=False, type_qos_specs_id=qos.id) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) self.driver.create_volume_from_snapshot, vol, snap) @mock.patch.object(volume_types, 'get_volume_type') def test_manage_existing_with_qos(self, mock_get_volume_type, mock_get_qos_specs): ref_name = 'vol1' volume_ref = {'name': ref_name} vol, vol_name = self.new_fake_vol(set_provider_id=False, type_qos_specs_id=qos.id) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) bandwidth_limit=int(QOS_IOPS_BWS[""maxBWS""]) * 1024 * 1024) vol_name, iops_limit="""", bandwidth_limit="""") self.assert_error_propagates([self.array.list_hosts], self.driver._get_host, self.array, ISCSI_CONNECTOR) def test_initialize_connection(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.assert_error_propagates([mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR) def test_initialize_connection_ipv6(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.assert_error_propagates([mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR) def test_initialize_connection_uniform_ac(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' } real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls([ mock.call(self.array), mock.call(mock_secondary), ]) mock_connection.assert_has_calls([ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call(mock_secondary, vol_name, ISCSI_CONNECTOR, None, None), ]) def test_initialize_connection_uniform_ac_cidr(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' } real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls([ mock.call(self.array), mock.call(mock_secondary), ]) mock_connection.assert_has_calls([ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call(mock_secondary, vol_name, ISCSI_CONNECTOR, None, None), ]) def test_initialize_connection_uniform_ac_cidrs(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' } real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_get_iscsi_ports.assert_has_calls([ mock.call(self.array), mock.call(mock_secondary), ]) mock_connection.assert_has_calls([ mock.call(self.array, vol_name, ISCSI_CONNECTOR, None, None), mock.call(mock_secondary, vol_name, ISCSI_CONNECTOR, None, None), ]) def test_initialize_connection_with_auth(self, mock_get_iscsi_ports, mock_connection, mock_get_chap_creds, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' real_result = self.driver.initialize_connection(vol, ISCSI_CONNECTOR) mock_connection.assert_called_with(self.array, vol_name, ISCSI_CONNECTOR, chap_username, chap_password) self.assert_error_propagates([mock_get_iscsi_ports, mock_connection], self.driver.initialize_connection, vol, ISCSI_CONNECTOR) def test_initialize_connection_multipath(self, mock_get_iscsi_ports, mock_connection, mock_get_wwn): mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' real_result = self.driver.initialize_connection(vol, multipath_connector) mock_connection.assert_called_with(self.array, vol_name, multipath_connector, None, None) self.assertRaises(pure.PureDriverException, self.driver._get_target_iscsi_ports, self.array) self.assertRaises(pure.PureDriverException, self.driver._get_target_iscsi_ports, self.array) real_result = self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) mock_host.assert_called_with(self.driver, self.array, ISCSI_CONNECTOR, remote=False) real_result = self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) mock_host.assert_called_with(self.driver, self.array, ISCSI_CONNECTOR, remote=False) self.array.create_host.assert_called_with(PURE_HOST_NAME, iqnlist=[INITIATOR_IQN]) [mock_host, mock_generate, self.array.connect_host, self.array.create_host], self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, chap_user, chap_password) self.array.set_host.assert_called_with(PURE_HOST_NAME, host_user=chap_user, host_password=chap_password) self.mock_config.safe_get.return_value = 'oracle-vm-server' self.assertRaises(pure.PureDriverException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.array.set_host.assert_called_with(PURE_HOST_NAME, personality='oracle-vm-server') self.array.list_volume_private_connections.return_value = \ [expected, {""host"": ""extra"", ""lun"": 2}] self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" actual = self.driver._connect(self.array, vol_name, ISCSI_CONNECTOR, None, None) self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" self.assertRaises(pure.PureDriverException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) self.array.list_volume_private_connections.side_effect = \ self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text="""") self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) mock_get_secret.return_value = 'abcdef' code=http.client.BAD_REQUEST, text='Host does not exist.')) self.assertRaises(pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) text='The specified IQN is already in use.')) self.assertRaises(pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) code=http.client.BAD_REQUEST, text='Host already exists.')) self.assertRaises(pure.PureRetryableException, self.driver._connect, self.array, vol_name, ISCSI_CONNECTOR, None, None) host = 'host1' expected_password = 'foo123' username, password = self.driver._get_chap_credentials(host, INITIATOR_IQN) def test_get_chap_credentials_create_new_fail_to_set(self, mock_generate_secret): host = 'host1' expected_password = 'foo123' mock_generate_secret.return_value = 'badpassw0rd' [{'key': pure.CHAP_SECRET_KEY, 'value': expected_password}], pure.PureDriverException(reason='this should never be hit'), username, password = self.driver._get_chap_credentials(host, INITIATOR_IQN)class PureFCDriverTestCase(PureBaseSharedDriverTestCase): self.assert_error_propagates([self.array.list_hosts], self.driver._get_host, self.array, FC_CONNECTOR) expected_host['wwn'] = [INITIATOR_WWN] connector['wwpns'] = [wwpn.upper() for wwpn in FC_CONNECTOR['wwpns']] (lookup_service.get_device_mapping_from_network. return_value) = DEVICE_MAPPING mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' mock_connection.return_value = {""vol"": vol_name, ""lun"": 1, } def test_initialize_connection_uniform_ac(self, mock_connection, mock_get_wwn): repl_extra_specs = { 'replication_type': '<in> sync', 'replication_enabled': '<is> true', (lookup_service.get_device_mapping_from_network. return_value) = AC_DEVICE_MAPPING mock_get_wwn.return_value = '3624a93709714b5cb91634c470002b2c8' } mock_host.assert_called_with(self.driver, self.array, FC_CONNECTOR, remote=False) mock_host.assert_called_with(self.driver, self.array, FC_CONNECTOR, remote=False) self.array.create_host.assert_called_with(PURE_HOST_NAME, wwnlist={INITIATOR_WWN}) [mock_host, mock_generate, self.array.connect_host, self.array.create_host], self.driver._connect, self.array, vol_name, FC_CONNECTOR) self.assertRaises(pure.PureDriverException, self.driver._connect, self.array, vol_name, FC_CONNECTOR) self.array.set_host.assert_called_with(PURE_HOST_NAME, personality='oracle-vm-server') self.array.list_volume_private_connections.return_value = \ [expected, {""host"": ""extra"", ""lun"": 2}] self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" self.assertRaises(pure.PureDriverException, self.driver._connect, self.array, vol_name, FC_CONNECTOR) self.array.list_volume_private_connections.side_effect = \ self.purestorage_module.PureHTTPError(code=http.client.BAD_REQUEST, text="""") self.array.connect_host.side_effect = \ code=http.client.BAD_REQUEST, text=""Connection already exists"" self.assertRaises(self.purestorage_module.PureHTTPError, self.driver._connect, self.array, vol_name, FC_CONNECTOR) text='The specified WWN is already in use.')) self.assertRaises(pure.PureRetryableException, self.driver._connect, self.array, vol_name, FC_CONNECTOR) 'replication_type': '<in> sync', 'replication_enabled': '<is> true', mock_disconnect.assert_has_calls([ mock.call(mock_secondary, vol, FC_CONNECTOR, is_multiattach=False, remove_remote_hosts=False), mock.call(self.array, vol, FC_CONNECTOR, is_multiattach=False, remove_remote_hosts=False) ]) @ddt.data(dict(used=10, provisioned=100, config_ratio=5, expected_ratio=5, auto=False), dict(used=10, provisioned=100, config_ratio=5, expected_ratio=10, auto=True), dict(used=0, provisioned=100, config_ratio=5, expected_ratio=5, auto=True), dict(used=10, provisioned=0, config_ratio=5, expected_ratio=5, auto=True)) def test_get_thin_provisioning(self, used, provisioned, config_ratio, expected_ratio, auto): return_value=expected_ratio) @mock.patch(BASE_DRIVER_OBJ + '.get_goodness_function') @mock.patch(BASE_DRIVER_OBJ + '.get_filter_function') @mock.patch(BASE_DRIVER_OBJ + '._get_provisioned_space') @mock.patch(BASE_DRIVER_OBJ + '._get_thin_provisioning') def test_get_volume_stats(self, mock_get_thin_provisioning, mock_get_space, mock_get_filter, mock_get_goodness): filter_function = 'capabilities.total_volumes < 10' goodness_function = '90' mock_get_thin_provisioning.return_value = (PROVISIONED_CAPACITY / USED_SPACE) 'volume_backend_name': VOLUME_BACKEND_NAME, 'vendor_name': 'Pure Storage', 'driver_version': self.driver.VERSION, 'storage_protocol': None, 'consistencygroup_support': True, 'thin_provisioning_support': True, 'multiattach': True, 'QoS_support': True, 'total_capacity_gb': TOTAL_CAPACITY, 'free_capacity_gb': TOTAL_CAPACITY - USED_SPACE, 'reserved_percentage': reserved_percentage, 'provisioned_capacity': PROVISIONED_CAPACITY, 'max_over_subscription_ratio': (PROVISIONED_CAPACITY / USED_SPACE), 'filter_function': filter_function, 'goodness_function': goodness_function, 'total_volumes': 100, 'total_snapshots': num_snaps, 'total_hosts': num_hosts, 'total_pgroups': num_pgroups, 'writes_per_sec': PERF_INFO['writes_per_sec'], 'reads_per_sec': PERF_INFO['reads_per_sec'], 'input_per_sec': PERF_INFO['input_per_sec'], 'output_per_sec': PERF_INFO['output_per_sec'], 'usec_per_read_op': PERF_INFO['usec_per_read_op'], 'usec_per_write_op': PERF_INFO['usec_per_write_op'], 'queue_depth': PERF_INFO['queue_depth'], 'replication_enabled': False, 'replication_type': [], 'replication_count': 0, 'replication_targets': [], @mock.patch(BASE_DRIVER_OBJ + '._add_volume_to_consistency_group') @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') @mock.patch(BASE_DRIVER_OBJ + '._add_volume_to_consistency_group') @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') mock_add_to_cg.assert_called_once_with( group, vol_name ) @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group, volumes @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group, volumes @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group_snapshot, snapshots @mock.patch('cinder.volume.volume_utils.is_group_a_cg_snapshot_type') self.mock_context, group_snapshot, snapshots @mock.patch(BASE_DRIVER_OBJ + '.create_consistencygroup') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_create_group_with_cg(self, mock_get_specs, mock_create_cg): mock_get_specs.return_value = '<is> True' @mock.patch(BASE_DRIVER_OBJ + '.delete_consistencygroup') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_delete_group_with_cg(self, mock_get_specs, mock_delete_cg): mock_get_specs.return_value = '<is> True' mock_delete_cg.assert_called_once_with(self.mock_context, group, volumes) @mock.patch(BASE_DRIVER_OBJ + '.update_consistencygroup') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_update_group_with_cg(self, mock_get_specs, mock_update_cg): mock_get_specs.return_value = '<is> True' self.mock_context, group, addvollist, remvollist self.mock_context, group, addvollist, remvollist @mock.patch(BASE_DRIVER_OBJ + '.create_consistencygroup_from_src') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_create_group_from_src_with_cg(self, mock_get_specs, mock_create): mock_get_specs.return_value = '<is> True' source_vols source_vols @mock.patch(BASE_DRIVER_OBJ + '.create_cgsnapshot') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_create_group_snapshot_with_cg(self, mock_get_specs, mock_create_cgsnap): mock_get_specs.return_value = '<is> True' self.mock_context, group_snapshot, snapshots self.mock_context, group_snapshot, snapshots @mock.patch(BASE_DRIVER_OBJ + '.delete_cgsnapshot') @mock.patch('cinder.volume.group_types.get_group_type_specs') def test_delete_group_snapshot_with_cg(self, mock_get_specs, mock_delete_cg): mock_get_specs.return_value = '<is> True' self.mock_context, group_snapshot, snapshots self.mock_context, group_snapshot, snapshots",3845,2201
openstack%2Fdiskimage-builder~master~Ic6802c4ffc2e825f129af10717860a2d1770fe80,openstack/diskimage-builder,master,Ic6802c4ffc2e825f129af10717860a2d1770fe80,Mount /sys RO,MERGED,2021-07-01 23:28:15.000000000,2021-07-06 22:46:05.000000000,2021-07-06 22:44:42.000000000,"[{'_account_id': 4571}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 23:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bbc87d0360ca4b3e00313254de122e597ec8e990', 'message': '[wip] test centos8-stream with hwrng map\n\nChange-Id: Ic6802c4ffc2e825f129af10717860a2d1770fe80\nDepends-On: https://review.opendev.org/c/zuul/nodepool/+/799125\n'}, {'number': 2, 'created': '2021-07-02 03:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/13b2f0c348aa4515e3d81bf2a80f849b790f0888', 'message': '[wip] test centos8-stream with ro /sys\n\nChange-Id: Ic6802c4ffc2e825f129af10717860a2d1770fe80\n'}, {'number': 3, 'created': '2021-07-02 04:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9618ada821d99a782e17ed2552b25267aa5072a5', 'message': '[wip] test centos8-stream with ro /sys\n\nChange-Id: Ic6802c4ffc2e825f129af10717860a2d1770fe80\n'}, {'number': 4, 'created': '2021-07-05 01:45:17.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'releasenotes/notes/sysfs-ro-b127a6df2d78e57c.yaml', 'diskimage_builder/lib/common-functions', 'diskimage_builder/elements/zypper-minimal/root.d/08-zypper-chroot', 'diskimage_builder/elements/ramdisk/init.d/10-start-base-system', 'diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall', 'diskimage_builder/elements/debian-minimal/root.d/75-debian-minimal-baseinstall', 'diskimage_builder/elements/ubuntu-systemd-container/root.d/75-ubuntu-minimal-baseinstall'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/12b60c4088d9163f756472e7d8eab2ab321fe287', 'message': 'Mount /sys RO\n\nAs noted inline, this works around potential issues by being a strong\nindication you are in a container (e.g. [1]).  Since nothing should be\nchanging anything on the host/build system, this is a generically\nsafer way to operate.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588\n\nChange-Id: Ic6802c4ffc2e825f129af10717860a2d1770fe80\n'}]",0,799126,12b60c4088d9163f756472e7d8eab2ab321fe287,23,5,4,7118,,,0,"Mount /sys RO

As noted inline, this works around potential issues by being a strong
indication you are in a container (e.g. [1]).  Since nothing should be
changing anything on the host/build system, this is a generically
safer way to operate.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588

Change-Id: Ic6802c4ffc2e825f129af10717860a2d1770fe80
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/799126/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,bbc87d0360ca4b3e00313254de122e597ec8e990,hwrng,, templates: - openstack-cover-jobs - check-requirements - openstack-lower-constraints-jobs - release-notes-jobs # NOTE(ianw): 2020-05-29 jobs are unstable; see # https://bugs.launchpad.net/tripleo/+bug/1879766 - tripleo-buildimage-jobs-centos-8 - openstack-python35-jobs - openstack-python3-wallaby-jobs - openstack-tox-pylint - dib-nodepool-functional-openstack-centos-7-src - dib-nodepool-functional-openstack-centos-8-src - dib-nodepool-functional-openstack-fedora-34-containerfile-src - dib-nodepool-functional-openstack-ubuntu-xenial-src - dib-nodepool-functional-openstack-ubuntu-bionic-src - dib-nodepool-functional-openstack-ubuntu-focal-src # NOTE(ianw): 2020-04-22 these have been out of the gate for a # while; promote to voting after some stability. - dib-nodepool-functional-openstack-opensuse-15-src: voting: false - dib-nodepool-functional-openstack-opensuse-tumbleweed-src: voting: false - dib-functests-bionic-python3 - dib-functests-bionic-python3-image - dib-functests-bionic-python3-extras - dib-functests-bionic-python3-containers - ironic-python-agent-check-image-dib-centos8 # IPA job that builds AND validates an image via deployment - ipa-tempest-bios-ipmi-direct-src: voting: false check-arm64: jobs: - dib-functests-arm64-bionic,0,34
openstack%2Fopenstack-helm-images~master~I2563f45e32127ebacd455b509b6c56053ceb6ddd,openstack/openstack-helm-images,master,I2563f45e32127ebacd455b509b6c56053ceb6ddd,Add designate image building,MERGED,2021-04-30 20:04:12.000000000,2021-07-06 22:36:36.000000000,2021-07-06 22:32:19.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-04-30 20:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e68b50a1ee6c5b6e213d1096187a5e249c271c2b', 'message': ""Add designate image building\n\nCurrently designate doesn't have any images hosted in the osh\ndockerhub, this change adds designate to the list of images\nfor loci to build.\n\nChange-Id: I2563f45e32127ebacd455b509b6c56053ceb6ddd\n""}, {'number': 2, 'created': '2021-05-03 21:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bb642b30bde330a13a97a0d593546e123e4a62c2', 'message': ""Add designate image building\n\nCurrently designate doesn't have any images hosted in the osh\ndockerhub, this change adds designate to the list of images\nfor loci to build.\n\nChange-Id: I2563f45e32127ebacd455b509b6c56053ceb6ddd\n""}, {'number': 3, 'created': '2021-05-07 00:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/1b7205ba212a6ee7a8b0e2fc5f2febdd4f2687ec', 'message': ""Add designate image building\n\nCurrently designate doesn't have any images hosted in the osh\ndockerhub, this change adds designate to the list of images\nfor loci to build.\n\nChange-Id: I2563f45e32127ebacd455b509b6c56053ceb6ddd\n""}, {'number': 4, 'created': '2021-06-24 19:39:04.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/dc396fd252ef307cc8aa26447dd548de6985edc3', 'message': ""Add designate image building\n\nCurrently designate doesn't have any images hosted in the osh\ndockerhub, this change adds designate to the list of images\nfor loci to build.\n\nChange-Id: I2563f45e32127ebacd455b509b6c56053ceb6ddd\n""}]",0,789025,dc396fd252ef307cc8aa26447dd548de6985edc3,15,3,4,21420,,,0,"Add designate image building

Currently designate doesn't have any images hosted in the osh
dockerhub, this change adds designate to the list of images
for loci to build.

Change-Id: I2563f45e32127ebacd455b509b6c56053ceb6ddd
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/25/789025/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,e68b50a1ee6c5b6e213d1096187a5e249c271c2b,add-designate," - &designate_project context: ""."" build_args: - ""FROM='{{ base_repository }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='designate'"" - ""PROJECT_REF={{ branchname }}"" - ""WHEELS='{{ wheels_location }}'"" - ""KEEP_ALL_WHEELS=yes"" tags: *imagetag - <<: *designate_project - <<: *designate_project - <<: *designate_project",,13,0
openstack%2Fopenstack-helm~master~I5d142c8d3c2bb11b955d4c4e2fd2e95e3a1e522a,openstack/openstack-helm,master,I5d142c8d3c2bb11b955d4c4e2fd2e95e3a1e522a,Fix conductor reload,MERGED,2021-07-03 20:16:34.000000000,2021-07-06 21:59:01.000000000,2021-07-06 21:57:36.000000000,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 20:16:34.000000000', 'files': ['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/statefulset-conductor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a54acc7b0bbebbaafa0edd396c1cb85c4e7f73f', 'message': ""Fix conductor reload\n\nWe didn't have an annotation label, so there's no way for things\nto automatically reload when config changes.\n\nChange-Id: I5d142c8d3c2bb11b955d4c4e2fd2e95e3a1e522a\n""}]",0,799400,8a54acc7b0bbebbaafa0edd396c1cb85c4e7f73f,9,4,1,1004,,,0,"Fix conductor reload

We didn't have an annotation label, so there's no way for things
to automatically reload when config changes.

Change-Id: I5d142c8d3c2bb11b955d4c4e2fd2e95e3a1e522a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/00/799400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/magnum.yaml', 'magnum/Chart.yaml', 'magnum/templates/statefulset-conductor.yaml']",3,8a54acc7b0bbebbaafa0edd396c1cb85c4e7f73f,fix-cond-reload," configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }}",,4,1
openstack%2Ftrove~master~Ic9ca04810d73b25715d3c016edf080d1b6b53417,openstack/trove,master,Ic9ca04810d73b25715d3c016edf080d1b6b53417,Duplicate notifications are sent when deleting mysql user,NEW,2021-07-05 07:03:18.000000000,2021-07-06 21:41:30.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 07:03:18.000000000', 'files': ['trove/extensions/mysql/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/439e2320757814719275a812fc569d03a3a7ecd7', 'message': 'Duplicate notifications are sent when deleting mysql user\n\nIn the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\n\nFix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ic9ca04810d73b25715d3c016edf080d1b6b53417\n'}]",0,799437,439e2320757814719275a812fc569d03a3a7ecd7,3,2,1,33480,,,0,"Duplicate notifications are sent when deleting mysql user

In the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service

Fix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete

task: 42764
story: 2009029
Change-Id: Ic9ca04810d73b25715d3c016edf080d1b6b53417
",git fetch https://review.opendev.org/openstack/trove refs/changes/37/799437/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/extensions/mysql/models.py'],1,439e2320757814719275a812fc569d03a3a7ecd7,bugfix-42764," create_guest_client(context, instance_id).delete_user(user)","from trove.common.notification import StartNotification with StartNotification(context, instance_id=instance_id, username=user): create_guest_client(context, instance_id).delete_user(user)",1,5
openstack%2Ftosca-parser~master~Ie7701e2a74671a0f9a8adda87ffab141e0504e60,openstack/tosca-parser,master,Ie7701e2a74671a0f9a8adda87ffab141e0504e60,Fix old link in Installation guide,MERGED,2021-07-03 15:59:24.000000000,2021-07-06 21:30:23.000000000,2021-07-06 21:29:13.000000000,"[{'_account_id': 6456}, {'_account_id': 7514}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-07-03 15:59:24.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/e7b9386a916a07bfc11ef6ee2b2d9ba8fa581841', 'message': 'Fix old link in Installation guide\n\nThe TOSCA parser manual installation section refers to an old link\n[1] for the TOSCA-Parser source code repository.\nThe new link for the TOSCA-Parser repository is [2].\n\n[1] https://github.com/openstack/tosca-parser\n[2] https://opendev.org/openstack/tosca-parser\n\nCloses-Bug: #1934569\nChange-Id: Ie7701e2a74671a0f9a8adda87ffab141e0504e60\n'}]",0,799398,e7b9386a916a07bfc11ef6ee2b2d9ba8fa581841,8,6,1,32102,,,0,"Fix old link in Installation guide

The TOSCA parser manual installation section refers to an old link
[1] for the TOSCA-Parser source code repository.
The new link for the TOSCA-Parser repository is [2].

[1] https://github.com/openstack/tosca-parser
[2] https://opendev.org/openstack/tosca-parser

Closes-Bug: #1934569
Change-Id: Ie7701e2a74671a0f9a8adda87ffab141e0504e60
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/98/799398/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,e7b9386a916a07bfc11ef6ee2b2d9ba8fa581841,bug/1934569, git clone https://opendev.org/openstack/tosca-parser, git clone https://github.com/openstack/tosca-parser,1,1
openstack%2Fproject-config~master~I208dec5a1d790e97c7e7844ed384db27fa53e3af,openstack/project-config,master,I208dec5a1d790e97c7e7844ed384db27fa53e3af,afsdocs_secret-openstack-manuals: Zuul 4.6.0 fix,MERGED,2021-07-06 19:03:16.000000000,2021-07-06 21:27:28.000000000,2021-07-06 21:27:28.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 19:03:16.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6b78c7d5e3d7f3b1e42a05cf194c9d705a65c5ea', 'message': 'afsdocs_secret-openstack-manuals: Zuul 4.6.0 fix\n\nAdjust the afsdocs_secret-openstack-manuals secret to use the new\ntargets tree expected by the opendev-promote-docs-base job expects.\nThis should solve recent failures for the promote-openstack-manuals\njob.\n\nChange-Id: I208dec5a1d790e97c7e7844ed384db27fa53e3af\n'}]",0,799710,6b78c7d5e3d7f3b1e42a05cf194c9d705a65c5ea,7,3,1,5263,,,0,"afsdocs_secret-openstack-manuals: Zuul 4.6.0 fix

Adjust the afsdocs_secret-openstack-manuals secret to use the new
targets tree expected by the opendev-promote-docs-base job expects.
This should solve recent failures for the promote-openstack-manuals
job.

Change-Id: I208dec5a1d790e97c7e7844ed384db27fa53e3af
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/799710/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,6b78c7d5e3d7f3b1e42a05cf194c9d705a65c5ea,zuul-4.6.0," targets: master: path: ""/afs/.openstack.org/docs"" branch: path: ""/afs/.openstack.org/docs"""," docs_master_path: ""/afs/.openstack.org/docs"" docs_branch_path: ""/afs/.openstack.org/docs""",5,2
openstack%2Foslo.utils~master~If1ec42dae757fa3d74c740a52c346701ea19f1c9,openstack/oslo.utils,master,If1ec42dae757fa3d74c740a52c346701ea19f1c9,QemuImgInfo: Skip deprecation warning when output is not passed,MERGED,2021-07-06 13:11:57.000000000,2021-07-06 21:06:38.000000000,2021-07-06 21:05:16.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-06 13:11:57.000000000', 'files': ['oslo_utils/imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/75c4abd909aa86f01e138329e89ffc31d53ef2d3', 'message': ""QemuImgInfo: Skip deprecation warning when output is not passed\n\nChange 73eb0673f627aad382e08a816191b637af436465 deprecated usage of\nthe human format and introduced a deprecatipon warning message which\nis shown unless format is explicitly set to 'json'.\n\nTo avoid the deprecation warning, all usage of QemuImgInfo requires\nexplicit definition of format='json'. This means that we should add\nthe format parameter to all existing usage of QemuImgInfo even if\noutput is blank as is described in the following example.\n QemuImgInfo()\n QemuImgInfo(output=None)\n\nHowever later we should revert these implementations again when we\ndeprecated or remove the format parameter. These steps are very\nredundant.\n\nThis change suppresses the warning message when output is blank so that\nwe can avoid deprecation warnings without redundant update and revert.\n\nChange-Id: If1ec42dae757fa3d74c740a52c346701ea19f1c9\n""}]",1,799666,75c4abd909aa86f01e138329e89ffc31d53ef2d3,8,3,1,9816,,,0,"QemuImgInfo: Skip deprecation warning when output is not passed

Change 73eb0673f627aad382e08a816191b637af436465 deprecated usage of
the human format and introduced a deprecatipon warning message which
is shown unless format is explicitly set to 'json'.

To avoid the deprecation warning, all usage of QemuImgInfo requires
explicit definition of format='json'. This means that we should add
the format parameter to all existing usage of QemuImgInfo even if
output is blank as is described in the following example.
 QemuImgInfo()
 QemuImgInfo(output=None)

However later we should revert these implementations again when we
deprecated or remove the format parameter. These steps are very
redundant.

This change suppresses the warning message when output is blank so that
we can avoid deprecation warnings without redundant update and revert.

Change-Id: If1ec42dae757fa3d74c740a52c346701ea19f1c9
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/66/799666/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/imageutils.py'],1,75c4abd909aa86f01e138329e89ffc31d53ef2d3,warning," if cmd_output is not None: debtcollector.deprecate( 'The human format is deprecated and the format parameter ' 'will be removed. Use explicitly json instead', version=""xena"", category=FutureWarning)"," debtcollector.deprecate( 'The human format is deprecated and the format parameter ' 'will be removed. Use explicitly json instead', version=""xena"", category=FutureWarning)",6,5
openstack%2Fnova~master~If747bca82a94a5136bc3532fb56e707794fbd2ce,openstack/nova,master,If747bca82a94a5136bc3532fb56e707794fbd2ce,[DNM] testing os-vif use unreleased os-vif version to test live migration and upgrades,NEW,2021-07-06 14:55:07.000000000,2021-07-06 20:49:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-06 14:55:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6108dd2f8e20b73406a54b2b410d99901b2cd644', 'message': '[DNM] testing os-vif\nuse unreleased os-vif version to test live migration and upgrades\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/798055/11\nRelated-Bug: #1933517\nChange-Id: If747bca82a94a5136bc3532fb56e707794fbd2ce\n'}]",0,799680,6108dd2f8e20b73406a54b2b410d99901b2cd644,8,1,1,11604,,,0,"[DNM] testing os-vif
use unreleased os-vif version to test live migration and upgrades

Depends-On: https://review.opendev.org/c/openstack/os-vif/+/798055/11
Related-Bug: #1933517
Change-Id: If747bca82a94a5136bc3532fb56e707794fbd2ce
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/799680/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6108dd2f8e20b73406a54b2b410d99901b2cd644,bug/1933517, required-projects: - openstack/os-vif post-config: $NOVA_CONF: os_vif_ovs: per_port_bridge: true required-projects: - openstack/os-vif post-config: $NOVA_CONF: os_vif_ovs: per_port_bridge: true required-projects: - openstack/os-vif post-config: $NOVA_CONF: os_vif_ovs: per_port_bridge: true required-projects: - openstack/os-vif os_vif_ovs: per_port_bridge: true,,22,0
openstack%2Fneutron-lib~master~Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4,openstack/neutron-lib,master,Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4,Add a TODO note for resource classes constants,MERGED,2021-07-01 11:00:04.000000000,2021-07-06 19:48:13.000000000,2021-07-06 19:47:01.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 11:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/99153db4ce4bee2b778c4e59e278311a4a0703b9', 'message': 'Use os-resource-classes lib to avoid duplication\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. To avoid code duplication, import the constants\nfrom there.\n\nCloses-Bug: #1934256\nChange-Id: Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4\n'}, {'number': 2, 'created': '2021-07-01 11:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e1f9a5c195092fadc96b41c6a806410778975f37', 'message': 'Use os-resource-classes lib to avoid duplication\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. To avoid code duplication, import the constants\nfrom there.\n\nCloses-Bug: #1934256\nChange-Id: Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4\n'}, {'number': 3, 'created': '2021-07-02 05:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3a765cec64557cbd95db7af39871b4f4fe62cbff', 'message': 'Use os-resource-classes lib to avoid duplication\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. To avoid code duplication, import the constants\nfrom there.\n\nCloses-Bug: #1934256\nChange-Id: Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4\n'}, {'number': 4, 'created': '2021-07-06 14:12:22.000000000', 'files': ['neutron_lib/placement/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/44b3fc3f1821022aa5662b87a749b6b0eddaff20', 'message': ""Add a TODO note for resource classes constants\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. This code duplication shall be fixed with next\nmajor neutron-lib release. For the time being, add a TODO note\ninforming that those constants shouldn't be used.\n\nRelated-Bug: #1934256\nChange-Id: Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4\n""}]",0,799034,44b3fc3f1821022aa5662b87a749b6b0eddaff20,23,8,4,33652,,,0,"Add a TODO note for resource classes constants

The os-resource-classes lib is the official source of the standard
placement resource classes. Currently, the neutron-lib contains a copy
of those constants. This code duplication shall be fixed with next
major neutron-lib release. For the time being, add a TODO note
informing that those constants shouldn't be used.

Related-Bug: #1934256
Change-Id: Iee08835fd30d43249a261aa0c0a0b6f2cda08ea4
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/34/799034/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron_lib/placement/constants.py']",2,99153db4ce4bee2b778c4e59e278311a4a0703b9,,import os_resource_classes as orc CLASS_NET_BW_EGRESS_KBPS = orc.NET_BW_EGR_KILOBIT_PER_SEC CLASS_NET_BW_INGRESS_KBPS = orc.NET_BW_IGR_KILOBIT_PER_SEC,CLASS_NET_BW_EGRESS_KBPS = 'NET_BW_EGR_KILOBIT_PER_SEC' CLASS_NET_BW_INGRESS_KBPS = 'NET_BW_IGR_KILOBIT_PER_SEC',5,2
openstack%2Fpython-manilaclient~master~I23d6c8ae604602b17ea8505a0b3d968dbc3adf40,openstack/python-manilaclient,master,I23d6c8ae604602b17ea8505a0b3d968dbc3adf40,Fix typo in quota set error message,MERGED,2021-05-25 21:31:46.000000000,2021-07-06 19:41:22.000000000,2021-07-06 19:40:10.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 21:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/71417930be75840afb9c6a6a61eff08dba629255', 'message': ""Fix typo in quota set error message\n\nReplaces blank spaces with dashes in the mention of 'share group\nsnapshots' in the quota set error message.\n\nChange-Id: I23d6c8ae604602b17ea8505a0b3d968dbc3adf40\n""}, {'number': 2, 'created': '2021-07-06 15:48:40.000000000', 'files': ['manilaclient/osc/v2/quotas.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8ad158327f29b1d87d52fb08c91b6d5288cc3ab2', 'message': ""Fix typo in quota set error message\n\nReplaces blank spaces with dashes in the mention of 'share group\nsnapshots' in the quota set error message.\n\nChange-Id: I23d6c8ae604602b17ea8505a0b3d968dbc3adf40\n""}]",0,793067,8ad158327f29b1d87d52fb08c91b6d5288cc3ab2,10,3,2,29632,,,0,"Fix typo in quota set error message

Replaces blank spaces with dashes in the mention of 'share group
snapshots' in the quota set error message.

Change-Id: I23d6c8ae604602b17ea8505a0b3d968dbc3adf40
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/67/793067/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/quotas.py'],1,71417930be75840afb9c6a6a61eff08dba629255,," ""'share-groups', 'share-group-snapshots', 'share-replicas', """," ""'share-groups', 'share group snapshots', 'share-replicas', """,1,1
openstack%2Fos-net-config~stable%2Fwallaby~I18e65e99b7228d8aea20d510070968f17e021e3c,openstack/os-net-config,stable/wallaby,I18e65e99b7228d8aea20d510070968f17e021e3c,Avoid creating multiple entries of udev rules,MERGED,2021-07-05 15:22:46.000000000,2021-07-06 19:37:30.000000000,2021-07-06 19:36:17.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:22:46.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e2b7ed13fc8c06fbe5d9a1b89ed1d8c16015e97a', 'message': 'Avoid creating multiple entries of udev rules\n\nAs on date os-net-config does not support changing numvfs.\nHowever if external scripts are used to reset numvfs to zero and\nreconfigure numvfs, the udev rule shall reflect the new numvfs\nand the previous udev rule shall be replaced.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)\n'}]",0,799484,e2b7ed13fc8c06fbe5d9a1b89ed1d8c16015e97a,8,3,1,18904,,,0,"Avoid creating multiple entries of udev rules

As on date os-net-config does not support changing numvfs.
However if external scripts are used to reset numvfs to zero and
reconfigure numvfs, the udev rule shall reflect the new numvfs
and the previous udev rule shall be replaced.

Change-Id: I18e65e99b7228d8aea20d510070968f17e021e3c
(cherry picked from commit 8a053a2c1d467833c0db3d3e5303d36ee99d8e33)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/84/799484/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,e2b7ed13fc8c06fbe5d9a1b89ed1d8c16015e97a,," pattern = 'KERNEL==""%s"", RUN+=""/bin/os-net-config-sriov -n' % pf_name return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE, pattern)def add_udev_rule(udev_data, udev_file, pattern=None): if not pattern: pattern = udev_data udev_lines = file_data.splitlines() if pattern in file_data: if udev_data in udev_lines: return trigger_udev_rule with open(udev_file, ""w"") as f: for line in udev_lines: if pattern in line: f.write(udev_data + ""\n"") else: f.write(line + ""\n"") else: reload_udev_rules() trigger_udev_rule = True"," return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE)def add_udev_rule(udev_data, udev_file): reload_udev_rules() trigger_udev_rule = True udev_lines = file_data.split(""\n"") if udev_data not in udev_lines: reload_udev_rules() trigger_udev_rule = True",158,8
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I38d06056b56fb14c7162d546f6d688ba6ad59a5b,openstack/tripleo-heat-templates,stable/wallaby,I38d06056b56fb14c7162d546f6d688ba6ad59a5b,Adjust enable-stf.yaml for latest recommendations,MERGED,2021-07-05 13:37:41.000000000,2021-07-06 19:37:29.000000000,2021-07-06 19:36:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-05 13:37:41.000000000', 'files': ['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d407a8f5db54bde9f14df9ff82547122753ddce', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,799480,2d407a8f5db54bde9f14df9ff82547122753ddce,11,4,1,7294,,,0,"Adjust enable-stf.yaml for latest recommendations

Adjust the enable-stf.yaml to work with the latest recommendations for
use with Service Telemetry Framework. These changes provide the
appropriate parameters to result in telemetry data being sent to STF in
a format that it expects for dashboarding and alerting purposes.

Recommend configuration of ceilometer and collectd collection agents
plus data transport configuration with existing environment files in
order to avoid duplicating the resource registry for service enablement.
By separating the data collectors and data transports from the
configuration more flexibility for different architectures is possible.

Configuration options that have existing defaults defined in other
locations have also been removed in order to keep things cleaner.

Change-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/799480/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml']",2,2d407a8f5db54bde9f14df9ff82547122753ddce,change-795608-6-stable/wallaby,"# Enable data collection that is compatible with the STF data model. # Enablement of the collectors and transport are done with separate enviroment files. # Recommended: # - environments/metrics/ceilometer-qdr-write.yaml # - environments/metrics/collectd-qdr-write.yaml # - environments/metrics/qdr-edge-only.yaml # only send to STF, not other publishers EventPipelinePublishers: [] PipelinePublishers: [] # manage the polling and pipeline configuration files for Ceilometer agents ManagePolling: true ManagePipeline: true # required to set valid parameter due to typo in ceilometer-write-qdr.yaml CeilometerQdrPublishMetrics: true # enable collection of API status CollectdEnableSensubility: true CollectdSensubilityTransport: amqp1 CollectdSensubilityResultsChannel: sensubility/metrics # enable collection of containerized service metrics CollectdEnableLibpodstats: true # set collectd overrides for higher telemetry resolution and extra plugins # to load CollectdConnectionType: amqp1 CollectdAmqpInterval: 5 CollectdDefaultPollingInterval: 5 CollectdAmqpSendQueueLimit: 50 CollectdExtraPlugins: - vmem ExtraConfig: ceilometer::agent::polling::polling_interval: 30 ceilometer::agent::polling::polling_meters: - cpu - disk.* - ip.* - image.* - memory - memory.* - network.* - perf.* - port - port.* - switch - switch.* - storage.* - volume.* # receive extra information about virtual memory collectd::plugin::vmem::verbose: true # provide name and uuid in addition to hostname for better correlation # to ceilometer data collectd::plugin::virt::hostname_format: ""name uuid hostname"" # provide the human-friendly name of the virtual instance collectd::plugin::virt::plugin_instance_format: metadata # set memcached collectd plugin to report its metrics by hostname # rather than host IP, ensuring metrics in the dashboard remain uniform collectd::plugin::memcached::instances: local: host: ""%{hiera('fqdn_canonical')}"" port: 11211 ",# This heat environment can be used to enable STF client side resource_registry: OS::TripleO::Services::Collectd: ../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../deployment/metrics/qdr-container-puppet.yaml OS::TripleO::Services::Redis: ../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::CeilometerAgentCentral: ../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml NotificationDriver: 'messagingv2' CeilometerQdrPublishEvents: true CeilometerQdrPublishMetrics: true EnableSTF: true CollectdConnectionType: amqp1 CollectdAmqpInterval: 5 CollectdDefaultPollingInterval: 5 CollectdAmqpSendQueueLimit: 40 CollectdAmqpInstances: notify: notify: true format: JSON presettle: false telemetry: format: JSON presettle: false MetricsQdrAddresses: - prefix: collectd distribution: multicast MetricsQdrSSLProfiles: - name: sslProfile,88,29
openstack%2Ftripleo-ansible~stable%2Fvictoria~I62cadfd95c514edf0b982fa652a53feadb24f2b7,openstack/tripleo-ansible,stable/victoria,I62cadfd95c514edf0b982fa652a53feadb24f2b7,Add playbook to perform UC DB backup only.,MERGED,2021-07-05 11:31:39.000000000,2021-07-06 19:36:14.000000000,2021-07-06 19:36:14.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 11:31:39.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a51dfcdb03084ae2d3ea3e654f6466097ed177bc', 'message': ""Add playbook to perform UC DB backup only.\n\nCurrently, the openstack undercloud backup command allows us setting\nup rear, nfs and run the Undercloud's backup. However, it might be\nuseful to just perform a DB backup instead of a full backup of the\nUndercloud.\n\nThis patch adds a new playbook cli-undercloud-db-backup.yaml which\ninvokes only the db_backup.yml play from the backup_and_restore\nrole. This will perform only the MariaDB database backup for the\nUndercloud node. As the file name was hardcoded in the play, this\npatch also parametrizes it so that it will be possible to run\nthe command multiple times without override an existing backup.\n\nRelated: rhbz#1977392\nChange-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)\n(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)\n""}]",0,799374,a51dfcdb03084ae2d3ea3e654f6466097ed177bc,7,7,1,26343,,,0,"Add playbook to perform UC DB backup only.

Currently, the openstack undercloud backup command allows us setting
up rear, nfs and run the Undercloud's backup. However, it might be
useful to just perform a DB backup instead of a full backup of the
Undercloud.

This patch adds a new playbook cli-undercloud-db-backup.yaml which
invokes only the db_backup.yml play from the backup_and_restore
role. This will perform only the MariaDB database backup for the
Undercloud node. As the file name was hardcoded in the play, this
patch also parametrizes it so that it will be possible to run
the command multiple times without override an existing backup.

Related: rhbz#1977392
Change-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)
(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/799374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml']",3,a51dfcdb03084ae2d3ea3e654f6466097ed177bc,,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Undercloud DB backup. hosts: Undercloud remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true tasks: - name: Create DB Backup for the undercloud vars: tripleo_backup_and_restore_service_manager: false tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" include_role: name: backup_and_restore tasks_from: db_backup.yml ",,36,2
openstack%2Fos-vif~master~Icda02ec4b5be18c3646af7988f210baf4ceb0890,openstack/os-vif,master,Icda02ec4b5be18c3646af7988f210baf4ceb0890,update os-vif ci to account for devstack default changes,MERGED,2021-06-25 05:15:27.000000000,2021-07-06 18:54:18.000000000,2021-07-06 18:52:36.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 05:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e5cc05502b1b1d9133e8bc1d001e972542f93be9', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 2, 'created': '2021-06-25 05:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/3101f892691b46aa917bb01338c031e1eabc618d', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 3, 'created': '2021-06-25 05:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c898fa6c8aaec36877ebab77f8674f7d37b21c80', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 4, 'created': '2021-07-01 19:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/579585d4dd49d0cfb8548601b0eb51ef7c8d105f', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 5, 'created': '2021-07-01 20:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d9dabe12a45bdfabfd7e863dcb4d4e2b4ea00fd0', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 6, 'created': '2021-07-02 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/bdfb4804f47bee9a0665f17f7d335df974ed0021', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 7, 'created': '2021-07-02 10:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f60d8d0d601bd230071cc0867e1e663a737bf376', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}, {'number': 8, 'created': '2021-07-06 10:14:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b75af3ae1303cf449e881f14191bb10a3fdc373d', 'message': 'update os-vif ci to account for devstack default changes\n\nThis change restores the os-vif-ovs-iptables job to deploying\nwith ml2/ovs follow the devstack default change to ovn.\n\nThis change replaces the os-vif-ovs job with an os-vif-ovn jobs.\n\nThis change also simplifies teh os-vif-ovs-base job by disabling\nDVR since that does not change the behavior of os-vif.\n\nThis change reduces the job time out to 7800 and moves it\nto os-vif-tempest-base.\n\nCloses-Bug: #1933590\nChange-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890\n'}]",5,798038,b75af3ae1303cf449e881f14191bb10a3fdc373d,30,5,8,11604,,,0,"update os-vif ci to account for devstack default changes

This change restores the os-vif-ovs-iptables job to deploying
with ml2/ovs follow the devstack default change to ovn.

This change replaces the os-vif-ovs job with an os-vif-ovn jobs.

This change also simplifies teh os-vif-ovs-base job by disabling
DVR since that does not change the behavior of os-vif.

This change reduces the job time out to 7800 and moves it
to os-vif-tempest-base.

Closes-Bug: #1933590
Change-Id: Icda02ec4b5be18c3646af7988f210baf4ceb0890
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/38/798038/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5cc05502b1b1d9133e8bc1d001e972542f93be9,bug/1933590," timeout: 7800 tunnel_types: vxlan available_type_drivers: flat,vlan,vxlan devstack_localrc: Q_AGENT: openvswitch Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch ML2_L3_PLUGIN: router name: os-vif-ovn parent: os-vif-tempest-base os-vif ovn job (tests hybrid-plug=false) os-vif ovs iptables job (tests hybrid-plug=true) vars: tunnel_types: vxlan - os-vif-ovn - os-vif-ovn"," timeout: 7800 enable_distributed_routing: true l2_population: true tunnel_types: vxlan,gre available_type_drivers: flat,vlan,gre,local,vxlan name: os-vif-ovs parent: os-vif-ovs-base os-vif ovs job with ovs firewall driver vars: devstack_local_conf: post-config: # NOTE(sean-k-mooney): i do not believe that the devstack role # will merge the base /$NEUTRON_CORE_PLUGIN_CONF with the parent # job so we redefine the entire section ""/$NEUTRON_CORE_PLUGIN_CONF"": ml2_type_vlan: network_vlan_ranges: foo:1:10 agent: enable_distributed_routing: true l2_population: true tunnel_types: vxlan,gre securitygroup: firewall_driver: openvswitch os-vif iptables job derived from neutron-tempest-iptables_hybrid vars: tox_envlist: full enable_distributed_routing: true l2_population: true tunnel_types: vxlan,gre timeout: 10800 - os-vif-ovs - os-vif-ovs",14,31
openstack%2Fpython-openstackclient~master~Ic58e9f63fa95f42c94a794245f2fa2092ee01783,openstack/python-openstackclient,master,Ic58e9f63fa95f42c94a794245f2fa2092ee01783,Remove Glance v1,ABANDONED,2021-05-31 19:19:57.000000000,2021-07-06 18:50:58.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-31 19:19:57.000000000', 'files': ['openstackclient/compute/v2/server_image.py', 'openstackclient/compute/v2/server_backup.py', 'openstackclient/image/v1/__init__.py', 'openstackclient/tests/unit/image/v1/__init__.py', 'doc/source/cli/command-objects/image-v1.rst', 'openstackclient/image/v1/image.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v1/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2fbfe3744560fab85a965149695f4d225489ffcd', 'message': 'Remove Glance v1\n\nGlance v1 has been removed in Rocky and can therefore no longer be used.\n\nChange-Id: Ic58e9f63fa95f42c94a794245f2fa2092ee01783\n'}]",0,793842,2fbfe3744560fab85a965149695f4d225489ffcd,5,3,1,8122,,,0,"Remove Glance v1

Glance v1 has been removed in Rocky and can therefore no longer be used.

Change-Id: Ic58e9f63fa95f42c94a794245f2fa2092ee01783
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/793842/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_image.py', 'openstackclient/compute/v2/server_backup.py', 'openstackclient/image/v1/__init__.py', 'doc/source/cli/command-objects/image-v1.rst', 'openstackclient/tests/unit/image/v1/__init__.py', 'openstackclient/image/v1/image.py', 'openstackclient/tests/unit/image/v1/fakes.py', 'openstackclient/tests/unit/image/v1/test_image.py', 'setup.cfg', 'openstackclient/tests/unit/volume/v1/test_volume.py']",10,2fbfe3744560fab85a965149695f4d225489ffcd,remove-glance-v1,from openstackclient.tests.unit.image.v2 import fakes as image_fakes,from openstackclient.tests.unit.image.v1 import fakes as image_fakes,1,1632
openstack%2Fproject-config~master~I597c1a577c53e2db61413d9ec531378667691d2a,openstack/project-config,master,I597c1a577c53e2db61413d9ec531378667691d2a,Drop use of track-upstream,MERGED,2021-07-01 22:47:16.000000000,2021-07-06 18:46:21.000000000,2021-07-06 18:41:33.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 22:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/33f33b5fd1497219bb13c808a959d3d1cb2de308', 'message': ""Drop use of track-upstream\n\nWhen upgrading from Gerrit 2.13 to 3.2 we stopped relying on a local\nfork of its source and have been building from (more recently\ncompletely unmolested) upstream source. This fork was the only place\nwe were relying on jeepyb's track-upstream feature, so we can stop\nlooking for it in our checks and normalization as well.\n\nChange-Id: I597c1a577c53e2db61413d9ec531378667691d2a\n""}, {'number': 2, 'created': '2021-07-01 23:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8226436c9cbd5eb9015ceb181c99e85a264e9418', 'message': ""Drop use of track-upstream\n\nWhen upgrading from Gerrit 2.13 to 3.2 we stopped relying on a local\nfork of its source and have been building from (more recently\ncompletely unmolested) upstream source. This fork was the only place\nwe were relying on jeepyb's track-upstream feature, so we can stop\nlooking for it in our checks and normalization as well.\n\nRemove the check_gerrit_projects_changed scripts as well, as they\nonly existed to run things where track-upstream was enabled.\n\nChange-Id: I597c1a577c53e2db61413d9ec531378667691d2a\n""}, {'number': 3, 'created': '2021-07-04 14:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4184807050f20dc9d49aa5258d94aaf79647de9', 'message': ""Drop use of track-upstream\n\nWhen upgrading from Gerrit 2.13 to 3.2 we stopped relying on a local\nfork of its source and have been building from (more recently\ncompletely unmolested) upstream source. This fork was the only place\nwe were relying on jeepyb's track-upstream feature, so we can stop\nlooking for it in our checks and normalization as well.\n\nRemove the check_gerrit_projects_changed scripts as well, as they\nonly existed to run things where track-upstream was enabled.\n\nChange-Id: I597c1a577c53e2db61413d9ec531378667691d2a\n""}, {'number': 4, 'created': '2021-07-06 16:45:30.000000000', 'files': ['gerrit/projects.yaml', 'tools/check_gerrit_projects_changed.sh', 'tox.ini', 'tools/normalize_projects_yaml.py', 'tools/check_gerrit_projects_changed.py', 'tools/check_valid_gerrit_projects.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef03e7fa36e0de5f89abf3bdea10fdd8eea151d6', 'message': ""Drop use of track-upstream\n\nWhen upgrading from Gerrit 2.13 to 3.2 we stopped relying on a local\nfork of its source and have been building from (more recently\ncompletely unmolested) upstream source. This fork was the only place\nwe were relying on jeepyb's track-upstream feature, so we can stop\nlooking for it in our checks and normalization as well.\n\nRemove the check_gerrit_projects_changed scripts as well, as they\nonly existed to run things where track-upstream was enabled.\n\nChange-Id: I597c1a577c53e2db61413d9ec531378667691d2a\n""}]",4,799123,ef03e7fa36e0de5f89abf3bdea10fdd8eea151d6,20,4,4,5263,,,0,"Drop use of track-upstream

When upgrading from Gerrit 2.13 to 3.2 we stopped relying on a local
fork of its source and have been building from (more recently
completely unmolested) upstream source. This fork was the only place
we were relying on jeepyb's track-upstream feature, so we can stop
looking for it in our checks and normalization as well.

Remove the check_gerrit_projects_changed scripts as well, as they
only existed to run things where track-upstream was enabled.

Change-Id: I597c1a577c53e2db61413d9ec531378667691d2a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/799123/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'tools/normalize_projects_yaml.py', 'tools/check_gerrit_projects_changed.py', 'tools/check_valid_gerrit_projects.py']",4,33f33b5fd1497219bb13c808a959d3d1cb2de308,gerrit-3.2," VALID_OPTIONS = ['delay-release', 'translate'] if upstream:"," VALID_OPTIONS = ['delay-release', 'track-upstream', 'translate'] if upstream and 'track-upstream' not in p.get('options', []):",3,10
openstack%2Fopenstack-ansible-rsyslog_server~master~Ide73e6669c7a2cfa256c2af3c0c18726f5be3f16,openstack/openstack-ansible-rsyslog_server,master,Ide73e6669c7a2cfa256c2af3c0c18726f5be3f16,Add integrated linters test,MERGED,2021-07-01 11:42:45.000000000,2021-07-06 18:39:30.000000000,2021-07-06 18:37:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-01 11:42:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/3e1c9a075ba479fa2f3b74e11eed30ae9e5915f3', 'message': 'Add integrated linters test\n\nChange-Id: Ide73e6669c7a2cfa256c2af3c0c18726f5be3f16\n'}]",0,799041,3e1c9a075ba479fa2f3b74e11eed30ae9e5915f3,10,3,1,28619,,,0,"Add integrated linters test

Change-Id: Ide73e6669c7a2cfa256c2af3c0c18726f5be3f16
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/41/799041/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3e1c9a075ba479fa2f3b74e11eed30ae9e5915f3,integrated_linters, - openstack-ansible-linters-jobs,,1,0
openstack%2Ftripleo-ansible~master~I2ce4f0068aac3b2ab4712e22c433b97fad208655,openstack/tripleo-ansible,master,I2ce4f0068aac3b2ab4712e22c433b97fad208655,Remove the ceph-ansible roles,MERGED,2021-06-24 15:20:49.000000000,2021-07-06 18:29:38.000000000,2021-07-06 18:29:38.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 15:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd2aa1c44806072142e50629dbcc55192cbe46a3', 'message': 'Remove the ceph-ansible roles\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-ansible tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655\n'}, {'number': 2, 'created': '2021-06-25 06:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b63d530584192bed2ae0e0d97f5b36e9efc90a29', 'message': 'Remove the ceph-ansible roles\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-ansible tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655\n'}, {'number': 3, 'created': '2021-06-25 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd35c72d0355d9a4bdd46fad94c8223d7778130c', 'message': 'Remove the ceph-ansible roles\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-ansible tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655\n'}, {'number': 4, 'created': '2021-06-25 16:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/090fbcf35f4439df0ebcd0adf07ad5e00e3a510b', 'message': 'Remove the ceph-ansible roles\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-ansible tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655\n'}, {'number': 5, 'created': '2021-07-04 20:27:28.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/get_ssh_private_key.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69dcd537472f370466076274c3363bf996a48d10', 'message': 'Remove the ceph-ansible roles\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-ansible tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655\n'}]",0,797959,69dcd537472f370466076274c3363bf996a48d10,28,7,5,25402,,,0,"Remove the ceph-ansible roles

ceph-ansible is not used anymore in master and both ceph
deployment and day2 ops are managed by the new cephadm tool.
This change aligns the tripleo-ansible tree to make sure
only cephadm is used to deploy Ceph (see [1]).

[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph

Change-Id: I2ce4f0068aac3b2ab4712e22c433b97fad208655
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/797959/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/molecule.yml']",22,bd2aa1c44806072142e50629dbcc55192cbe46a3,ceph_ansible_cleanup,,"--- driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 vars: ansible_user: root log: true env: ANSIBLE_STDOUT_CALLBACK: yaml scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra ",0,989
openstack%2Fmanila~master~I95e69593e0680dd4320b345307f2e3118981ed6c,openstack/manila,master,I95e69593e0680dd4320b345307f2e3118981ed6c,DNM: Test sqlalchemy 1.4,ABANDONED,2021-05-18 17:18:35.000000000,2021-07-06 18:28:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 17:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ec09755c98fb8791c97874af43486206d9dcf5fa', 'message': 'DNM: Test sqlalchemy 1.4\n\nChange-Id: I95e69593e0680dd4320b345307f2e3118981ed6c\nDepends-On: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\n'}, {'number': 2, 'created': '2021-05-20 17:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/55eaca6fe63dc3960c8c946dedb92f6d60acc343', 'message': 'DNM: Test sqlalchemy 1.4\n\nDepends-On: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049\nDepends-On: I0a3a89bd0741f6f91c39baaa68149551d8f4ce54\nDepends-On: I8aa196c171bbc224cec06f517ea22c4e91cbc06a\nChange-Id: I95e69593e0680dd4320b345307f2e3118981ed6c\n'}]",0,792019,55eaca6fe63dc3960c8c946dedb92f6d60acc343,16,1,2,16643,,,0,"DNM: Test sqlalchemy 1.4

Depends-On: I1b8df63bfbae5e69263b6a0c26688fdcfbb44049
Depends-On: I0a3a89bd0741f6f91c39baaa68149551d8f4ce54
Depends-On: I8aa196c171bbc224cec06f517ea22c4e91cbc06a
Change-Id: I95e69593e0680dd4320b345307f2e3118981ed6c
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/792019/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,ec09755c98fb8791c97874af43486206d9dcf5fa,sqlalchemy-1.4,,,0,0
openstack%2Fopenstack-manuals~master~Ibb75d54f812135a9db0fc843656b9aedf3903300,openstack/openstack-manuals,master,Ibb75d54f812135a9db0fc843656b9aedf3903300,Add OpenStack-Ansible to Wallaby deployment tools,MERGED,2021-07-05 15:10:06.000000000,2021-07-06 18:22:04.000000000,2021-07-06 08:44:28.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:10:06.000000000', 'files': ['www/project-data/wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/26f266dab56a9d9761560331fb58983e19371e54', 'message': ""Add OpenStack-Ansible to Wallaby deployment tools\n\nSince OpenStack-Ansible has trailing release model, it hasn't been\nmentioned among deployment tools for W release.\n\nNow, once project has released stable W version, it's time to add it\n\nChange-Id: Ibb75d54f812135a9db0fc843656b9aedf3903300\n""}]",0,799513,26f266dab56a9d9761560331fb58983e19371e54,10,2,1,28619,,,0,"Add OpenStack-Ansible to Wallaby deployment tools

Since OpenStack-Ansible has trailing release model, it hasn't been
mentioned among deployment tools for W release.

Now, once project has released stable W version, it's time to add it

Change-Id: Ibb75d54f812135a9db0fc843656b9aedf3903300
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/13/799513/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/wallaby.yaml'],1,26f266dab56a9d9761560331fb58983e19371e54,,- name: openstack-ansible type: deployment service: OpenStack-Ansible Deployment has_admin_guide: true has_user_guide: true has_deployment_guide: true,#- name: openstack-ansible # type: deployment # service: OpenStack-Ansible Deployment # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,6,6
openstack%2Fnova~master~Idbbc203c6ae65aee29f9463a4911bae2bb541f41,openstack/nova,master,Idbbc203c6ae65aee29f9463a4911bae2bb541f41,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-04 21:01:20.000000000,2021-07-06 18:18:18.000000000,2021-07-06 18:16:22.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 21:01:20.000000000', 'files': ['nova/policies/limits.py', 'nova/policies/networks.py', 'nova/policies/base.py', 'lower-constraints.txt', 'nova/policies/flavor_access.py', 'nova/policies/attach_interfaces.py', 'nova/policies/hosts.py', 'nova/policies/rescue.py', 'nova/policies/multinic.py', 'nova/policies/volumes.py', 'nova/policies/floating_ips.py', 'nova/policies/hypervisors.py', 'requirements.txt', 'nova/policies/server_password.py', 'nova/policies/services.py', 'nova/policies/baremetal_nodes.py', 'nova/policies/deferred_delete.py', 'nova/policies/security_groups.py', 'nova/policies/instance_actions.py', 'nova/policies/tenant_networks.py', 'nova/policies/instance_usage_audit_log.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dfda0c0482acf579452742860cec2bdd64ac616a', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Idbbc203c6ae65aee29f9463a4911bae2bb541f41\n'}]",3,799422,dfda0c0482acf579452742860cec2bdd64ac616a,22,4,1,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: Idbbc203c6ae65aee29f9463a4911bae2bb541f41
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/799422/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/limits.py', 'nova/policies/networks.py', 'nova/policies/base.py', 'lower-constraints.txt', 'nova/policies/flavor_access.py', 'nova/policies/attach_interfaces.py', 'nova/policies/hosts.py', 'nova/policies/rescue.py', 'nova/policies/multinic.py', 'nova/policies/volumes.py', 'nova/policies/floating_ips.py', 'nova/policies/hypervisors.py', 'requirements.txt', 'nova/policies/server_password.py', 'nova/policies/services.py', 'nova/policies/baremetal_nodes.py', 'nova/policies/deferred_delete.py', 'nova/policies/security_groups.py', 'nova/policies/instance_actions.py', 'nova/policies/tenant_networks.py', 'nova/policies/instance_usage_audit_log.py']",21,dfda0c0482acf579452742860cec2bdd64ac616a,fix-oslo-policy-warnings,"DEPRECATED_POLICY = policy.DeprecatedRule( 'os_compute_api:os-instance-usage-audit-log', base.RULE_ADMIN_API, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0' ) deprecated_rule=DEPRECATED_POLICY), deprecated_rule=DEPRECATED_POLICY),","DEPRECATED_POLICY = policy.DeprecatedRule( 'os_compute_api:os-instance-usage-audit-log', base.RULE_ADMIN_API, ) deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0'), deprecated_rule=DEPRECATED_POLICY, deprecated_reason=DEPRECATED_REASON, deprecated_since='21.0.0'),",216,312
openstack%2Fpython-manilaclient~stable%2Fqueens~I09bab5a3eaa28e6773afdfc2ac0b99295d725cc1,openstack/python-manilaclient,stable/queens,I09bab5a3eaa28e6773afdfc2ac0b99295d725cc1,Fix using column reports nothing for capabilities,MERGED,2020-10-12 13:22:25.000000000,2021-07-06 18:11:50.000000000,2021-07-06 18:10:31.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25456}, {'_account_id': 31213}, {'_account_id': 32531}]","[{'number': 1, 'created': '2020-10-12 13:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/db487699cab67e25b973f57c0a2592b9f8c9959c', 'message': 'Fix using column reports nothing for capabilities\n\n1. Fix manila pool-list --column reports nothing for\n   capabilities\n2. Format the result of manila pool-list --detail\n\nChange-Id: I09bab5a3eaa28e6773afdfc2ac0b99295d725cc1\nCloses-bug: #1717940\n(cherry picked from commit a94c76df1c6836811eb7fee6b93b4b4fbf518654)\n'}, {'number': 2, 'created': '2020-10-14 19:05:39.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/functional/client.py', 'releasenotes/notes/bug-1717940-dash-dash-column-reports-nothing-for-capabilities-db8c1234fae91af5.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8365b389100011bfbf5a430bc4953e6230b10c6b', 'message': 'Fix using column reports nothing for capabilities\n\n1. Fix manila pool-list --column reports nothing for\n   capabilities\n2. Format the result of manila pool-list --detail\n\nChange-Id: I09bab5a3eaa28e6773afdfc2ac0b99295d725cc1\nCloses-bug: #1717940\n(cherry picked from commit a94c76df1c6836811eb7fee6b93b4b4fbf518654)\n'}]",0,757559,8365b389100011bfbf5a430bc4953e6230b10c6b,15,6,2,9003,,,0,"Fix using column reports nothing for capabilities

1. Fix manila pool-list --column reports nothing for
   capabilities
2. Format the result of manila pool-list --detail

Change-Id: I09bab5a3eaa28e6773afdfc2ac0b99295d725cc1
Closes-bug: #1717940
(cherry picked from commit a94c76df1c6836811eb7fee6b93b4b4fbf518654)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/59/757559/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/functional/client.py', 'releasenotes/notes/bug-1717940-dash-dash-column-reports-nothing-for-capabilities-db8c1234fae91af5.yaml']",4,db487699cab67e25b973f57c0a2592b9f8c9959c,bug/1717940,"--- fixes: - Fix Manila pool-list --column reports nothing for capabilities, And also format the detail contents. ",,22,10
openstack%2Fopenstack-ansible-os_cinder~master~I29867734a0f1c9d8f09b839d7055f9875c1bbc7c,openstack/openstack-ansible-os_cinder,master,I29867734a0f1c9d8f09b839d7055f9875c1bbc7c,Changed minversion in tox to 3.18.0,MERGED,2021-06-29 09:31:05.000000000,2021-07-06 17:43:41.000000000,2021-07-06 17:42:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-06-29 09:31:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/212c215b41364a26264c361a9ca21dc46572917e', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I29867734a0f1c9d8f09b839d7055f9875c1bbc7c\n""}]",0,798621,212c215b41364a26264c361a9ca21dc46572917e,12,3,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I29867734a0f1c9d8f09b839d7055f9875c1bbc7c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/21/798621/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,212c215b41364a26264c361a9ca21dc46572917e,,minversion = 3.18.0allowlist_externals =,minversion = 3.1whitelist_externals =,2,2
openstack%2Fplacement~master~I38c91afdfd773af96db9b2254281c383023481e4,openstack/placement,master,I38c91afdfd773af96db9b2254281c383023481e4,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-04 18:41:44.000000000,2021-07-06 17:36:50.000000000,2021-07-06 17:35:41.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 18:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b005ddff23b8cbce650227874b1c41f570859a2b', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I38c91afdfd773af96db9b2254281c383023481e4\n'}, {'number': 2, 'created': '2021-07-04 23:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/244f7c52fee6141918d5b04e53c569e65ffbec10', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I38c91afdfd773af96db9b2254281c383023481e4\n'}, {'number': 3, 'created': '2021-07-05 16:28:01.000000000', 'files': ['requirements.txt', 'placement/policies/base.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/5a3bc370176d3c445899813dbbad896e68d6ee36', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I38c91afdfd773af96db9b2254281c383023481e4\n'}]",1,799418,5a3bc370176d3c445899813dbbad896e68d6ee36,12,4,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: I38c91afdfd773af96db9b2254281c383023481e4
",git fetch https://review.opendev.org/openstack/placement refs/changes/18/799418/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/policies/base.py'],1,b005ddff23b8cbce650227874b1c41f570859a2b,fix-oslo-policy-warnings," check_str='role:admin', deprecated_reason=_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=DEPRECATED_ADMIN_POLICY deprecated_rule=DEPRECATED_ADMIN_POLICY deprecated_rule=DEPRECATED_ADMIN_POLICY deprecated_rule=DEPRECATED_ADMIN_POLICY"," check_str='role:admin' deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY, deprecated_rule=DEPRECATED_ADMIN_POLICY, deprecated_reason=_DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY,",7,13
openstack%2Foctavia~stable%2Fvictoria~I15997acaf12258ec483286dad676efdea8963611,openstack/octavia,stable/victoria,I15997acaf12258ec483286dad676efdea8963611,Enable lo interface in the amphora-haproxy netns,MERGED,2021-07-01 07:03:45.000000000,2021-07-06 17:34:54.000000000,2021-07-06 17:33:16.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:03:45.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/74c0ff2a401195c6a1f3b784b954729a45ff98f6', 'message': 'Enable lo interface in the amphora-haproxy netns\n\nConfigure the lo interface in the amphora-haproxy namespace.\nIt fixes issues with the synchronization of haproxy peer/stick tables\nwhen updating a load balancer configuration.\n\nStory 2009005\nTask 42682\n\nChange-Id: I15997acaf12258ec483286dad676efdea8963611\n(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)\n(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)\n'}]",0,798986,74c0ff2a401195c6a1f3b784b954729a45ff98f6,8,3,1,29244,,,0,"Enable lo interface in the amphora-haproxy netns

Configure the lo interface in the amphora-haproxy namespace.
It fixes issues with the synchronization of haproxy peer/stick tables
when updating a load balancer configuration.

Story 2009005
Task 42682

Change-Id: I15997acaf12258ec483286dad676efdea8963611
(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)
(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/798986/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml']",3,74c0ff2a401195c6a1f3b784b954729a45ff98f6,,--- fixes: - | Fixed an issue with the ``lo`` interface in the ``amphora-haproxy`` network namespace. The ``lo`` interface was down and prevented haproxy to communicate with other haproxy processes (for persistent stick tables) on configuration change. It delayed old haproxy worker cleanup and increased the memory consumption usage after reloading the configuration. ,,13,1
openstack%2Foctavia~stable%2Fussuri~I15997acaf12258ec483286dad676efdea8963611,openstack/octavia,stable/ussuri,I15997acaf12258ec483286dad676efdea8963611,Enable lo interface in the amphora-haproxy netns,MERGED,2021-07-01 07:05:54.000000000,2021-07-06 17:34:52.000000000,2021-07-06 17:33:24.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:05:54.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e84d9478765e2dac740b5d9a9cb7cb48f4e1936a', 'message': 'Enable lo interface in the amphora-haproxy netns\n\nConfigure the lo interface in the amphora-haproxy namespace.\nIt fixes issues with the synchronization of haproxy peer/stick tables\nwhen updating a load balancer configuration.\n\nStory 2009005\nTask 42682\n\nChange-Id: I15997acaf12258ec483286dad676efdea8963611\n(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)\n(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)\n(cherry picked from commit 74c0ff2a401195c6a1f3b784b954729a45ff98f6)\n'}]",0,798988,e84d9478765e2dac740b5d9a9cb7cb48f4e1936a,8,3,1,29244,,,0,"Enable lo interface in the amphora-haproxy netns

Configure the lo interface in the amphora-haproxy namespace.
It fixes issues with the synchronization of haproxy peer/stick tables
when updating a load balancer configuration.

Story 2009005
Task 42682

Change-Id: I15997acaf12258ec483286dad676efdea8963611
(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)
(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)
(cherry picked from commit 74c0ff2a401195c6a1f3b784b954729a45ff98f6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/798988/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml']",3,e84d9478765e2dac740b5d9a9cb7cb48f4e1936a,,--- fixes: - | Fixed an issue with the ``lo`` interface in the ``amphora-haproxy`` network namespace. The ``lo`` interface was down and prevented haproxy to communicate with other haproxy processes (for persistent stick tables) on configuration change. It delayed old haproxy worker cleanup and increased the memory consumption usage after reloading the configuration. ,,13,1
openstack%2Foctavia~stable%2Ftrain~I15997acaf12258ec483286dad676efdea8963611,openstack/octavia,stable/train,I15997acaf12258ec483286dad676efdea8963611,Enable lo interface in the amphora-haproxy netns,MERGED,2021-07-01 07:06:50.000000000,2021-07-06 17:34:50.000000000,2021-07-06 17:33:32.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:06:50.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b1cc4467a916fea026454a7c3635a3681ab34253', 'message': 'Enable lo interface in the amphora-haproxy netns\n\nConfigure the lo interface in the amphora-haproxy namespace.\nIt fixes issues with the synchronization of haproxy peer/stick tables\nwhen updating a load balancer configuration.\n\nStory 2009005\nTask 42682\n\nChange-Id: I15997acaf12258ec483286dad676efdea8963611\n(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)\n(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)\n(cherry picked from commit 74c0ff2a401195c6a1f3b784b954729a45ff98f6)\n(cherry picked from commit e84d9478765e2dac740b5d9a9cb7cb48f4e1936a)\n'}]",0,798989,b1cc4467a916fea026454a7c3635a3681ab34253,8,3,1,29244,,,0,"Enable lo interface in the amphora-haproxy netns

Configure the lo interface in the amphora-haproxy namespace.
It fixes issues with the synchronization of haproxy peer/stick tables
when updating a load balancer configuration.

Story 2009005
Task 42682

Change-Id: I15997acaf12258ec483286dad676efdea8963611
(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)
(cherry picked from commit 9ba1182579b379721b351968c20e8b6d9243e2d0)
(cherry picked from commit 74c0ff2a401195c6a1f3b784b954729a45ff98f6)
(cherry picked from commit e84d9478765e2dac740b5d9a9cb7cb48f4e1936a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/89/798989/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml']",3,b1cc4467a916fea026454a7c3635a3681ab34253,,--- fixes: - | Fixed an issue with the ``lo`` interface in the ``amphora-haproxy`` network namespace. The ``lo`` interface was down and prevented haproxy to communicate with other haproxy processes (for persistent stick tables) on configuration change. It delayed old haproxy worker cleanup and increased the memory consumption usage after reloading the configuration. ,,13,1
openstack%2Fopenstack-ansible-apt_package_pinning~master~I3988429bbca72f849fc23be753e2a7e718463e71,openstack/openstack-ansible-apt_package_pinning,master,I3988429bbca72f849fc23be753e2a7e718463e71,Add integrated linters test,MERGED,2021-07-01 11:27:23.000000000,2021-07-06 17:29:02.000000000,2021-07-06 17:27:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-01 11:27:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/dda14d52f21f1dfddf796d3f657827f2a962a763', 'message': 'Add integrated linters test\n\nChange-Id: I3988429bbca72f849fc23be753e2a7e718463e71\n'}]",0,799039,dda14d52f21f1dfddf796d3f657827f2a962a763,10,3,1,28619,,,0,"Add integrated linters test

Change-Id: I3988429bbca72f849fc23be753e2a7e718463e71
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/39/799039/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,dda14d52f21f1dfddf796d3f657827f2a962a763,integrated_linters, - openstack-ansible-linters-jobs,,1,0
openstack%2Fironic~master~Id5a949e777e242d2f20966ec045ac319c61636ba,openstack/ironic,master,Id5a949e777e242d2f20966ec045ac319c61636ba,Add support for configdrive in anaconda interface,MERGED,2021-03-13 02:04:31.000000000,2021-07-06 17:22:58.000000000,2021-07-06 17:21:05.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-13 02:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f271f45e9c7c2dde0affb7eaff27ad9cdbd75fe4', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 2, 'created': '2021-03-19 00:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd4aad8783c802fee29ac3a97c3cf38b20b3f25b', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 3, 'created': '2021-03-19 05:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99f1b6a8936297773b08e5ccdf1bce03fd2b0b24', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 4, 'created': '2021-03-19 16:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c74257f0b8684bc760e9c897e67d7fe5359630a4', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 5, 'created': '2021-03-20 01:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f367f34e4c541b9266fc33d3a6773efb2686a5b6', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 6, 'created': '2021-03-22 18:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ba310ff17959ddbd8f98ee0b60ed89a430c1214', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 7, 'created': '2021-03-24 04:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f725eb7ee90bb319c950d1e0b39e1a9d1db8efe3', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 8, 'created': '2021-03-24 04:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3eebd4c9efb531663fa05dfae403097b042cd1c', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 9, 'created': '2021-03-29 09:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15696cf5ffce692497e2fcf0532a0a16ad77ac10', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 10, 'created': '2021-03-29 23:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/034697905e4cfff0f6f3da0926c6d5df7e517a10', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 11, 'created': '2021-03-30 06:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42e0fced0ab4e16ec6efc515ce8165e71d68b364', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 12, 'created': '2021-03-30 19:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b85ad52c78511fa093334e9edba387098503ab5f', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 13, 'created': '2021-03-30 23:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/003dec48a695debcf9d5036d4ad4d6dbbab9a570', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 14, 'created': '2021-04-02 19:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/660a9aa3bbd6532c533b11747a54620b59f8c5fc', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 15, 'created': '2021-04-02 19:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26bca891f4d9bc9a0aa40d26ed541a947edb5fb5', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 16, 'created': '2021-04-06 01:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0e95b502f8c5a6955e0a3500d9f9a8678f140c6', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is a base64 encoded iso file which is\ngzipped. pycdlib is used to parse the iso file and extract\ncontents of the config drive. Once extracted the config\ndrive contents are written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/780397\n'}, {'number': 17, 'created': '2021-06-25 03:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40190995a810091268b929b7f8813c095b1b8686', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\n'}, {'number': 18, 'created': '2021-06-28 18:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f0c4ebe7f60cfc4efdabc82e9bc910ffdfb359e', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\n'}, {'number': 19, 'created': '2021-07-02 23:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5f066abd8538a564e06f576a7c20b15764ec5bb', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\n'}, {'number': 20, 'created': '2021-07-03 18:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85ba0b110489c691a6cf3ff76fc53529a8ec183a', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\n'}, {'number': 21, 'created': '2021-07-04 17:36:26.000000000', 'files': ['requirements.txt', 'ironic/common/kickstart_utils.py', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_kickstart_utils.py', 'releasenotes/notes/configdrive-support-in-anaconda-deploy-f2aad59b4ff809ec.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ac8340fb613de77484de0e8cf3bc687c6b644c4', 'message': 'Add support for configdrive in anaconda interface\n\nConfig drive is processed by the deploy interface and\nwritten to the disk during post install of the deployment.\n\nThe config drive is written to /var/lib/cloud/seed/config_drive\non the disk. cloud-init should be able to process read config\ndrive contents and take actions on firstboot.\n\nChange-Id: Id5a949e777e242d2f20966ec045ac319c61636ba\n'}]",16,780398,4ac8340fb613de77484de0e8cf3bc687c6b644c4,120,5,21,12640,,,0,"Add support for configdrive in anaconda interface

Config drive is processed by the deploy interface and
written to the disk during post install of the deployment.

The config drive is written to /var/lib/cloud/seed/config_drive
on the disk. cloud-init should be able to process read config
drive contents and take actions on firstboot.

Change-Id: Id5a949e777e242d2f20966ec045ac319c61636ba
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/780398/20 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",3,f271f45e9c7c2dde0affb7eaff27ad9cdbd75fe4,anaconda-deploy-driver,"import base64 from contextlib import contextmanagerimport shutil @contextmanager def tempdir(self): tmpdir = tempfile.mkdtemp() try: yield tmpdir finally: try: shutil.rmtree(tmpdir) except OSError: pass def get_a_config_drive(self): return ('H4sICDw0S2AC/3RtcGhYdnFvdADt3X1vFMcdAOBZkwbTIquiL6oiJ9kkkJBKN' 'mcTkTiVKl3Oa3uTe9PdOYK/0AmOvNqO4IJatZWav5pK/UztV8kXiPoR2tm98x' 's+fCQQMPA8i71zs7Mz4/VJvx0vMxcCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAJDUViuVpSTU8+bm1fT+buxs3/rsk4Xl+x3fre8/h3bHtBv/FV9h' 'dja8P8p6/9f7h39bfHs9zI9ezYfZYjcb/nzqbDI//93M7vnpE7bTH36a7nw12' 'L4z7N/4Ih0O+lvp82Q9a+bdVt6ormdpTKQrV65ULm2sddO1vJ51r3V7WSOtdb' 'Jqr9VJL9beTpdWVi6n2eK11mZzfbVaz3Yz311YrlSupB8utrNqp9tqXvpwsVv' 'byOvxXblelikOF2XeTWurnY/yXtrLqo3H/uMuV5aXKpeXlitLy+8tv1epfHck' 'o3KPcKTEk3/T8mQJOpwYM+P4H+ohD82wGa6GdOJ2I+yE7XArfBY+CQth+cjxe' '+L/hUvZA8f/5iir+bv9wy+N4v+42vR+8f8+fX18207oh2H4tEx9FQbxCt2Jr/' 'vxan0R84Yxpx+2nngvf7ptPWTx15eHbmjF741QLXPScU4aVsKVuFXC9bAR1mJ' 'eGr/n8b2WxfS1+NWLqUbMrYVOTFXj61ZMpeFizHk77pdiDSvhckxlYTGe0Yrv' '0GZsYzWWrZctTd8eXSHxH/GfZ8j/duM/AAAA8MxKymfsxfj/THi5TO09zg6nw' '6sxZybc2NkeDraH4cXwSvn6y/5wcGfo2gEAAMDTM/4Pxf+vT4rxf/RySA6O/6' 'NXw8z++D96JcwY/wMAAMDTNv5Px38FOBdeG6WOzGSbC2+E4rn/eA7gsDw6PBt' 'eH+V+Wc6BG5TlAQAAgBM5/g/F2idJMf6PXismABwd/0dvFBMBDo//Q7FEz4zx' 'PwAAAJx0305dY7/bPp38+7+h0/lZ8k376vlkq1qUq26dGp136t4ae2svJXPjS' 'g7vatl8cn5U6Pxu6e/Hu1vT+pE8gg6Ev5ZrHIRinsPEVs7sTX4oWvtnszF3YD' '2Eg22/MKrmhR/QNgCcHLemRMTkaOD/EbHv8UT3P5XrFYVizuLEVk6PJzKOY/v' 'ZZHdlo4PtzoyqmPkB7d4t10UKxdzIie2+OJ4wOW73F8l4BaWHbBYAHiL+Hx+7' 'JsT/HxGqpt5lJI/iLuPbcGFU5sJuF/dDZdHKL7cGw/71m/1hf/HzOzvbf1jaj' 'ci/SkJxaGHvUNGR898UVXxzfvzZCMmDd+Tv4c1RkTfnRvu5w/04+/Wdwe1RP/' 'b7MJeEveyHaz78K7w1KvPW5Otw7u5g++bO7UlX4jdJuPfgQ3YGgBMa/48fMz9' 'N8X8YLo7KXJwd7WcPx73TxSeyxZA7jnVnklBkiG8APH+mf8bu1BLJO+XKAaGY' 'PTCxxLkJH44LADzJ+H987H6Q+F8p1wcKxRzBiSXmDk8cDIvlykFl4xPLnzWlE' 'AB+4vh/fCxOpt8hJH+c8tx9PmzFWF6M/BfCzTKy9+M9wOcxuhd3Be9MeVp+Ln' 'wdSw7C7XB97+wPpjzhTsPd8l7jZmzh4Hn7rQLA8x3/jx+7P0j8//2U5+6zoTL' 'eAICTIOt8n/y894+k08nb15dWVpaqvY0s7bRqH6WdfHU9S/NmL+vUNqrNmG53' 'Wr1WrVUvEh/nq1k37W62261OL11rddJ2q5tfTdfyepZ2r3V7WSPtZo1qs5fXu' 'u16Vu1maa3V7FVrvXQ179bS9uYH9by7kXXKk7vtrJav5bVqL281025rs1PLFt' 'NYQ3agYGwyVreWF8lm7ETeqHaupR+36puNLI3dqcUfotcaVbjbVt6MrxpltYt' '+3QBQ+svfXAMAeN4U69CkexPPXQ8AMP4HAJ5F24PhgpE/AAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA' 'AAAAAAAAAAAAAAAAAn3f8BeXAIEgD4BQA=') def _get_expected_ks_config_drive(self, config_drive_dict): config_drive_ks_template = """"""\ \n%post\nDIRPATH=`/usr/bin/dirname {file_path}`\n\ /bin/mkdir -p $DIRPATH\n\ CONTENT='{content}'\n\ echo $CONTENT | /usr/bin/base64 --decode > {file_path}\n\ %end\n\n"""""" target_path = '/var/lib/cloud/seed/config_drive' config_drive_ks = '' for key in sorted(config_drive_dict.keys()): config_drive_ks += config_drive_ks_template.format( file_path=os.path.join(target_path, key), content=base64.b64encode(str.encode(config_drive_dict[key])) ) return config_drive_ks def test_pxe_config_drive(self): config_drive_dict = \ {""openstack/content/0000"": ""net-data"", ""openstack/latest/meta-data.json"": ""{}"", ""openstack/latest/user_data"": ""test user_data"", ""openstack/latest/vendor_data.json"": ""{}""} config_drive = self.get_a_config_drive() expected = self._get_expected_ks_config_drive(config_drive_dict) with task_manager.acquire(self.context, self.node.uuid) as task: i_info = task.node.instance_info i_info['configdrive'] = config_drive task.node.instance_info = i_info task.node.save() self.assertEqual(expected, pxe_utils.prepare_config_drive(task)) ",,204,0
openstack%2Fopenstack-helm~master~I266d0c94959971d259742958802ffce25448eaa7,openstack/openstack-helm,master,I266d0c94959971d259742958802ffce25448eaa7,nova: Add image clean up to rally test,MERGED,2021-07-02 19:37:53.000000000,2021-07-06 17:17:46.000000000,2021-07-06 17:16:27.000000000,"[{'_account_id': 18213}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}, {'_account_id': 33282}]","[{'number': 1, 'created': '2021-07-02 19:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bc0ad8023b51dd9c6c81dfebffc6a9047b44a85', 'message': 'nova: Add image clean up to rally test\n\nClean any images created by rally after the test is complete.\n\nChange-Id: I266d0c94959971d259742958802ffce25448eaa7\n'}, {'number': 2, 'created': '2021-07-02 20:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3d8a2f946aa80da726111f81c783b23603819eaa', 'message': 'nova: Add image clean up to rally test\n\nClean any images created by rally after the test is complete.\n\nChange-Id: I266d0c94959971d259742958802ffce25448eaa7\n'}, {'number': 3, 'created': '2021-07-06 12:20:29.000000000', 'files': ['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d3cd164abd04c0528f2ee45a265f89515c4f9fa', 'message': 'nova: Add image clean up to rally test\n\nClean any images created by rally after the test is complete.\n\nChange-Id: I266d0c94959971d259742958802ffce25448eaa7\n'}]",0,799324,7d3cd164abd04c0528f2ee45a265f89515c4f9fa,16,7,3,24780,,,0,"nova: Add image clean up to rally test

Clean any images created by rally after the test is complete.

Change-Id: I266d0c94959971d259742958802ffce25448eaa7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/799324/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,7bc0ad8023b51dd9c6c81dfebffc6a9047b44a85,," IMAGES=$(openstack image list -f value | awk '$2 ~ /^c_rally_/ { print $1 }') if [ -n ""$IMAGES"" ]; then echo $IMAGES | xargs openstack image delete fi",,4,0
openstack%2Fneutron~stable%2Fvictoria~I7ee797b4b930306cf6360922d855f8b24f1b813d,openstack/neutron,stable/victoria,I7ee797b4b930306cf6360922d855f8b24f1b813d,Update arp entry of snat port on qrouter ns,MERGED,2021-07-05 11:32:26.000000000,2021-07-06 17:16:00.000000000,2021-07-06 17:11:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 11:32:26.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a43eb4563e787ea43e15cb49968818059a34c2b', 'message': 'Update arp entry of snat port on qrouter ns\n\nIn some cases, the arp entry of snat port is not updated\nin qrouter namespace. l3-agent calls get_ports_by_subnet()\nwhile setting arps for the subnet. And the snat port is\nnot returned if it is still unbound. One of the scenario\nthis is observed is when router is created, external\ngateway set and internal subnet attached to router in\nquick succession.\n\nThis patch retrieves snat port details from router info\nas well and updates arp entry for snat port.\n\nCloses-Bug: #1933092\nChange-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d\n(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)\n'}]",0,799476,8a43eb4563e787ea43e15cb49968818059a34c2b,9,3,1,10366,,,0,"Update arp entry of snat port on qrouter ns

In some cases, the arp entry of snat port is not updated
in qrouter namespace. l3-agent calls get_ports_by_subnet()
while setting arps for the subnet. And the snat port is
not returned if it is still unbound. One of the scenario
this is observed is when router is created, external
gateway set and internal subnet attached to router in
quick succession.

This patch retrieves snat port details from router info
as well and updates arp entry for snat port.

Closes-Bug: #1933092
Change-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d
(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/799476/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",3,8a43eb4563e787ea43e15cb49968818059a34c2b,bug/1933092-stable/victoria," ri.router['_snat_router_interfaces'] = [{ 'mac_address': 'fa:16:3e:80:8d:80', 'fixed_ips': [{'subnet_id': subnet_id, 'ip_address': '1.2.3.10'}]}] mock.call('10.20.30.40', '00:11:22:33:44:55'), mock.call('1.2.3.10', 'fa:16:3e:80:8d:80')])"," mock.call('10.20.30.40', '00:11:22:33:44:55')])",21,1
openstack%2Fglance~master~If12a013404296486dc387b099477d1608b24ba63,openstack/glance,master,If12a013404296486dc387b099477d1608b24ba63,"Revert ""Remove all usage of keystoneclient""",MERGED,2021-06-10 12:58:21.000000000,2021-07-06 17:14:43.000000000,2021-07-06 17:11:49.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 12:58:21.000000000', 'files': ['requirements.txt', 'glance/common/trust_auth.py', 'glance/common/auth.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9b683678b2a19bb1069aace58e054150a78b5f6f', 'message': 'Revert ""Remove all usage of keystoneclient""\n\nThis reverts commit 810417df865c7b4eb71cee4dfee843d65972852b.\n\nThe Swift driver not being able to use Trusts had nothing to do\nabout the store driver itself nor that keystoneauth1 would have\nbroken the feature, but rather it not having the functionality\nin the first place and us not catching that on reviews.\n\nWe should figure out how to test this before we try to replace\nthis code again.\n\nChange-Id: If12a013404296486dc387b099477d1608b24ba63\nCloses-Bug: #1916052\n'}]",0,795772,9b683678b2a19bb1069aace58e054150a78b5f6f,9,3,1,5202,,,0,"Revert ""Remove all usage of keystoneclient""

This reverts commit 810417df865c7b4eb71cee4dfee843d65972852b.

The Swift driver not being able to use Trusts had nothing to do
about the store driver itself nor that keystoneauth1 would have
broken the feature, but rather it not having the functionality
in the first place and us not catching that on reviews.

We should figure out how to test this before we try to replace
this code again.

Change-Id: If12a013404296486dc387b099477d1608b24ba63
Closes-Bug: #1916052
",git fetch https://review.opendev.org/openstack/glance refs/changes/72/795772/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'glance/common/trust_auth.py', 'glance/common/auth.py']",3,9b683678b2a19bb1069aace58e054150a78b5f6f,bug-1916052,"from keystoneclient import service_catalog as ks_service_catalog {'serviceCatalog': service_catalog} ).get_urls(service_type=service_type, region_name=endpoint_region, endpoint_type=endpoint_type) if endpoints is None:","from keystoneauth1.access import service_catalog as ks_service_catalog service_catalog).get_urls(interface=endpoint_type, service_type=service_type, region_name=endpoint_region) if len(endpoints) == 0:",18,15
openstack%2Fneutron~stable%2Fussuri~I7ee797b4b930306cf6360922d855f8b24f1b813d,openstack/neutron,stable/ussuri,I7ee797b4b930306cf6360922d855f8b24f1b813d,Update arp entry of snat port on qrouter ns,MERGED,2021-07-05 11:34:31.000000000,2021-07-06 17:14:26.000000000,2021-07-06 17:11:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 11:34:31.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1a9f4ed62fd2567cac174f80f87de53148ea7b9', 'message': 'Update arp entry of snat port on qrouter ns\n\nIn some cases, the arp entry of snat port is not updated\nin qrouter namespace. l3-agent calls get_ports_by_subnet()\nwhile setting arps for the subnet. And the snat port is\nnot returned if it is still unbound. One of the scenario\nthis is observed is when router is created, external\ngateway set and internal subnet attached to router in\nquick succession.\n\nThis patch retrieves snat port details from router info\nas well and updates arp entry for snat port.\n\nCloses-Bug: #1933092\nChange-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d\n(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)\n'}]",0,799478,f1a9f4ed62fd2567cac174f80f87de53148ea7b9,14,3,1,10366,,,0,"Update arp entry of snat port on qrouter ns

In some cases, the arp entry of snat port is not updated
in qrouter namespace. l3-agent calls get_ports_by_subnet()
while setting arps for the subnet. And the snat port is
not returned if it is still unbound. One of the scenario
this is observed is when router is created, external
gateway set and internal subnet attached to router in
quick succession.

This patch retrieves snat port details from router info
as well and updates arp entry for snat port.

Closes-Bug: #1933092
Change-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d
(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/799478/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",3,f1a9f4ed62fd2567cac174f80f87de53148ea7b9,bug/1933092-stable/ussuri," ri.router['_snat_router_interfaces'] = [{ 'mac_address': 'fa:16:3e:80:8d:80', 'fixed_ips': [{'subnet_id': subnet_id, 'ip_address': '1.2.3.10'}]}] mock.call('10.20.30.40', '00:11:22:33:44:55'), mock.call('1.2.3.10', 'fa:16:3e:80:8d:80')])"," mock.call('10.20.30.40', '00:11:22:33:44:55')])",21,1
openstack%2Fneutron~stable%2Fwallaby~I7ee797b4b930306cf6360922d855f8b24f1b813d,openstack/neutron,stable/wallaby,I7ee797b4b930306cf6360922d855f8b24f1b813d,Update arp entry of snat port on qrouter ns,MERGED,2021-07-05 11:31:52.000000000,2021-07-06 17:14:13.000000000,2021-07-06 17:10:24.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 11:31:52.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85a668dd1629d71f52ff20da3d848e2cbb397e43', 'message': 'Update arp entry of snat port on qrouter ns\n\nIn some cases, the arp entry of snat port is not updated\nin qrouter namespace. l3-agent calls get_ports_by_subnet()\nwhile setting arps for the subnet. And the snat port is\nnot returned if it is still unbound. One of the scenario\nthis is observed is when router is created, external\ngateway set and internal subnet attached to router in\nquick succession.\n\nThis patch retrieves snat port details from router info\nas well and updates arp entry for snat port.\n\nCloses-Bug: #1933092\nChange-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d\n(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)\n'}]",0,799375,85a668dd1629d71f52ff20da3d848e2cbb397e43,22,3,1,10366,,,0,"Update arp entry of snat port on qrouter ns

In some cases, the arp entry of snat port is not updated
in qrouter namespace. l3-agent calls get_ports_by_subnet()
while setting arps for the subnet. And the snat port is
not returned if it is still unbound. One of the scenario
this is observed is when router is created, external
gateway set and internal subnet attached to router in
quick succession.

This patch retrieves snat port details from router info
as well and updates arp entry for snat port.

Closes-Bug: #1933092
Change-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d
(cherry picked from commit be7d0bb6abc893e53dfc864c52506928b1d38fa3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/799375/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",3,85a668dd1629d71f52ff20da3d848e2cbb397e43,bug/1933092-stable/wallaby," ri.router['_snat_router_interfaces'] = [{ 'mac_address': 'fa:16:3e:80:8d:80', 'fixed_ips': [{'subnet_id': subnet_id, 'ip_address': '1.2.3.10'}]}] mock.call('10.20.30.40', '00:11:22:33:44:55'), mock.call('1.2.3.10', 'fa:16:3e:80:8d:80')])"," mock.call('10.20.30.40', '00:11:22:33:44:55')])",21,1
openstack%2Fneutron~stable%2Fvictoria~Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,openstack/neutron,stable/victoria,Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl,MERGED,2021-07-03 01:55:05.000000000,2021-07-06 17:14:10.000000000,2021-07-06 17:09:51.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 01:55:05.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/033b8e3769c906ee6d3b24a3030017d75781ee7c', 'message': '[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n\nAdd retry logic to retrieve OvsdbSb IDL object.\nAdd port fork event in MetadataProxyHandler to wait for the\nOvsdbSb IDL object.\n\nCloses-Bug: #1928031\nChange-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0\n(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)\n'}]",0,799357,033b8e3769c906ee6d3b24a3030017d75781ee7c,9,3,1,10366,,,0,"[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl

Add retry logic to retrieve OvsdbSb IDL object.
Add port fork event in MetadataProxyHandler to wait for the
OvsdbSb IDL object.

Closes-Bug: #1928031
Change-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0
(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/799357/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py']",3,033b8e3769c906ee6d3b24a3030017d75781ee7c,bug/1928031-stable/victoria, self.handler._post_fork_event.set(),,28,0
openstack%2Fneutron~stable%2Ftrain~I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,openstack/neutron,stable/train,I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8,Add extension unit tests for conntrack_helper plugin,MERGED,2021-02-09 05:33:41.000000000,2021-07-06 17:14:06.000000000,2021-07-06 17:11:23.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 05:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e1a944603204e234b8d3451b7a9442aa885bc39', 'message': 'Add extension unit tests for conntrack_helper plugin\n\nChange-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8\n(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)\n'}, {'number': 2, 'created': '2021-05-09 03:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb051f327c7068e2e60b88fa97504d695272d56c', 'message': 'Add extension unit tests for conntrack_helper plugin\n\nChange-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8\n(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)\n'}, {'number': 3, 'created': '2021-05-09 06:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c57f0d0ee4c8987c04754dec53527e1e2f417b87', 'message': 'Add extension unit tests for conntrack_helper plugin\n\nChange-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8\n(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)\n'}, {'number': 4, 'created': '2021-06-29 09:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b92be536b7acbf0a1fabf68ea923fdd8ff65e60a', 'message': 'Add extension unit tests for conntrack_helper plugin\n\nConflicts:\n    neutron/tests/unit/extensions/test_l3_conntrack_helper.py\n\nChange-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8\n(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)\n'}, {'number': 5, 'created': '2021-07-05 10:41:59.000000000', 'files': ['neutron/tests/unit/extensions/test_l3_conntrack_helper.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/569b5313287d827ff97f040fcf251c43b86b966b', 'message': 'Add extension unit tests for conntrack_helper plugin\n\nThe added new file make some changes to compatible with python2. So,\nit different with origin patch.\n\nChange-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8\n(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)\n'}]",3,774492,569b5313287d827ff97f040fcf251c43b86b966b,29,3,5,28329,,,0,"Add extension unit tests for conntrack_helper plugin

The added new file make some changes to compatible with python2. So,
it different with origin patch.

Change-Id: I2e89bcb183a75f39ba6aeeef6f1ea355fca59fc8
(cherry picked from commit cbfac6b7a849a5b7344c525d8fd070e48bdbe6b2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/774492/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_l3_conntrack_helper.py'],1,5e1a944603204e234b8d3451b7a9442aa885bc39,add-conntrack-helper-extension-unit-test-stable/train,"# Copyright 2021 Troila # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from webob import exc from neutron_lib.api.definitions import l3 as l3_apidef from neutron_lib.api.definitions import l3_conntrack_helper as l3_ct from neutron_lib import context from oslo_utils import uuidutils from neutron.extensions import l3 from neutron.extensions import l3_conntrack_helper from neutron.tests.unit.api import test_extensions from neutron.tests.unit.extensions import test_l3 _uuid = uuidutils.generate_uuid class TestL3ConntrackHelperServicePlugin(test_l3.TestL3NatServicePlugin): supported_extension_aliases = [l3_apidef.ALIAS, l3_ct.ALIAS] class ExtendL3ConntrackHelperExtensionManager(object): def get_resources(self): return (l3.L3.get_resources() + l3_conntrack_helper.L3_conntrack_helper.get_resources()) def get_actions(self): return [] def get_request_extensions(self): return [] class L3NConntrackHelperTestCase(test_l3.L3BaseForIntTests, test_l3.L3NatTestCaseMixin): tenant_id = _uuid() fmt = ""json"" def setUp(self): mock.patch('neutron.api.rpc.handlers.resources_rpc.' 'ResourcesPushRpcApi').start() svc_plugins = ('neutron.services.conntrack_helper.plugin.Plugin', 'neutron.tests.unit.extensions.' 'test_l3_conntrack_helper.' 'TestL3ConntrackHelperServicePlugin') plugin = ('neutron.tests.unit.extensions.test_l3.TestL3NatIntPlugin') ext_mgr = ExtendL3ConntrackHelperExtensionManager() super(L3NConntrackHelperTestCase, self).setUp( ext_mgr=ext_mgr, service_plugins=svc_plugins, plugin=plugin) self.ext_api = test_extensions.setup_extensions_middleware(ext_mgr) def _create_router_conntrack_helper(self, fmt, router_id, protocol, port, helper): tenant_id = self.tenant_id or _uuid() data = {'conntrack_helper': { ""protocol"": protocol, ""port"": port, ""helper"": helper} } router_ct_req = self._req( 'POST', 'routers', data, fmt or self.fmt, id=router_id, subresource='conntrack_helpers') router_ct_req.environ['neutron.context'] = context.Context( '', tenant_id, is_admin=True) return router_ct_req.get_response(self.ext_api) def _update_router_conntrack_helper(self, fmt, router_id, conntrack_helper_id, **kwargs): conntrack_helper = {} for k, v in kwargs.items(): conntrack_helper[k] = v data = {'conntrack_helper': conntrack_helper} router_ct_req = self._req( 'PUT', 'routers', data, fmt or self.fmt, id=router_id, sub_id=conntrack_helper_id, subresource='conntrack_helpers') return router_ct_req.get_response(self.ext_api) def test_create_ct_with_duplicate_entry(self): with self.router() as router: ct1 = self._create_router_conntrack_helper( self.fmt, router['router']['id'], ""udp"", 69, ""tftp"") self.assertEqual(exc.HTTPCreated.code, ct1.status_code) ct2 = self._create_router_conntrack_helper( self.fmt, router['router']['id'], ""udp"", 69, ""tftp"") self.assertEqual(exc.HTTPBadRequest.code, ct2.status_code) expect_msg = (""Bad conntrack_helper request: A duplicate "" ""conntrack helper entry with same attributes "" ""already exists, conflicting values are "" ""{'router_id': '%s', 'protocol': 'udp', "" ""'port': 69, 'helper': "" ""'tftp'}."") % router['router']['id'] self.assertEqual( expect_msg, ct2.json_body['NeutronError']['message']) def test_update_ct_with_duplicate_entry(self): with self.router() as router: ct1 = self._create_router_conntrack_helper( self.fmt, router['router']['id'], ""udp"", 69, ""tftp"") self.assertEqual(exc.HTTPCreated.code, ct1.status_code) ct2 = self._create_router_conntrack_helper( self.fmt, router['router']['id'], ""udp"", 68, ""tftp"") self.assertEqual(exc.HTTPCreated.code, ct2.status_code) result = self._update_router_conntrack_helper( self.fmt, router['router']['id'], ct1.json['conntrack_helper']['id'], **{'port': 68}) self.assertEqual(exc.HTTPBadRequest.code, result.status_code) expect_msg = (""Bad conntrack_helper request: A duplicate "" ""conntrack helper entry with same attributes "" ""already exists, conflicting values are "" ""{'router_id': '%s', 'protocol': 'udp', "" ""'port': 68, 'helper': "" ""'tftp'}."") % router['router']['id'] self.assertEqual( expect_msg, result.json_body['NeutronError']['message']) ",,141,0
openstack%2Fopenstacksdk~feature%2Fr1~Ibcfe5d6233c4f1728229f5f1107aada459f7434a,openstack/openstacksdk,feature/r1,Ibcfe5d6233c4f1728229f5f1107aada459f7434a,Add possibility to create subprojects in cloud layer,MERGED,2021-05-11 13:34:48.000000000,2021-07-06 17:14:01.000000000,2021-07-06 17:12:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-11 13:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e199f8ddf903c2235b8c1fbb9aa027600f2ea8c5', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 2, 'created': '2021-05-11 15:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e8a030471869feb07cf1cbc8a71c28df5021e9e7', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 3, 'created': '2021-05-11 16:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ac5874b1d6d2691cd3b9d89ea327ae8236c1a3c5', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 4, 'created': '2021-05-11 17:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/907421612828ffba0f256c1a6cd08dcb4e82034e', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 5, 'created': '2021-05-26 08:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/429c30e5fe2d7f8021c0e613a6376effe7be2354', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 6, 'created': '2021-05-26 08:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/62cfafa707e71010f71189dd1b47f2e5f79ed696', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}, {'number': 7, 'created': '2021-07-02 14:33:19.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_project.py', 'openstack/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/74fa9871a495d0c5103d37acc1ec3c00a12ece9e', 'message': 'Add possibility to create subprojects in cloud layer\n\nAdd previously missing support for managing sub-projects. Since this is\nnot really working in v2 we depend on dropping v2 support from cloud\nlayer.\n\nChange-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a\n'}]",0,790693,74fa9871a495d0c5103d37acc1ec3c00a12ece9e,21,2,7,27900,,,0,"Add possibility to create subprojects in cloud layer

Add previously missing support for managing sub-projects. Since this is
not really working in v2 we depend on dropping v2 support from cloud
layer.

Change-Id: Ibcfe5d6233c4f1728229f5f1107aada459f7434a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/790693/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_project.py', 'openstack/tests/unit/base.py']",3,e199f8ddf903c2235b8c1fbb9aa027600f2ea8c5,sdk_cloud_identity," 'parent_id, json_response, json_request') project_id=None, parent_id=None): if parent_id: parent_id = uuid.UUID(parent_id).hex if parent_id: request['parent_id'] = parent_id response['parent_id'] = parent_id return _ProjectData( project_id, project_name, enabled, domain_id, description, parent_id, {project_key: response}, {project_key: request})"," 'json_response, json_request') project_id=None): return _ProjectData(project_id, project_name, enabled, domain_id, description, {project_key: response}, {project_key: request})",21,10
openstack%2Foctavia~stable%2Fwallaby~I15997acaf12258ec483286dad676efdea8963611,openstack/octavia,stable/wallaby,I15997acaf12258ec483286dad676efdea8963611,Enable lo interface in the amphora-haproxy netns,MERGED,2021-07-01 07:02:10.000000000,2021-07-06 17:07:44.000000000,2021-07-06 17:06:23.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:02:10.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ba1182579b379721b351968c20e8b6d9243e2d0', 'message': 'Enable lo interface in the amphora-haproxy netns\n\nConfigure the lo interface in the amphora-haproxy namespace.\nIt fixes issues with the synchronization of haproxy peer/stick tables\nwhen updating a load balancer configuration.\n\nStory 2009005\nTask 42682\n\nChange-Id: I15997acaf12258ec483286dad676efdea8963611\n(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)\n'}]",0,798984,9ba1182579b379721b351968c20e8b6d9243e2d0,10,3,1,29244,,,0,"Enable lo interface in the amphora-haproxy netns

Configure the lo interface in the amphora-haproxy namespace.
It fixes issues with the synchronization of haproxy peer/stick tables
when updating a load balancer configuration.

Story 2009005
Task 42682

Change-Id: I15997acaf12258ec483286dad676efdea8963611
(cherry picked from commit 4443596e298df53b23b7d81d703479aff186ff4f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/798984/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/amphora-netns.systemd.j2', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'releasenotes/notes/fix-lo-interface-amphora-netns-90fb9934026e1485.yaml']",3,9ba1182579b379721b351968c20e8b6d9243e2d0,,--- fixes: - | Fixed an issue with the ``lo`` interface in the ``amphora-haproxy`` network namespace. The ``lo`` interface was down and prevented haproxy to communicate with other haproxy processes (for persistent stick tables) on configuration change. It delayed old haproxy worker cleanup and increased the memory consumption usage after reloading the configuration. ,,13,1
openstack%2Fneutron~stable%2Fwallaby~Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,openstack/neutron,stable/wallaby,Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl,MERGED,2021-07-03 01:54:34.000000000,2021-07-06 17:05:23.000000000,2021-07-06 17:03:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 01:54:34.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b5c141ec9c5b4edeb4bdb0b988edaa0d8635d0b', 'message': '[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n\nAdd retry logic to retrieve OvsdbSb IDL object.\nAdd port fork event in MetadataProxyHandler to wait for the\nOvsdbSb IDL object.\n\nCloses-Bug: #1928031\nChange-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0\n(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)\n'}]",0,799356,2b5c141ec9c5b4edeb4bdb0b988edaa0d8635d0b,10,3,1,10366,,,0,"[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl

Add retry logic to retrieve OvsdbSb IDL object.
Add port fork event in MetadataProxyHandler to wait for the
OvsdbSb IDL object.

Closes-Bug: #1928031
Change-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0
(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/799356/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py']",3,2b5c141ec9c5b4edeb4bdb0b988edaa0d8635d0b,bug/1928031-stable/wallaby, self.handler._post_fork_event.set(),,28,0
openstack%2Fpython-manilaclient~master~Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01,openstack/python-manilaclient,master,Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01,"Add ""--wait"" option for allowing/denying access to a snapshot",NEW,2021-03-15 15:15:41.000000000,2021-07-06 16:52:34.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 15:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a3221efb152b7e5d01bcfd4e54731def0f69a4fa', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}, {'number': 2, 'created': '2021-03-17 08:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/46ee8e1432bbcd2118529b78f35eebc9ba5a481c', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}, {'number': 3, 'created': '2021-03-22 06:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/aeeeb372549eda13cb7e2054e638544d18981e78', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}, {'number': 4, 'created': '2021-03-22 10:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7ca937bf35c44bbf7432ba711b909746e9345d95', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}, {'number': 5, 'created': '2021-03-23 06:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9fa8bb0678bf2b9a9c3d3046489219d405c711f9', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}, {'number': 6, 'created': '2021-03-24 13:55:16.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-898313-add-wait-option-for-allowing-denying-access-to-snapshot-ce1f3e438c641317.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b41f1ad89434af24434adcec50ebf29818f0a591', 'message': 'Add ""--wait"" option for allowing/denying access to a snapshot\n\nCloses-Bug: #1898313\nChange-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01\n'}]",22,780604,b41f1ad89434af24434adcec50ebf29818f0a591,23,2,6,32493,,,0,"Add ""--wait"" option for allowing/denying access to a snapshot

Closes-Bug: #1898313
Change-Id: Icb1a2a678eb527c978a1dfbb5aaaf283d15b7e01
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/04/780604/6 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py', 'releasenotes/notes/bug-898313-add-wait-option-for-allowing-denying-access-to-snapshot-ce1f3e438c641317.yaml']",3,a3221efb152b7e5d01bcfd4e54731def0f69a4fa,bug/1898313,"--- features: - | The commands ""manila access-allow snapshot"" and ""manila access-deny snapshot"" now accept an optional ""--wait"" that allows administrator users to let the client poll for the completion of the operation. ",,80,11
openstack%2Fnova-specs~master~I94b3559e00e22dd1cde5f35a766c15a5b0dce8a9,openstack/nova-specs,master,I94b3559e00e22dd1cde5f35a766c15a5b0dce8a9,"Repropose ""vm-boot-with-unaddressed-port"" spec",MERGED,2021-05-26 15:58:05.000000000,2021-07-06 16:40:42.000000000,2021-07-06 16:39:01.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 15:58:05.000000000', 'files': ['specs/xena/approved/vm-boot-with-unaddressed-port.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6126c7882dbf42f7db764288af0510101c3fc59d', 'message': 'Repropose ""vm-boot-with-unaddressed-port"" spec\n\nThis was initially proposed during the Train cycle but was never\ncompleted. As stated in the original change, currently nova only allows\nto boot a VM if all ports attached:\n\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nNova doesn\'t allow to spawn a VM with a port without an IP assigned,\nhowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, neutron permits to create a port, assigned to a network\nwith the corresponding sub-networks and IP pools, without an IP. This\nspec would allow nova to use these ports.\n\nChange-Id: I94b3559e00e22dd1cde5f35a766c15a5b0dce8a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",8,793199,6126c7882dbf42f7db764288af0510101c3fc59d,11,4,1,15334,,,0,"Repropose ""vm-boot-with-unaddressed-port"" spec

This was initially proposed during the Train cycle but was never
completed. As stated in the original change, currently nova only allows
to boot a VM if all ports attached:

- Have an IP assigned.
- The IP allocation is deferred.

Nova doesn't allow to spawn a VM with a port without an IP assigned,
however, some kind of applications (e.g.: routers) need a port which may
be receiving traffic for several addresses, already configured in other
devices.

At the moment, neutron permits to create a port, assigned to a network
with the corresponding sub-networks and IP pools, without an IP. This
spec would allow nova to use these ports.

Change-Id: I94b3559e00e22dd1cde5f35a766c15a5b0dce8a9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/99/793199/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/vm-boot-with-unaddressed-port.rst'],1,6126c7882dbf42f7db764288af0510101c3fc59d,bp/vm-boot-with-unaddressed-port,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Boot a VM with an unaddressed port ================================== https://blueprints.launchpad.net/nova/+spec/boot-vm-with-unaddressed-port This blueprint aims to allow a VM to boot with an attached port without any IP assigned. Problem description =================== Currently Neutron permits users to create a port assigned to a network with corresponding subnets and IP pools, without an IP address assigned. However Nova only allows users to create a VM with a port without an IP only if this address assignment is deferred; that means that the port is expected to have an IP address but Neutron deferred the IP allocation until the host to which the port will be bound is populated. However, there are some network applications (e.g.: service function forwarding, service function classifier, CMTS) that often forward traffic that is not intended for them. Those applications have an interface without a primary L3 address which may be receiving traffic for so many disparate addresses that configuring all of them in Neutron is a burden. Use Cases --------- A typical use case is when a user wishes to deploy a VM which accepts traffic that is neither IPv4 nor IPv6 in nature. For example, a CMTS (Cable Modem Termination System). Another use case could be a VM that accepts traffic for a very wide address range (for either forwarding or termination) and where the port has no primary address. In such cases, the VM is not a conventional application VM. Proposed change =============== This spec proposes to allow to spawn a VM with a manually created port without IP address assignation. When a port in Neutron is created with the option ""--no-fixed-ip"", the port parameter ``ip_allocation`` [1]_ will be populated with ""none"" [2]_. This way Neutron marks a port not to have an IP address. Nova, during the instance creation, validates the build options; in particular the ports provided to be bound to this new VM. To be able to use an unaddressed port, Nova needs to modify the logic where IP assignation is tested [3]_. Alternatives ------------ As commented in the use cases, some applications will accept traffic that is neither IPv4 nor IPv6. Having an IP address is irrelevant on those ports but doesn't affect the application. In other cases, like in a routing application, there is no alternative. It's not possible to define in Neutron all the possible IP addresses. Data model impact ----------------- None The Neutron port contains the information needed in the ``ip_allocation`` parameter and the ``connectivity`` parameter inside the ``binding:vif_details``. REST API impact --------------- None Security impact --------------- Those ports without an assigned IP don't work with the Neutron in-tree firewalls (iptables and OVS Open Flows based). Both firewalls will filter the egress and the ingress traffic depending on several parameters, including the IP address. To let the traffic come into the virtual interface, the firewall should be disabled in the compute node hosting the VM. This mandatory configuration will be documented. Once the Nova feature is implemented and tested, a new feature will be requested to Neutron, in order to allow those ports without an IP address to work correctly with the in-tree firewalls. Notifications impact -------------------- None Other end user impact --------------------- To be able to remotely access to the created VM, the user needs to add an addressed port to the VM. This ""management"" port must have an IP address. Performance Impact ------------------ None Other deployer impact --------------------- Some L2 driver, like ""l2-pop"", may have problems when dealing with this kind of port because they use proxy ARP to answer ARP requests from known IP address. The [""novnc""] service won't work with a port without an IP address. This is why it's recommended to create a VM with at least one management port, with an assigned IP address. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: stephenfinucane Other contributors: Rodolfo Alonso <rodolfo-alonso-hernandez> (ralonsoh@redhat.com) Feature Liaison --------------- Feature liaison: stephenfinucane Work Items ---------- Work items: - Change the logic of how the IP assignation is tested [3]_. - Implement the tempest test described. - Create a new Neutron feature request to change the in-tree firewalls to work correctly with those ports without IP address assigned. Dependencies ============ None. The necessary work in neutron has already been accomplished via two specs. The main neutron change was allowing for the creation of an unaddressed port and mark it, by populating the ``ip_allocation`` parameter with ``none``. This was covered by the ""Allow vm to boot without l3 address(subnet)"" [5]_ spec. The changes introduced as part of the ""Port binding event extended information for Nova"" [4]_ spec means neutron will now provide the type of back-end to which the port is bound, with the parameter ``connectivity``, included now in ``binding:vif_details``. Nova can determine whether a given driver back-end has ""l2"" connectivity and, if so, know that a port without an IP address can be assigned to a virtual machine. Testing ======= Apart from the needed functional and unit testing, a tempest test could cover this feature. This tempest test will spawn three VMs, each one with a management port, to be able to SSH to the machine. Then two traffic networks will be created, net1 and net2. The first machine will have a port, with an IP assigned, connected to net1. The third machine will have a port, with an IP assigned, connected to net2. And finally, the second machine, in the middle of the first and the third one, with be connected to net1 and net2 with two ports without an IP address. The second machine will have the needed iptables rules to NAT the traffic between the first VM and the third VM port. Both the first and the third machine will need a manual entry in the ARP table to force the traffic going out trough the traffic port. Documentation Impact ==================== - Make a reference of this feature in the user document ""Launch instances"" [6]_. References ========== .. [1] https://github.com/openstack/neutron/blob/stable/rocky/releasenotes/notes/add-port-ip-allocation-attr-294a580641998240.yaml .. [2] https://github.com/openstack/neutron/blob/stable/rocky/neutron/db/db_base_plugin_v2.py#L1323 .. [3] https://github.com/openstack/nova/blob/stable/rocky/nova/network/neutronv2/api.py#L2078-L2086 .. [4] https://review.opendev.org/#/c/645173/ .. [5] https://blueprints.launchpad.net/neutron/+spec/vm-without-l3-address .. [6] https://github.com/openstack/nova/blob/stable/rocky/doc/source/user/launch-instances.rst History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Xena - Reproposed ",,228,0
openstack%2Fdesignate-tempest-plugin~master~Ic04b0029d3009a86316484142b38fe0e7a898bc6,openstack/designate-tempest-plugin,master,Ic04b0029d3009a86316484142b38fe0e7a898bc6,Adding tempest test for split_horizon,NEW,2020-10-02 20:18:07.000000000,2021-07-06 16:38:38.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-10-02 20:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/823f40350d287fe241ef7a3403aa66dba59a89fb', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 2, 'created': '2020-10-02 20:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d13760650f49c6660ec33d1f5d3d0948bd735a0f', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 3, 'created': '2020-10-02 21:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/03d1ec52245681bba84621af40674e6cd18ad395', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 4, 'created': '2020-10-02 22:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0ec49a40cf36a0ad5190157ff3b52321285204dc', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 5, 'created': '2020-10-02 23:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/444f07a8044e81bb430da3f41051baa4c7fb7e3f', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 6, 'created': '2020-10-03 01:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b686f2d3aed06034cc94afd6b4aa54f56c0de65f', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 7, 'created': '2020-10-03 01:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cb4d26024569d862f933a542a495d88da6962313', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 8, 'created': '2020-10-03 01:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/887bfa433e386a96b2b5b01c6b4d30cd527c0be6', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 9, 'created': '2020-10-03 01:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8eeb9c2a36a80bfc5fd564a188d0c2708f5643ff', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 10, 'created': '2020-10-03 02:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5e3e78e83399f12c1dc938a61421679c93fd27f0', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 11, 'created': '2020-10-03 02:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0cf5bb5036c8f738355ee26027bee9eba6c85d25', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 12, 'created': '2020-10-03 03:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/93ce505661cff214cdbcc00c4eee3a93178a54e8', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 13, 'created': '2020-10-03 04:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1db91950cfc23266d99422f06e7d368bcc0099b4', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 14, 'created': '2020-10-03 06:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/208306b692e7799f081adde98fbafb365038449f', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 15, 'created': '2020-10-03 08:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e23ffa4ba9c8005265dec7b12da185dcb1b8e7eb', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 16, 'created': '2020-10-03 08:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/71d8158871567f7b3976a7278f8e3bf9912acbbb', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 17, 'created': '2020-10-05 16:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c3521ef39cd43dde9695a1cfff2d5159795d8fa3', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 18, 'created': '2020-10-05 17:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3f7786c9ec80628842470c80ede658deec8196dc', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 19, 'created': '2020-10-05 19:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9ab851dd592b849656d81bc805524e2c62bb8a57', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 20, 'created': '2020-10-05 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/da149bfffad8953019cc108c0a8895f75374257a', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 21, 'created': '2020-10-05 20:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a5f397f078cef626c30868367cb8f8ab81a83c25', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 22, 'created': '2020-10-05 20:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/e6f5d9aeff9c43e0be3e19f469f6b58ce18b5743', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 23, 'created': '2020-10-05 20:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ecf50836e38f600d9dde6146487c4669a4d964f8', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 24, 'created': '2020-10-23 22:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b5c98313525d9953716f480ac780c77aff614484', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 25, 'created': '2020-10-23 22:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/9e6bd8e0e04647729ad4eb9ab10f5c04574f751b', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 26, 'created': '2021-03-12 18:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/3bda249bd27276bbaa61a437211979a218f54788', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 27, 'created': '2021-03-12 19:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/198f7c148ba6a52e256935c2e7424b515cfca621', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 28, 'created': '2021-03-12 19:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/944eb3a4abde88d121684953991a9f16dfc58c28', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 29, 'created': '2021-03-12 20:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5cc609d7f90adf0efdd3e0b6d9df3cd3be3cb728', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 30, 'created': '2021-03-12 22:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/15c866d2f9a9bb7af2b9f08976c8eae132a430e6', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 31, 'created': '2021-03-12 23:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5a45a7fc7ece7cfca391d83ec909586aa6d29355', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}, {'number': 32, 'created': '2021-03-12 23:58:45.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_split_horizon.py', '.zuul.yaml', 'designate_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/69f9fcce4cb1a6df1b33f158fe4f80d24a3a4c28', 'message': 'Adding tempest test for split_horizon\n\nThe test will make sure that designate MDNS\nAXFR change based on TSIGKEY and configurations\n\nDepends-On: https://review.opendev.org/#/c/748285/\nChange-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6\n'}]",13,755876,69f9fcce4cb1a6df1b33f158fe4f80d24a3a4c28,62,3,32,31039,,,0,"Adding tempest test for split_horizon

The test will make sure that designate MDNS
AXFR change based on TSIGKEY and configurations

Depends-On: https://review.opendev.org/#/c/748285/
Change-Id: Ic04b0029d3009a86316484142b38fe0e7a898bc6
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/76/755876/32 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/scenario/v2/test_split_verizon.py', '.zuul.yaml', 'designate_tempest_plugin/config.py']",3,823f40350d287fe241ef7a3403aa66dba59a89fb,bug/748285," ""If it is not specified, a new zone will be created ""), cfg.StrOpt('host_ip', default=None, help=""The IP of the machine devstack running on""), cfg.IntOpt('designate_service_port_mdns', default=5354, help=""Designate mdns service port"") cfg.BoolOpt('split_horizon', default=False, help=""Is https://specs.openstack.org/openstack/designate-specs/specs/ussuri/split-view.html "" ""merged""),"," ""If it is not specified, a new zone will be created "")",148,1
openstack%2Fmanila-ui~master~I686257fe9ffaefde4d2cdca8ff60a83b908f3b6b,openstack/manila-ui,master,I686257fe9ffaefde4d2cdca8ff60a83b908f3b6b,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 02:02:08.000000000,2021-07-06 16:29:05.000000000,2021-07-06 16:27:28.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-05-31 02:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7e621c3a2f6c347b09117b27f7243f444b9cce24', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I686257fe9ffaefde4d2cdca8ff60a83b908f3b6b\n""}, {'number': 2, 'created': '2021-07-06 07:56:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/eb52c16c65593c5a277935a9575bc4cfeabdfaea', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I686257fe9ffaefde4d2cdca8ff60a83b908f3b6b\n""}]",0,793713,eb52c16c65593c5a277935a9575bc4cfeabdfaea,13,3,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I686257fe9ffaefde4d2cdca8ff60a83b908f3b6b
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/13/793713/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7e621c3a2f6c347b09117b27f7243f444b9cce24,update-min-tox,minversion = 3.18.0allowlist_externals = rmallowlist_externals =,minversion = 3.1.1whitelist_externals = rmwhitelist_externals =,3,3
openstack%2Fpython-manilaclient~master~I2424ddf3e7ff9b9382288c3b73626dda81664eb7,openstack/python-manilaclient,master,I2424ddf3e7ff9b9382288c3b73626dda81664eb7,"Further fix to ""test_list_shares_by_status""",MERGED,2021-03-26 17:25:11.000000000,2021-07-06 16:20:18.000000000,2021-07-06 16:18:56.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 31213}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-03-26 17:25:11.000000000', 'files': ['manilaclient/tests/functional/test_shares_listing.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/de1902786a71716f6a1ef44cfb7fd1d7b43d2e63', 'message': 'Further fix to ""test_list_shares_by_status""\n\nWe addressed some test flakiness issues in\nIfe979fd1c026a4c28caf72c012871761fe039988\nWe could improve this a bit more since there\nis more than one ""migrating"" state a share\ncan get into; for example: ""server_migrating"".\n\nChange-Id: I2424ddf3e7ff9b9382288c3b73626dda81664eb7\nPartial-Bug: #1821945\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,783394,de1902786a71716f6a1ef44cfb7fd1d7b43d2e63,11,4,1,16643,,,0,"Further fix to ""test_list_shares_by_status""

We addressed some test flakiness issues in
Ife979fd1c026a4c28caf72c012871761fe039988
We could improve this a bit more since there
is more than one ""migrating"" state a share
can get into; for example: ""server_migrating"".

Change-Id: I2424ddf3e7ff9b9382288c3b73626dda81664eb7
Partial-Bug: #1821945
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/94/783394/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_shares_listing.py'],1,de1902786a71716f6a1ef44cfb7fd1d7b43d2e63,bug/1821945, if 'migrating' in share_get['status']:, if share_get['status'] == 'migrating':,1,1
openstack%2Ftripleo-heat-templates~master~I5602724bb69d1f265babc9fb0694c34199e4a9d7,openstack/tripleo-heat-templates,master,I5602724bb69d1f265babc9fb0694c34199e4a9d7,DNM: Adding AnsibleGroupVars for custom search registries,ABANDONED,2021-06-11 15:07:26.000000000,2021-07-06 16:13:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 15:07:26.000000000', 'files': ['common/services/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3e1be3af5d0a1fe402edeba9bee8bbfb9666034', 'message': 'DNM: Adding AnsibleGroupVars for custom search registries\n\nChange-Id: I5602724bb69d1f265babc9fb0694c34199e4a9d7\n'}]",0,796036,e3e1be3af5d0a1fe402edeba9bee8bbfb9666034,4,2,1,9976,,,0,"DNM: Adding AnsibleGroupVars for custom search registries

Change-Id: I5602724bb69d1f265babc9fb0694c34199e4a9d7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/796036/1 && git format-patch -1 --stdout FETCH_HEAD,['common/services/role.role.j2.yaml'],1,e3e1be3af5d0a1fe402edeba9bee8bbfb9666034,custom-registry," - tripleo_podman_unqualified_search_registries: {get_attr: [AnsibleGroupVars, value, tripleo_podman_unqualified_search_registries]}",,1,0
openstack%2Fpython-manilaclient~master~I79d01f46fc8701d74cba23275c5f835ec0c63521,openstack/python-manilaclient,master,I79d01f46fc8701d74cba23275c5f835ec0c63521,Remove some deprecated options,MERGED,2021-02-11 02:05:40.000000000,2021-07-06 16:11:03.000000000,2021-07-06 16:09:35.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 31213}]","[{'number': 1, 'created': '2021-02-11 02:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4f2ba8aaa2bcb4fa9c756abb4955a9cd95106859', 'message': 'Remove some deprecated options\n\nWhen support was introduced for keystonev3,\na number of client options were marked\ndeprecated. These options are now being\nremoved to make things easier to switch\nfrom keystoneclient to keystoneauth [1]\n\n[1] https://review.opendev.org/647538\n\nChange-Id: I79d01f46fc8701d74cba23275c5f835ec0c63521\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-02-11 06:48:34.000000000', 'files': ['manilaclient/v1/client.py', 'manilaclient/tests/unit/v2/test_client.py', 'releasenotes/notes/v2-0-0-deprecated-opts-removal-863565618535733d.yaml', 'manilaclient/v2/client.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/931743acbdf5de7bdf0141862701612a5a700691', 'message': 'Remove some deprecated options\n\nWhen support was introduced for keystonev3,\na number of client options were marked\ndeprecated. These options are now being\nremoved to make things easier to switch\nfrom keystoneclient to keystoneauth [1]\n\n[1] https://review.opendev.org/647538\n\nChange-Id: I79d01f46fc8701d74cba23275c5f835ec0c63521\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,775055,931743acbdf5de7bdf0141862701612a5a700691,13,3,2,16643,,,0,"Remove some deprecated options

When support was introduced for keystonev3,
a number of client options were marked
deprecated. These options are now being
removed to make things easier to switch
from keystoneclient to keystoneauth [1]

[1] https://review.opendev.org/647538

Change-Id: I79d01f46fc8701d74cba23275c5f835ec0c63521
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/55/775055/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v1/client.py', 'releasenotes/notes/v2-0-0-deprecated-opts-removal-863565618535733d.yaml', 'manilaclient/v2/client.py']",3,4f2ba8aaa2bcb4fa9c756abb4955a9cd95106859,bp/switch-to-keystoneauth," >>> client = Client(username=USERNAME, password=PASSWORD, auth_url=AUTH_URL, project_name=PROJECT_NAME) def __init__(self, username=None, project_id=None, auth_url=None, insecure=False, timeout=None, tenant_id=None, project_name=None, region_name=None, self.password = password"," >>> client = Client(USERNAME, PASSWORD, PROJECT_ID, AUTH_URL) @removals.removed_kwarg( 'share_service_name', message=""Please use 'service_name' instead"", removal_version='2.0.0') @removals.removed_kwarg( 'proxy_tenant_id', message=""This is not used anywhere"", removal_version='2.0.0') @removals.removed_kwarg( 'proxy_token', message=""This is not used anywhere"", removal_version='2.0.0') @removals.removed_kwarg( 'os_cache', message=""Please use 'use_keyring' instead"", removal_version='2.0.0') @removals.removed_kwarg( 'api_key', message=""Please use 'password' instead"", removal_version='2.0.0') def __init__(self, username=None, api_key=None, project_id=None, auth_url=None, insecure=False, timeout=None, tenant_id=None, project_name=None, region_name=None, self.password = password or api_key service_name = kwargs.get(""share_service_name"", service_name) @removals.remove( message=""authenticate() method is deprecated. Client automatically "" ""makes authentication call in the constructor."", removal_version='2.0.0') def authenticate(self): """"""Authenticate against the server. Normally this is called automatically when you first access the API, but you can call this method to force authentication right now. Returns on success; raises :exc:`exceptions.Unauthorized` if the credentials are wrong. """""" pass ",25,75
openstack%2Foctavia~master~Iddcbe83dc4b3fec796ac94339f2839818890ab2f,openstack/octavia,master,Iddcbe83dc4b3fec796ac94339f2839818890ab2f,"Edits for ""Basic Load Balancing Cookbook""",MERGED,2021-04-22 21:41:09.000000000,2021-07-06 16:07:09.000000000,2021-07-02 20:17:39.000000000,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-04-22 21:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/07cca97d5ef20f916e9f77bff06beb59a30e4c92', 'message': 'Edits for ""Basic Load Balancing Cookbook""\n\nSeveral edits from early January 2021.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f\n'}, {'number': 2, 'created': '2021-04-23 01:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bd2625af402964545aefd0f6aefeb788476c4fe3', 'message': 'Edits for ""Basic Load Balancing Cookbook""\n\nSeveral edits from early January 2021.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f\n'}, {'number': 3, 'created': '2021-04-23 02:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4da00a12e3e834a55dc5e1a94f3699dc112fe3cc', 'message': 'Edits for ""Basic Load Balancing Cookbook""\n\nSeveral edits from early January 2021.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f\n'}, {'number': 4, 'created': '2021-04-26 15:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fcee1b14d9f63ce1441ca7c1b0767d729d33dc1b', 'message': 'Edits for ""Basic Load Balancing Cookbook""\n\nSeveral edits from early January 2021.\nTech review edits from two devs incorporated. Thanks!\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f\n'}, {'number': 5, 'created': '2021-05-04 18:37:39.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a26494bfcb6f95a390af890d6d2bd054769a4136', 'message': 'Edits for ""Basic Load Balancing Cookbook""\n\nSeveral edits from early January 2021.\nTech review edits from two devs incorporated. Thanks!\nAdditional comments from Brian added. Thanks!\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f\n'}]",10,787643,a26494bfcb6f95a390af890d6d2bd054769a4136,28,5,5,31933,,,0,"Edits for ""Basic Load Balancing Cookbook""

Several edits from early January 2021.
Tech review edits from two devs incorporated. Thanks!
Additional comments from Brian added. Thanks!

Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Change-Id: Iddcbe83dc4b3fec796ac94339f2839818890ab2f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/787643/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,07cca97d5ef20f916e9f77bff06beb59a30e4c92,BasicCookbook-EditsJan2021,"An Octavia health monitor is a process that does periodic health checks on each back end member server to pre-emptively detect failed servers and temporarily pull them out of the pool. An Octavia health monitor does periodic health checks on each back end member server. If the health monitor detects a failed server, it removes the server from the pool and marks the member in ERROR. After you have corrected the server and it is functional again, the health monitor automatically changes the status of the member from ERROR to ONLINE, and resumes passing traffic to it. Always use health monitors in production load balancers. If you do not have a health monitor, failed servers are not removed from the pool. This can lead to service disruption for web clients. See also the command, `loadbalancer healthmonitor create <https://docs.openstack.org/python-openstackclient/latest/cli/plugin-commands/octavia.html#loadbalancer-healthmonitor-create>`_. .. _all-health-monitors: Configuration arguments for all health monitors ----------------------------------------------- *All* health monitor types for Octavia require the following configurable arguments:Configuration arguments for HTTP health monitors ------------------------------------------------ In addition to the arguments listed earlier in :ref:`all-health-monitors`, HTTP health monitor types *also* require the following arguments, which are set by default: * ``url-path``: Path part of the URL that should be retrieved from the back-end* ``http-method``: HTTP method that should be used to retrieve the ``url-path``. By default this is ""GET"". * ``expected-codes``: List of HTTP status codes that indicate an OK healthFor a complete list of configuration arguments for Octavia health monitors, see the command, `loadbalancer healthmonitor create <https://docs.openstack.org/python-openstackclient/latest/cli/plugin-commands/octavia.html#loadbalancer-healthmonitor-create>`_. * The health monitor ``url-path`` should not require authentication to load. * By default the health monitor ``url-path`` should return a HTTP 200 OK status ``expected-codes``. ``url-path`` would incorporate the results of this cron job in the tests it","While it is possible to set up a listener without a health monitor, if a back-end pool member goes down, Octavia will not remove the failed server from the pool. This can lead to service disruption for web clients. Because of this, we recommend always configuring production load balancers to use a health monitor. The health monitor itself is a process that does periodic health checks on each back-end server to pre-emptively detect failed servers and temporarily pull them out of the pool. Since effective health monitors depend as much on back-end application server configuration as proper load balancer configuration, some additional discussion of best practices is warranted here. See also: `Octavia API Reference <https://docs.openstack.org/api-ref/load-balancer/>`_ Health monitor options ---------------------- All of the health monitors Octavia supports have the following configurable options:HTTP health monitors -------------------- In general, the application-side component of HTTP health checks are a part of the web application being load balanced. By default, Octavia will probe the ""/"" path on the application server. However, in many applications this is not appropriate because the ""/"" path ends up being a cached page, or causes the application server to do more work than is necessary for a basic health check. In addition to the above options, HTTP health monitors also have the following options: * ``url_path``: Path part of the URL that should be retrieved from the back-end* ``http_method``: HTTP method that should be used to retrieve the ``url_path``. By default this is ""GET"". * ``expected_codes``: List of HTTP status codes that indicate an OK health* The health monitor ``url_path`` should not require authentication to load. * By default the health monitor ``url_path`` should return a HTTP 200 OK status ``expected_codes``. ``url_path`` would incorporate the results of this cron job in the tests it",33,32
openstack%2Fneutron~master~I1e7087ea109a24a846444772ca6deda73eb9790e,openstack/neutron,master,I1e7087ea109a24a846444772ca6deda73eb9790e,"Revert ""Use 2 dhcp agents in TestLegacyL3Agent""",ABANDONED,2021-07-06 09:12:00.000000000,2021-07-06 15:56:19.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 09:12:00.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8e988edeb9792f12db7d038526dcbc6abe1a58d', 'message': 'Revert ""Use 2 dhcp agents in TestLegacyL3Agent""\n\nThis reverts commit 07337f9e99cdcfb1af3546a537d5595330e8bded.\n\nReason for revert: https://review.opendev.org/c/openstack/neutron/+/794994 should fix the rootcause of the timeouts\n\nChange-Id: I1e7087ea109a24a846444772ca6deda73eb9790e\n'}]",0,799579,d8e988edeb9792f12db7d038526dcbc6abe1a58d,9,5,1,8313,,,0,"Revert ""Use 2 dhcp agents in TestLegacyL3Agent""

This reverts commit 07337f9e99cdcfb1af3546a537d5595330e8bded.

Reason for revert: https://review.opendev.org/c/openstack/neutron/+/794994 should fix the rootcause of the timeouts

Change-Id: I1e7087ea109a24a846444772ca6deda73eb9790e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/799579/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,d8e988edeb9792f12db7d038526dcbc6abe1a58d,bug/1930401, environment.HostDescription()]," # None(obondarev): dhcp agent is added to workaround bug 1930401, # to be removed in scope of proper bug fix: # https://review.opendev.org/c/openstack/neutron/+/794994 environment.HostDescription(dhcp_agent=True)]",1,4
openstack%2Fironic-tempest-plugin~master~Id0d91c09f3d9f6cb5207b02ec7ebf3d2075f366d,openstack/ironic-tempest-plugin,master,Id0d91c09f3d9f6cb5207b02ec7ebf3d2075f366d,Add Wallaby jobs,MERGED,2021-06-25 17:47:02.000000000,2021-07-06 15:47:39.000000000,2021-07-06 15:44:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 17:47:02.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/eaf7482e0984989861d7b22b92d7fb7cd1e7a4d6', 'message': 'Add Wallaby jobs\n\nChange-Id: Id0d91c09f3d9f6cb5207b02ec7ebf3d2075f366d\n'}]",4,798143,eaf7482e0984989861d7b22b92d7fb7cd1e7a4d6,11,3,1,11655,,,0,"Add Wallaby jobs

Change-Id: Id0d91c09f3d9f6cb5207b02ec7ebf3d2075f366d
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/43/798143/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,eaf7482e0984989861d7b22b92d7fb7cd1e7a4d6,, - ironic-standalone-wallaby - ironic-tempest-functional-python3-wallaby - ironic-inspector-tempest-wallaby - ironic-standalone-redfish-wallaby: voting: false - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode-wallaby: voting: false - ironic-inspector-tempest-discovery-wallaby: voting: false - ironic-standalone-wallaby - ironic-tempest-functional-python3-wallaby - ironic-inspector-tempest-wallaby, - ironic-standalone-ussuri - ironic-tempest-functional-python3-ussuri,47,2
openstack%2Fpuppet-ironic~master~I947b2c1e348436bec24163a5162bd8c30cb38e47,openstack/puppet-ironic,master,I947b2c1e348436bec24163a5162bd8c30cb38e47,Allow memory limit to be configured,ABANDONED,2020-12-08 21:33:29.000000000,2021-07-06 15:43:48.000000000,,"[{'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 21:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/39e3b14fcc4623932db76553eff4f2af19addc29', 'message': 'Allow memory limit to be configured\n\nIn some cases ironic.conf needs to have\n[disk_utils]image_convert_memory_limit set to a value\nabove 1024 MB. This setting is used to constrain the\nqemu-img image conversion process from running the host\nout of memory; however the tool does try to leverage a\nlarge quantity of RAM for disk image conversion,\nand this requirement varies based upon a number of\nfactors including image size, block cluster size,\nand caching type.\n\nChange-Id: I947b2c1e348436bec24163a5162bd8c30cb38e47\n'}, {'number': 2, 'created': '2021-01-04 18:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4039fb2ece4aa42a83a00fff91ed725c4ab09cb2', 'message': 'Allow memory limit to be configured\n\nIn some cases ironic.conf needs to have\n[disk_utils]image_convert_memory_limit set to a value\nabove 1024 MB. This setting is used to constrain the\nqemu-img image conversion process from running the host\nout of memory; however the tool does try to leverage a\nlarge quantity of RAM for disk image conversion,\nand this requirement varies based upon a number of\nfactors including image size, block cluster size,\nand caching type.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic-lib/+/766101\nChange-Id: I947b2c1e348436bec24163a5162bd8c30cb38e47\n'}, {'number': 3, 'created': '2021-02-07 07:27:30.000000000', 'files': ['releasenotes/notes/enable_memory_limit_configuration-de66152b812dbc94.yaml', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/dbf7ef0546207e8ed82de86111b4df889b8cb0d3', 'message': 'Allow memory limit to be configured\n\nIn some cases ironic.conf needs to have\n[disk_utils]image_convert_memory_limit set to a value\nabove 1024 MB. This setting is used to constrain the\nqemu-img image conversion process from running the host\nout of memory; however the tool does try to leverage a\nlarge quantity of RAM for disk image conversion,\nand this requirement varies based upon a number of\nfactors including image size, block cluster size,\nand caching type.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic-lib/+/766101\nChange-Id: I947b2c1e348436bec24163a5162bd8c30cb38e47\n'}]",3,766100,dbf7ef0546207e8ed82de86111b4df889b8cb0d3,29,7,3,11655,,,0,"Allow memory limit to be configured

In some cases ironic.conf needs to have
[disk_utils]image_convert_memory_limit set to a value
above 1024 MB. This setting is used to constrain the
qemu-img image conversion process from running the host
out of memory; however the tool does try to leverage a
large quantity of RAM for disk image conversion,
and this requirement varies based upon a number of
factors including image size, block cluster size,
and caching type.

Depends-On: https://review.opendev.org/c/openstack/ironic-lib/+/766101
Change-Id: I947b2c1e348436bec24163a5162bd8c30cb38e47
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/00/766100/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable_memory_limit_configuration-de66152b812dbc94.yaml', 'manifests/conductor.pp', 'spec/classes/ironic_conductor_spec.rb']",3,39e3b14fcc4623932db76553eff4f2af19addc29,," is_expected.to contain_ironic_config('disk_utils/image_convert_memory_limit').with(:value => '<SERVICE DEFAULT>') :image_convert_memory_limit => 2048, is_expected.to contain_ironic_config('disk_utils/image_convert_memory_limit').with_value(2048)",,19,0
openstack%2Fnova~master~Iee3a095827202e5953198dfe6914805a63e9892d,openstack/nova,master,Iee3a095827202e5953198dfe6914805a63e9892d,fixup! db: Post reshuffle cleanup,ABANDONED,2021-07-06 15:30:58.000000000,2021-07-06 15:40:45.000000000,,[],"[{'number': 1, 'created': '2021-07-06 15:30:58.000000000', 'files': ['nova/tests/unit/db/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35b473058506005bfcbb6390f89d37d6fb03b376', 'message': 'fixup! db: Post reshuffle cleanup\n\nChange-Id: Iee3a095827202e5953198dfe6914805a63e9892d\n'}]",0,799683,35b473058506005bfcbb6390f89d37d6fb03b376,2,0,1,15334,,,0,"fixup! db: Post reshuffle cleanup

Change-Id: Iee3a095827202e5953198dfe6914805a63e9892d
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/799683/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/api/__init__.py'],1,35b473058506005bfcbb6390f89d37d6fb03b376,bp/remove-sqlalchemy-migrate,,,0,0
openstack%2Ftripleo-validations~stable%2Ftrain~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/train,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-06-11 09:41:58.000000000,2021-07-06 15:39:34.000000000,2021-07-06 15:34:21.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 09:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/95fc8b56cd7a545560e429de49bb7881037fa6db', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n(cherry picked from commit f2f322c1ea195905d080b303a0e97c905f9592f3)\n""}, {'number': 2, 'created': '2021-07-02 08:12:12.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'zuul.d/playbooks/pre.yml', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'zuul.d/playbooks/run.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/505545a4af7639d879897f207d2e23ae0dd02505', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n(cherry picked from commit f2f322c1ea195905d080b303a0e97c905f9592f3)\n""}]",0,795966,505545a4af7639d879897f207d2e23ae0dd02505,17,7,2,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)
(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)
(cherry picked from commit f2f322c1ea195905d080b303a0e97c905f9592f3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/66/795966/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'zuul.d/playbooks/pre.yml', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'zuul.d/playbooks/run.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/no_op_firewall_nova_driver/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",110,95fc8b56cd7a545560e429de49bb7881037fa6db,,"# inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. "," log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra",347,2382
openstack%2Ftripleo-validations~stable%2Fussuri~I9869afd60342fdb0aca69a313c1c6e35e0947fb8,openstack/tripleo-validations,stable/ussuri,I9869afd60342fdb0aca69a313c1c6e35e0947fb8,Migrate back haproxy validation to tripleo-validations,MERGED,2021-06-30 09:21:28.000000000,2021-07-06 15:39:19.000000000,2021-07-06 15:35:22.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-30 09:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n'}, {'number': 2, 'created': '2021-07-02 07:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a5a6424bdc8fb49a5bb3e7a341d0f29d66277be1', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n'}, {'number': 3, 'created': '2021-07-02 08:03:12.000000000', 'files': ['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e8892681e2c71fff4951f81967fffc6eab9cafab', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)\n'}]",0,798813,e8892681e2c71fff4951f81967fffc6eab9cafab,15,7,3,11491,,,0,"Migrate back haproxy validation to tripleo-validations

This patch moves back the haproxy validation from validations-common to
tripleo-validations. It has been renamed in tripleo-haproxy and the role
is called now tripleo_haproxy.

This patch also fix the host targeting in order to only execute this
validation on nodes where haproxy is really installed and configured.

Note that the haproxy validations hosted in validations-common will be
removed in a follow up patch.

Closes-Bug: #1926024

Co-Authored-By: Michele Baldessari <michele@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8
(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)
(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)
(cherry picked from commit bb5a538a56bc860c25ec32866ec25923099cbecc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/798813/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst']",10,2744976e606e87e8f4c3c9da0ab7d6018c3f1f2d,bz#1950533,=============== tripleo_haproxy =============== -------------- About The Role -------------- An Ansible role to check if the ``HAProxy`` configuration has recommended values. Requirements ============ This role requires and Up and Running Overcloud. Dependencies ============ None. Example Playbook ================ .. code-block:: yaml - hosts: undercloud roles: - { role: tripleo_haproxy } License ======= Apache Author Information ================== **Red Hat Tripleo DFG:PIDONE** ---------------- Full Description ---------------- .. ansibleautoplugin:: :role: roles/tripleo_haproxy ,,415,0
openstack%2Ftripleo-quickstart~master~I479b0d829ca87137350ce2e4b9b23d8c0578636b,openstack/tripleo-quickstart,master,I479b0d829ca87137350ce2e4b9b23d8c0578636b,WIP: Remove wallaby in fs010 from ephemeral heat - options missing,ABANDONED,2021-06-17 16:20:23.000000000,2021-07-06 15:37:13.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-17 16:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d25a7dd09ca506bc620dc7fd28547cb5902ba3d7', 'message': 'WIP: Remove wallaby in fs010 from ephemeral heat - options missing\n\nTesting rhos-17 with this option change.\n\nChange-Id: I479b0d829ca87137350ce2e4b9b23d8c0578636b\n'}, {'number': 2, 'created': '2021-06-25 19:35:32.000000000', 'files': ['config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d316f4ac4e33d925ed723cc0020a57266fa98ef7', 'message': 'WIP: Remove wallaby in fs010 from ephemeral heat - options missing\n\nTesting rhos-17 with this option change.\n\nChange-Id: I479b0d829ca87137350ce2e4b9b23d8c0578636b\n'}]",0,796888,d316f4ac4e33d925ed723cc0020a57266fa98ef7,9,3,2,9976,,,0,"WIP: Remove wallaby in fs010 from ephemeral heat - options missing

Testing rhos-17 with this option change.

Change-Id: I479b0d829ca87137350ce2e4b9b23d8c0578636b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/88/796888/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,d25a7dd09ca506bc620dc7fd28547cb5902ba3d7,exclude-wallaby-heat-pod,"ephemeral_heat: ""{{ (release not in ['queens', 'stein','train','ussuri','victoria','wallaby']) | bool }}""","ephemeral_heat: ""{{ (release not in ['queens', 'stein','train','ussuri','victoria']) | bool }}""",1,1
openstack%2Ftripleo-upgrade~master~Ib1d230f8eb200ed27c2e500ec918fe6296f7ede3,openstack/tripleo-upgrade,master,Ib1d230f8eb200ed27c2e500ec918fe6296f7ede3,Fix ansible-lint E206 issues,MERGED,2021-07-05 12:15:40.000000000,2021-07-06 15:35:06.000000000,2021-07-06 15:35:06.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-05 12:15:40.000000000', 'files': ['tasks/upgrade/node_upgrade_script.yml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0894867858b733877d241bfed285797bef55466a', 'message': 'Fix ansible-lint E206 issues\n\nChange-Id: Ib1d230f8eb200ed27c2e500ec918fe6296f7ede3\n'}]",0,799466,0894867858b733877d241bfed285797bef55466a,7,3,1,11090,,,0,"Fix ansible-lint E206 issues

Change-Id: Ib1d230f8eb200ed27c2e500ec918fe6296f7ede3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/799466/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/node_upgrade_script.yml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",2,0894867858b733877d241bfed285797bef55466a,e206, {{ inventory_hostmap.mysql | intersect (item) | length > 0 }} {{ inventory_hostmap.pacemaker | intersect (item) | length > 0 }}, {{ inventory_hostmap.mysql | intersect (item) | length > 0}} {{ inventory_hostmap.pacemaker | intersect (item) | length > 0}},5,5
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I622a51172fcb91fd066f6f8d79bb2717400bf5b2,openstack/puppet-tripleo,stable/wallaby,I622a51172fcb91fd066f6f8d79bb2717400bf5b2,Bump metadata to 14.2.0 for wallaby release,MERGED,2021-07-06 04:59:55.000000000,2021-07-06 15:34:50.000000000,2021-07-06 15:34:50.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 04:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e9b702c6968d9b40449f78cbafc42b5ac711de31', 'message': 'Bump metadata to 14.2.0 for wallaby release\n\nSince last release for wallaby couple of bug fixes\nand new parameters are added, requesting new release\nfor wallaby as it was missed originally with other\ntripleo component releases[1] and needed for[2].\n\n[1] https://review.opendev.org/c/openstack/releases/+/791959\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/792667\n\nCloses-Bug: #1934722\nChange-Id: I622a51172fcb91fd066f6f8d79bb2717400bf5b2\n'}, {'number': 2, 'created': '2021-07-06 12:10:53.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9afc84aea1efc6fe95a470b9a8a537e4b09693b4', 'message': ""Bump metadata to 14.2.0 for wallaby release\n\nSince last release for wallaby couple of bug fixes\nand new parameters are added, requesting new release\nfor wallaby as it's needed for already created tht release\n[1] specifically for [2].\n\n[1] https://review.opendev.org/c/openstack/releases/+/795924\n[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/792667\n\nCloses-Bug: #1934722\nChange-Id: I622a51172fcb91fd066f6f8d79bb2717400bf5b2\n""}]",1,799558,9afc84aea1efc6fe95a470b9a8a537e4b09693b4,10,3,2,13861,,,0,"Bump metadata to 14.2.0 for wallaby release

Since last release for wallaby couple of bug fixes
and new parameters are added, requesting new release
for wallaby as it's needed for already created tht release
[1] specifically for [2].

[1] https://review.opendev.org/c/openstack/releases/+/795924
[2] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/792667

Closes-Bug: #1934722
Change-Id: I622a51172fcb91fd066f6f8d79bb2717400bf5b2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/799558/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e9b702c6968d9b40449f78cbafc42b5ac711de31,," ""version"": ""14.2.0"","," ""version"": ""14.1.0"",",1,1
openstack%2Ftripleo-quickstart-extras~master~Iab00ea386cb3dd2df7932c11119057ff121f4bcb,openstack/tripleo-quickstart-extras,master,Iab00ea386cb3dd2df7932c11119057ff121f4bcb,Added missing |bool parameter against use_os_tempest,MERGED,2021-07-01 06:57:54.000000000,2021-07-06 15:33:57.000000000,2021-07-06 15:33:57.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-01 06:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce4a8744e29c294a1e9ce29a78c087d615ed52d8', 'message': 'Added missing |bool parameter against use_os_tempest\n\nIn order to disable os_tempest any where, we define\nthe condition in featureset file, then that condition\ngets updated at playbook level, due to missing |bool\ncondition, it is not able to disable it.\n\nAdding the same will fix the issue.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/798786\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Iab00ea386cb3dd2df7932c11119057ff121f4bcb\n'}, {'number': 2, 'created': '2021-07-01 07:18:01.000000000', 'files': ['playbooks/multinode-validate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4cede0e2369bf7563552becb459f9128fcc03245', 'message': 'Added missing |bool parameter against use_os_tempest\n\nIn order to disable os_tempest any where, we define\nthe condition in featureset file, then that condition\ngets updated at playbook level, due to missing |bool\ncondition, it is not able to disable it.\n\nAdding the same will fix the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Iab00ea386cb3dd2df7932c11119057ff121f4bcb\n'}]",0,798981,4cede0e2369bf7563552becb459f9128fcc03245,15,5,2,12393,,,0,"Added missing |bool parameter against use_os_tempest

In order to disable os_tempest any where, we define
the condition in featureset file, then that condition
gets updated at playbook level, due to missing |bool
condition, it is not able to disable it.

Adding the same will fix the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Iab00ea386cb3dd2df7932c11119057ff121f4bcb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/81/798981/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-validate.yml'],1,ce4a8744e29c294a1e9ce29a78c087d615ed52d8,fix_os_tempest_var, when: use_os_tempest | default(true) | bool, when: use_os_tempest | default(true),1,1
openstack%2Fhorizon~master~I2545b3f7f4ea4b847062d165e61d00e0e9f94922,openstack/horizon,master,I2545b3f7f4ea4b847062d165e61d00e0e9f94922,Allow adding a subnet without gateway ip to a router,NEW,2021-06-02 02:55:44.000000000,2021-07-06 15:30:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-02 02:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/67963f70bb67bbdc723924081e665bca6eeed4d6', 'message': 'Allow adding a subnet without gateway ip to a router\n\nCurrently neutron and horizon support adding a subnet to a router\nusing a fixed ip, and in this case gateway ip is not required because\nthe given ip is used for a connector interface instead.\nThis change allows subnets without gateway ip show up in a subnet\nlist for adding a router interface.\n\nCloses-Bug: #1930499\nChange-Id: I2545b3f7f4ea4b847062d165e61d00e0e9f94922\n'}, {'number': 2, 'created': '2021-06-02 04:25:44.000000000', 'files': ['openstack_dashboard/dashboards/project/routers/ports/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/67e0f3a545d4015fb9d03ed39d7bf5a987f80fb4', 'message': 'Allow adding a subnet without gateway ip to a router\n\nCurrently neutron and horizon support adding a subnet to a router\nusing a fixed ip, and in this case gateway ip is not required because\nthe given ip is used for a connector interface instead.\nThis change allows subnets without gateway ip show up in a subnet\nlist for adding a router interface.\n\nCloses-Bug: #1930499\nChange-Id: I2545b3f7f4ea4b847062d165e61d00e0e9f94922\n'}]",7,794084,67e0f3a545d4015fb9d03ed39d7bf5a987f80fb4,7,2,2,9816,,,0,"Allow adding a subnet without gateway ip to a router

Currently neutron and horizon support adding a subnet to a router
using a fixed ip, and in this case gateway ip is not required because
the given ip is used for a connector interface instead.
This change allows subnets without gateway ip show up in a subnet
list for adding a router interface.

Closes-Bug: #1930499
Change-Id: I2545b3f7f4ea4b847062d165e61d00e0e9f94922
",git fetch https://review.opendev.org/openstack/horizon refs/changes/84/794084/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/routers/ports/forms.py'],1,67963f70bb67bbdc723924081e665bca6eeed4d6,bug/1930499,"from django.forms import ValidationError if subnet.id not in router_subnet_ids ] subnet = api.neutron.subnet_get(request, subnet_id=data['subnet_id']) if not subnet.gateway_ip and not data['ip_address']: error_message = (_('IP address is required because the subnet ' 'does not have gateway ip')) raise ValidationError(error_message) ", if (subnet.id not in router_subnet_ids and subnet.gateway_ip)],8,2
openstack%2Fkeystone~master~I6a0a51fb2d68ec994f610f5de41c9760a4867730,openstack/keystone,master,I6a0a51fb2d68ec994f610f5de41c9760a4867730,Adapt to oslo.db 10.0.0,ABANDONED,2021-07-06 13:31:28.000000000,2021-07-06 15:29:06.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 13:31:28.000000000', 'files': ['keystone/tests/unit/config_files/deprecated.conf', 'keystone/tests/unit/test_config.py', 'keystone/tests/unit/config_files/deprecated_override.conf', 'keystone/tests/unit/config_files/backend_sql.conf', 'keystone/tests/unit/config_files/backend_ldap_sql.conf', 'keystone/tests/unit/config_files/backend_multi_ldap_sql.conf'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e06b743d07383a00826e063b9886b928cdc8c59', 'message': 'Adapt to oslo.db 10.0.0\n\nIn oslo.db 10.0.0 the [sql] and [database]idle_timeout config option is\nremoved. This config option was deprecated in Icehouse and replaced with\n[default]connection_recycle_time config.\n\nChange-Id: I6a0a51fb2d68ec994f610f5de41c9760a4867730\n'}]",1,799670,8e06b743d07383a00826e063b9886b928cdc8c59,5,2,1,9708,,,0,"Adapt to oslo.db 10.0.0

In oslo.db 10.0.0 the [sql] and [database]idle_timeout config option is
removed. This config option was deprecated in Icehouse and replaced with
[default]connection_recycle_time config.

Change-Id: I6a0a51fb2d68ec994f610f5de41c9760a4867730
",git fetch https://review.opendev.org/openstack/keystone refs/changes/70/799670/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/config_files/deprecated.conf', 'keystone/tests/unit/test_config.py', 'keystone/tests/unit/config_files/deprecated_override.conf', 'keystone/tests/unit/config_files/backend_sql.conf', 'keystone/tests/unit/config_files/backend_ldap_sql.conf', 'keystone/tests/unit/config_files/backend_multi_ldap_sql.conf']",6,8e06b743d07383a00826e063b9886b928cdc8c59,oslo.db-10.0.0,connection_recycle_time = 200,idle_timeout = 200,3,8
openstack%2Fcinder-tempest-plugin~master~Iec75740e31e1be581ee0e7ef64214358ef6b790d,openstack/cinder-tempest-plugin,master,Iec75740e31e1be581ee0e7ef64214358ef6b790d,zuul: pin cinder-tempest-plugin/stein-last on stein,MERGED,2021-06-28 15:34:05.000000000,2021-07-06 15:21:58.000000000,2021-07-06 15:21:58.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-06-28 15:34:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/eba85546f15c564f5762f0dfd4a754eec6b78b0a', 'message': 'zuul: pin cinder-tempest-plugin/stein-last on stein\n\nRight now master is used, but it is not compatible with stein.\nTempest is already pinned to an older version, but there is no way\nat the moment to globally pin tempest plugins to the last known\nworking version for a branch (but it will be added soon).\n\nChange-Id: Iec75740e31e1be581ee0e7ef64214358ef6b790d\n'}]",3,798344,eba85546f15c564f5762f0dfd4a754eec6b78b0a,13,5,1,10459,,,0,"zuul: pin cinder-tempest-plugin/stein-last on stein

Right now master is used, but it is not compatible with stein.
Tempest is already pinned to an older version, but there is no way
at the moment to globally pin tempest plugins to the last known
working version for a branch (but it will be added soon).

Change-Id: Iec75740e31e1be581ee0e7ef64214358ef6b790d
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/44/798344/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eba85546f15c564f5762f0dfd4a754eec6b78b0a,pin-stein-last, required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: stein-last,,3,0
openstack%2Fpython-manilaclient~master~I66675bbc4985c5511a2c137f15146b5dc938da32,openstack/python-manilaclient,master,I66675bbc4985c5511a2c137f15146b5dc938da32,[DNM] Baseline testing,ABANDONED,2021-06-21 10:47:57.000000000,2021-07-06 15:17:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-21 10:47:57.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/adc2b905825176b660e4ff7097c30d237d5b5eb6', 'message': '[DNM] Baseline testing\n\nChange-Id: I66675bbc4985c5511a2c137f15146b5dc938da32\n'}]",0,797278,adc2b905825176b660e4ff7097c30d237d5b5eb6,3,1,1,6413,,,0,"[DNM] Baseline testing

Change-Id: I66675bbc4985c5511a2c137f15146b5dc938da32
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/78/797278/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,adc2b905825176b660e4ff7097c30d237d5b5eb6,,,,0,0
openstack%2Fkolla-ansible~stable%2Fussuri~I08030ac88911d3594c75cb2184767067ad177139,openstack/kolla-ansible,stable/ussuri,I08030ac88911d3594c75cb2184767067ad177139,docs: Add note about internal VIP when HAProxy is disabled,MERGED,2021-07-02 15:34:06.000000000,2021-07-06 15:14:06.000000000,2021-07-06 15:12:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-02 15:34:06.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88347646ea65c67ac00b50e2562924601f96e0e4', 'message': 'docs: Add note about internal VIP when HAProxy is disabled\n\nChange-Id: I08030ac88911d3594c75cb2184767067ad177139\n(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)\n'}]",0,799155,88347646ea65c67ac00b50e2562924601f96e0e4,8,3,1,14826,,,0,"docs: Add note about internal VIP when HAProxy is disabled

Change-Id: I08030ac88911d3594c75cb2184767067ad177139
(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/799155/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,88347646ea65c67ac00b50e2562924601f96e0e4,,"In this mode it is still necessary to configure ``kolla_internal_vip_address``, and it should take the IP address of the ``api_interface`` interface. ",,3,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I08030ac88911d3594c75cb2184767067ad177139,openstack/kolla-ansible,stable/wallaby,I08030ac88911d3594c75cb2184767067ad177139,docs: Add note about internal VIP when HAProxy is disabled,MERGED,2021-07-02 15:33:55.000000000,2021-07-06 15:13:54.000000000,2021-07-06 15:12:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-02 15:33:55.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/198c2c61354efe6ac2b28960df097c66072230f1', 'message': 'docs: Add note about internal VIP when HAProxy is disabled\n\nChange-Id: I08030ac88911d3594c75cb2184767067ad177139\n(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)\n'}]",0,799153,198c2c61354efe6ac2b28960df097c66072230f1,8,3,1,14826,,,0,"docs: Add note about internal VIP when HAProxy is disabled

Change-Id: I08030ac88911d3594c75cb2184767067ad177139
(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/799153/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,198c2c61354efe6ac2b28960df097c66072230f1,,"In this mode it is still necessary to configure ``kolla_internal_vip_address``, and it should take the IP address of the ``api_interface`` interface. ",,3,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I08030ac88911d3594c75cb2184767067ad177139,openstack/kolla-ansible,stable/victoria,I08030ac88911d3594c75cb2184767067ad177139,docs: Add note about internal VIP when HAProxy is disabled,MERGED,2021-07-02 15:34:01.000000000,2021-07-06 15:11:23.000000000,2021-07-06 15:09:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-07-02 15:34:01.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0467055b2376cbae32691eba1ee5fb8618f19ee6', 'message': 'docs: Add note about internal VIP when HAProxy is disabled\n\nChange-Id: I08030ac88911d3594c75cb2184767067ad177139\n(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)\n'}]",0,799154,0467055b2376cbae32691eba1ee5fb8618f19ee6,8,3,1,14826,,,0,"docs: Add note about internal VIP when HAProxy is disabled

Change-Id: I08030ac88911d3594c75cb2184767067ad177139
(cherry picked from commit db1bc8fc7a1ccb3daf301e50f0121fa6e29a9c08)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/799154/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,0467055b2376cbae32691eba1ee5fb8618f19ee6,,"In this mode it is still necessary to configure ``kolla_internal_vip_address``, and it should take the IP address of the ``api_interface`` interface. ",,3,0
openstack%2Fironic-inspector~stable%2Fwallaby~If481a5afc3b23d1d196ffd7576d0784a9702da59,openstack/ironic-inspector,stable/wallaby,If481a5afc3b23d1d196ffd7576d0784a9702da59,Fix & suppress oslo policy warnings,ABANDONED,2021-07-06 14:20:49.000000000,2021-07-06 14:52:21.000000000,,[],"[{'number': 1, 'created': '2021-07-06 14:20:49.000000000', 'files': ['requirements.txt', 'ironic_inspector/test/unit/policy_fixture.py', 'ironic_inspector/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/188c25e4d2cbabfecb67065d0e93c886b97cefdc', 'message': ""Fix & suppress oslo policy warnings\n\nThis fix the below warning for DeprecatedRule:\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nAndf suppress the policy deprecation and default change warnings\n\nOslo policy log warnings if defaults for policies are changed.\nWith new RBAC change every policy rules' default is changed,\nwhich end up lot of warnings in logs. We can suppress these for now\nuntil we are enforcing new defaults.\n\n- https://zuul.opendev.org/t/openstack/build/5cefaef6d02a4b7abe3c449491b81e68/log/job-output.txt#879\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: If481a5afc3b23d1d196ffd7576d0784a9702da59\n(cherry picked from commit 6a4899be86805e645e064edf2d7198cda76edde8)\n""}]",0,799590,188c25e4d2cbabfecb67065d0e93c886b97cefdc,2,0,1,8556,,,0,"Fix & suppress oslo policy warnings

This fix the below warning for DeprecatedRule:

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

Andf suppress the policy deprecation and default change warnings

Oslo policy log warnings if defaults for policies are changed.
With new RBAC change every policy rules' default is changed,
which end up lot of warnings in logs. We can suppress these for now
until we are enforcing new defaults.

- https://zuul.opendev.org/t/openstack/build/5cefaef6d02a4b7abe3c449491b81e68/log/job-output.txt#879

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: If481a5afc3b23d1d196ffd7576d0784a9702da59
(cherry picked from commit 6a4899be86805e645e064edf2d7198cda76edde8)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/90/799590/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_inspector/test/unit/policy_fixture.py', 'ironic_inspector/policy.py']",3,188c25e4d2cbabfecb67065d0e93c886b97cefdc,fix-oslo-policy-warnings-stable/wallaby," check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_status deprecated_rule=deprecated_introspection_start deprecated_rule=deprecated_introspection_abort deprecated_rule=deprecated_introspection_data deprecated_rule=deprecated_introspection_reapply deprecated_rule=deprecated_introspection_rule_get deprecated_rule=deprecated_introspection_rule_delete deprecated_rule=deprecated_introspection_rule_create # NOTE(gmann): Explictly disable the warnings for policies # changing their default check_str. With new RBAC policy # work, all the policy defaults have been changed and warning for # each policy started filling the logs limit for various tool. # Once we move to new defaults only world then we can enable these # warning again. _ENFORCER.suppress_default_change_warnings = True "," check_str='rule:is_admin or rule:is_observer' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' deprecated_rule=deprecated_introspection_status, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_start, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_abort, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_data, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_reapply, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_create, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY",43,33
openstack%2Ftripleo-docs~master~Id70b6cb6b17380657cae025a78dc9c4f68b19883,openstack/tripleo-docs,master,Id70b6cb6b17380657cae025a78dc9c4f68b19883,Remove ceph-ansible references in manila doc,MERGED,2021-07-05 08:38:00.000000000,2021-07-06 14:34:40.000000000,2021-07-06 14:33:13.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 08:38:00.000000000', 'files': ['deploy-guide/source/features/deploy_manila.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9b1a112e6c215af7dec92491d2d900e9f3d887d2', 'message': 'Remove ceph-ansible references in manila doc\n\nThis change just replaces the ceph-ansible TripleO environment\nreferences, aligning the doc with the new cephadm tool.\n\nChange-Id: Id70b6cb6b17380657cae025a78dc9c4f68b19883\n'}]",0,799440,9b1a112e6c215af7dec92491d2d900e9f3d887d2,8,6,1,25402,,,0,"Remove ceph-ansible references in manila doc

This change just replaces the ceph-ansible TripleO environment
references, aligning the doc with the new cephadm tool.

Change-Id: Id70b6cb6b17380657cae025a78dc9c4f68b19883
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/40/799440/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deploy_manila.rst'],1,9b1a112e6c215af7dec92491d2d900e9f3d887d2,cephadm_doc, -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/ceph-mds.yaml \, -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-mds.yaml \,2,2
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~I990f1ee0682265ef4d92025d91a5d5e6c0ae5fbd,openstack/openstack-ansible-os_nova,stable/ussuri,I990f1ee0682265ef4d92025d91a5d5e6c0ae5fbd,Install gcc on any nova-compute hosts which need libvirt-devel,MERGED,2021-06-17 22:13:02.000000000,2021-07-06 14:31:24.000000000,2021-07-06 14:29:58.000000000,"[{'_account_id': 22348}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-17 22:13:02.000000000', 'files': ['vars/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8f0dfa87db3fad3c11ef757e7d84cff0ae3c4f1f', 'message': 'Install gcc on any nova-compute hosts which need libvirt-devel\n\nThis installs the compiler conditionally alongside libvirt-devel\nwhich is required on centos-7 hosts. See [1].\n\n[1] Ie678e44c2369347cf0816cbcc4269de8eba7b963\n\nChange-Id: I990f1ee0682265ef4d92025d91a5d5e6c0ae5fbd\n'}]",0,796957,8f0dfa87db3fad3c11ef757e7d84cff0ae3c4f1f,8,3,1,25023,,,0,"Install gcc on any nova-compute hosts which need libvirt-devel

This installs the compiler conditionally alongside libvirt-devel
which is required on centos-7 hosts. See [1].

[1] Ie678e44c2369347cf0816cbcc4269de8eba7b963

Change-Id: I990f1ee0682265ef4d92025d91a5d5e6c0ae5fbd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/57/796957/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/source_install.yml'],1,8f0dfa87db3fad3c11ef757e7d84cff0ae3c4f1f,, {% if 'libvirt_devel' in nova_compute_kvm_distro_packages %} {% set _ = packages.extend(['gcc']) %} {% endif %},,3,0
openstack%2Fcharm-pacemaker-remote~stable%2F21.04~Id6f713ff45b5fd0ef812bd092a612e342279dc99,openstack/charm-pacemaker-remote,stable/21.04,Id6f713ff45b5fd0ef812bd092a612e342279dc99,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:26:11.000000000,2021-07-06 14:24:34.000000000,2021-07-06 14:24:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:26:11.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/396bf936d8b70ddf4f9f21351a7f08434a15bd39', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Id6f713ff45b5fd0ef812bd092a612e342279dc99\n'}]",0,799311,396bf936d8b70ddf4f9f21351a7f08434a15bd39,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Id6f713ff45b5fd0ef812bd092a612e342279dc99
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/11/799311/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,396bf936d8b70ddf4f9f21351a7f08434a15bd39,batch-update,8eed19a8-db58-11eb-8e03-afa57d1e8b20,bece4084-64d9-11eb-a63c-8bd178a54843,1,1
openstack%2Fopenstack-ansible-os_keystone~master~I791063365263c6077584db146314c10997fd61ab,openstack/openstack-ansible-os_keystone,master,I791063365263c6077584db146314c10997fd61ab,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:19:46.000000000,2021-07-06 14:23:27.000000000,2021-07-06 14:22:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-07-03 13:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/238ac9a02e1a49eaf6e8bea508a29cc32f7677de', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I791063365263c6077584db146314c10997fd61ab\n""}, {'number': 2, 'created': '2021-07-05 06:01:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7237dbc6b2ba6d510a8150f27e1bcfca93db56cb', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I791063365263c6077584db146314c10997fd61ab\n""}]",0,799379,7237dbc6b2ba6d510a8150f27e1bcfca93db56cb,10,3,2,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I791063365263c6077584db146314c10997fd61ab
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/79/799379/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,238ac9a02e1a49eaf6e8bea508a29cc32f7677de,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fironic-inspector~master~If481a5afc3b23d1d196ffd7576d0784a9702da59,openstack/ironic-inspector,master,If481a5afc3b23d1d196ffd7576d0784a9702da59,Fix & suppress oslo policy warnings,MERGED,2021-07-04 19:44:58.000000000,2021-07-06 14:21:15.000000000,2021-07-06 10:18:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 19:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5df70cd8fba9252c515c2dd6a9a89d5d6a1744e5', 'message': ""Fix & suppress oslo policy warnings\n\nThis fix the below warning for DeprecatedRule:\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nAndf suppress the policy deprecation and default change warnings\n\nOslo policy log warnings if defaults for policies are changed.\nWith new RBAC change every policy rules' default is changed,\nwhich end up lot of warnings in logs. We can suppress these for now\nuntil we are enforcing new defaults.\n\n- https://zuul.opendev.org/t/openstack/build/5cefaef6d02a4b7abe3c449491b81e68/log/job-output.txt#879\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: If481a5afc3b23d1d196ffd7576d0784a9702da59\n""}, {'number': 2, 'created': '2021-07-05 14:00:17.000000000', 'files': ['requirements.txt', 'ironic_inspector/test/unit/policy_fixture.py', 'ironic_inspector/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6a4899be86805e645e064edf2d7198cda76edde8', 'message': ""Fix & suppress oslo policy warnings\n\nThis fix the below warning for DeprecatedRule:\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nAndf suppress the policy deprecation and default change warnings\n\nOslo policy log warnings if defaults for policies are changed.\nWith new RBAC change every policy rules' default is changed,\nwhich end up lot of warnings in logs. We can suppress these for now\nuntil we are enforcing new defaults.\n\n- https://zuul.opendev.org/t/openstack/build/5cefaef6d02a4b7abe3c449491b81e68/log/job-output.txt#879\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: If481a5afc3b23d1d196ffd7576d0784a9702da59\n""}]",0,799420,6a4899be86805e645e064edf2d7198cda76edde8,22,3,2,8556,,,0,"Fix & suppress oslo policy warnings

This fix the below warning for DeprecatedRule:

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

Andf suppress the policy deprecation and default change warnings

Oslo policy log warnings if defaults for policies are changed.
With new RBAC change every policy rules' default is changed,
which end up lot of warnings in logs. We can suppress these for now
until we are enforcing new defaults.

- https://zuul.opendev.org/t/openstack/build/5cefaef6d02a4b7abe3c449491b81e68/log/job-output.txt#879

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: If481a5afc3b23d1d196ffd7576d0784a9702da59
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/20/799420/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/policy_fixture.py', 'ironic_inspector/policy.py']",2,5df70cd8fba9252c515c2dd6a9a89d5d6a1744e5,fix-oslo-policy-warnings," check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_status deprecated_rule=deprecated_introspection_start deprecated_rule=deprecated_introspection_abort deprecated_rule=deprecated_introspection_data deprecated_rule=deprecated_introspection_reapply deprecated_rule=deprecated_introspection_rule_get deprecated_rule=deprecated_introspection_rule_delete deprecated_rule=deprecated_introspection_rule_create # NOTE(gmann): Explictly disable the warnings for policies # changing their default check_str. With new RBAC policy # work, all the policy defaults have been changed and warning for # each policy started filling the logs limit for various tool. # Once we move to new defaults only world then we can enable these # warning again. _ENFORCER.suppress_default_change_warnings = True "," check_str='rule:is_admin or rule:is_observer' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' check_str='rule:is_admin' deprecated_rule=deprecated_introspection_status, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_start, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_abort, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_data, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_reapply, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_introspection_rule_create, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY",42,32
openstack%2Fcharm-manila-generic~stable%2F21.04~Id7c698d736e1dd43f3a640310a7cb058bd7acb37,openstack/charm-manila-generic,stable/21.04,Id7c698d736e1dd43f3a640310a7cb058bd7acb37,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:25.000000000,2021-07-06 14:16:48.000000000,2021-07-06 14:16:48.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:25.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a58f367a3a066cbe5671d60e8ecf159e6cd68ece', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Id7c698d736e1dd43f3a640310a7cb058bd7acb37\n'}]",0,799295,a58f367a3a066cbe5671d60e8ecf159e6cd68ece,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Id7c698d736e1dd43f3a640310a7cb058bd7acb37
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/95/799295/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a58f367a3a066cbe5671d60e8ecf159e6cd68ece,batch-update,8ebf4ab4-db58-11eb-b6ca-67540305e016,bea18094-64d9-11eb-883d-5f75cf4464d7,1,1
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,openstack/tripleo-upgrade,stable/victoria,I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,Refactor workload script,MERGED,2021-07-05 18:53:30.000000000,2021-07-06 14:16:34.000000000,2021-07-06 14:16:34.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-05 18:53:30.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4d2b149a125b863252202fe0cead76f03f75e652', 'message': 'Refactor workload script\n\n* Add sanity_check function to verify cluster before starting any\n  workloads.\n* Rename flavor to include the actual memory limit\n* Add flavor removal on sanity_teardown\n* Add - to jinja templates to exclude unneeded extra new lines\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)\n'}]",0,799492,4d2b149a125b863252202fe0cead76f03f75e652,10,3,1,11090,,,0,"Refactor workload script

* Add sanity_check function to verify cluster before starting any
  workloads.
* Rename flavor to include the actual memory limit
* Add flavor removal on sanity_teardown
* Add - to jinja templates to exclude unneeded extra new lines

Change-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95
(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/92/799492/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,4d2b149a125b863252202fe0cead76f03f75e652,improve_workload_test-stable/victoria," export FLAVOR_NAME=""v1-{{ workload_memory }}M-{{ workload_disk }}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool -%} {% elif overcloud_upgrade | bool -%} {%- endif %} } function sanity_check { local timeout_seconds=180 local elapsed_seconds=0 echo ""Waiting for compute services to be up"" until openstack compute service list --service nova-compute -c State -f value | grep -qv down && openstack network agent list -f value -c Alive | grep -qv False; do if [ $elapsed_seconds -ge $timeout_seconds ]; then echo ""FAILURE: Some nova-compute or neutron services are down"" openstack compute service list --service nova-compute openstack network agent list exit 1 fi sleep 5 elapsed_seconds=$(( ${elapsed_seconds} + 5 )) done echo ""All compute services are up and running"" } {% if workload_sriov | bool -%} {% else -%} {%- endif %} sleep 5 echo ""Remove flavor ${FLAVOR_NAME}"" openstack flavor delete ${FLAVOR_NAME} {% if workload_sriov | bool -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check sanity_check SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check"," export FLAVOR_NAME=""v1-1G-{{ workload_disk}}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool %} {% elif overcloud_upgrade | bool %} {% endif %} } {% if workload_sriov | bool %} {% else %} {% endif %} SUFFIX=$(openssl rand -hex 5) prepare_env {% if workload_sriov | bool %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %}",45,19
openstack%2Fcharm-ironic-conductor~stable%2F21.04~Ib18a904e3ff4772e6031b45ea14131a38214c81a,openstack/charm-ironic-conductor,stable/21.04,Ib18a904e3ff4772e6031b45ea14131a38214c81a,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:16.000000000,2021-07-06 14:16:03.000000000,2021-07-06 14:16:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:16.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/15bb9ba1ec477604c45eb24dbb1c6b4aa529ca33', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib18a904e3ff4772e6031b45ea14131a38214c81a\n'}]",0,799285,15bb9ba1ec477604c45eb24dbb1c6b4aa529ca33,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ib18a904e3ff4772e6031b45ea14131a38214c81a
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/85/799285/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,15bb9ba1ec477604c45eb24dbb1c6b4aa529ca33,batch-update,8ea9c838-db58-11eb-a84e-b30ea24eb195,82e49d08-5745-11eb-b8af-178608788a56,1,1
openstack%2Ftripleo-quickstart-extras~master~I3198961a239766c6ac4b8de82336998f499412e1,openstack/tripleo-quickstart-extras,master,I3198961a239766c6ac4b8de82336998f499412e1,Add build for ansible collections in build-test,MERGED,2021-06-30 19:32:07.000000000,2021-07-06 14:10:07.000000000,2021-07-06 14:10:07.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-30 19:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c345c34de99f6310d1e45d2173ae3f7b2ada32e', 'message': 'WIP version 2 - Add build for ansible collections in build-test\n\nAdd building for 3 other ansible collections we use in TripleO:\n  - ansible-collections/community.general\n  - ansible-collections/ansible.posix\n  - ansible-collections/ansible.netcommon\n\nChange-Id: I3198961a239766c6ac4b8de82336998f499412e1\n'}, {'number': 2, 'created': '2021-06-30 21:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5110ff8ebc56dbb8264b53f54e741ba19e315bef', 'message': 'WIP version 2 - Add build for ansible collections in build-test\n\nAdd building for 3 other ansible collections we use in TripleO:\n  - ansible-collections/community.general\n  - ansible-collections/ansible.posix\n  - ansible-collections/ansible.netcommon\n\nChange-Id: I3198961a239766c6ac4b8de82336998f499412e1\n'}, {'number': 3, 'created': '2021-06-30 21:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bb5fb88f67e0458180bcdc11f0bddd754ffea109', 'message': 'WIP version 2 - Add build for ansible collections in build-test\n\nAdd building for 3 other ansible collections we use in TripleO:\n  - ansible-collections/community.general\n  - ansible-collections/ansible.posix\n  - ansible-collections/ansible.netcommon\n\nChange-Id: I3198961a239766c6ac4b8de82336998f499412e1\n'}, {'number': 4, 'created': '2021-07-01 07:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/34b76793ef16d330d4f7c2a9618feb820acc66df', 'message': 'Add build for ansible collections in build-test\n\nAdd building for 3 other ansible collections we use in TripleO:\n  - ansible-collections/community.general\n  - ansible-collections/ansible.posix\n  - ansible-collections/ansible.netcommon\nFor each one add RPM spec so we can manage it and not depend on\none in koji.\n\nChange-Id: I3198961a239766c6ac4b8de82336998f499412e1\n'}, {'number': 5, 'created': '2021-07-05 11:03:37.000000000', 'files': ['roles/build-test-packages/tasks/github-pr.yml', 'roles/build-test-packages/templates/specs/community-general-build.spec.j2', 'roles/build-test-packages/templates/build_collection.sh.j2', 'roles/build-test-packages/templates/specs/ansible-netcommon-build.spec.j2', 'roles/build-test-packages/templates/specs/ansible-posix-build.spec.j2', 'roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/acbce91d91990f29799f132e32c3936c78592f45', 'message': 'Add build for ansible collections in build-test\n\nAdd building for 3 other ansible collections we use in TripleO:\n  - ansible-collections/community.general\n  - ansible-collections/ansible.posix\n  - ansible-collections/ansible.netcommon\nFor each one add RPM spec so we can manage it and not depend on\none in koji.\n\nChange-Id: I3198961a239766c6ac4b8de82336998f499412e1\n'}]",20,798950,acbce91d91990f29799f132e32c3936c78592f45,27,5,5,10969,,,0,"Add build for ansible collections in build-test

Add building for 3 other ansible collections we use in TripleO:
  - ansible-collections/community.general
  - ansible-collections/ansible.posix
  - ansible-collections/ansible.netcommon
For each one add RPM spec so we can manage it and not depend on
one in koji.

Change-Id: I3198961a239766c6ac4b8de82336998f499412e1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/798950/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/tasks/github-pr.yml', 'roles/build-test-packages/templates/specs/community-general-build.spec.j2', 'roles/build-test-packages/templates/build_collection.sh.j2', 'roles/build-test-packages/templates/specs/ansible-netcommon-build.spec.j2', 'roles/build-test-packages/templates/specs/ansible-posix-build.spec.j2', 'roles/build-test-packages/defaults/main.yml']",6,4c345c34de99f6310d1e45d2173ae3f7b2ada32e,ghpr, - ansible-collections/community.general - ansible-collections/ansible.posix - ansible-collections/ansible.netcommon,,238,10
openstack%2Fcharm-neutron-dynamic-routing~stable%2F21.04~I969fd51fac601fdc169c6c43520adc57f4979f67,openstack/charm-neutron-dynamic-routing,stable/21.04,I969fd51fac601fdc169c6c43520adc57f4979f67,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:19.000000000,2021-07-06 14:06:53.000000000,2021-07-06 14:06:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:25:19.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/d1b4040d9b000313cf095d4b4eb943954cf6fcbc', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I969fd51fac601fdc169c6c43520adc57f4979f67\n'}]",0,799303,d1b4040d9b000313cf095d4b4eb943954cf6fcbc,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I969fd51fac601fdc169c6c43520adc57f4979f67
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/03/799303/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d1b4040d9b000313cf095d4b4eb943954cf6fcbc,batch-update,8ed15c7c-db58-11eb-a82f-639acbf8eb89,beb97190-64d9-11eb-9db7-df41a3bece81,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2F21.04~Icae68e0ef78286c7c95a5976bf5457df476ed320,openstack/charm-octavia-diskimage-retrofit,stable/21.04,Icae68e0ef78286c7c95a5976bf5457df476ed320,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:45.000000000,2021-07-06 14:05:59.000000000,2021-07-06 14:05:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:25:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/659a7d6afdf97f0c5b44f3b253fe5092428a516d', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Icae68e0ef78286c7c95a5976bf5457df476ed320\n'}]",0,799307,659a7d6afdf97f0c5b44f3b253fe5092428a516d,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Icae68e0ef78286c7c95a5976bf5457df476ed320
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/07/799307/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,659a7d6afdf97f0c5b44f3b253fe5092428a516d,batch-update,8ee2c674-db58-11eb-8022-9be79157b707,8321c6ec-5745-11eb-b793-47c28b8f9751,1,1
openstack%2Fcharm-nova-cell-controller~stable%2F21.04~Ifb33609b24cf2daace3a37bf6f488221588ee28e,openstack/charm-nova-cell-controller,stable/21.04,Ifb33609b24cf2daace3a37bf6f488221588ee28e,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:25:25.000000000,2021-07-06 14:04:43.000000000,2021-07-06 14:04:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:25:25.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/49af977bf33d9d3237d524e07d697fb77f418b2e', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ifb33609b24cf2daace3a37bf6f488221588ee28e\n'}]",0,799304,49af977bf33d9d3237d524e07d697fb77f418b2e,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ifb33609b24cf2daace3a37bf6f488221588ee28e
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/04/799304/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,49af977bf33d9d3237d524e07d697fb77f418b2e,batch-update,8ed82912-db58-11eb-bae0-6ba1b1c96d5d,bebc0996-64d9-11eb-9ec3-7fd130fb558b,1,1
openstack%2Fcharm-neutron-api-plugin-arista~stable%2F21.04~I3014a79d1cf661f74425dc6f13b7025b8c500a0d,openstack/charm-neutron-api-plugin-arista,stable/21.04,I3014a79d1cf661f74425dc6f13b7025b8c500a0d,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:58.000000000,2021-07-06 14:04:03.000000000,2021-07-06 14:04:03.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:58.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/02ea4c5670a63c7a03d917685b33acbbdcb3307a', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I3014a79d1cf661f74425dc6f13b7025b8c500a0d\n'}]",0,799300,02ea4c5670a63c7a03d917685b33acbbdcb3307a,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I3014a79d1cf661f74425dc6f13b7025b8c500a0d
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/00/799300/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,02ea4c5670a63c7a03d917685b33acbbdcb3307a,batch-update,8ecb86b2-db58-11eb-858a-7f78e5aeb5f6,beb126d4-64d9-11eb-8a5a-0b9c14b07681,1,1
openstack%2Fcharm-manila-dashboard~stable%2F21.04~I8c1556966c7e5157353bdeb58d911b77abc44cf3,openstack/charm-manila-dashboard,stable/21.04,I8c1556966c7e5157353bdeb58d911b77abc44cf3,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:11.000000000,2021-07-06 14:03:58.000000000,2021-07-06 14:03:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:11.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/3e2c7aa80b6f1aec1ddf290f7ba7c3a4329ed9cd', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I8c1556966c7e5157353bdeb58d911b77abc44cf3\n'}]",0,799293,3e2c7aa80b6f1aec1ddf290f7ba7c3a4329ed9cd,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I8c1556966c7e5157353bdeb58d911b77abc44cf3
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/93/799293/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,3e2c7aa80b6f1aec1ddf290f7ba7c3a4329ed9cd,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 8ebb77c2-db58-11eb-8d06-e3c66e4ed514 ",,5,0
openstack%2Fcharm-masakari-monitors~stable%2F21.04~I46ef39eff485af60efe25323ef262a284314b633,openstack/charm-masakari-monitors,stable/21.04,I46ef39eff485af60efe25323ef262a284314b633,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:37.000000000,2021-07-06 14:01:55.000000000,2021-07-06 14:01:55.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:37.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ad96c501b62e2ea04c937a7d14979649b7adb083', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I46ef39eff485af60efe25323ef262a284314b633\n'}]",0,799297,ad96c501b62e2ea04c937a7d14979649b7adb083,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I46ef39eff485af60efe25323ef262a284314b633
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/97/799297/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ad96c501b62e2ea04c937a7d14979649b7adb083,batch-update,8ec31928-db58-11eb-954f-37297ff68eff,bea96a52-64d9-11eb-af2b-5fba898e144f,1,1
openstack%2Fcharm-ironic-api~stable%2F21.04~I43ca436204b427ce4cebfdec90d88a00ed79dc81,openstack/charm-ironic-api,stable/21.04,I43ca436204b427ce4cebfdec90d88a00ed79dc81,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:10.000000000,2021-07-06 14:00:49.000000000,2021-07-06 14:00:49.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:10.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/447b8a222d048d5e23fa89ebdf31e32763c8533a', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I43ca436204b427ce4cebfdec90d88a00ed79dc81\n'}]",0,799284,447b8a222d048d5e23fa89ebdf31e32763c8533a,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I43ca436204b427ce4cebfdec90d88a00ed79dc81
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/84/799284/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,447b8a222d048d5e23fa89ebdf31e32763c8533a,batch-update,8ea807fa-db58-11eb-bc15-333ecb8fc406,be916092-64d9-11eb-bd1c-3be46afca526,1,1
openstack%2Fcharm-mysql-router~stable%2F21.04~I73f01bfbb13b3be78e4b4651bdd1756d65419e6d,openstack/charm-mysql-router,stable/21.04,I73f01bfbb13b3be78e4b4651bdd1756d65419e6d,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:51.000000000,2021-07-06 14:00:19.000000000,2021-07-06 14:00:19.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/4993bcb008ab4a77f997444d422d971d210da020', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I73f01bfbb13b3be78e4b4651bdd1756d65419e6d\n'}]",0,799299,4993bcb008ab4a77f997444d422d971d210da020,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I73f01bfbb13b3be78e4b4651bdd1756d65419e6d
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/99/799299/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,4993bcb008ab4a77f997444d422d971d210da020,batch-update,8ec72644-db58-11eb-bd92-7b3b62275d6e,beae9a90-64d9-11eb-b72a-cfb58d23d450,1,1
openstack%2Fopenstack-ansible-os_glance~master~I14ac7495c8eaa420fa0bbe9ffbcec917e4fc425f,openstack/openstack-ansible-os_glance,master,I14ac7495c8eaa420fa0bbe9ffbcec917e4fc425f,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:17:32.000000000,2021-07-06 14:00:01.000000000,2021-07-06 13:58:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-07-03 13:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3d71f9cc21507db403c1ede34700dedb737b5302', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I14ac7495c8eaa420fa0bbe9ffbcec917e4fc425f\n""}, {'number': 2, 'created': '2021-07-05 06:22:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/afd07792015fa6452eb24b3d9a1d4becc8240922', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I14ac7495c8eaa420fa0bbe9ffbcec917e4fc425f\n""}]",0,799355,afd07792015fa6452eb24b3d9a1d4becc8240922,10,3,2,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I14ac7495c8eaa420fa0bbe9ffbcec917e4fc425f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/55/799355/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3d71f9cc21507db403c1ede34700dedb737b5302,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fcharm-keystone-saml-mellon~stable%2F21.04~I0ca9980f06d7b047398285184740389146296915,openstack/charm-keystone-saml-mellon,stable/21.04,I0ca9980f06d7b047398285184740389146296915,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:38.000000000,2021-07-06 13:59:34.000000000,2021-07-06 13:59:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:38.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/ac3938b1bff12964f51a099bb489347b2e47773e', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I0ca9980f06d7b047398285184740389146296915\n'}]",0,799288,ac3938b1bff12964f51a099bb489347b2e47773e,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I0ca9980f06d7b047398285184740389146296915
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/88/799288/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,ac3938b1bff12964f51a099bb489347b2e47773e,batch-update,8eb1fee0-db58-11eb-b5ad-0b5e9b5ee8e2,82eeb69e-5745-11eb-a017-1bac08bb14fb,1,1
openstack%2Fcharm-masakari~stable%2F21.04~I444d1663d75b18a41d6a25a75b1a57ec435990fd,openstack/charm-masakari,stable/21.04,I444d1663d75b18a41d6a25a75b1a57ec435990fd,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:24:31.000000000,2021-07-06 13:59:31.000000000,2021-07-06 13:59:31.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:24:31.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/35a1c5d08cbc2fbb3e7ed660b88aa6e97700f64a', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I444d1663d75b18a41d6a25a75b1a57ec435990fd\n'}]",0,799296,35a1c5d08cbc2fbb3e7ed660b88aa6e97700f64a,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I444d1663d75b18a41d6a25a75b1a57ec435990fd
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/96/799296/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,35a1c5d08cbc2fbb3e7ed660b88aa6e97700f64a,batch-update,8ec137a2-db58-11eb-91a5-03791450475e,bea6ca18-64d9-11eb-b219-331508415eb5,1,1
openstack%2Fcharm-magpie~stable%2F21.04~I602c19fc2b1d5b0390c54c09503a309e4a23eedd,openstack/charm-magpie,stable/21.04,I602c19fc2b1d5b0390c54c09503a309e4a23eedd,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:45.000000000,2021-07-06 13:58:22.000000000,2021-07-06 13:58:22.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/cbf352cc239c6b15d37d3584a6598daae0297ed2', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I602c19fc2b1d5b0390c54c09503a309e4a23eedd\n'}]",0,799289,cbf352cc239c6b15d37d3584a6598daae0297ed2,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I602c19fc2b1d5b0390c54c09503a309e4a23eedd
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/89/799289/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,cbf352cc239c6b15d37d3584a6598daae0297ed2,batch-update,8eb3d63e-db58-11eb-a579-ab3b577a55fd,be9c1a46-64d9-11eb-b4a5-0f12fb17008b,1,1
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2F21.04~I01d115525f962a4d28d4aa58b01e8210c8513c6a,openstack/charm-cinder-backup-swift-proxy,stable/21.04,I01d115525f962a4d28d4aa58b01e8210c8513c6a,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:12:25.000000000,2021-07-06 13:57:37.000000000,2021-07-06 13:57:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:12:25.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/982c81315fa964dcdfebb44562ea37d067a922ee', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I01d115525f962a4d28d4aa58b01e8210c8513c6a\n'}]",0,799279,982c81315fa964dcdfebb44562ea37d067a922ee,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I01d115525f962a4d28d4aa58b01e8210c8513c6a
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/79/799279/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,982c81315fa964dcdfebb44562ea37d067a922ee,batch-update,8e932f2e-db58-11eb-acd1-8b2baaa79c29,82c806d4-5745-11eb-9ea7-83596e0134ee,1,1
openstack%2Fcharm-keystone-kerberos~stable%2F21.04~I0dcd69af1988a6a684732112f19ba61a34cb7156,openstack/charm-keystone-kerberos,stable/21.04,I0dcd69af1988a6a684732112f19ba61a34cb7156,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:23.000000000,2021-07-06 13:57:34.000000000,2021-07-06 13:57:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:23.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/24a60d74aa959a18b8731d6ce7b1497c77f904ca', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I0dcd69af1988a6a684732112f19ba61a34cb7156\n'}]",0,799286,24a60d74aa959a18b8731d6ce7b1497c77f904ca,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I0dcd69af1988a6a684732112f19ba61a34cb7156
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/86/799286/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,24a60d74aa959a18b8731d6ce7b1497c77f904ca,batch-update,8eae22ac-db58-11eb-a1fd-9b5512c457a9,be96acf0-64d9-11eb-bfb9-a3cd2c82eadc,1,1
openstack%2Fcharm-gnocchi~stable%2F21.04~I7e0672fab777303f050bbba871ef70af1a2b256c,openstack/charm-gnocchi,stable/21.04,I7e0672fab777303f050bbba871ef70af1a2b256c,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:05.000000000,2021-07-06 13:57:13.000000000,2021-07-06 13:57:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:05.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/bbdcae224c387102333ae67fbf261507954344a6', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I7e0672fab777303f050bbba871ef70af1a2b256c\n'}]",0,799283,bbdcae224c387102333ae67fbf261507954344a6,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I7e0672fab777303f050bbba871ef70af1a2b256c
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/83/799283/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,bbdcae224c387102333ae67fbf261507954344a6,batch-update,8ea1a040-db58-11eb-82af-7ba600965b4f,0da90310-75e3-4a9f-a5f2-2bb4bc85a934,1,1
openstack%2Fcharm-ceph-rbd-mirror~stable%2F21.04~Ib9c65fb8e8438d4def4fb276340d4e6f51e8d6c9,openstack/charm-ceph-rbd-mirror,stable/21.04,Ib9c65fb8e8438d4def4fb276340d4e6f51e8d6c9,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:12:18.000000000,2021-07-06 13:56:58.000000000,2021-07-06 13:56:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:12:18.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/45992a3f35cf8a207b79c862c81d87988bff76b1', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib9c65fb8e8438d4def4fb276340d4e6f51e8d6c9\n'}]",0,799278,45992a3f35cf8a207b79c862c81d87988bff76b1,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ib9c65fb8e8438d4def4fb276340d4e6f51e8d6c9
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/78/799278/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,45992a3f35cf8a207b79c862c81d87988bff76b1,batch-update,8e8c6a04-db58-11eb-b063-4f0165afd43f,82c053f8-5745-11eb-b798-b32b668d6814,1,1
openstack%2Fcharm-barbican~stable%2F21.04~I9a03c87cb71f96e40e504860f38770bef1f877b4,openstack/charm-barbican,stable/21.04,I9a03c87cb71f96e40e504860f38770bef1f877b4,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:11:57.000000000,2021-07-06 13:56:17.000000000,2021-07-06 13:56:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:11:57.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/996a5631ed82753de4a3fb0f3f93c03fed3123e8', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I9a03c87cb71f96e40e504860f38770bef1f877b4\n'}]",0,799275,996a5631ed82753de4a3fb0f3f93c03fed3123e8,8,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I9a03c87cb71f96e40e504860f38770bef1f877b4
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/75/799275/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,996a5631ed82753de4a3fb0f3f93c03fed3123e8,batch-update,8e77bf64-db58-11eb-a85c-7f6878a3b0e2,be7f7e0e-64d9-11eb-b7d2-3f64765554a6,1,1
openstack%2Fcharm-cinder-purestorage~stable%2F21.04~Ie32ce818d642f25d4aee275fc5a7e4ff06fd47d6,openstack/charm-cinder-purestorage,stable/21.04,Ie32ce818d642f25d4aee275fc5a7e4ff06fd47d6,rebuild - restore proxy env vars for add-apt-repository,ABANDONED,2021-07-02 17:12:33.000000000,2021-07-06 13:48:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:12:33.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/6aa71d6d13f8b44eaf966c9a1410159bd2058711', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: Ie32ce818d642f25d4aee275fc5a7e4ff06fd47d6\n'}]",0,799280,6aa71d6d13f8b44eaf966c9a1410159bd2058711,5,3,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: Ie32ce818d642f25d4aee275fc5a7e4ff06fd47d6
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/80/799280/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,6aa71d6d13f8b44eaf966c9a1410159bd2058711,batch-update,8e97723c-db58-11eb-adf4-eb92b0ac5522,be86f896-64d9-11eb-a97e-3fef34b62e4b,1,1
openstack%2Ftripleo-heat-templates~master~I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc,openstack/tripleo-heat-templates,master,I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc,Enable octavia driver agent puppet,MERGED,2021-05-27 14:46:27.000000000,2021-07-06 13:48:23.000000000,2021-06-29 00:42:14.000000000,"[{'_account_id': 1131}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 14:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54168283ea87b98ef12b8fb8b715344d22485c11', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n""}, {'number': 2, 'created': '2021-06-02 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a616e4d93e54af823d874d454a9965bf321f6921', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n""}, {'number': 3, 'created': '2021-06-23 14:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a28648dfd6e723ddd7a59adecf32e2192183d3', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n""}, {'number': 4, 'created': '2021-06-24 00:10:11.000000000', 'files': ['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0adac953a75b0de4f8cc3ee14a9f69bce3e51d4', 'message': ""Enable octavia driver agent puppet\n\nThe patch fixes an issue where the driver agent's configuration data\nwasn't being set nor the puppet executed.\n\nChange-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc\n""}]",6,793422,e0adac953a75b0de4f8cc3ee14a9f69bce3e51d4,25,5,4,6681,,,0,"Enable octavia driver agent puppet

The patch fixes an issue where the driver agent's configuration data
wasn't being set nor the puppet executed.

Change-Id: I3bcdacc3d93f868ab15070b5d265f71a7a8e0bcc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/793422/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",2,54168283ea87b98ef12b8fb8b715344d22485c11,octavia-driver-agent-puppet," - if: - {get_param: OctaviaEnableDriverAgent} - ""include octavia::driver_agent""",,4,0
openstack%2Fcharm-magnum~stable%2F21.04~I10d1a1376f62fad83163e24446e33bf3857caa56,openstack/charm-magnum,stable/21.04,I10d1a1376f62fad83163e24446e33bf3857caa56,rebuild - restore proxy env vars for add-apt-repository,ABANDONED,2021-07-05 12:35:39.000000000,2021-07-06 13:43:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-05 12:35:39.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/c4a9ff2eba10dcd0fdc92037cbf2da554b2ad4a9', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I10d1a1376f62fad83163e24446e33bf3857caa56\n'}]",1,799467,c4a9ff2eba10dcd0fdc92037cbf2da554b2ad4a9,5,2,1,31289,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I10d1a1376f62fad83163e24446e33bf3857caa56
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/67/799467/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,c4a9ff2eba10dcd0fdc92037cbf2da554b2ad4a9,batch-update," ""commit"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"" ""commit"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"" ""branch"": ""refs/heads/stable/21.04"", ""commit"": ""refs/heads/stable/21.04"" ""package"": ""pip"", ""version"": ""18.1"" ""package"": ""MarkupSafe"", ""version"": ""1.1.1"" ""package"": ""netifaces"", ""version"": ""0.11.0"" ""package"": ""pbr"", ""version"": ""5.6.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""41.6.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/21.04"", ""version"": ""6af07b383347b747bd9a346d0e82d562c1b2824a"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""1.17.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""20.4.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.4.1"" ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.2"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://opendev.org/openstack/charms.openstack.git"", ""branch"": ""refs/heads/master\nrefs/heads/stable/21.04"", ""version"": ""bcd0c9b4b4a19d4a4125e0a6a3f808a843a74fa1"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""2.10.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.5.2"""," ""commit"": ""623e69c7b432456fd4364f6e1835424fd6b5425e"" ""commit"": ""ba152d41b4a1109073d335415f43c4248109e7c7"" ""branch"": ""refs/heads/master"", ""commit"": ""8ad5c4fefec0c02c5c1feda8b38bdacfc2acfae5"" ""package"": ""charms.openstack"", ""url"": ""git+https://opendev.org/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/21.04"", ""version"": ""bcd0c9b4b4a19d4a4125e0a6a3f808a843a74fa1"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.5.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""41.6.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""2.10.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""18.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""20.4.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""1.1.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/21.04"", ""version"": ""8c48d2914b0e7396a2392c3933e2d7f321643ae6"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""version"": ""1.4.1"" ""package"": ""Tempita"", ""version"": ""0.5.2"" ""package"": ""PyYAML"", ""version"": ""5.2"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""1.17.0"" ""package"": ""netifaces"", ""version"": ""0.10.9"" ""version"": ""1.15.0""",77,77
openstack%2Ftripleo-docs~master~I0cc81660d35db5a2440b280c31ab1269f4bb185a,openstack/tripleo-docs,master,I0cc81660d35db5a2440b280c31ab1269f4bb185a,Doc - Network v2 overview,MERGED,2021-06-16 22:28:05.000000000,2021-07-06 13:28:32.000000000,2021-07-06 13:26:11.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-16 22:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d0be107e0c1a4acf17c84c98f596e947071a5f17', 'message': 'Doc - Network v2 overview\n\nAdd a documentation page regarding the changes to\nTripleO Networking.\n\n* Resources managed external to Heat stack\n* Service VIPs as external deploy tasks\n* Ansible j2 NIC templates vs Heat NIC templates\n* The migration/upgrade path/tooling\n\nDepends-On: https://review.opendev.org/793385\nDepends-On: https://review.opendev.org/795773\nChange-Id: I0cc81660d35db5a2440b280c31ab1269f4bb185a\n'}, {'number': 2, 'created': '2021-06-17 20:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5857c1170975ad09d6c35bc7fd89989569c877af', 'message': 'Doc - Network v2 overview\n\nAdd a documentation page regarding the changes to\nTripleO Networking.\n\n* Resources managed external to Heat stack\n* Service VIPs as external deploy tasks\n* Ansible j2 NIC templates vs Heat NIC templates\n* The migration/upgrade path/tooling\n\nDepends-On: https://review.opendev.org/793385\nDepends-On: https://review.opendev.org/795773\nChange-Id: I0cc81660d35db5a2440b280c31ab1269f4bb185a\n'}, {'number': 3, 'created': '2021-06-18 11:04:01.000000000', 'files': ['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/deployment/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b5adf77cd06e751db5c821cc652e14eb35728db0', 'message': 'Doc - Network v2 overview\n\nAdd a documentation page regarding the changes to\nTripleO Networking.\n\n* Resources managed external to Heat stack\n* Service VIPs as external deploy tasks\n* Ansible j2 NIC templates vs Heat NIC templates\n* The migration/upgrade path/tooling\n\nDepends-On: https://review.opendev.org/793385\nDepends-On: https://review.opendev.org/795773\nChange-Id: I0cc81660d35db5a2440b280c31ab1269f4bb185a\n'}]",10,796738,b5adf77cd06e751db5c821cc652e14eb35728db0,21,7,3,24245,,,0,"Doc - Network v2 overview

Add a documentation page regarding the changes to
TripleO Networking.

* Resources managed external to Heat stack
* Service VIPs as external deploy tasks
* Ansible j2 NIC templates vs Heat NIC templates
* The migration/upgrade path/tooling

Depends-On: https://review.opendev.org/793385
Depends-On: https://review.opendev.org/795773
Change-Id: I0cc81660d35db5a2440b280c31ab1269f4bb185a
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/38/796738/3 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/deployment/network_v2.rst', 'deploy-guide/source/deployment/index.rst']",3,d0be107e0c1a4acf17c84c98f596e947071a5f17,network-data-v2, network_v2,,451,0
openstack%2Ftripleo-docs~master~Id54e00aea40980352ff72a99a3f1b07e6c7bf2e1,openstack/tripleo-docs,master,Id54e00aea40980352ff72a99a3f1b07e6c7bf2e1,Update network-v2 documentation,MERGED,2021-06-16 11:18:20.000000000,2021-07-06 13:27:32.000000000,2021-07-06 13:25:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-16 11:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/581dc49284a18718d6ab69a23049f09f5ec80a1a', 'message': 'Update network-v2 documentation\n\n* Document overcloud network vip provision\n* Add examples doing it all with `overcloud deploy`\n\nDepends-On: https://review.opendev.org/793385\nChange-Id: Id54e00aea40980352ff72a99a3f1b07e6c7bf2e1\n'}, {'number': 2, 'created': '2021-06-16 11:35:20.000000000', 'files': ['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/features/custom_networks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/12ddb1c1db8eb47fed40a39509ffa40592b14492', 'message': 'Update network-v2 documentation\n\n* Document overcloud network vip provision\n* Add examples doing it all with `overcloud deploy`\n\nDepends-On: https://review.opendev.org/793385\nChange-Id: Id54e00aea40980352ff72a99a3f1b07e6c7bf2e1\n'}]",0,796627,12ddb1c1db8eb47fed40a39509ffa40592b14492,12,6,2,24245,,,0,"Update network-v2 documentation

* Document overcloud network vip provision
* Add examples doing it all with `overcloud deploy`

Depends-On: https://review.opendev.org/793385
Change-Id: Id54e00aea40980352ff72a99a3f1b07e6c7bf2e1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/27/796627/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/network_isolation.rst', 'deploy-guide/source/features/custom_networks.rst']",2,581dc49284a18718d6ab69a23049f09f5ec80a1a,network-data-v2,"#. Copy one of the sample ``vip_data`` YAML definitions provided by tripleo-heat-templates_, for example:: cp /usr/share/openstack-tripleo-heat-templates/network-data-samples/vip-data-default-network-isolation.yaml \ custom_vip_data.yaml .. admonition:: Victoria and prior releases For Victoria and prior releases the Virtual IP resources are created as part of the overcloud heat stack. This step is not valid for these releases. #. Modify the ``custom_vip_data.yaml`` file as required. The Virtual IP data is a list of Virtual IP address definitions, each containing at a minimum the name of the network where the IP address should be allocated. See `Network Virtual IPs data YAML options`_ for a list of all documented options for the ``vip_data`` YAML network Virtual IPs definition. .. admonition:: Victoria and prior releases For Victoria and prior releases the Virtual IP resources are created as part of the overcloud heat stack. This step is not valid for these releases. .. note:: This step is optional when using the ``--baremetal-deployment`` and ``--vip-data`` options with the ``overcloud deploy`` command. The deploy command will detect the new format of the network data YAML definition, run the workflow to create the networks and include the ``networks-deployed-environment.yaml`` automatically. #. Create the overcloud network Virtual IPs and generate the ``vip-deployed-environment.yaml`` which will be used as an environment file when deploying the overcloud. .. code-block:: bash $ openstack overcloud network vip provision \ --output ~/templates/vip-deployed-environment.yaml \ ~/templates/custom_vip_data.yaml .. note:: This step is optional if using the ``--vip-data`` options with the ``overcloud deploy`` command. In that case workflow to create the Virtual IPs and including the environment is automated. option to the overcloud deploy, for example: .. code-block:: bash -e vip-deployed-environment.yaml \ Alternatively include the network, Virtual IPs and baremetal provisioning in the ``overcloud deploy`` command to do it all in one: .. code-block:: bash openstack overcloud deploy --templates \ --networks-file custom_network_data.yaml \ --vip-file custom_vip_data.yaml \ --baremetal-deployment baremetal_deployment.yaml \ --network-config \ -e custom-net-single-nic-with-vlans.yaml .. note:: Please refer to :doc:`../provisioning/baremetal_provision` document page for a reference on the ``baremetal_deployment.yaml`` used in the above example. .. _virtual_ips_definition_opts: Network Virtual IPs data YAML options ------------------------------------- :network: Neutron Network name type: *string* :ip_address: *(optional)* IP address, a pre-defined fixed IP address. type: *string* :subnet: *(optional)* Neutron Subnet name, used to specify the subnet to use when creating the Virtual IP neutron port. This is required for deployments using routed networks, to ensure the Virtual IP is allocated on the subnet where controller nodes are attached. type: *string* :dns_name: *(optional)* Dns Name, the hostname part of the FQDN (Fully Qualified Domain Name) type: *string* default: overcloud :name: *(optional)* Virtual IP name type: *string* default: $network_name_virtual_ip "," option to the overcloud deploy, for example::",174,7
openstack%2Fmetalsmith~master~I6a9c225fc2d14b2d07cd0bf2379cd2c8c548f312,openstack/metalsmith,master,I6a9c225fc2d14b2d07cd0bf2379cd2c8c548f312,Set image_disk_format from file extension for HTTP images,MERGED,2021-06-24 23:04:57.000000000,2021-07-06 13:17:07.000000000,2021-07-06 13:15:52.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-24 23:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/1e76f18de7d288b37a93d17f1cd2035ee67cede2', 'message': ""Set image_disk_format from file extension for HTTP images\n\nNode instance_info `image_disk_format` needs to be set to `raw` for\nlarge raw images or the deployment may fail with a memory check error\nor a full node tmpfs. Even when there is no error, without\nimage_disk_format=raw the image will not be streamed directly to disk.\n\nimage_disk_format is auto-detected and set by ironic for glance and\nfile sourced images, but this does not occur for direct HTTP based\nimages.\n\nThis change will set image_disk_format=raw when the URL file extension\nends with .raw, which is enough to support TripleO's conventions for\nthe overcloud raw image.\n\nChange-Id: I6a9c225fc2d14b2d07cd0bf2379cd2c8c548f312\nBlueprint: whole-disk-default\n""}, {'number': 2, 'created': '2021-07-06 02:59:22.000000000', 'files': ['metalsmith/test/test_sources.py', 'metalsmith/sources.py', 'releasenotes/notes/raw_http_images-41007351896ff642.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/407e5051d4b644196ba4fc58d61f874fed75dc2b', 'message': ""Set image_disk_format from file extension for HTTP images\n\nNode instance_info `image_disk_format` needs to be set to `raw` for\nlarge raw images or the deployment may fail with a memory check error\nor a full node tmpfs. Even when there is no error, without\nimage_disk_format=raw the image will not be streamed directly to disk.\n\nimage_disk_format is auto-detected and set by ironic for glance and\nfile sourced images, but this does not occur for direct HTTP based\nimages.\n\nThis change will set image_disk_format=raw when the URL file extension\nends with .raw, which is enough to support TripleO's conventions for\nthe overcloud raw image.\n\nChange-Id: I6a9c225fc2d14b2d07cd0bf2379cd2c8c548f312\n""}]",0,798028,407e5051d4b644196ba4fc58d61f874fed75dc2b,11,4,2,4571,,,0,"Set image_disk_format from file extension for HTTP images

Node instance_info `image_disk_format` needs to be set to `raw` for
large raw images or the deployment may fail with a memory check error
or a full node tmpfs. Even when there is no error, without
image_disk_format=raw the image will not be streamed directly to disk.

image_disk_format is auto-detected and set by ironic for glance and
file sourced images, but this does not occur for direct HTTP based
images.

This change will set image_disk_format=raw when the URL file extension
ends with .raw, which is enough to support TripleO's conventions for
the overcloud raw image.

Change-Id: I6a9c225fc2d14b2d07cd0bf2379cd2c8c548f312
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/28/798028/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_sources.py', 'metalsmith/sources.py']",2,1e76f18de7d288b37a93d17f1cd2035ee67cede2,http_raw," def __init__(self, url, checksum=None, checksum_url=None, disk_format=None): :param disk_format: Optional value to set for ``instance_info`` ``image_disk_format``. self.disk_format = disk_format updates = { if self.disk_format: updates['image_disk_format'] = self.disk_format return updates checksum_url=None, disk_format=None): :param disk_format: Optional value to set for ``instance_info`` ``image_disk_format``. checksum_url=checksum_url, disk_format=disk_format) # Assume raw image based on file extension if image.endswith('.raw'): kwargs['disk_format'] = 'raw' "," def __init__(self, url, checksum=None, checksum_url=None): return { checksum_url=None): checksum_url=checksum_url)",60,4
openstack%2Fironic-inspector~master~Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9,openstack/ironic-inspector,master,Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9,Add rbac scope enforcement handling to devstack plugin,MERGED,2021-06-28 17:09:37.000000000,2021-07-06 12:44:02.000000000,2021-07-06 12:42:47.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-28 17:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5a1fe5ecf0101d8663973358495718ccc62fdd83', 'message': 'Add rbac scope enforcement handling to devstack plugin\n\nAdds explicit handling of scope enforcement setting by putting\nthe appropriate settings in place, and handling the appropriate\nconfiguration to communicate back with ironic based upon supplied\nenvironment variables.\n\nChange-Id: Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9\n'}, {'number': 2, 'created': '2021-06-29 19:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b65375c307c2bedae9e1464806fe287a167faaed', 'message': 'Add rbac scope enforcement handling to devstack plugin\n\nAdds explicit handling of scope enforcement setting by putting\nthe appropriate settings in place, and handling the appropriate\nconfiguration to communicate back with ironic based upon supplied\nenvironment variables.\n\nChange-Id: Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9\n'}, {'number': 3, 'created': '2021-06-29 21:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7186d7c4ede8af088726a96d878046021000ea87', 'message': 'Add rbac scope enforcement handling to devstack plugin\n\nAdds explicit handling of scope enforcement setting by putting\nthe appropriate settings in place, and handling the appropriate\nconfiguration to communicate back with ironic based upon supplied\nenvironment variables.\n\nChange-Id: Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9\n'}, {'number': 4, 'created': '2021-06-30 17:41:34.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2c2dfe986e1f9994528e290f9b0f08ca2c62a3d3', 'message': 'Add rbac scope enforcement handling to devstack plugin\n\nAdds explicit handling of scope enforcement setting by putting\nthe appropriate settings in place, and handling the appropriate\nconfiguration to communicate back with ironic based upon supplied\nenvironment variables.\n\nChange-Id: Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9\n'}]",0,798359,2c2dfe986e1f9994528e290f9b0f08ca2c62a3d3,15,3,4,11655,,,0,"Add rbac scope enforcement handling to devstack plugin

Adds explicit handling of scope enforcement setting by putting
the appropriate settings in place, and handling the appropriate
configuration to communicate back with ironic based upon supplied
environment variables.

Change-Id: Ia27b26990e52b5b4ffb49b2fee3bdcca41dd75a9
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/59/798359/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5a1fe5ecf0101d8663973358495718ccc62fdd83,,"# Determine if ironic is in enforce scope node, infer that to mean our operating mode # explicitly unless otherwise set. IRONIC_INSPECTOR_ENFORCE_SCOPE=${IRONIC_INSPECTOR_ENFORCE_SCOPE:-${IRONIC_ENFORCE_SCOPE:-False}} # and then fallback to trueorfalse to put it into the standardized string format for the jobs. IRONIC_INSPECTOR_ENFORCE_SCOPE=$(trueorfalse False IRONIC_INSPECTOR_ENFORCE_SCOPE) # Reset the input in the event the plugin is running separately from ironic's # devstack plugin. IRONIC_ENFORCE_SCOPE=$(trueorfalse False IRONIC_ENFORCE_SCOPE) if [[ ""$IRONIC_ENFORCE_SCOPE"" == ""False"" ]]; then # If the service catalog goes to enforcing scope, this same # logic will be required once that variable name is determined. inspector_iniset $1 project_name $SERVICE_PROJECT_NAME inspector_iniset $1 project_domain_id default else inspector_iniset $1 system_scope all fi # Set if inspector should also be running in a scope enforced mode. if [[ ""$IRONIC_INSPECTOR_ENFORCE_SCOPE"" == ""True"" ]]; then inspector_iniset $IRONIC_CONF_FILE oslo_policy enforce_scope true inspector_iniset $IRONIC_CONF_FILE oslo_policy enforce_new_defaults true fi ", inspector_iniset $1 project_name $SERVICE_PROJECT_NAME inspector_iniset $1 project_domain_id default,24,2
openstack%2Fmurano~master~I1712b6e831e25b33e943aef6b8910d503bb0d0d2,openstack/murano,master,I1712b6e831e25b33e943aef6b8910d503bb0d0d2,Use fnmatch from oslo.utils,MERGED,2016-09-26 06:20:12.000000000,2021-07-06 12:31:10.000000000,2016-09-27 03:11:18.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7821}, {'_account_id': 15168}]","[{'number': 1, 'created': '2016-09-26 06:20:12.000000000', 'files': ['murano/tests/unit/dsl/foundation/test_package_loader.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d', 'message': 'Use fnmatch from oslo.utils\n\nStandard library fnmatch in Python versions <= 2.7.9 has thread safe\nissue[1], we can use thread safe version from oslo.utils.\n\n[1]https://bugs.python.org/issue23191\n\nChange-Id: I1712b6e831e25b33e943aef6b8910d503bb0d0d2\n'}]",0,376197,4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d,10,4,1,19136,,,0,"Use fnmatch from oslo.utils

Standard library fnmatch in Python versions <= 2.7.9 has thread safe
issue[1], we can use thread safe version from oslo.utils.

[1]https://bugs.python.org/issue23191

Change-Id: I1712b6e831e25b33e943aef6b8910d503bb0d0d2
",git fetch https://review.opendev.org/openstack/murano refs/changes/97/376197/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/dsl/foundation/test_package_loader.py'],1,4fbe4ee43354091dfdcbbaf9d8876f4f2c4cfd8d,modified-oslo-import,from oslo_utils import fnmatch,import fnmatch,1,1
openstack%2Fmonasca-agent~master~Ic02a0d6d1aaa20c85a522996573804fc49ba1e6b,openstack/monasca-agent,master,Ic02a0d6d1aaa20c85a522996573804fc49ba1e6b,Replace fnmatch with oslo.utils.fnmatch,MERGED,2016-05-24 09:03:32.000000000,2021-07-06 12:25:27.000000000,2017-07-26 20:37:42.000000000,"[{'_account_id': 3}, {'_account_id': 14273}, {'_account_id': 14517}, {'_account_id': 16168}, {'_account_id': 18179}]","[{'number': 1, 'created': '2016-05-24 09:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/40df39934feab286315cd78f0adeb53d90eac290', 'message': 'Replace fnmatch with oslo.utils.fnmatch\n\noslo.utils has implemented a thread safe fnmatch, we can use it\ninstead of maintaining a private one.\n\nChange-Id: Ic02a0d6d1aaa20c85a522996573804fc49ba1e6b\n'}, {'number': 2, 'created': '2017-07-26 12:48:42.000000000', 'files': ['monasca_agent/collector/checks_d/cacti.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9ff337881be12463b15ab56dfa7d76c36142970f', 'message': 'Replace fnmatch with oslo.utils.fnmatch\n\noslo.utils has implemented a thread safe fnmatch, we can use it\ninstead of maintaining a private one.\n\nChange-Id: Ic02a0d6d1aaa20c85a522996573804fc49ba1e6b\n'}]",1,320305,9ff337881be12463b15ab56dfa7d76c36142970f,12,5,2,8157,,,0,"Replace fnmatch with oslo.utils.fnmatch

oslo.utils has implemented a thread safe fnmatch, we can use it
instead of maintaining a private one.

Change-Id: Ic02a0d6d1aaa20c85a522996573804fc49ba1e6b
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/05/320305/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/cacti.py'],1,40df39934feab286315cd78f0adeb53d90eac290,fnmatch,from oslo_utils import fnmatch,from fnmatch import fnmatch,1,1
openstack%2Fsushy~master~Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,openstack/sushy,master,Ibeac9db891a11e0565ffbc3d5878d325e69a07a2,Fix Processor.sub_processors,MERGED,2021-07-05 14:08:20.000000000,2021-07-06 12:14:19.000000000,2021-07-06 12:13:01.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-05 14:08:20.000000000', 'files': ['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/processor.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0', 'message': 'Fix Processor.sub_processors\n\nChange-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2\n'}]",0,799503,af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0,9,3,1,27909,,,0,"Fix Processor.sub_processors

Change-Id: Ibeac9db891a11e0565ffbc3d5878d325e69a07a2
",git fetch https://review.opendev.org/openstack/sushy refs/changes/03/799503/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/subprocessor.json', 'sushy/tests/unit/json_samples/processor.json', 'releasenotes/notes/fix-subprocessors-3b619434dba4636d.yaml', 'sushy/tests/unit/json_samples/subprocessor_collection.json', 'sushy/resources/system/processor.py', 'sushy/tests/unit/resources/system/test_processor.py']",6,af951ac15df0c1e5ec67b0e04e3be18dbbb70fe0,subprocessors,"from sushy import exceptions def test_sub_processors(self): self.conn.get.return_value.json.reset_mock() with open('sushy/tests/unit/json_samples/' 'subprocessor_collection.json') as f: subproc_col = json.load(f) with open('sushy/tests/unit/json_samples/subprocessor.json') as f: subproc1 = json.load(f) self.conn.get.return_value.json.side_effect = [subproc_col, subproc1] sub_processors = self.sys_processor.sub_processors self.assertIsInstance(sub_processors, processor.ProcessorCollection) self.assertEqual((0, None), sub_processors.summary) self.assertEqual('Core1', sub_processors.get_members()[0].identity) def test_sub_processors_missing(self): self.sys_processor.json.pop('SubProcessors') with self.assertRaisesRegex( exceptions.MissingAttributeError, 'attribute SubProcessors'): self.sys_processor.sub_processors ",,56,7
openstack%2Fansible-role-collect-logs~master~I2682a7e2b9316b4c3cd11b546f35822c53a3c489,openstack/ansible-role-collect-logs,master,I2682a7e2b9316b4c3cd11b546f35822c53a3c489,Handling long file names in sova,MERGED,2021-07-05 11:00:17.000000000,2021-07-06 12:03:53.000000000,2021-07-05 17:31:32.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-07-05 11:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/862edcecf9bae349c2732ba3215a77c8fde1042e', 'message': 'Handling long file names in sova\n\nSova writes a file with the combined failure reasons as filename. When sova finds multiple error matches this filename can be too long. This patch changes the name to _Multiple_failure_reasons_found.log when the filename is too long. The failure reasons are still written inside the file.\n\nChange-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489\n'}, {'number': 2, 'created': '2021-07-05 11:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e83a6aed4ec309e4ee3c9064e217ace2df215b27', 'message': 'Handling long file names in sova\n\nSova writes a file with the combined failure reasons as filename.\nWhen sova finds multiple error matches [1] this filename can be too long. This patch changes the name to _Multiple_failure_reasons_found.log when the filename is too long. The failure reasons are still written inside the file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/samples/errors-testing.err - This happens specially here.\nWe add a sample string for each of the regex/patterns being added and run sova to verify the regexes are indeed correct.\nAs the number of regexes increase the filename goes out of limit.\n\nChange-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489\n'}, {'number': 3, 'created': '2021-07-05 11:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6bb0415c6793244d5a7387fc8c8090c3d8603bd0', 'message': 'Handling long file names in sova\n\nSova writes a file with the combined failure reasons as filename.\nWhen sova finds multiple error matches [1] this filename can be too long. This patch limits the filename to 100 chars when the filename is too long. The full failure reasons are still written inside the file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/samples/errors-testing.err - This happens specially here.\nWe add a sample string for each of the regex/patterns being added and run sova to verify the regexes are indeed correct.\nAs the number of regexes increase the filename goes out of limit.\n\nChange-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489\n'}, {'number': 4, 'created': '2021-07-05 11:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9bc79e8cc0458cc039d7190451bbd851033ed517', 'message': 'Handling long file names in sova\n\nSova writes a file with the combined failure reasons as filename.\nWhen sova finds multiple error matches [1] this filename can be too long. This patch limits the filename to 100 chars. The full failure reasons are still written inside the file.\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/samples/errors-testing.err - This happens specially here.\nWe add a sample string for each of the regex/patterns being added and run sova to verify the regexes are indeed correct.\nAs the number of regexes increase the filename goes out of limit.\n\nChange-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489\n'}, {'number': 5, 'created': '2021-07-05 13:18:57.000000000', 'files': ['plugins/modules/sova.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c9358e211b5ee2edc84fec821e970e77b6ecb478', 'message': 'Handling long file names in sova\n\nSova writes a file with the combined failure reasons as filename.\nWhen sova finds multiple error matches [1] this filename can be too long. This patch limits the filename to 100 chars. The full failure reasons are still written inside the file.\n\nExample: https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_a4a/798958/8/check/openstack-tox-py38/a4af6fe/job-output.txt\n\n[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/samples/errors-testing.err - This happens specially here.\nWe add a sample string for each of the regex/patterns being added and run sova to verify the regexes are indeed correct.\nAs the number of regexes increase the filename goes out of limit.\n\nChange-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489\n'}]",3,799456,c9358e211b5ee2edc84fec821e970e77b6ecb478,20,4,5,32458,,,0,"Handling long file names in sova

Sova writes a file with the combined failure reasons as filename.
When sova finds multiple error matches [1] this filename can be too long. This patch limits the filename to 100 chars. The full failure reasons are still written inside the file.

Example: https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_a4a/798958/8/check/openstack-tox-py38/a4af6fe/job-output.txt

[1] https://opendev.org/openstack/tripleo-ci-health-queries/src/branch/master/samples/errors-testing.err - This happens specially here.
We add a sample string for each of the regex/patterns being added and run sova to verify the regexes are indeed correct.
As the number of regexes increase the filename goes out of limit.

Change-Id: I2682a7e2b9316b4c3cd11b546f35822c53a3c489
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/56/799456/5 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/sova.py'],1,862edcecf9bae349c2732ba3215a77c8fde1042e,," if len(text) >= 255: text = ""Multiple_failure_reasons_found""",,2,0
openstack%2Fcharm-neutron-openvswitch~master~I932318afaf369a987d0ff0ac7a43d9665abc3757,openstack/charm-neutron-openvswitch,master,I932318afaf369a987d0ff0ac7a43d9665abc3757,Fix Zaza deployment expectations,MERGED,2021-07-06 08:00:04.000000000,2021-07-06 12:00:42.000000000,2021-07-06 12:00:42.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:00:04.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7ad1afeb741d3273ef6e82fdbd5b263483396c99', 'message': ""Fix Zaza deployment expectations\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: I932318afaf369a987d0ff0ac7a43d9665abc3757\n""}]",0,799570,7ad1afeb741d3273ef6e82fdbd5b263483396c99,8,3,1,31289,,,0,"Fix Zaza deployment expectations

Fix Zaza's expected application status after
https://github.com/openstack-charmers/zaza/pull/451

Change-Id: I932318afaf369a987d0ff0ac7a43d9665abc3757
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/70/799570/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,7ad1afeb741d3273ef6e82fdbd5b263483396c99,fix-zaza-deploy-expectations," # NOTE(lourot): at first we deploy a bundle in which this subordinate charm # isn't related to anything, so it has no unit. It will become related and # receive units later as part of OVSOVNMigrationTest. num-expected-units: 0",,4,0
openstack%2Ftripleo-quickstart~master~Iad55d38ee1bac5b3b88e58e4f99d10cc9e35973c,openstack/tripleo-quickstart,master,Iad55d38ee1bac5b3b88e58e4f99d10cc9e35973c,setup.cfg: Replace dashes with underscores,NEW,2021-05-14 06:45:48.000000000,2021-07-06 11:50:46.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 06:45:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/76bb3a7d8bf1ecb173a6ee17c24ad1974bfda58b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iad55d38ee1bac5b3b88e58e4f99d10cc9e35973c\n""}]",0,791366,76bb3a7d8bf1ecb173a6ee17c24ad1974bfda58b,3,2,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iad55d38ee1bac5b3b88e58e4f99d10cc9e35973c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/66/791366/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,76bb3a7d8bf1ecb173a6ee17c24ad1974bfda58b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tripleo-quickstart/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tripleo-quickstart/latest/,3,3
openstack%2Ftripleo-ci~master~Ic9842d592de869b77e9d057b8960194f17653bcd,openstack/tripleo-ci,master,Ic9842d592de869b77e9d057b8960194f17653bcd,Proper pass -d option to tripleo-repos,ABANDONED,2021-05-31 10:51:31.000000000,2021-07-06 11:42:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-31 10:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/77b0539339c29a3bc7bb97915a5e8240b329a100', 'message': ""Proper pass -d option to tripleo-repos\n\nThe way tripleo-repos detect if we are running ubi8 is to check for a\nubi.repo file, if file doesn't exist, it set the distro to centos.\nDoing so, it doesn't add the AppStream repo file, with excluded packages\nwe are requiring right now.\n\nRelated-Bug: #1929634\nChange-Id: Ic9842d592de869b77e9d057b8960194f17653bcd\n""}, {'number': 2, 'created': '2021-05-31 13:11:43.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3dd2d804f4a0ccb2a1860ca3965d30a9545485ff', 'message': ""Proper pass -d option to tripleo-repos\n\nThe way tripleo-repos detect if we are running ubi8 is to check for a\nubi.repo file, if file doesn't exist, it set the distro to centos.\nDoing so, it doesn't add the AppStream repo file, with excluded packages\nwe are requiring right now.\n\nRelated-Bug: #1929634\nChange-Id: Ic9842d592de869b77e9d057b8960194f17653bcd\n""}]",0,793763,3dd2d804f4a0ccb2a1860ca3965d30a9545485ff,7,3,2,8367,,,0,"Proper pass -d option to tripleo-repos

The way tripleo-repos detect if we are running ubi8 is to check for a
ubi.repo file, if file doesn't exist, it set the distro to centos.
Doing so, it doesn't add the AppStream repo file, with excluded packages
we are requiring right now.

Related-Bug: #1929634
Change-Id: Ic9842d592de869b77e9d057b8960194f17653bcd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/793763/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,77b0539339c29a3bc7bb97915a5e8240b329a100,tripleo-repos," export UBI_JOB=""{{ zuul.job|default('') }}"" if [ ""$UBI_JOB"" =~ ""ubi-8"" ]; then UBI=""-d ubi8"" else UBI="""" fi -b ""{{ ci_branch | default('master') }}"" $UBI \ -b ""{{ ci_branch | default('master') }}"" $UBI \"," -b ""{{ ci_branch | default('master') }}"" \ -b ""{{ ci_branch | default('master') }}"" \",8,2
openstack%2Fneutron-tempest-plugin~master~I4dd2d9eb7e60101ba7f5c3d915ec27ee6c46b227,openstack/neutron-tempest-plugin,master,I4dd2d9eb7e60101ba7f5c3d915ec27ee6c46b227,Cleanup Security Group rules after TC execution,MERGED,2021-07-01 19:31:40.000000000,2021-07-06 11:38:34.000000000,2021-07-06 11:38:34.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-07-01 19:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f9b0acbfb1265450145cc17d6ad9e420bc1f3d73', 'message': ""Cleanup Security Group rules after TC execution\n\n  Security group rules created by SecGroupRulesQuotaTest are not\nbeing cleaned up after TC execution. Security Group rules normally\nwould get cleanup if associated Security Group is deleted. However,\nSecGroupRulesQuotaTest doesn't create any Security Groups. The\nSecurity Group rules are created in default or existing Security\nGroups. Thus, the SecGroupRulesQuotaTest should be responsible to\nclean up the rules which created by the TC.\n\nChange-Id: I4dd2d9eb7e60101ba7f5c3d915ec27ee6c46b227\n""}, {'number': 2, 'created': '2021-07-01 19:46:54.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/70be7accfd25683819c56180f0cc94fada1e2ea4', 'message': ""Cleanup Security Group rules after TC execution\n\n  Security group rules created by SecGroupRulesQuotaTest are not\nbeing cleaned up after TC execution. Security Group rules normally\nwould get cleanup if associated Security Group is deleted. However,\nSecGroupRulesQuotaTest doesn't create any Security Groups. The\nSecurity Group rules are created in default or existing Security\nGroups. Thus, the SecGroupRulesQuotaTest should be responsible to\nclean up the rules which created by the TC.\n\nChange-Id: I4dd2d9eb7e60101ba7f5c3d915ec27ee6c46b227\n""}]",0,799115,70be7accfd25683819c56180f0cc94fada1e2ea4,16,8,2,33282,,,0,"Cleanup Security Group rules after TC execution

  Security group rules created by SecGroupRulesQuotaTest are not
being cleaned up after TC execution. Security Group rules normally
would get cleanup if associated Security Group is deleted. However,
SecGroupRulesQuotaTest doesn't create any Security Groups. The
Security Group rules are created in default or existing Security
Groups. Thus, the SecGroupRulesQuotaTest should be responsible to
clean up the rules which created by the TC.

Change-Id: I4dd2d9eb7e60101ba7f5c3d915ec27ee6c46b227
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/799115/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,f9b0acbfb1265450145cc17d6ad9e420bc1f3d73,SG-rules-cleanup," ingress_rule = self.create_security_group_rule(**{ self.addCleanup( self.client.delete_security_group_rule, ingress_rule['id'] )", self.create_security_group_rule(**{,4,1
openstack%2Fnova-specs~master~I28f8d820519ab8e62b029cb4240a2a0dff83a8c8,openstack/nova-specs,master,I28f8d820519ab8e62b029cb4240a2a0dff83a8c8,Add generic mdevs to Nova,MERGED,2021-05-24 10:21:13.000000000,2021-07-06 11:33:55.000000000,2021-07-06 11:32:16.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 10:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e3c9eec74f42598b841afb4383db0c25a88a5f83', 'message': 'Add generic mdevs to Nova\n\nThis describes the blueprint generic-mdevs\n\nChange-Id: I28f8d820519ab8e62b029cb4240a2a0dff83a8c8\n'}, {'number': 2, 'created': '2021-06-04 15:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/863ef70f679f952375b13458ec0f1dcd925b66cc', 'message': 'Add generic mdevs to Nova\n\nThis describes the blueprint generic-mdevs\n\nChange-Id: I28f8d820519ab8e62b029cb4240a2a0dff83a8c8\n'}, {'number': 3, 'created': '2021-06-16 10:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b4a7e1838a09a9f099fdc57d2529cbc7d1021dff', 'message': 'Add generic mdevs to Nova\n\nThis describes the blueprint generic-mdevs\n\nChange-Id: I28f8d820519ab8e62b029cb4240a2a0dff83a8c8\n'}, {'number': 4, 'created': '2021-07-06 09:16:01.000000000', 'files': ['specs/xena/approved/generic-mdevs.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19e5abbdbe341a4d9eb4caa61606682e7536b9bd', 'message': 'Add generic mdevs to Nova\n\nThis describes the blueprint generic-mdevs\n\nChange-Id: I28f8d820519ab8e62b029cb4240a2a0dff83a8c8\n'}]",108,792796,19e5abbdbe341a4d9eb4caa61606682e7536b9bd,34,4,4,7166,,,0,"Add generic mdevs to Nova

This describes the blueprint generic-mdevs

Change-Id: I28f8d820519ab8e62b029cb4240a2a0dff83a8c8
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/96/792796/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/generic-mdevs.rst'],1,e3c9eec74f42598b841afb4383db0c25a88a5f83,bp/generic-mdevs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Support for generic mediated devices ==================================== https://blueprints.launchpad.net/nova/+spec/generic-mdevs As Nova already supports to look at existing mediated devices by the libvirt driver for virtual GPUs, we would want to help the operator to use this for generic PCI devices that use the VFIO-mdev framework but aren't GPUs. Problem description =================== As the Linux kernel supports a framework that's called `VFIO-mdev`_ , hardware vendors can use it for their devices, like `nVidia does for their GPUs`_. For example, you can create virtual GPUs by asking the kernel to create a new mediated device to the parent. As this API is abstractional, any hardware could use this framework for supporting the fact to create a virtual device off the physical device. For what it's worth, the Nova libvirt driver supports since Queens looking up at existing mediated devices for `knowing about existing virtual GPUs`_ and also directly calls the kernel API for `creating a new mediated device if needed`_. Unfortunately, while this kernel API is abstractional, we created an artificial and unnecessary reciprocity between a virtual GPU and a mediated device : a virtual GPU is indeed a mediated device, but a mediated device can be something else but a virtual GPU. In this spec, we propose to release a bit of this reciprocity by considering a mediated device to be a distinct Placement resource class and not a virtual GPU, if specified. Use Cases --------- As an operator, I want to provide new flavors for my customers that would ask for generic mediated devices that aren't virtual GPUs, as I already have hardware that use VFIO-mdev fremework in the Linux kernel for abstracting virtual resources. Proposed change =============== We will minimize to the very least number of changes, that won't be breaking existing users of the virtual GPUs in Nova : * we'll just extend the configuration options for managing mediated devices in Nova by proposing an extra option that will tell whether it's for GPUs or else. * we'll create a new resource class named MDEV for scheduling decisions. Existing flavors won't need to change. The configuration changes ------------------------- Today, you can specify the Nova libvirt driver to use mediated devices for virtual GPU management by defining in `nova.conf` : .. code:: [devices] enabled_vgpu_types = <type1>,<type2> [vgpu_<type1>] device_addresses = <pci_address_1>,<pci_address_2> [vgpu_<type2>] device_addresses = <pci_address_3> We propose to deprecate the `enabled_vgpu_types` option name and replace it with `enabled_mdev_types`. Accordingly, groups could be named `mdev_<type>`. An extra option could be specified under a `mdev_<type>` group, named `mdev_class` and which could be defined as below : .. code:: cfg.StrOpt('mdev_class', default='vgpu', help='Class of mediated device to manage.', choices=['vgpu', 'generic']) An example would be as follows : .. code:: [devices] enabled_mdev_types = nvidia-35,mlx5_core-local [mdev_nvidia-35] device_addresses = 0000:84:00.0,0000:85:00.0 [mdev_mlx5_core-local] device_addresses = 0000:86:00.0 mdev_class=generic The new resource class ---------------------- Nothing really fancy here. The Nova libvirt driver will lookup at existing PCI devices that support mediated devices and create inventories as of now. The only difference is that if a PCI device is set as *generic*, then the inventory of the number of virtual devices it can create for the specific type will use a new resource class named `MDEV`. Accordingly, if a flavor specifies an extraspec with resource groups like `resources:MDEV=1`, then Placement will create allocations on a Resource Privoder with this resource class. When, later in the boot sequence, the libvirt driver will get allocations for the instance in the `spawn()` method (or for other move operations), it will not only lookup at the `VGPU` related allocations but also the `MDEV` ones and will consequently either bind an existing mdev or ask sysfs to create a new one. Alternatives ------------ We could describe the capacity with the new inventory YAML files but this would disrupt a bit more existing users of the framework. Another alternative could be to stop using the VGPU resource class and just use the new MDEV resource class but this is a more breaking change for users which would potentially require to modify existing allocations. Besides, other virt drivers could continue to use the VGPU resource class, which would mean a discrepancy between virt drivers. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- See the configuration options described above. Developer impact ---------------- Potentially other virt drivers could use the opportunity to have a new resource class for their needs. Upgrade impact -------------- None as existing flavors and inventories won't change. We will specify to only use the new generic class for new hardware in order to prevent unneeded and unnecessary Placement inventories modifications, but this isn't really changing the situation where some operator decides to reshuffle their GPUs with different types. Implementation ============== Assignee(s) ----------- Primary assignee: sylvain-bauza Other contributors: None Feature Liaison --------------- None. Work Items ---------- * Propose the new resource class to `os-resource-classes`. * Amend the libvirt methods to look at `MDEV` allocations and create `MDEV` inventories. * Expose the configuration changes. Dependencies ============ None. Testing ======= Good news are, we could use the `mtty fake driver`_ for testing generic mdevs (and by extend virtual GPU management in Nova) with Tempest without relying on some proprietary and expensive driver which is impossible with our upstream gate jobs. Documentation Impact ==================== Mostly https://docs.openstack.org/nova/latest/admin/virtual-gpu.html. References ========== .. _`VFIO-mdev` : https://www.kernel.org/doc/html/latest/driver-api/vfio-mediated-device.html .. _`nVidia does for their GPUs` : https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html#creating-vgpu-device-red-hat-el-kvm .. _`knowing about existing virtual GPUs` : https://github.com/openstack/nova/blob/771ea5bf1ea667d6ffe456ee6ef081b83a77f53c/nova/virt/libvirt/driver.py#L7463 .. _`creating a new mediated device if needed` : https://github.com/openstack/nova/blob/771ea5bf1ea667d6ffe456ee6ef081b83a77f53c/nova/virt/libvirt/driver.py#L7818 .. _`mtty fake driver`: https://www.kernel.org/doc/html/latest/driver-api/vfio-mediated-device.html#using-the-sample-code History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,248,0
openstack%2Fironic-tempest-plugin~master~I6f07e25644a92ccac169f84f7c79696d21b58e76,openstack/ironic-tempest-plugin,master,I6f07e25644a92ccac169f84f7c79696d21b58e76,Allow to pass default interface values to tempest,NEW,2020-12-14 12:49:23.000000000,2021-07-06 11:28:58.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 12:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/675c7c0109c8d83f1d8de9b3d28b0e93dd900595', 'message': 'Allow to pass default interface values to tempest\n\nIn case any of those are set in ironic, test that resets interfaces\nmight fail.\n\nChange-Id: I6f07e25644a92ccac169f84f7c79696d21b58e76\n'}, {'number': 2, 'created': '2020-12-15 15:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b60cbe67f1299e9f6ca4c604e4333f26c89aeef9', 'message': 'Allow to pass default interface values to tempest\n\nIn case any of those are set in ironic, test that resets interfaces\nmight fail.\n\nChange-Id: I6f07e25644a92ccac169f84f7c79696d21b58e76\n'}, {'number': 3, 'created': '2021-03-30 12:30:01.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/dc3444149ec3a8906c967bdee66ccc3e18a7b0ac', 'message': 'Allow to pass default interface values to tempest\n\nIn case any of those are set in ironic, test that resets interfaces\nmight fail.\n\nChange-Id: I6f07e25644a92ccac169f84f7c79696d21b58e76\n'}]",2,766944,dc3444149ec3a8906c967bdee66ccc3e18a7b0ac,11,3,3,12356,,,0,"Allow to pass default interface values to tempest

In case any of those are set in ironic, test that resets interfaces
might fail.

Change-Id: I6f07e25644a92ccac169f84f7c79696d21b58e76
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/44/766944/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic_tempest_plugin/config.py']",2,675c7c0109c8d83f1d8de9b3d28b0e93dd900595,add-default-interfaces,"_DEFAULT_IFACE_HELP = _('Default {0} interface to be used for nodes that ' 'do not have {0}_interface field set.') cfg.StrOpt('default_bios_interface', help=_DEFAULT_IFACE_HELP.format('bios')), cfg.StrOpt('default_boot_interface', help=_DEFAULT_IFACE_HELP.format('boot')), cfg.StrOpt('default_console_interface', help=_DEFAULT_IFACE_HELP.format('console')), cfg.StrOpt('default_deploy_interface', help=_DEFAULT_IFACE_HELP.format('deploy')), cfg.StrOpt('default_inspect_interface', help=_DEFAULT_IFACE_HELP.format('inspect')), cfg.StrOpt('default_management_interface', help=_DEFAULT_IFACE_HELP.format('management')), cfg.StrOpt('default_network_interface', help=_DEFAULT_IFACE_HELP.format('network')), cfg.StrOpt('default_power_interface', help=_DEFAULT_IFACE_HELP.format('power')), cfg.StrOpt('default_raid_interface', help=_DEFAULT_IFACE_HELP.format('raid')), help=_DEFAULT_IFACE_HELP.format('rescue')), cfg.StrOpt('default_storage_interface', help=_DEFAULT_IFACE_HELP.format('storage')), cfg.StrOpt('default_vendor_interface', help=_DEFAULT_IFACE_HELP.format('vendor')),"," help=""Ironic default rescue interface.""),",31,2
openstack%2Ftripleo-common~stable%2Ftrain~I1e369379595095bb1b2357bf27784ffe5b0d1c95,openstack/tripleo-common,stable/train,I1e369379595095bb1b2357bf27784ffe5b0d1c95,"Revert ""healthcheck_port: drop lsof in favor of awk/find""",ABANDONED,2021-07-06 09:31:56.000000000,2021-07-06 11:26:50.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 09:31:56.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5a83ab0d0c040d91e842e3bcdc9348ff0e3f783', 'message': 'Revert ""healthcheck_port: drop lsof in favor of awk/find""\n\nThis reverts commit 04dab053193c4c87ab57d2ad05e76f995232a30b.\n\nReason for revert: it checks /proc/net/tcp totally breaks composable deployments when rabbitmq or maria db on separate nodes.\n\nChange-Id: I1e369379595095bb1b2357bf27784ffe5b0d1c95\n'}]",0,799580,c5a83ab0d0c040d91e842e3bcdc9348ff0e3f783,4,7,1,11090,,,0,"Revert ""healthcheck_port: drop lsof in favor of awk/find""

This reverts commit 04dab053193c4c87ab57d2ad05e76f995232a30b.

Reason for revert: it checks /proc/net/tcp totally breaks composable deployments when rabbitmq or maria db on separate nodes.

Change-Id: I1e369379595095bb1b2357bf27784ffe5b0d1c95
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/799580/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,c5a83ab0d0c040d91e842e3bcdc9348ff0e3f783,drop-lsof," args=$@ ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1"," ports="""" # First convert port to hex value. We need to 0-pad it in order to get the # right format (4 chars). for p in $@; do ports=""${ports}|$(printf '%0.4x' $p)"" done # Format the string - will be "":(hex1|hex2|...)"" ports="":(${ports:1})"" # Parse the files. We need to extract only one value (socket inode) based on the matching port. Let's check local and target for establised connection. # Line example: # 534: DE0D10AC:1628 DE0D10AC:8B7C 01 00000000:00000000 02:000000D3 00000000 42439 0 574360 2 0000000000000000 20 4 0 10 -1 # | | | # $2 local connection | $10 Socket inode # $3 Connection target # Using the main /proc/net/{tcp,udp} allow to take only the connections existing in the current container. If we were using /proc/PID/net/{tcp,udp}, we # would get all the connections existing in the same network namespace as the PID. Since we're using network=host, that would show *everything*. # the ""join"" method is weird, and fails if the array is empty. # Note: join comes from gawk's /usr/share/awk/join.awk and has some weird parameters. sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp}) # If no socket, just fail early test -z $sockets && exit 1 match=0 for pid in $(pgrep -f $process); do # Here, we check if a socket is actually associated to the process PIDs match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") )) test $match -gt 0 && exit 0 # exit as soon as we get a match done exit 1 # no early exit, meaning failure.",11,29
openstack%2Ftacker~master~I5b8d904c3895fbc6e30b2c4f2994b2bf1d881aa6,openstack/tacker,master,I5b8d904c3895fbc6e30b2c4f2994b2bf1d881aa6,py3 support for jsonutils instead of json,NEW,2016-04-27 06:57:56.000000000,2021-07-06 11:13:18.000000000,,"[{'_account_id': 13485}, {'_account_id': 18955}, {'_account_id': 19726}, {'_account_id': 19950}, {'_account_id': 32102}]","[{'number': 1, 'created': '2016-04-27 06:57:56.000000000', 'files': ['tacker/tests/unit/vm/test_monitor.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/27697192be392037beaa0ad0b7e3088c63a5f133', 'message': 'py3 support for jsonutils instead of json\n\njsonutils module is used instead of json\n\nChange-Id: I5b8d904c3895fbc6e30b2c4f2994b2bf1d881aa6\n'}]",1,310358,27697192be392037beaa0ad0b7e3088c63a5f133,10,5,1,19950,,,0,"py3 support for jsonutils instead of json

jsonutils module is used instead of json

Change-Id: I5b8d904c3895fbc6e30b2c4f2994b2bf1d881aa6
",git fetch https://review.opendev.org/openstack/tacker refs/changes/58/310358/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/vm/test_monitor.py'],1,27697192be392037beaa0ad0b7e3088c63a5f133,py3_support,from tacker.openstack.common import jsonutils 'monitoring_policy': jsonutils.dumps(,import json 'monitoring_policy': json.dumps(,2,3
openstack%2Fironic~master~I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a,openstack/ironic,master,I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a,"add hint for getting qcow2 images work, changed to note",ABANDONED,2021-03-24 16:46:03.000000000,2021-07-06 11:09:41.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21715}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 16:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/94d7fbbd314660cab7900289caf267fc0f4a0f3f', 'message': 'add hint for getting qcow2 images work\n\nChange-Id: I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a\n'}, {'number': 2, 'created': '2021-03-25 07:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60ceaf4f29142456b68e279e33f829f8550a56d3', 'message': 'add hint for getting qcow2 images work, changed to note\n\nChange-Id: I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a\n'}, {'number': 3, 'created': '2021-03-25 08:19:29.000000000', 'files': ['doc/source/install/configure-glance-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/62199698c68a8fadc9b01917b44aab4f72fb63f1', 'message': 'add hint for getting qcow2 images work, changed to note\n\nChange-Id: I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a\n'}]",0,782824,62199698c68a8fadc9b01917b44aab4f72fb63f1,18,4,3,21715,,,0,"add hint for getting qcow2 images work, changed to note

Change-Id: I6c3abf4b3757118dac1c5c3cc87fb1ee392b3d4a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/782824/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-glance-images.rst'],1,94d7fbbd314660cab7900289caf267fc0f4a0f3f,fix/support-for-qcow2, Set parameter ``stream_raw_images`` in section ``[agent]`` to ``false`` for supporting qcow2 images. ,,3,0
openstack%2Fironic~master~I06275fe894ee24638dca9bb8c78844ff3ca3d29b,openstack/ironic,master,I06275fe894ee24638dca9bb8c78844ff3ca3d29b,Nicer error message when a deploy step fails,MERGED,2021-06-22 17:00:45.000000000,2021-07-06 11:07:57.000000000,2021-07-06 11:06:09.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-22 17:00:45.000000000', 'files': ['ironic/conductor/steps.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ebb314bf438914f7bce03394870832bbd884f2fd', 'message': 'Nicer error message when a deploy step fails\n\nNo need to output the whole step structure, especially if it has\narguments. Also no need to repeat ""deploy"".\n\nChange-Id: I06275fe894ee24638dca9bb8c78844ff3ca3d29b\n'}]",7,797512,ebb314bf438914f7bce03394870832bbd884f2fd,17,3,1,10239,,,0,"Nicer error message when a deploy step fails

No need to output the whole step structure, especially if it has
arguments. Also no need to repeat ""deploy"".

Change-Id: I06275fe894ee24638dca9bb8c78844ff3ca3d29b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/797512/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/steps.py', 'ironic/conductor/deployments.py']",2,ebb314bf438914f7bce03394870832bbd884f2fd,deploy-message," _(""Deploy step %(step)s failed: %(err)s."") % {'step': conductor_steps.step_id(step), 'err': e})"," _(""Failed to deploy: Deploy step %(step)s, "" ""error: %(err)s."") % { 'step': node.deploy_step, 'err': e})",6,8
openstack%2Fglance~master~Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab,openstack/glance,master,Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-03 23:47:20.000000000,2021-07-06 11:05:21.000000000,2021-07-06 11:03:55.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 23:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3b4c012c100122e133405a1489ad766c1ac63a47', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n- https://zuul.opendev.org/t/openstack/build/ddb517bc792b49b9a8cf508eb3e361b0/log/job-output.txt#918\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab\n'}, {'number': 2, 'created': '2021-07-05 16:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3325220a7d684ed3ab8c8d48609591a704e3b986', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n- https://zuul.opendev.org/t/openstack/build/ddb517bc792b49b9a8cf508eb3e361b0/log/job-output.txt#918\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab\n'}, {'number': 3, 'created': '2021-07-05 16:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/46e3542fdb9111fe2808db051369aaa3392230af', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n- https://zuul.opendev.org/t/openstack/build/ddb517bc792b49b9a8cf508eb3e361b0/log/job-output.txt#918\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab\n'}, {'number': 4, 'created': '2021-07-05 16:48:30.000000000', 'files': ['requirements.txt', 'glance/policies/image.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2dc1084fcdfce3c1763511c9247acdfe8e4a4c0d', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n- https://zuul.opendev.org/t/openstack/build/ddb517bc792b49b9a8cf508eb3e361b0/log/job-output.txt#918\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab\n'}]",0,799402,2dc1084fcdfce3c1763511c9247acdfe8e4a4c0d,20,3,4,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.
- https://zuul.opendev.org/t/openstack/build/ddb517bc792b49b9a8cf508eb3e361b0/log/job-output.txt#918

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: Iae5d4c06c736e9cb24037f32cbe369fdfee9c2ab
",git fetch https://review.opendev.org/openstack/glance refs/changes/02/799402/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/base.py'],1,3b4c012c100122e133405a1489ad766c1ac63a47,fix-oslo-policy-warnings," check_str='role:admin', deprecated_reason='In order to allow operators to ' 'accept the default policies from code by not ' 'defining them in the policy file, while still ' 'working with old policy files that rely on the ' '``default`` rule for policies that are ' 'not specified in the policy file, the ``default`` ' 'rule must now be explicitly set to ' '``""role:admin""`` when that is the desired default ' 'for unspecified rules.', deprecated_since='Ussuri')),"," check_str='role:admin'), deprecated_reason='In order to allow operators to ' 'accept the default policies from code by not defining ' 'them in the policy file, while still working with old ' 'policy files that rely on the ``default`` rule for ' 'policies that are not specified in the policy file, ' 'the ``default`` rule must now be explicitly set to ' '``""role:admin""`` when that is the desired default for ' 'unspecified rules.', deprecated_since='Ussuri'),",11,10
openstack%2Fbifrost~master~I7796f0b4d702b8347f3dadb4f3c907b8b499a819,openstack/bifrost,master,I7796f0b4d702b8347f3dadb4f3c907b8b499a819,Skip running jobs on ironic and inspector unit tests,MERGED,2021-06-17 17:07:14.000000000,2021-07-06 11:05:03.000000000,2021-07-06 11:02:13.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-17 17:07:14.000000000', 'files': ['zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ff637c431114890e6c66b39656ee25b0a980a2f9', 'message': 'Skip running jobs on ironic and inspector unit tests\n\nBifrost jobs run on ironic and ironic-inspector as well, we need to skip\nintegration jobs if only unit tests are modified.\n\nChange-Id: I7796f0b4d702b8347f3dadb4f3c907b8b499a819\n'}]",0,796914,ff637c431114890e6c66b39656ee25b0a980a2f9,8,3,1,10239,,,0,"Skip running jobs on ironic and inspector unit tests

Bifrost jobs run on ironic and ironic-inspector as well, we need to skip
integration jobs if only unit tests are modified.

Change-Id: I7796f0b4d702b8347f3dadb4f3c907b8b499a819
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/14/796914/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/bifrost-jobs.yaml'],1,ff637c431114890e6c66b39656ee25b0a980a2f9,gate, - ^bifrost/tests/.*$ - ^ironic/locale/.*$ - ^ironic/tests/.*$ - ^ironic_inspector/locale/.*$ - ^ironic_inspector/test/.*$, - ^bifrost/tests/.*$,5,1
openstack%2Fbifrost~master~I6f09efb2cfd8c370304bf1342984a8a07fc6d1fd,openstack/bifrost,master,I6f09efb2cfd8c370304bf1342984a8a07fc6d1fd,Clean up kernel params,MERGED,2021-06-11 12:55:52.000000000,2021-07-06 11:03:31.000000000,2021-07-06 11:02:09.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-11 12:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8b03562f58a9addf24be8926cac3a6dbd881f5e8', 'message': 'DNM experiment\n\nChange-Id: I6f09efb2cfd8c370304bf1342984a8a07fc6d1fd\n'}, {'number': 2, 'created': '2021-06-11 13:00:55.000000000', 'files': ['releasenotes/notes/kernel-params-b8f054bd75390baa.yaml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5ceb5160b983931352505d171de75a0700b6b4cb', 'message': 'Clean up kernel params\n\n1) To not duplicate ipa-insecure in [inspector]extra_kernel_params\n2) Add missing ilo_kernel_params\n\nChange-Id: I6f09efb2cfd8c370304bf1342984a8a07fc6d1fd\n'}]",0,796002,5ceb5160b983931352505d171de75a0700b6b4cb,9,3,2,10239,,,0,"Clean up kernel params

1) To not duplicate ipa-insecure in [inspector]extra_kernel_params
2) Add missing ilo_kernel_params

Change-Id: I6f09efb2cfd8c370304bf1342984a8a07fc6d1fd
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/02/796002/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,8b03562f58a9addf24be8926cac3a6dbd881f5e8,test,power_off = True,power_off = {{ power_off_after_inspection }},1,1
openstack%2Fsushy~master~I4891b89a65567c9ba2057557462a5d3840808ae1,openstack/sushy,master,I4891b89a65567c9ba2057557462a5d3840808ae1,Protect Connector against empty auth object,MERGED,2021-06-22 11:52:11.000000000,2021-07-06 10:55:14.000000000,2021-07-06 10:53:50.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-22 11:52:11.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/bf50d7363888f2333bdf0c36d65b4144b66d37d4', 'message': 'Protect Connector against empty auth object\n\nAuth uses Connector, Connector uses Auth. This convoluted relationship\nresults in connector._auth being unset when an authentication request is\nmade. If it results in AccessError, sushy tries to access non-existing\nconnector._auth. This change protects against it and allows the actual\nerror to bubble up.\n\nChange-Id: I4891b89a65567c9ba2057557462a5d3840808ae1\nStory: #2008661\nTask: #41935\n'}]",0,797435,bf50d7363888f2333bdf0c36d65b4144b66d37d4,10,3,1,10239,,,0,"Protect Connector against empty auth object

Auth uses Connector, Connector uses Auth. This convoluted relationship
results in connector._auth being unset when an authentication request is
made. If it results in AccessError, sushy tries to access non-existing
connector._auth. This change protects against it and allows the actual
error to bubble up.

Change-Id: I4891b89a65567c9ba2057557462a5d3840808ae1
Story: #2008661
Task: #41935
",git fetch https://review.opendev.org/openstack/sushy refs/changes/35/797435/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,bf50d7363888f2333bdf0c36d65b4144b66d37d4,auth-none," def test_access_error_without_auth(self): self.conn._auth = None self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://foo.bar') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) ",,14,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,openstack/tripleo-upgrade,stable/train,I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,Refactor workload script,MERGED,2021-07-05 18:54:24.000000000,2021-07-06 10:41:20.000000000,2021-07-06 10:41:20.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-05 18:54:24.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/099b3cdad3a9eba8eaec09a9558afee1f7c894ed', 'message': 'Refactor workload script\n\n* Add sanity_check function to verify cluster before starting any\n  workloads.\n* Rename flavor to include the actual memory limit\n* Add flavor removal on sanity_teardown\n* Add - to jinja templates to exclude unneeded extra new lines\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)\n'}]",0,799494,099b3cdad3a9eba8eaec09a9558afee1f7c894ed,6,3,1,11090,,,0,"Refactor workload script

* Add sanity_check function to verify cluster before starting any
  workloads.
* Rename flavor to include the actual memory limit
* Add flavor removal on sanity_teardown
* Add - to jinja templates to exclude unneeded extra new lines

Change-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95
(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/94/799494/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,099b3cdad3a9eba8eaec09a9558afee1f7c894ed,improve_workload_test-stable/victoria-stable/ussuri-stable/train," export FLAVOR_NAME=""v1-{{ workload_memory }}M-{{ workload_disk }}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool -%} {% elif overcloud_upgrade | bool -%} {%- endif %} } function sanity_check { local timeout_seconds=180 local elapsed_seconds=0 echo ""Waiting for compute services to be up"" until openstack compute service list --service nova-compute -c State -f value | grep -qv down && openstack network agent list -f value -c Alive | grep -qv False; do if [ $elapsed_seconds -ge $timeout_seconds ]; then echo ""FAILURE: Some nova-compute or neutron services are down"" openstack compute service list --service nova-compute openstack network agent list exit 1 fi sleep 5 elapsed_seconds=$(( ${elapsed_seconds} + 5 )) done echo ""All compute services are up and running"" } {% if workload_sriov | bool -%} {% else -%} {%- endif %} sleep 5 echo ""Remove flavor ${FLAVOR_NAME}"" openstack flavor delete ${FLAVOR_NAME} {% if workload_sriov | bool -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check sanity_check SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check"," export FLAVOR_NAME=""v1-1G-{{ workload_disk}}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool %} {% elif overcloud_upgrade | bool %} {% endif %} } {% if workload_sriov | bool %} {% else %} {% endif %} SUFFIX=$(openssl rand -hex 5) prepare_env {% if workload_sriov | bool %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %}",45,19
openstack%2Ftripleo-upgrade~stable%2Fussuri~I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,openstack/tripleo-upgrade,stable/ussuri,I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,Refactor workload script,MERGED,2021-07-05 18:54:03.000000000,2021-07-06 10:41:16.000000000,2021-07-06 10:41:16.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-05 18:54:03.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/06fad1a30fcdc067dac870043d87777c4ae069be', 'message': 'Refactor workload script\n\n* Add sanity_check function to verify cluster before starting any\n  workloads.\n* Rename flavor to include the actual memory limit\n* Add flavor removal on sanity_teardown\n* Add - to jinja templates to exclude unneeded extra new lines\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)\n'}]",0,799493,06fad1a30fcdc067dac870043d87777c4ae069be,6,3,1,11090,,,0,"Refactor workload script

* Add sanity_check function to verify cluster before starting any
  workloads.
* Rename flavor to include the actual memory limit
* Add flavor removal on sanity_teardown
* Add - to jinja templates to exclude unneeded extra new lines

Change-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95
(cherry picked from commit 2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/93/799493/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,06fad1a30fcdc067dac870043d87777c4ae069be,improve_workload_test-stable/victoria-stable/ussuri," export FLAVOR_NAME=""v1-{{ workload_memory }}M-{{ workload_disk }}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool -%} {% elif overcloud_upgrade | bool -%} {%- endif %} } function sanity_check { local timeout_seconds=180 local elapsed_seconds=0 echo ""Waiting for compute services to be up"" until openstack compute service list --service nova-compute -c State -f value | grep -qv down && openstack network agent list -f value -c Alive | grep -qv False; do if [ $elapsed_seconds -ge $timeout_seconds ]; then echo ""FAILURE: Some nova-compute or neutron services are down"" openstack compute service list --service nova-compute openstack network agent list exit 1 fi sleep 5 elapsed_seconds=$(( ${elapsed_seconds} + 5 )) done echo ""All compute services are up and running"" } {% if workload_sriov | bool -%} {% else -%} {%- endif %} sleep 5 echo ""Remove flavor ${FLAVOR_NAME}"" openstack flavor delete ${FLAVOR_NAME} {% if workload_sriov | bool -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} {% if workload_sriov | bool -%} {% else -%} {%- endif %} SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check sanity_check SUFFIX=$(openssl rand -hex 5) prepare_env sanity_check"," export FLAVOR_NAME=""v1-1G-{{ workload_disk}}G-${SUFFIX}"" {% if ffu_overcloud_upgrade | bool %} {% elif overcloud_upgrade | bool %} {% endif %} } {% if workload_sriov | bool %} {% else %} {% endif %} SUFFIX=$(openssl rand -hex 5) prepare_env {% if workload_sriov | bool %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %} {% if workload_sriov | bool %} {% else %} {% endif %}",45,19
openstack%2Fneutron~stable%2Ftrain~I40761b30563749251b9d74731bbe7a80a124da89,openstack/neutron,stable/train,I40761b30563749251b9d74731bbe7a80a124da89,Copy existing IPv6 leases to generated lease file,MERGED,2021-07-01 15:27:11.000000000,2021-07-06 10:38:07.000000000,2021-07-06 10:36:05.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/911aa9f266b327402a7f352ac189bd5b465b10e8', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}, {'number': 2, 'created': '2021-07-05 09:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcd6eeb0b0b7bb7c53985a1abc2019abd06ad491', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nThis backport contains some test fixes to make the tests work with\nPython 2.7 and the PEP8 N322 check.\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}, {'number': 3, 'created': '2021-07-05 12:26:35.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/229ecdd0083c3999da19a8a6be7526c98f51393f', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nThis backport contains some test fixes to make the tests work with\nPython 2.7 and the PEP8 N322 check.\n\nChanged file: neutron/tests/unit/agent/linux/test_dhcp.py\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}]",1,799070,229ecdd0083c3999da19a8a6be7526c98f51393f,19,4,3,11290,,,0,"Copy existing IPv6 leases to generated lease file

Because the DHCP agent does not know the IAID (identity association
identifier) of assigned IPv6 addresses it's not possible to generate the
lease file including IPv6 leases. Because of this IPv6 addresses are
excluded when generating the lease file in case of DHCP agent restarts.
This causes DHCPv6 clients to fail to RENEW their lease and to go
through a full address discovery cycle with possible short connectivity
disruption.

This commit copies the existing IPv6 leaes from an already existing
lease file if present. While this does not allow for DHCP agent
failover, this is still better than just skipping the IPv6 addresses.

A lease file without the IPv6 addresses is still generated if an agent
is migrated to a different host.

This commit complements the fix implemented in
Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6
leases as otherwise the lease file would be invalid and all leases would
be lost. It does not change the behavior for still valid IPv4 leases.

With this issue fixed an additional fix is required to not loose DHCPv6
leases when the agent restarts dnsmasq. Currently the DHCP agent
regenerates all configuration files on restart. This means that DHCPv6
leases are lost as they can't be regenerated. This changes the agent to
only delete the config files if the agent's ports are also removed.

Closes-Bug: #1722126
Related-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e

This backport contains some test fixes to make the tests work with
Python 2.7 and the PEP8 N322 check.

Changed file: neutron/tests/unit/agent/linux/test_dhcp.py

Change-Id: I40761b30563749251b9d74731bbe7a80a124da89
(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/799070/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,911aa9f266b327402a7f352ac189bd5b465b10e8,change-799070-1," self._remove_config_files() dhcpv6_enabled_subnet_ids = [ s.id for s in self._get_all_subnets(self.network) if s.enable_dhcp and s.ip_version == constants.IP_VERSION_6] existing_ipv6_leases = {} if os.path.isfile(filename): # The IPv6 leases can't be generated as their IAID is unknown. To # not loose active leases, read the existing leases and add them to # the generated file. LOG.debug('Reading IPv6 leases from existing lease file.') with open(filename) as leasefile: for line in leasefile: if line.startswith('duid '): # Keep the DUID buf.write(line) continue try: ts, mac, ip, host, iaid = line.split(' ') except ValueError: # not the correct format for a lease, skip this line continue if netaddr.valid_ipv6(ip): existing_ipv6_leases[netaddr.IPAddress(ip)] = line if no_dhcp: if alloc.subnet_id in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address)) elif (alloc.subnet_id in dhcpv6_enabled_subnet_ids and netaddr.IPAddress(alloc.ip_address) in existing_ipv6_leases): # Keep the existing IPv6 lease if the port still exists and is # still configured for DHCPv6 buf.write( existing_ipv6_leases[netaddr.IPAddress(alloc.ip_address)] ) "," self._remove_config_files() # don't write ip address which belongs to a dhcp disabled subnet # or an IPv6 subnet. if no_dhcp or alloc.subnet_id not in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address))",105,8
openstack%2Fmagnum~master~Ibf8745abef8d95297a8c38effb7af98162a086ed,openstack/magnum,master,Ibf8745abef8d95297a8c38effb7af98162a086ed,Update magnum container images,NEW,2021-03-30 08:52:10.000000000,2021-07-06 10:33:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30262}]","[{'number': 1, 'created': '2021-03-30 08:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/08e4d6f82e5064c159f450824078cc4f9ab7551f', 'message': 'Update magnum container images\n\nnode-problem-detector: v0.6.2 -> v0.8.2\ncluster-proportional-autoscaler: 1.1.2 -> 1.8.1\n\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\nChange-Id: Ibf8745abef8d95297a8c38effb7af98162a086ed\n'}, {'number': 2, 'created': '2021-06-28 14:49:34.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8b6f44dccc904610992119f18e7b42ab403213fa', 'message': 'Update magnum container images\n\nnode-problem-detector: v0.6.2 -> v0.8.2\ncluster-proportional-autoscaler: 1.1.2 -> 1.8.3\n\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\nChange-Id: Ibf8745abef8d95297a8c38effb7af98162a086ed\n'}]",0,783807,8b6f44dccc904610992119f18e7b42ab403213fa,11,3,2,29425,,,0,"Update magnum container images

node-problem-detector: v0.6.2 -> v0.8.2
cluster-proportional-autoscaler: 1.1.2 -> 1.8.3

Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
Change-Id: Ibf8745abef8d95297a8c38effb7af98162a086ed
",git fetch https://review.opendev.org/openstack/magnum refs/changes/07/783807/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh']",4,08e4d6f82e5064c159f450824078cc4f9ab7551f,update-container-images, image: ${_autoscaler_prefix}cluster-proportional-autoscaler-${ARCH}:1.8.1, image: ${_autoscaler_prefix}cluster-proportional-autoscaler-${ARCH}:1.1.2,4,4
openstack%2Fopenstack-tempest-skiplist~master~I7d95e36a083ab9706b2892286885b04cfce8d362,openstack/openstack-tempest-skiplist,master,I7d95e36a083ab9706b2892286885b04cfce8d362,Skipping all tempest.api.object_storage for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master,MERGED,2021-06-29 16:08:25.000000000,2021-07-06 10:31:38.000000000,2021-06-29 16:46:39.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 16:08:25.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e35e535a249e9f075268c7f03c96b9546aeb979e', 'message': 'Skipping all tempest.api.object_storage for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1933639\nChange-Id: I7d95e36a083ab9706b2892286885b04cfce8d362\n'}]",0,798709,e35e535a249e9f075268c7f03c96b9546aeb979e,9,3,1,32458,,,0,"Skipping all tempest.api.object_storage for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1933639
Change-Id: I7d95e36a083ab9706b2892286885b04cfce8d362
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/09/798709/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,e35e535a249e9f075268c7f03c96b9546aeb979e,, - test: tempest.api.object_storage deployment: - overcloud releases: - name: master reason: There was a conflict when trying to complete your request lp: https://bugs.launchpad.net/tripleo/+bug/1933639 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master,,9,0
openstack%2Fos-resource-classes~master~Ic3b13194b0236e7c69dc81863a941b410a22facb,openstack/os-resource-classes,master,Ic3b13194b0236e7c69dc81863a941b410a22facb,[doc] Redirect people to #openstack-nova,MERGED,2021-05-31 17:20:40.000000000,2021-07-06 10:23:57.000000000,2021-07-06 10:22:22.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 17:20:40.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/62568cb662a90cce2efbc6947fb583f9f7012f59', 'message': '[doc] Redirect people to #openstack-nova\n\nChange-Id: Ic3b13194b0236e7c69dc81863a941b410a22facb\n'}]",0,793833,62568cb662a90cce2efbc6947fb583f9f7012f59,10,4,1,9708,,,0,"[doc] Redirect people to #openstack-nova

Change-Id: Ic3b13194b0236e7c69dc81863a941b410a22facb
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/33/793833/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,62568cb662a90cce2efbc6947fb583f9f7012f59,move-under-nova,Developers of os-resource-classes can be found in the ``#openstack-nova``,Developers of os-resource-classes can be found in the ``#openstack-placement``,1,1
openstack%2Fdesignate~stable%2Fqueens~Ie0350b034f0eb03749138aadd0951d30073214c0,openstack/designate,stable/queens,Ie0350b034f0eb03749138aadd0951d30073214c0,Add designate-status command for upgrade checks,ABANDONED,2019-06-03 14:11:07.000000000,2021-07-06 10:14:26.000000000,,"[{'_account_id': 6928}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 14:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/194f9b486b00a5b2758048cb498ead3145b13f45', 'message': 'Add designate-status command for upgrade checks\n\nThis checks for duplicate entries in the service_statuses table\nwhich will be an error after change\nI307a8f7dd8b8a83effa447a846db3288efa32dba.\n\nRelated-Bug: 1768824\n\nStory: 2003657\nTask: 26127\n\nChange-Id: Ie0350b034f0eb03749138aadd0951d30073214c0\nCo-authored-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 1842802de4a05a057eb7f3c94bd01a4b1f0b9143)\n(cherry picked from commit cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9)\n'}, {'number': 2, 'created': '2021-07-06 10:13:10.000000000', 'files': ['designate/tests/unit/test_upgrade_checks.py', 'requirements.txt', 'releasenotes/notes/stein-upgrade-checkers-cli-b8518126fff82be6.yaml', 'doc/source/cli/designate-status.rst', 'doc/source/admin/upgrades/index.rst', 'designate/cmd/status.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/bcfb6fff3d1bd0322fb0db40f8e3a35f4d6efd58', 'message': 'Add designate-status command for upgrade checks\n\nThis checks for duplicate entries in the service_statuses table\nwhich will be an error after change\nI307a8f7dd8b8a83effa447a846db3288efa32dba.\n\nRelated-Bug: 1768824\n\nStory: 2003657\nTask: 26127\n\nChange-Id: Ie0350b034f0eb03749138aadd0951d30073214c0\nCo-authored-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 1842802de4a05a057eb7f3c94bd01a4b1f0b9143)\n(cherry picked from commit cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9)\n'}]",0,662761,bcfb6fff3d1bd0322fb0db40f8e3a35f4d6efd58,8,3,2,6737,,,0,"Add designate-status command for upgrade checks

This checks for duplicate entries in the service_statuses table
which will be an error after change
I307a8f7dd8b8a83effa447a846db3288efa32dba.

Related-Bug: 1768824

Story: 2003657
Task: 26127

Change-Id: Ie0350b034f0eb03749138aadd0951d30073214c0
Co-authored-by: Doug Hellmann <doug@doughellmann.com>
(cherry picked from commit 1842802de4a05a057eb7f3c94bd01a4b1f0b9143)
(cherry picked from commit cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9)
",git fetch https://review.opendev.org/openstack/designate refs/changes/61/662761/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_upgrade_checks.py', 'requirements.txt', 'releasenotes/notes/stein-upgrade-checkers-cli-b8518126fff82be6.yaml', 'doc/source/cli/designate-status.rst', 'doc/source/admin/upgrades/index.rst', 'designate/cmd/status.py', 'setup.cfg']",7,194f9b486b00a5b2758048cb498ead3145b13f45,bug/1768824, designate-status = designate.cmd.status:main,,230,0
openstack%2Fdesignate~stable%2Frocky~Ie0350b034f0eb03749138aadd0951d30073214c0,openstack/designate,stable/rocky,Ie0350b034f0eb03749138aadd0951d30073214c0,Add designate-status command for upgrade checks,ABANDONED,2019-06-03 14:08:53.000000000,2021-07-06 10:14:07.000000000,,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 14:08:53.000000000', 'files': ['designate/tests/unit/test_upgrade_checks.py', 'requirements.txt', 'releasenotes/notes/stein-upgrade-checkers-cli-b8518126fff82be6.yaml', 'doc/source/cli/designate-status.rst', 'doc/source/admin/upgrades/index.rst', 'lower-constraints.txt', 'designate/cmd/status.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9', 'message': 'Add designate-status command for upgrade checks\n\nThis checks for duplicate entries in the service_statuses table\nwhich will be an error after change\nI307a8f7dd8b8a83effa447a846db3288efa32dba.\n\nRelated-Bug: 1768824\n\nStory: 2003657\nTask: 26127\n\nChange-Id: Ie0350b034f0eb03749138aadd0951d30073214c0\nCo-authored-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 1842802de4a05a057eb7f3c94bd01a4b1f0b9143)\n'}]",0,662760,cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9,7,4,1,6737,,,0,"Add designate-status command for upgrade checks

This checks for duplicate entries in the service_statuses table
which will be an error after change
I307a8f7dd8b8a83effa447a846db3288efa32dba.

Related-Bug: 1768824

Story: 2003657
Task: 26127

Change-Id: Ie0350b034f0eb03749138aadd0951d30073214c0
Co-authored-by: Doug Hellmann <doug@doughellmann.com>
(cherry picked from commit 1842802de4a05a057eb7f3c94bd01a4b1f0b9143)
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/662760/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_upgrade_checks.py', 'requirements.txt', 'releasenotes/notes/stein-upgrade-checkers-cli-b8518126fff82be6.yaml', 'doc/source/cli/designate-status.rst', 'doc/source/admin/upgrades/index.rst', 'designate/cmd/status.py', 'lower-constraints.txt', 'setup.cfg']",8,cc38d9625ffd87f1b717ccb2aa6a0159f71b08a9,bug/1768824, designate-status = designate.cmd.status:main,,231,0
openstack%2Ftripleo-common~stable%2Ftrain~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,stable/train,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-08 06:49:37.000000000,2021-07-06 09:31:56.000000000,2021-04-09 04:15:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 06:49:37.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04dab053193c4c87ab57d2ad05e76f995232a30b', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)\n'}]",0,785326,04dab053193c4c87ab57d2ad05e76f995232a30b,14,6,1,28223,,,0,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/785326/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,04dab053193c4c87ab57d2ad05e76f995232a30b,drop-lsof," ports="""" # First convert port to hex value. We need to 0-pad it in order to get the # right format (4 chars). for p in $@; do ports=""${ports}|$(printf '%0.4x' $p)"" done # Format the string - will be "":(hex1|hex2|...)"" ports="":(${ports:1})"" # Parse the files. We need to extract only one value (socket inode) based on the matching port. Let's check local and target for establised connection. # Line example: # 534: DE0D10AC:1628 DE0D10AC:8B7C 01 00000000:00000000 02:000000D3 00000000 42439 0 574360 2 0000000000000000 20 4 0 10 -1 # | | | # $2 local connection | $10 Socket inode # $3 Connection target # Using the main /proc/net/{tcp,udp} allow to take only the connections existing in the current container. If we were using /proc/PID/net/{tcp,udp}, we # would get all the connections existing in the same network namespace as the PID. Since we're using network=host, that would show *everything*. # the ""join"" method is weird, and fails if the array is empty. # Note: join comes from gawk's /usr/share/awk/join.awk and has some weird parameters. sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp}) # If no socket, just fail early test -z $sockets && exit 1 match=0 for pid in $(pgrep -f $process); do # Here, we check if a socket is actually associated to the process PIDs match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") )) test $match -gt 0 && exit 0 # exit as soon as we get a match done exit 1 # no early exit, meaning failure."," args=$@ ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1",29,11
openstack%2Fironic~stable%2Fwallaby~I0c458c8d9ae673181beb6d85c2ee68235ccef239,openstack/ironic,stable/wallaby,I0c458c8d9ae673181beb6d85c2ee68235ccef239,"Cache AgentClient on Task, not globally",MERGED,2021-07-05 16:40:49.000000000,2021-07-06 09:23:38.000000000,2021-07-06 09:22:09.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-05 16:40:49.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/cache-agentclient-per-task-ec2231684e6876d9.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/973d83af6f867719c1bd97f014fe7bb88d6b9c28', 'message': 'Cache AgentClient on Task, not globally\n\nIn order to avoid potential cache coherency issues\nwhen using a globally cached AgentClient, e.g. with\nTSL certificates from the IPA, cache the AgentClient\non a per task basis.\n\nCo-Authored-By: Arne Wiebalck <arne.wiebalck@cern.ch>\n\nConflicts:\n\tironic/drivers/modules/agent.py\n\tironic/drivers/modules/agent_base.py\n\tironic/drivers/modules/ansible/deploy.py\n\tironic/tests/unit/drivers/modules/test_agent.py\n\nStory: #2009004\nTask: #42678\n\nChange-Id: I0c458c8d9ae673181beb6d85c2ee68235ccef239\n(cherry picked from commit fcb6a1096f48336f19a5e8aa80445f57d4480c08)\n'}]",0,799532,973d83af6f867719c1bd97f014fe7bb88d6b9c28,10,3,1,10239,,,0,"Cache AgentClient on Task, not globally

In order to avoid potential cache coherency issues
when using a globally cached AgentClient, e.g. with
TSL certificates from the IPA, cache the AgentClient
on a per task basis.

Co-Authored-By: Arne Wiebalck <arne.wiebalck@cern.ch>

Conflicts:
	ironic/drivers/modules/agent.py
	ironic/drivers/modules/agent_base.py
	ironic/drivers/modules/ansible/deploy.py
	ironic/tests/unit/drivers/modules/test_agent.py

Story: #2009004
Task: #42678

Change-Id: I0c458c8d9ae673181beb6d85c2ee68235ccef239
(cherry picked from commit fcb6a1096f48336f19a5e8aa80445f57d4480c08)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/799532/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/cache-agentclient-per-task-ec2231684e6876d9.yaml']",9,973d83af6f867719c1bd97f014fe7bb88d6b9c28,,"--- fixes: - | Fixes potential cache coherency issues by caching the AgentClient per task, rather than globally. ",,50,30
openstack%2Fironic~master~I98d20aea80d547e1f301c150564f732619c9e744,openstack/ironic,master,I98d20aea80d547e1f301c150564f732619c9e744,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-04 19:26:27.000000000,2021-07-06 09:20:44.000000000,2021-07-06 09:18:55.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-04 19:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d59c3e5dde35a6020a65d3fa48eec35f51f093af', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\nThis fixes the 1431 warnings\n- https://zuul.opendev.org/t/openstack/build/cace355f7c0d4cbcb1df7856a03194d7/log/job-output.txt#1029\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I98d20aea80d547e1f301c150564f732619c9e744\n'}, {'number': 2, 'created': '2021-07-05 14:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f768da9b469d7d552c7cbddc55687d5218c13d52', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\nThis fixes the 1431 warnings\n- https://zuul.opendev.org/t/openstack/build/cace355f7c0d4cbcb1df7856a03194d7/log/job-output.txt#1029\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I98d20aea80d547e1f301c150564f732619c9e744\n'}, {'number': 3, 'created': '2021-07-05 15:57:32.000000000', 'files': ['requirements.txt', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/34337f75fb8847d6e0f8697959339c273c60bca8', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\nThis fixes the 1431 warnings\n- https://zuul.opendev.org/t/openstack/build/cace355f7c0d4cbcb1df7856a03194d7/log/job-output.txt#1029\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I98d20aea80d547e1f301c150564f732619c9e744\n'}]",0,799419,34337f75fb8847d6e0f8697959339c273c60bca8,20,3,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

This fixes the 1431 warnings
- https://zuul.opendev.org/t/openstack/build/cace355f7c0d4cbcb1df7856a03194d7/log/job-output.txt#1029

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: I98d20aea80d547e1f301c150564f732619c9e744
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/799419/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,d59c3e5dde35a6020a65d3fa48eec35f51f093af,fix-oslo-policy-warnings,"deprecated_node_create = policy.DeprecatedRule( name='baremetal:node:create', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_get = policy.DeprecatedRule( name='baremetal:node:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_list = policy.DeprecatedRule( name='baremetal:node:list', check_str='rule:baremetal:node:get', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_list_all = policy.DeprecatedRule( name='baremetal:node:list_all', check_str='rule:baremetal:node:get', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_update = policy.DeprecatedRule( name='baremetal:node:update', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_update_extra = policy.DeprecatedRule( name='baremetal:node:update_extra', check_str='rule:baremetal:node:update', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_update_instance_info = policy.DeprecatedRule( name='baremetal:node:update_instance_info', check_str='rule:baremetal:node:update', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_update_owner_provisioned = policy.DeprecatedRule( name='baremetal:node:update_owner_provisioned', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_delete = policy.DeprecatedRule( name='baremetal:node:delete', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_validate = policy.DeprecatedRule( name='baremetal:node:validate', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_maintenance = policy.DeprecatedRule( name='baremetal:node:set_maintenance', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_clear_maintenance = policy.DeprecatedRule( name='baremetal:node:clear_maintenance', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_get_boot_device = policy.DeprecatedRule( name='baremetal:node:get_boot_device', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_boot_device = policy.DeprecatedRule( name='baremetal:node:set_boot_device', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_get_indicator_state = policy.DeprecatedRule( name='baremetal:node:get_indicator_state', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_indicator_state = policy.DeprecatedRule( name='baremetal:node:set_indicator_state', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_inject_nmi = policy.DeprecatedRule( name='baremetal:node:inject_nmi', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_get_states = policy.DeprecatedRule( name='baremetal:node:get_states', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_power_state = policy.DeprecatedRule( name='baremetal:node:set_power_state', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_provision_state = policy.DeprecatedRule( name='baremetal:node:set_provision_state', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_raid_state = policy.DeprecatedRule( name='baremetal:node:set_raid_state', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_get_console = policy.DeprecatedRule( name='baremetal:node:get_console', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_set_console_state = policy.DeprecatedRule( name='baremetal:node:set_console_state', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_vif_list = policy.DeprecatedRule( name='baremetal:node:vif:list', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_vif_attach = policy.DeprecatedRule( name='baremetal:node:vif:attach', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_vif_detach = policy.DeprecatedRule( name='baremetal:node:vif:detach', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_traits_list = policy.DeprecatedRule( name='baremetal:node:traits:list', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_traits_set = policy.DeprecatedRule( name='baremetal:node:traits:set', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_traits_delete = policy.DeprecatedRule( name='baremetal:node:traits:delete', check_str='rule:is_admin', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_node_bios_get = policy.DeprecatedRule( name='baremetal:node:bios:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_bios_disable_cleaning = policy.DeprecatedRule( name='baremetal:node:disable_cleaning', check_str='rule:baremetal:node:update', deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_node_create deprecated_rule=deprecated_node_list deprecated_rule=deprecated_node_list_all deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_get deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update deprecated_rule=deprecated_node_update_extra deprecated_rule=deprecated_node_update_instance_info deprecated_rule=deprecated_node_update_owner_provisioned deprecated_rule=deprecated_node_delete deprecated_rule=deprecated_node_validate deprecated_rule=deprecated_node_set_maintenance deprecated_rule=deprecated_node_clear_maintenance deprecated_rule=deprecated_node_get_boot_device deprecated_rule=deprecated_node_set_maintenance deprecated_rule=deprecated_node_get_indicator_state deprecated_rule=deprecated_node_set_indicator_state deprecated_rule=deprecated_node_inject_nmi deprecated_rule=deprecated_node_get_states deprecated_rule=deprecated_node_set_power_state deprecated_rule=deprecated_node_set_provision_state deprecated_rule=deprecated_node_set_raid_state deprecated_rule=deprecated_node_get_console deprecated_rule=deprecated_node_set_console_state deprecated_rule=deprecated_node_vif_list deprecated_rule=deprecated_node_vif_attach deprecated_rule=deprecated_node_vif_detach deprecated_rule=deprecated_node_traits_list deprecated_rule=deprecated_node_traits_set deprecated_rule=deprecated_node_traits_delete deprecated_rule=deprecated_node_bios_get deprecated_rule=deprecated_bios_disable_cleaningdeprecated_port_get = policy.DeprecatedRule( name='baremetal:port:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_port_list = policy.DeprecatedRule( name='baremetal:port:list', check_str='rule:baremetal:port:get', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_port_list_all = policy.DeprecatedRule( name='baremetal:port:list_all', check_str='rule:baremetal:port:get', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_port_create = policy.DeprecatedRule( name='baremetal:port:create', check_str='rule:is_admin', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_port_delete = policy.DeprecatedRule( name='baremetal:port:delete', check_str='rule:is_admin', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_port_update = policy.DeprecatedRule( name='baremetal:port:update', check_str='rule:is_admin', deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_port_get deprecated_rule=deprecated_port_list deprecated_rule=deprecated_port_list_all deprecated_rule=deprecated_port_create deprecated_rule=deprecated_port_delete deprecated_rule=deprecated_port_updatedeprecated_portgroup_get = policy.DeprecatedRule( name='baremetal:portgroup:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_portgroup_create = policy.DeprecatedRule( name='baremetal:portgroup:create', check_str='rule:is_admin', deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_portgroup_delete = policy.DeprecatedRule( name='baremetal:portgroup:delete', check_str='rule:is_admin', deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_portgroup_update = policy.DeprecatedRule( name='baremetal:portgroup:update', check_str='rule:is_admin', deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_portgroup_get deprecated_rule=deprecated_portgroup_create deprecated_rule=deprecated_portgroup_delete deprecated_rule=deprecated_portgroup_update deprecated_rule=deprecated_portgroup_get deprecated_rule=deprecated_portgroup_getdeprecated_chassis_get = policy.DeprecatedRule( name='baremetal:chassis:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_chassis_create = policy.DeprecatedRule( name='baremetal:chassis:create', check_str='rule:is_admin', deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_chassis_delete = policy.DeprecatedRule( name='baremetal:chassis:delete', check_str='rule:is_admin', deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_chassis_update = policy.DeprecatedRule( name='baremetal:chassis:update', check_str='rule:is_admin', deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_chassis_get deprecated_rule=deprecated_chassis_create deprecated_rule=deprecated_chassis_delete deprecated_rule=deprecated_chassis_updatedeprecated_driver_get = policy.DeprecatedRule( name='baremetal:driver:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_driver_get_properties = policy.DeprecatedRule( name='baremetal:driver:get_properties', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_driver_get_raid_properties = policy.DeprecatedRule( name='baremetal:driver:get_raid_logical_disk_properties', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_driver_get deprecated_rule=deprecated_driver_get_properties deprecated_rule=deprecated_driver_get_raid_propertiesdeprecated_node_passthru = policy.DeprecatedRule( name='baremetal:node:vendor_passthru', check_str='rule:is_admin', deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_driver_passthru = policy.DeprecatedRule( name='baremetal:driver:vendor_passthru', check_str='rule:is_admin', deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_node_passthru deprecated_rule=deprecated_driver_passthrudeprecated_ipa_heartbeat = policy.DeprecatedRule( name='baremetal:node:ipa_heartbeat', check_str='rule:public_api', deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_ipa_lookup = policy.DeprecatedRule( name='baremetal:driver:ipa_lookup', check_str='rule:public_api', deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_ipa_heartbeat deprecated_rule=deprecated_ipa_lookupdeprecated_volume_get = policy.DeprecatedRule( name='baremetal:volume:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_volume_create = policy.DeprecatedRule( name='baremetal:volume:create', check_str='rule:is_admin', deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_volume_delete = policy.DeprecatedRule( name='baremetal:volume:delete', check_str='rule:is_admin', deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_volume_update = policy.DeprecatedRule( name='baremetal:volume:update', check_str='rule:is_admin', deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_volume_get deprecated_rule=deprecated_volume_get deprecated_rule=deprecated_volume_get deprecated_rule=deprecated_volume_create deprecated_rule=deprecated_volume_delete deprecated_rule=deprecated_volume_update deprecated_rule=deprecated_volume_updatedeprecated_conductor_get = policy.DeprecatedRule( name='baremetal:conductor:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_conductor_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_conductor_getdeprecated_allocation_get = policy.DeprecatedRule( name='baremetal:allocation:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_list = policy.DeprecatedRule( name='baremetal:allocation:list', check_str='rule:baremetal:allocation:get', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_list_all = policy.DeprecatedRule( name='baremetal:allocation:list_all', check_str='rule:baremetal:allocation:get and is_admin_project:True', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_create = policy.DeprecatedRule( name='baremetal:allocation:create', check_str='rule:is_admin and is_admin_project:True', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_create_restricted = policy.DeprecatedRule( name='baremetal:allocation:create_restricted', check_str='rule:baremetal:allocation:create', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_delete = policy.DeprecatedRule( name='baremetal:allocation:delete', check_str='rule:is_admin', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_allocation_update = policy.DeprecatedRule( name='baremetal:allocation:update', check_str='rule:is_admin', deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_allocation_get deprecated_rule=deprecated_allocation_list deprecated_rule=deprecated_allocation_list_all deprecated_rule=deprecated_allocation_create deprecated_rule=deprecated_allocation_create_restricted deprecated_rule=deprecated_allocation_delete deprecated_rule=deprecated_allocation_update deprecated_reason=deprecated_allocation_reasondeprecated_event_create = policy.DeprecatedRule( name='baremetal:events:post', check_str='rule:is_admin', deprecated_reason=deprecated_event_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_event_createdeprecated_deploy_template_get = policy.DeprecatedRule( name='baremetal:deploy_template:get', check_str='rule:is_admin or rule:is_observer', deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_deploy_template_create = policy.DeprecatedRule( name='baremetal:deploy_template:create', check_str='rule:is_admin', deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_deploy_template_delete = policy.DeprecatedRule( name='baremetal:deploy_template:delete', check_str='rule:is_admin', deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_deploy_template_update = policy.DeprecatedRule( name='baremetal:deploy_template:update', check_str='rule:is_admin', deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY ) deprecated_rule=deprecated_deploy_template_get deprecated_rule=deprecated_deploy_template_create deprecated_rule=deprecated_deploy_template_delete deprecated_rule=deprecated_deploy_template_update","deprecated_node_create = policy.DeprecatedRule( name='baremetal:node:create', check_str='rule:is_admin' ) deprecated_node_get = policy.DeprecatedRule( name='baremetal:node:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_list = policy.DeprecatedRule( name='baremetal:node:list', check_str='rule:baremetal:node:get' ) deprecated_node_list_all = policy.DeprecatedRule( name='baremetal:node:list_all', check_str='rule:baremetal:node:get' ) deprecated_node_update = policy.DeprecatedRule( name='baremetal:node:update', check_str='rule:is_admin' ) deprecated_node_update_extra = policy.DeprecatedRule( name='baremetal:node:update_extra', check_str='rule:baremetal:node:update' ) deprecated_node_update_instance_info = policy.DeprecatedRule( name='baremetal:node:update_instance_info', check_str='rule:baremetal:node:update' ) deprecated_node_update_owner_provisioned = policy.DeprecatedRule( name='baremetal:node:update_owner_provisioned', check_str='rule:is_admin' ) deprecated_node_delete = policy.DeprecatedRule( name='baremetal:node:delete', check_str='rule:is_admin' ) deprecated_node_validate = policy.DeprecatedRule( name='baremetal:node:validate', check_str='rule:is_admin' ) deprecated_node_set_maintenance = policy.DeprecatedRule( name='baremetal:node:set_maintenance', check_str='rule:is_admin' ) deprecated_node_clear_maintenance = policy.DeprecatedRule( name='baremetal:node:clear_maintenance', check_str='rule:is_admin' ) deprecated_node_get_boot_device = policy.DeprecatedRule( name='baremetal:node:get_boot_device', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_boot_device = policy.DeprecatedRule( name='baremetal:node:set_boot_device', check_str='rule:is_admin' ) deprecated_node_get_indicator_state = policy.DeprecatedRule( name='baremetal:node:get_indicator_state', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_indicator_state = policy.DeprecatedRule( name='baremetal:node:set_indicator_state', check_str='rule:is_admin' ) deprecated_node_inject_nmi = policy.DeprecatedRule( name='baremetal:node:inject_nmi', check_str='rule:is_admin' ) deprecated_node_get_states = policy.DeprecatedRule( name='baremetal:node:get_states', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_set_power_state = policy.DeprecatedRule( name='baremetal:node:set_power_state', check_str='rule:is_admin' ) deprecated_node_set_provision_state = policy.DeprecatedRule( name='baremetal:node:set_provision_state', check_str='rule:is_admin' ) deprecated_node_set_raid_state = policy.DeprecatedRule( name='baremetal:node:set_raid_state', check_str='rule:is_admin' ) deprecated_node_get_console = policy.DeprecatedRule( name='baremetal:node:get_console', check_str='rule:is_admin' ) deprecated_node_set_console_state = policy.DeprecatedRule( name='baremetal:node:set_console_state', check_str='rule:is_admin' ) deprecated_node_vif_list = policy.DeprecatedRule( name='baremetal:node:vif:list', check_str='rule:is_admin' ) deprecated_node_vif_attach = policy.DeprecatedRule( name='baremetal:node:vif:attach', check_str='rule:is_admin' ) deprecated_node_vif_detach = policy.DeprecatedRule( name='baremetal:node:vif:detach', check_str='rule:is_admin' ) deprecated_node_traits_list = policy.DeprecatedRule( name='baremetal:node:traits:list', check_str='rule:is_admin or rule:is_observer' ) deprecated_node_traits_set = policy.DeprecatedRule( name='baremetal:node:traits:set', check_str='rule:is_admin' ) deprecated_node_traits_delete = policy.DeprecatedRule( name='baremetal:node:traits:delete', check_str='rule:is_admin' ) deprecated_node_bios_get = policy.DeprecatedRule( name='baremetal:node:bios:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_bios_disable_cleaning = policy.DeprecatedRule( name='baremetal:node:disable_cleaning', check_str='rule:baremetal:node:update', ) deprecated_rule=deprecated_node_create, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_list_all, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY, deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update_extra, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update_instance_info, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_update_owner_provisioned, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_validate, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_clear_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get_boot_device, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_maintenance, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get_indicator_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_indicator_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_inject_nmi, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get_states, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_power_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_provision_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_raid_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_get_console, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_set_console_state, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_vif_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_vif_attach, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_vif_detach, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_traits_list, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_traits_set, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_traits_delete, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_node_bios_get, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_bios_disable_cleaning, deprecated_reason=deprecated_node_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_port_get = policy.DeprecatedRule( name='baremetal:port:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_port_list = policy.DeprecatedRule( name='baremetal:port:list', check_str='rule:baremetal:port:get' ) deprecated_port_list_all = policy.DeprecatedRule( name='baremetal:port:list_all', check_str='rule:baremetal:port:get' ) deprecated_port_create = policy.DeprecatedRule( name='baremetal:port:create', check_str='rule:is_admin' ) deprecated_port_delete = policy.DeprecatedRule( name='baremetal:port:delete', check_str='rule:is_admin' ) deprecated_port_update = policy.DeprecatedRule( name='baremetal:port:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_port_get, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_port_list, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_port_list_all, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_port_create, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_port_delete, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_port_update, deprecated_reason=deprecated_port_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_portgroup_get = policy.DeprecatedRule( name='baremetal:portgroup:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_portgroup_create = policy.DeprecatedRule( name='baremetal:portgroup:create', check_str='rule:is_admin' ) deprecated_portgroup_delete = policy.DeprecatedRule( name='baremetal:portgroup:delete', check_str='rule:is_admin' ) deprecated_portgroup_update = policy.DeprecatedRule( name='baremetal:portgroup:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_portgroup_get, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_portgroup_create, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_portgroup_delete, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_portgroup_update, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_portgroup_get, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_portgroup_get, deprecated_reason=deprecated_portgroup_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_chassis_get = policy.DeprecatedRule( name='baremetal:chassis:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_chassis_create = policy.DeprecatedRule( name='baremetal:chassis:create', check_str='rule:is_admin' ) deprecated_chassis_delete = policy.DeprecatedRule( name='baremetal:chassis:delete', check_str='rule:is_admin' ) deprecated_chassis_update = policy.DeprecatedRule( name='baremetal:chassis:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_chassis_get, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_chassis_create, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_chassis_delete, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_chassis_update, deprecated_reason=deprecated_chassis_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_driver_get = policy.DeprecatedRule( name='baremetal:driver:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_driver_get_properties = policy.DeprecatedRule( name='baremetal:driver:get_properties', check_str='rule:is_admin or rule:is_observer' ) deprecated_driver_get_raid_properties = policy.DeprecatedRule( name='baremetal:driver:get_raid_logical_disk_properties', check_str='rule:is_admin or rule:is_observer' ) deprecated_rule=deprecated_driver_get, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_driver_get_properties, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_driver_get_raid_properties, deprecated_reason=deprecated_driver_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_node_passthru = policy.DeprecatedRule( name='baremetal:node:vendor_passthru', check_str='rule:is_admin' ) deprecated_driver_passthru = policy.DeprecatedRule( name='baremetal:driver:vendor_passthru', check_str='rule:is_admin' ) deprecated_rule=deprecated_node_passthru, deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_driver_passthru, deprecated_reason=deprecated_vendor_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_ipa_heartbeat = policy.DeprecatedRule( name='baremetal:node:ipa_heartbeat', check_str='rule:public_api' ) deprecated_ipa_lookup = policy.DeprecatedRule( name='baremetal:driver:ipa_lookup', check_str='rule:public_api' ) deprecated_rule=deprecated_ipa_heartbeat, deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_ipa_lookup, deprecated_reason=deprecated_utility_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_volume_get = policy.DeprecatedRule( name='baremetal:volume:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_volume_create = policy.DeprecatedRule( name='baremetal:volume:create', check_str='rule:is_admin' ) deprecated_volume_delete = policy.DeprecatedRule( name='baremetal:volume:delete', check_str='rule:is_admin' ) deprecated_volume_update = policy.DeprecatedRule( name='baremetal:volume:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_volume_get, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_get, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_get, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_create, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_delete, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_update, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_volume_update, deprecated_reason=deprecated_volume_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_conductor_get = policy.DeprecatedRule( name='baremetal:conductor:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_rule=deprecated_conductor_get, deprecated_reason=deprecated_conductor_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_allocation_get = policy.DeprecatedRule( name='baremetal:allocation:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_allocation_list = policy.DeprecatedRule( name='baremetal:allocation:list', check_str='rule:baremetal:allocation:get' ) deprecated_allocation_list_all = policy.DeprecatedRule( name='baremetal:allocation:list_all', check_str='rule:baremetal:allocation:get and is_admin_project:True' ) deprecated_allocation_create = policy.DeprecatedRule( name='baremetal:allocation:create', check_str='rule:is_admin and is_admin_project:True' ) deprecated_allocation_create_restricted = policy.DeprecatedRule( name='baremetal:allocation:create_restricted', check_str='rule:baremetal:allocation:create' ) deprecated_allocation_delete = policy.DeprecatedRule( name='baremetal:allocation:delete', check_str='rule:is_admin' ) deprecated_allocation_update = policy.DeprecatedRule( name='baremetal:allocation:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_allocation_get, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_list, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_list_all, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_create, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_create_restricted, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_delete, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_allocation_update, deprecated_reason=deprecated_allocation_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_reason=deprecated_allocation_reason, deprecated_for_removal=True, deprecated_since=versionutils.deprecated.WALLABYdeprecated_event_create = policy.DeprecatedRule( name='baremetal:events:post', check_str='rule:is_admin' ) deprecated_rule=deprecated_event_create, deprecated_reason=deprecated_event_reason, deprecated_since=versionutils.deprecated.WALLABYdeprecated_deploy_template_get = policy.DeprecatedRule( name='baremetal:deploy_template:get', check_str='rule:is_admin or rule:is_observer' ) deprecated_deploy_template_create = policy.DeprecatedRule( name='baremetal:deploy_template:create', check_str='rule:is_admin' ) deprecated_deploy_template_delete = policy.DeprecatedRule( name='baremetal:deploy_template:delete', check_str='rule:is_admin' ) deprecated_deploy_template_update = policy.DeprecatedRule( name='baremetal:deploy_template:update', check_str='rule:is_admin' ) deprecated_rule=deprecated_deploy_template_get, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_deploy_template_create, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_deploy_template_delete, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_deploy_template_update, deprecated_reason=deprecated_template_reason, deprecated_since=versionutils.deprecated.WALLABY",507,549
openstack%2Fneutron-lib~master~Ibee622ef47ca6d738ca53f6482cad88b2441503e,openstack/neutron-lib,master,Ibee622ef47ca6d738ca53f6482cad88b2441503e,Introduce rbac-bgpvpn api extension,MERGED,2021-06-08 21:56:25.000000000,2021-07-06 09:12:32.000000000,2021-07-06 09:10:44.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27256}]","[{'number': 1, 'created': '2021-06-08 21:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/06df0ddb0e0fa4a5998d961eee15ae8c9831b404', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 2, 'created': '2021-06-22 12:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/143c0ff140efd96c6e373cd12caea91c579041fe', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 3, 'created': '2021-06-25 19:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/03b8e4a7f0b7c6cb9ef876f7f444721dd96eb8b7', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 4, 'created': '2021-06-27 13:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e9de8ab5b748c0843c2d276e6815614efb05b65a', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 5, 'created': '2021-06-29 21:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2b36a9ab5f18be40028901eaea56cab19ea9bee0', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 6, 'created': '2021-07-01 10:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/60da76e6ec0252549723e636a236ec98a4546fa6', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}, {'number': 7, 'created': '2021-07-05 18:30:44.000000000', 'files': ['neutron_lib/api/definitions/bgpvpn.py', 'releasenotes/notes/add-rbac-bgpvpn-cf6c9346822268f7.yaml', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/tests/unit/api/definitions/test_rbac_bgpvpn.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/rbac_bgpvpn.py', 'api-ref/source/v2/rbac-policy.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2cfe12c2ece452882b0646036fc01fd021cf727a', 'message': 'Introduce rbac-bgpvpn api extension\n\nThis extension makes it possible to add bgpvpn to RBAC policies.\n\nPartial-Bug: #1931100\nChange-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e\n'}]",10,795423,2cfe12c2ece452882b0646036fc01fd021cf727a,28,5,7,27256,,,0,"Introduce rbac-bgpvpn api extension

This extension makes it possible to add bgpvpn to RBAC policies.

Partial-Bug: #1931100
Change-Id: Ibee622ef47ca6d738ca53f6482cad88b2441503e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/23/795423/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-rbac-bgpvpn-cf6c9346822268f7.yaml', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/tests/unit/api/definitions/test_rbac_bgpvpn.py', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/rbac_bgpvpn.py', 'api-ref/source/v2/rbac-policy.inc']",7,06df0ddb0e0fa4a5998d961eee15ae8c9831b404,rbac-bgpvpn,The presence of the ``rbac-bgpvpn`` extension extends this API to support object types of ``bgpvpn``. ,,59,3
openstack%2Fneutron~master~I143cd55612118f243c0e502fb77a611d1ee48761,openstack/neutron,master,I143cd55612118f243c0e502fb77a611d1ee48761,Use 2 dhcp agents in TestLegacyL3Agent,MERGED,2021-06-08 11:41:18.000000000,2021-07-06 09:12:00.000000000,2021-06-08 22:04:49.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 11:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55b222ec79cfa3443fc24c73430ff7e22f1b4ba', 'message': 'Use 2 dhcp agents in TestLegacyL3Agent\n\nThis is a workaround for privsep hanging issue described in bug 1930401.\nProper fix is developed in\nhttps://review.opendev.org/c/openstack/neutron/+/794994\n- this fix will revert current change to reproduce and verify\nprivsep issue is fixed.\n\nRelated-Bug: #1930401\nChange-Id: I143cd55612118f243c0e502fb77a611d1ee48761\n'}, {'number': 2, 'created': '2021-06-08 12:15:24.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07337f9e99cdcfb1af3546a537d5595330e8bded', 'message': 'Use 2 dhcp agents in TestLegacyL3Agent\n\nThis is a workaround for privsep hanging issue described in bug 1930401.\nProper fix is developed in\nhttps://review.opendev.org/c/openstack/neutron/+/794994\n- this fix will revert current change to reproduce and verify\nprivsep issue is fixed.\n\nRelated-Bug: #1930401\nChange-Id: I143cd55612118f243c0e502fb77a611d1ee48761\n'}]",2,795300,07337f9e99cdcfb1af3546a537d5595330e8bded,22,5,2,5948,,,0,"Use 2 dhcp agents in TestLegacyL3Agent

This is a workaround for privsep hanging issue described in bug 1930401.
Proper fix is developed in
https://review.opendev.org/c/openstack/neutron/+/794994
- this fix will revert current change to reproduce and verify
privsep issue is fixed.

Related-Bug: #1930401
Change-Id: I143cd55612118f243c0e502fb77a611d1ee48761
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/795300/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,c55b222ec79cfa3443fc24c73430ff7e22f1b4ba,bug/1930401, environment.HostDescription(dhcp_agent=True)], environment.HostDescription()],1,1
openstack%2Ftripleo-repos~master~I38317f3aabc0c78b3125a8405e824eb5ebf8f183,openstack/tripleo-repos,master,I38317f3aabc0c78b3125a8405e824eb5ebf8f183,Adds tripleo-yum-config module,MERGED,2021-06-07 18:59:16.000000000,2021-07-06 09:10:26.000000000,2021-07-06 09:10:26.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 18:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/613cb896043c7ae99f442095e98f0c0051191357', 'message': 'WIP - Adds tripleo-yum-config module\n\nThis patch adds tripleo-yum-config python module to assist\non yum configuration file updates. It supports yum repo, module and\nglobal configuration updates. It also provides a new cli to be used\nas standalone module.\n\n* Missing ansible module\n* Missing unit tests\n\nChange-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183\n'}, {'number': 2, 'created': '2021-06-09 20:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/4ce0c35e067abe80f7347322e5fd82db737e6251', 'message': 'WIP - Adds tripleo-yum-config module\n\nThis patch adds tripleo-yum-config python module to assist\non yum configuration file updates. It supports yum repo, module and\nglobal configuration updates. It also provides a new cli to be used\nas standalone module.\n\n* Missing ansible module\n\nChange-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183\n'}, {'number': 3, 'created': '2021-06-14 13:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/0e09d41c3680f8175e3240ad8c8e9df7434b9127', 'message': 'Adds tripleo-yum-config module\n\nThis patch adds tripleo-yum-config python module to assist\non yum configuration file updates. It supports yum repo, module and\nglobal configuration updates. It also provides a new cli to be used\nas standalone module.\n\nChange-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183\n'}, {'number': 4, 'created': '2021-06-23 19:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/3af185b432a9b87fd0bdd6c94ac975204805c55d', 'message': 'Adds tripleo-yum-config module\n\nThis patch adds tripleo-yum-config python module to assist\non yum configuration file updates. It supports yum repo, module and\nglobal configuration updates. It also provides a new cli to be used\nas standalone module.\n\nChange-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183\n'}, {'number': 5, 'created': '2021-07-01 21:25:59.000000000', 'files': ['tripleo-yum-config/tripleo_yum_config/constants.py', 'tripleo-yum-config/setup.cfg', 'tripleo-yum-config/README.md', 'tripleo-yum-config/test/test_main.py', 'tripleo-yum-config/tripleo_yum_config/dnf_manager.py', 'tripleo-yum-config/test/test_yum_config.py', 'tripleo-yum-config/test/fakes.py', 'tripleo-yum-config/tripleo_yum_config/exceptions.py', 'tripleo-yum-config/LICENSE', 'tripleo-yum-config/test/__init__.py', 'tripleo-yum-config/test/test_dnf_manager.py', 'tripleo-yum-config/tripleo_yum_config/yum_config.py', 'tripleo-yum-config/setup.py', 'tripleo-yum-config/tripleo_yum_config/__main__.py', 'tripleo-yum-config/test/mock_modules.py', 'tox.ini', 'tripleo-yum-config/tripleo_yum_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/e012eb01942462272ce8714af19ef0e38ba925ab', 'message': 'Adds tripleo-yum-config module\n\nThis patch adds tripleo-yum-config python module to assist\non yum configuration file updates. It supports yum repo, module and\nglobal configuration updates. It also provides a new cli to be used\nas standalone module.\n\nChange-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183\n'}]",21,795171,e012eb01942462272ce8714af19ef0e38ba925ab,33,6,5,30002,,,0,"Adds tripleo-yum-config module

This patch adds tripleo-yum-config python module to assist
on yum configuration file updates. It supports yum repo, module and
global configuration updates. It also provides a new cli to be used
as standalone module.

Change-Id: I38317f3aabc0c78b3125a8405e824eb5ebf8f183
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/71/795171/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-yum-config/tripleo_yum_config/constants.py', 'tripleo-yum-config/tripleo_yum_config/exceptions.py', 'tripleo-yum-config/LICENSE', 'tripleo-yum-config/setup.cfg', 'tripleo-yum-config/README.md', 'tripleo-yum-config/test/__init__.py', 'tripleo-yum-config/tripleo_yum_config/yum_config.py', 'tripleo-yum-config/setup.py', 'tripleo-yum-config/tripleo_yum_config/requirements.txt', 'tripleo-yum-config/tripleo_yum_config/__main__.py', 'tripleo-yum-config/tripleo_yum_config/__init__.py']",11,613cb896043c7ae99f442095e98f0c0051191357,tripleo-yum-config,,,601,0
openstack%2Fmanila~master~I5cf9788dcafebdf88426617d2824f4be42dbb412,openstack/manila,master,I5cf9788dcafebdf88426617d2824f4be42dbb412,"Filter shares by share type ""extra_specs""",MERGED,2021-06-08 08:37:24.000000000,2021-07-06 09:07:42.000000000,2021-07-06 09:06:21.000000000,"[{'_account_id': 6413}, {'_account_id': 13425}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-06-08 08:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/20c470da4746ecf131fb707e6860c8ed20f58e1a', 'message': 'Filter shares by share type ""extra_specs""\n\nIt\'s possible to use share type ""extra_specs"" as key=value\npairs to filter shares by. However, this doesn\'t seem to\nwork as intended.\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n'}, {'number': 2, 'created': '2021-06-08 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c2d3a1179dd6827feee70a780dc4418f7c394288', 'message': 'Filter shares by share type ""extra_specs""\n\nIt\'s possible to use share type ""extra_specs"" as key=value\npairs to filter shares by. However, this doesn\'t seem to\nwork as intended.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n'}, {'number': 3, 'created': '2021-06-10 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/386c112724b3fa140de45ea79ee2107d1e679013', 'message': 'Filter shares by share type ""extra_specs""\n\nIt\'s possible to use share type ""extra_specs"" as key=value\npairs to filter shares by. However, this doesn\'t seem to\nwork as intended.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n'}, {'number': 4, 'created': '2021-06-19 08:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/632a780885f64ff09cee03a9b86628e1abe4a640', 'message': 'Filter shares by share type ""extra_specs""\n\nThis change fixes the query being used to filter share\ntypes. We were using an ""or"" clause instead of an ""and"" clause,\nand that was causing all the extra specs to be shown instead of\nthe ones that the user specified. With this fix, manila users will\nbe able to filter shares by share type extra_specs accurately.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n'}, {'number': 5, 'created': '2021-06-21 16:43:21.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/4fbacf1df1dbe7a85726e22892d462b5b7c4e316', 'message': 'Filter shares by share type ""extra_specs""\n\nThis change fixes the query being used to filter share\ntypes. We were using an ""or"" clause instead of an ""and"" clause,\nand that was causing all the extra specs to be shown instead of\nthe ones that the user specified. With this fix, manila users will\nbe able to filter shares by share type extra_specs accurately.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n'}]",6,795256,4fbacf1df1dbe7a85726e22892d462b5b7c4e316,54,6,5,32493,,,0,"Filter shares by share type ""extra_specs""

This change fixes the query being used to filter share
types. We were using an ""or"" clause instead of an ""and"" clause,
and that was causing all the extra specs to be shown instead of
the ones that the user specified. With this fix, manila users will
be able to filter shares by share type extra_specs accurately.

Closes-Bug: #1929121

Change-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/795256/5 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,20c470da4746ecf131fb707e6860c8ed20f58e1a,bug/1929121," query = query.filter(models.ShareTypeExtraSpecs.key == k, models.ShareTypeExtraSpecs.value == v)"," query = query.filter(or_(models.ShareTypeExtraSpecs.key == k, models.ShareTypeExtraSpecs.value == v))",2,2
openstack%2Fcharm-cinder-purestorage~stable%2F21.04~If75aab5d8a0aeb4492a8aa029494abea4a362085,openstack/charm-cinder-purestorage,stable/21.04,If75aab5d8a0aeb4492a8aa029494abea4a362085,Add config options for all supported features,MERGED,2021-07-05 11:07:44.000000000,2021-07-06 08:39:07.000000000,2021-07-06 08:39:07.000000000,"[{'_account_id': 935}, {'_account_id': 13425}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 11:07:44.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_cinder_purestorage.py', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/ad0c22edb62a55b34cd76c4a26c7734ded17a66c', 'message': 'Add config options for all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n(cherry picked from commit 37fde2d2d0189d74163eb834747bb7a9b951ac48)\n'}]",0,799373,ad0c22edb62a55b34cd76c4a26c7734ded17a66c,8,5,1,31289,,,0,"Add config options for all supported features

Change-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
(cherry picked from commit 37fde2d2d0189d74163eb834747bb7a9b951ac48)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/73/799373/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_lib_charm_openstack_cinder_purestorage.py', 'src/lib/charm/openstack/cinder_purestorage.py']",3,ad0c22edb62a55b34cd76c4a26c7734ded17a66c,add_latest_features-stable/21.04," image_cache = [] iscsi = [] repl = [] ('use_multipath_for_image_xfer', self.config.get('use-multipath')), ('image_volume_cache_enabled', self.config.get('use-image-cache')), ('pure_eradicate_on_delete', self.config.get('eradicate-on-delete')), ('pure_automatic_max_oversubscription_ratio', self.config.get('automatic-max-oversubscription')), if self.config.get('protocol') == 'iscsi': if self.config.get('iscsi-cidr'): iscsi.extend([('pure_iscsi_cidr', self.config.get('iscsi-cidr'))]) if self.config.get('use-chap'): iscsi.extend([('use_chap_auth', self.config.get('use-chap'))]) if self.config.get('use-image-cache'): image_cache = [ ('image_volume_cache_max_size_gb', self.config.get('image-volume-cache-max-size-gb', 0)), ('image_volume_cache_max_count', self.config.get('image-volume-cache-max-count', 0))] if self.config.get('use-replication'): replication_device = 'backend_id:' + \ self.config.get('replication-target-name') + \ ',san_ip:' + \ self.config.get('replication-target-address') + \ ',api_token:' + \ self.config.get('replication-target-api-token') if self.config.get('replication-type') == 'sync': replication_device += ',type:sync' if self.config.get('replication-sync-uniform', False): replication_device += ',uniform:true' repl = [('replication_device', replication_device)] if self.config.get('replica-interval'): repl.extend([('pure_replica_interval_default', self.config.get('replica-interval'))]) if self.config.get('pure-replica-retention-short'): repl.extend([('pure_replica_retention_short_term_default', self.config.get('pure-replica-retention-short'))]) if self.config.get('replica-retention-per-day'): # required for pep8 max line length compliance TEMP_VAR = 'pure_replica_retention_long_term_per_day_default' repl.extend([(TEMP_VAR, self.config.get('replica-retention-per-day'))]) if self.config.get('replica-retention-long'): repl.extend([('pure_replica_retention_long_term_default', self.config.get('replica-retention-long'))]) if self.config.get('replication-pgname'): repl.extend([('pure_replication_pg_name', self.config.get('replication-pgname'))]) if self.config.get('replication-pod'): repl.extend([('pure_replication_pod_name', self.config.get('replication-pod'))]) final_options = driver_options + image_cache + repl + iscsi return final_options", return driver_options,184,1
openstack%2Fneutron~master~Ia87fa7c08df473acbcf1600035d99a83ed4b4375,openstack/neutron,master,Ia87fa7c08df473acbcf1600035d99a83ed4b4375,Change fullstack dhclient lease file to tmp folder,MERGED,2021-07-05 07:36:24.000000000,2021-07-06 08:30:56.000000000,2021-07-06 08:21:58.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 07:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc5e380ce363301274fcfa1d2ff9c906b17fad34', 'message': ""Change fullstack dhclient lease file to tmp folder\n\nEach cases are sharing the common lease path for dhclient,\nfor instance, in CentOS it is: /var/lib/dhclient/dhclient.leases.\nThat means all fullstack cases will use this file to store\nfake VM's NIC DHCP lease information.\n\nAfter run several times of fullstack cases, the dhclient will\nget failed to set the test fake VM port's IP due to the mess\nsettings in this file.\n\nThis patch sets each fake VM's NIC lease file path to the\ntmp folder with it's port id.\n\nThis may fix some cases that cannot set the IP addr to the test\ndevice properly via DHCP.\n\nChange-Id: Ia87fa7c08df473acbcf1600035d99a83ed4b4375\n""}, {'number': 2, 'created': '2021-07-05 11:06:01.000000000', 'files': ['neutron/tests/fullstack/resources/machine.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b46df48476fdfd5a479ad537d190474f39e395b', 'message': ""Change fullstack dhclient lease file to tmp folder\n\nEach cases are sharing the common lease path for dhclient,\nfor instance, in CentOS it is: /var/lib/dhclient/dhclient.leases.\nThat means all fullstack cases will use this file to store\nfake VM's NIC DHCP lease information.\n\nAfter run several times of fullstack cases, the dhclient will\nget failed to set the test fake VM port's IP due to the mess\nsettings in this file.\n\nThis patch sets each fake VM's NIC lease file path to the\ntmp folder with it's port id.\n\nThis may fix some cases that cannot set the IP addr to the test\ndevice properly via DHCP.\n\nCloses-Bug: #1934646\nChange-Id: Ia87fa7c08df473acbcf1600035d99a83ed4b4375\n""}]",3,799438,3b46df48476fdfd5a479ad537d190474f39e395b,18,4,2,9531,,,0,"Change fullstack dhclient lease file to tmp folder

Each cases are sharing the common lease path for dhclient,
for instance, in CentOS it is: /var/lib/dhclient/dhclient.leases.
That means all fullstack cases will use this file to store
fake VM's NIC DHCP lease information.

After run several times of fullstack cases, the dhclient will
get failed to set the test fake VM port's IP due to the mess
settings in this file.

This patch sets each fake VM's NIC lease file path to the
tmp folder with it's port id.

This may fix some cases that cannot set the IP addr to the test
device properly via DHCP.

Closes-Bug: #1934646
Change-Id: Ia87fa7c08df473acbcf1600035d99a83ed4b4375
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/799438/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/machine.py'],1,bc5e380ce363301274fcfa1d2ff9c906b17fad34,dhclient_lease_file_path," self._configure_ipaddress(self.neutron_port['id'], fixed_ip) def _configure_ipaddress(self, port_id, fixed_ip): port_id, self._configure_ipaddress_via_dhcp(port_id) def _configure_ipaddress_via_dhcp(self, port_id, version=constants.IP_VERSION_4): self._start_async_dhclient(port_id, version) def _start_async_dhclient(self, port_id, version=constants.IP_VERSION_4): '-lf', '%s/%s.lease' % (self.host.neutron_config.temp_dir, port_id),"," self._configure_ipaddress(fixed_ip) def _configure_ipaddress(self, fixed_ip): self._configure_ipaddress_via_dhcp() def _configure_ipaddress_via_dhcp(self, version=constants.IP_VERSION_4): self._start_async_dhclient(version) def _start_async_dhclient(self, version=constants.IP_VERSION_4):",11,6
openstack%2Fneutron~stable%2Fussuri~I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,openstack/neutron,stable/ussuri,I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,[OVN] Do not fail when processing SG rule deletion,MERGED,2021-07-05 07:31:07.000000000,2021-07-06 08:24:39.000000000,2021-07-06 08:22:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 07:31:07.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/84ed85c7f1b7ea267521d2165ef3dd9b8423ec09', 'message': '[OVN] Do not fail when processing SG rule deletion\n\nWhen a security group rule deletion command is issued, before executing\nthe database operations, a ""BEFORE_DELETE"" event is raised.\n\nThe OVN handler attending to this event should not fail if the security\ngroup rule does not exist; the database transaction [1]  will in case of\nnot finding it, raising the correct exception and HTTP 404 error:\n\n  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \\\n    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \\\n    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \\\n    status: 404 len: 348 time: 0.0352871\n\n[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f\nCloses-Bug: #1933638\n(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)\n'}]",0,799372,84ed85c7f1b7ea267521d2165ef3dd9b8423ec09,10,3,1,16688,,,0,"[OVN] Do not fail when processing SG rule deletion

When a security group rule deletion command is issued, before executing
the database operations, a ""BEFORE_DELETE"" event is raised.

The OVN handler attending to this event should not fail if the security
group rule does not exist; the database transaction [1]  will in case of
not finding it, raising the correct exception and HTTP 404 error:

  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \
    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \
    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \
    status: 404 len: 348 time: 0.0352871

[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f
Closes-Bug: #1933638
(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/799372/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,84ed85c7f1b7ea267521d2165ef3dd9b8423ec09,bug/1933638-stable/ussuri,"from neutron.extensions import securitygroup as ext_sg try: sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id')) except ext_sg.SecurityGroupRuleNotFound: return "," sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id'))",7,2
openstack%2Fneutron~master~I5e1de571034be41f1147c130fce66e6cf70b1369,openstack/neutron,master,I5e1de571034be41f1147c130fce66e6cf70b1369,Add fake_project_id middleware for noauth,MERGED,2021-07-02 06:42:49.000000000,2021-07-06 08:24:15.000000000,2021-07-06 08:21:32.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 06:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26fc23ffb9bcab6b63b03d594f7f96afc8368ee7', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}, {'number': 2, 'created': '2021-07-02 06:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e24fdebe87fb82bfe253cecace9aa242828a2dd', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}, {'number': 3, 'created': '2021-07-02 07:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f44796656c244055983b3504d83939f94dd198e8', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}, {'number': 4, 'created': '2021-07-02 10:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d3594baa541a8891f45f1d1e6539a8fa82c234b', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}, {'number': 5, 'created': '2021-07-03 02:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70856e829b7ccdd823b4b28953832d30082a2516', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}, {'number': 6, 'created': '2021-07-05 15:48:32.000000000', 'files': ['etc/api-paste.ini', 'releasenotes/notes/allow-noauth-work-without-project-id-f92fac5df37810f0.yaml', 'neutron/auth.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec550f5f52c5377f57499eeadd7e0d665dcdb73d', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n""}]",27,799162,ec550f5f52c5377f57499eeadd7e0d665dcdb73d,56,5,6,8833,,,0,"Add fake_project_id middleware for noauth

This adds a middleware for noauth that would inject a fake
project_id for create requests. This would ensure that api
consumers don't have to provide a fake project_id in requests.

Closes-Bug: #1934039
Change-Id: I5e1de571034be41f1147c130fce66e6cf70b1369
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/799162/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/extensions.py', 'etc/api-paste.ini', 'neutron/auth.py']",3,26fc23ffb9bcab6b63b03d594f7f96afc8368ee7,keystoneless,"class NoauthFakeProjectId(base.ConfigurableMiddleware): """"""Add fake project_id for noauth auth_strategy."""""" @webob.dec.wsgify def __call__(self, req): ctx = context.Context.from_environ(req.environ) if not ctx.project_id and req.method == 'POST': LOG.debug(""X_PROJECT_ID is not found in request"") # Inject project_id ctx.project_id = 'fake_project_id' # Inject the context... req.environ['neutron.context'] = ctx return self.application",,19,1
openstack%2Fcharm-octavia~master~Id8a71ad90da98f6330328663478a948f4b134c0d,openstack/charm-octavia,master,Id8a71ad90da98f6330328663478a948f4b134c0d,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 17:17:05.000000000,2021-07-06 08:18:54.000000000,2021-07-06 08:18:54.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 17:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e8343f19a764ca477a22e1c9021bfcc2fd356f1b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\n'}, {'number': 2, 'created': '2021-03-05 17:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ffa75bf72d68ebcb65332b47b536b8a29cdf6a9a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\n'}, {'number': 3, 'created': '2021-03-30 17:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a03e6b51dca0152d8d5364070fc42d8868862473', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\n'}, {'number': 4, 'created': '2021-04-15 18:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/6bcb34e70b11c4f3c00d9558fce69dc3a7a2f186', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\n'}, {'number': 5, 'created': '2021-06-10 12:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/75f676fa299650a1da94c57de7a7d4fe5b59b098', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 6, 'created': '2021-06-15 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0c4f5652321d6495c2198950ceaa2b1e3ac108a8', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 7, 'created': '2021-06-16 02:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fdfa899a4b6a13f86dbea6c639660573112bacc5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nReplace overlay symlinks with local-charm-overlay template.\n\n*Temporarilly* disable smoke jobs, will restore in final patch set.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 8, 'created': '2021-06-16 02:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1d20b7e5a14ccefefc9f886bb8a1bb24e969c97e', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nReplace overlay symlinks with local-charm-overlay template.\n\n*Temporarilly* disable smoke jobs, will restore in final patch set.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 9, 'created': '2021-06-16 02:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/cc3aef28eed31b888958b690a3647588ef561fa5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nReplace overlay symlinks with local-charm-overlay template.\n\n*Temporarilly* disable smoke jobs, will restore in final patch set.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 10, 'created': '2021-06-16 07:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/421f75644a9b7124e429d6e2bb3a4041e1352176', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 11, 'created': '2021-06-16 07:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7433c05ed2e3fb7ad3f8ff16334e5860b86e0bfc', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 12, 'created': '2021-06-16 07:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/639850b6982bc7d09fdb313d266228bcbd1b37b4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 13, 'created': '2021-06-28 13:28:44.000000000', 'files': ['src/tests/bundles/overlays/bionic-ussuri-ha.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/bionic-train-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/tests/bundles/overlays/bionic-rocky-ha.yaml.j2', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/overlays/groovy-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky-lxd.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/overlays/bionic-train-ha.yaml.j2', 'src/tests/bundles/overlays/focal-victoria-ha-ovn.yaml.j2', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/overlays/bionic-stein-ha.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/overlays/focal-ussuri-ha.yaml.j2', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c30f2982d5d27c77d4ce0d3e096585b75af5461c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nRe-enable testing with Victora Amphora.\n\nRe-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU\nis complete.\n\nReplace overlay symlinks with local-charm-overlay template.\n\nGroup jobs in two stages to avoid CI resource depletion.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592\nChange-Id: Id8a71ad90da98f6330328663478a948f4b134c0d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,778991,c30f2982d5d27c77d4ce0d3e096585b75af5461c,87,6,13,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Re-enable testing with Victora Amphora.

Re-enable bionic-ussuri-ha-ovn now that the ovn 20.03.2 SRU
is complete.

Replace overlay symlinks with local-charm-overlay template.

Group jobs in two stages to avoid CI resource depletion.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/592
Change-Id: Id8a71ad90da98f6330328663478a948f4b134c0d
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/91/778991/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-wallaby-ha.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml', 'src/tests/bundles/groovy-victoria-ha-ovn.yaml']",12,e8343f19a764ca477a22e1c9021bfcc2fd356f1b,wallaby-bundles,variables: openstack-origin: &openstack-origin distro series: &series groovy openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin openstack-origin: *openstack-origin series: *series series: *series openstack-origin: *openstack-origin retrofit-series: *series openstack-origin: *openstack-origin source: *openstack-origin,series: groovy openstack-origin: distro openstack-origin: distro openstack-origin: distro openstack-origin: distro openstack-origin: distro series: groovy series: groovy openstack-origin: distro retrofit-series: groovy openstack-origin: distro source: distro,912,72
openstack%2Fwatcher~master~I621b581417f6967271b3a93385d592098689ae9e,openstack/watcher,master,I621b581417f6967271b3a93385d592098689ae9e,Manage constraints with testenv install_command,MERGED,2021-07-02 08:02:52.000000000,2021-07-06 07:26:26.000000000,2021-07-06 07:25:03.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-02 08:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/80fdda5ecb276f0fb58df6d45e9ecbc51f69ef2c', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I621b581417f6967271b3a93385d592098689ae9e\n'}, {'number': 2, 'created': '2021-07-02 10:43:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e0779175cf4fd08b208c28a268c6a5b23799cc33', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I621b581417f6967271b3a93385d592098689ae9e\n'}]",0,799168,e0779175cf4fd08b208c28a268c6a5b23799cc33,10,4,2,29911,,,0,"Manage constraints with testenv install_command

This prevents having to duplicate the -c{} deps argument
across all environments in tox.ini

Change-Id: I621b581417f6967271b3a93385d592098689ae9e
",git fetch https://review.opendev.org/openstack/watcher refs/changes/68/799168/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,80fdda5ecb276f0fb58df6d45e9ecbc51f69ef2c,central-constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}[testenv:wheel] commands = python setup.py bdist_wheel [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -W -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html [testenv:bandit] deps = -r{toxinidir}/test-requirements.txt commands = bandit -r watcher -x watcher/tests/* -n5 -ll -s B320 ,install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}[testenv:wheel] commands = python setup.py bdist_wheel [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W --keep-going -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -W -E -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html [testenv:bandit] deps = -r{toxinidir}/test-requirements.txt commands = bandit -r watcher -x watcher/tests/* -n5 -ll -s B320,23,27
openstack%2Fwatcher-tempest-plugin~master~I3d0b6ca81be88660dcbbbeed0c3705771b258cb2,openstack/watcher-tempest-plugin,master,I3d0b6ca81be88660dcbbbeed0c3705771b258cb2,Manage constraints with testenv install_command,MERGED,2021-07-02 08:58:26.000000000,2021-07-06 07:24:59.000000000,2021-07-06 07:24:59.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-02 08:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/8a1448aa48dde4a8985fd7c05609482cff08ee7b', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nIn addition this switches to stestr instead of testing\nthrough setup.py\n\nChange-Id: I3d0b6ca81be88660dcbbbeed0c3705771b258cb2\n'}, {'number': 2, 'created': '2021-07-02 10:04:09.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/f50fe604acf2f32ab1300ca433f25bd386d117f7', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nIn addition this switches to stestr instead of testing\nthrough setup.py\n\nChange-Id: I3d0b6ca81be88660dcbbbeed0c3705771b258cb2\n'}]",0,799178,f50fe604acf2f32ab1300ca433f25bd386d117f7,8,4,2,29911,,,0,"Manage constraints with testenv install_command

This prevents having to duplicate the -c{} deps argument
across all environments in tox.ini

In addition this switches to stestr instead of testing
through setup.py

Change-Id: I3d0b6ca81be88660dcbbbeed0c3705771b258cb2
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/78/799178/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf']",4,8a1448aa48dde4a8985fd7c05609482cff08ee7b,central-constraints,[DEFAULT] test_path=${OS_TEST_PATH:-./watcher_tempest_plugin} top_dir=./,,26,17
openstack%2Fopenstack-tempest-skiplist~master~I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8,openstack/openstack-tempest-skiplist,master,I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8,Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master,MERGED,2021-06-29 16:41:48.000000000,2021-07-06 07:21:51.000000000,2021-06-29 20:08:53.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 16:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/966106fa515531cecdd988f146707378cdff8634', 'message': 'Skipping VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body and  test_volumes_negative.VolumesAdminNegativeTest.tearDownClass for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1933999\nChange-Id: I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8\n'}, {'number': 2, 'created': '2021-06-29 17:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4137f6ddc03fb9c498a8b91779115a3e29786275', 'message': 'Skipping VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body and  test_volumes_negative.VolumesAdminNegativeTest.tearDownClass for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1933999\nChange-Id: I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8\n'}, {'number': 3, 'created': '2021-06-29 17:13:15.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/10bf014d2dc9574ae2251808410b28829269cab9', 'message': 'Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1933999\nChange-Id: I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8\n'}]",2,798714,10bf014d2dc9574ae2251808410b28829269cab9,15,3,3,32458,,,0,"Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1933999
Change-Id: I7f2bfa02ef73e579d00d372b675f6c49b2c48cf8
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/14/798714/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,966106fa515531cecdd988f146707378cdff8634,, - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1933999 - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.tearDownClass deployment: - overcloud releases: - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1933999 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master,,13,0
openstack%2Fwatcher-dashboard~master~I681688df779557654b001caf33ca6ffbda08f43b,openstack/watcher-dashboard,master,I681688df779557654b001caf33ca6ffbda08f43b,Manage constraints with testenv install_command,MERGED,2021-07-02 08:09:20.000000000,2021-07-06 06:56:39.000000000,2021-07-06 06:54:56.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-02 08:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/cc78e10b571e3ae56ff15453435d17d40ea2227e', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I681688df779557654b001caf33ca6ffbda08f43b\n'}, {'number': 2, 'created': '2021-07-02 10:44:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/8a2d2ebd7987d5f67f9f1f251e84dda60e7a1484', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I681688df779557654b001caf33ca6ffbda08f43b\n'}]",0,799170,8a2d2ebd7987d5f67f9f1f251e84dda60e7a1484,10,4,2,29911,,,0,"Manage constraints with testenv install_command

This prevents having to duplicate the -c{} deps argument
across all environments in tox.ini

Change-Id: I681688df779557654b001caf33ca6ffbda08f43b
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/70/799170/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cc78e10b571e3ae56ff15453435d17d40ea2227e,central-constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I7a38a01f498d350d065a7c312a6654832fe24e6a,openstack/tripleo-heat-templates,stable/ussuri,I7a38a01f498d350d065a7c312a6654832fe24e6a,Add non-tls listener to Memcached,MERGED,2021-03-10 09:02:00.000000000,2021-07-06 06:51:48.000000000,2021-07-06 06:51:48.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-10 09:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32d6d8e6440b02cc1aa007b9b9e534f29f692ec8', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2021-03-10 09:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/150f7d871f75609926598aa09a965652c1f9d359', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}, {'number': 3, 'created': '2021-03-22 13:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebdbb8af1313660c0c1868b7ce8f12d1365c0174', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nNOTE(moguimar): Squashing two extra fixes here that were merged after\nthe first patch in master.\n\nSquashes:\n- Fix memcached firewall condition\n  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)\n- Fix parameters for puppet-memcached-6.0.0\n  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}, {'number': 4, 'created': '2021-07-04 13:17:42.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc89c48df4e616dcc3dc4ab0cffec86a3512eac4', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nNOTE(moguimar): Squashing two extra fixes here that were merged after\nthe first patch in master.\n\nSquashes:\n- Fix memcached firewall condition\n  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)\n- Fix parameters for puppet-memcached-6.0.0\n  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}]",0,779663,cc89c48df4e616dcc3dc4ab0cffec86a3512eac4,54,4,4,14250,,,0,"Add non-tls listener to Memcached

This step is required in order to migrate services to use TLS one by
one. This config should go away once all services support TLS.

NOTE(moguimar): Squashing two extra fixes here that were merged after
the first patch in master.

Squashes:
- Fix memcached firewall condition
  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)
- Fix parameters for puppet-memcached-6.0.0
  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)

Change-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a
Co-authored-By: Grzegorz Grasza <xek@redhat.com>
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/779663/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,32d6d8e6440b02cc1aa007b9b9e534f29f692ec8,memcached-cert-stable/ussuri," MemcachedPort: default: 11211 description: Port to have Memcached listening at. When using MemcachedTLS, this has to be set to a different port then the default - see below. type: number Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. # NOTE: A non-tls port is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. enable_non_tls_port: and: - internal_tls_enabled - not: {equals: [{get_param: MemcachedPort}, 11211]} dport: {get_param: MemcachedPort} proto: 'tcp' source: <%net_cidr%> - '121 memcached': dport: {get_param: MemcachedPort} proto: 'tcp' source: {get_param: MemcachedIpSubnet} if: - and: [memcached_network_unset, enable_non_tls_port] - map_merge: repeat: for_each: <%net_cidr%>: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, MemcachedNetwork]} template: '121 memcached <%net_cidr%>': - {} if: - and: [{not: memcached_network_unset}, enable_non_tls_port] - {} memcached::listen_addr: list_concat: - - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} - if: - enable_non_tls_port - - str_replace: template: ""notls:%{hiera('$NETWORK_uri')}:11211"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} - if: - is_ipv6 - 'notls:[::1]:11211' - 'notls:127.0.0.1:11211' - [] # NOTE(xek): the IP addresses are configured with: # memcached::listen_addr - the new way # memcached::listen_ip - will be deprecated # memcached::notls_listener_port/addr - will be deprecated # see: https://github.com/saz/puppet-memcached/pull/127 - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::tcp_port: {get_param: MemcachedPort} # NOTE: This config is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. if: - enable_non_tls_port - memcached::notls_listener_port: 11211 memcached::notls_listener_addr: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: 11211 - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: {get_param: MemcachedPort} - port: # collectd has no support to Memcached+TLS yet. - if: - enable_non_tls_port - 11211 - {get_param: MemcachedPort}"," str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} port: 11211",100,6
openstack%2Fopenstack-tempest-skiplist~master~Id4ffed14d8b8de2a2f20bba22356fc99c289a0cd,openstack/openstack-tempest-skiplist,master,Id4ffed14d8b8de2a2f20bba22356fc99c289a0cd,Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test,MERGED,2021-07-05 05:43:55.000000000,2021-07-06 06:34:24.000000000,2021-07-05 10:50:24.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-05 05:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/173e45d6eb9a835496b8909edef45b626018d886', 'message': 'Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test\n\nRelated-Bug: #1934622\nChange-Id: Id4ffed14d8b8de2a2f20bba22356fc99c289a0cd\n'}, {'number': 2, 'created': '2021-07-05 06:01:37.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cf2ac4ca79af2353fe09cf34bfdaeb331b344a98', 'message': 'Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test\n\nRelated-Bug: #1934622\nChange-Id: Id4ffed14d8b8de2a2f20bba22356fc99c289a0cd\n'}]",1,799432,cf2ac4ca79af2353fe09cf34bfdaeb331b344a98,13,10,2,20182,,,0,"Skip neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON test

Related-Bug: #1934622
Change-Id: Id4ffed14d8b8de2a2f20bba22356fc99c289a0cd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/32/799432/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,173e45d6eb9a835496b8909edef45b626018d886,bug/1934622, - test: neutron_tempest_plugin.api.test_subnets.SubnetServiceTypeTestJSON.test_allocate_ips_are_from_correct_subnet deployment: - overcloud releases: - name: master reason: IpAddressGenerationFailureNoMatchingSubnet lp: https://bugs.launchpad.net/tripleo/+bug/1934622 installers: - 'rdo' jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-api-master,,11,0
openstack%2Ftacker~master~I7cc6ac44e33bd27b42cf4d9a15709c2de822483f,openstack/tacker,master,I7cc6ac44e33bd27b42cf4d9a15709c2de822483f,add python3 and python3.4 support in classifier,NEW,2016-05-09 03:13:39.000000000,2021-07-06 05:49:09.000000000,,"[{'_account_id': 2874}, {'_account_id': 10487}, {'_account_id': 13380}, {'_account_id': 13485}, {'_account_id': 16237}, {'_account_id': 18955}, {'_account_id': 32102}]","[{'number': 1, 'created': '2016-05-09 03:13:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker/commit/994e34cac0fe213da82de6abd97b7dfdaef5983a', 'message': 'add python3 and python3.4 support in classifier\n\nChange-Id: I7cc6ac44e33bd27b42cf4d9a15709c2de822483f\n'}]",0,313968,994e34cac0fe213da82de6abd97b7dfdaef5983a,11,7,1,19950,,,0,"add python3 and python3.4 support in classifier

Change-Id: I7cc6ac44e33bd27b42cf4d9a15709c2de822483f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/68/313968/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,994e34cac0fe213da82de6abd97b7dfdaef5983a,python3_classifier, Programming Language :: Python :: 3 Programming Language :: Python :: 3.4,,2,0
openstack%2Fcinder~stable%2Ftrain~I432a004a2c598f28a9ec50dbc6ea59070f3b014a,openstack/cinder,stable/train,I432a004a2c598f28a9ec50dbc6ea59070f3b014a,Use context manager to manage access to rbd images,ABANDONED,2021-07-05 23:53:25.000000000,2021-07-06 05:43:44.000000000,,[],"[{'number': 1, 'created': '2021-07-05 23:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c22f4a27ab40a42002acba82fb239f490bb97b3', 'message': 'Use context manager to manage access to rbd images\n\nThe rbd.Image class can act as a context manager which automatically\nterminates access to the image when its context ends.\nThis change replaces current direct calls to close() by context\nmanagers to maintain lifecycle of rbd.Image more easily.\n\nChange-Id: I432a004a2c598f28a9ec50dbc6ea59070f3b014a\n'}, {'number': 2, 'created': '2021-07-05 23:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59d537185dce4967321807a94fc42fc73556eb6f', 'message': 'Use context manager to manage access to rbd images\n\nThe rbd.Image class can act as a context manager which automatically\nterminates access to the image when its context ends.\nThis change replaces current direct calls to close() by context\nmanagers to maintain lifecycle of rbd.Image more easily.\n\nChange-Id: I432a004a2c598f28a9ec50dbc6ea59070f3b014a\n'}, {'number': 3, 'created': '2021-07-06 00:59:28.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f466db70b0bf78a395bbdc76dfa3f6e2c107c320', 'message': 'Use context manager to manage access to rbd images\n\nThe rbd.Image class can act as a context manager which automatically\nterminates access to the image when its context ends.\nThis change replaces current direct calls to close() by context\nmanagers to maintain lifecycle of rbd.Image more easily.\n\nChange-Id: I432a004a2c598f28a9ec50dbc6ea59070f3b014a\n'}]",0,799546,f466db70b0bf78a395bbdc76dfa3f6e2c107c320,22,0,3,9816,,,0,"Use context manager to manage access to rbd images

The rbd.Image class can act as a context manager which automatically
terminates access to the image when its context ends.
This change replaces current direct calls to close() by context
managers to maintain lifecycle of rbd.Image more easily.

Change-Id: I432a004a2c598f28a9ec50dbc6ea59070f3b014a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/799546/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,9c22f4a27ab40a42002acba82fb239f490bb97b3,," with self.rbd.Image(client.ioctx, volume_name) as parent_volume: with self.rbd.Image(client.ioctx, src_name) as src_volume: LOG.debug(""creating snapshot='%s'"", clone_snap) try: # Create new snapshot of source volume src_volume.create_snap(clone_snap) src_volume.protect_snap(clone_snap) # Now clone source volume snapshot LOG.debug(""cloning '%(src_vol)s@%(src_snap)s' to "" ""'%(dest)s'"", {'src_vol': src_name, 'src_snap': clone_snap, 'dest': dest_name}) self.RBDProxy().clone(client.ioctx, src_name, clone_snap, client.ioctx, dest_name, features=client.features) except Exception as e: msg = (_(""Failed to clone '%(src_vol)s@%(src_snap)s' to "" ""'%(dest)s', error: %(error)s"") % {'src_vol': src_name, 'src_snap': clone_snap, 'dest': dest_name, depth = self._get_clone_depth(client, src_name) # If dest volume is a clone and rbd_max_clone_depth reached, # flatten the dest after cloning. Zero rbd_max_clone_depth # means volumes are always flattened. if depth >= self.configuration.rbd_max_clone_depth: LOG.info(""maximum clone depth (%d) has been reached - "" ""flattening dest volume"", self.configuration.rbd_max_clone_depth) # Flatten destination volume try: with RBDVolumeProxy(self, dest_name, client=client, ioctx=client.ioctx) as dest_volume: LOG.debug(""flattening dest volume %s"", dest_name) dest_volume.flatten() except Exception as e: msg = (_(""Failed to flatten volume %(volume)s with "" ""error: %(error)s."") % {'volume': dest_name, 'error': e}) LOG.exception(msg) raise exception.VolumeBackendAPIException(data=msg) # remove temporary snap try: LOG.debug(""remove temporary snap %s"", clone_snap) src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap) except Exception as e: msg = (_(""Failed to remove temporary snap "" ""%(snap_name)s, error: %(error)s"") % {'snap_name': clone_snap, 'error': e}) LOG.exception(msg) raise exception.VolumeBackendAPIException(data=msg) try: volume_update = self._setup_volume(volume) except Exception: self.RBDProxy().remove(client.ioctx, dest_name) src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap) err_msg = (_('Failed to enable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) with self.rbd.Image(client.ioctx, parent_name) as parent_rbd: with self.rbd.Image(client.ioctx, volume_name) as rbd_image: clone_snap = None parent = None # Ensure any backup snapshots are deleted self._delete_backup_snaps(rbd_image) # If the volume has non-clone snapshots this delete is # expected to raise VolumeIsBusy so do so straight away. try: snaps = rbd_image.list_snaps() for snap in snaps: if snap['name'].endswith('.clone_snap'): LOG.debug(""volume has clone snapshot(s)"") # We grab one of these and use it when fetching # parent info in case the volume has been # flattened. clone_snap = snap['name'] break raise exception.VolumeIsBusy(volume_name=volume_name) # Determine if this volume is itself a clone _pool, parent, parent_snap = self._get_clone_info( rbd_image, volume_name, clone_snap) with rbd.Image(client.ioctx, rbd_name) as rbd_image: image_size = rbd_image.size() with self.rbd.Image(client.ioctx, volume_name, snapshot=snapshot_name) as rbd_snapshot: snapshot_size = rbd_snapshot.size() "," parent_volume = self.rbd.Image(client.ioctx, volume_name) try: finally: parent_volume.close() src_volume = self.rbd.Image(client.ioctx, src_name) LOG.debug(""creating snapshot='%s'"", clone_snap) try: # Create new snapshot of source volume src_volume.create_snap(clone_snap) src_volume.protect_snap(clone_snap) # Now clone source volume snapshot LOG.debug(""cloning '%(src_vol)s@%(src_snap)s' to "" ""'%(dest)s'"", {'src_vol': src_name, 'src_snap': clone_snap, 'dest': dest_name}) self.RBDProxy().clone(client.ioctx, src_name, clone_snap, client.ioctx, dest_name, features=client.features) except Exception as e: src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap) src_volume.close() msg = (_(""Failed to clone '%(src_vol)s@%(src_snap)s' to "" ""'%(dest)s', error: %(error)s"") % {'src_vol': src_name, 'src_snap': clone_snap, 'dest': dest_name, 'error': e}) LOG.exception(msg) raise exception.VolumeBackendAPIException(data=msg) depth = self._get_clone_depth(client, src_name) # If dest volume is a clone and rbd_max_clone_depth reached, # flatten the dest after cloning. Zero rbd_max_clone_depth means # volumes are always flattened. if depth >= self.configuration.rbd_max_clone_depth: LOG.info(""maximum clone depth (%d) has been reached - "" ""flattening dest volume"", self.configuration.rbd_max_clone_depth) # Flatten destination volume try: with RBDVolumeProxy(self, dest_name, client=client, ioctx=client.ioctx) as dest_volume: LOG.debug(""flattening dest volume %s"", dest_name) dest_volume.flatten() except Exception as e: msg = (_(""Failed to flatten volume %(volume)s with "" ""error: %(error)s."") % {'volume': dest_name, 'error': e}) LOG.exception(msg) src_volume.close() raise exception.VolumeBackendAPIException(data=msg) try: # remove temporary snap LOG.debug(""remove temporary snap %s"", clone_snap) except Exception as e: msg = (_(""Failed to remove temporary snap "" ""%(snap_name)s, error: %(error)s"") % {'snap_name': clone_snap, src_volume.close() try: volume_update = self._setup_volume(volume) except Exception: self.RBDProxy().remove(client.ioctx, dest_name) src_volume.unprotect_snap(clone_snap) src_volume.remove_snap(clone_snap) err_msg = (_('Failed to enable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) finally: src_volume.close() parent_rbd = self.rbd.Image(client.ioctx, parent_name) try: finally: parent_rbd.close() rbd_image = self.rbd.Image(client.ioctx, volume_name) clone_snap = None parent = None # Ensure any backup snapshots are deleted self._delete_backup_snaps(rbd_image) # If the volume has non-clone snapshots this delete is expected to # raise VolumeIsBusy so do so straight away. try: snaps = rbd_image.list_snaps() for snap in snaps: if snap['name'].endswith('.clone_snap'): LOG.debug(""volume has clone snapshot(s)"") # We grab one of these and use it when fetching parent # info in case the volume has been flattened. clone_snap = snap['name'] break raise exception.VolumeIsBusy(volume_name=volume_name) # Determine if this volume is itself a clone _pool, parent, parent_snap = self._get_clone_info(rbd_image, volume_name, clone_snap) finally: rbd_image.close() rbd_image = self.rbd.Image(client.ioctx, rbd_name) image_size = rbd_image.size() rbd_image.close() rbd_snapshot = self.rbd.Image(client.ioctx, volume_name, snapshot=snapshot_name) snapshot_size = rbd_snapshot.size() rbd_snapshot.close() ",99,113
openstack%2Ftacker~master~Id951193f63193a7e3becb071bfed9fee899d4925,openstack/tacker,master,Id951193f63193a7e3becb071bfed9fee899d4925,Remove --omit agrument in run_test.sh,NEW,2016-09-21 07:46:02.000000000,2021-07-06 05:39:23.000000000,,[{'_account_id': 32102}],"[{'number': 1, 'created': '2016-09-21 07:46:02.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/tacker/commit/be92c89dbe2d834438a060053cfbfa857ae9e0ed', 'message': 'Remove --omit agrument in run_test.sh\n\nThe tacker/openstack/common directory had been removed. So in run_test.sh,\nthere no need to use agrument ""--omit=\'tacker/openstack/common\'"".\n\nChange-Id: Id951193f63193a7e3becb071bfed9fee899d4925\n'}]",0,373831,be92c89dbe2d834438a060053cfbfa857ae9e0ed,5,1,1,22132,,,0,"Remove --omit agrument in run_test.sh

The tacker/openstack/common directory had been removed. So in run_test.sh,
there no need to use agrument ""--omit='tacker/openstack/common'"".

Change-Id: Id951193f63193a7e3becb071bfed9fee899d4925
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/373831/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,be92c89dbe2d834438a060053cfbfa857ae9e0ed,remove_omit, ${wrapper} coverage html --include='tacker/*' -d covhtml -i, ${wrapper} coverage html --include='tacker/*' --omit='tacker/openstack/common/*' -d covhtml -i,1,1
openstack%2Ftacker~master~I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc,openstack/tacker,master,I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc,Replace __builtin__ with six.moves.builtins,NEW,2016-07-22 00:44:48.000000000,2021-07-06 05:24:35.000000000,,"[{'_account_id': 3}, {'_account_id': 18955}, {'_account_id': 20325}, {'_account_id': 20866}, {'_account_id': 22132}, {'_account_id': 22588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2016-07-22 00:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8bc6677e6c5d26343f084a8bbeff8d25d6a2e451', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 2, 'created': '2016-07-22 00:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e021dd76661562713f00cdcae3de200fe832a49a', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 3, 'created': '2016-07-23 02:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/70a223439ec7b2f07d43d263b411b0a86c55232b', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 4, 'created': '2016-07-23 02:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d32dc09cdc079bc15d3dd6ba6e77fb2f806df366', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 5, 'created': '2016-07-23 03:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/90985eb66cbe90d40636081b480e28a68ca39580', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 6, 'created': '2016-07-29 00:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/322f293995cda914b25a77531a9108dbceae7bef', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 7, 'created': '2016-08-01 05:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1738e3f31339c45db8fdae2828a6df2cd0d5dc0e', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 8, 'created': '2016-08-24 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9c5b9f53a4b9e524fdeda0eb58271f4b954a8daf', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 9, 'created': '2016-09-12 11:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1d9870d754fe767a16091fca3facb249f8872734', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 10, 'created': '2016-10-29 04:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cdf6c5f7723ff20e47566982e0a00c65a85a8fc5', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}, {'number': 11, 'created': '2017-06-20 00:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/01232deb00e71f4c5653311261b0bd7589effe6e', 'message': 'Replace __builtin__ with six.moves.builtins\n\nPython 3: Fix basic py3 issues.\n\nChange-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc\n'}]",3,345713,01232deb00e71f4c5653311261b0bd7589effe6e,33,7,11,20325,,,0,"Replace __builtin__ with six.moves.builtins

Python 3: Fix basic py3 issues.

Change-Id: I6d5885c0bdaeba7f8c5f4a02c9f7a3833699fefc
",git fetch https://review.opendev.org/openstack/tacker refs/changes/13/345713/10 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/unit/test_db_migration.py'],1,8bc6677e6c5d26343f084a8bbeff8d25d6a2e451,fix-python3, with mock.patch('six.moves.builtins.open') as mock_open: with mock.patch('six.moves.builtins.open') as mock_open:, with mock.patch('__builtin__.open') as mock_open: with mock.patch('__builtin__.open') as mock_open:,2,2
openstack%2Fglance~master~I37d67457efdd8572d41cd839fb00c84f1f197892,openstack/glance,master,I37d67457efdd8572d41cd839fb00c84f1f197892,Fix the policy deprecation message,MERGED,2021-07-05 13:41:33.000000000,2021-07-06 04:18:45.000000000,2021-07-06 04:17:13.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 13:41:33.000000000', 'files': ['glance/policies/image.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2d2817375296c7eff5594a092a8463dd31dbf4e4', 'message': 'Fix the policy deprecation message\n\nRemoved the defaulting to roles part of the deprecation message.\n\nChange-Id: I37d67457efdd8572d41cd839fb00c84f1f197892\nCloses-Bug: #1934673\n'}]",0,799496,2d2817375296c7eff5594a092a8463dd31dbf4e4,9,3,1,5202,,,0,"Fix the policy deprecation message

Removed the defaulting to roles part of the deprecation message.

Change-Id: I37d67457efdd8572d41cd839fb00c84f1f197892
Closes-Bug: #1934673
",git fetch https://review.opendev.org/openstack/glance refs/changes/96/799496/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/image.py'],1,2d2817375296c7eff5594a092a8463dd31dbf4e4,bug/1934673,The image API now supports roles.,The image API now supports and default roles.,1,1
openstack%2Ftripleo-heat-templates~master~I84a8c958debdbb48b3b3ec05b3dd31a5db53cf99,openstack/tripleo-heat-templates,master,I84a8c958debdbb48b3b3ec05b3dd31a5db53cf99,DNM: Test ExtraConfigPre,ABANDONED,2021-06-28 12:40:08.000000000,2021-07-06 01:37:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-28 12:40:08.000000000', 'files': ['puppet/extraconfig/pre_deploy/default.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23315d293a07c1f5857f23d331aa6a085d3201a3', 'message': 'DNM: Test ExtraConfigPre\n\nChange-Id: I84a8c958debdbb48b3b3ec05b3dd31a5db53cf99\n'}]",0,798291,23315d293a07c1f5857f23d331aa6a085d3201a3,4,2,1,9816,,,0,"DNM: Test ExtraConfigPre

Change-Id: I84a8c958debdbb48b3b3ec05b3dd31a5db53cf99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/798291/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/extraconfig/pre_deploy/default.yaml'],1,23315d293a07c1f5857f23d331aa6a085d3201a3,dnm," resources: FooConfig: type: OS::Heat::SoftwareConfig properties: group: script config: | #!/bin/bash date >> /etc/pre-deployment FooDeployment: type: OS::Heat::SoftwareDeployment properties: name: PreDeployment config: {get_resource: FooConfig} server: {get_param: server} value: {get_attr: [FooDeployment, deploy_stdout]}"," value: ""None""",18,1
openstack%2Fmanila~stable%2Fwallaby~I5039b7adf563d926053b423a4cc6e175d3f1e5cf,openstack/manila,stable/wallaby,I5039b7adf563d926053b423a4cc6e175d3f1e5cf,fixes  availability zone filter when creating a share from snapshot,MERGED,2021-07-05 17:28:37.000000000,2021-07-06 01:35:28.000000000,2021-07-06 01:34:16.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-07-05 17:28:37.000000000', 'files': ['manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c723d0e44f10afeb9a0e80086eb1afd2680b2c6', 'message': ""fixes  availability zone filter when creating a share from snapshot\n\nFixes bug #1915706 that was discovered in  Manila UI.\nIssue is invalid input error being raised, even when\navailability_zone provided is the same, as parent share's.\nThe reason is availability_zone is name and source_share_az\nis id in the filter [1]. Now, regardless of availability_zone\nprovided is id or name, it will be always converted to a name.\nAnd if availability_zone is the same as parent share's\noperation will complete successfully.\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n(cherry picked from commit 205f3d828d5f8afc002c32714e7c67db10dbfa53)\n""}]",0,799490,9c723d0e44f10afeb9a0e80086eb1afd2680b2c6,13,4,1,16643,,,0,"fixes  availability zone filter when creating a share from snapshot

Fixes bug #1915706 that was discovered in  Manila UI.
Issue is invalid input error being raised, even when
availability_zone provided is the same, as parent share's.
The reason is availability_zone is name and source_share_az
is id in the filter [1]. Now, regardless of availability_zone
provided is id or name, it will be always converted to a name.
And if availability_zone is the same as parent share's
operation will complete successfully.

[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200

Closes-Bug: #1915706
Change-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf
(cherry picked from commit 205f3d828d5f8afc002c32714e7c67db10dbfa53)
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/799490/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py']",2,9c723d0e44f10afeb9a0e80086eb1afd2680b2c6,bug/1915706," availability_zone_db = db.availability_zone_get( context, availability_zone) availability_zone_id = availability_zone_db.id availability_zone = availability_zone_db.name availability_zone = db.availability_zone_get( context, sg_az_id).name 'availability_zone': availability_zone,"," availability_zone_id = db.availability_zone_get( context, availability_zone).id availability_zone_id = sg_az_id 'availability_zone': availability_zone_id,",16,8
openstack%2Ftripleo-heat-templates~master~I19dc259e455456a01718f2c5c3e3086bea95588c,openstack/tripleo-heat-templates,master,I19dc259e455456a01718f2c5c3e3086bea95588c,DNM: Test behavior of HorizonDebug,ABANDONED,2020-12-22 08:58:04.000000000,2021-07-06 01:35:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-22 08:58:04.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b4d350d47014dc11821733413c075931fb6528a', 'message': 'DNM: Test behavior of HorizonDebug\n\nChange-Id: I19dc259e455456a01718f2c5c3e3086bea95588c\n'}]",0,768177,3b4d350d47014dc11821733413c075931fb6528a,5,2,1,9816,,,0,"DNM: Test behavior of HorizonDebug

Change-Id: I19dc259e455456a01718f2c5c3e3086bea95588c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/768177/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,3b4d350d47014dc11821733413c075931fb6528a,bug/1908362, default: false, default: '',1,1
openstack%2Fneutron-specs~master~I0d69aff98ee00d01fe2e4142b87ae39beae01adf,openstack/neutron-specs,master,I0d69aff98ee00d01fe2e4142b87ae39beae01adf,BGPaaS enhancements,MERGED,2021-03-30 06:38:34.000000000,2021-07-06 01:00:49.000000000,2021-07-06 00:59:37.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 9531}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15554}, {'_account_id': 16137}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32623}]","[{'number': 1, 'created': '2021-03-30 06:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/498d96e9abab5353334ec585e4d11b2b05154e18', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 2, 'created': '2021-03-30 07:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e9085622c82317ccd1bfe1bae612181927bb89fd', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 3, 'created': '2021-03-30 07:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/17049950ec11e5bb193b3646daf32cdbd7906960', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 4, 'created': '2021-03-30 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/72ddf5959b97d7df2392c1ec92f5c5b419bfdb15', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 5, 'created': '2021-04-05 10:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7775d416336d3465c0ce97e36f185002a3c9dfbc', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 6, 'created': '2021-04-06 11:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/940de54e6854434045684656f465d2ec31925a61', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 7, 'created': '2021-04-06 11:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3ac76efd6018d27df5cbe00750709fc94fbb0b0c', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 8, 'created': '2021-04-08 06:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/04761525da09359673cd80e5b66a13c5a3be412e', 'message': 'BGPaaS enhancements\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 9, 'created': '2021-04-08 07:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fca73c0ab730406c1c761f627648848c042a471b', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 10, 'created': '2021-04-09 09:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4532aeadc320732070b38945270bb833a8b6dd7b', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 11, 'created': '2021-04-09 10:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/860d6b5339fdc6b9c4b284207e62e497fea7a99a', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 12, 'created': '2021-04-19 09:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7eac07c9f6a2d9ba5ac5bea0ffeb4df17eb13000', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 13, 'created': '2021-04-19 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/50144a6c1e538ea3731c9a8afe3869168889b8d6', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 14, 'created': '2021-04-19 09:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ef74aa486127704029205393d6f8e7d08a6a92bd', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 15, 'created': '2021-04-22 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dadbd16176b52d0f4de9a82dad8bad1ee3077bcf', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 16, 'created': '2021-04-28 10:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/64d9ba7815a73c478e66ada2b7230ed9a08b6853', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 17, 'created': '2021-05-06 10:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bdb896e24009a7e9a6a9e356876137b97995c3f5', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 18, 'created': '2021-05-06 10:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e7cf33bf465eb079da7021db8d2039a6ad761da6', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 19, 'created': '2021-05-18 06:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/29b8219f7644b8f4e19b0ae6d349d51aa874116b', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 20, 'created': '2021-05-20 11:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/82078b4234d9725ec1ff2476f96c8f7fa6ca15b0', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 21, 'created': '2021-05-27 06:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d27fd82eb82b5961acdcc0c7513413cf6c0e7b0b', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 22, 'created': '2021-05-27 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d500a518ebe564b9a2f55afd43ed670a57a7a75f', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 23, 'created': '2021-06-04 10:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/17918b41830b4a6293630ac26535e95e34565cc7', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 24, 'created': '2021-06-07 05:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6a4636167f5ec4389a3222d50a365402577d11ff', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 25, 'created': '2021-06-09 06:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/298a0499a9ddcca7f06cc87e7c5c4d119c6e1de2', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 26, 'created': '2021-06-11 12:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d3a0ce1bbab2d8f0347e2aeaa6c55c7c0a2d9328', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 27, 'created': '2021-06-16 04:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f91069b8ddec97566d54e1c26376ff8f7663fc2', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 28, 'created': '2021-06-16 05:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f677fcfe476ddffaed69d8e85ee21e2f2d28c62e', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 29, 'created': '2021-06-16 05:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3baa5f813e622c7d2acacb4323241644d06fa42b', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 30, 'created': '2021-06-21 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d7e7913874b5ff15fb7c6fdb9693243498085b16', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 31, 'created': '2021-06-23 11:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/760b76fb2c3f62263f0319e793b948bb53acae11', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}, {'number': 32, 'created': '2021-06-24 06:34:01.000000000', 'files': ['specs/xena/bgpaas-enhancements.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3bba00dea2e26b9afd43393a724136bb30d64b23', 'message': 'BGPaaS enhancements\n\nRelated-Bug: #1921461\n\nSigned-off-by: Manu B <manubk2020@gmail.com>\n\nChange-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf\n'}]",368,783791,3bba00dea2e26b9afd43393a724136bb30d64b23,116,12,32,33273,,,0,"BGPaaS enhancements

Related-Bug: #1921461

Signed-off-by: Manu B <manubk2020@gmail.com>

Change-Id: I0d69aff98ee00d01fe2e4142b87ae39beae01adf
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/91/783791/32 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/bgpaas-enhancements.rst'],1,498d96e9abab5353334ec585e4d11b2b05154e18,bug/1921461,"This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================================================================================== Enhancement to Neutron BGPaaS to directly support Neutron Routers & bgp-peering from such routers over internal & external Neutron Networks =============================================================================================================================== https://bugs.launchpad.net/neutron/+bug/1921461 Enhancement to Neutron BGPaaS to directly support Neutron Routers & bgp-peering from such routers over internal & external Neutron Networks Problem Description =================== We have a very good foundation APIs in Neutron BGPaaS that brought in BGP service functionality into Neutron through Neutron Dynamic Routing. (see [3]_ ) However in Telco world, we have an initial use-case which requires “multiple service-addresses hosted by a VNF” to be advertised via BGP Control Plane towards peers which are ISP-PE-Routers. These “service-addresses” are typically Non-Neutron-IP-Networks and/or Non-Neutron-IP-Prefixes that are used internally inside the VNF applications. This advertisement enables the ISP-PE-Routers to learn such “service-addresses hosted by VNF”, thus enabling L3 connectivity towards such service-endpoints-hosted-by-VNF from mobile subscribers residing on ISP networks. As you have noticed, the above requires BGPaaS APIs to support BGP-Peering directly towards the VNFs from a Neutron Router hosting the internal-networks of the VNF. In addition, we also require the BGPaaS API to support BGP-Peering towards the ISP-PE-Routers directly over the Neutron External Networks. Both of the above are not feasible today within existing BGPaaS, because a. Existing BGPaaaS supports only peering over special networks which are not managed via Neutron b. Similarly there is a non-availability of APIs to make the BGPSpeaker directly peer with VNFs over Neutron Internal Networks. There is a 2nd use-case where we wanted to improve network convergence for the BGP Control Plane and for this we would like to integrate BFD-Service for use while BGP-Peering from BGPSpeakers. For this we will take advantage of the APIs available from bfd-as-a-service initiative (see [5]_ ), and such BFD-Monitors will be used while configuring BGP-Peering for BGPSpeakers. There is a 3rd use-case where we wanted to automate multiple-BGP-Peering towards VNFs from a given BGPSpeaker, as and when a VNF Cluster is scaled-out/scaled-in. For this we will be bringing in the bgp-peer-group concepts and API for use with Neutron BGPaaS. So through Specification we wanted to address the above 3 use-cases by : a. Enhancing BGPaaS API support within “bgp” extension under neutron-dynamic-routing b. Enhance BGPaaS Reference implementations to support the enhanced APIs. Proposed Change ================ The goal is to provide BGP-Service-Configuration from the Neutron Router to VNFs of neutron Tenants as well as enable BGP-Service-Configuration from the Neutron Router to the PE-Router over Neutron External Networks. +-----------------------------------------------+ | PE Router Pair | | +-----------------+ +-----------------+ | | | PE Router1 | | PE Router2 | |-----------| | +-----------------+ +-----------------+ | | +-----------------------------------------------+ | | / \ | EBGP | / \ | | +-----------------------------------------------+ | | Neutron Router |-----------| | +-----------------+ +-----------------+ | | | Router1 | | Router2 | | | +-----------------+ +-----------------+ |-----------| +-----------------------------------------------+ | | | | EBGP +-----------------------------------------------+ | | VNF Cluster | | | +-----------------+ +-----------------+ |-----------| | | VM1 | | VM2 | | | +-----------------+ +-----------------+ | +-----------------------------------------------+ The proposal is to provide the below functionalities Use-case 1.a) ~~~~~~~~~~~~~ 1. Provide the ability to associate a single neutron router to a BGP Speaker (along with optional address-scope) 2. Provide the ability to disassociate that single neutron router from a BGP Speaker 3. Provide the ability to implicitly make a bgpspeaker highly-available whenever the bgpspeaker is associated with a HA capable neutron-router. 4. Provide the ability for the BGPSpeaker to expose the entire list of routes it is currently managing (be it multiple bgp-peers) Use-case 1.b) ~~~~~~~~~~~~~ 1.Provide the ability to create a BGP Peer Group with BFD & other parameters (see [5]_ ) 2.Provide the ability to delete a BGP Peer Group (when its not in use by any BGPPeer) 3.Provide the ability to create a bgp-peer using an existing bgp-peeer-group 4.Provide the ability to create BGP peers with update-source and next-hop-self parameters Use-case 1.c) ~~~~~~~~~~~~~ 1.Provide the ability to configure bfd-monitoring when configuring BGP peering, to enable BFD monitoring of BGP-Peering-Link between the BGP Speaker and the BGP Peer 2.Provide the ability to unconfigure bfd-monitor from an existing BGP peering Neutron BGPaaS API Neutron L3 APIs | | | | +-----------------------------------------------------------+ | Neutron Server | | | | +-------------------------------+ | | | | Enhanced BGP Service Plugin | | | | +----------------------------- -+ | | | | | | | +-------------------------------------------+ | | | Enhanced L3 service plugin | | | +-------------------------------------------+ | | | | +-------------------------------|---------------------------+ | +------------------------------------------------+ | NETWORK NODE | | +--------------------------------------+ | | | Enhanced L3 agent | | | +--------------------------------------+ | | | | | +------------------+ +--------------------+ | | |Router namespace-1| | Router namespace-2 | | | | BGP speaker1 | | BGP speaker2 | | | +------------------+ +--------------------+ | | | +------------------------------------------------+ Proposal is to enhance existing BGPaas, allow neutron router to be associated to a BGP Speaker and allow BGP Speaker to peer with both the internal-Networks and External-Networks present on that Neutron Router. This will be implemented using enhancements to the neutron-service and neutron-dynamic-routing. A BGP speaker will be associated to a router. BGP speaker will be running inside the L3 router namespace which enables access to all the neutron-router-interfaces ie. both internal/external interfaces. BGP functionality provided by OS-Ken will be resued to excite BGP speaker functionality to run only within the neutron router namespace. Networking midonet (see [4]_ ) has made a similar change to associate a BGP speaker to a router but is only specific to networking-midonet and is not included in neutron service layer. The change proposed here will incorporate the APIs in the neutron-dynamic-routing layer itself. “Enhanced-L3-Plugin” will be running in Neutron-Server on controller-host and “Enhanced-L3-agent” on compute-host. Once router is associated to bgpspeaker, the ‘Enhanced BGP Service Plugin’ will schedule the request to create a BGPSpeaker towards ‘Enhanced-L3-Plugin’. ‘Enhanced-L3-Plugin’ in turn will realize the scheduling of the BGPSpeaker towards the ‘Enhanced-L3-Agent’ that is already hosting the router. ‘Enhanced-L3-Agent’ realizes bgpspeaker inside the router-namespace and now bgpspeaker can peer with anybody through the router-interface-ip-address of router. HA-Capable Neutron Router with BGPaaS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When HA-Capable neutron router is associated to a BGPSpeaker, two BGPSpeaker instances will be run, one on active router namespace and other on the standby router namespace. Whenever the failover happens from Active to Standby Namespace, the BGPSpeaker on Standby will be able to peer with BGP-Peers and become an Active-BGP-Speaker managing the Router. Neutron BGPaaS API Neutron L3 APIs | | | | +-----------------------------------------------------------+ | Neutron Server | | | | +-------------------------------+ | | | | Enhanced BGP Service Plugin | | | | +----------------------------- -+ | | | | | | | +-------------------------------------------+ | | | Enhanced L3 service plugin | | | +-------------------------------------------+ | | | | | +-----------------------------------------------------------+ | | +-------------------------+ +------------------------+ | NETWORK NODE1 | | NETWORK NODE2 | | +------------------+ | | +-----------------+ | | |Enhanced L3 agent | | | |Enhanced L3 agent| | | +------------------+ | | +-----------------+ | | | | | | +------------------+ | | +-----------------+ | | | Standby | | | | Active | | | | Router namespace | | | | Router namespace| | | | BGP speaker | | | | BGP speaker | | | +------------------+ | | +-----------------+ | | | | | +-------------------------+ +------------------------+ REST API & Neutron client command Impact --------------------------------------- Use-case 2.a) Associate neutron router to BGP Speaker API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ PUT /v2.0/bgp-speakers/<bgp-speaker-id>/add_router { “router_id"":"" c930d7f6-ceb7-40a0-8b81-a425dd994ccf "", “address_scope”: [“myaddressscope1”, “myaddressscope2”] “redistribute_static”: True } By default, static routes on the router will be redistributed to bgp-peers by the bgpspeaker. Turning OFF redistribute-static will disable advertisement of router’s static-routes by the bgpspeaker. Address scope is optional and more than one address scope is allowed. New neutron Client Command openstack bgp speaker set router [--address-scope <address-scope>] [--no-redistribute-static] <bgpspeaker> <router> Disassociate neutron router from BGP Speaker API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ PUT /v2.0/bgp-speakers/<bgp-speaker-id>/remove_router { “router_id"":“c930d7f6ceb7-40a0-8b81-a425dd994ccf“, } New neutron Client Command openstack bgp speaker unset router <bgpspeaker> [<router>] Show routes managed by BGP Speaker API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ GET /v2.0/bgp-speakers/<bgp-speaker-id>/get_routes { “routes”: [ { “cidr”: “192.168.10.0/24”, “nexthop”: “10.0.0.1”, “route-type”: “local” }, { “cidr”: “192.168.11.0/24”, “nexthop”: “10.0.0.5”, “route-type”: “peer” } ] } New Neutron Client Command New Neutron Client Command openstack bgp speaker list routes <bgpspeaker> Use-case 2.b) Create BGP Peer Group API ~~~~~~~~~~~~~~~~~~~~~~~~~ POST /v2.0/bgp-peer-groups/ { ""bgp_peer_groups"":{ “name"":“bgppeergroup1"", “project_id"":"""", “remote_asn"":“4566"", “bfd_enable"":True, “bfd_interval”: 100, “bfd_min_rx”: 100 “bfd_multiplier”: 3 “next_hop_self” : True, “update_source_ip”: “10.20.1.5” } } New neutron Client Commands openstack bgp peer group create [–bfd-enable True|False] [–bfd-interval <interval>] [–bfd-min-rx <rx-interval>] [--bfd-multiplier <multiplier>] [–next-hop-self <True|False>] [–update_source-ip <ip-address>] –remote-asn <asn-number> <bgp-peer-group-name> Delete BGP Peer Group API ~~~~~~~~~~~~~~~~~~~~~~~~~ DELETE /v2.0/bgp-peer-groups/<bgp-peer-group-id> New Neutron Client Commands openstack bgp peer group delete <bgp-peer-group-id> Create a bgp-peer using existing peer-group API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ POST /v2.0/bgp-peers/ { ""bgp_peer"":{ “peer_group_id"":"" a930d7f6-ceb7-40a0-8b81-a425dd994ccf "", ""name"":""bgppeer1"", “listen_range”: “10.2.1.0/24” “listen_limit”: 10 “auth_type”: “md5”, “password”: “<passwd>” } } Changed Neutron Client Commands openstack bgp peer create [--listen-range <listen-network-range>] [--listen-limit <number>] [–auth-type <auth-type>] [–password <password>] [–peer-group <peer-group-id>] <bgp-peer> openstack bgp speaker add peer mybgpspeaker bgpppeer1 Create BGP peers with update-source and next-hop-self parameters API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ POST /v2.0/bgp-peers/ { ""bgp_peer"":{ ""auth_type"":""none"", ""remote_as"":""1001"", ""name"":""bgppeer1"", ""peer_ip"":""10.0.0.3“, “next_hop_self”:True, “update_source_ip”: “10.2.0.15” } } Changed Neutron Client Commands openstack bgp peer create [–peer-ip <peer-ip>] [–next-hop-self True] [–auth-type <auth-type>] [–update-source-ip <ip>] –remote-as <as> <bgppeer> Use-case 2.c) Enable BFD monitoring of BGP-Peering-Link API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ POST /v2.0/bgp-peers/ { ""bgp_peer"":{ ""auth_type"":""none"", ""remote_as"":""1001"", ""name"":""bgppeer1"", ""peer_ip"":""10.0.0.3“, “bfd_monitor_id”: “b930d7f6-ceb7-40a0-8b81-a425dd994ccf” } } Changed Neutron Client Commands openstack bgp peer create [--listen-range <listen-network-range>] [--listen-limit <number>] [–auth-type <auth-type>] [–password <password>] [–peer-group <peer-group-id>] [–peer-ip <peer-ip>] –remote-as <as> [–bfd-monitor <bfd-monitor>] <bgp-peer> Disable bfd-monitor from an existing BGP-Peering-Link API ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ PUT /v2.0/bgp-peers/{bgp-peer-id} { ""bgp_peer"":{ ""auth_type"":""none"", ""remote_as"":""1001"", ""name"":""bgppeer1"", ""peer_ip"":""10.0.0.3“, } } New Neutron Client Commands openstack bgp peer update [–no-bfd-monitor] <bgppeer> Backend for reference implementation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ os-ken can be used to handle BGP (see [6]_ ). os-ken is able to start bgp speaker using BGPSpeaker class and it is possible to receive event notifications (``BGP_BEST_PATH_CHANGED``) which can be then used to populate routes inside the namespace. From [4]_: :: class BGPSpeaker(object): def __init__(self, as_number, router_id, bgp_server_hosts=DEFAULT_BGP_SERVER_HOSTS, bgp_server_port=DEFAULT_BGP_SERVER_PORT, refresh_stalepath_time=DEFAULT_REFRESH_STALEPATH_TIME, refresh_max_eor_time=DEFAULT_REFRESH_MAX_EOR_TIME, best_path_change_handler=None, adj_rib_in_change_handler=None, peer_down_handler=None, peer_up_handler=None, ssh_console=False, ssh_port=None, ssh_host=None, ssh_host_key=None, label_range=DEFAULT_LABEL_RANGE, allow_local_as_in_count=0, cluster_id=None, local_pref=DEFAULT_LOCAL_PREF): super(BGPSpeaker, self).__init__() def _notify_best_path_changed(self, path, is_withdraw): if (not path.source or not isinstance(path, (Ipv4Path, Ipv6Path, Vpnv4Path, Vpnv6Path, EvpnPath))): return ev = EventPrefix(path, is_withdraw) if self._best_path_change_handler: self._best_path_change_handler(ev) Data Model Impact ----------------- Bgp_speaker and bgp_peers tables will be updated to incorporate the new fields. New tables will be created to manager bgp peer group. Security Impact --------------- None Performance Impact ------------------ None Implementation ============== Assignee(s) ----------- Primary assignee: Manu B <manubk2020@gmail.com> (IRC: manub) Work Items ---------- * REST API update. * L3 agent update to handle BGP: * Associate router to bgp speaker * Disassociate router from bgp speaker. * HA support for BGP speaker * CLI update. * Documentation. * Tests and CI related changes. Testing ======= * Unit Test * Functional test * API test Perhaps this is something that can be easily tested end-to-end with fullstack tests. Need more investigation. Documentation Impact ==================== User Documentation ------------------ New API and changes to legacy APIs like routers must be documented. References ========== .. [1] https://tools.ietf.org/html/rfc4271 .. [2] https://tools.ietf.org/html/rfc4271#section-8 .. [3] https://docs.openstack.org/neutron-dynamic-routing/latest/ .. [4] https://review.opendev.org/c/openstack/networking-midonet/+/317028 .. [5] https://review.opendev.org/c/openstack/neutron-specs/+/767337/9/specs/wallaby/bfd_support.rst#288 .. [6] https://opendev.org/openstack/os-ken/src/branch/master/os_ken/services/protocols/bgp/bgpspeaker.py#L225 ",,413,0
openstack%2Fvalidations-common~master~I29f79f50c31cc63ca314555634c7e910d6547134,openstack/validations-common,master,I29f79f50c31cc63ca314555634c7e910d6547134,[advanced_format_512e_support] Add role documentation in sphinx,MERGED,2021-06-25 08:56:05.000000000,2021-07-06 00:48:51.000000000,2021-07-06 00:47:38.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3e9945263a6b3398f57f79d0bc7b27a95bf2976a', 'message': '[advanced_format_512e_support] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I29f79f50c31cc63ca314555634c7e910d6547134\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/55a9410043f212146d4ece2352569d21514a8063', 'message': '[advanced_format_512e_support] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I29f79f50c31cc63ca314555634c7e910d6547134\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/45b9568298298db9a065b782072a9f45e8267e01', 'message': '[advanced_format_512e_support] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I29f79f50c31cc63ca314555634c7e910d6547134\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/playbooks/512e.yaml', 'doc/source/roles/role-advanced_format_512e_support.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/42fc17e563ae451b4496dc4da58682739ae801ef', 'message': ""[advanced_format_512e_support] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the facts gathering as this validation doesn't\nneed them.\n\nChange-Id: I29f79f50c31cc63ca314555634c7e910d6547134\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",1,798059,42fc17e563ae451b4496dc4da58682739ae801ef,21,4,4,11491,,,0,"[advanced_format_512e_support] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the facts gathering as this validation doesn't
need them.

Change-Id: I29f79f50c31cc63ca314555634c7e910d6547134
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/59/798059/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-advanced_format_512e_support.rst'],1,3e9945263a6b3398f57f79d0bc7b27a95bf2976a,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- An Ansible role to detect whether the node disks use Advanced Format. Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost roles: - advanced_format_512e_support License ======= Apache Author Information ================== **Red Hat TripleO DFG:DF Squad:VF** ---------------- Full Description ---------------- ,,39,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ie6952f833887507d3dc5ae10cccb246c9f525c12,openstack/tripleo-upgrade,stable/ussuri,Ie6952f833887507d3dc5ae10cccb246c9f525c12,[FFWD upgrade pre] Add support in cold evacuate,MERGED,2021-07-05 15:35:51.000000000,2021-07-06 00:18:41.000000000,2021-07-06 00:18:41.000000000,"[{'_account_id': 11090}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:35:51.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d9b5cdacd9a1d7ca1298e309cdd571573e08a714', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)\n'}]",0,799488,d9b5cdacd9a1d7ca1298e309cdd571573e08a714,6,3,1,6816,,,0,"[FFWD upgrade pre] Add support in cold evacuate

Adding parameter spec compute_cold_evacuate

To extend node_upgrade_pre.sh.j2 with cold migration,
Currently it is a mast from queens->train in nfv use cases

Change-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12
(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/799488/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",4,d9b5cdacd9a1d7ca1298e309cdd571573e08a714,upgrade-compute-cold-evacuate-stable/ussuri,compute_cold_evacuate: false,,26,5
openstack%2Fnova~master~Ic6116b18a1586864dbea3cedef1c4b15a75b6b00,openstack/nova,master,Ic6116b18a1586864dbea3cedef1c4b15a75b6b00,Fix volume_id in connection info,NEW,2021-07-01 01:31:43.000000000,2021-07-06 00:12:22.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 01:31:43.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0f640e7580afb87544d23eb2a4eea1ca53fa9af', 'message': 'Fix volume_id in connection info\n\nSome drivers appear to obtain volume_id\nfrom connection info to determine if volume\nis multi-attach enabled. so we need to make\nsure volume_id is correct.\n\nChange-Id: Ic6116b18a1586864dbea3cedef1c4b15a75b6b00\nCloses-Bug: 1934203\n'}]",3,798968,e0f640e7580afb87544d23eb2a4eea1ca53fa9af,15,2,1,29071,,,0,"Fix volume_id in connection info

Some drivers appear to obtain volume_id
from connection info to determine if volume
is multi-attach enabled. so we need to make
sure volume_id is correct.

Change-Id: Ic6116b18a1586864dbea3cedef1c4b15a75b6b00
Closes-Bug: 1934203
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/798968/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,e0f640e7580afb87544d23eb2a4eea1ca53fa9af,bug/1934203, # some drivers appear to use nova.virt.block_device.get_volume_id # to obtain volume_id so we need to make sure volume_id is correct if 'data' in new_cinfo and 'volume_id' in new_cinfo['data']: new_cinfo['data']['volume_id'] = save_volume_id ,,6,0
openstack%2Fneutron~stable%2Fussuri~I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,openstack/neutron,stable/ussuri,I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests",MERGED,2021-07-02 10:00:29.000000000,2021-07-05 23:00:12.000000000,2021-07-05 22:58:50.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 10:00:29.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5097c9fb233753b912ffb405bea96cf10e37ea3', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)\n'}]",0,799151,b5097c9fb233753b912ffb405bea96cf10e37ea3,19,3,1,11975,,,0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests

Instead of using a file to log the processes status and actions,
""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is
safer than writting a single file accross multiple processes.

Change-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0
Closes-Bug: #1930367
(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/799151/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,b5097c9fb233753b912ffb405bea96cf10e37ea3,bug/1930367-stable/wallaby-stable/victoria-stable/ussuri,"import multiprocessingFAKE_START_MSG = 'start' FAKE_RESET_MSG = 'reset' self._mp_queue = multiprocessing.Queue() self._mp_queue.put(FAKE_START_MSG) self._mp_queue.put(FAKE_RESET_MSG) ret_msg = '' def is_ret_buffer_ok(): nonlocal ret_msg LOG.debug('Checking returned buffer size') while not self._mp_queue.empty(): ret_msg += self._mp_queue.get() LOG.debug('Size of buffer is %s. Expected size: %s', len(ret_msg), expected_size) return len(ret_msg) == expected_size utils.wait_until_true(is_ret_buffer_ok, timeout=5, sleep=1) except utils.WaitTimeout: raise RuntimeError('Expected buffer size: %s, current size: %s' % (len(ret_msg), expected_size)) self.assertEqual(expected_msg, ret_msg)","FAKE_START_MSG = b""start"" FAKE_RESET_MSG = b""reset"" self.temp_file = self.get_temp_file_path(""test_server.tmp"") with open(self.temp_file, 'ab') as f: f.write(FAKE_START_MSG) with open(self.temp_file, 'ab') as f: f.write(FAKE_RESET_MSG) def is_temp_file_ok(): LOG.debug(""Checking file %s"", self.temp_file) if not os.path.isfile(self.temp_file): LOG.debug(""File %s not exists."", self.temp_file) return False temp_file_size = os.stat(self.temp_file).st_size LOG.debug(""Size of file %s is %s. Expected size: %s"", self.temp_file, temp_file_size, expected_size) return temp_file_size == expected_size utils.wait_until_true(is_temp_file_ok, timeout=5, sleep=1) except utils.WaitTimeout: if not os.path.isfile(self.temp_file): raise RuntimeError( ""Timed out waiting for file %(filename)s to be created"" % {'filename': self.temp_file}) else: raise RuntimeError( ""Expected size for file %(filename)s: %(size)s, current "" ""size: %(current_size)s"" % {'filename': self.temp_file, 'size': expected_size, 'current_size': os.stat(self.temp_file).st_size}) with open(self.temp_file, 'rb') as f: res = f.readline() self.assertEqual(expected_msg, res)",19,31
openstack%2Fopenstack-ansible-os_keystone~master~I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,openstack/openstack-ansible-os_keystone,master,I8a1d7e8d31b43b70de062d5bbf2f648c71014af0,Fix typo in keystone-httpd template,MERGED,2021-06-30 11:44:42.000000000,2021-07-05 21:47:11.000000000,2021-07-05 21:46:01.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-30 11:44:42.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f', 'message': 'Fix typo in keystone-httpd template\n\nFor backwards compatiblity I have left in the original incorrect spelling,\nthis patch should be backported.\n\nChange-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0\n'}]",0,798841,9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f,10,3,1,29865,,,0,"Fix typo in keystone-httpd template

For backwards compatiblity I have left in the original incorrect spelling,
this patch should be backported.

Change-Id: I8a1d7e8d31b43b70de062d5bbf2f648c71014af0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/41/798841/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,9c4f9ef4f1488de738625b34fc97dfc5cfe3a98f,," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default(keystone_sp.trusted_idp_list.0.oidc_scope | default('openid email profile')) }}"""," OIDCScope ""{{ keystone_sp.trusted_idp_list.0.idc_scope | default('openid email profile') }}""",1,1
openstack%2Frequirements~master~Ib26f6b8e139d3edce0bdaaae7cee4d00d6ed6391,openstack/requirements,master,Ib26f6b8e139d3edce0bdaaae7cee4d00d6ed6391,update constraint for osc-lib to new release 2.4.1,MERGED,2021-07-05 10:09:36.000000000,2021-07-05 21:38:59.000000000,2021-07-05 21:37:52.000000000,"[{'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-05 10:09:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9f6aafc436655bdd3940aa9ae583adafa7b5606', 'message': 'update constraint for osc-lib to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: James Page <james.page@ubuntu.com>\nmeta: release:Commit: yatin <ykarel@redhat.com>\nmeta: release:Change-Id: I97f38b96bce39d66072128141470679d2c03cc1e\nmeta: release:Code-Review+1: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib26f6b8e139d3edce0bdaaae7cee4d00d6ed6391\n'}]",0,799452,c9f6aafc436655bdd3940aa9ae583adafa7b5606,11,5,1,11131,,,0,"update constraint for osc-lib to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: James Page <james.page@ubuntu.com>
meta: release:Commit: yatin <ykarel@redhat.com>
meta: release:Change-Id: I97f38b96bce39d66072128141470679d2c03cc1e
meta: release:Code-Review+1: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib26f6b8e139d3edce0bdaaae7cee4d00d6ed6391
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/799452/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c9f6aafc436655bdd3940aa9ae583adafa7b5606,new-release,osc-lib===2.4.1,osc-lib===2.4.0,1,1
openstack%2Fneutron~stable%2Fwallaby~I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,openstack/neutron,stable/wallaby,I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests",MERGED,2021-07-02 09:47:31.000000000,2021-07-05 21:36:39.000000000,2021-07-05 21:35:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 09:47:31.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3534dc7aed125e9c42b805e891b12ab63ea751bd', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)\n'}]",0,799149,3534dc7aed125e9c42b805e891b12ab63ea751bd,30,3,1,11975,,,0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests

Instead of using a file to log the processes status and actions,
""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is
safer than writting a single file accross multiple processes.

Change-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0
Closes-Bug: #1930367
(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/799149/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,3534dc7aed125e9c42b805e891b12ab63ea751bd,bug/1930367-stable/wallaby,"import multiprocessingFAKE_START_MSG = 'start' FAKE_RESET_MSG = 'reset' self._mp_queue = multiprocessing.Queue() self._mp_queue.put(FAKE_START_MSG) self._mp_queue.put(FAKE_RESET_MSG) ret_msg = '' def is_ret_buffer_ok(): nonlocal ret_msg LOG.debug('Checking returned buffer size') while not self._mp_queue.empty(): ret_msg += self._mp_queue.get() LOG.debug('Size of buffer is %s. Expected size: %s', len(ret_msg), expected_size) return len(ret_msg) == expected_size utils.wait_until_true(is_ret_buffer_ok, timeout=5, sleep=1) except utils.WaitTimeout: raise RuntimeError('Expected buffer size: %s, current size: %s' % (len(ret_msg), expected_size)) self.assertEqual(expected_msg, ret_msg)","FAKE_START_MSG = b""start"" FAKE_RESET_MSG = b""reset"" self.temp_file = self.get_temp_file_path(""test_server.tmp"") with open(self.temp_file, 'ab') as f: f.write(FAKE_START_MSG) with open(self.temp_file, 'ab') as f: f.write(FAKE_RESET_MSG) def is_temp_file_ok(): LOG.debug(""Checking file %s"", self.temp_file) if not os.path.isfile(self.temp_file): LOG.debug(""File %s not exists."", self.temp_file) return False temp_file_size = os.stat(self.temp_file).st_size LOG.debug(""Size of file %s is %s. Expected size: %s"", self.temp_file, temp_file_size, expected_size) return temp_file_size == expected_size utils.wait_until_true(is_temp_file_ok, timeout=5, sleep=1) except utils.WaitTimeout: if not os.path.isfile(self.temp_file): raise RuntimeError( ""Timed out waiting for file %(filename)s to be created"" % {'filename': self.temp_file}) else: raise RuntimeError( ""Expected size for file %(filename)s: %(size)s, current "" ""size: %(current_size)s"" % {'filename': self.temp_file, 'size': expected_size, 'current_size': os.stat(self.temp_file).st_size}) with open(self.temp_file, 'rb') as f: res = f.readline() self.assertEqual(expected_msg, res)",19,31
openstack%2Ftripleo-validations~master~Ia8f787631c55fabb3a097919971d17b93711d4b7,openstack/tripleo-validations,master,Ia8f787631c55fabb3a097919971d17b93711d4b7,Sort jobs in molecule.yaml file when adding new role,MERGED,2021-06-24 11:54:53.000000000,2021-07-05 20:36:37.000000000,2021-07-05 20:35:26.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6d08ad7167c146464f04778c67c73cf977343ba2', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n'}, {'number': 2, 'created': '2021-06-30 07:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a918b819638c2e22289280f5ca25f0397a680c9', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n'}, {'number': 3, 'created': '2021-07-05 13:43:18.000000000', 'files': ['roles/validation_init/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae59abe62c65aaa7286090e2d1b98508d6c7ff6f', 'message': 'Sort jobs in molecule.yaml file when adding new role\n\nThis patch adds a mechanism to keep the job names in\nzuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not\nindenting lists correctly, due to [1][2].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7\n'}]",3,797885,ae59abe62c65aaa7286090e2d1b98508d6c7ff6f,15,9,3,11491,,,0,"Sort jobs in molecule.yaml file when adding new role

This patch adds a mechanism to keep the job names in
zuul.d/molecule.yaml sorted. Therefore, the to_nice_yaml filter is not
indenting lists correctly, due to [1][2].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ia8f787631c55fabb3a097919971d17b93711d4b7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/797885/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validation_init/tasks/main.yml'],1,6d08ad7167c146464f04778c67c73cf977343ba2,VALIDATION_DEVELOPMENT_WORKFLOW," # Managed via ./role-addition.yml, do not edit manually without testing that # new role addition does not reformat it. } {% set project = items.pop(0) %} {% set sorted_jobs = items | sort(attribute='job.name') %} {% set _ = sorted_jobs.insert(0, project) %} {{ sorted_jobs | to_nice_yaml(indent=2, width=1337) }}"," } {{ items | to_nice_yaml(indent=2, width=1337) }}",7,2
openstack%2Ftripleo-validations~master~Iac63dc6f161a0e885110a246b68001522a6f62e3,openstack/tripleo-validations,master,Iac63dc6f161a0e885110a246b68001522a6f62e3,Add zuul.d/molecule.yaml file back in the yamllint ignore list,MERGED,2021-06-24 11:54:53.000000000,2021-07-05 20:24:31.000000000,2021-07-05 20:24:31.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6357d74744f013299dad53660aa0155d49f39642', 'message': 'Add zuul.d/molecule.yaml file back in the yamllint ignore list\n\nThe validation_init role auto generates the molecule.yaml file when\nadding a new role. But, due to [1][2], the to_nice_yaml filter is not\ncorrectly indenting lists and will break the indentation every time a\nnew validation will be created.\n\nThis patch adds this file to the yamllint ignore list and provides a new\nmolecule.yaml sorted by job names as the validation_init role will\ngenerate in a follow up patch.\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3\n'}, {'number': 2, 'created': '2021-06-30 07:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fc014d8edd49ebc7b998d97b360feba40c2faaa2', 'message': 'Add zuul.d/molecule.yaml file back in the yamllint ignore list\n\nThe validation_init role auto generates the molecule.yaml file when\nadding a new role. But, due to [1][2], the to_nice_yaml filter is not\ncorrectly indenting lists and will break the indentation every time a\nnew validation will be created.\n\nThis patch adds this file to the yamllint ignore list and provides a new\nmolecule.yaml sorted by job names as the validation_init role will\ngenerate in a follow up patch.\n\nMoreover, this patch enables the oslo_config_validator molecule job in\nthe check/gate as it was not added in the initial patch[3].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3\n'}, {'number': 3, 'created': '2021-07-05 13:43:18.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/41dcda85921b4a79a46eaccbe28f0fffd516e3cf', 'message': 'Add zuul.d/molecule.yaml file back in the yamllint ignore list\n\nThe validation_init role auto generates the molecule.yaml file when\nadding a new role. But, due to [1][2], the to_nice_yaml filter is not\ncorrectly indenting lists and will break the indentation every time a\nnew validation will be created.\n\nThis patch adds this file to the yamllint ignore list and provides a new\nmolecule.yaml sorted by job names as the validation_init role will\ngenerate in a follow up patch.\n\nMoreover, this patch enables the oslo_config_validator molecule job in\nthe check/gate as it was not added in the initial patch[3].\n\n[1] https://github.com/ansible/ansible/issues/48865\n[2] https://github.com/yaml/pyyaml/issues/234\n[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3\n'}]",0,797884,41dcda85921b4a79a46eaccbe28f0fffd516e3cf,14,8,3,11491,,,0,"Add zuul.d/molecule.yaml file back in the yamllint ignore list

The validation_init role auto generates the molecule.yaml file when
adding a new role. But, due to [1][2], the to_nice_yaml filter is not
correctly indenting lists and will break the indentation every time a
new validation will be created.

This patch adds this file to the yamllint ignore list and provides a new
molecule.yaml sorted by job names as the validation_init role will
generate in a follow up patch.

Moreover, this patch enables the oslo_config_validator molecule job in
the check/gate as it was not added in the initial patch[3].

[1] https://github.com/ansible/ansible/issues/48865
[2] https://github.com/yaml/pyyaml/issues/234
[3] https://review.opendev.org/c/openstack/tripleo-validations/+/789698

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Iac63dc6f161a0e885110a246b68001522a6f62e3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/797884/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint']",2,6357d74744f013299dad53660aa0155d49f39642,VALIDATION_DEVELOPMENT_WORKFLOW, zuul.d/molecule.yaml,,449,446
openstack%2Fvalidations-libs~master~I46df7b4befbef36a74b9138961650806c457fc13,openstack/validations-libs,master,I46df7b4befbef36a74b9138961650806c457fc13,Simplification of the log path handling by the ValidationLog class,MERGED,2021-03-03 15:32:12.000000000,2021-07-05 19:30:42.000000000,2021-07-05 19:28:21.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-03 15:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c1a32262b005c36b3f75535a759e99549a8259aa', 'message': 'Simplification of the log path handling by the ValidationLog class\n\nRedundant checks were removed an branching reduced.\nPreviously de-facto function _get_content now behaves as\na method should and works with attributes.\n\nSeveral string processsing snippets were factored out\nand are now separate helper methods.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I46df7b4befbef36a74b9138961650806c457fc13\n'}, {'number': 2, 'created': '2021-03-08 12:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1167d4d347f63101b94fb920428711c6898be370', 'message': 'Simplification of the log path handling by the ValidationLog class\n\nRedundant checks were removed an branching reduced.\nPreviously de-facto function _get_content now behaves as\na method should and works with attributes.\n\nSeveral string processsing snippets were factored out\nand are now separate helper methods.\n\nAdded check for abs path.\n\nChanged related test to provide absolute path.\nAdded new test case for absolute path checking.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I46df7b4befbef36a74b9138961650806c457fc13\n'}, {'number': 3, 'created': '2021-07-01 15:02:41.000000000', 'files': ['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/583fad78db103dc80c4c4d1ad4329f5f46f8b4b6', 'message': 'Simplification of the log path handling by the ValidationLog class\n\nRedundant checks were removed an branching reduced.\nPreviously de-facto function _get_content now behaves as\na method should and works with attributes.\n\nSeveral string processsing snippets were factored out\nand are now separate helper methods.\n\nAdded check for abs path.\n\nChanged related test to provide absolute path.\nAdded new test case for absolute path checking.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I46df7b4befbef36a74b9138961650806c457fc13\n'}]",5,778488,583fad78db103dc80c4c4d1ad4329f5f46f8b4b6,18,5,3,32926,,,0,"Simplification of the log path handling by the ValidationLog class

Redundant checks were removed an branching reduced.
Previously de-facto function _get_content now behaves as
a method should and works with attributes.

Several string processsing snippets were factored out
and are now separate helper methods.

Added check for abs path.

Changed related test to provide absolute path.
Added new test case for absolute path checking.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I46df7b4befbef36a74b9138961650806c457fc13
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/88/778488/3 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/validation_logs.py'],1,c1a32262b005c36b3f75535a759e99549a8259aa,simplification/validation_logs/paths," :type extension: ``string`` # Get full path and content raise exception if it's impossible if logfile: self.full_path = logfile elif uuid and validation_id: self.full_path = self.get_log_path() else: self.content = self._get_content() self.name = self._get_name() self.datetime = self._get_time() def _get_content(self): try: with open(self.full_path, 'r') as log_file: msg = ""log file: {} not found"".format(self.full_path) msg = ""bad json format for {}"".format(self.full_path) def _get_name(self): """"""Return name of the log file under the self.full_path :rtype: ``string`` """""" return os.path.splitext(os.path.basename(self.full_path))[0] def _get_time(self): """"""Return time component of the log file name :rtype: ``string`` """""" return self.name.rsplit('_', 1)[-1] "," :type extension: ```` if not logfile and (not uuid or not validation_id): # Get full path and content if logfile: full_path = logfile else: if uuid and validation_id: full_path = self.get_log_path() if full_path: self.content = self._get_content(full_path) self.name = os.path.splitext(os.path.basename(full_path))[0] self.datetime = self.name.rsplit('_', 1)[-1] def _get_content(self, file): try: with open(file, 'r') as log_file: msg = ""log file: {} not found"".format(file) msg = ""bad json format for {}"".format(file)",28,17
openstack%2Fvalidations-common~master~I72b7a665da482d84b7b3e4d5560c75c8af7111d7,openstack/validations-common,master,I72b7a665da482d84b7b3e4d5560c75c8af7111d7,Expanded docstrings for library subpackage.,MERGED,2021-03-01 13:45:01.000000000,2021-07-05 19:30:30.000000000,2021-07-05 19:28:10.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-01 13:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/3325ec0ace356c73723774841ec63b73269cdb06', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 2, 'created': '2021-03-03 08:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b30d20bc32b1f63ebb233255f7f2554ba5face3c', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 3, 'created': '2021-03-08 12:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/71baf6094fb889fafae2cf96b399f8c079c5be83', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 4, 'created': '2021-04-30 07:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b4cd9beabb5c38d70ceb296e519ac4ef2e000e2d', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 5, 'created': '2021-05-10 05:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5cac1d326836cfdb35ec0a94367585bac9e7bbbc', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 6, 'created': '2021-05-12 06:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6a5979714e2dd5012aabff6cd776be8d424da523', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 7, 'created': '2021-05-12 06:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/12281e0029111c1b44251955e2eb929e5b600c35', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 8, 'created': '2021-07-01 07:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cda1b4fb0789950d25d89e90b77e4e54e53b755c', 'message': 'Expanded docstrings for library subpackage.\n\nIncludes explanation of haproxy config parsing,\nderived from the one in tests.\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}, {'number': 9, 'created': '2021-07-01 07:02:44.000000000', 'files': ['validations_common/library/check_package_update.py', 'validations_common/library/__init__.py', 'validations_common/library/reportentry.py', 'validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7e54dd6110f8bc8d4c5d0c289d3af7c8979672dd', 'message': 'Expanded docstrings for library subpackage.\n\nReintroduces the __init__.py in library dir, to help with\ndoc building. apidoc seems to get confused without it.\n\nPlus it allows for writing general into to the subpkg.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7\n'}]",7,778002,7e54dd6110f8bc8d4c5d0c289d3af7c8979672dd,34,6,9,32926,,,0,"Expanded docstrings for library subpackage.

Reintroduces the __init__.py in library dir, to help with
doc building. apidoc seems to get confused without it.

Plus it allows for writing general into to the subpkg.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I72b7a665da482d84b7b3e4d5560c75c8af7111d7
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/02/778002/8 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/library/check_package_update.py', 'validations_common/library/__init__.py', 'validations_common/library/reportentry.py', 'validations_common/library/haproxy_conf.py', 'validations_common/library/validations_read_ini.py']",5,3325ec0ace356c73723774841ec63b73269cdb06,docstrings/library,"DOCUMENTATION = ''' module: validations_read_ini short_description: read a value from an INI file description: - read a value from an INI file options: msg: required: true description: - The warning text type: str author: ""Martin Andre (@mandre)"" ''' EXAMPLES = ''' - validations_read_ini: path=/path/to/file.ini section=default key=something register: my_ini ''' """""" Ansible module to read a value from an INI file. Usage: validations_read_ini: path=/path/to/file.ini section=default key=something This will read the `path/to/file.ini` file and read the `Hello!` value under: [default] something = Hello! You can register the result and use it later with `{{ my_ini.value }}` """"""",# Ansible module to read a value from an Ini file. # Usage: # - validations_read_ini: path=/path/to/file.ini section=default key=something # register: my_ini # # This will read the `path/to/file.ini` file and read the `Hello!` value under: # [default] # something = Hello! # # You can register the result and use it later with `{{ my_ini.value }}`,94,16
openstack%2Ftripleo-validations~master~I3a54abe72a68da04c57c05a71e4eace93225f058,openstack/tripleo-validations,master,I3a54abe72a68da04c57c05a71e4eace93225f058,Corrected the task 'Get file_descriptors total_limit' to get the 'fs.file-max' value.,MERGED,2021-07-05 09:59:12.000000000,2021-07-05 19:30:28.000000000,2021-07-05 19:27:38.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-05 09:59:12.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e610926e80e2841fc6c7459ef295c1dec4df0eed', 'message': ""Corrected the task 'Get file_descriptors total_limit' to get the\n'fs.file-max' value.\n\nCloses-Bug: #1934656\nChange-Id: I3a54abe72a68da04c57c05a71e4eace93225f058\n""}]",0,799451,e610926e80e2841fc6c7459ef295c1dec4df0eed,9,5,1,30075,,,0,"Corrected the task 'Get file_descriptors total_limit' to get the
'fs.file-max' value.

Closes-Bug: #1934656
Change-Id: I3a54abe72a68da04c57c05a71e4eace93225f058
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/51/799451/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,e610926e80e2841fc6c7459ef295c1dec4df0eed,, sysctl -n fs.file-max, rabbitmqctl eval 'sysctl -n fs.file-max',1,1
openstack%2Ftripleo-validations~stable%2Fvictoria~I9869afd60342fdb0aca69a313c1c6e35e0947fb8,openstack/tripleo-validations,stable/victoria,I9869afd60342fdb0aca69a313c1c6e35e0947fb8,Migrate back haproxy validation to tripleo-validations,MERGED,2021-06-30 09:13:18.000000000,2021-07-05 19:30:26.000000000,2021-07-05 19:28:03.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-30 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f1285a236c8f2386bb7839d06cef37b1f5b27c0d', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n'}, {'number': 2, 'created': '2021-06-30 09:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8d0a028f33a580285848f3e77fbbf2ac4c978ac', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n'}, {'number': 3, 'created': '2021-06-30 09:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bb5a538a56bc860c25ec32866ec25923099cbecc', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n'}, {'number': 4, 'created': '2021-06-30 09:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b1c5b69c57e0699ab033acc828f37337e529ff08', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n'}, {'number': 5, 'created': '2021-07-02 07:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e26d24d78c493a06f9e8f5550803814d2c32e1a0', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n'}, {'number': 6, 'created': '2021-07-02 08:02:08.000000000', 'files': ['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bd0d4974ed627b1928c64161481f6a3aa47210e7', 'message': 'Migrate back haproxy validation to tripleo-validations\n\nThis patch moves back the haproxy validation from validations-common to\ntripleo-validations. It has been renamed in tripleo-haproxy and the role\nis called now tripleo_haproxy.\n\nThis patch also fix the host targeting in order to only execute this\nvalidation on nodes where haproxy is really installed and configured.\n\nNote that the haproxy validations hosted in validations-common will be\nremoved in a follow up patch.\n\nCloses-Bug: #1926024\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8\n(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)\n(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)\n'}]",0,798809,bd0d4974ed627b1928c64161481f6a3aa47210e7,14,7,6,11491,,,0,"Migrate back haproxy validation to tripleo-validations

This patch moves back the haproxy validation from validations-common to
tripleo-validations. It has been renamed in tripleo-haproxy and the role
is called now tripleo_haproxy.

This patch also fix the host targeting in order to only execute this
validation on nodes where haproxy is really installed and configured.

Note that the haproxy validations hosted in validations-common will be
removed in a follow up patch.

Closes-Bug: #1926024

Co-Authored-By: Michele Baldessari <michele@redhat.com>

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I9869afd60342fdb0aca69a313c1c6e35e0947fb8
(cherry picked from commit 9dd662a1b9d5617e1a929c86f6ffdb09e873252b)
(cherry picked from commit 253a16de422b5f22bb1b9e68ffa14e855a22d243)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/798809/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_haproxy/molecule/default/converge.yml', 'doc/source/modules/modules-tripleo_haproxy_conf.rst', 'zuul.d/molecule.yaml', 'playbooks/tripleo-haproxy.yaml', 'roles/tripleo_haproxy/tasks/main.yml', 'library/tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/defaults/main.yml', 'tripleo_validations/tests/library/test_tripleo_haproxy_conf.py', 'roles/tripleo_haproxy/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_haproxy.rst']",10,f1285a236c8f2386bb7839d06cef37b1f5b27c0d,bz#1950533,=============== tripleo_haproxy =============== -------------- About The Role -------------- An Ansible role to check if the ``HAProxy`` configuration has recommended values. Requirements ============ This role requires and Up and Running Overcloud. Dependencies ============ None. Example Playbook ================ .. code-block:: yaml - hosts: undercloud roles: - { role: tripleo_haproxy } License ======= Apache Author Information ================== **Red Hat Tripleo DFG:PIDONE** ---------------- Full Description ---------------- .. ansibleautoplugin:: :role: roles/tripleo_haproxy ,,426,0
openstack%2Ftripleo-quickstart~master~I12a76cc01e39e19383c4de9d34002b044031e71e,openstack/tripleo-quickstart,master,I12a76cc01e39e19383c4de9d34002b044031e71e,Change from mac to ports on the instackenv.json.j2,MERGED,2021-07-02 15:12:13.000000000,2021-07-05 19:30:25.000000000,2021-07-05 19:27:35.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 15:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cea3c2a4cf36294a08815550e5026f122c4de3e0', 'message': 'Change from mac to ports on the instackenv.json.j2\n\nAs macs have been deprecated, modify the instackenv file to\nuse ports instead of mac.\n\nCloses-bug: #1934133\nChange-Id: I12a76cc01e39e19383c4de9d34002b044031e71e\n'}, {'number': 2, 'created': '2021-07-05 08:59:41.000000000', 'files': ['roles/libvirt/setup/overcloud/templates/instackenv.json.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/53a9fb296449175085a657f44c517f40d989742c', 'message': 'Change from mac to ports on the instackenv.json.j2\n\nAs macs have been deprecated, modify the instackenv file to\nuse ports instead of mac.\n\nCloses-bug: #1934133\nChange-Id: I12a76cc01e39e19383c4de9d34002b044031e71e\n'}]",4,799220,53a9fb296449175085a657f44c517f40d989742c,15,4,2,22954,,,0,"Change from mac to ports on the instackenv.json.j2

As macs have been deprecated, modify the instackenv file to
use ports instead of mac.

Closes-bug: #1934133
Change-Id: I12a76cc01e39e19383c4de9d34002b044031e71e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/20/799220/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/templates/instackenv.json.j2'],1,cea3c2a4cf36294a08815550e5026f122c4de3e0,bug/1934133," {% if release == 'master' %} ""ports"": [ {""address"": ""{{ node_mac_map.get(node.name).get(lvars['pxe_network']) }}""} ], {% else %} ""mac"": [ ""{{ node_mac_map.get(node.name).get(lvars['pxe_network']) }}"" ], {% endif %}"," ""mac"": [ ""{{ node_mac_map.get(node.name).get(lvars['pxe_network']) }}"" ],",9,3
openstack%2Fneutron~stable%2Frocky~Idd65f1eda020ada9a76c39904efa8d55680d9e6b,openstack/neutron,stable/rocky,Idd65f1eda020ada9a76c39904efa8d55680d9e6b,Clean port forwarding cache when router is DOWN,MERGED,2021-03-10 14:38:56.000000000,2021-07-05 19:29:06.000000000,2021-07-05 19:29:06.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 14:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2aa5adc52bd214ccbe3e703e78f079dff6df8f8', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n(cherry picked from commit 058214670820be6f40e8ab05c0e1dbe8dc389abc)\n'}, {'number': 2, 'created': '2021-05-25 03:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1679261894050a4046d117f389fc15f424b9952d', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n(cherry picked from commit 058214670820be6f40e8ab05c0e1dbe8dc389abc)\n'}, {'number': 3, 'created': '2021-06-03 07:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac8a61ede1bc2010eb99a51bc4e90dc8393b5fc1', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n(cherry picked from commit 058214670820be6f40e8ab05c0e1dbe8dc389abc)\n'}, {'number': 4, 'created': '2021-06-15 01:25:30.000000000', 'files': ['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d06b6692b1fb8241483ca68039c4f124a2f3eeb', 'message': 'Clean port forwarding cache when router is DOWN\n\nPort forwarding L3 agent extension needs to clean cache when\nrouter is DOWN, otherwise the port forwarding extension will\nskip all objects processing when router is UP again, because\nthe cache is hitting.\n\nThis patch addresses this issue.\n\nChange-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b\nCloses-bug: #1917393\n(cherry picked from commit 058214670820be6f40e8ab05c0e1dbe8dc389abc)\n'}]",0,779780,2d06b6692b1fb8241483ca68039c4f124a2f3eeb,119,3,4,9531,,,0,"Clean port forwarding cache when router is DOWN

Port forwarding L3 agent extension needs to clean cache when
router is DOWN, otherwise the port forwarding extension will
skip all objects processing when router is UP again, because
the cache is hitting.

This patch addresses this issue.

Change-Id: Idd65f1eda020ada9a76c39904efa8d55680d9e6b
Closes-bug: #1917393
(cherry picked from commit 058214670820be6f40e8ab05c0e1dbe8dc389abc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/779780/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/extensions/port_forwarding.py', 'neutron/tests/unit/agent/l3/extensions/test_port_forwarding.py']",2,c2aa5adc52bd214ccbe3e703e78f079dff6df8f8,change-779780-3," @mock.patch.object(pf.PortForwardingAgentExtension, '_sending_port_forwarding_fip_status') @mock.patch.object(iptables_manager.IptablesTable, 'add_rule') @mock.patch.object(iptables_manager.IptablesTable, 'add_chain') @mock.patch.object(l3router.RouterInfo, 'add_floating_ip') def test_add_delete_router(self, mock_add_fip, mock_add_chain, mock_add_rule, mock_send_fip_status): # simulate the router add and already there is a port forwarding # resource association. mock_add_fip.return_value = lib_const.FLOATINGIP_STATUS_ACTIVE self.fip_pf_ext.add_router(self.context, self.router) self._assert_called_iptables_process( mock_add_chain, mock_add_rule, mock_add_fip, mock_send_fip_status, target_obj=self.portforwarding1) router_fip_ids = self.fip_pf_ext.mapping.router_fip_mapping.get( self.router['id']) self.assertIsNotNone(router_fip_ids) for fip_id in router_fip_ids: pf_ids = self.fip_pf_ext.mapping.fip_port_forwarding.get(fip_id) self.assertIsNotNone(pf_ids) for pf_id in pf_ids: pf = self.fip_pf_ext.mapping.managed_port_forwardings.get( pf_id) self.assertIsNotNone(pf) self.fip_pf_ext.delete_router(self.context, self.router) self.assertIsNone( self.fip_pf_ext.mapping.router_fip_mapping.get(self.router['id'])) ",,41,1
openstack%2Ftripleo-validations~stable%2Ftrain~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/train,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-22 07:45:25.000000000,2021-07-05 19:27:47.000000000,2021-07-05 19:27:47.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-22 07:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8ed15af1e51fe71cd249cc90d9f88a9b20c3adc', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}, {'number': 2, 'created': '2021-06-23 08:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9c41364c7a882b36ef5fdf07eab8463c96211dea', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797603\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}, {'number': 3, 'created': '2021-06-24 17:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/34ab540ba5347ff185a5cf9a6c319333142c230c', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}, {'number': 4, 'created': '2021-06-30 09:29:39.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab5dd569c35de28132b1aaa3764fcffd1f1c9e27', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/797860\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}]",0,797389,ab5dd569c35de28132b1aaa3764fcffd1f1c9e27,28,7,4,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.
Depends-On: https://review.opendev.org/c/openstack/validations-common/+/797860
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/89/797389/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",4,b8ed15af1e51fe71cd249cc90d9f88a9b20c3adc,,--- - promote-openstack-tox-docs: *tripleo-docs, - promote-openstack-tox-docs: *tripleo-docs,88,85
openstack%2Ftripleo-operator-ansible~master~Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b,openstack/tripleo-operator-ansible,master,Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b,Adding static invenory param to tripleo_validator_run,MERGED,2021-06-30 07:12:06.000000000,2021-07-05 19:27:42.000000000,2021-07-05 19:27:42.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-30 07:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8501f55cfaee718b4f58805429a3376b2ebe3ae1', 'message': 'Adding static invenory param to tripleo_validator_run\n\nThe param is needed to run validations without authentication by providing a static inventory file\n\nChange-Id: Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b\n'}, {'number': 2, 'created': '2021-06-30 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/211adfc962fcfc127b6d686f838d4e92af4c838d', 'message': 'Adding static invenory param to tripleo_validator_run\n\nThe param is needed to run validations without authentication by providing a static inventory file\n\nChange-Id: Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b\n'}, {'number': 3, 'created': '2021-06-30 13:35:16.000000000', 'files': ['roles/tripleo_validator_run/README.md', 'roles/tripleo_validator_run/defaults/main.yml', 'roles/tripleo_validator_run/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/5fd31f0e5e6c996bf77c7ed838218925457c1ee6', 'message': 'Adding static invenory param to tripleo_validator_run\n\nThe param is needed to run validations without authentication by providing a static inventory file\n\nChange-Id: Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b\n'}]",1,798793,5fd31f0e5e6c996bf77c7ed838218925457c1ee6,14,4,3,33663,,,0,"Adding static invenory param to tripleo_validator_run

The param is needed to run validations without authentication by providing a static inventory file

Change-Id: Ibe5e3674f9cce57e92d395e5a2cf96dfd86c4b1b
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/93/798793/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_run/defaults/main.yml', 'roles/tripleo_validator_run/tasks/main.yml']",2,8501f55cfaee718b4f58805429a3376b2ebe3ae1,add_static_inventory," {{ tripleo_validator_run_static_inventory | ternary('--static-inventory ' ~ tripleo_validator_run_static_inventory, '') }}",,2,0
openstack%2Fcinder~master~I1f2548211a78a353ddcd709d9369d0ff41eddb31,openstack/cinder,master,I1f2548211a78a353ddcd709d9369d0ff41eddb31,Add project validation to volume type access,NEW,2021-02-25 11:22:15.000000000,2021-07-05 19:18:25.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 11:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a34a2c617e8a9b5e98667648b32b6ba592be254', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}, {'number': 2, 'created': '2021-03-02 09:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1ba168b132c822f560097e23f2301478722ec51', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}, {'number': 3, 'created': '2021-03-02 10:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9202454e11bd9c2118169197d90437bd51236652', 'message': 'Add project validation to volume type access\n\nValidate the project provided by the user with keystone\nif it is a valid project or not.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}, {'number': 4, 'created': '2021-03-08 09:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18c9541df994c931a0b99085cbd54c9a5ee3fa7e', 'message': 'Add project validation to volume type access\n\nValidate the project provided by the user with keystone\nif it is a valid project or not.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}, {'number': 5, 'created': '2021-03-17 07:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e6b0fa2e25c6bc877c7e67d133dc012be35fd6b', 'message': 'Add project validation to volume type access\n\nValidate the project provided by the user with keystone\nif it is a valid project or not.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}, {'number': 6, 'created': '2021-03-31 07:35:25.000000000', 'files': ['cinder/api/contrib/volume_type_access.py', 'cinder/tests/functional/api_sample_tests/test_volume_types.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffab600df37a86e046ba0f1b4c877581d38c585a', 'message': 'Add project validation to volume type access\n\nValidate the project provided by the user with keystone\nif it is a valid project or not.\n\nChange-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31\n'}]",1,777574,ffab600df37a86e046ba0f1b4c877581d38c585a,117,2,6,27615,,,0,"Add project validation to volume type access

Validate the project provided by the user with keystone
if it is a valid project or not.

Change-Id: I1f2548211a78a353ddcd709d9369d0ff41eddb31
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/777574/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/volume_access.py', 'cinder/api/contrib/volume_type_access.py', 'cinder/tests/functional/api_sample_tests/test_volume_types.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py']",4,2a34a2c617e8a9b5e98667648b32b6ba592be254,752431,"from cinder.api import api_utils get_patcher = mock.patch('cinder.quota_utils.get_project_hierarchy', self._get_project) get_patcher.start() self.addCleanup(get_patcher.stop) class FakeProject(object): def __init__(self, id=fake.PROJECT_ID, domain_id=fake.DOMAIN_ID, parent_id=None, is_admin_project=False): self.id = id self.domain_id = domain_id def _get_project(self, context, id, subtree_as_ids=False, parents_as_ids=False, is_admin_project=False): return self.FakeProject(id) self.assertEqual(fake.PROJECT_ID, project_id, ""project_id"") body = {'addProjectAccess': {'project': fake.PROJECT_ID}} self.assertRaises(webob.exc.HTTPForbidden, @mock.patch.object(api_utils, 'validate_project_and_authorize') def test_add_project_access_with_already_added_access(self, mock_authorize): @mock.patch.object(api_utils, 'validate_project_and_authorize') def test_remove_project_access_with_bad_access(self, mock_authorize): self.assertRaises(webob.exc.HTTPForbidden,"," self.assertEqual(PROJ2_UUID, project_id, ""project_id"") body = {'addProjectAccess': {'project': PROJ2_UUID}} self.assertRaises(exception.PolicyNotAuthorized, def test_add_project_access_with_already_added_access(self): def test_remove_project_access_with_bad_access(self): self.assertRaises(exception.PolicyNotAuthorized,",37,11
openstack%2Fironic~master~I728f03dc829fb76cad9804c8f8df20810307ce2c,openstack/ironic,master,I728f03dc829fb76cad9804c8f8df20810307ce2c,Redfish: Skip non-RAID controllers for RAID,MERGED,2021-06-16 07:19:57.000000000,2021-07-05 18:42:12.000000000,2021-07-05 18:40:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-06-16 07:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf24f3f7788a9c206f5de5226741f276d691e541', 'message': 'Redfish: Skip non-RAID controllers for storage\n\nRelated to: I369bdbb17064baf34f90e864d0ece600529de509\n\nChange-Id: I728f03dc829fb76cad9804c8f8df20810307ce2c\n'}, {'number': 2, 'created': '2021-06-22 09:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdd2d2ef44a3faff90d32bfaaea6c180a9303fb3', 'message': 'Redfish: Skip non-RAID controllers for storage\n\nRelated to: I369bdbb17064baf34f90e864d0ece600529de509\n\nChange-Id: I728f03dc829fb76cad9804c8f8df20810307ce2c\n'}, {'number': 3, 'created': '2021-06-28 14:42:20.000000000', 'files': ['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'releasenotes/notes/skip-nonraid-controllers-f4a79e2c9e8080ce.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c779be9f7d18779d9befed9c6d92253d50448a12', 'message': 'Redfish: Skip non-RAID controllers for RAID\n\nAvoid processing non-RAID controllers as they cannot be\nused for RAID operations to save some time and requests\nand avoid possible errors later if non-RAID disks\nare picked up for configuration.\n\nRelated to: I369bdbb17064baf34f90e864d0ece600529de509\n\nChange-Id: I728f03dc829fb76cad9804c8f8df20810307ce2c\n'}]",9,796592,c779be9f7d18779d9befed9c6d92253d50448a12,39,4,3,27909,,,0,"Redfish: Skip non-RAID controllers for RAID

Avoid processing non-RAID controllers as they cannot be
used for RAID operations to save some time and requests
and avoid possible errors later if non-RAID disks
are picked up for configuration.

Related to: I369bdbb17064baf34f90e864d0ece600529de509

Change-Id: I728f03dc829fb76cad9804c8f8df20810307ce2c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/796592/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py']",2,cf24f3f7788a9c206f5de5226741f276d691e541,redfish-raid," def test__get_storage_controller(self, mock_get_system): nonraid_controller = mock.Mock() nonraid_controller.raid_types = [] nonraid_storage = mock.MagicMock() nonraid_storage.storage_controllers = [nonraid_controller] nonraid_storage.drives = mock.Mock() mock_get_system.return_value.storage.get_members.return_value = [ nonraid_storage, self.mock_storage] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: storage = redfish_raid._get_storage_controller( task.node, mock_get_system.return_value, ['32ADF365C6C1B7BD']) self.assertEqual(storage, self.mock_storage) nonraid_storage.drives.assert_not_called()",,22,0
openstack%2Fironic~stable%2Fussuri~Ib4ab755c806f028d97379b80a8c27d6ade63cba1,openstack/ironic,stable/ussuri,Ib4ab755c806f028d97379b80a8c27d6ade63cba1,Update the clear job id's constant,MERGED,2021-06-29 13:31:53.000000000,2021-07-05 18:41:35.000000000,2021-07-05 18:39:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-29 13:31:53.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c68e50e6ce0da3b2af3a67b3f15ce9ae8d93ae9f', 'message': ""Update the clear job id's constant\n\nFixes an issue of powering off with the ``idrac-wsman`` management\ninterface while the execution of a clear job queue cleaning step is\nproceeding.\nPrior to this fix, the clean step would fail when powering off a node.\n\nStory: 2008988\nTask: 42641\n\nChange-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1\n(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)\n""}]",0,798667,c68e50e6ce0da3b2af3a67b3f15ce9ae8d93ae9f,11,4,1,31871,,,0,"Update the clear job id's constant

Fixes an issue of powering off with the ``idrac-wsman`` management
interface while the execution of a clear job queue cleaning step is
proceeding.
Prior to this fix, the clean step would fail when powering off a node.

Story: 2008988
Task: 42641

Change-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1
(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/798667/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml']",3,c68e50e6ce0da3b2af3a67b3f15ce9ae8d93ae9f,change-796432-5-stable/ussuri,"--- fixes: - | Fixes an issue of powering off with the ``idrac-wsman`` management interface while the execution of a clear job queue cleaning step is proceeding. Prior to this fix, the clean step would fail when powering off a node. ",,10,3
openstack%2Fopenstack-ansible~stable%2Fvictoria~I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e,openstack/openstack-ansible,stable/victoria,I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e,Bump SHAs for stable/victoria,MERGED,2021-06-06 18:24:32.000000000,2021-07-05 18:13:41.000000000,2021-07-05 18:12:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 33633}]","[{'number': 1, 'created': '2021-06-06 18:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/139a0902e0e8196e202e85a07be6fbff1c989a97', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e\n'}, {'number': 2, 'created': '2021-06-25 08:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e6922ff227d6d4b565f85451c9c5079949979d7e', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e\n'}, {'number': 3, 'created': '2021-06-25 16:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a37f66bb1a0d8e7afd6041f28f9f852c97de4e39', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e\n'}, {'number': 4, 'created': '2021-06-25 16:42:55.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/509616c3b3f863d6cc90af3e0da89a65a5d7a6cf', 'message': 'Bump SHAs for stable/victoria\n\nChange-Id: I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e\n'}]",0,795000,509616c3b3f863d6cc90af3e0da89a65a5d7a6cf,19,4,4,28619,,,0,"Bump SHAs for stable/victoria

Change-Id: I12b77b11e7fd0b76f7c80f69389ec8f86fd8d16e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/795000/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,139a0902e0e8196e202e85a07be6fbff1c989a97,bump_osa, version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: 42167284f700b70dac06c1c30220b31fdffd160f version: ac0a5c1e682e0a6e6c67d7c3c630b1da110785bb, version: 59a80f9a443dd16b780eff9360eac987a55a5c67 version: 79a44cd9cc20f4e4fd3e0f377e97c98cda43413f version: f185e409dac0e29811abf5a21b041503f2725a4c,60,60
openstack%2Fneutron~stable%2Fvictoria~I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,openstack/neutron,stable/victoria,I6d04df180cd9b2d593bb99c8d22a60a3534f22a0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests",MERGED,2021-07-02 10:00:00.000000000,2021-07-05 17:48:01.000000000,2021-07-05 17:46:20.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 10:00:00.000000000', 'files': ['neutron/tests/functional/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a254cdaf0295f159088745793a9bb1c891a43bbc', 'message': 'Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n\nInstead of using a file to log the processes status and actions,\n""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is\nsafer than writting a single file accross multiple processes.\n\nChange-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0\nCloses-Bug: #1930367\n(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)\n'}]",0,799150,a254cdaf0295f159088745793a9bb1c891a43bbc,10,3,1,11975,,,0,"Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests

Instead of using a file to log the processes status and actions,
""TestNeutronServer"" now uses a ""multiprocessing.Queue"" that is
safer than writting a single file accross multiple processes.

Change-Id: I6d04df180cd9b2d593bb99c8d22a60a3534f22a0
Closes-Bug: #1930367
(cherry picked from commit da760973be09a98a1fc07c519e74a11899cb4aa5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/799150/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/test_server.py'],1,a254cdaf0295f159088745793a9bb1c891a43bbc,bug/1930367-stable/wallaby-stable/victoria,"import multiprocessingFAKE_START_MSG = 'start' FAKE_RESET_MSG = 'reset' self._mp_queue = multiprocessing.Queue() self._mp_queue.put(FAKE_START_MSG) self._mp_queue.put(FAKE_RESET_MSG) ret_msg = '' def is_ret_buffer_ok(): nonlocal ret_msg LOG.debug('Checking returned buffer size') while not self._mp_queue.empty(): ret_msg += self._mp_queue.get() LOG.debug('Size of buffer is %s. Expected size: %s', len(ret_msg), expected_size) return len(ret_msg) == expected_size utils.wait_until_true(is_ret_buffer_ok, timeout=5, sleep=1) except utils.WaitTimeout: raise RuntimeError('Expected buffer size: %s, current size: %s' % (len(ret_msg), expected_size)) self.assertEqual(expected_msg, ret_msg)","FAKE_START_MSG = b""start"" FAKE_RESET_MSG = b""reset"" self.temp_file = self.get_temp_file_path(""test_server.tmp"") with open(self.temp_file, 'ab') as f: f.write(FAKE_START_MSG) with open(self.temp_file, 'ab') as f: f.write(FAKE_RESET_MSG) def is_temp_file_ok(): LOG.debug(""Checking file %s"", self.temp_file) if not os.path.isfile(self.temp_file): LOG.debug(""File %s not exists."", self.temp_file) return False temp_file_size = os.stat(self.temp_file).st_size LOG.debug(""Size of file %s is %s. Expected size: %s"", self.temp_file, temp_file_size, expected_size) return temp_file_size == expected_size utils.wait_until_true(is_temp_file_ok, timeout=5, sleep=1) except utils.WaitTimeout: if not os.path.isfile(self.temp_file): raise RuntimeError( ""Timed out waiting for file %(filename)s to be created"" % {'filename': self.temp_file}) else: raise RuntimeError( ""Expected size for file %(filename)s: %(size)s, current "" ""size: %(current_size)s"" % {'filename': self.temp_file, 'size': expected_size, 'current_size': os.stat(self.temp_file).st_size}) with open(self.temp_file, 'rb') as f: res = f.readline() self.assertEqual(expected_msg, res)",19,31
openstack%2Fvalidations-common~master~I90b48b8f1de6ef72f6c0695129ec990137a50219,openstack/validations-common,master,I90b48b8f1de6ef72f6c0695129ec990137a50219,[xfs_check_ftype] Add role documentation in sphinx,MERGED,2021-06-24 10:08:10.000000000,2021-07-05 17:35:39.000000000,2021-07-05 17:32:35.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 10:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6ff2619775ac3bc48a98e021580c1997ae41a36a', 'message': '[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/fe2ce4465e89fa0614ce34bc0b2169c1c155355b', 'message': '[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a6f51a6176b3c697646b08bc9f0dd927d3e58bb9', 'message': '[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9ea3f0623734977e558833e2a08b9532a64d700e', 'message': '[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/762fbb52426ba28024b05b9616a25cd6e2918a8e', 'message': '[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/playbooks/check-ftype.yaml', 'doc/source/roles/role-xfs_check_ftype.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b61b033ad488c542a6832720655d4f9ad2a8d4e8', 'message': ""[xfs_check_ftype] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the facts gathering as the validation doesn't\nneed them.\n\nChange-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",1,797866,b61b033ad488c542a6832720655d4f9ad2a8d4e8,21,6,6,11491,,,0,"[xfs_check_ftype] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the facts gathering as the validation doesn't
need them.

Change-Id: I90b48b8f1de6ef72f6c0695129ec990137a50219
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/66/797866/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-xfs_check_ftype.rst'],1,6ff2619775ac3bc48a98e021580c1997ae41a36a,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- An Ansible role to check if there is at least 1 XFS volume with ftype=0 in any deployed server(s). Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost roles: - { role: xfs_check_ftype } License ======= Apache Author Information ================== **Red Hat TripleO DFG:DF Squad:VF** ---------------- Full Description ---------------- ,,40,0
openstack%2Ftripleo-validations~master~I6c4b69fa3f2bed0bda6b56810d95b1f98f55f3c7,openstack/tripleo-validations,master,I6c4b69fa3f2bed0bda6b56810d95b1f98f55f3c7,[compute_tsx] Remove README.md file,MERGED,2021-06-10 11:39:01.000000000,2021-07-05 17:35:37.000000000,2021-07-05 17:31:25.000000000,"[{'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 11:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bdc1681b97641b360683d05c4cb40fb00fbb5d0e', 'message': '[compute_tsx] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6c4b69fa3f2bed0bda6b56810d95b1f98f55f3c7\n'}, {'number': 2, 'created': '2021-06-11 16:11:41.000000000', 'files': ['roles/compute_tsx/README.md', 'roles/compute_tsx/vars/main.yml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/72b71054a38f46933efe9964faefb0898689d06a', 'message': '[compute_tsx] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6c4b69fa3f2bed0bda6b56810d95b1f98f55f3c7\n'}]",4,795762,72b71054a38f46933efe9964faefb0898689d06a,16,6,2,11491,,,0,"[compute_tsx] Remove README.md file

This patch removes the README.md file and adds the documentation
directly in the sphinx role documentation index. All variables have been
commented with a proper description to be included automatically in the
sphinx build.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6c4b69fa3f2bed0bda6b56810d95b1f98f55f3c7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/62/795762/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/compute_tsx/README.md', 'roles/compute_tsx/vars/main.yml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml']",4,bdc1681b97641b360683d05c4cb40fb00fbb5d0e,VALIDATION_DEVELOPMENT_WORKFLOW," # Debugging mode - Whether or not to print the computed variables during execution # If set to `true` it will not return a failure, but will simply print the failure # Variable used when this validation is called by tripleo-heat-templates # Information message to be printed in warning/failure mode",,76,65
openstack%2Ftripleo-validations~master~I32ede7b8070ef6dcc22df982b0a3417753fb4a77,openstack/tripleo-validations,master,I32ede7b8070ef6dcc22df982b0a3417753fb4a77,[check_for_dangling_images] Remove README.md file,MERGED,2021-06-08 11:15:42.000000000,2021-07-05 17:34:31.000000000,2021-07-05 17:31:01.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-08 11:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/864775cf2cea53b8a9b04b265e56956312bd608c', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. Each variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}, {'number': 2, 'created': '2021-06-09 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8f1452312e1b3aa7cc582c1801548ab6b70eedd2', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. Each variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}, {'number': 3, 'created': '2021-06-09 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7e9d1a7430ab89eb6f69d65f5fe58c9cf5feae97', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. Each variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}, {'number': 4, 'created': '2021-06-09 11:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8cad49d6d1f391ef53c090d79d8cb29a8df13af3', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}, {'number': 5, 'created': '2021-06-09 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/06e113ad1b560239d4657166edb9c9eb21f3eabb', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}, {'number': 6, 'created': '2021-06-10 11:39:01.000000000', 'files': ['roles/check_for_dangling_images/defaults/main.yml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e871121e6f76c5377850f367cec467a49f92fa15', 'message': '[check_for_dangling_images] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77\n'}]",0,795297,e871121e6f76c5377850f367cec467a49f92fa15,23,7,6,11491,,,0,"[check_for_dangling_images] Remove README.md file

This patch removes the README.md file and adds the documentation
directly in the sphinx role documentation index. All variables have been
commented with a proper description to be included automatically in the
sphinx build.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I32ede7b8070ef6dcc22df982b0a3417753fb4a77
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/795297/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_for_dangling_images/defaults/main.yml', 'doc/source/roles/role-check_for_dangling_images.rst', 'roles/check_for_dangling_images/README.md']",3,864775cf2cea53b8a9b04b265e56956312bd608c,VALIDATION_DEVELOPMENT_WORKFLOW,,"Check-for-dangling-images ========================= Add Ansible role to check for dangling images Requirements ------------ This role will be executed pre Update. Role Variables -------------- * `check_for_dangling_images_debug`: <'false'> -- debugging mode. Dependencies ------------ No Dependencies Example Playbook ---------------- - hosts: servers roles: - { role: check_for_dangling_images, check_for_dangling_images_debug: true } License ------- Apache Author Information ------------------ Red Hat TripleO DFG:Upgrades ",32,38
openstack%2Fvalidations-common~master~I6e4b95faadf2e300030d476c75e6283237b43719,openstack/validations-common,master,I6e4b95faadf2e300030d476c75e6283237b43719,[check_disk_space] Add role documentation in sphinx,MERGED,2021-06-23 12:37:23.000000000,2021-07-05 17:34:22.000000000,2021-07-05 17:29:56.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-23 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e007e8a6d73253ae2c8d472a034e2107b682bb3', 'message': '[check_disk_space] Adding role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-23 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5a0cbd156b2d71786466b6c315de8f4780717644', 'message': '[check_disk_space] Adding role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5d5e50751c55a83f76eb16fd64d7549d2dbc8cd7', 'message': '[check_disk_space] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5aba723cbbf4da79d1698ee9c62c5f89392f3806', 'message': '[check_disk_space] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c258191c9578f20be435357893d095973bd664df', 'message': '[check_disk_space] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/playbooks/check-disk-space.yaml', 'doc/source/roles/role-check_disk_space.rst', 'validations_common/roles/check_disk_space/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5823307e67097a2bc6ab5180b50c93557d7f9bf6', 'message': ""[check_disk_space] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the fact gathering as this validation doesn't\nuse them at all.\n\nChange-Id: I6e4b95faadf2e300030d476c75e6283237b43719\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,797634,5823307e67097a2bc6ab5180b50c93557d7f9bf6,21,6,6,11491,,,0,"[check_disk_space] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the fact gathering as this validation doesn't
use them at all.

Change-Id: I6e4b95faadf2e300030d476c75e6283237b43719
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/34/797634/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_disk_space.rst', 'validations_common/roles/check_disk_space/defaults/main.yml']",2,0e007e8a6d73253ae2c8d472a034e2107b682bb3,VALIDATION_DEVELOPMENT_WORKFLOW,# Volumes partitioning schema # A list of dictionary.ies containing: # - mount point(s) # - min_size (Minimum free space required in GB),,48,0
openstack%2Fvalidations-common~master~I9b27a068129d694577bb3b0ab7374934f06c5655,openstack/validations-common,master,I9b27a068129d694577bb3b0ab7374934f06c5655,Enforce some better rights on temporary files,MERGED,2021-06-25 09:17:07.000000000,2021-07-05 17:32:18.000000000,2021-07-05 17:32:18.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-25 09:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/003f32e2ac9c92bfe8ef22a78ff7ae58c795dd4e', 'message': ""Enforce some better rights on temporary files\n\nWe probably don't want to expose the SELinux issues, so let's use some\nbetter rights on the temporary files.\n\nChange-Id: I9b27a068129d694577bb3b0ab7374934f06c5655\n""}, {'number': 2, 'created': '2021-06-28 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/af74f86a707683c522d97518cf9580896713b54d', 'message': ""Enforce some better rights on temporary files\n\nWe probably don't want to expose the SELinux issues, so let's use some\nbetter rights on the temporary files.\n\nChange-Id: I9b27a068129d694577bb3b0ab7374934f06c5655\n""}, {'number': 3, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d315633b3840145224d2f778e9a1348672b76c57', 'message': ""Enforce some better rights on temporary files\n\nWe probably don't want to expose the SELinux issues, so let's use some\nbetter rights on the temporary files.\n\nChange-Id: I9b27a068129d694577bb3b0ab7374934f06c5655\n""}, {'number': 4, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/roles/validate_selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f5d23632159a5e2c010fd581bd4aba71b08967cb', 'message': ""Enforce some better rights on temporary files\n\nWe probably don't want to expose the SELinux issues, so let's use some\nbetter rights on the temporary files.\n\nChange-Id: I9b27a068129d694577bb3b0ab7374934f06c5655\n""}]",0,798060,f5d23632159a5e2c010fd581bd4aba71b08967cb,15,5,4,28223,,,0,"Enforce some better rights on temporary files

We probably don't want to expose the SELinux issues, so let's use some
better rights on the temporary files.

Change-Id: I9b27a068129d694577bb3b0ab7374934f06c5655
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/60/798060/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/validate_selinux/tasks/main.yml'],1,003f32e2ac9c92bfe8ef22a78ff7ae58c795dd4e,VALIDATION_DEVELOPMENT_WORKFLOW, chmod 0600 /tmp/denials.log mode: 0600 chmod 0600 {{ validate_selinux_filtered_denials_dest }} mode: 0600, mode: 0644,4,1
openstack%2Fvalidations-common~master~Id337cbd89ab9368ee7e02d9c710861b134929ec7,openstack/validations-common,master,Id337cbd89ab9368ee7e02d9c710861b134929ec7,[validate_selinux] Add role documentation in sphinx,MERGED,2021-06-24 09:59:20.000000000,2021-07-05 17:31:57.000000000,2021-07-05 17:31:57.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/738a09a3fb183211451f51b996107c5dc16aa57b', 'message': '[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/137e4a1956ea9035d451a4591ad5f879a7710a1b', 'message': '[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ce89e082bbfb1728c3a5a8dedc5bced4964d8806', 'message': '[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations to be consistent with the default used in the\nplaybook.\n\nMoreover, this validation will warn the user when Untracked SELinux AVCs\nare found instead of using the debug module and the strict mode\ninformation is now displayed at the end.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/517f1e6a72fadc1f66c0608a06df242593001c73', 'message': '[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations to be consistent with the default used in the\nplaybook.\n\nMoreover, this validation will warn the user when Untracked SELinux AVCs\nare found instead of using the debug module and the strict mode\ninformation is now displayed at the end.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6dc435ef97bd41a5820834195866f515fd1bb73d', 'message': '[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations to be consistent with the default used in the\nplaybook.\n\nMoreover, this validation will warn the user when Untracked SELinux AVCs\nare found instead of using the debug module and the strict mode\ninformation is now displayed at the end.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/roles/validate_selinux/handlers/main.yml', 'doc/source/roles/role-validate_selinux.rst', 'validations_common/roles/validate_selinux/defaults/main.yml', 'validations_common/playbooks/validate-selinux.yaml', 'validations_common/roles/validate_selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/28c7af3ea16dc12070f7e68bc0ea4f9d2deab621', 'message': ""[validate_selinux] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch changes the default value for the\nvalidate_selinux_working_dir variable to /tmp instead of\n/var/log/validations to be consistent with the default used in the\nplaybook.\n\nMoreover, this validation will warn the user when Untracked SELinux AVCs\nare found instead of using the debug module and the strict mode\ninformation is now displayed at the end.\n\nNB: this patch also explicitly disables the facts gathering because this\nvalidation doesn't need them.\n\nChange-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",3,797863,28c7af3ea16dc12070f7e68bc0ea4f9d2deab621,24,6,6,11491,,,0,"[validate_selinux] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch changes the default value for the
validate_selinux_working_dir variable to /tmp instead of
/var/log/validations to be consistent with the default used in the
playbook.

Moreover, this validation will warn the user when Untracked SELinux AVCs
are found instead of using the debug module and the strict mode
information is now displayed at the end.

NB: this patch also explicitly disables the facts gathering because this
validation doesn't need them.

Change-Id: Id337cbd89ab9368ee7e02d9c710861b134929ec7
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/797863/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-validate_selinux.rst', 'validations_common/roles/validate_selinux/defaults/main.yml']",2,738a09a3fb183211451f51b996107c5dc16aa57b,VALIDATION_DEVELOPMENT_WORKFLOW," # Working directory to generate output log(s) validate_selinux_working_dir: /tmp # Absolute path to the auditd log file # Absolute path to the denials skip list file # Absolute path to the file which will contain the filtered denials # If set to true, the validation will fail if untracked denials are found, # otherwise not. # SELinux filter. Defaults to None # Denials skip list",validate_selinux_working_dir: /var/log/validations,67,1
openstack%2Fvalidations-common~master~I9ebed531fba6966a4122f0c55eac784cbb6954cc,openstack/validations-common,master,I9ebed531fba6966a4122f0c55eac784cbb6954cc,[service_status] Add role documentation in sphinx,MERGED,2021-06-24 09:59:20.000000000,2021-07-05 17:31:53.000000000,2021-07-05 17:31:53.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/712513263c460408a03880acae5b964cf2bb312a', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/46c15b10f36233add4608fcdd833d3d1e0c8075f', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dbf639dd73cf721213c93c8cc0a01a69b10623d7', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a31dd416b9e4c9ebb99634b9828eed244884c832', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cfdace9a4b9982c597aa2e04adf02be5847e8c63', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/roles/service_status/defaults/main.yaml', 'validations_common/playbooks/service-status.yaml', 'doc/source/roles/role-service_status.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4a14df80afd3e10241b14b52c203a7a36aaed08f', 'message': '[service_status] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the facts gathering because this validation is\nonly using the package_facts.\n\nChange-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,797862,4a14df80afd3e10241b14b52c203a7a36aaed08f,18,6,6,11491,,,0,"[service_status] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the facts gathering because this validation is
only using the package_facts.

Change-Id: I9ebed531fba6966a4122f0c55eac784cbb6954cc
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/62/797862/6 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/roles/service_status/defaults/main.yaml', 'doc/source/roles/role-service_status.rst']",2,712513263c460408a03880acae5b964cf2bb312a,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- An Ansible role to detect services status on the target host(s). Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost roles: - { role: service_status } License ======= Apache Author Information ================== **Red Hat TripleO DFG:DF Squad:VF** ---------------- Full Description ---------------- ,,40,0
openstack%2Fvalidations-common~master~I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6,openstack/validations-common,master,I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6,[ntp] Add role documentation in sphinx,MERGED,2021-06-24 09:59:20.000000000,2021-07-05 17:31:50.000000000,2021-07-05 17:31:50.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 09:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2e7b9ab185b409271793a21c354f7d3be469b1d5', 'message': '[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/49454ce20ad8725c70d594dea45d743040e79ad7', 'message': '[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f83c9f17b9f3f6d198fa808b187a89f1fc00ef95', 'message': '[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c6dc1ca2eb7acb2680cf2a70fa9a9c3e3c343889', 'message': '[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 10:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5d10989872bbcd9a97458aaa1fa5649fb94144b0', 'message': '[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/playbooks/ntp.yaml', 'doc/source/roles/role-ntp.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/38c4e68150791447636cbd940e7ef3d69295ab5d', 'message': ""[ntp] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disable the facts gathering because this validation\ndoesn't need them and only uses service_facts in the ntp role.\n\nChange-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",1,797861,38c4e68150791447636cbd940e7ef3d69295ab5d,20,6,6,11491,,,0,"[ntp] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disable the facts gathering because this validation
doesn't need them and only uses service_facts in the ntp role.

Change-Id: I3a19eb0a93f6dfaaf7a4361b46b2dc904aeb7ae6
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/61/797861/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-ntp.rst'],1,2e7b9ab185b409271793a21c354f7d3be469b1d5,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- An Ansible role to check if the host(s) have their clock synchronized. Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost roles: - { role: ntp } License ======= Apache Author Information ================== **Red Hat TripleO DFG:DF Squad:VF** ---------------- Full Description ---------------- ,,39,0
openstack%2Ftripleo-validations~master~I516473463dc073caf4d4c740dc57f642e042f197,openstack/tripleo-validations,master,I516473463dc073caf4d4c740dc57f642e042f197,[overcloud_service_status] Remove README.md file,MERGED,2021-06-09 12:57:30.000000000,2021-07-05 17:31:18.000000000,2021-07-05 17:31:18.000000000,"[{'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-09 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cbe85b726547c0785da1db9d0f2c6a2c2a9a9556', 'message': '[overcloud_service_status] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I516473463dc073caf4d4c740dc57f642e042f197\n'}, {'number': 2, 'created': '2021-06-10 11:39:01.000000000', 'files': ['doc/source/roles/role-overcloud_service_status.rst', 'roles/overcloud_service_status/README.md', 'roles/overcloud_service_status/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9581a9471202b33c7d8f23d1bd7402ac04814529', 'message': '[overcloud_service_status] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I516473463dc073caf4d4c740dc57f642e042f197\n'}]",0,795536,9581a9471202b33c7d8f23d1bd7402ac04814529,21,8,2,11491,,,0,"[overcloud_service_status] Remove README.md file

This patch removes the README.md file and adds the documentation
directly in the sphinx role documentation index. All variables have been
commented with a proper description to be included automatically in the
sphinx build.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I516473463dc073caf4d4c740dc57f642e042f197
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/795536/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-overcloud_service_status.rst', 'roles/overcloud_service_status/README.md', 'roles/overcloud_service_status/defaults/main.yml']",3,cbe85b726547c0785da1db9d0f2c6a2c2a9a9556,VALIDATION_DEVELOPMENT_WORKFLOW," # Debugging mode, whether or no to log the token request # Overcloud API to validate against # A list of services that shouldn't be registered any more # These variables are normally set as host variables for the undercloud when generating # the inventory with tripleo-ansible-inventory: # - overcloud_keystone_url # - overcloud_admin_password",,52,47
openstack%2Fvalidations-common~master~I99a506d17a2e76c9513745db877e5ce0ba3aae6a,openstack/validations-common,master,I99a506d17a2e76c9513745db877e5ce0ba3aae6a,[no_op] Add role documentation in sphinx,MERGED,2021-06-24 05:06:53.000000000,2021-07-05 17:30:53.000000000,2021-07-05 17:30:53.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d7b193889fc36b6248ebda9c1d040f90c86fa51b', 'message': '[no_op] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d558629cd469a1ad5576c11e9d20ae98693d71be', 'message': '[no_op] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a99f9de31fd0ab8b6255cb784e91b2e647215241', 'message': '[no_op] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4a5b3066631c6bd234e35c764e24b7ee7fcf5c80', 'message': '[no_op] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-29 09:44:49.000000000', 'files': ['validations_common/playbooks/no-op.yaml', 'doc/source/roles/role-no_op.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e5be8fb969461cc02fadc1ea0e6aad02b679bac4', 'message': ""[no_op] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the facts gathering because this validation\ndoesn't need them.\n\nChange-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,797802,e5be8fb969461cc02fadc1ea0e6aad02b679bac4,17,6,5,11491,,,0,"[no_op] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the facts gathering because this validation
doesn't need them.

Change-Id: I99a506d17a2e76c9513745db877e5ce0ba3aae6a
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/02/797802/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-no_op.rst'],1,d7b193889fc36b6248ebda9c1d040f90c86fa51b,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- A no-op Ansible role for testing that the validations framework runs. Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost roles: - { role: no_op } License ======= Apache Author Information ================== **Red Hat TripleO DFG:DF Squad:VF** ---------------- Full Description ---------------- ,,39,0
openstack%2Fvalidations-common~master~Ica37eb5a2b1edf883d701f523a12eb47264fed7c,openstack/validations-common,master,Ica37eb5a2b1edf883d701f523a12eb47264fed7c,[dns] Add role documentation in sphinx,MERGED,2021-06-24 05:06:53.000000000,2021-07-05 17:30:38.000000000,2021-07-05 17:30:38.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6fcdec8c537c263525a60f83b46001ad5667df28', 'message': '[dns] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/95ea9e9f6a6ed6f0cdb992d33edb25dd050dd285', 'message': '[dns] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2a488f030cd75321e87304cce43050075ae396ee', 'message': '[dns] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c054b7906015f74ade269c622ed774004477fc4e', 'message': '[dns] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-29 09:44:49.000000000', 'files': ['doc/source/roles/role-dns.rst', 'validations_common/roles/dns/defaults/main.yml', 'validations_common/playbooks/dns.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b75dc0a062c8d716e6883c80ae642ff23f1cbcee', 'message': ""[dns] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also disables the fact gathering as this validation doesn't\nneed them at all.\n\nChange-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,797801,b75dc0a062c8d716e6883c80ae642ff23f1cbcee,19,6,5,11491,,,0,"[dns] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also disables the fact gathering as this validation doesn't
need them at all.

Change-Id: Ica37eb5a2b1edf883d701f523a12eb47264fed7c
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/01/797801/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-dns.rst', 'validations_common/roles/dns/defaults/main.yml']",2,6fcdec8c537c263525a60f83b46001ad5667df28,VALIDATION_DEVELOPMENT_WORKFLOW,# DNS Server to lookup,,40,0
openstack%2Fvalidations-common~master~Ifbe7bd73559b05f6655bfd396029c22345b75f4c,openstack/validations-common,master,Ifbe7bd73559b05f6655bfd396029c22345b75f4c,[check_selinux_mode] Add role documentation in sphinx,MERGED,2021-06-23 14:50:29.000000000,2021-07-05 17:30:34.000000000,2021-07-05 17:30:34.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-23 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7433492bbf5107f53e2f895babb0dc6bdd66bebb', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/56d05e68973c1e19e97cfaa808bd9bf75bfdcb72', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/361db3b0bd44e2b8289ac668d320eac0ad7ef77f', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/37c8577161d36f81dc748bbb3aaca89948390e1a', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/04e7c6013b1b99a1c94fede0093bba157d4dae98', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['doc/source/roles/role-check_selinux_mode.rst', 'validations_common/roles/check_selinux_mode/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a76b981cf62bb664652e26a47ecabb63e6d7a5c5', 'message': '[check_selinux_mode] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nThis patch also fixes the facts gathering by being sure we get only the\nneeded facts.\n\nChange-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,797667,a76b981cf62bb664652e26a47ecabb63e6d7a5c5,20,6,6,11491,,,0,"[check_selinux_mode] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

This patch also fixes the facts gathering by being sure we get only the
needed facts.

Change-Id: Ifbe7bd73559b05f6655bfd396029c22345b75f4c
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/67/797667/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-check_selinux_mode.rst'],1,7433492bbf5107f53e2f895babb0dc6bdd66bebb,VALIDATION_DEVELOPMENT_WORKFLOW,-------------- About The Role -------------- An Ansible role to check SELinux status on the host(s). Requirements ============ No requirements. Dependencies ============ No dependencies. Example Playbook ================ .. code-block:: yaml - hosts: localhost gather_facts: false roles: - { role: check_selinux_mode } License ======= Apache Author Information ================== **Red Hat TripleO DFG:Security** ---------------- Full Description ---------------- ,,40,0
openstack%2Fvalidations-common~master~I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3,openstack/validations-common,master,I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3,[check_ram] Remove README.md file,MERGED,2021-06-23 14:50:29.000000000,2021-07-05 17:30:12.000000000,2021-07-05 17:30:12.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-23 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e8668988df8789ac984b5a2866c3e7dfbe93b67', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/385f15c8c42d3ff6b221919924491ca1245be46d', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-24 19:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7dea6b6d86dd14a8a9babedd672423970f4aa53c', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0168dbd8bc386c75bf4c5e1692f3874624d86a75', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ac6afd0d14ec1e190066bcb1942a6fec1d03edea', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['doc/source/roles/role-check_ram.rst', 'validations_common/roles/check_ram/README.md', 'validations_common/roles/check_ram/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4e87d74227325b436bdc79efb61e006f9e99cb60', 'message': '[check_ram] Remove README.md file\n\nThis patch removes the README.md file and adds the documentation\ndirectly in the sphinx role documentation index. All variables have been\ncommented with a proper description to be included automatically in the\nsphinx build.\n\nChange-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,797666,4e87d74227325b436bdc79efb61e006f9e99cb60,20,6,6,11491,,,0,"[check_ram] Remove README.md file

This patch removes the README.md file and adds the documentation
directly in the sphinx role documentation index. All variables have been
commented with a proper description to be included automatically in the
sphinx build.

Change-Id: I36c9a86eabb9a297f75c9a4ca2bde8aaa0a1fcd3
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/66/797666/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_ram.rst', 'validations_common/roles/check_ram/defaults/main.yml']",2,0e8668988df8789ac984b5a2866c3e7dfbe93b67,VALIDATION_DEVELOPMENT_WORKFLOW,# Minimal amount of RAM (in GB),,41,0
openstack%2Fvalidations-common~master~Ia24af3f62fcb4de2bbe2004117afe3a6ede40762,openstack/validations-common,master,Ia24af3f62fcb4de2bbe2004117afe3a6ede40762,[check_latest_packages_version] Add role documentation in sphinx,MERGED,2021-06-23 12:37:23.000000000,2021-07-05 17:30:00.000000000,2021-07-05 17:30:00.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-23 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d71908a3e8e22cbd6dcc4420fe89f7572793f6d4', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-06-23 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bdc209a466d3ea437dc200b201f33e11137c6fde', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2021-06-24 05:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/56a596dac8cf54451b7791cd4785d71efa145e29', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2021-06-25 08:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/315bcba43198f39855f51c303bc87e46410051a8', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2021-06-28 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5977c661beb54a063405c1da7cb7899d92aa548c', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2021-06-29 09:44:49.000000000', 'files': ['doc/source/roles/role-check_latest_packages_version.rst', 'validations_common/roles/check_latest_packages_version/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0607efaade910c3a379505eac731b2b0c0d1e637', 'message': '[check_latest_packages_version] Add role documentation in sphinx\n\nThis patch adds the documentation directly in the sphinx role\ndocumentation index. All variables have been commented with a proper\ndescription to be included automatically in the sphinx build.\n\nChange-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,797635,0607efaade910c3a379505eac731b2b0c0d1e637,19,6,6,11491,,,0,"[check_latest_packages_version] Add role documentation in sphinx

This patch adds the documentation directly in the sphinx role
documentation index. All variables have been commented with a proper
description to be included automatically in the sphinx build.

Change-Id: Ia24af3f62fcb4de2bbe2004117afe3a6ede40762
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/35/797635/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_latest_packages_version.rst', 'validations_common/roles/check_latest_packages_version/defaults/main.yml']",2,d71908a3e8e22cbd6dcc4420fe89f7572793f6d4,VALIDATION_DEVELOPMENT_WORKFLOW,# List of packages to check. # Empty list by default,,46,0
openstack%2Ftripleo-upgrade~master~I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,openstack/tripleo-upgrade,master,I0b4baaeb2d807e51ba182ba3442176d8d85a4b95,Refactor workload script,MERGED,2020-04-15 09:59:07.000000000,2021-07-05 17:29:53.000000000,2021-07-05 17:29:53.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-04-15 09:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3027717a392d0111ecbd6a6a116e950f3e5af319', 'message': 'Wait for compute services before sanity check.\n\nAfter upgrading the Overcloud nodes, a sanity check is executed\nin which an instance is launched and then removed. However, as it\nruns right after the upgrade it can happen that some compute services\nare still bringing up when the sanity test is run. An active loop is\nbeing added to wait for all compute services to be up before jumping\ninto the sanity check.\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 2, 'created': '2020-04-15 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/62f2798ff69adee3a36a5349a8f1aa23ec6f0f85', 'message': 'Wait for compute services before sanity check.\n\nAfter upgrading the Overcloud nodes, a sanity check is executed\nin which an instance is launched and then removed. However, as it\nruns right after the upgrade it can happen that some compute services\nare still bringing up when the sanity test is run. An active loop is\nbeing added to wait for all compute services to be up before jumping\ninto the sanity check.\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 3, 'created': '2020-04-15 17:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0f68fd133c3aeb503ac3dba6845db5865a0c91f6', 'message': 'Wait for compute services before sanity check.\n\nAfter upgrading the Overcloud nodes, a sanity check is executed\nin which an instance is launched and then removed. However, as it\nruns right after the upgrade it can happen that some compute services\nare still bringing up when the sanity test is run. An active loop is\nbeing added to wait for all compute services to be up before jumping\ninto the sanity check.\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 4, 'created': '2020-04-15 21:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e940ff7800ff75103b080ad0403d012f6d9a0149', 'message': 'Wait for compute services before sanity check.\n\nAfter upgrading the Overcloud nodes, a sanity check is executed\nin which an instance is launched and then removed. However, as it\nruns right after the upgrade it can happen that some compute services\nare still bringing up when the sanity test is run. An active loop is\nbeing added to wait for all compute services to be up before jumping\ninto the sanity check.\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 5, 'created': '2020-05-06 09:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ce62411a3a5101d3b414d32cb15fd888aa427a4e', 'message': 'Wait for compute services before sanity check.\n\nAfter upgrading the Overcloud nodes, a sanity check is executed\nin which an instance is launched and then removed. However, as it\nruns right after the upgrade it can happen that some compute services\nare still bringing up when the sanity test is run. An active loop is\nbeing added to wait for all compute services to be up before jumping\ninto the sanity check.\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 6, 'created': '2021-07-02 12:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b191ffffc128ea27328239a5e480df1cc8f3d163', 'message': 'Refactor workload script\n\n* Add sanity_check function to verify cluster before starting any\n  workloads.\n* Rename flavor to include the actual memory limit\n* Add flavor removal on sanity_teardown\n* Add - to jinja templates to exclude unneeded extra new lines\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}, {'number': 7, 'created': '2021-07-05 09:56:32.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b', 'message': 'Refactor workload script\n\n* Add sanity_check function to verify cluster before starting any\n  workloads.\n* Rename flavor to include the actual memory limit\n* Add flavor removal on sanity_teardown\n* Add - to jinja templates to exclude unneeded extra new lines\n\nChange-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95\n'}]",11,720169,2a3cbb7c803238bc8a9c1f18f79c7d2ea1438f7b,30,5,7,26343,,,0,"Refactor workload script

* Add sanity_check function to verify cluster before starting any
  workloads.
* Rename flavor to include the actual memory limit
* Add flavor removal on sanity_teardown
* Add - to jinja templates to exclude unneeded extra new lines

Change-Id: I0b4baaeb2d807e51ba182ba3442176d8d85a4b95
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/720169/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_run.sh.j2'],1,3027717a392d0111ecbd6a6a116e950f3e5af319,improve_workload_test,"timeout_seconds=100 elapsed_seconds=0 while true; do echo ""[($date) Waiting for compute services to be up"" source {{ overcloud_rc }} openstack compute service list -c State -f value | grep -q down if [[ ${?} -ne 0 ]]; then echo ""All compute services are up and running"" break fi sleep 2 elapsed_seconds=$(expr $elapsed_seconds + 2) if [ $elapsed_seconds -ge $timeout_seconds]; then echo ""FAILURE: Some compute services are down"" openstack compute service list exit 1 fi done timeout_seconds=100 elapsed_seconds=0 while true; do echo ""[($date) Waiting for compute services to be up"" source {{ overcloud_rc }} openstack compute service list -c State -f value | grep -q down if [[ ${?} -ne 0 ]]; then echo ""All compute services are up and running"" break fi sleep 2 elapsed_seconds=$(expr $elapsed_seconds + 2) if [ $elapsed_seconds -ge $timeout_seconds]; then echo ""FAILURE: Some compute services are down"" openstack compute service list exit 1 fi done ",,42,0
openstack%2Fcinder~master~Ibc62dd8a7291ab72c13801eba181db5b673885d1,openstack/cinder,master,Ibc62dd8a7291ab72c13801eba181db5b673885d1,rbd: Mark the initialize_connection API as idempotent in connection_info,ABANDONED,2020-04-24 10:42:08.000000000,2021-07-05 17:20:02.000000000,,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-04-24 10:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05a89fa8bbbace4d05e4b3e26023d09b62fdaa88', 'message': 'rbd: Mark the initialize_connection API as idempotent in connection_info\n\nAs with I2dd06c43c39ddb576fea9e5cbccffc096e77073a for the NFS driver\nthis change adds a simple initialize_idempotent flag to the\nconnection_info returned by calls to the initialize_connection API for\nthe RBD volume driver.\n\nChange-Id: Ibc62dd8a7291ab72c13801eba181db5b673885d1\n'}, {'number': 2, 'created': '2021-02-19 12:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9aaaa6305844fc7fd42e0f49cbe4b1bf6afc7724', 'message': 'rbd: Mark the initialize_connection API as idempotent in connection_info\n\nAs with I2dd06c43c39ddb576fea9e5cbccffc096e77073a for the NFS driver\nthis change adds a simple initialize_idempotent flag to the\nconnection_info returned by calls to the initialize_connection API for\nthe RBD volume driver.\n\nChange-Id: Ibc62dd8a7291ab72c13801eba181db5b673885d1\n'}, {'number': 3, 'created': '2021-02-19 17:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9111a42fd34dfc4b5a0b9767b815a2abdac5794a', 'message': 'rbd: Mark the initialize_connection API as idempotent in connection_info\n\nAs with I2dd06c43c39ddb576fea9e5cbccffc096e77073a for the NFS driver\nthis change adds a simple initialize_idempotent flag to the\nconnection_info returned by calls to the initialize_connection API for\nthe RBD volume driver.\n\nChange-Id: Ibc62dd8a7291ab72c13801eba181db5b673885d1\n'}, {'number': 4, 'created': '2021-03-19 11:24:36.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab6623c359b3af305682dc5068ef0db27a57a685', 'message': 'rbd: Mark the initialize_connection API as idempotent in connection_info\n\nAs with I2dd06c43c39ddb576fea9e5cbccffc096e77073a for the NFS driver\nthis change adds a simple initialize_idempotent flag to the\nconnection_info returned by calls to the initialize_connection API for\nthe RBD volume driver.\n\nA NOTE and FIXME are left detailing a wrinkle when using the cinderv3\nattachment update API that results in this key ending up in the nested\ndata dict that means this key has been added directly to this dict while\nstrictly not belonging there.\n\nChange-Id: Ibc62dd8a7291ab72c13801eba181db5b673885d1\n'}]",0,722659,ab6623c359b3af305682dc5068ef0db27a57a685,117,22,4,10135,,,0,"rbd: Mark the initialize_connection API as idempotent in connection_info

As with I2dd06c43c39ddb576fea9e5cbccffc096e77073a for the NFS driver
this change adds a simple initialize_idempotent flag to the
connection_info returned by calls to the initialize_connection API for
the RBD volume driver.

A NOTE and FIXME are left detailing a wrinkle when using the cinderv3
attachment update API that results in this key ending up in the nested
data dict that means this key has been added directly to this dict while
strictly not belonging there.

Change-Id: Ibc62dd8a7291ab72c13801eba181db5b673885d1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/722659/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,05a89fa8bbbace4d05e4b3e26023d09b62fdaa88,," 'initialize_idempotent': True,",,1,0
openstack%2Fnova~master~Ibbd17dce9763511361cc4236661f834864e13d53,openstack/nova,master,Ibbd17dce9763511361cc4236661f834864e13d53,WIP/DNM - block_device: Use initialize APIs to refresh when reported as idempotent,ABANDONED,2020-04-17 16:07:48.000000000,2021-07-05 17:19:50.000000000,,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27615}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-17 16:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25547002f9f5d824ee534f0466068c711eac3fe1', 'message': 'WIP block_device: Use the attachment update API to refresh connection_info\n\nattachment_get translates into a no-op volume show in c-api and does no\nrefresh the connection_info related to the volume....\n\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=update-an-attachment-detail#update-an-attachment\n\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\nCloses-bug: #1860913\n'}, {'number': 2, 'created': '2020-04-18 14:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/368f53ac770f02479030fba8a14d2cd6c7202412', 'message': 'block_device: Use the attachment update API to refresh connection_info\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 3, 'created': '2020-04-22 17:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fddf58f363b3adf96999422ce6077621455e0cf', 'message': 'WIP block_device: Rework refresh_connection_info\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014348.html\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 4, 'created': '2020-05-06 14:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b93233e2c2dc49fd01e6a686cdefbcdb71fe9cf7', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 5, 'created': '2020-07-29 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3154bb82b772ab2041e5b5b4db0dcc8eaf855fd', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 6, 'created': '2020-12-07 22:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a15d9357f6570425b27203a09cf6062ff16155a9', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 7, 'created': '2021-02-19 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe4be6de4e5875f37811e075a5106bc99850d670', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 8, 'created': '2021-02-19 17:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a084e6344978f3b718884ed1c8df4ee00e22bbd', 'message': ""block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nNote that the behaviour of calling the cinderv2 initialize_connection\nAPI for volumes that don't reference an attachment remains unchanged.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n""}, {'number': 9, 'created': '2021-02-19 17:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eeebe68497af8805f4ffb9a44c0f63b0eb84c192', 'message': ""block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use these calls to refresh the\nconnection_info of a bdm in Nova.\n\nThis resolves bug #1860913 as the stored connection_info for the NFS\nvolume is now correctly refreshed after a snapshot is taken when a\ncinderv3 attachment is used by calling the attachment_update cinder API.\n\nNote that the behaviour of calling the cinderv2 initialize_connection\nAPI for volumes that don't reference an attachment remains unchanged.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n""}, {'number': 10, 'created': '2021-03-12 11:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/824dfbefc6e949e62a4f959e476c83e12a41418a', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 11, 'created': '2021-03-17 18:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1ce780cd6b6bab9e33b67a7e274dba939ea1a95', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 12, 'created': '2021-03-18 14:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf50a682993d9fc16d6b5611872a975c78dd0563', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 13, 'created': '2021-04-30 08:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce55f6676f7672e9acdb6f91003db62031ebd58f', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 14, 'created': '2021-04-30 08:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59fb96a55df0ced33a1922a6de3d5ec3700ee0d2', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 15, 'created': '2021-05-10 12:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c54486145a3622a3ad83ef77dc3a36df6db462a', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 16, 'created': '2021-07-02 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d472936443056ef7d7f137c7bff7440a795e94c1', 'message': 'block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}, {'number': 17, 'created': '2021-07-05 16:18:07.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/compute/manager.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58137de03e785f69ff243527c4c85fdd9a206e77', 'message': 'WIP/DNM - block_device: Use initialize APIs to refresh when reported as idempotent\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection or attachment_update Cinder APIs are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change begins to use the initialize_idempotent key returned in the\nconnection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)\nand Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to\nidentify when it is actually safe to use attachment_update with cinderv3\nbased attachments to refresh the connection_info of a bdm in Nova.\n\nNo changes are made for legacy cinderv2 attachments as these have always\ncalled initialize_connection and changing this now could easily cause\nregressions for various volume backends.\n\nThis resolves bug #1860913 for cinderv3 attachments as the stored\nconnection_info for the NFS volume is now correctly refreshed after a\nsnapshot is taken when a cinderv3 attachment is used by calling the\nattachment_update cinder API.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722659\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/722081\n\nCloses-bug: #1860913\nChange-Id: Ibbd17dce9763511361cc4236661f834864e13d53\n'}]",32,720769,58137de03e785f69ff243527c4c85fdd9a206e77,158,16,17,10135,,,0,"WIP/DNM - block_device: Use initialize APIs to refresh when reported as idempotent

There are unfortunately no guarantees that calls to the
initialize_connection or attachment_update Cinder APIs are idempotent.
As a result callers have no idea if it is ever safe to make repeat calls
to the API when attempting to refresh connection_info.

This change begins to use the initialize_idempotent key returned in the
connection_info of the NFS (I2dd06c43c39ddb576fea9e5cbccffc096e77073a)
and Ceph (Ibc62dd8a7291ab72c13801eba181db5b673885d1) volume drivers to
identify when it is actually safe to use attachment_update with cinderv3
based attachments to refresh the connection_info of a bdm in Nova.

No changes are made for legacy cinderv2 attachments as these have always
called initialize_connection and changing this now could easily cause
regressions for various volume backends.

This resolves bug #1860913 for cinderv3 attachments as the stored
connection_info for the NFS volume is now correctly refreshed after a
snapshot is taken when a cinderv3 attachment is used by calling the
attachment_update cinder API.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/722659
Depends-On: https://review.opendev.org/c/openstack/cinder/+/722081

Closes-bug: #1860913
Change-Id: Ibbd17dce9763511361cc4236661f834864e13d53
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/720769/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,25547002f9f5d824ee534f0466068c711eac3fe1,bug/1860913," connector = virt_driver.get_volume_connector(instance) if not self['attachment_id']: connection_info = volume_api.initialize_connection( context, self.volume_id, connector) else: multiattach = self['connection_info'].get('multiattach', False) connection_info = volume_api.attachment_update( context, self['attachment_id'], connector, self['mount_device'])['connection_info']"," if not self['attachment_id']: connector = virt_driver.get_volume_connector(instance) connection_info = volume_api.initialize_connection(context, self.volume_id, connector) else: attachment_ref = volume_api.attachment_get(context, self['attachment_id']) multiattach = self['connection_info'].get('multiattach', False) connection_info = attachment_ref['connection_info']",7,8
openstack%2Fcinder~master~I2dd06c43c39ddb576fea9e5cbccffc096e77073a,openstack/cinder,master,I2dd06c43c39ddb576fea9e5cbccffc096e77073a,nfs: Mark the initialize_connection API as idempotent in connection_info,ABANDONED,2020-04-22 17:02:38.000000000,2021-07-05 17:19:46.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-04-22 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a58caf8607ea88d1b09ab28d211a968c0d09b0fe', 'message': 'DNM/WIP nfs: Mark the initialize_connection API as idempotent in the connection_info\n\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\nRelated-bug: #1860913\n'}, {'number': 2, 'created': '2020-04-24 10:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/343f11172786fa20cf9cb0a5c91eb02a1ec0ff5f', 'message': 'nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info returned by the NFS volume driver to indicate that\nrepeat calls to the initialize_connection for this driver are indeed\nsafe. This should then allow callers such as n-cpu to correctly call the\ncorrect API to fetch (attachment show) or refresh (attachment update)\nconnection_info.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n'}, {'number': 3, 'created': '2020-05-06 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd75485513a5b33497c4dd44aa47a5d81c32978c', 'message': 'nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info returned by the NFS volume driver to indicate that\nrepeat calls to the initialize_connection for this driver are indeed\nsafe. This should then allow callers such as n-cpu to correctly call the\ncorrect API to fetch (attachment show) or refresh (attachment update)\nconnection_info.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n'}, {'number': 4, 'created': '2020-07-29 10:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4546a332be2e796ef5c40e26a1c8bed46f7cc9f', 'message': 'nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info returned by the NFS volume driver to indicate that\nrepeat calls to the initialize_connection for this driver are indeed\nsafe. This should then allow callers such as n-cpu to correctly call the\ncorrect API to fetch (attachment show) or refresh (attachment update)\nconnection_info.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n'}, {'number': 5, 'created': '2020-12-07 22:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b728e92e7a84eedfea6c949740ec9b113fc407b8', 'message': 'nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info returned by the NFS volume driver to indicate that\nrepeat calls to the initialize_connection for this driver are indeed\nsafe. This should then allow callers such as n-cpu to correctly call the\ncorrect API to fetch (attachment show) or refresh (attachment update)\nconnection_info.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n'}, {'number': 6, 'created': '2021-02-19 12:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f612dff47789f66a8f3dab400ee97ceb112e2ac8', 'message': 'nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info returned by the NFS volume driver to indicate that\nrepeat calls to the initialize_connection for this driver are indeed\nsafe. This should then allow callers such as n-cpu to correctly call the\ncorrect API to fetch (attachment show) or refresh (attachment update)\nconnection_info.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n'}, {'number': 7, 'created': '2021-03-18 17:14:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d3e5aae651d2bc5277ece42b8622ae82927380e', 'message': ""nfs: Mark the initialize_connection API as idempotent in connection_info\n\nThere are unfortunately no guarantees that calls to the\ninitialize_connection API provided by each volume driver are idempotent.\nAs a result callers have no idea if it is ever safe to make repeat calls\nto the API when attempting to refresh connection_info.\n\nThis change adds a simple initialize_idempotent key to the\nconnection_info['data'] dict returned by the NFS volume driver to\nindicate that repeat calls to the initialize_connection for this driver\nare indeed safe. This should then allow callers such as n-cpu to\ncorrectly call the correct API to fetch (attachment show) or refresh\n(attachment update) connection_info.\n\nA NOTE and FIXME are left detailing a wrinkle when using the cinderv3\nattachment update API that results in this key and mount_point_base\nending up in the nested data dict that means this key has been added\ndirectly to this dict while strictly not belonging there.\n\nRelated-bug: #1860913\nChange-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a\n""}]",0,722081,9d3e5aae651d2bc5277ece42b8622ae82927380e,194,37,7,10135,,,0,"nfs: Mark the initialize_connection API as idempotent in connection_info

There are unfortunately no guarantees that calls to the
initialize_connection API provided by each volume driver are idempotent.
As a result callers have no idea if it is ever safe to make repeat calls
to the API when attempting to refresh connection_info.

This change adds a simple initialize_idempotent key to the
connection_info['data'] dict returned by the NFS volume driver to
indicate that repeat calls to the initialize_connection for this driver
are indeed safe. This should then allow callers such as n-cpu to
correctly call the correct API to fetch (attachment show) or refresh
(attachment update) connection_info.

A NOTE and FIXME are left detailing a wrinkle when using the cinderv3
attachment update API that results in this key and mount_point_base
ending up in the nested data dict that means this key has been added
directly to this dict while strictly not belonging there.

Related-bug: #1860913
Change-Id: I2dd06c43c39ddb576fea9e5cbccffc096e77073a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/722081/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,a58caf8607ea88d1b09ab28d211a968c0d09b0fe,bug/1860913," 'mount_point_base': self._get_mount_point_base(), 'idempotent': True,", 'mount_point_base': self._get_mount_point_base(),2,1
openstack%2Fdiskimage-builder~master~I83cc5acc7c8cb99c45f8eec1ed84ded75b765693,openstack/diskimage-builder,master,I83cc5acc7c8cb99c45f8eec1ed84ded75b765693,pip-and-virtualenv: do not unconditionally enable EPEL for CentOS,ABANDONED,2020-06-29 12:49:44.000000000,2021-07-05 17:00:02.000000000,,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-29 12:49:44.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/56e96634cdef28117ee4787bcd84cd8b6c780305', 'message': 'pip-and-virtualenv: do not unconditionally enable EPEL for CentOS\n\nCentOS 8 does not need it, but the current logic diverges for RHEL\nand CentOS, treating all versions of CentOS the same.\n\nChange-Id: I83cc5acc7c8cb99c45f8eec1ed84ded75b765693\n'}]",2,738433,56e96634cdef28117ee4787bcd84cd8b6c780305,18,10,1,10239,,,0,"pip-and-virtualenv: do not unconditionally enable EPEL for CentOS

CentOS 8 does not need it, but the current logic diverges for RHEL
and CentOS, treating all versions of CentOS the same.

Change-Id: I83cc5acc7c8cb99c45f8eec1ed84ded75b765693
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/33/738433/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,56e96634cdef28117ee4787bcd84cd8b6c780305,pip-and-virtualenv, centos7|rhel7) rhel|centos), centos*|rhel7) rhel),2,2
openstack%2Fcharm-keystone-saml-mellon~master~I3d8fbdd8f464ae5d5f24f0b8786218fa13f7b893,openstack/charm-keystone-saml-mellon,master,I3d8fbdd8f464ae5d5f24f0b8786218fa13f7b893,Fix the build,MERGED,2021-06-28 12:42:30.000000000,2021-07-05 16:55:43.000000000,2021-07-05 16:55:43.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 12:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/22b4e778123e8db436b5e64ac6511dd72347aff4', 'message': 'Pin cryptography in order to fix the build\n\nPin cryptography both in the wheelhouse and the\nrelease-tools boilerplate. The latter comes from\nhttps://github.com/openstack-charmers/release-tools/pull/148\n\nChange-Id: I3d8fbdd8f464ae5d5f24f0b8786218fa13f7b893\n'}, {'number': 2, 'created': '2021-07-02 13:29:31.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/834dabccf12987fad3d057562ada9b3cf477cece', 'message': ""Fix the build\n\nPin cryptography both in the wheelhouse and the\nrelease-tools boilerplate. The latter comes from\nhttps://github.com/openstack-charmers/release-tools/pull/148\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: I3d8fbdd8f464ae5d5f24f0b8786218fa13f7b893\n""}]",0,798292,834dabccf12987fad3d057562ada9b3cf477cece,12,3,2,31289,,,0,"Fix the build

Pin cryptography both in the wheelhouse and the
release-tools boilerplate. The latter comes from
https://github.com/openstack-charmers/release-tools/pull/148

Fix Zaza's expected application status after
https://github.com/openstack-charmers/zaza/pull/451

Change-Id: I3d8fbdd8f464ae5d5f24f0b8786218fa13f7b893
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/92/798292/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt']",2,22b4e778123e8db436b5e64ac6511dd72347aff4,pin-cryptography,"# NOTE(lourot): newer versions of cryptography require a Rust compiler to build, # see # * https://github.com/openstack-charmers/zaza/issues/421 # * https://mail.python.org/pipermail/cryptography-dev/2021-January/001003.html cryptography<3.4",cryptography,12,2
openstack%2Fnova-specs~master~Iaf4356a0de2801aa44f03fecc55b3420d08b1ed5,openstack/nova-specs,master,Iaf4356a0de2801aa44f03fecc55b3420d08b1ed5,"Re-propose ""CPU selection with hypervisor consideration""",MERGED,2021-07-01 15:31:37.000000000,2021-07-05 16:13:38.000000000,2021-07-05 16:11:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:31:37.000000000', 'files': ['specs/xena/approved/cpu-selection-with-hypervisor-consideration.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a7a05b4ca0bc3e37de1e64af10bea68546d0a69a', 'message': 'Re-propose ""CPU selection with hypervisor consideration""\n\nPrevious-approved: Train\n\nBlueprint: cpu-selection-with-hypervisor-consideration\n\nChange-Id: Iaf4356a0de2801aa44f03fecc55b3420d08b1ed5\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",1,799096,a7a05b4ca0bc3e37de1e64af10bea68546d0a69a,8,3,1,6962,,,0,"Re-propose ""CPU selection with hypervisor consideration""

Previous-approved: Train

Blueprint: cpu-selection-with-hypervisor-consideration

Change-Id: Iaf4356a0de2801aa44f03fecc55b3420d08b1ed5
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/96/799096/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/cpu-selection-with-hypervisor-consideration.rst'],1,a7a05b4ca0bc3e37de1e64af10bea68546d0a69a,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Guest CPU selection with hypervisor consideration ================================================= https://blueprints.launchpad.net/nova/+spec/cpu-selection-with-hypervisor-consideration Make Nova's guest CPU selection approach more effective and reliable by introducing two new QEMU- and libvirt-based CPU configuration APIs: ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()``. These new APIs are more ""hypervisor-literate"" compared to the existing libvirt APIs that Nova uses. As in, the new APIs take into account what the ""host hypervisor"" (meaning: KVM, QEMU, and what libvirt knows about the host) is capable of. Taking advantage of these newer APIs will allow Nova to make more well-informed decisions when determining CPU models that are compatible across different hosts. Problem description =================== The current guest CPU config libvirt APIs that Nova uses, ``compareCPU()`` and ``baselineCPU()``, are ""not very useful"" (quoting the cover letter [1]_ of the libvirt patch series that introduced the newer APIs), because they don't consider the capabilities of the ""host hypervisor"" (KVM, QEMU and details libvirt knows about the host). More concretely, with the existing APIs, ``compareCPU()`` and ``baselineCPU()``, there is no way to ask if a given CPU model plus CPU flags combination is supported by KVM and a specific QEMU binary on the host. For example, today operators have to be careful about how they configure the libvirt driver with regard to `cpu_model` and `cpu_model_extra_flags`, because the wrong combination (e.g. an invalid CPU flag that is not supported by the host hypervisor) can lead to an instance failing to spawn. I.e. operators have to manually validate the extra CPU flags they're supplying to Nova are actually supported by the given compute host. This spec will allow Nova [2]_ to do fine-grained validation of a given CPU model plus CPU flags against a specific QEMU binary (and KVM) to allow well-informed guest CPU configuration decisions. And taking advantage of the said two new libvirt APIs will also allow computing a more accurate baseline guest CPU that permits live migration across several compute nodes. And provides a clearer picture of what CPU features are required to get mitigations from Meltdown and Spectre. Use Cases --------- By taking advantage of the two CPU configuration APIs, ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()``, Nova will now be able to make meaningful decisions when determining guest CPU models and their features: - While determining guest CPU models, Nova can take into account several other aspects, e.g. the type of virtualization (pure emulation vs. hardware-accelerated), QEMU binary's capabilities, guest machine type, and CPU architcture to construct a better-informed guest CPU. - Nova will be able to do more fine-grained validation of CPU models and flags, i.e. answer questions like: ""Is the combination of Intel's ``IvyBridge`` CPU model plus the CPU flags ``pcid`` and ``ssbd`` supported by the host hypervisor?"" - Armed with the above two points, Nova will also be positioned to better report more accurate CPU traits. (I.e. improve the ``_get_cpu_traits()`` method.) - Operators can get a more accurate view on what guest CPU models and features their guests can realistically expect. Proposed change =============== Make Nova's CPU selection strategy more effective by taking advantage of the two new libvirt APIs: ``baselineHypervisorCPU()`` and ``compareHypervisorCPU()`` [3]_. These APIs provide more useful ways to determine compatible models among CPU variants, and elimiates bugs in the older CPU config libvirt APIs along the way. With this change, the libvirt driver will automatically validate if a certain combination of CPU model + flags can work on a given compute host — e.g. Nova will now be able to answer: ""Is this combination of 'IvyBridge' plus CPU flags 'pcid' & 'pdpe1gb' supported by KVM, QEMU and libvirt on the host?"". And, if the given combination of CPU model plus flags are invalid, the ``nova-compute`` service will refuse to start, with an actionable log message. This will let the operator set the CPU model plus flags, and let Nova handle the validation. A quick description of the two APIs: ``baselineHypervisorCPU()`` Purpose: This API computes the most feature-rich ""baseline"" CPU (which includes CPU model plus additional features) that is (a) compatible with all given host CPUs (as described in an XML document), so that one can live migrate across the said hosts; and (b) is supported by the host hypervisor. It is a more useful version of the older ``baselinCPU()``, which does not consider any hypervisor capabilities when computing the baseline CPU. A comparison of ``baselineCPU()`` and ``baselineHypervisorCPU()`` APIs, in terms of what parameters they take into account: .. code-block:: text +-----------+--------------------+-----------------------------+ | | baselineCPU() | baselineHypervisorCPU() | +-----------+--------------------+-----------------------------+ | | XML document | XML document describing | | | describing one | one or more host CPUs | | | or more host CPUs | | | +--------------------+-----------------------------+ | | | path to the QEMU binary | | | +-----------------------------+ |Parameters | | the type of virtualization | | | | (e.g. KVM, QEMU) | | | +-----------------------------+ | | | guest machine type | | | +-----------------------------+ | | | CPU architecture | +-----------+--------------------+-----------------------------+ ``compareHypervisorCPU()`` Purpose: This API compares a given CPU description with the CPU capabilities the host hypervisor is able to provide. It is a more useful version of the existing ``compareCPU()``, which compares the CPU definition with the host CPU without considering any specific hypervisor and its abilities. A comparison of ``compareCPU()`` and ``compareHypervisorCPU()`` APIs, in terms of what parameters they take into account: .. code-block:: text +-----------+--------------------+-----------------------------+ | | compareCPU() | compareHypervisorCPU() | +-----------+--------------------+-----------------------------+ | | XML describing the | XML describing the CPU | | | CPU to be compared | to be compared | | +--------------------+-----------------------------+ | | | path to the QEMU binary | | | +-----------------------------+ |Parameters | | the type of virtualization | | | | (e.g. KVM, QEMU) | | | +-----------------------------+ | | | guest machine type | | | +-----------------------------+ | | | CPU architecture | +-----------+--------------------+-----------------------------+ By making Nova use the above two APIs, it can now do more advanced validation of CPU model plus flags compatibility, which ensures an instance cannot be launched with CPU features that don't exist in the host CPU. Alternatives ------------ We could just ""stay put"" and keep chugging along with the existing older libvirt APIs, ``baselineCPU()`` and ``compareCPU()``. But that would be doing a disservice to our users, as we have more reliable APIs that provide a more well-informed guest CPU configuration. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- This implicitly improves security -- as in, with these new APIs, you should be able to get a better sense of what CPU features are required to get mitigations from Meltdown and Spectre. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- The following libvirt and QEMU versions: - For ``x86_64``: QEMU >= 2.9, libvirt >= 4.4.0 - For ``s390x``: QEMU >= 2.9, libvirt work is actively in progress upstream [4]_) Developer impact ---------------- None. Upgrade impact -------------- For ``x86_64``, users should have the minimum-required verisons of libvirt and QEMU to be 4.4.0 and 2.9, respectively. Implementation ============== Assignee(s) ----------- Primary assignee: <kashyapc>, <chengsheng> Work Items ---------- - Introduce a Nova wrapper method, baseline_hypervisor_cpu(), for libvirt's baselineHypervisorCPU() API. - Introduce a Nova wrapper method, compare_hypervisor_cpu(), for libvirt's compareHypervisorCPU() API. - Rework the _get_guest_cpu_model_config() method in the libvirt driver to take advantage of the fine-grained validation of CPU model plus features (against a given QEMU binary), if available on the given compute host. - Rewrite the _compare_cpu() method's the logic in the libvirt driver to take advantage of compareHypervisorCPU(). (While at it, rename it to _compare_hypervisor_cpu(). - Update the check_can_live_migrate_destination() method in the libvirt driver to use the newer wrapper API. - Update the get_capabilities() method in nova/virt/libvirt/host.py to take advantage of baseline_hypervisor_cpu(), if available on the given compute host. - This can be done separately, but noting for completeness' sake: Update _get_cpu_traits() method to use baselineHypervisorCPU(). (Support for s390x shouldn't be a blocker to get started on this.) Dependencies ============ This is not a strict dependency, but as noted earlier, support for s390x for libvirt's compareHypervisorCPU() and baselineHypervisorCPU() is still in progress upstream. Testing ======= - Introduce ""fake libvirt"" methods for baselineHypervisorCPU() and compareHypervisorCPU() APIs with minimum-required functionanlity (because duplicating libvirt's logic is complicated and doesn't add much value to replicate it). - Unit tests. - Potentially a couple of functional tests. Documentation Impact ==================== Consider adding a section in the Nova admin guide on how the newer APIs allow more reliable guest CPU configuration. Also note explicitly that we recommend to stick to ``host-model``, which is the the default CPU mode for the libvirt driver. References ========== .. [1] ""New CPU related APIs"" -- https://www.redhat.com/archives/libvir-list/2018-May/msg01204.html .. [2] ""[RFE] Fine-grained API to validate if a given CPU model and flags are supported by QEMU / KVM"" -- https://bugzilla.redhat.com/show_bug.cgi?id=1559832 .. [3] Refer to slide-28 here: https://kashyapc.fedorapeople.org/Effective-Virtual-CPU-Configuration-in-Nova-Berlin2018.pdf .. [4] libvirt work for s390x: https://www.redhat.com/archives/libvir-list/2019-January/msg00310.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced * - Xena - Re-proposed ",,321,0
openstack%2Fopenstack-helm~master~Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0,openstack/openstack-helm,master,Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0,Fix for the values in archive_delete_rows script,MERGED,2021-06-29 15:54:48.000000000,2021-07-05 15:58:55.000000000,2021-07-05 15:57:36.000000000,"[{'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-06-29 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5981cc3ac58a5c647dcf12f372666a3b3216f470', 'message': 'Fix for the values in archive_delete_rows script\n\nThere was a mistake in the script for the archive_delete_rows cron for\nrendering the values from the values files. Fix for taking the values\nfrom the values file for --max-rows and --before options when enabled\nusing the values.yaml file.\n\nChange-Id: Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0\n'}, {'number': 2, 'created': '2021-06-29 16:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/739a00031b26f57e83b288a164e1dd6797c45be1', 'message': 'Fix for the values in archive_delete_rows script\n\nThere was a mistake in the script for the archive_delete_rows cron for\nrendering the values from the values files. Fix for taking the values\nfrom the values file for --max-rows and --before options when enabled\nusing the values.yaml file.\n\nChange-Id: Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0\n'}, {'number': 3, 'created': '2021-07-02 11:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef002a4047e4d87d78d457116ec472a5db864791', 'message': 'Fix for the values in archive_delete_rows script\n\nThere was a mistake in the script for the archive_delete_rows cron for\nrendering the values from the values files. Fix for taking the values\nfrom the values file for --max-rows and --before options when enabled\nusing the values.yaml file.\n\nChange-Id: Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0\n'}, {'number': 4, 'created': '2021-07-02 13:27:22.000000000', 'files': ['releasenotes/notes/nova.yaml', 'nova/templates/bin/_db-archive-deleted-row.sh.tpl', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c050456bdb19e5929a1c04cdbc859027bc744b84', 'message': 'Fix for the values in archive_delete_rows script\n\nThere was a mistake in the script for the archive_delete_rows cron for\nrendering the values from the values files. Fix for taking the values\nfrom the values file for --max-rows and --before options when enabled\nusing the values.yaml file.\n\nChange-Id: Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0\n'}]",0,798707,c050456bdb19e5929a1c04cdbc859027bc744b84,15,4,4,33130,,,0,"Fix for the values in archive_delete_rows script

There was a mistake in the script for the archive_delete_rows cron for
rendering the values from the values files. Fix for taking the values
from the values file for --max-rows and --before options when enabled
using the values.yaml file.

Change-Id: Ib63920c497bbf9ac74e41bdfd0b2e580b95bebb0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/798707/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova.yaml', 'nova/templates/bin/_db-archive-deleted-row.sh.tpl', 'nova/Chart.yaml']",3,5981cc3ac58a5c647dcf12f372666a3b3216f470,nova-cron-fix,version: 0.2.7,version: 0.2.6,4,4
openstack%2Ftripleo-quickstart~master~Id11dfd8d7ce342498aaacab0f40380af088dc5b8,openstack/tripleo-quickstart,master,Id11dfd8d7ce342498aaacab0f40380af088dc5b8,use py3 for tq on rhel 7.8+,ABANDONED,2021-06-30 10:11:42.000000000,2021-07-05 15:28:31.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-30 10:11:42.000000000', 'files': ['install-deps.sh', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1845867b29ae916b6600c204b14cbbc734cbda87', 'message': 'use py3 for tq on rhel 7.8+\n\nRHEL7.8+ have python3 in the standard repositories (extras)\n\nCurrently we are trying to install python-pip which is not available\nand failing with ""No package python-pip available.""\n\nChange-Id: Id11dfd8d7ce342498aaacab0f40380af088dc5b8\n'}]",0,798823,1845867b29ae916b6600c204b14cbbc734cbda87,3,1,1,29775,,,0,"use py3 for tq on rhel 7.8+

RHEL7.8+ have python3 in the standard repositories (extras)

Currently we are trying to install python-pip which is not available
and failing with ""No package python-pip available.""

Change-Id: Id11dfd8d7ce342498aaacab0f40380af088dc5b8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/23/798823/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-deps.sh', 'zuul.d/layout.yaml']",2,1845867b29ae916b6600c204b14cbbc734cbda87,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-tox-molecule - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,9,28
openstack%2Foslo.metrics~master~I270734c7cbd017e5476fbc4eb94f1b81708ae200,openstack/oslo.metrics,master,I270734c7cbd017e5476fbc4eb94f1b81708ae200,Fix Heading Characters,MERGED,2021-07-01 15:12:02.000000000,2021-07-05 15:27:03.000000000,2021-07-05 15:25:55.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 15:12:02.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/0a5cb7ad28fe3b7e0ad452e2433be7dbec2366e1', 'message': 'Fix Heading Characters\n\nChange-Id: I270734c7cbd017e5476fbc4eb94f1b81708ae200\n'}]",0,799092,0a5cb7ad28fe3b7e0ad452e2433be7dbec2366e1,9,4,1,32523,,,0,"Fix Heading Characters

Change-Id: I270734c7cbd017e5476fbc4eb94f1b81708ae200
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/92/799092/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,0a5cb7ad28fe3b7e0ad452e2433be7dbec2366e1,,---------------------~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,#####################------------------------------------------------------------------------------------------------------------,7,7
openstack%2Foslo.db~master~Ib91c9e2fc287be72546f72fb2e6483e67da084b5,openstack/oslo.db,master,Ib91c9e2fc287be72546f72fb2e6483e67da084b5,Call register_opts if no 'database' exists in conf,ABANDONED,2020-06-10 06:04:25.000000000,2021-07-05 15:17:03.000000000,,"[{'_account_id': 6928}, {'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31737}]","[{'number': 1, 'created': '2020-06-10 06:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2855e367e96036d08f5e3a862d481dcec7e9dce4', 'message': 'I try to replace LegacyEngineFacade with enginefacade but I got\nDuplicateOptError because Trove\'s library initially calls CONF.register_opts\nfunction with \'database\' group and enginefacade also internally calls\nCONF.register_opts with \'database\' group.\n\nOne of my suggestion to solve this problem is to register cfg options to the\n""database"" group only if ""database"" group is not be registered.\n\nReference: My proposal ticket to use enginefacade instead of EngineFacade\nhttps://storyboard.openstack.org/#!/story/2007498#comment-155528\n\nChange-Id: Ib91c9e2fc287be72546f72fb2e6483e67da084b5\nCloses-Bug: 1882877\n'}, {'number': 2, 'created': '2020-06-22 01:07:32.000000000', 'files': ['oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/949a14968c64f4e8052dedc600924d4f36e6b598', 'message': 'Call register_opts if no \'database\' exists in conf\n\nI try to replace LegacyEngineFacade with enginefacade but I got\nDuplicateOptError because Trove\'s library initially calls\nCONF.register_opts function with \'database\' group and enginefacade also\ninternally calls CONF.register_opts with \'database\' group.\n\nOne of my suggestion to solve this problem is to register cfg options\nto the ""database"" group only if ""database"" group is not be registered.\n\nReference: My proposal ticket to use enginefacade instead of EngineFacade\nhttps://storyboard.openstack.org/#!/story/2007498#comment-155528\n\nChange-Id: Ib91c9e2fc287be72546f72fb2e6483e67da084b5\nCloses-Bug: 1882877\n'}]",2,734744,949a14968c64f4e8052dedc600924d4f36e6b598,21,5,2,31737,,,0,"Call register_opts if no 'database' exists in conf

I try to replace LegacyEngineFacade with enginefacade but I got
DuplicateOptError because Trove's library initially calls
CONF.register_opts function with 'database' group and enginefacade also
internally calls CONF.register_opts with 'database' group.

One of my suggestion to solve this problem is to register cfg options
to the ""database"" group only if ""database"" group is not be registered.

Reference: My proposal ticket to use enginefacade instead of EngineFacade
https://storyboard.openstack.org/#!/story/2007498#comment-155528

Change-Id: Ib91c9e2fc287be72546f72fb2e6483e67da084b5
Closes-Bug: 1882877
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/44/734744/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/enginefacade.py'],1,2855e367e96036d08f5e3a862d481dcec7e9dce4,bug/1882877, if conf is not None and 'database' not in conf:, if conf is not None:,1,1
openstack%2Fironic~master~Ie23788abaa61742cdea208fb0cf026bdecaab525,openstack/ironic,master,Ie23788abaa61742cdea208fb0cf026bdecaab525,Add reno and reset legacy policy deprecation expectation,MERGED,2021-07-02 15:14:01.000000000,2021-07-05 15:08:18.000000000,2021-07-05 15:05:23.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-02 15:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b166152f9c78c4dc770a6ba2daacd2aa2a9f980', 'message': 'Add reno and reset legacy policy deprecation expectation\n\nAdded a reno to support\nhttps://review.opendev.org/c/openstack/ironic/+/799120\nand ultimately removed the ""anticipated to be removed in the Xena\ndevelopment cycle"" warnings on legacy policy support as the effort\nis taking longer than the cross-team effort anticipated.\n\nNotes added to the code highlight that we need to update the\nwarnings at that time to ensure we appropriately set expectations\nas to when the legacy policies will be removed.\n\nChange-Id: Ie23788abaa61742cdea208fb0cf026bdecaab525\n'}, {'number': 2, 'created': '2021-07-02 15:48:27.000000000', 'files': ['ironic/common/policy.py', 'releasenotes/notes/silence-rbac-deprecation-for-now-779898e720a7bf4e.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/24901e456fd0cf140ad20529a47c46563ee5e49c', 'message': 'Add reno and reset legacy policy deprecation expectation\n\nAdded a reno to support\nhttps://review.opendev.org/c/openstack/ironic/+/799120\nand ultimately removed the ""anticipated to be removed in the Xena\ndevelopment cycle"" warnings on legacy policy support as the effort\nis taking longer than the cross-team effort anticipated.\n\nNotes added to the code highlight that we need to update the\nwarnings at that time to ensure we appropriately set expectations\nas to when the legacy policies will be removed.\n\nChange-Id: Ie23788abaa61742cdea208fb0cf026bdecaab525\n'}]",3,799221,24901e456fd0cf140ad20529a47c46563ee5e49c,14,4,2,11655,,,0,"Add reno and reset legacy policy deprecation expectation

Added a reno to support
https://review.opendev.org/c/openstack/ironic/+/799120
and ultimately removed the ""anticipated to be removed in the Xena
development cycle"" warnings on legacy policy support as the effort
is taking longer than the cross-team effort anticipated.

Notes added to the code highlight that we need to update the
warnings at that time to ensure we appropriately set expectations
as to when the legacy policies will be removed.

Change-Id: Ie23788abaa61742cdea208fb0cf026bdecaab525
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/799221/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/policy.py', 'releasenotes/notes/silence-rbac-deprecation-for-now-779898e720a7bf4e.yaml']",2,8b166152f9c78c4dc770a6ba2daacd2aa2a9f980,bp/policy-defaults-refresh,"--- other: - | Deprecation warnings for the legacy RBAC policies are now suppressed, as the OpenStack community is colalescing around what appears will be a longer deprecation cycle and process than would typcially be undertaken due to the nature and impact of policy changes. The community as a whole is expecting to make RBAC policy work changes a community goal during the Y* release development cycle, which means the earliest legacy policy support may be removed is likely now the Z* development cycle. ",,20,1
openstack%2Fironic~master~I343783389105f008ce6dafc8d25d93211710771a,openstack/ironic,master,I343783389105f008ce6dafc8d25d93211710771a,Deprecate [pxe]ip_version parameter,MERGED,2021-06-24 16:56:59.000000000,2021-07-05 15:07:06.000000000,2021-07-05 15:04:33.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-24 16:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/336a6b4f4655202ea2604eda7ee912085aa22a73', 'message': 'Deprecate [pxe]ip_version parameter\n\nThe parameter has not had any effect in the code since\nthe dual stack PXE work went into place with Ironic as options\nare now generated and transmitted to Neutron for both IPv4 and\nIPv6. This option is only used by the internal\n``dhcp_options_for_instance`` method in\n``ironic.common.pxe_utils``.\n\nThird party drivers using the ``dhcp_options_for_instance`` method\nshould consider generating options for both IPv4 and IPv6 at all\ntimes. See change\nIf7a296001e204ae0c9a49495731052ab33379628 for examples on how\nto do this.\n\nChange-Id: I343783389105f008ce6dafc8d25d93211710771a\n'}, {'number': 2, 'created': '2021-06-24 17:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e874ee03c6dbdc69be3da6df8323a8de519fac6e', 'message': 'Deprecate [pxe]ip_version parameter\n\nThe parameter has not had any effect in the code since\nthe dual stack PXE work went into place with Ironic as options\nare now generated and transmitted to Neutron for both IPv4 and\nIPv6. This option is only used by the internal\n``dhcp_options_for_instance`` method in\n``ironic.common.pxe_utils``.\n\nThird party drivers using the ``dhcp_options_for_instance`` method\nshould consider generating options for both IPv4 and IPv6 at all\ntimes. See change\nIf7a296001e204ae0c9a49495731052ab33379628 for examples on how\nto do this.\n\nChange-Id: I343783389105f008ce6dafc8d25d93211710771a\n'}, {'number': 3, 'created': '2021-06-25 21:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ec92230ebfd4a485433005c1527c520e806d2e8', 'message': 'Deprecate [pxe]ip_version parameter\n\nThe parameter has not had any effect in the code since\nthe dual stack PXE work went into place with Ironic as options\nare now generated and transmitted to Neutron for both IPv4 and\nIPv6. This option is only used by the internal\n``dhcp_options_for_instance`` method in\n``ironic.common.pxe_utils``.\n\nThird party drivers using the ``dhcp_options_for_instance`` method\nshould consider generating options for both IPv4 and IPv6 at all\ntimes. See change\nIf7a296001e204ae0c9a49495731052ab33379628 for examples on how\nto do this.\n\nChange-Id: I343783389105f008ce6dafc8d25d93211710771a\n'}, {'number': 4, 'created': '2021-06-28 13:59:40.000000000', 'files': ['ironic/conf/pxe.py', 'doc/source/admin/report.txt', 'devstack/lib/ironic', 'doc/source/install/configure-ipv6-networking.rst', 'releasenotes/notes/remove_pxe_ip_version-7a71f821ded28360.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2a249d186b77def6cd449d34fd600520c159a50', 'message': 'Deprecate [pxe]ip_version parameter\n\nThe parameter has not had any effect in the code since\nthe dual stack PXE work went into place with Ironic as options\nare now generated and transmitted to Neutron for both IPv4 and\nIPv6. This option is only used by the internal\n``dhcp_options_for_instance`` method in\n``ironic.common.pxe_utils`` as a fallback if the calling method\ndoes not specify a version. However a later change resulted in the\ndefault behavior calling the dhcp option generation explicitly\nto generate both IPv4 and IPv6 parameters, making the option\nentirely redundant.\n\nThird party drivers using the ``dhcp_options_for_instance`` method\nshould consider generating options for both IPv4 and IPv6 at all\ntimes. See change\nIf7a296001e204ae0c9a49495731052ab33379628 for examples on how\nto do this.\n\nChange-Id: I343783389105f008ce6dafc8d25d93211710771a\n'}]",5,797984,b2a249d186b77def6cd449d34fd600520c159a50,30,4,4,11655,,,0,"Deprecate [pxe]ip_version parameter

The parameter has not had any effect in the code since
the dual stack PXE work went into place with Ironic as options
are now generated and transmitted to Neutron for both IPv4 and
IPv6. This option is only used by the internal
``dhcp_options_for_instance`` method in
``ironic.common.pxe_utils`` as a fallback if the calling method
does not specify a version. However a later change resulted in the
default behavior calling the dhcp option generation explicitly
to generate both IPv4 and IPv6 parameters, making the option
entirely redundant.

Third party drivers using the ``dhcp_options_for_instance`` method
should consider generating options for both IPv4 and IPv6 at all
times. See change
If7a296001e204ae0c9a49495731052ab33379628 for examples on how
to do this.

Change-Id: I343783389105f008ce6dafc8d25d93211710771a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/797984/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'releasenotes/notes/remove_pxe_ip_version-7a71f821ded28360.yaml']",2,336a6b4f4655202ea2604eda7ee912085aa22a73,,--- deprecations: - | The ``[pxe]ip_version`` setting has been deprecated and is anticipated to be removed in the Y* release of OpenStack. This option effectively has had no operational impact since the Ussuri release of OpenStack where dual stack IPv4 and IPv6 support was added to Ironic. ,,9,1
openstack%2Fironic~stable%2Fvictoria~Ib4ab755c806f028d97379b80a8c27d6ade63cba1,openstack/ironic,stable/victoria,Ib4ab755c806f028d97379b80a8c27d6ade63cba1,Update the clear job id's constant,MERGED,2021-06-29 13:30:34.000000000,2021-07-05 15:07:04.000000000,2021-07-05 15:04:19.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-29 13:30:34.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ac6ad7317e20e1f2ebd99b1ce53d3ad2b1f09b0', 'message': ""Update the clear job id's constant\n\nFixes an issue of powering off with the ``idrac-wsman`` management\ninterface while the execution of a clear job queue cleaning step is\nproceeding.\nPrior to this fix, the clean step would fail when powering off a node.\n\nStory: 2008988\nTask: 42641\n\nChange-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1\n(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)\n""}]",0,798666,4ac6ad7317e20e1f2ebd99b1ce53d3ad2b1f09b0,12,4,1,31871,,,0,"Update the clear job id's constant

Fixes an issue of powering off with the ``idrac-wsman`` management
interface while the execution of a clear job queue cleaning step is
proceeding.
Prior to this fix, the clean step would fail when powering off a node.

Story: 2008988
Task: 42641

Change-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1
(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/798666/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml']",3,4ac6ad7317e20e1f2ebd99b1ce53d3ad2b1f09b0,change-796432-5-stable/victoria,"--- fixes: - | Fixes an issue of powering off with the ``idrac-wsman`` management interface while the execution of a clear job queue cleaning step is proceeding. Prior to this fix, the clean step would fail when powering off a node. ",,10,3
openstack%2Fironic~stable%2Fwallaby~Ib4ab755c806f028d97379b80a8c27d6ade63cba1,openstack/ironic,stable/wallaby,Ib4ab755c806f028d97379b80a8c27d6ade63cba1,Update the clear job id's constant,MERGED,2021-06-29 13:27:31.000000000,2021-07-05 15:07:02.000000000,2021-07-05 15:04:10.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-06-29 13:27:31.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1652c467949643afd7e0def8d617303d0087479', 'message': ""Update the clear job id's constant\n\nFixes an issue of powering off with the ``idrac-wsman`` management\ninterface while the execution of a clear job queue cleaning step is\nproceeding.\nPrior to this fix, the clean step would fail when powering off a node.\n\nStory: 2008988\nTask: 42641\n\nChange-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1\n(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)\n""}]",0,798665,e1652c467949643afd7e0def8d617303d0087479,12,4,1,31871,,,0,"Update the clear job id's constant

Fixes an issue of powering off with the ``idrac-wsman`` management
interface while the execution of a clear job queue cleaning step is
proceeding.
Prior to this fix, the clean step would fail when powering off a node.

Story: 2008988
Task: 42641

Change-Id: Ib4ab755c806f028d97379b80a8c27d6ade63cba1
(cherry picked from commit 741a4d8a88bbc51f5903fc00cc4f1decf8f4ea1a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/798665/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/update-clear-job-id-constant-fix-c69cf96c55364bb3.yaml']",3,e1652c467949643afd7e0def8d617303d0087479,change-796432-5-stable/wallaby,"--- fixes: - | Fixes an issue of powering off with the ``idrac-wsman`` management interface while the execution of a clear job queue cleaning step is proceeding. Prior to this fix, the clean step would fail when powering off a node. ",,10,3
openstack%2Fironic~master~Ic2c1117ea1e8c7fd118229eb0c09c6095f8195f5,openstack/ironic,master,Ic2c1117ea1e8c7fd118229eb0c09c6095f8195f5,[doc] Update section on ESP consistency,MERGED,2021-07-02 14:46:16.000000000,2021-07-05 15:05:06.000000000,2021-07-05 15:05:06.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-02 14:46:16.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e507339065a8ebf7ba28c59fc24aae82434e7d3', 'message': '[doc] Update section on ESP consistency\n\nStarting with Victoria, the ESPs are mirrored. Reflect this in the\ndocs.\n\nChange-Id: Ic2c1117ea1e8c7fd118229eb0c09c6095f8195f5\n'}]",0,799215,4e507339065a8ebf7ba28c59fc24aae82434e7d3,7,3,1,11292,,,0,"[doc] Update section on ESP consistency

Starting with Victoria, the ESPs are mirrored. Reflect this in the
docs.

Change-Id: Ic2c1117ea1e8c7fd118229eb0c09c6095f8195f5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/799215/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,4e507339065a8ebf7ba28c59fc24aae82434e7d3,doc_esp_mirror," partitions in sync need to be taken. Note that starting with the Victoria release, the Ironic Python Agent configures a RAID-1 mirror for the ESPs, so no additional measures to ensure consistency of the ESPs should be required any longer.", partitions in sync need to be taken.,4,1
openstack%2Fironic~master~I2c1d1a61a3340f6785ab6f63cb96f2c045f8eabe,openstack/ironic,master,I2c1d1a61a3340f6785ab6f63cb96f2c045f8eabe,[doc] Bootloader reinstallations on Software RAID,MERGED,2021-07-02 15:01:14.000000000,2021-07-05 15:04:50.000000000,2021-07-05 15:04:50.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-02 15:01:14.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb0523f038e600a645380c0540726f70ed3e2070', 'message': '[doc] Bootloader reinstallations on Software RAID\n\nAdd a section to the docs how to handle grub reinstallations\nwith Ironic software RAID on BIOS nodes, e.g. during disk\nreplacements.\n\nChange-Id: I2c1d1a61a3340f6785ab6f63cb96f2c045f8eabe\n'}]",0,799217,bb0523f038e600a645380c0540726f70ed3e2070,7,3,1,11292,,,0,"[doc] Bootloader reinstallations on Software RAID

Add a section to the docs how to handle grub reinstallations
with Ironic software RAID on BIOS nodes, e.g. during disk
replacements.

Change-Id: I2c1d1a61a3340f6785ab6f63cb96f2c045f8eabe
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/799217/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,bb0523f038e600a645380c0540726f70ed3e2070,doc_grub_reinstall,"* In BIOS mode, the Ironic Python Agent installs the boot loader onto all disks. While nothing is required for kernel or grub package updates, re-installing the bootloader on one disk, e.g. during a disk replacement, may require to re-install the bootloader on all disks. Otherwise, there is a risk of an incompatibility of the grub components stored on the device (i.e. stage1/boot.img in the MBR and stage1.5/core.img in the MBR gap) with the ones stored in /boot (stage2). This incompatibility can render the node unbootable if the wrong disk is selected for booting. ",,9,0
openstack%2Freleases~master~I9feee9886ffade1d501ccadc40c41423b0d36d5c,openstack/releases,master,I9feee9886ffade1d501ccadc40c41423b0d36d5c,[solum] Transition Ocata to End of Life,MERGED,2021-06-09 19:24:19.000000000,2021-07-05 15:03:39.000000000,2021-07-05 15:03:39.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:24:19.000000000', 'files': ['deliverables/ocata/solum.yaml', 'deliverables/ocata/python-solumclient.yaml', 'deliverables/ocata/solum-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af55f291f9ae64bfad896147368c976ffb58ff7c', 'message': ""[solum] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I9feee9886ffade1d501ccadc40c41423b0d36d5c\n""}]",0,795676,af55f291f9ae64bfad896147368c976ffb58ff7c,9,4,1,17685,,,0,"[solum] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I9feee9886ffade1d501ccadc40c41423b0d36d5c
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/795676/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/solum.yaml', 'deliverables/ocata/python-solumclient.yaml', 'deliverables/ocata/solum-dashboard.yaml']",3,af55f291f9ae64bfad896147368c976ffb58ff7c,ocata-eol, - version: ocata-eol projects: - repo: openstack/solum-dashboard hash: 54955181278611a171ad39cbcfc56c278441fe57,,12,0
openstack%2Freleases~master~Ibeb0ea97ad5830eea1c9d79c698c115ed106f66d,openstack/releases,master,Ibeb0ea97ad5830eea1c9d79c698c115ed106f66d,Release OpenStack-Ansible Wallaby,MERGED,2021-07-04 05:35:13.000000000,2021-07-05 14:52:50.000000000,2021-07-05 14:52:50.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-04 05:35:13.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f925689366d77dae7e2e7d2130931e6fcc07ace9', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: Ibeb0ea97ad5830eea1c9d79c698c115ed106f66d\n'}]",0,799410,f925689366d77dae7e2e7d2130931e6fcc07ace9,12,3,1,28619,,,0,"Release OpenStack-Ansible Wallaby

Change-Id: Ibeb0ea97ad5830eea1c9d79c698c115ed106f66d
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/799410/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,f925689366d77dae7e2e7d2130931e6fcc07ace9,release_osa, - version: 23.0.0 projects: - repo: openstack/openstack-ansible hash: ad4c9609612a692a1268717b366cdcbc6d6a71da,,4,0
openstack%2Fpython-watcherclient~master~I7eaad18c98a1850e6d429b52e1e8782d4274ee9b,openstack/python-watcherclient,master,I7eaad18c98a1850e6d429b52e1e8782d4274ee9b,Switch testing to Xena testing runtime,MERGED,2021-05-28 13:14:03.000000000,2021-07-05 14:46:50.000000000,2021-07-05 14:42:17.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-05-28 13:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/3683b2a86a5a21f7f7bb415811ef3fdd44d090ff', 'message': 'Switch testing to Xena testing runtime\n\nUpdating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I7eaad18c98a1850e6d429b52e1e8782d4274ee9b\n'}, {'number': 2, 'created': '2021-05-28 14:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/5d78cb6e8c77c15dfc65e4b6915518393838f0de', 'message': 'Switch testing to Xena testing runtime\n\nUpdating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I7eaad18c98a1850e6d429b52e1e8782d4274ee9b\n'}, {'number': 3, 'created': '2021-07-05 13:12:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/f2f882e297684849e390e577308ad2c83b9f1704', 'message': 'Switch testing to Xena testing runtime\n\nUpdating the tetsing template to Xena testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nChange-Id: I7eaad18c98a1850e6d429b52e1e8782d4274ee9b\n'}]",0,793599,f2f882e297684849e390e577308ad2c83b9f1704,13,2,3,31825,,,0,"Switch testing to Xena testing runtime

Updating the tetsing template to Xena testing runtime:
https://governance.openstack.org/tc/reference/runtimes/xena.html

Change-Id: I7eaad18c98a1850e6d429b52e1e8782d4274ee9b
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/99/793599/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3683b2a86a5a21f7f7bb415811ef3fdd44d090ff,, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fmanila~master~I5039b7adf563d926053b423a4cc6e175d3f1e5cf,openstack/manila,master,I5039b7adf563d926053b423a4cc6e175d3f1e5cf,fixes  availability zone filter when creating a share from snapshot,MERGED,2021-03-01 19:05:09.000000000,2021-07-05 14:46:24.000000000,2021-07-05 14:44:55.000000000,"[{'_account_id': 6413}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-03-01 19:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6fc14106a141dd15324d8e8c626d74bbe6a58e16', 'message': '[WIP] fix availability zone not picked up\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly.\n\nCloses-Big: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n'}, {'number': 2, 'created': '2021-03-01 19:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ccba88ad3f0914c65d94adde7055027eb1333b2a', 'message': '[WIP] fix availability zone not picked up\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly.\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n'}, {'number': 3, 'created': '2021-03-05 15:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ba3f13b8bf12df216379dcb74635d949cdd9bbe9', 'message': ""fixes  availability zone filter while creating from snapshot\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly. Issue is invaild input\nerror being raised, even when availability_zone provided\nis the same, as parent share's. Because in the filter\navailability_zone is name and source_share_az\nis id [1]\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n""}, {'number': 4, 'created': '2021-04-05 13:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a69934cecd0990903bff1367db3f6242a29857bb', 'message': ""fixes  availability zone filter while creating from snapshot\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly. Issue is invaild input\nerror being raised, even when availability_zone provided\nis the same, as parent share's. Because in the filter\navailability_zone is name and source_share_az\nis id [1]\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n""}, {'number': 5, 'created': '2021-05-05 19:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/da6f804977999add0ab3ce08c80c9e446687f4be', 'message': ""fixes  availability zone filter while creating from snapshot\n\nFixes bug #1915706 in Manila UI, availability zone\nnot being picked up correctly. Issue is invaild input\nerror being raised, even when availability_zone provided\nis the same, as parent share's. Because in the filter\navailability_zone is name and source_share_az\nis id [1]. Now, regardless of availability_zone provided as\nid or name, it will always be converted to a name.\nAnd if availaibity_zone is the same as parent share's\noperation will complete successfully.\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n""}, {'number': 6, 'created': '2021-05-06 14:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7aeec534ab031bc9c52be05274f9f3257e38a390', 'message': ""fixes  availability zone filter when creating a share from snapshot\n\nFixes bug #1915706 that was discovered in  Manila UI.\nIssue is invalid input error being raised, even when\navailability_zone provided is the same, as parent share's.\nThe reason is availability_zone is name and source_share_az\nis id in the filter [1]. Now, regardless of availability_zone\nprovided is id or name, it will be always converted to a name.\nAnd if availability_zone is the same as parent share's\noperation will complete successfully.\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n""}, {'number': 7, 'created': '2021-06-18 15:52:52.000000000', 'files': ['manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/205f3d828d5f8afc002c32714e7c67db10dbfa53', 'message': ""fixes  availability zone filter when creating a share from snapshot\n\nFixes bug #1915706 that was discovered in  Manila UI.\nIssue is invalid input error being raised, even when\navailability_zone provided is the same, as parent share's.\nThe reason is availability_zone is name and source_share_az\nis id in the filter [1]. Now, regardless of availability_zone\nprovided is id or name, it will be always converted to a name.\nAnd if availability_zone is the same as parent share's\noperation will complete successfully.\n\n[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200\n\nCloses-Bug: #1915706\nChange-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf\n""}]",22,778051,205f3d828d5f8afc002c32714e7c67db10dbfa53,73,5,7,32531,,,0,"fixes  availability zone filter when creating a share from snapshot

Fixes bug #1915706 that was discovered in  Manila UI.
Issue is invalid input error being raised, even when
availability_zone provided is the same, as parent share's.
The reason is availability_zone is name and source_share_az
is id in the filter [1]. Now, regardless of availability_zone
provided is id or name, it will be always converted to a name.
And if availability_zone is the same as parent share's
operation will complete successfully.

[1] https://github.com/openstack/manila/blob/2e27c71877fdb601ba90b44c3573d8e50e099042/manila/share/api.py#L200

Closes-Bug: #1915706
Change-Id: I5039b7adf563d926053b423a4cc6e175d3f1e5cf
",git fetch https://review.opendev.org/openstack/manila refs/changes/51/778051/6 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'manila/api/v1/shares.py']",2,6fc14106a141dd15324d8e8c626d74bbe6a58e16,bug/1915706," context, availability_zone).name"," context, availability_zone).id",5,2
openstack%2Fpython-tripleoclient~master~Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202,openstack/python-tripleoclient,master,Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202,Remove redundant defaults,MERGED,2021-06-26 16:14:09.000000000,2021-07-05 14:45:57.000000000,2021-07-05 14:43:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3afcc4bce0e808abe75c8d3eec16a56978656fd', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.messages all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 2, 'created': '2021-06-26 16:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f61ce8859878a641bbae7f258055ca95e3388c43', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.messages all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 3, 'created': '2021-06-26 17:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2467e07a00af3886789ce45218ef1bd34d8042a8', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.messages all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 4, 'created': '2021-06-26 19:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d21640ec772d89834c5752de43c3e6283d0179fc', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.messages all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 5, 'created': '2021-06-27 04:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f9bb9a6be461a876163a1f63da89e08b0090cee', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.config all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 6, 'created': '2021-06-27 07:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dbd99add975c666b51f5dfc9ab3307ce5e4a3ce2', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.config all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 7, 'created': '2021-06-27 08:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/418162ef55b18838bf6993ae87bc671e65d3b530', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.config all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}, {'number': 8, 'created': '2021-07-03 15:22:27.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee1990ef65d2847be7a65b7c80a08cafc0219d1c', 'message': 'Remove redundant defaults\n\nThis change removes some redundant definitions of default values\naccording to the following three points.\n\n- The get method returns None by default if the key doesn\'t exist,\n  so it is unnecessary to define None explicitly.\n\n- Setting \'\' as parameter defaults is redundant because we always use\n  ""if CONF.get(\'<name>\'):"" to check whether the parameter is set.\n\n- In oslo.config all options default to None unless the default\n  parameter is explicitly set. Thus defining default=None is redundant.\n\nChange-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202\n'}]",9,798194,ee1990ef65d2847be7a65b7c80a08cafc0219d1c,27,4,8,9816,,,0,"Remove redundant defaults

This change removes some redundant definitions of default values
according to the following three points.

- The get method returns None by default if the key doesn't exist,
  so it is unnecessary to define None explicitly.

- Setting '' as parameter defaults is redundant because we always use
  ""if CONF.get('<name>'):"" to check whether the parameter is set.

- In oslo.config all options default to None unless the default
  parameter is explicitly set. Thus defining default=None is redundant.

Change-Id: Ib14b24b9054fe4d0efc3e03f9c6683ae999e3202
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/798194/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/utils.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/v1/overcloud_deploy.py']",8,d3afcc4bce0e808abe75c8d3eec16a56978656fd,defaults," if getattr(args, arg) is not None:"," if getattr(args, arg, None) is not None:",25,37
openstack%2Ftripleo-heat-templates~master~I38d06056b56fb14c7162d546f6d688ba6ad59a5b,openstack/tripleo-heat-templates,master,I38d06056b56fb14c7162d546f6d688ba6ad59a5b,Adjust enable-stf.yaml for latest recommendations,MERGED,2021-06-09 17:44:27.000000000,2021-07-05 14:45:45.000000000,2021-07-05 14:42:55.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 11154}, {'_account_id': 13177}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26787}, {'_account_id': 30357}, {'_account_id': 30893}, {'_account_id': 31510}]","[{'number': 1, 'created': '2021-06-09 17:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a42d6e9bebb82bb295dfcdb6bff38e032f01aaf7', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 2, 'created': '2021-06-09 17:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a272de5c6fbb8c75b349ae21e9aa0679a8773274', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 3, 'created': '2021-06-10 18:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e097731f4fc254f89318e25118afe10a49e5788', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 4, 'created': '2021-06-10 18:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e50874047c787ef4ba73e403301c0a16bd7247b7', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 5, 'created': '2021-06-17 19:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b418904daf1a9965cedcda04ae43c9517dad3e71', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 6, 'created': '2021-06-17 19:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42610ae6a376d7f3c0d9ac6643aeb9ac17a7f459', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 7, 'created': '2021-07-02 15:20:53.000000000', 'files': ['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab4c114d5b685d796d332be19f47b8d760f4825f', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",21,795608,ab4c114d5b685d796d332be19f47b8d760f4825f,56,13,7,7294,,,0,"Adjust enable-stf.yaml for latest recommendations

Adjust the enable-stf.yaml to work with the latest recommendations for
use with Service Telemetry Framework. These changes provide the
appropriate parameters to result in telemetry data being sent to STF in
a format that it expects for dashboarding and alerting purposes.

Recommend configuration of ceilometer and collectd collection agents
plus data transport configuration with existing environment files in
order to avoid duplicating the resource registry for service enablement.
By separating the data collectors and data transports from the
configuration more flexibility for different architectures is possible.

Configuration options that have existing defaults defined in other
locations have also been removed in order to keep things cleaner.

Change-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/795608/3 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-stf.yaml'],1,a42d6e9bebb82bb295dfcdb6bff38e032f01aaf7,change-795608-6,"# Enable data collection that is compatible with the STF data model. # Enablement of the collectors and transport are done with separate enviroment files. # Recommended: # - environments/metrics/ceilometer-qdr-write.yaml # - environments/metrics/collectd-qdr-write.yaml # - environments/metrics/qdr-edge-only.yaml # only send to STF, not other publishers EventPipelinePublishers: [] PipelinePublishers: [] # manage the polling and pipeline configuration files for Ceilometer agents ManagePolling: true ManagePipeline: true # required to set valid parameter due to typo in ceilometer-write-qdr.yaml CeilometerQdrPublishMetrics: true # enable collection of API status CollectdEnableSensubility: true CollectdSensubilityTransport: amqp1 # enable collection of containerized service metrics CollectdEnableLibpodstats: true # set collectd overrides for higher telemetry resolution and extra plugins to load CollectdConnectionType: amqp1 CollectdAmqpInterval: 5 CollectdDefaultPollingInterval: 5 CollectdAmqpSendQueueLimit: 50 CollectdExtraPlugins: - vmem ExtraConfig: ceilometer::agent::polling::polling_interval: 5 ceilometer::agent::polling::polling_meters: - cpu - disk.* - ip.* - image.* - memory - memory.* - network.* - perf.* - port - port.* - switch - switch.* - storage.* - volume.* collectd::plugin::vmem::verbose: true collectd::plugin::virt::hostname_format: ""name uuid hostname"" collectd::plugin::virt::plugin_instance_format: metadata ",# This heat environment can be used to enable STF client side resource_registry: OS::TripleO::Services::Collectd: ../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../deployment/metrics/qdr-container-puppet.yaml OS::TripleO::Services::Redis: ../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::CeilometerAgentCentral: ../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml NotificationDriver: 'messagingv2' CeilometerQdrPublishEvents: true CeilometerQdrPublishMetrics: true EnableSTF: true CollectdConnectionType: amqp1 CollectdAmqpInterval: 5 CollectdDefaultPollingInterval: 5 CollectdAmqpSendQueueLimit: 40 CollectdAmqpInstances: notify: notify: true format: JSON presettle: false telemetry: format: JSON presettle: false MetricsQdrAddresses: - prefix: collectd distribution: multicast MetricsQdrSSLProfiles: - name: sslProfile,53,29
openstack%2Fpython-watcherclient~master~Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717,openstack/python-watcherclient,master,Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2021-05-28 13:09:09.000000000,2021-07-05 14:45:43.000000000,2021-07-05 14:42:14.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-05-28 13:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/71b3918a1b1e591cb04efdd2d747eb775b3758bc', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717\n'}, {'number': 2, 'created': '2021-05-28 14:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/0269e5035a3b4ccda3e117f232c77355f2ec6730', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717\n'}, {'number': 3, 'created': '2021-07-05 13:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/a307ec840c91632ffa14b58b5da6ac0bcd594161', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717\n'}, {'number': 4, 'created': '2021-07-05 13:12:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/add4254a3fc41a0d8652fa6c65f0f4639b897e6d', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717\n'}]",0,793598,add4254a3fc41a0d8652fa6c65f0f4639b897e6d,13,2,4,31825,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ie0cbc9e5e0375b70f28fc9e0b2e64f72f6721717
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/98/793598/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,71b3918a1b1e591cb04efdd2d747eb775b3758bc,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,openstack/tripleo-heat-templates,stable/wallaby,If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,Support cinder image conversion on an NFS share,MERGED,2021-07-04 20:23:31.000000000,2021-07-05 14:45:37.000000000,2021-07-05 14:42:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-04 20:23:31.000000000', 'files': ['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5b8ced547f5bf163b7ef76ef82a687af61434f9', 'message': ""Support cinder image conversion on an NFS share\n\nNew CinderImageConversionNfsShare and CinderImageConversionNfsOptions\nparameters add support for mounting an external NFS share for cinder\nto use when converting glance images to or from another format (e.g.\nqcow2 versus raw).\n\nThis feature is useful in preventing the node's root disk from filling\nup in situations where the available disk space is too small, which\ncan happen in deployments that utilize very large glance images.\n\nChange-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c\n(cherry picked from commit 2225f9666b157de773fc1dadf195034e24e2577b)\n""}]",0,799421,d5b8ced547f5bf163b7ef76ef82a687af61434f9,8,3,1,21129,,,0,"Support cinder image conversion on an NFS share

New CinderImageConversionNfsShare and CinderImageConversionNfsOptions
parameters add support for mounting an external NFS share for cinder
to use when converting glance images to or from another format (e.g.
qcow2 versus raw).

This feature is useful in preventing the node's root disk from filling
up in situations where the available disk space is too small, which
can happen in deployments that utilize very large glance images.

Change-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c
(cherry picked from commit 2225f9666b157de773fc1dadf195034e24e2577b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/799421/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",3,d5b8ced547f5bf163b7ef76ef82a687af61434f9,cinder-nfs-conversion-dir," CinderImageConversionNfsShare: default: '' description: When set, the NFS share to be used for Cinder's image conversion directory. type: string CinderImageConversionNfsOptions: default: '_netdev,bg,intr,context=system_u:object_r:container_file_t:s0' description: NFS mount options when using an NFS share for Cinder's image conversion directory. type: string cinder_nfs_conversion_dir_enabled: not: equals: - {get_param: CinderImageConversionNfsShare} - '' cinder_image_conversion_nfs_dir: description: The directory where cinder does its image conversion when the directory is backed by an NFS share. value: &cinder_image_conversion_nfs_dir # Avoid SELinux conflicts by choosing a location outside /var/lib/cinder /var/lib/cinder_image_conversion - - name: Support using an NFS share for cinder image conversion vars: image_conversion_nfs_enabled: {if: [cinder_nfs_conversion_dir_enabled, true, false]} when: - image_conversion_nfs_enabled|bool block: - name: Create cinder image conversion directory file: path: *cinder_image_conversion_nfs_dir state: directory - name: Mount cinder's image conversion NFS share vars: image_conversion_nfs_share: {get_param: CinderImageConversionNfsShare} image_conversion_nfs_options: {get_param: CinderImageConversionNfsOptions} mount: path: *cinder_image_conversion_nfs_dir state: mounted fstype: nfs4 src: ""{{ image_conversion_nfs_share }}"" opts: ""{{ image_conversion_nfs_options }}"" cinder_volume_config_settings: description: Config settings for the cinder-volume container (HA or non-HA) value: if: - cinder_nfs_conversion_dir_enabled - cinder::image_conversion_dir: *cinder_image_conversion_nfs_dir - {} - if: - cinder_nfs_conversion_dir_enabled - - str_replace: # Use slave propagation so if the mount is delayed on the host # it will also be updated within the cinder-volume container. template: DIR:DIR:slave params: DIR: *cinder_image_conversion_nfs_dir", -,69,2
openstack%2Ftripleo-quickstart-extras~master~Iba7833c16eae3d3129b7bab48434c66ec2e1efcf,openstack/tripleo-quickstart-extras,master,Iba7833c16eae3d3129b7bab48434c66ec2e1efcf,Don't hard-code overcloud-full,MERGED,2021-06-22 03:10:37.000000000,2021-07-05 14:44:08.000000000,2021-07-05 14:44:08.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-22 03:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2fed05704a456c36c9fa08c2b011bc0c517f31b4', 'message': ""Don't hard-code overcloud-full\n\nThis will soon be overcloud-hardened-uefi-full on master, and the\ndownload will be of a qcow2 file, not a tar file.\n\nThis change moves whole_disk_images default setting to extras-common,\nand also adds default variable overcloud_image, which is used wherever\n'overcloud-full' is currently hard-coded.\n\nChange-Id: Iba7833c16eae3d3129b7bab48434c66ec2e1efcf\nBlueprint: whole-disk-default\n""}, {'number': 2, 'created': '2021-06-22 05:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db5f119177ffb8b0493f37ccfa3150a8c4bd1d67', 'message': ""Don't hard-code overcloud-full\n\nThis will soon be overcloud-hardened-uefi-full on master, and the\ndownload will be of a qcow2 file, not a tar file.\n\nThis change moves whole_disk_images default setting to extras-common,\nand also adds default variable overcloud_image, which is used wherever\n'overcloud-full' is currently hard-coded.\n\nChange-Id: Iba7833c16eae3d3129b7bab48434c66ec2e1efcf\nBlueprint: whole-disk-default\n""}, {'number': 3, 'created': '2021-06-28 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3221e9df9830bfab13aa14c32c684bcc0a6b8fdd', 'message': ""Don't hard-code overcloud-full\n\nThis will soon be overcloud-hardened-uefi-full on master, and the\ndownload will be of a qcow2 file, not a tar file.\n\nThis change moves whole_disk_images default setting to extras-common,\nand also adds default variable overcloud_image, which is used wherever\n'overcloud-full' is currently hard-coded.\n\nChange-Id: Iba7833c16eae3d3129b7bab48434c66ec2e1efcf\nBlueprint: whole-disk-default\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/797360\n""}, {'number': 4, 'created': '2021-06-29 22:09:57.000000000', 'files': ['roles/overcloud-prep-images/README.md', 'roles/build-images/tasks/main.yml', 'roles/extras-common/README.md', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2', 'roles/extras-common/defaults/main.yml', 'roles/modify-image/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b911d3f9be864428706915cde141bf848eec3c72', 'message': ""Don't hard-code overcloud-full\n\nThis will soon be overcloud-hardened-uefi-full on master, and the\ndownload will be of a qcow2 file, not a tar file.\n\nThis change moves whole_disk_images default setting to extras-common,\nand also adds default variable overcloud_image, which is used wherever\n'overcloud-full' is currently hard-coded.\n\nChange-Id: Iba7833c16eae3d3129b7bab48434c66ec2e1efcf\nBlueprint: whole-disk-default\n""}]",4,797376,b911d3f9be864428706915cde141bf848eec3c72,26,5,4,4571,,,0,"Don't hard-code overcloud-full

This will soon be overcloud-hardened-uefi-full on master, and the
download will be of a qcow2 file, not a tar file.

This change moves whole_disk_images default setting to extras-common,
and also adds default variable overcloud_image, which is used wherever
'overcloud-full' is currently hard-coded.

Change-Id: Iba7833c16eae3d3129b7bab48434c66ec2e1efcf
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/797376/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-prep-images/README.md', 'roles/build-images/tasks/main.yml', 'roles/extras-common/README.md', 'roles/overcloud-prep-images/defaults/main.yml', 'roles/extras-common/defaults/main.yml', 'roles/overcloud-prep-images/templates/download-overcloud-image.sh.j2', 'roles/modify-image/README.md']",7,2fed05704a456c36c9fa08c2b011bc0c517f31b4,bp/whole-disk-default," image_to_modify: ""{{ working_dir }}/{{ overcloud_image }}.qcow2"" image_to_modify: ""{{ working_dir }}/{{ overcloud_image }}.qcow2"""," image_to_modify: ""{{ working_dir }}/overcloud-full.qcow2"" image_to_modify: ""{{ working_dir }}/overcloud-full.qcow2""",18,14
openstack%2Ftripleo-upgrade~master~Ie6952f833887507d3dc5ae10cccb246c9f525c12,openstack/tripleo-upgrade,master,Ie6952f833887507d3dc5ae10cccb246c9f525c12,[FFWD upgrade pre] Add support in cold evacuate,MERGED,2021-05-26 07:53:44.000000000,2021-07-05 14:44:03.000000000,2021-07-05 14:44:03.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 26343}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-05-26 07:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c8ca82d89874f82573023309442104f1233892b8', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 2, 'created': '2021-06-06 14:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f1c1f7ba15a035d0ebb1c8ec719cabde3636b374', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 3, 'created': '2021-06-08 11:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3419bf460b13545512bc17cb5e50ba7128dd9e8c', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 4, 'created': '2021-06-09 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/40ba5be418ddd3627b650e26fb3b831237cccb76', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 5, 'created': '2021-06-24 13:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ea37f4229ab58bde6ca903cb880b19b3047877d9', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 6, 'created': '2021-06-27 13:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3ad1d8869b7b706e3d9a4e76728badd09325f262', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}, {'number': 7, 'created': '2021-06-28 14:10:05.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7c1df132e69f1d1f5a32bc4159b8c928d51e323a', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n'}]",53,793113,7c1df132e69f1d1f5a32bc4159b8c928d51e323a,53,8,7,20171,,,0,"[FFWD upgrade pre] Add support in cold evacuate

Adding parameter spec compute_cold_evacuate

To extend node_upgrade_pre.sh.j2 with cold migration,
Currently it is a mast from queens->train in nfv use cases

Change-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/793113/7 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml']",3,c8ca82d89874f82573023309442104f1233892b8,upgrade-compute-cold-evacuate, - name: Set upgrade compute host cold evacuate set_fact: compute_cold_evacuate: true when: install.upgrade.compute.evacuate ,,39,1
openstack%2Ftripleo-quickstart-extras~master~Ie52df7132f6165f831eda6d8e8583e661847db48,openstack/tripleo-quickstart-extras,master,Ie52df7132f6165f831eda6d8e8583e661847db48,Don't run os-net-config twice in CI,MERGED,2021-07-04 09:40:47.000000000,2021-07-05 14:43:59.000000000,2021-07-05 14:43:59.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-04 09:40:47.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33422e0c9fe081d9ce9232218083f60fbe575076', 'message': ""Don't run os-net-config twice in CI\n\nWe're running it twice at the moment before stack and one more\ntime in deploy steps.\n\nChange-Id: Ie52df7132f6165f831eda6d8e8583e661847db48\n""}]",6,799414,33422e0c9fe081d9ce9232218083f60fbe575076,16,4,1,8833,,,0,"Don't run os-net-config twice in CI

We're running it twice at the moment before stack and one more
time in deploy steps.

Change-Id: Ie52df7132f6165f831eda6d8e8583e661847db48
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/14/799414/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,33422e0c9fe081d9ce9232218083f60fbe575076,, {% if network_provision|bool %}--network-ports{% endif %} \, {% if network_provision|bool %}--network-config{% endif %} \,1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I38d06056b56fb14c7162d546f6d688ba6ad59a5b,openstack/tripleo-heat-templates,stable/victoria,I38d06056b56fb14c7162d546f6d688ba6ad59a5b,Adjust enable-stf.yaml for latest recommendations,ABANDONED,2021-07-05 13:40:23.000000000,2021-07-05 14:24:31.000000000,,"[{'_account_id': 4264}, {'_account_id': 13177}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 13:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5027b5837ec406b8c198e5a60a3b18f2f0af599', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 2, 'created': '2021-07-05 13:47:36.000000000', 'files': ['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fe6e38a943df1ce6d9ba0b5562d23c96c7893bd', 'message': 'Adjust enable-stf.yaml for latest recommendations\n\nAdjust the enable-stf.yaml to work with the latest recommendations for\nuse with Service Telemetry Framework. These changes provide the\nappropriate parameters to result in telemetry data being sent to STF in\na format that it expects for dashboarding and alerting purposes.\n\nRecommend configuration of ceilometer and collectd collection agents\nplus data transport configuration with existing environment files in\norder to avoid duplicating the resource registry for service enablement.\nBy separating the data collectors and data transports from the\nconfiguration more flexibility for different architectures is possible.\n\nConfiguration options that have existing defaults defined in other\nlocations have also been removed in order to keep things cleaner.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/787254\nChange-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,799481,3fe6e38a943df1ce6d9ba0b5562d23c96c7893bd,6,4,2,7294,,,0,"Adjust enable-stf.yaml for latest recommendations

Adjust the enable-stf.yaml to work with the latest recommendations for
use with Service Telemetry Framework. These changes provide the
appropriate parameters to result in telemetry data being sent to STF in
a format that it expects for dashboarding and alerting purposes.

Recommend configuration of ceilometer and collectd collection agents
plus data transport configuration with existing environment files in
order to avoid duplicating the resource registry for service enablement.
By separating the data collectors and data transports from the
configuration more flexibility for different architectures is possible.

Configuration options that have existing defaults defined in other
locations have also been removed in order to keep things cleaner.

Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/787254
Change-Id: I38d06056b56fb14c7162d546f6d688ba6ad59a5b
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/799481/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml']",2,c5027b5837ec406b8c198e5a60a3b18f2f0af599,change-799481-1,"# Enable data collection that is compatible with the STF data model. # Enablement of the collectors and transport are done with separate enviroment files. # Recommended: # - environments/metrics/ceilometer-qdr-write.yaml # - environments/metrics/collectd-qdr-write.yaml # - environments/metrics/qdr-edge-only.yaml<<<<<<< HEAD (6823e4 Merge ""Enable DPDK OVS PMD Auto Load Balance"" into stable/vi)======= # only send to STF, not other publishers EventPipelinePublishers: [] PipelinePublishers: [] >>>>>>> CHANGE (ab4c11 Adjust enable-stf.yaml for latest recommendations) # manage the polling and pipeline configuration files for Ceilometer agents ManagePolling: true ManagePipeline: true # required to set valid parameter due to typo in ceilometer-write-qdr.yaml CeilometerQdrPublishMetrics: true # enable collection of API status CollectdEnableSensubility: true CollectdSensubilityTransport: amqp1 CollectdSensubilityResultsChannel: sensubility/metrics # enable collection of containerized service metrics CollectdEnableLibpodstats: true # set collectd overrides for higher telemetry resolution and extra plugins # to load CollectdConnectionType: amqp1 CollectdAmqpInterval: 5 CollectdDefaultPollingInterval: 5 CollectdAmqpSendQueueLimit: 50 CollectdExtraPlugins: - vmem ExtraConfig: ceilometer::agent::polling::polling_interval: 30 ceilometer::agent::polling::polling_meters: - cpu - disk.* - ip.* - image.* - memory - memory.* - network.* - perf.* - port - port.* - switch - switch.* - storage.* - volume.* # receive extra information about virtual memory collectd::plugin::vmem::verbose: true # provide name and uuid in addition to hostname for better correlation # to ceilometer data collectd::plugin::virt::hostname_format: ""name uuid hostname"" # provide the human-friendly name of the virtual instance collectd::plugin::virt::plugin_instance_format: metadata # set memcached collectd plugin to report its metrics by hostname # rather than host IP, ensuring metrics in the dashboard remain uniform collectd::plugin::memcached::instances: local: host: ""%{hiera('fqdn_canonical')}"" port: 11211 ",# This heat environment can be used to enable STF client side resource_registry: OS::TripleO::Services::Collectd: ../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../deployment/metrics/qdr-container-puppet.yaml OS::TripleO::Services::Redis: ../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::CeilometerAgentCentral: ../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml CollectdAmqpInstances: notify: notify: true format: JSON presettle: false telemetry: format: JSON presettle: false MetricsQdrAddresses: - prefix: collectd distribution: multicast MetricsQdrSSLProfiles: - name: sslProfile,91,21
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ibbcdfb1d148af33e5f4b82763119adf1d61b4203,openstack/tripleo-heat-templates,stable/victoria,Ibbcdfb1d148af33e5f4b82763119adf1d61b4203,[collectd] Fix CollectdAmqpSendQueueLimit references,ABANDONED,2021-04-21 07:36:27.000000000,2021-07-05 14:20:42.000000000,,"[{'_account_id': 4264}, {'_account_id': 13177}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-21 07:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ad7230fd3d67c9e61c2fb571861b0c76cbbefd1', 'message': '[collectd] Fix CollectdAmqpSendQueueLimit references\n\nThe option CollectdAmqpSendQueueLimit was introduced in [1]\nto limit the memory usage of the collectd-amqp1 plugin.\n\nThe incorrect CollectdAmqpQueueLimit option is passed into\nenvironment files.\n\nReferences to the CollectdAmqpQueueLimit config option have\nbeen replaced with CollectdAmqpSendQueueLimit, to allow for\ncorrect configuration.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/755288\n\nChange-Id: Ibbcdfb1d148af33e5f4b82763119adf1d61b4203\n(cherry picked from commit 9a30798b3e7dff23cae0df2ee4b0566d37d23937)\n'}, {'number': 2, 'created': '2021-04-28 17:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58934cd73bfd0c028c09d571989ae60c2ee8da64', 'message': '[collectd] Fix CollectdAmqpSendQueueLimit references\n\nThe option CollectdAmqpSendQueueLimit was introduced in [1]\nto limit the memory usage of the collectd-amqp1 plugin.\n\nThe incorrect CollectdAmqpQueueLimit option is passed into\nenvironment files.\n\nReferences to the CollectdAmqpQueueLimit config option have\nbeen replaced with CollectdAmqpSendQueueLimit, to allow for\ncorrect configuration.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/755288\n\nChange-Id: Ibbcdfb1d148af33e5f4b82763119adf1d61b4203\n(cherry picked from commit 9a30798b3e7dff23cae0df2ee4b0566d37d23937)\n'}, {'number': 3, 'created': '2021-04-28 18:08:18.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml', 'environments/enable-stf.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e214b1b701259b1408969b8d1ab038a8f94f776', 'message': '[collectd] Fix CollectdAmqpSendQueueLimit references\n\nThe option CollectdAmqpSendQueueLimit was introduced in [1]\nto limit the memory usage of the collectd-amqp1 plugin.\n\nThe incorrect CollectdAmqpQueueLimit option is passed into\nenvironment files.\n\nReferences to the CollectdAmqpQueueLimit config option have\nbeen replaced with CollectdAmqpSendQueueLimit, to allow for\ncorrect configuration.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/755288\n\nChange-Id: Ibbcdfb1d148af33e5f4b82763119adf1d61b4203\n(cherry picked from commit 9a30798b3e7dff23cae0df2ee4b0566d37d23937)\n'}]",0,787254,2e214b1b701259b1408969b8d1ab038a8f94f776,10,4,3,4264,,,0,"[collectd] Fix CollectdAmqpSendQueueLimit references

The option CollectdAmqpSendQueueLimit was introduced in [1]
to limit the memory usage of the collectd-amqp1 plugin.

The incorrect CollectdAmqpQueueLimit option is passed into
environment files.

References to the CollectdAmqpQueueLimit config option have
been replaced with CollectdAmqpSendQueueLimit, to allow for
correct configuration.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/755288

Change-Id: Ibbcdfb1d148af33e5f4b82763119adf1d61b4203
(cherry picked from commit 9a30798b3e7dff23cae0df2ee4b0566d37d23937)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/787254/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/collectd-write-qdr.yaml', 'environments/enable-stf.yaml', 'ci/environments/scenario001-standalone.yaml']",3,1ad7230fd3d67c9e61c2fb571861b0c76cbbefd1,sendqueuelimit-stable/victoria,"<<<<<<< HEAD (ef28df Merge ""Limit access to sshd used for nova migration"" into st) ======= CollectdAmqpSendQueueLimit: 40 >>>>>>> CHANGE (9a3079 [collectd] Fix CollectdAmqpSendQueueLimit references)",,12,0
openstack%2Fwatcher~master~Idbc8850269d84d0a3041c17f4453b00452c9dab8,openstack/watcher,master,Idbc8850269d84d0a3041c17f4453b00452c9dab8,Enable tls-proxy as default in test jobs,MERGED,2021-06-17 07:57:22.000000000,2021-07-05 14:19:34.000000000,2021-07-05 14:17:37.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-06-17 07:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f790bb183e563d6dce042f71444838335e70f068', 'message': 'Enable tls-proxy as default in test jobs\n\nChange-Id: Idbc8850269d84d0a3041c17f4453b00452c9dab8\n'}, {'number': 2, 'created': '2021-07-01 08:25:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/204992ff6fd0c920426e76ade0daebbb2cd95c39', 'message': 'Enable tls-proxy as default in test jobs\n\nChange-Id: Idbc8850269d84d0a3041c17f4453b00452c9dab8\n'}]",0,796781,204992ff6fd0c920426e76ade0daebbb2cd95c39,13,4,2,12404,,,0,"Enable tls-proxy as default in test jobs

Change-Id: Idbc8850269d84d0a3041c17f4453b00452c9dab8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/81/796781/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f790bb183e563d6dce042f71444838335e70f068,exame-tls-proxy,, - watcher-tls-test name: watcher-tls-test parent: watcher-tempest-multinode group-vars: subnode: devstack_services: tls-proxy: true vars: devstack_services: tls-proxy: true - job: # We need to add TLS support for watcher plugin tls-proxy: false tls-proxy: false,0,15
openstack%2Fneutron~stable%2Fvictoria~I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,openstack/neutron,stable/victoria,I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,[OVN] Do not fail when processing SG rule deletion,MERGED,2021-07-02 14:01:01.000000000,2021-07-05 14:19:11.000000000,2021-07-05 14:16:40.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 14:01:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32c6a39a8cf35c75800c35ac5fe6b15ca99e3c34', 'message': '[OVN] Do not fail when processing SG rule deletion\n\nWhen a security group rule deletion command is issued, before executing\nthe database operations, a ""BEFORE_DELETE"" event is raised.\n\nThe OVN handler attending to this event should not fail if the security\ngroup rule does not exist; the database transaction [1]  will in case of\nnot finding it, raising the correct exception and HTTP 404 error:\n\n  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \\\n    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \\\n    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \\\n    status: 404 len: 348 time: 0.0352871\n\n[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f\nCloses-Bug: #1933638\n(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)\n'}]",0,799210,32c6a39a8cf35c75800c35ac5fe6b15ca99e3c34,10,3,1,16688,,,0,"[OVN] Do not fail when processing SG rule deletion

When a security group rule deletion command is issued, before executing
the database operations, a ""BEFORE_DELETE"" event is raised.

The OVN handler attending to this event should not fail if the security
group rule does not exist; the database transaction [1]  will in case of
not finding it, raising the correct exception and HTTP 404 error:

  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \
    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \
    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \
    status: 404 len: 348 time: 0.0352871

[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f
Closes-Bug: #1933638
(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/799210/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,32c6a39a8cf35c75800c35ac5fe6b15ca99e3c34,bug/1933638,"from neutron.extensions import securitygroup as ext_sg try: sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id')) except ext_sg.SecurityGroupRuleNotFound: return "," sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id'))",7,2
openstack%2Fneutron~stable%2Fwallaby~I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,openstack/neutron,stable/wallaby,I58f6e5b309e089f6681d2c4bbff4ff7fda96435f,[OVN] Do not fail when processing SG rule deletion,MERGED,2021-07-02 13:57:12.000000000,2021-07-05 14:18:54.000000000,2021-07-05 14:16:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 13:57:12.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/58e9da409d157a66b9cd9920a37a97dc4bd64264', 'message': '[OVN] Do not fail when processing SG rule deletion\n\nWhen a security group rule deletion command is issued, before executing\nthe database operations, a ""BEFORE_DELETE"" event is raised.\n\nThe OVN handler attending to this event should not fail if the security\ngroup rule does not exist; the database transaction [1]  will in case of\nnot finding it, raising the correct exception and HTTP 404 error:\n\n  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \\\n    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \\\n    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \\\n    status: 404 len: 348 time: 0.0352871\n\n[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f\nCloses-Bug: #1933638\n(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)\n'}]",0,799209,58e9da409d157a66b9cd9920a37a97dc4bd64264,15,3,1,16688,,,0,"[OVN] Do not fail when processing SG rule deletion

When a security group rule deletion command is issued, before executing
the database operations, a ""BEFORE_DELETE"" event is raised.

The OVN handler attending to this event should not fail if the security
group rule does not exist; the database transaction [1]  will in case of
not finding it, raising the correct exception and HTTP 404 error:

  Jun 29 16:58:28 dev20 neutron-server[8820]: INFO neutron.wsgi [None \
    req-1821ec9f-2439-420b-80eb-1138896de865 demo admin] 192.168.10.70 \
    ""GET /v2.0/security-group-rules/missing_sg_rule_example HTTP/1.1"" \
    status: 404 len: 348 time: 0.0352871

[1]https://github.com/openstack/neutron/blob/6196c0873b4af9abd9055bf92478ff05ae090104/neutron/db/securitygroups_db.py#L858-L868

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: I58f6e5b309e089f6681d2c4bbff4ff7fda96435f
Closes-Bug: #1933638
(cherry picked from commit 6a74cd76fd006d7c88575fc7ae39a3b499ac7d54)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/799209/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,58e9da409d157a66b9cd9920a37a97dc4bd64264,bug/1933638,"from neutron.extensions import securitygroup as ext_sg try: sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id')) except ext_sg.SecurityGroupRuleNotFound: return "," sg_rule = self._plugin.get_security_group_rule( kwargs['context'], kwargs.get('security_group_rule_id'))",7,2
openstack%2Fopenstack-ansible-specs~master~I345f16d0956b8e397b282902a211159e11f902c8,openstack/openstack-ansible-specs,master,I345f16d0956b8e397b282902a211159e11f902c8,Remove testr,MERGED,2021-06-30 14:48:48.000000000,2021-07-05 14:01:18.000000000,2021-07-05 14:00:08.000000000,"[{'_account_id': 13095}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-30 14:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/6f8b1b9c5eaa9d9b6e3d2024f18fae3ebf585ec4', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore file accordingly\n* Use 3.18.0 as the minversion for tox in order to use\n  allowlist_externals option\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I345f16d0956b8e397b282902a211159e11f902c8\n'}, {'number': 2, 'created': '2021-07-05 12:08:19.000000000', 'files': ['tests/test_titles.py', 'tools/with_venv.sh', '.testr.conf', 'tox.ini', 'tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b7df3a48e4bbc53500c64e8943159e2c7b30ba1e', 'message': 'Remove testr\n\n* Remove tests and tools directories since openstack-specs-jobs runs\n  only docs\n* Remove .testr.conf as there are will be no tests directory present in\n  this repository after this change and update .gitignore accordingly\n* Use 3.18.0 as the minversion for tox in order to use\n  allowlist_externals option\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I345f16d0956b8e397b282902a211159e11f902c8\n'}]",0,798906,b7df3a48e4bbc53500c64e8943159e2c7b30ba1e,15,6,2,33370,,,0,"Remove testr

* Remove tests and tools directories since openstack-specs-jobs runs
  only docs
* Remove .testr.conf as there are will be no tests directory present in
  this repository after this change and update .gitignore accordingly
* Use 3.18.0 as the minversion for tox in order to use
  allowlist_externals option

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I345f16d0956b8e397b282902a211159e11f902c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/06/798906/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf']",4,6f8b1b9c5eaa9d9b6e3d2024f18fae3ebf585ec4,stestr,[DEFAULT] test_path=./tests/ top_dir=./ ,,6,6
openstack%2Fkayobe~stable%2Fvictoria~I67f0e48ee03b150f6fe52b1a3e7e727b79207231,openstack/kayobe,stable/victoria,I67f0e48ee03b150f6fe52b1a3e7e727b79207231,Prevent matching unrelated images,MERGED,2021-07-02 16:11:38.000000000,2021-07-05 14:00:16.000000000,2021-07-05 13:59:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 16:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c0c169d91188960870b7afb7c068a8f045787172', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)\n'}, {'number': 2, 'created': '2021-07-02 16:13:33.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67c2e1220ca536ca549728821e8c2258dae71a49', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)\n'}]",0,799247,67c2e1220ca536ca549728821e8c2258dae71a49,10,3,2,14826,,,0,"Prevent matching unrelated images

Because regexes defined by Kayobe are not strict enough, Kolla can build
container images unrelated to the deployment. For example, the default
service configuration will build:

- centos-binary-barbican-keystone-listener (matches keystone)
- centos-binary-prometheus-memcached-exporter (matches memcached)

This commit makes regexes stricter to avoid unecessary builds. Note that
some images are still built unecessarily, such as nova-compute-ironic
when ironic is disabled or neutron-metadata-agent-ovn when ovn is
disabled.

Change-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231
(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/799247/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,c0c169d91188960870b7afb7c068a8f045787172,image-regexes-stable/victoria," - regex: ^aodh - regex: ^barbican - regex: ^blazar - regex: ^ceilometer - regex: ^chrony - regex: ^cinder - regex: ^cloudkitty - regex: ^collectd - regex: ^cron - regex: ^cyborg - regex: ^designate - regex: ^dnsmasq - regex: ^elasticsearch - regex: ^etcd - regex: ^fluentd - regex: ^glance - regex: ^gnocchi - regex: ^grafana - regex: ^heat - regex: ^horizon - regex: ^influxdb - regex: ^ironic - regex: ^iscsid - regex: ^kafka<<<<<<< HEAD (0a854b Merge ""Remove outdated upgrade step"" into stable/victoria)======= - regex: ^keepalived >>>>>>> CHANGE (f575f4 Prevent matching unrelated images) - regex: ^keystone - regex: ^kibana - regex: ^logstash - regex: ^kuryr - regex: ^magnum - regex: ^manila - regex: ^mariadb - regex: ^masakari - regex: ^memcached - regex: ^mistral - regex: ^multipathd - regex: ^murano - regex: ^nova - regex: ^octavia - regex: ^openvswitch - regex: ^ovn - regex: ^ovsdpdk - regex: ^panko - regex: ^placement - regex: ^prometheus - regex: ^qdrouterd<<<<<<< HEAD (0a854b Merge ""Remove outdated upgrade step"" into stable/victoria)======= - regex: ^rabbitmq >>>>>>> CHANGE (f575f4 Prevent matching unrelated images) - regex: ^rally - regex: ^redis - regex: ^sahara<<<<<<< HEAD (0a854b Merge ""Remove outdated upgrade step"" into stable/victoria)======= - regex: ^senlin >>>>>>> CHANGE (f575f4 Prevent matching unrelated images) - regex: ^skydive - regex: ^solum - regex: ^storm - regex: ^swift - regex: ^tacker - regex: ^telegraf - regex: ^tempest - regex: ^tgtd - regex: ^trove - regex: ^vitrage - regex: ^vmtp - regex: ^watcher - regex: ^zookeeper - regex: ^zun", - regex: aodh - regex: barbican - regex: blazar - regex: ceilometer - regex: chrony - regex: cinder - regex: cloudkitty - regex: collectd - regex: cron - regex: cyborg - regex: designate - regex: dnsmasq - regex: elasticsearch - regex: etcd - regex: fluentd - regex: glance - regex: gnocchi - regex: grafana - regex: heat - regex: horizon - regex: influxdb - regex: ironic - regex: iscsid - regex: kafka - regex: keystone - regex: kibana - regex: logstash - regex: kuryr - regex: magnum - regex: manila - regex: mariadb - regex: masakari - regex: memcached - regex: mistral - regex: multipathd - regex: murano - regex: nova - regex: octavia - regex: openvswitch - regex: ovn - regex: ovsdpdk - regex: panko - regex: placement - regex: prometheus - regex: qdrouterd - regex: rally - regex: redis - regex: sahara - regex: skydive - regex: solum - regex: storm - regex: swift - regex: tacker - regex: telegraf - regex: tempest - regex: tgtd - regex: trove - regex: vitrage - regex: vmtp - regex: watcher - regex: zookeeper - regex: zun,74,62
openstack%2Fwatcher-dashboard~master~Id18945b881d150f972dbbd5522010be0157fba17,openstack/watcher-dashboard,master,Id18945b881d150f972dbbd5522010be0157fba17,Fix create audit fail from audit_template,MERGED,2021-06-03 02:37:33.000000000,2021-07-05 13:47:29.000000000,2021-07-05 13:46:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-06-03 02:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/b4a8a2ebe3930b2cf161d784f6413a3c1466e785', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n'}, {'number': 2, 'created': '2021-06-03 02:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/b3e198622814f41342db5bb0b79985876eedc16b', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n'}, {'number': 3, 'created': '2021-06-03 03:25:57.000000000', 'files': ['watcher_dashboard/test/api_tests/test_watcher.py', 'watcher_dashboard/api/watcher.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/2ee3c6015c5347c75727f5afd2059e4060a1da1f', 'message': 'Fix create audit fail from audit_template\n\nThe name is a positional parameter in create() of audit,\nbut this parameter is not defined when calling from the\naudit template. This patch fix it.\n\nRelated Bug: #1930565\nChange-Id: Id18945b881d150f972dbbd5522010be0157fba17\n'}]",1,794367,2ee3c6015c5347c75727f5afd2059e4060a1da1f,14,3,3,31455,,,0,"Fix create audit fail from audit_template

The name is a positional parameter in create() of audit,
but this parameter is not defined when calling from the
audit template. This patch fix it.

Related Bug: #1930565
Change-Id: Id18945b881d150f972dbbd5522010be0157fba17
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/67/794367/3 && git format-patch -1 --stdout FETCH_HEAD,['watcher_dashboard/api/watcher.py'],1,b4a8a2ebe3930b2cf161d784f6413a3c1466e785,fix_create_audit," def create(cls, request, audit_template_uuid, audit_type, name=None, auto_trigger=False, interval=None):"," def create(cls, request, name, audit_template_uuid, audit_type, auto_trigger=False, interval=None):",2,2
openstack%2Fironic~bugfix%2F18.0~I25c28df048c706f0c5b013b4d252f09d5a7e57bd,openstack/ironic,bugfix/18.0,I25c28df048c706f0c5b013b4d252f09d5a7e57bd,Fix ramdisk boot option handling,MERGED,2021-06-28 09:15:11.000000000,2021-07-05 13:37:58.000000000,2021-07-05 13:36:32.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-28 09:15:11.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c32c18b3304c44adac1c9ce7b8f9078ee7cf4c2e', 'message': 'Fix ramdisk boot option handling\n\nThe current ramdisk deploy code expects a user to set the boot_option\ncapability to ""ramdisk"". Not only is it redundant, it\'s also not\ndocumented, so chances are high nobody has ever done that.\n\nAs a side effect of e6bb99cd8ff94a24c3f2108e649c7ca39189d220 boot\ninterfaces no longer validate kernel/ramdisk/image if boot option\nis ""local"". Unless a user explicitly sets boot option to ""ramdisk"",\nthe validation will be skipped for the ramdisk deploy.\n\nThis patch follows the pattern of the anaconda deploy and makes\nget_boot_option always return ""ramdisk"" for the ramdisk deploy.\n\nIn the future we need to refactor this code so that the deploy interface\nprovides the boot option it works with, but that is a lot of changes.\n\nChange-Id: I25c28df048c706f0c5b013b4d252f09d5a7e57bd\n(cherry picked from commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1)\n'}]",0,798269,c32c18b3304c44adac1c9ce7b8f9078ee7cf4c2e,10,3,1,10239,,,0,"Fix ramdisk boot option handling

The current ramdisk deploy code expects a user to set the boot_option
capability to ""ramdisk"". Not only is it redundant, it's also not
documented, so chances are high nobody has ever done that.

As a side effect of e6bb99cd8ff94a24c3f2108e649c7ca39189d220 boot
interfaces no longer validate kernel/ramdisk/image if boot option
is ""local"". Unless a user explicitly sets boot option to ""ramdisk"",
the validation will be skipped for the ramdisk deploy.

This patch follows the pattern of the anaconda deploy and makes
get_boot_option always return ""ramdisk"" for the ramdisk deploy.

In the future we need to refactor this code so that the deploy interface
provides the boot option it works with, but that is a lot of changes.

Change-Id: I25c28df048c706f0c5b013b4d252f09d5a7e57bd
(cherry picked from commit d7a5b3469cfb5c16e122451e9cd8594d7a7671a1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/798269/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py']",3,c32c18b3304c44adac1c9ce7b8f9078ee7cf4c2e,,," self.assertEqual({'boot_option': 'ramdisk'}, task.node.instance_info['capabilities']) @mock.patch.object(pxe.LOG, 'warning', autospec=True) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', autospec=True) def test_prepare_fixes_and_logs_boot_option_warning( self, mock_prepare_instance, mock_warning): node = self.node node.properties['capabilities'] = 'boot_option:ramdisk' node.provision_state = states.DEPLOYING node.instance_info = {} node.save() with task_manager.acquire(self.context, node.uuid) as task: task.driver.deploy.prepare(task) self.assertFalse(mock_prepare_instance.called) self.assertEqual({'boot_option': 'ramdisk'}, task.node.instance_info['capabilities']) self.assertTrue(mock_warning.called) ",10,31
openstack%2Ftripleo-validations~stable%2Ftrain~Iafc38c6cd99edee89ae0305f09fe7080df148331,openstack/tripleo-validations,stable/train,Iafc38c6cd99edee89ae0305f09fe7080df148331,Get the undercloud.conf file from where it actually is,MERGED,2021-04-09 14:00:28.000000000,2021-07-05 13:35:53.000000000,2021-07-05 13:35:53.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-09 14:00:28.000000000', 'files': ['roles/neutron_sanity_check/tasks/main.yml', 'roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/ceilometerdb_size/tasks/main.yml', 'roles/undercloud_heat_purge_deleted/tasks/main.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/converge.yml', 'roles/container_status/tasks/main.yaml', 'roles/undercloud_heat_purge_deleted/molecule/default/prepare.yml', 'roles/tls_everywhere/tasks/prep.yaml', 'roles/check_network_gateway/molecule/default/prepare.yml', 'roles/undercloud_process_count/tasks/main.yml', 'roles/ctlplane_ip_range/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/ctlplane_ip_range/tasks/main.yml', 'roles/check_network_gateway/molecule/default/converge.yml', 'roles/check_network_gateway/tasks/main.yml', 'roles/dhcp_validations/tasks/dhcp-provisioning.yaml', 'roles/ctlplane_ip_range/molecule/default/converge.yml', 'roles/tls_everywhere/tasks/pre-deployment.yaml', 'roles/undercloud_tokenflush/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/18325474cb690e9680415c04b663c2b7e0fc9aa2', 'message': ""Get the undercloud.conf file from where it actually is\n\nSince the deprecation of Mistral in THT, we can't get the path of this\nfile by using hiera anymore. This patch will get it directly in its\noriginal place ($HOME/undercloud.conf) by using *ansible_env.HOME* fact.\n\nImpacted Validations:\n playbooks/ceilometerdb-size.yaml\n playbooks/check-network-gateway.yaml\n playbooks/check-undercloud-conf.yaml\n playbooks/container-status.yaml\n playbooks/ctlplane-ip-range.yaml\n playbooks/dhcp-provisioning.yaml\n playbooks/neutron-sanity-check.yaml\n playbooks/tls-everywhere-pre-deployment.yaml\n playbooks/tls-everywhere-prep.yaml\n playbooks/undercloud-heat-purge-deleted.yaml\n playbooks/undercloud-process-count.yaml\n playbooks/undercloud-tokenflush.yaml\n\nThis patch also fixes every molecule tests accordingly.\n\nNB: check_network_gateway molecule test is now voting in the CI.\n\nCloses-Bug: 1907553\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Iafc38c6cd99edee89ae0305f09fe7080df148331\n(cherry picked from commit bc31f762c22b7edffd9429db9f61bbcb0546aa75)\n(cherry picked from commit f4ea045e425f8c4e7a21e24c8e7c398a374db113)\n(cherry picked from commit a3eafbd6a2e2b82abffe6a1e19f8b2af67b54df9)\n""}]",0,785647,18325474cb690e9680415c04b663c2b7e0fc9aa2,8,6,1,11491,,,0,"Get the undercloud.conf file from where it actually is

Since the deprecation of Mistral in THT, we can't get the path of this
file by using hiera anymore. This patch will get it directly in its
original place ($HOME/undercloud.conf) by using *ansible_env.HOME* fact.

Impacted Validations:
 playbooks/ceilometerdb-size.yaml
 playbooks/check-network-gateway.yaml
 playbooks/check-undercloud-conf.yaml
 playbooks/container-status.yaml
 playbooks/ctlplane-ip-range.yaml
 playbooks/dhcp-provisioning.yaml
 playbooks/neutron-sanity-check.yaml
 playbooks/tls-everywhere-pre-deployment.yaml
 playbooks/tls-everywhere-prep.yaml
 playbooks/undercloud-heat-purge-deleted.yaml
 playbooks/undercloud-process-count.yaml
 playbooks/undercloud-tokenflush.yaml

This patch also fixes every molecule tests accordingly.

NB: check_network_gateway molecule test is now voting in the CI.

Closes-Bug: 1907553

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Iafc38c6cd99edee89ae0305f09fe7080df148331
(cherry picked from commit bc31f762c22b7edffd9429db9f61bbcb0546aa75)
(cherry picked from commit f4ea045e425f8c4e7a21e24c8e7c398a374db113)
(cherry picked from commit a3eafbd6a2e2b82abffe6a1e19f8b2af67b54df9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/785647/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/neutron_sanity_check/tasks/main.yml', 'roles/undercloud_tokenflush/molecule/default/converge.yml', 'roles/ceilometerdb_size/tasks/main.yml', 'roles/undercloud_heat_purge_deleted/tasks/main.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/converge.yml', 'roles/container_status/tasks/main.yaml', 'roles/undercloud_heat_purge_deleted/molecule/default/prepare.yml', 'roles/tls_everywhere/tasks/prep.yaml', 'roles/check_network_gateway/molecule/default/prepare.yml', 'roles/undercloud_process_count/tasks/main.yml', 'roles/ctlplane_ip_range/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'roles/undercloud_tokenflush/molecule/default/prepare.yml', 'roles/ctlplane_ip_range/tasks/main.yml', 'roles/check_network_gateway/molecule/default/converge.yml', 'roles/check_network_gateway/tasks/main.yml', 'roles/dhcp_validations/tasks/dhcp-provisioning.yaml', 'roles/ctlplane_ip_range/molecule/default/converge.yml', 'roles/tls_everywhere/tasks/pre-deployment.yaml', 'roles/undercloud_tokenflush/tasks/main.yml']",20,18325474cb690e9680415c04b663c2b7e0fc9aa2,," - name: Ensure we get needed facts setup: gather_subset: - '!all' - '!any' - '!min' - env path: ""{{ ansible_env.HOME }}/undercloud.conf"""," - name: Get the path of tripleo undercloud config file become: true hiera: name=""tripleo_undercloud_conf_file"" path: ""{{ tripleo_undercloud_conf_file }}""",134,184
openstack%2Fneutron~master~I185055b9387a1d473e3a2b8903f35c3f490c6f31,openstack/neutron,master,I185055b9387a1d473e3a2b8903f35c3f490c6f31,Add policy rules for extraroute-atomic API,MERGED,2021-06-14 12:57:15.000000000,2021-07-05 13:30:39.000000000,2021-07-05 13:28:52.000000000,"[{'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-14 12:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e09cb7b79a46b3be3efdfc2715b8890248305bcb', 'message': 'Add policy rules for extraroute-atomic API\n\nThis patch adds default RBAC policy rules for {add,remove}-extraroute\nAPI which was introduces few cycles ago.\nTo be consistent with rules for other APIs, it adds deprecated ""old\nstyle"" rules and rules with personas and scopes at once.\n\nChange-Id: I185055b9387a1d473e3a2b8903f35c3f490c6f31\n'}, {'number': 2, 'created': '2021-06-15 06:45:43.000000000', 'files': ['neutron/conf/policies/router.py', 'neutron/tests/unit/conf/policies/test_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4df01d6eaa39ac38bcbd5a467fe55ebb29cf05dd', 'message': 'Add policy rules for extraroute-atomic API\n\nThis patch adds default RBAC policy rules for {add,remove}-extraroute\nAPI which was introduces few cycles ago.\nTo be consistent with rules for other APIs, it adds deprecated ""old\nstyle"" rules and rules with personas and scopes at once.\n\nChange-Id: I185055b9387a1d473e3a2b8903f35c3f490c6f31\n'}]",1,796272,4df01d6eaa39ac38bcbd5a467fe55ebb29cf05dd,38,5,2,11975,,,0,"Add policy rules for extraroute-atomic API

This patch adds default RBAC policy rules for {add,remove}-extraroute
API which was introduces few cycles ago.
To be consistent with rules for other APIs, it adds deprecated ""old
style"" rules and rules with personas and scopes at once.

Change-Id: I185055b9387a1d473e3a2b8903f35c3f490c6f31
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/796272/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/router.py', 'neutron/tests/unit/conf/policies/test_router.py']",2,e09cb7b79a46b3be3efdfc2715b8890248305bcb,extraroutes-atomic-policies,"from oslo_utils import uuidutils class ExtrarouteAPITestCase(base.PolicyBaseTestCase): def setUp(self): super(ExtrarouteAPITestCase, self).setUp() self.router = { 'id': uuidutils.generate_uuid(), 'project_id': self.project_id} self.target = { 'project_id': self.project_id, 'router_id': self.router['id'], 'ext_parent_router_id': self.router['id']} self.alt_target = { 'project_id': self.alt_project_id, 'router_id': self.router['id'], 'ext_parent_router_id': self.router['id']} class SystemAdminExtrarouteTests(ExtrarouteAPITestCase): def setUp(self): super(SystemAdminExtrarouteTests, self).setUp() self.context = self.system_admin_ctx def test_add_extraroute(self): self.assertTrue( policy.enforce(self.context, 'add_extraroutes', self.target)) self.assertTrue( policy.enforce(self.context, 'add_extraroutes', self.alt_target)) def test_remove_extraroute(self): self.assertTrue( policy.enforce(self.context, 'remove_extraroutes', self.target)) self.assertTrue( policy.enforce( self.context, 'remove_extraroutes', self.alt_target)) class SystemMemberExtrarouteTests(SystemAdminExtrarouteTests): def setUp(self): super(SystemMemberExtrarouteTests, self).setUp() self.context = self.system_member_ctx def test_add_extraroute(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_extraroutes', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_extraroutes', self.alt_target) def test_remove_extraroute(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.alt_target) class SystemReaderExtrarouteTests(SystemMemberExtrarouteTests): def setUp(self): super(SystemReaderExtrarouteTests, self).setUp() self.context = self.system_reader_ctx class ProjectAdminExtrarouteTests(ExtrarouteAPITestCase): def setUp(self): super(ProjectAdminExtrarouteTests, self).setUp() self.context = self.project_admin_ctx def test_add_extraroute(self): self.assertTrue( policy.enforce(self.context, 'add_extraroutes', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.alt_target) def test_remove_extraroute(self): self.assertTrue( policy.enforce(self.context, 'remove_extraroutes', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.alt_target) class ProjectMemberExtrarouteTests(ProjectAdminExtrarouteTests): def setUp(self): super(ProjectMemberExtrarouteTests, self).setUp() self.context = self.project_member_ctx class ProjectReaderExtrarouteTests(ProjectMemberExtrarouteTests): def setUp(self): super(ProjectReaderExtrarouteTests, self).setUp() self.context = self.project_reader_ctx def test_add_extraroute(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_extraroutes', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'add_extraroutes', self.alt_target) def test_remove_extraroute(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'remove_extraroutes', self.alt_target)",,164,0
openstack%2Fironic-inspector~master~Ie8016623251fb0f55335c64252060d4ce966dc96,openstack/ironic-inspector,master,Ie8016623251fb0f55335c64252060d4ce966dc96,Fix broken links in CONTRIBUTING.rst,MERGED,2021-07-01 12:37:11.000000000,2021-07-05 13:23:53.000000000,2021-07-05 13:22:36.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-01 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ab618c01a0f100f21afaeddc395bc54bca7d2bd2', 'message': 'Fix broken links in CONTRIBUTING.rst\n\nChange-Id: Ie8016623251fb0f55335c64252060d4ce966dc96\n'}, {'number': 2, 'created': '2021-07-01 17:52:04.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/072ebdc1f18c12974e7fefbb9d6b7b79a51dfc80', 'message': 'Fix broken links in CONTRIBUTING.rst\n\n* turn on apidocs option for individual module docs\n* crosslink to information using :doc: and :ref:\n\nChange-Id: Ie8016623251fb0f55335c64252060d4ce966dc96\n'}]",4,799047,072ebdc1f18c12974e7fefbb9d6b7b79a51dfc80,13,3,2,33344,,,0,"Fix broken links in CONTRIBUTING.rst

* turn on apidocs option for individual module docs
* crosslink to information using :doc: and :ref:

Change-Id: Ie8016623251fb0f55335c64252060d4ce966dc96
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/47/799047/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,ab618c01a0f100f21afaeddc395bc54bca7d2bd2,fix-broken-links,.. _ironic_inspector.plugins.base: https://docs.openstack.org/ironic-inspector/latest/_modules/ironic_inspector/plugins/base.htmldatabase models found in `ironic_inspector.db`_ and then create a migration to.. _ironic_inspector.db: https://docs.openstack.org/ironic-inspector/latest/_modules/ironic_inspector/db.html,.. _ironic_inspector.plugins.base: https://docs.openstack.org/ironic-inspector/latest/contributor/api/ironic_inspector.plugins.base.htmldatabase models found in ironic_inspector.db_ and then create a migration to.. _ironic_inspector.db: https://docs.openstack.org/ironic-inspector/latest/contributor/api/ironic_inspector.db.html,3,3
openstack%2Fpython-watcherclient~master~Ib952d51523684ba21b1247a0cef59ea5552ecdca,openstack/python-watcherclient,master,Ib952d51523684ba21b1247a0cef59ea5552ecdca,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 02:27:51.000000000,2021-07-05 13:10:58.000000000,2021-07-05 13:09:46.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-05-04 02:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/fc40c6ca0f09eec43e22361b5186945c03fb334e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib952d51523684ba21b1247a0cef59ea5552ecdca\n""}, {'number': 2, 'created': '2021-07-03 06:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/780aa03491a655519600220dfe010411054d0b38', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib952d51523684ba21b1247a0cef59ea5552ecdca\n""}, {'number': 3, 'created': '2021-07-05 12:05:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/6a4937d18d0f2fad8632c875c847f9242edb0100', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib952d51523684ba21b1247a0cef59ea5552ecdca\n""}]",0,789468,6a4937d18d0f2fad8632c875c847f9242edb0100,13,4,3,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib952d51523684ba21b1247a0cef59ea5552ecdca
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/68/789468/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fc40c6ca0f09eec43e22361b5186945c03fb334e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-watcherclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-watcherclient/latest/ python-requires = >=3.6,4,4
openstack%2Fpython-watcherclient~master~I898cb2382aedc5a8d4b929c09f057ecf57f638b2,openstack/python-watcherclient,master,I898cb2382aedc5a8d4b929c09f057ecf57f638b2,Manage constraints with testenv install_command,ABANDONED,2021-07-02 09:14:04.000000000,2021-07-05 13:10:49.000000000,,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 31825}]","[{'number': 1, 'created': '2021-07-02 09:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/4aa0e0dc11063e030b9eec0805cd2c89e67ebf64', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I898cb2382aedc5a8d4b929c09f057ecf57f638b2\n'}, {'number': 2, 'created': '2021-07-02 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/46448bb3a1ab2337f6e5623ebb542ec17343832d', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I898cb2382aedc5a8d4b929c09f057ecf57f638b2\n'}, {'number': 3, 'created': '2021-07-02 10:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/e476bb309b04c310fc5316c34c32142e7cf98746', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nChange-Id: I898cb2382aedc5a8d4b929c09f057ecf57f638b2\n'}, {'number': 4, 'created': '2021-07-02 10:46:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/7f10ef5e1df4b4eeed4fc0f045beb0fd85df0aa4', 'message': 'Manage constraints with testenv install_command\n\nThis prevents having to duplicate the -c{} deps argument\nacross all environments in tox.ini\n\nCo-authored-by: XinxinShen <shenxinxin@inspur.com>\nChange-Id: I898cb2382aedc5a8d4b929c09f057ecf57f638b2\n'}]",0,799180,7f10ef5e1df4b4eeed4fc0f045beb0fd85df0aa4,9,4,4,29911,,,0,"Manage constraints with testenv install_command

This prevents having to duplicate the -c{} deps argument
across all environments in tox.ini

Co-authored-by: XinxinShen <shenxinxin@inspur.com>
Change-Id: I898cb2382aedc5a8d4b929c09f057ecf57f638b2
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/80/799180/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4aa0e0dc11063e030b9eec0805cd2c89e67ebf64,central-constraints,"install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} [flake8] # E123, E125 skipped as they are invalid PEP-8. show-source = True enable-extensions = H203,H106 ignore = E123,E125,W504 builtins = _ exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build [hacking] import_exceptions = watcherclient._i18n","install_command = pip install {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}[flake8] # E123, E125 skipped as they are invalid PEP-8. show-source = True enable-extensions = H203,H106 ignore = E123,E125,W504 builtins = _ exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build [hacking] import_exceptions = watcherclient._i18n ",12,15
openstack%2Fpython-watcherclient~master~I0385351f6bb08b1938568f0a69d7384556c8d78e,openstack/python-watcherclient,master,I0385351f6bb08b1938568f0a69d7384556c8d78e,Use py3 as the default runtime for tox,MERGED,2021-04-20 07:04:49.000000000,2021-07-05 12:55:15.000000000,2021-07-05 12:54:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-04-20 07:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/62930cb09632362ef7ff860ed9759312c5b45387', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I0385351f6bb08b1938568f0a69d7384556c8d78e\n'}, {'number': 2, 'created': '2021-07-05 12:04:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/d0f41996ffc6494b00339fe2ae82af974de2da15', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I0385351f6bb08b1938568f0a69d7384556c8d78e\n'}]",0,787121,d0f41996ffc6494b00339fe2ae82af974de2da15,10,2,2,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I0385351f6bb08b1938568f0a69d7384556c8d78e
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/21/787121/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,62930cb09632362ef7ff860ed9759312c5b45387,,"envlist = py3,pep8","envlist = py36,py38,pep8",1,1
openstack%2Fcharm-magnum~stable%2F21.04~I0f09b8858fbd21e6f521d8b184dc3cdba425118d,openstack/charm-magnum,stable/21.04,I0f09b8858fbd21e6f521d8b184dc3cdba425118d,rebuild - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:23:51.000000000,2021-07-05 12:36:26.000000000,2021-07-05 11:19:17.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:23:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/a00bd28b90de575ebb5f66995aabc74a2505304b', 'message': 'rebuild - restore proxy env vars for add-apt-repository\n\nChange-Id: I0f09b8858fbd21e6f521d8b184dc3cdba425118d\n'}]",0,799290,a00bd28b90de575ebb5f66995aabc74a2505304b,7,2,1,11805,,,0,"rebuild - restore proxy env vars for add-apt-repository

Change-Id: I0f09b8858fbd21e6f521d8b184dc3cdba425118d
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/90/799290/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a00bd28b90de575ebb5f66995aabc74a2505304b,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 8eb5d1fa-db58-11eb-91de-8344d0bd4b6b ",,5,0
openstack%2Fneutron-specs~master~I4c66627e6c27be5d9e7e54862788e09403befdbc,openstack/neutron-specs,master,I4c66627e6c27be5d9e7e54862788e09403befdbc,Allow multiple external gateways,MERGED,2021-03-09 15:39:42.000000000,2021-07-05 12:35:57.000000000,2021-07-05 12:34:42.000000000,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/87b9bec00f88537d729c9d663e74e7421ae0c0bf', 'message': 'WIP Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 2, 'created': '2021-03-09 17:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e859d241a0732f502cb749a40eae48a20d55d7a5', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 3, 'created': '2021-03-18 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/57bd75b7d6bd2c8d2b8bdf927d516f5481adb732', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 4, 'created': '2021-05-28 11:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2a53aa9171413055cde2b320b3e5e1a3b2f09091', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 5, 'created': '2021-06-03 15:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ca9f1e47fab8dce93162fc228ba929d56cad6d51', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 6, 'created': '2021-06-03 15:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/88d010dba81aef990e4ea68db4d62edfa767a35b', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 7, 'created': '2021-06-16 13:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9f57eeb8a5ac9748a5f6df3da540cd2249d25cc6', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}, {'number': 8, 'created': '2021-06-25 13:56:31.000000000', 'files': ['specs/xena/multiple-external-gateways.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dceafdb9880ab4c11100a79a8b4bcd32694d9ca9', 'message': 'Allow multiple external gateways\n\nChange-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc\nRelated-Bug: #1905295\n'}]",50,779511,dceafdb9880ab4c11100a79a8b4bcd32694d9ca9,39,6,8,15554,,,0,"Allow multiple external gateways

Change-Id: I4c66627e6c27be5d9e7e54862788e09403befdbc
Related-Bug: #1905295
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/779511/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/xena/index.rst', 'specs/xena/multiple-external-gateways.rst']",3,87b9bec00f88537d729c9d663e74e7421ae0c0bf,multi-ext-gw,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Allow multiple external gateways on a router ============================================ RFE: https://bugs.launchpad.net/neutron/+bug/1905295 This spec proposes to allow a Neutron router to have multiple external gateways, so we can represent router designs where the router has multiple legs towards the outside world for reasons of higher capacity (typically load balanced between these legs) and higher availability (tolerating the failure of a router uplink or a router gateway port). Problem Description =================== Below we describe one cloud design that required us to allow multiple external gateways on a single router. However the feature proposed in this spec is in no way specific to this design, this spec only strives to allow multiple external gateways for any design that needs it. The Neutron router is an active-active HA router. Compute hosts are connected to the Neutron router via an MLAG, the two sides of the router present a single IP to the computes. There is a single logical router one hop away from the Neutron router towards the external world (from here on: datacenter gateway) which is also an active-active HA router. The Neutron router and the datacenter gateway are interconnected by 2x2 point-to-point links (from each side to each side). The Neutron router in this setup has 4 links towards the external world. Proposed Change =============== Overall Picture --------------- The information in an ``external_gateway_info`` structure is used to create a gateway port. A gateway port is a router leg, where beyond packet forwarding, we perform SNAT (if enabled) and DNAT (for floating IPs) and which influences the default route of that router. Given multiple ``external_gateway_info`` structures we can straightforwardly create multiple gateway ports. We can also straightforwardly install the directly connected routes of the additional external gateways. With only one external gateway - regarding packet forwarding - naturally only the internal-internal and internal-external directions exist. However with multiple external gateways the external-external direction also becomes possible. For the sake of simplicity this spec proposes to allow packet forwading from one external gateway to another. If required, a follow-up spec may propose finer control of external-external packet forwarding. However the default route of a router cannot be multiplied without complex consequences (e.g. load balancing between multiple nexthops). So for the sake of simplicity for each router we retain one external gateway as special. The special one is used to set the default route of a router as before, while the other external gateways have no influence on the default route. NATting and reservation of floating IPs can be performed for each external gateway as usual, but please see the 'Out of Scope' section. The first implementation targets centralized routers on l3-agent. Out of Scope ------------ First of all, overall support for active-active HA routers is not targeted here. The usual set of implicitly managed routes in a Neutron router are: * One directly connected route for each router interface. * One directly connected route for each gateway port. * One default route to the single gateway port's subnet's ``gateway_ip``. Keeping to this logic, when we add further gateway ports, we also add a directly connected route for each additional gateway port. Therefore some traffic will be already sent via the gateway ports. Also traffic may reach the gateway ports from outside. However the majority of traffic will be sent via the default route. Here this is intentiontinally left as is. Further management of routes (to make the additional external gateways actually used) is left to: * Managing additional routes via the extraroutes API. * Future improvements to neutron-dynamic-routing so a Neutron router can also receive (not just advertise) additional routes. Since the extraroutes API is already available, we believe that some use of the multiple external gateways can be realized as soon as this feature is merged. The advertisement of any routes with the newly introduced additional external gateways as nexthops (for tenant networks or floating IPs) is also out of scope here. We believe that advertising such routes via routing protocols clearly makes sense, however: * This can be covered by a later spec in neutron-dynamic-routing and * basic use of the changes proposed here is possible without routing protocols. Backwards compatibility ----------------------- We propose to store and expose the external gateways a bit redundantly to make backwards compatibility easier. Where possible (API, DB, RPC) keep the current scalar external gateway (or gateway port) attribute of a router as is. But also add a new router attribute for the plural: external gateways or gateway ports which contain a list of (not just the rest but) all such objects. So the object in the scalar attribute is present in this list too - preferably as the first element of the list. This is just a high level approach that aims to leave all code unchanged where we only need to keep backwards compatible behavior. DB Impact --------- The current DB schema contains the router - external gateway relations somewhat redundantly. First in the ``routerports`` table there is no constraint on the number of ports with type ``network:router_gateway`` belonging to one router. Today we only store at most one ``network:router_gateway`` port for each router, but the DB schema allows more. https://opendev.org/openstack/neutron/src/commit/b7c4a11158786431c262cfcc2fc4bc46ab6bacd2/neutron/db/models/l3.py#L24 Second the ``gw_port_id`` column of the ``routers`` table is a scalar. Today it stores the same port uuid as we have in the ``routerports`` table. https://opendev.org/openstack/neutron/src/commit/b7c4a11158786431c262cfcc2fc4bc46ab6bacd2/neutron/db/models/l3.py#L54 We propose: * To keep the SQL schema as is, but start storing multiple ``network:router_gateway`` ports in the ``routerports`` table. * To also keep ``routers.gw_port_id`` scalar and there store the one special, backwards compatible external gateway (so this one is present both in the ``routerports`` table and in ``routers.gw_port_id``). * To extend the ``neutron.db.models.l3.Router`` class with new attribute ``gw_ports`` that map to all relevant ``network:router_gateway`` ports stored in the ``routerports`` table. REST API Impact --------------- Introduce a new API extension called ``multiple-external-gateways``. This extension adds a new router attribute: ``external_gateways``. Which is a list of ``external_gateway_info`` structures, for example: :: [ {""network_id"": ..., ""external_fixed_ips"": [{""ip_address"": ..., ""subnet_id"": ...}, ...], ""enable_snat"": ...}, ... ] The first element in the list is special: * It is always the same as the original ``external_gateway_info``. * It is the one that sets the default route of the Neutron router. The order of the the rest of the list is irrelevant and ignored. Duplicates in the list (that is multiple external gateways with the same ``network_id``) are not allowed. Updating ``external_gateway_info`` also updates the first element of ``external_gateways`` and it leaves the rest of ``external_gateways`` unchanged. Setting ``external_gateway_info`` to an empty value also resets ``external_gateways`` to the empty list. The ``external_gateways`` attribute cannot be set in ``POST /v2.0/routers`` or ``PUT /v2.0/routers/{router_id}`` requests, instead it can be managed via sub-methods: * ``PUT /v2.0/routers/{router_id}/add_external_gateways`` Accepts a list of ``external_gateway_info`` structures. Adding an external gateway to a network that already has one raises an error. * ``PUT /v2.0/routers/{router_id}/update_external_gateways`` Accepts a list of ``external_gateway_info`` structures. The external gateways to be updated are identified by the ``network_ids`` found in the PUT request. The ``external_fixed_ips`` and ``enable_snat`` fields can be updated. The ``network_id`` field cannot be updated. * ``PUT /v2.0/routers/{router_id}/remove_external_gateways`` Accepts a list of potentially partial ``external_gateway_info`` structures. Only the ``network_id`` field from ``external_gateway_info`` structure is used. The ``external_fixed_ips`` and ``enable_snat`` keys can be present but their values are ignored. The add/update/remove PUT sub-methods respond with the whole router object just as ``POST/PUT/GET /v2.0/routers``. RPC Impact ---------- The ``sync_routers`` message already has a ``gw_port`` field. Extend the message to also include a ``gw_ports`` field containing all gateway ports. Bump the rpc version of this message. L3 Agent Impact --------------- TODO I still need to cover this in my POC Upgrade Impact -------------- The ``sync_routers`` RPC message will have a new version. Client ------ Relevant changes in osc and openstacksdk. Testing ------- * Unit tests. * Fullstack tests for l3-agent. * Tempest tests in neutron-tempest-plugin. Assignee(s) ----------- * Bence Romsics <bence.romsics@gmail.com> ",,250,0
openstack%2Freleases~master~Ib80df4a089f181a369580941347e12b89edc4850,openstack/releases,master,Ib80df4a089f181a369580941347e12b89edc4850,Release OpenStack-Ansible RC2,MERGED,2021-07-02 20:57:50.000000000,2021-07-05 12:35:13.000000000,2021-07-05 12:35:13.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 20:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b42f68ae53f38a650c274a405e375ded9f8e4c65', 'message': 'Release OpenStack-Ansible Wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/799329\nChange-Id: Ib80df4a089f181a369580941347e12b89edc4850\n'}, {'number': 2, 'created': '2021-07-04 05:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/72304c759d36404cb82ebb1e90921398f8cd1538', 'message': 'Release OpenStack-Ansible Wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/799329\nChange-Id: Ib80df4a089f181a369580941347e12b89edc4850\n'}, {'number': 3, 'created': '2021-07-04 05:31:33.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/46aea901437526f4200a903a86bcc92cc56ebd68', 'message': 'Release OpenStack-Ansible RC2\n\nChange-Id: Ib80df4a089f181a369580941347e12b89edc4850\n'}]",0,799330,46aea901437526f4200a903a86bcc92cc56ebd68,14,3,3,28619,,,0,"Release OpenStack-Ansible RC2

Change-Id: Ib80df4a089f181a369580941347e12b89edc4850
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/799330/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,b42f68ae53f38a650c274a405e375ded9f8e4c65,release_osa, - version: 23.0.0 projects: - repo: openstack/openstack-ansible hash: 6f0f549cb351904ee9ae8e7ef9491a179e56ef21,,4,0
openstack%2Fcharm-neutron-gateway~master~I1a6f1316817a444d9cb82a4bc7e57d832a921eae,openstack/charm-neutron-gateway,master,I1a6f1316817a444d9cb82a4bc7e57d832a921eae,Fix Zaza deployment expectations,MERGED,2021-07-05 09:22:58.000000000,2021-07-05 12:26:10.000000000,2021-07-05 12:26:10.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 09:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/dd02a132b5144818e1929435aac007333828d62a', 'message': ""Fix Zaza deployment expectations\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: I1a6f1316817a444d9cb82a4bc7e57d832a921eae\n""}, {'number': 2, 'created': '2021-07-05 09:43:56.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/1cc3eba140116c80443c024ebfd09358b98f395a', 'message': ""Fix Zaza deployment expectations\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: I1a6f1316817a444d9cb82a4bc7e57d832a921eae\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/598\n""}]",0,799443,1cc3eba140116c80443c024ebfd09358b98f395a,9,3,2,31289,,,0,"Fix Zaza deployment expectations

Fix Zaza's expected application status after
https://github.com/openstack-charmers/zaza/pull/451

Change-Id: I1a6f1316817a444d9cb82a4bc7e57d832a921eae
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/598
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/43/799443/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,dd02a132b5144818e1929435aac007333828d62a,fix-zaza-deploy-expectations," # NOTE(lourot): at first we deploy a bundle in which this subordinate charm # isn't related to anything, so it has no unit. It will become related and # receive units later as part of OVSOVNMigrationTest. num-expected-units: 0",,4,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~Iac833ea63636be9e3dc2a804d890bcb6851be542,openstack/openstack-ansible-lxc_hosts,stable/wallaby,Iac833ea63636be9e3dc2a804d890bcb6851be542,Add iproute to CentOS LXC,MERGED,2021-07-02 20:52:42.000000000,2021-07-05 12:23:20.000000000,2021-07-05 12:22:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 20:52:42.000000000', 'files': ['vars/centos-8.3.yml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9dae89e3c23a2206ff08819592664f5ba17f0cb6', 'message': 'Add iproute to CentOS LXC\n\nThis package provides `ip` binary that is required for gathering network\nfacts and any net management.\n\nChange-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542\n'}]",0,799252,9dae89e3c23a2206ff08819592664f5ba17f0cb6,8,3,1,28619,,,0,"Add iproute to CentOS LXC

This package provides `ip` binary that is required for gathering network
facts and any net management.

Change-Id: Iac833ea63636be9e3dc2a804d890bcb6851be542
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/52/799252/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/centos-8.3.yml', 'vars/redhat.yml']",2,9dae89e3c23a2206ff08819592664f5ba17f0cb6,, - iproute,,2,0
openstack%2Fkayobe~stable%2Fwallaby~I67f0e48ee03b150f6fe52b1a3e7e727b79207231,openstack/kayobe,stable/wallaby,I67f0e48ee03b150f6fe52b1a3e7e727b79207231,Prevent matching unrelated images,MERGED,2021-07-02 16:09:45.000000000,2021-07-05 12:22:12.000000000,2021-07-05 12:20:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 16:09:45.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f6393996d2b4e0bd0739fe9f8f0dfc6579f1b94f', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)\n'}]",0,799246,f6393996d2b4e0bd0739fe9f8f0dfc6579f1b94f,8,3,1,14826,,,0,"Prevent matching unrelated images

Because regexes defined by Kayobe are not strict enough, Kolla can build
container images unrelated to the deployment. For example, the default
service configuration will build:

- centos-binary-barbican-keystone-listener (matches keystone)
- centos-binary-prometheus-memcached-exporter (matches memcached)

This commit makes regexes stricter to avoid unecessary builds. Note that
some images are still built unecessarily, such as nova-compute-ironic
when ironic is disabled or neutron-metadata-agent-ovn when ovn is
disabled.

Change-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231
(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/799246/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,f6393996d2b4e0bd0739fe9f8f0dfc6579f1b94f,image-regexes-stable/wallaby, - regex: ^aodh - regex: ^barbican - regex: ^blazar - regex: ^ceilometer - regex: ^chrony - regex: ^cinder - regex: ^cloudkitty - regex: ^collectd - regex: ^cron - regex: ^cyborg - regex: ^designate - regex: ^dnsmasq - regex: ^elasticsearch - regex: ^etcd - regex: ^fluentd - regex: ^glance - regex: ^gnocchi - regex: ^grafana - regex: ^heat - regex: ^horizon - regex: ^influxdb - regex: ^ironic - regex: ^iscsid - regex: ^kafka - regex: ^keepalived - regex: ^keystone - regex: ^kibana - regex: ^logstash - regex: ^kuryr - regex: ^magnum - regex: ^manila - regex: ^mariadb - regex: ^masakari - regex: ^memcached - regex: ^mistral - regex: ^multipathd - regex: ^murano - regex: ^nova - regex: ^octavia - regex: ^openvswitch - regex: ^ovn - regex: ^ovsdpdk - regex: ^panko - regex: ^placement - regex: ^prometheus - regex: ^qdrouterd - regex: ^rabbitmq - regex: ^rally - regex: ^redis - regex: ^sahara - regex: ^senlin - regex: ^skydive - regex: ^solum - regex: ^storm - regex: ^swift - regex: ^tacker - regex: ^telegraf - regex: ^tempest - regex: ^tgtd - regex: ^trove - regex: ^vitrage - regex: ^vmtp - regex: ^watcher - regex: ^zookeeper - regex: ^zun, - regex: aodh - regex: barbican - regex: blazar - regex: ceilometer - regex: chrony - regex: cinder - regex: cloudkitty - regex: collectd - regex: cron - regex: cyborg - regex: designate - regex: dnsmasq - regex: elasticsearch - regex: etcd - regex: fluentd - regex: glance - regex: gnocchi - regex: grafana - regex: heat - regex: horizon - regex: influxdb - regex: ironic - regex: iscsid - regex: kafka - regex: keepalived - regex: keystone - regex: kibana - regex: logstash - regex: kuryr - regex: magnum - regex: manila - regex: mariadb - regex: masakari - regex: memcached - regex: mistral - regex: multipathd - regex: murano - regex: nova - regex: octavia - regex: openvswitch - regex: ovn - regex: ovsdpdk - regex: panko - regex: placement - regex: prometheus - regex: qdrouterd - regex: rabbitmq - regex: rally - regex: redis - regex: sahara - regex: senlin - regex: skydive - regex: solum - regex: storm - regex: swift - regex: tacker - regex: telegraf - regex: tempest - regex: tgtd - regex: trove - regex: vitrage - regex: vmtp - regex: watcher - regex: zookeeper - regex: zun,65,65
openstack%2Fnova-specs~master~Icf485d9d643aef345f27803f8a3b112616a4ff5f,openstack/nova-specs,master,Icf485d9d643aef345f27803f8a3b112616a4ff5f,[template]suggest work item ordering,MERGED,2021-05-26 15:47:06.000000000,2021-07-05 12:07:03.000000000,2021-07-05 12:05:27.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 15:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ab43d10297a6de9156afe6bf84bb267d019f31f3', 'message': '[template]suggest work item ordering\n\nChange-Id: Icf485d9d643aef345f27803f8a3b112616a4ff5f\n'}, {'number': 2, 'created': '2021-05-28 12:15:41.000000000', 'files': ['specs/xena-template.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0cb35aa17d0bb1ac0a5729636c998d8762140823', 'message': '[template]suggest work item ordering\n\nChange-Id: Icf485d9d643aef345f27803f8a3b112616a4ff5f\n'}]",10,793197,0cb35aa17d0bb1ac0a5729636c998d8762140823,13,4,2,9708,,,0,"[template]suggest work item ordering

Change-Id: Icf485d9d643aef345f27803f8a3b112616a4ff5f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/97/793197/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena-template.rst'],1,ab43d10297a6de9156afe6bf84bb267d019f31f3,,Consider the creating an ordering that allows gradually merging your patches instead of the need to merge them all at once. For example if you are introducing a feature that requires implementation changes in multiple VM lifecycle operations then first add a step that reject all the not yet supported actions. Then gradually remove the limitation as you progress with the implementation. This way we can merge your changes gradually and regardless when the feature freeze hit we can be make sure that the system is consistent.,,8,0
openstack%2Fpython-watcherclient~master~Idba1ad2c10ca9c32f7ecc7ec92458433a441e5f1,openstack/python-watcherclient,master,Idba1ad2c10ca9c32f7ecc7ec92458433a441e5f1,Use py3 as the default runtime for tox,ABANDONED,2021-07-02 09:18:44.000000000,2021-07-05 12:05:09.000000000,,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-07-02 09:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/03c716ebf47f5475bf483bb5795ec2cfa92e5c80', 'message': 'Use py3 as the default runtime for tox\n\nChange-Id: Idba1ad2c10ca9c32f7ecc7ec92458433a441e5f1\n'}, {'number': 2, 'created': '2021-07-02 10:42:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/56959c9a8bc516aaa300b9a6d6c8c46d3a6eef4c', 'message': 'Use py3 as the default runtime for tox\n\nChange-Id: Idba1ad2c10ca9c32f7ecc7ec92458433a441e5f1\n'}]",0,799183,56959c9a8bc516aaa300b9a6d6c8c46d3a6eef4c,5,3,2,29911,,,0,"Use py3 as the default runtime for tox

Change-Id: Idba1ad2c10ca9c32f7ecc7ec92458433a441e5f1
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/83/799183/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03c716ebf47f5475bf483bb5795ec2cfa92e5c80,,"envlist = py3,pep8","envlist = py36,py38,pep8",1,1
openstack%2Fopenstack-ansible-tests~master~I890529cdd2fe3918e9d97e918da303c929dfe07d,openstack/openstack-ansible-tests,master,I890529cdd2fe3918e9d97e918da303c929dfe07d,Remove linters from openstack-ansible-role-jobs,MERGED,2021-06-30 09:24:16.000000000,2021-07-05 11:45:00.000000000,2021-07-05 11:43:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-06-30 09:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/842e3c07a1d6f882ff93af2125cb4653d224bdd7', 'message': ""Remove linters from openstack-ansible-role-jobs\n\nOnce we've moved almost all repos to integrated linters jobs,\nwe shouldn't include linters inside functional tests template.\n\nChange-Id: I890529cdd2fe3918e9d97e918da303c929dfe07d\n""}, {'number': 2, 'created': '2021-06-30 09:24:33.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/0d95a0590e67c3940bff15da0036b3bd17891815', 'message': ""Remove linters from openstack-ansible-role-jobs\n\nOnce we've moved almost all repos to integrated linters jobs,\nwe shouldn't include linters inside functional tests template.\n\nChange-Id: I890529cdd2fe3918e9d97e918da303c929dfe07d\n""}]",0,798814,0d95a0590e67c3940bff15da0036b3bd17891815,17,4,2,28619,,,0,"Remove linters from openstack-ansible-role-jobs

Once we've moved almost all repos to integrated linters jobs,
we shouldn't include linters inside functional tests template.

Change-Id: I890529cdd2fe3918e9d97e918da303c929dfe07d
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/14/798814/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/project.yaml']",2,842e3c07a1d6f882ff93af2125cb4653d224bdd7,integrated_linters, - openstack-ansible-linters,,1,2
openstack%2Fopenstack-ansible-tests~master~Iba078102bdf5a7e7929a07ddfe9b73a63a70536f,openstack/openstack-ansible-tests,master,Iba078102bdf5a7e7929a07ddfe9b73a63a70536f,Add ansible-role-pki to required-projects,MERGED,2021-07-01 16:38:09.000000000,2021-07-05 11:34:33.000000000,2021-07-05 11:32:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-01 16:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7366b85b8e26dab65bfe57a442d9b8e7c0c74706', 'message': 'Add ansible-role-pki to required_projects\n\nChange-Id: Iba078102bdf5a7e7929a07ddfe9b73a63a70536f\n'}, {'number': 2, 'created': '2021-07-01 16:38:40.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3afe3b7448c57cd0bbe386c5a79fd9e5bf569a51', 'message': 'Add ansible-role-pki to required-projects\n\nChange-Id: Iba078102bdf5a7e7929a07ddfe9b73a63a70536f\n'}]",0,799104,3afe3b7448c57cd0bbe386c5a79fd9e5bf569a51,9,3,2,25023,,,0,"Add ansible-role-pki to required-projects

Change-Id: Iba078102bdf5a7e7929a07ddfe9b73a63a70536f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/04/799104/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7366b85b8e26dab65bfe57a442d9b8e7c0c74706,, - name: openstack/ansible-role-pki,,1,0
openstack%2Fopenstack-ansible-os_glance~master~Ie408aee43116feeaf99ad05cebe764bb855a31c2,openstack/openstack-ansible-os_glance,master,Ie408aee43116feeaf99ad05cebe764bb855a31c2,Add pki role to local a-r-r,MERGED,2021-07-02 09:20:06.000000000,2021-07-05 11:29:27.000000000,2021-07-05 11:28:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 09:20:06.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d8576660dbccaa19f9862e61f0263d1bbac54889', 'message': 'Add pki role to local a-r-r\n\nChange-Id: Ie408aee43116feeaf99ad05cebe764bb855a31c2\n'}]",0,799184,d8576660dbccaa19f9862e61f0263d1bbac54889,9,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: Ie408aee43116feeaf99ad05cebe764bb855a31c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/84/799184/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,d8576660dbccaa19f9862e61f0263d1bbac54889,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fopenstack-ansible-os_keystone~master~Ifda99c199c6fa80c93dc6864173b7031bdb9dbff,openstack/openstack-ansible-os_keystone,master,Ifda99c199c6fa80c93dc6864173b7031bdb9dbff,Add pki role to local a-r-r,MERGED,2021-07-02 09:18:31.000000000,2021-07-05 11:26:12.000000000,2021-07-05 11:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 09:18:31.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/109d5b83b49123bfb77d2eda0541c249c7433951', 'message': 'Add pki role to local a-r-r\n\nChange-Id: Ifda99c199c6fa80c93dc6864173b7031bdb9dbff\n'}]",0,799182,109d5b83b49123bfb77d2eda0541c249c7433951,9,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: Ifda99c199c6fa80c93dc6864173b7031bdb9dbff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/82/799182/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,109d5b83b49123bfb77d2eda0541c249c7433951,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fneutron~master~I7ee797b4b930306cf6360922d855f8b24f1b813d,openstack/neutron,master,I7ee797b4b930306cf6360922d855f8b24f1b813d,Update arp entry of snat port on qrouter ns,MERGED,2021-07-02 11:34:56.000000000,2021-07-05 11:23:30.000000000,2021-07-05 11:21:53.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 11:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb707e252df134b81f1d99cf0922849b7ee5cc49', 'message': 'Update arp entry of snat port on qrouter ns\n\nIn some cases, the arp entry of snat port is not updated\nin qrouter namespace. l3-agent calls get_ports_by_subnet()\nwhile setting arps for the subnet. And the snat port is\nnot returned if it is still unbound. One of the scenario\nthis is observed is when router is created, external\ngateway set and internal subnet attached to router in\nquick succession.\n\nThis patch retrieves snat port details from router info\nas well and updates arp entry for snat port.\n\nCloses-Bug: #1933092\nChange-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d\n'}, {'number': 2, 'created': '2021-07-02 11:37:19.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be7d0bb6abc893e53dfc864c52506928b1d38fa3', 'message': 'Update arp entry of snat port on qrouter ns\n\nIn some cases, the arp entry of snat port is not updated\nin qrouter namespace. l3-agent calls get_ports_by_subnet()\nwhile setting arps for the subnet. And the snat port is\nnot returned if it is still unbound. One of the scenario\nthis is observed is when router is created, external\ngateway set and internal subnet attached to router in\nquick succession.\n\nThis patch retrieves snat port details from router info\nas well and updates arp entry for snat port.\n\nCloses-Bug: #1933092\nChange-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d\n'}]",0,799197,be7d0bb6abc893e53dfc864c52506928b1d38fa3,11,3,2,10366,,,0,"Update arp entry of snat port on qrouter ns

In some cases, the arp entry of snat port is not updated
in qrouter namespace. l3-agent calls get_ports_by_subnet()
while setting arps for the subnet. And the snat port is
not returned if it is still unbound. One of the scenario
this is observed is when router is created, external
gateway set and internal subnet attached to router in
quick succession.

This patch retrieves snat port details from router info
as well and updates arp entry for snat port.

Closes-Bug: #1933092
Change-Id: I7ee797b4b930306cf6360922d855f8b24f1b813d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/799197/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",3,bb707e252df134b81f1d99cf0922849b7ee5cc49,bug/1933092," ri.router['_snat_router_interfaces'] = [{ 'mac_address': 'fa:16:3e:80:8d:80', 'fixed_ips': [{'subnet_id': subnet_id, 'ip_address': '1.2.3.10'}]}] mock.call('10.20.30.40', '00:11:22:33:44:55'), mock.call('1.2.3.10', 'fa:16:3e:80:8d:80')])"," mock.call('10.20.30.40', '00:11:22:33:44:55')])",21,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I09ef161ef8cf0bee8159f7ae3ee1115bb296e802,openstack/openstack-ansible-lxc_container_create,master,I09ef161ef8cf0bee8159f7ae3ee1115bb296e802,Add pki role to local a-r-r,MERGED,2021-07-02 09:27:50.000000000,2021-07-05 11:20:16.000000000,2021-07-05 11:19:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 09:27:50.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/aaee5637e2bb96f3d9a054e4d44bd23c677d16bc', 'message': 'Add pki role to local a-r-r\n\nChange-Id: I09ef161ef8cf0bee8159f7ae3ee1115bb296e802\n'}]",0,799185,aaee5637e2bb96f3d9a054e4d44bd23c677d16bc,9,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: I09ef161ef8cf0bee8159f7ae3ee1115bb296e802
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/85/799185/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,aaee5637e2bb96f3d9a054e4d44bd23c677d16bc,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fansible-role-qdrouterd~master~Ia149dce32077cfa9fdf88afcc122d34199477c75,openstack/ansible-role-qdrouterd,master,Ia149dce32077cfa9fdf88afcc122d34199477c75,Add PKI role to local a-r-r,MERGED,2021-07-01 18:34:31.000000000,2021-07-05 11:18:45.000000000,2021-07-05 11:17:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-01 18:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/5c1e7b033831f26c4d4a1df8362c590f21d788df', 'message': 'Add PKI role to local a-r-r\n\nChange-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75\n'}, {'number': 2, 'created': '2021-07-02 09:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/761a733d6c088ad5ed402ad69d8fe45bdb5ac253', 'message': 'Add PKI role to local a-r-r\n\nChange-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75\n'}, {'number': 3, 'created': '2021-07-02 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/0905c156e59d4de50d85ba57c2fcc72422c43cc5', 'message': 'Add PKI role to local a-r-r\n\nChange-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75\n'}, {'number': 4, 'created': '2021-07-02 17:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/8244dd37eae3d2ce2dec99d23c4b7f195ec8dfa3', 'message': 'Add PKI role to local a-r-r\n\nChange-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75\n'}, {'number': 5, 'created': '2021-07-02 20:46:05.000000000', 'files': ['tests/ansible-role-requirements.yml', 'templates/qdrouterd.conf.j2', 'tests/group_vars/all_containers.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/32cea21c0319d38852492a35395ae470844fdead', 'message': 'Add PKI role to local a-r-r\n\nChange-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75\n'}]",0,799112,32cea21c0319d38852492a35395ae470844fdead,18,3,5,28619,,,0,"Add PKI role to local a-r-r

Change-Id: Ia149dce32077cfa9fdf88afcc122d34199477c75
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/12/799112/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,5c1e7b033831f26c4d4a1df8362c590f21d788df,799112,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fcharm-guide~master~I39820bb730af5ed9a42076f2986a2dc38a4af3c7,openstack/charm-guide,master,I39820bb730af5ed9a42076f2986a2dc38a4af3c7,Add new cinder-purestorage options to Release Notes,MERGED,2021-07-01 13:38:15.000000000,2021-07-05 10:50:40.000000000,2021-07-05 10:49:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-01 13:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/57a11fdfdd65693e7a54705809d0e2f301c481be', 'message': 'Add new cinder-purestorage options to Release Notes\n\nChange-Id: I39820bb730af5ed9a42076f2986a2dc38a4af3c7\n'}, {'number': 2, 'created': '2021-07-02 08:42:45.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/674aed76d62aea554390516c141524360496b656', 'message': 'Add new cinder-purestorage options to Release Notes\n\nChange-Id: I39820bb730af5ed9a42076f2986a2dc38a4af3c7\nDepends-On: If75aab5d8a0aeb4492a8aa029494abea4a362085\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799083,674aed76d62aea554390516c141524360496b656,11,3,2,13425,,,0,"Add new cinder-purestorage options to Release Notes

Change-Id: I39820bb730af5ed9a42076f2986a2dc38a4af3c7
Depends-On: If75aab5d8a0aeb4492a8aa029494abea4a362085
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/83/799083/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,57a11fdfdd65693e7a54705809d0e2f301c481be,pure_charm_relnotes," * `cinder-purestorage charm: new configuration options`_cinder-purestorage charm: new configuration options ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The cinder-purestorage charm has a number of new options: * eradicate-on-delete * automatic-max-oversubscription * iscsi-cidr * use-chap * use-replication * replication-target-name * replication-target-address * replication-target-api-token * replication-type * replication-sync-uniform * replica-interval * replica-retention-short * replica-retention-per-day * replica-retention-long * replication-pgname * replication-pod * use-image-cache * image-volume-cache-max-size-gb * image-volume-cache-max-count These options are used to enable and configure Cinder replication and Glance Image Cache for Cinder, along with a number of Pure Storage driver specific features. Please refer to charm documentation for a description of the configuration options. ",,33,0
openstack%2Fopenstack-ansible-plugins~master~I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a,openstack/openstack-ansible-plugins,master,I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a,Add pki role to local a-r-r,MERGED,2021-07-02 09:32:59.000000000,2021-07-05 10:16:23.000000000,2021-07-05 10:15:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-07-02 09:32:59.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/db77cec609aca3762dc7c59d628faeb772d1a897', 'message': 'Add pki role to local a-r-r\n\nChange-Id: I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a\n'}]",0,799187,db77cec609aca3762dc7c59d628faeb772d1a897,9,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/87/799187/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,db77cec609aca3762dc7c59d628faeb772d1a897,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fopenstack-ansible-os_mistral~master~I8086a1952d553d066512322c9cb8fe506ff55ae1,openstack/openstack-ansible-os_mistral,master,I8086a1952d553d066512322c9cb8fe506ff55ae1,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:33:09.000000000,2021-07-05 10:11:53.000000000,2021-07-05 10:10:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:33:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/b351843e017dd8df0bd75b917dbb7b08cfd39c35', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I8086a1952d553d066512322c9cb8fe506ff55ae1\n""}]",0,799390,b351843e017dd8df0bd75b917dbb7b08cfd39c35,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8086a1952d553d066512322c9cb8fe506ff55ae1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/90/799390/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b351843e017dd8df0bd75b917dbb7b08cfd39c35,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fpython-watcherclient~master~If01998ae7422e5e066241f6fe42d08399cd6478f,openstack/python-watcherclient,master,If01998ae7422e5e066241f6fe42d08399cd6478f,Drop lower constraints testing,MERGED,2021-07-02 09:14:44.000000000,2021-07-05 10:07:29.000000000,2021-07-05 10:05:36.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-02 09:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/0230eb8df9fa3585769fbd9e41021abf6ecd7372', 'message': 'Drop lower constraints testing\n\nChange-Id: If01998ae7422e5e066241f6fe42d08399cd6478f\n'}, {'number': 2, 'created': '2021-07-02 10:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/cdc1d535df240ebef54286f3c404480aa2263708', 'message': 'Drop lower constraints testing\n\nChange-Id: If01998ae7422e5e066241f6fe42d08399cd6478f\n'}, {'number': 3, 'created': '2021-07-03 06:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/ac9cc0c534e7812e3fb6f4b271ffa19cab597531', 'message': 'Drop lower constraints testing\n\nChange-Id: If01998ae7422e5e066241f6fe42d08399cd6478f\n'}, {'number': 4, 'created': '2021-07-03 07:01:36.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/52a3fd062d0ab754130152e9c73aac86ace02673', 'message': 'Drop lower constraints testing\n\nChange-Id: If01998ae7422e5e066241f6fe42d08399cd6478f\n'}]",0,799181,52a3fd062d0ab754130152e9c73aac86ace02673,13,2,4,29911,,,0,"Drop lower constraints testing

Change-Id: If01998ae7422e5e066241f6fe42d08399cd6478f
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/81/799181/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,0230eb8df9fa3585769fbd9e41021abf6ecd7372,,,[testenv:lower-constraints] basepython = python3 install_command = pip install -U {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,9
openstack%2Fopenstack-ansible-os_panko~master~Ibfa981a1559f411298d0673def46bacec2680aa9,openstack/openstack-ansible-os_panko,master,Ibfa981a1559f411298d0673def46bacec2680aa9,Changed minversion in tox to 3.18.0,ABANDONED,2021-07-03 13:21:29.000000000,2021-07-05 10:01:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:21:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/6a11b4a99f578e19f65f495b67ec368c705f2ad2', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ibfa981a1559f411298d0673def46bacec2680aa9\n""}]",0,799383,6a11b4a99f578e19f65f495b67ec368c705f2ad2,4,2,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ibfa981a1559f411298d0673def46bacec2680aa9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/83/799383/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6a11b4a99f578e19f65f495b67ec368c705f2ad2,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fneutron~master~Ifca6316b706103549f6a109d892db891d855588b,openstack/neutron,master,Ifca6316b706103549f6a109d892db891d855588b,fix stale flows problem when migrating or resizing vms,ABANDONED,2021-01-22 01:57:44.000000000,2021-07-05 09:56:20.000000000,,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2021-01-22 01:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bdf43e4246c4b4b02ca5c7a85ecd2198ded54b1', 'message': 'fix stale flows problem when migrating or resizing vms\n\n[OVS]On integration bridge, if we delete a port and update it in the meanwhile,\nit\'s possiable that we get stale devices details list and the related flows\nwill not be deleted because the treat_devices_skipped method doesn\'t delete\nany flows. There is a traffic broken by these stale flows. This patch merged\n""skipped_devices"" into port_info[\'removed\'], because deleting port resource in\nl2 agent extensions and deleting stale flows will be executed in method\n`treat_devices_removed`.\n\nChange-Id: Ifca6316b706103549f6a109d892db891d855588b\nCloses-Bug: #1912450\nRelated-Bug: #1737892\n'}, {'number': 2, 'created': '2021-01-22 02:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f59779cbd848e29afbcf6837f1c612a43f59f16', 'message': 'fix stale flows problem when migrating or resizing vms\n\n[OVS] On integration bridge, if we delete a port and update it in the\nmeanwhile, it\'s possiable that we get stale devices details list and\nthe related flows will not be deleted because the treat_devices_skipped\nmethod doesn\'t delete any flows. There is a traffic broken by these\nstale flows. This patch merged ""skipped_devices"" into\nport_info[\'removed\'], because deleting port resource in l2 agent\nextensions and deleting stale flows will be executed in method\n`treat_devices_removed`.\n\nChange-Id: Ifca6316b706103549f6a109d892db891d855588b\nCloses-Bug: #1912450\nRelated-Bug: #1737892\n'}, {'number': 3, 'created': '2021-01-22 10:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d341bd78d78edd28cb2e405f303bbac05a32caf', 'message': 'fix stale flows problem when migrating or resizing vms\n\n[OVS] On integration bridge, if we delete a port and update it in the\nmeanwhile, it\'s possiable that we get stale devices details list and\nthe related flows will not be deleted because the treat_devices_skipped\nmethod doesn\'t delete any flows. There is a traffic broken by these\nstale flows. This patch merged ""skipped_devices"" into\nport_info[\'removed\'], because deleting port resource in l2 agent\nextensions and deleting stale flows will be executed in method\n`treat_devices_removed`.\n\nChange-Id: Ifca6316b706103549f6a109d892db891d855588b\nCloses-Bug: #1912450\nRelated-Bug: #1737892\n'}, {'number': 4, 'created': '2021-01-22 10:18:46.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4d4dfcb1ed5869d59043384f57a560b0f0799e5', 'message': 'fix stale flows problem when migrating or resizing vms\n\n[OVS] On integration bridge, if we delete a port and update it in the\nmeanwhile, it\'s possiable that we get stale devices details list and\nthe related flows will not be deleted because the treat_devices_skipped\nmethod doesn\'t delete any flows. There is a traffic broken by these\nstale flows. This patch merged ""skipped_devices"" into\nport_info[\'removed\'], because deleting port resource in l2 agent\nextensions and deleting stale flows will be executed in method\n`treat_devices_removed`.\n\nChange-Id: Ifca6316b706103549f6a109d892db891d855588b\nCloses-Bug: #1912450\nRelated-Bug: #1737892\n'}]",7,771903,f4d4dfcb1ed5869d59043384f57a560b0f0799e5,27,4,4,30744,,,0,"fix stale flows problem when migrating or resizing vms

[OVS] On integration bridge, if we delete a port and update it in the
meanwhile, it's possiable that we get stale devices details list and
the related flows will not be deleted because the treat_devices_skipped
method doesn't delete any flows. There is a traffic broken by these
stale flows. This patch merged ""skipped_devices"" into
port_info['removed'], because deleting port resource in l2 agent
extensions and deleting stale flows will be executed in method
`treat_devices_removed`.

Change-Id: Ifca6316b706103549f6a109d892db891d855588b
Closes-Bug: #1912450
Related-Bug: #1737892
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/771903/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,4bdf43e4246c4b4b02ca5c7a85ecd2198ded54b1,fixbug#1912450, 'removed'])) as device_removed:," ext_mgr_delete_port.assert_called_once_with( self.agent.context, {'port_id': 'the_skipped_one'}) 'removed'])) as device_removed,\ mock.patch.object(self.agent, ""treat_devices_skipped"", return_value=( skipped_devices)) as device_skipped: if skipped_devices: device_skipped.assert_called_once_with(set(skipped_devices))",7,19
openstack%2Fopenstack-ansible-os_ironic~master~I8692f2ad6c997de8ee2170b4b3623482969e0bfb,openstack/openstack-ansible-os_ironic,master,I8692f2ad6c997de8ee2170b4b3623482969e0bfb,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:19:05.000000000,2021-07-05 09:49:10.000000000,2021-07-05 09:47:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:19:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/14792030b53e966d2ed92cfa8f6cf1d341dba622', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I8692f2ad6c997de8ee2170b4b3623482969e0bfb\n""}]",0,799378,14792030b53e966d2ed92cfa8f6cf1d341dba622,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8692f2ad6c997de8ee2170b4b3623482969e0bfb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/78/799378/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,14792030b53e966d2ed92cfa8f6cf1d341dba622,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_horizon~master~Ifacd740e31ebbeaadc8e620cebd429f54c0dd3d4,openstack/openstack-ansible-os_horizon,master,Ifacd740e31ebbeaadc8e620cebd429f54c0dd3d4,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:18:39.000000000,2021-07-05 09:49:02.000000000,2021-07-05 09:47:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:18:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f5503147c334e138383323b878e4bb31dd562495', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ifacd740e31ebbeaadc8e620cebd429f54c0dd3d4\n""}]",0,799377,f5503147c334e138383323b878e4bb31dd562495,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ifacd740e31ebbeaadc8e620cebd429f54c0dd3d4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/77/799377/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f5503147c334e138383323b878e4bb31dd562495,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_cinder~master~I572854e4b001fbf559718c785f886590df1dd225,openstack/openstack-ansible-os_cinder,master,I572854e4b001fbf559718c785f886590df1dd225,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:15:35.000000000,2021-07-05 09:48:32.000000000,2021-07-05 09:47:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:15:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6d2b8b8de3d17c244725f9a8077e7544c654d303', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I572854e4b001fbf559718c785f886590df1dd225\n""}]",0,799352,6d2b8b8de3d17c244725f9a8077e7544c654d303,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I572854e4b001fbf559718c785f886590df1dd225
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/52/799352/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6d2b8b8de3d17c244725f9a8077e7544c654d303,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_rally~master~If2c5ecd67aba8a5979bf4fbbca38cb3217b6c1b8,openstack/openstack-ansible-os_rally,master,If2c5ecd67aba8a5979bf4fbbca38cb3217b6c1b8,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:57:57.000000000,2021-07-05 09:48:06.000000000,2021-07-05 09:46:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:57:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/426a25ec0b807a8baa47ff231443529e16da501a', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: If2c5ecd67aba8a5979bf4fbbca38cb3217b6c1b8\n""}]",0,799395,426a25ec0b807a8baa47ff231443529e16da501a,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: If2c5ecd67aba8a5979bf4fbbca38cb3217b6c1b8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/95/799395/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,426a25ec0b807a8baa47ff231443529e16da501a,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_neutron~master~I21e5c3a33241c1f06148445326b2483de5e79147,openstack/openstack-ansible-os_neutron,master,I21e5c3a33241c1f06148445326b2483de5e79147,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:20:50.000000000,2021-07-05 09:46:35.000000000,2021-07-05 09:45:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:20:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ffb4a81461facb02ed75567e46a98ea069d548b3', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I21e5c3a33241c1f06148445326b2483de5e79147\n""}]",0,799380,ffb4a81461facb02ed75567e46a98ea069d548b3,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I21e5c3a33241c1f06148445326b2483de5e79147
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/80/799380/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ffb4a81461facb02ed75567e46a98ea069d548b3,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 2.0whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_heat~master~I1ee02e6249042310bdcd2b01c3403594c0dd3b3b,openstack/openstack-ansible-os_heat,master,I1ee02e6249042310bdcd2b01c3403594c0dd3b3b,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:17:55.000000000,2021-07-05 09:45:48.000000000,2021-07-05 09:44:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:17:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/a252d5d3f9c164b17e4d53c3aa415a062a2e0cf6', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1ee02e6249042310bdcd2b01c3403594c0dd3b3b\n""}]",0,799376,a252d5d3f9c164b17e4d53c3aa415a062a2e0cf6,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1ee02e6249042310bdcd2b01c3403594c0dd3b3b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/76/799376/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a252d5d3f9c164b17e4d53c3aa415a062a2e0cf6,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_gnocchi~master~Ifcfc4d8ca048651feed2043de39c0dfbc8e8d2da,openstack/openstack-ansible-os_gnocchi,master,Ifcfc4d8ca048651feed2043de39c0dfbc8e8d2da,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:41:01.000000000,2021-07-05 09:45:28.000000000,2021-07-05 09:43:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:41:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/7a66bd6b594df8a9fa6cb918f66bf6d954c72a13', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ifcfc4d8ca048651feed2043de39c0dfbc8e8d2da\n""}]",0,799393,7a66bd6b594df8a9fa6cb918f66bf6d954c72a13,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ifcfc4d8ca048651feed2043de39c0dfbc8e8d2da
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/93/799393/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7a66bd6b594df8a9fa6cb918f66bf6d954c72a13,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_nova~master~I5b77381ceaa34e2069b226fc6825f78cefc57a30,openstack/openstack-ansible-os_nova,master,I5b77381ceaa34e2069b226fc6825f78cefc57a30,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:12:32.000000000,2021-07-05 09:45:24.000000000,2021-07-05 09:42:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:12:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0f25baaa38e3cd16cbac346da8ed975055d31f46', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I5b77381ceaa34e2069b226fc6825f78cefc57a30\n""}]",0,799349,0f25baaa38e3cd16cbac346da8ed975055d31f46,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5b77381ceaa34e2069b226fc6825f78cefc57a30
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/49/799349/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0f25baaa38e3cd16cbac346da8ed975055d31f46,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_trove~master~I84c80aa01542eef2904c8a620ed929b13963d7f2,openstack/openstack-ansible-os_trove,master,I84c80aa01542eef2904c8a620ed929b13963d7f2,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:23:01.000000000,2021-07-05 09:45:07.000000000,2021-07-05 09:42:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:23:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/717d0eeab9ad545147436bba5aed35c2d15a0e1c', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I84c80aa01542eef2904c8a620ed929b13963d7f2\n""}]",0,799385,717d0eeab9ad545147436bba5aed35c2d15a0e1c,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I84c80aa01542eef2904c8a620ed929b13963d7f2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/85/799385/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,717d0eeab9ad545147436bba5aed35c2d15a0e1c,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_octavia~master~Ia48db01f5b013d5e9c59f3736403b1f12df7e761,openstack/openstack-ansible-os_octavia,master,Ia48db01f5b013d5e9c59f3736403b1f12df7e761,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:21:22.000000000,2021-07-05 09:45:06.000000000,2021-07-05 09:43:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:21:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b37ab7592e0d19b3c2f97e5cf5acc751313ce9bb', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia48db01f5b013d5e9c59f3736403b1f12df7e761\n""}]",0,799382,b37ab7592e0d19b3c2f97e5cf5acc751313ce9bb,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia48db01f5b013d5e9c59f3736403b1f12df7e761
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/82/799382/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b37ab7592e0d19b3c2f97e5cf5acc751313ce9bb,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_cloudkitty~master~I5b4df1b67d4adab6c3cfcb1eb148c19b5abe251a,openstack/openstack-ansible-os_cloudkitty,master,I5b4df1b67d4adab6c3cfcb1eb148c19b5abe251a,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:15:56.000000000,2021-07-05 09:45:03.000000000,2021-07-05 09:42:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:15:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/8445103c604230ad5b2521d0d4038be8d1939607', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I5b4df1b67d4adab6c3cfcb1eb148c19b5abe251a\n""}]",0,799353,8445103c604230ad5b2521d0d4038be8d1939607,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5b4df1b67d4adab6c3cfcb1eb148c19b5abe251a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/53/799353/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8445103c604230ad5b2521d0d4038be8d1939607,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_tempest~master~I4b6a73eb0cacadc291fa272f6e088d6d59914ce9,openstack/openstack-ansible-os_tempest,master,I4b6a73eb0cacadc291fa272f6e088d6d59914ce9,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:32:33.000000000,2021-07-05 09:45:02.000000000,2021-07-05 09:43:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:32:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3886d17a9e2138a873f0cd6795e4743f87f78b7e', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4b6a73eb0cacadc291fa272f6e088d6d59914ce9\n""}]",0,799389,3886d17a9e2138a873f0cd6795e4743f87f78b7e,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I4b6a73eb0cacadc291fa272f6e088d6d59914ce9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/89/799389/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3886d17a9e2138a873f0cd6795e4743f87f78b7e,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_designate~master~I8a0558b6f9ad80f144649bc9a8f5041c0595ee02,openstack/openstack-ansible-os_designate,master,I8a0558b6f9ad80f144649bc9a8f5041c0595ee02,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:16:44.000000000,2021-07-05 09:45:00.000000000,2021-07-05 09:41:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:16:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/87d0be496ca0dea0ba1a4cc39e971533ed2e31f7', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I8a0558b6f9ad80f144649bc9a8f5041c0595ee02\n""}]",0,799354,87d0be496ca0dea0ba1a4cc39e971533ed2e31f7,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I8a0558b6f9ad80f144649bc9a8f5041c0595ee02
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/54/799354/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,87d0be496ca0dea0ba1a4cc39e971533ed2e31f7,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_barbican~master~Ie0ecf45a31353957132e743a05a794be967bb124,openstack/openstack-ansible-os_barbican,master,Ie0ecf45a31353957132e743a05a794be967bb124,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:13:57.000000000,2021-07-05 09:44:59.000000000,2021-07-05 09:41:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:13:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/5f57e71ed8aec90e88d3fa84cda38bf2acb414f1', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ie0ecf45a31353957132e743a05a794be967bb124\n""}]",0,799350,5f57e71ed8aec90e88d3fa84cda38bf2acb414f1,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ie0ecf45a31353957132e743a05a794be967bb124
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/50/799350/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f57e71ed8aec90e88d3fa84cda38bf2acb414f1,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_masakari~master~Ic318e3d89ba8f91fbe979da00e95a714678beae6,openstack/openstack-ansible-os_masakari,master,Ic318e3d89ba8f91fbe979da00e95a714678beae6,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:57:31.000000000,2021-07-05 09:44:57.000000000,2021-07-05 09:43:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:57:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/67fdd695cad2e67eda272a23f8e7e5684a6f2999', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic318e3d89ba8f91fbe979da00e95a714678beae6\n""}]",0,799394,67fdd695cad2e67eda272a23f8e7e5684a6f2999,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic318e3d89ba8f91fbe979da00e95a714678beae6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/94/799394/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,67fdd695cad2e67eda272a23f8e7e5684a6f2999,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_ceilometer~master~Ic96eddf78ff77a249f4afeeca28eec46dbfdb4e9,openstack/openstack-ansible-os_ceilometer,master,Ic96eddf78ff77a249f4afeeca28eec46dbfdb4e9,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:14:38.000000000,2021-07-05 09:44:56.000000000,2021-07-05 09:41:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:14:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/4a2c1ad75fadaa9ef8d43b0b6f394c8ad41ee335', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic96eddf78ff77a249f4afeeca28eec46dbfdb4e9\n""}]",0,799351,4a2c1ad75fadaa9ef8d43b0b6f394c8ad41ee335,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic96eddf78ff77a249f4afeeca28eec46dbfdb4e9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/51/799351/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a2c1ad75fadaa9ef8d43b0b6f394c8ad41ee335,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_adjutant~master~I7c125bfd0cf941a55f901975176f278bbf28e833,openstack/openstack-ansible-os_adjutant,master,I7c125bfd0cf941a55f901975176f278bbf28e833,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:29:21.000000000,2021-07-05 09:44:51.000000000,2021-07-05 09:43:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:29:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/43101559cba21b3f6f4530c700f1fb328f992448', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7c125bfd0cf941a55f901975176f278bbf28e833\n""}]",0,799387,43101559cba21b3f6f4530c700f1fb328f992448,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7c125bfd0cf941a55f901975176f278bbf28e833
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/87/799387/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43101559cba21b3f6f4530c700f1fb328f992448,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 2.0whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_blazar~master~I953e69dbd07f724562ee6c913a944d0fdf45192e,openstack/openstack-ansible-os_blazar,master,I953e69dbd07f724562ee6c913a944d0fdf45192e,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:29:42.000000000,2021-07-05 09:43:13.000000000,2021-07-05 09:40:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:29:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/f8a2116875a858cbc2c342816561f5ad9ebf66b1', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I953e69dbd07f724562ee6c913a944d0fdf45192e\n""}]",0,799388,f8a2116875a858cbc2c342816561f5ad9ebf66b1,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I953e69dbd07f724562ee6c913a944d0fdf45192e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/88/799388/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8a2116875a858cbc2c342816561f5ad9ebf66b1,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_zun~master~I641fc11045b02451c3d6d46f058eba7beef68da4,openstack/openstack-ansible-os_zun,master,I641fc11045b02451c3d6d46f058eba7beef68da4,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:33:59.000000000,2021-07-05 09:43:12.000000000,2021-07-05 09:40:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:33:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/46162be8e4e384e68c7b08ee05d43f20774bf274', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I641fc11045b02451c3d6d46f058eba7beef68da4\n""}]",0,799391,46162be8e4e384e68c7b08ee05d43f20774bf274,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I641fc11045b02451c3d6d46f058eba7beef68da4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/91/799391/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,46162be8e4e384e68c7b08ee05d43f20774bf274,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fkolla-ansible~stable%2Fvictoria~I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,openstack/kolla-ansible,stable/victoria,I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9,Reno follow up for docker_disable_ip_forward,ABANDONED,2021-07-02 15:51:55.000000000,2021-07-05 09:42:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-02 15:51:55.000000000', 'files': ['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d441779c31b2a0b0fe840e431cd66f2c417c7862', 'message': 'Reno follow up for docker_disable_ip_forward\n\nFollow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade\nnotes.\n\nRelated-Bug: #1931615\nChange-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9\n(cherry picked from commit 3f9662278cdf3a15e3f5c2ef07587c8f00217a8b)\n'}]",0,799241,d441779c31b2a0b0fe840e431cd66f2c417c7862,3,1,1,14826,,,0,"Reno follow up for docker_disable_ip_forward

Follow up to I5129136c066489fdfaa4d93741c22e5010b7e89d, adding upgrade
notes.

Related-Bug: #1931615
Change-Id: I2f88b8fc2c6924de9f6bc1840b183ee024c5c1e9
(cherry picked from commit 3f9662278cdf3a15e3f5c2ef07587c8f00217a8b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/799241/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/docker-disable-ip-forward-b0490b71f9f07cd6.yaml'],1,d441779c31b2a0b0fe840e431cd66f2c417c7862,,"upgrade: - | Adds a new flag, ``docker_disable_ip_forward``, which defaults to ``docker_disable_default_iptables_rules`` and is used to disable docker's ``ip-forward`` option which makes docker set ``net.ipv4.ip_forward`` sysctl to ``1``. By default, ``docker_disable_default_iptables_rules`` is ``true``, in which case docker's ``ip-forward`` option is ``disabled``. For existing hosts, this configuration change is applied when configuring docker via ``kolla-ansible bootstrap-servers``. Docker changes the sysctl in a non-persistent manner, so it will revert to the default of ``0`` after a reboot, if not configured elsewhere. This should not cause a problem, since Kolla Ansible applies the sysctl where necessary. Operators may wish to perform a proactive reboot, or apply the default through other means.",,15,0
openstack%2Fopenstack-ansible-os_placement~master~I4765340f01bd4969cf8cd2d3f949219ad93c3f79,openstack/openstack-ansible-os_placement,master,I4765340f01bd4969cf8cd2d3f949219ad93c3f79,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:22:20.000000000,2021-07-05 09:41:01.000000000,2021-07-05 09:39:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:22:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/cb9fc915dbb1c3e8b0e0f10730001bb8769dec34', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4765340f01bd4969cf8cd2d3f949219ad93c3f79\n""}]",0,799384,cb9fc915dbb1c3e8b0e0f10730001bb8769dec34,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I4765340f01bd4969cf8cd2d3f949219ad93c3f79
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/84/799384/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cb9fc915dbb1c3e8b0e0f10730001bb8769dec34,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fopenstack-ansible-os_aodh~master~Ic6bf814245e150811c3edb33f94ab5105ce76c8a,openstack/openstack-ansible-os_aodh,master,Ic6bf814245e150811c3edb33f94ab5105ce76c8a,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:26:24.000000000,2021-07-05 09:40:56.000000000,2021-07-05 09:39:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:26:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/bcedd4e7c22e6c3061c433c272bbd138936c961d', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic6bf814245e150811c3edb33f94ab5105ce76c8a\n""}]",0,799386,bcedd4e7c22e6c3061c433c272bbd138936c961d,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic6bf814245e150811c3edb33f94ab5105ce76c8a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/86/799386/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bcedd4e7c22e6c3061c433c272bbd138936c961d,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Fneutron-lib~master~I242a3191e7481c0b75a5785db23dcc031d74140a,openstack/neutron-lib,master,I242a3191e7481c0b75a5785db23dcc031d74140a,"Rehome DHCP_IPV{4,6}_TABLE constants to neutron-lib",MERGED,2021-06-28 06:00:58.000000000,2021-07-05 09:40:55.000000000,2021-07-05 09:39:15.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 06:00:58.000000000', 'files': ['releasenotes/notes/rehome-dhcp-table-constants-779598680f803e2a.yaml', 'neutron_lib/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/53302732298b19128a13084d24e6d6a3c277fa2e', 'message': ""Rehome DHCP_IPV{4,6}_TABLE constants to neutron-lib\n\n2 new constants DHCP_IPV4_TABLE and DHCP_IPV6_TABLE were added to\nthe openvswitch agent's constant module in [1].\nAs whole this constants module is now rehomed to the neutron_lib,\nthis patch also rehomes that 2 new constants.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/776567\n\nChange-Id: I242a3191e7481c0b75a5785db23dcc031d74140a\n""}]",0,798248,53302732298b19128a13084d24e6d6a3c277fa2e,12,3,1,11975,,,0,"Rehome DHCP_IPV{4,6}_TABLE constants to neutron-lib

2 new constants DHCP_IPV4_TABLE and DHCP_IPV6_TABLE were added to
the openvswitch agent's constant module in [1].
As whole this constants module is now rehomed to the neutron_lib,
this patch also rehomes that 2 new constants.

[1] https://review.opendev.org/c/openstack/neutron/+/776567

Change-Id: I242a3191e7481c0b75a5785db23dcc031d74140a
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/48/798248/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rehome-dhcp-table-constants-779598680f803e2a.yaml', 'neutron_lib/constants.py']",2,53302732298b19128a13084d24e6d6a3c277fa2e,rehome-ovs-constants,"# Table for DHCP DHCP_IPV4_TABLE = 77 DHCP_IPV6_TABLE = 78 DHCP_IPV4_TABLE, DHCP_IPV6_TABLE,",,12,0
openstack%2Fopenstack-ansible-os_tacker~master~I561d6dfe70b956ce9c67aa3277b7968dcae6e487,openstack/openstack-ansible-os_tacker,master,I561d6dfe70b956ce9c67aa3277b7968dcae6e487,Changed minversion in tox to 3.18.0,MERGED,2021-07-03 13:35:03.000000000,2021-07-05 09:40:51.000000000,2021-07-05 09:39:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-03 13:35:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/e89cbd2f4f7662e40f1dd560e234193a544a87a1', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I561d6dfe70b956ce9c67aa3277b7968dcae6e487\n""}]",0,799392,e89cbd2f4f7662e40f1dd560e234193a544a87a1,8,3,1,32029,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I561d6dfe70b956ce9c67aa3277b7968dcae6e487
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/92/799392/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e89cbd2f4f7662e40f1dd560e234193a544a87a1,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =,minversion = 3.1whitelist_externals =whitelist_externals =,3,3
openstack%2Freleases~master~I97f38b96bce39d66072128141470679d2c03cc1e,openstack/releases,master,I97f38b96bce39d66072128141470679d2c03cc1e,osc-lib release 2.4.1,MERGED,2021-06-29 08:34:17.000000000,2021-07-05 09:18:02.000000000,2021-07-05 09:18:02.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-29 08:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/87e45d012a7d83c6b0b310ffcf1d3c7d86cdc0ee', 'message': 'osc-lib release 2.4.1\n\nPatch release of osc-lib which resolves issues during shell\ncleanup, specifically when generating command completions for\nshell integration.\n\nChange-Id: I97f38b96bce39d66072128141470679d2c03cc1e\n'}, {'number': 2, 'created': '2021-06-30 12:37:44.000000000', 'files': ['deliverables/xena/osc-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e2eaf3dcda7f6038f74e9ff1cdc0da6d8708349', 'message': 'osc-lib release 2.4.1\n\nPatch release of osc-lib which resolves issues during shell\ncleanup, specifically when generating command completions for\nshell integration. Also includes commit for cleaning up of session\nobject if available.\n\nChange-Id: I97f38b96bce39d66072128141470679d2c03cc1e\n'}]",0,798520,6e2eaf3dcda7f6038f74e9ff1cdc0da6d8708349,21,10,2,935,,,0,"osc-lib release 2.4.1

Patch release of osc-lib which resolves issues during shell
cleanup, specifically when generating command completions for
shell integration. Also includes commit for cleaning up of session
object if available.

Change-Id: I97f38b96bce39d66072128141470679d2c03cc1e
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/798520/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/osc-lib.yaml'],1,87e45d012a7d83c6b0b310ffcf1d3c7d86cdc0ee,osc-lib-2.4.1, - version: 2.4.1 projects: - repo: openstack/osc-lib hash: dd75c8fdbf1662928038103f199d66141107c569,,4,0
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I6fb2243b64ff457a5c338d7e510acfdbf65f5585,openstack/tripleo-puppet-elements,stable/wallaby,I6fb2243b64ff457a5c338d7e510acfdbf65f5585,Remove leftover of pankoclient,MERGED,2021-06-24 09:59:37.000000000,2021-07-05 08:57:41.000000000,2021-07-05 08:09:45.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8161}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 09:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/45b65afe9da8bfbfad792d76db05286ddc1cd20b', 'message': 'Remove leftover of pankoclient\n\nThis change removes reference to pankoclient which was left when\nremoving pankoclient[1].\n\n[1] 0d0067a51a13f1e084255851328a872fbc10df3c\n\nChange-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585\n(cherry picked from commit 27864d5e2935fe46a3bfed9eea2155cff4c463bc)\n'}, {'number': 2, 'created': '2021-06-24 12:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2cc788b03b12df8f7d5a9d90ea14a085187e7035', 'message': 'Remove leftover of pankoclient\n\nThis change removes reference to pankoclient which was left when\nremoving pankoclient[1].\n\n[1] 0d0067a51a13f1e084255851328a872fbc10df3c\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-puppet-elements/+/797766\n\nChange-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585\n(cherry picked from commit 27864d5e2935fe46a3bfed9eea2155cff4c463bc)\n'}, {'number': 3, 'created': '2021-06-28 06:21:24.000000000', 'files': ['elements/overcloud-openstack-clients/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/ffb4b4cfbf844f4136a89dcb6bc1c1b61cf91e58', 'message': 'Remove leftover of pankoclient\n\nThis change removes reference to pankoclient which was left when\nremoving pankoclient[1].\n\n[1] 0d0067a51a13f1e084255851328a872fbc10df3c\n\nChange-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585\n(cherry picked from commit 27864d5e2935fe46a3bfed9eea2155cff4c463bc)\n'}]",4,797767,ffb4b4cfbf844f4136a89dcb6bc1c1b61cf91e58,27,9,3,4264,,,0,"Remove leftover of pankoclient

This change removes reference to pankoclient which was left when
removing pankoclient[1].

[1] 0d0067a51a13f1e084255851328a872fbc10df3c

Change-Id: I6fb2243b64ff457a5c338d7e510acfdbf65f5585
(cherry picked from commit 27864d5e2935fe46a3bfed9eea2155cff4c463bc)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/67/797767/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-openstack-clients/pkg-map'],1,45b65afe9da8bfbfad792d76db05286ddc1cd20b,retire_panko-stable/wallaby,," ""pankoclient_package"": ""python2-pankoclient"", ""pankoclient_package"": ""python2-pankoclient"", ""pankoclient_package"": ""python3-pankoclient"",",0,3
openstack%2Fcharm-cinder-purestorage~master~If75aab5d8a0aeb4492a8aa029494abea4a362085,openstack/charm-cinder-purestorage,master,If75aab5d8a0aeb4492a8aa029494abea4a362085,Add config options for all supported features,MERGED,2021-06-28 15:42:08.000000000,2021-07-05 08:53:53.000000000,2021-07-05 08:53:53.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-28 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/0f75a4e5880d1bbd78a9424e60957a4357bf305f', 'message': '[Pure Storage] Update charm with all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\n'}, {'number': 2, 'created': '2021-07-01 13:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/4c1e613c404509700f4287f41fc1786033852d32', 'message': '[Pure Storage] Update charm with all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\n'}, {'number': 3, 'created': '2021-07-02 08:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e8547015b7c7597d40d38a04b9827da9d9482a51', 'message': 'Add config options for all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 4, 'created': '2021-07-02 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/7e83b4c7dfd6b7a86503808c7926af5bf4d7d1dc', 'message': '[Pure Storage] Update charm with all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\n'}, {'number': 5, 'created': '2021-07-02 12:49:21.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_cinder_purestorage.py', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/37fde2d2d0189d74163eb834747bb7a9b951ac48', 'message': 'Add config options for all supported features\n\nChange-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,798346,37fde2d2d0189d74163eb834747bb7a9b951ac48,38,4,5,13425,,,0,"Add config options for all supported features

Change-Id: If75aab5d8a0aeb4492a8aa029494abea4a362085
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/46/798346/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_lib_charm_openstack_cinder_purestorage.py', 'src/lib/charm/openstack/cinder_purestorage.py']",3,0f75a4e5880d1bbd78a9424e60957a4357bf305f,add_latest_features," image_cache = [] iscsi = [] repl = [] ('use_multipath_for_image_xfer', self.config.get('use-multipath')), ('image_volume_cache_enabled', self.config.get('use-image-volume-cache')), ('pure_eradicate_on_delete', self.config.get('eradicate-on-delete')), ('pure_automatic_max_oversubscription_ratio', self.config.get('automatic-max-oversubscription')), if self.config.get('protocol') == 'iscsi': if self.config.get('iscsi-cidr'): iscsi.extend([('pure_iscsi_cidr', self.config.get('iscsi-cidr'))]) if self.config.get('use-chap'): iscsi.extend([('use_chap_auth', self.config.get('use-chap'))]) if self.config.get('use-image-volume-cache'): image_cache = [ ('image_volume_cache_max_size_gb', self.config.get('image-volume-cache-max-size-gb', 0)), ('image_volume_cache_max_count', self.config.get('image-volume-cache-max-count', 0))] if self.config.get('use-replication'): replication_device = 'backend_id:' + \ self.config.get('replication-target-name') + \ ',san_ip:' + \ self.config.get('replication-target-address') + \ ',api_token:' + \ self.config.get('replication-target-api-token') if self.config.get('replication-type') == 'sync': replication_device += ',type:sync' if self.config.get('replication-sync-uniform', False): replication_device += ',uniform:true' repl = [('replication_device', replication_device)] if self.config.get('replica-interval'): repl.extend([('pure_replica_interval_default', self.config.get('replica-interval'))]) if self.config.get('pure-replica-retention-short'): repl.extend([('pure_replica_retention_short_term_default', self.config.get('pure-replica-retention-short'))]) if self.config.get('replica-retention-per-day'): # required for pep8 max line length compliance TEMP_VAR = 'pure_replica_retention_long_term_per_day_default' repl.extend([(TEMP_VAR, self.config.get('replica-retention-per-day'))]) if self.config.get('replica-retention-long'): repl.extend([('pure_replica_retention_long_term_default', self.config.get('replica-retention-long'))]) if self.config.get('replication-pgname'): repl.extend([('pure_replication_pg_name', self.config.get('replication-pgname'))]) if self.config.get('replication-pod'): repl.extend([('pure_replication_pod_name', self.config.get('replication-pod'))]) final_options = driver_options + image_cache + repl + iscsi return final_options", return driver_options,178,1
openstack%2Ftripleo-common~master~I559cc656758843a8b1432069952b8d917fc4649a,openstack/tripleo-common,master,I559cc656758843a8b1432069952b8d917fc4649a,"Drop deprecated ""macs"" field in nodes_json",MERGED,2021-06-18 14:05:29.000000000,2021-07-05 08:39:45.000000000,2021-07-01 19:24:58.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c0d953aa72d37a84ef7fb7bd4eb54155365dd9a', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nwhich keept backward compatibility.\n\nDepends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\nDepends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6\nChange-Id: I559cc656758843a8b1432069952b8d917fc4649a\n'}, {'number': 2, 'created': '2021-06-18 14:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/924f23eaa92721d8301fb0a4e24754d682c53a7b', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nwhich keept backward compatibility.\n\nDepends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\nDepends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6\nChange-Id: I559cc656758843a8b1432069952b8d917fc4649a\n'}, {'number': 3, 'created': '2021-06-18 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eff82cc558eb7f10a166226a5caf1cc5758914ca', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nwhich keept backward compatibility.\n\nDepends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\nDepends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6\nChange-Id: I559cc656758843a8b1432069952b8d917fc4649a\n'}, {'number': 4, 'created': '2021-06-22 17:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4c897c9f9a3793582fb8e67125b4d62d1cd1bfcd', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nwhich keept backward compatibility.\n\nDepends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\nDepends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6\nChange-Id: I559cc656758843a8b1432069952b8d917fc4649a\n'}, {'number': 5, 'created': '2021-06-29 08:22:32.000000000', 'files': ['tripleo_common/utils/stack_parameters.py', 'tripleo_common/tests/utils/test_stack_parameters.py', 'releasenotes/notes/nodes-json-mac-field-no-longer-valid-6ed035c442c4fc68.yaml', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e18444393241b2c114582746eb4bf2f5b266ad3', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nwhich keept backward compatibility.\n\nDepends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\nDepends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6\nChange-Id: I559cc656758843a8b1432069952b8d917fc4649a\n'}]",3,797092,8e18444393241b2c114582746eb4bf2f5b266ad3,39,5,5,24245,,,0,"Drop deprecated ""macs"" field in nodes_json

In change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
the ""macs"" field in nodes_json was deprecated and
replaced by the ""ports"" field.

It has been several cycles with a deprecation warning
in the logs. Remove convert_nodes_json_mac_to_ports
which keept backward compatibility.

Depends-On: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9
Depends-On: Ib520d5e8366159917076c35cf80efb4b5fcffca6
Change-Id: I559cc656758843a8b1432069952b8d917fc4649a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/797092/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nodes-jeson-mac-field-no-longer-valid-6ed035c442c4fc68.yaml', 'tripleo_common/utils/stack_parameters.py', 'tripleo_common/utils/nodes.py']",3,8c0d953aa72d37a84ef7fb7bd4eb54155365dd9a,remove-deprecated-macs-field," if node.get('macs'): failures.append('The ""macs"" field is not longer supported. ' 'Please use the ""ports"" field instead.') ","def convert_nodes_json_mac_to_ports(nodes_json): for node in nodes_json: if node.get('mac'): LOG.warning('Key mac is deprecated, please use ports.') for address in node['mac']: try: node['ports'].append({'address': address}) except KeyError: node['ports'] = [{'address': address}] del node['mac'] return nodes_json ",11,15
openstack%2Fwatcher~master~I67965de7e7dee96f86a4d27b60ffd8489d400cc9,openstack/watcher,master,I67965de7e7dee96f86a4d27b60ffd8489d400cc9,bump py37 to py38 in tox.ini,NEW,2020-09-17 16:39:41.000000000,2021-07-05 07:19:21.000000000,,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-17 16:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/447b381ba4487759e73c28d107fd74ee464fee2c', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nChange-Id: I67965de7e7dee96f86a4d27b60ffd8489d400cc9\n""}, {'number': 2, 'created': '2020-09-25 15:49:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/74366bc777f251cb62ac3e24df9e6eddf88ff8c7', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nChange-Id: I67965de7e7dee96f86a4d27b60ffd8489d400cc9\n""}]",0,752514,74366bc777f251cb62ac3e24df9e6eddf88ff8c7,6,2,2,32067,,,0,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

Change-Id: I67965de7e7dee96f86a4d27b60ffd8489d400cc9
",git fetch https://review.opendev.org/openstack/watcher refs/changes/14/752514/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,447b381ba4487759e73c28d107fd74ee464fee2c,,"envlist = py38,pep8","envlist = py36,py37,pep8",1,1
openstack%2Fironic~master~Iac191fb453f8b0844ea1e46937211f8222e7bc63,openstack/ironic,master,Iac191fb453f8b0844ea1e46937211f8222e7bc63,Support clean/deploy step to add certificates to iLO,ABANDONED,2021-03-26 01:44:08.000000000,2021-07-05 07:16:06.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 01:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0b5f8d08d953eff3c70e8c04b1f70e6ad3da5b3', 'message': 'Support clean step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\n'}, {'number': 2, 'created': '2021-03-30 06:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d4a41c325cadfb971294958577300bb0966b78f', 'message': 'Support clean/deploy step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 3, 'created': '2021-04-05 06:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/87ff8b6cb6602b43d7bfec8ef26f7394f66664a1', 'message': 'Support clean/deploy step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 4, 'created': '2021-04-14 04:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dda6d283f69419b8f9f92750742602429b5f5627', 'message': 'Support clean/deploy step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 5, 'created': '2021-04-14 05:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41648bdd34a86779d84e14a04adde30aff9f09d3', 'message': 'Support clean/deploy step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 6, 'created': '2021-04-14 11:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fcfeb371b31b212ca0bc9096883a75b16d4bf0fa', 'message': 'Support clean/deploy step to add certificates to iLO\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 7, 'created': '2021-04-14 15:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/367c46618cf073d86318dcfd82eefcd5693dd5f5', 'message': 'Support clean/deploy step to add certificates to iLO\n\nAdds 3rd party CA certificates placed in the directory\nconfigured with config option ""ilo_ca_certs_dir"" to the iLO.\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 8, 'created': '2021-05-31 05:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1cb3f009810c8eeaed9869c9af82cfc4e6511c5', 'message': 'Support clean/deploy step to add certificates to iLO\n\nAdds 3rd party CA certificates placed in the directory\nconfigured with config option ""ilo_ca_certs_dir"" to the iLO.\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}, {'number': 9, 'created': '2021-06-14 08:14:27.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'releasenotes/notes/add-cleanstep-client-certificates-to-ilo-66043ab3af4f46df.yaml', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/conf/ilo.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9346f4309fe89501982137533c8a488943cac11a', 'message': 'Support clean/deploy step to add certificates to iLO\n\nAdds 3rd party CA certificates placed in the directory\nconfigured with config option ""ilo_ca_certs_dir"" to the iLO.\n\nChange-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63\nStory: #2008784\nTask: #42175\n'}]",35,783133,9346f4309fe89501982137533c8a488943cac11a,110,5,9,18781,,,0,"Support clean/deploy step to add certificates to iLO

Adds 3rd party CA certificates placed in the directory
configured with config option ""ilo_ca_certs_dir"" to the iLO.

Change-Id: Iac191fb453f8b0844ea1e46937211f8222e7bc63
Story: #2008784
Task: #42175
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/783133/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py']",3,d0b5f8d08d953eff3c70e8c04b1f70e6ad3da5b3,add_certs_clean_step," self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() self.node.clean_step = {'interface': 'management', 'step': 'erase_devices'} self.node.save() @mock.patch.object(manager_utils, 'node_power_action', autospec=True) @mock.patch.object(deploy_utils, 'get_async_step_return_state', spec_set=True, autospec=True) @mock.patch.object(deploy_utils, 'set_async_step_flags', spec_set=True, autospec=True) @mock.patch.object(ilo_boot.IloVirtualMediaBoot, 'prepare_ramdisk', spec_set=True, autospec=True) @mock.patch.object(deploy_utils, 'build_agent_options', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'add_certificates', spec_set=True, autospec=True) def test_export_certificates(self, exp_certs_mock, build_agent_mock, prepare_ramdisk_mock, set_async_mock, get_async_step_mock, node_power_action_mock): self.node.clean_step = {'interface': 'management', 'step': 'export_certificates'} self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] agent_options_mock = mock.Mock() build_agent_mock.return_value = agent_options_mock task.driver.management.export_certificates( task, certificate_files) exp_certs_mock.assert_called_once_with( task, certificate_files) self.assertTrue( task.node.driver_internal_info.get( 'export_certs_flag')) build_agent_mock.assert_called_once_with(task.node) prepare_ramdisk_mock.assert_called_once_with(mock.ANY, task, agent_options_mock) node_power_action_mock.assert_called_once_with(task, states.REBOOT) set_async_mock.assert_called_once_with( task.node, reboot=True, skip_current_step=False) get_async_step_mock.assert_called_once_with( task.node) node_power_action_mock.assert_called_once_with(task, states.REBOOT) @mock.patch.object(ilo_common, 'add_certificates', spec_set=True, autospec=True) def test_export_certificates_empty_list(self, exp_certs_mock): self.node.clean_step = {'interface': 'management', 'step': 'export_certificates'} self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [] self.assertRaisesRegex(exception.NodeCleaningFailure, "".*as empty certificate file "" ""list is provided."", task.driver.management.export_certificates, task, certificate_files) exp_certs_mock.assert_not_called() @mock.patch.object(ilo_common, 'add_certificates', spec_set=True, autospec=True) def test_export_certificates_post_step(self, exp_certs_mock): self.node.clean_step = {'interface': 'management', 'step': 'export_certificates'} self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] driver_internal_info = task.node.driver_internal_info driver_internal_info['export_certs_flag'] = True task.node.driver_internal_info = driver_internal_info task.node.save() task.driver.management.export_certificates( task, certificate_files) exp_certs_mock.assert_not_called() self.assertIsNone( task.node.driver_internal_info.get('export_certs_flag')) @mock.patch.object(ilo_common, 'add_certificates', spec_set=True, autospec=True) def test_export_certificates_ilo_operation_not_supported(self, exp_certs_mock): self.node.clean_step = {'interface': 'management', 'step': 'export_certificates'} self.node.save() exc = exception.IloOperationNotSupported('error') exp_certs_mock.side_effect = exc with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] self.assertRaises(exception.NodeCleaningFailure, task.driver.management.export_certificates, task, certificate_files) @mock.patch.object(ilo_common, 'add_certificates', spec_set=True, autospec=True) def test_export_certificates_ilo_operation_error(self, exp_certs_mock): self.node.deploy_step = {'interface': 'management', 'step': 'export_certificates'} self.node.save() exc = exception.IloOperationError('error') exp_certs_mock.side_effect = exc with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] self.assertRaises(exception.InstanceDeployFailure, task.driver.management.export_certificates, task, certificate_files)"," self.clean_step = {'step': 'erase_devices', 'interface': 'management'} 'clean_step': self.clean_step,",224,5
openstack%2Fironic~master~Ia02a753762f87ac83183350c7234d1ae8705f792,openstack/ironic,master,Ia02a753762f87ac83183350c7234d1ae8705f792,Support clean/deploy step to remove certificates from iLO,ABANDONED,2021-04-05 06:42:05.000000000,2021-07-05 07:15:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-05 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63fe19564f83ef434e057ca45c8ad9ab1ac3923c', 'message': 'Support clean/deploy step to remove certificates from iLO\n\nSupport clean/deploy step to remove certificates from iLO\n\nChange-Id: Ia02a753762f87ac83183350c7234d1ae8705f792\n'}, {'number': 2, 'created': '2021-04-12 04:59:46.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e40ed4aef07fe8deb8d04f45c8089bbae8c08a3', 'message': 'Support clean/deploy step to remove certificates from iLO\n\nSupport clean/deploy step to remove certificates from iLO\n\nChange-Id: Ia02a753762f87ac83183350c7234d1ae8705f792\n'}]",0,784740,8e40ed4aef07fe8deb8d04f45c8089bbae8c08a3,12,1,2,18781,,,0,"Support clean/deploy step to remove certificates from iLO

Support clean/deploy step to remove certificates from iLO

Change-Id: Ia02a753762f87ac83183350c7234d1ae8705f792
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/784740/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py']",4,63fe19564f83ef434e057ca45c8ad9ab1ac3923c,remove_certs_clean_step," @mock.patch.object(ilo_common, 'clear_certificates', spec_set=True, autospec=True) def test_clear_certificates(self, clear_certs_mock): self.node.clean_step = {'interface': 'management', 'step': 'clear_certificates'} self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] task.driver.management.clear_certificates( task, certificate_files) clear_certs_mock.assert_called_once_with( task, certificate_files) @mock.patch.object(ilo_common, 'clear_certificates', spec_set=True, autospec=True) def test_clear_certificates_ilo_operation_not_supported(self, clear_certs_mock): self.node.clean_step = {'interface': 'management', 'step': 'clear_certificates'} self.node.save() exc = exception.IloOperationNotSupported('error') clear_certs_mock.side_effect = exc with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] self.assertRaises(exception.NodeCleaningFailure, task.driver.management.clear_certificates, task, certificate_files) @mock.patch.object(ilo_common, 'clear_certificates', spec_set=True, autospec=True) def test_clear_certificates_ilo_operation_error(self, clear_certs_mock): self.node.deploy_step = {'interface': 'management', 'step': 'clear_certificates'} self.node.save() exc = exception.IloOperationError('error') clear_certs_mock.side_effect = exc with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: certificate_files = [""/path/to/certsA"", ""/path/to/certsB""] self.assertRaises(exception.InstanceDeployFailure, task.driver.management.clear_certificates, task, certificate_files)",,119,2
openstack%2Fpubliccloud-sig~master~Ibea6fa366263dd9fc6e2b29865f7336f9ff23c62,openstack/publiccloud-sig,master,Ibea6fa366263dd9fc6e2b29865f7336f9ff23c62,Remove testr,MERGED,2021-06-30 16:59:10.000000000,2021-07-05 06:55:03.000000000,2021-07-05 06:53:56.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23924}]","[{'number': 1, 'created': '2021-06-30 16:59:10.000000000', 'files': ['.gitignore', '.testr.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/publiccloud-sig/commit/5d8dd8ff2cfd5caa0fd75f613267c1d04e2efbd3', 'message': 'Remove testr\n\n* Remove .testr.conf as there are no tests present in this repository\n  and update .gitignore and tox.ini accordingly\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ibea6fa366263dd9fc6e2b29865f7336f9ff23c62\n'}]",0,798933,5d8dd8ff2cfd5caa0fd75f613267c1d04e2efbd3,8,3,1,33370,,,0,"Remove testr

* Remove .testr.conf as there are no tests present in this repository
  and update .gitignore and tox.ini accordingly

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Ibea6fa366263dd9fc6e2b29865f7336f9ff23c62
",git fetch https://review.opendev.org/openstack/publiccloud-sig refs/changes/33/798933/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.testr.conf', 'tox.ini']",3,5d8dd8ff2cfd5caa0fd75f613267c1d04e2efbd3,stestr,,commands = python setup.py testr --slowest --testr-args='{posargs}',0,9
openstack%2Ftrove~stable%2Frocky~Ie71a8776032d535248d39fa12386acda8045ad2c,openstack/trove,stable/rocky,Ie71a8776032d535248d39fa12386acda8045ad2c,Duplicate notifications are sent when deleting mysql user,ABANDONED,2021-07-05 02:36:57.000000000,2021-07-05 06:45:45.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 02:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8c896847a2500de41303312a66c0b58d2c3a5e8d', 'message': 'Delete unnecessary StartNotification in function trove.extensions.mysql.models.Users.delete\n\nIn the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\n\nFix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ie71a8776032d535248d39fa12386acda8045ad2c\n'}, {'number': 2, 'created': '2021-07-05 05:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/622118b9517cafa05855e7e3985233df0ddffe6a', 'message': 'Duplicate notifications are sent when deleting mysql user\n\nIn the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\n\nFix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ie71a8776032d535248d39fa12386acda8045ad2c\n'}, {'number': 3, 'created': '2021-07-05 05:10:43.000000000', 'files': ['trove/extensions/mysql/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/fb385e4527531999109c6bdfb4f47e3c1684097e', 'message': 'Duplicate notifications are sent when deleting mysql user\n\nIn the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\n\nFix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ie71a8776032d535248d39fa12386acda8045ad2c\n'}]",0,799427,fb385e4527531999109c6bdfb4f47e3c1684097e,7,2,3,33480,,,0,"Duplicate notifications are sent when deleting mysql user

In the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service

Fix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete

task: 42764
story: 2009029
Change-Id: Ie71a8776032d535248d39fa12386acda8045ad2c
",git fetch https://review.opendev.org/openstack/trove refs/changes/27/799427/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/extensions/mysql/models.py'],1,8c896847a2500de41303312a66c0b58d2c3a5e8d,bugfix-42764," create_guest_client(context, instance_id).delete_user(user)","from trove.common.notification import StartNotification with StartNotification(context, instance_id=instance_id, username=user): create_guest_client(context, instance_id).delete_user(user)",1,5
openstack%2Fswift~master~I3b89d10096f29652f691428065b9801d57d77ec7,openstack/swift,master,I3b89d10096f29652f691428065b9801d57d77ec7,Quarantine on IOErrors while reading,MERGED,2021-06-15 21:13:10.000000000,2021-07-05 05:51:40.000000000,2021-07-05 05:50:20.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 21:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1789a9e4dacf9ff7b8c1311d0985910f529e0c9e', 'message': 'Quarantine on IOErrors while reading\n\nChange-Id: I3b89d10096f29652f691428065b9801d57d77ec7\n'}, {'number': 2, 'created': '2021-06-29 19:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d64c6ed6b522f1424af99dd16c1374afd24d3c7', 'message': 'Quarantine on IOErrors while reading\n\nChange-Id: I3b89d10096f29652f691428065b9801d57d77ec7\n'}, {'number': 3, 'created': '2021-07-02 16:46:24.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f25592f3cd76dbe2d14e044b0e402e1760010cb1', 'message': 'Quarantine on IOErrors while reading\n\nChange-Id: I3b89d10096f29652f691428065b9801d57d77ec7\n'}]",5,796539,f25592f3cd76dbe2d14e044b0e402e1760010cb1,32,3,3,15343,,,0,"Quarantine on IOErrors while reading

Change-Id: I3b89d10096f29652f691428065b9801d57d77ec7
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/796539/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/diskfile.py'],1,1789a9e4dacf9ff7b8c1311d0985910f529e0c9e,, except IOError as e: self._quarantine(str(e)),,2,0
openstack%2Fpuppet-aodh~master~I81fc556704bc1499e912b52f938fe84016201c96,openstack/puppet-aodh,master,I81fc556704bc1499e912b52f938fe84016201c96,Do not merge: Checking depends-on,ABANDONED,2021-07-05 05:47:16.000000000,2021-07-05 05:50:14.000000000,,[],"[{'number': 1, 'created': '2021-07-05 05:47:16.000000000', 'files': ['.dnm-a'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/bc33871d8b82d1f10eaebf4f25fb2cbc86fc2be2', 'message': 'Do not merge: Checking depends-on\n\nChange-Id: I81fc556704bc1499e912b52f938fe84016201c96\n'}]",0,799433,bc33871d8b82d1f10eaebf4f25fb2cbc86fc2be2,2,0,1,9816,,,0,"Do not merge: Checking depends-on

Change-Id: I81fc556704bc1499e912b52f938fe84016201c96
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/33/799433/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm-a'],1,bc33871d8b82d1f10eaebf4f25fb2cbc86fc2be2,dnm-a,,,0,0
openstack%2Fpuppet-aodh~master~I3901230b051d072cd8f2aaca1e1c7728fa7f8dc8,openstack/puppet-aodh,master,I3901230b051d072cd8f2aaca1e1c7728fa7f8dc8,DNM: Testing depends-on,ABANDONED,2021-07-05 05:47:58.000000000,2021-07-05 05:50:08.000000000,,[],"[{'number': 1, 'created': '2021-07-05 05:47:58.000000000', 'files': ['.dnm-b'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/6acd08f239c876b412dd4bbe42c70adc2641397f', 'message': 'DNM: Testing depends-on\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-aodh/+/799433\nChange-Id: I3901230b051d072cd8f2aaca1e1c7728fa7f8dc8\n'}]",0,799434,6acd08f239c876b412dd4bbe42c70adc2641397f,2,0,1,9816,,,0,"DNM: Testing depends-on

Depends-on: https://review.opendev.org/c/openstack/puppet-aodh/+/799433
Change-Id: I3901230b051d072cd8f2aaca1e1c7728fa7f8dc8
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/34/799434/1 && git format-patch -1 --stdout FETCH_HEAD,['.dnm-b'],1,6acd08f239c876b412dd4bbe42c70adc2641397f,dnm-b,,,0,0
openstack%2Fpuppet-nova~master~I9cfed69c130e7fc5457d2474d0e96f542b2f42ab,openstack/puppet-nova,master,I9cfed69c130e7fc5457d2474d0e96f542b2f42ab,Add support for [libvirt] device_detach_attempts/timeout,MERGED,2021-06-01 02:59:26.000000000,2021-07-05 05:49:31.000000000,2021-07-05 05:48:21.000000000,"[{'_account_id': 6476}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 02:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2ccba1b7a0ecfb39726b7152467afbd95176e032', 'message': 'Add support for [libvirt] device_detach_attempts/timeout\n\nThis change introduces support for two new parameters of libvirt\ndriver which were added recently by [1].\n\n[1] e56cc4f439846558fc13298c2360d7cdd473cc89\n\nChange-Id: I9cfed69c130e7fc5457d2474d0e96f542b2f42ab\n'}, {'number': 2, 'created': '2021-06-18 06:58:46.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp', 'releasenotes/notes/libvirt-device_detach-4873688e044e1aaf.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/87d5deeb9a947ec337f34eb63fe7b27bbaac00ec', 'message': 'Add support for [libvirt] device_detach_attempts/timeout\n\nThis change introduces support for two new parameters of libvirt\ndriver which were added recently by [1].\n\n[1] e56cc4f439846558fc13298c2360d7cdd473cc89\n\nChange-Id: I9cfed69c130e7fc5457d2474d0e96f542b2f42ab\n'}]",0,793878,87d5deeb9a947ec337f34eb63fe7b27bbaac00ec,23,5,2,9816,,,0,"Add support for [libvirt] device_detach_attempts/timeout

This change introduces support for two new parameters of libvirt
driver which were added recently by [1].

[1] e56cc4f439846558fc13298c2360d7cdd473cc89

Change-Id: I9cfed69c130e7fc5457d2474d0e96f542b2f42ab
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/78/793878/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp', 'releasenotes/notes/libvirt-device_detach-4873688e044e1aaf.yaml']",3,2ccba1b7a0ecfb39726b7152467afbd95176e032,device-timeout,--- features: - | Now the ``nova::compute::libvirt`` class supports the following two parameters. - ``device_detach_attempts`` - ``device_detach_timeout`` ,,37,0
openstack%2Fpuppet-tripleo~master~I05b3b1848081b6247870a540b06ff589c8b5f7eb,openstack/puppet-tripleo,master,I05b3b1848081b6247870a540b06ff589c8b5f7eb,Cinder: Dell EMC PowerMax: Fix typo in hash key,MERGED,2021-06-28 06:48:52.000000000,2021-07-05 05:48:41.000000000,2021-07-05 05:48:41.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-28 06:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/20fe2a4085b335f7124cc2d0fb576a1772436044', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n'}, {'number': 2, 'created': '2021-07-03 14:51:23.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n'}]",0,798252,a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56,9,3,2,9816,,,0,"Cinder: Dell EMC PowerMax: Fix typo in hash key

This change fixes a wrong hash key to define the powermax_port_groups
parameter.

Change-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/52/798252/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powermax.pp'],1,20fe2a4085b335f7124cc2d0fb576a1772436044,cinder-backend-defaults," powermax_port_groups => $backend_config['CinderPowermaxPortGroups'],"," powermax_port_groups => $backend_config['CinderPowermaPortGroups'],",1,1
openstack%2Fpuppet-oslo~stable%2Fussuri~I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,openstack/puppet-oslo,stable/ussuri,I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771,Set fixture paths for unit tests,MERGED,2021-07-05 04:32:43.000000000,2021-07-05 05:10:09.000000000,2021-07-05 05:10:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 04:32:43.000000000', 'files': ['spec/spec_helper.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4f4cccff78d33d2e8170d8e3e116b1da11405aa0', 'message': 'Set fixture paths for unit tests\n\nThis change defines manifest_dir and module_path expicitly in unit\ntests so that modules installed under fixtures directory is properly\nloaded.\n\nChange-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771\nCloses-Bug: #1930403\n(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)\n(cherry picked from commit 484bba674b44bea2a8ca357a923bf5418f157e59)\n(cherry picked from commit d1036810846aff63df64e85a43ba9b4b6f52df47)\n'}]",0,799365,4f4cccff78d33d2e8170d8e3e116b1da11405aa0,6,2,1,9816,,,0,"Set fixture paths for unit tests

This change defines manifest_dir and module_path expicitly in unit
tests so that modules installed under fixtures directory is properly
loaded.

Change-Id: I5bf6cd967d1e0e9fe4eaac0dac242dbc7b88a771
Closes-Bug: #1930403
(cherry picked from commit 040ef880aee9f05226cc839543b55eb9c990314a)
(cherry picked from commit 484bba674b44bea2a8ca357a923bf5418f157e59)
(cherry picked from commit d1036810846aff63df64e85a43ba9b4b6f52df47)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/65/799365/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/spec_helper.rb'],1,4f4cccff78d33d2e8170d8e3e116b1da11405aa0,bug/1930403-stable/wallaby-stable/victoria-stable/ussuri,"fixture_path = File.expand_path(File.join(File.dirname(__FILE__), 'fixtures')) c.module_path = File.join(fixture_path, 'modules') c.manifest_dir = File.join(fixture_path, 'manifests')",,5,0
openstack%2Fmasakari-monitors~master~Idd3ade35ee012bde3e5de8d7e1be07fd22ef2439,openstack/masakari-monitors,master,Idd3ade35ee012bde3e5de8d7e1be07fd22ef2439,Remove an useless if judgment in restart_processes,ABANDONED,2021-07-02 10:23:20.000000000,2021-07-05 04:30:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-02 10:23:20.000000000', 'files': ['masakarimonitors/processmonitor/process_handler/handle_process.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/874dbdd1b60b9ffea4a0b701c1015c17a58017d0', 'message': 'Remove an useless if judgment in restart_processes\n\nWhen progressmonitor is in restart_progresses function, before send a notification, there is no need to compare retries count with restart_retries.\n\nChange-Id: Idd3ade35ee012bde3e5de8d7e1be07fd22ef2439\n'}]",0,799194,874dbdd1b60b9ffea4a0b701c1015c17a58017d0,5,1,1,32722,,,0,"Remove an useless if judgment in restart_processes

When progressmonitor is in restart_progresses function, before send a notification, there is no need to compare retries count with restart_retries.

Change-Id: Idd3ade35ee012bde3e5de8d7e1be07fd22ef2439
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/94/799194/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/process_handler/handle_process.py'],1,874dbdd1b60b9ffea4a0b701c1015c17a58017d0,," # Execute pre restart command. # Execute restart command. # Execute post restart command. # Send a notification. event = self._make_event(down_process['process_name']) self.notifier.send_notification( CONF.process.api_retry_max, CONF.process.api_retry_interval, event) # Add the process name which failed to restart to the # failure list. tmp_restart_failure_list.append(down_process['process_name'])"," # Execute pre start command. # Execute start command. # Execute post start command. if retries == CONF.process.restart_retries: # Send a notification. event = self._make_event(down_process['process_name']) self.notifier.send_notification( CONF.process.api_retry_max, CONF.process.api_retry_interval, event) # Add the process name which failed to restart to the # failure list. tmp_restart_failure_list.append(down_process['process_name'])",12,13
openstack%2Fdiskimage-builder~master~Iad0794d4e658b763685f274de690e5bcea055dbe,openstack/diskimage-builder,master,Iad0794d4e658b763685f274de690e5bcea055dbe,"Revert ""Install rng-tools in Red Hat family distro images""",ABANDONED,2021-06-24 01:32:16.000000000,2021-07-05 03:37:16.000000000,,"[{'_account_id': 7118}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 01:32:16.000000000', 'files': ['diskimage_builder/elements/redhat-common/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/35a0e1bb318efd3130cbb6ebccd5b0fc3a4e3aac', 'message': 'Revert ""Install rng-tools in Red Hat family distro images""\n\nThis reverts commit 3ff7365ee82fb7664c8fa4619dc47435dea8e222.\n\nIt seems like recent versions of this can not be installed in a\ncontainer as it tries to run udevadm settle from the RPM post script,\nwhich just hangs forever.\n\nThis is mostly an attempt to unbreak the gate.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588\n\nChange-Id: Iad0794d4e658b763685f274de690e5bcea055dbe\n'}]",0,797794,35a0e1bb318efd3130cbb6ebccd5b0fc3a4e3aac,11,3,1,7118,,,0,"Revert ""Install rng-tools in Red Hat family distro images""

This reverts commit 3ff7365ee82fb7664c8fa4619dc47435dea8e222.

It seems like recent versions of this can not be installed in a
container as it tries to run udevadm settle from the RPM post script,
which just hangs forever.

This is mostly an attempt to unbreak the gate.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588

Change-Id: Iad0794d4e658b763685f274de690e5bcea055dbe
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/94/797794/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/redhat-common/package-installs.yaml'],1,35a0e1bb318efd3130cbb6ebccd5b0fc3a4e3aac,rng-tools,,rng-tools:,0,1
openstack%2Ftrove~master~Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2,openstack/trove,master,Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2,Delete unnecessary StartNotification in function trove.extensions.mysql.models.Users.delete,ABANDONED,2021-07-03 15:57:37.000000000,2021-07-05 02:14:26.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 15:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1cb23c3c941285b7646008f6a06a27dc6418d1ee', 'message': 'In the logic of deleting mysql_user,trove.extensions.mysql.models send a notification which is the same as.\nfix:delete this notification\n\ntask: 42764\nstory: 2009029\nChange-Id: Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2\n'}, {'number': 2, 'created': '2021-07-03 16:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a8ff42864be14d9cb89f87aeb4bc5e8518e7b9b4', 'message': 'In the logic of deleting mysql_user,trove.extensions.mysql.models send a notification which is the same as the notification in trove.extensions.mysql.service\nfix:delete this notification\n\ntask: 42764\nstory: 2009029\nChange-Id: Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2\n'}, {'number': 3, 'created': '2021-07-04 02:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d18e375a01c37f3d7ac1c5dcd11dadddb82bde9c', 'message': 'In the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\nfix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2\n'}, {'number': 4, 'created': '2021-07-04 02:59:08.000000000', 'files': ['trove/extensions/mysql/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/b8becf39eb154f2659ae2e087505700deb6986e1', 'message': 'Delete unnecessary StartNotification in function trove.extensions.mysql.models.Users.delete\n\nIn the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service\n\nfix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete\n\ntask: 42764\nstory: 2009029\nChange-Id: Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2\n'}]",2,799397,b8becf39eb154f2659ae2e087505700deb6986e1,9,2,4,33480,,,0,"Delete unnecessary StartNotification in function trove.extensions.mysql.models.Users.delete

In the logic of deleting mysql_user,trove.extensions.mysql.models send a StartNotification which is the same as the StartNotification in trove.extensions.mysql.service

fix:delete the StartNotification in function trove.extensions.mysql.models.Users.delete

task: 42764
story: 2009029
Change-Id: Ibbcb0ef4e750ab5798576993b5d80d3bed8e8ce2
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/799397/4 && git format-patch -1 --stdout FETCH_HEAD,['trove/extensions/mysql/models.py'],1,1cb23c3c941285b7646008f6a06a27dc6418d1ee,bug-fix-42764," create_guest_client(context, instance_id).delete_user(user)"," with StartNotification(context, instance_id=instance_id, username=user): create_guest_client(context, instance_id).delete_user(user)",1,4
openstack%2Ftripleo-heat-templates~master~I7141dff598b73cbee062e127677880c396680f32,openstack/tripleo-heat-templates,master,I7141dff598b73cbee062e127677880c396680f32,Fix wrong puppet parameter name,ABANDONED,2021-04-29 13:41:46.000000000,2021-07-04 23:37:53.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-29 13:41:46.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee4e655faa2697103bccf7c1dd4a8e1d1983b391', 'message': 'Fix wrong puppet parameter name\n\nThe neutron::agents::ml2::networking_baremetal class does not provide\nthe user parameter but the username parameter.\n\nChange-Id: I7141dff598b73cbee062e127677880c396680f32\n'}]",0,788742,ee4e655faa2697103bccf7c1dd4a8e1d1983b391,5,3,1,9816,,,0,"Fix wrong puppet parameter name

The neutron::agents::ml2::networking_baremetal class does not provide
the user parameter but the username parameter.

Change-Id: I7141dff598b73cbee062e127677880c396680f32
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/788742/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-neutron-agent-container-puppet.yaml'],1,ee4e655faa2697103bccf7c1dd4a8e1d1983b391,nw-bm-wrong-hiera, - neutron::agents::ml2::networking_baremetal::username: 'ironic', - neutron::agents::ml2::networking_baremetal::user: 'ironic',1,1
openstack%2Fpuppet-horizon~stable%2Fwallaby~Ie1442d34b6837ced5f44018d038d4d716d568655,openstack/puppet-horizon,stable/wallaby,Ie1442d34b6837ced5f44018d038d4d716d568655,Add support for independent manila-dashboard configurations,MERGED,2021-06-08 05:14:08.000000000,2021-07-04 22:34:25.000000000,2021-07-04 22:32:28.000000000,"[{'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 05:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/06371ffac5c5a62fbed6b692ba20e287cc40bbe3', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 2, 'created': '2021-06-08 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b16314dd444aa847b4ee396e3ef1b9bf894a5e43', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 3, 'created': '2021-06-08 14:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8488e124ad03ac1d8303eda7781cb3a4a1d01f0e', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 4, 'created': '2021-06-10 01:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/eceffaa7b8ee03690d0be4144b3e275c39826c29', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 5, 'created': '2021-06-10 03:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ace18991d802df4bd45412ab07e248ae704130fc', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 6, 'created': '2021-06-10 05:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/25eaf5408b6158145a0b1056c3e6dddcb8bd37c3', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 7, 'created': '2021-06-10 09:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/09079e9747d41878f4942a2634e802bb9e232c46', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 8, 'created': '2021-06-10 12:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/568dc97792e4e0237461e7e8d98331bbb9094b58', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 9, 'created': '2021-06-11 02:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1f9e440ec78e53c0c8f068df9a29792915fa3a39', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 10, 'created': '2021-06-11 05:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8b01cee743451bd3a2cd5c56fec4e9ec2e088783', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}, {'number': 11, 'created': '2021-06-28 23:00:31.000000000', 'files': ['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'templates/_90_manila_shares.py.erb', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'spec/classes/horizon_dashboards_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fd8db39d8dd66b4895a181a1d187a7c555fbfe83', 'message': 'Add support for independent manila-dashboard configurations\n\nThis change introduces the new horizon::dashboards::manila class,\nwhich allows users to manage the independent configuration file for\nmanila dashboard (_90_manila_shares.py).\n\nConflicts:\n        manifests/params.pp\n\nChange-Id: Ie1442d34b6837ced5f44018d038d4d716d568655\n(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)\n'}]",0,795210,fd8db39d8dd66b4895a181a1d187a7c555fbfe83,28,4,11,9816,,,0,"Add support for independent manila-dashboard configurations

This change introduces the new horizon::dashboards::manila class,
which allows users to manage the independent configuration file for
manila dashboard (_90_manila_shares.py).

Conflicts:
        manifests/params.pp

Change-Id: Ie1442d34b6837ced5f44018d038d4d716d568655
(cherry picked from commit a7d71fb37d7638d19f9ba22650a49c93b2be9142)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/10/795210/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/manila-dashboard-aaf28389e0bcfa9b.yaml', 'templates/_90_manila_shares.py.erb', 'manifests/params.pp', 'manifests/dashboards/manila.pp', 'spec/classes/horizon_dashboards_manila_spec.rb']",5,06371ffac5c5a62fbed6b692ba20e287cc40bbe3,puppet-horizon-dashboards,"require 'spec_helper' describe 'horizon::dashboards::manila' do let :params do {} end shared_examples_for 'horizon::dashboards::manila' do context 'with default parameters' do let(:pre_condition) do <<-eos class { 'horizon': secret_key => 'elj1IWiLoWHgcyYxFVLj7cM5rGOOxWl0', } eos end it 'installs manila-dashboard package' do is_expected.to contain_package('manila-dashboard').with( :ensure => 'present', :name => platform_params[:manila_dashboard_package_name], :tag => ['openstack', 'horizon-package'] ) end it 'generates _90_manila_shares.py' do verify_concat_fragment_contents(catalogue, '_90_manila_shares.py', [ ""settings.POLICY_FILES.update({"", "" 'share': 'manila_policy.yaml',"", ""})"" ]) verify_concat_fragment_contents(catalogue, '_90_manila_shares.py', [ "" 'enable_share_groups': True,"", "" 'enable_replication': True,"", "" 'enable_migration': True,"", "" 'enable_public_share_type_creation': True,"", "" 'enable_public_share_group_type_creation': True,"", "" 'enable_public_shares': True,"", "" 'enabled_share_protocols': ['NFS', 'CIFS', 'GlusterFS', 'HDFS', 'CephFS', 'MapRFS'],"", ]) end end context 'without the horizon class defined' do it { should raise_error(Puppet::Error) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :manila_dashboard_package_name => 'python3-manila-dashboard' } when 'RedHat' { :manila_dashboard_package_name => 'openstack-manila-ui' } end end it_behaves_like 'horizon::dashboards::manila' end end end ",,226,0
openstack%2Fpuppet-horizon~stable%2Fwallaby~I54f7fb778bc2487bf977e23e193773d627d91dd9,openstack/puppet-horizon,stable/wallaby,I54f7fb778bc2487bf977e23e193773d627d91dd9,Add support for independent octavia-dashboard configurations,MERGED,2021-06-08 05:14:08.000000000,2021-07-04 22:33:34.000000000,2021-07-04 22:32:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 05:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/448ea0638a6ba0aab911652a1289a5ff78a71614', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 2, 'created': '2021-06-08 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/23773d11db6ff50eef04384ba044a374fdb329c3', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 3, 'created': '2021-06-08 14:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3dbdb85b3deb1448630ba97b0f53f05a3701690a', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 4, 'created': '2021-06-10 01:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f169cb21df2103640720e66662fe57d4da351b90', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 5, 'created': '2021-06-10 03:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/71c401c22337f82a4bfc754d1d137bd2378e242b', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 6, 'created': '2021-06-10 05:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/981b9b1c14c8d5dd790b7f2d1877f73330ad2060', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 7, 'created': '2021-06-10 09:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/bb56f92c1f7a88c0ee0ec7dc6dcd26b04a343c3d', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 8, 'created': '2021-06-10 12:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fccd25b9beaad55498514e1c2e396d8a4a7535ab', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 9, 'created': '2021-06-11 02:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/93fb6906b16070654f3842c688af18c2dba28f08', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 10, 'created': '2021-06-11 05:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/931a53770d8426c258dbc545a8513d347508a712', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}, {'number': 11, 'created': '2021-06-28 23:00:18.000000000', 'files': ['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/d61cf671ee738ecaece14eaa3377c38274b366c7', 'message': 'Add support for independent octavia-dashboard configurations\n\nThis change introduces the new horizon::dashboards::octavia class,\nwhich allows users to manage the independent configuration file for\noctavia dashboard (_1499_load_balancer_settings.py).\n\nConflicts:\n\tmanifests/params.pp\n\nChange-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9\n(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)\n'}]",0,795209,d61cf671ee738ecaece14eaa3377c38274b366c7,29,3,11,9816,,,0,"Add support for independent octavia-dashboard configurations

This change introduces the new horizon::dashboards::octavia class,
which allows users to manage the independent configuration file for
octavia dashboard (_1499_load_balancer_settings.py).

Conflicts:
	manifests/params.pp

Change-Id: I54f7fb778bc2487bf977e23e193773d627d91dd9
(cherry picked from commit c29622ee456494e6a34f62ded5747585a7ec5e62)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/09/795209/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/_1499_load_balancer_settings.py.erb', 'manifests/params.pp', 'manifests/dashboards/octavia.pp', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'releasenotes/notes/octavia-dashboard-0eb5300606586e80.yaml']",5,448ea0638a6ba0aab911652a1289a5ff78a71614,puppet-horizon-dashboards,--- features: - | The new ``horizon::dashboards::octavia`` class has been added. This class can be used to manage parameters for octavia-dashboard. ,,211,33
openstack%2Fpuppet-nova~stable%2Fvictoria~I66f14ec424f9446bf8b5959e25abdbbd3213e51f,openstack/puppet-nova,stable/victoria,I66f14ec424f9446bf8b5959e25abdbbd3213e51f,Victoria and before: Use libvirt-daemon-system in Ubuntu Focal,MERGED,2021-06-30 07:35:39.000000000,2021-07-04 22:14:12.000000000,2021-07-04 22:14:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 07:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4c18c8e3665b8249710729c138943c67306a5583', 'message': 'Victoria and before: Use libvirt-daemon-system in Ubuntu Focal\n\n... because libvirt-bin is no longer available since Focal(20.04).\n\nCloses-Bug: #1933978\nChange-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f\n'}, {'number': 2, 'created': '2021-06-30 07:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/12bb2cca89f208e1a64f340661335d1640fcda29', 'message': 'Victoria and before: Use libvirt-daemon-system in Ubuntu Focal\n\n... because libvirt-bin is no longer available since Focal(20.04).\nThis was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during\nWallaby cycle.\n\nCloses-Bug: #1933978\nChange-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f\n'}, {'number': 3, 'created': '2021-06-30 09:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ef2b6c9dc23b7c11b3ca7f8823d94f242be9c16c', 'message': 'Victoria and before: Use libvirt-daemon-system in Ubuntu Focal\n\n... because libvirt-bin is no longer available since Focal(20.04).\nThis was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during\nWallaby cycle.\n\nCloses-Bug: #1933978\nChange-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f\n'}, {'number': 4, 'created': '2021-07-01 09:50:13.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ec99b385b924f3af9f469f5b95f07f48715844f1', 'message': 'Victoria and before: Use libvirt-daemon-system in Ubuntu Focal\n\n... because libvirt-bin is no longer available since Focal(20.04).\nThis was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during\nWallaby cycle.\n\nCloses-Bug: #1933978\nChange-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f\n'}]",0,798796,ec99b385b924f3af9f469f5b95f07f48715844f1,12,3,4,9816,,,0,"Victoria and before: Use libvirt-daemon-system in Ubuntu Focal

... because libvirt-bin is no longer available since Focal(20.04).
This was fixed by e32576aebc31311e6dbc76b12e6a782481633fe8 during
Wallaby cycle.

Closes-Bug: #1933978
Change-Id: I66f14ec424f9446bf8b5959e25abdbbd3213e51f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/96/798796/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,4c18c8e3665b8249710729c138943c67306a5583,bug/1933978," # $::operatingsystem == 'Ubuntu' if versioncomp($facts['os']['release']['full'], '18.04') >= 0 { $libvirt_package_name = 'libvirt-daemon-system' } else { $libvirt_package_name = 'libvirt-bin' {", $libvirt_package_name = 'libvirt-bin',6,1
openstack%2Fpuppet-cinder~master~Ide37b4ef6a03a673976df5c0e070fba0f867b524,openstack/puppet-cinder,master,Ide37b4ef6a03a673976df5c0e070fba0f867b524,Add support for [cors] options,MERGED,2021-07-01 09:22:35.000000000,2021-07-04 22:03:42.000000000,2021-07-04 22:02:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:22:35.000000000', 'files': ['spec/classes/cinder_cors_spec.rb', 'releasenotes/notes/cors-ec65ae3f0a49fc44.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a432ad63b41a9e2d4342c7f6aef2601babd769a8', 'message': 'Add support for [cors] options\n\nChange-Id: Ide37b4ef6a03a673976df5c0e070fba0f867b524\n'}]",0,799025,a432ad63b41a9e2d4342c7f6aef2601babd769a8,10,3,1,9816,,,0,"Add support for [cors] options

Change-Id: Ide37b4ef6a03a673976df5c0e070fba0f867b524
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/25/799025/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_cors_spec.rb', 'releasenotes/notes/cors-ec65ae3f0a49fc44.yaml', 'manifests/cors.pp']",3,a432ad63b41a9e2d4342c7f6aef2601babd769a8,cors-opts,"# == Class: cinder::cors # # Configure the cinder cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class cinder::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include cinder::deps oslo::cors { 'cinder_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-glance~master~I84b401dcc03629608cb1950be197b7ec54c08d9c,openstack/puppet-glance,master,I84b401dcc03629608cb1950be197b7ec54c08d9c,Add support for [cors] options,MERGED,2021-07-01 09:25:47.000000000,2021-07-04 21:57:50.000000000,2021-07-04 21:56:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/64af1da8eebc2c25f5d2d75af41b22060f1662bc', 'message': 'Add support for [cors] options\n\nChange-Id: I84b401dcc03629608cb1950be197b7ec54c08d9c\n'}, {'number': 2, 'created': '2021-07-01 09:38:01.000000000', 'files': ['spec/classes/glance_cors_spec.rb', 'releasenotes/notes/cors-d7196b18598d9461.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/44b350e5ce055300c18e65987305f1ad322e25ff', 'message': 'Add support for [cors] options\n\nChange-Id: I84b401dcc03629608cb1950be197b7ec54c08d9c\n'}]",0,799026,44b350e5ce055300c18e65987305f1ad322e25ff,11,3,2,9816,,,0,"Add support for [cors] options

Change-Id: I84b401dcc03629608cb1950be197b7ec54c08d9c
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/26/799026/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cors-d7196b18598d9461.yaml', 'spec/classes/glance_cores_spec.rb', 'manifests/cors.pp']",3,64af1da8eebc2c25f5d2d75af41b22060f1662bc,cors-opts,"# == Class: glance::cors # # Configure the glance cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class glance::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include glance::deps oslo::cors { 'glance_api_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-zaqar~master~Ia30208b782787bd528f1c1be4883b53476a8456f,openstack/puppet-zaqar,master,Ia30208b782787bd528f1c1be4883b53476a8456f,Add support for [cors] options,MERGED,2021-07-01 09:29:09.000000000,2021-07-04 21:57:07.000000000,2021-07-04 21:56:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:29:09.000000000', 'files': ['releasenotes/notes/cors-dc03ea932c4d6521.yaml', 'spec/classes/zaqar_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/4aa042d69bfed798b4927b1dede91722c4439685', 'message': 'Add support for [cors] options\n\nChange-Id: Ia30208b782787bd528f1c1be4883b53476a8456f\n'}]",0,799027,4aa042d69bfed798b4927b1dede91722c4439685,8,3,1,9816,,,0,"Add support for [cors] options

Change-Id: Ia30208b782787bd528f1c1be4883b53476a8456f
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/27/799027/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cors-dc03ea932c4d6521.yaml', 'spec/classes/zaqar_cors_spec.rb', 'manifests/cors.pp']",3,4aa042d69bfed798b4927b1dede91722c4439685,cors-opts,"# == Class: zaqar::cors # # Configure the zaqar cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class zaqar::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include zaqar::deps oslo::cors { 'zaqar_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-placement~master~I8531ac8d7e360abf3bea079208c5fa0d9d2169a5,openstack/puppet-placement,master,I8531ac8d7e360abf3bea079208c5fa0d9d2169a5,Add support for [cors] options,MERGED,2021-07-01 08:24:41.000000000,2021-07-04 21:51:09.000000000,2021-07-04 21:50:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 08:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/707665ae817974b1e0945d2059c18b3a6d62c3f5', 'message': 'Add support for cors option\n\nChange-Id: I8531ac8d7e360abf3bea079208c5fa0d9d2169a5\n'}, {'number': 2, 'created': '2021-07-01 09:16:21.000000000', 'files': ['releasenotes/notes/cors-32d7aada2d1a6a11.yaml', 'manifests/cors.pp', 'spec/classes/placement_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/168d1eb18200ef28806c4745007cee9885ad9346', 'message': 'Add support for [cors] options\n\nChange-Id: I8531ac8d7e360abf3bea079208c5fa0d9d2169a5\n'}]",0,799006,168d1eb18200ef28806c4745007cee9885ad9346,13,3,2,9816,,,0,"Add support for [cors] options

Change-Id: I8531ac8d7e360abf3bea079208c5fa0d9d2169a5
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/06/799006/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cors-32d7aada2d1a6a11.yaml', 'manifests/cors.pp', 'spec/classes/placement_cors_spec.rb']",3,707665ae817974b1e0945d2059c18b3a6d62c3f5,cors-opts,"require 'spec_helper' describe 'placement::cors' do shared_examples_for 'placement::cors' do it 'configure cors default params' do is_expected.to contain_oslo__cors('placement_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) end context 'with specific parameters' do let :params do { :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', } end it 'configure cors params' do is_expected.to contain_oslo__cors('placement_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'placement::cors' end end end ",,115,0
openstack%2Fpuppet-aodh~master~Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82,openstack/puppet-aodh,master,Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82,Allow setting batch size for expirer,MERGED,2021-05-06 11:53:27.000000000,2021-07-04 21:41:12.000000000,2021-07-04 21:40:06.000000000,"[{'_account_id': 6476}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 11:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/baa14f0de1afa67504f4e3749aa9c610eb1b05a2', 'message': 'Allow setting batch size for expirer\n\nThis change introduces a new option to set batch size for expirer,\nwhich allows limiting number of alamr histories purged in a single run.\n\nDepends-on: https://review.opendev.org/755983\nChange-Id: Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82\n'}, {'number': 2, 'created': '2021-05-28 02:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/1ceda3ee8d3918d54012ae842f1ed69f2075b423', 'message': 'Allow setting batch size for expirer\n\nThis change introduces a new option to set batch size for expirer,\nwhich allows limiting number of alamr histories purged in a single run.\n\nDepends-on: https://review.opendev.org/755983\nChange-Id: Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82\n'}, {'number': 3, 'created': '2021-05-28 05:18:28.000000000', 'files': ['releasenotes/notes/batchsize-6f6d2382eeb7e025.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/216fddb3485d8d22a967dab3d9f8ca3536221826', 'message': 'Allow setting batch size for expirer\n\nThis change introduces a new option to set batch size for expirer,\nwhich allows limiting number of alamr histories purged in a single run.\n\nDepends-on: https://review.opendev.org/755983\nChange-Id: Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82\n'}]",0,790047,216fddb3485d8d22a967dab3d9f8ca3536221826,13,4,3,9816,,,0,"Allow setting batch size for expirer

This change introduces a new option to set batch size for expirer,
which allows limiting number of alamr histories purged in a single run.

Depends-on: https://review.opendev.org/755983
Change-Id: Ie37a3c377c455dbafa9cc57ddecb8b8963fc9a82
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/47/790047/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/batchsize-6f6d2382eeb7e025.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",3,baa14f0de1afa67504f4e3749aa9c610eb1b05a2,expirer-batchsize,"# [*alarm_histories_delete_batch_size*] # (optional) Limit number of deleted alarm histories in single purge run # Defaults to $::os_service_default. # $ensure = 'present', $package_ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $alarm_histories_delete_batch_size = $::os_service_default, aodh_config { 'database/alarm_histories_delete_batch_size': value => $alarm_histories_delete_batch_size } "," $ensure = 'present', $package_ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0,",28,10
openstack%2Fpuppet-barbican~master~If5e244307a459e9353a634656bd1aacd199030ac,openstack/puppet-barbican,master,If5e244307a459e9353a634656bd1aacd199030ac,Add support for [cors] options,MERGED,2021-07-01 09:16:08.000000000,2021-07-04 21:26:41.000000000,2021-07-04 21:25:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:16:08.000000000', 'files': ['spec/classes/barbican_cors_spec.rb', 'releasenotes/notes/cors-0b6f3af84fffbdee.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/67a0bb34195613f939a2cfd9497f9e4291a4a404', 'message': 'Add support for [cors] options\n\nChange-Id: If5e244307a459e9353a634656bd1aacd199030ac\n'}]",0,799023,67a0bb34195613f939a2cfd9497f9e4291a4a404,10,3,1,9816,,,0,"Add support for [cors] options

Change-Id: If5e244307a459e9353a634656bd1aacd199030ac
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/23/799023/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_cors_spec.rb', 'releasenotes/notes/cors-0b6f3af84fffbdee.yaml', 'manifests/cors.pp']",3,67a0bb34195613f939a2cfd9497f9e4291a4a404,cors-opts,"# == Class: barbican::cors # # Configure the barbican cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class barbican::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include barbican::deps oslo::cors { 'barbican_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-manila~master~I7ab8c71455a15db5258a31a410b3e58f312f9fa3,openstack/puppet-manila,master,I7ab8c71455a15db5258a31a410b3e58f312f9fa3,Add support for [cors] options,MERGED,2021-07-01 09:30:31.000000000,2021-07-04 21:21:56.000000000,2021-07-04 21:20:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:30:31.000000000', 'files': ['spec/classes/manila_cors_spec.rb', 'releasenotes/notes/cors-e81d93f888673010.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e5e7eacb73e2f1f53e850462fabb57963260635f', 'message': 'Add support for [cors] options\n\nChange-Id: I7ab8c71455a15db5258a31a410b3e58f312f9fa3\n'}]",0,799028,e5e7eacb73e2f1f53e850462fabb57963260635f,8,3,1,9816,,,0,"Add support for [cors] options

Change-Id: I7ab8c71455a15db5258a31a410b3e58f312f9fa3
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/28/799028/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_cors_spec.rb', 'releasenotes/notes/cors-e81d93f888673010.yaml', 'manifests/cors.pp']",3,e5e7eacb73e2f1f53e850462fabb57963260635f,cors-opts,"# == Class: manila::cors # # Configure the manila cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class manila::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include manila::deps oslo::cors { 'manila_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-designate~master~I592e244e386573e1811b913c2e9d50345c52e572,openstack/puppet-designate,master,I592e244e386573e1811b913c2e9d50345c52e572,Add support for [cors] options,MERGED,2021-07-01 09:19:10.000000000,2021-07-04 21:19:48.000000000,2021-07-04 21:18:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:19:10.000000000', 'files': ['releasenotes/notes/cors-50b3bc2fe5a16ad8.yaml', 'spec/classes/designate_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/76e97df6c37813116613f009bc4b8a89cc253059', 'message': 'Add support for [cors] options\n\nChange-Id: I592e244e386573e1811b913c2e9d50345c52e572\n'}]",0,799024,76e97df6c37813116613f009bc4b8a89cc253059,10,3,1,9816,,,0,"Add support for [cors] options

Change-Id: I592e244e386573e1811b913c2e9d50345c52e572
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/24/799024/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cors-50b3bc2fe5a16ad8.yaml', 'spec/classes/designate_cors_spec.rb', 'manifests/cors.pp']",3,76e97df6c37813116613f009bc4b8a89cc253059,cors-opts,"# == Class: designate::cors # # Configure the designate cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class designate::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include designate::deps oslo::cors { 'designate_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-aodh~master~I747744f5153c3fa0876c32c33a1f34d290a1498a,openstack/puppet-aodh,master,I747744f5153c3fa0876c32c33a1f34d290a1498a,Add support for [cors] options,MERGED,2021-07-01 09:11:32.000000000,2021-07-04 21:13:46.000000000,2021-07-04 21:12:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/08d097ef03384b182a9bdf4131891e649a69e6c4', 'message': 'Add support for cors option\n\nChange-Id: I747744f5153c3fa0876c32c33a1f34d290a1498a\n'}, {'number': 2, 'created': '2021-07-01 09:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/41972236a391888f59d090a21173c816ec82227f', 'message': 'Add support for [cors] options\n\nChange-Id: I747744f5153c3fa0876c32c33a1f34d290a1498a\n'}, {'number': 3, 'created': '2021-07-01 11:45:42.000000000', 'files': ['spec/classes/aodh_cors_spec.rb', 'releasenotes/notes/cors-5e513eae133889d7.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/21c16501158e7493a8d616e2b6c4069d192c90c0', 'message': 'Add support for [cors] options\n\nChange-Id: I747744f5153c3fa0876c32c33a1f34d290a1498a\n'}]",0,799021,21c16501158e7493a8d616e2b6c4069d192c90c0,14,3,3,9816,,,0,"Add support for [cors] options

Change-Id: I747744f5153c3fa0876c32c33a1f34d290a1498a
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/21/799021/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_cors_spec.pp', 'releasenotes/notes/cors-5e513eae133889d7.yaml', 'manifests/cors.pp']",3,08d097ef03384b182a9bdf4131891e649a69e6c4,cors-opts,"# == Class: aodh::cors # # Configure the aodh cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class aodh::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include aodh::deps oslo::cors { 'aodh_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Fpuppet-nova~master~I0973d9fb86066c08f5f88c59f3914f7e963c3812,openstack/puppet-nova,master,I0973d9fb86066c08f5f88c59f3914f7e963c3812,Do not test detail of oslo::cors,MERGED,2021-07-01 08:40:07.000000000,2021-07-04 20:25:26.000000000,2021-07-04 20:25:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 08:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d2c0a1cf5be38110151454ba90b73809ac6077d9', 'message': 'Do not test behavior of oslo::cors\n\nChange-Id: I0973d9fb86066c08f5f88c59f3914f7e963c3812\n'}, {'number': 2, 'created': '2021-07-01 08:50:15.000000000', 'files': ['spec/classes/nova_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0c9bd2eb864f437290e7e073858409c49b7d12cd', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for nova::cors, so that these tests\ndo not test behavir of oslo::cors but how oslo::cors resource type is\ncalled by nova::cors.\n\nChange-Id: I0973d9fb86066c08f5f88c59f3914f7e963c3812\n'}]",0,799009,0c9bd2eb864f437290e7e073858409c49b7d12cd,8,3,2,9816,,,0,"Do not test detail of oslo::cors

This change makes unit test cases for nova::cors, so that these tests
do not test behavir of oslo::cors but how oslo::cors resource type is
called by nova::cors.

Change-Id: I0973d9fb86066c08f5f88c59f3914f7e963c3812
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/09/799009/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/nova_cors_spec.rb'],1,d2c0a1cf5be38110151454ba90b73809ac6077d9,cors-ut," shared_examples_for 'nova::cors' do is_expected.to contain_oslo__cors('nova_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__cors('nova_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', ) it_behaves_like 'nova::cors'"," shared_examples_for 'nova cors' do is_expected.to contain_nova_config('cors/allowed_origin').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/allow_credentials').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/expose_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/max_age').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/allow_methods').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/allow_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('cors/allowed_origin').with_value('*') is_expected.to contain_nova_config('cors/allow_credentials').with_value(true) is_expected.to contain_nova_config('cors/expose_headers').with_value('Content-Language,Expires') is_expected.to contain_nova_config('cors/max_age').with_value(3600) is_expected.to contain_nova_config('cors/allow_methods').with_value('GET,POST,PUT,DELETE,OPTIONS') is_expected.to contain_nova_config('cors/allow_headers').with_value('Content-Type,Cache-Control') it_behaves_like 'nova cors'",18,14
openstack%2Fpuppet-keystone~master~I3cc08b121435168ecfcf127bd87d570f394fb009,openstack/puppet-keystone,master,I3cc08b121435168ecfcf127bd87d570f394fb009,Do not test detail of oslo::cors,MERGED,2021-07-01 09:00:23.000000000,2021-07-04 20:22:31.000000000,2021-07-04 20:22:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 09:00:23.000000000', 'files': ['spec/classes/keystone_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cb6f19237ff5ba099c528896c9922342dd8c8296', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for keystone::cors, so that these\ntests do not test behavir of oslo::cors but how oslo::cors resource\ntype is called by keystone::cors.\n\nChange-Id: I3cc08b121435168ecfcf127bd87d570f394fb009\n'}]",0,799018,cb6f19237ff5ba099c528896c9922342dd8c8296,7,3,1,9816,,,0,"Do not test detail of oslo::cors

This change makes unit test cases for keystone::cors, so that these
tests do not test behavir of oslo::cors but how oslo::cors resource
type is called by keystone::cors.

Change-Id: I3cc08b121435168ecfcf127bd87d570f394fb009
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/18/799018/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_cors_spec.rb'],1,cb6f19237ff5ba099c528896c9922342dd8c8296,cors-ut," shared_examples_for 'keystone::cors' do is_expected.to contain_oslo__cors('keystone_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__cors('keystone_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', ) :supported_os => OSDefaults.get_supported_os"," shared_examples 'keystone::cors' do is_expected.to contain_keystone_config('cors/allowed_origin').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/allow_credentials').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/expose_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/max_age').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/allow_methods').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/allow_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('cors/allowed_origin').with_value('*') is_expected.to contain_keystone_config('cors/allow_credentials').with_value(true) is_expected.to contain_keystone_config('cors/expose_headers').with_value('Content-Language,Expires') is_expected.to contain_keystone_config('cors/max_age').with_value(3600) is_expected.to contain_keystone_config('cors/allow_methods').with_value('GET,POST,PUT,DELETE,OPTIONS') is_expected.to contain_keystone_config('cors/allow_headers').with_value('Content-Type,Cache-Control') :supported_os => OSDefaults.get_supported_os",20,14
openstack%2Fpuppet-gnocchi~master~I575c0bce558b10c1780b2d43e620f88fcfbd7689,openstack/puppet-gnocchi,master,I575c0bce558b10c1780b2d43e620f88fcfbd7689,Do not test detail of oslo::cors,MERGED,2021-07-01 08:48:36.000000000,2021-07-04 20:22:16.000000000,2021-07-04 20:22:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 08:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f579ef09afe0a7ee0d9f4241be0288e934a5d7bf', 'message': 'Do not test behavior of oslo::cors\n\nChange-Id: I575c0bce558b10c1780b2d43e620f88fcfbd7689\n'}, {'number': 2, 'created': '2021-07-01 08:49:43.000000000', 'files': ['spec/classes/gnocchi_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/9eb142068d017eb9cc4e1e71c8fddffb7eae56b2', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for gnocchi::cors, so that these\ntests do not test behavir of oslo::cors but how oslo::cors resource\ntype is called by gnocchi::cors.\n\nChange-Id: I575c0bce558b10c1780b2d43e620f88fcfbd7689\n'}]",0,799014,9eb142068d017eb9cc4e1e71c8fddffb7eae56b2,8,3,2,9816,,,0,"Do not test detail of oslo::cors

This change makes unit test cases for gnocchi::cors, so that these
tests do not test behavir of oslo::cors but how oslo::cors resource
type is called by gnocchi::cors.

Change-Id: I575c0bce558b10c1780b2d43e620f88fcfbd7689
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/14/799014/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_cors_spec.rb'],1,f579ef09afe0a7ee0d9f4241be0288e934a5d7bf,cors-ut," shared_examples_for 'gnocchi::cors' do is_expected.to contain_oslo__cors('gnocchi_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__cors('gnocchi_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', ) it_behaves_like 'gnocchi::cors'"," shared_examples_for 'gnocchi cors' do is_expected.to contain_gnocchi_config('cors/allowed_origin').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/allow_credentials').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/expose_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/max_age').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/allow_methods').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/allow_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('cors/allowed_origin').with_value('*') is_expected.to contain_gnocchi_config('cors/allow_credentials').with_value(true) is_expected.to contain_gnocchi_config('cors/expose_headers').with_value('Content-Language,Expires') is_expected.to contain_gnocchi_config('cors/max_age').with_value(3600) is_expected.to contain_gnocchi_config('cors/allow_methods').with_value('GET,POST,PUT,DELETE,OPTIONS') is_expected.to contain_gnocchi_config('cors/allow_headers').with_value('Content-Type,Cache-Control') it_behaves_like 'gnocchi cors'",18,14
openstack%2Fpuppet-mistral~master~I25afe42205ede6d836625505315da8bd50207a1f,openstack/puppet-mistral,master,I25afe42205ede6d836625505315da8bd50207a1f,Do not test detail of oslo::cors,MERGED,2021-07-01 08:58:54.000000000,2021-07-04 20:22:02.000000000,2021-07-04 20:22:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 08:58:54.000000000', 'files': ['spec/classes/mistral_cors_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/413a0cafefb356c20cd656cb992ee2481944b335', 'message': 'Do not test detail of oslo::cors\n\nThis change makes unit test cases for mistral::cors, so that these\ntests do not test behavir of oslo::cors but how oslo::cors resource\ntype is called by mistral::cors.\n\nChange-Id: I25afe42205ede6d836625505315da8bd50207a1f\n'}]",0,799017,413a0cafefb356c20cd656cb992ee2481944b335,7,3,1,9816,,,0,"Do not test detail of oslo::cors

This change makes unit test cases for mistral::cors, so that these
tests do not test behavir of oslo::cors but how oslo::cors resource
type is called by mistral::cors.

Change-Id: I25afe42205ede6d836625505315da8bd50207a1f
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/17/799017/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/mistral_cors_spec.rb'],1,413a0cafefb356c20cd656cb992ee2481944b335,cors-ut," shared_examples_for 'mistral::cors' do is_expected.to contain_oslo__cors('mistral_config').with( :allowed_origin => '<SERVICE DEFAULT>', :allow_credentials => '<SERVICE DEFAULT>', :expose_headers => '<SERVICE DEFAULT>', :max_age => '<SERVICE DEFAULT>', :allow_methods => '<SERVICE DEFAULT>', :allow_headers => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__cors('mistral_config').with( :allowed_origin => '*', :allow_credentials => true, :expose_headers => 'Content-Language,Expires', :max_age => 3600, :allow_methods => 'GET,POST,PUT,DELETE,OPTIONS', :allow_headers => 'Content-Type,Cache-Control', ) it_behaves_like 'mistral::cors'"," shared_examples_for 'mistral cors' do is_expected.to contain_mistral_config('cors/allowed_origin').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/allow_credentials').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/expose_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/max_age').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/allow_methods').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/allow_headers').with_value('<SERVICE DEFAULT>') is_expected.to contain_mistral_config('cors/allowed_origin').with_value('*') is_expected.to contain_mistral_config('cors/allow_credentials').with_value(true) is_expected.to contain_mistral_config('cors/expose_headers').with_value('Content-Language,Expires') is_expected.to contain_mistral_config('cors/max_age').with_value(3600) is_expected.to contain_mistral_config('cors/allow_methods').with_value('GET,POST,PUT,DELETE,OPTIONS') is_expected.to contain_mistral_config('cors/allow_headers').with_value('Content-Type,Cache-Control') it_configures 'mistral cors'",18,14
openstack%2Fpuppet-openstacklib~master~I371ef3a2e257e6d197238e7e9cbfd9d445405be5,openstack/puppet-openstacklib,master,I371ef3a2e257e6d197238e7e9cbfd9d445405be5,Get rid of the $pyvers variable,MERGED,2021-06-09 14:20:22.000000000,2021-07-04 18:22:01.000000000,2021-07-04 18:22:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/cc4cb8baf27eb1808d2b1a4fb2c0abf6aacb39b7', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I371ef3a2e257e6d197238e7e9cbfd9d445405be5\n""}, {'number': 2, 'created': '2021-06-10 08:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/84350f912a933f36601b589f3660660cadfddc8d', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I371ef3a2e257e6d197238e7e9cbfd9d445405be5\n""}, {'number': 3, 'created': '2021-06-28 23:07:38.000000000', 'files': ['spec/classes/openstacklib_openstackclient_spec.rb', 'manifests/defaults.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/508fc7addeeb5c09e58b556847e988a88df9ff13', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: I371ef3a2e257e6d197238e7e9cbfd9d445405be5\n""}]",0,795553,508fc7addeeb5c09e58b556847e988a88df9ff13,17,4,3,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: I371ef3a2e257e6d197238e7e9cbfd9d445405be5
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/53/795553/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,cc4cb8baf27eb1808d2b1a4fb2c0abf6aacb39b7,pyvers-removal, $openstackclient_package_name = 'python-openstackclient'," $pyvers = $::openstacklib::defaults::pyvers $openstackclient_package_name = ""python${pyvers}-openstackclient""",1,2
openstack%2Fsolum-dashboard~stable%2Fvictoria~Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974,openstack/solum-dashboard,stable/victoria,Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974,Imported Translations from Zanata,NEW,2021-07-04 08:35:20.000000000,2021-07-04 08:46:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-04 08:35:20.000000000', 'files': ['solumdashboard/locale/ru/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/35a4bdcd6b72677e114baead2b9c72eaf99a1800', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974\n'}]",0,799413,35a4bdcd6b72677e114baead2b9c72eaf99a1800,2,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic879e6843aa5ac5794ad560e1ec0ddbe42df4974
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/13/799413/1 && git format-patch -1 --stdout FETCH_HEAD,['solumdashboard/locale/ru/LC_MESSAGES/django.po'],1,35a4bdcd6b72677e114baead2b9c72eaf99a1800,zanata/translations,"# Roman Gorshunov <roman.gorshunov@att.com>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: solum-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-11-05 06:22+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-07-03 03:12+0000\n"" ""Last-Translator: Roman Gorshunov <roman.gorshunov@att.com>\n"" ""Language-Team: Russian\n"" ""Language: ru\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"" ""%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2)\n"" msgid ""A yaml file containing custom parameters"" msgstr ""YAML файл с локализованными параметрами"" msgid ""App File"" msgstr ""Файл приложения"" msgid ""App URL"" msgstr ""URL приложения"" msgid ""App updated"" msgstr ""Приложение обновлено"" msgid ""Application"" msgstr ""Приложение"" msgid ""Application Details"" msgstr ""Детали приложения"" msgid ""Application Name"" msgstr ""Название приложения"" msgid ""Application entry point"" msgstr ""Точка входа приложения"" msgid ""Application was successfully created."" msgstr ""Приложение успешно создано."" msgid ""Applications"" msgstr ""Приложения"" msgid ""Assemblies"" msgstr ""Ансамбли"" msgid ""Assembly Details"" msgstr ""Детали ансамбля"" msgid ""Build and Deploy Application"" msgstr ""Собрать и развернуть приложение"" msgid ""Command to execute unit tests"" msgstr ""Команда для запуска модульных тестов"" msgid ""Could not update app"" msgstr ""Не удалось обновить приложение"" msgid ""Create Application"" msgstr ""Создать приложение"" msgid ""Create Languagepack"" msgstr ""Создать пакет языка"" msgid ""Created at"" msgstr ""Создано"" msgid ""Delete Application"" msgid_plural ""Delete Applications"" msgstr[0] ""Удалить приложение"" msgstr[1] ""Удалить приложения"" msgstr[2] ""Удалить приложения"" msgid ""Delete Assembly"" msgid_plural ""Delete Assemblies"" msgstr[0] ""Удалить ансамбль"" msgstr[1] ""Удалить ансамбли"" msgstr[2] ""Удалить ансамбли"" msgid ""Delete Languagepack"" msgid_plural ""Delete Languagepacks"" msgstr[0] ""Удалить пакет языка"" msgstr[1] ""Удалить пакеты языка"" msgstr[2] ""Удалить пакеты языка"" msgid ""Deleted Application"" msgid_plural ""Deleted Applications"" msgstr[0] ""Удалённое приложение"" msgstr[1] ""Удалённые приложения"" msgstr[2] ""Удалённые приложения"" msgid ""Deleted Languagepack"" msgid_plural ""Deleted Languagepacks"" msgstr[0] ""Удален пакет языка"" msgstr[1] ""Удалены пакеты языка"" msgstr[2] ""Удалены пакеты языка"" msgid ""Deploy Application"" msgstr ""Развернуть приложение"" msgid ""Description"" msgstr ""Описание"" msgid ""Description:"" msgstr ""Описание:"" msgid ""Enter the details for the application."" msgstr ""Введите детали приложения."" msgid ""Enter the details for the languagepack."" msgstr ""Введите детали для пакета языка."" msgid ""Entry points"" msgstr ""Точки входа"" msgid ""General Info"" msgstr ""Основная информация"" msgid ""ID"" msgstr ""ID"" msgid ""ID of the DU image"" msgstr ""ID образа DU"" msgid ""Input"" msgstr ""Ввод"" msgid ""Languagepack"" msgstr ""Пакет языка"" #, python-format msgid ""Languagepack %s was successfully created."" msgstr ""Пакет языка %s был успешно создан."" msgid ""Languagepack Details"" msgstr ""Детали пакета языка"" msgid ""Languagepack Metadata File"" msgstr ""Файл метаданных пакета языка"" msgid ""Languagepack Name"" msgstr ""Имя пакета языка"" msgid ""Languagepacks"" msgstr ""Пакеты языка"" msgid ""Launch Application"" msgstr ""Запустить приложение"" msgid ""Local Storage"" msgstr ""Локальное хранилище"" msgid ""Local app file location"" msgstr ""Расположение файла приложения"" msgid ""Location"" msgstr ""Расположение"" msgid ""Log details"" msgstr ""Детали журнала"" msgid ""Log details for "" msgstr ""Детальный журнал для"" msgid ""Logs"" msgstr ""Журналы"" msgid ""Name"" msgstr ""Имя"" msgid ""New Application"" msgstr ""Новое приложение"" msgid ""New Assembly"" msgstr ""Новый ансамбль"" msgid ""New Languagepack"" msgstr ""Новый пакет языка"" msgid ""No Log details."" msgstr ""Нет деталей журнала."" msgid ""No Workflow details."" msgstr ""Нет деталей последовательности операций."" msgid ""Parameter File"" msgstr ""Файл параметров"" msgid ""Please supply a github url"" msgstr ""Пожалуйста укажите GitHub URL"" msgid ""Please supply a languagepack"" msgstr ""Пожалуйста укажите пакет языка"" msgid ""Please supply a name"" msgstr ""Пожалуйста укажите имя"" msgid ""Please supply a run command"" msgstr ""Пожалуйста укажите команду запуска"" msgid ""Please supply an app file"" msgstr ""Пожалуйста укажите файл приложения"" msgid ""Ports"" msgstr ""Порты"" msgid ""Resource UUID"" msgstr ""UUID ресурса"" msgid ""Scale Application"" msgstr ""Масштабировать приложение"" msgid ""Scale target must be greater than zero"" msgstr ""Целевое количество должно быть больше нуля"" msgid ""Scheduled deletion of Assembly"" msgid_plural ""Scheduled deletion of Assemblies"" msgstr[0] ""Запланировано удаление ансамбля"" msgstr[1] ""Запланировано удаление ансамблей"" msgstr[2] ""Запланировано удаление ансамблей"" msgid ""Solum"" msgstr ""Solum"" msgid ""Solum - Applications"" msgstr ""Solum - Приложение"" msgid ""Solum - Assemblies"" msgstr ""Solum - Ансамбли"" msgid ""Solum - Languagepacks"" msgstr ""Solum - Пакеты языков"" msgid ""Source"" msgstr ""Источник"" msgid ""Source Repository"" msgstr ""Репозиторий исходных кодов"" msgid ""Source Revision"" msgstr ""Ревизия исходных кодов"" msgid ""Source URI"" msgstr ""URI исходного кода"" msgid ""Source Uri"" msgstr ""URI источника"" msgid ""Source repository"" msgstr ""Исходный репозиторий"" msgid ""Status"" msgstr ""Статус"" msgid ""Swift Container"" msgstr ""Swift контейнер"" msgid ""Swift Path"" msgstr ""Путь Swift"" msgid ""Target"" msgstr ""Цель"" msgid ""Target Instances"" msgstr ""Целевые инстансы"" msgid """" ""The ID of the DU image is optional, You can deploy the applications without "" ""this."" msgstr """" ""Параметр ID образа DU не обязателен. Вы можете разворачивать приложение без "" ""его указания."" msgid ""The port your application listens on"" msgstr ""Порт, который слушает приложение"" msgid ""Trigger"" msgstr ""Триггер"" msgid ""Trigger URI"" msgstr ""URI триггера"" msgid ""Trigger UUID"" msgstr ""UUID триггера"" msgid ""URI"" msgstr ""URI"" msgid ""UUID"" msgstr ""UUID"" msgid ""Unable to create application."" msgstr ""Не удалось создать приложение."" msgid ""Unable to create languagepack."" msgstr ""Не удалось создать пакет языка."" msgid ""Unable to retrieve application details."" msgstr ""Не удалось получить детали приложения."" msgid ""Unable to retrieve apps."" msgstr ""Не удалось получить список приложений."" msgid ""Unable to retrieve assemblies."" msgstr ""Не удалось получить список ансамблей"" msgid ""Unable to retrieve languagepack details."" msgstr ""Не удалось получить детали пакета языка."" msgid ""Unable to retrieve languagepacks."" msgstr ""Не удалось получить пакеты языков."" msgid ""Update"" msgstr ""Обновить"" msgid ""Update App"" msgstr ""Обновить приложение"" msgid ""Update Application"" msgstr ""Обновить приложение"" msgid ""Updated at"" msgstr ""Обновлено"" msgid ""View"" msgstr ""Вид"" msgid ""View Application Logs"" msgstr ""Просмотреть журнал приложения"" msgid ""Workflow ID"" msgstr ""ID последовательности операций"" msgid ""Workflow Run Command"" msgstr ""Команда запуска последовательности операций"" msgid ""Workflow Test Command"" msgstr ""Команда тестирования последовательности операций"" msgid ""Workflow details for"" msgstr ""Последовательность операций для"" ",,345,0
openstack%2Fopenstack-ansible~master~I7d09dc911f66ffcc500343ff0e8430b1bd29eafc,openstack/openstack-ansible,master,I7d09dc911f66ffcc500343ff0e8430b1bd29eafc,Revert placement client override,ABANDONED,2021-06-30 20:26:01.000000000,2021-07-04 05:14:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-30 20:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e463c23d456b54f4808045033a9a7f1fea119d66', 'message': 'Revert placement client override\n\nReturn to usage of the osc-placement version provided in u-c.\n\nChange-Id: I7d09dc911f66ffcc500343ff0e8430b1bd29eafc\n'}, {'number': 2, 'created': '2021-07-02 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/59104181d25b9986a21a27504f1fa394351902f7', 'message': 'Revert placement client override\n\nReturn to usage of the osc-placement version provided in u-c.\n\nChange-Id: I7d09dc911f66ffcc500343ff0e8430b1bd29eafc\n'}, {'number': 3, 'created': '2021-07-02 15:10:34.000000000', 'files': ['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a7117db30a306c00401eb24df81421afb6104c2e', 'message': 'Revert placement client override\n\nReturn to usage of the osc-placement version provided in u-c.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/799084\nChange-Id: I7d09dc911f66ffcc500343ff0e8430b1bd29eafc\n'}]",0,798955,a7117db30a306c00401eb24df81421afb6104c2e,6,1,3,28619,,,0,"Revert placement client override

Return to usage of the osc-placement version provided in u-c.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/799084
Change-Id: I7d09dc911f66ffcc500343ff0e8430b1bd29eafc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/55/798955/3 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml']",2,e463c23d456b54f4808045033a9a7f1fea119d66,798920, (l is match('^(aodh|gnocchi)client==.*$')) or (l is match('^osc-placement==.*$')), (l is match('^(aodh|gnocchi)client==.*$')),2,2
openstack%2Frequirements~stable%2Frocky~Ia3346187e13acb880b3447598012f1530856f5c8,openstack/requirements,stable/rocky,Ia3346187e13acb880b3447598012f1530856f5c8,[stable-only] Cap hacking,MERGED,2021-06-29 17:15:28.000000000,2021-07-04 03:22:30.000000000,2021-07-04 03:22:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 17:15:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/adb8d5da24a4c5e9b1087f6588616c43961bbcc6', 'message': '[stable-only] Cap hacking\n\nWith the latest hacking release, 4.1.0, the pep8 test started to fail\nwith the following errors:\n\nH216: The unittest.mock module should be used rather than the third\nparty mock\n\nThis patch cap hacking<4.1.0 to unblock the gate.\n\nChange-Id: Ia3346187e13acb880b3447598012f1530856f5c8\n(cherry picked from commit b917ca42100572e4af6896d20a47eb806e16acf1)\n'}]",0,798722,adb8d5da24a4c5e9b1087f6588616c43961bbcc6,8,2,1,17685,,,0,"[stable-only] Cap hacking

With the latest hacking release, 4.1.0, the pep8 test started to fail
with the following errors:

H216: The unittest.mock module should be used rather than the third
party mock

This patch cap hacking<4.1.0 to unblock the gate.

Change-Id: Ia3346187e13acb880b3447598012f1530856f5c8
(cherry picked from commit b917ca42100572e4af6896d20a47eb806e16acf1)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/798722/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,adb8d5da24a4c5e9b1087f6588616c43961bbcc6,cap-hacking," hacking>=1.0.0,<4.1.0", hacking>=1.0.0,1,1
openstack%2Frequirements~stable%2Fstein~Ia3346187e13acb880b3447598012f1530856f5c8,openstack/requirements,stable/stein,Ia3346187e13acb880b3447598012f1530856f5c8,[stable-only] Cap hacking,MERGED,2021-06-29 17:04:22.000000000,2021-07-04 01:45:56.000000000,2021-07-04 01:45:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 17:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b917ca42100572e4af6896d20a47eb806e16acf1', 'message': '[stable-only] Cap hacking\n\nWith the latest hacking release, 4.1.0, the pep8 test started to fail\nwith the following errors:\n\nH216: The unittest.mock module should be used rather than the third\nparty mock\n\nThis patch cap hacking<4.1.0 to unblock the gate.\n\nChange-Id: Ia3346187e13acb880b3447598012f1530856f5c8\n'}, {'number': 2, 'created': '2021-06-29 17:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9839f3e6945ee0e016db6c581f16b1b838e3747b', 'message': '[stable-only] Cap hacking\n\nWith the latest hacking release, 4.1.0, the pep8 test started to fail\nwith the following errors:\n\nH216: The unittest.mock module should be used rather than the third\nparty mock\n\nThis patch cap hacking<4.1.0 to unblock the gate.\n\nChange-Id: Ia3346187e13acb880b3447598012f1530856f5c8\n(cherry picked from commit b917ca42100572e4af6896d20a47eb806e16acf1)\n'}, {'number': 3, 'created': '2021-06-29 17:14:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/04245500abf39537b029563919dac634868e94d8', 'message': '[stable-only] Cap hacking\n\nWith the latest hacking release, 4.1.0, the pep8 test started to fail\nwith the following errors:\n\nH216: The unittest.mock module should be used rather than the third\nparty mock\n\nThis patch cap hacking<4.1.0 to unblock the gate.\n\nChange-Id: Ia3346187e13acb880b3447598012f1530856f5c8\n'}]",0,798720,04245500abf39537b029563919dac634868e94d8,13,2,3,17685,,,0,"[stable-only] Cap hacking

With the latest hacking release, 4.1.0, the pep8 test started to fail
with the following errors:

H216: The unittest.mock module should be used rather than the third
party mock

This patch cap hacking<4.1.0 to unblock the gate.

Change-Id: Ia3346187e13acb880b3447598012f1530856f5c8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/798720/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b917ca42100572e4af6896d20a47eb806e16acf1,cap-hacking," hacking>=1.0.0,<4.1.0", hacking>=1.0.0,1,1
openstack%2Frequirements~master~Ic55c0d8912e3934c4dab5bdce3d714a327afb081,openstack/requirements,master,Ic55c0d8912e3934c4dab5bdce3d714a327afb081,update constraint for oslo.rootwrap to new release 6.3.0,MERGED,2021-07-01 12:45:50.000000000,2021-07-04 00:02:53.000000000,2021-07-04 00:01:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 12:45:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/17df2648a2c3225cb9af4d6784824eaa8c594e8b', 'message': 'update constraint for oslo.rootwrap to new release 6.3.0\n\nmeta: version: 6.3.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic55c0d8912e3934c4dab5bdce3d714a327afb081\n'}]",0,799051,17df2648a2c3225cb9af4d6784824eaa8c594e8b,24,3,1,11131,,,0,"update constraint for oslo.rootwrap to new release 6.3.0

meta: version: 6.3.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic55c0d8912e3934c4dab5bdce3d714a327afb081
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/799051/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,17df2648a2c3225cb9af4d6784824eaa8c594e8b,new-release,oslo.rootwrap===6.3.0,oslo.rootwrap===6.2.0,1,1
openstack%2Frequirements~master~Ia475c34b0f291f891fab34e1671e69d41831c35d,openstack/requirements,master,Ia475c34b0f291f891fab34e1671e69d41831c35d,Updated from generate-constraints,MERGED,2021-07-03 06:27:37.000000000,2021-07-03 22:18:04.000000000,2021-07-03 22:16:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-03 06:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b2385361f778789f77c01ab063e891e94983a2f', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia475c34b0f291f891fab34e1671e69d41831c35d\n'}, {'number': 2, 'created': '2021-07-03 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e812329350e0ed168f2f5d82de9395a1144cdff', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia475c34b0f291f891fab34e1671e69d41831c35d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2021-07-03 19:30:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a37962bcc6dbb3d9dc8659dfc8b0a699afe6fba9', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia475c34b0f291f891fab34e1671e69d41831c35d\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,799347,a37962bcc6dbb3d9dc8659dfc8b0a699afe6fba9,13,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ia475c34b0f291f891fab34e1671e69d41831c35d
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/799347/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0b2385361f778789f77c01ab063e891e94983a2f,openstack/requirements/constraints/noclob,# generated using: tox -e generateXStatic-Angular===1.8.2.1Pillow===8.3.0zeroconf===0.32.0taskflow===4.6.1SQLAlchemy===1.4.20google-auth===1.32.1textfsm===1.1.2libvirt-python===7.5.0ansible-runner===2.0.1 scp===0.13.5google-api-python-client===2.11.0SQLAlchemy-Utils===0.37.8oslo.log===4.6.0docutils===0.17.1boto3===1.17.105oslo.reports===2.3.0Sphinx===4.0.2osc-placement===3.0.1botocore===1.20.105oslo.rootwrap===6.3.0etcd3gw===1.0.0oslo.db===10.0.0pkg-resources===0.0.0pyrsistent===0.18.0zipp===3.5.0fasteners===0.16.3,XStatic-Angular===1.5.8.0Pillow===8.2.0zeroconf===0.31.0taskflow===4.6.0SQLAlchemy===1.4.19google-auth===1.32.0textfsm===1.1.0libvirt-python===7.4.0ansible-runner===1.4.7 scp===0.13.4google-api-python-client===2.10.0SQLAlchemy-Utils===0.37.7oslo.log===4.5.0docutils===0.16boto3===1.17.101oslo.reports===2.2.0Sphinx===3.5.4osc-placement===3.0.0botocore===1.20.101oslo.rootwrap===6.2.0etcd3gw===0.2.5oslo.db===9.1.0pyrsistent===0.17.3zipp===3.4.1fasteners===0.14.1setuptools===57.0.0,27,26
openstack%2Fgovernance~master~I1221a6ec640d3b3f31a7a26e739e0b6f78324997,openstack/governance,master,I1221a6ec640d3b3f31a7a26e739e0b6f78324997,Add Ceph Dashboard charm to OpenStack charms,MERGED,2021-06-24 14:54:01.000000000,2021-07-03 22:09:31.000000000,2021-07-03 22:08:21.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 14:54:01.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1b00e915d2f2f57c66eb4cf0af6ff33a0841a45c', 'message': 'Add Ceph Dashboard charm to OpenStack charms\n\nAdd new charm that provides the Ceph Dashboard.\n\nDepends-On: I56528e76e52dc3a8ae2be0818e248290971fc516\nChange-Id: I1221a6ec640d3b3f31a7a26e739e0b6f78324997\n'}]",0,797913,1b00e915d2f2f57c66eb4cf0af6ff33a0841a45c,16,5,1,12549,,,0,"Add Ceph Dashboard charm to OpenStack charms

Add new charm that provides the Ceph Dashboard.

Depends-On: I56528e76e52dc3a8ae2be0818e248290971fc516
Change-Id: I1221a6ec640d3b3f31a7a26e739e0b6f78324997
",git fetch https://review.opendev.org/openstack/governance refs/changes/13/797913/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1b00e915d2f2f57c66eb4cf0af6ff33a0841a45c,project-update, charm-ceph-dashboard: release-management: external repos: - openstack/charm-ceph-dashboard,,4,0
openstack%2Frequirements~master~I5b30529be4f6cd732570a7b3a0446894c42387a9,openstack/requirements,master,I5b30529be4f6cd732570a7b3a0446894c42387a9,Bump osc-placement version,ABANDONED,2021-07-01 13:38:33.000000000,2021-07-03 19:15:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-01 13:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/27b83c1d1335790f1de024e3e1fdd968c835b306', 'message': 'Bump osc-placement version\n\nChange-Id: I5b30529be4f6cd732570a7b3a0446894c42387a9\n'}, {'number': 2, 'created': '2021-07-02 15:11:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/70de08cfac49f6f48c0b79a8c42c0eb42cc2e37d', 'message': 'Bump osc-placement version\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible/+/798955\nChange-Id: I5b30529be4f6cd732570a7b3a0446894c42387a9\n'}]",0,799084,70de08cfac49f6f48c0b79a8c42c0eb42cc2e37d,23,1,2,28619,,,0,"Bump osc-placement version

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible/+/798955
Change-Id: I5b30529be4f6cd732570a7b3a0446894c42387a9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/799084/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,27b83c1d1335790f1de024e3e1fdd968c835b306,,osc-placement===3.0.1,osc-placement===3.0.0,1,1
openstack%2Frequirements~master~I57e1be4fd55b9724a3e5347d3a3bd2ea3a92659e,openstack/requirements,master,I57e1be4fd55b9724a3e5347d3a3bd2ea3a92659e,update constraint for osc-placement to new release 3.0.1,MERGED,2021-07-01 13:46:06.000000000,2021-07-03 19:11:05.000000000,2021-07-03 19:09:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 13:46:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1910f25dfe1a69834d61e89d838f07de7d86e511', 'message': 'update constraint for osc-placement to new release 3.0.1\n\nmeta: version: 3.0.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Dmitriy Rabotyagov <dmitriy.rabotyagov@citynetwork.eu>\nmeta: release:Commit: Dmitriy Rabotyagov <dmitriy.rabotyagov@citynetwork.eu>\nmeta: release:Change-Id: Iec79d9353daf3db10e423aef9aeec4e18c350009\nmeta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>\nmeta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I57e1be4fd55b9724a3e5347d3a3bd2ea3a92659e\n'}]",0,799087,1910f25dfe1a69834d61e89d838f07de7d86e511,17,2,1,11131,,,0,"update constraint for osc-placement to new release 3.0.1

meta: version: 3.0.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Dmitriy Rabotyagov <dmitriy.rabotyagov@citynetwork.eu>
meta: release:Commit: Dmitriy Rabotyagov <dmitriy.rabotyagov@citynetwork.eu>
meta: release:Change-Id: Iec79d9353daf3db10e423aef9aeec4e18c350009
meta: release:Code-Review+1: Balazs Gibizer <balazs.gibizer@est.tech>
meta: release:Code-Review+1: Sylvain Bauza <sbauza@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I57e1be4fd55b9724a3e5347d3a3bd2ea3a92659e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/799087/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1910f25dfe1a69834d61e89d838f07de7d86e511,new-release,osc-placement===3.0.1,osc-placement===3.0.0,1,1
openstack%2Frequirements~master~I77aebc0ce8bca93d3c04c9ddf10e6c6d98d5fa9e,openstack/requirements,master,I77aebc0ce8bca93d3c04c9ddf10e6c6d98d5fa9e,update constraint for oslo.reports to new release 2.3.0,MERGED,2021-07-01 12:45:17.000000000,2021-07-03 19:10:10.000000000,2021-07-03 19:08:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 12:45:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/810a03ec019a1df48aabc4805732086358391d67', 'message': 'update constraint for oslo.reports to new release 2.3.0\n\nmeta: version: 2.3.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I77aebc0ce8bca93d3c04c9ddf10e6c6d98d5fa9e\n'}]",0,799050,810a03ec019a1df48aabc4805732086358391d67,18,3,1,11131,,,0,"update constraint for oslo.reports to new release 2.3.0

meta: version: 2.3.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I77aebc0ce8bca93d3c04c9ddf10e6c6d98d5fa9e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/799050/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,810a03ec019a1df48aabc4805732086358391d67,new-release,oslo.reports===2.3.0,oslo.reports===2.2.0,1,1
openstack%2Frequirements~master~I10c93abfcaf5aed5c606330c9ef3a19c5a099d40,openstack/requirements,master,I10c93abfcaf5aed5c606330c9ef3a19c5a099d40,update constraint for etcd3gw to new release 1.0.0,MERGED,2021-07-01 12:47:58.000000000,2021-07-03 19:08:50.000000000,2021-07-03 19:08:50.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 12:47:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/da0959d4e3abfb980bf2ef800012ecbea6df8de8', 'message': 'update constraint for etcd3gw to new release 1.0.0\n\nmeta: version: 1.0.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I10c93abfcaf5aed5c606330c9ef3a19c5a099d40\n'}]",0,799053,da0959d4e3abfb980bf2ef800012ecbea6df8de8,17,3,1,11131,,,0,"update constraint for etcd3gw to new release 1.0.0

meta: version: 1.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I10c93abfcaf5aed5c606330c9ef3a19c5a099d40
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/799053/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,da0959d4e3abfb980bf2ef800012ecbea6df8de8,new-release,etcd3gw===1.0.0,etcd3gw===0.2.5,1,1
openstack%2Frequirements~master~Ibf1854cc186e0416edc6042ecad2d4ff03712fcf,openstack/requirements,master,Ibf1854cc186e0416edc6042ecad2d4ff03712fcf,update constraint for taskflow to new release 4.6.1,MERGED,2021-07-01 12:46:38.000000000,2021-07-03 19:08:46.000000000,2021-07-03 19:08:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 12:46:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/83a36b180c40682c217cb3fa541c87428b87ea18', 'message': 'update constraint for taskflow to new release 4.6.1\n\nmeta: version: 4.6.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ibf1854cc186e0416edc6042ecad2d4ff03712fcf\n'}]",0,799052,83a36b180c40682c217cb3fa541c87428b87ea18,17,3,1,11131,,,0,"update constraint for taskflow to new release 4.6.1

meta: version: 4.6.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibf1854cc186e0416edc6042ecad2d4ff03712fcf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/799052/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,83a36b180c40682c217cb3fa541c87428b87ea18,new-release,taskflow===4.6.1,taskflow===4.6.0,1,1
openstack%2Fpuppet-nova~master~I227f40111591cfe1026ce992b3de3e28d092f329,openstack/puppet-nova,master,I227f40111591cfe1026ce992b3de3e28d092f329,Add parameters for image copy when using multiple RBD Glance stores,MERGED,2021-04-15 13:02:29.000000000,2021-07-03 19:07:59.000000000,2021-07-03 19:06:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-15 13:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/042f66fa5170183bf5645a26a7f497e436640c53', 'message': 'Add parameters for Nova/Glance image copy when using multiple RBD Glance stores\n\nExpose the Nova config options to allow an image to be automatically\ncopied into the local Glance store when Glance is configured to use\nmultiple RBD stores.\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nChange-Id: I227f40111591cfe1026ce992b3de3e28d092f329\n'}, {'number': 2, 'created': '2021-04-16 09:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7606df5105aa70f5494a9cf264ef80d8c099b2c1', 'message': 'Add parameters for Nova/Glance image copy when using multiple RBD Glance stores\n\nExpose the Nova config options to allow an image to be automatically\ncopied into the local Glance store when Glance is configured to use\nmultiple RBD stores.\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nChange-Id: I227f40111591cfe1026ce992b3de3e28d092f329\n'}, {'number': 3, 'created': '2021-06-30 15:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b24c4ce9ba7f978dbb915549dbe8ea9141dd5b3f', 'message': 'Add parameters for image copy when using multiple RBD Glance stores\n\nExpose the Nova config options to allow an image to be automatically\ncopied into the local Glance store when Glance is configured to use\nmultiple RBD stores.\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nChange-Id: I227f40111591cfe1026ce992b3de3e28d092f329\n'}, {'number': 4, 'created': '2021-07-01 10:43:10.000000000', 'files': ['manifests/compute/rbd.pp', 'releasenotes/notes/glance_image_copy-b4f888c8f981e6b3.yaml', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/920f2fbf7e1d455b0f8ab0e7655dc576e0642cd7', 'message': 'Add parameters for image copy when using multiple RBD Glance stores\n\nExpose the Nova config options to allow an image to be automatically\ncopied into the local Glance store when Glance is configured to use\nmultiple RBD stores.\n\nRelated Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce\n\nChange-Id: I227f40111591cfe1026ce992b3de3e28d092f329\n'}]",12,786401,920f2fbf7e1d455b0f8ab0e7655dc576e0642cd7,29,7,4,23811,,,0,"Add parameters for image copy when using multiple RBD Glance stores

Expose the Nova config options to allow an image to be automatically
copied into the local Glance store when Glance is configured to use
multiple RBD stores.

Related Nova change: Ia839ad418b0f2887cb8e8f5ee3e660a0751db9ce

Change-Id: I227f40111591cfe1026ce992b3de3e28d092f329
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/01/786401/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'releasenotes/notes/glance_image_copy-b4f888c8f981e6b3.yaml', 'spec/classes/nova_compute_rbd_spec.rb']",3,042f66fa5170183bf5645a26a7f497e436640c53,bp/rbd-glance-multistore," { :libvirt_rbd_user => 'nova' } is_expected.to contain_nova_config('libvirt/images_rbd_glance_store_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_poll_interval').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_timeout').with_value('<SERVICE DEFAULT>') :libvirt_rbd_user => 'joe', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'AnotherPool', :libvirt_images_rbd_ceph_conf => '/tmp/ceph.conf', :libvirt_images_rbd_glance_store_name => 'glance_rbd_store', :libvirt_images_rbd_glance_copy_poll_interval => 30, :libvirt_images_rbd_glance_copy_timeout => 300 is_expected.to contain_nova_config('libvirt/images_rbd_glance_store_name').with_value('glance_rbd_store') is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_poll_interval').with_value(30) is_expected.to contain_nova_config('libvirt/images_rbd_glance_copy_timeout').with_value(300)"," { :libvirt_rbd_user => 'nova', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'rbd', :libvirt_images_rbd_ceph_conf => '/etc/ceph/ceph.conf', :ephemeral_storage => true } :libvirt_rbd_user => 'joe', :libvirt_rbd_secret_uuid => false, :libvirt_images_rbd_pool => 'AnotherPool', :libvirt_images_rbd_ceph_conf => '/tmp/ceph.conf'",56,19
openstack%2Fgovernance~master~I25c2894a7beb48968edb222cc7ff859fbd392154,openstack/governance,master,I25c2894a7beb48968edb222cc7ff859fbd392154,Charter change to handle the vacant seat situation,MERGED,2021-06-24 14:53:36.000000000,2021-07-03 18:51:12.000000000,2021-07-03 18:49:57.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 14:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/30bd84106edb5754bef740a306f874cb313109ad', 'message': 'Charter change to handle the vacant seat situation\n\nWe had situation in past where we stuck to change the charter\nbecasue of vacant seat because total number of TC members were\nnot present to pass the motion.\n\nThese type of situation should not hold the TC work and we should\ncount current number of TC members as complete TC to continue work\non motion, charter etc.\n\nChange-Id: I25c2894a7beb48968edb222cc7ff859fbd392154\n'}, {'number': 2, 'created': '2021-06-24 15:32:23.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/c664d5671d60a2d7efebf23e0055e263e5d2bd6d', 'message': 'Charter change to handle the vacant seat situation\n\nWe had situation in past where we stuck to change the charter\nbecasue of vacant seat because total number of TC members were\nnot present to pass the motion.\n\nThese type of situation should not hold the TC work and we should\ncount current number of TC members as complete TC to continue work\non motion, charter etc.\n\nChange-Id: I25c2894a7beb48968edb222cc7ff859fbd392154\n'}]",2,797912,c664d5671d60a2d7efebf23e0055e263e5d2bd6d,20,9,2,8556,,,0,"Charter change to handle the vacant seat situation

We had situation in past where we stuck to change the charter
becasue of vacant seat because total number of TC members were
not present to pass the motion.

These type of situation should not hold the TC work and we should
count current number of TC members as complete TC to continue work
on motion, charter etc.

Change-Id: I25c2894a7beb48968edb222cc7ff859fbd392154
",git fetch https://review.opendev.org/openstack/governance refs/changes/12/797912/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,30bd84106edb5754bef740a306f874cb313109ad,charter-change,"* Until vacant seat is filled, the current number of TC members will be counted as complete TC members to continue the work on motions, charter change etc. ",,5,0
openstack%2Fpython-tripleoclient~master~I7e79ea64870fb07ba80d132e30ac02545faac1dc,openstack/python-tripleoclient,master,I7e79ea64870fb07ba80d132e30ac02545faac1dc,Deprecate enable_novajoin,MERGED,2021-06-26 15:45:12.000000000,2021-07-03 15:17:28.000000000,2021-07-03 15:15:55.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 15:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cc1eca100821192f5a5d1c80c9f1fc2f25002dc', 'message': 'Deprecate enable_novajoin\n\n... because support for the novajoin metadata service was already\ndeprecated[1].\n\n[1] bf910512c344f55d01303409f6c2151d89347583\n\nChange-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc\n'}, {'number': 2, 'created': '2021-06-26 16:22:42.000000000', 'files': ['tripleoclient/config/standalone.py', 'releasenotes/notes/deprecate-novajoin-6493fa10ee3e09cf.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a9d4d523cc5846d6e98730857f33768d370fc4b1', 'message': 'Deprecate enable_novajoin\n\n... because support for the novajoin metadata service was already\ndeprecated[1].\n\n[1] bf910512c344f55d01303409f6c2151d89347583\n\nChange-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc\n'}]",2,798192,a9d4d523cc5846d6e98730857f33768d370fc4b1,14,3,2,9816,,,0,"Deprecate enable_novajoin

... because support for the novajoin metadata service was already
deprecated[1].

[1] bf910512c344f55d01303409f6c2151d89347583

Change-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/798192/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'releasenotes/notes/deprecate-novajoin-6493fa10ee3e09cf.yaml']",2,0cc1eca100821192f5a5d1c80c9f1fc2f25002dc,standalone-config,--- deprecations: - | The ``enable_novajoin`` parameter in undercloud/standalone deployment has been deprecated. ,,8,0
openstack%2Ftripleo-heat-templates~master~Ib87615112264bd65e38ed7fb4440cca62f067de5,openstack/tripleo-heat-templates,master,Ib87615112264bd65e38ed7fb4440cca62f067de5,Remove from master the ceph-ansible references,MERGED,2021-06-24 15:00:53.000000000,2021-07-03 15:15:48.000000000,2021-07-03 15:15:48.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-24 15:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f279039d04b0870c76c70b237d1ebf653dee2d6e', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in both master and both ceph\ndeployment and day2 are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}, {'number': 2, 'created': '2021-06-24 15:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05de981e61ea546adfd9525fdb4767a80589cc9e', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}, {'number': 3, 'created': '2021-06-28 14:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f30e4bac12978083427448c7fb028eb4b1d39d1e', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}, {'number': 4, 'created': '2021-06-28 16:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24a19c81e0b61abf1667eac876211e380b2a86fc', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}, {'number': 5, 'created': '2021-06-29 06:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f165e9d8c79edf4ed50d2e5105b9806a684a0e19', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}, {'number': 6, 'created': '2021-06-29 13:58:44.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'ci/environments/scenario010-standalone.yaml', 'environments/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'environments/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'environments/ceph-ansible/ceph-ansible-external.yaml', 'environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'tools/yaml-validate.py', 'deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'sample-env-generator/dcn.yaml', 'environments/dcn-storage.yaml', 'environments/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'environments/ceph-ansible/ceph-dashboard.yaml', 'environments/manila-cephfsganesha-config.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-external.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd5a5fc2401e04d15968afd5ac35aed987d26c4d', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the tripleo-heat-templates tree to make sure\nonly cephadm is used to deploy Ceph (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5\n'}]",0,797915,dd5a5fc2401e04d15968afd5ac35aed987d26c4d,38,7,6,25402,,,0,"Remove from master the ceph-ansible references

ceph-ansible is not used anymore in master and both ceph
deployment and day2 ops are managed by the new cephadm tool.
This change aligns the tripleo-heat-templates tree to make sure
only cephadm is used to deploy Ceph (see [1]).

[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph

Change-Id: Ib87615112264bd65e38ed7fb4440cca62f067de5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/797915/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'environments/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'environments/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'environments/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'environments/ceph-ansible/ceph-ansible-external.yaml', 'environments/ceph-ansible/ceph-dashboard.yaml', 'environments/ceph-ansible/ceph-ansible.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'environments/ceph-ansible/ceph-ansible-per-role.yaml', 'deployment/ceph-ansible/ceph-external.yaml']",18,f279039d04b0870c76c70b237d1ebf653dee2d6e,ceph_ansible_cleanup,,"heat_template_version: wallaby description: > Ceph External service. parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. Use parameter_merge_strategies to merge it with the defaults. type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json CephExternalMonHost: default: '' type: string description: List of externally managed Ceph Mon Host IPs. Only used for external Ceph deployments. resources: CephBase: type: ./ceph-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} outputs: role_data: description: Role data for the Ceph External service. value: service_name: ceph_client upgrade_tasks: [] puppet_config: {} docker_config: {} config_settings: {} external_deploy_tasks: list_concat: - {get_attr: [CephBase, role_data, external_deploy_tasks]} - - name: ceph_external_external_deploy_init when: step|int == 1 tags: - ceph - ceph_fstobs - ceph_systemd block: - name: set ceph-ansible group vars clients set_fact: ceph_ansible_group_vars_clients: external_cluster_mon_ips: {get_param: CephExternalMonHost} - name: generate ceph-ansible group vars clients copy: dest: ""{{playbook_dir}}/ceph-ansible/group_vars/clients.yml"" content: ""{{ceph_ansible_group_vars_clients|to_nice_yaml}}"" external_update_tasks: {get_attr: [CephBase, role_data, external_update_tasks]} external_upgrade_tasks: {get_attr: [CephBase, role_data, external_upgrade_tasks]} ",0,2135
openstack%2Fpuppet-tripleo~master~I49a288b266a04cfa308a6f6a31ba75789ad6dde8,openstack/puppet-tripleo,master,I49a288b266a04cfa308a6f6a31ba75789ad6dde8,Do not merge: Checking mysql timeouts,ABANDONED,2021-06-09 06:23:33.000000000,2021-07-03 14:10:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-09 06:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/72ed9c3a0a61f6a2dd4ede898e167b92f4b27bf4', 'message': 'Do not merge: Checking mysql timeouts\n\nChange-Id: I49a288b266a04cfa308a6f6a31ba75789ad6dde8\n'}, {'number': 2, 'created': '2021-06-11 07:21:52.000000000', 'files': ['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/caf56327f7fbd70ae85ec9e55758efa4271f2c73', 'message': 'Do not merge: Checking mysql timeouts\n\nChange-Id: I49a288b266a04cfa308a6f6a31ba75789ad6dde8\n'}]",0,795480,caf56327f7fbd70ae85ec9e55758efa4271f2c73,8,2,2,9816,,,0,"Do not merge: Checking mysql timeouts

Change-Id: I49a288b266a04cfa308a6f6a31ba75789ad6dde8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/795480/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,72ed9c3a0a61f6a2dd4ede898e167b92f4b27bf4,mysql-timeout," $start_timeout = 120, $monitor_timeout = 130, $demote_timeout = 140, $stop_timeout = 150,"," $start_timeout = undef, $monitor_timeout = undef, $demote_timeout = undef, $stop_timeout = undef,",8,8
openstack%2Fopenstack-ansible~stable%2Fwallaby~I28ab2269e98083b3c73aca140a691edf3563a01f,openstack/openstack-ansible,stable/wallaby,I28ab2269e98083b3c73aca140a691edf3563a01f,Bump roles for W release,MERGED,2021-07-02 20:52:38.000000000,2021-07-03 13:59:02.000000000,2021-07-03 13:57:41.000000000,"[{'_account_id': 15993}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-07-02 20:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f0f549cb351904ee9ae8e7ef9491a179e56ef21', 'message': 'Bump roles for W release\n\nChange-Id: I28ab2269e98083b3c73aca140a691edf3563a01f\n'}, {'number': 2, 'created': '2021-07-03 04:39:34.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad4c9609612a692a1268717b366cdcbc6d6a71da', 'message': 'Bump roles for W release\n\nChange-Id: I28ab2269e98083b3c73aca140a691edf3563a01f\n'}]",0,799329,ad4c9609612a692a1268717b366cdcbc6d6a71da,10,5,2,28619,,,0,"Bump roles for W release

Change-Id: I28ab2269e98083b3c73aca140a691edf3563a01f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/799329/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,6f0f549cb351904ee9ae8e7ef9491a179e56ef21,, version: b3bdbeb22401fa2cf14a7c73c015fc6032605d0a version: c567e6fc18cee73b3f69cbfc2d8452d7e5402e85 version: 412455c8529d38445fb4dbfe635845b1bdb3af23 version: a72fa8bb437af09e8fc5fa48588ec52db8231f35 version: ebad60dbca320b031f2d49db3a6d1a0f820ded69 version: d747ea6feb5fa093839409d4f8e4b248b56495d2 version: c97f90af929be3f465c87447d50ea34c456b9f9a version: a0b0a34b36faae19e1285026c61a5660af75b4a7 version: a4bbe239984e321511ce925f77dcc8f6bbb7202d version: e9f71c8348cebcf63e50daff6cbf6444c29e0e56, version: 434478c28955327e36ac098d2843b90427bf964c version: 13657acfb26742ea10906c3f5a008f35561174e8 version: 95a85139dda56d550a7ab0fe0da5c71facca4d97 version: 429de8b7a1b6b1a52b07d2321566aa90ea10a731 version: f89b7f0aaf69b9d0877e6380bfc009f24b4e3f84 version: 5340b650e513ed6323602879c0db841681c5bc59 version: a348116bf7e5c7a81574bab4256833b841f43930 version: 9d14e194caa46fb503d1be72c96916cd90b88997 version: 00a542c7fccf56cb6314f04b949c62eede2f6f17 version: e5de91480723fa43de7e0a240d3b0727adf8738a,69,69
openstack%2Felection~master~I17634849d23703f4dba459bbd991a7a36ff46fce,openstack/election,master,I17634849d23703f4dba459bbd991a7a36ff46fce,Adds Belmiro Moreira as an election official,MERGED,2021-06-30 09:46:05.000000000,2021-07-03 13:57:00.000000000,2021-07-03 13:55:56.000000000,"[{'_account_id': 2799}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 09:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/7f6c5beba46ed2e10697e4a051d5c13c8f37a262', 'message': 'Adds Belmiro Moreira as an election official\n\nAdds Belmiro Moreira as an election official for the next election.\n\nChange-Id: I17634849d23703f4dba459bbd991a7a36ff46fce\n'}, {'number': 2, 'created': '2021-07-03 13:33:10.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/326f83381231056cad356ebd34d29bb7d246aa3b', 'message': 'Adds Belmiro Moreira as an election official\n\nAdds Belmiro Moreira as an election official for the next election.\n\nChange-Id: I17634849d23703f4dba459bbd991a7a36ff46fce\n'}]",0,798822,326f83381231056cad356ebd34d29bb7d246aa3b,15,6,2,2033,,,0,"Adds Belmiro Moreira as an election official

Adds Belmiro Moreira as an election official for the next election.

Change-Id: I17634849d23703f4dba459bbd991a7a36ff46fce
",git fetch https://review.opendev.org/openstack/election refs/changes/22/798822/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,7f6c5beba46ed2e10697e4a051d5c13c8f37a262,election_belmiro,"* Belmiro Moreira (belmoreira), moreira.belmiro.email.lists at gmail.com",,1,0
openstack%2Fopenstack-ansible-os_magnum~stable%2Fussuri~Ie3ef817d007b97e281f0fc70ae29a8409847d4bb,openstack/openstack-ansible-os_magnum,stable/ussuri,Ie3ef817d007b97e281f0fc70ae29a8409847d4bb,Updated from OpenStack Ansible Tests,MERGED,2020-08-14 07:39:59.000000000,2021-07-03 13:52:53.000000000,2021-07-03 13:51:49.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-14 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/9ae182fb101bec764b52dfe006ba052a0cfe6315', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie3ef817d007b97e281f0fc70ae29a8409847d4bb\n'}, {'number': 2, 'created': '2020-08-14 20:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/4f77ece458c6b2263124d33d8333ad43e54e1c31', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/746348\nChange-Id: Ie3ef817d007b97e281f0fc70ae29a8409847d4bb\n'}, {'number': 3, 'created': '2020-08-25 15:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/2915cec17130a9bb6c50fa3b3b61117fcf88026b', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/747982\nChange-Id: Ie3ef817d007b97e281f0fc70ae29a8409847d4bb\n'}, {'number': 4, 'created': '2021-07-02 21:06:56.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6075cf5885358f310e4d8fb4db3d042866dbe0c0', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/747982\nChange-Id: Ie3ef817d007b97e281f0fc70ae29a8409847d4bb\n'}]",0,746296,6075cf5885358f310e4d8fb4db3d042866dbe0c0,30,5,4,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/747982
Change-Id: Ie3ef817d007b97e281f0fc70ae29a8409847d4bb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/96/746296/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,9ae182fb101bec764b52dfe006ba052a0cfe6315,openstack/openstack-ansible-tests/sync-tests," description: ""{{ _domain_name_description | default(omit) }}""",,1,0
openstack%2Felection~master~I21d9fe993dacabae201c8c5adb69b628699a6fc7,openstack/election,master,I21d9fe993dacabae201c8c5adb69b628699a6fc7,Add Amy Marrich to election officials,MERGED,2021-06-30 14:53:32.000000000,2021-07-03 13:24:45.000000000,2021-07-03 13:23:38.000000000,"[{'_account_id': 2799}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 14:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/31d2e55913b52a6673c05856a65e88433dda0232', 'message': 'Add Amy Marrich to election officials\n\nChange-Id: I21d9fe993dacabae201c8c5adb69b628699a6fc7\n'}, {'number': 2, 'created': '2021-07-03 12:40:33.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/3f702214d62eda37397388031469cb04c7db94fb', 'message': 'Add Amy Marrich to election officials\n\nChange-Id: I21d9fe993dacabae201c8c5adb69b628699a6fc7\n'}]",0,798907,3f702214d62eda37397388031469cb04c7db94fb,15,6,2,15993,,,0,"Add Amy Marrich to election officials

Change-Id: I21d9fe993dacabae201c8c5adb69b628699a6fc7
",git fetch https://review.opendev.org/openstack/election refs/changes/07/798907/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,31d2e55913b52a6673c05856a65e88433dda0232,,"* Amy Marrich (spotz), spotz at demarco dot com",,1,0
openstack%2Felection~master~Iaf7ba8a065c3b7560c0ae32d8dc27b674c4dad2a,openstack/election,master,Iaf7ba8a065c3b7560c0ae32d8dc27b674c4dad2a,Replace freenode ref with OFTC,MERGED,2021-05-31 21:17:11.000000000,2021-07-03 12:44:18.000000000,2021-07-03 12:43:14.000000000,"[{'_account_id': 2799}, {'_account_id': 14482}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-31 21:17:11.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/6fb7aeae80bb6c4261c5667f3a6a0addf90ac134', 'message': 'Replace freenode ref with OFTC\n\nChange-Id: Iaf7ba8a065c3b7560c0ae32d8dc27b674c4dad2a\n'}]",0,793862,6fb7aeae80bb6c4261c5667f3a6a0addf90ac134,12,5,1,8556,,,0,"Replace freenode ref with OFTC

Change-Id: Iaf7ba8a065c3b7560c0ae32d8dc27b674c4dad2a
",git fetch https://review.opendev.org/openstack/election refs/changes/62/793862/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,6fb7aeae80bb6c4261c5667f3a6a0addf90ac134,oftc,#openstack-dev OFTC channel.,#openstack-dev Freenode channel.,1,1
openstack%2Fmanila~stable%2Fvictoria~Iab6d96351fa21131d834ccf07ffddd70555f25a7,openstack/manila,stable/victoria,Iab6d96351fa21131d834ccf07ffddd70555f25a7,Fix ipaddress issues in the infinidat driver,MERGED,2021-07-02 17:38:01.000000000,2021-07-03 11:23:07.000000000,2021-07-03 11:21:52.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 17:38:01.000000000', 'files': ['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/783c0777e881446e1a49147b376a8ff25f907369', 'message': 'Fix ipaddress issues in the infinidat driver\n\nIn python3.8.11 and python3.9.6, the behavior of the\nipaddress.ip_network.hosts() method changed. Now /32\naddresses are returned by that method as a single\nelement list. This was apparently done as a bugfix [1]\n\nChange-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7\nCloses-Bug: #1934345\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n[1] https://bugs.python.org/issue27683\n(cherry picked from commit 1161a56a74b0fd926c20a63242af9dc852f56401)\n(cherry picked from commit d015399af51a677ae72e3b56399beaec0dac963d)\n'}]",0,799249,783c0777e881446e1a49147b376a8ff25f907369,11,2,1,16643,,,0,"Fix ipaddress issues in the infinidat driver

In python3.8.11 and python3.9.6, the behavior of the
ipaddress.ip_network.hosts() method changed. Now /32
addresses are returned by that method as a single
element list. This was apparently done as a bugfix [1]

Change-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7
Closes-Bug: #1934345
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
[1] https://bugs.python.org/issue27683
(cherry picked from commit 1161a56a74b0fd926c20a63242af9dc852f56401)
(cherry picked from commit d015399af51a677ae72e3b56399beaec0dac963d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/49/799249/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py']",2,783c0777e881446e1a49147b376a8ff25f907369,bug/1934345," if len(ip_network_hosts) < 2: # /32, single IP address"," if len(ip_network_hosts) == 0: # /32, single IP address",7,1
openstack%2Ftripleo-common~stable%2Fvictoria~I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,openstack/tripleo-common,stable/victoria,I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,directly use files instread of tcib_gather_files,MERGED,2021-07-02 13:12:06.000000000,2021-07-03 09:44:36.000000000,2021-07-03 09:43:29.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 13:12:06.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/61fb1c24a498ae1beabb66165f53768984e5530e', 'message': 'directly use files instread of tcib_gather_files\n\nconvert tcib_gather_files for kolla related files to install\nthe openstack-tripleo-common-containers rpm and use those directly\ninstead of copying into the container image.\n\nChange-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)\n'}]",0,799203,61fb1c24a498ae1beabb66165f53768984e5530e,8,3,1,16282,,,0,"directly use files instread of tcib_gather_files

convert tcib_gather_files for kolla related files to install
the openstack-tripleo-common-containers rpm and use those directly
instead of copying into the container image.

Change-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/799203/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml']",14,61fb1c24a498ae1beabb66165f53768984e5530e,remove_tcib_gather_files,- run: cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-server,"- copy: /usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-servertcib_gather_files: '{{ lookup(''fileglob'', ''/usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/*'', wantlist=True) }}'",24,36
openstack%2Frequirements~master~Ib6918115c45769ef81a21d6212bcfe03b0fb0ad6,openstack/requirements,master,Ib6918115c45769ef81a21d6212bcfe03b0fb0ad6,update constraint for oslo.log to new release 4.6.0,MERGED,2021-07-01 12:41:49.000000000,2021-07-03 08:25:49.000000000,2021-07-03 08:24:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-01 12:41:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9bbfdccd2a9bc30c305293c2e961a0dfbc8feaff', 'message': 'update constraint for oslo.log to new release 4.6.0\n\nmeta: version: 4.6.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib6918115c45769ef81a21d6212bcfe03b0fb0ad6\n'}]",0,799048,9bbfdccd2a9bc30c305293c2e961a0dfbc8feaff,21,3,1,11131,,,0,"update constraint for oslo.log to new release 4.6.0

meta: version: 4.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ie08cda2ed6285c9ce506432cb516161a85b49076
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib6918115c45769ef81a21d6212bcfe03b0fb0ad6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/799048/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9bbfdccd2a9bc30c305293c2e961a0dfbc8feaff,new-release,oslo.log===4.6.0,oslo.log===4.5.0,1,1
openstack%2Fironic~master~Ib450a311a62fd691b910ac4de1c74066b8ca6843,openstack/ironic,master,Ib450a311a62fd691b910ac4de1c74066b8ca6843,UEFI PXE Provisioning for wholedisk images,NEW,2019-06-12 11:39:05.000000000,2021-07-03 05:40:46.000000000,,"[{'_account_id': 4571}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 20401}, {'_account_id': 22348}, {'_account_id': 30127}]","[{'number': 1, 'created': '2019-06-12 11:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b196d7264a1c0335f9ab217225c95a83f25385af', 'message': 'UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n'}, {'number': 2, 'created': '2019-06-17 09:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a33a755826dd57dc936965a302fff31ab9f42ef9', 'message': 'UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n'}, {'number': 3, 'created': '2019-06-25 08:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91330997e8c1595ad9495b4323bc07e437a175a0', 'message': 'UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n'}, {'number': 4, 'created': '2019-08-09 06:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98954222cfc88cd757035fd6c30b2e851d038999', 'message': 'UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n'}, {'number': 5, 'created': '2019-08-12 07:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14ee36b719245e4d48d6dd08f7e085a5cadcb6f6', 'message': 'UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n'}, {'number': 6, 'created': '2019-08-27 11:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7bc9d68119e3d45867eaccec014056da7ec8c3c', 'message': ""UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine. '/efi/boot/bootx64.efi' is deafult bootfile, by using\n'WHOLEDISK_BOOTFILE' option under 'PXE' section the deafult bootfile can be\nchanged.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n""}, {'number': 7, 'created': '2019-08-28 10:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b2fd0c1283d044e8ce0e4cefc053c7332f653ec', 'message': ""UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine. '/efi/boot/bootx64.efi' is deafult bootfile, by using\n'WHOLEDISK_BOOTFILE' option under 'PXE' section the deafult bootfile can be\nchanged.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n""}, {'number': 8, 'created': '2020-02-10 06:13:43.000000000', 'files': ['ironic/conf/pxe.py', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'lower-constraints.txt', 'ironic/tests/unit/drivers/pxe_grub_config.template', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'requirements.txt', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'releasenotes/notes/uefi-pxe--provisioning-wholedisk-287fc8c156831fc5.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c52bac9bbc55d566038ebc9c20ab8d5dbc1317df', 'message': ""UEFI PXE Provisioning for wholedisk images\n\nGenerally when we try the pxe boot of whole disk the chain.c32 tries to load\nthe MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible\nfiles. We can set the root and load the bootx64.efi file using chainloader\nand boot the machine. '/efi/boot/bootx64.efi' is deafult bootfile, by using\n'WHOLEDISK_BOOTFILE' option under 'PXE' section the deafult bootfile can be\nchanged.\n\nDepends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nChange-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843\nStory: 2005532\nTask: 30662\n""}]",18,664864,c52bac9bbc55d566038ebc9c20ab8d5dbc1317df,62,9,8,20401,,,0,"UEFI PXE Provisioning for wholedisk images

Generally when we try the pxe boot of whole disk the chain.c32 tries to load
the MBR, but for the UEFI machines chain.c32 cannot chainload efi-compatible
files. We can set the root and load the bootx64.efi file using chainloader
and boot the machine. '/efi/boot/bootx64.efi' is deafult bootfile, by using
'WHOLEDISK_BOOTFILE' option under 'PXE' section the deafult bootfile can be
changed.

Depends-On: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a
Change-Id: Ib450a311a62fd691b910ac4de1c74066b8ca6843
Story: 2005532
Task: 30662
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/664864/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/pxe_grub_config.template']",3,b196d7264a1c0335f9ab217225c95a83f25385af,wholedisk_pxe, search --set=root --fs-uuid {{ DISK_IDENTIFIER }} chainloader ($root)/efi/boot/bootx64.efi boot, linuxefi chain.c32 mbr:{{ DISK_IDENTIFIER }},10,4
openstack%2Fnova~master~Id2285eeb7c56f598768da376d85b6830c2e99fb6,openstack/nova,master,Id2285eeb7c56f598768da376d85b6830c2e99fb6,db: Clean up migration code,MERGED,2021-04-14 17:43:16.000000000,2021-07-03 05:25:11.000000000,2021-07-03 05:23:37.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 17:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10c6c1640189fc3d5a1760f0ad45da8252518b90', 'message': 'db: Clean up migration code\n\nReduce some duplication before we move these things around.\n\nChange-Id: Id2285eeb7c56f598768da376d85b6830c2e99fb6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-05-11 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fee54ad78f01797fa963d76d97bf4caaae7c4b8', 'message': 'db: Clean up migration code\n\nReduce some duplication before we move these things around.\n\nChange-Id: Id2285eeb7c56f598768da376d85b6830c2e99fb6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-06-15 15:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9d6e48dba091a7931dedd32367b7543aef1d4f3', 'message': 'db: Clean up migration code\n\nReduce some duplication before we move these things around.\n\nChange-Id: Id2285eeb7c56f598768da376d85b6830c2e99fb6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-06-16 09:12:12.000000000', 'files': ['nova/db/sqlalchemy/migration.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/070e83b749a53ca802dc4eb53138970339914be4', 'message': 'db: Clean up migration code\n\nReduce some duplication before we move these things around.\n\nChange-Id: Id2285eeb7c56f598768da376d85b6830c2e99fb6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,786301,070e83b749a53ca802dc4eb53138970339914be4,50,4,4,15334,,,0,"db: Clean up migration code

Reduce some duplication before we move these things around.

Change-Id: Id2285eeb7c56f598768da376d85b6830c2e99fb6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/786301/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migration.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py']",2,10c6c1640189fc3d5a1760f0ad45da8252518b90,bp/remove-sqlalchemy-migrate,"@mock.patch.object(migration, 'find_migrate_repo', return_value='repo')@mock.patch.object(migration, 'find_migrate_repo', return_value='repo') def test_not_controlled( self, mock_get_engine, mock_db_version, mock_find_repo, ): engine_calls = [mock.call(database, context=None)] engine_calls = [mock.call(database, context=None)] * 2@mock.patch.object(migration, 'find_migrate_repo', return_value='repo')","@mock.patch.object(migration, '_find_migrate_repo', return_value='repo')@mock.patch.object(migration, '_find_migrate_repo', return_value='repo') def test_not_controlled(self, mock_get_engine, mock_db_version, mock_find_repo): engine_calls = [mock.call(database, context=None)] * 3 engine_calls = [mock.call(database, context=None)] * 3@mock.patch.object(migration, '_find_migrate_repo', return_value='repo')",35,39
openstack%2Fnova~stable%2Fwallaby~Icfa8c1d6e84eab758af6223a2870078685584aaa,openstack/nova,stable/wallaby,Icfa8c1d6e84eab758af6223a2870078685584aaa,Update SRIOV port pci_slot when unshelving,MERGED,2021-05-11 14:38:01.000000000,2021-07-03 05:09:31.000000000,2021-07-03 05:08:00.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9aa5f14b836a7144915f01a625c0aa7c3445510', 'message': ""Update SRIOV port pci_slot when unshelving\n\nThere are a few things we need to do to make that work:\n\n* Always set the PCIRequest's requester_id. Previously, this was only\n  done for resource requests. The requester_id is the port UUID, so we\n  can use that to correlate which port to update with which pci_slot\n  (in the case of multiple SRIOV ports per instance).\n\n  This has the side effect of making the fix work only for instances\n  created *after* this patch has been applied. It's not ideal, but\n  there does not appear to be a better way.\n\n* Call setup_networks_on_host() within the instance_claim context.\n  This means the instance's pci_devices are updated when we call it,\n  allowing us to get the pci_slot information from them.\n\nWith the two previous changes in place, we can figure out the port's\nnew pci_slot in _update_port_binding_for_instance().\n\nCloses: bug 1851545\nChange-Id: Icfa8c1d6e84eab758af6223a2870078685584aaa\n(cherry picked from commit 00f1d4757e503bb9807d7a8d7035c061a97db983)\n""}, {'number': 2, 'created': '2021-05-19 18:17:36.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1851545-781c358939d96cea.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf7254b794f2296cdb701a21abb9e5708c951542', 'message': ""Update SRIOV port pci_slot when unshelving\n\nThere are a few things we need to do to make that work:\n\n* Always set the PCIRequest's requester_id. Previously, this was only\n  done for resource requests. The requester_id is the port UUID, so we\n  can use that to correlate which port to update with which pci_slot\n  (in the case of multiple SRIOV ports per instance).\n\n  This has the side effect of making the fix work only for instances\n  created *after* this patch has been applied. It's not ideal, but\n  there does not appear to be a better way.\n\n* Call setup_networks_on_host() within the instance_claim context.\n  This means the instance's pci_devices are updated when we call it,\n  allowing us to get the pci_slot information from them.\n\nWith the two previous changes in place, we can figure out the port's\nnew pci_slot in _update_port_binding_for_instance().\n\nCloses: bug 1851545\nChange-Id: Icfa8c1d6e84eab758af6223a2870078685584aaa\n(cherry picked from commit 00f1d4757e503bb9807d7a8d7035c061a97db983)\n""}]",0,790711,bf7254b794f2296cdb701a21abb9e5708c951542,52,4,2,8864,,,0,"Update SRIOV port pci_slot when unshelving

There are a few things we need to do to make that work:

* Always set the PCIRequest's requester_id. Previously, this was only
  done for resource requests. The requester_id is the port UUID, so we
  can use that to correlate which port to update with which pci_slot
  (in the case of multiple SRIOV ports per instance).

  This has the side effect of making the fix work only for instances
  created *after* this patch has been applied. It's not ideal, but
  there does not appear to be a better way.

* Call setup_networks_on_host() within the instance_claim context.
  This means the instance's pci_devices are updated when we call it,
  allowing us to get the pci_slot information from them.

With the two previous changes in place, we can figure out the port's
new pci_slot in _update_port_binding_for_instance().

Closes: bug 1851545
Change-Id: Icfa8c1d6e84eab758af6223a2870078685584aaa
(cherry picked from commit 00f1d4757e503bb9807d7a8d7035c061a97db983)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/790711/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1851545-781c358939d96cea.yaml', 'nova/compute/manager.py']",5,b9aa5f14b836a7144915f01a625c0aa7c3445510,," self._build_resources_cleanup(instance, None) self.network_api.setup_instance_network_on_host( context, instance, self.host, provider_mappings=provider_mappings) network_info = self.network_api.get_instance_nw_info( context, instance) "," self.network_api.setup_instance_network_on_host( context, instance, self.host, provider_mappings=provider_mappings) network_info = self.network_api.get_instance_nw_info( context, instance) self._build_resources_cleanup(instance, network_info)",126,52
openstack%2Fmanila~master~Iac6507a6e395c55f0fec453650009f08c2bb6563,openstack/manila,master,Iac6507a6e395c55f0fec453650009f08c2bb6563,init_host should be called before RPC consumer is created,MERGED,2021-04-21 08:16:50.000000000,2021-07-03 04:31:15.000000000,2021-07-03 04:29:54.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-04-21 08:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/052c7142dc48c5f67dc9be1a701bfa7aeb22599b', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n'}, {'number': 2, 'created': '2021-04-21 08:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/baf3d9385059834e810c0f6b536516c836e53197', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n'}, {'number': 3, 'created': '2021-04-21 11:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e87017d8cd5c00221f4ae1c52adc78e49e09f48d', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n'}, {'number': 4, 'created': '2021-06-10 14:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1cc2936e29bb13dda964a566cb7427c31202706c', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n'}, {'number': 5, 'created': '2021-06-17 11:23:12.000000000', 'files': ['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0339802a5d0801cda19c464a87853b60982ae011', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n'}]",0,787321,0339802a5d0801cda19c464a87853b60982ae011,48,7,5,18816,,,0,"init_host should be called before RPC consumer is created

This change adds a new hook to Manager class called init_host_with_rpc()
to allow services like scheduler to do something once RPC is ready.

Copied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419
and https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8

Change-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563
Closes-Bug: #1271568
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/787321/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/service.py', 'manila/manager.py', 'manila/scheduler/manager.py']",3,052c7142dc48c5f67dc9be1a701bfa7aeb22599b,bug/1271568, def init_host_with_rpc(self):, def init_host(self):,16,3
openstack%2Fkolla~stable%2Fvictoria~Ib74eecd46617af51e23a3ccad664767b1bf6e04f,openstack/kolla,stable/victoria,Ib74eecd46617af51e23a3ccad664767b1bf6e04f,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-28 07:00:23.000000000,2021-07-03 00:34:16.000000000,2021-07-02 16:00:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 07:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afdc07f0596d6189eb0f860761b9abaa32cc1c1c', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change patches the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 2, 'created': '2021-06-28 07:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/357d11060614af834618e0a69bf2cfe57395f515', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 3, 'created': '2021-06-28 09:30:42.000000000', 'files': ['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/61f0b12008e3e284dc0f2a2e2eb9fd082c477ce0', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}]",0,798107,61f0b12008e3e284dc0f2a2e2eb9fd082c477ce0,23,4,3,30491,,,0,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/798107/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml']",3,afdc07f0596d6189eb0f860761b9abaa32cc1c1c,ci-emergency-fix-for-zuul-4-6," vars: # NOTE(yoctozepto): We need Docker SDK, the best source is Kolla venv. ansible_python_interpreter: ""{{ virtualenv_path }}/bin/python"" tasks:"," tasks: - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present ",8,9
openstack%2Fpython-tripleoclient~master~I4aaf1f254d4937e1f30cd94e1101eae5c56509b3,openstack/python-tripleoclient,master,I4aaf1f254d4937e1f30cd94e1101eae5c56509b3,Remove deprecated docker_* options,MERGED,2021-07-02 08:14:24.000000000,2021-07-03 00:27:19.000000000,2021-07-03 00:26:12.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 08:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72c215f396053d3b61253b0248bee502e3abd0d6', 'message': 'Remove deprecated docker_* options\n\n... because these were deprecated during the Stein cycle.\n\nChange-Id: I4aaf1f254d4937e1f30cd94e1101eae5c56509b3\n'}, {'number': 2, 'created': '2021-07-02 09:02:38.000000000', 'files': ['tripleoclient/config/standalone.py', 'releasenotes/notes/cleanup-docker_opts-65aa01111417cadb.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7a42695732161b11a1a0fffa29ebc175ee301e9', 'message': 'Remove deprecated docker_* options\n\n... because these were deprecated during the Stein cycle.\n\nChange-Id: I4aaf1f254d4937e1f30cd94e1101eae5c56509b3\n'}]",0,799171,e7a42695732161b11a1a0fffa29ebc175ee301e9,12,3,2,9816,,,0,"Remove deprecated docker_* options

... because these were deprecated during the Stein cycle.

Change-Id: I4aaf1f254d4937e1f30cd94e1101eae5c56509b3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/799171/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'releasenotes/notes/cleanup-docker_opts-65aa01111417cadb.yaml']",2,72c215f396053d3b61253b0248bee502e3abd0d6,container_cli,--- upgrade: - | The following two options have been removed. - ``docker_registry_mirror`` - ``docker_insecure_registries`` ,,7,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iadf52ec1cec555e656207cc6279c6b11a9a0887d,openstack/tripleo-ansible,stable/wallaby,Iadf52ec1cec555e656207cc6279c6b11a9a0887d,Remove leftover of Panko support,MERGED,2021-07-01 12:10:44.000000000,2021-07-03 00:26:09.000000000,2021-07-03 00:26:09.000000000,"[{'_account_id': 8161}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-01 12:10:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d21528012015b8270fdf2107dd59f87f3169016', 'message': 'Remove leftover of Panko support\n\n... because support for Panko in TripleO was removed during Ussuri\ncycle (actually it was removed during Train cycle but removal was\nreverted in Train) and Panko itself has been removed\n\nCo-authored-by: Matthias Runge <mrunge@redhat.com>\nChange-Id: Iadf52ec1cec555e656207cc6279c6b11a9a0887d\n(cherry picked from commit 9d7559800624a32f97538b822f8fc3ed2c0eb223)\n'}]",0,799057,7d21528012015b8270fdf2107dd59f87f3169016,11,7,1,4264,,,0,"Remove leftover of Panko support

... because support for Panko in TripleO was removed during Ussuri
cycle (actually it was removed during Train cycle but removal was
reverted in Train) and Panko itself has been removed

Co-authored-by: Matthias Runge <mrunge@redhat.com>
Change-Id: Iadf52ec1cec555e656207cc6279c6b11a9a0887d
(cherry picked from commit 9d7559800624a32f97538b822f8fc3ed2c0eb223)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/799057/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/defaults/main.yml']",3,7d21528012015b8270fdf2107dd59f87f3169016,retire_panko-stable/wallaby,, pankoclient: present,0,3
openstack%2Fopenstack-ansible-os_glance~stable%2Fwallaby~Ie85ab9940531e1776d59f4c2e4cb00742ceb33b3,openstack/openstack-ansible-os_glance,stable/wallaby,Ie85ab9940531e1776d59f4c2e4cb00742ceb33b3,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-06-29 08:33:37.000000000,2021-07-03 00:24:37.000000000,2021-07-03 00:22:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/f0ee4355dda0c444ad7ff0ac3be730d05e03e019', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie85ab9940531e1776d59f4c2e4cb00742ceb33b3\n'}, {'number': 2, 'created': '2021-07-02 09:28:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4e39a1ce5fb91efa2830873f33548963452770e7', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie85ab9940531e1776d59f4c2e4cb00742ceb33b3\n'}]",0,798518,4e39a1ce5fb91efa2830873f33548963452770e7,18,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie85ab9940531e1776d59f4c2e4cb00742ceb33b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/18/798518/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0ee4355dda0c444ad7ff0ac3be730d05e03e019,create-wallaby, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_glance~stable%2Fwallaby~Ie408aee43116feeaf99ad05cebe764bb855a31c2,openstack/openstack-ansible-os_glance,stable/wallaby,Ie408aee43116feeaf99ad05cebe764bb855a31c2,Add pki role to local a-r-r,MERGED,2021-07-02 09:25:35.000000000,2021-07-03 00:23:38.000000000,2021-07-03 00:22:34.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-02 09:25:35.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/abf44fcaa65ba774d25f638a0941562278eb20ad', 'message': 'Add pki role to local a-r-r\n\nChange-Id: Ie408aee43116feeaf99ad05cebe764bb855a31c2\n'}]",0,799146,abf44fcaa65ba774d25f638a0941562278eb20ad,14,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: Ie408aee43116feeaf99ad05cebe764bb855a31c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/46/799146/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,abf44fcaa65ba774d25f638a0941562278eb20ad,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fkolla~stable%2Fussuri~Ib74eecd46617af51e23a3ccad664767b1bf6e04f,openstack/kolla,stable/ussuri,Ib74eecd46617af51e23a3ccad664767b1bf6e04f,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-28 07:00:51.000000000,2021-07-03 00:16:57.000000000,2021-07-02 16:08:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 07:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71625433e42db4b279c19cbc5acf6becf8116d3e', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change patches the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 2, 'created': '2021-06-28 07:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8c92681e80571a13d8f1ac6f9b959a781f21dd7', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 3, 'created': '2021-06-28 09:31:49.000000000', 'files': ['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ce988a2eb6e15fe58472739557e25d7e46a14cb7', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}]",0,798108,ce988a2eb6e15fe58472739557e25d7e46a14cb7,23,4,3,30491,,,0,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/798108/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml']",3,71625433e42db4b279c19cbc5acf6becf8116d3e,ci-emergency-fix-for-zuul-4-6," vars: # NOTE(yoctozepto): We need Docker SDK, the best source is Kolla venv. ansible_python_interpreter: ""{{ virtualenv_path }}/bin/python"" tasks:"," tasks: - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present ",8,9
openstack%2Fkolla-ansible~stable%2Fussuri~I0d388851c8b953af0494e44ae569e7eb9e15c326,openstack/kolla-ansible,stable/ussuri,I0d388851c8b953af0494e44ae569e7eb9e15c326,Make it possible to override automatic fluentd version detection,MERGED,2021-07-01 09:31:48.000000000,2021-07-02 23:56:50.000000000,2021-07-02 17:12:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 09:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d436bb05e89cb8f05de935a94ec39e70a89be56', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)\n'}, {'number': 2, 'created': '2021-07-01 09:34:04.000000000', 'files': ['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/473b7e45745f1256936f58564457f56479c40b66', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)\n'}]",0,798891,473b7e45745f1256936f58564457f56479c40b66,17,4,2,14826,,,0,"Make it possible to override automatic fluentd version detection

One use case for this is so that you can generate config in a CI job
without access to the container repository. It also removes the
dependency of having docker configured for config generation.

TrivialFix

Change-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326
(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/798891/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml']",2,7d436bb05e89cb8f05de935a94ec39e70a89be56,,--- features: - | Adds the ability to override the automatic detection of `fluentd_version` and `fluentd_binary`. These can now be defined as extra variables. This removes the dependency of having docker configured for config generation. ,,24,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~If2740767521453c7adfca56d942db97af13bfaf2,openstack/python-tripleoclient,stable/victoria,If2740767521453c7adfca56d942db97af13bfaf2,Use explicit order for ironic enabled interfaces,MERGED,2021-07-02 02:45:42.000000000,2021-07-02 23:18:11.000000000,2021-07-02 23:17:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 02:45:42.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79637b03e3945a56c2f45b8cfecfb5c370354602', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)\n'}]",0,799133,79637b03e3945a56c2f45b8cfecfb5c370354602,10,3,1,4571,,,0,"Use explicit order for ironic enabled interfaces

Ironic uses the order of enabled interfaces to attempt each interface
in turn, so sorting the list will result in an incorrect order in some
cases, which will cause deployment failures on some hardware.

This change sets an explicit order for each interface.

Change-Id: If2740767521453c7adfca56d942db97af13bfaf2
Closes-Bug: #1931161
(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/799133/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,79637b03e3945a56c2f45b8cfecfb5c370354602,victoriabug/1931161," 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac'] 'IronicEnabledHardwareTypes': ['redfish', 'ipmi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'fake'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool'], 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac', 'staging-ovirt', 'snmp', 'irmc', 'xclarity', 'fake-hardware'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe', 'irmc-pxe', 'fake'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'irmc', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible', 'fake'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo', 'irmc'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'snmp'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac']"," 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'redfish'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'redfish'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor'] 'IronicEnabledHardwareTypes': ['ipmi', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledManagementInterfaces': ['fake', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'ipmitool', 'redfish'], 'IronicEnabledVendorInterfaces': ['ipmitool', 'no-vendor'], 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'irmc', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'irmc', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'noop', 'redfish', 'staging-ovirt', 'xclarity'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor']",69,69
openstack%2Ftripleo-common~stable%2Ftrain~I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,openstack/tripleo-common,stable/train,I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,directly use files instread of tcib_gather_files,MERGED,2021-07-02 13:16:21.000000000,2021-07-02 23:18:09.000000000,2021-07-02 23:17:04.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 13:16:21.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/ec2-api/ec2-api.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/746a8d74ac022df30eaa3b17a4450b5d67ea3f82', 'message': 'directly use files instread of tcib_gather_files\n\nconvert tcib_gather_files for kolla related files to install\nthe openstack-tripleo-common-containers rpm and use those directly\ninstead of copying into the container image.\n\nAlso included same change for ec2-api\n\nChange-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)\n'}]",0,799206,746a8d74ac022df30eaa3b17a4450b5d67ea3f82,8,3,1,16282,,,0,"directly use files instread of tcib_gather_files

convert tcib_gather_files for kolla related files to install
the openstack-tripleo-common-containers rpm and use those directly
instead of copying into the container image.

Also included same change for ec2-api

Change-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/799206/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/ec2-api/ec2-api.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml']",15,746a8d74ac022df30eaa3b17a4450b5d67ea3f82,remove_tcib_gather_files,- run: cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-server,"- copy: /usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-servertcib_gather_files: '{{ lookup(''fileglob'', ''/usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/*'', wantlist=True) }}'",25,38
openstack%2Fswift~master~I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b,openstack/swift,master,I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b,relinker: tolerate existing tombstone with same timestamp,MERGED,2021-06-30 13:10:31.000000000,2021-07-02 23:00:50.000000000,2021-07-02 22:59:34.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 13:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c03ed5c550b7db79671606a8455af0d7260a78db', 'message': 'relinker: tolerate existing tombstone with same X-Timestamp\n\nIt is possible for the current and next part power locations to\nboth have existing tombstones with different inodes when the\nrelinker tries to relink. This can be caused, for example, by\nconcurrent reconciler DELETEs that specify the same timestamp.\n\nThe relinker previously failed to relink and reported an error when\nencountering this situation. With this patch the relinker will\ntolerate an existing tombstone with different inode in the next part\npower location. The relinker will however first confirm that the\ntombstone has the same X-Timestamp in metadata as the tombstone in the\ncurrent part power location.\n\nChange-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b\nCloses-Bug: #1934142\n'}, {'number': 2, 'created': '2021-07-01 10:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bfe1f9354f9907d8c1ac2e246f678655cefb740e', 'message': 'relinker: tolerate existing tombstone with same X-Timestamp\n\nIt is possible for the current and next part power locations to\nboth have existing tombstones with different inodes when the\nrelinker tries to relink. This can be caused, for example, by\nconcurrent reconciler DELETEs that specify the same timestamp.\n\nThe relinker previously failed to relink and reported an error when\nencountering this situation. With this patch the relinker will\ntolerate an existing tombstone with different inode in the next part\npower location. The relinker will however first confirm that the\ntombstone has the same X-Timestamp in metadata as the tombstone in the\ncurrent part power location.\n\nSince [1] the relinker had special case handling for EEXIST errors\ncaused by a different inode tombstone already existing in the next\npartition power location: the relinker would check to see if the\nexisting next part power tombstone linked to a tombstone in a previous\npart power (i.e. < current part power) location, and if so tolerate\nthe EEXIST.\n\nThis special case handling is no longer necessary because the relinker\nwill now tolerate an EEXIST when linking a tombstone provided the two\nfiles have the same timestamp. There is therefore no need to search\nprevious part power locations for a tombstone that does link with the\nnext part power location.\n\nThe link_check_limit is no longer used but the --link-check-limit\ncommand line option is still allowed (although ignored) for backwards\ncompatibility.\n\n[1] Related-Change-Id: If9beb9efabdad64e81d92708f862146d5fafb16c\n\nChange-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b\nCloses-Bug: #1934142\n'}, {'number': 3, 'created': '2021-07-01 11:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a84a9a99db315095dcf73da677a3fd170298014', 'message': 'relinker: tolerate existing tombstone with same timestamp\n\nIt is possible for the current and next part power locations to\nboth have existing tombstones with different inodes when the\nrelinker tries to relink. This can be caused, for example, by\nconcurrent reconciler DELETEs that specify the same timestamp.\n\nThe relinker previously failed to relink and reported an error when\nencountering this situation. With this patch the relinker will\ntolerate an existing tombstone with different inode in the next part\npower location. The relinker will however first confirm that the\ntombstone has the same X-Timestamp in metadata as the tombstone in the\ncurrent part power location.\n\nSince [1] the relinker had special case handling for EEXIST errors\ncaused by a different inode tombstone already existing in the next\npartition power location: the relinker would check to see if the\nexisting next part power tombstone linked to a tombstone in a previous\npart power (i.e. < current part power) location, and if so tolerate\nthe EEXIST.\n\nThis special case handling is no longer necessary because the relinker\nwill now tolerate an EEXIST when linking a tombstone provided the two\nfiles have the same timestamp. There is therefore no need to search\nprevious part power locations for a tombstone that does link with the\nnext part power location.\n\nThe link_check_limit is no longer used but the --link-check-limit\ncommand line option is still allowed (although ignored) for backwards\ncompatibility.\n\n[1] Related-Change-Id: If9beb9efabdad64e81d92708f862146d5fafb16c\n\nChange-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b\nCloses-Bug: #1934142\n'}, {'number': 4, 'created': '2021-07-01 14:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5632b94d635bf5de24aebaf9781f59293ec7e837', 'message': 'relinker: tolerate existing tombstone with same timestamp\n\nIt is possible for the current and next part power locations to\nboth have existing tombstones with different inodes when the\nrelinker tries to relink. This can be caused, for example, by\nconcurrent reconciler DELETEs that specify the same timestamp.\n\nThe relinker previously failed to relink and reported an error when\nencountering this situation. With this patch the relinker will\ntolerate an existing tombstone with the same filename but different\ninode in the next part power location.\n\nSince [1] the relinker had special case handling for EEXIST errors\ncaused by a different inode tombstone already existing in the next\npartition power location: the relinker would check to see if the\nexisting next part power tombstone linked to a tombstone in a previous\npart power (i.e. < current part power) location, and if so tolerate\nthe EEXIST.\n\nThis special case handling is no longer necessary because the relinker\nwill now tolerate an EEXIST when linking a tombstone provided the two\nfiles have the same timestamp. There is therefore no need to search\nprevious part power locations for a tombstone that does link with the\nnext part power location.\n\nThe link_check_limit is no longer used but the --link-check-limit\ncommand line option is still allowed (although ignored) for backwards\ncompatibility.\n\n[1] Related-Change-Id: If9beb9efabdad64e81d92708f862146d5fafb16c\n\nChange-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b\nCloses-Bug: #1934142\n'}, {'number': 5, 'created': '2021-07-02 11:15:32.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/574897ae275ce94257096c56a9bdc494bc0a39ba', 'message': 'relinker: tolerate existing tombstone with same timestamp\n\nIt is possible for the current and next part power locations to\nboth have existing tombstones with different inodes when the\nrelinker tries to relink. This can be caused, for example, by\nconcurrent reconciler DELETEs that specify the same timestamp.\n\nThe relinker previously failed to relink and reported an error when\nencountering this situation. With this patch the relinker will\ntolerate an existing tombstone with the same filename but different\ninode in the next part power location.\n\nSince [1] the relinker had special case handling for EEXIST errors\ncaused by a different inode tombstone already existing in the next\npartition power location: the relinker would check to see if the\nexisting next part power tombstone linked to a tombstone in a previous\npart power (i.e. < current part power) location, and if so tolerate\nthe EEXIST.\n\nThis special case handling is no longer necessary because the relinker\nwill now tolerate an EEXIST when linking a tombstone provided the two\nfiles have the same timestamp. There is therefore no need to search\nprevious part power locations for a tombstone that does link with the\nnext part power location.\n\nThe link_check_limit is no longer used but the --link-check-limit\ncommand line option is still allowed (although ignored) for backwards\ncompatibility.\n\n[1] Related-Change-Id: If9beb9efabdad64e81d92708f862146d5fafb16c\n\nChange-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b\nCloses-Bug: #1934142\n'}]",15,798849,574897ae275ce94257096c56a9bdc494bc0a39ba,37,4,5,7847,,,0,"relinker: tolerate existing tombstone with same timestamp

It is possible for the current and next part power locations to
both have existing tombstones with different inodes when the
relinker tries to relink. This can be caused, for example, by
concurrent reconciler DELETEs that specify the same timestamp.

The relinker previously failed to relink and reported an error when
encountering this situation. With this patch the relinker will
tolerate an existing tombstone with the same filename but different
inode in the next part power location.

Since [1] the relinker had special case handling for EEXIST errors
caused by a different inode tombstone already existing in the next
partition power location: the relinker would check to see if the
existing next part power tombstone linked to a tombstone in a previous
part power (i.e. < current part power) location, and if so tolerate
the EEXIST.

This special case handling is no longer necessary because the relinker
will now tolerate an EEXIST when linking a tombstone provided the two
files have the same timestamp. There is therefore no need to search
previous part power locations for a tombstone that does link with the
next part power location.

The link_check_limit is no longer used but the --link-check-limit
command line option is still allowed (although ignored) for backwards
compatibility.

[1] Related-Change-Id: If9beb9efabdad64e81d92708f862146d5fafb16c

Change-Id: I07ffee3b4ba6c7ff6c206beaf6b8f746fe365c2b
Closes-Bug: #1934142
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/798849/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,c03ed5c550b7db79671606a8455af0d7260a78db,p-relinker-tombstones-exist," dump_recon_cache, get_partition_from_path, Timestampfrom swift.obj.diskfile import read_metadata def check_same_timestamps(self, old_file, new_file): timestamps = [] for path in (old_file, new_file): try: with open(path, 'rb') as fd: timestamps.append( Timestamp(read_metadata(fd)['X-Timestamp'])) except Exception as exc: self.logger.warning( ""Error relinking%s: failed to read metadata: %s: %s"", ' (cleanup)' if self.do_cleanup else '', path, exc) return False if timestamps[0] != timestamps[1]: # unexpected case self.logger.warning( ""Error relinking%s: mismatched timestamps: %s (%s) vs %s (%s)"", ' (cleanup)' if self.do_cleanup else '', old_file, timestamps[0].internal, new_file, timestamps[1].internal) return timestamps[0] == timestamps[1] ok = False if existing_link: ok = True self.logger.debug( ""Relinking%s: link not needed: %s to %s due to "" ""existing %s"", ' (cleanup)' if self.do_cleanup else '', old_file, new_file, existing_link) if link_created: # uncommon case: the retry succeeded in creating a # link created_links += 1 self.stats['linked'] += 1 wanted_file = replace_partition_in_path( self.conf['devices'], old_file, self.part_power) if old_file not in (existing_link, wanted_file): # A link exists to a different file and this file # is not the current target for client requests. If # this file is visited again it is possible that # the existing_link will have been cleaned up and # the check will fail, so clean it up now. self.logger.info( ""Relinking%s: cleaning up unwanted file: %s"", ' (cleanup)' if self.do_cleanup else '', old_file) unwanted_files.append(filename) elif self.check_same_timestamps(old_file, new_file): ok = True self.logger.debug( ""Relinking%s: tolerating different inodes with "" ""same timestamp: %s to %s"", ' (cleanup)' if self.do_cleanup else '', old_file, new_file) else: ok = False if not ok:"," dump_recon_cache, get_partition_from_path existing_link = None link_created = False if existing_link: self.logger.debug( ""Relinking%s: link not needed: %s to %s due to "" ""existing %s"", ' (cleanup)' if self.do_cleanup else '', old_file, new_file, existing_link) if link_created: # uncommon case: the retry succeeded in creating a link created_links += 1 self.stats['linked'] += 1 wanted_file = replace_partition_in_path( self.conf['devices'], old_file, self.part_power) if old_file not in (existing_link, wanted_file): # A link exists to a different file and this file # is not the current target for client requests. If # this file is visited again it is possible that # the existing_link will have been cleaned up and # the check will fail, so clean it up now. self.logger.info( ""Relinking%s: cleaning up unwanted file: %s"", ' (cleanup)' if self.do_cleanup else '', old_file) unwanted_files.append(filename) else:",197,83
openstack%2Fcinder~master~I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,openstack/cinder,master,I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,Driver assisted migration on retype when it's safe,MERGED,2020-07-06 16:33:17.000000000,2021-07-02 22:38:12.000000000,2021-07-02 22:36:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 30688}, {'_account_id': 30998}, {'_account_id': 32159}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-07-06 16:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d69f2004ceccf5795a3e95cbd43c92563a2016b4', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n""}, {'number': 2, 'created': '2020-07-29 09:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6290515c6bf8765bdc5c3a15c5f3e0f066be80ca', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n""}, {'number': 3, 'created': '2020-09-04 10:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd8cbdf5b0b124ca99e7d6433f450a25fb07f9c5', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n""}, {'number': 4, 'created': '2021-03-22 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db42ca9e327388a4b61078b96bb322a07122ce35', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n""}, {'number': 5, 'created': '2021-04-16 11:25:50.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5edc77a18c505e22ee56e3ebda6d400cded6fa32', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n""}]",4,739548,5edc77a18c505e22ee56e3ebda6d400cded6fa32,176,41,5,9535,,,0,"Driver assisted migration on retype when it's safe

When doing a retype of a volume that requires a migration, the manager
only uses driver assisted migration when the source and the destination
belong to the same backend (different pools).

Driver assisted migration should also be tried for other cases, just
like when we do a normal migration.

One case were this would be beneficial is when doing migrations from one
pool to another on the same storage system on single pool drivers (such
as RBD/Ceph).

This patch checks what are the changes between the types to see if it is
safe to use driver assisted migration (from the perspective of keeping
the resulting volume consistent with the volume type) and when it is it
tries to use it.

If driver assisted migration indicates that it couldn't move the volume,
then we go with the generic volume migration like we used to.

Closes-Bug: #1886543
Change-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/739548/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py']",3,d69f2004ceccf5795a3e95cbd43c92563a2016b4,improve-retype-migration," @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype(self, mock_can_use): """"""Test volume migration done by driver on a retype."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(True, {})) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) # check volume properties volume = objects.Volume.get_by_id(context.get_admin_context(), volume.id) self.assertEqual('newhost', volume.host) self.assertEqual('success', volume.migration_status) self.assertEqual(fake.VOLUME_TYPE2_ID, volume.volume_type_id) @mock.patch('cinder.volume.manager.VolumeManager._migrate_volume_generic') @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype_generic(self, mock_can_use, mock_generic): """"""Test generic volume migration on a retype after driver can't."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(False, None)) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) mock_generic.assert_called_once_with(self.context, volume, host_obj, fake.VOLUME_TYPE2_ID) @ddt.data( (None, True), ({'encryption': {'cipher': ('v1', 'v2')}}, False), ({'qos_specs': {'key1': ('v1', 'v2')}}, False), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'volume_backend_name': ('ceph1', 'ceph2'), 'RESKEY:availability_zones': ('nova', 'nova2')}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'thin_provisioning_support': ('<is> True', None)}}, False), ) @ddt.unpack def test__can_use_driver_migration(self, diff, expected): res = self.volume._can_use_driver_migration(diff) self.assertEqual(expected, res)",,98,3
openstack%2Fneutron~stable%2Fussuri~I40761b30563749251b9d74731bbe7a80a124da89,openstack/neutron,stable/ussuri,I40761b30563749251b9d74731bbe7a80a124da89,Copy existing IPv6 leases to generated lease file,MERGED,2021-07-01 15:26:12.000000000,2021-07-02 21:46:46.000000000,2021-07-02 21:45:05.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:26:12.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0748a58efe6fdb2931047dffa267fa4e2d54615', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}]",0,799069,e0748a58efe6fdb2931047dffa267fa4e2d54615,14,3,1,11290,,,0,"Copy existing IPv6 leases to generated lease file

Because the DHCP agent does not know the IAID (identity association
identifier) of assigned IPv6 addresses it's not possible to generate the
lease file including IPv6 leases. Because of this IPv6 addresses are
excluded when generating the lease file in case of DHCP agent restarts.
This causes DHCPv6 clients to fail to RENEW their lease and to go
through a full address discovery cycle with possible short connectivity
disruption.

This commit copies the existing IPv6 leaes from an already existing
lease file if present. While this does not allow for DHCP agent
failover, this is still better than just skipping the IPv6 addresses.

A lease file without the IPv6 addresses is still generated if an agent
is migrated to a different host.

This commit complements the fix implemented in
Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6
leases as otherwise the lease file would be invalid and all leases would
be lost. It does not change the behavior for still valid IPv4 leases.

With this issue fixed an additional fix is required to not loose DHCPv6
leases when the agent restarts dnsmasq. Currently the DHCP agent
regenerates all configuration files on restart. This means that DHCPv6
leases are lost as they can't be regenerated. This changes the agent to
only delete the config files if the agent's ports are also removed.

Closes-Bug: #1722126
Related-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e

Change-Id: I40761b30563749251b9d74731bbe7a80a124da89
(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/799069/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,e0748a58efe6fdb2931047dffa267fa4e2d54615,bugfix/1722126-stable/wallaby-stable/victoria-stable/ussuri," self._remove_config_files() dhcpv6_enabled_subnet_ids = [ s.id for s in self._get_all_subnets(self.network) if s.enable_dhcp and s.ip_version == constants.IP_VERSION_6] existing_ipv6_leases = {} if os.path.isfile(filename): # The IPv6 leases can't be generated as their IAID is unknown. To # not loose active leases, read the existing leases and add them to # the generated file. LOG.debug('Reading IPv6 leases from existing lease file.') with open(filename) as leasefile: for line in leasefile: if line.startswith('duid '): # Keep the DUID buf.write(line) continue try: ts, mac, ip, host, iaid = line.split(' ') except ValueError: # not the correct format for a lease, skip this line continue if netaddr.valid_ipv6(ip): existing_ipv6_leases[netaddr.IPAddress(ip)] = line if no_dhcp: if alloc.subnet_id in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address)) elif (alloc.subnet_id in dhcpv6_enabled_subnet_ids and netaddr.IPAddress(alloc.ip_address) in existing_ipv6_leases): # Keep the existing IPv6 lease if the port still exists and is # still configured for DHCPv6 buf.write( existing_ipv6_leases[netaddr.IPAddress(alloc.ip_address)] ) "," self._remove_config_files() # don't write ip address which belongs to a dhcp disabled subnet # or an IPv6 subnet. if no_dhcp or alloc.subnet_id not in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address))",105,8
openstack%2Fpython-tripleoclient~master~I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32,openstack/python-tripleoclient,master,I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32,Add '--templates' arg to node and net provision,MERGED,2021-06-28 18:59:48.000000000,2021-07-02 21:29:46.000000000,2021-07-02 21:27:27.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 18:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19b3dcb9a8794e277c3fecd5546512822ac11ace', 'message': ""Add '--templates' arg to node and net provision\n\nAllow setting '--templates', the path tot the THT root\ndirectory. Environment files created by the node and\nnetwork provision commands will be created with the user\nspecified path to the THT root. Defaults to:\n /usr/share/openstack-tripleo-heat-templates/\n\nCloses-Bug: #1932079\nDepends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428\nChange-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32\n""}, {'number': 2, 'created': '2021-06-30 10:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/63e2ef5c4bf8e89ec5eab1d42367cb8f441010ca', 'message': ""Add '--templates' arg to node and net provision\n\nAllow setting '--templates', the path tot the THT root\ndirectory. Environment files created by the node and\nnetwork provision commands will be created with the user\nspecified path to the THT root. Defaults to:\n /usr/share/openstack-tripleo-heat-templates/\n\nCloses-Bug: #1932079\nDepends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428\nChange-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32\n""}, {'number': 3, 'created': '2021-06-30 19:29:21.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c997ff0945e2771a857c6859120af381d480505', 'message': ""Add '--templates' arg to node and net provision\n\nAllow setting '--templates', the path tot the THT root\ndirectory. Environment files created by the node and\nnetwork provision commands will be created with the user\nspecified path to the THT root. Defaults to:\n /usr/share/openstack-tripleo-heat-templates/\n\nCloses-Bug: #1932079\nDepends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428\nChange-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32\n""}]",2,798371,9c997ff0945e2771a857c6859120af381d480505,22,6,3,24245,,,0,"Add '--templates' arg to node and net provision

Allow setting '--templates', the path tot the THT root
directory. Environment files created by the node and
network provision commands will be created with the user
specified path to the THT root. Defaults to:
 /usr/share/openstack-tripleo-heat-templates/

Closes-Bug: #1932079
Depends-On: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428
Change-Id: I5dd81788c08bb0d797190a5fb8bb120b7d8b4f32
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/798371/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v2/overcloud_network.py', 'tripleoclient/v1/overcloud_deploy.py']",6,19b3dcb9a8794e277c3fecd5546512822ac11ace,bug/1932079," ""working_dir"": self.working_dir, ""templates"": parsed_args.templates, ""templates"": parsed_args.templates, ""templates"": parsed_args.templates,"," ""working_dir"": self.working_dir",44,14
openstack%2Ftripleo-common~stable%2Fwallaby~I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,openstack/tripleo-common,stable/wallaby,I7384243e9e3d804c05fdd1689b6ae3c9306bbb31,directly use files instread of tcib_gather_files,MERGED,2021-07-02 13:09:06.000000000,2021-07-02 21:28:57.000000000,2021-07-02 21:27:41.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 13:09:06.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bbb5f3daf25358ca5544aafe068569a06b8134f4', 'message': 'directly use files instread of tcib_gather_files\n\nconvert tcib_gather_files for kolla related files to install\nthe openstack-tripleo-common-containers rpm and use those directly\ninstead of copying into the container image.\n\nChange-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)\n'}]",0,799202,bbb5f3daf25358ca5544aafe068569a06b8134f4,8,3,1,16282,,,0,"directly use files instread of tcib_gather_files

convert tcib_gather_files for kolla related files to install
the openstack-tripleo-common-containers rpm and use those directly
instead of copying into the container image.

Change-Id: I7384243e9e3d804c05fdd1689b6ae3c9306bbb31
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 55b4995110f9da1275a461f16af8b918f2e14059)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/799202/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml']",14,bbb5f3daf25358ca5544aafe068569a06b8134f4,remove_tcib_gather_files,- run: cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-server,"- copy: /usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh /usr/local/bin/start-nb-db-servertcib_gather_files: '{{ lookup(''fileglob'', ''/usr/share/tripleo-common/container-images/kolla/ovn/ovn-nb-db-server/*'', wantlist=True) }}'",24,36
openstack%2Fpython-tripleoclient~master~I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf,openstack/python-tripleoclient,master,I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf,Validate the container_cli option,MERGED,2021-06-26 15:50:09.000000000,2021-07-02 21:28:48.000000000,2021-07-02 21:26:41.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 15:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f8c51d9b3bb1720d58345310aa6af69be54307b', 'message': 'Validate the container_cli option\n\nThe container_cli option can be one of docker or podman. This change\nensures its value is validated at parser layer.\n\nChange-Id: I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf\n'}, {'number': 2, 'created': '2021-07-02 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b95e2d80353b4ae3fb913628835d06939b0f357', 'message': 'Validate the container_cli option\n\nThe container_cli option should be set to podman because docker is no\nlonger supported since Ussuri. This change ensures its value is\nvalidated at parser layer.\n\nChange-Id: I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf\n'}, {'number': 3, 'created': '2021-07-02 08:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/085fd681191101488f69790a3fff98956df5aabc', 'message': 'Validate the container_cli option\n\nThe container_cli option should be set to podman because docker is no\nlonger supported since Ussuri. This change ensures its value is\nvalidated at parser layer.\n\nChange-Id: I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf\n'}, {'number': 4, 'created': '2021-07-02 09:02:38.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/container_cli-803238248de9c60a.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ac60f8890c61e95a426fdf31f5ddcb176ea842f', 'message': 'Validate the container_cli option\n\nThe container_cli option should be set to podman because docker is no\nlonger supported since Ussuri. This change ensures its value is\nvalidated at parser layer.\n\nChange-Id: I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf\n'}]",4,798193,4ac60f8890c61e95a426fdf31f5ddcb176ea842f,19,4,4,9816,,,0,"Validate the container_cli option

The container_cli option should be set to podman because docker is no
longer supported since Ussuri. This change ensures its value is
validated at parser layer.

Change-Id: I9e1177e68d1d6fbbe0a2ca0350ece1c6c656ccaf
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/93/798193/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/standalone.py'],1,9f8c51d9b3bb1720d58345310aa6af69be54307b,container_cli," choices=('docker', 'podman'),",,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9decd8fb9860cd17dc9e69b9970d9f9dabf11428,openstack/tripleo-ansible,stable/wallaby,I9decd8fb9860cd17dc9e69b9970d9f9dabf11428,Add option to set template paths in env population,MERGED,2021-07-02 05:56:11.000000000,2021-07-02 21:28:46.000000000,2021-07-02 21:27:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 05:56:11.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-network-vip-provision.yaml', 'tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_populate_env.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_network_ports_populate_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7136d06fc0cf935679a5cf4765c9eef07054131', 'message': ""Add option to set template paths in env population\n\nOvercloud node and network provisioning plays currently\nwrite environment files with a hard coded THT-root path.\n\nAdd 'templates' parameter to the modules so that the user\ncan specify the templates path.\n\nRelated-Bug: #1932079\nChange-Id: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428\n(cherry picked from commit af92fbc650f74766e9a29a447be807c1e21418af)\n""}]",0,799142,c7136d06fc0cf935679a5cf4765c9eef07054131,10,3,1,24245,,,0,"Add option to set template paths in env population

Overcloud node and network provisioning plays currently
write environment files with a hard coded THT-root path.

Add 'templates' parameter to the modules so that the user
can specify the templates path.

Related-Bug: #1932079
Change-Id: I9decd8fb9860cd17dc9e69b9970d9f9dabf11428
(cherry picked from commit af92fbc650f74766e9a29a447be807c1e21418af)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/799142/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-network-vip-provision.yaml', 'tripleo_ansible/playbooks/cli-overcloud-network-provision.yaml', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_network_ports_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_populate_env.py']",10,c7136d06fc0cf935679a5cf4765c9eef07054131,bug/1932079," templates = '/foo/tht_root' env, templates) self.assertEqual({ 'OS::TripleO::Network::Ports::ControlPlaneVipPort': '/foo/tht_root/network/ports/deployed_vip_ctlplane.yaml', 'OS::TripleO::Network::Ports::ExternalVipPort': '/foo/tht_root/network/ports/deployed_vip_external.yaml', 'OS::TripleO::Network::Ports::InternalApiVipPort': '/foo/tht_root/network/ports/deployed_vip_internal_api.yaml', 'OS::TripleO::Network::Ports::StorageMgmtVipPort': '/foo/tht_root/network/ports/deployed_vip_storage_mgmt.yaml'},"," env) self.assertEqual( {'OS::TripleO::Network::Ports::ControlPlaneVipPort': ( '/usr/share/openstack-tripleo-heat-templates/network/ports' '/deployed_vip_ctlplane.yaml'), 'OS::TripleO::Network::Ports::ExternalVipPort': ( '/usr/share/openstack-tripleo-heat-templates/network/ports/' 'deployed_vip_external.yaml'), 'OS::TripleO::Network::Ports::InternalApiVipPort': ( '/usr/share/openstack-tripleo-heat-templates/network/ports/' 'deployed_vip_internal_api.yaml'), 'OS::TripleO::Network::Ports::StorageMgmtVipPort': ( '/usr/share/openstack-tripleo-heat-templates/network/ports/' 'deployed_vip_storage_mgmt.yaml')},",73,46
openstack%2Fpython-tripleoclient~stable%2Fussuri~If2740767521453c7adfca56d942db97af13bfaf2,openstack/python-tripleoclient,stable/ussuri,If2740767521453c7adfca56d942db97af13bfaf2,Use explicit order for ironic enabled interfaces,MERGED,2021-07-02 02:49:01.000000000,2021-07-02 21:28:43.000000000,2021-07-02 21:27:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 02:49:01.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/25adb4b85df21385d32a5f40a962ede09579d487', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)\n'}]",0,799134,25adb4b85df21385d32a5f40a962ede09579d487,8,3,1,4571,,,0,"Use explicit order for ironic enabled interfaces

Ironic uses the order of enabled interfaces to attempt each interface
in turn, so sorting the list will result in an incorrect order in some
cases, which will cause deployment failures on some hardware.

This change sets an explicit order for each interface.

Change-Id: If2740767521453c7adfca56d942db97af13bfaf2
Closes-Bug: #1931161
(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/799134/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,25adb4b85df21385d32a5f40a962ede09579d487,ussuribug/1931161," 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac'] 'IronicEnabledHardwareTypes': ['redfish', 'ipmi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'fake'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool'], 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac', 'staging-ovirt', 'snmp', 'irmc', 'xclarity', 'fake-hardware'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe', 'irmc-pxe', 'fake'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'irmc', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible', 'fake'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo', 'irmc'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'snmp'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac']"," 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'redfish'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'redfish'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor'] 'IronicEnabledHardwareTypes': ['ipmi', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledManagementInterfaces': ['fake', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'ipmitool', 'redfish'], 'IronicEnabledVendorInterfaces': ['ipmitool', 'no-vendor'], 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'irmc', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'irmc', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'noop', 'redfish', 'staging-ovirt', 'xclarity'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor']",69,69
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I39512429effde741b514a24e138ac509e30c2dde,openstack/tripleo-puppet-elements,stable/wallaby,I39512429effde741b514a24e138ac509e30c2dde,Remove pankoclient,MERGED,2021-06-24 09:59:08.000000000,2021-07-02 21:27:13.000000000,2021-07-02 21:27:13.000000000,"[{'_account_id': 7144}, {'_account_id': 8161}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 09:59:08.000000000', 'files': ['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/665911bd87273dd4e96ad2dc36eddd0c04b935f0', 'message': 'Remove pankoclient\n\nit is removed from upstream and removed from tht since ussuri.\n\nChange-Id: I39512429effde741b514a24e138ac509e30c2dde\n(cherry picked from commit 0d0067a51a13f1e084255851328a872fbc10df3c)\n'}]",0,797766,665911bd87273dd4e96ad2dc36eddd0c04b935f0,11,6,1,4264,,,0,"Remove pankoclient

it is removed from upstream and removed from tht since ussuri.

Change-Id: I39512429effde741b514a24e138ac509e30c2dde
(cherry picked from commit 0d0067a51a13f1e084255851328a872fbc10df3c)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/66/797766/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients'],1,665911bd87273dd4e96ad2dc36eddd0c04b935f0,retire_panko-stable/wallaby,,pankoclient_package,0,1
openstack%2Ftripleo-validations~master~I6a80870680091c9839efb1f222a6adbdef5b36df,openstack/tripleo-validations,master,I6a80870680091c9839efb1f222a6adbdef5b36df,Remove from master the ceph-ansible references,MERGED,2021-06-24 15:11:46.000000000,2021-07-02 21:10:21.000000000,2021-07-02 21:06:50.000000000,"[{'_account_id': 6796}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-24 15:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5663d8c94dd0496458e0e849a54eae7e2923b97e', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the existing validations removing the tasks\nand the playbooks involving cpeh-ansible (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I6a80870680091c9839efb1f222a6adbdef5b36df\n'}, {'number': 2, 'created': '2021-06-25 06:11:32.000000000', 'files': ['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/molecule/ceph-ansible-installed/converge.yml', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/molecule/ceph-ansible-installed/prepare.yml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/523c24fc11a970036fd16037aa2a6f63b961beb2', 'message': 'Remove from master the ceph-ansible references\n\nceph-ansible is not used anymore in master and both ceph\ndeployment and day2 ops are managed by the new cephadm tool.\nThis change aligns the existing validations removing the tasks\nand the playbooks involving cpeh-ansible (see [1]).\n\n[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph\n\nChange-Id: I6a80870680091c9839efb1f222a6adbdef5b36df\n'}]",0,797957,523c24fc11a970036fd16037aa2a6f63b961beb2,15,6,2,25402,,,0,"Remove from master the ceph-ansible references

ceph-ansible is not used anymore in master and both ceph
deployment and day2 ops are managed by the new cephadm tool.
This change aligns the existing validations removing the tasks
and the playbooks involving cpeh-ansible (see [1]).

[1] https://blueprints.launchpad.net/tripleo/+spec/tripleo-ceph

Change-Id: I6a80870680091c9839efb1f222a6adbdef5b36df
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/797957/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/defaults/main.yml']",3,5663d8c94dd0496458e0e849a54eae7e2923b97e,ceph_ansible_cleanup,,"fail_without_ceph_ansible: falseceph_ansible_repo: ""centos-ceph-nautilus""",0,55
openstack%2Ftripleo-common~master~I20d6ae39511e368e724522d133a133d1c864cb1b,openstack/tripleo-common,master,I20d6ae39511e368e724522d133a133d1c864cb1b,Check for no neutron network in inventory,MERGED,2021-06-29 23:58:21.000000000,2021-07-02 21:10:20.000000000,2021-07-02 21:07:05.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-29 23:58:21.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f7b1a963a19590b5e0a47260236932026e3594d', 'message': ""Check for no neutron network in inventory\n\nThe host network or SSH network specified with --overcloud-ssh-network\nmay not exist in Neutron. There is no requirement that it does. Add a\ncheck and log a warning instead of trying to use the None object when\nthe network is not found. When it's not found, neutron data is not added\nto the inventory.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I20d6ae39511e368e724522d133a133d1c864cb1b\n""}]",0,798776,1f7b1a963a19590b5e0a47260236932026e3594d,16,4,1,7144,,,0,"Check for no neutron network in inventory

The host network or SSH network specified with --overcloud-ssh-network
may not exist in Neutron. There is no requirement that it does. Add a
check and log a warning instead of trying to use the None object when
the network is not found. When it's not found, neutron data is not added
to the inventory.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I20d6ae39511e368e724522d133a133d1c864cb1b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/76/798776/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,1f7b1a963a19590b5e0a47260236932026e3594d,no-net," if ctlplane_net: for p in ports: if p.network_id == ctlplane_net.id: found_ctlplane_port = True break else: LOG.warning(""Host SSH network %s not found in neutron, not "" ""using neutron data for inventory"", self.host_network)", for p in ports: if p.network_id == ctlplane_net.id: found_ctlplane_port = True break,9,4
openstack%2Fos-net-config~master~I18e65e99b7228d8aea20d510070968f17e021e3c,openstack/os-net-config,master,I18e65e99b7228d8aea20d510070968f17e021e3c,Avoid creating multiple entries of udev rules,MERGED,2021-06-29 09:59:26.000000000,2021-07-02 21:10:17.000000000,2021-07-02 21:06:22.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 09:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f900baaa3049f28a2460d109486bb9b526c53fc5', 'message': 'Avoid creating multiple entries of udev rules\n\nWhen numvfs is changed during stack update or upgrades, the udev\nrules shall be modified accordingly.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n'}, {'number': 2, 'created': '2021-06-29 10:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8422ba9c3a6b554323442ad81aff8d69c4835e15', 'message': 'Avoid creating multiple entries of udev rules\n\nWhen numvfs is changed during stack update or upgrades, the udev\nrules shall be modified accordingly.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n'}, {'number': 3, 'created': '2021-06-29 15:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a22112ffda6fda1e15cddea367bcdba48fb9b5e7', 'message': 'Avoid creating multiple entries of udev rules\n\nAs on date os-net-config does not support changing numvfs.\nHowever if external scripts are used to reset numvfs to zero and\nreconfigure numvfs, the udev rule shall reflect the new numvfs\nand the previous udev rule shall be replaced.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n'}, {'number': 4, 'created': '2021-06-29 16:38:16.000000000', 'files': ['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8a053a2c1d467833c0db3d3e5303d36ee99d8e33', 'message': 'Avoid creating multiple entries of udev rules\n\nAs on date os-net-config does not support changing numvfs.\nHowever if external scripts are used to reset numvfs to zero and\nreconfigure numvfs, the udev rule shall reflect the new numvfs\nand the previous udev rule shall be replaced.\n\nChange-Id: I18e65e99b7228d8aea20d510070968f17e021e3c\n'}]",3,798632,8a053a2c1d467833c0db3d3e5303d36ee99d8e33,19,4,4,18904,,,0,"Avoid creating multiple entries of udev rules

As on date os-net-config does not support changing numvfs.
However if external scripts are used to reset numvfs to zero and
reconfigure numvfs, the udev rule shall reflect the new numvfs
and the previous udev rule shall be replaced.

Change-Id: I18e65e99b7228d8aea20d510070968f17e021e3c
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/32/798632/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_sriov_config.py', 'os_net_config/sriov_config.py']",2,f900baaa3049f28a2460d109486bb9b526c53fc5,," pattern = 'KERNEL==""%s"", RUN+=""/bin/os-net-config-sriov -n' % pf_name return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE, pattern)def add_udev_rule(udev_data, udev_file, pattern=None): if not pattern: pattern = udev_data udev_lines = file_data.splitlines() if pattern in file_data: if udev_data in udev_lines: return trigger_udev_rule with open(udev_file, ""w"") as f: for line in udev_lines: if pattern in line: f.write(udev_data + ""\n"") else: f.write(line + ""\n"") else:"," return add_udev_rule(udev_line, _UDEV_LEGACY_RULE_FILE)def add_udev_rule(udev_data, udev_file): udev_lines = file_data.split(""\n"") if udev_data not in udev_lines:",108,4
openstack%2Fvalidations-common~master~I4a66ab1fca07577ba2d3258222bbdaf63e5adbca,openstack/validations-common,master,I4a66ab1fca07577ba2d3258222bbdaf63e5adbca,Coverage change job,MERGED,2021-06-21 09:58:53.000000000,2021-07-02 21:07:51.000000000,2021-07-02 21:07:51.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-21 09:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/38b45266bbc2d1da8e33655dd2ee47114b9c456e', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 2, 'created': '2021-06-21 12:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8ec0fef8e2741eb43fc1f043d82402fb5c0eadaf', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 3, 'created': '2021-06-21 12:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/87b4340453660b70a946a2e2243c200adf3ce099', 'message': ""Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 4, 'created': '2021-06-21 13:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7cc3ff78eec1b7343a8bd2195d087242d9061285', 'message': ""Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 5, 'created': '2021-06-22 05:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/28b84637ddfc6aadb34b571b86e0bf46a08e6eea', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 6, 'created': '2021-06-22 09:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/55ff39244789ef785d03febe3cb8042ca4122493', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 7, 'created': '2021-06-25 11:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d82a9fcc3994c70ad447ccfebc437f37a01fa73b', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 8, 'created': '2021-06-25 11:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6a3e89a34a1d05678fc0d3b6eb6a25689ccd2bab', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 9, 'created': '2021-06-30 08:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b4602f642f3a7059ea065032209ba08043585505', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 10, 'created': '2021-06-30 11:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a2b350d02864ea4fdcf721fb55ed726fd1b52ba4', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 11, 'created': '2021-06-30 11:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/706c9294e94cdc05777c72d9b9080d7d85234978', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}, {'number': 12, 'created': '2021-06-30 11:55:37.000000000', 'files': ['playbooks/coverchange.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/54f3f4ae727b874d4a00e395e5e84911c367645c', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca\n""}]",5,797250,54f3f4ae727b874d4a00e395e5e84911c367645c,30,9,12,32926,,,0,"Coverage change job

Zuul check for changes in unit test coverage.
With this running we can ensure that no more code is
merged without tests.

Checks both per file, and total coverage.

At this stage, I'm proposing is a non-voting job.
After a grace period, for example one sprint or two, it would become voting

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4a66ab1fca07577ba2d3258222bbdaf63e5adbca
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/50/797250/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/coverchange.yaml', '.zuul.yaml']",2,38b45266bbc2d1da8e33655dd2ee47114b9c456e,ci/coverchange,- job: name: validations-common-coverchange nodeset: centos-8 parent: base run: playbooks/coverchange.yaml timeout: 1600 voting: false required-projects: - openstack/validations-common files: - ^.*$ ,,63,1
openstack%2Ftripleo-validations~master~Ic3b48fde2b585917a213ad957f3851f792de91ce,openstack/tripleo-validations,master,Ic3b48fde2b585917a213ad957f3851f792de91ce,Coverage change job,MERGED,2021-06-21 12:30:37.000000000,2021-07-02 21:07:27.000000000,2021-07-02 21:07:27.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-21 12:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9248107a2bfd0ac151d304da66f955b0b1e38dd4', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 2, 'created': '2021-06-21 12:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0be98a830537043cd294a8a12035d60448903f10', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 3, 'created': '2021-06-21 13:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f0a844c1f5a7d4a0cf6710d21787ae8ca8e6233a', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 4, 'created': '2021-06-21 13:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/715bd2390c054ae7b9d0b3ee5ba7b0e60afe748b', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 5, 'created': '2021-06-22 08:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f3aba1b0f9c071c4bc78c8d48ec63f0aa7c4c95e', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 6, 'created': '2021-06-22 08:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1af65c01dac0e6c7e5e8bbc5db0732b55b96ca54', 'message': ""DNM COVERCHANGE\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 7, 'created': '2021-06-22 08:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/227b528b01dbabae61a7d32e7433484d70aa6639', 'message': ""DNM Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 8, 'created': '2021-06-22 09:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/18500ecbed7fca90f023e92b914d4733d70f349a', 'message': ""DNM Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 9, 'created': '2021-06-22 09:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b72e92c7a50496937967bd40f3559f8daa6efc8', 'message': ""DNM Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 10, 'created': '2021-06-22 11:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2f0d24b9a70e7326d788e7dbd75d21e665dd8dd5', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 11, 'created': '2021-06-25 11:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b2980b3ced6ff954b567b9f3f9f9a1159c12ea1', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 12, 'created': '2021-06-30 08:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/586b537626aa21fd71d54c2f80c6e5139491aee8', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}, {'number': 13, 'created': '2021-06-30 11:56:34.000000000', 'files': ['ci/playbooks/coverchange.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9ae4bd61f6c41ccaf05622feea2f3f774447cc7d', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce\n""}]",6,797285,9ae4bd61f6c41ccaf05622feea2f3f774447cc7d,31,8,13,32926,,,0,"Coverage change job

Zuul check for changes in unit test coverage.
With this running we can ensure that no more code is
merged without tests.

Checks both per file, and total coverage.

At this stage, I'm proposing is a non-voting job.
After a grace period, for example one sprint or two, it would become voting.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic3b48fde2b585917a213ad957f3851f792de91ce
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/797285/7 && git format-patch -1 --stdout FETCH_HEAD,"['ci/playbooks/coverchange.yaml', 'zuul.d/layout.yaml']",2,9248107a2bfd0ac151d304da66f955b0b1e38dd4,ci/coverchange, - tripleo-validations-coverchange,,52,0
openstack%2Fvalidations-libs~master~If2e61c9bbf59e91163357023d16620934dc7d3a0,openstack/validations-libs,master,If2e61c9bbf59e91163357023d16620934dc7d3a0,Coverage change job,MERGED,2021-06-17 13:57:01.000000000,2021-07-02 21:07:09.000000000,2021-07-02 21:07:09.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-17 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/02a5b2b89b6a6d7d3a59959582ab6ded48bfa357', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 2, 'created': '2021-06-17 14:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4b7d900af89e3852013bfe25b46e42d5922b9cfc', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 3, 'created': '2021-06-18 05:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d180c2dea826b42c60938f551b9bc9e4f12591f1', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 4, 'created': '2021-06-18 06:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/93f7326ee11c49c2d1c6858b7355022a5e3e36aa', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 5, 'created': '2021-06-18 07:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a0f436d9ae23e8ca19f8c709d11bd93a330ad0d8', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 6, 'created': '2021-06-18 07:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2ac9324bc2662ffc7b9e1e8566a2faf70056f86b', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 7, 'created': '2021-06-18 09:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/afc969af4f7428ade3600c672d3c0229723d3939', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 8, 'created': '2021-06-18 11:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/00ccc2ff3666514d126596a9569ac1ad1d38e73f', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 9, 'created': '2021-06-18 13:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e5a3974e3e88646ccd901d250a902f5a54028d20', 'message': 'DNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 10, 'created': '2021-06-18 13:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/298495931f579af0f4b72b03baeaf8b12a65d199', 'message': 'xDNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 11, 'created': '2021-06-18 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1421da56cb5bb3c1304d0ae5859140e146ef4486', 'message': 'xxDNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 12, 'created': '2021-06-18 15:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1d978b99fc4a360432e50f019454d793e711ee76', 'message': 'xxDNM Coverage change job test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n'}, {'number': 13, 'created': '2021-06-21 07:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bb7cb5b60a0c8b02251e3a9de1da64e34723ac17', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 14, 'created': '2021-06-21 07:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/007d182877f9e6a13e9d666f794b5e7099423336', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 15, 'created': '2021-06-21 08:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cb68833f055e2f39854f0eabf568665aa2bb39ad', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 16, 'created': '2021-06-21 08:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5e929e894bf44121e207c4e2bfd0915bc6e94396', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 17, 'created': '2021-06-21 08:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7d7986963ce28ccdc79b74102b5c90534496c58a', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 18, 'created': '2021-06-21 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/90d3624dafba3817976b0b56f8ac185805fdcecd', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 19, 'created': '2021-06-21 09:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/841dfe7079a076a6966f99994c95430f324fa157', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 20, 'created': '2021-06-21 09:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/871d79cca45a6d695b400aeaa00ba0dd91ebdbcb', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 21, 'created': '2021-06-21 12:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/96dad6a5db49465fc3acc7093e4b62c5450bcb35', 'message': ""DNM Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 22, 'created': '2021-06-21 12:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/925a52ebe8f9a53c4a266d7d0a7ad26f5074d9d8', 'message': ""Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 23, 'created': '2021-06-21 13:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2bd6c60eec4260ed0b387421d049a2beeec515da', 'message': ""Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 24, 'created': '2021-06-21 13:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8b105de603ddd490f68360546f2401f905948137', 'message': ""Coverage change job test\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 25, 'created': '2021-06-22 05:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f5445ea4656d47b5a59cbbbfd86c844a3d8df671', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 26, 'created': '2021-06-22 09:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/97a3d243c8732096dfebe7be86d2ef583e734b01', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 27, 'created': '2021-06-24 13:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e78a5521d03d5673ffb145b35691810c9acbe8a2', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 28, 'created': '2021-06-24 14:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ad1ee76820497a53ebc22f95518ab47cb3910897', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 29, 'created': '2021-06-24 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eac438d5e07778a3586781ad3310fd7389372066', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 30, 'created': '2021-06-24 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a1dfa352e16e75dcf87a78b5d70cd3736e18837e', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 31, 'created': '2021-06-24 15:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/70b685bf0c6d7da412a52424725da23f5e5515c3', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 32, 'created': '2021-06-25 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e75afcd4451e096fd2a34c101486095bf156590e', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 33, 'created': '2021-06-25 09:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f9c61e9f3f1e21daf6a34540858a48daf623f95e', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 34, 'created': '2021-06-25 09:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7f9791823c7339370d6e8d80bc96b1368646c7e9', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 35, 'created': '2021-06-25 10:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3eff44eac8f2c1d91cf988860c063bc6bff3ce36', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 36, 'created': '2021-06-25 11:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/09df12cd86556df8e713388214945d42ac97efd0', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 37, 'created': '2021-06-30 07:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7e0cc3499dffc2d9bd7d789ff4354ea18ee08d81', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}, {'number': 38, 'created': '2021-06-30 11:55:04.000000000', 'files': ['playbooks/coverchange.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/56bb1a06803758da840d1065d9ecce628cf1d91e', 'message': ""Coverage change job\n\nZuul check for changes in unit test coverage.\nWith this running we can ensure that no more code is\nmerged without tests.\n\nChecks both per file, and total coverage.\n\nAt this stage, I'm proposing is a non-voting job.\nAfter a grace period, for example one sprint or two, it would become voting.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0\n""}]",4,796845,56bb1a06803758da840d1065d9ecce628cf1d91e,64,10,38,32926,,,0,"Coverage change job

Zuul check for changes in unit test coverage.
With this running we can ensure that no more code is
merged without tests.

Checks both per file, and total coverage.

At this stage, I'm proposing is a non-voting job.
After a grace period, for example one sprint or two, it would become voting.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If2e61c9bbf59e91163357023d16620934dc7d3a0
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/45/796845/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/coverchange.yaml', '.zuul.yaml']",2,02a5b2b89b6a6d7d3a59959582ab6ded48bfa357,ci/coverchange, name: validations-libs-coverchange nodeset: centos-8 parent: base run: playbooks/coverchange.yaml timeout: 1600 voting: false required-projects: - openstack/validations-libs files: - ^.*$ - job: - validations-libs-coverchange,,46,0
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Fvictoria~Idab7089dca50f5da7abea86eaf28a531893bd3b6,openstack/openstack-ansible-nspawn_container_create,stable/victoria,Idab7089dca50f5da7abea86eaf28a531893bd3b6,Updated from OpenStack Ansible Tests,ABANDONED,2020-12-18 16:18:29.000000000,2021-07-02 21:06:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-18 16:18:29.000000000', 'files': ['run_tests.sh', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/e87031439f6270852da8eeb6c61b9644020fedae', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Idab7089dca50f5da7abea86eaf28a531893bd3b6\n'}]",0,767907,e87031439f6270852da8eeb6c61b9644020fedae,5,1,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Idab7089dca50f5da7abea86eaf28a531893bd3b6
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/07/767907/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,e87031439f6270852da8eeb6c61b9644020fedae,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,openstack/tripleo-heat-templates,stable/wallaby,Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,Extend UC ephemeral heat to export network,MERGED,2021-06-28 19:05:40.000000000,2021-07-02 21:06:29.000000000,2021-07-02 21:06:29.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-28 19:05:40.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d602ed9030fd9424ded2f0e46c3be6037db055b', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n(cherry picked from commit 28105815c15cd2633accc1a900e7887c83a728af)\n""}]",0,798317,7d602ed9030fd9424ded2f0e46c3be6037db055b,15,5,1,24245,,,0,"Extend UC ephemeral heat to export network

Run the commands to export the current stack's networks,
virtual IPs and provisioned server as part of the
OS::TripleO::UndercloudUpgradeEphemeralHeat service script.

The network, virtual IP definitions and baremeteal deployment
definition will will be stored in each stacks subdirectory in
the working-dir.

The user must provide the path to the roles data file for each
overcloud stack managed by the undercloud being upgraded.
For example, by adding a file with below content and including
this env file using the 'custom_env_files' option in
undercloud.conf.

  parameter_defaults:
    OvercloudStackRoleDataFileMap:
      overcloud: /home/centos/overcloud/my_roles_data.yaml

Related: blueprint network-data-v2-ports
Change-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9
(cherry picked from commit 28105815c15cd2633accc1a900e7887c83a728af)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/798317/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/undercloud-upgrade-ephemeral-heat.py', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml']",2,7d602ed9030fd9424ded2f0e46c3be6037db055b,network-data-v2-backports," OvercloudStackRoleDataFileMap: default: {} description: | Mapping of overcloud stack name, and the absolute path to the roles data file used when deploying/updating the stack. For example: {'overcloud': '/home/stack/roles_data.yaml'} type: json - name: Store OvercloudStackRoleDataFileMap on file vars: role_data_file_map: {get_param: OvercloudStackRoleDataFileMap} copy: dest: /var/lib/tripleo-config/overcloud-stack-role-data-file-map.yaml content: ""{{ role_data_file_map | to_nice_yaml }}"" when: - step|int == 1",,142,2
openstack%2Fopenstack-ansible-nspawn_container_create~master~I7e9a5578cd2b318fb5b496f38a07971fe3290c88,openstack/openstack-ansible-nspawn_container_create,master,I7e9a5578cd2b318fb5b496f38a07971fe3290c88,Updated from OpenStack Ansible Tests,ABANDONED,2020-09-24 16:54:15.000000000,2021-07-02 21:06:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-09-24 16:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/af181227dbbf06cea3339beac2390c9feb917717', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 2, 'created': '2020-09-30 14:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/e4f5207160afcef871dc060c97238796b8dcfe51', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/755306\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 3, 'created': '2020-10-06 13:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/491f44024eda284e82e990efa0b7218f4a3cd88d', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/755306\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 4, 'created': '2020-10-06 15:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/7e357158eea6ee41941165eb7f7141c4cf851af0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 5, 'created': '2020-10-06 15:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/b75b2055f93eafac60e869ec8568468ec6680f66', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 6, 'created': '2021-03-12 22:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/3e1fc4fa9f6727aa8edc54adeb830ccf35115339', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}, {'number': 7, 'created': '2021-03-22 08:45:11.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/74c45e505d2ceda18c01ebe1f4691ca48b857f37', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88\n'}]",0,754157,74c45e505d2ceda18c01ebe1f4691ca48b857f37,20,2,7,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7e9a5578cd2b318fb5b496f38a07971fe3290c88
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/57/754157/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,af181227dbbf06cea3339beac2390c9feb917717,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Fopenstack-ansible-nspawn_hosts~master~I07caf98332886caa040f3729ba447d58bd50b17b,openstack/openstack-ansible-nspawn_hosts,master,I07caf98332886caa040f3729ba447d58bd50b17b,Updated from OpenStack Ansible Tests,ABANDONED,2021-03-12 22:16:46.000000000,2021-07-02 21:06:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-12 22:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/8088c46129ab54beb8c88c96f0aa933f77a13901', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I07caf98332886caa040f3729ba447d58bd50b17b\n'}, {'number': 2, 'created': '2021-03-22 08:45:23.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/50cd9caa7edd0f1b35a6d9d495a20c3b49e6d8e8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I07caf98332886caa040f3729ba447d58bd50b17b\n'}]",0,780342,50cd9caa7edd0f1b35a6d9d495a20c3b49e6d8e8,5,1,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I07caf98332886caa040f3729ba447d58bd50b17b
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/42/780342/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile']",3,8088c46129ab54beb8c88c96f0aa933f77a13901,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""debian10"" do |debian10| debian10.vm.box = ""debian/buster64"" config.vm.define ""ubuntu2004"" do |focal| bionic.disksize.size = ""40GB"" bionic.vm.box = ""ubuntu/focal64"" end"," config.vm.define ""debian8"" do |debian8| debian8.vm.box = ""debian/jessie64"" end config.vm.define ""debian9"" do |debian9| debian9.vm.box = ""debian/stretch64"" end config.vm.define ""gentoo"" do |gentoo| gentoo.vm.box = ""generic/gentoo"" end config.vm.define ""opensuse150"" do |leap150| leap150.vm.box = ""opensuse/openSUSE-15.0-x86_64"" end config.vm.define ""opensuse151"" do |leap151| leap151.vm.box = ""opensuse/openSUSE-15.1-x86_64""",10,30
openstack%2Fopenstack-ansible-os_glance~master~I06981f5f6f294d20251bc7b9d139d8161beb5ec7,openstack/openstack-ansible-os_glance,master,I06981f5f6f294d20251bc7b9d139d8161beb5ec7,Rebuild venv if missing,ABANDONED,2018-03-24 23:09:44.000000000,2021-07-02 21:03:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 25262}]","[{'number': 1, 'created': '2018-03-24 23:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/392573e45de9306c378bb9e765ec426b81b286d0', 'message': 'Rebuild venv if missingIf a deployer removes a venv from /openstack/venvs and runs the role in an attempt to re-deploy the venv from the same tag, the role will fail. This is because the venv archive in /var/cache is still present with the same checksum, so the download and extract process is not triggered.\n\nChange-Id: I06981f5f6f294d20251bc7b9d139d8161beb5ec7\n'}, {'number': 2, 'created': '2018-03-24 23:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/574226372298c007a23ca5b68f3fdd0efc06f27c', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I06981f5f6f294d20251bc7b9d139d8161beb5ec7\n'}, {'number': 3, 'created': '2018-03-24 23:14:59.000000000', 'files': ['tasks/glance_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/1544a4e3553f7f4a0770e250505edeaaf8bc0c6f', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I06981f5f6f294d20251bc7b9d139d8161beb5ec7\n'}]",0,556091,1544a4e3553f7f4a0770e250505edeaaf8bc0c6f,7,2,3,25262,,,0,"Rebuild venv if missing

If a deployer removes a venv from /openstack/venvs and runs the role
in an attempt to re-deploy the venv from the same tag, the role will
fail. This is because the venv archive in /var/cache is still present
with the same checksum, so the download and extract process is not
triggered.

Change-Id: I06981f5f6f294d20251bc7b9d139d8161beb5ec7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/91/556091/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install.yml'],1,392573e45de9306c378bb9e765ec426b81b286d0,venv-extract-check,"- name: Check for deployed venv stat: path: ""{{ glance_bin | dirname }}"" register: glance_venv_stat when: - glance_get_venv | changed or glance_venv_dir | changed - glance_get_venv | changed or glance_venv_dir | changed when: - glance_get_venv | changed or glance_venv_dir | changed", when: glance_get_venv | changed when: glance_get_venv | changed - glance_get_venv | changed when: glance_get_venv | changed,14,4
openstack%2Fglance~master~I59d0b48f0652120eaae39509685345a12447933e,openstack/glance,master,I59d0b48f0652120eaae39509685345a12447933e,Add unified quotas documentation,MERGED,2021-06-03 19:22:17.000000000,2021-07-02 20:57:47.000000000,2021-07-02 20:54:20.000000000,"[{'_account_id': 2033}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 19:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/30c5706247513a8d3ee866e225763df6e9238290', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 2, 'created': '2021-06-03 19:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb85a16fed61320c623369cce2e3bf4fd4938a48', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 3, 'created': '2021-06-03 20:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00167c1c008ac74e60e8bc2ac661bb4b5eadda76', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 4, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b8d458ead73fcc4e9da53f021eb84f933d1403d', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 5, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f2a6b1b39ca261aba0fc699b781cf98ca19a89a', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 6, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d8a344d000aeef9a36187956ab5b09a131f730c0', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 7, 'created': '2021-06-04 18:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/365760bf1e4858931a3283be676166f19f727992', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 8, 'created': '2021-06-08 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65becd354c75461aa2b0413f8033d87a06350640', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 9, 'created': '2021-06-14 14:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7e58d3ca8d51301c5e373a451f04d873ceebf262', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 10, 'created': '2021-06-14 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7a496dfb98e0f42f1d157106250ac8de5c3027d0', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 11, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/62db0c1ead75b9719a64b7ab5abcff3a1287342d', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 12, 'created': '2021-06-14 15:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/48688eb99349ecf6ab3260b41233092c8e37b096', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 13, 'created': '2021-06-21 15:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/98eb5e56c28decc2c46e444536b060c62d4c9b01', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 14, 'created': '2021-06-21 17:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35d59af4e19ba79ab8052a4641ef333c95d11c8c', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 15, 'created': '2021-06-29 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4084b8836b69e333f96ba63e750812cbf074d67', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 16, 'created': '2021-06-29 15:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c5a6884617af44f8e0caf17165acff573901aa54', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}, {'number': 17, 'created': '2021-07-02 14:27:56.000000000', 'files': ['doc/source/install/register-quotas.rst', 'doc/source/admin/quotas.rst', 'doc/source/admin/index.rst', 'doc/source/install/install-ubuntu.rst', 'releasenotes/notes/glance-unified-quotas-fba62fabb00379af.yaml', 'doc/source/install/configure-quotas.rst', 'doc/source/user/glanceapi.rst', 'doc/source/install/install-debian.rst', 'doc/source/configuration/configuring.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/da771fce258585d60393bdcfc2f910070bf2af63', 'message': 'Add unified quotas documentation\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I59d0b48f0652120eaae39509685345a12447933e\n'}]",2,794672,da771fce258585d60393bdcfc2f910070bf2af63,42,5,17,4393,,,0,"Add unified quotas documentation

Related to blueprint glance-unified-quotas

Change-Id: I59d0b48f0652120eaae39509685345a12447933e
",git fetch https://review.opendev.org/openstack/glance refs/changes/72/794672/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/quotas.rst', 'doc/source/install/register-quotas.rst', 'doc/source/admin/index.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/configure-quotas.rst', 'doc/source/install/install-debian.rst', 'doc/source/configuration/configuring.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",9,30c5706247513a8d3ee866e225763df6e9238290,bp/glance-unified-quotas,".. include:: register-quotas.rst * In the ``[DEFAULT]`` section, optionally enable per-tenant quotas: .. path /etc/glance/glance.conf .. code-block:: ini [DEFAULT] use_keystone_quotas = True .. end Note that you must have created the registered limits as described above if this is enabled. ",,303,0
openstack%2Fneutron~master~Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,openstack/neutron,master,Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl,MERGED,2021-06-16 09:33:13.000000000,2021-07-02 20:56:31.000000000,2021-07-02 20:52:38.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 09:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b608415b36b59e724e93f1a1dcc68a6c6cf7a253', 'message': '[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n\nAdd retry logic to retrieve OvsdbSb IDL object.\nAdd port fork event in MetadataProxyHandler to wait for the\nOvsdbSb IDL object.\n\nCloses-Bug: #1928031\nChange-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0\n'}, {'number': 2, 'created': '2021-06-17 03:13:25.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/95d80a2757e23b6e8cdb44576f3913eedb400810', 'message': '[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n\nAdd retry logic to retrieve OvsdbSb IDL object.\nAdd port fork event in MetadataProxyHandler to wait for the\nOvsdbSb IDL object.\n\nCloses-Bug: #1928031\nChange-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0\n'}]",3,796613,95d80a2757e23b6e8cdb44576f3913eedb400810,24,6,2,10366,,,0,"[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl

Add retry logic to retrieve OvsdbSb IDL object.
Add port fork event in MetadataProxyHandler to wait for the
OvsdbSb IDL object.

Closes-Bug: #1928031
Change-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/796613/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py']",3,b608415b36b59e724e93f1a1dcc68a6c6cf7a253,bug/1928031, self.handler._post_fork_event.set(),,25,0
openstack%2Fglance~master~Iebba15771000e86a0701d20ed9620eb578c2cb85,openstack/glance,master,Iebba15771000e86a0701d20ed9620eb578c2cb85,Add user_get_uploading_count() to DB API,MERGED,2021-06-02 15:08:00.000000000,2021-07-02 20:56:18.000000000,2021-07-02 20:53:31.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a868340432d39d0010512a1db8ce1d2992d3a12a', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 2, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b64896fa50e24b6b2d9882b4f96e01794e215fe6', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 3, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e7bb0e9f46bbfdac2f78b47fdad7e914c1bc6a52', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 4, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/36ca49eb03ea4471c2ba590609e4d5ad808d3eb4', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 5, 'created': '2021-06-14 15:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8d4cdc87908ccc9dfd324a2c87f5026ba924ac1c', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 6, 'created': '2021-06-21 15:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cbbe9c6967d46e7781f3bc0b2b4166250ab1ca64', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 7, 'created': '2021-06-21 17:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2971edd2afa37ebf49faf7cf1d145bd1cda42f5e', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 8, 'created': '2021-06-29 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/053edfd8b92e1fb50a0b1439537fff47cd3cc866', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}, {'number': 9, 'created': '2021-07-02 14:27:56.000000000', 'files': ['glance/db/sqlalchemy/api.py', 'glance/tests/functional/db/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/084a77e644dd1110e82a735f8cb33d88331ba506', 'message': ""Add user_get_uploading_count() to DB API\n\nThis adds an efficient query method for getting a count of the user's\nimages that are in any state of uploading. This includes images\nin the process of saving from upload, staging, importing, or being\ncopied to another store.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85\n""}]",3,794245,084a77e644dd1110e82a735f8cb33d88331ba506,28,3,9,4393,,,0,"Add user_get_uploading_count() to DB API

This adds an efficient query method for getting a count of the user's
images that are in any state of uploading. This includes images
in the process of saving from upload, staging, importing, or being
copied to another store.

Partially-implements: blueprint glance-unified-quotas

Change-Id: Iebba15771000e86a0701d20ed9620eb578c2cb85
",git fetch https://review.opendev.org/openstack/glance refs/changes/45/794245/8 && git format-patch -1 --stdout FETCH_HEAD,"['glance/db/sqlalchemy/api.py', 'glance/tests/functional/db/test_sqlalchemy.py']",2,a868340432d39d0010512a1db8ce1d2992d3a12a,bp/glance-unified-quotas," def test_get_uploading_count(self): for owner, ctxt in self.contexts.items(): count = self.db_api.user_get_uploading_count(ctxt, ctxt.owner) # Each user has two staged images, and one image being copied self.assertEqual(3, count)",,38,0
openstack%2Fswift~master~Ieafa72a496328f7a487ca7062da6253994a5a07d,openstack/swift,master,Ieafa72a496328f7a487ca7062da6253994a5a07d,Make dark data watcher ignore the newly updated objects,MERGED,2021-04-28 03:19:09.000000000,2021-07-02 20:56:16.000000000,2021-07-02 20:52:55.000000000,"[{'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 03:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8306af1c3e5dc5242a8a3758e221c32fef762aea', 'message': 'WIP: Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\n'}, {'number': 2, 'created': '2021-05-13 05:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e14144e75cb6071ff2c95ca0b4e2efa4e71b454d', 'message': 'Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nBecause we needed to test this, we also reworked the tests and\nfixed some issues.\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\n'}, {'number': 3, 'created': '2021-05-20 19:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9ceae2dfd258b95684449737c34cd171f436dd76', 'message': 'Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nBecause we needed to test this, we also reworked the tests and\nfixed some issues.\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\n'}, {'number': 4, 'created': '2021-06-03 17:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7d3592a82d96c5f010953bea42974da6a0baeb2e', 'message': 'Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nBecause we needed to test this, we also reworked the tests and\nfixed some issues (including adding an EC fragment).\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\n'}, {'number': 5, 'created': '2021-06-10 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a82e66e6ea9f1a96cdb3e6ce9e36047d656d40c6', 'message': 'Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nBecause we needed to test this, we also reworked the tests and\nfixed some issues (including adding an EC fragment).\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\n'}, {'number': 6, 'created': '2021-06-30 21:39:10.000000000', 'files': ['test/unit/obj/test_auditor.py', 'swift/obj/watchers/dark_data.py', 'test/probe/test_dark_data.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/95e031645120d5ffedb4b15127ff701d8bc24f59', 'message': ""Make dark data watcher ignore the newly updated objects\n\nWhen objects are freshly uploaded, they may take a little time\nto appear in container listings, producing false positives.\n\nBecause we needed to test this, we also reworked/added the tests\nand fixed some issues, including adding an EC fragment (thanks\nto Alistair's code).\n\nCloses-Bug: 1925782\nChange-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\n""}]",48,788398,95e031645120d5ffedb4b15127ff701d8bc24f59,47,4,6,597,,,0,"Make dark data watcher ignore the newly updated objects

When objects are freshly uploaded, they may take a little time
to appear in container listings, producing false positives.

Because we needed to test this, we also reworked/added the tests
and fixed some issues, including adding an EC fragment (thanks
to Alistair's code).

Closes-Bug: 1925782
Change-Id: Ieafa72a496328f7a487ca7062da6253994a5a07d
Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/788398/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/watchers/dark_data.py', 'etc/object-server.conf-sample']",2,8306af1c3e5dc5242a8a3758e221c32fef762aea,bug/1925782,# grace_age=604800,,13,0
openstack%2Fglance~master~I2a28750aaf968e6a6324eb194d4280a640bfa5aa,openstack/glance,master,I2a28750aaf968e6a6324eb194d4280a640bfa5aa,Add image_count_uploading quota enforcement,MERGED,2021-06-02 15:08:00.000000000,2021-07-02 20:53:56.000000000,2021-07-02 20:53:56.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1455f5698e5c443857ec62174577989a07ce9625', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 2, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f557df6202bacfb2c8df577b9b0a798e80decc6a', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 3, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cb90ffdf264fee8f2cd7c262ffce5a428e4b03c2', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 4, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8c8a292ef8eecf03c31329bf3af5a0dc7e83e7dc', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 5, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/059644a2f6c2704e379148fb54b90fd17ce3631f', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 6, 'created': '2021-06-04 18:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/07cca764e616b9df05787e1ebcc3254bf0cf69c1', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 7, 'created': '2021-06-08 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b19b46299a07a40cc240dc2b02159e34ab1cafda', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 8, 'created': '2021-06-14 14:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d19c0560403d1304398faa73126d613f23289184', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 9, 'created': '2021-06-14 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f78d86cff0d7d69573c9f713b1bc1050d1aeeb1e', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 10, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd06a44c580bfd42cb15ca3321032d8fc2724f15', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 11, 'created': '2021-06-14 15:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d4d3d785b55e1a40d9f5776dee6b535c83a3993', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 12, 'created': '2021-06-21 15:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae1f8d04e9cf6ffda4f0a109b09344a0d875e6ed', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 13, 'created': '2021-06-21 17:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab80295f0cf069cd1df045b5e8838a5e54f123a4', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 14, 'created': '2021-06-29 14:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9403deba2a9d9ffca3fcbb5d10c245312f40275', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}, {'number': 15, 'created': '2021-07-02 14:27:56.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images.py', 'glance/quota/keystone.py', 'glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/taskflow_executor.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/8d6ee6f8226203c7022c8ba8a30e07ee60b7e336', 'message': 'Add image_count_uploading quota enforcement\n\nThis makes us enforce a quota on the total number of upload-related\nimage operations owned by a user.\n\nPartially-implements: blueprint glance-unified-quotas\n\nChange-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa\n'}]",7,794247,8d6ee6f8226203c7022c8ba8a30e07ee60b7e336,32,3,15,4393,,,0,"Add image_count_uploading quota enforcement

This makes us enforce a quota on the total number of upload-related
image operations owned by a user.

Partially-implements: blueprint glance-unified-quotas

Change-Id: I2a28750aaf968e6a6324eb194d4280a640bfa5aa
",git fetch https://review.opendev.org/openstack/glance refs/changes/47/794247/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images.py', 'glance/quota/keystone.py', 'glance/api/v2/images.py', 'glance/async_/flows/api_image_import.py', 'glance/async_/taskflow_executor.py']",6,1455f5698e5c443857ec62174577989a07ce9625,bp/glance-unified-quotas, except exception.LimitExceeded as exc: raise exception.ImportTaskError(message=exc.msg),,138,5
openstack%2Fironic~master~I4a169b42d516a7ae2adcee9b69d71723fdefcd95,openstack/ironic,master,I4a169b42d516a7ae2adcee9b69d71723fdefcd95,Suppress policy deprecation and default change warnings,MERGED,2021-07-01 22:19:10.000000000,2021-07-02 20:45:11.000000000,2021-07-02 20:43:39.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 22:19:10.000000000', 'files': ['ironic/tests/unit/policy_fixture.py', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337', 'message': 'Suppress policy deprecation and default change warnings\n\nAs part of the policy defaults refresh work, all of the defaults for\npolicies were changed and warnings about it are being emitted\nconstantly in the logs. We can suppress these for now until we are\nenforcing new defaults [1].\n\nThis also suppresses policy deprecation warnings during tests to avoid\nfilling the console with warning messages.\n\nRelated to blueprint policy-defaults-refresh\n\n[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults\n\nChange-Id: I4a169b42d516a7ae2adcee9b69d71723fdefcd95\n'}]",2,799120,67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337,20,4,1,4690,,,0,"Suppress policy deprecation and default change warnings

As part of the policy defaults refresh work, all of the defaults for
policies were changed and warnings about it are being emitted
constantly in the logs. We can suppress these for now until we are
enforcing new defaults [1].

This also suppresses policy deprecation warnings during tests to avoid
filling the console with warning messages.

Related to blueprint policy-defaults-refresh

[1]https://docs.openstack.org/nova/latest/configuration/config.html#oslo_policy.enforce_new_defaults

Change-Id: I4a169b42d516a7ae2adcee9b69d71723fdefcd95
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/799120/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/policy_fixture.py', 'ironic/common/policy.py']",2,67ff5ff2b4ad4a12965142ffb1ff7fb11c07d337,bp/policy-defaults-refresh," # NOTE(melwitt): Explictly disable the warnings for policies # changing their default check_str. During policy-defaults-refresh # work, all the policy defaults have been changed and warning for # each policy started filling the logs limit for various tool. # Once we move to new defaults only world then we can enable these # warning again. _ENFORCER.suppress_default_change_warnings = True",,11,0
openstack%2Fpython-cinderclient~master~I2e2aa24e1592b66b287c84eda97b5079c40a36ec,openstack/python-cinderclient,master,I2e2aa24e1592b66b287c84eda97b5079c40a36ec,Remove skip_missing_interpreters,MERGED,2021-06-30 20:37:47.000000000,2021-07-02 20:31:36.000000000,2021-07-02 20:29:44.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 20:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/731842b97ae22fe829d5d0d0ccbbacfb9dbffa14', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n""}, {'number': 2, 'created': '2021-07-01 12:43:15.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b891c9980f316bd603a9f1429eebad41adf43825', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n""}]",0,798957,b891c9980f316bd603a9f1429eebad41adf43825,16,4,2,5314,,,0,"Remove skip_missing_interpreters

This prevents a job reporting 'success' when the appropriate python
interpreter cannot be found, when actually it didn't run at all.
Also change the default envlist to use generic 'py3' instead of a
specific version which might not be present.

Also change zuul config so the python-cinderclient-functional-py36
job runs on centos-8-stream nodes, where py36 should be available.
And change bindep.txt to specify the correct package name for
centos-8.

Jeremy Stanley has given a more thorough explanation of why this
is a good change:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html

This isn't a theoretical issue.  If you look at recent
python-cinderclient-functional-py36 job results (for example,
[0]), you'll see that Zuul reported 'success', but on a closer look,
you'll see that no tests were run.

[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470

Change-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/57/798957/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,731842b97ae22fe829d5d0d0ccbbacfb9dbffa14,skip-missing-interp,"envlist = py3,pep8","envlist = py36,py38,pep8skip_missing_interpreters = true",3,2
openstack%2Fdevstack~master~I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08,openstack/devstack,master,I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08,Add route to IPv6 private subnets in ML2/OVN,MERGED,2021-03-15 17:26:58.000000000,2021-07-02 20:29:17.000000000,2021-06-03 07:21:35.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-15 17:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f7f058a96db214c44719dacda03e13eb610273c', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nReproduce the behavior from ML2/OVS: add a route from the devstack node\nto the CIDRs of the default IPv6 subnet pool. Any IPv6 subnet created\nusing the default subnet pool and plugged into the default router is\nreachable from the host (ipv6-private-subnet).\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 2, 'created': '2021-03-16 11:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/50ba1732201d7bce2a288c25cb2fe43848668db9', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nReproduce the behavior from ML2/OVS: add a route from the devstack node\nto the CIDRs of the default IPv6 subnet pool. Any IPv6 subnet created\nusing the default subnet pool and plugged into the default router is\nreachable from the host (ipv6-private-subnet).\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 3, 'created': '2021-03-16 12:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/adae13ddbf51f708b1304a9542b867326e8a0802', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nReproduce the behavior from ML2/OVS: add a route from the devstack node\nto the CIDRs of the default IPv6 subnet pool. Any IPv6 subnet created\nusing the default subnet pool and plugged into the default router is\nreachable from the host (ipv6-private-subnet).\n\nThe commit also removes the IPV6_ROUTER_GW_IP global variable, it was\nunused and it created some confusion with the real IP address of the\ndefault router.\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 4, 'created': '2021-03-16 13:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0631df958c2e39536b42b647a702d44dfe3eeed', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nEnable IPv6 private subnet routing in ML2/OVN, it sues the behavior that\nalready exists in ML2/OVS: add a route from the devstack node to the\nCIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the\ndefault subnet pool and plugged into the default router is reachable\nfrom the host (ex: ipv6-private-subnet).\n\nThe commit also removes the IPV6_ROUTER_GW_IP global variable, it was\nunused and it created some confusion with the real IP address of the\ndefault router.\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 5, 'created': '2021-03-16 17:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af9c7fd89521ab6c9ed9729053b5ac50c07e7f96', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nEnable IPv6 private subnet routing in ML2/OVN, it sues the behavior that\nalready exists in ML2/OVS: add a route from the devstack node to the\nCIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the\ndefault subnet pool and plugged into the default router is reachable\nfrom the host (ex: ipv6-private-subnet).\n\nThe commit also removes the IPV6_ROUTER_GW_IP global variable, it was\nunused and it created some confusion with the real IP address of the\ndefault router.\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 6, 'created': '2021-03-19 13:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/07c3b0c62dabd362e672acf5ce7540e70f8b6dcf', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nEnable IPv6 private subnet routing in ML2/OVN, it uses the behavior that\nalready exists in ML2/OVS: add a route from the devstack node to the\nCIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the\ndefault subnet pool and plugged into the default router is reachable\nfrom the host (ex: ipv6-private-subnet).\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 7, 'created': '2021-05-19 00:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d61687b8070c56dc35ba19b7da2f1dd256b4520c', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nEnable IPv6 private subnet routing in ML2/OVN, it uses the behavior that\nalready exists in ML2/OVS: add a route from the devstack node to the\nCIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the\ndefault subnet pool and plugged into the default router is reachable\nfrom the host (ex: ipv6-private-subnet).\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}, {'number': 8, 'created': '2021-06-02 12:40:46.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/949f5ada608961fd05435e01bd9d06757b6c62c5', 'message': 'Add route to IPv6 private subnets in ML2/OVN\n\nEnable IPv6 private subnet routing in ML2/OVN, it uses the behavior that\nalready exists in ML2/OVS: add a route from the devstack node to the\nCIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the\ndefault subnet pool and plugged into the default router is reachable\nfrom the host (ex: ipv6-private-subnet).\n\nChange-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08\n'}]",9,780628,949f5ada608961fd05435e01bd9d06757b6c62c5,37,6,8,29244,,,0,"Add route to IPv6 private subnets in ML2/OVN

Enable IPv6 private subnet routing in ML2/OVN, it uses the behavior that
already exists in ML2/OVS: add a route from the devstack node to the
CIDRs of the default IPv6 subnet pool. Any IPv6 subnet created using the
default subnet pool and plugged into the default router is reachable
from the host (ex: ipv6-private-subnet).

Change-Id: I02ca1d94e9f4d5ad4a06182f5ac9a2434941cf08
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/780628/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,3f7f058a96db214c44719dacda03e13eb610273c,ovn-devstack," if [ -n ""$IPV6_PUBLIC_RANGE"" ]; then # Add a route to the CIDRs of the default IPv6 subnet pool via the # default router. Any IPv6 subnet created using the default subnet pool # and plugged into the default router (ex: the default IPv6 private # network) is reachable from the devstack node. # Some scenario tests (octavia-tempest-plugin) rely on this feature. # If default subnet pool is not configured, use FIXED_RANGE_V6. local dest=${SUBNETPOOL_PREFIX_V6} if [[ -z ""$dest"" ]]; then dest=${FIXED_RANGE_V6} fi sudo ip -6 route replace $dest via $IPV6_ROUTER_GW_IP dev $ext_gw_ifc fi",,14,0
openstack%2Fmanila~stable%2Fwallaby~I1a1079df8e104c5ddba29cb614eb4e02a304082e,openstack/manila,stable/wallaby,I1a1079df8e104c5ddba29cb614eb4e02a304082e,Add Ceph version check,MERGED,2021-06-25 13:44:06.000000000,2021-07-02 20:11:06.000000000,2021-07-02 20:09:37.000000000,"[{'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-25 13:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/99e67f0e6451b7a3a21cf908ae9ff2f2e1e4458e', 'message': 'Add Ceph version check\n\nCephFS drivers in OpenStack Manila are directing\nmgr commands to the mgr by specifying mon-mgr as\nthe target [0]. This target (mon-mgr) was added\nto Ceph in Octopus [1].\n\nWe would need a version check in order to set the\ncorrect target while we wait on the backport on Ceph\nto land [2].\n\n[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119\n[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538\n[2] https://tracker.ceph.com/issues/51039\n\nCloses-Bug: #1930459\nChange-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e\n'}, {'number': 2, 'created': '2021-06-25 13:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7906147011d57f8a41ea531a171352ef25577493', 'message': 'Add Ceph version check\n\nCephFS drivers in OpenStack Manila are directing\nmgr commands to the mgr by specifying mon-mgr as\nthe target [0]. This target (mon-mgr) was added\nto Ceph in Octopus [1].\n\nWe would need a version check in order to set the\ncorrect target while we wait on the backport on Ceph\nto land [2].\n\n[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119\n[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538\n[2] https://tracker.ceph.com/issues/51039\n\nCloses-Bug: #1930459\nChange-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e\n'}, {'number': 3, 'created': '2021-06-28 11:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5fd38b228f40349e06cc1ab8f456f3c21f65c9a0', 'message': 'Add Ceph version check\n\nCephFS drivers in OpenStack Manila are directing\nmgr commands to the mgr by specifying mon-mgr as\nthe target [0]. This target (mon-mgr) was added\nto Ceph in Octopus [1].\n\nWe would need a version check in order to set the\ncorrect target while we wait on the backport on Ceph\nto land [2].\n\n[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119\n[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538\n[2] https://tracker.ceph.com/issues/51039\n\nCloses-Bug: #1930459\nChange-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e\n(cherry picked from commit 3ed02db00e3e8db9712582d00fe65ceefecbf162)\n'}, {'number': 4, 'created': '2021-07-02 12:14:37.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1930459-add-ceph-version-check-88eee324bc6134ea.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/16d888646f73c75b5b984816743ed32fddbda205', 'message': 'Add Ceph version check\n\nCephFS drivers in OpenStack Manila are directing\nmgr commands to the mgr by specifying mon-mgr as\nthe target [0]. This target (mon-mgr) was added\nto Ceph in Octopus [1].\n\nWe would need a version check in order to set the\ncorrect target while we wait on the backport on Ceph\nto land [2].\n\n[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119\n[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538\n[2] https://tracker.ceph.com/issues/51039\n\nCloses-Bug: #1930459\nChange-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e\n(cherry picked from commit 3ed02db00e3e8db9712582d00fe65ceefecbf162)\n'}]",0,797955,16d888646f73c75b5b984816743ed32fddbda205,30,4,4,6413,,,0,"Add Ceph version check

CephFS drivers in OpenStack Manila are directing
mgr commands to the mgr by specifying mon-mgr as
the target [0]. This target (mon-mgr) was added
to Ceph in Octopus [1].

We would need a version check in order to set the
correct target while we wait on the backport on Ceph
to land [2].

[0] https://github.com/openstack/manila/commit/3ea5d50a2383d298cf64db3c035a63865e091119
[1] https://github.com/ceph/ceph/commit/4000d500c0d2c017e7761a5592df1301d7f40538
[2] https://tracker.ceph.com/issues/51039

Closes-Bug: #1930459
Change-Id: I1a1079df8e104c5ddba29cb614eb4e02a304082e
(cherry picked from commit 3ed02db00e3e8db9712582d00fe65ceefecbf162)
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/797955/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1930459-add-ceph-version-check-88eee324bc6134ea.yaml']",3,99e67f0e6451b7a3a21cf908ae9ff2f2e1e4458e,bug/1930459,"--- fixes: - | A Ceph version check has been added as part of this change to address the absense of the mon-mgr target in Ceph Nautilus. With this change, Ceph Nautilus users can leverage their storage backend with the OpenStack manila Wallaby release.",,93,2
openstack%2Fswift~master~I0d519ebaaade35249fb7b17bd5f419ffdaa616c0,openstack/swift,master,I0d519ebaaade35249fb7b17bd5f419ffdaa616c0,reconstructor: Delay purging reverted non-durable datafiles,MERGED,2021-06-22 17:07:06.000000000,2021-07-02 19:11:29.000000000,2021-07-02 19:10:04.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 17:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/85a01c8aa1fa93edc953263baa0b1fccaa99b3ec', 'message': 'WIP: reconstructor: Delay purging reverted non-durable datafiles\n\nTODO:\n- unit test is_file_older\n- fix probe test\n\nThe reconstructor may revert a non-durable datafile concurrently with\nan object server PUT to the handoff that is about to make the datafile\ndurable.  This could previously lead to the reconstructor deleting the\nrecently written datafile before the object-server attempts to rename\nit to a durable datafile, and a traceback in the object server.\n\nThe reconstructor will now only remove reverted nondurable datafiles\nthat are older (according to mtime) than a period set by a new\nnondurable_purge_delay option (defaults to 60 seconds). More recent\nnondurable datafiles may be made durable or will remain on the handoff\nuntil a subsequent reconstructor cycle.\n\nChange-Id: I0d519ebaaade35249fb7b17bd5f419ffdaa616c0\n'}, {'number': 2, 'created': '2021-06-23 18:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a9cba500ef8d0cfaef7c9d14ba5e5b1a1a5cdfc', 'message': 'reconstructor: Delay purging reverted non-durable datafiles\n\nThe reconstructor may revert a non-durable datafile on a handoff\nconcurrently with an object server PUT that is about to make the\ndatafile durable.  This could previously lead to the reconstructor\ndeleting the recently written datafile before the object-server\nattempts to rename it to a durable datafile, and consequently a\ntraceback in the object server.\n\nThe reconstructor will now only remove reverted nondurable datafiles\nthat are older (according to mtime) than a period set by a new\nnondurable_purge_delay option (defaults to 60 seconds). More recent\nnondurable datafiles may be made durable or will remain on the handoff\nuntil a subsequent reconstructor cycle.\n\nChange-Id: I0d519ebaaade35249fb7b17bd5f419ffdaa616c0\n'}, {'number': 3, 'created': '2021-06-24 10:02:11.000000000', 'files': ['test/probe/test_reconstructor_revert.py', 'swift/obj/reconstructor.py', 'swift/common/utils.py', 'test/unit/common/test_utils.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2934818d608e6cedd30ecb81900d02969476275c', 'message': 'reconstructor: Delay purging reverted non-durable datafiles\n\nThe reconstructor may revert a non-durable datafile on a handoff\nconcurrently with an object server PUT that is about to make the\ndatafile durable.  This could previously lead to the reconstructor\ndeleting the recently written datafile before the object-server\nattempts to rename it to a durable datafile, and consequently a\ntraceback in the object server.\n\nThe reconstructor will now only remove reverted nondurable datafiles\nthat are older (according to mtime) than a period set by a new\nnondurable_purge_delay option (defaults to 60 seconds). More recent\nnondurable datafiles may be made durable or will remain on the handoff\nuntil a subsequent reconstructor cycle.\n\nChange-Id: I0d519ebaaade35249fb7b17bd5f419ffdaa616c0\n'}]",6,797515,2934818d608e6cedd30ecb81900d02969476275c,15,2,3,7847,,,0,"reconstructor: Delay purging reverted non-durable datafiles

The reconstructor may revert a non-durable datafile on a handoff
concurrently with an object server PUT that is about to make the
datafile durable.  This could previously lead to the reconstructor
deleting the recently written datafile before the object-server
attempts to rename it to a durable datafile, and consequently a
traceback in the object server.

The reconstructor will now only remove reverted nondurable datafiles
that are older (according to mtime) than a period set by a new
nondurable_purge_delay option (defaults to 60 seconds). More recent
nondurable datafiles may be made durable or will remain on the handoff
until a subsequent reconstructor cycle.

Change-Id: I0d519ebaaade35249fb7b17bd5f419ffdaa616c0
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/797515/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/obj/reconstructor.py', 'etc/object-server.conf-sample', 'swift/obj/diskfile.py', 'test/unit/obj/test_reconstructor.py']",5,85a01c8aa1fa93edc953263baa0b1fccaa99b3ec,p-min-nondurable-age,"from swift.common.utils import dump_recon_cache, md5, Timestamp self._create_diskfile( part=part_num, object_name='o' + str(obj_set), policy=policy, frag_index=scenarios[part_num](obj_set), timestamp=utils.Timestamp(t)) frag_index=0, timestamp=None, test_data=None, commit=True): commit=commit, legacy_durable=self.legacy_durable) def __init__(self, daemon, node, job, suffixes, include_non_durable=False, **kwargs): frag_prefs = [] if include_non_durable else None frag_index=self.job.get('frag_index'), frag_prefs=frag_prefs) context['include_non_durable'] = include_non_durable def test_delete_reverted_nondurable(self): # verify reconstructor only deletes reverted nondurable fragments after # nondurable_purge_delay shutil.rmtree(self.ec_obj_path) ips = utils.whataremyips(self.reconstructor.bind_ip) local_devs = [dev for dev in self.ec_obj_ring.devs if dev and dev['replication_ip'] in ips and dev['replication_port'] == self.reconstructor.port] partition = (local_devs[0]['id'] + 1) % 3 # recent non-durable df_recent = self._create_diskfile( object_name='recent', part=partition, commit=False) datafile_recent = df_recent.manager.cleanup_ondisk_files( df_recent._datadir, frag_prefs=[])['data_file'] # older non-durable but with recent mtime df_older = self._create_diskfile( object_name='older', part=partition, commit=False, timestamp=Timestamp(time.time() - 61)) datafile_older = df_older.manager.cleanup_ondisk_files( df_older._datadir, frag_prefs=[])['data_file'] # durable df_durable = self._create_diskfile( object_name='durable', part=partition, commit=True) datafile_durable = df_durable.manager.cleanup_ondisk_files( df_durable._datadir, frag_prefs=[])['data_file'] self.assertTrue(os.path.exists(datafile_recent)) self.assertTrue(os.path.exists(datafile_older)) self.assertTrue(os.path.exists(datafile_durable)) ssync_calls = [] with mock.patch('swift.obj.reconstructor.ssync_sender', self._make_fake_ssync(ssync_calls)): self.reconstructor.handoffs_only = True self.reconstructor.reconstruct() for context in ssync_calls: self.assertEqual(REVERT, context['job']['job_type']) self.assertTrue(True, context.get('include_non_durable')) # neither nondurable should be removed yet with default purge delay # because their mtimes are too recent self.assertTrue(os.path.exists(datafile_recent)) self.assertTrue(os.path.exists(datafile_older)) # but durable is purged self.assertFalse(os.path.exists(datafile_durable)) ssync_calls = [] with mock.patch('swift.obj.reconstructor.ssync_sender', self._make_fake_ssync(ssync_calls)): self.reconstructor.handoffs_only = True # turn down the purge delay... self.reconstructor.nondurable_purge_delay = 0 self.reconstructor.reconstruct() for context in ssync_calls: self.assertEqual(REVERT, context['job']['job_type']) self.assertTrue(True, context.get('include_non_durable')) # ...now the nondurables get purged self.assertFalse(os.path.exists(datafile_recent)) self.assertFalse(os.path.exists(datafile_older)) for hash_, ts in hash_gen: self.fail('found %s : %s' % (hash_, ts))","from swift.common.utils import dump_recon_cache, md5 def _create_df(obj_num, part_num): self._create_diskfile( part=part_num, object_name='o' + str(obj_set), policy=policy, frag_index=scenarios[part_num](obj_set), timestamp=utils.Timestamp(t)) _create_df(obj_num, part_num) frag_index=0, timestamp=None, test_data=None): legacy_durable=self.legacy_durable) def __init__(self, daemon, node, job, suffixes, **kwargs): frag_index=self.job.get('frag_index')) context.update(kwargs) for path, hash_, ts in hash_gen: self.fail('found %s with %s in %s' % (hash_, ts, path))",117,20
openstack%2Fmanila~stable%2Fwallaby~I3e6170f8def53aabd4bc5858fa297061e2873477,openstack/manila,stable/wallaby,I3e6170f8def53aabd4bc5858fa297061e2873477,TrivialFix: Fix the filter name in config helper,MERGED,2021-07-02 04:54:07.000000000,2021-07-02 19:09:07.000000000,2021-07-02 19:07:54.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-07-02 04:54:07.000000000', 'files': ['manila/share/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a', 'message': 'TrivialFix: Fix the filter name in config helper\n\nThe config `use_scheduler_creating_share_from_snapshot` has the\nhelp message with wrong name of the scheduler filter that the user must\nenable with the option. The filter name is `CreateFromSnapshotFilter`,\ninstead of `CreateShareFromSnapshot`.\n\nChange-Id: I3e6170f8def53aabd4bc5858fa297061e2873477\n(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)\n'}]",0,799137,f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a,12,3,1,16643,,,0,"TrivialFix: Fix the filter name in config helper

The config `use_scheduler_creating_share_from_snapshot` has the
help message with wrong name of the scheduler filter that the user must
enable with the option. The filter name is `CreateFromSnapshotFilter`,
instead of `CreateShareFromSnapshot`.

Change-Id: I3e6170f8def53aabd4bc5858fa297061e2873477
(cherry picked from commit 854b1dc958db4bd903e7b3c69c242295ad1518bd)
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/799137/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/api.py'],1,f1822cf40a736fcf9a7e9c849e38a97cee9d5a6a,, 'CreateFromSnapshotFilter is enabled and to have hosts ', 'CreateShareFromSnapshot is enabled and to have hosts ',1,1
openstack%2Fneutron~stable%2Fvictoria~I40761b30563749251b9d74731bbe7a80a124da89,openstack/neutron,stable/victoria,I40761b30563749251b9d74731bbe7a80a124da89,Copy existing IPv6 leases to generated lease file,MERGED,2021-07-01 15:23:57.000000000,2021-07-02 18:31:48.000000000,2021-07-02 18:29:25.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:23:57.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9b1f05def90f755947198e2adba24ea8f8a952b', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}]",0,799068,f9b1f05def90f755947198e2adba24ea8f8a952b,12,3,1,11290,,,0,"Copy existing IPv6 leases to generated lease file

Because the DHCP agent does not know the IAID (identity association
identifier) of assigned IPv6 addresses it's not possible to generate the
lease file including IPv6 leases. Because of this IPv6 addresses are
excluded when generating the lease file in case of DHCP agent restarts.
This causes DHCPv6 clients to fail to RENEW their lease and to go
through a full address discovery cycle with possible short connectivity
disruption.

This commit copies the existing IPv6 leaes from an already existing
lease file if present. While this does not allow for DHCP agent
failover, this is still better than just skipping the IPv6 addresses.

A lease file without the IPv6 addresses is still generated if an agent
is migrated to a different host.

This commit complements the fix implemented in
Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6
leases as otherwise the lease file would be invalid and all leases would
be lost. It does not change the behavior for still valid IPv4 leases.

With this issue fixed an additional fix is required to not loose DHCPv6
leases when the agent restarts dnsmasq. Currently the DHCP agent
regenerates all configuration files on restart. This means that DHCPv6
leases are lost as they can't be regenerated. This changes the agent to
only delete the config files if the agent's ports are also removed.

Closes-Bug: #1722126
Related-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e

Change-Id: I40761b30563749251b9d74731bbe7a80a124da89
(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/799068/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,f9b1f05def90f755947198e2adba24ea8f8a952b,bugfix/1722126-stable/wallaby-stable/victoria," self._remove_config_files() dhcpv6_enabled_subnet_ids = [ s.id for s in self._get_all_subnets(self.network) if s.enable_dhcp and s.ip_version == constants.IP_VERSION_6] existing_ipv6_leases = {} if os.path.isfile(filename): # The IPv6 leases can't be generated as their IAID is unknown. To # not loose active leases, read the existing leases and add them to # the generated file. LOG.debug('Reading IPv6 leases from existing lease file.') with open(filename) as leasefile: for line in leasefile: if line.startswith('duid '): # Keep the DUID buf.write(line) continue try: ts, mac, ip, host, iaid = line.split(' ') except ValueError: # not the correct format for a lease, skip this line continue if netaddr.valid_ipv6(ip): existing_ipv6_leases[netaddr.IPAddress(ip)] = line if no_dhcp: if alloc.subnet_id in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address)) elif (alloc.subnet_id in dhcpv6_enabled_subnet_ids and netaddr.IPAddress(alloc.ip_address) in existing_ipv6_leases): # Keep the existing IPv6 lease if the port still exists and is # still configured for DHCPv6 buf.write( existing_ipv6_leases[netaddr.IPAddress(alloc.ip_address)] ) "," self._remove_config_files() # don't write ip address which belongs to a dhcp disabled subnet # or an IPv6 subnet. if no_dhcp or alloc.subnet_id not in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address))",105,8
openstack%2Fpython-openstackclient~master~I3795142318b63b7c8f836d78a415a2161f61164d,openstack/python-openstackclient,master,I3795142318b63b7c8f836d78a415a2161f61164d,compute: Fix typo,MERGED,2021-06-02 11:17:53.000000000,2021-07-02 18:31:31.000000000,2021-07-02 18:29:30.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-02 11:17:53.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d08795271783cc6fc912ce99aef932d93dc60c47', 'message': 'compute: Fix typo\n\nChange-Id: I3795142318b63b7c8f836d78a415a2161f61164d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,794204,d08795271783cc6fc912ce99aef932d93dc60c47,8,3,1,15334,,,0,"compute: Fix typo

Change-Id: I3795142318b63b7c8f836d78a415a2161f61164d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/794204/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,d08795271783cc6fc912ce99aef932d93dc60c47,trivial, 'destination_type=<destination_type>: destination type ', 'destination_typ=<destination_type>: destination type ',1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I08fa1ee947574e6fac24885b17706a22054fcba9,openstack/tripleo-heat-templates,stable/wallaby,I08fa1ee947574e6fac24885b17706a22054fcba9,Remove NovaVncProxyNetwork from ServiceNetMap,MERGED,2021-06-30 09:04:02.000000000,2021-07-02 18:29:58.000000000,2021-07-02 18:29:58.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-30 09:04:02.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nConflicts:\n    network/service_net_map.j2.yaml\n    overcloud-resource-registry-puppet.j2.yaml\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)\n'}]",0,798805,2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05,10,7,1,17216,,,0,"Remove NovaVncProxyNetwork from ServiceNetMap

In Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use
NovaLibvirtNetwork as the single network to configure instance console
components.
Due to how hieradata is being rendered via tripleo-hieradata, the
removed NovaVncProxyNetwork resulted in no-vnc-proxy service to
fall back to the control plane network because NovaVncProxyNetwork
was removed.
NovaVncProxyNetwork was then reintroduced with
I595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect
again introduced the inconsistency on the console configuration.

This patch removes the NovaVncProxyNetwork from ServiceNetMap
but set it as part of service_net_map.j2.yaml and keep it in
sync with NovaLibvirtNetwork.

Conflicts:
    network/service_net_map.j2.yaml
    overcloud-resource-registry-puppet.j2.yaml

Change-Id: I08fa1ee947574e6fac24885b17706a22054fcba9
Closes-Bug: #1917719
(cherry picked from commit 9da8a405952623e42f52e13ac948da1e57cf6906)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/798805/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,2f0689d8d7e4078c4e9c025c3deb9b9e0a638d05,1917719-2-w," - if: # (mschuppert) this is to keep NovaVncProxyNetwork and NovaLibvirtNetwork # in sync to not break VNC console - not: {equals : [{get_param: [ServiceNetMap, NovaLibvirtNetwork]}, '']} - NovaVncProxyNetwork: { get_param: [ServiceNetMap, NovaLibvirtNetwork] } - NovaVncProxyNetwork: { get_param: [ServiceNetMapDefaults, NovaLibvirtNetwork] }"," NovaVncProxyNetwork: {{ _service_nets.get('internal_api', 'ctlplane') }}",6,1
openstack%2Ftripleo-quickstart-extras~master~I8008344f215be6a54e00d7d27b697375b7f88f0f,openstack/tripleo-quickstart-extras,master,I8008344f215be6a54e00d7d27b697375b7f88f0f,CI use '--skip-nodes-and-networks' in oc deploy,MERGED,2021-06-29 07:51:55.000000000,2021-07-02 18:29:48.000000000,2021-07-02 18:29:48.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 07:51:55.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a48818b80303218b22bc7f92dc472856d541af80', 'message': ""CI use '--skip-nodes-and-networks' in oc deploy\n\nSince the CI run's the commands to provision networks,\nvirtual IPs and baremetal nodes individually prior to\nrunning overcloud deploy we can disable these steps\nwhen running overcloud deploy.\n\nNOTE: 'network_provison' is only set to True for Wallaby\nand later releases.\n\nDepends-On: I2fa073863f2d292575ee1dbdc0da271434f219f6\nChange-Id: I8008344f215be6a54e00d7d27b697375b7f88f0f\n""}]",0,798430,a48818b80303218b22bc7f92dc472856d541af80,19,5,1,24245,,,0,"CI use '--skip-nodes-and-networks' in oc deploy

Since the CI run's the commands to provision networks,
virtual IPs and baremetal nodes individually prior to
running overcloud deploy we can disable these steps
when running overcloud deploy.

NOTE: 'network_provison' is only set to True for Wallaby
and later releases.

Depends-On: I2fa073863f2d292575ee1dbdc0da271434f219f6
Change-Id: I8008344f215be6a54e00d7d27b697375b7f88f0f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/30/798430/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'],1,a48818b80303218b22bc7f92dc472856d541af80,network-data-v2, {% if network_provision|bool %}--skip-nodes-and-networks{% endif %} \,,1,0
openstack%2Ftosca-parser~master~I18ba70140f9b2b53f2e97e70f64973af9d8953be,openstack/tosca-parser,master,I18ba70140f9b2b53f2e97e70f64973af9d8953be,"import ""collections.abc"" explicitly",MERGED,2021-07-02 11:50:53.000000000,2021-07-02 18:18:56.000000000,2021-07-02 18:17:42.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-07-02 11:50:53.000000000', 'files': ['toscaparser/utils/validateutils.py', 'toscaparser/elements/constraints.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/92a3e697cb6da551fdfc5051e9269746e4cc9597', 'message': 'import ""collections.abc"" explicitly\n\nThe Collections Abstract Base Classes is moved to the\ncollections.abc module, which was earlier part of the\ncollections module[1].\n\nThe python3 reports a warning for the same-\nDeprecationWarning: Using or importing the ABCs from\n\'collections\' instead of from \'collections.abc\' is\ndeprecated since Python 3.3, and in 3.10 it will stop working.\n\nThis patch updates to import collection.abc module explicitly.\n\n[1] https://docs.python.org/3/library/collections.abc.html\n\nChange-Id: I18ba70140f9b2b53f2e97e70f64973af9d8953be\n'}]",0,799199,92a3e697cb6da551fdfc5051e9269746e4cc9597,8,5,1,32102,,,0,"import ""collections.abc"" explicitly

The Collections Abstract Base Classes is moved to the
collections.abc module, which was earlier part of the
collections module[1].

The python3 reports a warning for the same-
DeprecationWarning: Using or importing the ABCs from
'collections' instead of from 'collections.abc' is
deprecated since Python 3.3, and in 3.10 it will stop working.

This patch updates to import collection.abc module explicitly.

[1] https://docs.python.org/3/library/collections.abc.html

Change-Id: I18ba70140f9b2b53f2e97e70f64973af9d8953be
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/99/799199/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/utils/validateutils.py', 'toscaparser/elements/constraints.py']",2,92a3e697cb6da551fdfc5051e9269746e4cc9597,import_collection_abc,"import collections.abcclass Schema(collections.abc.Mapping): if not isinstance(schema_dict, collections.abc.Mapping): if(not isinstance(constraint, collections.abc.Mapping) or if(not isinstance(self.constraint_value, collections.abc.Sequence) or if not isinstance(self.constraint_value, collections.abc.Sequence):","import collectionsclass Schema(collections.Mapping): if not isinstance(schema_dict, collections.Mapping): if(not isinstance(constraint, collections.Mapping) or if(not isinstance(self.constraint_value, collections.Sequence) or if not isinstance(self.constraint_value, collections.Sequence):",8,8
openstack%2Fswift~master~I24e7ceacd5e06674ec5389aa92bc4892c066518f,openstack/swift,master,I24e7ceacd5e06674ec5389aa92bc4892c066518f,Add an audit watcher to check partition numbers,NEW,2021-04-01 19:44:21.000000000,2021-07-02 18:03:24.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 19:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b7d319a36092bd8a6458282fef7012aa1bdd9671', 'message': ""Add an audit watcher to check partition numbers\n\nIf you fail to properly cleanup during a part power increase, you may\nhave a bunch of diskfiles scattered throughout your cluster with the\nwrong partition. Currently, the auditor doesn't do anything about them;\nit'd be nice to at least log about the issue.\n\nChange-Id: I24e7ceacd5e06674ec5389aa92bc4892c066518f\n""}, {'number': 2, 'created': '2021-06-29 22:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0a073f79a7181329820aa07b159bfa6291913fab', 'message': ""Add an audit watcher to check partition numbers\n\nIf you fail to properly cleanup during a part power increase, you may\nhave a bunch of diskfiles scattered throughout your cluster with the\nwrong partition. Currently, the auditor doesn't do anything about them;\nit'd be nice to at least log about the issue.\n\nChange-Id: I24e7ceacd5e06674ec5389aa92bc4892c066518f\n""}, {'number': 3, 'created': '2021-07-01 22:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f0ea9d2d6255f0e471fd8670efdf8433dd247411', 'message': ""Add an audit watcher to check partition numbers\n\nIf you fail to properly cleanup during a part power increase, you may\nhave a bunch of diskfiles scattered throughout your cluster with the\nwrong partition. Currently, the auditor doesn't do anything about them;\nit'd be nice to at least log about the issue.\n\nChange-Id: I24e7ceacd5e06674ec5389aa92bc4892c066518f\n""}, {'number': 4, 'created': '2021-07-02 16:10:31.000000000', 'files': ['test/unit/obj/watchers/test_ppi_detritus.py', 'swift/obj/watchers/ppi_detritus.py', 'swift/common/ring/ring.py', 'setup.cfg', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/ade72d4d97e96332bb236a74d85a757ef2c9ade2', 'message': ""Add an audit watcher to check partition numbers\n\nIf you fail to properly cleanup during a part power increase, you may\nhave a bunch of diskfiles scattered throughout your cluster with the\nwrong partition. Currently, the auditor doesn't do anything about them;\nit'd be nice to at least log about the issue.\n\nChange-Id: I24e7ceacd5e06674ec5389aa92bc4892c066518f\n""}]",15,784471,ade72d4d97e96332bb236a74d85a757ef2c9ade2,20,2,4,15343,,,0,"Add an audit watcher to check partition numbers

If you fail to properly cleanup during a part power increase, you may
have a bunch of diskfiles scattered throughout your cluster with the
wrong partition. Currently, the auditor doesn't do anything about them;
it'd be nice to at least log about the issue.

Change-Id: I24e7ceacd5e06674ec5389aa92bc4892c066518f
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/784471/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/watchers/ppi_detritus.py', 'swift/common/ring/ring.py', 'setup.cfg', 'etc/object-server.conf-sample']",4,b7d319a36092bd8a6458282fef7012aa1bdd9671,,# # [object-auditor:watcher:swift#ppi_detritus] # reload_time = 10.0,,116,2
openstack%2Fneutron~stable%2Fwallaby~I40761b30563749251b9d74731bbe7a80a124da89,openstack/neutron,stable/wallaby,I40761b30563749251b9d74731bbe7a80a124da89,Copy existing IPv6 leases to generated lease file,MERGED,2021-07-01 15:17:00.000000000,2021-07-02 17:58:35.000000000,2021-07-02 17:57:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:17:00.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ede99559b32d608efef3f2c2272262a4b776f23', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}]",0,799067,2ede99559b32d608efef3f2c2272262a4b776f23,14,3,1,11290,,,0,"Copy existing IPv6 leases to generated lease file

Because the DHCP agent does not know the IAID (identity association
identifier) of assigned IPv6 addresses it's not possible to generate the
lease file including IPv6 leases. Because of this IPv6 addresses are
excluded when generating the lease file in case of DHCP agent restarts.
This causes DHCPv6 clients to fail to RENEW their lease and to go
through a full address discovery cycle with possible short connectivity
disruption.

This commit copies the existing IPv6 leaes from an already existing
lease file if present. While this does not allow for DHCP agent
failover, this is still better than just skipping the IPv6 addresses.

A lease file without the IPv6 addresses is still generated if an agent
is migrated to a different host.

This commit complements the fix implemented in
Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6
leases as otherwise the lease file would be invalid and all leases would
be lost. It does not change the behavior for still valid IPv4 leases.

With this issue fixed an additional fix is required to not loose DHCPv6
leases when the agent restarts dnsmasq. Currently the DHCP agent
regenerates all configuration files on restart. This means that DHCPv6
leases are lost as they can't be regenerated. This changes the agent to
only delete the config files if the agent's ports are also removed.

Closes-Bug: #1722126
Related-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e

Change-Id: I40761b30563749251b9d74731bbe7a80a124da89
(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/799067/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,2ede99559b32d608efef3f2c2272262a4b776f23,bugfix/1722126-stable/wallaby," self._remove_config_files() dhcpv6_enabled_subnet_ids = [ s.id for s in self._get_all_subnets(self.network) if s.enable_dhcp and s.ip_version == constants.IP_VERSION_6] existing_ipv6_leases = {} if os.path.isfile(filename): # The IPv6 leases can't be generated as their IAID is unknown. To # not loose active leases, read the existing leases and add them to # the generated file. LOG.debug('Reading IPv6 leases from existing lease file.') with open(filename) as leasefile: for line in leasefile: if line.startswith('duid '): # Keep the DUID buf.write(line) continue try: ts, mac, ip, host, iaid = line.split(' ') except ValueError: # not the correct format for a lease, skip this line continue if netaddr.valid_ipv6(ip): existing_ipv6_leases[netaddr.IPAddress(ip)] = line if no_dhcp: if alloc.subnet_id in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address)) elif (alloc.subnet_id in dhcpv6_enabled_subnet_ids and netaddr.IPAddress(alloc.ip_address) in existing_ipv6_leases): # Keep the existing IPv6 lease if the port still exists and is # still configured for DHCPv6 buf.write( existing_ipv6_leases[netaddr.IPAddress(alloc.ip_address)] ) "," self._remove_config_files() # don't write ip address which belongs to a dhcp disabled subnet # or an IPv6 subnet. if no_dhcp or alloc.subnet_id not in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address))",105,8
openstack%2Fironic-inspector~master~I04ae1d54028862642d043f3a8f3af99405863325,openstack/ironic-inspector,master,I04ae1d54028862642d043f3a8f3af99405863325,Ignored error state cache for new requests,MERGED,2021-04-07 17:51:19.000000000,2021-07-02 17:19:52.000000000,2021-07-02 17:18:21.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-04-07 17:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5c8fabaaf5d8aacaba227987728e1c8f787776f1', 'message': 'WIP: ignored error state cache for new requests\n\nA possibility exists where inspector *can* fail upon inspection if\nthe database connectivity was lost on a prior action. This is because\nthe last database transport is potentially bad and fails upon load for\nthe transaction. The cache can then end up with an ""error"" state entry,\nwhich upon retrying can fail becasue it is already in error state\n\nBecause there really are no guarentees regarding database failures,\nthe best thing to do is to not trust the prior cache state if it is\nin error and to reset it to starting upon new introspection requests.\nThis prevents operators from *having* to perform process restarts to\nforce all loads to be from the database unless they manage to have a\nmulti-inspector cluster and get another inspector node to inspect in\nthe mean time.\n\nChange-Id: I04ae1d54028862642d043f3a8f3af99405863325\nStory: 2008344\nTask: 41246\n'}, {'number': 2, 'created': '2021-04-09 15:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ffec23b9b811e5f2830200636bb3ddb6b7befdb5', 'message': 'Ignored error state cache for new requests\n\nA possibility exists where inspector *can* fail upon inspection if\nthe database connectivity was lost on a prior action. This is because\nthe last database transport is potentially bad and fails upon load for\nthe transaction. The cache can then end up with an ""error"" state entry,\nwhich upon retrying can fail becasue it is already in error state\n\nBecause there really are no guarentees regarding database failures,\nthe best thing to do is to not trust the prior cache state if it is\nin error and to reset it to starting upon new introspection requests.\nThis prevents operators from *having* to perform process restarts to\nforce all loads to be from the database unless they manage to have a\nmulti-inspector cluster and get another inspector node to inspect in\nthe mean time.\n\nChange-Id: I04ae1d54028862642d043f3a8f3af99405863325\nStory: 2008344\nTask: 41246\nRelated: rhbz#1947147\n'}, {'number': 3, 'created': '2021-06-09 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ab24980cb8d7530719a8dbe560d0af2c9c8baad6', 'message': 'Ignored error state cache for new requests\n\nA possibility exists where inspector *can* fail upon inspection if\nthe database connectivity was lost on a prior action. This is because\nthe last database transport is potentially bad and fails upon load for\nthe transaction. The cache can then end up with an ""error"" state entry,\nwhich upon retrying can fail becasue it is already in error state\n\nBecause there really are no guarentees regarding database failures,\nthe best thing to do is to not trust the prior cache state if it is\nin error and to reset it to starting upon new introspection requests.\nThis prevents operators from *having* to perform process restarts to\nforce all loads to be from the database unless they manage to have a\nmulti-inspector cluster and get another inspector node to inspect in\nthe mean time.\n\nChange-Id: I04ae1d54028862642d043f3a8f3af99405863325\nStory: 2008344\nTask: 41246\nRelated: rhbz#1947147\n'}, {'number': 4, 'created': '2021-06-25 13:13:50.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/fix-cache-error-on-start-27f492ba863d5f92.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d972dc93cd4e2b8fdc66e1fd69a2e947de5810cc', 'message': 'Ignored error state cache for new requests\n\nA possibility exists where inspector *can* fail upon inspection if\nthe database connectivity was lost on a prior action. This is because\nthe last database transport is potentially bad and fails upon load for\nthe transaction. The cache can then end up with an ""error"" state entry,\nwhich upon retrying can fail becasue it is already in error state\n\nBecause there really are no guarentees regarding database failures,\nthe best thing to do is to not trust the prior cache state if it is\nin error and to reset it to starting upon new introspection requests.\nThis prevents operators from *having* to perform process restarts to\nforce all loads to be from the database unless they manage to have a\nmulti-inspector cluster and get another inspector node to inspect in\nthe mean time.\n\nChange-Id: I04ae1d54028862642d043f3a8f3af99405863325\nStory: 2008344\nTask: 41246\nRelated: rhbz#1947147\n'}]",4,785245,d972dc93cd4e2b8fdc66e1fd69a2e947de5810cc,19,6,4,11655,,,0,"Ignored error state cache for new requests

A possibility exists where inspector *can* fail upon inspection if
the database connectivity was lost on a prior action. This is because
the last database transport is potentially bad and fails upon load for
the transaction. The cache can then end up with an ""error"" state entry,
which upon retrying can fail becasue it is already in error state

Because there really are no guarentees regarding database failures,
the best thing to do is to not trust the prior cache state if it is
in error and to reset it to starting upon new introspection requests.
This prevents operators from *having* to perform process restarts to
force all loads to be from the database unless they manage to have a
multi-inspector cluster and get another inspector node to inspect in
the mean time.

Change-Id: I04ae1d54028862642d043f3a8f3af99405863325
Story: 2008344
Task: 41246
Related: rhbz#1947147
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/45/785245/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/node_cache.py'],1,5c8fabaaf5d8aacaba227987728e1c8f787776f1,," recorded_state = node_info.state if istate.States.error == recorded_state: # If there was a failure, return to starting state to avoid # letting the cache block new runs from occuring. state = istate.States.starting else: state = recorded_state", state = node_info.state,7,1
openstack%2Fcharm-ceph-mon~master~I1651a644ae99228d94de224aef110f6a1835d635,openstack/charm-ceph-mon,master,I1651a644ae99228d94de224aef110f6a1835d635,Add impish to metadata.yaml,MERGED,2021-06-03 09:08:04.000000000,2021-07-02 17:15:53.000000000,2021-07-02 17:15:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 09:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/58f9be310339b929aec991bfae86ac417361803b', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I1651a644ae99228d94de224aef110f6a1835d635\n'}, {'number': 2, 'created': '2021-06-22 09:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/eff076f2f4d2ed8e2cc3af5d64bac1e3403e0db8', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I1651a644ae99228d94de224aef110f6a1835d635\n'}, {'number': 3, 'created': '2021-07-02 09:10:07.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e035bf9cabe65f77694410034021fcdbc67514f3', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I1651a644ae99228d94de224aef110f6a1835d635\n'}]",0,794484,e035bf9cabe65f77694410034021fcdbc67514f3,16,3,3,31289,,,0,"Add impish to metadata.yaml

Change-Id: I1651a644ae99228d94de224aef110f6a1835d635
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/84/794484/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,58f9be310339b929aec991bfae86ac417361803b,charm-metadata-impish,- impish,,1,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,stable/victoria,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-22 06:29:48.000000000,2021-07-02 17:14:38.000000000,2021-07-02 17:12:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 06:29:48.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b83ea314913bcdecdfa49a51df14b003d7847d53', 'message': 'Drop support for Cinder ZFSSA backend\n\nFollowing upstream which removed ZFSSA support in Ussuri [1].\n\n[1] https://review.opendev.org/c/openstack/cinder/+/690137\n\nChange-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5\n(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)\n'}]",0,797396,b83ea314913bcdecdfa49a51df14b003d7847d53,9,3,1,30491,,,0,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/797396/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'etc/kolla/passwords.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml']",7,b83ea314913bcdecdfa49a51df14b003d7847d53,drop-zfssa-stable/wallaby-stable/victoria,"#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool }}""","#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool or enable_cinder_backend_zfssa_iscsi | bool }}""#enable_cinder_backend_zfssa_iscsi: ""no""",7,38
openstack%2Fmanila~master~Iab6d96351fa21131d834ccf07ffddd70555f25a7,openstack/manila,master,Iab6d96351fa21131d834ccf07ffddd70555f25a7,Fix ipaddress issues in the infinidat driver,MERGED,2021-07-01 17:39:19.000000000,2021-07-02 17:14:21.000000000,2021-07-02 00:54:34.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-01 17:39:19.000000000', 'files': ['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1161a56a74b0fd926c20a63242af9dc852f56401', 'message': 'Fix ipaddress issues in the infinidat driver\n\nIn python3.8.11 and python3.9.6, the behavior of the\nipaddress.ip_network.hosts() method changed. Now /32\naddresses are returned by that method as a single\nelement list. This was apparently done as a bugfix [1]\n\nChange-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7\nCloses-Bug: #1934345\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n[1] https://bugs.python.org/issue27683\n'}]",0,799107,1161a56a74b0fd926c20a63242af9dc852f56401,16,4,1,16643,,,0,"Fix ipaddress issues in the infinidat driver

In python3.8.11 and python3.9.6, the behavior of the
ipaddress.ip_network.hosts() method changed. Now /32
addresses are returned by that method as a single
element list. This was apparently done as a bugfix [1]

Change-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7
Closes-Bug: #1934345
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
[1] https://bugs.python.org/issue27683
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/799107/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py']",2,1161a56a74b0fd926c20a63242af9dc852f56401,bug/1934345," if len(ip_network_hosts) < 2: # /32, single IP address"," if len(ip_network_hosts) == 0: # /32, single IP address",7,1
openstack%2Fkolla-ansible~stable%2Fussuri~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,stable/ussuri,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-22 06:32:47.000000000,2021-07-02 17:12:08.000000000,2021-07-02 17:10:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 06:32:47.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ac8b5749ddf089db8565d21a1136b8d92f809ef', 'message': 'Drop support for Cinder ZFSSA backend\n\nFollowing upstream which removed ZFSSA support in Ussuri [1].\n\n[1] https://review.opendev.org/c/openstack/cinder/+/690137\n\nChange-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5\n(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)\n'}]",0,797397,2ac8b5749ddf089db8565d21a1136b8d92f809ef,9,3,1,30491,,,0,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/797397/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'etc/kolla/passwords.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml']",7,2ac8b5749ddf089db8565d21a1136b8d92f809ef,drop-zfssa-stable/wallaby-stable/victoria-stable/ussuri,"#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool }}""","#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool or enable_cinder_backend_zfssa_iscsi | bool }}""#enable_cinder_backend_zfssa_iscsi: ""no""",7,38
openstack%2Fopenstack-ansible~stable%2Fvictoria~Id191e07eab2bef84dad30e55f59fd914b0358bfe,openstack/openstack-ansible,stable/victoria,Id191e07eab2bef84dad30e55f59fd914b0358bfe,Integrate cloudkitty,MERGED,2021-06-18 13:08:01.000000000,2021-07-02 17:05:04.000000000,2021-07-02 17:01:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-18 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/35811e4ef0b98f32fc67abecd138cb24b5a6b7dc', 'message': 'Integrate cloudkitty\n\nIntegrate the required bits to make Cloudkitty deploy without having\nto hand-pick files from the os_cloudkitty repo\n\nChange-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe\n(cherry picked from commit 77068780b2de1734148549e3260240ecb58ddbe9)\n'}, {'number': 2, 'created': '2021-06-18 13:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b52df448d4ab7c2b57d20a166fdd5c9b85db74c', 'message': 'Integrate cloudkitty\n\nIntegrate the required bits to make Cloudkitty deploy without having\nto hand-pick files from the os_cloudkitty repo\n\nChange-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe\n(cherry picked from commit 77068780b2de1734148549e3260240ecb58ddbe9)\n'}, {'number': 3, 'created': '2021-06-30 09:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/16c2b693ed04269e4730289c1bc18c9243902fbb', 'message': 'Integrate cloudkitty\n\nIntegrate the required bits to make Cloudkitty deploy without having\nto hand-pick files from the os_cloudkitty repo\n\nChange-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe\n(cherry picked from commit 77068780b2de1734148549e3260240ecb58ddbe9)\n'}, {'number': 4, 'created': '2021-07-02 11:18:31.000000000', 'files': ['inventory/env.d/cloudkitty.yml', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'releasenotes/notes/integrate-cloudkitty-775a9c3ef32d4976.yaml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.example', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_secrets.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/group_vars/horizon_all.yml', 'inventory/inventory.ini', 'playbooks/setup-openstack.yml', 'tests/test_inventory.py', 'zuul.d/jobs.yaml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.aio', 'playbooks/os-cloudkitty-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf7ad3f1948924800b3addd9fa60762d82ac8809', 'message': 'Integrate cloudkitty\n\nIntegrate the required bits to make Cloudkitty deploy without having\nto hand-pick files from the os_cloudkitty repo\n\nChange-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe\n(cherry picked from commit 77068780b2de1734148549e3260240ecb58ddbe9)\n'}]",0,797030,cf7ad3f1948924800b3addd9fa60762d82ac8809,14,3,4,18279,,,0,"Integrate cloudkitty

Integrate the required bits to make Cloudkitty deploy without having
to hand-pick files from the os_cloudkitty repo

Change-Id: Id191e07eab2bef84dad30e55f59fd914b0358bfe
(cherry picked from commit 77068780b2de1734148549e3260240ecb58ddbe9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/797030/4 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/env.d/cloudkitty.yml', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.example', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_secrets.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'inventory/group_vars/horizon_all.yml', 'inventory/inventory.ini', 'playbooks/setup-openstack.yml', 'tests/test_inventory.py', 'zuul.d/jobs.yaml', 'etc/openstack_deploy/conf.d/cloudkitty.yml.aio', 'playbooks/os-cloudkitty-install.yml']",13,35811e4ef0b98f32fc67abecd138cb24b5a6b7dc,cloudkitty-stable/victoria,"--- # Copyright 2021, ELITS Cloud Services AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Gather cloudkitty facts hosts: cloudkitty_all gather_facts: ""{{ osa_gather_facts | default(True) }}"" tags: - always - name: Install cloudkitty services hosts: cloudkitty_all serial: ""{{ cloudkitty_api_serial | default(['1', '100%']) }}"" gather_facts: false user: root environment: ""{{ deployment_environment_variables | default({}) }}"" vars_files: - ""defaults/repo_packages/openstack_services.yml"" - ""defaults/{{ install_method }}_install.yml"" tags: - cloudkitty pre_tasks: # In order to ensure that any container, software or # config file changes which causes a container/service # restart do not cause an unexpected outage, we drain # the load balancer back end for this container. - include_tasks: common-tasks/haproxy-endpoint-manage.yml vars: haproxy_backend: cloudkitty_api-back haproxy_state: disabled when: - ""'cloudkitty_api' in group_names"" - ""groups['cloudkitty_api'] | length > 1"" - include_tasks: common-tasks/unbound-clients.yml when: - hostvars['localhost']['resolvconf_enabled'] | bool roles: - role: ""os_cloudkitty"" post_tasks: # Now that container changes are done, we can set # the load balancer back end for this container # to available again. - include_tasks: common-tasks/haproxy-endpoint-manage.yml vars: haproxy_backend: cloudkitty_api-back haproxy_state: enabled when: - ""'cloudkitty_api' in group_names"" - ""groups['cloudkitty_api'] | length > 1"" ",,169,0
openstack%2Fironic~master~Iac703d2a9b7b240a47477be8a64c7c33e28f692f,openstack/ironic,master,Iac703d2a9b7b240a47477be8a64c7c33e28f692f,Only return the requested fields from the DB,MERGED,2021-05-19 22:10:00.000000000,2021-07-02 17:05:01.000000000,2021-07-02 17:02:37.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 11816}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-05-19 22:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddcbbb28141fc3a1badb6528c191cfc8bcf186d4', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 2, 'created': '2021-05-20 15:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74e2fe4e5ca66152b721470b1659bea2cd80d36d', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 3, 'created': '2021-05-20 22:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6d1fcc60928cf757875ab6cce36f1cf6e1a8e05', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 4, 'created': '2021-05-21 22:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1267bdc4637fbcb1ad1b0806b3f9b7bbf8937a85', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 5, 'created': '2021-05-24 22:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/badcbb059888a17133189f0c094ada1c9a4222cf', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 6, 'created': '2021-06-01 22:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/04a4195ddc31d53a138157dfce65595243790f60', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 7, 'created': '2021-06-03 22:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b713750bb5150924e9ee1faf34d5be45597bbddb', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 8, 'created': '2021-06-04 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/584e70b447ee61dcd8306495ae8a1960bb4bee88', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 9, 'created': '2021-06-04 18:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c04b9258c705989e2edd7fdc3b73f9bf1de44728', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 10, 'created': '2021-06-17 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ee985e9889e1cdf0c066c7b8570309df90b121d', 'message': ""Only return the requested fields\n\nA major issue with sqlalchemy is the fact that whenever a model\nis interacted with, all fields are returned by the SQL database.\nAll fields are then converted to objects. Rinse/repeat, but on a\ntable such as the nodes table with a large number of fields, this\ncreates an exceptional amount of un-necessary work.\n\nTo lay this out:\n1) SQL call completes, cursor is returned server side relatively\n   quickly.\n2) SQLAlchemy uses the server side cursor and functionally\n   downloads the entire table. If specific columns are requested,\n   but the table level model is referenced, SQLAlchemy will\n   actually do even more work in order to return complete objects.\n3) SQLAlchemy generates and populates the objects for each field on\n   the object model, which is then passed to Ironic's code.\n\nPrior to this change, ironic's code, for any list of all nodes,\nincluding when only a handfull of columns were requested or needed,\nall nodes would be downloaded, transformed as above, then take the\nentire object and pass it up through all the layers.\n\nIn this case, if a specific list of fields is selected, the code\nwill take a different path. The entire objects will not be populated\nbut the minimum necessary columns.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 11, 'created': '2021-06-18 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7aec82f3279f38a6b19b2ce03bc22624d5982076', 'message': 'WIP/DNM Only return the requested fields\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n'}, {'number': 12, 'created': '2021-06-21 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67a44d0f00ecf13d46cbaafc2060a47d8692ac27', 'message': ""Only return the requested fields from the DB\n\nA node object has many fields, and a huge opportunity\nfor performance improvement is to reduce the amount of work\nperformed at the lower layers when it is not necessary.\nIn particular, the easiest case to identify and handle is\nwhen a list of fields to be fulfilled is explicitly supplied.\n\nThis is particularlly noteworthy when we collecting a list of\nnodes for synconization with Nova, where only 9 columns are\nreally needed to supply Nova with the information required,\nand thus numerous fields are discarded.\n\nThis is all particularlly compounded when traits are used,\nwhich presently uses a joined load pattern from SQL.\n\nWith this patch, we explicitly load and convert only the fields\nrequested at the lowest level, and then perform a different style\nof loading node traits which requires less overhead by SQLAlchemy\nto de-duplicate the returned result set to the application.\n\nThis turns out to be far more efficent as we're reducing the amount\nof data/object conversion work by 360%, even before we consider\npopulating traits, which is performed as a separate query when\ntraits are requested.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 13, 'created': '2021-06-21 22:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bd7415e828013b9c94ef527ba768b9a1a5eb0be', 'message': ""Only return the requested fields from the DB\n\nA node object has many fields, and a huge opportunity\nfor performance improvement is to reduce the amount of work\nperformed at the lower layers when it is not necessary.\nIn particular, the easiest case to identify and handle is\nwhen a list of fields to be fulfilled is explicitly supplied.\n\nThis is particularlly noteworthy when we collecting a list of\nnodes for synconization with Nova, where only 9 columns are\nreally needed to supply Nova with the information required,\nand thus numerous fields are discarded.\n\nThis is all particularlly compounded when traits are used,\nwhich presently uses a joined load pattern from SQL.\n\nWith this patch, we explicitly load and convert only the fields\nrequested at the lowest level, and then perform a different style\nof loading node traits which requires less overhead by SQLAlchemy\nto de-duplicate the returned result set to the application.\n\nThis turns out to be far more efficent as we're reducing the amount\nof data/object conversion work by 360%, even before we consider\npopulating traits, which is performed as a separate query when\ntraits are requested.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}, {'number': 14, 'created': '2021-06-25 13:14:45.000000000', 'files': ['ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/db/api.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/644ba5d4bc69a029f4b02cbd47e9c542ae316748', 'message': ""Only return the requested fields from the DB\n\nA node object has many fields, and a huge opportunity\nfor performance improvement is to reduce the amount of work\nperformed at the lower layers when it is not necessary.\nIn particular, the easiest case to identify and handle is\nwhen a list of fields to be fulfilled is explicitly supplied.\n\nThis is particularlly noteworthy when we collecting a list of\nnodes for synconization with Nova, where only 9 columns are\nreally needed to supply Nova with the information required,\nand thus numerous fields are discarded.\n\nThis is all particularlly compounded when traits are used,\nwhich presently uses a joined load pattern from SQL.\n\nWith this patch, we explicitly load and convert only the fields\nrequested at the lowest level, and then perform a different style\nof loading node traits which requires less overhead by SQLAlchemy\nto de-duplicate the returned result set to the application.\n\nThis turns out to be far more efficent as we're reducing the amount\nof data/object conversion work by 360%, even before we consider\npopulating traits, which is performed as a separate query when\ntraits are requested.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}]",81,792274,644ba5d4bc69a029f4b02cbd47e9c542ae316748,115,8,14,11655,,,0,"Only return the requested fields from the DB

A node object has many fields, and a huge opportunity
for performance improvement is to reduce the amount of work
performed at the lower layers when it is not necessary.
In particular, the easiest case to identify and handle is
when a list of fields to be fulfilled is explicitly supplied.

This is particularlly noteworthy when we collecting a list of
nodes for synconization with Nova, where only 9 columns are
really needed to supply Nova with the information required,
and thus numerous fields are discarded.

This is all particularlly compounded when traits are used,
which presently uses a joined load pattern from SQL.

With this patch, we explicitly load and convert only the fields
requested at the lowest level, and then perform a different style
of loading node traits which requires less overhead by SQLAlchemy
to de-duplicate the returned result set to the application.

This turns out to be far more efficent as we're reducing the amount
of data/object conversion work by 360%, even before we consider
populating traits, which is performed as a separate query when
traits are requested.

Story: 2008885
Task: 42434
Change-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/792274/12 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/db/api.py']",3,ddcbbb28141fc3a1badb6528c191cfc8bcf186d4,db-perf-1," sort_key=None, sort_dir=None, fields=None): :param fields: Comma separated field list to return, to allow for only specific fields to be returned to have maximum API performance calls where not all columns are needed from the database."," sort_key=None, sort_dir=None):",211,6
openstack%2Fopenstack-ansible-ceph_client~stable%2Fwallaby~I461055896f9e021a80bc713ebb6c653ae4fd1fc4,openstack/openstack-ansible-ceph_client,stable/wallaby,I461055896f9e021a80bc713ebb6c653ae4fd1fc4,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-06-29 08:18:12.000000000,2021-07-02 16:55:03.000000000,2021-07-02 16:52:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/43bb65ac8e50cddd11e284631357a138e0a861ce', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I461055896f9e021a80bc713ebb6c653ae4fd1fc4\n'}, {'number': 2, 'created': '2021-07-01 16:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/e8749403817c637b243669128628eda3916a6c6b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I461055896f9e021a80bc713ebb6c653ae4fd1fc4\n'}, {'number': 3, 'created': '2021-07-01 20:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/ccc05413f927e304d9f09bf12f2876e12bde6369', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I461055896f9e021a80bc713ebb6c653ae4fd1fc4\n'}, {'number': 4, 'created': '2021-07-02 09:30:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/c567e6fc18cee73b3f69cbfc2d8452d7e5402e85', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I461055896f9e021a80bc713ebb6c653ae4fd1fc4\n'}]",0,798465,c567e6fc18cee73b3f69cbfc2d8452d7e5402e85,19,2,4,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I461055896f9e021a80bc713ebb6c653ae4fd1fc4
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/65/798465/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43bb65ac8e50cddd11e284631357a138e0a861ce,create-wallaby, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Fwallaby~I804059f3fedf7721cda55e741545cf13530673cf,openstack/openstack-ansible-ceph_client,stable/wallaby,I804059f3fedf7721cda55e741545cf13530673cf,Update .gitreview for stable/wallaby,MERGED,2021-06-29 08:18:05.000000000,2021-07-02 16:53:59.000000000,2021-07-02 16:52:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/2f5df55d09478d9107cde1dd796e3026fd1fa305', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}, {'number': 2, 'created': '2021-06-29 17:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/943e937482df7deb454b0547f60b71b360e6e47f', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}, {'number': 3, 'created': '2021-06-30 08:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/08588194853f21986a5572b0be711c387d51aad0', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}, {'number': 4, 'created': '2021-07-01 17:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/82174883a99bb168dca861d19df6e5839af8c9bd', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}, {'number': 5, 'created': '2021-07-01 20:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/41f6e1e7ba6808ad73cd997ae6f63bbbd33ded78', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}, {'number': 6, 'created': '2021-07-02 09:24:40.000000000', 'files': ['.gitreview', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/7f4ce98011c767fb8ef426f38b9f29edb7633263', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I804059f3fedf7721cda55e741545cf13530673cf\n'}]",0,798463,7f4ce98011c767fb8ef426f38b9f29edb7633263,24,2,6,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I804059f3fedf7721cda55e741545cf13530673cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/63/798463/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2f5df55d09478d9107cde1dd796e3026fd1fa305,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fswift~master~I69c748ebf721579a5fae85333ce3d4e999b9eb2a,openstack/swift,master,I69c748ebf721579a5fae85333ce3d4e999b9eb2a,Include status code when we fail to parse an SLO-delete response,MERGED,2021-06-16 19:46:15.000000000,2021-07-02 16:49:00.000000000,2021-07-02 16:47:07.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 19:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cf2c390df93be5842a6bada08c2c88ed5ac39f8', 'message': ""Include status code when we fail to parse an SLO-delete response\n\nWe've occasionally seen errors here where the body is empty. Hopefully\nknowing more about the response will shed some light on what happened.\n\nChange-Id: I69c748ebf721579a5fae85333ce3d4e999b9eb2a\n""}, {'number': 2, 'created': '2021-06-17 22:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7188e2f1bb3ebe0e4a08994c83986e175cb00afe', 'message': ""Include status code when we fail to parse an SLO-delete response\n\nWe've occasionally seen errors here where the body is empty. Hopefully\nknowing more about the response will shed some light on what happened.\n\nChange-Id: I69c748ebf721579a5fae85333ce3d4e999b9eb2a\n""}, {'number': 3, 'created': '2021-06-28 20:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ab40c4d79e95dfd8dac350fc603eea2960edbbd', 'message': ""Include status code when we fail to parse an SLO-delete response\n\nWe've occasionally seen errors here where the body is empty. Hopefully\nknowing more about the response will shed some light on what happened.\n\nChange-Id: I69c748ebf721579a5fae85333ce3d4e999b9eb2a\n""}, {'number': 4, 'created': '2021-06-28 21:00:24.000000000', 'files': ['test/unit/common/middleware/s3api/test_multi_delete.py', 'swift/common/middleware/s3api/controllers/multi_delete.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c2ae602511ff54873023b74fbfb2e005172a6e2e', 'message': ""Include status code when we fail to parse an SLO-delete response\n\nWe've occasionally seen errors here where the body is empty. Hopefully\nknowing more about the response will shed some light on what happened.\n\nChange-Id: I69c748ebf721579a5fae85333ce3d4e999b9eb2a\n""}]",1,796734,c2ae602511ff54873023b74fbfb2e005172a6e2e,23,4,4,15343,,,0,"Include status code when we fail to parse an SLO-delete response

We've occasionally seen errors here where the body is empty. Hopefully
knowing more about the response will shed some light on what happened.

Change-Id: I69c748ebf721579a5fae85333ce3d4e999b9eb2a
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/796734/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/controllers/multi_delete.py'],1,3cf2c390df93be5842a6bada08c2c88ed5ac39f8,," 'Could not parse SLO delete response (%s): %r', resp.status, resp.body)"," 'Could not parse SLO delete response: %r', resp.body)",2,2
openstack%2Fopenstack-ansible~stable%2Fvictoria~Id363f252750114413f4d8785590c962c65a05564,openstack/openstack-ansible,stable/victoria,Id363f252750114413f4d8785590c962c65a05564,Workaround linting issue,MERGED,2021-06-25 13:10:02.000000000,2021-07-02 16:48:15.000000000,2021-07-02 16:46:04.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-25 13:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/adc0ba34ca818a05827193f40ec22314616d4995', 'message': ""Workaround linting issue\n\nansible-lint<5.0.0 will try to install latest ansible as it's part of the\nrequirements. This brings in an issue, where lint will be broken\nbecause of too modern ansible. We workaround this by specifying version\nthat won't install ansible-core and thus break linting\n\nWe also comment out tempest_git_repo as we want it to be installed\nfrom constraints instead of the master version\n\nChange-Id: Id363f252750114413f4d8785590c962c65a05564\n""}, {'number': 2, 'created': '2021-06-25 16:42:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fbafafd52f10eba258f86892dffd9562928599bb', 'message': ""Workaround linting issue\n\nansible-lint<5.0.0 will try to install latest ansible as it's part of the\nrequirements. This brings in an issue, where lint will be broken\nbecause of too modern ansible. We workaround this by specifying version\nthat won't install ansible-core and thus break linting\n\nChange-Id: Id363f252750114413f4d8785590c962c65a05564\n""}]",0,798083,fbafafd52f10eba258f86892dffd9562928599bb,11,3,2,28619,,,0,"Workaround linting issue

ansible-lint<5.0.0 will try to install latest ansible as it's part of the
requirements. This brings in an issue, where lint will be broken
because of too modern ansible. We workaround this by specifying version
that won't install ansible-core and thus break linting

Change-Id: Id363f252750114413f4d8785590c962c65a05564
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/798083/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,adc0ba34ca818a05827193f40ec22314616d4995,,"# Workaround for old ansible-lint that otherwise will try to install # latest ansible along with ansible-core, which will break linting. ansible<3.0.0",,3,0
openstack%2Fironic~master~I59996fac059dade0ef186598be1e8971e073eb04,openstack/ironic,master,I59996fac059dade0ef186598be1e8971e073eb04,Ramdisk: do not require image_source,MERGED,2021-06-29 13:32:12.000000000,2021-07-02 16:26:09.000000000,2021-07-02 16:24:15.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 13:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a12a09a7baf51d4ab15c225dea4625db275a40b', 'message': 'Ramdisk: do not require image_source\n\nBecause of the way validation works, the ramdisk deploy interface\ncurrently requires an image_source in addition to kernel/ramdisk.\nAfter 1d6441cc347cfe984721f34ebb0cd64fd9e4d876 it is no longer\nnecessary, and this change removes this requirement.\n\nChange-Id: I59996fac059dade0ef186598be1e8971e073eb04\n'}, {'number': 2, 'created': '2021-06-29 13:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ae6ca4704efcdb1a1a77d0c291ff154c7fb4c76', 'message': 'Ramdisk: do not require image_source\n\nBecause of the way validation works, the ramdisk deploy interface\ncurrently requires an image_source in addition to kernel/ramdisk.\nAfter 1d6441cc347cfe984721f34ebb0cd64fd9e4d876 it is no longer\nnecessary, and this change removes this requirement.\n\nChange-Id: I59996fac059dade0ef186598be1e8971e073eb04\n'}, {'number': 3, 'created': '2021-06-29 14:31:50.000000000', 'files': ['releasenotes/notes/ramdisk-validate-acbc4acdb71d10c2.yaml', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8ccfabda8649d82a28daa96fbd5a2891c0dea86', 'message': 'Ramdisk: do not require image_source\n\nBecause of the way validation works, the ramdisk deploy interface\ncurrently requires an image_source in addition to kernel/ramdisk.\nAfter 1d6441cc347cfe984721f34ebb0cd64fd9e4d876 it is no longer\nnecessary, and this change removes this requirement.\n\nChange-Id: I59996fac059dade0ef186598be1e8971e073eb04\n'}]",0,798681,d8ccfabda8649d82a28daa96fbd5a2891c0dea86,19,4,3,10239,,,0,"Ramdisk: do not require image_source

Because of the way validation works, the ramdisk deploy interface
currently requires an image_source in addition to kernel/ramdisk.
After 1d6441cc347cfe984721f34ebb0cd64fd9e4d876 it is no longer
necessary, and this change removes this requirement.

Change-Id: I59996fac059dade0ef186598be1e8971e073eb04
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/798681/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ramdisk-validate-acbc4acdb71d10c2.yaml', 'ironic/drivers/modules/deploy_utils.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",4,0a12a09a7baf51d4ab15c225dea4625db275a40b,ramdisk-validate," return utils.get_image_instance_info(node) info = self._test__get_img_instance_info() self.assertIsNotNone(info['image_source']) self.assertIsNotNone(info['image_source']) info = self._test__get_img_instance_info( self.assertIsNotNone(info['image_source']) def test__get_img_instance_info_boot_iso_only(self): instance_info = { 'boot_iso': 'http://iso' } info = self._test__get_img_instance_info(instance_info=instance_info) self.assertIsNotNone(info['boot_iso']) self.assertNotIn('image_source', info) @mock.patch.object(utils, 'get_boot_option', autospec=True, return_value='ramdisk') def test__get_img_instance_info_ramdisk_deploy(self, mock_boot_opt): instance_info = { 'kernel': 'http://kernel', 'ramdisk': 'http://ramdisk', } info = self._test__get_img_instance_info(instance_info=instance_info) self.assertIsNotNone(info['kernel']) self.assertIsNotNone(info['ramdisk']) self.assertNotIn('image_source', info)", info = utils.get_image_instance_info(node) self.assertIsNotNone(info['image_source']) return info self._test__get_img_instance_info() self._test__get_img_instance_info(,55,16
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,openstack/puppet-openstack-integration,stable/wallaby,I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,Remove epel-release using yum/dnf,MERGED,2021-07-02 05:38:03.000000000,2021-07-02 16:19:30.000000000,2021-07-02 16:19:30.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 05:38:03.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5ae289b7ae258aa2b563b3fecc38031f0812197a', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n""}]",0,799138,5ae289b7ae258aa2b563b3fecc38031f0812197a,12,4,1,13861,,,0,"Remove epel-release using yum/dnf

With [1] epel-next-release added as weak dep
to epel-release, so now epel-release cannot
be removed alone due to below error, so let's
used dnf/yum for removal as that will clean
the deps too.

epel-release = 8-11.el8 is needed by (installed)
epel-next-release-8-11.el8.noarch

[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210

Change-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7
(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/799138/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,5ae289b7ae258aa2b563b3fecc38031f0812197a,epel-next-release-stable/wallaby, $SUDO $YUM remove -y epel-release, $SUDO rpm -e epel-release,1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fwallaby~I8e56988043e01b1dc297c14436905462e158a889,openstack/openstack-ansible-lxc_container_create,stable/wallaby,I8e56988043e01b1dc297c14436905462e158a889,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-06-29 08:20:11.000000000,2021-07-02 16:14:43.000000000,2021-07-02 16:11:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/fd82dd686b5a64aecea1b5c1bdfc9ea6ea484a4f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8e56988043e01b1dc297c14436905462e158a889\n'}, {'number': 2, 'created': '2021-07-02 09:29:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/412455c8529d38445fb4dbfe635845b1bdb3af23', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8e56988043e01b1dc297c14436905462e158a889\n'}]",0,798475,412455c8529d38445fb4dbfe635845b1bdb3af23,16,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8e56988043e01b1dc297c14436905462e158a889
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/75/798475/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd82dd686b5a64aecea1b5c1bdfc9ea6ea484a4f,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fwallaby~I09ef161ef8cf0bee8159f7ae3ee1115bb296e802,openstack/openstack-ansible-lxc_container_create,stable/wallaby,I09ef161ef8cf0bee8159f7ae3ee1115bb296e802,Add pki role to local a-r-r,MERGED,2021-07-02 09:28:09.000000000,2021-07-02 16:13:18.000000000,2021-07-02 16:11:46.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-02 09:28:09.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/2439a87a0a0ad64ed5892be44e4bd2eee6346747', 'message': 'Add pki role to local a-r-r\n\nChange-Id: I09ef161ef8cf0bee8159f7ae3ee1115bb296e802\n'}]",0,799147,2439a87a0a0ad64ed5892be44e4bd2eee6346747,10,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: I09ef161ef8cf0bee8159f7ae3ee1115bb296e802
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/47/799147/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,2439a87a0a0ad64ed5892be44e4bd2eee6346747,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I68f4532963f06362fbd84f18811adfaea3c7315e,openstack/openstack-ansible-os_keystone,stable/wallaby,I68f4532963f06362fbd84f18811adfaea3c7315e,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-06-29 08:44:22.000000000,2021-07-02 16:12:37.000000000,2021-07-02 16:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1dc5b2b423b3005d6cd3645d831de5ac6caf8fd2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I68f4532963f06362fbd84f18811adfaea3c7315e\n'}, {'number': 2, 'created': '2021-07-02 09:29:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a72fa8bb437af09e8fc5fa48588ec52db8231f35', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I68f4532963f06362fbd84f18811adfaea3c7315e\n'}]",0,798536,a72fa8bb437af09e8fc5fa48588ec52db8231f35,14,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I68f4532963f06362fbd84f18811adfaea3c7315e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/36/798536/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1dc5b2b423b3005d6cd3645d831de5ac6caf8fd2,create-wallaby, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~Ifda99c199c6fa80c93dc6864173b7031bdb9dbff,openstack/openstack-ansible-os_keystone,stable/wallaby,Ifda99c199c6fa80c93dc6864173b7031bdb9dbff,Add pki role to local a-r-r,MERGED,2021-07-02 09:18:48.000000000,2021-07-02 16:11:29.000000000,2021-07-02 16:10:12.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-02 09:18:48.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4767c1dbcb97b746bd3fa5273bdfcba30cd0f134', 'message': 'Add pki role to local a-r-r\n\nChange-Id: Ifda99c199c6fa80c93dc6864173b7031bdb9dbff\n'}]",0,799145,4767c1dbcb97b746bd3fa5273bdfcba30cd0f134,10,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: Ifda99c199c6fa80c93dc6864173b7031bdb9dbff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/45/799145/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,4767c1dbcb97b746bd3fa5273bdfcba30cd0f134,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Freleases~master~I91b146fafd3f15490e2295aa6765263af0365bf1,openstack/releases,master,I91b146fafd3f15490e2295aa6765263af0365bf1,[keystone] Transition Ocata to End of Life,MERGED,2021-06-09 18:54:13.000000000,2021-07-02 15:32:25.000000000,2021-07-02 15:32:25.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:54:13.000000000', 'files': ['deliverables/ocata/python-keystoneclient.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/ocata/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/04bc35e809b14e9c4db467061449a5498d13b21e', 'message': ""[keystone] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I91b146fafd3f15490e2295aa6765263af0365bf1\n""}]",0,795657,04bc35e809b14e9c4db467061449a5498d13b21e,10,6,1,17685,,,0,"[keystone] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I91b146fafd3f15490e2295aa6765263af0365bf1
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/795657/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-keystoneclient.yaml', 'deliverables/ocata/keystonemiddleware.yaml', 'deliverables/ocata/pycadf.yaml', 'deliverables/ocata/keystoneauth.yaml', 'deliverables/ocata/keystone.yaml']",5,04bc35e809b14e9c4db467061449a5498d13b21e,ocata-eol, - version: ocata-eol projects: - repo: openstack/keystone hash: be9b642575c9736be617e8ebc31babf6f97c7dcd,,20,0
openstack%2Freleases~master~I57bf7a0742e3eb3a3d6c66dec89b9c108eff4e7a,openstack/releases,master,I57bf7a0742e3eb3a3d6c66dec89b9c108eff4e7a,[mistral] Transition Ocata to End of Life,MERGED,2021-06-09 18:54:38.000000000,2021-07-02 15:32:15.000000000,2021-07-02 15:32:15.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:54:38.000000000', 'files': ['deliverables/ocata/mistral.yaml', 'deliverables/ocata/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b5075b7b238e56e9412eeee16d1d805ded38257b', 'message': ""[mistral] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I57bf7a0742e3eb3a3d6c66dec89b9c108eff4e7a\n""}]",0,795659,b5075b7b238e56e9412eeee16d1d805ded38257b,13,5,1,17685,,,0,"[mistral] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I57bf7a0742e3eb3a3d6c66dec89b9c108eff4e7a
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/795659/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/mistral.yaml', 'deliverables/ocata/python-mistralclient.yaml']",2,b5075b7b238e56e9412eeee16d1d805ded38257b,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-mistralclient hash: d531db1b6197ac07eae7973aa286256366645896,,10,0
openstack%2Freleases~master~I0d2ab684fd029e6a2977d020ae6e8bfdc2310220,openstack/releases,master,I0d2ab684fd029e6a2977d020ae6e8bfdc2310220,[murano] Transition Ocata to End of Life,MERGED,2021-06-09 19:01:27.000000000,2021-07-02 15:32:09.000000000,2021-07-02 15:32:09.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:01:27.000000000', 'files': ['deliverables/ocata/murano.yaml', 'deliverables/ocata/murano-dashboard.yaml', 'deliverables/ocata/python-muranoclient.yaml', 'deliverables/ocata/murano-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f8561c20908b76e8c0cff8b42db67601a44c55f', 'message': ""[murano] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I0d2ab684fd029e6a2977d020ae6e8bfdc2310220\n""}]",0,795662,8f8561c20908b76e8c0cff8b42db67601a44c55f,12,4,1,17685,,,0,"[murano] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0d2ab684fd029e6a2977d020ae6e8bfdc2310220
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/795662/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/murano.yaml', 'deliverables/ocata/murano-dashboard.yaml', 'deliverables/ocata/python-muranoclient.yaml', 'deliverables/ocata/murano-agent.yaml']",4,8f8561c20908b76e8c0cff8b42db67601a44c55f,ocata-eol, - version: ocata-eol projects: - repo: openstack/murano-agent hash: 99efcbec2c371d87146845ca675fc14638f8dab0,,16,0
openstack%2Fcharm-manila-ganesha~master~I261840c267804c5dca052e37f8d279d584b598ea,openstack/charm-manila-ganesha,master,I261840c267804c5dca052e37f8d279d584b598ea,Add local ganesha.conf for specific configuration,MERGED,2021-04-26 17:59:39.000000000,2021-07-02 15:30:34.000000000,2021-07-02 15:30:34.000000000,"[{'_account_id': 17097}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-26 17:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ab4af0d9359a1f1b69f8ac77df2cf4ca1a56f2b9', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nCloses #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 2, 'created': '2021-04-26 18:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/db52d559f6829b006e8df05742bc648f5e3f329b', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 3, 'created': '2021-04-27 09:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/5a232101999ccb9ee367629912e000e8aa89eb9d', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 4, 'created': '2021-04-27 11:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/73fbc9aaf979236bc864efef1ecd5164d5d623f5', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 5, 'created': '2021-04-28 08:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/609715e606ce013bdc5a88c1c27336cd30999751', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 6, 'created': '2021-04-28 08:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e8b46c8670de1c87aa3e5542f89481c75eb3517d', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 7, 'created': '2021-04-28 13:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/059f5ee80e7decbeee7a40513f76a8ce73391f85', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 8, 'created': '2021-05-06 08:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/c5e3f5e73b2f19a1b668953fe0a6816382096bc3', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 9, 'created': '2021-05-06 08:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/fe96cebaaed2bf586896e50996700b59a853dc41', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 10, 'created': '2021-05-06 08:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7dbc72802a3784ea7802b8283671cafb08e81779', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 11, 'created': '2021-05-06 09:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/31b4cabc46bb4406247228ab3581407525f4c96f', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 12, 'created': '2021-05-12 06:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/1b9a0f6460594918502efa9d87019075456a8efc', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 13, 'created': '2021-06-04 08:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ab54331f74df7e6f437f86b0edd089784b81a80a', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 14, 'created': '2021-06-04 08:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/059f4c57a5f83e8052f8119ed94bd23f4782641a', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 15, 'created': '2021-06-16 12:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ad47c9e2867c688d6e730838e08de6287f23bf99', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 16, 'created': '2021-06-16 12:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/79a5006c40b4d81d9dda3f0fd26863d8bc410e3d', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 17, 'created': '2021-06-21 13:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/9f83687de9ba0649d1d85c5fcaed3e430e455494', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 18, 'created': '2021-06-22 12:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7467eea93413ffa94f782b3c9d8715714a0a2e0e', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 19, 'created': '2021-06-22 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/3ef5a5f19c27aa9f5f27e5cb807962942af7ae36', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 20, 'created': '2021-06-22 15:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/2fb9b9a3d0330f0429510f46eab1b6086a519b8f', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 21, 'created': '2021-06-23 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/74acdad08b3f77a3a49e0910829c550718b26544', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 22, 'created': '2021-06-30 07:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f4ce3b3c092e202897d58ef99244c2c5bfbd38db', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 23, 'created': '2021-06-30 07:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/96348e884af235cdb85658b64b3f89397fe4fb21', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}, {'number': 24, 'created': '2021-07-02 10:01:15.000000000', 'files': ['src/templates/ceph.conf', 'osci.yaml', 'src/reactive/manila_ganesha.py', 'src/tests/bundles/focal-wallaby.yaml', 'unit_tests/test_manila_ganesha_handlers.py', 'src/templates/rocky/manila.conf', 'src/lib/charm/openstack/manila_ganesha.py', 'src/templates/rocky/ganesha.conf', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/b1cb18391ce8f913c5c64de1a8df88ae0308bbae', 'message': 'Add local ganesha.conf for specific configuration\n\nIn addition to providing the Ganesha recommended Ceph\nFSAL configuration, this change includes a Manila driver\nrequirement of including the Ganesha export path\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567\n\nCloses-Bug: #1889287\nChange-Id: I261840c267804c5dca052e37f8d279d584b598ea\n'}]",12,788059,b1cb18391ce8f913c5c64de1a8df88ae0308bbae,132,6,24,20634,,,0,"Add local ganesha.conf for specific configuration

In addition to providing the Ganesha recommended Ceph
FSAL configuration, this change includes a Manila driver
requirement of including the Ganesha export path

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/567

Closes-Bug: #1889287
Change-Id: I261840c267804c5dca052e37f8d279d584b598ea
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/59/788059/15 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/manila_ganesha.py', 'src/templates/rocky/ganesha.conf']",2,ab4af0d9359a1f1b69f8ac77df2cf4ca1a56f2b9,bug/1889287,"%include /etc/ganesha/export.d/INDEX.conf # The following is copied from the Ganesha source examples: # https://github.com/nfs-ganesha/nfs-ganesha/blob/576e3bafccb6da5c7ea18d7099013f7494ce8d2c/src/config_samples/ceph.conf # # It is possible to use FSAL_CEPH to provide an NFS gateway to CephFS. The # following sample config should be useful as a starting point for # configuration. This basic configuration is suitable for a standalone NFS # server, or an active/passive configuration managed by some sort of clustering # software (e.g. pacemaker, docker, etc.). # # Note too that it is also possible to put a config file in RADOS, and give # ganesha a rados URL from which to fetch it. For instance, if the config # file is stored in a RADOS pool called ""nfs-ganesha"", in a namespace called # ""ganesha-namespace"" with an object name of ""ganesha-config"": # # %url rados://nfs-ganesha/ganesha-namespace/ganesha-config # # If we only export cephfs (or RGW), store the configs and recovery data in # RADOS, and mandate NFSv4.1+ for access, we can avoid any sort of local # storage, and ganesha can run as an unprivileged user (even inside a # locked-down container). # NFS_CORE_PARAM { # Ganesha can lift the NFS grace period early if NLM is disabled. Enable_NLM = false; # rquotad doesn't add any value here. CephFS doesn't support per-uid # quotas anyway. Enable_RQUOTA = false; # In this configuration, we're just exporting NFSv4. In practice, it's # best to use NFSv4.1+ to get the benefit of sessions. Protocols = 4; } NFSv4 { # Modern versions of libcephfs have delegation support, though they # are not currently recommended in clustered configurations. They are # disabled by default but can be reenabled for singleton or # active/passive configurations. # Delegations = false; # One can use any recovery backend with this configuration, but being # able to store it in RADOS is a nice feature that makes it easy to # migrate the daemon to another host. # # For a single-node or active/passive configuration, rados_ng driver # is preferred. For active/active clustered configurations, the # rados_cluster backend can be used instead. See the # ganesha-rados-grace manpage for more information. RecoveryBackend = rados_ng; # NFSv4.0 clients do not send a RECLAIM_COMPLETE, so we end up having # to wait out the entire grace period if there are any. Avoid them. Minor_Versions = 1,2; } # The libcephfs client will aggressively cache information while it # can, so there is little benefit to ganesha actively caching the same # objects. Doing so can also hurt cache coherency. Here, we disable # as much attribute and directory caching as we can. MDCACHE { # Size the dirent cache down as small as possible. Dir_Chunk = 0; } EXPORT { # Unique export ID number for this export Export_ID=100; # We're only interested in NFSv4 in this configuration Protocols = 4; # NFSv4 does not allow UDP transport Transports = TCP; # # Path into the cephfs tree. # # Note that FSAL_CEPH does not support subtree checking, so there is # no way to validate that a filehandle presented by a client is # reachable via an exported subtree. # # For that reason, we just export ""/"" here. Path = /; # # The pseudoroot path. This is where the export will appear in the # NFS pseudoroot namespace. # Pseudo = /cephfs_a/; # We want to be able to read and write Access_Type = RW; # Time out attribute cache entries immediately Attr_Expiration_Time = 0; # Enable read delegations? libcephfs v13.0.1 and later allow the # ceph client to set a delegation. While it's possible to allow RW # delegations it's not recommended to enable them until ganesha # acquires CB_GETATTR support. # # Note too that delegations may not be safe in clustered # configurations, so it's probably best to just disable them until # this problem is resolved: # # http://tracker.ceph.com/issues/24802 # # Delegations = R; # NFS servers usually decide to ""squash"" incoming requests from the # root user to a ""nobody"" user. It's possible to disable that, but for # now, we leave it enabled. # Squash = root; FSAL { # FSAL_CEPH export Name = CEPH; # # Ceph filesystems have a name string associated with them, and # modern versions of libcephfs can mount them based on the # name. The default is to mount the default filesystem in the # cluster (usually the first one created). # # Filesystem = ""cephfs_a""; # # Ceph clusters have their own authentication scheme (cephx). # Ganesha acts as a cephfs client. This is the client username # to use. This user will need to be created before running # ganesha. # # Typically ceph clients have a name like ""client.foo"". This # setting should not contain the ""client."" prefix. # # See: # # http://docs.ceph.com/docs/jewel/rados/operations/user-management/ # # The default is to set this to NULL, which means that the # userid is set to the default in libcephfs (which is # typically ""admin""). # # User_Id = ""ganesha""; # # Key to use for the session (if any). If not set, it uses the # normal search path for cephx keyring files to find a key: # # Secret_Access_Key = ""YOUR SECRET KEY HERE""; } } # Config block for FSAL_CEPH CEPH { # Path to a ceph.conf file for this ceph cluster. # Ceph_Conf = /etc/ceph/ceph.conf; # User file-creation mask. These bits will be masked off from the unix # permissions on newly-created inodes. # umask = 0; } # # This is the config block for the RADOS RecoveryBackend. This is only # used if you're storing the client recovery records in a RADOS object. # RADOS_KV { # Path to a ceph.conf file for this cluster. # Ceph_Conf = /etc/ceph/ceph.conf; # The recoverybackend has its own ceph client. The default is to # let libcephfs autogenerate the userid. Note that RADOS_KV block does # not have a setting for Secret_Access_Key. A cephx keyring file must # be used for authenticated access. # UserId = ""ganesharecov""; # Pool ID of the ceph storage pool that contains the recovery objects. # The default is ""nfs-ganesha"". # pool = ""nfs-ganesha""; # If using the rados_cluster backend, then consider setting a unique # nodeid for each running daemon here, particularly if this daemon # could end up migrating to a host with a different hostname. The # default is to use the hostname of the node where ganesha is running. # nodeid = hostname.example.com } # Config block for rados:// URL access. It too uses its own client to access # the object, separate from the FSAL_CEPH and RADOS_KV client. RADOS_URLS { # Path to a ceph.conf file for this cluster. # Ceph_Conf = /etc/ceph/ceph.conf; # RADOS_URLS use their own ceph client too. Authenticated access # requires a cephx keyring file. # UserId = ""ganeshaurls""; # We can also have ganesha watch a RADOS object for notifications, and # have it force a configuration reload when one comes in. Set this to # a valid rados:// URL to enable this feature. # watch_url = ""rados://pool/namespace/object""; }",,215,0
openstack%2Fcinder-specs~master~Ic7aa7e45ed9e6f09f72a87034cd0b88d1390117b,openstack/cinder-specs,master,Ic7aa7e45ed9e6f09f72a87034cd0b88d1390117b,Update Xena specs,MERGED,2021-06-30 03:08:17.000000000,2021-07-02 15:19:45.000000000,2021-07-02 15:18:15.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 03:08:17.000000000', 'files': ['specs/xena/reset-state-robustification.rst', 'specs/xena/image-encryption.rst', 'specs/xena/sizing-encrypted-volumes.rst', 'specs/wallaby/nvme-agent.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/528b9b9779004468de45ff273b75950631f4aafd', 'message': ""Update Xena specs\n\nMove unimplemented wallaby specs to xena and set up http redirects\nso that the old URLs won't 404.\n\nChange-Id: Ic7aa7e45ed9e6f09f72a87034cd0b88d1390117b\n""}]",0,798785,528b9b9779004468de45ff273b75950631f4aafd,8,4,1,5314,,,0,"Update Xena specs

Move unimplemented wallaby specs to xena and set up http redirects
so that the old URLs won't 404.

Change-Id: Ic7aa7e45ed9e6f09f72a87034cd0b88d1390117b
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/85/798785/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/reset-state-robustification.rst', 'specs/xena/image-encryption.rst', 'specs/xena/sizing-encrypted-volumes.rst', 'specs/wallaby/nvme-agent.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",6,528b9b9779004468de45ff273b75950631f4aafd,xena-update,Redirect 301 /openstack/cinder-specs/specs/train/image-encryption.html /openstack/cinder-specs/specs/xena/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/ussuri/image-encryption.html /openstack/cinder-specs/specs/xena/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/victoria/image-encryption.html /openstack/cinder-specs/specs/xena/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/wallaby/image-encryption.html /openstack/cinder-specs/specs/xena/image-encryption.htmlRedirect 301 /openstack/cinder-specs/specs/wallaby/reset-state-robustification.rst /openstack/cinder-specs/specs/xena/reset-state-robustification.rst Redirect 301 /openstack/cinder-specs/specs/wallaby/sizing-encrypted-volumes.rst /openstack/cinder-specs/specs/xena/sizing-encrypted-volumes.rst,Redirect 301 /openstack/cinder-specs/specs/train/image-encryption.html /openstack/cinder-specs/specs/wallaby/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/ussuri/image-encryption.html /openstack/cinder-specs/specs/wallaby/image-encryption.html Redirect 301 /openstack/cinder-specs/specs/victoria/image-encryption.html /openstack/cinder-specs/specs/wallaby/image-encryption.html,15,6
openstack%2Freleases~master~I53e011f2656483cfec8194929486d4ec1ebe6230,openstack/releases,master,I53e011f2656483cfec8194929486d4ec1ebe6230,[senlin] Transition Ocata to End of Life,MERGED,2021-06-09 19:23:39.000000000,2021-07-02 15:17:58.000000000,2021-07-02 15:17:58.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:23:39.000000000', 'files': ['deliverables/ocata/senlin-dashboard.yaml', 'deliverables/ocata/python-senlinclient.yaml', 'deliverables/ocata/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/553c86e56ebad48dea5f4c0befcfef08efaf1470', 'message': ""[senlin] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I53e011f2656483cfec8194929486d4ec1ebe6230\n""}]",0,795675,553c86e56ebad48dea5f4c0befcfef08efaf1470,12,4,1,17685,,,0,"[senlin] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I53e011f2656483cfec8194929486d4ec1ebe6230
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/795675/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-senlinclient.yaml', 'deliverables/ocata/senlin-dashboard.yaml', 'deliverables/ocata/senlin.yaml']",3,553c86e56ebad48dea5f4c0befcfef08efaf1470,ocata-eol, - version: ocata-eol projects: - repo: openstack/senlin hash: 29a73afcd0972e6a83a494ccb9eaf4d08121e367,,12,0
openstack%2Fopenstack-ansible-plugins~stable%2Fwallaby~I5c234d5630507f7d89c3ba089e12e3a2e7121758,openstack/openstack-ansible-plugins,stable/wallaby,I5c234d5630507f7d89c3ba089e12e3a2e7121758,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-06-29 08:58:06.000000000,2021-07-02 15:05:43.000000000,2021-07-02 15:04:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/839e9800cda5c01e2425bc0df876d427f5765cdd', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5c234d5630507f7d89c3ba089e12e3a2e7121758\n'}, {'number': 2, 'created': '2021-07-02 09:33:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ebad60dbca320b031f2d49db3a6d1a0f820ded69', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5c234d5630507f7d89c3ba089e12e3a2e7121758\n'}]",0,798597,ebad60dbca320b031f2d49db3a6d1a0f820ded69,16,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5c234d5630507f7d89c3ba089e12e3a2e7121758
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/97/798597/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,839e9800cda5c01e2425bc0df876d427f5765cdd,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-ansible-plugins~stable%2Fwallaby~I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a,openstack/openstack-ansible-plugins,stable/wallaby,I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a,Add pki role to local a-r-r,MERGED,2021-07-02 09:33:17.000000000,2021-07-02 15:02:54.000000000,2021-07-02 15:01:32.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-02 09:33:17.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fa48f4efe3b113724ab3419353a00f04f2b445e2', 'message': 'Add pki role to local a-r-r\n\nChange-Id: I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a\n'}]",0,799148,fa48f4efe3b113724ab3419353a00f04f2b445e2,10,3,1,28619,,,0,"Add pki role to local a-r-r

Change-Id: I6de017f6fe41ab2fc43ef5db77a6b8a6e87c741a
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/48/799148/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,fa48f4efe3b113724ab3419353a00f04f2b445e2,osa/pki,- name: pki src: https://opendev.org/openstack/ansible-role-pki scm: git version: master,,4,0
openstack%2Fmanila~master~I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b,openstack/manila,master,I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b,Handle service client authorization errors,MERGED,2021-03-30 16:13:35.000000000,2021-07-02 14:10:13.000000000,2021-07-02 14:08:29.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-03-30 16:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e87c68063ee3fd628b48f0f9a1fb549ddc8dec32', 'message': ""Handle service client authorization errors\n\nAuthorization errors when connecting\nto nova/glance/neutron/cinder can be raised as\nBadConfigurationExceptions in the logs. We shouldn't\nbe raising exceptions derived from the service client\nlibraries.\n\nChange-Id: I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b\nCloses-Bug: #1921927\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-06-24 15:45:04.000000000', 'files': ['manila/tests/network/neutron/test_neutron_api.py', 'manila/volume/cinder.py', 'releasenotes/notes/bug-1921927-handle-service-client-unauthorized-exceptions-b2ebc08a072f7e12.yaml', 'manila/network/neutron/api.py', 'manila/tests/common/test_client_auth.py', 'manila/compute/nova.py', 'manila/tests/volume/test_cinder.py', 'manila/tests/compute/test_nova.py', 'manila/common/client_auth.py', 'manila/tests/image/test_image.py', 'manila/image/glance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/04e06968fd7990adac9eb92a885af557a8acc772', 'message': ""Handle service client authorization errors\n\nAuthorization errors when connecting\nto nova/glance/neutron/cinder can be raised as\nBadConfigurationExceptions in the logs. We shouldn't\nbe raising exceptions derived from the service client\nlibraries.\n\nChange-Id: I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b\nCloses-Bug: #1921927\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",1,783904,04e06968fd7990adac9eb92a885af557a8acc772,25,5,2,16643,,,0,"Handle service client authorization errors

Authorization errors when connecting
to nova/glance/neutron/cinder can be raised as
BadConfigurationExceptions in the logs. We shouldn't
be raising exceptions derived from the service client
libraries.

Change-Id: I2d47dbb1251dfa8d529f813724fb7fd97d7d3a0b
Closes-Bug: #1921927
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/783904/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/network/neutron/test_neutron_api.py', 'manila/volume/cinder.py', 'releasenotes/notes/bug-1921927-handle-service-client-unauthorized-exceptions-b2ebc08a072f7e12.yaml', 'manila/network/neutron/api.py', 'manila/tests/common/test_client_auth.py', 'manila/compute/nova.py', 'manila/tests/compute/test_nova.py', 'manila/tests/volume/test_cinder.py', 'manila/common/client_auth.py', 'manila/tests/image/test_image.py', 'manila/image/glance.py']",11,e87c68063ee3fd628b48f0f9a1fb549ddc8dec32,bug/1921927," client_class=glance_client.Client, cfg_group=GLANCE_GROUP)","from glanceclient import exc as glance_exception client_class=glance_client.Client, exception_module=glance_exception, cfg_group=GLANCE_GROUP)",18,22
openstack%2Fkolla-ansible~stable%2Fvictoria~If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,openstack/kolla-ansible,stable/victoria,If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,Make rabbitmq cluster_partition_handling configurable,MERGED,2021-06-24 07:26:41.000000000,2021-07-02 13:59:06.000000000,2021-07-02 13:57:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 07:26:41.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3b5bcc16af8c236da87e1126029d1f1c676d9782', 'message': 'Make rabbitmq cluster_partition_handling configurable\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n(cherry picked from commit c99841272f89f83d0b0dbce606ad075453896dce)\n'}]",0,797763,3b5bcc16af8c236da87e1126029d1f1c676d9782,9,3,1,27339,,,0,"Make rabbitmq cluster_partition_handling configurable

Change-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8
(cherry picked from commit c99841272f89f83d0b0dbce606ad075453896dce)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/797763/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/rabbitmq/defaults/main.yml']",2,3b5bcc16af8c236da87e1126029d1f1c676d9782,,"# To avoid split-brain rabbitmq_cluster_partition_handling: ""pause_minority""",,3,2
openstack%2Fkolla~master~I75927b6016bdb7577fbff354632bdab6407f359c,openstack/kolla,master,I75927b6016bdb7577fbff354632bdab6407f359c,Improve offline build scenario.,MERGED,2021-06-15 13:55:40.000000000,2021-07-02 13:51:04.000000000,2021-07-02 13:51:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-15 13:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/454fa8119c45908cb9c49119b807fb66bb8c6bb0', 'message': 'Improve offline build scenario.\n* Use distribution based dumb-init package.\n* Add conditional test for source based build.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n'}, {'number': 2, 'created': '2021-06-15 18:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e7efc08602f196e968d665ac0f465d9fec837ab', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n'}, {'number': 3, 'created': '2021-06-17 14:42:55.000000000', 'files': ['releasenotes/notes/improve_offline_support-e7b2384fb7390184.yaml', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5940d1758fabf47d15bac5c08d0afa57fbb35964', 'message': 'Improve offline build scenario.\n\n  * Use distribution based dumb-init package.\n\nChange-Id: I75927b6016bdb7577fbff354632bdab6407f359c\nRelated-Bug: #19311980\n'}]",10,796480,5940d1758fabf47d15bac5c08d0afa57fbb35964,18,3,3,32398,,,0,"Improve offline build scenario.

  * Use distribution based dumb-init package.

Change-Id: I75927b6016bdb7577fbff354632bdab6407f359c
Related-Bug: #19311980
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/796480/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,454fa8119c45908cb9c49119b807fb66bb8c6bb0,bug/1931980," 'which', 'dumb-init' 'tgt', 'dumb-init' ] %}{% block dumb_init_version %} ENV dumb_init_version=1.2.2 {% endblock %} {% if install_type == 'source' %} RUN curl https://github.com/Yelp/dumb-init/releases/download/v${dumb_init_version}/dumb-init_${dumb_init_version}_{{debian_arch}} -o /usr/local/bin/dumb-init \{% endif %}", 'which' 'tgt'] %} RUN curl https://github.com/Yelp/dumb-init/releases/download/v1.2.2/dumb-init_1.2.2_{{debian_arch}} -o /usr/local/bin/dumb-init \,12,6
openstack%2Freleases~master~I5d1c255914efb2ab0579a959a8d78a69ea3e64c5,openstack/releases,master,I5d1c255914efb2ab0579a959a8d78a69ea3e64c5,Puppet OpenStack Xena Milestone 1,MERGED,2021-06-04 08:30:04.000000000,2021-07-02 13:47:36.000000000,2021-07-02 13:47:36.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-04 08:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aad7ff2bb40960b2fde6095f3682240fe802fdea', 'message': 'Puppet OpenStack Xena Milestone 1\n\nChange-Id: I5d1c255914efb2ab0579a959a8d78a69ea3e64c5\n'}, {'number': 2, 'created': '2021-06-05 02:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/235e3663c66ffb7a0dd71e05aec37e6d48d836ce', 'message': 'Puppet OpenStack Xena Milestone 1\n\nChange-Id: I5d1c255914efb2ab0579a959a8d78a69ea3e64c5\n'}, {'number': 3, 'created': '2021-06-28 08:44:07.000000000', 'files': ['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/de234095cbe2ad11c1c0bfb9c006d8d2a3685903', 'message': 'Puppet OpenStack Xena Milestone 1\n\nChange-Id: I5d1c255914efb2ab0579a959a8d78a69ea3e64c5\n'}]",0,794738,de234095cbe2ad11c1c0bfb9c006d8d2a3685903,28,5,3,9414,,,0,"Puppet OpenStack Xena Milestone 1

Change-Id: I5d1c255914efb2ab0579a959a8d78a69ea3e64c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/794738/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-panko.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml']",40,aad7ff2bb40960b2fde6095f3682240fe802fdea,puppet-openstack-xena-m1,releases: - projects: - hash: 0fb38d0dc65cb08050c0f9dc7285dc79ab639f74 repo: openstack/puppet-ec2api version: 19.0.0,,200,0
openstack%2Freleases~master~Ie754caa8fa73b6204c66d19f2edfc251c27905db,openstack/releases,master,Ie754caa8fa73b6204c66d19f2edfc251c27905db,[swift] Transition Ocata to End of Life,MERGED,2021-06-09 19:24:29.000000000,2021-07-02 13:47:31.000000000,2021-07-02 13:47:31.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:24:29.000000000', 'files': ['deliverables/ocata/swift.yaml', 'deliverables/ocata/python-swiftclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fa078e72229f7164e2a4f46acacf950f6ee7e3c8', 'message': ""[swift] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ie754caa8fa73b6204c66d19f2edfc251c27905db\n""}]",0,795677,fa078e72229f7164e2a4f46acacf950f6ee7e3c8,11,4,1,17685,,,0,"[swift] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ie754caa8fa73b6204c66d19f2edfc251c27905db
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/795677/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/swift.yaml', 'deliverables/ocata/python-swiftclient.yaml']",2,fa078e72229f7164e2a4f46acacf950f6ee7e3c8,ocata-eol, - version: ocata-eol projects: - repo: openstack/python-swiftclient hash: 4f280c6614ccb31d894c58c94ec23f56f5dbfa77,,8,0
openstack%2Freleases~master~Ifeeb54d80f887400d4dde2f17d9b73289d524baa,openstack/releases,master,Ifeeb54d80f887400d4dde2f17d9b73289d524baa,[barbican] Transition Ocata to End of Life,MERGED,2021-06-09 18:39:52.000000000,2021-07-02 13:44:59.000000000,2021-07-02 13:44:59.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:39:52.000000000', 'files': ['deliverables/ocata/python-barbicanclient.yaml', 'deliverables/ocata/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f745426726599e4d28fa38bddd881fca40613055', 'message': ""[barbican] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Ifeeb54d80f887400d4dde2f17d9b73289d524baa\n""}]",0,795647,f745426726599e4d28fa38bddd881fca40613055,10,5,1,17685,,,0,"[barbican] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Ifeeb54d80f887400d4dde2f17d9b73289d524baa
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/795647/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-barbicanclient.yaml', 'deliverables/ocata/barbican.yaml']",2,f745426726599e4d28fa38bddd881fca40613055,ocata-eol, - version: ocata-eol projects: - repo: openstack/barbican hash: f5101f461a2e551d221ba4b678a67c5297549904,,8,0
openstack%2Felection~master~I4563449e655865774ec9316913f72a1d06251414,openstack/election,master,I4563449e655865774ec9316913f72a1d06251414,"Added my name to the election officiant list Added name, irc, and email.",MERGED,2021-06-29 18:04:36.000000000,2021-07-02 13:34:45.000000000,2021-07-02 13:33:31.000000000,"[{'_account_id': 2799}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 18:04:36.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/07b06f50a09f1d9ccfe9ed0d30fc61e862c64d19', 'message': 'Added my name to the election officiant list\nAdded name, irc, and email.\n\nChange-Id: I4563449e655865774ec9316913f72a1d06251414\n'}]",0,798729,07b06f50a09f1d9ccfe9ed0d30fc61e862c64d19,13,6,1,32070,,,0,"Added my name to the election officiant list
Added name, irc, and email.

Change-Id: I4563449e655865774ec9316913f72a1d06251414
",git fetch https://review.opendev.org/openstack/election refs/changes/29/798729/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,07b06f50a09f1d9ccfe9ed0d30fc61e862c64d19,,"* Helena Spease (hspease), `helena@openinfra.dev <mailto:helena@openinfra.dev>`_",,1,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I0d388851c8b953af0494e44ae569e7eb9e15c326,openstack/kolla-ansible,stable/victoria,I0d388851c8b953af0494e44ae569e7eb9e15c326,Make it possible to override automatic fluentd version detection,MERGED,2021-07-01 09:30:51.000000000,2021-07-02 13:00:07.000000000,2021-07-02 12:58:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 09:30:51.000000000', 'files': ['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2e5cfb853b9c8b8f623b97a1011a2402dce92be', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)\n'}]",0,798890,a2e5cfb853b9c8b8f623b97a1011a2402dce92be,14,4,1,14826,,,0,"Make it possible to override automatic fluentd version detection

One use case for this is so that you can generate config in a CI job
without access to the container repository. It also removes the
dependency of having docker configured for config generation.

TrivialFix

Change-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326
(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/798890/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml']",2,a2e5cfb853b9c8b8f623b97a1011a2402dce92be,,--- features: - | Adds the ability to override the automatic detection of `fluentd_version` and `fluentd_binary`. These can now be defined as extra variables. This removes the dependency of having docker configured for config generation. ,,15,3
openstack%2Fkayobe~stable%2Fwallaby~I0510db9fd1b8dd72540c83173267491b32728330,openstack/kayobe,stable/wallaby,I0510db9fd1b8dd72540c83173267491b32728330,Remove outdated upgrade step,MERGED,2021-06-23 12:25:53.000000000,2021-07-02 12:56:44.000000000,2021-07-02 12:55:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-06-23 12:25:53.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/feeb4353b8ae437833e15eff540d0458cee35c4f', 'message': 'Remove outdated upgrade step\n\nMigrating to Ironic hardware types was required in Rocky. This can now\nbe removed from upgrading instructions.\n\nChange-Id: I0510db9fd1b8dd72540c83173267491b32728330\n(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)\n'}]",0,797578,feeb4353b8ae437833e15eff540d0458cee35c4f,9,4,1,15197,,,0,"Remove outdated upgrade step

Migrating to Ironic hardware types was required in Rocky. This can now
be removed from upgrading instructions.

Change-Id: I0510db9fd1b8dd72540c83173267491b32728330
(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/797578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,feeb4353b8ae437833e15eff540d0458cee35c4f,upgrading-hardware-types-stable/wallaby,,"Migrating to Ironic Hardware Types ---------------------------------- Classic drivers in ironic were `deprecated <https://docs.openstack.org/releasenotes/ironic/queens.html#relnotes-10-1-0-stable-queens-deprecation-notes>`__ in the Queens release, and `removed <https://docs.openstack.org/releasenotes/ironic/rocky.html#relnotes-11-0-0-stable-rocky-upgrade-notes>`__ in the Rocky release. Nodes registered with ironic in Pike and earlier releases of Bifrost use the classic drivers by default, and will need to be migrated to use the new hardware types. The :ironic-doc:`ironic documentation <admin/upgrade-to-hardware-types.html>` provides details for how to do this, but for the default case of the ``agent_ipmitool`` driver the following procedure may be used, replacing ``<node>`` with the name of the host to migrate: .. code-block:: console $ docker exec -it bifrost_deploy bash (bifrost_deploy) $ export OS_CLOUD=bifrost (bifrost_deploy) $ baremetal node maintenance set <node> (bifrost_deploy) $ baremetal node set <node> --driver ipmi (bifrost_deploy) $ baremetal node maintenance unset <node> ",0,23
openstack%2Fkayobe~stable%2Fvictoria~I0510db9fd1b8dd72540c83173267491b32728330,openstack/kayobe,stable/victoria,I0510db9fd1b8dd72540c83173267491b32728330,Remove outdated upgrade step,MERGED,2021-06-23 12:26:20.000000000,2021-07-02 12:56:42.000000000,2021-07-02 12:55:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-06-23 12:26:20.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8d906d9b15fe294fbfe567ee432bc432818cbb2e', 'message': 'Remove outdated upgrade step\n\nMigrating to Ironic hardware types was required in Rocky. This can now\nbe removed from upgrading instructions.\n\nChange-Id: I0510db9fd1b8dd72540c83173267491b32728330\n(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)\n'}]",0,797579,8d906d9b15fe294fbfe567ee432bc432818cbb2e,9,4,1,15197,,,0,"Remove outdated upgrade step

Migrating to Ironic hardware types was required in Rocky. This can now
be removed from upgrading instructions.

Change-Id: I0510db9fd1b8dd72540c83173267491b32728330
(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/79/797579/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,8d906d9b15fe294fbfe567ee432bc432818cbb2e,upgrading-hardware-types-stable/victoria,,"Migrating to Ironic Hardware Types ---------------------------------- Classic drivers in ironic were `deprecated <https://docs.openstack.org/releasenotes/ironic/queens.html#relnotes-10-1-0-stable-queens-deprecation-notes>`__ in the Queens release, and `removed <https://docs.openstack.org/releasenotes/ironic/rocky.html#relnotes-11-0-0-stable-rocky-upgrade-notes>`__ in the Rocky release. Nodes registered with ironic in Pike and earlier releases of Bifrost use the classic drivers by default, and will need to be migrated to use the new hardware types. The :ironic-doc:`ironic documentation <admin/upgrade-to-hardware-types.html>` provides details for how to do this, but for the default case of the ``agent_ipmitool`` driver the following procedure may be used, replacing ``<node>`` with the name of the host to migrate: .. code-block:: console $ docker exec -it bifrost_deploy bash (bifrost_deploy) $ export OS_CLOUD=bifrost (bifrost_deploy) $ baremetal node maintenance set <node> (bifrost_deploy) $ baremetal node set <node> --driver ipmi (bifrost_deploy) $ baremetal node maintenance unset <node> ",0,23
openstack%2Fpython-tripleoclient~master~Ib1857c259108a0a13909ca53e54105f1f6bda710,openstack/python-tripleoclient,master,Ib1857c259108a0a13909ca53e54105f1f6bda710,Update description of the templates option,MERGED,2021-06-26 16:18:23.000000000,2021-07-02 12:55:48.000000000,2021-07-02 12:52:43.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 16:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04d1a25222c1eeed9cfb0e464f9e645530787e62', 'message': ""Update description of the templates option\n\nThe templates option should point to a directory instead of a file, but\nits current description doesn't clearly explain that.\nThis change updates its description so that it is clearly explained\nthat the value should be a directory path and regarded as a home\ndirectory of template files.\n\nChange-Id: Ib1857c259108a0a13909ca53e54105f1f6bda710\n""}, {'number': 2, 'created': '2021-06-28 16:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ae485730e2abaf13b3a55293e762841690149a2', 'message': ""Update description of the templates option\n\nThe templates option should point to a directory instead of a file, but\nits current description doesn't clearly explain that.\nThis change updates its description so that it is clearly explained\nthat the value should be a directory path and regarded as a home\ndirectory of template files.\n\nChange-Id: Ib1857c259108a0a13909ca53e54105f1f6bda710\n""}, {'number': 3, 'created': '2021-06-29 10:12:46.000000000', 'files': ['tripleoclient/config/standalone.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/56e3ca0de519f2b7c7eebd9f84837ca98c9bc1e1', 'message': ""Update description of the templates option\n\nThe templates option should point to a directory instead of a file, but\nits current description doesn't clearly explain that.\nThis change updates its description so that it is clearly explained\nthat the value should be a directory path and regarded as a home\ndirectory of template files.\n\nThe existing descriptions with 't-h-t' are also updated because\nthe word might be unclear for users.\n\nChange-Id: Ib1857c259108a0a13909ca53e54105f1f6bda710\n""}]",2,798195,56e3ca0de519f2b7c7eebd9f84837ca98c9bc1e1,14,4,3,9816,,,0,"Update description of the templates option

The templates option should point to a directory instead of a file, but
its current description doesn't clearly explain that.
This change updates its description so that it is clearly explained
that the value should be a directory path and regarded as a home
directory of template files.

The existing descriptions with 't-h-t' are also updated because
the word might be unclear for users.

Change-Id: Ib1857c259108a0a13909ca53e54105f1f6bda710
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/798195/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/standalone.py'],1,04d1a25222c1eeed9cfb0e464f9e645530787e62,templates-opt, help=_('The t-h-t templates directory to override'), help=_('heat templates file to override.'),1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idd905e32dc70728abdb4cea1a14f43c7f11ff311,openstack/python-tripleoclient,stable/wallaby,Idd905e32dc70728abdb4cea1a14f43c7f11ff311,Add --db-only option in undercloud_backup.,MERGED,2021-06-29 15:40:15.000000000,2021-07-02 12:55:01.000000000,2021-07-02 12:51:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 15:40:15.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/579b5c5e1e76cd763080dc43f56ea71cbad0b6b5', 'message': ""Add --db-only option in undercloud_backup.\n\nThis patch adds a new option --db-only which will perform a DB backup\nof the Undercloud node. This option will have precedence to --init, --setup-nfs\nor --setup-rear, but it won't complain. If the --db-only option is being\npassed then only the play in charge of performing the Undercloud's DB backup\nwill be triggered.\n\nChange-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311\nResolves: rhbz#1977392\nDepends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)\n""}]",0,798673,579b5c5e1e76cd763080dc43f56ea71cbad0b6b5,9,2,1,26343,,,0,"Add --db-only option in undercloud_backup.

This patch adds a new option --db-only which will perform a DB backup
of the Undercloud node. This option will have precedence to --init, --setup-nfs
or --setup-rear, but it won't complain. If the --db-only option is being
passed then only the play in charge of performing the Undercloud's DB backup
will be triggered.

Change-Id: Idd905e32dc70728abdb4cea1a14f43c7f11ff311
Resolves: rhbz#1977392
Depends-On: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit a792bbd8747455f468ef94d5162847c17d243735)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/73/798673/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py']",2,579b5c5e1e76cd763080dc43f56ea71cbad0b6b5,," def test_undercloud_backup_db_only(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) @mock.patch('os.path.isfile') @mock.patch('os.access') @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_undercloud_backup_db_only_with_setup_options(self, mock_playbook, mock_access, mock_isfile): arglist = [ '--db-only', '--setup-nfs', '--setup-rear' ] verifylist = [] mock_isfile.return_value = True mock_access.return_value = True parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( workdir=mock.ANY, playbook='cli-undercloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=3, extra_vars=None ) ",,101,21
openstack%2Ftripleo-heat-templates~master~Ib62678debc3d27ecc1d2bd3d817cf12e69253a18,openstack/tripleo-heat-templates,master,Ib62678debc3d27ecc1d2bd3d817cf12e69253a18,Add parameters to specify auth_strategy,MERGED,2021-06-28 04:06:49.000000000,2021-07-02 12:54:46.000000000,2021-07-02 12:52:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-28 04:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c6459b48b60470fb5c9cce12ba817915129f869', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}, {'number': 2, 'created': '2021-06-28 05:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18f4ada836e7b274c393da9e6e82a6da86175529', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}, {'number': 3, 'created': '2021-06-28 09:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88e27cdcf6cae3ea767f8b6f4451464926b1f10f', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}, {'number': 4, 'created': '2021-06-29 03:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2114b29eb0fc04317b4b9a2a0818f3666b02434a', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}, {'number': 5, 'created': '2021-07-01 12:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02309dd8d27ee16e55250c84471929fed87a32e7', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}, {'number': 6, 'created': '2021-07-01 14:16:51.000000000', 'files': ['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'releasenotes/notes/add-auth-strategy-parameters-neutron-ironic-3d7330a7dc82f43d.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f065bb96b5db3c7f6c55d631573325a53942395a', 'message': 'Add parameters to specify auth_strategy\n\nAdds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``\nparameters and makes the necessary changes in the services\nto deploy using them.\n\nChange-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18\n'}]",6,798241,f065bb96b5db3c7f6c55d631573325a53942395a,28,4,6,8833,,,0,"Add parameters to specify auth_strategy

Adds ``NeutronAuthStrategy`` and ``IronicAuthStrategy``
parameters and makes the necessary changes in the services
to deploy using them.

Change-Id: Ib62678debc3d27ecc1d2bd3d817cf12e69253a18
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/798241/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'releasenotes/notes/add-auth-strategy-parameters-neutron-ironic-3d7330a7dc82f43d.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",8,3c6459b48b60470fb5c9cce12ba817915129f869,keystoneless," NeutronAuthStrategy: type: string description: Auth strategy to use with neutron. default: 'keystone' constraints: - allowed_values: ['keystone', 'noauth'] neutron::server::auth_strategy: {get_param: NeutronAuthStrategy}",,172,13
openstack%2Fpython-tripleoclient~master~Ide76602bc4ccf217af00678485d8ea5c5f462bfe,openstack/python-tripleoclient,master,Ide76602bc4ccf217af00678485d8ea5c5f462bfe,Trigger Validation on standalone job with tripleo CLI command,MERGED,2021-05-19 08:55:31.000000000,2021-07-02 12:54:44.000000000,2021-07-02 12:51:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 08:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ff76a9312193de27604f958577d2bc3ecb610ea', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}, {'number': 2, 'created': '2021-05-19 12:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60eb5ad499bcd900b99c3dba89833d60af712add', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nIn order to test the TripleO CLI for Validations and the whole chain to avoid\nblocker and regression, this patch enable Validation at the end of the Standalone job.\n\nThe cost of it, is arround 5 addiotional minutes.\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}, {'number': 3, 'created': '2021-05-19 12:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6605b3f9b42a2dc3dddb93d1e17794381477fb6', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nIn order to test the TripleO CLI for Validations and the whole chain to avoid\nblocker and regression, this patch enable Validation at the end of the Standalone job.\n\nThe cost of it, is arround 3 or 4 minutes max.\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}, {'number': 4, 'created': '2021-06-01 07:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3482626eb155493b9dc64207166fff06e4685af5', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nIn order to test the TripleO CLI for Validations and the whole chain to avoid\nblocker and regression, this patch enable Validation at the end of the Standalone job.\n\nThe cost of it, is arround 3 or 4 minutes max.\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}, {'number': 5, 'created': '2021-06-18 04:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e5089abf96806c3571b29b27077c32028576f20', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nIn order to test the TripleO CLI for Validations and the whole chain to avoid\nblocker and regression, this patch enable Validation at the end of the Standalone job.\n\nThe cost of it, is arround 3 or 4 minutes max.\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}, {'number': 6, 'created': '2021-06-18 04:47:05.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/654331cc0e72aca8a002ac3d1e24550ba1a7401b', 'message': 'Trigger Validation on standalone job with tripleo CLI command\n\nIn order to test the TripleO CLI for Validations and the whole chain to avoid\nblocker and regression, this patch enable Validation at the end of the Standalone job.\n\nThe cost of it, is arround 3 or 4 minutes max.\n\nChange-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe\n'}]",4,792091,654331cc0e72aca8a002ac3d1e24550ba1a7401b,22,5,6,16515,,,0,"Trigger Validation on standalone job with tripleo CLI command

In order to test the TripleO CLI for Validations and the whole chain to avoid
blocker and regression, this patch enable Validation at the end of the Standalone job.

The cost of it, is arround 3 or 4 minutes max.

Change-Id: Ide76602bc4ccf217af00678485d8ea5c5f462bfe
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/792091/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8ff76a9312193de27604f958577d2bc3ecb610ea,vf/ci/standalone, - tripleo-ci-centos-8-standalone: vars: enable_validation: true component: validation command: openstack tripleo validator,,5,0
openstack%2Fpuppet-tripleo~master~I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556,openstack/puppet-tripleo,master,I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556,Cinder: Remove implementation for HPE Lefthand driver,MERGED,2021-06-26 03:38:11.000000000,2021-07-02 12:52:14.000000000,2021-07-02 12:52:14.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-26 03:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/62a8dcd316b0009c4ea4a6907bf0b79074f0b2fa', 'message': 'Cinder: Remove implementation for HPE Lefthand driver\n\nChange-Id: I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556\nRelated-Bug: #1933709\nDepends-on: https://review.opendev.org/798175\n'}, {'number': 2, 'created': '2021-06-26 03:47:06.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/hpelefthand.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5f7af6b70558d8c2dbca6870d54fd82db0d05712', 'message': 'Cinder: Remove implementation for HPE Lefthand driver\n\nRelated-Bug: #1933709\nDepends-on: https://review.opendev.org/798175\nChange-Id: I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556\n'}]",0,798177,5f7af6b70558d8c2dbca6870d54fd82db0d05712,14,3,2,9816,,,0,"Cinder: Remove implementation for HPE Lefthand driver

Related-Bug: #1933709
Depends-on: https://review.opendev.org/798175
Change-Id: I0ac7bb0d811cd0b2fa7b4e5a5de102f111e22556
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/798177/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/hpelefthand.pp']",2,62a8dcd316b0009c4ea4a6907bf0b79074f0b2fa,bug/1933709,,"# Copyright 2016 Hewlett-Packard Enterprise. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::cinder::volume::hpelefthand # # Cinder Volume hpelefthand profile for tripleo # # === Parameters # # [*backend_name*] # (Optional) Name given to the Cinder backend stanza # Defaults to 'tripleo_hpelefthand' # # [*backend_availability_zone*] # (Optional) Availability zone for this volume backend # Defaults to hiera('cinder::backend::hpelefthand_iscsi::backend_availability_zone', undef) # # [*cinder_hpelefthand_api_url*] # (required) url for api access to lefthand - example https://10.x.x.x:8080/api/v1 # # [*cinder_hpelefthand_username*] # (required) Username for HPElefthand admin user # # [*cinder_hpelefthand_password*] # (required) Password for hpelefthand_username # # [*cinder_hpelefthand_iscsi_chap_enabled*] # (required) setting to false by default # # [*cinder_hpelefthand_clustername*] # (required) clustername of hpelefthand # # [*cinder_hpelefthand_debug*] # (required) setting to false by default # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::cinder::volume::hpelefthand ( $backend_name = hiera('cinder::backend::hpelefthand_iscsi::volume_backend_name', 'tripleo_hpelefthand'), $backend_availability_zone = hiera('cinder::backend::hpelefthand_iscsi::backend_availability_zone', undef), $cinder_hpelefthand_username = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_username', undef), $cinder_hpelefthand_password = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_password', undef), $cinder_hpelefthand_clustername = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_clustername', undef), $cinder_hpelefthand_api_url = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_api_url', undef), $cinder_hpelefthand_iscsi_chap_enabled = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_iscsi_chap_enabled', undef), $cinder_hpelefthand_debug = hiera('cinder::backend::hpelefthand_iscsi::hpelefthand_debug', undef), $step = Integer(hiera('step')), ) { include tripleo::profile::base::cinder::volume if $step >= 4 { cinder::backend::hpelefthand_iscsi { $backend_name : backend_availability_zone => $backend_availability_zone, hpelefthand_username => $cinder_hpelefthand_username, hpelefthand_password => $cinder_hpelefthand_password, hpelefthand_clustername => $cinder_hpelefthand_clustername, hpelefthand_api_url => $cinder_hpelefthand_api_url, hpelefthand_iscsi_chap_enabled => $cinder_hpelefthand_iscsi_chap_enabled, hpelefthand_debug => $cinder_hpelefthand_debug, } } } ",0,90
openstack%2Ftripleo-heat-templates~master~I174ee5c96cbe5eea2d0cffb611976020e499d6ea,openstack/tripleo-heat-templates,master,I174ee5c96cbe5eea2d0cffb611976020e499d6ea,Placement: Remove unused PlacementAPIInterface,MERGED,2021-06-08 13:50:16.000000000,2021-07-02 12:52:01.000000000,2021-07-02 12:52:01.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-08 13:50:16.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b87fc6911ab918660080b550e3fa28caff9f1cb', 'message': 'Placement: Remove unused PlacementAPIInterface\n\nThe PlacementAPIInterface parameter is used not by placement templates\nbut by nova templates.\n\nChange-Id: I174ee5c96cbe5eea2d0cffb611976020e499d6ea\n'}]",0,795332,7b87fc6911ab918660080b550e3fa28caff9f1cb,9,7,1,9816,,,0,"Placement: Remove unused PlacementAPIInterface

The PlacementAPIInterface parameter is used not by placement templates
but by nova templates.

Change-Id: I174ee5c96cbe5eea2d0cffb611976020e499d6ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/795332/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,7b87fc6911ab918660080b550e3fa28caff9f1cb,,, PlacementAPIInterface: type: string description: > Endpoint interface to be used for the placement API. default: 'internal',0,5
openstack%2Ftripleo-heat-templates~master~I4cd0076378c3e6b99cec62b0794ce68787256a1b,openstack/tripleo-heat-templates,master,I4cd0076378c3e6b99cec62b0794ce68787256a1b,Clean up DefaultPasswors,MERGED,2021-06-08 13:55:31.000000000,2021-07-02 12:51:40.000000000,2021-07-02 12:51:40.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 13:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43841e5528d2b36ad5fac19e017646c45e1b33fe', 'message': 'Clean up DefaultPasswors\n\nDefaultPasswords is supposed to have been deleted[1] but there still\nsome leftovers. This change removes all of the remaining usage.\n\n[1] 7f195ff9a81c97469cd3c74d441c28c3b07d34ba\n\nChange-Id: I4cd0076378c3e6b99cec62b0794ce68787256a1b\n'}, {'number': 2, 'created': '2021-06-08 13:56:28.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f86a22d338a6f16714a5cdfbc1afd5a7dd75666f', 'message': 'Clean up DefaultPasswors\n\nDefaultPasswords is supposed to have been removed[1] but there still\nexist some leftovers. This change removes all of the remaining usage.\n\n[1] 7f195ff9a81c97469cd3c74d441c28c3b07d34ba\n\nChange-Id: I4cd0076378c3e6b99cec62b0794ce68787256a1b\n'}]",0,795335,f86a22d338a6f16714a5cdfbc1afd5a7dd75666f,9,5,2,9816,,,0,"Clean up DefaultPasswors

DefaultPasswords is supposed to have been removed[1] but there still
exist some leftovers. This change removes all of the remaining usage.

[1] 7f195ff9a81c97469cd3c74d441c28c3b07d34ba

Change-Id: I4cd0076378c3e6b99cec62b0794ce68787256a1b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/795335/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/timemaster/timemaster-baremetal-ansible.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml']",14,43841e5528d2b36ad5fac19e017646c45e1b33fe,,, DefaultPasswords: default: {} type: json DefaultPasswords: {get_param: DefaultPasswords},0,50
openstack%2Fos-brick~master~I73a468d6d942a71a534e3bbe7c52eb5c48998e14,openstack/os-brick,master,I73a468d6d942a71a534e3bbe7c52eb5c48998e14,Bump py36 to py38 in tox.ini,ABANDONED,2020-10-12 00:39:02.000000000,2021-07-02 12:39:16.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 00:39:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7fca552244a3aed5c211cc8a2f4bcb839ca40f95', 'message': 'Bump py36 to py38 in tox.ini\n\nChange-Id: I73a468d6d942a71a534e3bbe7c52eb5c48998e14\n'}]",0,757360,7fca552244a3aed5c211cc8a2f4bcb839ca40f95,8,6,1,30092,,,0,"Bump py36 to py38 in tox.ini

Change-Id: I73a468d6d942a71a534e3bbe7c52eb5c48998e14
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/60/757360/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7fca552244a3aed5c211cc8a2f4bcb839ca40f95,,"envlist = py38,pep8","envlist = py38,py36,pep8",1,1
openstack%2Fkolla-ansible~master~I15eae79fab1ee996d18e47a22f33ed9287de071a,openstack/kolla-ansible,master,I15eae79fab1ee996d18e47a22f33ed9287de071a,Test blazar in nfv scenario,ABANDONED,2019-04-10 08:49:55.000000000,2021-07-02 12:38:47.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-10 08:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7bfb49635c77198b77089e001402c034e9c1c6b', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 2, 'created': '2019-04-10 09:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00199d5b61dc70226333c240d76eb8d4716f3924', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 3, 'created': '2019-04-10 09:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cebdb4d6704668bab11edf05d1c36f6eddea16e', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 4, 'created': '2019-04-10 09:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23f349535acbdf31fc0cba3c65e60fe9c81553c1', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 5, 'created': '2019-04-10 10:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbb2b5af71abdf5d0cef4401caee9c96f3b9bb0a', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 6, 'created': '2019-04-10 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e642acba7819a6bebc775c4ca1d18341424d8f72', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 7, 'created': '2019-04-11 09:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/457ff0ba0f8b6a5697eb5be45a6a639850272097', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}, {'number': 8, 'created': '2019-06-19 07:26:27.000000000', 'files': ['ansible/roles/blazar/templates/blazar.conf.j2', 'tests/run.yml', 'tests/test-scenario-nfv.sh', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tests/templates/inventory.j2', 'tests/templates/nova-scheduler-overrides.j2', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4bd6183562fe648e3e925a9d9d02c66addab38d3', 'message': 'Test blazar in nfv scenario\n\nChange-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a\n'}]",0,651463,4bd6183562fe648e3e925a9d9d02c66addab38d3,14,2,8,19316,,,0,"Test blazar in nfv scenario

Change-Id: I15eae79fab1ee996d18e47a22f33ed9287de071a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/651463/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/blazar/templates/blazar.conf.j2', 'tests/test-scenario-nfv.sh', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tools/setup_gate.sh']",5,d7bfb49635c77198b77089e001402c034e9c1c6b,test-blazar," GATE_IMAGES+="",tacker,mistral,redis,barbican,blazar"""," GATE_IMAGES+="",tacker,mistral,redis,barbican""",12,4
openstack%2Fpuppet-ironic~master~Ia30aff290ec24972f387612851f8f630ddc9403b,openstack/puppet-ironic,master,Ia30aff290ec24972f387612851f8f630ddc9403b,Clean up ipxe support,MERGED,2021-06-23 15:34:30.000000000,2021-07-02 12:30:11.000000000,2021-07-02 12:28:52.000000000,"[{'_account_id': 4571}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/86059e5407272ba9b7561378d76768c81f76b4f6', 'message': ""WIP: Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 2, 'created': '2021-06-23 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f764e56f31e99ca3f5d776877bc1eedf179ea506', 'message': ""WIP: Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 3, 'created': '2021-06-23 20:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/222c137a714584f9085f33bcabefebd88d0986a7', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 4, 'created': '2021-06-24 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b18eb9a661cee82a694505804d333bb4e5c44dda', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 5, 'created': '2021-06-29 21:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/85130fcc74d68b58729b7c0462884b165f7d2747', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 6, 'created': '2021-06-29 22:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/fe664526426bd61dcb9a812ae042cb1f46c075c4', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 7, 'created': '2021-06-30 17:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/615cdab6225e30bb2abc7331597d7630060c939f', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 8, 'created': '2021-06-30 17:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3b709386e2b423e34949432e03fc961e8d3ce510', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}, {'number': 9, 'created': '2021-06-30 18:01:17.000000000', 'files': ['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'releasenotes/notes/pxe-cleanup-692c78cad322893d.yaml', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3864e15998b5b1eec7d2b1b4911add9bb899fdb8', 'message': ""Clean up ipxe support\n\nThe puppet-ironic module's ipxe support does not align with current\nversions of ironic which delineated ipxe and pxe support quite some\ntime ago.\n\nThis is an attempt to reconcile this and also change the default\nipxe binary for EFI from ipxe.efi which is intended to contain\nfirmware, and snponly.efi which only has the EFI networking stack.\nIn the vast majority of cases, short of very broken EFI firmware,\noperators need snponly.efi.\n\nChange-Id: Ia30aff290ec24972f387612851f8f630ddc9403b\n""}]",23,797683,3864e15998b5b1eec7d2b1b4911add9bb899fdb8,33,7,9,11655,,,0,"Clean up ipxe support

The puppet-ironic module's ipxe support does not align with current
versions of ironic which delineated ipxe and pxe support quite some
time ago.

This is an attempt to reconcile this and also change the default
ipxe binary for EFI from ipxe.efi which is intended to contain
firmware, and snponly.efi which only has the EFI networking stack.
In the vast majority of cases, short of very broken EFI firmware,
operators need snponly.efi.

Change-Id: Ia30aff290ec24972f387612851f8f630ddc9403b
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/83/797683/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/drivers/pxe.pp', 'spec/classes/ironic_drivers_pxe_spec.rb', 'manifests/pxe.pp', 'spec/classes/ironic_pxe_spec.rb']",4,86059e5407272ba9b7561378d76768c81f76b4f6,, is_expected.to contain_file('/var/lib/tftpboot/snponly.efi').with(, is_expected.to contain_file('/var/lib/tftpboot/ipxe.efi').with(,39,42
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,openstack/puppet-openstack-integration,stable/train,I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,Remove epel-release using yum/dnf,MERGED,2021-07-02 05:39:41.000000000,2021-07-02 12:22:22.000000000,2021-07-02 12:22:22.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 05:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/13342240e8bb9cf810e04495d3e39dab67b914e1', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n""}, {'number': 2, 'created': '2021-07-02 08:59:51.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5697c1085c53acde656ca344d46516bd15a1725a', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)\n(cherry picked from commit 9265d7093433d5cde5121cd49cde2e911c2a3fed)\n(cherry picked from commit af999b616810bcd8a9ff61458f93f1400814cf07)\n""}]",0,799141,5697c1085c53acde656ca344d46516bd15a1725a,12,3,2,13861,,,0,"Remove epel-release using yum/dnf

With [1] epel-next-release added as weak dep
to epel-release, so now epel-release cannot
be removed alone due to below error, so let's
used dnf/yum for removal as that will clean
the deps too.

epel-release = 8-11.el8 is needed by (installed)
epel-next-release-8-11.el8.noarch

[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210

Change-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7
(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)
(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)
(cherry picked from commit 9265d7093433d5cde5121cd49cde2e911c2a3fed)
(cherry picked from commit af999b616810bcd8a9ff61458f93f1400814cf07)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/799141/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,13342240e8bb9cf810e04495d3e39dab67b914e1,epel-next-release-stable/wallaby-stable/victoria-stable/ussuri-stable/train, $SUDO $YUM remove -y epel-release, $SUDO rpm -e epel-release,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,openstack/puppet-openstack-integration,stable/ussuri,I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,Remove epel-release using yum/dnf,MERGED,2021-07-02 05:39:08.000000000,2021-07-02 12:22:17.000000000,2021-07-02 12:22:17.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 05:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/140d83943f5775a0cc1253bd271ddf03288e1140', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n""}, {'number': 2, 'created': '2021-07-02 08:59:20.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/af999b616810bcd8a9ff61458f93f1400814cf07', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)\n(cherry picked from commit 9265d7093433d5cde5121cd49cde2e911c2a3fed)\n""}]",0,799140,af999b616810bcd8a9ff61458f93f1400814cf07,12,3,2,13861,,,0,"Remove epel-release using yum/dnf

With [1] epel-next-release added as weak dep
to epel-release, so now epel-release cannot
be removed alone due to below error, so let's
used dnf/yum for removal as that will clean
the deps too.

epel-release = 8-11.el8 is needed by (installed)
epel-next-release-8-11.el8.noarch

[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210

Change-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7
(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)
(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)
(cherry picked from commit 9265d7093433d5cde5121cd49cde2e911c2a3fed)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/799140/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,140d83943f5775a0cc1253bd271ddf03288e1140,epel-next-release-stable/wallaby-stable/victoria-stable/ussuri, $SUDO $YUM remove -y epel-release, $SUDO rpm -e epel-release,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,openstack/puppet-openstack-integration,stable/victoria,I893d63bf9ffa4b960ab76a54d76af5c58ef428a7,Remove epel-release using yum/dnf,MERGED,2021-07-02 05:38:32.000000000,2021-07-02 12:22:14.000000000,2021-07-02 12:22:14.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 05:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ad8381d0d596197a1d6574a86374d326498a0803', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n""}, {'number': 2, 'created': '2021-07-02 08:58:33.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9265d7093433d5cde5121cd49cde2e911c2a3fed', 'message': ""Remove epel-release using yum/dnf\n\nWith [1] epel-next-release added as weak dep\nto epel-release, so now epel-release cannot\nbe removed alone due to below error, so let's\nused dnf/yum for removal as that will clean\nthe deps too.\n\nepel-release = 8-11.el8 is needed by (installed)\nepel-next-release-8-11.el8.noarch\n\n[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210\n\nChange-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7\n(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)\n(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)\n""}]",0,799139,9265d7093433d5cde5121cd49cde2e911c2a3fed,9,4,2,13861,,,0,"Remove epel-release using yum/dnf

With [1] epel-next-release added as weak dep
to epel-release, so now epel-release cannot
be removed alone due to below error, so let's
used dnf/yum for removal as that will clean
the deps too.

epel-release = 8-11.el8 is needed by (installed)
epel-next-release-8-11.el8.noarch

[1] https://koji.mbox.centos.org/koji/buildinfo?buildID=18210

Change-Id: I893d63bf9ffa4b960ab76a54d76af5c58ef428a7
(cherry picked from commit ea8824c436832ee16f5c84a712af89e79d92e3a1)
(cherry picked from commit 5ae289b7ae258aa2b563b3fecc38031f0812197a)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/799139/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,ad8381d0d596197a1d6574a86374d326498a0803,epel-next-release-stable/wallaby-stable/victoria, $SUDO $YUM remove -y epel-release, $SUDO rpm -e epel-release,1,1
openstack%2Fopenstack-tempest-skiplist~master~Iac403e708233704fb97eecd2f732a64c83de99b4,openstack/openstack-tempest-skiplist,master,Iac403e708233704fb97eecd2f732a64c83de99b4,pooja tested and verified,MERGED,2021-07-01 21:44:27.000000000,2021-07-02 12:17:16.000000000,2021-07-02 12:15:55.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 21:44:27.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5332281478c9e3ca707d76022cc0da08f2ce27bf', 'message': 'pooja tested and verified\n\nCloses-Bug: #1927101\nChange-Id: Iac403e708233704fb97eecd2f732a64c83de99b4\n'}]",0,799119,5332281478c9e3ca707d76022cc0da08f2ce27bf,7,2,1,9592,,,0,"pooja tested and verified

Closes-Bug: #1927101
Change-Id: Iac403e708233704fb97eecd2f732a64c83de99b4
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/19/799119/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,5332281478c9e3ca707d76022cc0da08f2ce27bf,,, - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body deployment: - overcloud releases: - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1927101 - name: wallaby reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1927101 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-wallaby,0,13
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie133a6718ca50f30fee7a48fc83ff0e89d84d2dc,openstack/python-tripleoclient,stable/wallaby,Ie133a6718ca50f30fee7a48fc83ff0e89d84d2dc,Honor role and networks file constants,MERGED,2021-07-01 12:03:38.000000000,2021-07-02 12:04:27.000000000,2021-07-02 12:03:14.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 12:03:38.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ac670653640630c83d204ca53744553ef799390', 'message': 'Honor role and networks file constants\n\nPrior to change Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588\nthe tripleoclient constants OVERCLOUD_ROLES_FILE and\nOVERCLOUD_NETWORKS_FILE was used as the defaults.\n\nThis was changed to use the defaults in process-templates.py\n\nThis restores the previous behaviour, honoring the tripleoclient\nconstants.\n\nCloses-Bug: #1934010\nChange-Id: Ie133a6718ca50f30fee7a48fc83ff0e89d84d2dc\n(cherry picked from commit a586cb7795cf301c968fafa2e6fd9e5201220977)\n'}]",0,799056,2ac670653640630c83d204ca53744553ef799390,9,2,1,24245,,,0,"Honor role and networks file constants

Prior to change Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588
the tripleoclient constants OVERCLOUD_ROLES_FILE and
OVERCLOUD_NETWORKS_FILE was used as the defaults.

This was changed to use the defaults in process-templates.py

This restores the previous behaviour, honoring the tripleoclient
constants.

Closes-Bug: #1934010
Change-Id: Ie133a6718ca50f30fee7a48fc83ff0e89d84d2dc
(cherry picked from commit a586cb7795cf301c968fafa2e6fd9e5201220977)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/799056/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,2ac670653640630c83d204ca53744553ef799390,bug/1934010," parsed_args = self.check_parser( self.cmd, ['--local-ip', '127.0.0.1/8', '--templates', 'tht_from', '--output-dir', 'tht_to', '--roles-file', '/roles_file,yaml', '--networks-file', '/networks_file.yaml'], [])"," parsed_args = self.check_parser(self.cmd, ['--local-ip', '127.0.0.1/8', '--templates', 'tht_from', '--output-dir', 'tht_to'], [])",10,12
openstack%2Fmanila~stable%2Fwallaby~Iab6d96351fa21131d834ccf07ffddd70555f25a7,openstack/manila,stable/wallaby,Iab6d96351fa21131d834ccf07ffddd70555f25a7,Fix ipaddress issues in the infinidat driver,MERGED,2021-07-02 00:08:50.000000000,2021-07-02 12:04:02.000000000,2021-07-02 12:02:38.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 00:08:50.000000000', 'files': ['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d015399af51a677ae72e3b56399beaec0dac963d', 'message': 'Fix ipaddress issues in the infinidat driver\n\nIn python3.8.11 and python3.9.6, the behavior of the\nipaddress.ip_network.hosts() method changed. Now /32\naddresses are returned by that method as a single\nelement list. This was apparently done as a bugfix [1]\n\nChange-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7\nCloses-Bug: #1934345\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n[1] https://bugs.python.org/issue27683\n(cherry picked from commit 1161a56a74b0fd926c20a63242af9dc852f56401)\n'}]",0,799136,d015399af51a677ae72e3b56399beaec0dac963d,12,2,1,16643,,,0,"Fix ipaddress issues in the infinidat driver

In python3.8.11 and python3.9.6, the behavior of the
ipaddress.ip_network.hosts() method changed. Now /32
addresses are returned by that method as a single
element list. This was apparently done as a bugfix [1]

Change-Id: Iab6d96351fa21131d834ccf07ffddd70555f25a7
Closes-Bug: #1934345
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
[1] https://bugs.python.org/issue27683
(cherry picked from commit 1161a56a74b0fd926c20a63242af9dc852f56401)
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/799136/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1934345-fix-ipaddress-hosts-invocation-80d419d7e62a5f51.yaml', 'manila/share/drivers/infinidat/infinibox.py']",2,d015399af51a677ae72e3b56399beaec0dac963d,bug/1934345," if len(ip_network_hosts) < 2: # /32, single IP address"," if len(ip_network_hosts) == 0: # /32, single IP address",7,1
openstack%2Fkolla~stable%2Fussuri~I19f57d258021ff660df6b6b95e8205b69f3bea85,openstack/kolla,stable/ussuri,I19f57d258021ff660df6b6b95e8205b69f3bea85,CI: Fix epel url override,MERGED,2021-07-01 14:51:34.000000000,2021-07-02 11:41:14.000000000,2021-07-02 11:40:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 14:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a58e3420d6b1a6a535db926a9f726f9428eaf937', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)\n'}, {'number': 2, 'created': '2021-07-01 14:54:50.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b7ff0d3951ef4db7cc3624bd1e0de3c364907c7', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)\n'}]",0,799066,2b7ff0d3951ef4db7cc3624bd1e0de3c364907c7,14,4,2,14826,,,0,"CI: Fix epel url override

epel-release now installs epel*.repos with following baseurl:
baseurl=https://download.example/pub/epel/$releasever/Everything/$basearch

Change-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85
(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/66/799066/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,a58e3420d6b1a6a535db926a9f726f9428eaf937,,"<<<<<<< HEAD (f75563 horizon: Correct location of monitoring_policy file)======= -e ""s|^#baseurl=http://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ /etc/yum.repos.d/epel*.repo {%- raw -%} >>>>>>> CHANGE (acc8cb CI: Fix epel url override) -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|#baseurl=http://download.example/pub|"" \"," -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|baseurl=http://download.fedoraproject.org/pub|"" \",8,1
openstack%2Fcinderlib~master~I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e,openstack/cinderlib,master,I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e,Update TOX setenv,MERGED,2021-06-17 10:40:25.000000000,2021-07-02 10:22:32.000000000,2021-07-02 10:21:05.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/da1d71450b3fda592f8ae4b0de21ccc7f36d448a', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 2, 'created': '2021-06-17 10:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1e17b259d482e5b55501ce926f04e5b01028bfe5', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 3, 'created': '2021-06-21 04:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/2322912343c36198efc752c2a0b0001ff648145a', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 4, 'created': '2021-06-21 04:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/94a01d20ae136c1e49942105e0376939da65dbd9', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 5, 'created': '2021-06-21 04:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/6fbc184db4d3f2d23679b75892a20cf81a91d25e', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 6, 'created': '2021-06-22 03:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/7b2ac6a1b176d0aebb7918152d75642fb07ec0cf', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 7, 'created': '2021-06-29 08:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/45fa77660cdecc71b691511c5d8d522cea84953b', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 8, 'created': '2021-06-30 07:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d5cff72e375cc3c452ca8351f53cbb6b8568e7dd', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}, {'number': 9, 'created': '2021-06-30 13:49:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/7b6cbda0b3bb3acd073d9b5e20215fff60885075', 'message': 'Update TOX setenv\n\nUse setenv in the [testenv] sections, not wrongly in the [tox] main section\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation\nChange-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e\n'}]",8,796819,7b6cbda0b3bb3acd073d9b5e20215fff60885075,34,4,9,30615,,,0,"Update TOX setenv

Use setenv in the [testenv] sections, not wrongly in the [tox] main section

https: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#documentation
Change-Id: I8d3ef3c3290e8da00de6e415759a5bcdfc111d9e
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/19/796819/8 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,da1d71450b3fda592f8ae4b0de21ccc7f36d448a,, VIRTUAL_ENV={envdir} # this allows tox to infer the base python from the environment name # and override any basepython configured in this file,# this allows tox to infer the base python from the environment name # and override any basepython configured in this file,3,2
openstack%2Ftripleo-docs~master~Ie06559745893df30853b4eb724dc75e7bc5daf15,openstack/tripleo-docs,master,Ie06559745893df30853b4eb724dc75e7bc5daf15,Add Ceph Dashboard and the monitoring stack to the cephadm doc,MERGED,2021-06-28 14:13:08.000000000,2021-07-02 10:17:43.000000000,2021-07-02 10:16:19.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-28 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/459a1c8903187efd6a14d225aec3337163ad46aa', 'message': 'Add Ceph Dashboard and the monitoring stack to the cephadm doc\n\nThe new cephadm doc should include how the monitoring stack\ncomponents can be added to the overcloud deployment command.\nThis change represents a rework of [1] and adapts the existing\ncontent to the new deployment tool.\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/ceph_config.html\n\nChange-Id: Ie06559745893df30853b4eb724dc75e7bc5daf15\n'}, {'number': 2, 'created': '2021-06-28 14:35:40.000000000', 'files': ['deploy-guide/source/features/cephadm.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0cf1574eab847d7df21eadd30753f7769f08c676', 'message': 'Add Ceph Dashboard and the monitoring stack to the cephadm doc\n\nThe new cephadm doc should include how the monitoring stack\ncomponents can be added to the overcloud deployment command.\nThis change represents a rework of [1] and adapts the existing\ncontent to the new deployment tool.\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/ceph_config.html\n\nChange-Id: Ie06559745893df30853b4eb724dc75e7bc5daf15\n'}]",0,798305,0cf1574eab847d7df21eadd30753f7769f08c676,13,5,2,25402,,,0,"Add Ceph Dashboard and the monitoring stack to the cephadm doc

The new cephadm doc should include how the monitoring stack
components can be added to the overcloud deployment command.
This change represents a rework of [1] and adapts the existing
content to the new deployment tool.

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/ceph_config.html

Change-Id: Ie06559745893df30853b4eb724dc75e7bc5daf15
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/05/798305/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/cephadm.rst'],1,459a1c8903187efd6a14d225aec3337163ad46aa,cephadm_doc,"Adding Ceph Dashboard and the Monitoring Stack to a Overcloud deployment ------------------------------------------------------------------------ During the overcloud deployment most of the Ceph daemons can be added and configured. To deploy the ceph dashboard include the ceph-dashboard.yaml environment file as in the following example:: openstack overcloud deploy --templates -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/ceph-dashboard.yaml The command above will include the ceph dashboard related services and generates all the `cephadm` required variables to render the monitoring stack related spec that can be applied against the deployed Ceph cluster. When the deployment has been completed the Ceph dashboard containers, including prometheus and grafana, will be running on the controller nodes and will be accessible using the port 3100 for grafana and 9092 for prometheus; since this service is only internal and doesn’t listen on the public vip, users can reach both grafana and the exposed ceph dashboard using the controller provisioning network vip on the specified port (8444 is the default for a generic overcloud deployment). The resulting deployment will be composed by an external stack made by grafana, prometheus, alertmanager, node-exporter containers and the ceph dashboard mgr module that acts as the backend for this external stack, embedding the grafana layouts and showing the ceph cluster specific metrics coming from prometheus. The Ceph Dashboard backend services run on the specified `CephDashboardNetwork` and `CephGrafanaNetwork`, while the high availability is realized by haproxy and Pacemaker. The Ceph Dashboard frontend is fully integrated with the tls-everywhere framework, hence providing the tls environments files will trigger the certificate request for both grafana and the ceph dashboard: the generated crt and key files are then configured by cephadm, resulting in a key-value pair within the Ceph orchestrator, which is able to mount the required files to the dashboard related containers. The Ceph Dashboard admin user role is set to `read-only` mode by default for safe monitoring of the Ceph cluster. To permit an admin user to have elevated privileges to alter elements of the Ceph cluster with the Dashboard, the operator can change the default. For this purpose, TripleO exposes a parameter that can be used to change the Ceph Dashboard admin default mode. Log in to the undercloud as `stack` user and create the `ceph_dashboard_admin.yaml` environment file with the following content:: parameter_defaults: CephDashboardAdminRO: false Run the overcloud deploy command to update the existing stack and include the environment file created with all other environment files that are already part of the existing deployment:: openstack overcloud deploy --templates -e <existing_overcloud_environment_files> -e ceph_dashboard_admin.yml The ceph dashboard will also work with composable networks. In order to isolate the monitoring access for security purposes, operators can take advantage of composable networks and access the dashboard through a separate network vip. By doing this, it's not necessary to access the provisioning network and separate authorization profiles may be implemented. To deploy the overcloud with the ceph dashboard composable network we need first to generate the controller specific role created for this scenario:: openstack overcloud roles generate -o /home/stack/roles_data.yaml ControllerStorageDashboard Compute BlockStorage ObjectStorage CephStorage Finally, run the overcloud deploy command including the new generated `roles_data.yaml` and the `network_data_dashboard.yaml` file that will trigger the generation of this new network. The final overcloud command must look like the following:: openstack overcloud deploy --templates -r /home/stack/roles_data.yaml -n /usr/share/openstack-tripleo-heat-templates/network_data_dashboard.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml -e ~/my-ceph-settings.yaml ",,67,0
openstack%2Fkolla~stable%2Fvictoria~I19f57d258021ff660df6b6b95e8205b69f3bea85,openstack/kolla,stable/victoria,I19f57d258021ff660df6b6b95e8205b69f3bea85,CI: Fix epel url override,MERGED,2021-07-01 14:51:14.000000000,2021-07-02 10:17:13.000000000,2021-07-02 10:15:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 14:51:14.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9fde574c6ae3f137172def7fd94d8baa57371b7c', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)\n'}]",0,799065,9fde574c6ae3f137172def7fd94d8baa57371b7c,12,3,1,14826,,,0,"CI: Fix epel url override

epel-release now installs epel*.repos with following baseurl:
baseurl=https://download.example/pub/epel/$releasever/Everything/$basearch

Change-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85
(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/799065/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,9fde574c6ae3f137172def7fd94d8baa57371b7c,," -e ""s|^#baseurl=http://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|#baseurl=http://download.example/pub|"" \"," -e ""s|^#baseurl=http://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|baseurl=http://download.fedoraproject.org/pub|"" \",3,3
openstack%2Fwatcher-tempest-plugin~master~Ic8793866bfde33c7ad634a76d263aa71fa4d42c6,openstack/watcher-tempest-plugin,master,Ic8793866bfde33c7ad634a76d263aa71fa4d42c6,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 06:55:20.000000000,2021-07-02 10:16:00.000000000,2021-07-02 10:16:00.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-04-27 06:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/ce3ff62243f0ada76d4212f9170fff528d625506', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic8793866bfde33c7ad634a76d263aa71fa4d42c6\n""}, {'number': 2, 'created': '2021-06-30 17:10:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/163ce471d6c79df15979f5569d3b00dd82ea6946', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic8793866bfde33c7ad634a76d263aa71fa4d42c6\n""}]",0,788172,163ce471d6c79df15979f5569d3b00dd82ea6946,13,2,2,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic8793866bfde33c7ad634a76d263aa71fa4d42c6
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/72/788172/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce3ff62243f0ada76d4212f9170fff528d625506,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/watcher/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/watcher/latest/ python-requires = >=3.6,4,4
openstack%2Fwatcher-tempest-plugin~master~Ia5ab41670c8f341126a730af54f7ece9b6b79f73,openstack/watcher-tempest-plugin,master,Ia5ab41670c8f341126a730af54f7ece9b6b79f73,Use py3 as the default runtime for tox,MERGED,2021-04-27 07:20:58.000000000,2021-07-02 10:15:57.000000000,2021-07-02 10:15:57.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-04-27 07:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/e147a81028673163363ac2cb8602f07f8e628190', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at each new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.\n\nChange-Id: Ia5ab41670c8f341126a730af54f7ece9b6b79f73\n""}, {'number': 2, 'created': '2021-06-30 17:09:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/1346d3e2376c55917034cd78afa1b8d9b5ce2710', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at each new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.\n\nChange-Id: Ia5ab41670c8f341126a730af54f7ece9b6b79f73\n""}]",0,788187,1346d3e2376c55917034cd78afa1b8d9b5ce2710,10,2,2,32921,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.

Change-Id: Ia5ab41670c8f341126a730af54f7ece9b6b79f73
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/87/788187/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e147a81028673163363ac2cb8602f07f8e628190,,"envlist = py3,pypy,pep8","envlist = py38,pypy,pep8",1,1
