id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpython-vitrageclient~master~Ief1c7eb6b3f3d28e9321280718df59eebaca786f,openstack/python-vitrageclient,master,Ief1c7eb6b3f3d28e9321280718df59eebaca786f,Follow-up patch for fixing coverage issue,MERGED,2021-04-26 05:17:44.000000000,2021-04-29 06:14:39.000000000,2021-04-28 13:50:34.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-26 05:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/3cda0605801bc93f1be0836cc99d51b5b0cb44e8', 'message': 'Follow-up patch for fixing --coverage issue\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ief1c7eb6b3f3d28e9321280718df59eebaca786f\n'}, {'number': 2, 'created': '2021-04-27 04:25:31.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/096b484a7c7f3cf75995ddd86b54c9d11cf73482', 'message': 'Follow-up patch for fixing coverage issue\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Ief1c7eb6b3f3d28e9321280718df59eebaca786f\n'}]",4,787912,096b484a7c7f3cf75995ddd86b54c9d11cf73482,16,3,2,33370,,,0,"Follow-up patch for fixing coverage issue

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Ief1c7eb6b3f3d28e9321280718df59eebaca786f
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/12/787912/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,3cda0605801bc93f1be0836cc99d51b5b0cb44e8,testr_to_stestr,"commands = stestr run --slowest {posargs}basepython = python3 setenv = {[testenv]setenv} PYTHON=coverage run --source python_vitrageclient --parallel-mode commands = coverage erase find . -type f -name ""*.pyc"" -delete stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report",commands = stestr run --slowest '{posargs}'commands = stestr run --coverage '{posargs}',14,2
openstack%2Fopenstack-zuul-jobs~master~I45242f90197cd4e1a50500f4f70f537c09a0f345,openstack/openstack-zuul-jobs,master,I45242f90197cd4e1a50500f4f70f537c09a0f345,Docs are now compiled with an openstack theme,ABANDONED,2021-04-28 09:25:54.000000000,2021-04-29 06:06:36.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 09:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4a1e2595426909793e2479a8674440a701aa1e97', 'message': 'Docs are now compiled with openstack theme\n\nPlugin license info updated.\nCopyright date updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I45242f90197cd4e1a50500f4f70f537c09a0f345\n'}, {'number': 2, 'created': '2021-04-28 14:51:56.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4ce80508ed3b70c2343314a0beb6e9d8dc36b014', 'message': 'Docs are now compiled with an openstack theme\n\nHarmonizing the visuals of the zuul jobs docs with other\nopenstack repos, while providing easily accesssible and\nrecognizable button for bug reports.\n\nThis patch is, essentially, a starting point.\nFor, potentially, more extensive work on the jobs documentaion,\npotentially culminating in a pdf version.\n\nPlugin license info updated.\nCopyright date updated.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I45242f90197cd4e1a50500f4f70f537c09a0f345\n'}]",2,788460,4ce80508ed3b70c2343314a0beb6e9d8dc36b014,9,2,2,32926,,,0,"Docs are now compiled with an openstack theme

Harmonizing the visuals of the zuul jobs docs with other
openstack repos, while providing easily accesssible and
recognizable button for bug reports.

This patch is, essentially, a starting point.
For, potentially, more extensive work on the jobs documentaion,
potentially culminating in a pdf version.

Plugin license info updated.
Copyright date updated.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I45242f90197cd4e1a50500f4f70f537c09a0f345
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/60/788460/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,4a1e2595426909793e2479a8674440a701aa1e97,docs/openstackdocstheme,zuul-sphinx>=0.2.0 # Apache-2.0 openstackdocstheme>=2.2.2 # Apache-2.0,zuul-sphinx>=0.2.0,12,2
openstack%2Ftripleo-common~master~I9adc416e36a1126a0a466d453430f08cd2dafe2b,openstack/tripleo-common,master,I9adc416e36a1126a0a466d453430f08cd2dafe2b,Update master for stable/wallaby,MERGED,2021-04-15 17:23:52.000000000,2021-04-29 03:43:51.000000000,2021-04-29 03:42:32.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 17:23:52.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/902855b2b79306634fd9d4d409e746ef1cd8de06', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b\n'}]",0,786475,902855b2b79306634fd9d4d409e746ef1cd8de06,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/75/786475/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,902855b2b79306634fd9d4d409e746ef1cd8de06,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-common~stable%2Fwallaby~Ifdbad93b6bed601d0bcb2e50b4b4ef0b76b33e1b,openstack/tripleo-common,stable/wallaby,Ifdbad93b6bed601d0bcb2e50b4b4ef0b76b33e1b,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-15 17:23:47.000000000,2021-04-29 03:43:49.000000000,2021-04-29 03:42:36.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 17:23:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7685a4453a8f4e81878d7e5003c1a949739599d9', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ifdbad93b6bed601d0bcb2e50b4b4ef0b76b33e1b\n'}]",0,786474,7685a4453a8f4e81878d7e5003c1a949739599d9,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ifdbad93b6bed601d0bcb2e50b4b4ef0b76b33e1b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/786474/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7685a4453a8f4e81878d7e5003c1a949739599d9,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpython-troveclient~master~I9886792f346bbe8d4887539ca69588b4957547e1,openstack/python-troveclient,master,I9886792f346bbe8d4887539ca69588b4957547e1,Support project name in quota CLI,MERGED,2021-04-29 00:05:54.000000000,2021-04-29 02:45:32.000000000,2021-04-29 02:44:17.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 00:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/161c827e8475f55b461a28818623c47f9c4920a6', 'message': 'Support project name in quota CLI\n\nChange-Id: I9886792f346bbe8d4887539ca69588b4957547e1\n'}, {'number': 2, 'created': '2021-04-29 00:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/08ebb358538d765f3c8f808b7c45feab996d0745', 'message': 'Support project name in quota CLI\n\nChange-Id: I9886792f346bbe8d4887539ca69588b4957547e1\n'}, {'number': 3, 'created': '2021-04-29 02:17:56.000000000', 'files': ['troveclient/utils.py', 'requirements.txt', 'troveclient/osc/v1/database_quota.py', 'releasenotes/notes/xena-support-project-name-quota-cli.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/e41d08d24325a61a213592934b508bf77ce67dac', 'message': 'Support project name in quota CLI\n\nChange-Id: I9886792f346bbe8d4887539ca69588b4957547e1\n'}]",0,788620,e41d08d24325a61a213592934b508bf77ce67dac,11,2,3,6732,,,0,"Support project name in quota CLI

Change-Id: I9886792f346bbe8d4887539ca69588b4957547e1
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/20/788620/2 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/utils.py', 'troveclient/osc/v1/database_quota.py', 'releasenotes/notes/xena-support-project-name-quota-cli.yaml', 'tox.ini']",4,161c827e8475f55b461a28818623c47f9c4920a6,quota-project-name,"ignore = H202,H405,H501,W504,H306","ignore = H202,H405,H501,W504",45,21
openstack%2Fproject-config~master~I573874c09e69252c8db566d0140d4024b651e81a,openstack/project-config,master,I573874c09e69252c8db566d0140d4024b651e81a,Adds docs_branch_path value needed for promoting release branches.,MERGED,2021-04-28 21:18:44.000000000,2021-04-29 00:16:23.000000000,2021-04-29 00:16:23.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 30859}]","[{'number': 1, 'created': '2021-04-28 21:18:44.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9cf7d4bdb41cfbd52bc2a4b172477fd126fd120c', 'message': 'Adds docs_branch_path value needed for promoting release branches.\n\nChange-Id: I573874c09e69252c8db566d0140d4024b651e81a\n'}]",0,788593,9cf7d4bdb41cfbd52bc2a4b172477fd126fd120c,8,3,1,33339,,,0,"Adds docs_branch_path value needed for promoting release branches.

Change-Id: I573874c09e69252c8db566d0140d4024b651e81a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/788593/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,9cf7d4bdb41cfbd52bc2a4b172477fd126fd120c,stx-promote-add-branch-path," docs_branch_path: ""/afs/.openstack.org/project/starlingx.io/www/{{ zuul.branch | default('_error') }}""",,1,0
openstack%2Fglance~master~I7ee77213c0391c9f3a16ca2b6f402a54e0edefad,openstack/glance,master,I7ee77213c0391c9f3a16ca2b6f402a54e0edefad,Add example policy.yaml file to restrict metadef API access,ABANDONED,2021-04-22 13:43:00.000000000,2021-04-28 23:54:09.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 13:43:00.000000000', 'files': ['etc/policy-metadef_admin.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/95e7ad83e7d15cf7b9a5045d8bf6ccbde76abaeb', 'message': 'Add example policy.yaml file to restrict metadef API access\n\nThis introduces an example policy.yaml file which includes rules to\nrestrict metadef API access to only admin users, to avoid resource\nleak discovred[1].\nThis allows user to more easily consume the recommended rules.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0088\n\nChange-Id: I7ee77213c0391c9f3a16ca2b6f402a54e0edefad\n'}]",3,787563,95e7ad83e7d15cf7b9a5045d8bf6ccbde76abaeb,6,2,1,9816,,,0,"Add example policy.yaml file to restrict metadef API access

This introduces an example policy.yaml file which includes rules to
restrict metadef API access to only admin users, to avoid resource
leak discovred[1].
This allows user to more easily consume the recommended rules.

[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0088

Change-Id: I7ee77213c0391c9f3a16ca2b6f402a54e0edefad
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/787563/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy-metadef_admin.yaml'],1,95e7ad83e7d15cf7b9a5045d8bf6ccbde76abaeb,ossn-0088,"# This is an example policy.yaml content to restrict metadef API to admin, # to avoid potential resource leak. # Details can be found at: https://wiki.openstack.org/wiki/OSSN/OSSN-0088 ""metadef_default"": """", ""metadef_admin"": ""role:admin"", ""get_metadef_namespace"": ""rule:metadef_default"", ""get_metadef_namespaces"": ""rule:metadef_default"", ""modify_metadef_namespace"": ""rule:metadef_admin"", ""add_metadef_namespace"": ""rule:metadef_admin"", ""delete_metadef_namespace"": ""rule:metadef_admin"", ""get_metadef_object"": ""rule:metadef_default"", ""get_metadef_objects"": ""rule:metadef_default"", ""modify_metadef_object"": ""rule:metadef_admin"", ""add_metadef_object"": ""rule:metadef_admin"", ""delete_metadef_object"": ""rule:metadef_admin"", ""list_metadef_resource_types"": ""rule:metadef_default"", ""get_metadef_resource_type"": ""rule:metadef_default"", ""add_metadef_resource_type_association"": ""rule:metadef_admin"", ""remove_metadef_resource_type_association"": ""rule:metadef_admin"", ""get_metadef_property"": ""rule:metadef_default"", ""get_metadef_properties"": ""rule:metadef_default"", ""modify_metadef_property"": ""rule:metadef_admin"", ""add_metadef_property"": ""rule:metadef_admin"", ""remove_metadef_property"": ""rule:metadef_admin"", ""get_metadef_tag"": ""rule:metadef_default"", ""get_metadef_tags"": ""rule:metadef_default"", ""modify_metadef_tag"": ""rule:metadef_admin"", ""add_metadef_tag"": ""rule:metadef_admin"", ""add_metadef_tags"": ""rule:metadef_admin"", ""delete_metadef_tag"": ""rule:metadef_admin"", ""delete_metadef_tags"": ""rule:metadef_admin"", ",,36,0
openstack%2Fpuppet-openstack_extras~master~Ia2787b432ae76f99f10f98791832b50838ac3171,openstack/puppet-openstack_extras,master,Ia2787b432ae76f99f10f98791832b50838ac3171,Update stream parameter default to true,MERGED,2021-04-16 15:04:30.000000000,2021-04-28 23:51:52.000000000,2021-04-28 23:50:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-16 15:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/977df6a67e2f90e24bc0003eb1af9b18ec8f1ff7', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 2, 'created': '2021-04-16 15:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/538566f82beec0c8aedd772f865be8b5acaab6b2', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 3, 'created': '2021-04-16 15:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/4dba0657609105a60aa202eff8762927902d12df', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 4, 'created': '2021-04-27 09:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/65802db5bd6ab8d66720ffab45b39068ae48500d', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 5, 'created': '2021-04-27 11:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/8d4a071f0a784862dacde0a0eb0a1259400fd7dc', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 6, 'created': '2021-04-27 14:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/41b842b2d9ad017a4d9857f9384e08001efeb74c', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 7, 'created': '2021-04-28 06:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/400011fd6ddaa80dd9c438f00fa3ea4dbc53b989', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}, {'number': 8, 'created': '2021-04-28 09:14:18.000000000', 'files': ['releasenotes/notes/add-redhat-repo-stream-param-e07601e273aad56c.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/cf8b734766bbe75ac5ce23d7a4237b77c8200dd3', 'message': 'Update stream parameter default to true\n\nChange-Id: Ia2787b432ae76f99f10f98791832b50838ac3171\n'}]",2,786675,cf8b734766bbe75ac5ce23d7a4237b77c8200dd3,25,3,8,16137,,,0,"Update stream parameter default to true

Change-Id: Ia2787b432ae76f99f10f98791832b50838ac3171
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/75/786675/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",2,977df6a67e2f90e24bc0003eb1af9b18ec8f1ff7,, context 'with major release 8 and stream is used by default' do, context 'with major release 8 and stream set to true' do let :params do default_params.merge!( :stream => true ) end ,3,7
openstack%2Ftripleo-common~master~If7307bfd61456aaebd28aae20ac5c9025c25d68c,openstack/tripleo-common,master,If7307bfd61456aaebd28aae20ac5c9025c25d68c,Update artifact tooling for swiftless underclouds,MERGED,2021-03-25 21:39:10.000000000,2021-04-28 23:41:00.000000000,2021-04-28 23:39:53.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-25 21:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d05a493afedb6bb1a87a90bd9f50446f65ee973', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\n""}, {'number': 2, 'created': '2021-03-25 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2960dd01bd22ae5813d75242341e24d6ef94c6ed', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2021-03-25 21:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c0837a228f429210100b3d03f5f7c330d5096a88', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2021-04-12 13:32:37.000000000', 'files': ['scripts/upload-artifacts', 'releasenotes/notes/DeployArtifactURLs-Simplified-e3993493022653ab.yaml', 'scripts/upload-swift-artifacts', 'scripts/upload-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a8d924369f1a858d1f6ab5be15401a0fa04f58eb', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",4,783113,a8d924369f1a858d1f6ab5be15401a0fa04f58eb,22,7,4,7353,,,0,"Update artifact tooling for swiftless underclouds

This change updates the artifact tooling to ensure that we're not
assuming we have access to a Swift deployment on the undercloud.
The tooling will now sync files locally and push them to target
host(s) during deployment time.

Depends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd
Change-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/783113/4 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upload-artifacts', 'releasenotes/notes/DeployArtifactURLs-Simplified-e3993493022653ab.yaml', 'releasenotes/notes/DeployArtifactURLs-Deprecated-7bd122cf08d2e51e.yaml', 'scripts/upload-swift-artifacts', 'scripts/upload-puppet-modules']",5,9d05a493afedb6bb1a87a90bd9f50446f65ee973,swiftless-undercloud,"# Script to upload directory tarball of puppet modules to a artifact container. echo "" -c <container> -- Artifact container to use."" echo ""Upload a directory tarball of puppet modules to a artifact container"": ${CONTAINER_NAME:?No artifact --container was specified}upload-artifacts -f ""$PUPPET_MODULES_TMP/puppet-modules.tar.gz"" \ -c ""$CONTAINER_NAME"" \ --environment ""$ENVIRONMENT_FILE"" \ --seconds ""$SECONDS""","# Script to upload directory tarball of puppet modules to a swift container. echo "" -c <container> -- Swift container to use."" echo ""Upload a directory tarball of puppet modules to a swift container"": ${CONTAINER_NAME:?No swift --container was specified}upload-swift-artifacts -f ""$PUPPET_MODULES_TMP/puppet-modules.tar.gz"" \ -c ""$CONTAINER_NAME"" \ --environment ""$ENVIRONMENT_FILE"" \ --seconds ""$SECONDS""",172,8
openstack%2Fneutron~master~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,master,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-04-26 15:54:14.000000000,2021-04-28 23:32:03.000000000,2021-04-28 23:30:45.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 15:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e39528fe665ec1316997be6e1c5eeef560b7b71', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n'}, {'number': 2, 'created': '2021-04-27 08:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a60ccf2df19dea6166a63bb24d72dc77d45a1308', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n'}, {'number': 3, 'created': '2021-04-27 15:05:08.000000000', 'files': ['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n'}]",5,788039,28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4,32,4,3,16688,,,0,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/788039/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py']",2,7e39528fe665ec1316997be6e1c5eeef560b7b71,bug/1926170,from neutron.conf import common as common_configfrom neutron.conf.plugins.ml2.drivers.mech_sriov import agent_common as \ sriov_conf sriov_conf.register_agent_sriov_nic_opts(cfg.CONF) common_config.register_core_common_config_opts(cfg.CONF),,19,7
openstack%2Ftripleo-heat-templates~master~I828dbece30d94938c9ec904415854570041e358d,openstack/tripleo-heat-templates,master,I828dbece30d94938c9ec904415854570041e358d,"Simplify manila, memcached and logging services",MERGED,2021-04-27 05:04:37.000000000,2021-04-28 23:28:22.000000000,2021-04-28 23:28:22.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 05:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f351578ab9ce4798474d9f0b7635d0131965bba', 'message': 'Simplify manila, memcached and logging services\n\nChange-Id: I828dbece30d94938c9ec904415854570041e358d\n'}, {'number': 2, 'created': '2021-04-27 06:37:49.000000000', 'files': ['deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/manila/manila-base.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fcd76ac47e9c66ae35c2ec2781a6d133b7ac753', 'message': 'Simplify manila, memcached and logging services\n\nChange-Id: I828dbece30d94938c9ec904415854570041e358d\n'}]",0,788130,9fcd76ac47e9c66ae35c2ec2781a6d133b7ac753,15,4,2,8833,,,0,"Simplify manila, memcached and logging services

Change-Id: I828dbece30d94938c9ec904415854570041e358d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/788130/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'deployment/manila/manila-backend-netapp.yaml', 'deployment/manila/manila-backend-unity.yaml', 'deployment/manila/manila-base.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/rsyslog-sidecar-container-puppet.yaml', 'deployment/manila/manila-backend-isilon.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/manila/manila-backend-vnx.yaml']",17,4f351578ab9ce4798474d9f0b7635d0131965bba,simplify_tht,, step_config: ,58,132
openstack%2Fpuppet-tripleo~master~I88a44ce776ad1d06ef03b08fdd0fd9e29394f268,openstack/puppet-tripleo,master,I88a44ce776ad1d06ef03b08fdd0fd9e29394f268,Bump metadata.json major to 14.1.0 for TripleO wallaby release,MERGED,2021-04-28 15:00:11.000000000,2021-04-28 23:28:17.000000000,2021-04-28 23:28:17.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 15:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f30992847e00c142939c94e97ba690872d334f42', 'message': 'Bump metadata.json major to 15 for TripleO wallaby release\n\nThis bumps metadata major in preparation for the TripleO wallaby\nrelease and branching. The current tag is 14.0.0 which is already\non the wallaby series [1] but that was done for wallaby-2 milestone\nand there have been a huge number of patches since then [2] so it\nwarrants another major bump. This is in line with what we have done\nfor tripleoclient and tripleo-common at [3]\n\n[1] https://github.com/openstack/os-net-config/releases/tag/14.0.0\n[2] https://github.com/openstack/puppet-tripleo/compare/14.0.0...cddca4d\n[3] https://review.opendev.org/c/openstack/releases/+/785670/2#message-b92ccbc73ae670a8506b2dbc36dee4d63c93bd4b\n\nChange-Id: I88a44ce776ad1d06ef03b08fdd0fd9e29394f268\n'}, {'number': 2, 'created': '2021-04-28 15:42:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/21bb81dd051f3e8897860f995092a79af963e719', 'message': 'Bump metadata.json major to 14.1.0 for TripleO wallaby release\n\nThis bumps metadata major in preparation for the TripleO wallaby\nrelease and branching.\n\nChange-Id: I88a44ce776ad1d06ef03b08fdd0fd9e29394f268\n'}]",0,788506,21bb81dd051f3e8897860f995092a79af963e719,16,4,2,8449,,,0,"Bump metadata.json major to 14.1.0 for TripleO wallaby release

This bumps metadata major in preparation for the TripleO wallaby
release and branching.

Change-Id: I88a44ce776ad1d06ef03b08fdd0fd9e29394f268
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/788506/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f30992847e00c142939c94e97ba690872d334f42,," ""version"": ""15.0.0"","," ""version"": ""14.0.0"",",1,1
openstack%2Ftripleo-upgrade~master~I4c70a209283051b3e405bb24e03f555cf3802d94,openstack/tripleo-upgrade,master,I4c70a209283051b3e405bb24e03f555cf3802d94,Add logic to execute validation groups in updates/upgrades.,MERGED,2021-04-21 15:25:14.000000000,2021-04-28 23:28:14.000000000,2021-04-28 23:28:14.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-04-21 15:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e19a299659f9a49ff0fa57df8317cee46fd062fe', 'message': ""Add logic to execute validation groups in updates/upgrades.\n\nThis commit reshapes the existing updates logic to allow running validations\ngroups in a more generic way. Including a task file in which the following\nis executed:\n    - Execute the group being passed validation_group if it's included in\n      the validation_allowed_groups.\n    - Log the output into a log file.\n    - Retrieve the validations results and fail if there is any validation\n      failed.\n    - Log all the tasks executed in each failed validation.\n\nAt the same time, this patch invokes the pre-upgrade validation group for\nFFU, both before starting with the upgrade (which uses mistral to trigger\nthe validation in OSP13 [0]) and before starting with the overcloud upgrade\n(which uses the new validations framework).\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I4c70a209283051b3e405bb24e03f555cf3802d94\n""}, {'number': 2, 'created': '2021-04-21 15:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1209cfec124628fcf1398aaf287b3977ca7b5402', 'message': ""Add logic to execute validation groups in updates/upgrades.\n\nThis commit reshapes the existing updates logic to allow running validations\ngroups in a more generic way. Including a task file in which the following\nis executed:\n- Execute the group being passed validation_group if it's included in\n  the validation_allowed_groups.\n- Log the output into a log file.\n- Retrieve the validations results and fail if there is any validation\n  failed.\n- Log all the tasks executed in each failed validation.\n\nAt the same time, this patch invokes the pre-upgrade validation group for\nFFU, both before starting with the upgrade (which uses mistral to trigger\nthe validation in OSP13 [0]) and before starting with the overcloud upgrade\n(which uses the new validations framework).\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I4c70a209283051b3e405bb24e03f555cf3802d94\n""}, {'number': 3, 'created': '2021-04-22 08:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ae3568f21a158dfc76e2d9876a53150615ee9372', 'message': ""Add logic to execute validation groups in updates/upgrades.\n\nThis commit reshapes the existing updates logic to allow running validations\ngroups in a more generic way. Including a task file in which the following\nis executed:\n- Execute the group being passed validation_group if it's included in\n  the validation_allowed_groups.\n- Log the output into a log file.\n- Retrieve the validations results and fail if there is any validation\n  failed.\n- Log all the tasks executed in each failed validation.\n\nAt the same time, this patch invokes the pre-upgrade validation group for\nFFU, both before starting with the upgrade (which uses mistral to trigger\nthe validation in OSP13 [0]) and before starting with the overcloud upgrade\n(which uses the new validations framework).\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I4c70a209283051b3e405bb24e03f555cf3802d94\n""}, {'number': 4, 'created': '2021-04-22 15:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3ebbee9e0842757953806d3fc37327c071014141', 'message': ""Add logic to execute validation groups in updates/upgrades.\n\nThis commit reshapes the existing updates logic to allow running validations\ngroups in a more generic way. Including a task file in which the following\nis executed:\n- Execute the group being passed validation_group if it's included in\n  the validation_allowed_groups.\n- Log the output into a log file.\n- Retrieve the validations results and fail if there is any validation\n  failed.\n- Log all the tasks executed in each failed validation.\n\nAt the same time, this patch invokes the pre-upgrade validation group for\nFFU, both before starting with the upgrade (which uses mistral to trigger\nthe validation in OSP13 [0]) and before starting with the overcloud upgrade\n(which uses the new validations framework).\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I4c70a209283051b3e405bb24e03f555cf3802d94\n""}, {'number': 5, 'created': '2021-04-23 05:24:00.000000000', 'files': ['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c945f00f97453018d1b5e531c981dad41fb2a21a', 'message': ""Add logic to execute validation groups in updates/upgrades.\n\nThis commit reshapes the existing updates logic to allow running validations\ngroups in a more generic way. Including a task file in which the following\nis executed:\n- Execute the group being passed validation_group if it's included in\n  the validation_allowed_groups.\n- Log the output into a log file.\n- Retrieve the validations results and fail if there is any validation\n  failed.\n- Log all the tasks executed in each failed validation.\n\nAt the same time, this patch invokes the pre-upgrade validation group for\nFFU, both before starting with the upgrade (which uses mistral to trigger\nthe validation in OSP13 [0]) and before starting with the overcloud upgrade\n(which uses the new validations framework).\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I4c70a209283051b3e405bb24e03f555cf3802d94\n""}]",12,787411,c945f00f97453018d1b5e531c981dad41fb2a21a,24,9,5,26343,,,0,"Add logic to execute validation groups in updates/upgrades.

This commit reshapes the existing updates logic to allow running validations
groups in a more generic way. Including a task file in which the following
is executed:
- Execute the group being passed validation_group if it's included in
  the validation_allowed_groups.
- Log the output into a log file.
- Retrieve the validations results and fail if there is any validation
  failed.
- Log all the tasks executed in each failed validation.

At the same time, this patch invokes the pre-upgrade validation group for
FFU, both before starting with the upgrade (which uses mistral to trigger
the validation in OSP13 [0]) and before starting with the overcloud upgrade
(which uses the new validations framework).

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/framework_for_upgrades_13_to_16.1/planning-and-preparation-for-an-in-place-openstack-platform-upgrade#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade

Change-Id: I4c70a209283051b3e405bb24e03f555cf3802d94
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/11/787411/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/validation_group_run.yaml', 'templates/pre-upgrade-osp13-validation.sh.j2', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-undercloud-upgrade-scripts.yaml', 'defaults/main.yml']",8,e19a299659f9a49ff0fa57df8317cee46fd062fe,,# validations groups for updates to be # executed if updates_validations is true. updates_validations_groups: - pre-update - pre-update-prepare - pre-update-run - pre-update-converge - post-update # enable update validation upgrades_validations: false # validations groups for updates to be # executed if updates_validations is true. upgrades_validations_groups: - pre-upgrade - pre-system-upgrade - pre-undercloud-upgrade - pre-overcloud-prepare - pre-overcloud-upgrade - pre-overcloud-converge - post-upgrade ,,146,45
openstack%2Fironic~stable%2Fwallaby~I01bd9e3a11fed68213bb392c04aa1d33bbe16b30,openstack/ironic,stable/wallaby,I01bd9e3a11fed68213bb392c04aa1d33bbe16b30,Process in-band deploy steps on fast-track,MERGED,2021-04-28 16:23:10.000000000,2021-04-28 23:24:25.000000000,2021-04-28 20:16:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-28 16:23:10.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/conductor/test_deployments.py', 'releasenotes/notes/fast-track-validate-723f27986a012ffe.yaml', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39dd7986d1ef038d6df6775d6b5c8d4702412330', 'message': ""Process in-band deploy steps on fast-track\n\nCurrently we're only recording them, but do not validate and take into\naccount. This change fixes it.\n\nThe deployment code has been updated to account for the fact that deploy\nsteps can change in run time.\n\nChange-Id: I01bd9e3a11fed68213bb392c04aa1d33bbe16b30\n(cherry picked from commit 9afa9b86d1c5fd11bd34a321708237d26ebeedfc)\n""}]",0,788520,39dd7986d1ef038d6df6775d6b5c8d4702412330,11,2,1,10239,,,0,"Process in-band deploy steps on fast-track

Currently we're only recording them, but do not validate and take into
account. This change fixes it.

The deployment code has been updated to account for the fact that deploy
steps can change in run time.

Change-Id: I01bd9e3a11fed68213bb392c04aa1d33bbe16b30
(cherry picked from commit 9afa9b86d1c5fd11bd34a321708237d26ebeedfc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/788520/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/tests/unit/conductor/test_deployments.py', 'releasenotes/notes/fast-track-validate-723f27986a012ffe.yaml', 'ironic/conductor/deployments.py']",4,39dd7986d1ef038d6df6775d6b5c8d4702412330,fast-track-validate-stable/wallaby," def _iter_steps(): if step_index is None: return # short-circuit to the end idx = step_index # The list can change in-flight, do not cache it! while idx < len(node.driver_internal_info['deploy_steps']): yield idx, node.driver_internal_info['deploy_steps'][idx] idx += 1 # Execute each step until we hit an async step or run out of steps, keeping # in mind that the steps list can be modified in-flight. for idx, step in _iter_steps(): LOG.info('Deploying on node %(node)s, remaining steps: ' '%(steps)s', { 'node': node.uuid, 'steps': node.driver_internal_info['deploy_steps'][idx:], }) driver_internal_info['deploy_step_index'] = idx@task_manager.require_exclusive_lock def validate_deploy_steps(task): """"""Validate the deploy steps after the ramdisk learns about them."""""" conductor_steps.validate_user_deploy_steps_and_templates(task) conductor_steps.set_node_deployment_steps( task, reset_current=False) info = task.node.driver_internal_info info['steps_validated'] = True task.node.driver_internal_info = info task.node.save() if not task.node.driver_internal_info.get('steps_validated'): try: validate_deploy_steps(task)"," if step_index is None: steps = [] else: steps = node.driver_internal_info['deploy_steps'][step_index:] LOG.info('Executing %(state)s on node %(node)s, remaining steps: ' '%(steps)s', {'node': node.uuid, 'steps': steps, 'state': node.provision_state}) # Execute each step until we hit an async step or run out of steps for ind, step in enumerate(steps): driver_internal_info['deploy_step_index'] = step_index + ind if not node.driver_internal_info.get('steps_validated'): try: conductor_steps.validate_user_deploy_steps_and_templates(task) conductor_steps.set_node_deployment_steps( task, reset_current=False) info = node.driver_internal_info info['steps_validated'] = True node.driver_internal_info = info node.save() ",80,22
openstack%2Fpuppet-openstack_extras~master~I66bbc9c84a309da451748734f23f43d4f4277cc1,openstack/puppet-openstack_extras,master,I66bbc9c84a309da451748734f23f43d4f4277cc1,Add stream parameter to openstack_extras::repo::redhat::redhat,MERGED,2021-04-15 19:25:55.000000000,2021-04-28 23:16:37.000000000,2021-04-28 23:15:34.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0a8b16122d9d9a8ddaa0f079d1d16be5185a02ed', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n'}, {'number': 2, 'created': '2021-04-15 19:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/1deae5e3a12f53c5ac697006b89aba2ad9598f31', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n'}, {'number': 3, 'created': '2021-04-16 15:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/fb74c36009fe6d465ff923c65ed3b8c2c191b057', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n'}, {'number': 4, 'created': '2021-04-16 15:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/b696bc887e04d4711ee434bb90edaeb13cdc3961', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n'}, {'number': 5, 'created': '2021-04-27 09:29:42.000000000', 'files': ['releasenotes/notes/add-redhat-repo-stream-param-e07601e273aad56c.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3ecddc59263d1d5263e4d977523fd58860145afc', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n'}]",3,786488,3ecddc59263d1d5263e4d977523fd58860145afc,17,4,5,16137,,,0,"Add stream parameter to openstack_extras::repo::redhat::redhat

Change-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/88/786488/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-redhat-repo-stream-param-e07601e273aad56c.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,0a8b16122d9d9a8ddaa0f079d1d16be5185a02ed,," context 'with major release 8 and stream set to true' do before do facts.merge!( :os => {'release' => {'major' => 8}} ) end it { should contain_yumrepo('rdo-release').with( :baseurl => ""http://mirror.centos.org/centos/8-stream/cloud/$basearch/openstack-victoria/"", )} it { should contain_yumrepo('rdo-qemu-ev').with( :baseurl => ""http://mirror.centos.org/centos/8-stream/virt/$basearch/advanced-virtualization/"", )} end ",,32,4
openstack%2Fswift~master~I8bca2d0804569952d31aee7de4ffe60ede4343d2,openstack/swift,master,I8bca2d0804569952d31aee7de4ffe60ede4343d2,reconstructor: extract closure for handle_response,MERGED,2021-04-28 16:15:26.000000000,2021-04-28 23:10:44.000000000,2021-04-28 23:07:47.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 16:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/931674a5db7778a3c43ce160cd6acd178428ba79', 'message': 'reconstructer: extract closure for handle_response\n\nSince _get_response was already a method, and called after the inline\ndefinition of the handle_repsonse closure (but before we called the\nclosure) I found the control flow to be confusingly different from\nvisual layout of the code.\n\nPassing a few extra params around felt worth doing a:\n\ndef _get_response(self, ...\ndef _handle_response(self, ...\n\n... and then using them, in that order, in the next method we define\n_make_fragment_requests (which is now quite short and obvoius, despite\ndoing some concurrency with a GreenAsyncPile)\n\nChange-Id: I8bca2d0804569952d31aee7de4ffe60ede4343d2\n'}, {'number': 2, 'created': '2021-04-28 16:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5da23cc2d7cf747d007344c49c7afcbde0d21410', 'message': 'reconstructor: extract closure for handle_response\n\nSince _get_response was already a method, and called after the inline\ndefinition of the handle_repsonse closure (but before we called the\nclosure) I found the control flow to be confusingly different from\nvisual layout of the code.\n\nPassing a few extra params around felt worth doing a:\n\ndef _get_response(self, ...\ndef _handle_response(self, ...\n\n... and then using them, in that order, in the next method we define\n_make_fragment_requests (which is now quite short and obvoius, despite\ndoing some concurrency with a GreenAsyncPile)\n\nRelated-Change-Id: I3f87933f788685775ce59f3724f17d5db948d502\nChange-Id: I8bca2d0804569952d31aee7de4ffe60ede4343d2\n'}, {'number': 3, 'created': '2021-04-28 17:50:49.000000000', 'files': ['swift/obj/reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ab8accbb0a388c56b43736082daa0ac43d2b8ba1', 'message': 'reconstructor: extract closure for handle_response\n\nSince _get_response was already a method, and called after the inline\ndefinition of the handle_response closure (but before we called the\nclosure) I found the control flow to be confusingly different from\nvisual layout of the code.\n\nPassing a few extra params around felt worth doing a:\n\ndef _get_response(self, ...\ndef _handle_response(self, ...\n\n... and then using them, in that order, in the next method we define\n_make_fragment_requests (which is now quite short and obvoius, despite\ndoing some concurrency with a GreenAsyncPile)\n\nRelated-Change-Id: I3f87933f788685775ce59f3724f17d5db948d502\nChange-Id: I8bca2d0804569952d31aee7de4ffe60ede4343d2\n'}]",3,788540,ab8accbb0a388c56b43736082daa0ac43d2b8ba1,11,3,3,1179,,,0,"reconstructor: extract closure for handle_response

Since _get_response was already a method, and called after the inline
definition of the handle_response closure (but before we called the
closure) I found the control flow to be confusingly different from
visual layout of the code.

Passing a few extra params around felt worth doing a:

def _get_response(self, ...
def _handle_response(self, ...

... and then using them, in that order, in the next method we define
_make_fragment_requests (which is now quite short and obvoius, despite
doing some concurrency with a GreenAsyncPile)

Related-Change-Id: I3f87933f788685775ce59f3724f17d5db948d502
Change-Id: I8bca2d0804569952d31aee7de4ffe60ede4343d2
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/788540/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/reconstructor.py'],1,931674a5db7778a3c43ce160cd6acd178428ba79,p-lonely-frag," # job, datafile_metadata, nodes def _handle_fragment_response(self, node, policy, partition, fi_to_rebuild, path, buckets, error_responses, resp): """""" Place ok responses into a per-timestamp bucket. Append bad responses to a list per-status-code in error_responses. :return: the per-timestamp bucket if the response is ok, otherwise None. """""" if not resp: error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None if resp.status not in [HTTP_OK, HTTP_NOT_FOUND]: self.logger.warning( _(""Invalid response %(resp)s from %(full_path)s""), {'resp': resp.status, 'full_path': resp.full_path}) if resp.status != HTTP_OK: error_responses[resp.status].append(resp) return None resp.headers = HeaderKeyDict(resp.getheaders()) frag_index = resp.headers.get('X-Object-Sysmeta-Ec-Frag-Index') try: resp_frag_index = int(frag_index) except (TypeError, ValueError): # The successful response should include valid X-Object- # Sysmeta-Ec-Frag-Index but for safety, catching the case # either missing X-Object-Sysmeta-Ec-Frag-Index or invalid # frag index to reconstruct and dump warning log for that self.logger.warning( 'Invalid resp from %s ' '(invalid X-Object-Sysmeta-Ec-Frag-Index: %r)', resp.full_path, frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None timestamp = resp.headers.get('X-Backend-Timestamp') if not timestamp: self.logger.warning('Invalid resp from %s, frag index %s ' '(missing X-Backend-Timestamp)', resp.full_path, resp_frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None timestamp = Timestamp(timestamp) etag = resp.headers.get('X-Object-Sysmeta-Ec-Etag') if not etag: self.logger.warning( 'Invalid resp from %s, frag index %s (missing Etag)', resp.full_path, resp_frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None bucket = buckets[timestamp] bucket.num_responses += 1 if bucket.etag is None: bucket.etag = etag elif bucket.etag != etag: self.logger.error('Mixed Etag (%s, %s) for %s frag#%s', etag, bucket.etag, _full_path(node, partition, path, policy), fi_to_rebuild) return None if fi_to_rebuild == resp_frag_index: # TODO: With duplicated EC frags it's not unreasonable to # find the very fragment we're trying to rebuild exists on # another primary node. In this case we should stream it # directly from the remote node to our target instead of # rebuild. But instead we ignore it. self.logger.debug( 'Found existing frag #%s at %s while rebuilding to %s', fi_to_rebuild, resp.full_path, _full_path(node, partition, path, policy)) return None durable_timestamp = resp.headers.get('X-Backend-Durable-Timestamp') if durable_timestamp: buckets[Timestamp(durable_timestamp)].durable = True if resp_frag_index not in bucket.useful_responses: bucket.useful_responses[resp_frag_index] = resp return bucket return None bucket = self._handle_fragment_response( node, policy, partition, fi_to_rebuild, path, buckets, error_responses, resp)"," def handle_fragment_response(resp): """""" Place ok responses into a per-timestamp bucket. Append bad responses to a list per-status-code in error_responses. :return: the per-timestamp bucket if the response is ok, otherwise None. """""" if not resp: error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None if resp.status not in [HTTP_OK, HTTP_NOT_FOUND]: self.logger.warning( _(""Invalid response %(resp)s from %(full_path)s""), {'resp': resp.status, 'full_path': resp.full_path}) if resp.status != HTTP_OK: error_responses[resp.status].append(resp) return None resp.headers = HeaderKeyDict(resp.getheaders()) frag_index = resp.headers.get('X-Object-Sysmeta-Ec-Frag-Index') try: resp_frag_index = int(frag_index) except (TypeError, ValueError): # The successful response should include valid X-Object- # Sysmeta-Ec-Frag-Index but for safety, catching the case # either missing X-Object-Sysmeta-Ec-Frag-Index or invalid # frag index to reconstruct and dump warning log for that self.logger.warning( 'Invalid resp from %s ' '(invalid X-Object-Sysmeta-Ec-Frag-Index: %r)', resp.full_path, frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None timestamp = resp.headers.get('X-Backend-Timestamp') if not timestamp: self.logger.warning('Invalid resp from %s, frag index %s ' '(missing X-Backend-Timestamp)', resp.full_path, resp_frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None timestamp = Timestamp(timestamp) etag = resp.headers.get('X-Object-Sysmeta-Ec-Etag') if not etag: self.logger.warning( 'Invalid resp from %s, frag index %s (missing Etag)', resp.full_path, resp_frag_index) error_responses[UNKNOWN_RESPONSE_STATUS].append(resp) return None bucket = buckets[timestamp] bucket.num_responses += 1 if bucket.etag is None: bucket.etag = etag elif bucket.etag != etag: self.logger.error('Mixed Etag (%s, %s) for %s frag#%s', etag, bucket.etag, _full_path(node, partition, path, policy), fi_to_rebuild) return None if fi_to_rebuild == resp_frag_index: # TODO: With duplicated EC frags it's not unreasonable to # find the very fragment we're trying to rebuild exists on # another primary node. In this case we should stream it # directly from the remote node to our target instead of # rebuild. But instead we ignore it. self.logger.debug( 'Found existing frag #%s at %s while rebuilding to %s', fi_to_rebuild, resp.full_path, _full_path(node, partition, path, policy)) return None durable_timestamp = resp.headers.get('X-Backend-Durable-Timestamp') if durable_timestamp: buckets[Timestamp(durable_timestamp)].durable = True if resp_frag_index not in bucket.useful_responses: bucket.useful_responses[resp_frag_index] = resp return bucket return None bucket = handle_fragment_response(resp)",90,86
openstack%2Fneutron~master~Idf85e304897c9d1073091c6cabb86be39640f332,openstack/neutron,master,Idf85e304897c9d1073091c6cabb86be39640f332,[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent,MERGED,2021-04-21 11:16:03.000000000,2021-04-28 23:09:44.000000000,2021-04-28 23:06:51.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 11:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e9301777b51e1413ae80acc2eaee31e3260316d', 'message': '[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n\nThis commit is similar to [1]. The OVN QoS extension do not manage the\nexternal type ports (SR-IOV); the port QoS policy of those ports is\nhandled by the SR-IOV agent QoS extension.\n\nWhen a network is updated, the OVN QoS extension should check the type\nof port bound. In case of having an ""external"" port (SR-IOV), the QoS\nextension should not handle it.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/780054\n\nCloses-Bug: #1925218\n\nChange-Id: Idf85e304897c9d1073091c6cabb86be39640f332\n'}, {'number': 2, 'created': '2021-04-21 11:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c22ab7acb3bd39729643035b801e71664ea102a', 'message': '[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n\nThis commit is similar to [1]. The OVN QoS extension does not manage\nthe external type ports (SR-IOV); the port QoS policy of those ports\nis handled by the SR-IOV agent QoS extension.\n\nWhen a network is updated, the OVN QoS extension should check the type\nof port bound. In case of having an ""external"" port (SR-IOV), the QoS\nextension should not handle it.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/780054\n\nCloses-Bug: #1925218\n\nChange-Id: Idf85e304897c9d1073091c6cabb86be39640f332\n'}, {'number': 3, 'created': '2021-04-21 13:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07c2b13dc45807865b5cf1dabf167fa9bd3893f4', 'message': '[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n\nThis commit is similar to [1]. The OVN QoS extension does not manage\nthe external type ports (SR-IOV); the port QoS policy of those ports\nis handled by the SR-IOV agent QoS extension.\n\nWhen a network is updated, the OVN QoS extension should check the type\nof port bound. In case of having an ""external"" port (SR-IOV), the QoS\nextension should not handle it.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/780054\n\nCloses-Bug: #1925218\n\nChange-Id: Idf85e304897c9d1073091c6cabb86be39640f332\n'}, {'number': 4, 'created': '2021-04-22 13:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05bb5e4a733a43e58310c57315826da7c419cade', 'message': '[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n\nThis commit is similar to [1]. The OVN QoS extension does not manage\nthe external type ports (SR-IOV); the port QoS policy of those ports\nis handled by the SR-IOV agent QoS extension.\n\nWhen a network is updated, the OVN QoS extension should check the type\nof port bound. In case of having an ""external"" port (SR-IOV), the QoS\nextension should not handle it.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/780054\n\nCloses-Bug: #1925218\n\nChange-Id: Idf85e304897c9d1073091c6cabb86be39640f332\n'}, {'number': 5, 'created': '2021-04-23 08:09:24.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43c10aae867c6ccd6ed76b4c68ef58c9aa8a0726', 'message': '[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n\nThis commit is similar to [1]. The OVN QoS extension does not manage\nthe external type ports (SR-IOV); the port QoS policy of those ports\nis handled by the SR-IOV agent QoS extension.\n\nWhen a network is updated, the OVN QoS extension should check the type\nof port bound. In case of having an ""external"" port (SR-IOV), the QoS\nextension should not handle it.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/780054\n\nCloses-Bug: #1925218\n\nChange-Id: Idf85e304897c9d1073091c6cabb86be39640f332\n'}]",6,787351,43c10aae867c6ccd6ed76b4c68ef58c9aa8a0726,51,7,5,16688,,,0,"[OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent

This commit is similar to [1]. The OVN QoS extension does not manage
the external type ports (SR-IOV); the port QoS policy of those ports
is handled by the SR-IOV agent QoS extension.

When a network is updated, the OVN QoS extension should check the type
of port bound. In case of having an ""external"" port (SR-IOV), the QoS
extension should not handle it.

[1]https://review.opendev.org/c/openstack/neutron/+/780054

Closes-Bug: #1925218

Change-Id: Idf85e304897c9d1073091c6cabb86be39640f332
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/787351/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py']",3,9e9301777b51e1413ae80acc2eaee31e3260316d,bug/1925218," qos_rules=None, port_type=None, retrieve_port_type=False): if (port_type == ovn_const.LSP_TYPE_EXTERNAL or (retrieve_port_type and utils.is_port_external(port, self._driver._nb_idl))): # External ports (SR-IOV) QoS is handled by the SR-IOV agent QoS if (utils.is_network_device_port(port) or utils.is_port_external(port, self._driver._nb_idl)): qos_rules=qos_rules, retrieve_port_type=True)"," qos_rules=None, port_type=None): if port_type == ovn_const.LSP_TYPE_EXTERNAL: # External ports (SR-IOV) QoS is handled the SR-IOV agent QoS if utils.is_network_device_port(port): qos_rules=qos_rules)",54,5
openstack%2Fswift~master~Icf170fef26ed36aab3bf845c5560f1e579a69c2b,openstack/swift,master,Icf170fef26ed36aab3bf845c5560f1e579a69c2b,swift-manage-shard-ranges: fix exit codes,MERGED,2021-04-09 11:44:27.000000000,2021-04-28 23:09:30.000000000,2021-04-28 23:07:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 11:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2dd21f4fe8a8f3606dccb76622cedb38e2bdb7ac', 'message': 'swift-manage-shard-ranges: fix exit codes\n\nPreviously swift-manage-shard-ranges would variously return either 1\nor 2 in cases of invalid arguments, errors or unexpected outcomes, or\nif the user chose to quit before a change was applied. This patch\napplies a more consistent pattern to the exit codes:\n\n0 = success\n1 = an unexpected outcome, including errors\n2 = invalid command line arguments or conf file options\n3 = user quit\n\nSome errors that previously resulted in an exit code 2 will now exit\nwith code 1.\n\nChange-Id: Icf170fef26ed36aab3bf845c5560f1e579a69c2b\n'}, {'number': 2, 'created': '2021-04-09 16:02:06.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7f35b1cc8bc4c1294ef92a98d61e5dfb5f44718e', 'message': 'swift-manage-shard-ranges: fix exit codes\n\nPreviously swift-manage-shard-ranges would variously return either 1\nor 2 in cases of invalid arguments, errors or unexpected outcomes, or\nif the user chose to quit before a change was applied. This patch\napplies a more consistent pattern to the exit codes:\n\n0 = success\n1 = an unexpected outcome, including errors\n2 = invalid command line arguments or conf file options\n3 = user quit\n\nSome errors that previously resulted in an exit code 2 will now exit\nwith code 1.\n\nChange-Id: Icf170fef26ed36aab3bf845c5560f1e579a69c2b\n'}]",0,785628,7f35b1cc8bc4c1294ef92a98d61e5dfb5f44718e,10,2,2,7847,,,0,"swift-manage-shard-ranges: fix exit codes

Previously swift-manage-shard-ranges would variously return either 1
or 2 in cases of invalid arguments, errors or unexpected outcomes, or
if the user chose to quit before a change was applied. This patch
applies a more consistent pattern to the exit codes:

0 = success
1 = an unexpected outcome, including errors
2 = invalid command line arguments or conf file options
3 = user quit

Some errors that previously resulted in an exit code 2 will now exit
with code 1.

Change-Id: Icf170fef26ed36aab3bf845c5560f1e579a69c2b
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/785628/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py']",2,2dd21f4fe8a8f3606dccb76622cedb38e2bdb7ac,p-shard-dry-run,"import six with mock.patch('swift.cli.manage_shard_ranges.find_ranges', return_value=0) as mocked: ret = main([db_file, 'find']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.find_ranges', return_value=0) as mocked: ret = main([db_file, '--config', conf_file, 'find']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.find_ranges', return_value=0) as mocked: ret = main([db_file, '--config', conf_file, 'find', '12345']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges', return_value=0) as mocked: ret = main([db_file, 'compact']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges', return_value=0) as mocked: ret = main([db_file, '--config', conf_file, 'compact']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges', return_value=0) as mocked: ret = main([db_file, '--config', conf_file, 'compact']) self.assertEqual(0, ret) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges', return_value=0) as mocked: ret = main([db_file, '--config', conf_file, 'compact', '--max-shrinking', '22', '--max-expanding', '11', '--expansion-limit', '3456', '--shrink-threshold', '1234']) self.assertEqual(0, ret) ret = main([db_file, '--config', conf_file, 'compact']) self.assertEqual(2, ret) self.assert_starts_with(err_lines[0], 'Error loading config file') ret = main([db_file, '--config', conf_file, 'compact']) self.assertEqual(1, ret) ret = main([db_file, 'find']) self.assertEqual(0, ret) ret = main([db_file, 'find', '100']) self.assertEqual(0, ret) ret = main([db_file, 'find', '99']) self.assertEqual(0, ret) ret = main([db_file, 'find', '10']) self.assertEqual(0, ret) ret = main([broker.db_file, 'info']) self.assertEqual(0, ret) ret = main([broker.db_file, 'info']) self.assertEqual(0, ret) ret = main([broker.db_file, 'info']) self.assertEqual(0, ret) ret = main([broker.db_file, 'show']) self.assertEqual(0, ret) ret = main([broker.db_file, 'show']) self.assertEqual(0, ret) ret = main([broker.db_file, 'show', '--includes', 'foo']) self.assertEqual(0, ret) ret = main([broker.db_file, 'replace', input_file]) self.assertEqual(0, ret) ret = main(['-', 'analyze']) self.assertEqual(1, ret) ret = main(['-', 'analyze']) self.assertEqual(0, ret) ret = main(['-', 'analyze']) self.assertEqual(0, ret) with self.assertRaises(SystemExit) as cm: self.assertEqual(1, cm.exception.code) ret = main([broker.db_file, 'enable']) self.assertEqual(0, ret) ret = main([broker.db_file, 'enable']) self.assertEqual(0, ret) ret = main([broker.db_file, 'find_and_replace', '10', '--enable']) self.assertEqual(0, ret) mock_timestamp_now(), mock.patch(to_patch, return_value='q'): ret = main([broker.db_file, 'find_and_replace', '10']) self.assertEqual(3, ret) with self.assertRaises(SystemExit) as cm: self.assertEqual(2, cm.exception.code) with self.assertRaises(SystemExit) as cm: self.assertEqual(2, cm.exception.code) with self.assertRaises(SystemExit) as cm: self.assertEqual(2, cm.exception.code) with self.assertRaises(SystemExit) as cm: self.assertEqual(2, cm.exception.code) self.assertEqual(1, ret) self.assertEqual(1, ret) self.assertEqual(1, ret) def do_compact(user_input, exit_code): self.assertEqual(exit_code, ret) broker_ranges = do_compact('n', 3) broker_ranges = do_compact('yes', 0) self.assertEqual(1, ret) def do_repair(user_input, ts_now, exit_code): self.assertEqual(exit_code, ret) do_repair('n', ts_now, 3) do_repair('yes', ts_now, 0) def test_subcommand_required(self): out = StringIO() err = StringIO() with mock.patch('sys.stdout', out), \ mock.patch('sys.stderr', err): if six.PY2: with self.assertRaises(SystemExit) as cm: main(['db file']) err_lines = err.getvalue().split('\n') self.assertIn('too few arguments', ' '.join(err_lines)) self.assertEqual(2, cm.exception.code) else: ret = main(['db file']) self.assertEqual(2, ret) err_lines = err.getvalue().split('\n') self.assertIn('A sub-command is required.', err_lines)"," with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, 'find']) with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, '--config', conf_file, 'find']) with mock.patch('swift.cli.manage_shard_ranges.find_ranges') as mocked: main([db_file, '--config', conf_file, 'find', '12345']) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, 'compact']) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, '--config', conf_file, 'compact']) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, '--config', conf_file, 'compact']) with mock.patch('swift.cli.manage_shard_ranges.compact_shard_ranges') \ as mocked: main([db_file, '--config', conf_file, 'compact', '--max-shrinking', '22', '--max-expanding', '11', '--expansion-limit', '3456', '--shrink-threshold', '1234']) main([db_file, '--config', conf_file, 'compact']) self.assert_starts_with(err_lines[0], 'Error opening config file') main([db_file, '--config', conf_file, 'compact']) main([db_file, 'find']) main([db_file, 'find', '100']) main([db_file, 'find', '99']) main([db_file, 'find', '10']) main([broker.db_file, 'info']) main([broker.db_file, 'info']) main([broker.db_file, 'info']) main([broker.db_file, 'show']) main([broker.db_file, 'show']) main([broker.db_file, 'show', '--includes', 'foo']) main([broker.db_file, 'replace', input_file]) main(['-', 'analyze']) main(['-', 'analyze']) main(['-', 'analyze']) with self.assertRaises(SystemExit): main([broker.db_file, 'enable']) main([broker.db_file, 'enable']) main([broker.db_file, 'find_and_replace', '10', '--enable']) mock_timestamp_now() as now, \ mock.patch(to_patch, return_value='q'): main([broker.db_file, 'find_and_replace', '10']) with self.assertRaises(SystemExit): with self.assertRaises(SystemExit): with self.assertRaises(SystemExit): with self.assertRaises(SystemExit): self.assertEqual(2, ret) self.assertEqual(2, ret) self.assertEqual(2, ret) def do_compact(user_input): self.assertEqual(0, ret) broker_ranges = do_compact('n') broker_ranges = do_compact('yes') self.assertEqual(2, ret) def do_repair(user_input, ts_now): self.assertEqual(0, ret) do_repair('n', ts_now) do_repair('yes', ts_now)",155,93
openstack%2Fswift~master~I3f87933f788685775ce59f3724f17d5db948d502,openstack/swift,master,I3f87933f788685775ce59f3724f17d5db948d502,reconstructor: log more details when rebuild fails,MERGED,2021-04-20 18:40:59.000000000,2021-04-28 23:07:28.000000000,2021-04-28 23:07:28.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 18:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be3a069def81c66840a3655bd9a7a6e89c469482', 'message': 'reconstructor: log more details when rebuild fails\n\nWhen the reconstructor fails to gather enough fragments to rebuild a\nmissing fragment, log more details about the responses that it *did*\nget:\n\n  - log total number of ok responses, as well as the number of useful\n    responses, to reveal if, for example, there might have been\n    duplicate frag indexes or mixed etags.\n\n  - log the mix of error status codes received to reveal if, for\n    example, they were all 404s.\n\nAlso refactor reconstruct_fa to track all state related to a timestamp\nin a small data encapsulation class rather than in multiple dicts.\n\nRelated-Bug: 1655608\nChange-Id: I3f87933f788685775ce59f3724f17d5db948d502\n'}, {'number': 2, 'created': '2021-04-21 13:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a7673463a1cb4d64dfabe8f2bb1c420e60094542', 'message': 'reconstructor: log more details when rebuild fails\n\nWhen the reconstructor fails to gather enough fragments to rebuild a\nmissing fragment, log more details about the responses that it *did*\nget:\n\n  - log total number of ok responses, as well as the number of useful\n    responses, to reveal if, for example, there might have been\n    duplicate frag indexes or mixed etags.\n\n  - log the mix of error status codes received to reveal if, for\n    example, they were all 404s.\n\nAlso refactor reconstruct_fa to track all state related to a timestamp\nin a small data encapsulation class rather than in multiple dicts.\n\nRelated-Bug: 1655608\nChange-Id: I3f87933f788685775ce59f3724f17d5db948d502\n'}, {'number': 3, 'created': '2021-04-27 11:02:52.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/obj/test_ssync.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7960097f02bab5a4568eddb6b98d7b8b47543561', 'message': 'reconstructor: log more details when rebuild fails\n\nWhen the reconstructor fails to gather enough fragments to rebuild a\nmissing fragment, log more details about the responses that it *did*\nget:\n\n  - log total number of ok responses, as well as the number of useful\n    responses, to reveal if, for example, there might have been\n    duplicate frag indexes or mixed etags.\n\n  - log the mix of error status codes received to reveal if, for\n    example, they were all 404s.\n\nAlso refactor reconstruct_fa to track all state related to a timestamp\nin a small data encapsulation class rather than in multiple dicts.\n\nRelated-Bug: 1655608\nChange-Id: I3f87933f788685775ce59f3724f17d5db948d502\n'}]",5,787279,7960097f02bab5a4568eddb6b98d7b8b47543561,15,2,3,7847,,,0,"reconstructor: log more details when rebuild fails

When the reconstructor fails to gather enough fragments to rebuild a
missing fragment, log more details about the responses that it *did*
get:

  - log total number of ok responses, as well as the number of useful
    responses, to reveal if, for example, there might have been
    duplicate frag indexes or mixed etags.

  - log the mix of error status codes received to reveal if, for
    example, they were all 404s.

Also refactor reconstruct_fa to track all state related to a timestamp
in a small data encapsulation class rather than in multiple dicts.

Related-Bug: 1655608
Change-Id: I3f87933f788685775ce59f3724f17d5db948d502
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/787279/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py']",2,be3a069def81c66840a3655bd9a7a6e89c469482,p-lonely-frag," for status in (200, 400, 404, 503): resp = do_test(status) self.assertEqual(status, resp.status) 'Unable to get enough responses (%s x unknown error responses)' 'Unable to get enough responses (%s x 404 error responses)' def test_reconstruct_fa_mixture_of_errors_fails(self): job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[1] node['backend_index'] = self.policy.get_backend_index(node['index']) policy = self.policy possible_errors = [Timeout(), 404, 507] codes = [random.choice(possible_errors) for i in range(policy.object_ring.replicas - 1)] with mocked_http_conn(*codes): self.assertRaises(DiskFileError, self.reconstructor.reconstruct_fa, job, node, self.obj_metadata) exp_timeouts = len([c for c in codes if isinstance(c, Timeout)]) exp_404s = len([c for c in codes if c == 404]) exp_507s = len([c for c in codes if c == 507]) error_lines = self.logger.get_lines_for_level('error') # 1 error log to report not enough responses and possibly some to # report Timeouts self.assertEqual(len(error_lines), exp_timeouts + 1, error_lines) for line in error_lines[:-1]: self.assertIn(""Trying to GET"", line) self.assertIn( 'Unable to get enough responses ' '(%s x unknown, %s x 404, %s x 507 error responses)' % (exp_timeouts, exp_404s, exp_507s), error_lines[-1], ""Unexpected error line found: %s"" % error_lines[-1]) # no warning warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(exp_507s, len(warning_lines), warning_lines) for line in warning_lines: self.assertIn('Invalid response 507', line) def test_reconstruct_fa_with_mixed_timestamps_etags_fail(self): 'frag#1 with ETag %s and timestamp %s '\ '(total %s responses)' % \ expected_etag, ts, etag_count[expected_etag]) def test_reconstruct_fa_with_mixed_etags_same_timestamp_fail(self): job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[1] node['backend_index'] = self.policy.get_backend_index(node['index']) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] ec_archive_dict = dict() ts = next(make_timestamp_iter()) # create 3 different ec bodies for i in range(3): body = test_data[i:] archive_bodies = encode_frag_archive_bodies(self.policy, body) # pop the index to the destination node archive_bodies.pop(1) key = (md5(body, usedforsecurity=False).hexdigest(), ts.internal, bool(i % 2)) ec_archive_dict[key] = archive_bodies responses = list() # fill out response list by 3 different etag bodies, same timestamp for etag, ts, durable in itertools.cycle(ec_archive_dict): body = ec_archive_dict[(etag, ts, durable)].pop(0) headers = get_header_frag_index(self, body) headers.update({'X-Object-Sysmeta-Ec-Etag': etag, 'X-Backend-Timestamp': ts}) if durable: headers['X-Backend-Durable-Timestamp'] = ts responses.append((200, body, headers)) if len(responses) >= (self.policy.object_ring.replicas - 1): break # sanity, there is 3 different etag and each etag # doesn't have > ec_k bodies etag_count = collections.Counter( [in_resp_headers['X-Object-Sysmeta-Ec-Etag'] for _, _, in_resp_headers in responses]) self.assertEqual(3, len(etag_count)) for etag, count in etag_count.items(): self.assertLess(count, self.policy.ec_ndata) codes, body_iter, headers = zip(*responses) with mocked_http_conn(*codes, body_iter=body_iter, headers=headers): self.assertRaises(DiskFileError, self.reconstructor.reconstruct_fa, job, node, self.obj_metadata) error_lines = self.logger.get_lines_for_level('error') self.assertGreater(len(error_lines), 1) for expected_etag, ts, durable in ec_archive_dict: if expected_etag in error_lines[-1]: break else: self.fail( ""no expected etag %s found: %s"" % (list(ec_archive_dict), error_lines[0])) other_etags_count = sum(count for etag, count in etag_count.items() if etag != expected_etag) self.assertEqual(other_etags_count + 1, len(error_lines)) for line in error_lines[:-1]: self.assertIn('Mixed Etag', line) expected = 'Unable to get enough responses (%s/10) to ' \ 'reconstruct %s 10.0.0.1:1001/sdb/0%s policy#0 ' \ 'frag#1 with ETag %s and timestamp %s ' \ '(total %s responses)' % \ (etag_count[expected_etag], 'durable' if durable else 'non-durable', self.obj_path.decode('utf8'), expected_etag, ts, len(responses)) self.assertIn( expected, error_lines[-1], ""Unexpected error line found: Expected: %s Got: %s"" % (expected, error_lines[0])) # no warning self.assertFalse(self.logger.get_lines_for_level('warning')) def test_reconstruct_fa_finds_missing_frag_does_not_fail(self):"," resp = do_test(200) self.assertEqual(resp.status, 200) resp = do_test(400) # on the error case return value will be None instead of response self.assertIsNone(resp) # ... and log warnings for 400 for line in self.logger.get_lines_for_level('warning'): self.assertIn('Invalid response 400', line) self.logger._clear() # we should get a warning on 503 (sanity) resp = do_test(503) self.assertIsNone(resp) warnings = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warnings)) self.assertIn('Invalid response 503', warnings[0]) self.logger.clear() # ... but no messages should be emitted for 404 resp = do_test(404) self.assertIsNone(resp) for level, msgs in self.logger.lines_dict.items(): self.assertFalse(msgs) 'Unable to get enough responses (%s error responses)' 'Unable to get enough responses (%s error responses)' def test_reconstruct_fa_with_mixed_not_enough_etags_fail(self): 'frag#1 with ETag %s and timestamp %s' % \ expected_etag, ts) def test_reconstruct_fa_finds_itself_does_not_fail(self):",267,117
openstack%2Fcinder~master~I79f2e58de42fca69c08f3636d72b80bdf8457e9a,openstack/cinder,master,I79f2e58de42fca69c08f3636d72b80bdf8457e9a,Remove unnecessary DB read,MERGED,2021-03-03 18:16:56.000000000,2021-04-28 21:34:52.000000000,2021-04-28 21:28:40.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31016}]","[{'number': 1, 'created': '2021-03-03 18:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eedf0d38d0efbb2d2285b3fd807c6cdd57b1a31e', 'message': ""Remove unnecessary DB read\n\nAttachment OVO automatically loads the Volume OVO into its `volume`\nattribute, so we don't need to load it again in the volume's API\n`attachment_delete` method.\n\nChange-Id: I79f2e58de42fca69c08f3636d72b80bdf8457e9a\n""}, {'number': 2, 'created': '2021-03-09 20:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94484c9f0db862ddd272737f812545f884dd242f', 'message': ""Remove unnecessary DB read\n\nAttachment OVO automatically loads the Volume OVO into its `volume`\nattribute, so we don't need to load it again in the volume's API\n`attachment_delete` method.\n\nChange-Id: I79f2e58de42fca69c08f3636d72b80bdf8457e9a\n""}, {'number': 3, 'created': '2021-03-17 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ea8c0009cdddea24636766e605e76b81f8ac142', 'message': ""Remove unnecessary DB read\n\nAttachment OVO automatically loads the Volume OVO into its `volume`\nattribute, so we don't need to load it again in the volume's API\n`attachment_delete` method.\n\nChange-Id: I79f2e58de42fca69c08f3636d72b80bdf8457e9a\n""}, {'number': 4, 'created': '2021-03-26 10:44:56.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c296105692c932659be56f7d1c9b18703c127429', 'message': ""Remove unnecessary DB read\n\nAttachment OVO automatically loads the Volume OVO into its `volume`\nattribute, so we don't need to load it again in the volume's API\n`attachment_delete` method.\n\nChange-Id: I79f2e58de42fca69c08f3636d72b80bdf8457e9a\n""}]",0,778533,c296105692c932659be56f7d1c9b18703c127429,94,6,4,9535,,,0,"Remove unnecessary DB read

Attachment OVO automatically loads the Volume OVO into its `volume`
attribute, so we don't need to load it again in the volume's API
`attachment_delete` method.

Change-Id: I79f2e58de42fca69c08f3636d72b80bdf8457e9a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/778533/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,eedf0d38d0efbb2d2285b3fd807c6cdd57b1a31e,fing-attachment-code, volume = attachment.volume," volume = objects.Volume.get_by_id(ctxt, attachment.volume_id)",1,1
openstack%2Fneutron~master~Icfbd00040834b311e78138cc93e7ab86355e557c,openstack/neutron,master,Icfbd00040834b311e78138cc93e7ab86355e557c,"Add missing ""system"" scope in some of the new API policies",MERGED,2021-04-23 11:04:00.000000000,2021-04-28 21:34:37.000000000,2021-04-28 21:26:47.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 11:04:00.000000000', 'files': ['neutron/conf/policies/floatingip.py', 'neutron/conf/policies/port.py', 'neutron/conf/policies/network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/47038c27c5ea5ac1c78a3d6382047f3cbbe466ef', 'message': 'Add missing ""system"" scope in some of the new API policies\n\nDuring the migration to the new RBAC policies we made mistakes and we\nallowed some of the APIs to be available for SYSTEM users but we allowed\nit only for ""project"" scope.\nAs we discussed during the PTG, policy in such case should allows to use\nsuch API also for the ""system"" scope tokens.\nThis patch adds it where it was still missing.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Icfbd00040834b311e78138cc93e7ab86355e557c\n'}]",1,787703,47038c27c5ea5ac1c78a3d6382047f3cbbe466ef,11,4,1,11975,,,0,"Add missing ""system"" scope in some of the new API policies

During the migration to the new RBAC policies we made mistakes and we
allowed some of the APIs to be available for SYSTEM users but we allowed
it only for ""project"" scope.
As we discussed during the PTG, policy in such case should allows to use
such API also for the ""system"" scope tokens.
This patch adds it where it was still missing.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Icfbd00040834b311e78138cc93e7ab86355e557c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/787703/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/floatingip.py', 'neutron/conf/policies/port.py', 'neutron/conf/policies/network.py']",3,47038c27c5ea5ac1c78a3d6382047f3cbbe466ef,secure-rbac," scope_types=['system', 'project'], scope_types=['system', 'project'], scope_types=['system', 'project'],"," scope_types=['project'], scope_types=['project'], scope_types=['project'],",5,5
openstack%2Fneutron~stable%2Fvictoria~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,stable/victoria,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-27 10:05:52.000000000,2021-04-28 21:34:02.000000000,2021-04-28 21:23:45.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-27 10:05:52.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60597d2503bba839dca96def3fa2bf2cb28f5205', 'message': ""[OVN] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)\n""}]",0,788155,60597d2503bba839dca96def3fa2bf2cb28f5205,14,5,1,8655,,,0,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/788155/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",4,60597d2503bba839dca96def3fa2bf2cb28f5205,, def check_net_and_ip(port): # If the port is not bound to any chassis it is not relevant if not port.chassis: return False # TODO(dalvarez): Remove the comparison to port.datapath.uuid in Y # cycle when we are sure that all namespaces will be created with # the Neutron network UUID and not anymore with the OVN datapath # UUID. is_in_network = lambda port: ( str(port.datapath.uuid) == network or utils.get_network_name_from_datapath(port.datapath) == network) return port.mac and is_in_network(port) and ( ip_address in port.mac[0].split(' ')) return [r for r in rows if check_net_and_ip(r)], # TODO(dalvarez): Remove the comparison to r.datapath.uuid in Y cycle # when we are sure that all namespaces will be created with the # Neutron network UUID and not anymore with the OVN datapath UUID. return [r for r in rows if (r.mac and ( str(r.datapath.uuid) == network or utils.get_network_name_from_datapath( r.datapath) == network)) and ip_address in r.mac[0].split(' ')],37,22
openstack%2Fswift~master~Iac71f68f6633764e0c926ca60990be3b16ef6855,openstack/swift,master,Iac71f68f6633764e0c926ca60990be3b16ef6855,Add sharding to swift-recon,MERGED,2021-04-02 21:49:33.000000000,2021-04-28 21:33:12.000000000,2021-04-28 21:29:09.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99e4ca14a51c8ebfcf6ab7f11546cd1d562fbf00', 'message': ""Add sharding to swift-recon\n\nNote that this does not modify the recon middleware: we already\nsupport the /sharding endpoint in it. But inexplicably there's\nno CLI that interrogates and parses the sharding information.\n\nThe overview_container_sharding.rst document tells operators\nto read raw JSON. It has the advantage of always having the\nfull picture, but these days we deserve a digest by CLI.\n\nChange-Id: Iac71f68f6633764e0c926ca60990be3b16ef6855\n""}, {'number': 2, 'created': '2021-04-28 18:06:17.000000000', 'files': ['test/unit/cli/test_recon.py', 'swift/cli/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ba00ff43764bcca0e710eb03fb3fa6583473988c', 'message': ""Add sharding to swift-recon\n\nNote that this does not modify the recon middleware: we already\nsupport the /sharding endpoint in it. But inexplicably there's\nno CLI that interrogates and parses the sharding information.\n\nThe overview_container_sharding.rst document tells operators\nto read raw JSON. It has the advantage of always having the\nfull picture, but these days we deserve a digest by CLI.\n\nChange-Id: Iac71f68f6633764e0c926ca60990be3b16ef6855\n""}]",3,784617,ba00ff43764bcca0e710eb03fb3fa6583473988c,10,2,2,597,,,0,"Add sharding to swift-recon

Note that this does not modify the recon middleware: we already
support the /sharding endpoint in it. But inexplicably there's
no CLI that interrogates and parses the sharding information.

The overview_container_sharding.rst document tells operators
to read raw JSON. It has the advantage of always having the
full picture, but these days we deserve a digest by CLI.

Change-Id: Iac71f68f6633764e0c926ca60990be3b16ef6855
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/784617/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_recon.py', 'swift/cli/recon.py']",2,99e4ca14a51c8ebfcf6ab7f11546cd1d562fbf00,sharding/reconcli," def sharding_check(self, hosts): """""" Obtain and print sharding statistics :param hosts: set of hosts to check. in the format of: set([('127.0.0.1', 6221), ('127.0.0.2', 6231)]) """""" stats = {'sharding_time': [], 'attempted': [], 'failure': [], 'success': []} recon = Scout(""sharding"", self.verbose, self.suppress_errors, self.timeout) print(""[%s] Checking on sharders"" % self._ptime()) least_recent_time = 9999999999 least_recent_url = None most_recent_time = 0 most_recent_url = None for url, response, status, ts_start, ts_end in self.pool.imap( recon.scout, hosts): if status == 200: stats['sharding_time'].append(response.get('sharding_time', 0)) shard_stats = response.get('sharding_stats') if shard_stats: # Sharding has a ton more stats, like ""no_change"". # Not sure if we need them at all, or maybe for -v. for stat_key in ['attempted', 'failure', 'success']: stats[stat_key].append(shard_stats.get(stat_key)) last = response.get('sharding_last', 0) if last is None: continue if last < least_recent_time: least_recent_time = last least_recent_url = url if last > most_recent_time: most_recent_time = last most_recent_url = url for k in stats: if stats[k]: computed = self._gen_stats(stats[k], name=k) if computed['reported'] > 0: self._print_stats(computed) else: print(""[%s] - No hosts returned valid data."" % k) else: print(""[%s] - No hosts returned valid data."" % k) if least_recent_url is not None: host = urlparse(least_recent_url).netloc if not least_recent_time: print('Oldest completion was NEVER by %s.' % host) else: elapsed = time.time() - least_recent_time elapsed, elapsed_unit = seconds2timeunit(elapsed) print('Oldest completion was %s (%d %s ago) by %s.' % ( self._ptime(least_recent_time), elapsed, elapsed_unit, host)) if most_recent_url is not None: host = urlparse(most_recent_url).netloc elapsed = time.time() - most_recent_time elapsed, elapsed_unit = seconds2timeunit(elapsed) print('Most recent completion was %s (%d %s ago) by %s.' % ( self._ptime(most_recent_time), elapsed, elapsed_unit, host)) print(""="" * 79) args.add_option('--sharding', action=""store_true"", help=""Get sharding stats"") self.sharding_check(hosts) print(""Error: Can't check expirer on non object "" ""servers."") print(""="" * 79) if options.sharding: if self.server_type == 'container': self.sharding_check(hosts) else: print(""Error: Can't check sharding on non object """," print(""Error: Can't check expired on non object """,182,1
openstack%2Fcinder~master~I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c,openstack/cinder,master,I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c,Remove unused code path in attachment_delete,MERGED,2021-03-03 18:16:56.000000000,2021-04-28 21:32:32.000000000,2021-04-28 21:28:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31016}, {'_account_id': 32171}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-03 18:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/273e614524f0afa2094d866d4261fbcff479e554', 'message': ""Remove unused code path in attachment_delete\n\nIn our manager's attachment_delete method we have a part of the code\nthat is not only used anywhere in Cinder, but it is also broken, so this\npatch removes it.\n\nRemoved code was meant to allow deleting all attachments for a volume,\nbut the condition it's checking is on `attachment_ref` being `None`,\nwhich can never happen since the `get_by_id` method that is assigned to\nthat variable will raise an exception if the entity is not found.\n\nTo fix this the condition would have to check that `attachhment_id` is\n`None` instead, but since we are not using that feature we should just\nremove the code.\n\nThe patch also merges `_do_attachment_delete` into `attachment_delete`\nsince that's the only place where it is called from.\n\nChange-Id: I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c\n""}, {'number': 2, 'created': '2021-03-09 20:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/466fc21e17c7525641a0dfd2816dd90928fc738d', 'message': ""Remove unused code path in attachment_delete\n\nIn our manager's attachment_delete method we have a part of the code\nthat is not only used anywhere in Cinder, but it is also broken, so this\npatch removes it.\n\nRemoved code was meant to allow deleting all attachments for a volume,\nbut the condition it's checking is on `attachment_ref` being `None`,\nwhich can never happen since the `get_by_id` method that is assigned to\nthat variable will raise an exception if the entity is not found.\n\nTo fix this the condition would have to check that `attachhment_id` is\n`None` instead, but since we are not using that feature we should just\nremove the code.\n\nThe patch also merges `_do_attachment_delete` into `attachment_delete`\nsince that's the only place where it is called from.\n\nChange-Id: I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c\n""}, {'number': 3, 'created': '2021-03-17 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27787ff7ee80e638723199ffc5f80fa55f32e9ad', 'message': ""Remove unused code path in attachment_delete\n\nIn our manager's attachment_delete method we have a part of the code\nthat is not only used anywhere in Cinder, but it is also broken, so this\npatch removes it.\n\nRemoved code was meant to allow deleting all attachments for a volume,\nbut the condition it's checking is on `attachment_ref` being `None`,\nwhich can never happen since the `get_by_id` method that is assigned to\nthat variable will raise an exception if the entity is not found.\n\nTo fix this the condition would have to check that `attachhment_id` is\n`None` instead, but since we are not using that feature we should just\nremove the code.\n\nThe patch also merges `_do_attachment_delete` into `attachment_delete`\nsince that's the only place where it is called from.\n\nChange-Id: I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c\n""}, {'number': 4, 'created': '2021-03-26 10:44:56.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9f525b7ddc2402fb36c427526233574d5e1363e', 'message': ""Remove unused code path in attachment_delete\n\nIn our manager's attachment_delete method we have a part of the code\nthat is not only used anywhere in Cinder, but it is also broken, so this\npatch removes it.\n\nRemoved code was meant to allow deleting all attachments for a volume,\nbut the condition it's checking is on `attachment_ref` being `None`,\nwhich can never happen since the `get_by_id` method that is assigned to\nthat variable will raise an exception if the entity is not found.\n\nTo fix this the condition would have to check that `attachhment_id` is\n`None` instead, but since we are not using that feature we should just\nremove the code.\n\nThe patch also merges `_do_attachment_delete` into `attachment_delete`\nsince that's the only place where it is called from.\n\nChange-Id: I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c\n""}]",1,778532,b9f525b7ddc2402fb36c427526233574d5e1363e,87,7,4,9535,,,0,"Remove unused code path in attachment_delete

In our manager's attachment_delete method we have a part of the code
that is not only used anywhere in Cinder, but it is also broken, so this
patch removes it.

Removed code was meant to allow deleting all attachments for a volume,
but the condition it's checking is on `attachment_ref` being `None`,
which can never happen since the `get_by_id` method that is assigned to
that variable will raise an exception if the entity is not found.

To fix this the condition would have to check that `attachhment_id` is
`None` instead, but since we are not using that feature we should just
remove the code.

The patch also merges `_do_attachment_delete` into `attachment_delete`
since that's the only place where it is called from.

Change-Id: I6467dc8e40d46d4158b35d40e2ef9ec273cc7e8c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/778532/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py']",2,273e614524f0afa2094d866d4261fbcff479e554,fing-attachment-code,"from cinder.db.sqlalchemy import api as sqla_db @mock.patch('cinder.objects.VolumeAttachment.get_by_id', side_effect=[attachment1, attachment2]) @mock.patch.object(sqla_db, 'volume_admin_metadata_delete') @mock.patch.object(sqla_db, 'volume_detached') def _test(mock_detach, mock_rm_export, mock_con_term, mock_elevated, mock_db_detached, mock_db_meta_delete, mock_get_attachment): self.manager.attachment_delete(self.context, attachment1.id, vref) self.manager.attachment_delete(self.context, attachment2.id, vref) @mock.patch('cinder.objects.VolumeAttachment.get_by_id') def test_attachment_delete_none_shared_connection(self, mock_meta_del, mock_vol_detached, mock_conn_term, mock_notify, mock_get_attachment): # Tests that attachment_delete does not call remove_export self.manager.attachment_delete( self.context, mock.sentinel.attachment_id, volume) mock_get_attachment.assert_called_once_with( self.context, mock.sentinel.attachment_id)"," @mock.patch.object(self.manager.db, 'volume_admin_metadata_delete') @mock.patch.object(self.manager.db, 'volume_detached') def _test(mock_detach, mock_rm_export, mock_con_term, mock_elevated, mock_db_detached, mock_db_meta_delete): self.manager._do_attachment_delete(self.context, vref, attachment1) self.manager._do_attachment_delete(self.context, vref, attachment2) def test_do_attachment_delete_none_shared_connection(self, mock_meta_del, mock_vol_detached, mock_conn_term, mock_notify): # Tests that _do_attachment_delete does not call remove_export attachment = mock.MagicMock() self.manager._do_attachment_delete( self.context, volume, attachment)",23,30
openstack%2Fnova~stable%2Ftrain~Iebf678c229da4f455459d068cafeee5f241aea1f,openstack/nova,stable/train,Iebf678c229da4f455459d068cafeee5f241aea1f,libvirt: 'video.vram' property must be an integer,MERGED,2020-10-12 16:18:22.000000000,2021-04-28 21:32:13.000000000,2021-04-28 21:24:43.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-10-12 16:18:22.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06b8f1467dc80203098de983cfc335b898440573', 'message': ""libvirt: 'video.vram' property must be an integer\n\nThe 'vram' property of the 'video' device must be an integer else\nlibvirt will spit the dummy out, e.g.\n\n  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'\n\nThe division operator in Python 3 results in a float, not an integer\nlike in Python 2. Use the truncation division operator instead.\n\nChange-Id: Iebf678c229da4f455459d068cafeee5f241aea1f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1896496\n(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)\n(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)\n(cherry picked from commit 121e481a880b48ce800aafdeca0b8b086e2cddf3)\n""}]",0,757618,06b8f1467dc80203098de983cfc335b898440573,22,5,1,15334,,,0,"libvirt: 'video.vram' property must be an integer

The 'vram' property of the 'video' device must be an integer else
libvirt will spit the dummy out, e.g.

  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'

The division operator in Python 3 results in a float, not an integer
like in Python 2. Use the truncation division operator instead.

Change-Id: Iebf678c229da4f455459d068cafeee5f241aea1f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1896496
(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)
(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)
(cherry picked from commit 121e481a880b48ce800aafdeca0b8b086e2cddf3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/757618/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,06b8f1467dc80203098de983cfc335b898440573,bug/1896496," self.assertEqual(cfg.devices[5].vram, 65536) flavor = objects.Flavor( extra_specs={'hw_video:ram_max_mb': '512'}) image_meta = objects.ImageMeta.from_dict({ 'properties': { 'hw_video_model': model, 'hw_video_ram': 8, }, }) video = drvr._add_video_driver(guest, image_meta, flavor) self.assertEqual(8192, video.vram) # should be in bytes"," self.assertEqual(cfg.devices[5].vram, 64 * units.Mi / units.Ki) instance_ref = objects.Instance(**self.test_instance) flavor = instance_ref.get_flavor() image_meta = objects.ImageMeta.from_dict({ 'properties': {'hw_video_model': model}}) video = drvr._add_video_driver(guest, image_meta, flavor)",11,7
openstack%2Fneutron~master~I4b59dbc71316eede52b22c0788de5fd682fbff30,openstack/neutron,master,I4b59dbc71316eede52b22c0788de5fd682fbff30,Do not include dynamically loaded values into OVO testing,MERGED,2021-04-28 09:49:38.000000000,2021-04-28 21:32:06.000000000,2021-04-28 21:25:03.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 09:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/861c97caa549eb1212372952a7d00c4d04fe1574', 'message': 'Do not include dynamically loaded values into OVO testing\n\nThose OVO values loaded dynamically (for example [1]) should not be\nadded to the tested object. A dynamic column in a DB register is a\n``sqlalchemy.orm.AppenderQuery`` object that represents the needed\nquery to retrieve this value.\n\nThese OVO fields, mapped from the DB object, should be considered as\nsynthetic fields and not be included in\n``_BaseObjectTestCase.obj_fields``.\n\n[1]https://github.com/openstack/neutron/blob/ff2464bf33f1c84bd8525eca68c5774f5e14f1f1/neutron/db/models/securitygroup.py#L103-L106\n\nCloses-Bug: #1926399\n\nChange-Id: I4b59dbc71316eede52b22c0788de5fd682fbff30\n'}, {'number': 2, 'created': '2021-04-28 10:44:08.000000000', 'files': ['neutron/objects/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de295f036df2cedec9de4c25f344ebb770f66e0a', 'message': 'Do not include dynamically loaded values into OVO testing\n\nThose OVO values loaded dynamically (for example [1]) should not be\nadded to the tested object. A dynamic column in a DB register is a\n``sqlalchemy.orm.AppenderQuery`` object that represents the needed\nquery to retrieve this value.\n\nThese OVO fields, mapped from the DB object, should be considered as\nsynthetic fields and not be included in\n``_BaseObjectTestCase.obj_fields``.\n\n[1]https://github.com/openstack/neutron/blob/ff2464bf33f1c84bd8525eca68c5774f5e14f1f1/neutron/db/models/securitygroup.py#L103-L106\n\nCloses-Bug: #1926399\n\nChange-Id: I4b59dbc71316eede52b22c0788de5fd682fbff30\n'}]",2,788463,de295f036df2cedec9de4c25f344ebb770f66e0a,27,5,2,16688,,,0,"Do not include dynamically loaded values into OVO testing

Those OVO values loaded dynamically (for example [1]) should not be
added to the tested object. A dynamic column in a DB register is a
``sqlalchemy.orm.AppenderQuery`` object that represents the needed
query to retrieve this value.

These OVO fields, mapped from the DB object, should be considered as
synthetic fields and not be included in
``_BaseObjectTestCase.obj_fields``.

[1]https://github.com/openstack/neutron/blob/ff2464bf33f1c84bd8525eca68c5774f5e14f1f1/neutron/db/models/securitygroup.py#L103-L106

Closes-Bug: #1926399

Change-Id: I4b59dbc71316eede52b22c0788de5fd682fbff30
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/788463/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/base.py'],1,861c97caa549eb1212372952a7d00c4d04fe1574,bug/1926399,"from sqlalchemy.orm import query as sqla_query # NOTE(ralonsoh): fields dynamically loaded will be represented as # ``sqla_query.Query``, because the value is load when needed executing # a query to the DB. if db_obj.get(field) is not None and not issubclass(db_obj.get(field).__class__, sqla_query.Query)} cls, context, query_limit=1, **cls.modify_fields_to_db(kwargs))"," if db_obj.get(field) is not None} cls, context, **cls.modify_fields_to_db(kwargs))",7,2
openstack%2Fkeystone~stable%2Fstein~I75590c20e90170ed862f46f0de7d61c7810b5c90,openstack/keystone,stable/stein,I75590c20e90170ed862f46f0de7d61c7810b5c90,Retry update_user when sqlalchemy raises StaleDataErrors,MERGED,2021-03-26 17:50:53.000000000,2021-04-28 21:32:03.000000000,2021-04-28 21:23:17.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0345cf175971a89f73e61f1f84e3ef8f89770f18', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit 6b581bfe43811379e9ceea2770242f05f0c9fa66)\n(cherry picked from commit 22119176d612d4441d9cf25e76adde52ec4f88e2)\n(cherry picked from commit 20a10ebc50fda0ac3cfab378293f9f2c27168c96)\n(cherry picked from commit 72e1cab0a47f493d47dbe482a03da269b4238967)\n""}, {'number': 2, 'created': '2021-03-29 19:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/13ad966c459267e91985ff54b26f7a67993e62af', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n(cherry picked from commit f3feadfa045f1ec9f74c74e9044ec53a8824f8de)\n""}, {'number': 3, 'created': '2021-03-30 19:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/658f66be864c13c43b2395c829bce6c6c30578b7', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri. Also adjust the expected log\n      message since the method path is different compared to older\n      releases, which have the driver name in them (e.g., Identity).\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)\n""}, {'number': 4, 'created': '2021-03-31 12:35:34.000000000', 'files': ['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f36034c8a6530b16f6b6eb88ee97f540c974ba00', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri. Also adjust the expected log\n      message since the method path is different compared to older\n      releases, which have the driver name in them (e.g., Identity).\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)\n(cherry picked from commit 328cf33aab61775301adbb4c1f6abaa2f331cd94)\n""}]",0,783405,f36034c8a6530b16f6b6eb88ee97f540c974ba00,17,5,4,5046,,,0,"Retry update_user when sqlalchemy raises StaleDataErrors

Keystone's update_user() method in the SQL driver processes a lot of
information about how to update users. This includes evaluating password
logic and authentication attempts for PSI-DSS. This logic is evaluated
after keystone pulls the user record from SQL and before it exits the
context manager, which performs the write.

When multiple clients are all updating the same user reference, it's
more likely they will see an HTTP 500 because of race conditions exiting
the context manager. The HTTP 500 is due to stale data when updating
password expiration for old passwords, which happens when setting a new
password for a user.

This commit attempts to handle that case more gracefully than throwing a
500 by detecting StaleDataErrors from sqlalchemy and retrying.  The
identity sql backend will retry the request for clients that have
stale data change from underneath them.

Conflicts:
      keystone/tests/unit/test_backend_sql.py due to import order
      differences between train and ussuri. Also adjust the expected log
      message since the method path is different compared to older
      releases, which have the driver name in them (e.g., Identity).

Change-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90
Closes-Bug: 1885753
(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)
(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)
(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)
(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)
(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)
(cherry picked from commit 328cf33aab61775301adbb4c1f6abaa2f331cd94)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/783405/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml']",3,0345cf175971a89f73e61f1f84e3ef8f89770f18,bug/1885753,--- fixes: - | [`bug 1885753 <https://bugs.launchpad.net/keystone/+bug/1885753>`_] Keystone's SQL identity backend now retries update user requests to safely handle stale data when two clients update a user at the same time. ,,50,0
openstack%2Fneutron~stable%2Fvictoria~Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d,openstack/neutron,stable/victoria,Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d,Fix migration failed due TypeError of new_vlan_tag,MERGED,2021-04-25 04:12:47.000000000,2021-04-28 21:32:00.000000000,2021-04-28 21:23:08.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30498}, {'_account_id': 30744}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-25 04:12:47.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87c375bab79226a8df1e306f32fa29188d4d0ea5', 'message': 'Fix migration failed due TypeError of new_vlan_tag\n\nThere could be a situation, when there are ports\nwith port_tags None created in OS infra.\n\nUnder normal circumstances, it would take some error\nto the log and go further.\nBut only because there is a ""new_vlan_tags must be string""\nin that log, it is throwing out typeError and dropping\nthe execution of code and the migration is ending by code 500.\n\nAnd this is all done without a message from\nthe log, which is extremely bad.\n\nThis patch is fixing this behaviour, and flow\ngoes on.\n\nChange-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d\nCloses-Bug: #1903989\n(cherry picked from commit 7cf52bb5325ac73b7afa3212cb84d29831e3724a)\n'}]",0,787843,87c375bab79226a8df1e306f32fa29188d4d0ea5,19,7,1,29071,,,0,"Fix migration failed due TypeError of new_vlan_tag

There could be a situation, when there are ports
with port_tags None created in OS infra.

Under normal circumstances, it would take some error
to the log and go further.
But only because there is a ""new_vlan_tags must be string""
in that log, it is throwing out typeError and dropping
the execution of code and the migration is ending by code 500.

And this is all done without a message from
the log, which is extremely bad.

This patch is fixing this behaviour, and flow
goes on.

Change-Id: Id4ba8d32e6b2301f25c12f83a0708b62aa5b9d6d
Closes-Bug: #1903989
(cherry picked from commit 7cf52bb5325ac73b7afa3212cb84d29831e3724a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/787843/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,87c375bab79226a8df1e306f32fa29188d4d0ea5,bug/1903989-stable/victoria," ""Current vlan tag on this port is '%(new_vlan_tag)s'."","," ""Current vlan tag on this port is '%(new_vlan_tag)d'."",",1,1
openstack%2Fswift~master~Ia6c1b75a24d2b46720d7a3b6e3a126444a38be0e,openstack/swift,master,Ia6c1b75a24d2b46720d7a3b6e3a126444a38be0e,ec: Don't copy EC metadata to replicated objects,MERGED,2021-03-30 22:31:27.000000000,2021-04-28 21:31:46.000000000,2021-04-28 21:27:13.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 33384}]","[{'number': 1, 'created': '2021-03-30 22:31:27.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/399bda8a410893b788bfc439d227b772a525c095', 'message': ""ec: Don't copy EC metadata to replicated objects\n\nChange-Id: Ia6c1b75a24d2b46720d7a3b6e3a126444a38be0e\nCloses-Bug: #1885857\n""}]",1,783981,399bda8a410893b788bfc439d227b772a525c095,14,4,1,15343,,,0,"ec: Don't copy EC metadata to replicated objects

Change-Id: Ia6c1b75a24d2b46720d7a3b6e3a126444a38be0e
Closes-Bug: #1885857
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/783981/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py']",2,399bda8a410893b788bfc439d227b772a525c095,, ec_headers = [header for header in resp.headers if header.lower().startswith('x-object-sysmeta-ec-')] for header in ec_headers: # clients (including middlewares) shouldn't need to care about # this implementation detail del resp.headers[header],,12,1
openstack%2Fkeystone-tempest-plugin~master~I7729190d42a6a7199553c5fc058e1b93eecb2068,openstack/keystone-tempest-plugin,master,I7729190d42a6a7199553c5fc058e1b93eecb2068,Increase protection testing for application credentials,MERGED,2020-12-03 18:09:53.000000000,2021-04-28 21:29:38.000000000,2021-04-28 21:29:38.000000000,"[{'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 18:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/d87e10b8357796c0da9135446842044e155ddb14', 'message': ""Increase protection testing for application credentials\n\nThis commit updates the application credential protection tests to\nensure users can't craft paths that bypass application credential\nownership checks.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/760972\nChange-Id: I7729190d42a6a7199553c5fc058e1b93eecb2068\nRelated-Bug: 1901207\n""}, {'number': 2, 'created': '2020-12-03 18:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/95117c6197be8898660cccacf074d36b4b2d7607', 'message': ""Increase protection testing for application credentials\n\nThis commit updates the application credential protection tests to\nensure users can't craft paths that bypass application credential\nownership checks.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/760972\nChange-Id: I7729190d42a6a7199553c5fc058e1b93eecb2068\nRelated-Bug: 1901207\n""}, {'number': 3, 'created': '2021-02-11 16:04:07.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/faa9b1389186a9a81f91f67ac78df9c0b0343b3c', 'message': ""Increase protection testing for application credentials\n\nThis commit updates the application credential protection tests to\nensure users can't craft paths that bypass application credential\nownership checks.\n\nDepends-On: https://review.opendev.org/c/openstack/keystone/+/760972\nChange-Id: I7729190d42a6a7199553c5fc058e1b93eecb2068\nRelated-Bug: 1901207\n""}]",0,765358,faa9b1389186a9a81f91f67ac78df9c0b0343b3c,19,4,3,5046,,,0,"Increase protection testing for application credentials

This commit updates the application credential protection tests to
ensure users can't craft paths that bypass application credential
ownership checks.

Depends-On: https://review.opendev.org/c/openstack/keystone/+/760972
Change-Id: I7729190d42a6a7199553c5fc058e1b93eecb2068
Related-Bug: 1901207
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/58/765358/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py'],1,d87e10b8357796c0da9135446842044e155ddb14,secure-rbac," # user cannot retrieve another user's app cred by using the victim's # user ID in the request or by trying to bypass the user ownership # check by crafting a path the the attacker's user ID user_id=self.persona.credentials.user_id, application_credential_id=app_cred['id']) self.do_request( 'show_application_credential', expected_status=exceptions.Forbidden, # user cannot retrieve another user's app cred by using the victim's # user ID in the request or by trying to bypass the user ownership # check by crafting a path the the attacker's user ID user_id=self.persona.credentials.user_id, application_credential_id=app_cred['id']) self.do_request( 'delete_application_credential', expected_status=exceptions.Forbidden,", # user cannot retrieve another user's app cred # user cannot delete another user's app cred,16,2
openstack%2Fswift~master~I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689,openstack/swift,master,I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689,Cleanup tests' import of debug_logger,MERGED,2021-01-22 20:22:32.000000000,2021-04-28 21:27:37.000000000,2021-04-28 21:27:37.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 20:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/46deb0ff4324e74f4f74ce00f7cb07845655eaf1', 'message': 'cleanup test logging\n\nChange-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689\n'}, {'number': 2, 'created': '2021-01-22 20:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08f96bd2f0383f47a9a84a312a97761e47a62077', 'message': 'cleanup test logging\n\nChange-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689\n'}, {'number': 3, 'created': '2021-04-21 16:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01cc2405bc1f2946b282d63a7eeba81e3824f72b', 'message': ""Cleanup tests' import of debug_logger\n\nChange-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689\n""}, {'number': 4, 'created': '2021-04-21 20:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b370f7605b5b18ae549f6bfbbab0a59e7abf735', 'message': ""Cleanup tests' import of debug_logger\n\nChange-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689\n""}, {'number': 5, 'created': '2021-04-27 11:20:04.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/helpers.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/common/test_memcached.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'test/unit/obj/test_auditor.py', 'test/unit/common/middleware/test_bulk.py', 'test/unit/proxy/test_sysmeta.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/container/test_auditor.py', 'test/unit/container/test_reconciler.py', 'test/unit/common/middleware/test_subrequest_logging.py', 'test/unit/common/test_utils.py', 'test/unit/account/test_reaper.py', 'test/unit/container/test_replicator.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'test/unit/common/middleware/test_copy.py', 'test/unit/obj/test_expirer.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/test_daemon.py', 'test/unit/common/test_storage_policy.py', 'test/unit/common/middleware/test_container_sync.py', 'test/unit/common/test_direct_client.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/middleware/crypto/test_encryption.py', 'test/unit/account/test_auditor.py', 'test/unit/common/middleware/test_listing_formats.py', 'test/unit/common/middleware/crypto/test_encrypter.py', 'test/unit/common/test_wsgi.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/common/middleware/crypto/test_crypto_utils.py', 'test/unit/common/middleware/test_read_only.py', 'test/unit/common/middleware/test_proxy_logging.py', 'test/unit/container/test_sync.py', 'test/unit/obj/test_ssync.py', 'test/unit/common/test_container_sync_realms.py', 'test/unit/obj/test_ssync_receiver.py', 'test/unit/account/test_server.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/middleware/crypto/test_decrypter.py', 'test/unit/container/test_updater.py', 'test/unit/obj/test_replicator.py', 'test/unit/container/test_sync_store.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'test/unit/obj/test_updater.py', 'test/unit/common/middleware/test_keystoneauth.py', 'test/unit/common/test_internal_client.py', 'test/functional/__init__.py', 'test/unit/common/middleware/helpers.py', 'test/unit/common/test_db_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a312d1cd56f4b4a8e89c165082768798ead5f44', 'message': ""Cleanup tests' import of debug_logger\n\nChange-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689\n""}]",3,772092,2a312d1cd56f4b4a8e89c165082768798ead5f44,29,3,5,1179,,,0,"Cleanup tests' import of debug_logger

Change-Id: I19ca860deaa6dbf388bdcd1f0b0f77f72ff19689
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/772092/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'test/unit/helpers.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/common/test_memcached.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'test/unit/obj/test_auditor.py', 'test/unit/common/middleware/test_bulk.py', 'test/unit/proxy/test_sysmeta.py', 'test/unit/common/middleware/s3api/test_s3api.py', 'test/unit/container/test_auditor.py', 'test/unit/container/test_reconciler.py', 'test/unit/common/middleware/test_subrequest_logging.py', 'test/unit/common/test_utils.py', 'test/unit/account/test_reaper.py', 'test/unit/container/test_replicator.py', 'test/unit/common/test_db_replicator.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/obj/test_server.py', 'test/unit/obj/test_diskfile.py', 'test/unit/common/middleware/test_copy.py', 'test/unit/obj/test_expirer.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/test_daemon.py', 'test/unit/common/test_storage_policy.py', 'test/unit/common/middleware/test_container_sync.py', 'test/unit/common/test_direct_client.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/middleware/crypto/test_encryption.py', 'test/unit/account/test_auditor.py', 'test/unit/common/middleware/test_listing_formats.py', 'test/unit/common/middleware/crypto/test_encrypter.py', 'test/unit/common/test_wsgi.py', 'test/unit/obj/test_reconstructor.py', 'test/unit/common/middleware/crypto/test_crypto_utils.py', 'test/unit/common/middleware/test_read_only.py', 'test/unit/common/middleware/test_proxy_logging.py', 'test/unit/container/test_sync.py', 'test/unit/cli/test_relinker.py', 'test/unit/obj/test_ssync.py', 'test/unit/common/test_container_sync_realms.py', 'test/unit/obj/test_ssync_receiver.py', 'test/unit/account/test_server.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/middleware/crypto/test_decrypter.py', 'test/unit/container/test_updater.py', 'test/unit/obj/test_replicator.py', 'test/debug_logger.py', 'test/unit/container/test_sync_store.py', 'test/unit/common/middleware/s3api/test_s3request.py', 'test/unit/obj/test_updater.py', 'test/unit/common/middleware/test_keystoneauth.py', 'test/unit/common/test_internal_client.py', 'test/functional/__init__.py', 'test/unit/common/middleware/helpers.py']",58,46deb0ff4324e74f4f74ce00f7cb07845655eaf1,p-debug-logger,from test.logging import debug_logger from test.unit import FakeRing self.logger = debug_logger('fake-swift'),"from test.unit import FakeLogger, FakeRing self.logger = FakeLogger('fake-swift')",279,458
openstack%2Fneutron~master~Ied35389ce7ab3dda9ff99046ea19a18406e0e2ce,openstack/neutron,master,Ied35389ce7ab3dda9ff99046ea19a18406e0e2ce,"Change wrong ""admin"" scope in floatingip_pools to correct ""system""",MERGED,2021-04-23 11:04:00.000000000,2021-04-28 21:25:50.000000000,2021-04-28 21:25:50.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 11:04:00.000000000', 'files': ['neutron/conf/policies/floatingip_pools.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca2091d5a9c9c3e99afc386b7f3c334951c8f16e', 'message': 'Change wrong ""admin"" scope in floatingip_pools to correct ""system""\n\nScope ""admin"" was added there probably by mistake during the migration\nto the new RBAC policies. It should be ""system"" instead and this patch\nfixes it.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: Ied35389ce7ab3dda9ff99046ea19a18406e0e2ce\n'}]",0,787702,ca2091d5a9c9c3e99afc386b7f3c334951c8f16e,47,4,1,11975,,,0,"Change wrong ""admin"" scope in floatingip_pools to correct ""system""

Scope ""admin"" was added there probably by mistake during the migration
to the new RBAC policies. It should be ""system"" instead and this patch
fixes it.

Partially-Implements blueprint: secure-rbac-roles

Change-Id: Ied35389ce7ab3dda9ff99046ea19a18406e0e2ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/787702/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip_pools.py'],1,ca2091d5a9c9c3e99afc386b7f3c334951c8f16e,secure-rbac," scope_types=['system', 'project'],"," scope_types=['admin', 'project'],",1,1
openstack%2Fhorizon~stable%2Fwallaby~Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677,openstack/horizon,stable/wallaby,Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677,bug/1859851-only delete instance and show table,ABANDONED,2021-04-28 18:16:27.000000000,2021-04-28 20:21:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-28 18:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ad9859e976257ef0ae7a75e276087c464da28a44', 'message': 'bug/1859851-only delete instance and show table\n\n(cherry picked from commit 7c2b9e1d2092d2755c3debd26a98499a45fe72fc)\nChange-Id: Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677\n'}, {'number': 2, 'created': '2021-04-28 18:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e3e4dd1bc2d1de4d524b7410efa50d6e606d3e0c', 'message': 'bug/1859851-only delete instance and show table\n\nPartial-Bug: #1859851\n\nThere is a edge case on any last page of Project->Instances\nwhere deleting all instances returns an empty table. The expected behavior\nis to either return to the first page or return the previous paged table list.\n\nThere are other errors around pagination such as LP#1746184 and tables that do\nnot respect the page limit size.\n\n(cherry picked from commit 7c2b9e1d2092d2755c3debd26a98499a45fe72fc)\nChange-Id: Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677\n'}, {'number': 3, 'created': '2021-04-28 18:25:14.000000000', 'files': ['horizon/tables/views.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/136426b9378d2899d6a99d902b3411bb5a16145a', 'message': 'bug/1859851-only delete instance and show table\n\nPartial-Bug: #1859851\n\nThere is a edge case on any last page of Project->Instances\nwhere deleting all instances returns an empty table. The expected behavior\nis to either return to the first page or return the previous paged table list.\n\nThere are other errors around pagination such as\nRelated-Bug: #1746184 and tables that do not respect the page limit size.\n\n(cherry picked from commit 7c2b9e1d2092d2755c3debd26a98499a45fe72fc)\nChange-Id: Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677\n'}]",4,788564,136426b9378d2899d6a99d902b3411bb5a16145a,5,1,3,32438,,,0,"bug/1859851-only delete instance and show table

Partial-Bug: #1859851

There is a edge case on any last page of Project->Instances
where deleting all instances returns an empty table. The expected behavior
is to either return to the first page or return the previous paged table list.

There are other errors around pagination such as
Related-Bug: #1746184 and tables that do not respect the page limit size.

(cherry picked from commit 7c2b9e1d2092d2755c3debd26a98499a45fe72fc)
Change-Id: Icae04fd0f0c3f3fa5127309b64fc1b15e3bbc677
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/788564/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/tables/views.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py']",3,ad9859e976257ef0ae7a75e276087c464da28a44,bug/1859851-hlemon-wallaby," prev_marker = search_opts.get('prev_marker', None) search_opts['marker'] = marker if marker else None search_opts['prev_marker'] = prev_marker if prev_marker else None search_opts=search_opts, search_opts=search_opts, return servers, has_more_data, has_prev_data servers, has_more_data, has_prev_data = server_list_paged(request, search_opts, detailed) return servers, has_more_data, has_prev_data"," search_opts['marker'] = deleted if deleted else marker search_opts, search_opts, return (servers, has_more_data, has_prev_data) (servers, has_more_data, _) = server_list_paged(request, search_opts, detailed) return (servers, has_more_data)",20,12
openstack%2Fmanila~master~I113639cc9989bbaf224d19969993870d30b81c29,openstack/manila,master,I113639cc9989bbaf224d19969993870d30b81c29,Updates CephFS drivers docs,MERGED,2021-03-24 23:02:17.000000000,2021-04-28 20:13:32.000000000,2021-04-28 11:46:16.000000000,"[{'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 23:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dfe90c149eeaf2ef5e38c9071ccc26ca481cf743', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 2, 'created': '2021-04-22 16:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e6d54d1c57511dab052c67c47650453282a10e5', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 3, 'created': '2021-04-22 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c1e65a45472830849bdb3d8eeb5385945129ad51', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 4, 'created': '2021-04-22 19:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0d42503e6712103ef22f35c5fb5a0a81dfe4b667', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 5, 'created': '2021-04-26 23:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/89315de81070242af02f4d35dfda3677b7e0dad1', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 6, 'created': '2021-04-27 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de629154df32e6b36f9bd1c96460bd60e605fbe2', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n- Add upgrade to Wallaby considerations (minimum Ceph\nversion required)\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}, {'number': 7, 'created': '2021-04-28 10:42:36.000000000', 'files': ['doc/source/admin/cephfs_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/992ec82575655e9153af4c75fab911dcf598d423', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n- Add upgrade to Wallaby considerations (minimum Ceph\nversion required)\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n'}]",27,782871,992ec82575655e9153af4c75fab911dcf598d423,61,4,7,6413,,,0,"Updates CephFS drivers docs

As part of our work on updating CephFS drivers
to use the ceph-mgr interface, the related docs
on the admin guide need to be updated

- Updates ceph caps for manila to include mgr caps,
remove mds caps, and constrain mon caps
- Add the new cephfs_filesystem_name param to the
config
- Add upgrade to Wallaby considerations (minimum Ceph
version required)

Partially-Implement: bp update-cephfs-drivers
Change-Id: I113639cc9989bbaf224d19969993870d30b81c29
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/782871/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cephfs_driver.rst'],1,dfe90c149eeaf2ef5e38c9071ccc26ca481cf743,bp/update-cephfs-drivers,"- 3.0 or later versions of NFS-Ganesha.From Wallaby and above, we are issuing rados mgr volume commands via a rados client, using the pool name set with the config option ""ganesha_rados_store_pool_name"". For enhanced security, the auth ID should be set as follows: .. code-block:: console ceph auth get-or-create client.manila -o manila.keyring \ osd 'allow rw pool=<ganesha_rados_store_pool_name>"" \ mgr 'allow rw' \ mon 'allow r'",- 2.5 or later versions of NFS-Ganesha.,11,1
openstack%2Fhorizon~master~I5b17e35a1562e73466f8b47be5eceb7a59ff3c24,openstack/horizon,master,I5b17e35a1562e73466f8b47be5eceb7a59ff3c24,Add sizeformat for quota limit summary pie chart,NEW,2015-06-27 03:32:38.000000000,2021-04-28 19:23:59.000000000,,"[{'_account_id': 3}, {'_account_id': 6763}, {'_account_id': 8358}, {'_account_id': 8367}, {'_account_id': 14107}, {'_account_id': 14151}, {'_account_id': 14320}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2015-06-27 03:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c6772e8a567a3b748b21b5c5edb40a78b2533e12', 'message': 'Add sizeformat for quota limit summary pie chart\n\nBelow commit refactor quota limit summary template,\nbut miss size format, the patch fix it.\n\nChange-Id: I5b17e35a1562e73466f8b47be5eceb7a59ff3c24\nCloses-Bug: #1469345\n'}, {'number': 2, 'created': '2015-06-27 03:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c48d321313a27bf6364707b42d6302f8f6a0713c', 'message': 'Add sizeformat for quota limit summary pie chart\n\nBelow commit refactor quota limit summary template,\nbut miss size format, the patch fix it.\n\nhttps://github.com/openstack/horizon/commit/286245b423f0234d5d9ece50db83e23e2c24d8ba\n\nChange-Id: I5b17e35a1562e73466f8b47be5eceb7a59ff3c24\nCloses-Bug: #1469345\n'}, {'number': 3, 'created': '2015-06-27 04:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b7464bb77fb55cbb1b29022b2b03d196531c5d09', 'message': 'Add sizeformat for quota limit summary pie chart\n\nBelow commit refactor quota limit summary template,\nbut miss size format, the patch fix it.\n\nhttps://github.com/openstack/horizon/commit/286245b423f0234d5d9ece50db83e23e2c24d8ba\n\nChange-Id: I5b17e35a1562e73466f8b47be5eceb7a59ff3c24\nCloses-Bug: #1469345\n'}, {'number': 4, 'created': '2015-08-21 07:45:09.000000000', 'files': ['horizon/templatetags/sizeformat.py', 'horizon/templates/horizon/common/_limit_summary.html', 'openstack_dashboard/usage/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/26499b4e08eec22d5a7deed0344a4cfb4360624f', 'message': 'Add sizeformat for quota limit summary pie chart\n\nBelow commit refactor quota limit summary template,\nbut miss size format, the patch fix it.\n\nhttps://github.com/openstack/horizon/commit/286245b423f0234d5d9ece50db83e23e2c24d8ba\n\nChange-Id: I5b17e35a1562e73466f8b47be5eceb7a59ff3c24\nCloses-Bug: #1469345\n'}]",0,196336,26499b4e08eec22d5a7deed0344a4cfb4360624f,21,9,4,6763,,,0,"Add sizeformat for quota limit summary pie chart

Below commit refactor quota limit summary template,
but miss size format, the patch fix it.

https://github.com/openstack/horizon/commit/286245b423f0234d5d9ece50db83e23e2c24d8ba

Change-Id: I5b17e35a1562e73466f8b47be5eceb7a59ff3c24
Closes-Bug: #1469345
",git fetch https://review.opendev.org/openstack/horizon refs/changes/36/196336/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templatetags/sizeformat.py', 'horizon/templates/horizon/common/_limit_summary.html', 'openstack_dashboard/usage/views.py']",3,c6772e8a567a3b748b21b5c5edb40a78b2533e12,bug/1469345," # describing the quota by default it is 'Used', format the value # depening the size_type) quota_types = [ {'used': 'totalInstancesUsed', 'total': 'maxTotalInstances', 'name': _('Instances')}, {'used': 'totalCoresUsed', 'total': 'maxTotalCores', 'name': _('VCPUs')}, {'used': 'totalRAMUsed', 'total': 'maxTotalRAMSize', 'name': _('RAM'), 'size_type': 'mb'}, {'used': 'totalFloatingIpsUsed', 'total': 'maxTotalFloatingIps', 'name': _('Floating IPs'), 'text': _(""Allocated"")}, {'used': 'totalSecurityGroupsUsed', 'total': 'maxSecurityGroups', 'name': _('Security Groups')}, ] quota_types.append( {'used': 'totalVolumesUsed', 'total': 'maxTotalVolumes', 'name': _('Volumes')}) quota_types.append( {'used': 'totalGigabytesUsed', 'total': 'maxTotalVolumeGigabytes', 'name': _('Volume Storage'), 'size_type': 'gb'}) for t in quota_types: if (t.get('used') in self.usage.limits and t.get('total') in self.usage.limits): context['charts'].append({ 'name': t.get('name'), 'used': self.usage.limits[t.get('used')], 'max': self.usage.limits[t.get('total')], 'text': t.get('text'), 'size_type': t.get('size_type')"," # describing the quota by default it is 'Used') types = [(""totalInstancesUsed"", ""maxTotalInstances"", _(""Instances"")), (""totalCoresUsed"", ""maxTotalCores"", _(""VCPUs"")), (""totalRAMUsed"", ""maxTotalRAMSize"", _(""RAM"")), (""totalFloatingIpsUsed"", ""maxTotalFloatingIps"", ""Floating IPs"", _(""Allocated"")), (""totalSecurityGroupsUsed"", ""maxSecurityGroups"", _(""Security Groups""))] types.append((""totalVolumesUsed"", ""maxTotalVolumes"", _(""Volumes""))) types.append((""totalGigabytesUsed"", ""maxTotalVolumeGigabytes"", _(""Volume Storage""))) for t in types: if t[0] in self.usage.limits and t[1] in self.usage.limits: text = False if len(t) > 3: text = t[3] context['charts'].append({ 'name': t[2], 'used': self.usage.limits[t[0]], 'max': self.usage.limits[t[1]], 'text': text",47,23
openstack%2Fproject-config~master~Ic1722c158d0f904cc7eb10bd09670725f3037dad,openstack/project-config,master,Ic1722c158d0f904cc7eb10bd09670725f3037dad,Adds r/stx.5.0 to the list of branches to promote for starlingx docs.,MERGED,2021-04-28 17:52:22.000000000,2021-04-28 19:21:52.000000000,2021-04-28 19:21:52.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 30859}]","[{'number': 1, 'created': '2021-04-28 17:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a855db391bdbd44fa6c27468039710ca211ce38', 'message': 'Adds r/stx.5.0 to the list of branches to promote for starlingx docs.\n\nSigned-off-by: Kevin Putnam <kevin.putnam@intel.com>\nChange-Id: Ic1722c158d0f904cc7eb10bd09670725f3037dad\n'}, {'number': 2, 'created': '2021-04-28 18:56:23.000000000', 'files': ['zuul.d/starlingx-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6bd9d39d4d27d6c745c2c40231ddb8b3666db921', 'message': 'Adds r/stx.5.0 to the list of branches to promote for starlingx docs.\n\nSigned-off-by: Kevin Putnam <kevin.putnam@intel.com>\nChange-Id: Ic1722c158d0f904cc7eb10bd09670725f3037dad\n'}]",4,788562,6bd9d39d4d27d6c745c2c40231ddb8b3666db921,14,3,2,33339,,,0,"Adds r/stx.5.0 to the list of branches to promote for starlingx docs.

Signed-off-by: Kevin Putnam <kevin.putnam@intel.com>
Change-Id: Ic1722c158d0f904cc7eb10bd09670725f3037dad
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/788562/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/starlingx-jobs.yaml'],1,8a855db391bdbd44fa6c27468039710ca211ce38,starlingx-add-promote-branch, branches: - master - r/stx.5.0, branches: master,3,1
openstack%2Fkolla~stable%2Fwallaby~I91a90e38509bab2bd896909d796d09286dc2b9af,openstack/kolla,stable/wallaby,I91a90e38509bab2bd896909d796d09286dc2b9af,"Revert ""deprecate use of GnuPG ids for APT keys""",MERGED,2021-04-28 18:12:46.000000000,2021-04-28 19:19:23.000000000,2021-04-28 19:16:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 18:12:46.000000000', 'files': ['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/934f5f0d8b3df3524b12073ac5597f4689427ade', 'message': 'Revert ""deprecate use of GnuPG ids for APT keys""\n\nThis reverts commit 2534c65dac19f576c60f7958d9d74a291447be49.\n\nReason for revert: due to PPA use APT keys stays for longer.\n\nChange-Id: I91a90e38509bab2bd896909d796d09286dc2b9af\n(cherry picked from commit 6e190741df5ecd71d7d664e6b4cac9d5d6eb5c6f)\n'}]",0,788523,934f5f0d8b3df3524b12073ac5597f4689427ade,7,3,1,30491,,,0,"Revert ""deprecate use of GnuPG ids for APT keys""

This reverts commit 2534c65dac19f576c60f7958d9d74a291447be49.

Reason for revert: due to PPA use APT keys stays for longer.

Change-Id: I91a90e38509bab2bd896909d796d09286dc2b9af
(cherry picked from commit 6e190741df5ecd71d7d664e6b4cac9d5d6eb5c6f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/788523/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'],1,934f5f0d8b3df3524b12073ac5597f4689427ade,,,--- deprecations: - | Using APT keys as list of GnuPG ids (via ``apt_keys`` template override) is deprecated since Wallaby release and support for them will be dropped in Xena cycle. If you used this in your template overrides then please migrate into ``remote_apt_keys`` + entries in ``repos.yaml`` file. ,0,7
openstack%2Fkolla~master~Id32dd40854f728ea5e058c391d70f9f3a2a0bd37,openstack/kolla,master,Id32dd40854f728ea5e058c391d70f9f3a2a0bd37,CI: Remove kolla_python_version from Debian/Ubuntu jobs,MERGED,2021-04-28 16:24:05.000000000,2021-04-28 19:19:20.000000000,2021-04-28 19:16:36.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 16:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f640d41cf378b9508d5bb38943e1e9d0d512a5b3', 'message': 'CI: Remove kolla_python_version from Debian/Ubuntu jobs\n\nThese are leftovers from Focal and Bullseye upgrades.\n\nChange-Id: Id32dd40854f728ea5e058c391d70f9f3a2a0bd37\n'}, {'number': 2, 'created': '2021-04-28 16:56:11.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/29b16b8a8dad14259465c5fe9944a148e702f770', 'message': 'CI: Remove kolla_python_version from Debian/Ubuntu jobs\n\nThese are leftovers from Focal and Bullseye upgrades.\n\nChange-Id: Id32dd40854f728ea5e058c391d70f9f3a2a0bd37\n'}]",6,788550,29b16b8a8dad14259465c5fe9944a148e702f770,14,2,2,22629,,,0,"CI: Remove kolla_python_version from Debian/Ubuntu jobs

These are leftovers from Focal and Bullseye upgrades.

Change-Id: Id32dd40854f728ea5e058c391d70f9f3a2a0bd37
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/788550/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/ubuntu.yaml']",2,f640d41cf378b9508d5bb38943e1e9d0d512a5b3,, - kolla-ansible-ubuntu-binary: - kolla-ansible-ubuntu-source-upgrade: - kolla-ansible-ubuntu-source-upgrade:, vars: kolla_python_version: 3.8 - kolla-ansible-ubuntu-binary: vars: kolla_python_version: 3.8 - kolla-ansible-ubuntu-source-upgrade: vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 - kolla-ansible-ubuntu-source-upgrade: vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8 vars: kolla_python_version: 3.8,0,36
openstack%2Fkuryr-kubernetes~master~Iaba656886d484336b69ffaec0773af027fc9e33d,openstack/kuryr-kubernetes,master,Iaba656886d484336b69ffaec0773af027fc9e33d,Earlier one of known pre Python 2.5 ternary syntax was used. It is recommended to use an if expression like: foo if condition else bar. Using [condition] and [on_true] or [on_false] may also give wrong results when on_true has a false boolean value.,ABANDONED,2021-04-27 19:25:52.000000000,2021-04-28 19:04:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-27 19:25:52.000000000', 'files': ['kuryr_kubernetes/pod_resources/api_pb2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d59be837087a9d5e784162a040168baf2e8fc764', 'message': 'Earlier one of known pre Python 2.5 ternary syntax was used. It is recommended to use an if expression like: foo if condition else bar. Using [condition] and [on_true] or [on_false] may also give wrong results when on_true has a false boolean value.\n\nChange-Id: Iaba656886d484336b69ffaec0773af027fc9e33d\n'}]",1,788351,d59be837087a9d5e784162a040168baf2e8fc764,8,2,1,33375,,,0,"Earlier one of known pre Python 2.5 ternary syntax was used. It is recommended to use an if expression like: foo if condition else bar. Using [condition] and [on_true] or [on_false] may also give wrong results when on_true has a false boolean value.

Change-Id: Iaba656886d484336b69ffaec0773af027fc9e33d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/51/788351/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/pod_resources/api_pb2.py'],1,d59be837087a9d5e784162a040168baf2e8fc764,dev1,_b=(lambda x:x) if sys.version_info[0]<3 else (lambda x:x.encode('latin1')),_b=sys.version_info[0]<3 and (lambda x:x) or (lambda x:x.encode('latin1')),1,1
openstack%2Fcinder~master~I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,openstack/cinder,master,I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,"Open local image files with ""rb"" mode",MERGED,2021-04-12 13:40:08.000000000,2021-04-28 19:01:34.000000000,2021-04-28 18:58:02.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 25089}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-12 13:40:08.000000000', 'files': ['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d7e7547f0119300ecb8f6cd171b04ead3210ecc', 'message': 'Open local image files with ""rb"" mode\n\nWhen using ""file"" in allowed_direct_url_schemes,\nopen image files w/ binary mode.\n\nCloses-Bug: #1923313\nChange-Id: I52b87d03c49db74002f09cfeea86bc0ac7ce8a42\n'}]",0,785878,5d7e7547f0119300ecb8f6cd171b04ead3210ecc,34,7,1,4523,,,0,"Open local image files with ""rb"" mode

When using ""file"" in allowed_direct_url_schemes,
open image files w/ binary mode.

Closes-Bug: #1923313
Change-Id: I52b87d03c49db74002f09cfeea86bc0ac7ce8a42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/785878/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py']",2,5d7e7547f0119300ecb8f6cd171b04ead3210ecc,," with open(parsed_url.path, ""rb"") as f:"," with open(parsed_url.path, ""r"") as f:",2,1
openstack%2Ftempest~master~I39e1bcc91066cddd494686e297af96ff526f4c28,openstack/tempest,master,I39e1bcc91066cddd494686e297af96ff526f4c28,Bump the openstack-python3 jobs to xena,MERGED,2021-04-28 12:16:18.000000000,2021-04-28 19:01:32.000000000,2021-04-28 18:57:52.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 12:16:18.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4aae01313188df70d6cd4df4586589e052df08c7', 'message': 'Bump the openstack-python3 jobs to xena\n\nSo that we get the current set of jobs including py39 testing.\n\nChange-Id: I39e1bcc91066cddd494686e297af96ff526f4c28\n'}]",0,788480,4aae01313188df70d6cd4df4586589e052df08c7,9,3,1,13252,,,0,"Bump the openstack-python3 jobs to xena

So that we get the current set of jobs including py39 testing.

Change-Id: I39e1bcc91066cddd494686e297af96ff526f4c28
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/788480/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4aae01313188df70d6cd4df4586589e052df08c7,bump-pti, - openstack-python3-xena-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Frequirements~master~I68d31601a337847ce646ac250521fb8809938014,openstack/requirements,master,I68d31601a337847ce646ac250521fb8809938014,update constraint for oslo.config to new release 8.6.0,MERGED,2021-04-27 18:39:46.000000000,2021-04-28 19:01:16.000000000,2021-04-28 18:58:25.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 18:39:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b2abe813ba813efcbd950cbbca609c5b8e4bca3', 'message': 'update constraint for oslo.config to new release 8.6.0\n\nmeta: version: 8.6.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Change-Id: I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I68d31601a337847ce646ac250521fb8809938014\n'}]",0,788341,2b2abe813ba813efcbd950cbbca609c5b8e4bca3,12,4,1,11131,,,0,"update constraint for oslo.config to new release 8.6.0

meta: version: 8.6.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I68d31601a337847ce646ac250521fb8809938014
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/788341/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2b2abe813ba813efcbd950cbbca609c5b8e4bca3,new-release,oslo.config===8.6.0,oslo.config===8.5.0,1,1
openstack%2Fneutron~master~I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c,openstack/neutron,master,I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c,Fix SQLAlchemy backref warnings for viewonly columns,MERGED,2021-04-23 17:20:04.000000000,2021-04-28 18:45:22.000000000,2021-04-28 18:40:41.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 17:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1910f02790cea65979408e75c96a6d3c5173cf3b', 'message': 'Fix SQLAlchemy backref warnings for viewonly columns\n\nFixed backref warning for two view only relationship defined in the\nORM, ""QosNetworkPolicyBinding.port"" and ""Tag.standard_attr"".\n\nChange-Id: I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c\nCloses-Bug: #1925841\n'}, {'number': 2, 'created': '2021-04-26 09:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08cd74d7eccbc822b863411575b7d3b95ffa42c7', 'message': 'Fix SQLAlchemy backref warnings for viewonly columns\n\nFixed backref warning for two view only relationship defined in the\nORM, ""QosNetworkPolicyBinding.port"" and ""Tag.standard_attr"".\n\nChange-Id: I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c\nCloses-Bug: #1925841\n'}, {'number': 3, 'created': '2021-04-26 16:07:28.000000000', 'files': ['neutron/db/qos/models.py', 'requirements.txt', 'lower-constraints.txt', 'neutron/db/models/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b39060ddf1b8fbecd1a1b71d543b5de8990a909', 'message': 'Fix SQLAlchemy backref warnings for viewonly columns\n\nFixed backref warning for two view only relationship defined in the\nORM, ""QosNetworkPolicyBinding.port"" and ""Tag.standard_attr"".\n\nChange-Id: I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c\nCloses-Bug: #1925841\n'}]",3,787782,8b39060ddf1b8fbecd1a1b71d543b5de8990a909,41,3,3,16688,,,0,"Fix SQLAlchemy backref warnings for viewonly columns

Fixed backref warning for two view only relationship defined in the
ORM, ""QosNetworkPolicyBinding.port"" and ""Tag.standard_attr"".

Change-Id: I7fcb1268f4fc637e7f39eae4fcde33f82cb9772c
Closes-Bug: #1925841
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/787782/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/db/models/tag.py']",2,1910f02790cea65979408e75c96a6d3c5173cf3b,bug/1925841," backref=orm.backref('tags', lazy='subquery', viewonly=True), sync_backref=False)"," backref=orm.backref('tags', lazy='subquery', viewonly=True))",4,2
openstack%2Foctavia~stable%2Fvictoria~I36601dc7423fb50ea1d94c82764986a67ee3e10e,openstack/octavia,stable/victoria,I36601dc7423fb50ea1d94c82764986a67ee3e10e,Cap hacking,MERGED,2021-04-28 09:23:51.000000000,2021-04-28 18:44:53.000000000,2021-04-28 18:42:33.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-04-28 09:23:51.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ab43edc1cdb743d6f7dd25480ab1b357411976d', 'message': 'Cap hacking\n\nCap hacking (4.1.0 added a new checker that conflicts with one of our\ninternal checker check_no_import_mock)\n\nChange-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e\n'}]",0,788458,7ab43edc1cdb743d6f7dd25480ab1b357411976d,12,5,1,29244,,,0,"Cap hacking

Cap hacking (4.1.0 added a new checker that conflicts with one of our
internal checker check_no_import_mock)

Change-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/788458/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7ab43edc1cdb743d6f7dd25480ab1b357411976d,,"hacking>=3.0,<4.1.0 # Apache-2.0",hacking>=3.0 # Apache-2.0,1,1
openstack%2Foctavia~stable%2Fussuri~I36601dc7423fb50ea1d94c82764986a67ee3e10e,openstack/octavia,stable/ussuri,I36601dc7423fb50ea1d94c82764986a67ee3e10e,Cap hacking,MERGED,2021-04-28 09:53:11.000000000,2021-04-28 18:44:38.000000000,2021-04-28 18:42:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-04-28 09:53:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/46b9ce7cde29cce0a8cf94fcb2ca8587d2a71bdf', 'message': 'Cap hacking\n\nCap hacking (4.1.0 added a new checker that conflicts with one of our\ninternal checker check_no_import_mock)\n\nChange-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e\n(cherry picked from commit 7ab43edc1cdb743d6f7dd25480ab1b357411976d)\n'}]",0,788464,46b9ce7cde29cce0a8cf94fcb2ca8587d2a71bdf,10,5,1,29244,,,0,"Cap hacking

Cap hacking (4.1.0 added a new checker that conflicts with one of our
internal checker check_no_import_mock)

Change-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e
(cherry picked from commit 7ab43edc1cdb743d6f7dd25480ab1b357411976d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/788464/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,46b9ce7cde29cce0a8cf94fcb2ca8587d2a71bdf,,"hacking>=3.0,<4.1.0 # Apache-2.0",hacking>=3.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~I02a2612c7e08576c7c5df85e73702a5678a18b99,openstack/tripleo-heat-templates,master,I02a2612c7e08576c7c5df85e73702a5678a18b99,Remove Keepalived service,MERGED,2021-04-26 23:14:58.000000000,2021-04-28 18:39:51.000000000,2021-04-28 18:37:40.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 23:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44e1c8cdc3c8a10351824e6137ad64336097321a', 'message': 'Remove Keepalived service\n\nThe Keepalived service was deprecated during the Ussuri cycle, so\ncan be removed now.\n\nblueprint replace-keepalived-undercloud\nChange-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99\n'}, {'number': 2, 'created': '2021-04-26 23:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b08de24e2a0d430e78ca75373449e5521d138dfd', 'message': 'Remove Keepalived service\n\nThe Keepalived service was deprecated during the Train cycle, so\ncan be removed now.\n\nblueprint replace-keepalived-undercloud\nChange-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99\n'}, {'number': 3, 'created': '2021-04-27 12:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b8f84da9bcb789679ea91f8164966613d32b5e4', 'message': 'Remove Keepalived service\n\nThe Keepalived service was deprecated during the Train cycle, so\ncan be removed now.\n\nDepends-on: https://review.opendev.org/788200\nblueprint replace-keepalived-undercloud\nChange-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99\n'}, {'number': 4, 'created': '2021-04-27 16:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ae62afbe60036797bf5a9fa94b8df94fcffcf9b', 'message': 'Remove Keepalived service\n\nThe Keepalived service was deprecated during the Ussuri cycle[1], so\ncan be removed now.\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nDepends-on: https://review.opendev.org/788200\nChange-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99\n'}, {'number': 5, 'created': '2021-04-27 16:16:42.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario013-standalone.yaml', 'environments/services/undercloud-keepalived.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/keepalived_removed-04c52519d7b33acb.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acafd67c391c53f59901cb5f70dc4d7425f6403a', 'message': 'Remove Keepalived service\n\nThe Keepalived service was deprecated during the Ussuri cycle[1], so\ncan be removed now.\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nChange-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99\n'}]",0,788095,acafd67c391c53f59901cb5f70dc4d7425f6403a,28,5,5,9816,,,0,"Remove Keepalived service

The Keepalived service was deprecated during the Ussuri cycle[1], so
can be removed now.

[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78

Related-Bug: #1926314
Depends-on: https://review.opendev.org/788200
Change-Id: I02a2612c7e08576c7c5df85e73702a5678a18b99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/788095/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario013-standalone.yaml', 'environments/services/undercloud-keepalived.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/keepalived_removed-04c52519d7b33acb.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml']",7,44e1c8cdc3c8a10351824e6137ad64336097321a,bug/1926314, # Keepalived was removed and the VIPs are now deployed by, # Keepalived was deprecated and the VIPs are now deployed by,7,161
openstack%2Fpython-tripleoclient~master~I9d9dea09a36914cffaef1d251c49f3c4fea4fa68,openstack/python-tripleoclient,master,I9d9dea09a36914cffaef1d251c49f3c4fea4fa68,Remove leftover for undercloud keepalived service,MERGED,2021-04-27 08:10:41.000000000,2021-04-28 18:38:41.000000000,2021-04-28 18:36:55.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 08:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2f94b3371da5a8134950594af524626fddc5b8e0', 'message': 'Remove Keepalived service in undercloud\n\nKeepalived service was deprecated in Train, and is no longer required\nsince VIPs are now deployed as a part of network deployment.\n\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n'}, {'number': 2, 'created': '2021-04-27 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f3e1a5eef94711da0849820f15a78784e74a8e7', 'message': 'Remove Keepalived service in undercloud\n\nKeepalived service was deprecated in Train, and is no longer required\nsince VIPs are now deployed by network deployment process.\n\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n'}, {'number': 3, 'created': '2021-04-27 16:05:46.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b02acaa6e17e8c3d1ab29ab30fa21e8b65ba8b43', 'message': ""Remove leftover for undercloud keepalived service\n\nCurrently environments/services/undercloud-keepalived.yaml is included\nwhen undercloud SSL is enabled but this file is no longer effective\nsince the Keepalived service was removed from undercloud role data[1].\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nBecause VIPs are managed by os-net-config now and we don't expect any\nsituation where users requires keepalived running in undercloud,\nthis change simply removes all remaining implementation for undercloud\nkeepalived service.\n\nCloses-Bug: #1926314\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n""}]",1,788200,b02acaa6e17e8c3d1ab29ab30fa21e8b65ba8b43,17,5,3,9816,,,0,"Remove leftover for undercloud keepalived service

Currently environments/services/undercloud-keepalived.yaml is included
when undercloud SSL is enabled but this file is no longer effective
since the Keepalived service was removed from undercloud role data[1].

[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78

Because VIPs are managed by os-net-config now and we don't expect any
situation where users requires keepalived running in undercloud,
this change simply removes all remaining implementation for undercloud
keepalived service.

Closes-Bug: #1926314
Change-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/788200/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,2f94b3371da5a8134950594af524626fddc5b8e0,bug/1926314," 'services/undercloud-haproxy.yaml', '/usertht/environments/services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml',"," 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', '/usertht/environments/services/undercloud-haproxy.yaml', '-e', '/usertht/environments/services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml',",13,58
openstack%2Ftripleo-ci~master~Ibc6cd5a026babe640ec3f38a94170ac86e298363,openstack/tripleo-ci,master,Ibc6cd5a026babe640ec3f38a94170ac86e298363,"improve ci log readme, add selinux",MERGED,2021-04-27 16:16:38.000000000,2021-04-28 18:38:05.000000000,2021-04-28 18:38:05.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 16:16:38.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cf0952546eada3438c8a89513606eca8865411a3', 'message': 'improve ci log readme, add selinux\n\nChange-Id: Ibc6cd5a026babe640ec3f38a94170ac86e298363\n'}]",0,788324,cf0952546eada3438c8a89513606eca8865411a3,7,3,1,9592,,,0,"improve ci log readme, add selinux

Change-Id: Ibc6cd5a026babe640ec3f38a94170ac86e298363
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/788324/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,cf0952546eada3438c8a89513606eca8865411a3,,"Available on each node, extra system details like package list, and cpu info gathered from the<h3>SELinux Alerts</h3> <ul> <li><a href='undercloud/var/log/extra/selinux_denials_detail.txt'>selinux_denials_detail</a> <li>Available on each node under /var/log/extra/selinux_denials_detail</li> </ul> ","extra system details like package list, and cpu info gathered from the",7,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Ibffa019e2106784e97f5c482106bb5082f788752,openstack/kolla-ansible,stable/wallaby,Ibffa019e2106784e97f5c482106bb5082f788752,Deprecate enable_host_ntp,MERGED,2021-04-28 15:09:02.000000000,2021-04-28 18:31:39.000000000,2021-04-28 18:29:58.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 15:09:02.000000000', 'files': ['doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'releasenotes/notes/deprecate-enable-host-ntp-3ad934c097f18b1b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5894894ffbb56720785234bfe14d097dc2c7d7fb', 'message': 'Deprecate enable_host_ntp\n\nAs agreed during IRC meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-04-07-15.00.html\n\nChange-Id: Ibffa019e2106784e97f5c482106bb5082f788752\n(cherry picked from commit 83f3422fbd58581f3dea595eb0ac080b86c9fcf9)\n'}]",0,788516,5894894ffbb56720785234bfe14d097dc2c7d7fb,10,3,1,30491,,,0,"Deprecate enable_host_ntp

As agreed during IRC meeting. [1]

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-04-07-15.00.html

Change-Id: Ibffa019e2106784e97f5c482106bb5082f788752
(cherry picked from commit 83f3422fbd58581f3dea595eb0ac080b86c9fcf9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/788516/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'releasenotes/notes/deprecate-enable-host-ntp-3ad934c097f18b1b.yaml']",4,5894894ffbb56720785234bfe14d097dc2c7d7fb,deprecate-enable-host-ntp-stable/wallaby,--- deprecations: - | Support for configuration of NTP daemon (via ``enable_host_ntp``) is deprecated and will be removed in the next Kolla Ansible release (Xena). Please use other means of configuring NTP. ,,21,0
openstack%2Fkayobe~master~I5ecb42bc752c272c8a2b48b6c8499344f27fef5e,openstack/kayobe,master,I5ecb42bc752c272c8a2b48b6c8499344f27fef5e,[release] Tidy release notes for Wallaby,MERGED,2021-04-28 08:53:39.000000000,2021-04-28 18:29:37.000000000,2021-04-28 18:26:40.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-28 08:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dfaa17b36f84d4c1443dc79df9f9f406004db3d6', 'message': '[release] Tidy release notes for Wallaby\n\nChange-Id: I5ecb42bc752c272c8a2b48b6c8499344f27fef5e\n'}, {'number': 2, 'created': '2021-04-28 09:36:52.000000000', 'files': ['releasenotes/notes/remove-qinling-support-67635a37e620fc7b.yaml', 'releasenotes/notes/ansible-2.9-2.9-1a666cc9aab51c9d.yaml', 'releasenotes/notes/remove-searchlight-support-a164fd550bfc14d4.yaml', 'releasenotes/notes/ansible_max_2_10-f54a5e6fbae5db91.yaml', 'releasenotes/notes/ironic-enabled-bios-interfaces-2b0a17d68126ac09.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f190f739e3a705d4f2f62088526d2543d1d960b1', 'message': '[release] Tidy release notes for Wallaby\n\nChange-Id: I5ecb42bc752c272c8a2b48b6c8499344f27fef5e\n'}]",0,788432,f190f739e3a705d4f2f62088526d2543d1d960b1,12,4,2,14826,,,0,"[release] Tidy release notes for Wallaby

Change-Id: I5ecb42bc752c272c8a2b48b6c8499344f27fef5e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/788432/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-2.9-2.9-1a666cc9aab51c9d.yaml', 'releasenotes/notes/ansible_max_2_10-f54a5e6fbae5db91.yaml', 'releasenotes/notes/ironic-enabled-bios-interfaces-2b0a17d68126ac09.yaml']",3,dfaa17b36f84d4c1443dc79df9f9f406004db3d6,reno, Allow users to modify Ironic ``kolla_ironic_enabled_bios_interfaces`` and ``kolla_ironic_default_bios_interface`` in ``ironic.yml``., Allow users to modify Ironic `kolla_ironic_enabled_bios_interfaces` and `kolla_ironic_default_bios_interface` in ironic.yml.,4,10
openstack%2Fkayobe~master~Ibd20a72bd29e20de016fe41de2f1691302e7e24d,openstack/kayobe,master,Ibd20a72bd29e20de016fe41de2f1691302e7e24d,[release] Sync Kolla Ansible feature flags and inventory for Wallaby,MERGED,2021-04-23 15:55:25.000000000,2021-04-28 18:28:16.000000000,2021-04-28 18:26:26.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-23 15:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98935c0d8384e570e0e8f8d64055b72ae6120c37', 'message': 'Sync Kolla Ansible feature flags for Wallaby\n\nSyncs with Kolla Ansible feature flags for Wallaby release, at commit\n058dd6828d788b60b6803f24f53f1dfca0876e6b.\n\nAlso adds a script to automate the process, and updates the release\ndocumentation to include these steps.\n\nChange-Id: Ibd20a72bd29e20de016fe41de2f1691302e7e24d\n'}, {'number': 2, 'created': '2021-04-23 16:16:42.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0b279474e00d1588899441896157c1c767ff199b', 'message': '[release] Sync Kolla Ansible feature flags and inventory for Wallaby\n\nSyncs with Kolla Ansible feature flags and inventory for Wallaby\nrelease, at commit 058dd6828d788b60b6803f24f53f1dfca0876e6b.\n\nChange-Id: Ibd20a72bd29e20de016fe41de2f1691302e7e24d\n'}]",0,787775,0b279474e00d1588899441896157c1c767ff199b,14,3,2,14826,,,0,"[release] Sync Kolla Ansible feature flags and inventory for Wallaby

Syncs with Kolla Ansible feature flags and inventory for Wallaby
release, at commit 058dd6828d788b60b6803f24f53f1dfca0876e6b.

Change-Id: Ibd20a72bd29e20de016fe41de2f1691302e7e24d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/75/787775/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla.yml', 'doc/source/contributor/releases.rst', 'tools/feature-flags.py', 'ansible/roles/kolla-ansible/vars/main.yml', 'tools/kolla-feature-flags.sh']",5,98935c0d8384e570e0e8f8d64055b72ae6120c37,,"#!/bin/bash # This script generates a list of Kolla Ansible feature flags to use as the # kolla_feature_flags variable in ansible/roles/kolla-ansible/vars/main.yml. # It should be run periodically and before a release. # See also: tools/feature-flags.py set -e set -o pipefail KOLLA_ANSIBLE_SRC=$1 KOLLA_GROUP_VARS_ALL=${KOLLA_ANSIBLE_SRC}/ansible/group_vars/all.yml if [[ ! -f $KOLLA_GROUP_VARS_ALL ]]; then echo ""Usage: $0 <path to kolla-ansible source>"" exit 1 fi # Find all feature flags, strip the enable_ prefix and value, sort. cat ${KOLLA_GROUP_VARS_ALL} | grep '^enable_'| sed -e 's/enable_\(.*\):.*/ - \1/' | sort ",,115,7
openstack%2Fkolla~stable%2Fwallaby~If21a21296489c1f243bb46f2595ff94d999bd686,openstack/kolla,stable/wallaby,If21a21296489c1f243bb46f2595ff94d999bd686,neutron: Remove vmware-nsx and networking-mlx from binary,MERGED,2021-04-28 15:07:33.000000000,2021-04-28 18:28:05.000000000,2021-04-28 18:26:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 15:07:33.000000000', 'files': ['contrib/neutron-plugins/README.rst', 'releasenotes/notes/wallaby-neutron-plugins-excluded-b72220a2ea8c1a40.yaml', 'contrib/neutron-plugins/template_override-networking-mlnx.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'contrib/neutron-plugins/template_override-vmware-nsx.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1ad81338870ad4b5a07b6a0590b87472f2277b7', 'message': 'neutron: Remove vmware-nsx and networking-mlx from binary\n\nThose plugins have been already removed from source images, this\nchange removes them from binary.\n\nChange-Id: If21a21296489c1f243bb46f2595ff94d999bd686\n(cherry picked from commit a4f6a8f05b45838338ee1c6a78f278d49486ac03)\n'}]",0,788455,a1ad81338870ad4b5a07b6a0590b87472f2277b7,10,4,1,30491,,,0,"neutron: Remove vmware-nsx and networking-mlx from binary

Those plugins have been already removed from source images, this
change removes them from binary.

Change-Id: If21a21296489c1f243bb46f2595ff94d999bd686
(cherry picked from commit a4f6a8f05b45838338ee1c6a78f278d49486ac03)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/788455/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/neutron-plugins/README.rst', 'contrib/neutron-plugins/template_override-networking-mlnx.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'releasenotes/notes/wallaby-neutron-plugins-excluded-b72220a2ea8c1a40.yaml', 'contrib/neutron-plugins/template_override-vmware-nsx.j2']",5,a1ad81338870ad4b5a07b6a0590b87472f2277b7,,{% extends parent_template %} # Neutron vmware-nsx plugin {% set neutron_base_packages_append = ['python3-networking-vmware-nsx'] %} ,,14,7
openstack%2Fkolla~master~Ifa491b102ad0db7f6dc645ca552d83b53bcf3b46,openstack/kolla,master,Ifa491b102ad0db7f6dc645ca552d83b53bcf3b46,Pin erlang,MERGED,2021-04-26 16:54:54.000000000,2021-04-28 18:27:48.000000000,2021-04-28 18:26:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 16:54:54.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b54789d093d8f9e35265d313e95f9f89aceb4f4b', 'message': ""Pin erlang\n\nNow that we run without erlang pinned by the repository itself,\nlet's pin it on our side.\n\nChange-Id: Ifa491b102ad0db7f6dc645ca552d83b53bcf3b46\n""}]",0,788045,b54789d093d8f9e35265d313e95f9f89aceb4f4b,25,5,1,30491,,,0,"Pin erlang

Now that we run without erlang pinned by the repository itself,
let's pin it on our side.

Change-Id: Ifa491b102ad0db7f6dc645ca552d83b53bcf3b46
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/788045/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",3,b54789d093d8f9e35265d313e95f9f89aceb4f4b,pin-erlang," 'erlang-23.*',",,6,0
openstack%2Fkayobe~master~Id2bd48897d6b37a5006bad7f6e8597db20aa1b8b,openstack/kayobe,master,Id2bd48897d6b37a5006bad7f6e8597db20aa1b8b,[release] add kolla feature flag sync scripts and update docs,MERGED,2021-04-23 16:16:42.000000000,2021-04-28 18:26:33.000000000,2021-04-28 18:26:33.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-23 16:16:42.000000000', 'files': ['doc/source/contributor/releases.rst', 'tools/feature-flags.py', 'tools/kolla-feature-flags.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b7287ec58656d86194adf523b8574c567d9fced1', 'message': '[release] add kolla feature flag sync scripts and update docs\n\nAdds a script for syncing feature flags from Kolla Ansible, and updates\nthe release docs to include this step. Also adds the inventory sync\nstep.\n\nChange-Id: Id2bd48897d6b37a5006bad7f6e8597db20aa1b8b\n'}]",2,787778,b7287ec58656d86194adf523b8574c567d9fced1,7,3,1,14826,,,0,"[release] add kolla feature flag sync scripts and update docs

Adds a script for syncing feature flags from Kolla Ansible, and updates
the release docs to include this step. Also adds the inventory sync
step.

Change-Id: Id2bd48897d6b37a5006bad7f6e8597db20aa1b8b
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/78/787778/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/releases.rst', 'tools/feature-flags.py', 'tools/kolla-feature-flags.sh']",3,b7287ec58656d86194adf523b8574c567d9fced1,,"#!/bin/bash # This script generates a list of Kolla Ansible feature flags to use as the # kolla_feature_flags variable in ansible/roles/kolla-ansible/vars/main.yml. # It should be run periodically and before a release. # See also: tools/feature-flags.py set -e set -o pipefail KOLLA_ANSIBLE_SRC=$1 KOLLA_GROUP_VARS_ALL=${KOLLA_ANSIBLE_SRC}/ansible/group_vars/all.yml if [[ ! -f $KOLLA_GROUP_VARS_ALL ]]; then echo ""Usage: $0 <path to kolla-ansible source>"" exit 1 fi # Find all feature flags, strip the enable_ prefix and value, sort. cat ${KOLLA_GROUP_VARS_ALL} | grep '^enable_'| sed -e 's/enable_\(.*\):.*/ - \1/' | sort ",,86,0
openstack%2Fpuppet-nova~stable%2Fwallaby~I976f70f1f4015536201c6c3acac3f1e4dbca4ccb,openstack/puppet-nova,stable/wallaby,I976f70f1f4015536201c6c3acac3f1e4dbca4ccb,nova_flavor: Accept array format about access_project_ids,MERGED,2021-04-20 15:25:37.000000000,2021-04-28 18:22:22.000000000,2021-04-28 18:22:22.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 15:25:37.000000000', 'files': ['lib/puppet/provider/nova_flavor/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b47f63cea857278a26af3d2b184b4da63bc6bd3b', 'message': ""nova_flavor: Accept array format about access_project_ids\n\nThe latest openstackclient doesn't show none but empty array([]) when\nno access_project_ids is set for an flavor.\nThis change ensure that array format is properly handled to avoid\nerror during updating nova flavor using the nova_flavor resource.\n\nCloses-Bug: #1924222\nChange-Id: I976f70f1f4015536201c6c3acac3f1e4dbca4ccb\n(cherry picked from commit 86764de9cd90b9b09898da6061aaa786906620df)\n""}]",0,787236,b47f63cea857278a26af3d2b184b4da63bc6bd3b,21,3,1,9816,,,0,"nova_flavor: Accept array format about access_project_ids

The latest openstackclient doesn't show none but empty array([]) when
no access_project_ids is set for an flavor.
This change ensure that array format is properly handled to avoid
error during updating nova flavor using the nova_flavor resource.

Closes-Bug: #1924222
Change-Id: I976f70f1f4015536201c6c3acac3f1e4dbca4ccb
(cherry picked from commit 86764de9cd90b9b09898da6061aaa786906620df)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/36/787236/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_flavor/openstack.rb'],1,b47f63cea857278a26af3d2b184b4da63bc6bd3b,bug/1924222-stable/wallaby," access_project_ids = project[:access_project_ids] if access_project_ids.downcase.chomp == 'none' # If the ids are formatted as Array, surrounding [] should be removed elsif access_project_ids.start_with?('[') and access_project_ids.end_with?(']') # TODO(tkajinam): We'd need to consider multiple projects can be returned project_value = access_project_ids[1..-2] project_value = access_project_ids", if project[:access_project_ids].downcase.chomp == 'none' project_value = project[:access_project_ids],8,2
openstack%2Fkolla~stable%2Fvictoria~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,stable/victoria,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 17:41:33.000000000,2021-04-28 18:20:26.000000000,2021-04-28 18:19:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 17:41:33.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4c366e9fbc3294fd5f9822c31538766deeeafbdc', 'message': ""Disable trove for Debian/binary\n\nPackage installation fails:\n\nSetting up trove-common (1:14.0.0-2~bpo10+1) ...\ninstall: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory\ndpkg: error processing package trove-common (--configure):\n installed trove-common package post-installation script subprocess returned error exit status 1\n\nChange-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea\n(cherry picked from commit 51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53)\n""}]",0,787986,4c366e9fbc3294fd5f9822c31538766deeeafbdc,22,3,1,24072,,,0,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
(cherry picked from commit 51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/787986/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,4c366e9fbc3294fd5f9822c31538766deeeafbdc,," ""trove-base"", # package is not installable",,1,0
openstack%2Fopenstack-ansible-os_neutron~master~I6143d9b2a4cc94b1e8aa89c53ac9431551f84529,openstack/openstack-ansible-os_neutron,master,I6143d9b2a4cc94b1e8aa89c53ac9431551f84529,Updated from OpenStack Ansible Tests,MERGED,2021-04-19 09:59:12.000000000,2021-04-28 18:09:14.000000000,2021-04-28 18:07:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-19 09:59:12.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c8d576ee7131f5d91f0babdd96790351dd68c89e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6143d9b2a4cc94b1e8aa89c53ac9431551f84529\n'}]",0,786855,c8d576ee7131f5d91f0babdd96790351dd68c89e,13,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6143d9b2a4cc94b1e8aa89c53ac9431551f84529
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/55/786855/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,c8d576ee7131f5d91f0babdd96790351dd68c89e,openstack/openstack-ansible-tests/sync-tests, (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host), (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) (_oslomsg_notify_userid != _oslomsg_rpc_userid),6,3
openstack%2Foctavia~stable%2Fwallaby~I36601dc7423fb50ea1d94c82764986a67ee3e10e,openstack/octavia,stable/wallaby,I36601dc7423fb50ea1d94c82764986a67ee3e10e,Cap hacking and pylint,MERGED,2021-04-28 09:01:43.000000000,2021-04-28 17:49:32.000000000,2021-04-28 17:48:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2021-04-28 09:01:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/46979a0d1b92647913f693ee5b4d8e4b81473e7e', 'message': ""Cap hacking and pylint\n\nCap hacking (4.1.0 added a new checker that conflicts with one of our\ninternal checker check_no_import_mock)\nCap pylint (2.8 introduced new 'consider-using-with' checker)\n\nChange-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e\n""}]",0,788433,46979a0d1b92647913f693ee5b4d8e4b81473e7e,12,5,1,29244,,,0,"Cap hacking and pylint

Cap hacking (4.1.0 added a new checker that conflicts with one of our
internal checker check_no_import_mock)
Cap pylint (2.8 introduced new 'consider-using-with' checker)

Change-Id: I36601dc7423fb50ea1d94c82764986a67ee3e10e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/788433/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,46979a0d1b92647913f693ee5b4d8e4b81473e7e,,"hacking>=3.0,<4.1.0 # Apache-2.0pylint>=2.5.3,<2.8 # GPLv2",hacking>=3.0 # Apache-2.0pylint>=2.5.3 # GPLv2,2,2
openstack%2Fneutron~stable%2Fussuri~Iffd1deb977e92b9a600ab2603408ddf2eb387e18,openstack/neutron,stable/ussuri,Iffd1deb977e92b9a600ab2603408ddf2eb387e18,[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables,MERGED,2021-04-26 12:35:05.000000000,2021-04-28 17:26:55.000000000,2021-04-28 17:24:50.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:35:05.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9758e72fcf17ee6d5e2cccba89b71bed00e21433', 'message': ""[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables\n\nIf both Chassis and Chassis_Private tables are passed to the\nMetadataProxyHandler class we should conditionally monitor both of them.\n\nChange-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1925836\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit ce2c0010b93680bdcb6619940a84f8602769b837)\n""}]",0,787963,9758e72fcf17ee6d5e2cccba89b71bed00e21433,12,3,1,6773,,,0,"[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables

If both Chassis and Chassis_Private tables are passed to the
MetadataProxyHandler class we should conditionally monitor both of them.

Change-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1925836
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit ce2c0010b93680bdcb6619940a84f8602769b837)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/787963/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,9758e72fcf17ee6d5e2cccba89b71bed00e21433,," for table in set(tables).intersection({'Chassis', 'Chassis_Private'}): self.tables[table].condition = [['name', '==', chassis]]"," table = ('Chassis_Private' if 'Chassis_Private' in tables else 'Chassis') self.tables[table].condition = [['name', '==', chassis]]",3,3
openstack%2Fkolla~master~I91a90e38509bab2bd896909d796d09286dc2b9af,openstack/kolla,master,I91a90e38509bab2bd896909d796d09286dc2b9af,"Revert ""deprecate use of GnuPG ids for APT keys""",MERGED,2021-04-28 15:54:17.000000000,2021-04-28 17:26:48.000000000,2021-04-28 17:25:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-04-28 15:54:17.000000000', 'files': ['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6e190741df5ecd71d7d664e6b4cac9d5d6eb5c6f', 'message': 'Revert ""deprecate use of GnuPG ids for APT keys""\n\nThis reverts commit 2534c65dac19f576c60f7958d9d74a291447be49.\n\nReason for revert: due to PPA use APT keys stays for longer.\n\nChange-Id: I91a90e38509bab2bd896909d796d09286dc2b9af\n'}]",0,788519,6e190741df5ecd71d7d664e6b4cac9d5d6eb5c6f,8,7,1,24072,,,0,"Revert ""deprecate use of GnuPG ids for APT keys""

This reverts commit 2534c65dac19f576c60f7958d9d74a291447be49.

Reason for revert: due to PPA use APT keys stays for longer.

Change-Id: I91a90e38509bab2bd896909d796d09286dc2b9af
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/788519/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'],1,6e190741df5ecd71d7d664e6b4cac9d5d6eb5c6f,,,--- deprecations: - | Using APT keys as list of GnuPG ids (via ``apt_keys`` template override) is deprecated since Wallaby release and support for them will be dropped in Xena cycle. If you used this in your template overrides then please migrate into ``remote_apt_keys`` + entries in ``repos.yaml`` file. ,0,7
openstack%2Fkolla-ansible~stable%2Fwallaby~Ic251b447026262eab4b406b8432cc009ca97ae82,openstack/kolla-ansible,stable/wallaby,Ic251b447026262eab4b406b8432cc009ca97ae82,cephadm: Set auth_allow_insecure_global_id_reclaim to true,MERGED,2021-04-28 09:56:57.000000000,2021-04-28 17:26:31.000000000,2021-04-28 17:25:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 09:56:57.000000000', 'files': ['roles/cephadm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaa2bb977dc18c042ede33bbe73bdd513592eb6a', 'message': 'cephadm: Set auth_allow_insecure_global_id_reclaim to true\n\nBackground in [1].\nUbuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,\ntherefore not allowing Ubuntu clients to connect.\n\n[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ic251b447026262eab4b406b8432cc009ca97ae82\n(cherry picked from commit a967b9dd66fad5b055b071794a4b059feed9fe90)\n'}]",0,788439,aaa2bb977dc18c042ede33bbe73bdd513592eb6a,9,3,1,22629,,,0,"cephadm: Set auth_allow_insecure_global_id_reclaim to true

Background in [1].
Ubuntu uses pre 15.2.11 client and new 15.2.11 installs default that to false,
therefore not allowing Ubuntu clients to connect.

[1]: https://docs.ceph.com/en/latest/security/CVE-2021-20288/

Change-Id: Ic251b447026262eab4b406b8432cc009ca97ae82
(cherry picked from commit a967b9dd66fad5b055b071794a4b059feed9fe90)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/788439/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/tasks/main.yml'],1,aaa2bb977dc18c042ede33bbe73bdd513592eb6a,,"# NOTE(mnasiadka): Ubuntu uses pre 15.2.11 Octopus client code and suffers from # https://docs.ceph.com/en/latest/security/CVE-2021-20288/ - name: Set auth_allow_insecure_global_id_reclaim to True command: cmd: > cephadm shell -- ceph config set mon auth_allow_insecure_global_id_reclaim true become: true when: ansible_distribution == ""Ubuntu"" ",,11,0
openstack%2Frally-openstack~master~I339e161dfdd975f69c716e6f285cf43f5fdc60c1,openstack/rally-openstack,master,I339e161dfdd975f69c716e6f285cf43f5fdc60c1,Add magnum K8sJobs scenario to run jobs in a k8s cluster,NEW,2021-04-27 14:33:30.000000000,2021-04-28 16:43:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 14:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f0021465143efbf0860b14bb05c2309d2e66c2e3', 'message': 'Add magnum K8sJobs scenario to run jobs in a k8s cluster\n\nAdds a scenario to run one or more Kubernetes jobs,\nwhich can be used to run tests inside the cluster.\n\nOptionally allows pre-applying other yaml files,\nfor example to create storageclasses or other\ndependencies before the jobs start.\n\nThe pre-apply yaml files can have multiple resources\nper file, the jobs must be one per file.\n\nIf the Kubernetes job goes to a Failed state,\nthe scenario checks the logs of the pods created by\nthe job, and looks for a final line beginning with\nthe string ""error: "". If there is one, that message\nis raised as the error for the scenario.\n\nChange-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1\n'}, {'number': 2, 'created': '2021-04-27 15:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bec70f4f622c9951544ef50ceefd20e07c635f83', 'message': 'Add magnum K8sJobs scenario to run jobs in a k8s cluster\n\nAdds a scenario to run one or more Kubernetes jobs,\nwhich can be used to run tests inside the cluster.\n\nOptionally allows pre-applying other yaml files,\nfor example to create storageclasses or other\ndependencies before the jobs start.\n\nThe pre-apply yaml files can have multiple resources\nper file, the jobs must be one per file.\n\nIf the Kubernetes job goes to a Failed state,\nthe scenario checks the logs of the pods created by\nthe job, and looks for a final line beginning with\nthe string ""error: "". If there is one, that message\nis raised as the error for the scenario.\n\nChange-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1\n'}, {'number': 3, 'created': '2021-04-28 12:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e7c8fca2ad49c445d58bd6926e12dfde0947890d', 'message': 'Add magnum K8sJobs scenario to run jobs in a k8s cluster\n\nAdds a scenario to run one or more Kubernetes jobs,\nwhich can be used to run tests inside the cluster.\n\nOptionally allows pre-applying other yaml files,\nfor example to create storageclasses or other\ndependencies before the jobs start.\n\nThe pre-apply yaml files can have multiple resources\nper file, the jobs must be one per file.\n\nIf the Kubernetes job goes to a Failed state,\nthe scenario checks the logs of the pods created by\nthe job, and looks for a final line beginning with\nthe string ""error: "". If there is one, that message\nis raised as the error for the scenario.\n\nChange-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1\n'}, {'number': 4, 'created': '2021-04-28 15:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1fbe7be5e640017ccb0c7ca29eddbbc5e47a4889', 'message': 'Add magnum K8sJobs scenario to run jobs in a k8s cluster\n\nAdds a scenario to run one or more Kubernetes jobs,\nwhich can be used to run tests inside the cluster.\n\nOptionally allows pre-applying other yaml files,\nfor example to create storageclasses or other\ndependencies before the jobs start.\n\nThe pre-apply yaml files can have multiple resources\nper file, the jobs must be one per file.\n\nIf the Kubernetes job goes to a Failed state,\nthe scenario checks the logs of the pods created by\nthe job, and looks for a final line beginning with\nthe string ""error: "". If there is one, that message\nis raised as the error for the scenario.\n\nChange-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1\n'}, {'number': 5, 'created': '2021-04-28 15:26:01.000000000', 'files': ['samples/tasks/scenarios/magnum/artifacts/check-dns-job.yaml.k8s', 'tests/unit/task/scenarios/magnum/test_k8s_jobs.py', 'samples/tasks/scenarios/magnum/create-jobs.json', 'rally_openstack/task/scenarios/magnum/utils.py', 'tests/unit/task/scenarios/magnum/test_utils.py', 'samples/tasks/scenarios/magnum/create-jobs.yaml', 'rally_openstack/task/scenarios/magnum/k8s_jobs.py', 'samples/tasks/scenarios/magnum/artifacts/check-dns-script.yaml.k8s'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/92a9fc3a60a93550849b013fda15a58d40c709d0', 'message': 'Add magnum K8sJobs scenario to run jobs in a k8s cluster\n\nAdds a scenario to run one or more Kubernetes jobs,\nwhich can be used to run tests inside the cluster.\n\nOptionally allows pre-applying other yaml files,\nfor example to create storageclasses or other\ndependencies before the jobs start.\n\nThe pre-apply yaml files can have multiple resources\nper file, the jobs must be one per file.\n\nIf the Kubernetes job goes to a Failed state,\nthe scenario checks the logs of the pods created by\nthe job, and looks for a final line beginning with\nthe string ""error: "". If there is one, that message\nis raised as the error for the scenario.\n\nChange-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1\n'}]",0,788310,92a9fc3a60a93550849b013fda15a58d40c709d0,9,1,5,30262,,,0,"Add magnum K8sJobs scenario to run jobs in a k8s cluster

Adds a scenario to run one or more Kubernetes jobs,
which can be used to run tests inside the cluster.

Optionally allows pre-applying other yaml files,
for example to create storageclasses or other
dependencies before the jobs start.

The pre-apply yaml files can have multiple resources
per file, the jobs must be one per file.

If the Kubernetes job goes to a Failed state,
the scenario checks the logs of the pods created by
the job, and looks for a final line beginning with
the string ""error: "". If there is one, that message
is raised as the error for the scenario.

Change-Id: I339e161dfdd975f69c716e6f285cf43f5fdc60c1
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/10/788310/4 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/task/scenarios/magnum/utils.py', 'tests/unit/task/scenarios/magnum/test_utils.py', 'rally_openstack/task/scenarios/magnum/k8s_jobs.py']",3,f0021465143efbf0860b14bb05c2309d2e66c2e3,k8s-jobs-scenario,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import yaml from kubernetes import utils as k8sutils from rally.common import logging from rally.task import validation from rally_openstack import consts from rally_openstack import scenario from rally_openstack.scenarios.magnum import utils LOG = logging.getLogger(__name__) """"""Create jobs and check that they successfully run to completion"""""" @validation.add(""required_services"", services=consts.Service.MAGNUM) @validation.add(""required_platform"", platform=""openstack"", users=True) @scenario.configure( context={""cleanup@openstack"": [""magnum.clusters"", ""nova.keypairs""]}, name=""K8sJobs.create_jobs"", platform=""openstack"") class CreateJobs(utils.MagnumScenario): def run(self, pre_apply, manifests): """"""Create jobs and wait for them to complete. Optionally takes a list of yaml files to apply before creating the jobs, for example storage classes. The pre-apply yaml files can have multiple resources per file, the jobs must be one per file. :param pre_apply: manifest yaml files to apply before creating jobs :param manifests: manifest files used to create the jobs """""" k8s_client = self._get_k8s_api() for yaml_file in pre_apply: k8sutils.create_from_yaml(k8s_client, yaml_file) for manifest in manifests: with open(manifest, ""r"") as f: manifest_str = f.read() manifest = yaml.safe_load(manifest_str) job = self._create_job(manifest) msg = (""Job did not successfully complete"") self.assertTrue(job, err_msg=msg) ",,354,2
openstack%2Fkolla~master~I24ea6d932181a991e2e7bc15f732f34bc726567e,openstack/kolla,master,I24ea6d932181a991e2e7bc15f732f34bc726567e,Cleanup CentOS repo installation on aarch64,ABANDONED,2021-04-28 16:10:54.000000000,2021-04-28 16:23:05.000000000,,[],"[{'number': 1, 'created': '2021-04-28 16:10:54.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/48cb4ee54bf816511f9d7c602aa8422fb81d1aee', 'message': 'Cleanup CentOS repo installation on aarch64\n\nChange-Id: I24ea6d932181a991e2e7bc15f732f34bc726567e\n'}]",0,788539,48cb4ee54bf816511f9d7c602aa8422fb81d1aee,2,0,1,30491,,,0,"Cleanup CentOS repo installation on aarch64

Change-Id: I24ea6d932181a991e2e7bc15f732f34bc726567e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/788539/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,48cb4ee54bf816511f9d7c602aa8422fb81d1aee,centos-cleanup,,{% elif base_arch == 'aarch64' %} {% set base_centos_yum_repo_packages = base_centos_yum_repo_packages + [ 'centos-release-rabbitmq-38' ] %},0,4
openstack%2Ftripleo-ci~master~If1797195b51a7d05287b58d26b914ca25dc36437,openstack/tripleo-ci,master,If1797195b51a7d05287b58d26b914ca25dc36437,"Revert ""Changing all -wallaby jobs to non voting""",ABANDONED,2021-04-27 13:11:36.000000000,2021-04-28 16:12:37.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-27 13:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/feb369dcc03e0e93cb6abdb0de2fba9025f5b7fe', 'message': 'Revert ""Changing all -wallaby jobs to non voting""\n\nThis reverts commit ec865320d9896efc1dfe7404c790659cc48e3926.\n\nReason for revert: <Changing Wallaby jobs back to voting>\n\nChange-Id: If1797195b51a7d05287b58d26b914ca25dc36437\n'}, {'number': 2, 'created': '2021-04-27 13:24:01.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8baa01bfbaac9e741e167d41444ce6de26258f2', 'message': 'Revert ""Changing all -wallaby jobs to non voting""\n\nThis reverts commit ec865320d9896efc1dfe7404c790659cc48e3926.\n\nReason for revert: <Changing Wallaby jobs back to voting>\n\nChange-Id: If1797195b51a7d05287b58d26b914ca25dc36437\n'}]",0,788258,f8baa01bfbaac9e741e167d41444ce6de26258f2,9,5,2,32458,,,0,"Revert ""Changing all -wallaby jobs to non voting""

This reverts commit ec865320d9896efc1dfe7404c790659cc48e3926.

Reason for revert: <Changing Wallaby jobs back to voting>

Change-Id: If1797195b51a7d05287b58d26b914ca25dc36437
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/788258/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml']",3,feb369dcc03e0e93cb6abdb0de2fba9025f5b7fe,wallaby_branchfull_nonvoting,, voting: false voting: false voting: false,0,5
openstack%2Fswift~master~Ibc9dc5f40e3008d4223af3076382114dabb9165c,openstack/swift,master,Ibc9dc5f40e3008d4223af3076382114dabb9165c,WIP: check container listing before quarantining EC frag,ABANDONED,2021-04-16 16:03:59.000000000,2021-04-28 16:08:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-16 16:03:59.000000000', 'files': ['swift/obj/reconstructor.py', 'swift/container/sharder.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ebc9a841db2500fdd354267f30ba24084da9b770', 'message': 'WIP: check container listing before quarantining EC frag\n\nTODO: mock internal client\n\nChange-Id: Ibc9dc5f40e3008d4223af3076382114dabb9165c\n'}]",3,786684,ebc9a841db2500fdd354267f30ba24084da9b770,3,1,1,7847,,,0,"WIP: check container listing before quarantining EC frag

TODO: mock internal client

Change-Id: Ibc9dc5f40e3008d4223af3076382114dabb9165c
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/786684/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'swift/container/sharder.py', 'swift/common/internal_client.py']",3,ebc9a841db2500fdd354267f30ba24084da9b770,p-lonely-frag,"import errnofrom swift.common.utils import quote, closing_if_possible, \ config_positive_int_value def load_internal_client(conf, use_replication_network): request_tries = config_positive_int_value( conf.get('request_tries', 3)) internal_client_conf_path = conf.get('internal_client_conf_path', '/etc/swift/internal-client.conf') try: return InternalClient( internal_client_conf_path, 'Swift Container Sharder', request_tries, allow_modify_pipeline=False, use_replication_network=use_replication_network) except (OSError, IOError) as err: if err.errno != errno.ENOENT and \ not str(err).endswith(' not found'): raise raise SystemExit( 'Unable to load internal client from config: %r (%s)' % (internal_client_conf_path, err))","from swift.common.utils import quote, closing_if_possible",51,26
openstack%2Fironic~master~I01bd9e3a11fed68213bb392c04aa1d33bbe16b30,openstack/ironic,master,I01bd9e3a11fed68213bb392c04aa1d33bbe16b30,Process in-band deploy steps on fast-track,MERGED,2021-04-13 11:46:58.000000000,2021-04-28 15:55:08.000000000,2021-04-28 15:52:22.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-13 11:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/250b291168ede737a58ae70dc333506fb90103be', 'message': ""Process in-band deploy steps on fast-track\n\nCurrently we're only recording them, but do not validate and take into\naccount. This change fixes it.\n\nChange-Id: I01bd9e3a11fed68213bb392c04aa1d33bbe16b30\n""}, {'number': 2, 'created': '2021-04-13 12:30:44.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/conductor/test_deployments.py', 'releasenotes/notes/fast-track-validate-723f27986a012ffe.yaml', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9afa9b86d1c5fd11bd34a321708237d26ebeedfc', 'message': ""Process in-band deploy steps on fast-track\n\nCurrently we're only recording them, but do not validate and take into\naccount. This change fixes it.\n\nThe deployment code has been updated to account for the fact that deploy\nsteps can change in run time.\n\nChange-Id: I01bd9e3a11fed68213bb392c04aa1d33bbe16b30\n""}]",0,786037,9afa9b86d1c5fd11bd34a321708237d26ebeedfc,24,3,2,10239,,,0,"Process in-band deploy steps on fast-track

Currently we're only recording them, but do not validate and take into
account. This change fixes it.

The deployment code has been updated to account for the fact that deploy
steps can change in run time.

Change-Id: I01bd9e3a11fed68213bb392c04aa1d33bbe16b30
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/786037/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'releasenotes/notes/fast-track-validate-723f27986a012ffe.yaml', 'ironic/conductor/deployments.py']",3,250b291168ede737a58ae70dc333506fb90103be,fast-track-validate,"@task_manager.require_exclusive_lock def validate_deploy_steps(task): """"""Validate the deploy steps after the ramdisk learns about them."""""" node = task.node try: conductor_steps.validate_user_deploy_steps_and_templates(task) conductor_steps.set_node_deployment_steps( task, reset_current=False) except exception.IronicException as exc: msg = _('Failed to validate the final deploy steps list ' 'for node %(node)s: %(exc)s') % {'node': node.uuid, 'exc': exc} utils.deploying_error_handler(task, msg) return False info = node.driver_internal_info info['steps_validated'] = True node.driver_internal_info = info node.save() return True if not task.node.driver_internal_info.get('steps_validated'): if not validate_deploy_steps(task): return"," node = task.node if not node.driver_internal_info.get('steps_validated'): try: conductor_steps.validate_user_deploy_steps_and_templates(task) conductor_steps.set_node_deployment_steps( task, reset_current=False) except exception.IronicException as exc: msg = _('Failed to validate the final deploy steps list ' 'for node %(node)s: %(exc)s') % {'node': node.uuid, 'exc': exc} return utils.deploying_error_handler(task, msg) info = node.driver_internal_info info['steps_validated'] = True node.driver_internal_info = info node.save()",31,17
openstack%2Fneutron~stable%2Fwallaby~Iffd1deb977e92b9a600ab2603408ddf2eb387e18,openstack/neutron,stable/wallaby,Iffd1deb977e92b9a600ab2603408ddf2eb387e18,[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables,MERGED,2021-04-26 12:35:46.000000000,2021-04-28 15:55:06.000000000,2021-04-28 15:53:15.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:35:46.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/220d9875a02de8dc87fb9efc3fff904f511976b6', 'message': ""[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables\n\nIf both Chassis and Chassis_Private tables are passed to the\nMetadataProxyHandler class we should conditionally monitor both of them.\n\nChange-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1925836\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit ce2c0010b93680bdcb6619940a84f8602769b837)\n""}]",0,787965,220d9875a02de8dc87fb9efc3fff904f511976b6,10,3,1,6773,,,0,"[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables

If both Chassis and Chassis_Private tables are passed to the
MetadataProxyHandler class we should conditionally monitor both of them.

Change-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1925836
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit ce2c0010b93680bdcb6619940a84f8602769b837)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/787965/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,220d9875a02de8dc87fb9efc3fff904f511976b6,," for table in set(tables).intersection({'Chassis', 'Chassis_Private'}): self.tables[table].condition = [['name', '==', chassis]]"," table = ('Chassis_Private' if 'Chassis_Private' in tables else 'Chassis') self.tables[table].condition = [['name', '==', chassis]]",3,3
openstack%2Fneutron~master~I71659a1c846852f9cb9bedba23c946438357b079,openstack/neutron,master,I71659a1c846852f9cb9bedba23c946438357b079,ovn: Add functional tests for get_network_port_bindings_by_ip,MERGED,2021-04-22 15:28:48.000000000,2021-04-28 15:54:55.000000000,2021-04-28 15:52:52.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-22 15:28:48.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a3fa2206db3c9485db84ade3d5cc179bc1c22ce', 'message': 'ovn: Add functional tests for get_network_port_bindings_by_ip\n\nThe change I708904b982d243359f2eeda809beae0321f1a7db lacked tests for\nunbounds port with the same IP. This patch adds simple test that creates\n2 LSPs on the same LS with the same IP and one is unbound. Such setup\nshould return only the bound port.\n\nRelated-bug: #1922934\nChange-Id: I71659a1c846852f9cb9bedba23c946438357b079\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",0,787586,1a3fa2206db3c9485db84ade3d5cc179bc1c22ce,20,4,1,8655,,,0,"ovn: Add functional tests for get_network_port_bindings_by_ip

The change I708904b982d243359f2eeda809beae0321f1a7db lacked tests for
unbounds port with the same IP. This patch adds simple test that creates
2 LSPs on the same LS with the same IP and one is unbound. Such setup
should return only the bound port.

Related-bug: #1922934
Change-Id: I71659a1c846852f9cb9bedba23c946438357b079
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/787586/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'],1,1a3fa2206db3c9485db84ade3d5cc179bc1c22ce,dalvarez," def _create_bound_port_with_ip(self): return binding, ipaddr, switch def test_get_network_port_bindings_by_ip(self): binding, ipaddr, _ = self._create_bound_port_with_ip() def test_get_network_port_bindings_by_ip_with_unbound_port(self): binding, ipaddr, switch = self._create_bound_port_with_ip() unbound_port_name = utils.get_rand_device_name(prefix=""port"") mac_ip = ""de:ad:be:ef:4d:ab %s"" % ipaddr with self.nbapi.transaction(check_error=True) as txn: txn.add( self.nbapi.lsp_add(switch.name, unbound_port_name, type=type)) txn.add(self.nbapi.lsp_set_addresses(unbound_port_name, [mac_ip])) result = self.api.get_network_port_bindings_by_ip( str(binding.datapath.uuid), ipaddr) self.assertIn(binding, result) self.assertEqual(1, len(result)) ", def test_get_network_port_bindings_by_ip(self):,19,1
openstack%2Fkolla~master~Ieceffb7b0ae941cad08fcea1a752ad021e7ad855,openstack/kolla,master,Ieceffb7b0ae941cad08fcea1a752ad021e7ad855,deprecate use of GnuPG ids for APT keys,MERGED,2021-04-06 14:42:30.000000000,2021-04-28 15:54:17.000000000,2021-04-07 07:48:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-04-06 14:42:30.000000000', 'files': ['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2534c65dac19f576c60f7958d9d74a291447be49', 'message': 'deprecate use of GnuPG ids for APT keys\n\nURLs to keys should be used instead.\n\nChange-Id: Ieceffb7b0ae941cad08fcea1a752ad021e7ad855\n'}]",5,784968,2534c65dac19f576c60f7958d9d74a291447be49,13,6,1,24072,,,0,"deprecate use of GnuPG ids for APT keys

URLs to keys should be used instead.

Change-Id: Ieceffb7b0ae941cad08fcea1a752ad021e7ad855
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/784968/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-apt-keys-eff6e68272923b6b.yaml'],1,2534c65dac19f576c60f7958d9d74a291447be49,,--- deprecations: - | Using APT keys as list of GnuPG ids (via ``apt_keys`` template override) is deprecated since Wallaby release and support for them will be dropped in Xena cycle. If you used this in your template overrides then please migrate into ``remote_apt_keys`` + entries in ``repos.yaml`` file. ,,7,0
openstack%2Ftripleo-ci~master~I01033ab786a320690f1ef7bd8a21556884db6ebe,openstack/tripleo-ci,master,I01033ab786a320690f1ef7bd8a21556884db6ebe,"Revert ""Content provider wallaby jobs to non voting""",ABANDONED,2021-04-27 13:10:52.000000000,2021-04-28 15:53:34.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 13:10:52.000000000', 'files': ['zuul.d/content-provider.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b3b9ba556ee99158b49dd752f73ba9a66c9d2358', 'message': 'Revert ""Content provider wallaby jobs to non voting""\n\nThis reverts commit 2e9092c86e9dd3035e016c7e150ce8eb0fa6f429.\n\nReason for revert: <Changing Wallaby jobs back to voting>\n\nChange-Id: I01033ab786a320690f1ef7bd8a21556884db6ebe\n'}]",2,788257,b3b9ba556ee99158b49dd752f73ba9a66c9d2358,9,4,1,32458,,,0,"Revert ""Content provider wallaby jobs to non voting""

This reverts commit 2e9092c86e9dd3035e016c7e150ce8eb0fa6f429.

Reason for revert: <Changing Wallaby jobs back to voting>

Change-Id: I01033ab786a320690f1ef7bd8a21556884db6ebe
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/788257/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/content-provider.yaml'],1,b3b9ba556ee99158b49dd752f73ba9a66c9d2358,, voting: false, voting: false,1,1
openstack%2Fansible-role-collect-logs~master~I53fce6782e8d1236e22eb52122bf6a51aad28f57,openstack/ansible-role-collect-logs,master,I53fce6782e8d1236e22eb52122bf6a51aad28f57,add doc strings to sova_lib,ABANDONED,2021-01-21 17:33:04.000000000,2021-04-28 15:49:19.000000000,,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-21 17:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a4c3b8f53e400687a09c16876184ef1de4e6073b', 'message': 'WIP: add doc strings to sova_lib\n\nChange-Id: I53fce6782e8d1236e22eb52122bf6a51aad28f57\n'}, {'number': 2, 'created': '2021-01-21 17:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/c39e0093bfb2f033a46694915aeb3bb443a06c59', 'message': 'WIP: add doc strings to sova_lib\n\nChange-Id: I53fce6782e8d1236e22eb52122bf6a51aad28f57\n'}, {'number': 3, 'created': '2021-01-21 17:45:20.000000000', 'files': ['module_utils/sova_lib.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/129341c2355c2111bb08139043cfa79c5108d662', 'message': 'add doc strings to sova_lib\n\nChange-Id: I53fce6782e8d1236e22eb52122bf6a51aad28f57\n'}]",2,771859,129341c2355c2111bb08139043cfa79c5108d662,10,5,3,9592,,,0,"add doc strings to sova_lib

Change-Id: I53fce6782e8d1236e22eb52122bf6a51aad28f57
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/59/771859/1 && git format-patch -1 --stdout FETCH_HEAD,['module_utils/sova_lib.py'],1,a4c3b8f53e400687a09c16876184ef1de4e6073b,," """""" A utility object for storing regexes and text patterns. Attributes: data: Perhaps a yaml file? load_yaml: checks for dictionary or xforms yaml to dict setup_regexes: loads regex expressions into a dictionary setup_patterns: loads patterns into a dictionary """""" """""" basic txt pattern matcher using the Pattern Object Keyword arguments: pat = Pattern object. line = a line of txt from a log file. Returns: True if found, false if not found """""" """""" For each error pattern defined in sova-patterns.yml file Search the text_file for 'pattern'. Keyword arguments: text_file: the local log file containing errors from the job. patterns: a list of patterns ( of errors ) to look for in the log file Returns: list(ids) - each error pattern has an associated id list(msgs) - the human readable message associated w/ the id """"""",,31,0
openstack%2Fkayobe~stable%2Fvictoria~I23eb5116d8d1944167a0d50cafe5b99f766ad687,openstack/kayobe,stable/victoria,I23eb5116d8d1944167a0d50cafe5b99f766ad687,Disable Bifrost cleaning by default,MERGED,2021-04-27 12:49:40.000000000,2021-04-28 15:29:09.000000000,2021-04-28 15:25:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-27 12:49:40.000000000', 'files': ['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/disable-bifrost-cleaning-ff10995a0bf11079.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/29f7e75a1245705d268494122769c0816b832cdb', 'message': ""Disable Bifrost cleaning by default\n\nCleaning was disabled by default in Bifrost\n(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,\nwhen the default was changed. The 'kayobe overcloud provision' command\ndoes not handle cleaning states when moving nodes from manageable to\navailable. This can lead to provisioning failures.\n\nThis change disables cleaning to maintain backwards\ncompatibility with earlier versions of Kayobe.\n\nChange-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687\nStory: 2008850\nTask: 42363\n(cherry picked from commit d45812d3badc04f7e99fbf4207baf5c45096dc90)\n""}]",0,788281,29f7e75a1245705d268494122769c0816b832cdb,8,3,1,15197,,,0,"Disable Bifrost cleaning by default

Cleaning was disabled by default in Bifrost
(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,
when the default was changed. The 'kayobe overcloud provision' command
does not handle cleaning states when moving nodes from manageable to
available. This can lead to provisioning failures.

This change disables cleaning to maintain backwards
compatibility with earlier versions of Kayobe.

Change-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687
Story: 2008850
Task: 42363
(cherry picked from commit d45812d3badc04f7e99fbf4207baf5c45096dc90)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/81/788281/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/disable-bifrost-cleaning-ff10995a0bf11079.yaml']",2,29f7e75a1245705d268494122769c0816b832cdb,story/2008850-stable/victoria,"--- upgrade: - | Until the Victoria release, Bifrost disabled node cleaning, however it became enabled in Victoria. To maintain backward compatibility, Kayobe now modifies the configuration in Bifrost to disable node cleaning of overcloud hosts. ",,11,0
openstack%2Foctavia-tempest-plugin~master~I2231384933d5974b962a558e8c0b3bffb1140b5a,openstack/octavia-tempest-plugin,master,I2231384933d5974b962a558e8c0b3bffb1140b5a,Fix owner_or_admin API tests,MERGED,2021-04-20 10:04:19.000000000,2021-04-28 15:12:26.000000000,2021-04-28 15:10:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 10:04:19.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_provider.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3497f6cb7067eab4e37aaeb376e56ef3fa7cf395', 'message': ""Fix owner_or_admin API tests\n\nlb_observer and lb_global_observer don't have any meaning when\nadmin_or_owner policy override in enabled.\nThis commit disables client creation for those roles and removes their\nuses from API tests (the behavior of the owner_or_admin tests are now\nsimilar to their behavior before the introduction of the new RBAC\ntests).\n\nRequires the following configuration in tempest.conf:\n\n[load_balancer]\nRBAC_test_type = owner_or_admin\nmember_role = member\nadmin_role = admin\n\nChange-Id: I2231384933d5974b962a558e8c0b3bffb1140b5a\n""}]",0,787177,3497f6cb7067eab4e37aaeb376e56ef3fa7cf395,9,4,1,29244,,,0,"Fix owner_or_admin API tests

lb_observer and lb_global_observer don't have any meaning when
admin_or_owner policy override in enabled.
This commit disables client creation for those roles and removes their
uses from API tests (the behavior of the owner_or_admin tests are now
similar to their behavior before the introduction of the new RBAC
tests).

Requires the following configuration in tempest.conf:

[load_balancer]
RBAC_test_type = owner_or_admin
member_role = member
admin_role = admin

Change-Id: I2231384933d5974b962a558e8c0b3bffb1140b5a
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/77/787177/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_provider.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",9,3497f6cb7067eab4e37aaeb376e56ef3fa7cf395,," expected_allowed = ['os_primary', 'os_roles_lb_member2'] 'os_roles_lb_member', 'os_roles_lb_member2']"," expected_allowed = ['os_primary', 'os_roles_lb_member2', 'os_roles_lb_observer'] 'os_roles_lb_member', 'os_roles_lb_member2', 'os_roles_lb_observer', 'os_roles_lb_global_observer']",17,32
openstack%2Fkolla~master~I635964a84f0cd5cadccd7ce8040fa36e1300c765,openstack/kolla,master,I635964a84f0cd5cadccd7ce8040fa36e1300c765,centos: switch to RDO final release of Wallaby,ABANDONED,2021-04-09 11:21:38.000000000,2021-04-28 15:06:12.000000000,,"[{'_account_id': 14826}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-09 11:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c0ff87b96e307c9a8800cd0ec2fbcbc8c23a5197', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0409:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 2, 'created': '2021-04-09 11:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6d76a8061bc5f62ba6a812f7f58b46bbb5b85e3', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0409:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 3, 'created': '2021-04-09 12:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c5a92c0bd62a440ebd9c75dc96cee8e81aa3e00', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0409:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 4, 'created': '2021-04-09 12:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ed181dd63d34d83e6ec5052f9706f1fe4684249', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0409:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 5, 'created': '2021-04-09 15:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4d7e2a4737c1c2b75fdc6997c9497b18e1abe6e6', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0409:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 6, 'created': '2021-04-12 13:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8709882f267e79c1d37f012bacc6670201a56078', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0412:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n- image enablement moved to separate patch\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 7, 'created': '2021-04-12 14:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b2d0534fdc4ed30dd8f5feaf484343fa8b6ab7a', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0412:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n- image enablement moved to separate patch\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 8, 'created': '2021-04-14 16:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3165c91c58ed9d669696305f94d488271e4781d9', 'message': '[WIP] centos: switch to RDO final release of Wallaby\n\nRDO is close to Wallaby release so it is time to move and use it instead\nof delorean repos.\n\nv0412:\n\n- rdo-release-wallaby package is temporary as it will be replaced with\n  centos-release-openstack-wallaby once final packages will be built\n- image enablement moved to separate patch\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 9, 'created': '2021-04-22 10:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7985bd22a9e8e99b608ee30057ed66cfae27463c', 'message': 'centos: switch to RDO final release of Wallaby\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 10, 'created': '2021-04-22 12:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27eb322f09b4dcf1d55fd1e35a46e5a225676cf7', 'message': 'centos: switch to RDO final release of Wallaby\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}, {'number': 11, 'created': '2021-04-28 13:32:52.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/632e91bf890d9a96b761afc63f0a923facd55fe5', 'message': 'centos: switch to RDO final release of Wallaby\n\nChange-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765\n'}]",7,785622,632e91bf890d9a96b761afc63f0a923facd55fe5,52,7,11,24072,,,0,"centos: switch to RDO final release of Wallaby

Change-Id: I635964a84f0cd5cadccd7ce8040fa36e1300c765
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/785622/10 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-base/Dockerfile.j2', 'docker/octavia/octavia-base/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/tempest/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/kolla-toolbox/Dockerfile.j2', 'kolla/common/config.py', 'docker/openstack-base/Dockerfile.j2', 'docker/skydive/skydive-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/tacker/tacker-base/Dockerfile.j2', 'docker/manila/manila-base/Dockerfile.j2']",15,c0ff87b96e307c9a8800cd0ec2fbcbc8c23a5197,prepare-for-kolla-wallaby-release,{{ macros.enable_extra_repos(['openvswitch']) }},,29,6
openstack%2Finstack-undercloud~stable%2Frocky~I867005ea82d81b58f2f26ae04422755d1bc0bf59,openstack/instack-undercloud,stable/rocky,I867005ea82d81b58f2f26ae04422755d1bc0bf59,Do not always set firewall rules for optional services,ABANDONED,2019-12-20 13:10:56.000000000,2021-04-28 15:05:27.000000000,,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-20 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/1c19ebfb69e2f331ccc7f0e44fc944d747f1ac5f', 'message': 'Aplly firewall rules for telemetry only when telemetry is enabled\n\nChange-Id: I867005ea82d81b58f2f26ae04422755d1bc0bf59\n'}, {'number': 2, 'created': '2019-12-20 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/cea075379577fa87291c0cecd87d896a4701d08f', 'message': ""Do not always set firewall rules for optional services\n\nIn undercloud, cinder and telemetry are optional services, and we\ndon't need to set firewall rules for them if they are disabled.\n\nChange-Id: I867005ea82d81b58f2f26ae04422755d1bc0bf59\n""}, {'number': 3, 'created': '2019-12-21 02:53:44.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/cdf1e331e585ea98883065e9fb7ebbba03cb3906', 'message': ""Do not always set firewall rules for optional services\n\nIn undercloud, cinder and telemetry are optional services, and we\ndon't need to set firewall rules for them if they are disabled.\n\nChange-Id: I867005ea82d81b58f2f26ae04422755d1bc0bf59\n""}]",0,700170,cdf1e331e585ea98883065e9fb7ebbba03cb3906,11,5,3,9816,,,0,"Do not always set firewall rules for optional services

In undercloud, cinder and telemetry are optional services, and we
don't need to set firewall rules for them if they are disabled.

Change-Id: I867005ea82d81b58f2f26ae04422755d1bc0bf59
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/70/700170/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,1c19ebfb69e2f331ccc7f0e44fc944d747f1ac5f,firewall-rocky,{{#ENABLE_TELEMETRY}}{{/ENABLE_TELEMETRY}}{{#ENABLE_TELEMETRY}}{{/ENABLE_TELEMETRY}}{{#ENABLE_TELEMETRY}}{{/ENABLE_TELEMETRY}},,6,0
openstack%2Finstack-undercloud~stable%2Frocky~I443e99f54e8f09e5bb97dbcc89691e8b159341cb,openstack/instack-undercloud,stable/rocky,I443e99f54e8f09e5bb97dbcc89691e8b159341cb,Remove ceph related firewall rules,ABANDONED,2019-12-20 13:07:02.000000000,2021-04-28 15:05:10.000000000,,"[{'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-20 13:07:02.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e44adbd6f38ec360cad84c720158286512635c0d', 'message': ""Remove ceph related firewall rules\n\nWe don't deploy ceph on undercloud nodes, so remove firewall rules for it.\n\nChange-Id: I443e99f54e8f09e5bb97dbcc89691e8b159341cb\n""}]",0,700169,e44adbd6f38ec360cad84c720158286512635c0d,7,4,1,9816,,,0,"Remove ceph related firewall rules

We don't deploy ceph on undercloud nodes, so remove firewall rules for it.

Change-Id: I443e99f54e8f09e5bb97dbcc89691e8b159341cb
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/69/700169/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,e44adbd6f38ec360cad84c720158286512635c0d,undercloud-ceph-rocky,, '110 ceph': dport: - 6789 - '6800-6810',0,4
openstack%2Fpython-openstackclient~stable%2Fvictoria~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/victoria,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 00:54:59.000000000,2021-04-28 14:34:49.000000000,,"[{'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17216}, {'_account_id': 18511}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-21 00:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/24debb2081a143c87b99a0eb9a4b4e018daa27dd', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n""}, {'number': 2, 'created': '2021-04-21 01:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/07c823a026dfb5dd4d77393f5f7661582e9e5ad0', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n""}, {'number': 3, 'created': '2021-04-21 01:51:18.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ed0705049a44a0abb81dea749538ef366f749642', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nConflict:\n    openstackclient/compute/v2/server_group.py\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n""}]",1,787243,ed0705049a44a0abb81dea749538ef366f749642,8,10,3,27419,,,0,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.

Conflict:
    openstackclient/compute/v2/server_group.py

Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/43/787243/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,24debb2081a143c87b99a0eb9a4b4e018daa27dd,trivial," def test_server_group_create_with_rules(self): '--rule', 'max_server_per_host=2', ('rules', {'max_server_per_host': '2'}), policy=parsed_args.policy, # should be 'policy', not 'policies' rules=parsed_args.rules, def test_server_group_create_with_rules_pre_v264(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.63') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.64 or greater is required', str(ex)) "," def test_server_group_create_v264(self): policy=parsed_args.policy,",100,17
openstack%2Fpython-openstackclient~stable%2Fussuri~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/ussuri,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 02:00:59.000000000,2021-04-28 14:34:39.000000000,,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17216}, {'_account_id': 18511}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-21 02:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/845716c2e09f5c6d9a20014310b870de8d06230b', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nConflict:\n    openstackclient/compute/v2/server_group.py\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n""}, {'number': 2, 'created': '2021-04-21 02:11:03.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8feb27339a2df98de97b9c7a0d57aec66b1896db', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nConflict:\n    openstackclient/compute/v2/server_group.py\n    openstackclient/tests/unit/compute/v2/test_server_group.py\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n""}]",0,787244,8feb27339a2df98de97b9c7a0d57aec66b1896db,10,10,2,27419,,,0,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.

Conflict:
    openstackclient/compute/v2/server_group.py
    openstackclient/tests/unit/compute/v2/test_server_group.py

Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/44/787244/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,845716c2e09f5c6d9a20014310b870de8d06230b,trivial,"<<<<<<< HEAD (0a8d85 Fix reverted osc-lib interface change) def test_server_group_create_v264(self): ======= def test_server_group_create_with_soft_policies_pre_v215(self): '2.14') ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.15 or greater is required', str(ex)) def test_server_group_create_with_rules(self): >>>>>>> CHANGE (ed0705 compute: Add 'server group create --rule' option) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.64') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) policy=parsed_args.policy, # should be 'policy', not 'policies' rules=parsed_args.rules, def test_server_group_create_with_rules_pre_v264(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.63') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.64 or greater is required', str(ex)) "," def test_server_group_create_v264(self): '2.64') policy=parsed_args.policy,",109,3
openstack%2Fpython-openstackclient~stable%2Ftrain~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,stable/train,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,ABANDONED,2021-04-21 02:12:28.000000000,2021-04-28 14:34:15.000000000,,"[{'_account_id': 2}, {'_account_id': 6482}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17216}, {'_account_id': 18511}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-21 02:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dca8057eef8c0fe66d5753558a8fe683ebf22eeb', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nConflict:\n    openstackclient/compute/v2/server_group.py\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 845716c2e09f5c6d9a20014310b870de8d06230b)\n""}, {'number': 2, 'created': '2021-04-21 02:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1eba43fc629ccd26da34c4cdf74f122a300a230a', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 845716c2e09f5c6d9a20014310b870de8d06230b)\n""}, {'number': 3, 'created': '2021-04-21 02:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d28043c69b04fbae9fe067681935706a82fcf6ec', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nConflict:\n    openstackclient/compute/v2/server_group.py\n    openstackclient/tests/unit/compute/v2/test_server_group.py\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)\n""}, {'number': 4, 'created': '2021-04-21 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1632284deedb78f1695bc8bb27b164f5e092cb1d', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)\n""}, {'number': 5, 'created': '2021-04-21 14:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/28a6d4615c7a5e323103fc992ec0c0dc65934736', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)\n""}, {'number': 6, 'created': '2021-04-21 18:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8561a0e100119c76f5f8b714180dd27f668f9309', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)\n""}, {'number': 7, 'created': '2021-04-21 18:43:44.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0528eb6d07d398742824e07b8b8cdbd55fa192b8', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)\n(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)\n(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)\n""}]",0,787245,0528eb6d07d398742824e07b8b8cdbd55fa192b8,12,10,7,27419,,,0,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.


Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit a5c6470f2d76afb9ac87d05c4326bebf925a55da)
(cherry picked from commit ed0705049a44a0abb81dea749538ef366f749642)
(cherry picked from commit 8feb27339a2df98de97b9c7a0d57aec66b1896db)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/45/787245/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,dca8057eef8c0fe66d5753558a8fe683ebf22eeb,trivial,"<<<<<<< HEAD (0a8d85 Fix reverted osc-lib interface change) def test_server_group_create_v264(self): ======= def test_server_group_create_with_soft_policies_pre_v215(self): '2.14') ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.15 or greater is required', str(ex)) def test_server_group_create_with_rules(self): >>>>>>> CHANGE (ed0705 compute: Add 'server group create --rule' option) self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.64') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) policy=parsed_args.policy, # should be 'policy', not 'policies' rules=parsed_args.rules, def test_server_group_create_with_rules_pre_v264(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.63') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.64 or greater is required', str(ex)) "," def test_server_group_create_v264(self): '2.64') policy=parsed_args.policy,",109,3
openstack%2Fpython-openstackclient~stable%2Ftrain~I1703ff1289839fe995a5432134f35a9098a9ca68,openstack/python-openstackclient,stable/train,I1703ff1289839fe995a5432134f35a9098a9ca68,[train-only] lower-constraint and test-requirements,ABANDONED,2021-04-21 14:04:06.000000000,2021-04-28 14:34:06.000000000,,"[{'_account_id': 2}, {'_account_id': 1955}, {'_account_id': 6482}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-21 14:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/701f3e7268b3652306f82631866755ce70441f65', 'message': ""[train-only] lower-constraint and test-requirements\n\nBumping keystoneauth1 to 3.8 and bandit<1.7 as it's not supported in\npython2\n\nChange-Id: I1703ff1289839fe995a5432134f35a9098a9ca68\n""}, {'number': 2, 'created': '2021-04-21 18:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e7cf87bdb1ec152eb74844fe912e7e9fadd65618', 'message': ""[train-only] lower-constraint and test-requirements\n\nBumping keystoneauth1 to 3.8 and bandit<1.7 as it's not supported in\npython2\n\nChange-Id: I1703ff1289839fe995a5432134f35a9098a9ca68\n""}, {'number': 3, 'created': '2021-04-21 18:43:26.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/daa5edb3991659cddd5eee4e98d41b2b9515d4e7', 'message': ""[train-only] lower-constraint and test-requirements\n\nBumping keystoneauth1 to 3.8 and bandit<1.7 as it's not supported in\npython2\n\nopenstacksdk==0.17.0 requires keystoneauth1==3.8.0 [1]\n\nIt's also worth mentioning that RHOSP16.1 (downstream for train) is\nshipped with keystoneauth1==3.17.3.\n\n[1] https://github.com/openstack/openstacksdk/blob/0.17.0/lower-constraints.txt#L17\n\n\nChange-Id: I1703ff1289839fe995a5432134f35a9098a9ca68\n""}]",2,787374,daa5edb3991659cddd5eee4e98d41b2b9515d4e7,10,8,3,27419,,,0,"[train-only] lower-constraint and test-requirements

Bumping keystoneauth1 to 3.8 and bandit<1.7 as it's not supported in
python2

openstacksdk==0.17.0 requires keystoneauth1==3.8.0 [1]

It's also worth mentioning that RHOSP16.1 (downstream for train) is
shipped with keystoneauth1==3.17.3.

[1] https://github.com/openstack/openstacksdk/blob/0.17.0/lower-constraints.txt#L17


Change-Id: I1703ff1289839fe995a5432134f35a9098a9ca68
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/74/787374/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,701f3e7268b3652306f82631866755ce70441f65,,keystoneauth1==3.8.0,keystoneauth1==3.6.2,2,2
openstack%2Fsushy~master~I05e5f43e9deb001efb0e31d9068853f821665585,openstack/sushy,master,I05e5f43e9deb001efb0e31d9068853f821665585,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 09:06:28.000000000,2021-04-28 14:10:39.000000000,2021-04-28 14:09:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-27 09:06:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sushy/commit/1756209c9751e4aabac86ef8755527cd763c103c', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I05e5f43e9deb001efb0e31d9068853f821665585\n""}]",0,788224,1756209c9751e4aabac86ef8755527cd763c103c,10,3,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I05e5f43e9deb001efb0e31d9068853f821665585
",git fetch https://review.opendev.org/openstack/sushy refs/changes/24/788224/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1756209c9751e4aabac86ef8755527cd763c103c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sushy/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sushy/latest/ python-requires = >=3.6,4,4
openstack%2Fneutron~stable%2Fussuri~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,stable/ussuri,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-27 10:13:41.000000000,2021-04-28 14:05:13.000000000,2021-04-28 14:03:32.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-27 10:13:41.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9ed835e69102397b192a3d23d80084b5d76a7f8', 'message': ""[OVN] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nConflicts:\n\tneutron/agent/ovn/metadata/server.py\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)\n""}]",0,788237,a9ed835e69102397b192a3d23d80084b5d76a7f8,10,6,1,8655,,,0,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Conflicts:
	neutron/agent/ovn/metadata/server.py

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/788237/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",4,a9ed835e69102397b192a3d23d80084b5d76a7f8,, def check_net_and_ip(port): # If the port is not bound to any chassis it is not relevant if not port.chassis: return False # TODO(dalvarez): Remove the comparison to port.datapath.uuid in Y # cycle when we are sure that all namespaces will be created with # the Neutron network UUID and not anymore with the OVN datapath # UUID. is_in_network = lambda port: ( str(port.datapath.uuid) == network or utils.get_network_name_from_datapath(port.datapath) == network) return port.mac and is_in_network(port) and ( ip_address in port.mac[0].split(' ')) return [r for r in rows if check_net_and_ip(r)], # TODO(dalvarez): Remove the comparison to r.datapath.uuid in Y cycle # when we are sure that all namespaces will be created with the # Neutron network UUID and not anymore with the OVN datapath UUID. return [r for r in rows if (r.mac and ( str(r.datapath.uuid) == network or utils.get_network_name_from_datapath( r.datapath) == network)) and ip_address in r.mac[0].split(' ')],37,22
openstack%2Fkolla~stable%2Fwallaby~Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,openstack/kolla,stable/wallaby,Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,releasenotes: we move to Debian bullseye,MERGED,2021-04-27 14:06:59.000000000,2021-04-28 13:58:33.000000000,2021-04-28 13:55:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 14:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/848b4336a01ad411b5f37664a219509c2e8884cf', 'message': 'releasenotes: we move to Debian bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/772479\nChange-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6\n(cherry picked from commit bcdec58c69ca68c776d69f1af38d0bc26da4727a)\n'}, {'number': 2, 'created': '2021-04-28 08:51:50.000000000', 'files': ['releasenotes/notes/debian-bullseye-4fedf3b3638783de.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/67dc1d3f026a12260fe6eb44bad81bcace7abb17', 'message': 'releasenotes: we move to Debian bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/788304\nChange-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6\n(cherry picked from commit bcdec58c69ca68c776d69f1af38d0bc26da4727a)\n'}]",1,788260,67dc1d3f026a12260fe6eb44bad81bcace7abb17,13,4,2,24072,,,0,"releasenotes: we move to Debian bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/788304
Change-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6
(cherry picked from commit bcdec58c69ca68c776d69f1af38d0bc26da4727a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/788260/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/debian-bullseye-4fedf3b3638783de.yaml'],1,848b4336a01ad411b5f37664a219509c2e8884cf,prepare-for-kolla-wallaby-release-stable/wallaby,"--- features: - | Debian 'bullseye' is now used instead of 'buster'. Bullseye is the next stable release of Debian, and is currently in a 'freeze' state. Several images gained Debian support with the move to bullseye. ",,6,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I7ae919875fb9dea756ca26d90dc1af791ac766ce,openstack/kolla-ansible,stable/wallaby,I7ae919875fb9dea756ca26d90dc1af791ac766ce,Bump up python version for Debian Bullseye,MERGED,2021-04-28 11:01:38.000000000,2021-04-28 13:57:35.000000000,2021-04-28 13:56:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 11:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/633c003d8d68e387e5784a6cbb6bd780e29799b6', 'message': 'Bump up python version for Debian Bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/772479\nChange-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce\n(cherry picked from commit d9b21cde93e3a37012fde1133085fcb4a6376455)\n'}, {'number': 2, 'created': '2021-04-28 11:02:10.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f73c00c83886c902133da0c91fe2ffd78e47db13', 'message': 'Bump up python version for Debian Bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/788304\nChange-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce\n(cherry picked from commit d9b21cde93e3a37012fde1133085fcb4a6376455)\n'}]",0,788442,f73c00c83886c902133da0c91fe2ffd78e47db13,10,3,2,22629,,,0,"Bump up python version for Debian Bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/788304
Change-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce
(cherry picked from commit d9b21cde93e3a37012fde1133085fcb4a6376455)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/788442/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,633c003d8d68e387e5784a6cbb6bd780e29799b6,," ""debian"": ""3.9"","," ""debian"": ""3.7"",",1,1
openstack%2Fkolla~stable%2Fwallaby~I543965a2741cebfa759576a4c75669a7bacd4208,openstack/kolla,stable/wallaby,I543965a2741cebfa759576a4c75669a7bacd4208,move to Debian 'bullseye',MERGED,2021-04-27 14:06:41.000000000,2021-04-28 13:57:18.000000000,2021-04-28 13:55:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 14:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/43ba709b0d1ca707e10a37f5be6ce8159bd33985', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n(cherry-pick from master e0f8cbc50cf7184930a501b0f5452a64f523cd6f)\n""}, {'number': 2, 'created': '2021-04-28 08:19:38.000000000', 'files': ['docker/mariadb/mariadb-server/Dockerfile.j2', 'kolla/template/repos.yaml', 'tests/templates/template_overrides.j2', 'docker/mariadb/mariadb-server/security_reset.expect.debian', 'kolla/common/config.py', 'kolla/image/build.py', '.zuul.d/debian.yaml', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/base/sources.list.debian', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1f5014e01104c2ccf275c2ed082b6861c331ac65', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n(cherry-pick from master e0f8cbc50cf7184930a501b0f5452a64f523cd6f)\n""}]",0,788304,1f5014e01104c2ccf275c2ed082b6861c331ac65,21,4,2,24072,,,0,"move to Debian 'bullseye'

Bullseye is now in hard freeze cycle and goes for release.

https://release.debian.org/bullseye/freeze_policy.html

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Change-Id: I543965a2741cebfa759576a4c75669a7bacd4208
(cherry-pick from master e0f8cbc50cf7184930a501b0f5452a64f523cd6f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/788304/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/mariadb-server/Dockerfile.j2', 'kolla/template/repos.yaml', 'tests/templates/template_overrides.j2', 'docker/mariadb/mariadb-server/security_reset.expect.debian', 'kolla/common/config.py', 'kolla/image/build.py', '.zuul.d/debian.yaml', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/base/sources.list.debian', 'kolla/tests/test_build.py']",14,43ba709b0d1ca707e10a37f5be6ce8159bd33985,prepare-for-kolla-wallaby-release-stable/wallaby," self.assertEqual('3.9', kolla.distro_python_version)"," self.assertEqual('3.7', kolla.distro_python_version)",112,101
openstack%2Ftripleo-heat-templates~master~I2e7730692308733dec29bc417325aca3e8fe15a0,openstack/tripleo-heat-templates,master,I2e7730692308733dec29bc417325aca3e8fe15a0,Start wrapper container from within nova-virtlogd container,ABANDONED,2020-09-17 11:52:27.000000000,2021-04-28 13:04:23.000000000,,"[{'_account_id': 6926}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-17 11:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd0f1fbdae1d8178a1a57d5a042c5122c6813781', 'message': 'Start wrapper container from within nova-virtlogd container\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change starts a wrapper container from within the\nnova-virtlogd container.\n\nDepends-On: https://review.opendev.org/#/c/749026/\nChange-Id: I2e7730692308733dec29bc417325aca3e8fe15a0\n'}, {'number': 2, 'created': '2021-04-27 12:14:35.000000000', 'files': ['deployment/nova/kill-script', 'deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17455d85d793c55f89a02df7de6e48f3ccb4eb54', 'message': 'Start wrapper container from within nova-virtlogd container\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change starts a wrapper container from within the\nnova-virtlogd container.\n\nDepends-On: https://review.opendev.org/#/c/749026/\nChange-Id: I2e7730692308733dec29bc417325aca3e8fe15a0\n'}]",4,752439,17455d85d793c55f89a02df7de6e48f3ccb4eb54,13,5,2,20733,,,0,"Start wrapper container from within nova-virtlogd container

As of now, when nova_virtlogd container gets restarted
the console.log file of instance in
/var/lib/nova/instances/<instance_id> directory is not updated.

This change starts a wrapper container from within the
nova-virtlogd container.

Depends-On: https://review.opendev.org/#/c/749026/
Change-Id: I2e7730692308733dec29bc417325aca3e8fe15a0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/752439/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/kill-script', 'deployment/nova/nova-libvirt-container-puppet.yaml']",2,bd0f1fbdae1d8178a1a57d5a042c5122c6813781,virtlogd_wrapper," NovaEnableVirtlogdContainerWrapper: description: Generate a virtlogd wrapper script so that virtlogd launches in a separate container and won't get restarted e.g. on minor updates. type: boolean default: true NovaWrapperDebug: type: boolean default: false description: Controls debugging for the wrapper scripts. DeployIdentifier: default: '' type: string description: > Setting this to a unique value will re-run any deployment tasks which perform configuration on a Heat stack-update. virtlogd_wrapper_enabled: {equals: [{get_param: NovaEnableVirtlogdContainerWrapper}, true]} service_debug_unset: {equals : [{get_param: NovaWrapperDebug}, false]} tripleo::profile::base::nova::virtlogd_wrapper::enable_wrapper: {get_param: NovaEnableVirtlogdContainerWrapper} tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_process_wrapper: '/var/lib/libvirt/virtlogd_wrapper' tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_image: {get_param: ContainerNovaLibvirtImage} tripleo::profile::base::nova::virtlogd_wrapper::debug: if: - service_debug_unset - {get_attr: [NovaBase, role_data, config_settings, 'nova::logging::debug']} - {get_param: NovaWrapperDebug} step_2: create_virtlogd_wrapper: start_order: 1 detach: false net: host pid: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '4' - 'file' - 'include ::tripleo::profile::base::nova::virtlogd_wrapper' image: {get_param: ContainerNovaLibvirtImage} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /var/run/libvirt:/var/run/libvirt:shared,z - /var/lib/libvirt:/var/lib/libvirt:shared,z - /var/lib/nova:/var/lib/nova:shared,z environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} - if: - virtlogd_wrapper_enabled - - /var/lib/libvirt/virtlogd_wrapper:/usr/local/bin/virtlogd:ro - null - name: set conditions set_fact: virtlogd_wrapper_enabled: {get_param: NovaEnableVirtlogdContainerWrapper} debug_enabled: if: - service_debug_unset - {get_attr: [NovaBase, role_data, config_settings, 'nova::logging::debug']} - {get_param: NovaWrapperDebug} - name: create kill_scripts directory within /var/lib/libvirt file: state: directory path: /var/lib/libvirt/kill_scripts - name: create virtlogd kill script when: virtlogd_wrapper_enabled|bool copy: dest: /var/lib/libvirt/kill_scripts/virtlogd-kill mode: 0755 content: {get_file: ../nova/kill-script}",,154,0
openstack%2Fpuppet-tripleo~master~I1c7a42bc98a8751791eb71ae168680ef72f16778,openstack/puppet-tripleo,master,I1c7a42bc98a8751791eb71ae168680ef72f16778,Add wrapper script for virtlogd wrapper,ABANDONED,2020-08-31 10:46:07.000000000,2021-04-28 13:03:56.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-08-31 10:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e73b8ea9032477d5dbc80a404ff6237a001d730', 'message': 'Add wrapper script for virtlogd wrapper\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change adds wrapper script to create a container to\nkeep the console.log file open.\n\nChange-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778\n'}, {'number': 2, 'created': '2020-09-17 11:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/146a8a07f81177759ee42d8fbd4c2788e46fb177', 'message': 'Add wrapper script for virtlogd wrapper\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change adds wrapper script to create a container to\nkeep the console.log file open.\n\nChange-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778\n'}, {'number': 3, 'created': '2020-10-13 04:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4ade77f8e219de6d1dd1451116224f2353314002', 'message': 'Add wrapper script for virtlogd wrapper\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change adds wrapper script to create a container to\nkeep the console.log file open.\n\nChange-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778\n'}, {'number': 4, 'created': '2021-04-27 12:13:15.000000000', 'files': ['manifests/profile/base/nova.pp', 'manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/84ff0e66c2f277ddc144834abbc0e8f620de0927', 'message': 'Add wrapper script for virtlogd wrapper\n\nAs of now, when nova_virtlogd container gets restarted\nthe console.log file of instance in\n/var/lib/nova/instances/<instance_id> directory is not updated.\n\nThis change adds wrapper script to create a container to\nkeep the console.log file open.\n\nChange-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778\n'}]",21,749026,84ff0e66c2f277ddc144834abbc0e8f620de0927,23,9,4,20733,,,0,"Add wrapper script for virtlogd wrapper

As of now, when nova_virtlogd container gets restarted
the console.log file of instance in
/var/lib/nova/instances/<instance_id> directory is not updated.

This change adds wrapper script to create a container to
keep the console.log file open.

Change-Id: I1c7a42bc98a8751791eb71ae168680ef72f16778
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/749026/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/virtlogd_wrapper.pp', 'manifests/profile/base/nova/wrappers/virtlogd.pp', 'templates/nova/virtlogd.epp']",3,4e73b8ea9032477d5dbc80a404ff6237a001d730,virtlogd_wrapper,"<%- | String $image_name = '', Boolean $debug, String $container_cli = '' | -%> #!/bin/bash <%- if $debug { -%>set -x<%- } -%> ARGS=""$@"" NAME=nova_virtlogd CMD='/usr/sbin/virtlogd --config /etc/libvirt/virtlogd.conf' CLI=""podman"" LOGGING=""--log-driver json-file --log-opt path=/var/log/containers/stdouts/${NAME}.log"" LIST=$($CLI ps -a --filter name=nova_virtlogd --format '{{.ID}}:{{.Names}}:{{.Status}}' | awk '{print $1}') # Find orphaned containers left for dead after its main process terminated by parent process # FIXME(cjeanner): https://github.com/containers/libpod/issues/1703 ORPHANTS=$(printf ""%s\n"" ""${LIST}"" | grep -E "":(Exited|Created)"") if [ -n ""${ORPHANTS}"" ]; then for orphant in $(printf ""%s\n"" ""${ORPHANTS}"" | awk -F':' '{print $1}'); do echo ""Removing orphaned container ${orphant}"" $CLI stop ${orphant} || true $CLI rm -f ${orphant} || true done fi # If the NAME is already taken by a container, give it an unique name printf ""%s\n"" ""${LIST}"" | grep -q ""${NAME}$"" && NAME=""${NAME}-$(date +%Y-%m-%d-%H%M%S-%N)"" echo ""Starting a new child container ${NAME}"" $CLI run --detach ${LOGGING} \ -v /var/lib/config-data/nova_libvirt/etc/libvirt:/etc/libvirt:ro \ -v /lib/modules:/lib/modules:ro \ -v /dev:/dev \ -v /run:/run \ -v /sys/fs/cgroup:/sys/fs/cgroup \ -v /var/lib/nova:/var/lib/nova:shared,z \ -v /var/run/libvirt:/var/run/libvirt:shared,z \ -v /var/lib/libvirt:/var/lib/libvirt \ -v /etc/libvirt/qemu:/etc/libvirt/qemu:ro \ -v /var/log/libvirt/qemu:/var/log/libvirt/qemu \ --net host \ --pid host \ --privileged \ -u root \ --name $NAME \ <%=$image_name%> \ $CMD $ARGS ",,154,0
openstack%2Foslo.db~master~I27e20e59bce8c98b5a507c617364652aa6eb33f5,openstack/oslo.db,master,I27e20e59bce8c98b5a507c617364652aa6eb33f5,Don't use private API to get query criteria,MERGED,2020-10-14 14:41:17.000000000,2021-04-28 13:01:06.000000000,2021-04-28 12:59:37.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-10-14 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3313c6ad2dd1871a5fb8d6884dc8fee81a6a7b19', 'message': ""Don't use private API to get query criteria\n\nAnother change for SQLAlchemy 1.4 is the mechanics\nof how the ``QueryContext`` object works.   Update the\nupdate_match extension such that it does not rely upon the\n``QueryContext`` object and uses public APIs instead.\n\nChange-Id: I27e20e59bce8c98b5a507c617364652aa6eb33f5\n""}, {'number': 2, 'created': '2021-04-28 10:12:25.000000000', 'files': ['oslo_db/sqlalchemy/update_match.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f2a94b6f1a8d1c2274ff81ae9968d22a22fd8503', 'message': ""Don't use private API to get query criteria\n\nAnother change for SQLAlchemy 1.4 is the mechanics\nof how the ``QueryContext`` object works.   Update the\nupdate_match extension such that it does not rely upon the\n``QueryContext`` object and uses public APIs instead.\n\nChange-Id: I27e20e59bce8c98b5a507c617364652aa6eb33f5\n""}]",0,758142,f2a94b6f1a8d1c2274ff81ae9968d22a22fd8503,13,4,2,11816,,,0,"Don't use private API to get query criteria

Another change for SQLAlchemy 1.4 is the mechanics
of how the ``QueryContext`` object works.   Update the
update_match extension such that it does not rely upon the
``QueryContext`` object and uses public APIs instead.

Change-Id: I27e20e59bce8c98b5a507c617364652aa6eb33f5
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/42/758142/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/update_match.py'],1,3313c6ad2dd1871a5fb8d6884dc8fee81a6a7b19,modernize_update_match," primary_table = inspect(query.column_descriptions[0]['entity']).local_table where_criteria = query.whereclause where_criteria,"," query = query.enable_eagerloads(False) context = query._compile_context() primary_table = context.statement.froms[0] context.whereclause,",3,4
openstack%2Fbarbican~master~I503641691f8414c4c4562cbedc31dc8047054f0c,openstack/barbican,master,I503641691f8414c4c4562cbedc31dc8047054f0c,Imported Translations from Zanata,MERGED,2021-03-22 06:22:03.000000000,2021-04-28 12:50:51.000000000,2021-04-28 12:49:25.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 06:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1d5e5978b472a75d512ccadec8b0f8c8205bc0bb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}, {'number': 2, 'created': '2021-03-30 06:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/25873087bbdb5357b246a340fccfd7d4f1fcf7ca', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}, {'number': 3, 'created': '2021-03-31 06:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/01af0e7c84ebf76543b8ddbf4ee1025707a8d53d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}, {'number': 4, 'created': '2021-04-02 06:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/250067e34079847ea1e5e82d0a39c7f022ac5feb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}, {'number': 5, 'created': '2021-04-14 06:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/37899b45f20cf904c14e87f73bb21b72cc114c1b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}, {'number': 6, 'created': '2021-04-27 06:11:24.000000000', 'files': ['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6d0df1148ff41bce6ab8e7c5ae6c7807af826dde', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I503641691f8414c4c4562cbedc31dc8047054f0c\n'}]",0,782015,6d0df1148ff41bce6ab8e7c5ae6c7807af826dde,20,2,6,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I503641691f8414c4c4562cbedc31dc8047054f0c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/15/782015/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/locale/en_GB/LC_MESSAGES/barbican.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,1d5e5978b472a75d512ccadec8b0f8c8205bc0bb,zanata/translations,"""POT-Creation-Date: 2021-03-16 14:34+0000\n""""PO-Revision-Date: 2021-03-21 11:03+0000\n""msgid ""10.0.0-9"" msgstr ""10.0.0-9""msgid ""11.0.0-42"" msgstr ""11.0.0-42"" msgid ""11.0.0-8"" msgstr ""11.0.0-8""msgid ""9.0.1-7"" msgstr ""9.0.1-7""","""POT-Creation-Date: 2021-01-19 13:43+0000\n""""PO-Revision-Date: 2021-01-29 03:00+0000\n""msgid ""10.0.0-5"" msgstr ""10.0.0-5""msgid ""11.0.0-24"" msgstr ""11.0.0-24"" msgid ""11.0.0-4"" msgstr ""11.0.0-4""msgid ""9.0.1-3"" msgstr ""9.0.1-3""",39,28
openstack%2Fovsdbapp~master~I580bfb640d8157b4e749d7b1fe5de7568e99943d,openstack/ovsdbapp,master,I580bfb640d8157b4e749d7b1fe5de7568e99943d,"Add an active wait in the ""Backend.lookup""",MERGED,2021-04-08 15:10:29.000000000,2021-04-28 12:47:36.000000000,2021-04-28 12:45:18.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-08 15:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f1a18b381a799a4d4f8315711145963ae35a5fe0', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 2, 'created': '2021-04-09 06:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0fc9ef29dee99358d8d7030273493dabd5233114', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 3, 'created': '2021-04-15 11:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5d39272ae1167b17cbffe048b490e40d12b17a8b', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 4, 'created': '2021-04-15 13:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2ef0408e72a6991509070809dcf8016589ad9be3', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 5, 'created': '2021-04-16 09:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6065ac223b5c2943a1252694bcbe6321098d2302', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 6, 'created': '2021-04-16 10:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/9c5b98a673109ae799c0f79fa1c79fe21b5ffe75', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 7, 'created': '2021-04-19 10:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/021abd3a97da80cb5372e12d34e435b3c4aff06c', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 8, 'created': '2021-04-19 11:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/1a01563aa5ec462c9f66c4e61d4762ce5e21ea6d', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 9, 'created': '2021-04-19 17:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/5f8cafc8ae1252e9428618d934b9dc1877624abc', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 10, 'created': '2021-04-19 17:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/86aaa93c965ae0da4c8af927b1e406b237eda5de', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 11, 'created': '2021-04-21 15:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/63509d68741669a2ed701765b88d7cbf82002ac1', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested. Once the wait event returns, the method\ntries to retrieve again the register. The second time, if the register\nif not found, an ""RowNotFound"" exception is raised or the default\nvalue is returned.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 12, 'created': '2021-04-27 16:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/713fc8174f618329061246b6a8ac62aa9eb1eac0', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}, {'number': 13, 'created': '2021-04-28 08:53:15.000000000', 'files': ['ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/bc004045cd30a708eadd64ded1af1b30ef1d1918', 'message': 'Add an active wait in the ""Backend.lookup""\n\nAdded an active wait in the method ""Backend.lookup"". If a timeout\nand a RowEventHandler instance, listening on the same IDL connection,\nare passed, if the ""lookup"" method does not find the requested\nregister, the method creates a WaitEvent instance related to the\ntable and register requested.\n\nIf the wait event returns, the expected record will be stored in the\nevent ""result"" member and will be the value returned by this method.\n\nIf the wait event timeout expires, the method will throw an\n``idlutils.RowNotFound`` exception.\n\nCloses-Bug: #1922934\n\nChange-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d\n'}]",49,785433,bc004045cd30a708eadd64ded1af1b30ef1d1918,55,5,13,16688,,,0,"Add an active wait in the ""Backend.lookup""

Added an active wait in the method ""Backend.lookup"". If a timeout
and a RowEventHandler instance, listening on the same IDL connection,
are passed, if the ""lookup"" method does not find the requested
register, the method creates a WaitEvent instance related to the
table and register requested.

If the wait event returns, the expected record will be stored in the
event ""result"" member and will be the value returned by this method.

If the wait event timeout expires, the method will throw an
``idlutils.RowNotFound`` exception.

Closes-Bug: #1922934

Change-Id: I580bfb640d8157b4e749d7b1fe5de7568e99943d
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/33/785433/3 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/venv.py', 'ovsdbapp/backend/ovs_idl/__init__.py', 'ovsdbapp/tests/functional/backend/ovs_idl/test_backend.py']",3,f1a18b381a799a4d4f8315711145963ae35a5fe0,bug/1922934,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import threading import uuid import ddt from ovsdbapp.backend.ovs_idl import idlutils from ovsdbapp import event from ovsdbapp.schema.ovn_northbound import impl_idl from ovsdbapp.tests.functional import base class TestOvnNbIndex(base.FunctionalTestCase): schemas = ['OVN_Northbound'] def setUp(self): super(TestOvnNbIndex, self).setUp() self.api = impl_idl.OvnNbApiIdlImpl(self.connection) self.lsp_name = str(uuid.uuid4()) def _create_ls(self): self.api.db_create('Logical_Switch', name=self.lsp_name).execute() def test_lookup_with_timeout_and_notify_handler(self): notify_handler = event.RowEventHandler() t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() ret = self.api.lookup('Logical_Switch', self.lsp_name, timeout=3, notify_handler=notify_handler) self.assertEqual(self.lsp_name, ret.name) @ddt.data({'timeout': 0, 'notify_handler': event.RowEventHandler()}, {'timeout': 3, 'notify_handler': None}, {'timeout': 0, 'notify_handler': None}) @ddt.unpack def test_lookup_without_timeout_or_notify_handler( self, timeout=None, notify_handler=None): t_create = threading.Thread(target=self._create_ls, args=()) t_create.start() self.assertRaises(idlutils.RowNotFound, self.api.lookup, 'Logical_Switch', self.lsp_name, timeout=timeout, notify_handler=notify_handler) ",,92,10
openstack%2Freleases~master~I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32,openstack/releases,master,I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32,Add Cinder-specific dates for Xena schedule,MERGED,2021-04-19 19:58:47.000000000,2021-04-28 12:22:50.000000000,2021-04-28 12:22:50.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-19 19:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c08bbb9fa9bf500195ca7d84ec3b6dd5972e0a22', 'message': 'Add Cinder-specific dates for Xena schedule\n\nChange-Id: I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32\n'}, {'number': 2, 'created': '2021-04-28 11:47:12.000000000', 'files': ['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f652aee73a2061b06a66933bcb4d02b94d81980', 'message': 'Add Cinder-specific dates for Xena schedule\n\nChange-Id: I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32\n'}]",3,786951,9f652aee73a2061b06a66933bcb4d02b94d81980,14,5,2,5314,,,0,"Add Cinder-specific dates for Xena schedule

Change-Id: I1b6c282a1e17795627e6bfd66e40ee7ec7e1ad32
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/786951/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/xena/schedule.rst', 'doc/source/xena/schedule.yaml']",2,c08bbb9fa9bf500195ca7d84ec3b6dd5972e0a22,add-xena-dates, - x-cinder-spec-freeze project-specific: - x-cinder-driver-deadline - x-cinder-target-driver-deadline - x-cinder-feature-checkpoint project-specific: - x-cinder-driver-features-declaration project-specific: - x-cinder-ci-checkpoint,,79,0
openstack%2Fmasakari~master~I83f06849e15d7065a4c243a3205a5db9f4a04e72,openstack/masakari,master,I83f06849e15d7065a4c243a3205a5db9f4a04e72,Fix a wrong comment on masakari api.,MERGED,2021-04-28 10:02:07.000000000,2021-04-28 12:02:30.000000000,2021-04-28 12:01:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 10:02:07.000000000', 'files': ['masakari/api/openstack/ha/__init__.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b0aad2c6b62a25874801b1037a265e2d54c5184e', 'message': 'Fix a wrong comment on masakari api.\n\nChange-Id: I83f06849e15d7065a4c243a3205a5db9f4a04e72\n'}]",0,788466,b0aad2c6b62a25874801b1037a265e2d54c5184e,7,2,1,32722,,,0,"Fix a wrong comment on masakari api.

Change-Id: I83f06849e15d7065a4c243a3205a5db9f4a04e72
",git fetch https://review.opendev.org/openstack/masakari refs/changes/66/788466/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/api/openstack/ha/__init__.py'],1,b0aad2c6b62a25874801b1037a265e2d54c5184e,,WSGI middleware for OpenStack Masakari API.,WSGI middleware for OpenStack Compute API.,1,1
openstack%2Fxstatic-bootstrap-scss~master~I1c884af39871d1393781ec2153c925a876feb53e,openstack/xstatic-bootstrap-scss,master,I1c884af39871d1393781ec2153c925a876feb53e,Use py3 as the default runtime for tox,NEW,2021-04-27 06:41:58.000000000,2021-04-28 11:55:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-27 06:41:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/xstatic-bootstrap-scss/commit/6b9f2cf4a63949d42cf6181a54bc1a9836f54652', 'message': 'Use py3 as the default runtime for tox\n\nChange-Id: I1c884af39871d1393781ec2153c925a876feb53e\n'}]",0,788168,6b9f2cf4a63949d42cf6181a54bc1a9836f54652,3,2,1,32921,,,0,"Use py3 as the default runtime for tox

Change-Id: I1c884af39871d1393781ec2153c925a876feb53e
",git fetch https://review.opendev.org/openstack/xstatic-bootstrap-scss refs/changes/68/788168/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b9f2cf4a63949d42cf6181a54bc1a9836f54652,,"envlist = py27,py3","envlist = py27,py33,py34",1,1
openstack%2Fpuppet-neutron~master~Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4,openstack/puppet-neutron,master,Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4,Add support for healthcheck middleware options,MERGED,2021-04-20 23:09:37.000000000,2021-04-28 11:39:20.000000000,2021-04-28 11:37:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 23:09:37.000000000', 'files': ['spec/classes/neutron_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-0e927c75e81b8b5c.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3b93693c41577e951eacb327c8d05f9594c49abe', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4\n'}]",0,787298,3b93693c41577e951eacb327c8d05f9594c49abe,16,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: Ie0e7ddef6f2c2e1e52cc8f6085daaa4805b013d4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/98/787298/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_healthcheck_spec.rb', 'manifests/healthcheck.pp', 'releasenotes/notes/healthcheck-0e927c75e81b8b5c.yaml']",3,3b93693c41577e951eacb327c8d05f9594c49abe,healthcheck,--- features: - | The new ``neutron::healthcheck`` class has been added. This class manages parameters of healthcheck middlware in oslo.middleware. ,,101,0
openstack%2Fironic~master~I46be8e000eba520e14fa9541ee53466ec10aa9a4,openstack/ironic,master,I46be8e000eba520e14fa9541ee53466ec10aa9a4,Docs: dhcp-less works with Glean 1.19.0,MERGED,2021-04-27 08:47:32.000000000,2021-04-28 11:28:46.000000000,2021-04-28 11:27:09.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-27 08:47:32.000000000', 'files': ['doc/source/admin/dhcp-less.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ac60fb15717513526910894f0f82cc30f9c8913', 'message': 'Docs: dhcp-less works with Glean 1.19.0\n\nChange-Id: I46be8e000eba520e14fa9541ee53466ec10aa9a4\n'}]",0,788210,7ac60fb15717513526910894f0f82cc30f9c8913,9,3,1,10239,,,0,"Docs: dhcp-less works with Glean 1.19.0

Change-Id: I46be8e000eba520e14fa9541ee53466ec10aa9a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/788210/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/dhcp-less.rst'],1,7ac60fb15717513526910894f0f82cc30f9c8913,dhcp-less-less-less-less, Ramdisks based on distributions with NetworkManager require Glean_ 1.19.0 or newer to work.," The simple-init_ element is found to conflict to NetworkManager, which makes this feature not operational with ramdisks based on CentOS, RHEL and Fedora. The ``debian-minimal`` and ``centos`` elements seem to work correctly. For CentOS, only CentOS 7 based ramdisks are known to work.",2,4
openstack%2Foslo.db~master~Id2f0663b13ed0f81e91a8d44f73d8541015bf844,openstack/oslo.db,master,Id2f0663b13ed0f81e91a8d44f73d8541015bf844,Accommodate immutable URL api,MERGED,2020-08-24 16:01:29.000000000,2021-04-28 11:14:54.000000000,2021-04-28 11:12:59.000000000,"[{'_account_id': 6928}, {'_account_id': 8846}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-24 16:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a03b68431fc4d1e81eb28a5c747480ed1a3e90eb', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 is likely going to switch the URL\nobject to a new immutable URL.  This patch makes the\nadjustments needed, using duck-typing to check if the\nURL object is of the new style.\n\nWIP as I am still cross-testing the patch on the\nSQLAlchemy side.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 2, 'created': '2020-08-24 21:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1ec90f4997bc3125499cb781492413068f7cb194', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 is likely going to switch the URL\nobject to a new immutable URL.  This patch makes the\nadjustments needed, using duck-typing to check if the\nURL object is of the new style.\n\nWIP as I am still cross-testing the patch on the\nSQLAlchemy side.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 3, 'created': '2020-09-04 17:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3724bdc16f735ad057a479fe06c8fff08054fbf8', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 is likely going to switch the URL\nobject to a new immutable URL.  This patch makes the\nadjustments needed, using duck-typing to check if the\nURL object is of the new style.\n\nWIP as I am still cross-testing the patch on the\nSQLAlchemy side.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 4, 'created': '2020-10-14 13:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1181af2069a834f9a9883cbd4a796089766d00e7', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 is likely going to switch the URL\nobject to a new immutable URL.  This patch makes the\nadjustments needed, using duck-typing to check if the\nURL object is of the new style.\n\nWIP as I am still cross-testing the patch on the\nSQLAlchemy side.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 5, 'created': '2020-10-14 14:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8f887f657cd869ec431464046f218d9e62129ccc', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 is likely going to switch the URL\nobject to a new immutable URL.  This patch makes the\nadjustments needed, using duck-typing to check if the\nURL object is of the new style.\n\nWIP as I am still cross-testing the patch on the\nSQLAlchemy side.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 6, 'created': '2020-12-11 16:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1e1f1b56fa8b248aa31aeb1f90b58e1f5e6390dd', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 has modified the URL object to be immutable.\nThis patch makes the adjustments needed, using duck-typing\nto check if the URL object is of the new style.  When\nrequirements reach SQLAlchemy 1.4 as the minimum required\nversion, these conditionals should be removed in favor of\nthe noted option in each.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}, {'number': 7, 'created': '2020-12-11 18:18:47.000000000', 'files': ['oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py', 'oslo_db/tests/sqlalchemy/test_exc_filters.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/f37269ae603bc0e09210379e03a476ff2193c74c', 'message': 'Accommodate immutable URL api\n\nSQLAlchemy 1.4 has modified the URL object to be immutable.\nThis patch makes the adjustments needed, using duck-typing\nto check if the URL object is of the new style.  When\nrequirements reach SQLAlchemy 1.4 as the minimum required\nversion, these conditionals should be removed in favor of\nthe noted option in each.\n\nChange-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844\n'}]",20,747762,f37269ae603bc0e09210379e03a476ff2193c74c,42,8,7,11816,,,0,"Accommodate immutable URL api

SQLAlchemy 1.4 has modified the URL object to be immutable.
This patch makes the adjustments needed, using duck-typing
to check if the URL object is of the new style.  When
requirements reach SQLAlchemy 1.4 as the minimum required
version, these conditionals should be removed in favor of
the noted option in each.

Change-Id: Id2f0663b13ed0f81e91a8d44f73d8541015bf844
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/62/747762/6 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py']",3,a03b68431fc4d1e81eb28a5c747480ed1a3e90eb,modernize_update_match," # 1.4 if hasattr(url, ""update_query_string""): return url.update_query_string(connection_parameters, append=True) return url ""be specified for maximum service compatibility"", (url, ) ""A full dbname+drivername:// protocol is recommended."", (url, ) url = _extend_url_parameters(url, connection_parameters)"," ""be specified for maximum service compatibility"", url ""A full dbname+drivername:// protocol is recommended."", url _extend_url_parameters(url, connection_parameters)",28,9
openstack%2Fsushy~stable%2Fwallaby~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,stable/wallaby,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-28 09:02:32.000000000,2021-04-28 10:59:45.000000000,2021-04-28 10:58:25.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29296}]","[{'number': 1, 'created': '2021-04-28 09:02:32.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/fix-virtual-media-fallback-15a559414a65c014.yaml', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/bc4987800906d8413f964c9a3f5c7eb580de55e3', 'message': 'Implement fallback method for virtual media\n\nSome vendors implement the original method of inserting and ejecting virtual media\nusing a PATCH request to the target URI\ninstead of using a POST request to the\ninsert_media and eject_media action URI.\nAdditionally the actions attribute might set to None\nThis implements the fallback method,\nif there are no actions and the PATCH method is sent back in the Allow header\n\nChange-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4\n(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)\n'}]",0,788274,bc4987800906d8413f964c9a3f5c7eb580de55e3,8,3,1,10239,,,0,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/74/788274/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/fix-virtual-media-fallback-15a559414a65c014.yaml', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",4,bc4987800906d8413f964c9a3f5c7eb580de55e3,virtual_media_patch_fallback-stable/wallaby," self.conn.get.return_value.headers = {'Allow': 'GET,HEAD'} self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.InsertMedia', self.sys_virtual_media.insert_media, ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) def test_insert_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.EjectMedia', self.sys_virtual_media.eject_media) def test_eject_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) ",,164,15
openstack%2Fsushy~stable%2Fvictoria~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,stable/victoria,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-28 09:02:57.000000000,2021-04-28 10:53:14.000000000,2021-04-28 10:51:50.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29296}]","[{'number': 1, 'created': '2021-04-28 09:02:57.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/fix-virtual-media-fallback-15a559414a65c014.yaml', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/d7da81d34d3003627068d6fc39e95ff1a3c48fa9', 'message': 'Implement fallback method for virtual media\n\nSome vendors implement the original method of inserting and ejecting virtual media\nusing a PATCH request to the target URI\ninstead of using a POST request to the\ninsert_media and eject_media action URI.\nAdditionally the actions attribute might set to None\nThis implements the fallback method,\nif there are no actions and the PATCH method is sent back in the Allow header\n\nChange-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4\n(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)\n'}]",0,788275,d7da81d34d3003627068d6fc39e95ff1a3c48fa9,8,3,1,10239,,,0,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
(cherry picked from commit 9e5a103565e204b9358e10580cd0346391be9bec)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/75/788275/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/fix-virtual-media-fallback-15a559414a65c014.yaml', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",4,d7da81d34d3003627068d6fc39e95ff1a3c48fa9,virtual_media_patch_fallback-stable/victoria," self.conn.get.return_value.headers = {'Allow': 'GET,HEAD'} self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.InsertMedia', self.sys_virtual_media.insert_media, ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) def test_insert_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.EjectMedia', self.sys_virtual_media.eject_media) def test_eject_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) ",,164,15
openstack%2Ftaskflow~master~Ib169e3deb7ddb2bc93a206ebec4043552281aa7f,openstack/taskflow,master,Ib169e3deb7ddb2bc93a206ebec4043552281aa7f,Use unittest.mock instead of mock,MERGED,2020-06-09 10:15:03.000000000,2021-04-28 10:38:16.000000000,2021-04-28 10:36:57.000000000,"[{'_account_id': 11628}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/eb52282cf78be98f43becf8c7d6cb243fa4276d5', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}, {'number': 2, 'created': '2020-06-09 17:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3af531083ccd24e8d882fb0684a49bd4de9ea4d7', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}, {'number': 3, 'created': '2020-06-10 09:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2f0a4a78c9637906b954beee5e9c5e83793b5441', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}, {'number': 4, 'created': '2020-06-11 11:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/91736453ce6b5472da5ae92873719a0cb996b64a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}, {'number': 5, 'created': '2021-01-05 08:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2376bea928a5a0018ed46b0911f027ed6d4b7f1f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}, {'number': 6, 'created': '2021-04-27 21:47:14.000000000', 'files': ['taskflow/test.py', 'taskflow/tests/unit/worker_based/test_proxy.py', 'test-requirements.txt', 'tools/state_graph.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/14a5c0f237362f88c88f23175268b67084dfac1f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f\n'}]",9,734562,14a5c0f237362f88c88f23175268b67084dfac1f,19,3,6,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib169e3deb7ddb2bc93a206ebec4043552281aa7f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/62/734562/6 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/test.py', 'test-requirements.txt', 'tools/state_graph.py', 'lower-constraints.txt']",4,eb52282cf78be98f43becf8c7d6cb243fa4276d5,drop_mock,,mock==2.0.0,2,4
openstack%2Fneutron-tempest-plugin~master~Id56743a07267b4b6c03e7b9b295f919668ac07ab,openstack/neutron-tempest-plugin,master,Id56743a07267b4b6c03e7b9b295f919668ac07ab,Add iptables and listening sockets to debug info,MERGED,2021-04-14 15:28:00.000000000,2021-04-28 10:36:29.000000000,2021-04-28 10:36:29.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 15:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7c37dea0695aba286198a310c9f2e3461b6d7328', 'message': 'Add iptables and listening sockets to debug info\n\nThe method ""_log_local_network_status"", used to print the system\ninformation in case of error, is improved with new information:\n- The local namespace iptables\n- The local namespace listening sockets\n\nThis information could provide the needed info to investigate the\nproblem, related in the referred bug, when a VM cannot retrieve\nthe metadata information.\n\nChange-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab\nRelated-Bug: #1923633\n'}, {'number': 2, 'created': '2021-04-15 10:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/047528f7d81b40bf4806ff1e55fc2aab41528e37', 'message': 'Add iptables and listening sockets to debug info\n\nThe method ""_log_local_network_status"", used to print the system\ninformation in case of error, is improved with new information:\n- The local namespace iptables\n- The local namespace listening sockets\n\nThis information could provide the needed info to investigate the\nproblem, related in the referred bug, when a VM cannot retrieve\nthe metadata information.\n\nChange-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab\nRelated-Bug: #1923633\n'}, {'number': 3, 'created': '2021-04-19 12:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6d2d5563ae2fece11b121fde3db1e4e3b4a25e6c', 'message': 'Add iptables and listening sockets to debug info\n\nThe method ""_log_local_network_status"", used to print the system\ninformation in case of error, is improved with new information:\n- The local namespace iptables\n- The local namespace listening sockets\n\nThis information could provide the needed info to investigate the\nproblem, related in the referred bug, when a VM cannot retrieve\nthe metadata information.\n\nChange-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab\nRelated-Bug: #1923633\n'}, {'number': 4, 'created': '2021-04-19 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af46331269da45ca870cf4242d92590346811530', 'message': 'Add iptables and listening sockets to debug info\n\nThe method ""_log_local_network_status"", used to print the system\ninformation in case of error, is improved with new information:\n- The local namespace iptables\n- The local namespace listening sockets\n\nThis information could provide the needed info to investigate the\nproblem, related in the referred bug, when a VM cannot retrieve\nthe metadata information.\n\nChange-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab\nRelated-Bug: #1923633\n'}, {'number': 5, 'created': '2021-04-21 14:11:28.000000000', 'files': ['neutron_tempest_plugin/common/ip.py', 'neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c134ea944e288a8dda5322fb104c39f9dbbaf842', 'message': 'Add iptables and listening sockets to debug info\n\nThe method ""_log_local_network_status"", used to print the system\ninformation in case of error, is improved with new information:\n- The local namespace iptables\n- The local namespace listening sockets\n\nThis information could provide the needed info to investigate the\nproblem, related in the referred bug, when a VM cannot retrieve\nthe metadata information.\n\nChange-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab\nRelated-Bug: #1923633\n'}]",1,786268,c134ea944e288a8dda5322fb104c39f9dbbaf842,39,4,5,16688,,,0,"Add iptables and listening sockets to debug info

The method ""_log_local_network_status"", used to print the system
information in case of error, is improved with new information:
- The local namespace iptables
- The local namespace listening sockets

This information could provide the needed info to investigate the
problem, related in the referred bug, when a VM cannot retrieve
the metadata information.

Change-Id: Id56743a07267b4b6c03e7b9b295f919668ac07ab
Related-Bug: #1923633
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/68/786268/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/common/ip.py', 'neutron_tempest_plugin/scenario/base.py']",2,7c37dea0695aba286198a310c9f2e3461b6d7328,bug/1923633," ipcmd = ip_utils.IPCommand(namespace=ns_name) local_ips = ipcmd.list_addresses() local_routes = ipcmd.list_routes() iptables = ipcmd.get_iptables() listening_sockets = ipcmd.list_listening_sockets() LOG.debug('Namespace %s; Local iptables:\n%s', iptables) LOG.debug('Namespace %s; Listening sockets:\n%s', listening_sockets)", local_ips = ip_utils.IPCommand(namespace=ns_name).list_addresses() local_routes = ip_utils.IPCommand(namespace=ns_name).list_routes(),15,2
openstack%2Fneutron~master~I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb,openstack/neutron,master,I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb,"Fix ""nftables"" ansible role",MERGED,2021-04-27 15:56:37.000000000,2021-04-28 09:59:14.000000000,2021-04-28 09:56:40.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce453bfb8bd54e8353c51022a851b26a2d2d5386', 'message': 'Fix ""nftables"" ansible role\n\nFix ""iptables"" restore tasks:\n- Using the ""ipvX_rules_file.stat.exists"" flag\n- Retrieving the correct path name from the stored variable.\n\nChange-Id: I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb\nCloses-Bug: #1926313\n'}, {'number': 2, 'created': '2021-04-27 15:57:01.000000000', 'files': ['roles/nftables/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97e34498f75fb8b5414490858ff9a3a37e6b2716', 'message': 'Fix ""nftables"" ansible role\n\nFixed ""iptables"" restore tasks:\n- Using the ""ipvX_rules_file.stat.exists"" flag\n- Retrieving the correct path name from the stored variable.\n\nChange-Id: I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb\nCloses-Bug: #1926313\n'}]",0,788320,97e34498f75fb8b5414490858ff9a3a37e6b2716,12,3,2,16688,,,0,"Fix ""nftables"" ansible role

Fixed ""iptables"" restore tasks:
- Using the ""ipvX_rules_file.stat.exists"" flag
- Retrieving the correct path name from the stored variable.

Change-Id: I61a07b9b0c0fd3c0906ed8efe0b09bf0988ccdfb
Closes-Bug: #1926313
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/788320/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/nftables/tasks/main.yaml'],1,ce453bfb8bd54e8353c51022a851b26a2d2d5386,bug/1926313, iptables-restore '{{ ipv4_rules_file.stat.path }}' when: ipv4_rules_file.stat.exists ip6tables-restore '{{ ipv6_rules_file.stat.path }}' when: ipv6_rules_file.stat.exists, iptables-restore '{{ ipv4_rules_file }}' ip6tables-restore '{{ ipv6_rules_file }}',4,2
openstack%2Fdevstack~stable%2Fqueens~I57e6219d675c951880808ced4e26c2344ef15cee,openstack/devstack,stable/queens,I57e6219d675c951880808ced4e26c2344ef15cee,Fix for downloading uwsgi on centos in lib/apache,MERGED,2020-06-17 12:39:17.000000000,2021-04-28 09:57:01.000000000,2021-04-28 09:57:01.000000000,"[{'_account_id': 1}, {'_account_id': 1921}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29963}, {'_account_id': 30491}, {'_account_id': 31956}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-17 12:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1acc82ef3bac3c88ae7e1070c5b797a0e09ac5b6', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 2, 'created': '2020-06-17 12:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a21c47d55414ec634b7bacd40f092bc9433002b2', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 3, 'created': '2020-06-17 13:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/579bdef21bc17ffebf9dcb846817604ad44a036f', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 4, 'created': '2020-06-17 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/255ceef8530d766abe5f9e9c39c97bfb252a3e68', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 5, 'created': '2020-06-18 08:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8abe609e715eed7b916bef4ae45e20601e4c29a7', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 6, 'created': '2020-06-18 11:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d4da936f77d0544f695645860e98bffa210e8214', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 7, 'created': '2020-06-23 12:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b79a15ef704596e7d2344c41a009180505185c57', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 8, 'created': '2020-07-07 12:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea0e70215d2f6d67953dcd3ff03c87093627f8a4', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}, {'number': 9, 'created': '2020-07-30 08:47:52.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/10877d79d63507ceb24f234d66e01ab95ac4da9c', 'message': 'Fix for downloading uwsgi on centos in lib/apache\n\nOn Centos the lib/apache script in devstack downloads and compiles\nuwsgi package. It uses pip-download to pull uwsgi tar file.\nHowever, it does not return the full name of downloaded file so\nright now the script looks for filename that starts with prefix\n""uwsgi"".\nThis method is case sensitive so after downloading file with name\nuWSGI-2.0.19.tar.gz the script was unable to locate this file.\n\nThis change downloads the file to an empty directory and expect\nit to be the only file there so there is no name vulnerability.\n\nChange-Id: I57e6219d675c951880808ced4e26c2344ef15cee\nCloses-Bug: #1883897\n'}]",2,736189,10877d79d63507ceb24f234d66e01ab95ac4da9c,69,18,9,31956,,,0,"Fix for downloading uwsgi on centos in lib/apache

On Centos the lib/apache script in devstack downloads and compiles
uwsgi package. It uses pip-download to pull uwsgi tar file.
However, it does not return the full name of downloaded file so
right now the script looks for filename that starts with prefix
""uwsgi"".
This method is case sensitive so after downloading file with name
uWSGI-2.0.19.tar.gz the script was unable to locate this file.

This change downloads the file to an empty directory and expect
it to be the only file there so there is no name vulnerability.

Change-Id: I57e6219d675c951880808ced4e26c2344ef15cee
Closes-Bug: #1883897
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/736189/9 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,1acc82ef3bac3c88ae7e1070c5b797a0e09ac5b6,fix_uwsgi_centos," download_and_compile_uwsgifunction download_and_compile_uwsgi { local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi # We need to download uwsgi from pip. Since we don't know the full name # of its tar file we will download it to an empty dir. After download # there should be single tar file. local uwsgidir uwsgidir=""$dir/uwsgidir"" mkdir -p ""$uwsgidir"" pip download uwsgi -c /home/centos/test/requirements.txt -d ""$uwsgidir"" if [[ ""$(ls ""$uwsgidir"" | wc -l)"" != ""1"" ]] ; then echo ""Expected single uwsgi tar file. Got: '$(ls $uwsgidir)'"" popd sudo rm -rf $dir exit 1 fi local uwsgitar uwsgitar=""$uwsgidir/$(ls $uwsgidir)"" # Now we can unwrap it somewhere else. local uwsgiout uwsgiout=""$dir/uwsgiout"" mkdir -p $uwsgiout tar xf $uwsgitar -C ""$uwsgiout"" # Unwrapped uwsgi can be wrapped with additional directory so # we need to resolve a path to it. local uwsgipath if [[ ""$(ls $uwsgiout | wc -l)"" == ""1"" ]] ; then uwsgipath=""$uwsgiout/$(ls $uwsgiout)"" else uwsgipath=""$uwsgiout"" fi cd ""$uwsgipath/apache2"" sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir } ", local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir,46,14
openstack%2Fkolla-ansible~master~I7ae919875fb9dea756ca26d90dc1af791ac766ce,openstack/kolla-ansible,master,I7ae919875fb9dea756ca26d90dc1af791ac766ce,Bump up python version for Debian Bullseye,MERGED,2021-04-16 07:45:58.000000000,2021-04-28 09:45:19.000000000,2021-04-28 09:42:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-16 07:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e045e38a3e6d57023e5d59a472455896e8cc333', 'message': 'Bump up python version for Debian Bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/772479\nChange-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce\n'}, {'number': 2, 'created': '2021-04-24 21:45:34.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9b21cde93e3a37012fde1133085fcb4a6376455', 'message': 'Bump up python version for Debian Bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/772479\nChange-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce\n'}]",0,786591,d9b21cde93e3a37012fde1133085fcb4a6376455,23,5,2,22629,,,0,"Bump up python version for Debian Bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/772479
Change-Id: I7ae919875fb9dea756ca26d90dc1af791ac766ce
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/786591/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,7e045e38a3e6d57023e5d59a472455896e8cc333,," ""debian"": ""3.9"","," ""debian"": ""3.7"",",1,1
openstack%2Fkolla-ansible~master~I04bafaebba44d162adb908839cdad6f5bb6ee8f7,openstack/kolla-ansible,master,I04bafaebba44d162adb908839cdad6f5bb6ee8f7,Add Monasca Grafana deprecation notice,MERGED,2021-04-27 09:13:35.000000000,2021-04-28 09:30:26.000000000,2021-04-28 09:24:43.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-04-27 09:13:35.000000000', 'files': ['releasenotes/notes/deprecate-monasca-grafana-f5bfc61a5d453a8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a1e9e984bb109a02bc650b9674fd19e15f7fbf7', 'message': 'Add Monasca Grafana deprecation notice\n\nChange-Id: I04bafaebba44d162adb908839cdad6f5bb6ee8f7\n'}]",0,788227,8a1e9e984bb109a02bc650b9674fd19e15f7fbf7,11,7,1,17669,,,0,"Add Monasca Grafana deprecation notice

Change-Id: I04bafaebba44d162adb908839cdad6f5bb6ee8f7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/788227/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-monasca-grafana-f5bfc61a5d453a8e.yaml'],1,8a1e9e984bb109a02bc650b9674fd19e15f7fbf7,feature/use_vanilla_grafana_for_monasca,"--- deprecations: - | The Monasca Fork of Grafana is deprecated due to lack of maintenance and will be removed in the Xena release. Instead, support will be provided to allow Monasca users to migrate to the vanilla Grafana service with the Monasca datasource. ",,7,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I545c31977799c4ea51e037b631a49306da9c4a3b,openstack/networking-ovn,stable/train,I545c31977799c4ea51e037b631a49306da9c4a3b,Change reference to OvnDbNotifyHandler._watched_events,MERGED,2021-04-14 11:13:03.000000000,2021-04-28 09:30:16.000000000,2021-04-28 09:28:42.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 11:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9a2f09b59288ced8c8315e95cdc57386fa31ce7d', 'message': 'Change reference to OvnDbNotifyHandler._watched_events\n\nSince [1], RowEventHandler._watched_events do not use name mangling.\nOvnDbNotifyHandler, inheriting from RowEventHandler, can access to\nthis variable.\n\n[1]https://review.opendev.org/#/c/752797/\n\nPartial-Bug: #1897928\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/755924/1\n\nChange-Id: I545c31977799c4ea51e037b631a49306da9c4a3b\n'}, {'number': 2, 'created': '2021-04-14 16:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a009397d991b21cf238a61c30fdbb2d9658477ec', 'message': 'Change reference to OvnDbNotifyHandler._watched_events\n\nSince [1], RowEventHandler._watched_events do not use name mangling.\nOvnDbNotifyHandler, inheriting from RowEventHandler, can access to\nthis variable.\n\n[1]https://review.opendev.org/#/c/752797/\n\nPartial-Bug: #1897928\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/755924/1\n\nChange-Id: I545c31977799c4ea51e037b631a49306da9c4a3b\n'}, {'number': 3, 'created': '2021-04-23 08:55:08.000000000', 'files': ['networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/184384651a836c27822aa7e4433c4c4aab4d4b69', 'message': 'Change reference to OvnDbNotifyHandler._watched_events\n\nSince [1], RowEventHandler._watched_events do not use name mangling.\nOvnDbNotifyHandler, inheriting from RowEventHandler, can access to\nthis variable.\n\n[1]https://review.opendev.org/#/c/752797/\n\nPartial-Bug: #1897928\n\nManually cherry-picked from\nhttps://review.opendev.org/c/openstack/neutron/+/755924/1\n\nChange-Id: I545c31977799c4ea51e037b631a49306da9c4a3b\n'}]",0,786204,184384651a836c27822aa7e4433c4c4aab4d4b69,29,4,3,16688,,,0,"Change reference to OvnDbNotifyHandler._watched_events

Since [1], RowEventHandler._watched_events do not use name mangling.
OvnDbNotifyHandler, inheriting from RowEventHandler, can access to
this variable.

[1]https://review.opendev.org/#/c/752797/

Partial-Bug: #1897928

Manually cherry-picked from
https://review.opendev.org/c/openstack/neutron/+/755924/1

Change-Id: I545c31977799c4ea51e037b631a49306da9c4a3b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/04/786204/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'],1,9a2f09b59288ced8c8315e95cdc57386fa31ce7d,bug/1897928," # NOTE(ralonsoh): once the ovsdbapp library version is bumped beyond # 1.5.0, the first assignation (using name mangling) can be deleted. try: self.watched_events = self.handler._RowEventHandler__watched_events except AttributeError: self.watched_events = self.handler._watched_events", self.watched_events = self.handler._RowEventHandler__watched_events,6,1
openstack%2Fkolla-ansible~master~Ibffa019e2106784e97f5c482106bb5082f788752,openstack/kolla-ansible,master,Ibffa019e2106784e97f5c482106bb5082f788752,Deprecate enable_host_ntp,MERGED,2021-04-27 16:04:55.000000000,2021-04-28 09:27:49.000000000,2021-04-28 09:23:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 16:04:55.000000000', 'files': ['doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'releasenotes/notes/deprecate-enable-host-ntp-3ad934c097f18b1b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83f3422fbd58581f3dea595eb0ac080b86c9fcf9', 'message': 'Deprecate enable_host_ntp\n\nAs agreed during IRC meeting. [1]\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-04-07-15.00.html\n\nChange-Id: Ibffa019e2106784e97f5c482106bb5082f788752\n'}]",0,788321,83f3422fbd58581f3dea595eb0ac080b86c9fcf9,10,4,1,30491,,,0,"Deprecate enable_host_ntp

As agreed during IRC meeting. [1]

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-04-07-15.00.html

Change-Id: Ibffa019e2106784e97f5c482106bb5082f788752
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/788321/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'releasenotes/notes/deprecate-enable-host-ntp-3ad934c097f18b1b.yaml']",4,83f3422fbd58581f3dea595eb0ac080b86c9fcf9,deprecate-enable-host-ntp,--- deprecations: - | Support for configuration of NTP daemon (via ``enable_host_ntp``) is deprecated and will be removed in the next Kolla Ansible release (Xena). Please use other means of configuring NTP. ,,21,0
openstack%2Ftempest~master~I31672c8b131fec4a916c4d703f6819c22d605876,openstack/tempest,master,I31672c8b131fec4a916c4d703f6819c22d605876,"Revert ""don't reuse servers in test_server_actions""",MERGED,2014-06-08 12:46:02.000000000,2021-04-28 09:21:39.000000000,2014-06-09 15:00:05.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-08 12:46:02.000000000', 'files': ['tempest/api/compute/v3/servers/test_server_actions.py', 'tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2da58590dab4bc7e56928edf08d02a96fb933ee7', 'message': 'Revert ""don\'t reuse servers in test_server_actions""\n\nThis reverts commit b7f648b31c9044e3a7c25c0fb1dcc31a81e0da9f.\n\nChange-Id: I31672c8b131fec4a916c4d703f6819c22d605876\nRelated-Bug: #1298472\n'}]",0,98632,2da58590dab4bc7e56928edf08d02a96fb933ee7,36,9,1,6873,,,0,"Revert ""don't reuse servers in test_server_actions""

This reverts commit b7f648b31c9044e3a7c25c0fb1dcc31a81e0da9f.

Change-Id: I31672c8b131fec4a916c4d703f6819c22d605876
Related-Bug: #1298472
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/98632/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/v3/servers/test_server_actions.py']",2,2da58590dab4bc7e56928edf08d02a96fb933ee7,dont_recycle_servers," # NOTE(afazekas): Normally we use the same server with all test cases, # but if it has an issue, we build a new one # Check if the server is in a clean state after test try: self.client.wait_for_server_status(self.server_id, 'ACTIVE') except Exception: # Rebuild server if something happened to it during a test self.__class__.server_id = self.rebuild_server(self.server_id) cls.server_id = cls.rebuild_server(None)"," resp, server = self.create_test_server(wait_until='ACTIVE') self.addCleanup(self.client.delete_server, server['id']) self.server_id = server['id']",24,6
openstack%2Foctavia~master~Iacf485f8d7ac61e79c3bc9073b40d0813c006745,openstack/octavia,master,Iacf485f8d7ac61e79c3bc9073b40d0813c006745,Fix pylint errors,MERGED,2021-04-26 17:11:07.000000000,2021-04-28 09:17:50.000000000,2021-04-28 09:16:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 17:11:07.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/amphorae/backends/utils/network_namespace.py', 'octavia/controller/healthmanager/health_manager.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e53676b2a4f8e97b8c2412436813d890b67672f', 'message': ""Fix pylint errors\n\nNew pylint release catches 'consider-using-with' errors on some class\nmembers. This new checker looks interesting for future errors but it is\nnot justified for the detected issues.\n\nChange-Id: Iacf485f8d7ac61e79c3bc9073b40d0813c006745\n""}]",0,788047,4e53676b2a4f8e97b8c2412436813d890b67672f,11,4,1,29244,,,0,"Fix pylint errors

New pylint release catches 'consider-using-with' errors on some class
members. This new checker looks interesting for future errors but it is
not justified for the detected issues.

Change-Id: Iacf485f8d7ac61e79c3bc9073b40d0813c006745
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/788047/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/amphorae/backends/utils/network_namespace.py', 'octavia/controller/healthmanager/health_manager.py', 'octavia/amphorae/drivers/health/heartbeat_udp.py']",4,4e53676b2a4f8e97b8c2412436813d890b67672f,, # pylint: disable=consider-using-with # pylint: disable=consider-using-with,,5,0
openstack%2Fsushy~master~I2046c4e7c8739edd4aaac3e7facc378b82276ca4,openstack/sushy,master,I2046c4e7c8739edd4aaac3e7facc378b82276ca4,Implement fallback method for virtual media,MERGED,2021-04-24 19:57:56.000000000,2021-04-28 09:02:11.000000000,2021-04-28 09:00:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-24 19:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/20c13c945fa675f30e7d226954dda39fea64a303', 'message': 'Implement fallback method for virtual media\n\nSome vendors implement the original method of inserting and ejecting virtual media\nusing a PATCH request to the target URI\ninstead of using a POST request to the\ninsert_media and eject_media action URI.\nAdditionally the actions attribute might set to None\nThis implements the fallback method,\nif there are no actions and the PATCH method is sent back in the Allow header\n\nChange-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4\n'}, {'number': 2, 'created': '2021-04-26 09:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/eb67d47b7448f773a965d922c299a31db2ba330e', 'message': 'Implement fallback method for virtual media\n\nSome vendors implement the original method of inserting and ejecting virtual media\nusing a PATCH request to the target URI\ninstead of using a POST request to the\ninsert_media and eject_media action URI.\nAdditionally the actions attribute might set to None\nThis implements the fallback method,\nif there are no actions and the PATCH method is sent back in the Allow header\n\nChange-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4\n'}, {'number': 3, 'created': '2021-04-26 11:19:07.000000000', 'files': ['sushy/resources/manager/virtual_media.py', 'releasenotes/notes/fix-virtual-media-fallback-15a559414a65c014.yaml', 'sushy/resources/base.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9e5a103565e204b9358e10580cd0346391be9bec', 'message': 'Implement fallback method for virtual media\n\nSome vendors implement the original method of inserting and ejecting virtual media\nusing a PATCH request to the target URI\ninstead of using a POST request to the\ninsert_media and eject_media action URI.\nAdditionally the actions attribute might set to None\nThis implements the fallback method,\nif there are no actions and the PATCH method is sent back in the Allow header\n\nChange-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4\n'}]",8,787859,9e5a103565e204b9358e10580cd0346391be9bec,28,4,3,29296,,,0,"Implement fallback method for virtual media

Some vendors implement the original method of inserting and ejecting virtual media
using a PATCH request to the target URI
instead of using a POST request to the
insert_media and eject_media action URI.
Additionally the actions attribute might set to None
This implements the fallback method,
if there are no actions and the PATCH method is sent back in the Allow header

Change-Id: I2046c4e7c8739edd4aaac3e7facc378b82276ca4
",git fetch https://review.opendev.org/openstack/sushy refs/changes/59/787859/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/manager/virtual_media.py', 'sushy/tests/unit/resources/manager/test_virtual_media.py']",2,20c13c945fa675f30e7d226954dda39fea64a303,virtual_media_patch_fallback," self.conn.get.return_value.headers = {'Allow': 'GET,HEAD'} self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.InsertMedia', self.sys_virtual_media.insert_media, ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) def test_insert_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_insert_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.insert_media = None self.sys_virtual_media.insert_media( ""https://www.dmtf.org/freeImages/Sardine.img"", True, False) self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": ""https://www.dmtf.org/freeImages/Sardine.img"", ""Inserted"": True, ""WriteProtected"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) self.sys_virtual_media._actions = None self.assertRaisesRegex( exceptions.MissingActionError, 'action #VirtualMedia.EjectMedia', self.sys_virtual_media.eject_media) def test_eject_media_fallback(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers=None) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': '""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) def test_eject_media_fallback_with_weak_etag(self): self.conn.get.return_value.headers = {'Allow': 'GET,HEAD,PATCH', 'ETag': 'W/""3d7b8a7360bf2941d""'} self.sys_virtual_media._actions.eject_media = None self.sys_virtual_media.eject_media() self.sys_virtual_media._conn.patch.assert_called_once_with( (""/redfish/v1/Managers/BMC/VirtualMedia/Floppy1""), data={""Image"": None, ""Inserted"": False}, headers={""If-Match"": '""3d7b8a7360bf2941d""'}) self.assertTrue(self.sys_virtual_media._is_stale) ",,142,16
openstack%2Fcharm-neutron-openvswitch~master~I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e,openstack/charm-neutron-openvswitch,master,I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e,Fix regression of disable-mlockall,MERGED,2021-04-23 20:44:14.000000000,2021-04-28 08:53:18.000000000,2021-04-28 08:53:18.000000000,"[{'_account_id': 8108}, {'_account_id': 8992}, {'_account_id': 18511}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-23 20:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0e8ca172a1925d8b3a06d8eacf9ed0a347dc278e', 'message': 'Fix regression of disable-mlockall\n\nThis restores OVS_DEFAULT to the BASE_RESOURCE_MAP.\n\nThere were some changes in commit ad7f870c that moved OVS_DEFAULT\nout of the BASE_RESOURCE_MAP, which resulted in no more rendering\nof /etc/default/openvswitch-switch) for non-DPDK deployments.\n\nCloses-Bug: #925962\nChange-Id: I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e\n'}, {'number': 2, 'created': '2021-04-23 20:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c095aebf0469dc464edbfb66cb66290402e96c1f', 'message': 'Fix regression of disable-mlockall\n\nThis restores OVS_DEFAULT to the BASE_RESOURCE_MAP.\n\nThere were some changes in commit ad7f870c that moved OVS_DEFAULT\nout of the BASE_RESOURCE_MAP, which resulted in no more rendering\nof /etc/default/openvswitch-switch for non-DPDK deployments.\n\nCloses-Bug: #925962\nChange-Id: I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e\n'}, {'number': 3, 'created': '2021-04-26 06:47:12.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/96ba49807c38165bfc838aab569b5ec1804bd08b', 'message': 'Fix regression of disable-mlockall\n\nThis restores OVS_DEFAULT to the BASE_RESOURCE_MAP.\n\nThere were some changes in commit ad7f870c that moved OVS_DEFAULT\nout of the BASE_RESOURCE_MAP, which resulted in no more rendering\nof /etc/default/openvswitch-switch for non-DPDK deployments.\n\nCloses-Bug: #1925962\nChange-Id: I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e\n'}]",1,787820,96ba49807c38165bfc838aab569b5ec1804bd08b,24,8,3,11805,,,0,"Fix regression of disable-mlockall

This restores OVS_DEFAULT to the BASE_RESOURCE_MAP.

There were some changes in commit ad7f870c that moved OVS_DEFAULT
out of the BASE_RESOURCE_MAP, which resulted in no more rendering
of /etc/default/openvswitch-switch for non-DPDK deployments.

Closes-Bug: #1925962
Change-Id: I8bc6e0c20e5702db5a44fda531b6a59ada5bee1e
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/20/787820/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py']",2,0e8ca172a1925d8b3a06d8eacf9ed0a347dc278e,787820," (OVS_DEFAULT, { 'services': ['openvswitch-switch'], 'contexts': [neutron_ovs_context.OVSPluginContext()], }),",,7,3
openstack%2Fnova~master~I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b,openstack/nova,master,I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b,zuul: Pin nova-grenade-multinode to tgtadm CINDER_ISCSI_HELPER,ABANDONED,2021-04-28 08:14:20.000000000,2021-04-28 08:48:21.000000000,,[],"[{'number': 1, 'created': '2021-04-28 08:14:20.000000000', 'files': ['playbooks/legacy/nova-grenade-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d73c8945ec3cfc30907559e221357c88f923da35', 'message': 'zuul: Pin nova-grenade-multinode to tgtadm CINDER_ISCSI_HELPER\n\nIf5c860d1e69aaef9a9236303c370479a7714ad43 recently landed and changed\nthe default in devstack. While the change did pin older Bionic jobs to\ntgtadm within their zuul configs it missed older\nnova-dsvm-multinode-base based jobs in Nova.\n\nThis is a temporary fix ahead of\nI02b2b851a74f24816d2f782a66d94de81ee527b0 removing the use of\nnova-dsvm-multinode-base entirely, moving the jobs to Focal.\n\nChange-Id: I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b\n'}]",0,788425,d73c8945ec3cfc30907559e221357c88f923da35,2,0,1,10135,,,0,"zuul: Pin nova-grenade-multinode to tgtadm CINDER_ISCSI_HELPER

If5c860d1e69aaef9a9236303c370479a7714ad43 recently landed and changed
the default in devstack. While the change did pin older Bionic jobs to
tgtadm within their zuul configs it missed older
nova-dsvm-multinode-base based jobs in Nova.

This is a temporary fix ahead of
I02b2b851a74f24816d2f782a66d94de81ee527b0 removing the use of
nova-dsvm-multinode-base entirely, moving the jobs to Focal.

Change-Id: I3e8ab2b2e6f9b5dbd6b892a9951f634fe248e23b
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/788425/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-grenade-multinode/run.yaml'],1,d73c8945ec3cfc30907559e221357c88f923da35,," export DEVSTACK_LOCAL_CONFIG+=$'\n'""CINDER_ISCSI_HELPER=tgtadm""",,1,0
openstack%2Fswift~master~I2b63811508f819971785af8f7720e35518f685d6,openstack/swift,master,I2b63811508f819971785af8f7720e35518f685d6,relinker: recon test fixups,ABANDONED,2021-04-27 12:42:51.000000000,2021-04-28 08:29:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 12:42:51.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6166bd13aad7dc7650e46cfd594f3f6db3377a71', 'message': 'relinker: recon test fixups\n\nAdd a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests by\nmocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I2b63811508f819971785af8f7720e35518f685d6\n'}]",0,788280,6166bd13aad7dc7650e46cfd594f3f6db3377a71,4,1,1,7847,,,0,"relinker: recon test fixups

Add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests by
mocking recon_cache_path, so that errors are not logged due
to dump_recon_cache exceptions.

Mock recon_cache_path more widely and assert no error logs more
widely.

Change-Id: I2b63811508f819971785af8f7720e35518f685d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/788280/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,6166bd13aad7dc7650e46cfd594f3f6db3377a71,relinker_extra_stats_ptg,"DEFAULT_RECON_CACHE_PATH = '/var/cache/swift' 'recon_cache_path': conf.get('recon_cache_path', DEFAULT_RECON_CACHE_PATH),"," 'recon_cache_path': conf.get('recon_cache_path', '/var/cache/swift'),",122,97
openstack%2Fswift~master~I49c893b2b02414dc76998348d2d4d78d9f443eac,openstack/swift,master,I49c893b2b02414dc76998348d2d4d78d9f443eac,relinker: recon dump fixups/suggestions,ABANDONED,2021-04-27 17:59:44.000000000,2021-04-28 08:29:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 17:59:44.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/af3849f65852779f25877573a1523c504456dacf', 'message': 'relinker: recon dump fixups/suggestions\n\nChange-Id: I49c893b2b02414dc76998348d2d4d78d9f443eac\n'}]",0,788337,af3849f65852779f25877573a1523c504456dacf,4,1,1,7847,,,0,"relinker: recon dump fixups/suggestions

Change-Id: I49c893b2b02414dc76998348d2d4d78d9f443eac
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/788337/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,af3849f65852779f25877573a1523c504456dacf,relinker_extra_stats_ptg," _aggregate_recon_stats(self.recon_data[dev], policy_data) self.logger.debug(""Updating recon for %s: %s"" % (device, recon_data)) pol_stats.update({'total_time': total_time, 'stats': self.stats}) stats = self.recon_data[dev]['policies'][policy.idx].setdefault( ""stats"", _zero_stats()) stats[stat] = stats.get(stat, 0) + value def _update_worker_stats(self, recon_dump=True, return_code=None): worker_stats = {'devices': self.device_list, 'timestamp': time.time(), 'return_code': return_code} worker_data = {""workers"": {str(self.pid): worker_stats}} self._update_worker_stats(return_code=EXIT_NO_APPLICABLE_POLICY) self._update_worker_stats(return_code=status)"," self.worker_stats = {} self.recon_data[dev].update( _aggregate_recon_stats(self.recon_data[dev], policy_data)) self.logger.debug(""Updating recon for %s: %s"" % ( device, recon_data)) self.recon_data[device]['policies'].setdefault( self.policy.idx, {}) self.recon_data[device]['policies'][self.policy.idx].update( {'total_time': total_time, 'stats': self.stats}) self.recon_data[dev]['policies'][policy.idx].setdefault(""stats"", {}) stats = self.recon_data[dev]['policies'][policy.idx]['stats'] if not stats: stats = _zero_stats() if stat in stats: stats[stat] += value else: stats[stat] = value self.recon_data[dev]['policies'][policy.idx]['stats'].update(stats) def _update_worker_stats(self, recon_dump=True): self.worker_stats['timestamp'] = time.time() worker_data = {""workers"": {str(self.pid): self.worker_stats}} self.worker_stats = _worker_stats() self.worker_stats['drives'] = self.device_list self.worker_stats['return_code'] = EXIT_NO_APPLICABLE_POLICY self._update_worker_stats() self.worker_stats['return_code'] = status self._update_worker_stats()",22,34
openstack%2Fneutron~master~I89f304f767b2ec645ac7bb216890b6ac470fd875,openstack/neutron,master,I89f304f767b2ec645ac7bb216890b6ac470fd875,Clean up the deprecated options for Xen API support,MERGED,2021-04-23 13:30:19.000000000,2021-04-28 08:28:03.000000000,2021-04-28 08:25:22.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 13:30:19.000000000', 'files': ['neutron/opts.py', 'neutron/conf/agent/xenapi_conf.py', 'releasenotes/notes/clean_up_xenapi_support-44694e3f9c29b8be.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25d1f9b9487557afca32c32677755046be8b51f0', 'message': 'Clean up the deprecated options for Xen API support\n\nThis change cleans up the configuration options for Xen API support,\nwhich was deprecated during the Wallaby cycle[1] and have been\nineffective.\n\n[1] a6dbf97242caa3be646e8eb6b1502b5e59e123fd\n\nChange-Id: I89f304f767b2ec645ac7bb216890b6ac470fd875\n'}]",0,787736,25d1f9b9487557afca32c32677755046be8b51f0,38,4,1,9816,,,0,"Clean up the deprecated options for Xen API support

This change cleans up the configuration options for Xen API support,
which was deprecated during the Wallaby cycle[1] and have been
ineffective.

[1] a6dbf97242caa3be646e8eb6b1502b5e59e123fd

Change-Id: I89f304f767b2ec645ac7bb216890b6ac470fd875
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/787736/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/conf/agent/xenapi_conf.py', 'releasenotes/notes/clean_up_xenapi_support-44694e3f9c29b8be.yaml']",3,25d1f9b9487557afca32c32677755046be8b51f0,remove-xen,"--- upgrade: - | The configuration options for XenAPI support has been removed, because these options were already ineffective. ",,5,55
openstack%2Fdesignate~master~I914875cfd6273c01c74194c8a6296ae74537d169,openstack/designate,master,I914875cfd6273c01c74194c8a6296ae74537d169,Add user doc for managing zones,MERGED,2021-04-14 05:19:56.000000000,2021-04-28 08:20:08.000000000,2021-04-28 08:18:38.000000000,"[{'_account_id': 6994}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-04-14 05:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/41114cf4fcd7375fd56bc11c1afd077deac6dc16', 'message': '[wip] Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n'}, {'number': 2, 'created': '2021-04-15 06:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0b6dfa0a3c3905a963e72d09d6a24c6d3d9e3a1f', 'message': '[wip] Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n'}, {'number': 3, 'created': '2021-04-16 06:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c0673928ddd2d0056ff466ca9e2b7f42546c61b1', 'message': ""Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nPool list is not currently implemented in the client CLI, once\nit's available a section can be added about selecting a pool.\n\nNameserver list is also not in the client CLI, once that is\navailable an additional command can be added showing how to get\nthe backend nameserver to query when verifying results.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n""}, {'number': 4, 'created': '2021-04-16 07:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e8cc2a715c2ec6d480a62c6b2f68f4d8d52afc44', 'message': ""Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nPool list is not currently implemented in the client CLI, once\nit's available a section can be added about selecting a pool.\n\nNameserver list is also not in the client CLI, once that is\navailable an additional command can be added showing how to get\nthe backend nameserver to query when verifying results.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n""}, {'number': 5, 'created': '2021-04-16 10:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8a02bb1b05653c34f2072d6f77896f4b9b33a938', 'message': ""Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nPool list is not currently implemented in the client CLI, once\nit's available a section can be added about selecting a pool.\n\nNameserver list is also not in the client CLI, once that is\navailable an additional command can be added showing how to get\nthe backend nameserver to query when verifying results.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n""}, {'number': 6, 'created': '2021-04-21 05:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/43b0845535a19976f12e3787aac7c6cc5445a076', 'message': ""Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nPool list is not currently implemented in the client CLI, once\nit's available a section can be added about selecting a pool.\n\nNameserver list is also not in the client CLI, once that is\navailable an additional command can be added showing how to get\nthe backend nameserver to query when verifying results.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n""}, {'number': 7, 'created': '2021-04-23 01:51:30.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/manage-zones.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/3bde7a843f70d9d00ea51126199c480b6061e9db', 'message': 'Add user doc for managing zones\n\nAdd some basic documentation for users covering how to create zones.\n\nNameserver list is not in the client CLI, once that is\navailable an additional command can be added showing how to get\nthe backend nameserver to query when verifying results.\n\nChange-Id: I914875cfd6273c01c74194c8a6296ae74537d169\n'}]",24,786161,3bde7a843f70d9d00ea51126199c480b6061e9db,26,4,7,6994,,,0,"Add user doc for managing zones

Add some basic documentation for users covering how to create zones.

Nameserver list is not in the client CLI, once that is
available an additional command can be added showing how to get
the backend nameserver to query when verifying results.

Change-Id: I914875cfd6273c01c74194c8a6296ae74537d169
",git fetch https://review.opendev.org/openstack/designate refs/changes/61/786161/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/manage-zones.rst']",2,41114cf4fcd7375fd56bc11c1afd077deac6dc16,user_doc,".. Copyright 2021 Red Hat Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ================ Managing Zones ================ In the Domain Name System, `zones` are used to break up the namespace into more easily managed pieces. For example, within the root zone `.` there are zones for each of the top level domains such as `.org.` and `.com.` and responsiblity for each of those zones could lie with a different organisation. Within those zones, there are then delegations to other zones, such as `example.org.` or `example.com.` which might again be managed by a different organisation and/or et of nameservers. This forms a hierarchy of responsibility, with the higher evels being mainly composed of delegations to lower levels. Zones in Designate ================== Zones in Designate model the concept from DNS itself. Two tenants cannot create the same zone, and tenants cannot create subzones that would lie within another tenant's zone. One difference within Designate is that the top level domains are managed separately from other zones, since they are generally shared amongst many tenants. The creation of a zone in Designate also creates two recordsets automatically: an SOA record and an NS record. Creating a zone --------------- Creating a zone requires only the name of the zone and an email address of the party responsible for the zone. .. code-block:: console $ openstack zone create --email dnsmaster@example.com example.com. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | {} | | created_at | 2016-07-13T14:54:16.000000 | | description | None | | email | dnsmaster@example.com | | id | 14093115-0f0f-497a-ac69-42235e46c26f | | masters | | | name | example.com. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 656bc359067844fba6005d400f19df76 | | serial | 1468421656 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ Note that the state is PENDING. Designate has received the request to create the zone, but may not have completed it yet. After a short time, verify successful creation of the DNS Zone: .. code-block:: console $ openstack zone list +--------------------------------------+--------------+---------+------------+--------+--------+ | id | name | type | serial | status | action | +--------------------------------------+--------------+---------+------------+--------+--------+ | 14093115-0f0f-497a-ac69-42235e46c26f | example.com. | PRIMARY | 1468421656 | ACTIVE | NONE | +--------------------------------------+--------------+---------+------------+--------+--------+ There will now be two recordsets visible in the zone: .. code-block:: console $ openstack recordset list example.com. +--------------------------------------+--------------+------+---------------------------------------------------------------------+--------+--------+ | id | name | type | records | status | action | +--------------------------------------+--------------+------+---------------------------------------------------------------------+--------+--------+ | 269cf8d2-c498-49a8-aef9-01e81d078313 | example.com. | SOA | ns1.devstack.org. admin.example.com. 1618291836 3509 600 86400 3600 | ACTIVE | NONE | | 31b50023-88b2-4011-b31b-474fa25a8e39 | example.com. | NS | ns1.devstack.org. | ACTIVE | NONE | +--------------------------------------+--------------+------+---------------------------------------------------------------------+--------+--------+ After creation, the SOA record cannot be updated. The values for refresh, retry, minimum and expire are set by the Designate operator. .. code-block:: console $ openstack recordset set --description ""new description"" example.com. 269cf8d2-c498-49a8-aef9-01e81d078313 Managed records may not be updated Selecting a pool ---------------- If the Designate service being used has multiple pools available, a pool can be selected by adding attributes to the zone. This allows the user to select between different nameservers that may be available. While the specifics will differ between individual clouds based on how many pool, to provide attributes when creating a zone, add ``--attributes={[key]:[value]}`` to the zone create command: .. code-block:: console $ openstack zone create --email test@test.org --attributes={service_tier:gold} test.org. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | {service_tier:gold} | | | | | created_at | 2021-04-14T05:03:58.000000 | | description | None | | email | test@test.org | | id | cddded38-1a53-4867-9414-c9c3e7ec280e | | masters | | | name | test.org. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 9d69e3a004aa40c581f00d7bb7763e0a | | serial | 1618376638 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ If the Designate service is configured using the default scheduler and filters, only pools that have the attribute ``service_tier`` set to ``gold`` can be selected for this zone. ",,140,0
openstack%2Fpython-tackerclient~master~Ib8adaa50ba199f7c6dc767158daa46c8600db547,openstack/python-tackerclient,master,Ib8adaa50ba199f7c6dc767158daa46c8600db547,Use py3 as the default runtime for tox,NEW,2021-04-20 07:18:42.000000000,2021-04-28 08:14:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-20 07:18:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/4ed8f66e463cbe0acda03e5257d7584b23d259d0', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Ib8adaa50ba199f7c6dc767158daa46c8600db547\n'}]",0,787126,4ed8f66e463cbe0acda03e5257d7584b23d259d0,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Ib8adaa50ba199f7c6dc767158daa46c8600db547
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/26/787126/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4ed8f66e463cbe0acda03e5257d7584b23d259d0,,"envlist = py3,pep8,docs","envlist = py38,py36,pep8,docs",1,1
openstack%2Ftacker~master~I20752f5403ba55d3b823ed85bc5e128cf6831bea,openstack/tacker,master,I20752f5403ba55d3b823ed85bc5e128cf6831bea,Use py3 as the default runtime for tox,NEW,2021-04-20 05:56:39.000000000,2021-04-28 08:13:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-20 05:56:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/fc63b95f303cd8ced828d0693e5607c47ee20b5c', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I20752f5403ba55d3b823ed85bc5e128cf6831bea\n'}]",0,787080,fc63b95f303cd8ced828d0693e5607c47ee20b5c,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I20752f5403ba55d3b823ed85bc5e128cf6831bea
",git fetch https://review.opendev.org/openstack/tacker refs/changes/80/787080/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc63b95f303cd8ced828d0693e5607c47ee20b5c,,"envlist = py3,pep8,docs","envlist = py39,py38,py36,pep8,docs",1,1
openstack%2Ftacker-horizon~master~I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4,openstack/tacker-horizon,master,I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4,Use py3 as the default runtime for tox,NEW,2021-04-20 05:54:14.000000000,2021-04-28 08:11:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-20 05:54:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/a489fc3e4de8c99792046dba3502da960bd780b0', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4\n'}]",0,787079,a489fc3e4de8c99792046dba3502da960bd780b0,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I9bd2bb6f537b89c63380b984ff2aa71b731f0ff4
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/79/787079/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a489fc3e4de8c99792046dba3502da960bd780b0,,"envlist = py3,pep8,docs","envlist = py38,pep8,docs",1,1
openstack%2Ftacker~master~Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4,openstack/tacker,master,Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:41:39.000000000,2021-04-28 07:57:10.000000000,2021-04-28 07:54:53.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-04-27 08:41:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker/commit/915afe3d379c44784ce497741ffe30f5f689cd96', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4\n""}]",0,788208,915afe3d379c44784ce497741ffe30f5f689cd96,8,5,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iffafed2f86ee857cdcb2bf8e5baf7e7054aa7ed4
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/788208/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,915afe3d379c44784ce497741ffe30f5f689cd96,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tacker/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tacker/ python-requires = >=3.6,4,4
openstack%2Fironic-python-agent~master~I806b5f4b74c087a16d194d36665b1115f6d34184,openstack/ironic-python-agent,master,I806b5f4b74c087a16d194d36665b1115f6d34184,[trivial] Add versions to wallaby release notes,MERGED,2021-04-23 08:32:29.000000000,2021-04-28 07:54:12.000000000,2021-04-28 07:52:42.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 08:32:29.000000000', 'files': ['releasenotes/source/wallaby.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2057d861a6a7ccc3076f41ef3a6a2b05cc51d694', 'message': '[trivial] Add versions to wallaby release notes\n\nChange-Id: I806b5f4b74c087a16d194d36665b1115f6d34184\n'}]",0,787688,2057d861a6a7ccc3076f41ef3a6a2b05cc51d694,9,3,1,23851,,,0,"[trivial] Add versions to wallaby release notes

Change-Id: I806b5f4b74c087a16d194d36665b1115f6d34184
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/787688/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,2057d861a6a7ccc3076f41ef3a6a2b05cc51d694,add-versions-reno,============================================ Wallaby Series (6.5.0 - 7.0.x) Release Notes ============================================,============================ Wallaby Series Release Notes ============================,3,3
openstack%2Fpython-designateclient~master~I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf,openstack/python-designateclient,master,I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf,Remove six and update lower-constraints appdirs,MERGED,2021-03-25 23:49:04.000000000,2021-04-28 07:48:09.000000000,2021-04-28 07:46:46.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-03-25 23:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/5fec61489be8adf8d010e08db81199dedb562515', 'message': 'Remove six and update lower-constraints appdirs\n\nThis patch removes the use of ""six"" as the package declares only\npython3 support.\nIt also updates the appdirs lower-constraint to 1.4.0 to support\npip. This version is available on both centos8 and focal.\n\nChange-Id: I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf\n'}, {'number': 2, 'created': '2021-03-26 18:22:50.000000000', 'files': ['designateclient/v2/recordsets.py', 'designateclient/tests/base.py', 'designateclient/v2/cli/tlds.py', 'designateclient/v2/cli/reverse.py', 'designateclient/v2/cli/zones.py', 'designateclient/functionaltests/models.py', 'designateclient/v2/cli/quotas.py', 'designateclient/client.py', 'lower-constraints.txt', 'designateclient/utils.py', 'requirements.txt', 'designateclient/v2/cli/recordsets.py', 'designateclient/v2/cli/service_statuses.py', 'designateclient/v2/cli/tsigkeys.py', 'designateclient/v2/cli/common.py', 'designateclient/v2/utils.py', 'designateclient/v2/cli/blacklists.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/820f1e9af9317b91f3ee11a9ca22ea340119a125', 'message': 'Remove six and update lower-constraints appdirs\n\nThis patch removes the use of ""six"" as the package declares only\npython3 support.\nIt also updates the appdirs lower-constraint to 1.4.0 to support\npip. This version is available on both centos8 and focal.\nIt also removes the linter related packages from lower-constraints.\n\nChange-Id: I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf\n'}]",0,783122,820f1e9af9317b91f3ee11a9ca22ea340119a125,18,5,2,11628,,,0,"Remove six and update lower-constraints appdirs

This patch removes the use of ""six"" as the package declares only
python3 support.
It also updates the appdirs lower-constraint to 1.4.0 to support
pip. This version is available on both centos8 and focal.
It also removes the linter related packages from lower-constraints.

Change-Id: I9337f1998749bc40737f2f0e2dcc406b6f3a0ddf
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/22/783122/2 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/v2/recordsets.py', 'designateclient/tests/base.py', 'designateclient/v2/cli/tlds.py', 'designateclient/v2/cli/reverse.py', 'designateclient/v2/cli/zones.py', 'designateclient/functionaltests/models.py', 'designateclient/v2/cli/quotas.py', 'designateclient/client.py', 'lower-constraints.txt', 'designateclient/utils.py', 'requirements.txt', 'designateclient/v2/cli/recordsets.py', 'designateclient/v2/cli/service_statuses.py', 'designateclient/v2/cli/tsigkeys.py', 'designateclient/v2/cli/common.py', 'designateclient/v2/utils.py', 'designateclient/v2/cli/blacklists.py']",17,5fec61489be8adf8d010e08db81199dedb562515,, return zip(*sorted(data.items())) return zip(*sorted(data.items())) return zip(*sorted(updated.items())),import six return six.moves.zip(*sorted(six.iteritems(data))) return six.moves.zip(*sorted(six.iteritems(data))) return six.moves.zip(*sorted(six.iteritems(updated))),46,67
openstack%2Ftripleo-validations~master~I11126e44fa5ae4859510e26e7d89ebb9038c0732,openstack/tripleo-validations,master,I11126e44fa5ae4859510e26e7d89ebb9038c0732,TEST DNM,ABANDONED,2021-03-23 09:19:32.000000000,2021-04-28 07:16:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-23 09:19:32.000000000', 'files': ['roles/tripleo_validations/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5140c5925086c8f568a23249273670e694a65249', 'message': 'TEST DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11126e44fa5ae4859510e26e7d89ebb9038c0732\n'}]",0,782381,5140c5925086c8f568a23249273670e694a65249,3,1,1,32926,,,0,"TEST DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I11126e44fa5ae4859510e26e7d89ebb9038c0732
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/782381/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_validations/vars/main.yml'],1,5140c5925086c8f568a23249273670e694a65249,legacy/test, - node-disk - switch-vlans - undercloud-service-status,,3,0
openstack%2Fvalidations-libs~master~I71dfe309c178774874ebe3d0d4b0ba12246d3a8c,openstack/validations-libs,master,I71dfe309c178774874ebe3d0d4b0ba12246d3a8c,DNM TEST,ABANDONED,2021-04-23 11:38:16.000000000,2021-04-28 07:16:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 11:38:16.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c96cb4e503336116c076690d2a0178fbe80bc64a', 'message': 'DNM TEST\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I71dfe309c178774874ebe3d0d4b0ba12246d3a8c\n'}]",0,787713,c96cb4e503336116c076690d2a0178fbe80bc64a,4,1,1,32926,,,0,"DNM TEST

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I71dfe309c178774874ebe3d0d4b0ba12246d3a8c
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/13/787713/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,c96cb4e503336116c076690d2a0178fbe80bc64a,testdnm,,,0,0
openstack%2Fvalidations-libs~master~I9e481cb76e7fed453249a26b0e8eaaadc43f8636,openstack/validations-libs,master,I9e481cb76e7fed453249a26b0e8eaaadc43f8636,DNM,ABANDONED,2021-04-27 07:29:25.000000000,2021-04-28 07:16:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 07:29:25.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/06b19c88604337debf56a1ac78a3e0d9e307b7c4', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9e481cb76e7fed453249a26b0e8eaaadc43f8636\n'}]",0,788188,06b19c88604337debf56a1ac78a3e0d9e307b7c4,3,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9e481cb76e7fed453249a26b0e8eaaadc43f8636
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/88/788188/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,06b19c88604337debf56a1ac78a3e0d9e307b7c4,zuultestb,"envlist = linters,docs,py","envlist = linters,docs,py38",2,1
openstack%2Fvalidations-libs~master~I69307b2af2492a5bd826c5c9c6b10b2acad00d38,openstack/validations-libs,master,I69307b2af2492a5bd826c5c9c6b10b2acad00d38,DNM,ABANDONED,2021-04-27 07:18:07.000000000,2021-04-28 07:15:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 07:18:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6d47fb7f5a290d34d05b5c485b544e23125457cf', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I69307b2af2492a5bd826c5c9c6b10b2acad00d38\n'}]",0,788185,6d47fb7f5a290d34d05b5c485b544e23125457cf,4,1,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I69307b2af2492a5bd826c5c9c6b10b2acad00d38
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/85/788185/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6d47fb7f5a290d34d05b5c485b544e23125457cf,zuultest,"envlist = linters,docs,py","envlist = linters,docs,py38",1,1
openstack%2Fdevstack~stable%2Fussuri~Ia2c477c91c431d546b97ed8da1ad514d40f72eb6,openstack/devstack,stable/ussuri,Ia2c477c91c431d546b97ed8da1ad514d40f72eb6,[DNM] Test CentOS,ABANDONED,2021-04-27 07:50:14.000000000,2021-04-28 07:13:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 07:50:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/61e30905023ee9406786a9777bc61d65caaf5e58', 'message': '[DNM] Test CentOS\n\nChange-Id: Ia2c477c91c431d546b97ed8da1ad514d40f72eb6\n'}]",0,788196,61e30905023ee9406786a9777bc61d65caaf5e58,4,1,1,30491,,,0,"[DNM] Test CentOS

Change-Id: Ia2c477c91c431d546b97ed8da1ad514d40f72eb6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/788196/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,61e30905023ee9406786a9777bc61d65caaf5e58,dnm-test-centos, voting: true, voting: false templates: - integrated-gate-py3 - publish-openstack-docs-pti - devstack - devstack-ipv6 - devstack-platform-opensuse-15 - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - swift-dsvm-functional: voting: false irrelevant-files: &dsvm-irrelevant-files - ^.*\.rst$ - ^doc/.*$ - swift-dsvm-functional-py3: voting: false irrelevant-files: *dsvm-irrelevant-files - grenade: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-grenade-multinode: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ # NOTE(gmann): Remove this job from devstack pipeline once it is # migrated to zuulv3 native. This is legacy job and rely on # devstack-gate + devstack setting so any change in devstack can # break it. - nova-live-migration: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$,1,56
openstack%2Fneutron~stable%2Fqueens~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/queens,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:26:16.000000000,2021-04-28 06:11:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 14:26:16.000000000', 'files': ['neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96ba92f18fac0a41bb79e2d6238ecee11ecff0de', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)\n(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)\n(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)\n""}]",2,785655,96ba92f18fac0a41bb79e2d6238ecee11ecff0de,7,1,1,11975,,,0,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/785655/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/driver.py'],1,96ba92f18fac0a41bb79e2d6238ecee11ecff0de,bug/1920778-stable/queens,"from neutron.common import coordination apply_metadata_nat_rules(router, proxy) @coordination.synchronized('router-lock-ns-{router.ns_name}') def apply_metadata_nat_rules(router, proxy): for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply()"," for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply() ",12,7
openstack%2Fneutron~stable%2Frocky~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/rocky,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:22:22.000000000,2021-04-28 06:11:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 14:22:22.000000000', 'files': ['neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f111a4a70fc694917d613c3a42791ad2148f425', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)\n(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)\n(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)\n""}]",2,785654,3f111a4a70fc694917d613c3a42791ad2148f425,7,1,1,11975,,,0,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/785654/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/driver.py'],1,3f111a4a70fc694917d613c3a42791ad2148f425,bug/1920778-stable/rocky,"from neutron.common import coordination apply_metadata_nat_rules(router, proxy) @coordination.synchronized('router-lock-ns-{router.ns_name}') def apply_metadata_nat_rules(router, proxy): for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply()"," for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply() ",12,7
openstack%2Fneutron~stable%2Fstein~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,stable/stein,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,ABANDONED,2021-04-09 14:18:38.000000000,2021-04-28 06:11:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 14:18:38.000000000', 'files': ['neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44e0408fe4ae5847d1c8c68b3811b7d10856d996', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)\n(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)\n(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)\n""}]",3,785653,44e0408fe4ae5847d1c8c68b3811b7d10856d996,6,1,1,11975,,,0,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Conflicts:
    neutron/agent/metadata/driver.py

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
(cherry picked from commit af3c1b84427cbe4c9d3dce8fc901ad0b099c5917)
(cherry picked from commit c028839647d6900997cf38b5eec63b7698515dec)
(cherry picked from commit 7af0b713ff21e27889f7b322b736cab4b0dadaf9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/785653/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/driver.py'],1,44e0408fe4ae5847d1c8c68b3811b7d10856d996,bug/1920778-stable/stein,"from neutron.common import coordination apply_metadata_nat_rules(router, proxy) @coordination.synchronized('router-lock-ns-{router.ns_name}') def apply_metadata_nat_rules(router, proxy): for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply()"," for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) router.iptables_manager.apply() ",12,7
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/victoria,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:42:32.000000000,2021-04-28 05:39:48.000000000,2021-04-28 05:39:48.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:42:32.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8485c9dbc002ec22568a88a5d320db099b05b1b', 'message': ""Moving nova-consoleauth to step4\n\nSince this is part of the post_upgrade_tasks and post_upgrade_tasks is\nmaxed to 4 steps, we need to move this from step5 to step4 otherwise\nit's not being executed.\n\nAlso applying Alex's recommendation of using OS_CLOUD instead of havng\nall the credentials here.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1825849\nChange-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b\n(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)\n""}]",0,787980,f8485c9dbc002ec22568a88a5d320db099b05b1b,18,9,1,27419,,,0,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/787980/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,f8485c9dbc002ec22568a88a5d320db099b05b1b,, RootStackName: description: The name of the stack/plan. type: string - step|int == 4 OS_CLOUD: {get_param: RootStackName}," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true - step|int == 5 OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password",5,14
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia898a08f96f10e7f9817108bf7161478fa3d354c,openstack/tripleo-upgrade,stable/train,Ia898a08f96f10e7f9817108bf7161478fa3d354c,Add validations to updates.,MERGED,2021-04-12 11:03:26.000000000,2021-04-28 03:20:52.000000000,2021-04-28 03:20:52.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-04-12 11:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/818b7778c248abaaaf4b3913866015932599c136', 'message': '[DNM] Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nBackport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nCo-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit 11745df80c16ff30fbad5bab3ca46cff07fd9705)\n'}, {'number': 2, 'created': '2021-04-22 17:15:32.000000000', 'files': ['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/15a78551bcdbd01c015444c1e445dd40a3b0fbac', 'message': 'Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nBackport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nCo-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit 11745df80c16ff30fbad5bab3ca46cff07fd9705)\n'}]",0,785852,15a78551bcdbd01c015444c1e445dd40a3b0fbac,13,6,2,31245,,,0,"Add validations to updates.

Add a new variable updates_validations (default false) to run the
validations for update.

Add new command line options to run the validations for update.

Backport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Co-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c
(cherry picked from commit 11745df80c16ff30fbad5bab3ca46cff07fd9705)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/52/785852/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,818b7778c248abaaaf4b3913866015932599c136,,# enable update validation updates_validations: false ,,78,2
openstack%2Fpython-cinderclient~master~I55dcc9221303e52c20c534bc80d20a73f11f1b15,openstack/python-cinderclient,master,I55dcc9221303e52c20c534bc80d20a73f11f1b15,setup.cfg: Replace dashes with underscores,ABANDONED,2021-04-27 08:59:06.000000000,2021-04-28 03:15:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 08:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bf5e94579a9d7514e87a4c196c0720384108ba8c', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I55dcc9221303e52c20c534bc80d20a73f11f1b15\n'}, {'number': 2, 'created': '2021-04-28 00:44:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9ff995ed8733373fd8848e13557d777ec414a93a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I55dcc9221303e52c20c534bc80d20a73f11f1b15\n""}]",0,788220,9ff995ed8733373fd8848e13557d777ec414a93a,6,1,2,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I55dcc9221303e52c20c534bc80d20a73f11f1b15
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/20/788220/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bf5e94579a9d7514e87a4c196c0720384108ba8c,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-cinderclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-cinderclient/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-ansible~master~I0e45cbed37f2b92dcd1c435f86cf041d03ed2251,openstack/tripleo-ansible,master,I0e45cbed37f2b92dcd1c435f86cf041d03ed2251,Use ephemeral Heat client if set,MERGED,2021-04-20 15:47:03.000000000,2021-04-28 01:25:03.000000000,2021-04-28 01:22:14.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-20 15:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81d7fd529725747dc5344f9a7352605d976d8d8e', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-04-21 02:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f79947e2ff797b03614730bff857a7c2fed0613', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-04-22 12:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22e3060c712a43972890f695964975ea8eee9048', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-04-23 12:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ba730d338d2e9f78dc3210af492c7eaf6d3a93e', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nDepends-On: I3657169a3b519869f7f3594c8c6a6072a058e0c8\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-04-23 20:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c461591acf6c7fcbfe868369a6b16c62b4bec65d', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nDepends-On: I3657169a3b519869f7f3594c8c6a6072a058e0c8\nDepends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2021-04-24 18:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58525365df2dbd39f1136a3dd1a8d4cbc50fd05f', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nDepends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2021-04-26 16:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a74695f550d61e1923897aab848f814a2c66304', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nDepends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 8, 'created': '2021-04-26 16:42:02.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac1f25550723c95b81628d6fac85e5fecc8acfb5', 'message': 'Use ephemeral Heat client if set\n\nIn the cases where custom ansible plugins talk to the Heat API, we need\nto use the ephemeral Heat client if it has been defined. This will\nensure Heat is appropriately configured to talk to the right API.\nOtherwise, configure a Heat client in the normal fashion.\n\nDepends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b\nChange-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",2,787225,ac1f25550723c95b81628d6fac85e5fecc8acfb5,33,6,8,7144,,,0,"Use ephemeral Heat client if set

In the cases where custom ansible plugins talk to the Heat API, we need
to use the ephemeral Heat client if it has been defined. This will
ensure Heat is appropriately configured to talk to the right API.
Otherwise, configure a Heat client in the normal fashion.

Depends-On: I2c3e9088bf92146b07d46288c2264368e15aa63b
Change-Id: I0e45cbed37f2b92dcd1c435f86cf041d03ed2251
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/787225/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_ansible/ansible_plugins/module_utils/tripleo_common_utils.py']",2,81d7fd529725747dc5344f9a7352605d976d8d8e,ephemeral-heat,from tripleoclient import utils if utils.heatclient: self.client_cache['heatclient'] = \ utils.heatclient else: self.client_cache['heatclient'] = \ heatclient.Client(session=self.sess), self.client_cache['heatclient'] = \ heatclient.Client(session=self.sess),8,2
openstack%2Fpython-tripleoclient~master~Id5415a94f71cbed5fad9856fd68e109979ffd491,openstack/python-tripleoclient,master,Id5415a94f71cbed5fad9856fd68e109979ffd491,Don't allow Redis/OvnDBs VIP in resource_registry,MERGED,2021-03-08 22:09:59.000000000,2021-04-28 01:25:01.000000000,2021-04-28 01:20:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-08 22:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60be024cdbfcc90141d6b5a8b6dc30f62d28010b', 'message': ""Don't allow Redis/OvnDBs VIP in resource_registry\n\nIn the depends-on change the Redis and OvnDBs VIP is\nrefactored to the respective service templates.\n\nThis adds a validation to raise a ConfigurationError\nin case the resource registry contains the deprecated\nresoirce definitions:\n  OS::TripleO::Network::Ports::RedisVipPort\n  OS::TripleO::Network::Ports::OVNDBsVipPort\n\nDepends-On: https://review.opendev.org/777259\nChange-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491\n""}, {'number': 2, 'created': '2021-03-31 18:55:19.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32bf3beda6ddb0093fedd4d03fcbff0d098ab6a2', 'message': ""Don't allow Redis/OvnDBs VIP in resource_registry\n\nIn the depends-on change the Redis and OvnDBs VIP is\nrefactored to the respective service templates.\n\nThis adds a validation to raise a ConfigurationError\nin case the resource registry contains the deprecated\nresoirce definitions:\n  OS::TripleO::Network::Ports::RedisVipPort\n  OS::TripleO::Network::Ports::OVNDBsVipPort\n\nDepends-On: https://review.opendev.org/777259\nChange-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491\n""}]",2,779377,32bf3beda6ddb0093fedd4d03fcbff0d098ab6a2,33,7,2,24245,,,0,"Don't allow Redis/OvnDBs VIP in resource_registry

In the depends-on change the Redis and OvnDBs VIP is
refactored to the respective service templates.

This adds a validation to raise a ConfigurationError
in case the resource registry contains the deprecated
resoirce definitions:
  OS::TripleO::Network::Ports::RedisVipPort
  OS::TripleO::Network::Ports::OVNDBsVipPort

Depends-On: https://review.opendev.org/777259
Change-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/779377/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,60be024cdbfcc90141d6b5a8b6dc30f62d28010b,network-data-v2," # check migration to service vips managed by servce utils.check_service_vips_migrated_to_service(stack, env)",,62,6
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/victoria,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:33:52.000000000,2021-04-28 01:24:56.000000000,2021-04-28 01:22:00.000000000,"[{'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n""}, {'number': 2, 'created': '2021-04-26 14:39:21.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ba1d84a4b8bbe9230bd6bf157a9f561925d0719', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787247\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n""}]",0,787977,6ba1d84a4b8bbe9230bd6bf157a9f561925d0719,16,8,2,27419,,,0,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787247
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/787977/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml']",2,d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0,nova_qemu_client_tls_verify,--- features: - | `QemuDefaultTLSVerify` will allow operators to enable or disable TLS client certificate verification. Enabling this option will reject any client who does not have a certificate signed by the CA in /etc/pki/qemu/ca-cert.pem. The default is true and matches libvirt's. We will want to disable this by default in train. ,,19,0
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/victoria,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:17:15.000000000,2021-04-28 01:22:37.000000000,2021-04-28 01:22:37.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8ed97b436ea5dad7d6377748a29d6742ce94e85c', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 2, 'created': '2021-04-26 13:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c4963f8fd9575f8f3414ac7de0dafa87155f7645', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 3, 'created': '2021-04-26 14:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/43cc034d38a78ab1790539500fc7822fb844e8d1', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 4, 'created': '2021-04-26 14:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/66047a9281fd70d8142032c4592bc74354a164b7', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 5, 'created': '2021-04-26 16:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/251b1880aa077c62bdd4189e68e1256fe066d245', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 6, 'created': '2021-04-27 17:34:00.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/375b4e87775b6b274cb9cc79e036e8bf6acda274', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}]",0,787615,375b4e87775b6b274cb9cc79e036e8bf6acda274,39,7,6,9592,,,0,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/15/787615/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,8ed97b436ea5dad7d6377748a29d6742ce94e85c,ens3-1,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3*,if [ -f /etc/sysconfig/network-scripts/ifcfg-ens3 ]; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3,2,2
openstack%2Ftripleo-ansible~master~I9853497e34e203b6ae72ceaa944aa122f9c5d161,openstack/tripleo-ansible,master,I9853497e34e203b6ae72ceaa944aa122f9c5d161,Fix ovs_dpdk molecule job to work with stream node,MERGED,2021-04-26 15:40:39.000000000,2021-04-28 01:21:39.000000000,2021-04-28 01:21:39.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 15:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/988d35dcf696c5eb5b18185af313142adfc22549', 'message': 'Fix ovs_dpdk molecule job to work with stream node\n\nChange-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161\n'}, {'number': 2, 'created': '2021-04-27 00:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53eb7090ace578992b7d0bc17c6e6d1a5ca1d386', 'message': 'Fix ovs_dpdk molecule job to work with stream node\n\nChange-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161\n'}, {'number': 3, 'created': '2021-04-27 09:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/145e7ab3b02ae82f5b539a5da5f11fbe51cbaefe', 'message': 'Fix ovs_dpdk molecule job to work with stream node\n\nChange-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161\n'}, {'number': 4, 'created': '2021-04-27 10:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0e547344253e2f6b6db194bc364cd42b463c62d', 'message': 'Fix ovs_dpdk molecule job to work with stream node\n\nReplace centos images by ubi8.\nChange-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161\n'}, {'number': 5, 'created': '2021-04-27 12:29:12.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78c2b8313cefc13190e7219bdc10319ae89a174d', 'message': 'Fix ovs_dpdk molecule job to work with stream node\n\nRemove centos7 image. Use stream image for CentOS 8.\nChange-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161\n'}]",0,788035,78c2b8313cefc13190e7219bdc10319ae89a174d,15,3,5,10969,,,0,"Fix ovs_dpdk molecule job to work with stream node

Remove centos7 image. Use stream image for CentOS 8.
Change-Id: I9853497e34e203b6ae72ceaa944aa122f9c5d161
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/788035/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml']",3,988d35dcf696c5eb5b18185af313142adfc22549,newovs,, easy_install: - pip,0,5
openstack%2Ftripleo-heat-templates~master~Ib8d3f62d233ce5a42e9923547c08add6e5859cfb,openstack/tripleo-heat-templates,master,Ib8d3f62d233ce5a42e9923547c08add6e5859cfb,Disable global_id reclaim for Ceph mons in scenario001,MERGED,2021-04-23 09:21:06.000000000,2021-04-28 01:21:21.000000000,2021-04-28 01:21:21.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 09:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/251021f9e4c84b9f291e911c2831b3e93b729453', 'message': ""Disable global_id reclaim for Ceph mons in scenario001\n\nAs per [1], patched monitors raise the AUTH_INSECURE_GLOBAL_ID_RECLAIM_ALLOWED\nhealth alert if auth_allow_insecure_global_id_reclaim is enabled.\nThis is ok for general deployments, but it's not required in CI deployments.\nAdding this option to the mon section using the CephConfigOverrides\napproach ensures the cluster stay in health_ok.\n\n[1] https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ib8d3f62d233ce5a42e9923547c08add6e5859cfb\n""}, {'number': 2, 'created': '2021-04-27 11:19:23.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73c1d300df0bf66ab5ce1573da65acc89b6de64e', 'message': ""Disable global_id reclaim for Ceph mons in scenario001\n\nAs per [1], patched monitors raise the AUTH_INSECURE_GLOBAL_ID_RECLAIM_ALLOWED\nhealth alert if auth_allow_insecure_global_id_reclaim is enabled.\nThis is ok for general deployments, but it's not required in CI deployments.\nAdding this option to the mon section using the CephConfigOverrides\napproach ensures the cluster stay in health_ok.\n\n[1] https://docs.ceph.com/en/latest/security/CVE-2021-20288/\n\nChange-Id: Ib8d3f62d233ce5a42e9923547c08add6e5859cfb\n""}]",0,787694,73c1d300df0bf66ab5ce1573da65acc89b6de64e,18,5,2,25402,,,0,"Disable global_id reclaim for Ceph mons in scenario001

As per [1], patched monitors raise the AUTH_INSECURE_GLOBAL_ID_RECLAIM_ALLOWED
health alert if auth_allow_insecure_global_id_reclaim is enabled.
This is ok for general deployments, but it's not required in CI deployments.
Adding this option to the mon section using the CephConfigOverrides
approach ensures the cluster stay in health_ok.

[1] https://docs.ceph.com/en/latest/security/CVE-2021-20288/

Change-Id: Ib8d3f62d233ce5a42e9923547c08add6e5859cfb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/787694/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,251021f9e4c84b9f291e911c2831b3e93b729453,, mon_warn_on_insecure_global_id_reclaim_allowed: false,,1,0
openstack%2Ftripleo-ansible~master~Id42f15d4e28966d0a0702f3f4566d33f9d129154,openstack/tripleo-ansible,master,Id42f15d4e28966d0a0702f3f4566d33f9d129154,Use openstack ansible collection instead of os_ modules,MERGED,2021-04-01 12:44:53.000000000,2021-04-28 01:20:55.000000000,2021-04-28 01:20:55.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/977b33852176058dc3a6e5346cbb60aec264139c', 'message': 'WIP use openstack ansible collection instead of os_ modules\n\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}, {'number': 2, 'created': '2021-04-06 14:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4df51bbe1ccb4f9dcf54073a1a70f5894007162f', 'message': 'WIP use openstack ansible collection instead of os_ modules\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/784966\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}, {'number': 3, 'created': '2021-04-07 12:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85e71b4f839f669b86aa17a72d191474f6f584a6', 'message': 'WIP use openstack ansible collection instead of os_ modules\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/784966\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}, {'number': 4, 'created': '2021-04-19 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1db1b634d500ba07d67f56f0d4057f3286add11d', 'message': 'Use openstack ansible collection instead of os_ modules\n\nReplace all usages of os_ modules by openstack.cloud modules.\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}, {'number': 5, 'created': '2021-04-21 11:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa2a798789ffefc2ccb0f2ddff6c73af294e19bc', 'message': 'Use openstack ansible collection instead of os_ modules\n\nReplace all usages of os_ modules by openstack.cloud modules.\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}, {'number': 6, 'created': '2021-04-26 09:58:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_roles.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_old.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c800bcb3b2fe4ca6dc8f06d5f0bb95c65eec35bc', 'message': 'Use openstack ansible collection instead of os_ modules\n\nReplace all usages of os_ modules by openstack.cloud modules.\nChange-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154\n'}]",8,784391,c800bcb3b2fe4ca6dc8f06d5f0bb95c65eec35bc,44,6,6,10969,,,0,"Use openstack ansible collection instead of os_ modules

Replace all usages of os_ modules by openstack.cloud modules.
Change-Id: Id42f15d4e28966d0a0702f3f4566d33f9d129154
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/784391/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone_resources/tasks/roles.yml', 'tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/projects.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_new.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/gather_domains_old.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/domains.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml']",13,977b33852176058dc3a6e5346cbb60aec264139c,coll, openstack.cloud.catalog_service:, os_keystone_service:,23,22
openstack%2Ftripleo-heat-templates~master~I2b212bec170cc93c40f81050d11f696275d8b1ea,openstack/tripleo-heat-templates,master,I2b212bec170cc93c40f81050d11f696275d8b1ea,Fix jinja2 for VipSubnetMapDefaults redis and ovs_dbs,MERGED,2021-02-19 10:37:28.000000000,2021-04-28 01:20:35.000000000,2021-04-28 01:20:35.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 10:37:28.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b842a58e2bedf9a6b2479bf62aae23345a03561c', 'message': 'Fix jinja2 for VipSubnetMapDefaults redis and ovs_dbs\n\nThe current jinja2 code results in the same value no matter\nwhat is in _service_nets so it really has no effect. We can\njust as well hard-code the values, which is what this change\ndoes.\n\nChange-Id: I2b212bec170cc93c40f81050d11f696275d8b1ea\n'}]",0,776598,b842a58e2bedf9a6b2479bf62aae23345a03561c,17,4,1,24245,,,0,"Fix jinja2 for VipSubnetMapDefaults redis and ovs_dbs

The current jinja2 code results in the same value no matter
what is in _service_nets so it really has no effect. We can
just as well hard-code the values, which is what this change
does.

Change-Id: I2b212bec170cc93c40f81050d11f696275d8b1ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/776598/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,b842a58e2bedf9a6b2479bf62aae23345a03561c,redis-ovsdbs-vip-subnet-map-defaults, redis: internal_api_subnet ovn_dbs: internal_api_subnet," # FIXME(hjensas): This will return the same value no matter what ... redis: {{ _service_nets.get('internal_api', 'internal_api') }}_subnet ovn_dbs: {{ _service_nets.get('internal_api', 'internal_api') }}_subnet",2,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,stable/ussuri,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-27 08:07:54.000000000,2021-04-28 01:20:19.000000000,2021-04-28 01:20:19.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 08:07:54.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4abeffe64c1b4009bfea81d03241e8395d2e8ea2', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 1777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nThis patch also ensures we reset the label on /var/tmp during update and\nupgrade.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)\n'}]",0,788152,4abeffe64c1b4009bfea81d03241e8395d2e8ea2,9,7,1,28223,,,0,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/788152/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,4abeffe64c1b4009bfea81d03241e8395d2e8ea2,horizon-tmp-glance-stable/ussuri," - /var/tmp/horizon:/var/tmp/:z - { 'path': /var/tmp/horizon, 'setype': container_file_t, 'mode': '1777' } - name: ensure /var/tmp/horizon exists on boot copy: dest: /etc/tmpfiles.d/var-tmp-horizon.conf content: | d /var/tmp/horizon 1777 root root - - upgrade_tasks: - name: Anchor for upgrade and update tasks when: step|int == 0 block: &tmp_reset_label - name: Reset selinux label on /var/tmp file: path: /var/tmp state: directory setype: tmp_t mode: 1777 update_tasks: - name: Anchor for upgrade and update tasks when: step|int == 0 block: *tmp_reset_label", - /var/tmp/:/var/tmp/:z upgrade_tasks: [],21,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,stable/victoria,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-27 08:07:34.000000000,2021-04-28 01:20:11.000000000,2021-04-28 01:20:11.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-27 08:07:34.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c71b72b296b7de7b1371425be466e78901cc7e90', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 1777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nThis patch also ensures we reset the label on /var/tmp during update and\nupgrade.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)\n'}]",0,788151,c71b72b296b7de7b1371425be466e78901cc7e90,10,7,1,28223,,,0,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
(cherry picked from commit bafd6aba099678846083989ce5fbdd0d09654db5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/788151/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,c71b72b296b7de7b1371425be466e78901cc7e90,horizon-tmp-glance-stable/victoria," - /var/tmp/horizon:/var/tmp/:z - { 'path': /var/tmp/horizon, 'setype': container_file_t, 'mode': '1777' } - name: ensure /var/tmp/horizon exists on boot copy: dest: /etc/tmpfiles.d/var-tmp-horizon.conf content: | d /var/tmp/horizon 1777 root root - - upgrade_tasks: - name: Anchor for upgrade and update tasks when: step|int == 0 block: &tmp_reset_label - name: Reset selinux label on /var/tmp file: path: /var/tmp state: directory setype: tmp_t mode: 1777 update_tasks: - name: Anchor for upgrade and update tasks when: step|int == 0 block: *tmp_reset_label", - /var/tmp/:/var/tmp/:z upgrade_tasks: [],21,2
openstack%2Fopenstack-helm~master~I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa,openstack/openstack-helm,master,I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa,Remove support for openstack releases older than T,ABANDONED,2021-04-23 19:14:36.000000000,2021-04-28 01:07:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 19:14:36.000000000', 'files': ['releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9be0c0f2946829f04bce1261fcec7f614bc3bd1c', 'message': 'Remove support for openstack releases older than T\n\nThis change bumps each chart version up to the next greatest minor\nversion, signifying that openstack-helm will no longer support\nolder, EOL releases for each chart.\n\nAs a result, each chart will no longer support releases before T\nas of the versions specified here.\n\nChange-Id: I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa\n'}]",0,787816,9be0c0f2946829f04bce1261fcec7f614bc3bd1c,3,1,1,21420,,,0,"Remove support for openstack releases older than T

This change bumps each chart version up to the next greatest minor
version, signifying that openstack-helm will no longer support
older, EOL releases for each chart.

As a result, each chart will no longer support releases before T
as of the versions specified here.

Change-Id: I7a1a7251c447cce0e2cd92737c2e5d875df3e4aa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/16/787816/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml']",2,9be0c0f2946829f04bce1261fcec7f614bc3bd1c,release-support,version: 0.2.0,version: 0.1.13,2,1
openstack%2Fkeystone~stable%2Ftrain~I75590c20e90170ed862f46f0de7d61c7810b5c90,openstack/keystone,stable/train,I75590c20e90170ed862f46f0de7d61c7810b5c90,Retry update_user when sqlalchemy raises StaleDataErrors,MERGED,2021-03-26 17:49:38.000000000,2021-04-28 00:23:00.000000000,2021-04-28 00:20:12.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 17:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72e1cab0a47f493d47dbe482a03da269b4238967', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit 6b581bfe43811379e9ceea2770242f05f0c9fa66)\n(cherry picked from commit 22119176d612d4441d9cf25e76adde52ec4f88e2)\n(cherry picked from commit 20a10ebc50fda0ac3cfab378293f9f2c27168c96)\n""}, {'number': 2, 'created': '2021-03-29 19:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/71ad3d56f356694f28f0c2457348e4dbb524fb13', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\n Conflicts:\n\tkeystone/tests/unit/test_backend_sql.py due to import difference\n\tbetween train and ussuri.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n""}, {'number': 3, 'created': '2021-03-29 19:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f3feadfa045f1ec9f74c74e9044ec53a8824f8de', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri.\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n""}, {'number': 4, 'created': '2021-03-30 19:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4f48fc4e53f71d653e133104854f064fbb1b25f', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri. Also adjust the expected log\n      message since the method path is different compared to older\n      releases, which have the driver name in them (e.g., Identity).\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n""}, {'number': 5, 'created': '2021-03-31 12:34:57.000000000', 'files': ['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/328cf33aab61775301adbb4c1f6abaa2f331cd94', 'message': ""Retry update_user when sqlalchemy raises StaleDataErrors\n\nKeystone's update_user() method in the SQL driver processes a lot of\ninformation about how to update users. This includes evaluating password\nlogic and authentication attempts for PSI-DSS. This logic is evaluated\nafter keystone pulls the user record from SQL and before it exits the\ncontext manager, which performs the write.\n\nWhen multiple clients are all updating the same user reference, it's\nmore likely they will see an HTTP 500 because of race conditions exiting\nthe context manager. The HTTP 500 is due to stale data when updating\npassword expiration for old passwords, which happens when setting a new\npassword for a user.\n\nThis commit attempts to handle that case more gracefully than throwing a\n500 by detecting StaleDataErrors from sqlalchemy and retrying.  The\nidentity sql backend will retry the request for clients that have\nstale data change from underneath them.\n\nConflicts:\n      keystone/tests/unit/test_backend_sql.py due to import order\n      differences between train and ussuri. Also adjust the expected log\n      message since the method path is different compared to older\n      releases, which have the driver name in them (e.g., Identity).\n\nChange-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90\nCloses-Bug: 1885753\n(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)\n(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)\n(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)\n(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)\n(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)\n""}]",1,783404,328cf33aab61775301adbb4c1f6abaa2f331cd94,20,5,5,5046,,,0,"Retry update_user when sqlalchemy raises StaleDataErrors

Keystone's update_user() method in the SQL driver processes a lot of
information about how to update users. This includes evaluating password
logic and authentication attempts for PSI-DSS. This logic is evaluated
after keystone pulls the user record from SQL and before it exits the
context manager, which performs the write.

When multiple clients are all updating the same user reference, it's
more likely they will see an HTTP 500 because of race conditions exiting
the context manager. The HTTP 500 is due to stale data when updating
password expiration for old passwords, which happens when setting a new
password for a user.

This commit attempts to handle that case more gracefully than throwing a
500 by detecting StaleDataErrors from sqlalchemy and retrying.  The
identity sql backend will retry the request for clients that have
stale data change from underneath them.

Conflicts:
      keystone/tests/unit/test_backend_sql.py due to import order
      differences between train and ussuri. Also adjust the expected log
      message since the method path is different compared to older
      releases, which have the driver name in them (e.g., Identity).

Change-Id: I75590c20e90170ed862f46f0de7d61c7810b5c90
Closes-Bug: 1885753
(cherry picked from commit ceae3566e83b26fd6a1679154eae9b0cef29da64)
(cherry picked from commit f47e635b8041542faa05e64606e66d2fbbc5f284)
(cherry picked from commit 5b7d4c80d484262018f937083050844648f07a11)
(cherry picked from commit 07d3a3d3ff534a5295842d4f236042b30536cd82)
(cherry picked from commit d4f48fc4e53f71d653e133104854f064fbb1b25f)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/04/783404/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/sql.py', 'keystone/tests/unit/test_backend_sql.py', 'releasenotes/notes/bug-1885753-51df25f3ff1d9ae8.yaml']",3,72e1cab0a47f493d47dbe482a03da269b4238967,bug/1885753,--- fixes: - | [`bug 1885753 <https://bugs.launchpad.net/keystone/+bug/1885753>`_] Keystone's SQL identity backend now retries update user requests to safely handle stale data when two clients update a user at the same time. ,,50,0
openstack%2Fneutron~stable%2Fwallaby~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,stable/wallaby,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-27 10:05:17.000000000,2021-04-28 00:22:29.000000000,2021-04-28 00:20:19.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-27 10:05:17.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f748962e5acfe7c6f44f02aaf9883e7a71de63cd', 'message': ""[OVN] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)\n""}]",0,788154,f748962e5acfe7c6f44f02aaf9883e7a71de63cd,10,5,1,8655,,,0,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
(cherry picked from commit 32e938e698f260af6896f6179a5ffc0838677124)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/788154/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",4,f748962e5acfe7c6f44f02aaf9883e7a71de63cd,, def check_net_and_ip(port): # If the port is not bound to any chassis it is not relevant if not port.chassis: return False # TODO(dalvarez): Remove the comparison to port.datapath.uuid in Y # cycle when we are sure that all namespaces will be created with # the Neutron network UUID and not anymore with the OVN datapath # UUID. is_in_network = lambda port: ( str(port.datapath.uuid) == network or utils.get_network_name_from_datapath(port.datapath) == network) return port.mac and is_in_network(port) and ( ip_address in port.mac[0].split(' ')) return [r for r in rows if check_net_and_ip(r)], # TODO(dalvarez): Remove the comparison to r.datapath.uuid in Y cycle # when we are sure that all namespaces will be created with the # Neutron network UUID and not anymore with the OVN datapath UUID. return [r for r in rows if (r.mac and ( str(r.datapath.uuid) == network or utils.get_network_name_from_datapath( r.datapath) == network)) and ip_address in r.mac[0].split(' ')],37,22
openstack%2Fneutron-tempest-plugin~master~I31e9cc2e006d66b8feb8bd5738d595974509c732,openstack/neutron-tempest-plugin,master,I31e9cc2e006d66b8feb8bd5738d595974509c732,jobs: remove devstack-gate references,MERGED,2021-03-08 18:50:22.000000000,2021-04-28 00:20:08.000000000,2021-04-28 00:20:08.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 18:50:22.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ad276cb34086866e74eb33b4fb97a4378d7acd6f', 'message': 'jobs: remove devstack-gate references\n\nNot needed by native Zuul v3 jobs.\n\nChange-Id: I31e9cc2e006d66b8feb8bd5738d595974509c732\n'}]",0,779344,ad276cb34086866e74eb33b4fb97a4378d7acd6f,12,3,1,10459,,,0,"jobs: remove devstack-gate references

Not needed by native Zuul v3 jobs.

Change-Id: I31e9cc2e006d66b8feb8bd5738d595974509c732
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/44/779344/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/rocky_jobs.yaml']",6,ad276cb34086866e74eb33b4fb97a4378d7acd6f,cleanup-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate,0,14
openstack%2Fproject-config~master~I5404ba40035f259e234c79529388d8af01fdc0ba,openstack/project-config,master,I5404ba40035f259e234c79529388d8af01fdc0ba,Limit grafana for zk to zk04-06,MERGED,2021-04-27 22:20:07.000000000,2021-04-28 00:08:23.000000000,2021-04-27 22:42:19.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 22:20:07.000000000', 'files': ['grafana/zuul-status.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6572d214905c751bed6f294c8dde1090ce40260d', 'message': 'Limit grafana for zk to zk04-06\n\nWe have replaced zk01-03 with zk04-06. We are less interested in the\ndata for 01-03 on the dashboard now so limit what the dashboard renders\nto 04-06.\n\nChange-Id: I5404ba40035f259e234c79529388d8af01fdc0ba\n'}]",0,788374,6572d214905c751bed6f294c8dde1090ce40260d,8,3,1,4146,,,0,"Limit grafana for zk to zk04-06

We have replaced zk01-03 with zk04-06. We are less interested in the
data for 01-03 on the dashboard now so limit what the dashboard renders
to 04-06.

Change-Id: I5404ba40035f259e234c79529388d8af01fdc0ba
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/788374/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/zuul-status.yaml'],1,6572d214905c751bed6f294c8dde1090ce40260d,update-zk-servers," - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_avg_latency, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_approximate_data_size, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_znode_count, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_watch_count, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_ephemerals_count, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_outstanding_requests, 3) - target: aliasByNode(stats.gauges.zk.zk0[4-6].zk_followers, 3)"," - target: aliasByNode(stats.gauges.zk.*.zk_avg_latency, 3) - target: aliasByNode(stats.gauges.zk.*.zk_approximate_data_size, 3) - target: aliasByNode(stats.gauges.zk.*.zk_znode_count, 3) - target: aliasByNode(stats.gauges.zk.*.zk_watch_count, 3) - target: aliasByNode(stats.gauges.zk.*.zk_ephemerals_count, 3) - target: aliasByNode(stats.gauges.zk.*.zk_outstanding_requests, 3) - target: aliasByNode(stats.gauges.zk.*.zk_followers, 3)",7,7
openstack%2Fkayobe~master~I977943e81a79e4a40cca04d80d786ca49afd3d39,openstack/kayobe,master,I977943e81a79e4a40cca04d80d786ca49afd3d39,Use OpenStack Wallaby release,MERGED,2021-04-26 07:04:50.000000000,2021-04-27 22:55:18.000000000,2021-04-27 22:53:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 07:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d013c9bf0ed1c5959a85666198c27c2df7f8e333', 'message': 'Use OpenStack Wallaby release\n\nSwitch all dependencies to use the OpenStack Wallaby release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/wallaby branch has been cut and RC1 released.\n\nChange-Id: I977943e81a79e4a40cca04d80d786ca49afd3d39\n'}, {'number': 2, 'created': '2021-04-26 08:45:42.000000000', 'files': ['ansible/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f76d7d134d1f484d2ea21fddd0fbee00788e837', 'message': 'Use OpenStack Wallaby release\n\nSwitch all dependencies to use the OpenStack Wallaby release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/wallaby branch has been cut and RC1 released.\n\nChange-Id: I977943e81a79e4a40cca04d80d786ca49afd3d39\n'}]",0,787923,3f76d7d134d1f484d2ea21fddd0fbee00788e837,17,3,2,22629,,,0,"Use OpenStack Wallaby release

Switch all dependencies to use the OpenStack Wallaby release.

This commit should be reverted on the master branch once the
Kayobe stable/wallaby branch has been cut and RC1 released.

Change-Id: I977943e81a79e4a40cca04d80d786ca49afd3d39
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/787923/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/openstack', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml']",4,d013c9bf0ed1c5959a85666198c27c2df7f8e333,, # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby # TODO(mnasiadka): Remove when kayobe stable/wallaby exists. override-checkout: stable/wallaby,,16,10
openstack%2Fopenstack-helm~master~Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3,openstack/openstack-helm,master,Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3,Zuul.d: Making TLS gate voting again,MERGED,2021-04-22 14:21:53.000000000,2021-04-27 22:49:33.000000000,2021-04-27 22:47:00.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-04-22 14:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/755af14c76ef3f1c6118102639a4643ce73f011b', 'message': 'Zuul.d: Making TLS gate voting again\n\nReverting https://review.opendev.org/c/openstack/openstack-helm/+/773651\nsince ubuntu-bionic-expanded seems to be available now.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3\n'}, {'number': 2, 'created': '2021-04-23 14:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c36963dbf1e68b0a113146160402ceeb9f977077', 'message': 'Zuul.d: Making TLS gate voting again\n\nReverting https://review.opendev.org/c/openstack/openstack-helm/+/773651\nsince ubuntu-bionic-expanded seems to be available now.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3\n'}, {'number': 3, 'created': '2021-04-26 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e9db272e3c3e35178959b479937c81a0a1dcb9d', 'message': 'Zuul.d: Making TLS gate voting again\n\nReverting https://review.opendev.org/c/openstack/openstack-helm/+/773651\nsince ubuntu-bionic-expanded seems to be available now.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3\n'}, {'number': 4, 'created': '2021-04-26 22:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/80b5e474700ef046d175ea89a5ad7796a7eb282b', 'message': 'Zuul.d: Making TLS gate voting again\n\nReverting https://review.opendev.org/c/openstack/openstack-helm/+/773651\nsince ubuntu-bionic-expanded seems to be available now.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3\n'}, {'number': 5, 'created': '2021-04-27 12:12:48.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f42914f7d92bffc6b8b96a7b65813bfbd962196', 'message': 'Zuul.d: Making TLS gate voting again\n\nReverting https://review.opendev.org/c/openstack/openstack-helm/+/773651\nsince ubuntu-bionic-expanded seems to be available now.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3\n'}]",2,787579,7f42914f7d92bffc6b8b96a7b65813bfbd962196,62,8,5,24780,,,0,"Zuul.d: Making TLS gate voting again

Reverting https://review.opendev.org/c/openstack/openstack-helm/+/773651
since ubuntu-bionic-expanded seems to be available now.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557

Change-Id: Ib93eca9e6e84a60af2bd3ed5b90647966fa0aca3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/787579/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,755af14c76ef3f1c6118102639a4643ce73f011b,, - openstack-helm-tls, - openstack-helm-tls: # NOTE(aostapenko) While keeping this job non-voting in gate # pipeline may not seem to have sense - disabling it is temporary # and job result should be kept visible so it's not forgotten # to be enabled first thing after ubuntu-bionic-expanded nodes # are available voting: false,1,7
openstack%2Fdesignate-tempest-plugin~master~I9eb5133268deece6329903d964e6a904b2197282,openstack/designate-tempest-plugin,master,I9eb5133268deece6329903d964e6a904b2197282,"Improving  ""_create_client_recordset"" function",MERGED,2021-04-09 19:19:24.000000000,2021-04-27 22:21:27.000000000,2021-04-27 22:20:13.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-04-09 19:19:24.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/dedb90667d56a1cf256441572a0ea56ea58ade40', 'message': 'Improving  ""_create_client_recordset"" function\n\n1) Moving ""zone waiter"" after its cleanp\n2) Adding ""recordset waiter""\n\nChange-Id: I9eb5133268deece6329903d964e6a904b2197282\n'}]",0,785720,dedb90667d56a1cf256441572a0ea56ea58ade40,17,8,1,28609,,,0,"Improving  ""_create_client_recordset"" function

1) Moving ""zone waiter"" after its cleanp
2) Adding ""recordset waiter""

Change-Id: I9eb5133268deece6329903d964e6a904b2197282
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/20/785720/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_recordset.py'],1,dedb90667d56a1cf256441572a0ea56ea58ade40,fix_for_test_list_all_projects_recordsets," # Create a zone and wait till it's ACTIVE waiters.wait_for_zone_status( self.zone_client, zone['id'], 'ACTIVE') # Create a recordset and wait till it's ACTIVE LOG.info('Wait until the recordset is active') waiters.wait_for_recordset_status( self.client, zone['id'], body['id'], 'ACTIVE') # Add ""project_id"" into the recordset_data if client == 'alt': # Create a zone and wait till it's ACTIVE waiters.wait_for_zone_status( self.alt_zone_client, alt_zone['id'], 'ACTIVE') # Create a recordset and wait till it's ACTIVE LOG.info('Wait until the recordset is active') waiters.wait_for_recordset_status( self.alt_client, alt_zone['id'], body['id'], 'ACTIVE') # Add ""project_id"" into the recordset_data"," waiters.wait_for_zone_status( self.zone_client, zone['id'], 'ACTIVE') if client == 'alt': waiters.wait_for_zone_status( self.alt_zone_client, alt_zone['id'], 'ACTIVE')",24,4
openstack%2Fneutron-lib~master~If6c8b72c85564dcf77faa255d8756829c9ba879f,openstack/neutron-lib,master,If6c8b72c85564dcf77faa255d8756829c9ba879f,"Fix pylint>=2.8.0 error R1732 ""consider-using-with""",MERGED,2021-04-27 16:14:34.000000000,2021-04-27 22:17:19.000000000,2021-04-27 22:15:57.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0a46964db14e2e2e0b8224c23341a1bf06d253a3', 'message': 'Fix pylint>=2.8.0 error R1732 ""consider-using-with""\n\nCloses-Bug: #1926315\n\nChange-Id: If6c8b72c85564dcf77faa255d8756829c9ba879f\n'}, {'number': 2, 'created': '2021-04-27 16:15:14.000000000', 'files': ['neutron_lib/fixture.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ba36d60717b85d715e08556ffca23446431402eb', 'message': 'Fix pylint>=2.8.0 error R1732 ""consider-using-with""\n\nCloses-Bug: #1926315\n\nChange-Id: If6c8b72c85564dcf77faa255d8756829c9ba879f\n'}]",0,788323,ba36d60717b85d715e08556ffca23446431402eb,12,4,2,16688,,,0,"Fix pylint>=2.8.0 error R1732 ""consider-using-with""

Closes-Bug: #1926315

Change-Id: If6c8b72c85564dcf77faa255d8756829c9ba879f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/23/788323/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/fixture.py'],1,0a46964db14e2e2e0b8224c23341a1bf06d253a3,bug/1926315," method = self.mock_open if name == self.path else self._orig_open method(name, *args, **kwargs)"," if name == self.path: return self.mock_open(name, *args, **kwargs) return self._orig_open(name, *args, **kwargs)",2,3
openstack%2Fopenstack-helm~master~I9927536a9b19cd21043e9d038656b7d3ccf9f2e9,openstack/openstack-helm,master,I9927536a9b19cd21043e9d038656b7d3ccf9f2e9,Update TLS job to use 32GB Node,ABANDONED,2021-04-23 18:31:08.000000000,2021-04-27 22:04:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 18:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a519f288139316e97e480fd8a4eca1a647f9c895', 'message': 'Update TLS job to use 32GB Node\n\nChange-Id: I9927536a9b19cd21043e9d038656b7d3ccf9f2e9\n'}, {'number': 2, 'created': '2021-04-23 18:34:46.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0eb88d6411b59a6bf6bc61cc30a210115f97101a', 'message': 'Update TLS job to use 32GB Node\n\nChange-Id: I9927536a9b19cd21043e9d038656b7d3ccf9f2e9\n'}]",1,787786,0eb88d6411b59a6bf6bc61cc30a210115f97101a,5,1,2,21420,,,0,"Update TLS job to use 32GB Node

Change-Id: I9927536a9b19cd21043e9d038656b7d3ccf9f2e9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/787786/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,a519f288139316e97e480fd8a4eca1a647f9c895,update-tls-gate, nodeset: ubuntu-bionic-32GB, nodeset: openstack-helm-single-16GB-node,1,1
openstack%2Fopenstack-helm~master~I12a787555eb9225b6b2d208a48db34d94ac899c6,openstack/openstack-helm,master,I12a787555eb9225b6b2d208a48db34d94ac899c6,Testing TLS Gate,ABANDONED,2021-04-19 20:52:01.000000000,2021-04-27 22:03:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-19 20:52:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88da44ec7243452e2f1230474576d45dd6634fd5', 'message': 'Testing TLS Gate\n\nChange-Id: I12a787555eb9225b6b2d208a48db34d94ac899c6\n'}]",0,786978,88da44ec7243452e2f1230474576d45dd6634fd5,3,1,1,21420,,,0,"Testing TLS Gate

Change-Id: I12a787555eb9225b6b2d208a48db34d94ac899c6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/78/786978/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,88da44ec7243452e2f1230474576d45dd6634fd5,test-tls, - openstack-helm-tls, - openstack-helm-bandit - openstack-helm-cinder-train-ubuntu_bionic - openstack-helm-cinder-ussuri-ubuntu_bionic - openstack-helm-compute-kit-train-ubuntu_bionic - openstack-helm-compute-kit-ussuri-ubuntu_bionic - openstack-helm-horizon-train-ubuntu_bionic,1,6
openstack%2Fopenstack-helm~master~I67cf5466b67210dba9f890ff851f092477a41182,openstack/openstack-helm,master,I67cf5466b67210dba9f890ff851f092477a41182,DNM - Testing TLS Gate,ABANDONED,2021-04-23 18:27:04.000000000,2021-04-27 22:03:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 18:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f646d85af559503681378bfba504a93d371615de', 'message': 'DNM - Testing TLS Gate\n\nChange-Id: I67cf5466b67210dba9f890ff851f092477a41182\n'}, {'number': 2, 'created': '2021-04-24 00:08:51.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bad7030d2d16d503e2ee518ca1503346da47a13', 'message': 'DNM - Testing TLS Gate\n\nChange-Id: I67cf5466b67210dba9f890ff851f092477a41182\n'}]",0,787785,7bad7030d2d16d503e2ee518ca1503346da47a13,5,1,2,21420,,,0,"DNM - Testing TLS Gate

Change-Id: I67cf5466b67210dba9f890ff851f092477a41182
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/787785/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,f646d85af559503681378bfba504a93d371615de,tls-gate-testing, openstack_release: train, nodeset: openstack-helm-single-16GB-node openstack_release: stein,2,11
openstack%2Fcharm-cinder-ceph~master~Iec6caa0ba778fb3a17aba0fea357b05f68ee22be,openstack/charm-cinder-ceph,master,Iec6caa0ba778fb3a17aba0fea357b05f68ee22be,Add note about lack of upgrade path,MERGED,2021-04-07 23:09:57.000000000,2021-04-27 21:14:45.000000000,2021-04-27 21:14:45.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 23:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/d621d2d3531bfe233a4e235a0ee4759ab6e5111f', 'message': ""Add note about lack of upgrade path\n\nIt's not currently possible to upgrade to the\ncinder-ceph way of doing things with a cloud\nthat relates cinder and ceph-mon directly.\n\nRelated-Bug: #1727184\nChange-Id: Iec6caa0ba778fb3a17aba0fea357b05f68ee22be\n""}, {'number': 2, 'created': '2021-04-07 23:15:14.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/bea6dd54b13cbaa9fd789ff066b2af719068a1c8', 'message': ""Add note about lack of upgrade path\n\nIt's not currently possible to upgrade to the\ncinder-ceph way of doing things with a cloud\nthat relates cinder and ceph-mon directly.\n\nDrive-by: Apply README template\n\nRelated-Bug: #1727184\nChange-Id: Iec6caa0ba778fb3a17aba0fea357b05f68ee22be\n""}]",0,785294,bea6dd54b13cbaa9fd789ff066b2af719068a1c8,9,3,2,30561,,,0,"Add note about lack of upgrade path

It's not currently possible to upgrade to the
cinder-ceph way of doing things with a cloud
that relates cinder and ceph-mon directly.

Drive-by: Apply README template

Related-Bug: #1727184
Change-Id: Iec6caa0ba778fb3a17aba0fea357b05f68ee22be
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/94/785294/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,d621d2d3531bfe233a4e235a0ee4759ab6e5111f,bug/1727184,> **Note**: There is currently no upgrade path to using the cinder-ceph charm for older deployments that have the cinder and ceph-mon applications related directly. This issue is tracked in bug [LP #1727184][lp-bug-1727184]. [lp-bug-1727184]: https://bugs.launchpad.net/charm-cinder-ceph/+bug/1727184,,5,0
openstack%2Fcharm-deployment-guide~master~I48209a83adfaf7d66d194750333b82459c137cc7,openstack/charm-deployment-guide,master,I48209a83adfaf7d66d194750333b82459c137cc7,Add documentation for rabbitmq-cluster restart,ABANDONED,2020-11-18 17:00:56.000000000,2021-04-27 20:15:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-11-18 17:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b8f6b4a6f806a764334af1bdbb49a591d8fc8464', 'message': 'Add documentation for rabbitmq-cluster restart\n\nThis change adds documentation of how to restart a RabbitMQ cluster in\ncase of a power loss.\n\nChange-Id: I48209a83adfaf7d66d194750333b82459c137cc7\nDepends-On: I6520dc0f2e0fea55b292d0db2831547c584ee851\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 2, 'created': '2020-11-18 17:02:45.000000000', 'files': ['deploy-guide/source/app-managing-power-events.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3ed8b6cc09ad20050b5d15fd42118a6ed31ac7ed', 'message': 'Add documentation for rabbitmq-cluster restart\n\nThis change adds documentation of how to restart a RabbitMQ cluster in\ncase of a power loss.\n\nChange-Id: I48209a83adfaf7d66d194750333b82459c137cc7\nDepends-On: I6520dc0f2e0fea55b292d0db2831547c584ee851\nBug: #1828988\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",11,763217,3ed8b6cc09ad20050b5d15fd42118a6ed31ac7ed,5,2,2,19298,,,0,"Add documentation for rabbitmq-cluster restart

This change adds documentation of how to restart a RabbitMQ cluster in
case of a power loss.

Change-Id: I48209a83adfaf7d66d194750333b82459c137cc7
Depends-On: I6520dc0f2e0fea55b292d0db2831547c584ee851
Bug: #1828988
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/17/763217/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-managing-power-events.rst'],1,b8f6b4a6f806a764334af1bdbb49a591d8fc8464,rabbit_cluster,"restart ^^^^^^^ All units of a RabbitMQ cluster are expected to become available within 5 minutes upon a cluster restart (See `Restarting Cluster Nodes`_). When a ``rabbitmq-server`` unit is started the charm will start the cluster if the unit is the primary RabbitMQ cluster broker or if the primary broker is already available. The charm will block the unit if it is a secondary broker and inform the operator which other unit to start first: .. code:: rabbitmq-server/0* blocked executing 4 10.5.0.16 5672/tcp (start) Machine rabbit@juju-f97f14-rabbitmq-5 is not running. Please start it or run the force_boot action on this unit nrpe/2* active idle 10.5.0.16 icmp,5666/tcp ready rabbitmq-server/1 unknown lost 5 10.5.0.11 5672/tcp agent lost, see 'juju show-status-log rabbitmq-server/1' nrpe/1 unknown lost 10.5.0.11 icmp,5666/tcp agent lost, see 'juju show-status-log nrpe/1' rabbitmq-server/2 unknown lost 6 10.5.0.7 5672/tcp agent lost, see 'juju show-status-log rabbitmq-server/2' nrpe/0 unknown lost 10.5.0.7 icmp,5666/tcp agent lost, see 'juju show-status-log nrpe/0' In case the primary broker is not available the blocked secondary units and the RabbitMQ cluster can be forced to boot with the ``force-boot`` action. .. code:: juju run-action --wait rabbitmq-server/0 force-boot .. note:: Forcing a secondary unit to boot might result in the loss of messages, see `Forcing Node Boot`_ for details. .. _Restarting Cluster Nodes: https://www.rabbitmq.com/clustering.html#restarting .. _Forcing Node Boot: https://www.rabbitmq.com/clustering.html#forced-boot",,37,0
openstack%2Fneutron~master~I6103fdbe54bb752a711e17b7a6c599b4204bcfcf,openstack/neutron,master,I6103fdbe54bb752a711e17b7a6c599b4204bcfcf,Unit tests for Agent API secure-rbac-policies,MERGED,2021-01-27 14:18:11.000000000,2021-04-27 19:57:56.000000000,2021-04-27 19:55:34.000000000,"[{'_account_id': 5046}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 9954}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 14:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4577791cc6bbb12592845f3d861c1ca1ff23e24f', 'message': 'WIP First test for Agent API secure-rbac-policies\n\nThis is just a PoC with one test for now.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 2, 'created': '2021-03-17 13:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3aba89580ac399c364dba126c8ed093b40a4be2e', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nThis patch adds unit tests for secure rbac policies for agent API.\nIt also adds some base class which will be useful for testing\nsecure rbac policies for other APIs.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 3, 'created': '2021-03-17 16:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72ebc659c9f91007e72a3b504ff64c62a4925a69', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nThis patch adds unit tests for secure rbac policies for agent API.\nIt also adds some base class which will be useful for testing\nsecure rbac policies for other APIs.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 4, 'created': '2021-03-18 07:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92ed0c1f7db424daf813369df50367f59076cfb3', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nThis patch adds unit tests for secure rbac policies for agent API.\nIt also adds some base class which will be useful for testing\nsecure rbac policies for other APIs.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 5, 'created': '2021-03-18 11:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50f90490dd5e44345746f4cac732f5418c003e20', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nThis patch adds unit tests for secure rbac policies for agent API.\nIt also adds some base class which will be useful for testing\nsecure rbac policies for other APIs.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 6, 'created': '2021-03-18 20:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be9755119c038e2e5eacdf3950447207282cc010', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nThis patch adds unit tests for secure rbac policies for agent API.\nIt also adds some base class which will be useful for testing\nsecure rbac policies for other APIs.\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 7, 'created': '2021-03-19 11:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ececb7b5a19807e67105d9df4d8216d751744a9c', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 8, 'created': '2021-03-22 10:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4ca19da5c64fbf622ca0d977a848dddf3b058b1', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 9, 'created': '2021-03-22 10:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/195dc7b3d32119f9d919bdb5ad6f38d758e81d01', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 10, 'created': '2021-03-24 21:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f27bff921ec374241ef43f67a89c52ae86ba5fa', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 11, 'created': '2021-03-31 12:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c7f325db697662bd77cc02509eb921ed7535a06', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}, {'number': 12, 'created': '2021-04-12 15:05:20.000000000', 'files': ['neutron/tests/unit/conf/policies/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcc8d5358eb1bf1405e621c1f2d6e60fa957f3cd', 'message': 'Unit tests for Agent API secure-rbac-policies\n\nPartially-Implements blueprint: secure-rbac-roles\n\nChange-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf\n'}]",24,772698,fcc8d5358eb1bf1405e621c1f2d6e60fa957f3cd,63,6,12,11975,,,0,"Unit tests for Agent API secure-rbac-policies

Partially-Implements blueprint: secure-rbac-roles

Change-Id: I6103fdbe54bb752a711e17b7a6c599b4204bcfcf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/772698/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/__init__.py', 'neutron/tests/unit/conf/policies/test_agent.py', 'neutron/tests/etc/api-paste.ini.test', 'neutron/tests/unit/conf/policies/__init__.py']",4,4577791cc6bbb12592845f3d861c1ca1ff23e24f,secure-rbac,,,63,0
openstack%2Ftripleo-quickstart-extras~master~Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa,openstack/tripleo-quickstart-extras,master,Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa,standalone: Remove custom NovaHWMachineType in role,MERGED,2021-04-08 10:12:39.000000000,2021-04-27 19:49:52.000000000,2021-04-27 19:49:52.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-08 10:12:39.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8987b2b6514c7477313cfe1e205bbe1d5bd452cf', 'message': 'standalone: Remove custom NovaHWMachineType in role\n\nThis is no longer required as I808c033c34dfe1068ebe17dc72fdee5ef63613d8\nhas removed the default versioned machine types from NovaHWMachineType.\n\nChange-Id: Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/785364\n'}]",0,785365,8987b2b6514c7477313cfe1e205bbe1d5bd452cf,23,9,1,10135,,,0,"standalone: Remove custom NovaHWMachineType in role

This is no longer required as I808c033c34dfe1068ebe17dc72fdee5ef63613d8
has removed the default versioned machine types from NovaHWMachineType.

Change-Id: Ieb21fd8f3e895ea7611882f1e92f398efe2e77fa
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/785364
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/65/785365/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,8987b2b6514c7477313cfe1e205bbe1d5bd452cf,NovaHWMachineType_q35,," NovaHWMachineType: x86_64=pc,aarch64=virt-rhel7.6.0,ppc64=pseries-rhel7.6.0,ppc64le=pseries-rhel7.6.0",0,1
openstack%2Ftripleo-heat-templates~master~I808c033c34dfe1068ebe17dc72fdee5ef63613d8,openstack/tripleo-heat-templates,master,I808c033c34dfe1068ebe17dc72fdee5ef63613d8,nova: Remove versioned default machine types,MERGED,2021-04-08 10:10:40.000000000,2021-04-27 19:35:02.000000000,2021-04-27 19:33:06.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-08 10:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c79029977965517d74a7130db99b9045535a1606', 'message': 'nova: Remove versioned default machine types\n\nInstead rely on the unversioned defaults provided by Nova [1].\n\nThe use of versioned machine types should be limited to specific\ndownstream releases to ensure the corner case of live migrations between\nX.Y+1 and X.Y releases of RHEL will work.\n\nRemoval of these versioned machine types also allows TripleO to test\nwith both EL based and Fedora based compute hosts that version their\nmachine types differently as discussed previously in bug #1819452.\n\n[1] https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/nova/virt/libvirt/utils.py#L566-L575\n\nChange-Id: I808c033c34dfe1068ebe17dc72fdee5ef63613d8\nRelated-Bug: #1819452\n'}, {'number': 2, 'created': '2021-04-08 10:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3de89c91964e68027eeebc69ee1d4f45e941eb1', 'message': 'nova: Remove versioned default machine types\n\nInstead rely on the unversioned defaults provided by Nova [1].\n\nThe use of versioned machine types should be limited to specific\ndownstream releases to ensure the corner case of live migrations between\nX.Y+1 and X.Y releases of RHEL will work.\n\nRemoval of these versioned machine types also allows TripleO to test\nwith both EL based and Fedora based compute hosts that version their\nmachine types differently as discussed previously in bug #1819452.\n\n[1] https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/nova/virt/libvirt/utils.py#L566-L575\n\nChange-Id: I808c033c34dfe1068ebe17dc72fdee5ef63613d8\nRelated-Bug: #1819452\n'}, {'number': 3, 'created': '2021-04-08 13:50:20.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-machine-type-default-changed-27244a925f6d6200.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b8413e79658989a7217c2e9a887af4d30eb0e64', 'message': 'nova: Remove versioned default machine types\n\nInstead rely on the unversioned defaults provided by Nova [1].\n\nThe use of versioned machine types should be limited to specific\ndownstream releases to ensure the corner case of live migrations between\nX.Y+1 and X.Y releases of RHEL will work.\n\nRemoval of these versioned machine types also allows TripleO to test\nwith both EL based and Fedora based compute hosts that version their\nmachine types differently as discussed previously in bug #1819452.\n\n[1] https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/nova/virt/libvirt/utils.py#L566-L575\n\nChange-Id: I808c033c34dfe1068ebe17dc72fdee5ef63613d8\nRelated-Bug: #1819452\n'}]",0,785364,9b8413e79658989a7217c2e9a887af4d30eb0e64,15,6,3,10135,,,0,"nova: Remove versioned default machine types

Instead rely on the unversioned defaults provided by Nova [1].

The use of versioned machine types should be limited to specific
downstream releases to ensure the corner case of live migrations between
X.Y+1 and X.Y releases of RHEL will work.

Removal of these versioned machine types also allows TripleO to test
with both EL based and Fedora based compute hosts that version their
machine types differently as discussed previously in bug #1819452.

[1] https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/nova/virt/libvirt/utils.py#L566-L575

Change-Id: I808c033c34dfe1068ebe17dc72fdee5ef63613d8
Related-Bug: #1819452
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/785364/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,c79029977965517d74a7130db99b9045535a1606,NovaHWMachineType_q35, default: ''," default: 'x86_64=pc-i440fx-rhel7.6.0,aarch64=virt-rhel7.6.0,ppc64=pseries-rhel7.6.0,ppc64le=pseries-rhel7.6.0'",1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2476c9c2e1c6be5e62e6e84b14ea1c4240578871,openstack/python-tripleoclient,stable/wallaby,I2476c9c2e1c6be5e62e6e84b14ea1c4240578871,Update .gitreview for stable/wallaby,MERGED,2021-04-15 17:22:41.000000000,2021-04-27 19:34:45.000000000,2021-04-27 19:32:43.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 17:22:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f2f40a98e4ad0f994a05001a4bd295d1a4fdd160', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: I2476c9c2e1c6be5e62e6e84b14ea1c4240578871\n'}]",0,786470,f2f40a98e4ad0f994a05001a4bd295d1a4fdd160,8,3,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: I2476c9c2e1c6be5e62e6e84b14ea1c4240578871
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/786470/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f2f40a98e4ad0f994a05001a4bd295d1a4fdd160,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftripleo-heat-templates~master~I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3,openstack/tripleo-heat-templates,master,I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3,"Simplify keystone, iscsid service templates",MERGED,2021-04-26 04:08:08.000000000,2021-04-27 19:32:48.000000000,2021-04-27 19:32:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-26 04:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c13e34653603525edfa126b33a6fd69563465f8', 'message': 'Simplify keystone, iscsid service templates\n\nChange-Id: I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3\n'}, {'number': 2, 'created': '2021-04-26 04:11:07.000000000', 'files': ['deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7f0e066e2c61aa70a8499863725b65ae1d6be1c', 'message': 'Simplify keystone, iscsid service templates\n\nChange-Id: I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3\n'}]",0,787911,b7f0e066e2c61aa70a8499863725b65ae1d6be1c,12,4,2,8833,,,0,"Simplify keystone, iscsid service templates

Change-Id: I9f6a630ce31e63d222c32eee9ab4a0156aa2bbe3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/787911/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",2,5c13e34653603525edfa126b33a6fd69563465f8,," - {get_param: PublicSSLCertificateAutogenerated} cors_allowed_origin_set: {not: {equals : [{get_param: KeystoneCorsAllowedOrigin}, '']}} - if: - cors_allowed_origin_set - keystone::cache::enabled: {get_param: EnableCache} - if: - if: - {get_param: KeystoneFederationEnable} - keystone_federation_enabled: True - if: - {get_param: KeystoneOpenIdcEnable} - keystone_openidc_enabled: True keystone::federation::openidc::methods: get_param: KeystoneAuthMethods keystone::federation::openidc::keystone_url: get_param: [EndpointMap, KeystonePublic, uri_no_suffix] keystone::federation::openidc::idp_name: get_param: KeystoneOpenIdcIdpName keystone::federation::openidc::openidc_provider_metadata_url: get_param: KeystoneOpenIdcProviderMetadataUrl keystone::federation::openidc::openidc_client_id: get_param: KeystoneOpenIdcClientId keystone::federation::openidc::openidc_client_secret: get_param: KeystoneOpenIdcClientSecret keystone::federation::openidc::openidc_crypto_passphrase: get_param: KeystoneOpenIdcCryptoPassphrase keystone::federation::openidc::openidc_response_type: get_param: KeystoneOpenIdcResponseType keystone::federation::openidc::remote_id_attribute: get_param: KeystoneOpenIdcRemoteIdAttribute keystone::federation::openidc::openidc_enable_oauth: get_param: KeystoneOpenIdcEnableOAuth keystone::federation::openidc::openidc_introspection_endpoint: get_param: KeystoneOpenIdcIntrospectionEndpoint keystone::federation::openidc::openidc_cache_type: if: - 'memcache' - if: - {get_param: KeystoneLDAPDomainEnable} - tripleo::profile::base::keystone::ldap_backend_enable: True - if: - if: - if: - if: - if: - if: - if: - if: - if: - {get_param: KeystoneLDAPDomainEnable} - horizon::keystone_multidomain_support: true - - /etc/openldap:/etc/openldap:ro - {get_param: EnableInternalTLS} - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro"," - equals: - {get_param: PublicSSLCertificateAutogenerated} - true internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} keystone_ldap_domain_enabled: {equals: [{get_param: KeystoneLDAPDomainEnable}, True]} keystone_federation_enabled: {equals: [{get_param: KeystoneFederationEnable}, True]} keystone_openidc_enabled: {equals: [{get_param: KeystoneOpenIdcEnable}, True]} cors_allowed_origin_unset: {equals : [{get_param: KeystoneCorsAllowedOrigin}, '']} - if: - cors_allowed_origin_unset - {} - keystone::cache::enabled: {get_param: EnableCache} if: - if: - keystone_federation_enabled - keystone_federation_enabled: True - {} - if: - keystone_openidc_enabled - map_merge: - keystone_openidc_enabled: True keystone::federation::openidc::methods: get_param: KeystoneAuthMethods keystone::federation::openidc::keystone_url: get_param: [EndpointMap, KeystonePublic, uri_no_suffix] keystone::federation::openidc::idp_name: get_param: KeystoneOpenIdcIdpName keystone::federation::openidc::openidc_provider_metadata_url: get_param: KeystoneOpenIdcProviderMetadataUrl keystone::federation::openidc::openidc_client_id: get_param: KeystoneOpenIdcClientId keystone::federation::openidc::openidc_client_secret: get_param: KeystoneOpenIdcClientSecret keystone::federation::openidc::openidc_crypto_passphrase: get_param: KeystoneOpenIdcCryptoPassphrase keystone::federation::openidc::openidc_response_type: get_param: KeystoneOpenIdcResponseType keystone::federation::openidc::remote_id_attribute: get_param: KeystoneOpenIdcRemoteIdAttribute keystone::federation::openidc::openidc_enable_oauth: get_param: KeystoneOpenIdcEnableOAuth keystone::federation::openidc::openidc_introspection_endpoint: get_param: KeystoneOpenIdcIntrospectionEndpoint - if: - keystone::federation::openidc::openidc_cache_type: 'memcache' - {} - {} - if: - keystone_ldap_domain_enabled - tripleo::profile::base::keystone::ldap_backend_enable: True - {} - if: - {} - if: - {} - if: - {} - if: - {} - if: - {} - if: - {} - if: - {} - if: - {} - if: - {} - keystone_ldap_domain_enabled - horizon::keystone_multidomain_support: true - {} - - /etc/openldap:/etc/openldap:ro - internal_tls_enabled - [] - if: - internal_tls_enabled - - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro - [] - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro",56,106
openstack%2Felection~master~Ib3c5e52733e189860fd94488a1d5997ca8b20e82,openstack/election,master,Ib3c5e52733e189860fd94488a1d5997ca8b20e82,Jeremy Stanley resigning as an official (again),MERGED,2021-02-26 18:50:19.000000000,2021-04-27 19:28:56.000000000,2021-04-27 19:27:48.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 18:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/a546476a79251518f12c2d156927ba514e652f82', 'message': ""Jeremy Stanley resigning as an official (again)\n\nSince there's a good influx of volunteer OpenStack technical\nelection officials this round, I'm dropping back off the duty\nroster. I'll still be around to help troubleshoot/patch the tooling\nand answer questions.\n\nChange-Id: Ib3c5e52733e189860fd94488a1d5997ca8b20e82\n""}, {'number': 2, 'created': '2021-04-27 16:30:55.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/eb546847c7829e233dbe3cdb4c526ff192264bf4', 'message': ""Jeremy Stanley resigning as an official (again)\n\nSince there's a good influx of volunteer OpenStack technical\nelection officials this round, I'm dropping back off the duty\nroster. I'll still be around to help troubleshoot/patch the tooling\nand answer questions.\n\nChange-Id: Ib3c5e52733e189860fd94488a1d5997ca8b20e82\n""}]",0,777811,eb546847c7829e233dbe3cdb4c526ff192264bf4,13,5,2,5263,,,0,"Jeremy Stanley resigning as an official (again)

Since there's a good influx of volunteer OpenStack technical
election officials this round, I'm dropping back off the duty
roster. I'll still be around to help troubleshoot/patch the tooling
and answer questions.

Change-Id: Ib3c5e52733e189860fd94488a1d5997ca8b20e82
",git fetch https://review.opendev.org/openstack/election refs/changes/11/777811/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,a546476a79251518f12c2d156927ba514e652f82,setup-xena-election,,"* Jeremy Stanley (fungi), `fungi@yuggoth.org <mailto:fungi@yuggoth.org>`_",0,1
openstack%2Fpython-manilaclient~master~Idc43420278ec2a072b12b3e4278a6ca6a0375e86,openstack/python-manilaclient,master,Idc43420278ec2a072b12b3e4278a6ca6a0375e86,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 09:11:06.000000000,2021-04-27 19:25:54.000000000,2021-04-27 19:24:40.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-04-27 09:11:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7ecc819d1985eab40fac9086d16ea23c9b106f26', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I5331527e7068cd9721b09fce6fcf9aeaddb63e5e\n\nChange-Id: Idc43420278ec2a072b12b3e4278a6ca6a0375e86\n""}]",0,788226,7ecc819d1985eab40fac9086d16ea23c9b106f26,10,5,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I5331527e7068cd9721b09fce6fcf9aeaddb63e5e

Change-Id: Idc43420278ec2a072b12b3e4278a6ca6a0375e86
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/26/788226/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7ecc819d1985eab40fac9086d16ea23c9b106f26,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-manilaclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-manilaclient/latest/ python-requires = >=3.6,4,4
openstack%2Ftempest~master~I9063a94c7d689d0b13794bfae932462372c578ed,openstack/tempest,master,I9063a94c7d689d0b13794bfae932462372c578ed,Add tests for glance unified quotas,ABANDONED,2021-04-27 19:13:23.000000000,2021-04-27 19:14:19.000000000,,[],"[{'number': 1, 'created': '2021-04-27 19:13:23.000000000', 'files': ['tempest/api/image/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0a9acf917000e7d26a4dca52d7b34e66b74685a', 'message': 'Add tests for glance unified quotas\n\nRelated to blueprint glance-unified-quotas\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/788056\nChange-Id: I08ccf5627ba98173507791c10fef0e7917880bc3\n\nChange-Id: I9063a94c7d689d0b13794bfae932462372c578ed\n'}]",0,788349,f0a9acf917000e7d26a4dca52d7b34e66b74685a,2,0,1,4393,,,0,"Add tests for glance unified quotas

Related to blueprint glance-unified-quotas
Depends-On: https://review.opendev.org/c/openstack/devstack/+/788056
Change-Id: I08ccf5627ba98173507791c10fef0e7917880bc3

Change-Id: I9063a94c7d689d0b13794bfae932462372c578ed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/788349/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images.py'],1,f0a9acf917000e7d26a4dca52d7b34e66b74685a,bp/glance-unified-quotas,"from oslo_utils import units class ImageQuotaTest(base.BaseV2ImageTest): credentials = ['primary', 'system_admin'] @classmethod def resource_setup(cls): super(ImageQuotaTest, cls).resource_setup() services = cls.os_system_admin.identity_services_v3_client.\ list_services() glance_services = [x for x in services['services'] if x['name'] == 'glance'] cls.glance_service_id = glance_services[0]['id'] def check_quotas_enabled(self): registered_limits = self.os_system_admin.limits_client.\ get_registered_limits()['registered_limits'] if not 'image_count_total' in [x['resource_name'] for x in registered_limits]: raise cls.skipException('Target system is not configured with ' 'glance unified limits') def _create_limit(self, name, value): return self.os_system_admin.limits_client.create_limit( CONF.identity.region, self.glance_service_id, self.client.tenant_id, name, value)['limits'][0]['id'] def _update_limit(self, limit_id, value): self.os_system_admin.limits_client.update_limit(limit_id, value) @decorators.idempotent_id('9b74fe24-183b-41e6-bf42-84c2958a7be8') def test_image_count_quota(self): self.check_quotas_enabled() # Set a quota for our tenant to one image limit_id = self._create_limit('image_count_total', 1) # Create one image image = self.create_image(name='first', container_format='bare', disk_format='raw', visibility='private') # Second image would put us over quota, so expect failure self.assertRaises(lib_exc.OverLimit, self.create_image, name='second', container_format='bare', disk_format='raw', visibility='private') # Update our limit to two self._update_limit(limit_id, 2) # Now the same create should succeed self.create_image(name='second', container_format='bare', disk_format='raw', visibility='private') # Third image would put us over quota, so expect failure self.assertRaises(lib_exc.OverLimit, self.create_image, name='third', container_format='bare', disk_format='raw', visibility='private') # Delete the first image to put us under quota self.client.delete_image(image['id']) # Now the same create should succeed self.create_image(name='third', container_format='bare', disk_format='raw', visibility='private') @decorators.idempotent_id('05e8d064-c39a-4801-8c6a-465df375ec5b') def test_image_size_quota(self): self.check_quotas_enabled() # Set a quota for our tenant to 1MiB. limit_id = self._create_limit('image_size_total', 1) file_content = data_utils.random_bytes(1 * units.Mi) # Create and upload a 1MiB image. image1 = self.create_image(name='first', container_format='bare', disk_format='raw', visibility='private') self.client.store_image_file(image1['id'], io.BytesIO(file_content)) # Create and upload a second 1MiB image. This succeeds, but # after completion, we are over quota. image2 = self.create_image(name='second', container_format='bare', disk_format='raw', visibility='private') self.client.store_image_file(image2['id'], io.BytesIO(file_content)) # Create and attempt to upload a third 1MiB image. This should fail to # upload (but not create) because we are over quota. image3 = self.create_image(name='third', container_format='bare', disk_format='raw', visibility='private') self.assertRaises(lib_exc.OverLimit, self.client.store_image_file, image3['id'], io.BytesIO(file_content)) # Increase our quota to 2MiB. self._update_limit(limit_id, 2) # Now the upload of the already-created image is allowed, but # after completion, we are over quota again. self.client.store_image_file(image3['id'], io.BytesIO(file_content)) # Create and attempt to upload a fourth 1MiB image. This should # fail to upload (but not create) because we are over quota. image4 = self.create_image(name='fourth', container_format='bare', disk_format='raw', visibility='private') self.assertRaises(lib_exc.OverLimit, self.client.store_image_file, image4['id'], io.BytesIO(file_content)) # Delete our first image to make space in our existing 2MiB quota. self.client.delete_image(image1['id']) # Now the upload of the already-created image is allowed. self.client.store_image_file(image4['id'], io.BytesIO(file_content)) @decorators.idempotent_id('fc76b8d9-aae5-46fb-9285-099e37f311f7') def test_image_stage_quota(self): if not CONF.image_feature_enabled.import_image: skip_msg = ( ""%s skipped as image import is not available"" % __name__) raise self.skipException(skip_msg) self.check_quotas_enabled() # Create a staging quota of 1MiB. limit_id = self._create_limit('image_stage_total', 1) file_content = data_utils.random_bytes(1 * units.Mi) # Create and stage a 1MiB image. image1 = self.create_image(name='first', container_format='bare', disk_format='raw', visibility='private') self.client.stage_image_file(image1['id'], io.BytesIO(file_content)) # Create and stage a second 1MiB image. This succeeds, but # after completion, we are over quota. image2 = self.create_image(name='second', container_format='bare', disk_format='raw', visibility='private') self.client.stage_image_file(image2['id'], io.BytesIO(file_content)) # Create and attempt to stage a third 1MiB image. This should fail to # stage (but not create) because we are over quota. image3 = self.create_image(name='third', container_format='bare', disk_format='raw', visibility='private') self.assertRaises(lib_exc.OverLimit, self.client.stage_image_file, image3['id'], io.BytesIO(file_content)) # Make sure that even though we are over our stage quota, we # can still create and upload an image the regular way. image_upload = self.create_image(name='uploaded', container_format='bare', disk_format='raw', visibility='private') self.client.store_image_file(image_upload['id'], io.BytesIO(file_content)) # Increase our stage quota to two MiB. self._update_limit(limit_id, 2) # Now the upload of the already-created image is allowed, but # after completion, we are over quota again. self.client.stage_image_file(image3['id'], io.BytesIO(file_content)) # Create and attempt to stage a fourth 1MiB image. This should # fail to stage (but not create) because we are over quota. image4 = self.create_image(name='fourth', container_format='bare', disk_format='raw', visibility='private') self.assertRaises(lib_exc.OverLimit, self.client.stage_image_file, image4['id'], io.BytesIO(file_content)) # Finish our import of image1 to make space in our stage quota. resp = self.client.image_import(image1['id'], method='glance-direct') waiters.wait_for_image_imported_to_stores(self.client, image1['id']) # Now the upload of the already-created image is allowed. self.client.stage_image_file(image4['id'], io.BytesIO(file_content))",,206,0
openstack%2Fopenstack-helm-infra~master~Ic63fd916289cb05411544cb33d5fdeed1352b380,openstack/openstack-helm-infra,master,Ic63fd916289cb05411544cb33d5fdeed1352b380,Prevent splitbrain during full Galera restart,MERGED,2020-01-23 16:47:09.000000000,2021-04-27 18:46:59.000000000,2020-01-31 03:28:59.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 18795}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2020-01-23 16:47:09.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0bb8dfa7a2196d484439b5f8aeb5faa029d45c8', 'message': 'Prevent splitbrain during full Galera restart\n\nThis patch introduces new cluster status ""reboot""\nwhich is set by leader node hence other nodes will\nstart mysql without ""--wsrep-new-cluster"" option.\nBefore this following situation took place:\n\nAll pods go down one by one with some offset;\nFirst and second nodes have max seqno;\nThe script on the first node detects there are no active\nbackends and starts timeout loop;\nThe script on the second node detects there are no active\nbackends and starts timeout loop (with approx. 20 sec offset\nfrom first node) ;\nTimeout loop finishes on first node, it checks highest seqno\nand lowest hostname  and wins the ability to start cluster.\nMysql is started with “--wsrep-new-cluster” parameter.\nSeqno is set to “-1” for this node after mysql startup;\nPeriodic job syncs values from grastate file to configmap;\nTimeout loop finishes on second node. It checks node with\nhighest seqno and lowest hostname and since seqno is already\n“-1” for first node, the second node decides that it should\nlead the cluster startup and executes mysql with “--wsrep-new-cluster”\noption as well which leads to split brain\n\nChange-Id: Ic63fd916289cb05411544cb33d5fdeed1352b380\n'}]",2,704034,b0bb8dfa7a2196d484439b5f8aeb5faa029d45c8,12,11,1,29013,,,0,"Prevent splitbrain during full Galera restart

This patch introduces new cluster status ""reboot""
which is set by leader node hence other nodes will
start mysql without ""--wsrep-new-cluster"" option.
Before this following situation took place:

All pods go down one by one with some offset;
First and second nodes have max seqno;
The script on the first node detects there are no active
backends and starts timeout loop;
The script on the second node detects there are no active
backends and starts timeout loop (with approx. 20 sec offset
from first node) ;
Timeout loop finishes on first node, it checks highest seqno
and lowest hostname  and wins the ability to start cluster.
Mysql is started with “--wsrep-new-cluster” parameter.
Seqno is set to “-1” for this node after mysql startup;
Periodic job syncs values from grastate file to configmap;
Timeout loop finishes on second node. It checks node with
highest seqno and lowest hostname and since seqno is already
“-1” for first node, the second node decides that it should
lead the cluster startup and executes mysql with “--wsrep-new-cluster”
option as well which leads to split brain

Change-Id: Ic63fd916289cb05411544cb33d5fdeed1352b380
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/704034/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,b0bb8dfa7a2196d484439b5f8aeb5faa029d45c8,prevent_splitbrain," leader_expiry, ""openstackhelm.openstack.org/reboot.node"": """" if (local_hostname == leader_node and not check_for_active_nodes() and get_cluster_state() == 'live'): logger.info(""I lead the cluster. Setting cluster state to reboot."") set_configmap_annotation( key='openstackhelm.openstack.org/cluster.state', value='reboot') set_configmap_annotation( key='openstackhelm.openstack.org/reboot.node', value=local_hostname) elif local_hostname == leader_node: logger.info(""The cluster is already rebooting"") return Falseelif get_cluster_state() == 'reboot': reboot_node = get_configmap_value( type='annotation', key='openstackhelm.openstack.org/reboot.node') if reboot_node == local_hostname: logger.info( ""Cluster reboot procedure wasn`t finished. Trying again."") update_grastate_on_restart() launch_leader_election() launch_cluster_monitor() mysqld_reboot() else: logger.info( ""Waiting for the lead node to come online before joining "" ""it"") update_grastate_on_restart() launch_leader_election() launch_cluster_monitor() while not check_for_active_nodes(): time.sleep(default_sleep) set_configmap_annotation( key='openstackhelm.openstack.org/cluster.state', value='live') run_mysqld()"," leader_expiry if local_hostname == leader_node: logger.info(""I lead the cluster"")",34,3
openstack%2Freleases~master~I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3,openstack/releases,master,I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3,New feature release for oslo.config project.,MERGED,2021-04-27 11:50:07.000000000,2021-04-27 18:26:30.000000000,2021-04-27 18:26:30.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 11:50:07.000000000', 'files': ['deliverables/xena/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0be6c5f2c5800a83fe990b9a5595f1c0c24e887d', 'message': 'New feature release for oslo.config project.\n\nAdding the missing HostDomain config option.\n\nChange-Id: I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3\n'}]",0,788252,0be6c5f2c5800a83fe990b9a5595f1c0c24e887d,8,3,1,31245,,,0,"New feature release for oslo.config project.

Adding the missing HostDomain config option.

Change-Id: I47e48b9f1a4f5b3f8f3525b0aed57c4db441c6f3
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/788252/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.config.yaml'],1,0be6c5f2c5800a83fe990b9a5595f1c0c24e887d,,releases: - version: 8.6.0 projects: - repo: openstack/oslo.config hash: 6e91dbb2d590fc1706243922c0ed71f6c2fcdf73,,5,0
openstack%2Fnova~stable%2Fvictoria~Ie653e5ec69d16ae469f1f8171fee85aea754edff,openstack/nova,stable/victoria,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 18:25:13.000000000,2021-04-27 18:23:29.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 22:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/513ed1dd3c60954dc467a64fdfd849a989cae56c', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n'}, {'number': 2, 'created': '2021-04-07 15:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25ff8d271d3eb3860e6e808924d24048c2a66f2', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n'}, {'number': 3, 'created': '2021-04-07 15:57:33.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b4f4796478941eafa9c0997f7ef03293c442d94', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nConflicts:\n    nova/db/sqlalchemy/api.py\n\nNOTE(melwitt): The conflict is because change\nI23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))\nis not in Victoria.\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n'}]",3,785069,7b4f4796478941eafa9c0997f7ef03293c442d94,17,4,3,4690,,,0,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Conflicts:
    nova/db/sqlalchemy/api.py

NOTE(melwitt): The conflict is because change
I23bb9e539d08f5c6202909054c2dd49b6c7a7a0e (Remove six.text_type (1/2))
is not in Victoria.

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/785069/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,513ed1dd3c60954dc467a64fdfd849a989cae56c,bug/1837995,"def _get_tables_with_fk_to_table(table): """"""Get a list of tables that refer to the given table by foreign key (FK). :param table: Table object (parent) for which to find references by FK :returns: A list of Table objects that refer to the specified table by FK tables = [] for t in models.BASE.metadata.tables.values(): for fk in t.foreign_keys: if fk.references(table): tables.append(t) return tables def _get_fk_stmts(metadata, conn, table, column, records): """"""Find records related to this table by foreign key (FK) and create and return insert/delete statements for them. Logic is: find the tables that reference the table passed to this method and walk the tree of references by FK. As child records are found, prepend them to deques to execute later in a single database transaction (to avoid orphaning related records if any one insert/delete fails or the archive process is otherwise interrupted). :param metadata: Metadata object to use to construct a shadow Table object :param conn: Connection object to use to select records related by FK :param table: Table object (parent) for which to find references by FK :param column: Column object (parent) to use to select records related by FK :param records: A list of records (column values) to use to select records related by FK :returns: tuple of (insert statements, delete statements) for records related by FK to insert into shadow tables and delete from main tables """""" inserts = collections.deque() deletes = collections.deque() fk_tables = _get_tables_with_fk_to_table(table) for fk_table in fk_tables: # Create the shadow table for the referencing table. fk_shadow_tablename = _SHADOW_TABLE_PREFIX + fk_table.name try: fk_shadow_table = Table(fk_shadow_tablename, metadata, autoload=True) except NoSuchTableError: # No corresponding shadow table; skip it. continue # TODO(stephenfin): Drop this when we drop the table if fk_table.name == ""dns_domains"": # We have one table (dns_domains) where the key is called # ""domain"" rather than ""id"" fk_column = fk_table.c.domain else: fk_column = fk_table.c.id for fk in fk_table.foreign_keys: # We need to find the records in the referring (child) table that # correspond to the records in our (parent) table so we can archive # them. # First, select the column in the parent referenced by the child # table that corresponds to the parent table records that were # passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instances.uuid FROM instances, instance_extra # WHERE instance_extra.instance_uuid = instances.uuid # AND instance.id IN (<ids>) # We need the instance uuids for the <ids> in order to # look up the matching instance_extra records. select = sql.select([fk.column]).where( sql.and_(fk.parent == fk.column, column.in_(records))) rows = conn.execute(select).fetchall() p_records = [r[0] for r in rows] # Then, select rows in the child table that correspond to the # parent table records that were passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instance_extra.id FROM instance_extra, instances # WHERE instance_extra.instance_uuid = instances.uuid # AND instances.uuid IN (<uuids>) # We will get the instance_extra ids we need to archive # them. fk_select = sql.select([fk_column]).where( sql.and_(fk.parent == fk.column, fk.column.in_(p_records))) fk_rows = conn.execute(fk_select).fetchall() fk_records = [r[0] for r in fk_rows] if fk_records: # If we found any records in the child table, create shadow # table insert statements for them and prepend them to the # deque. fk_columns = [c.name for c in fk_table.c] fk_insert = fk_shadow_table.insert(inline=True).\ from_select(fk_columns, sql.select([fk_table], fk_column.in_(fk_records))) inserts.appendleft(fk_insert) # Create main table delete statements and prepend them to the # deque. fk_delete = fk_table.delete().where(fk_column.in_(fk_records)) deletes.appendleft(fk_delete) # Repeat for any possible nested child tables. i, d = _get_fk_stmts(metadata, conn, fk_table, fk_column, fk_records) inserts.extendleft(i) deletes.extendleft(d) return inserts, deletes Will also follow FK constraints and archive all referring rows. Example: archving a record from the 'instances' table will also archive the 'instance_extra' record before archiving the 'instances' record. :returns: 3-item tuple: - number of extra rows archived (due to FK constraints) dict of {tablename: rows_archived} return rows_archived, deleted_instance_uuids, {} # We will archive deleted rows for this table and also generate insert and # delete statements for extra rows we may archive by following FK # relationships. Because we are iterating over the sorted_tables (list of # Table objects sorted in order of foreign key dependency), new inserts and # deletes (""leaves"") will be added to the fronts of the deques created in # _get_fk_stmts. This way, we make sure we delete child table records # before we delete their parent table records. # Keep track of any extra tablenames to number of rows that we archive by # following FK relationships. # {tablename: extra_rows_archived} extras = collections.defaultdict(int) # Walk FK relationships and add insert/delete statements for rows that # refer to this table via FK constraints. fk_inserts and fk_deletes # will be prepended to by _get_fk_stmts if referring rows are found by # FK constraints. fk_inserts, fk_deletes = _get_fk_stmts( metadata, conn, table, column, records) for fk_insert in fk_inserts: conn.execute(fk_insert) for fk_delete in fk_deletes: result_fk_delete = conn.execute(fk_delete) extras[fk_delete.table.name] += result_fk_delete.rowcount rows_archived += result_delete.rowcount return rows_archived, deleted_instance_uuids, extras table_to_rows_archived = collections.defaultdict(int) # Get the sorted list of tables in order of foreign key dependency. # Process the parent tables and find their dependent records in order to # archive the related records in a single database transactions. The goal # is to avoid a situation where, for example, an 'instances' table record # is missing its corresponding 'instance_extra' record due to running the # archive_deleted_rows command with max_rows. for table in meta.sorted_tables: rows_archived, _deleted_instance_uuids, extras = ( for tablename, extra_rows_archived in extras.items(): table_to_rows_archived[tablename] += extra_rows_archived total_rows_archived += extra_rows_archived","def _archive_if_instance_deleted(table, shadow_table, instances, conn, max_rows, before): """"""Look for records that pertain to deleted instances, but may not be deleted themselves. This catches cases where we delete an instance, but leave some residue because of a failure in a cleanup path or similar. Logic is: if I have a column called instance_uuid, and that instance is deleted, then I can be deleted. # NOTE(jake): handle instance_actions_events differently as it relies on # instance_actions.id not instances.uuid if table.name == ""instance_actions_events"": instance_actions = models.BASE.metadata.tables[""instance_actions""] query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == instance_actions.c.instance_uuid, instance_actions.c.id == table.c.action_id)) else: query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == table.c.instance_uuid)) if before: query_select = query_select.where(instances.c.deleted_at < before) query_select = query_select.order_by(table.c.id).limit(max_rows) query_insert = shadow_table.insert(inline=True).\ from_select([c.name for c in table.c], query_select) delete_statement = DeleteFromSelect(table, query_select, table.c.id) :returns: 2-item tuple: return rows_archived, deleted_instance_uuids rows_archived = result_delete.rowcount # NOTE(jake): instance_actions_events doesn't have a instance_uuid column # but still needs to be archived as it is a FK constraint if ((max_rows is None or rows_archived < max_rows) and # NOTE(melwitt): The pci_devices table uses the 'instance_uuid' # column to track the allocated association of a PCI device and its # records are not tied to the lifecycles of instance records. (tablename != 'pci_devices' and 'instance_uuid' in columns or tablename == 'instance_actions_events')): instances = models.BASE.metadata.tables['instances'] limit = max_rows - rows_archived if max_rows is not None else None extra = _archive_if_instance_deleted(table, shadow_table, instances, conn, limit, before) rows_archived += extra return rows_archived, deleted_instance_uuids table_to_rows_archived = {} # Reverse sort the tables so we get the leaf nodes first for processing. for table in reversed(meta.sorted_tables): rows_archived, _deleted_instance_uuids = (",166,80
openstack%2Frequirements~master~I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97,openstack/requirements,master,I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97,Updated from generate-constraints,ABANDONED,2021-04-27 06:20:34.000000000,2021-04-27 18:13:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 06:20:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/db6f6b41d6622a592b5c196d79f68179f0653a5b', 'message': 'Updated from generate-constraints\n\nChange-Id: I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97\n'}]",0,788163,db6f6b41d6622a592b5c196d79f68179f0653a5b,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I3b7fb5db20fa1203cac66059cbdc2b2b541c6c97
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/788163/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,db6f6b41d6622a592b5c196d79f68179f0653a5b,openstack/requirements/constraints,SQLAlchemy===1.4.11google-auth===1.30.0boto3===1.17.58botocore===1.20.58pkg-resources===0.0.0tenacity===7.0.0,SQLAlchemy===1.3.23google-auth===1.29.0boto3===1.17.57botocore===1.20.57tenacity===6.3.1setuptools===56.0.0,6,6
openstack%2Fmanila-ui~master~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,master,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-04-17 01:46:07.000000000,2021-04-27 18:09:21.000000000,2021-04-27 18:07:53.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-04-17 01:46:07.000000000', 'files': ['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/4edb837a1b5492b14b05d00236337525bdcde686', 'message': 'Remove nova networking\n\nThis is essentially dead code elimination\nfrom manila-ui at this point since manila\nand python-manilaclient dropped support\nin the Ocata release.\n\nChange-Id: I92e87282020047c7fad055cae92f2382c4193597\nPartially-implements: bp remove-nova-net-plugin\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,786748,4edb837a1b5492b14b05d00236337525bdcde686,10,5,1,16643,,,0,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/48/786748/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py']",6,4edb837a1b5492b14b05d00236337525bdcde686,bp/remove-nova-net-plugin,,"from manila_ui.api import network else: share_net.nova_net = network.network_get( request, share_net.nova_net_id).name_or_id",9,28
openstack%2Fkolla~master~If21a21296489c1f243bb46f2595ff94d999bd686,openstack/kolla,master,If21a21296489c1f243bb46f2595ff94d999bd686,neutron: Remove vmware-nsx and networking-mlx from binary,MERGED,2021-04-27 15:26:21.000000000,2021-04-27 17:59:11.000000000,2021-04-27 17:57:47.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 15:26:21.000000000', 'files': ['contrib/neutron-plugins/README.rst', 'releasenotes/notes/wallaby-neutron-plugins-excluded-b72220a2ea8c1a40.yaml', 'contrib/neutron-plugins/template_override-networking-mlnx.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'contrib/neutron-plugins/template_override-vmware-nsx.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a4f6a8f05b45838338ee1c6a78f278d49486ac03', 'message': 'neutron: Remove vmware-nsx and networking-mlx from binary\n\nThose plugins have been already removed from source images, this\nchange removes them from binary.\n\nChange-Id: If21a21296489c1f243bb46f2595ff94d999bd686\n'}]",1,788317,a4f6a8f05b45838338ee1c6a78f278d49486ac03,9,3,1,22629,,,0,"neutron: Remove vmware-nsx and networking-mlx from binary

Those plugins have been already removed from source images, this
change removes them from binary.

Change-Id: If21a21296489c1f243bb46f2595ff94d999bd686
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/788317/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/neutron-plugins/README.rst', 'contrib/neutron-plugins/template_override-networking-mlnx.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'releasenotes/notes/wallaby-neutron-plugins-excluded-b72220a2ea8c1a40.yaml', 'contrib/neutron-plugins/template_override-vmware-nsx.j2']",5,a4f6a8f05b45838338ee1c6a78f278d49486ac03,,{% extends parent_template %} # Neutron vmware-nsx plugin {% set neutron_base_packages_append = ['python3-networking-vmware-nsx'] %} ,,14,7
openstack%2Fneutron-tempest-plugin~master~If800983a48338ceaf4aa52f4a970d3d87a977fb1,openstack/neutron-tempest-plugin,master,If800983a48338ceaf4aa52f4a970d3d87a977fb1,"Implements a method to check connectivity between multiple servers, each server in its own network.",ABANDONED,2021-04-27 17:18:05.000000000,2021-04-27 17:25:25.000000000,,"[{'_account_id': 19118}, {'_account_id': 29350}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-04-27 17:18:05.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5d4a8cec2a600cb850a3c0714d88f9b2b69ed9a5', 'message': 'Implements a method to check connectivity between multiple servers,\neach server in its own network.\n\n- Each server pings to the next server.\n- Each server receives and sends a ping.\n- Checks ping to floating and fixed ip for each server.\n\nChange-Id: If800983a48338ceaf4aa52f4a970d3d87a977fb1\n'}]",0,788331,5d4a8cec2a600cb850a3c0714d88f9b2b69ed9a5,3,3,1,33341,,,0,"Implements a method to check connectivity between multiple servers,
each server in its own network.

- Each server pings to the next server.
- Each server receives and sends a ping.
- Checks ping to floating and fixed ip for each server.

Change-Id: If800983a48338ceaf4aa52f4a970d3d87a977fb1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/788331/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,5d4a8cec2a600cb850a3c0714d88f9b2b69ed9a5,multi_ping," def ping_between_multiple_networks(self, nets_amount=2, router=None, keypair=None): """"""Creates many networks according to given parameter (default 2), creates their resources and a server in each network. Test connectivity from each server to next server using destination fixed ip and floating ip. Ping is sent and received once on each single server in a network. Each network has corresponding subnet, server, port and fip. All networks share the same router, keypair and security group. :param router: Router object to use. :param keypair: Keypair object to use. """""" self.assertGreater(nets_amount, 1, 'Test parameter requires at least 2 networks.') self.networks = [] self.subnets = [] self.servers = [] self.ports = [] self.fips = [] servers_params = [] secgroup = self.os_primary.network_client.create_security_group( name=data_utils.rand_name('secgroup')) self.security_groups.append(secgroup['security_group']) self.create_loginable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) self.create_pingable_secgroup_rule( secgroup_id=secgroup['security_group']['id']) if not router: router = self.create_router_by_client() if not keypair: self.keypair = self.create_keypair() else: self.keypair = keypair LOG.debug(""Created all shared resources for test"") for i in range(nets_amount): self.networks.append(self.create_network()) LOG.debug(""Created network number %d named %s"", i + 1, self.networks[i]['name']) self.subnets.append(self.create_subnet(self.networks[i])) LOG.debug(""Created subnet number %d named %s"", i + 1, self.subnets[i]['id']) self.create_router_interface(router['id'], self.subnets[i]['id']) servers_params.append( { 'flavor_ref': CONF.compute.flavor_ref, 'image_ref': CONF.compute.image_ref, 'key_name': self.keypair['name'], 'networks': [{'uuid': self.networks[i]['id']}], 'security_groups': [{'name': secgroup['security_group']['name']}], } ) self.servers.append(self.create_server(**servers_params[i])) self.ports.append( self.client.list_ports( network_id=self.networks[i]['id'], device_id=self.servers[i]['server']['id'] )['ports'][0] ) self.fips.append(self.create_floatingip(port=self.ports[i])) ssh_clients = [] for i in range(nets_amount): current_sender = self.fips[i] # each server pings to next, last server pings to first if i != nets_amount - 1: current_receiver = self.fips[i + 1] else: current_receiver = self.fips[0] ssh_clients.append(ssh.Client( current_sender['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key'] )) LOG.debug(""Test ping: %s -> %s (floating ip)"", current_sender['fixed_ip_address'], current_receiver['floating_ip_address']) self.check_remote_connectivity( ssh_clients[i], current_receiver['floating_ip_address'], ping_count=1) LOG.debug(""Test ping: %s -> %s (fixed ip)"", current_sender['fixed_ip_address'], current_receiver['fixed_ip_address']) self.check_remote_connectivity( ssh_clients[i], current_receiver['fixed_ip_address'], ping_count=1) ",,112,0
openstack%2Fkolla~stable%2Fwallaby~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,stable/wallaby,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 17:56:30.000000000,2021-04-27 17:22:09.000000000,2021-04-27 17:20:48.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 17:56:30.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/13abc31c2f34ef8cf8772c4209ad0102c839d2ec', 'message': ""Disable trove for Debian/binary\n\nPackage installation fails:\n\nSetting up trove-common (1:14.0.0-2~bpo10+1) ...\ninstall: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory\ndpkg: error processing package trove-common (--configure):\n installed trove-common package post-installation script subprocess returned error exit status 1\n\nChange-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea\n(cherry picked from commit 51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53)\n""}]",0,787987,13abc31c2f34ef8cf8772c4209ad0102c839d2ec,12,3,1,30491,,,0,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
(cherry picked from commit 51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/787987/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,13abc31c2f34ef8cf8772c4209ad0102c839d2ec,," ""trove-base"", # package is not installable",,1,0
openstack%2Fgrenade~master~If38096aedac5c528a4feb5f70992afa4e13d6f67,openstack/grenade,master,If38096aedac5c528a4feb5f70992afa4e13d6f67,References to review.openstack.org are replaced with review.opendev.org,MERGED,2021-04-26 19:34:25.000000000,2021-04-27 17:18:16.000000000,2021-04-27 00:14:45.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-26 19:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/4d22be65f88412ed09c4cc984ead48ea6f4b5825', 'message': 'References to review.openstack.org are replaced with review.opendev.org\n\nBug: #1832367\nChange-Id: If38096aedac5c528a4feb5f70992afa4e13d6f67\n'}, {'number': 2, 'created': '2021-04-26 19:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/8519263e99d5ec1a289991f539d292af98e45015', 'message': 'References to review.openstack.org are replaced with review.opendev.org\n\nBug: #1832367\nChange-Id: If38096aedac5c528a4feb5f70992afa4e13d6f67\n'}, {'number': 3, 'created': '2021-04-26 19:58:41.000000000', 'files': ['projects/60_nova/from-rocky/upgrade-nova', 'grenaderc', 'tools/build_docs.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/41364698b275498610506b06960510ea86b2a783', 'message': 'References to review.openstack.org are replaced with review.opendev.org\n\nCloses-Bug: #1832367\nChange-Id: If38096aedac5c528a4feb5f70992afa4e13d6f67\n'}]",5,788068,41364698b275498610506b06960510ea86b2a783,14,3,3,33379,,,0,"References to review.openstack.org are replaced with review.opendev.org

Closes-Bug: #1832367
Change-Id: If38096aedac5c528a4feb5f70992afa4e13d6f67
",git fetch https://review.opendev.org/openstack/grenade refs/changes/68/788068/3 && git format-patch -1 --stdout FETCH_HEAD,"['projects/60_nova/from-rocky/upgrade-nova', 'grenaderc', 'tools/build_docs.sh']",3,4d22be65f88412ed09c4cc984ead48ea6f4b5825,," --pretty=format:' <li>%s - <em>Commit <a href=""https://review.opendev.org/"">%h</a> %cd</em></li>' \"," --pretty=format:' <li>%s - <em>Commit <a href=""https://review.openstack.org/#q,%h,n,z"">%h</a> %cd</em></li>' \",3,3
openstack%2Fnova~stable%2Fvictoria~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,stable/victoria,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 17:14:01.000000000,2021-04-27 17:07:04.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-06 22:49:20.000000000', 'files': ['nova/tests/functional/db/test_archive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21241b38dd4bc2c74a69aed489ada5c611395920', 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)\n""}]",0,785068,21241b38dd4bc2c74a69aed489ada5c611395920,12,6,1,4690,,,0,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/785068/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_archive.py'],1,21241b38dd4bc2c74a69aed489ada5c611395920,bug/1837995," def test_archive_deleted_rows_incomplete(self): """"""This tests a scenario where archive_deleted_rows is run with --max_rows and does not run to completion. That is, the archive is stopped before all archivable records have been archived. Specifically, the problematic state is when a single instance becomes partially archived (example: 'instance_extra' record for one instance has been archived while its 'instances' record remains). Any access of the instance (example: listing deleted instances) that triggers the retrieval of a dependent record that has been archived away, results in undefined behavior that may raise an error. We will force the system into a state where a single deleted instance is partially archived. We want to verify that we can, for example, successfully do a GET /servers/detail at any point between partial archive_deleted_rows runs without errors. """""" # Boots a server, deletes it, and then tries to archive it. server = self._create_server() server_id = server['id'] # Assert that there are instance_actions. instance_actions are # interesting since we don't soft delete them but they have a foreign # key back to the instances table. actions = self.api.get_instance_actions(server_id) self.assertTrue(len(actions), 'No instance actions for server: %s' % server_id) self._delete_server(server) # Archive deleted records iteratively, 1 row at a time, and try to do a # GET /servers/detail between each run. All should succeed. exceptions = [] while True: _, _, archived = db.archive_deleted_rows(max_rows=1) try: # Need to use the admin API to list deleted servers. self.admin_api.get_servers(search_opts={'deleted': True}) except Exception as ex: exceptions.append(ex) if archived == 0: break # FIXME(melwitt): OrphanedObjectError is raised because of the bug. self.assertTrue(exceptions) for ex in exceptions: self.assertEqual(500, ex.response.status_code) self.assertIn('OrphanedObjectError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self.assertFalse(exceptions) ",,47,0
openstack%2Fopenstack-tempest-skiplist~master~I1a54fd388dd9de1b8422e6d39dba6e4a6c285078,openstack/openstack-tempest-skiplist,master,I1a54fd388dd9de1b8422e6d39dba6e4a6c285078,Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern,MERGED,2021-04-08 20:53:32.000000000,2021-04-27 17:12:38.000000000,2021-04-27 17:10:37.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-08 20:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8fabb2b9d1f4d9c386ebbece48d7797ff1796ee8', 'message': 'Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern\n\nRemoving tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern to check if periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri fails\n\nChange-Id: I1a54fd388dd9de1b8422e6d39dba6e4a6c285078\n'}, {'number': 2, 'created': '2021-04-08 20:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2f75083d6abb53e3069a8f618d5e8ec124a248e5', 'message': 'Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern\n\nRemoving tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern to check if periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri fails.\nRelated to Bug: https://bugs.launchpad.net/tripleo/+bug/1918478\n\nChange-Id: I1a54fd388dd9de1b8422e6d39dba6e4a6c285078\n'}, {'number': 3, 'created': '2021-04-08 22:25:22.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/9404b81650843676a5469d4580a9528d98612379', 'message': 'Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern\n\nRemoving tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern to check if periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri fails.\nCorresponding testproject: https://review.rdoproject.org/r/c/testproject/+/33175\nRelated to Bug: https://bugs.launchpad.net/tripleo/+bug/1918478\n\nChange-Id: I1a54fd388dd9de1b8422e6d39dba6e4a6c285078\n'}]",0,785512,9404b81650843676a5469d4580a9528d98612379,14,3,3,32458,,,0,"Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern

Removing tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern to check if periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri fails.
Corresponding testproject: https://review.rdoproject.org/r/c/testproject/+/33175
Related to Bug: https://bugs.launchpad.net/tripleo/+bug/1918478

Change-Id: I1a54fd388dd9de1b8422e6d39dba6e4a6c285078
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/12/785512/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,8fabb2b9d1f4d9c386ebbece48d7797ff1796ee8,,, - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' deployment: - 'overcloud' releases: - name: 'ussuri' reason: 'auth failure' lp: https://bugs.launchpad.net/tripleo/+bug/1918478 jobs: - periodic-tripleo-ci-centos-8-standalone-upgrade-ussuri - tripleo-ci-centos-8-standalone-upgrade - tripleo-ci-centos-8-standalone-upgrade-ussuri,0,11
openstack%2Fnova~stable%2Fvictoria~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,stable/victoria,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,MERGED,2021-04-06 22:49:20.000000000,2021-04-27 17:12:35.000000000,2021-04-27 17:06:41.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 22:49:20.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/382d64ea36e5cf3b47929fee0b93539d2f126975', 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nConflicts:\n    nova/test.py\n\nNOTE(melwitt): The conflicts are because of the following changes not\nin Victoria:\n\n  * Ib2c406327fef2fb4868d8050fc476a7d17706e23 (Remove six.moves)\n  * Ide65686cf02463045f5c32771ca949802b19636f (Remove\n    six.binary_type/integer_types/string_types)\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)\n""}]",0,785067,382d64ea36e5cf3b47929fee0b93539d2f126975,12,5,1,4690,,,0,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflicts are because of the following changes not
in Victoria:

  * Ib2c406327fef2fb4868d8050fc476a7d17706e23 (Remove six.moves)
  * Ide65686cf02463045f5c32771ca949802b19636f (Remove
    six.binary_type/integer_types/string_types)

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/785067/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py']",4,382d64ea36e5cf3b47929fee0b93539d2f126975,bug/1837995, self.enforce_fk_constraints(engine=self.engine),"from sqlalchemy.dialects import sqlite dialect = self.engine.url.get_dialect() if dialect == sqlite.dialect: # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys') self.conn.execute(""PRAGMA foreign_keys = ON"")",22,30
openstack%2Fpuppet-openstack-integration~master~Ia086679798eaf4eb8eed83867125defe689909e3,openstack/puppet-openstack-integration,master,Ia086679798eaf4eb8eed83867125defe689909e3,Drop syntax job on CentOS8,MERGED,2021-04-23 08:39:29.000000000,2021-04-27 17:06:33.000000000,2021-04-27 17:06:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 08:39:29.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/linters.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fc340a3da47a8c68b7573d86680b94dc04d69f0c', 'message': ""Drop syntax job on CentOS8\n\nCurrently we run syntax job on Ubuntu only for usual modules while\nwe run also one on CentOS8 for libraries.\nSince syntax job doesn't depend on the host OS, it's enough if we run\nthe job on Ubuntu.\n\nChange-Id: Ia086679798eaf4eb8eed83867125defe689909e3\n""}]",0,787689,fc340a3da47a8c68b7573d86680b94dc04d69f0c,11,3,1,9816,,,0,"Drop syntax job on CentOS8

Currently we run syntax job on Ubuntu only for usual modules while
we run also one on CentOS8 for libraries.
Since syntax job doesn't depend on the host OS, it's enough if we run
the job on Ubuntu.

Change-Id: Ia086679798eaf4eb8eed83867125defe689909e3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/89/787689/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/linters.yaml']",2,fc340a3da47a8c68b7573d86680b94dc04d69f0c,,, - job: name: puppet-openstack-libraries-puppet-syntax-6-centos-8-stream parent: puppet-openstack-libraries-puppet-syntax nodeset: centos-8-stream vars: puppet: 6,0,9
openstack%2Fopenstack-tempest-skiplist~master~Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16,openstack/openstack-tempest-skiplist,master,Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16,Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips,MERGED,2021-04-14 14:11:22.000000000,2021-04-27 17:04:27.000000000,2021-04-27 17:03:12.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-14 14:11:22.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/41ba0bbc0d7f63abd3d9802d5ccdda3e9e6c44cc', 'message': 'Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips\n\nRemoving neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips to check if periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train fails on libvirt 7  issue\n\nRelated to Bug: https://bugs.launchpad.net/tripleo/+bug/1921918\n\nChange-Id: Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16\n'}]",0,786249,41ba0bbc0d7f63abd3d9802d5ccdda3e9e6c44cc,10,3,1,32458,,,0,"Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips

Removing neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips to check if periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train fails on libvirt 7  issue

Related to Bug: https://bugs.launchpad.net/tripleo/+bug/1921918

Change-Id: Ifc35c7d4cf43ef7e5b1575d33463600b5174ce16
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/49/786249/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,41ba0bbc0d7f63abd3d9802d5ccdda3e9e6c44cc,,, - test: neutron_tempest_plugin.scenario.admin.test_floatingip.FloatingIpTestCasesAdmin.test_two_vms_fips deployment: - overcloud releases: - name: train reason: Connection to the hypervisor is broken on host lp: https://bugs.launchpad.net/tripleo/+bug/1921918 jobs: - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-train,0,9
openstack%2Fvalidations-libs~master~Ic38690bd719658fe02a30691d112f3429523802a,openstack/validations-libs,master,Ic38690bd719658fe02a30691d112f3429523802a,Raise exception if result is empty,MERGED,2021-04-20 15:24:09.000000000,2021-04-27 16:58:00.000000000,2021-04-27 16:51:13.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-20 15:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/66464e402793b7293f72aa700d399c5c0aaa3c16', 'message': 'Raise exception is result is empty\n\nIf results is empty in cli/run.py then we should raise\na RuntimeError.\n\nChange-Id: Ic38690bd719658fe02a30691d112f3429523802a\n'}, {'number': 2, 'created': '2021-04-21 06:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ff29ec2fe07e8c49b78565b0fbcdfb9d7f446f17', 'message': 'Raise exception is result is empty\n\nIf results is empty in cli/run.py then we should raise\na RuntimeError.\n\nChange-Id: Ic38690bd719658fe02a30691d112f3429523802a\n'}, {'number': 3, 'created': '2021-04-21 10:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6e533dfb78ea915d6bacab4b5ffcfdf5da42d119', 'message': 'Raise exception if result is empty\n\nIf results is empty in cli/run.py then we should raise\na RuntimeError otherwise, it will returns 0 without any\ninformation.\n\nChange-Id: Ic38690bd719658fe02a30691d112f3429523802a\n'}, {'number': 4, 'created': '2021-04-23 13:50:00.000000000', 'files': ['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6329e3b63a70a4499f02c4bc6c2ee9e066951302', 'message': 'Raise exception if result is empty\n\nIf results is empty in cli/run.py then we should raise\na RuntimeError otherwise, it will returns 0 without any\ninformation.\n\nChange-Id: Ic38690bd719658fe02a30691d112f3429523802a\n'}]",0,787219,6329e3b63a70a4499f02c4bc6c2ee9e066951302,17,4,4,16515,,,0,"Raise exception if result is empty

If results is empty in cli/run.py then we should raise
a RuntimeError otherwise, it will returns 0 without any
information.

Change-Id: Ic38690bd719658fe02a30691d112f3429523802a
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/19/787219/4 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py']",2,66464e402793b7293f72aa700d399c5c0aaa3c16,cli/run/results," self.assertRaises(RuntimeError, self.cmd.take_action, parsed_args) parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises(RuntimeError, self.cmd.take_action, parsed_args) @mock.patch('getpass.getuser', return_value='doe') @mock.patch('validations_libs.validation_actions.ValidationActions.' 'run_validations', return_value=[]) def test_run_command_no_validation(self, mock_run, mock_user): run_called_args = { 'inventory': 'localhost', 'limit_hosts': None, 'group': [], 'extra_vars': {'key': 'value'}, 'validations_dir': '/usr/share/ansible/validation-playbooks', 'base_dir': '/usr/share/ansible/', 'validation_name': ['foo'], 'extra_env_vars': {'key2': 'value2'}, 'quiet': True, 'ssh_user': 'doe'} arglist = ['--validation', 'foo'] verifylist = [('validation_name', ['foo'])]"," result = self.cmd.take_action(parsed_args) self.assertEqual(result, None)",29,6
openstack%2Fvalidations-libs~master~I41f15c28dfddd911294ecc8e3e0331a4956dc5d8,openstack/validations-libs,master,I41f15c28dfddd911294ecc8e3e0331a4956dc5d8,CLI colors refactored,MERGED,2021-04-20 08:40:00.000000000,2021-04-27 16:56:50.000000000,2021-04-27 16:50:52.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-04-20 08:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c68cdfd0098ca6bea6f4f77bb10f7f8431d9dcd5', 'message': 'CLI colors refactored\n\nColors are now stored in their own module.\nOutput coloring was factored out into a separate\nutility function.\n\nState => color mapping is now implemented as a\ndictionary instead of multiple conditionals.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8\n'}, {'number': 2, 'created': '2021-04-20 10:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f1b38736390b4f2bfaa7a1697650d35deb805211', 'message': 'CLI colors refactored\n\nColors are now stored in their own module.\nOutput coloring was factored out into a separate\nutility function.\n\nState => color mapping is now implemented as a\ndictionary instead of multiple conditionals.\n\nTests included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8\n'}, {'number': 3, 'created': '2021-04-20 12:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7a602811065b2b0a936a7c4abdd5efa406cbc0b5', 'message': 'CLI colors refactored\n\nColors are now stored in their own module.\nOutput coloring was factored out into a separate\nutility function.\n\nState => color mapping is now implemented as a\ndictionary instead of multiple conditionals.\n\nTests included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8\n'}, {'number': 4, 'created': '2021-04-20 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e93872e450458e795f494a2ded698886e9990204', 'message': 'CLI colors refactored\n\nColors are now stored in their own module.\nOutput coloring was factored out into a separate\nutility function.\n\nState => color mapping is now implemented as a\ndictionary instead of multiple conditionals.\n\nTests included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8\n'}, {'number': 5, 'created': '2021-04-26 09:38:51.000000000', 'files': ['validations_libs/cli/colors.py', 'validations_libs/cli/common.py', 'validations_libs/tests/cli/test_colors.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/03981dba8a8923cf94ed947d1391752bb9213e04', 'message': 'CLI colors refactored\n\nColors are now stored in their own module.\nOutput coloring was factored out into a separate\nutility function.\n\nState => color mapping is now implemented as a\ndictionary instead of multiple conditionals.\n\nTests included.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8\n'}]",4,787165,03981dba8a8923cf94ed947d1391752bb9213e04,21,10,5,32926,,,0,"CLI colors refactored

Colors are now stored in their own module.
Output coloring was factored out into a separate
utility function.

State => color mapping is now implemented as a
dictionary instead of multiple conditionals.

Tests included.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I41f15c28dfddd911294ecc8e3e0331a4956dc5d8
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/65/787165/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/colors.py', 'validations_libs/cli/common.py']",2,c68cdfd0098ca6bea6f4f77bb10f7f8431d9dcd5,refactor/colors,"from validations_libs.cli import colors _status = 'UNKNOWN' _name = colors.color_output(_name, status=_status) row['Status'] = colors.color_output(status, status=status)","# PrettyTable Colors: RED = ""\033[1;31m"" GREEN = ""\033[0;32m"" CYAN = ""\033[36m"" RESET = ""\033[0;0m"" YELLOW = ""\033[0;33m"" _status = YELLOW color = (GREEN if _status == 'PASSED' else RED) _name = '{}{}{}'.format(color, _name, RESET) color = (CYAN if status in ['starting', 'running'] else GREEN if status == 'PASSED' else RED) row['Status'] = '{}{}{}'.format(color, status, RESET)",55,13
openstack%2Ftripleo-common~stable%2Fwallaby~Ia09927e33653889356782c264f1e2769c40b938b,openstack/tripleo-common,stable/wallaby,Ia09927e33653889356782c264f1e2769c40b938b,Update .gitreview for stable/wallaby,MERGED,2021-04-15 17:23:35.000000000,2021-04-27 16:56:48.000000000,2021-04-27 16:52:28.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-15 17:23:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24c915a84347bca16b6f588fb291d086d20e0319', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ia09927e33653889356782c264f1e2769c40b938b\n'}]",0,786473,24c915a84347bca16b6f588fb291d086d20e0319,9,4,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ia09927e33653889356782c264f1e2769c40b938b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/786473/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,24c915a84347bca16b6f588fb291d086d20e0319,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Id853b1e80d690734ac9c32a1b914e49608f6cc43,openstack/python-tripleoclient,stable/train,Id853b1e80d690734ac9c32a1b914e49608f6cc43,Use validation framework for running undercloud checkdisk,MERGED,2021-04-12 05:54:27.000000000,2021-04-27 16:56:47.000000000,2021-04-27 16:50:20.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-12 05:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b152405517ba5aa028f54539992ddd51e660618d', 'message': 'Use validation framework for running undercloud checkdisk\n\nThe validations playbook is own and moved under the VF\nansible dir.\nThe undercloud preflight check should use VF for running it.\n\nChange-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43\n(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)\n(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)\n'}, {'number': 2, 'created': '2021-04-12 05:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33f3de074d7a6d3c6004e7b8b96b91d441c6047d', 'message': 'Use validation framework for running undercloud checkdisk\n\nThe validations playbook is own and moved under the VF\nansible dir.\nThe undercloud preflight check should use VF for running it.\n\nChange-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43\n(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)\n(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)\n'}, {'number': 3, 'created': '2021-04-12 10:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/20ee93fbf2ed5cb9c9a63b2a635fbb4d912d7da1', 'message': 'Use validation framework for running undercloud checkdisk\n\nThe validations playbook is own and moved under the VF\nansible dir.\nThe undercloud preflight check should use VF for running it.\n\nChange-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43\n(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)\n(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)\n'}, {'number': 4, 'created': '2021-04-13 07:19:12.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/429169bde6975afd9606b2d410d81e6f32ba2a31', 'message': 'Use validation framework for running undercloud checkdisk\n\nThe validations playbook is own and moved under the VF\nansible dir.\nThe undercloud preflight check should use VF for running it.\n\nChange-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43\n(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)\n(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)\n'}]",9,785604,429169bde6975afd9606b2d410d81e6f32ba2a31,25,6,4,16515,,,0,"Use validation framework for running undercloud checkdisk

The validations playbook is own and moved under the VF
ansible dir.
The undercloud preflight check should use VF for running it.

Change-Id: Id853b1e80d690734ac9c32a1b914e49608f6cc43
(cherry picked from commit 3dd2c83883960bd279e82b9fb0d4a3cb16c5e2cb)
(cherry picked from commit 8c7942ed2555dad8c34a7dada88fff5854db1151)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/785604/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,b152405517ba5aa028f54539992ddd51e660618d,undercloud/preflight-stable/ussuri-stable/train,"from validations_libs import constants as v_consts from validations_libs.validation_actions import ValidationActions <<<<<<< HEAD (1a6496 Move static-inventory option into parser group)======= with utils.TempDirs() as tmp: # @matbu: todo: removed this when [1] will be merged # [1] https://review.opendev.org/753845 v_consts.VALIDATION_ANSIBLE_ARTIFACT_PATH = ""{}/artifacts"".format(tmp) actions = ValidationActions() actions.run_validations( inventory='undercloud', log_path=tmp, validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=playbook_args['playbook']) >>>>>>> CHANGE (8c7942 Use validation framework for running undercloud checkdisk)",,16,0
openstack%2Ftripleo-validations~master~I48b237d1a8f3bab3b0817db5edb9aade0a941e42,openstack/tripleo-validations,master,I48b237d1a8f3bab3b0817db5edb9aade0a941e42,Exceptions constraints improved,MERGED,2021-04-15 11:35:01.000000000,2021-04-27 16:52:11.000000000,2021-04-27 16:52:11.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-15 11:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8d6f5a5dfc112cea42f8006fafe1423e441b7ae', 'message': 'Exceptions constraints improved\n\nExceptions were too general, potentially swallowing\nunexpected issues and hiding them from the view of maintainers.\n\nAll of the problematic except blocks were refactored\nto only consider exceptions directly related to their try blocks.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I48b237d1a8f3bab3b0817db5edb9aade0a941e42\n'}, {'number': 2, 'created': '2021-04-15 12:02:05.000000000', 'files': ['library/switch_vlans.py', 'library/network_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/64994c781b7ce687af8650306e7656036cb2feba', 'message': 'Exceptions constraints improved\n\nExceptions were too general, potentially swallowing\nunexpected issues and hiding them from the view of maintainers.\n\nAll of the problematic except blocks were refactored\nto only consider exceptions directly related to their try blocks.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I48b237d1a8f3bab3b0817db5edb9aade0a941e42\n'}]",0,786391,64994c781b7ce687af8650306e7656036cb2feba,9,6,2,32926,,,0,"Exceptions constraints improved

Exceptions were too general, potentially swallowing
unexpected issues and hiding them from the view of maintainers.

All of the problematic except blocks were refactored
to only consider exceptions directly related to their try blocks.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I48b237d1a8f3bab3b0817db5edb9aade0a941e42
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/786391/2 && git format-patch -1 --stdout FETCH_HEAD,"['library/switch_vlans.py', 'library/network_environment.py']",2,b8d6f5a5dfc112cea42f8006fafe1423e441b7ae,broadexceptions," except IOError as e: except IOError as e: except ValueError: except (netaddr.AddrFormatError, ValueError) as error: errors.append('Invalid IP network: {}, {}'.format(network, error)) except netaddr.AddrFormatError: except (netaddr.AddrFormatError, ValueError): except IOError as e:", except Exception as e: except Exception as e: except Exception: except Exception: errors.append('Invalid IP network: {}'.format(network)) except Exception: except Exception: except Exception as e:,10,10
openstack%2Fvalidations-common~master~Iad8759410a922c17d8f05ab1d85b41629ec4b800,openstack/validations-common,master,Iad8759410a922c17d8f05ab1d85b41629ec4b800,Fixed exception handling of the print_tuple_table method.,MERGED,2021-04-16 12:40:55.000000000,2021-04-27 16:51:37.000000000,2021-04-27 16:51:37.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-16 12:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/431a5741910982410d7dcb96bb203e430ba9edbd', 'message': ""Fixed exception handling of the print_tuple_table method.\n\nKeyError was changed to IndexError\nValueError was changed to KeyError\n\nTuples don't have keys so the KeyError couldn't have\noccured under any circumstances.\n\nIndexError, on the other hand, can.\n\nValueError couldn't have been raised by the code.\nKeyError is more appropriate in the context.\n\nRuntimeError was replaced with more fitting TypeError.\n\nExceptions now indicate cause\n\nRaising exception with `from` sets the __cause__ attribute.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800\n""}, {'number': 2, 'created': '2021-04-16 14:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/210a1ea984a59b008a81e67e2537e41a35932846', 'message': ""Fixed exception handling of the print_tuple_table method.\n\nKeyError was changed to IndexError\nValueError was changed to KeyError\n\nTuples don't have keys so the KeyError couldn't have\noccured under any circumstances.\n\nIndexError, on the other hand, can.\n\nValueError couldn't have been raised by the code.\nKeyError is more appropriate in the context.\n\nRuntimeError was replaced with more fitting TypeError.\n\nExceptions now indicate cause where applicable.\n\nRaising exception with `from` sets the __cause__ attribute.\n\nError messages were expanded.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800\n""}, {'number': 3, 'created': '2021-04-16 14:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8bb9bb8fca0ece735897c1060840a6aa7797d0a6', 'message': ""Fixed exception handling of the print_tuple_table method.\n\nKeyError was changed to IndexError\nValueError was changed to KeyError\n\nTuples don't have keys so the KeyError couldn't have\noccured under any circumstances.\n\nIndexError, on the other hand, can.\n\nValueError couldn't have been raised by the code.\nKeyError is more appropriate in the context.\n\nRuntimeError was replaced with more fitting TypeError.\n\nExceptions now indicate cause where applicable.\n\nRaising exception with `from` sets the __cause__ attribute.\n\nError messages were expanded.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800\n""}, {'number': 4, 'created': '2021-04-19 06:25:57.000000000', 'files': ['validations_common/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/62eb4c0cb48f4769748230232802641974f8b5bb', 'message': ""Fixed exception handling of the print_tuple_table method.\n\nKeyError was changed to IndexError\nValueError was changed to KeyError\n\nTuples don't have keys so the KeyError couldn't have\noccured under any circumstances.\n\nIndexError, on the other hand, can.\n\nValueError couldn't have been raised by the code.\nKeyError is more appropriate in the context.\n\nRuntimeError was replaced with more fitting TypeError.\n\nExceptions now indicate cause where applicable.\n\nRaising exception with `from` sets the __cause__ attribute.\n\nError messages were expanded.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800\n""}]",0,786640,62eb4c0cb48f4769748230232802641974f8b5bb,13,8,4,32926,,,0,"Fixed exception handling of the print_tuple_table method.

KeyError was changed to IndexError
ValueError was changed to KeyError

Tuples don't have keys so the KeyError couldn't have
occured under any circumstances.

IndexError, on the other hand, can.

ValueError couldn't have been raised by the code.
KeyError is more appropriate in the context.

RuntimeError was replaced with more fitting TypeError.

Exceptions now indicate cause where applicable.

Raising exception with `from` sets the __cause__ attribute.

Error messages were expanded.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iad8759410a922c17d8f05ab1d85b41629ec4b800
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/40/786640/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/validation.py'],1,431a5741910982410d7dcb96bb203e430ba9edbd,exceptionscause, raise KeyError() from data raise KeyError() from data raise TypeError() from data raise RuntimeError(msg) from extra_vars raise RuntimeError(msg) from action," raise KeyError() raise KeyError() raise RuntimeError(""Wrong data type."") raise RuntimeError(msg) raise RuntimeError(msg)",5,5
openstack%2Ftripleo-validations~stable%2Ftrain~Ifef837dc884c7338f9396214e36a197cdbb060c6,openstack/tripleo-validations,stable/train,Ifef837dc884c7338f9396214e36a197cdbb060c6,Use a more targeted job for tripleo-validations,MERGED,2021-04-15 19:58:58.000000000,2021-04-27 16:51:32.000000000,2021-04-27 16:51:32.000000000,"[{'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-15 19:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/04fdd850e28a25a900e9e3cb5e14cd8228df40ad', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}, {'number': 2, 'created': '2021-04-16 05:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0d35b9c55849a3e7dc207b330c8670b46385103d', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}, {'number': 3, 'created': '2021-04-16 08:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dd67d8f0fe3d3bd124175961e49b52714f9723c3', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/786426\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}, {'number': 4, 'created': '2021-04-19 12:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e2fed24700b62dfc58249f124b055e5a78855889', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}, {'number': 5, 'created': '2021-04-19 20:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/55ff00312c63a8c4bddfe37abc608e50cf8d3fd3', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}, {'number': 6, 'created': '2021-04-20 04:53:12.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/74b064c7bd3522743b29f276b389461593492946', 'message': 'Use a more targeted job for tripleo-validations\n\n* using multinode jobs for validations is too heavy\nand uses too much resources\n* remove standalone004 - worthless sans rpm build\n* add a validations job that targets validations\n\nChange-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6\n(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)\n(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)\n(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)\n'}]",0,786497,74b064c7bd3522743b29f276b389461593492946,22,5,6,11491,,,0,"Use a more targeted job for tripleo-validations

* using multinode jobs for validations is too heavy
and uses too much resources
* remove standalone004 - worthless sans rpm build
* add a validations job that targets validations

Change-Id: Ifef837dc884c7338f9396214e36a197cdbb060c6
(cherry picked from commit aa8d53b1d514bb6b90d67b288055d7df73a8d0a2)
(cherry picked from commit 5ab70c56ab0c3a669a244ad57166e7d5df45c180)
(cherry picked from commit aed39ea68dd3fe85a2bd9c4fd3dfee153314c686)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/786497/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/layout.yaml']",2,04fdd850e28a25a900e9e3cb5e14cd8228df40ad,LP:1923091, - openstack-python3-train-jobs - tripleo-validations-molecule-jobs - release-notes-jobs-python3 - openstack-tox-linters: &tripleo-linters nodeset: centos-8 - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^molecule-requirements.txt - ^requirements.txt - ^README.rst - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-standalone-tv-validation: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - openstack-tox-linters - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-tv-validation: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider , - tripleo-multinode-container-minimal-pipeline - openstack-python3-train-jobs - tripleo-validations-molecule-jobs - check-requirements - release-notes-jobs-python3 - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^README.rst - tripleo-ci-centos-8-scenario004-standalone: &scenario004 vars: consumer_job: true build_container_images: false tags: - standalone dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ceph.*$ - openstack-tox-linters - tripleo-ci-centos-8-content-provider - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-scenario004-standalone: *scenario004,39,27
openstack%2Ftripleo-heat-templates~master~I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b,openstack/tripleo-heat-templates,master,I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b,Add a boolean to allow disk overrides through NodeDataLookup,MERGED,2021-03-20 13:42:48.000000000,2021-04-27 16:50:11.000000000,2021-04-27 16:50:11.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-20 13:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5aaa29653a77ae6b748d3081fc5b2e2592e61d3b', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 2, 'created': '2021-03-20 13:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c7b818ccdd06fb96d899f20c6762bc1881782f9', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 3, 'created': '2021-03-20 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8f70042015c4e4b50eb7e72d11ea8f3c7e17319', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 4, 'created': '2021-03-20 15:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/568a93292bfa4e10e8e370980783a246845b57f6', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 5, 'created': '2021-03-20 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/675d493393bafc71eece976f5a13e21f22113d60', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 6, 'created': '2021-03-20 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2382ea18e2dcaa5c71ee0e96b65843f239b91296', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 7, 'created': '2021-03-20 16:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1991d0187dd0faed649ff422c2f0e390f18d389', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 8, 'created': '2021-03-20 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a7c1c74193f844d5485d0d7735cab9730e8e413', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 9, 'created': '2021-03-20 21:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/665998e1b1d8fbeef1581231be8b543eeec54c4f', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use persistent naming in swift:\n\nNodeDataLookup:\n  ""UUID"": {\n           \'swift::storage::disks::args\': {\n                                        ""scsi-331402ec012ad6a72"": { ""base_dir"":\n                                                           ""/dev/disk/by-id"" },\n                                        ""scsi-331402ec012ad6a73"": { ""base_dir"":\n                                                           ""/dev/disk/by-id"" }\n          },\n          \'tripleo::profile::base::swift::ringbuilder::raw_disks\': {\n          \':%PORT%/scsi-331402ec012ad6a72\',\n          \':%PORT%/scsi-331402ec012ad6a73\' }\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 10, 'created': '2021-03-20 21:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/449a61df384bc7e18ded81590910cd9e938af574', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use persistent naming in swift:\n\nNodeDataLookup:\n  ""UUID"": {\n           \'swift::storage::disks::args\': {\n                                        ""scsi-331402ec012ad6a72"": { ""base_dir"":\n                                                           ""/dev/disk/by-id/"" },\n                                        ""scsi-331402ec012ad6a73"": { ""base_dir"":\n                                                           ""/dev/disk/by-id/"" }\n          },\n          \'tripleo::profile::base::swift::ringbuilder::raw_disks\': {\n          \':%PORT%/scsi-331402ec012ad6a72\',\n          \':%PORT%/scsi-331402ec012ad6a73\' }\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 11, 'created': '2021-03-20 21:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47fbbd37dc82592871ea4b6cb1da6eca888c5d03', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          \'swift::storage::disks::args\': {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          \'tripleo::profile::base::swift::ringbuilder::raw_disks\': {\n          \':%PORT%/scsi-331402ec012ad6a72\',\n          \':%PORT%/scsi-331402ec012ad6a73\' }\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 12, 'created': '2021-03-20 21:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a30371045c873077b9c14d86f719001d87d7450', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          \'swift::storage::disks::args\': {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          \'tripleo::profile::base::swift::ringbuilder::raw_disks\': [\n          \':%PORT%/scsi-331402ec012ad6a72\',\n          \':%PORT%/scsi-331402ec012ad6a73\' ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 13, 'created': '2021-03-20 23:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8c925f806e0d6d2d4feb3dfaa87a009390c8ee3', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 14, 'created': '2021-03-21 03:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af06913be3422c44ab9807089c2647a2eb399377', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 15, 'created': '2021-03-21 18:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fce124af80aa4c103febc25d7ff8a832d9c626ee', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 16, 'created': '2021-03-21 19:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26fe66e64e6514be1a9115d9bbe6d6f2f768a891', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 17, 'created': '2021-03-21 21:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0c47a834d536e13d3564cfea4ef7e75ba00c0c', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 18, 'created': '2021-03-21 21:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6c4df98d2356aaed7197cd44cdda17c4cf3cd12', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 19, 'created': '2021-03-21 23:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9c10a3b0858efdab30cc3e2df0b1bbe69b63a5d', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 20, 'created': '2021-03-22 00:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6264de827f9b01e9003d607ee869ec2d099c201', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 21, 'created': '2021-03-22 01:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec7f38e2e5b48ead2facc256a7b4ead426de4f22', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 22, 'created': '2021-03-26 14:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0840392231996cacfcf59d20d7fc951d3a5be20', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 23, 'created': '2021-04-06 13:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d469b98f60b14c1831c5c3ba5f8b0c7d2677fd93', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}, {'number': 24, 'created': '2021-04-06 17:45:28.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'puppet/extraconfig/pre_deploy/per_node.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57add501a4f66be788f0267f9422c98a0228c14e', 'message': 'Add a boolean to allow disk overrides through NodeDataLookup\n\nAdd a boolean to allow disk overrides through NodeDataLookup and use\nthe following hiera data parameters to use device persistent naming for swift:\n\nNodeDataLookup:\n  ""UUID"": {\n          ""swift::storage::disks::args"": {\n          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },\n          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }\n          },\n          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [\n          "":%PORT%/scsi-331402ec012ad6a72"",\n          "":%PORT%/scsi-331402ec012ad6a73"" ]\n          }\nChange-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b\n'}]",16,781967,57add501a4f66be788f0267f9422c98a0228c14e,61,5,24,7130,,,0,"Add a boolean to allow disk overrides through NodeDataLookup

Add a boolean to allow disk overrides through NodeDataLookup and use
the following hiera data parameters to use device persistent naming for swift:

NodeDataLookup:
  ""UUID"": {
          ""swift::storage::disks::args"": {
          ""scsi-331402ec012ad6a72"": { ""base_dir"": ""/dev/disk/by-id/"" },
          ""scsi-331402ec012ad6a73"": { ""base_dir"": ""/dev/disk/by-id/"" }
          },
          ""tripleo::profile::base::swift::ringbuilder::raw_disks"": [
          "":%PORT%/scsi-331402ec012ad6a72"",
          "":%PORT%/scsi-331402ec012ad6a73"" ]
          }
Change-Id: I0afa3283ed8c45f1ee0f44eb9bf9e4050d747a6b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/781967/12 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,5aaa29653a77ae6b748d3081fc5b2e2592e61d3b,nodedatalookup_new," SwiftUseNodeDataLookup: default: false description: Use NodeDataLookup for disk devices in order to use persistent naming type: boolean use_node_data_lookup: {equals : [{get_param: SwiftUseNodeDataLookup}, true]} - if: - use_node_data_lookup - swift::storage::disks::args: {get_param: SwiftRawDisks} - {}", swift::storage::disks::args: {get_param: SwiftRawDisks},10,1
openstack%2Fpuppet-keystone~master~Ia69bc2ea8d58ad813d107d532ecaa648b7278762,openstack/puppet-keystone,master,Ia69bc2ea8d58ad813d107d532ecaa648b7278762,Fix a typo in file header,MERGED,2021-04-20 16:09:23.000000000,2021-04-27 16:42:32.000000000,2021-04-27 16:42:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:09:23.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2f1ff7b722146e30e7ad6bf9b3f26712604f344b', 'message': 'Fix a typo in file header\n\nChange-Id: Ia69bc2ea8d58ad813d107d532ecaa648b7278762\n'}]",0,787235,2f1ff7b722146e30e7ad6bf9b3f26712604f344b,12,3,1,9816,,,0,"Fix a typo in file header

Change-Id: Ia69bc2ea8d58ad813d107d532ecaa648b7278762
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/35/787235/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,2f1ff7b722146e30e7ad6bf9b3f26712604f344b,hc-typo,# == Class: keystone::healthcheck,# == Define: keystone::healthcheck,1,1
openstack%2Fpuppet-nova~master~Ie2e2c40a37c5d206ef483f48fac04a027f793b4b,openstack/puppet-nova,master,Ie2e2c40a37c5d206ef483f48fac04a027f793b4b,Deprecate support for [scheduler] periodic_task_interval,MERGED,2021-04-26 12:41:56.000000000,2021-04-27 16:14:04.000000000,2021-04-27 16:12:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d6cfc43177dc35231953130d51e855e257719d4d', 'message': 'Deprecate support for [scheduler] periodic_task_interval\n\n... because the parameter was removed from nova[1].\n\n[1] 9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9\n\nChange-Id: Ie2e2c40a37c5d206ef483f48fac04a027f793b4b\n'}, {'number': 2, 'created': '2021-04-26 13:07:56.000000000', 'files': ['manifests/scheduler.pp', 'spec/classes/nova_scheduler_spec.rb', 'releasenotes/notes/deprecate-scheduler-periodic_task_interval-ca35e588c0cbe546.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3375efcfd45ec2f417bc94f99701a5f68c31f731', 'message': 'Deprecate support for [scheduler] periodic_task_interval\n\n... because the parameter was removed from nova[1].\n\n[1] 9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9\n\nChange-Id: Ie2e2c40a37c5d206ef483f48fac04a027f793b4b\n'}]",0,787968,3375efcfd45ec2f417bc94f99701a5f68c31f731,11,3,2,9816,,,0,"Deprecate support for [scheduler] periodic_task_interval

... because the parameter was removed from nova[1].

[1] 9d53f366ff8c9a29c4ddbf0fa27febbce7442fc9

Change-Id: Ie2e2c40a37c5d206ef483f48fac04a027f793b4b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/68/787968/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler.pp', 'spec/classes/nova_scheduler_spec.rb', 'releasenotes/notes/deprecate-scheduler-periodic_task_interval-ca35e588c0cbe546.yaml']",3,d6cfc43177dc35231953130d51e855e257719d4d,cleanup-scheduler-opts,--- deprecations: - | The ``nova::scheduler::periodic_task_interval`` parameter has been deprecated and has no effect now. ,,23,17
openstack%2Fkolla-ansible~stable%2Fwallaby~I90b1d7cb837d9139a95fcb8367f6ee405582d03b,openstack/kolla-ansible,stable/wallaby,I90b1d7cb837d9139a95fcb8367f6ee405582d03b,Use wallaby images in wallaby deployments,MERGED,2021-04-27 13:12:10.000000000,2021-04-27 16:01:35.000000000,2021-04-27 16:00:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-27 13:12:10.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f87d9f36adbe43d2d26fc093fd1098f39d77ed7', 'message': 'Use wallaby images in wallaby deployments\n\nwe should use wallaby image in wallby deployment rather than master.\n\nChange-Id: I90b1d7cb837d9139a95fcb8367f6ee405582d03b\n'}]",0,788292,4f87d9f36adbe43d2d26fc093fd1098f39d77ed7,10,3,1,26285,,,0,"Use wallaby images in wallaby deployments

we should use wallaby image in wallby deployment rather than master.

Change-Id: I90b1d7cb837d9139a95fcb8367f6ee405582d03b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/788292/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",2,4f87d9f36adbe43d2d26fc093fd1098f39d77ed7,,"#openstack_release: ""wallaby""","#openstack_release: ""master""",2,2
openstack%2Fneutron-tempest-plugin~master~I8c8b7c11c63ffeee4f776695f32ae686793299b3,openstack/neutron-tempest-plugin,master,I8c8b7c11c63ffeee4f776695f32ae686793299b3,Wait for HA router to be active on at least one agent,MERGED,2021-04-21 08:39:47.000000000,2021-04-27 15:06:53.000000000,2021-04-27 11:27:40.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 08:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/65fd2efa38d1a8ee2d8d404ec32a105f2ab2750a', 'message': 'Wait for HA router to be active on at least one agent\n\nDue to related bug it may happend that HA router will become active on\none of the L3 agents after few minutes since it was created. And during\nthat time when it\'s in ""standby"" mode, VM can be spawned, it will try\nto get metadata but haproxy in the router namespace is still not running\nso there will be no metadata available.\nThat will end up with SSH authentication error as there will be no\nproper SSH key configured in the VM.\n\nOriginally this patch was intended just as a workaround for the related\nbug but I think it\'s worth to keep it even if that bug will be solved on\nthe Neutron\'s side as it may give us more clear information about the\nreal problem in the future if something similar will happen and HA\nrouter will not be active on any of the L3 agents.\n\nRelated-Bug: #1923633\nChange-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3\n'}, {'number': 2, 'created': '2021-04-21 10:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f0a134d0092b8e83ec0de87376c61bad6c1f479b', 'message': 'Wait for HA router to be active on at least one agent\n\nDue to related bug it may happend that HA router will become active on\none of the L3 agents after few minutes since it was created. And during\nthat time when it\'s in ""standby"" mode, VM can be spawned, it will try\nto get metadata but haproxy in the router namespace is still not running\nso there will be no metadata available.\nThat will end up with SSH authentication error as there will be no\nproper SSH key configured in the VM.\n\nOriginally this patch was intended just as a workaround for the related\nbug but I think it\'s worth to keep it even if that bug will be solved on\nthe Neutron\'s side as it may give us more clear information about the\nreal problem in the future if something similar will happen and HA\nrouter will not be active on any of the L3 agents.\n\nRelated-Bug: #1923633\nChange-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3\n'}, {'number': 3, 'created': '2021-04-21 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1a00ec7aff606293b1d7b06fee0f9b2e41a1da71', 'message': 'Wait for HA router to be active on at least one agent\n\nDue to related bug it may happend that HA router will become active on\none of the L3 agents after few minutes since it was created. And during\nthat time when it\'s in ""standby"" mode, VM can be spawned, it will try\nto get metadata but haproxy in the router namespace is still not running\nso there will be no metadata available.\nThat will end up with SSH authentication error as there will be no\nproper SSH key configured in the VM.\n\nOriginally this patch was intended just as a workaround for the related\nbug but I think it\'s worth to keep it even if that bug will be solved on\nthe Neutron\'s side as it may give us more clear information about the\nreal problem in the future if something similar will happen and HA\nrouter will not be active on any of the L3 agents.\n\nRelated-Bug: #1923633\nChange-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3\n'}, {'number': 4, 'created': '2021-04-23 06:20:06.000000000', 'files': ['neutron_tempest_plugin/scenario/test_connectivity.py', 'neutron_tempest_plugin/scenario/test_ports.py', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_multicast.py', 'neutron_tempest_plugin/scenario/test_internal_dns.py', 'neutron_tempest_plugin/scenario/test_portsecurity.py', 'neutron_tempest_plugin/scenario/test_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/edf3cba046fd960bfbd6a17890ad995fd2c7d955', 'message': 'Wait for HA router to be active on at least one agent\n\nDue to related bug it may happend that HA router will become active on\none of the L3 agents after few minutes since it was created. And during\nthat time when it\'s in ""standby"" mode, VM can be spawned, it will try\nto get metadata but haproxy in the router namespace is still not running\nso there will be no metadata available.\nThat will end up with SSH authentication error as there will be no\nproper SSH key configured in the VM.\n\nOriginally this patch was intended just as a workaround for the related\nbug but I think it\'s worth to keep it even if that bug will be solved on\nthe Neutron\'s side as it may give us more clear information about the\nreal problem in the future if something similar will happen and HA\nrouter will not be active on any of the L3 agents.\n\nRelated-Bug: #1923633\nChange-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3\n'}]",7,787324,edf3cba046fd960bfbd6a17890ad995fd2c7d955,50,3,4,11975,,,0,"Wait for HA router to be active on at least one agent

Due to related bug it may happend that HA router will become active on
one of the L3 agents after few minutes since it was created. And during
that time when it's in ""standby"" mode, VM can be spawned, it will try
to get metadata but haproxy in the router namespace is still not running
so there will be no metadata available.
That will end up with SSH authentication error as there will be no
proper SSH key configured in the VM.

Originally this patch was intended just as a workaround for the related
bug but I think it's worth to keep it even if that bug will be solved on
the Neutron's side as it may give us more clear information about the
real problem in the future if something similar will happen and HA
router will not be active on any of the L3 agents.

Related-Bug: #1923633
Change-Id: I8c8b7c11c63ffeee4f776695f32ae686793299b3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/24/787324/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_connectivity.py']",3,65fd2efa38d1a8ee2d8d404ec32a105f2ab2750a,bug/1923633, self._wait_for_router_ha_active(ap1_rt['id']) self._wait_for_router_ha_active(ap2_rt['id']) self._wait_for_router_ha_active(router['id']),,29,0
openstack%2Fmasakari~master~Ifce67e64581804b129c05c5774ad59067a15a6b0,openstack/masakari,master,Ifce67e64581804b129c05c5774ad59067a15a6b0,[TrivialFix] Improve one method's name,MERGED,2021-04-27 01:45:10.000000000,2021-04-27 15:06:06.000000000,2021-04-27 15:04:45.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-04-27 01:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/acbbd81d2caeb72e22d4cf0a4c65dc93aafd374f', 'message': 'inaccurately using nova service api\n\nFrom the usage, it should be service disabled, rather than service down.\n\nChange-Id: Ifce67e64581804b129c05c5774ad59067a15a6b0\n'}, {'number': 2, 'created': '2021-04-27 01:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d25a7f61fe0bbfda600ac0940e7c4a6b089a0cd0', 'message': 'inaccurately using nova service api\n\nFrom the usage, it should be service disabled, rather than service down.\n\nChange-Id: Ifce67e64581804b129c05c5774ad59067a15a6b0\n'}, {'number': 3, 'created': '2021-04-27 11:22:30.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py', 'masakari/engine/drivers/taskflow/process_failure.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/bcd8d00e452b9762a9e297eb285db4cbeb633538', 'message': ""[TrivialFix] Improve one method's name\n\nFrom the usage, it should be service disabled, rather than service down.\n\nChange-Id: Ifce67e64581804b129c05c5774ad59067a15a6b0\n""}]",1,788103,bcd8d00e452b9762a9e297eb285db4cbeb633538,14,3,3,24501,,,0,"[TrivialFix] Improve one method's name

From the usage, it should be service disabled, rather than service down.

Change-Id: Ifce67e64581804b129c05c5774ad59067a15a6b0
",git fetch https://review.opendev.org/openstack/masakari refs/changes/03/788103/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/engine/drivers/taskflow/test_process_failure_flow.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/compute/nova.py', 'masakari/engine/drivers/taskflow/process_failure.py']",5,acbbd81d2caeb72e22d4cf0a4c65dc93aafd374f,," if not self.novaclient.is_service_disabled(self.context, host_name, process_name): service_disabled = self.novaclient.is_service_disabled("," if not self.novaclient.is_service_down(self.context, host_name, process_name): service_disabled = self.novaclient.is_service_down(",16,15
openstack%2Fcharm-guide~master~If47d33eff64598d134ae10edb15e6693306d0399,openstack/charm-guide,master,If47d33eff64598d134ae10edb15e6693306d0399,Add nova-compute 'list-compute-nodes' action to release notes,MERGED,2021-04-27 14:00:03.000000000,2021-04-27 14:59:07.000000000,2021-04-27 14:57:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-04-27 14:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c12b26e540eba130134b9a9cc424937a0e5f7453', 'message': ""Add nova-compute 'list-compute-nodes' action to release notes\n\nChange-Id: If47d33eff64598d134ae10edb15e6693306d0399\nCloses-Bug: #1911013\n""}, {'number': 2, 'created': '2021-04-27 14:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/86a3238af01cc01444fe4562d2379188395704b6', 'message': ""Add nova-compute 'list-compute-nodes' action to release notes\n\nChange-Id: If47d33eff64598d134ae10edb15e6693306d0399\nCloses-Bug: #1911013\n""}, {'number': 3, 'created': '2021-04-27 14:39:33.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/6aab781214ec6e7fc4254f05eba70eb369b17075', 'message': ""Add nova-compute 'list-compute-nodes' action to release notes\n\nChange-Id: If47d33eff64598d134ae10edb15e6693306d0399\nCloses-Bug: #1911013\n""}]",5,788302,6aab781214ec6e7fc4254f05eba70eb369b17075,13,2,3,31289,,,0,"Add nova-compute 'list-compute-nodes' action to release notes

Change-Id: If47d33eff64598d134ae10edb15e6693306d0399
Closes-Bug: #1911013
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/02/788302/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,c12b26e540eba130134b9a9cc424937a0e5f7453,bug/1911013, * `nova-compute charm: new action 'list-compute-nodes'`_nova-compute charm: new action 'list-compute-nodes' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The nova-compute charm has a new action: ``list-compute-nodes``. This action prints lists all nova-compute nodes registered in the OpenStack cloud. ,,9,0
openstack%2Fopenstack-helm~master~If256fbddf977ebdc779e93c0de07089dacd8cd60,openstack/openstack-helm,master,If256fbddf977ebdc779e93c0de07089dacd8cd60,Imported Translations from Zanata,MERGED,2021-04-27 07:41:44.000000000,2021-04-27 14:52:44.000000000,2021-04-27 14:47:05.000000000,"[{'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:41:44.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a56b007243d8ec2b89deb12a4224766fcd2a2461', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If256fbddf977ebdc779e93c0de07089dacd8cd60\n'}]",0,788192,a56b007243d8ec2b89deb12a4224766fcd2a2461,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If256fbddf977ebdc779e93c0de07089dacd8cd60
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/788192/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a56b007243d8ec2b89deb12a4224766fcd2a2461,zanata/translations,"""POT-Creation-Date: 2021-04-23 00:09+0000\n""""PO-Revision-Date: 2021-04-26 06:44+0000\n""msgid ""0.1.0-1958"" msgstr ""0.1.0-1958"" msgid ""0.1.13 Fix Error - wrong number of args for set"" msgstr ""0.1.13 Fix Error - wrong number of args for set"" msgid ""0.1.19 Host resource scale adjustment about ironic"" msgstr ""0.1.19 Host resource scale adjustment about Ironic"" ","""POT-Creation-Date: 2021-04-21 02:15+0000\n""""PO-Revision-Date: 2021-04-21 12:20+0000\n""",11,2
openstack%2Fkolla~stable%2Fvictoria~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/victoria,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-21 18:21:07.000000000,2021-04-27 14:52:27.000000000,2021-04-27 14:50:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-21 18:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca132cfd68c14bb393cc83ca2d33269ce5b12302', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 2, 'created': '2021-04-22 07:43:09.000000000', 'files': ['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.debian', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cbf43757f63e3052d12b1e94f4f4aa5fe494ebfe', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}]",0,787383,cbf43757f63e3052d12b1e94f4f4aa5fe494ebfe,31,5,2,30491,,,0,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/83/787383/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu']",6,ca132cfd68c14bb393cc83ca2d33269ce5b12302,,#deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main#deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu focal main,#deb https://dl.bintray.com/rabbitmq/debian/ focal main#deb https://dl.bintray.com/rabbitmq-erlang/debian/ focal erlang,67,9
openstack%2Ftempest~master~Ice57e193c5150be7141e0e003be5091a191b854c,openstack/tempest,master,Ice57e193c5150be7141e0e003be5091a191b854c,Add stestr master job,MERGED,2020-11-24 19:59:00.000000000,2021-04-27 14:52:24.000000000,2021-04-27 14:42:44.000000000,"[{'_account_id': 5196}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-11-24 19:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a1ce0fc21411929e67e3bfb29032d69d51d015f', 'message': 'Add stestr master job\n\nTempest use stestr to run the tests, adding\na experimental/periodic job to run Tempest\nwith stestr master will help to detect any\nbreaking change in advance.\n\nChange-Id: Ice57e193c5150be7141e0e003be5091a191b854c\n'}, {'number': 2, 'created': '2020-12-29 19:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2545a053ffaf16a6bbf50917b42e6e822a6719f', 'message': 'Add stestr master job\n\nTempest use stestr to run the tests, adding\na experimental and periodic job to run Tempest\nwith stestr master will help to detect any\nbreaking change in advance.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/768735\n\nChange-Id: Ice57e193c5150be7141e0e003be5091a191b854c\n'}, {'number': 3, 'created': '2021-01-07 22:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/184d0c753ebf9a87c98c16ba80a41367bca39e90', 'message': 'Add stestr master job\n\nTempest use stestr to run the tests, adding\na experimental and periodic job to run Tempest\nwith stestr master will help to detect any\nbreaking change in advance.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/768735\n\nChange-Id: Ice57e193c5150be7141e0e003be5091a191b854c\n'}, {'number': 4, 'created': '2021-04-22 01:19:53.000000000', 'files': ['zuul.d/tempest-specific.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/83d13e509b0c0bd0ccca2791ebeba0b672ccc834', 'message': 'Add stestr master job\n\nTempest use stestr to run the tests, adding\na experimental and periodic job to run Tempest\nwith stestr master will help to detect any\nbreaking change in advance.\n\nChange-Id: Ice57e193c5150be7141e0e003be5091a191b854c\n'}]",8,764058,83d13e509b0c0bd0ccca2791ebeba0b672ccc834,25,3,4,8556,,,0,"Add stestr master job

Tempest use stestr to run the tests, adding
a experimental and periodic job to run Tempest
with stestr master will help to detect any
breaking change in advance.

Change-Id: Ice57e193c5150be7141e0e003be5091a191b854c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/764058/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a1ce0fc21411929e67e3bfb29032d69d51d015f,stestr-master-testing, name: tempest-stestr-master parent: devstack-tempest description: | Smoke integration test with stestr master. This ensures that new stestr release does not break Temepst. required-projects: - https://github.com/mtreinish/stestr vars: tox_envlist: smoke devstack_services: s-account: false s-container: false s-object: false s-proxy: false c-bak: false - job: - tempest-stestr-master - tempest-stestr-master,,20,0
openstack%2Fcinder~stable%2Fvictoria~I5e35de28007558267f9215cbac03a38d7c74612c,openstack/cinder,stable/victoria,I5e35de28007558267f9215cbac03a38d7c74612c,Add support for RBD fast-diff feature for backups stored in Ceph,MERGED,2021-03-25 08:44:13.000000000,2021-04-27 14:52:22.000000000,2021-04-27 14:43:06.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-25 08:44:13.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/bug-1907964-9277e5ddec2abeda.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbf9def32b31bcc3d4894d05e6fe665005006492', 'message': 'Add support for RBD fast-diff feature for backups stored in Ceph\n\n    This change enables the FAST_DIFF feature for backup images stored\n    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and\n    OBJECT_MAP as required.\n\n    With FAST_DIFF enabled, the generation of diffs between images and\n    snapshots as well as determining the actual data usage of a snapshot\n    is sped up significantly.\n\nCloses-Bug #1907964\n\nChange-Id: I5e35de28007558267f9215cbac03a38d7c74612c\n(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)\n'}]",0,782917,cbf9def32b31bcc3d4894d05e6fe665005006492,22,8,1,32755,,,0,"Add support for RBD fast-diff feature for backups stored in Ceph

    This change enables the FAST_DIFF feature for backup images stored
    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and
    OBJECT_MAP as required.

    With FAST_DIFF enabled, the generation of diffs between images and
    snapshots as well as determining the actual data usage of a snapshot
    is sped up significantly.

Closes-Bug #1907964

Change-Id: I5e35de28007558267f9215cbac03a38d7c74612c
(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/782917/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/bug-1907964-9277e5ddec2abeda.yaml']",3,cbf9def32b31bcc3d4894d05e6fe665005006492,,"--- fixes: - | RBD driver `bug #1907964 <https://bugs.launchpad.net/cinder/+bug/1907964>`_: Add support for fast-diff on backup images stored in Ceph. Provided fast-diff is supported by the backend it will automatically be enabled and used. With fast-diff enabled, the generation of diffs between images and snapshots as well as determining the actual data usage of a snapshot is speed up significantly.",,56,17
openstack%2Fpuppet-openstack-integration~master~I11b89aa4e26843223d416ce1b7a51fc722eaffb7,openstack/puppet-openstack-integration,master,I11b89aa4e26843223d416ce1b7a51fc722eaffb7,Run library unit job on CeotOS8 Stream in gate,MERGED,2021-04-23 07:32:09.000000000,2021-04-27 14:46:50.000000000,2021-04-27 14:46:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 07:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a09bde59fb53b55b9482c6e64a7346129bbb575e', 'message': 'Run library unit job on CeotOS8 Stream in gate\n\nThis is partial revert of a75e47446ad099fde90e2df300c663630d880677 and\nrestores puppet-openstack-libraries-puppet-unit-6.21-centos-8-stream in\ngate.\n\nChange-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7\n'}, {'number': 2, 'created': '2021-04-23 07:39:40.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b54cb682d411569ccd881279d0aefe28b8464c6b', 'message': 'Run library unit job on CeotOS8 Stream in gate\n\nThis change adds the library unit job on CentOS8 stream to gate, which\nshould have been added when all CentOS8 jobs are replaced by CentOS8\nStream jobs[1].\n\n[1] a75e47446ad099fde90e2df300c663630d880677\n\nChange-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7\n'}]",0,787674,b54cb682d411569ccd881279d0aefe28b8464c6b,14,3,2,9816,,,0,"Run library unit job on CeotOS8 Stream in gate

This change adds the library unit job on CentOS8 stream to gate, which
should have been added when all CentOS8 jobs are replaced by CentOS8
Stream jobs[1].

[1] a75e47446ad099fde90e2df300c663630d880677

Change-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/74/787674/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a09bde59fb53b55b9482c6e64a7346129bbb575e,, - puppet-openstack-libraries-puppet-unit-6.21-centos-8-stream,,1,0
openstack%2Fcharm-guide~master~I61195a001ab14c1f8e420158dc41f1faec4f7b49,openstack/charm-guide,master,I61195a001ab14c1f8e420158dc41f1faec4f7b49,Add nova-compute 'node-name' action to release notes,MERGED,2021-04-27 13:42:07.000000000,2021-04-27 14:37:23.000000000,2021-04-27 14:35:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-04-27 13:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/12959b2f4821830f2df0194ea547abfc139a2d57', 'message': ""Add nova-compute 'node-name' action to release notes\n\nChange-Id: I61195a001ab14c1f8e420158dc41f1faec4f7b49\nCloses-Bug: #1911012\n""}, {'number': 2, 'created': '2021-04-27 14:22:24.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8055ad7573a4404ae87b5477731c6fb1c76435b0', 'message': ""Add nova-compute 'node-name' action to release notes\n\nChange-Id: I61195a001ab14c1f8e420158dc41f1faec4f7b49\nCloses-Bug: #1911012\n""}]",1,788298,8055ad7573a4404ae87b5477731c6fb1c76435b0,10,2,2,31289,,,0,"Add nova-compute 'node-name' action to release notes

Change-Id: I61195a001ab14c1f8e420158dc41f1faec4f7b49
Closes-Bug: #1911012
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/98/788298/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,12959b2f4821830f2df0194ea547abfc139a2d57,bug/1911012, * `nova-compute charm: new action 'node-name'`_nova-compute charm: new action 'node-name' ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The nova-compute charm has a new action: ``node-name``. This action prints the node name of the nova-compute unit it is run against. ,,8,0
openstack%2Fceilometer~master~Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,openstack/ceilometer,master,Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2,Use tox constraints instead of upper constraints,MERGED,2021-04-12 12:12:17.000000000,2021-04-27 14:33:34.000000000,2021-04-27 14:28:04.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 12:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9a941ea3240751c7abbd18037f189b47f13fa40d', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n'}, {'number': 2, 'created': '2021-04-12 14:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/89c8c33afed0f0ebe3c441a393d0e2e2efb8bba1', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n'}, {'number': 3, 'created': '2021-04-23 06:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/63f2daa7b724001e206edef8b2685f70cda2f8b8', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n'}, {'number': 4, 'created': '2021-04-23 13:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/76c87cca896d1852044f8eb6e9a60202b4b77f1d', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nMake grenade jobs non-voting, until they have been fixed.\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n'}, {'number': 5, 'created': '2021-04-26 06:56:35.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/26f5ceca03322978421fe05ebf9d01c9e63a8837', 'message': 'Use tox constraints instead of upper constraints\n\nDrop cap on tenacity, since it is already capped\nby upper constraints.\n\nMake grenade jobs non-voting, until they have been fixed.\n\nDepends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739\n\nChange-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2\n'}]",0,785861,26f5ceca03322978421fe05ebf9d01c9e63a8837,20,3,5,4264,,,0,"Use tox constraints instead of upper constraints

Drop cap on tenacity, since it is already capped
by upper constraints.

Make grenade jobs non-voting, until they have been fixed.

Depends-on: https://review.opendev.org/c/openstack/telemetry-tempest-plugin/+/787739

Change-Id: Ie21f8db89fc2045fd6cc6b1b7a5886b7e87e08e2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/61/785861/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,9a941ea3240751c7abbd18037f189b47f13fa40d,tox_constraints,deps = -r{toxinidir}/test-requirements.txt -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -r{toxinidir}/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,4
openstack%2Fhorizon~master~I6c40c36603b3d173adcc5c941b5654102778a058,openstack/horizon,master,I6c40c36603b3d173adcc5c941b5654102778a058,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 06:10:20.000000000,2021-04-27 14:19:52.000000000,2021-04-27 14:18:02.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-27 06:10:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/00c5825ca7c597aeaab0279684befb07f0a13dde', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I6c40c36603b3d173adcc5c941b5654102778a058\n""}]",0,788160,00c5825ca7c597aeaab0279684befb07f0a13dde,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I6c40c36603b3d173adcc5c941b5654102778a058
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/788160/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,00c5825ca7c597aeaab0279684befb07f0a13dde,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/horizon/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/horizon/latest/,3,3
openstack%2Fhorizon~stable%2Fvictoria~I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,openstack/horizon,stable/victoria,I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d,Fix community image handling in launch instance form,MERGED,2021-03-08 04:35:16.000000000,2021-04-27 14:19:45.000000000,2021-04-27 14:13:27.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-08 04:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/946d0a53c531be309466f7e8becf2b5548f4c4e2', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}, {'number': 2, 'created': '2021-03-08 06:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a9b0fc6baa46faefd68cbeff303427496ffb5e0a', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}, {'number': 3, 'created': '2021-03-08 06:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/51efabd69acd4e52ca98efabcb9548e15a7d395c', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}, {'number': 4, 'created': '2021-04-07 05:56:54.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c63e4c91aea30c3732403d9f5c031478e735d251', 'message': 'Fix community image handling in launch instance form\n\nCommunity images which are not owned by a focused project are not\nincluded in the normal image list API (i.e., without specifying\n""community"" as visibility), so we need an extra call of the image\nlist API specifying ""community"" visibility in a filter.\n\nIt was originally fixed by [1] but was dropped in [2].\nThe main motivation of [2] is to address ""Duplicates in a repeater\nare not allowed"" error in the JavaScript console.\n\nThe approach of [2] was to drop multiple glance API calls, but\nthe right solution would be to check duplicated images included\nin both API calls. This situation with duplicated images happens\nwhen a community image is owned by a focused project. In such case,\nthe community image is included in the responses of both API calls.\n\nThis commit adds a logic to check image IDs already processed.\n\n[1] https://review.opendev.org/c/openstack/horizon/+/614688\n[2] https://review.opendev.org/c/openstack/horizon/+/640762\n\nCloses-Bug: #1914045\nRelated-Bug: #1779250\nRelated-Bug: #1818508\n\nChange-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d\n(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)\n'}]",4,779128,c63e4c91aea30c3732403d9f5c031478e735d251,21,6,4,29313,,,0,"Fix community image handling in launch instance form

Community images which are not owned by a focused project are not
included in the normal image list API (i.e., without specifying
""community"" as visibility), so we need an extra call of the image
list API specifying ""community"" visibility in a filter.

It was originally fixed by [1] but was dropped in [2].
The main motivation of [2] is to address ""Duplicates in a repeater
are not allowed"" error in the JavaScript console.

The approach of [2] was to drop multiple glance API calls, but
the right solution would be to check duplicated images included
in both API calls. This situation with duplicated images happens
when a community image is owned by a focused project. In such case,
the community image is included in the responses of both API calls.

This commit adds a logic to check image IDs already processed.

[1] https://review.opendev.org/c/openstack/horizon/+/614688
[2] https://review.opendev.org/c/openstack/horizon/+/640762

Closes-Bug: #1914045
Related-Bug: #1779250
Related-Bug: #1818508

Change-Id: I2ed1b6064ddd6f62818d6112e98e5d5a98beae9d
(cherry picked from commit c9bb0e95eaa7ae4f0cce21bc0a246a9b0cd2f880)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/779128/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js']",2,946d0a53c531be309466f7e8becf2b5548f4c4e2,bug/1914045," getImages: function (params) { var images; if (params.visibility === 'community') { images = [ {id: '10', container_format: 'raw', properties: {image_type: 'image'}, visibility: 'community'}, // ID 6 is already returned by the first call (below), so this should be ignored. // To clarify the difference, the content here is different intentionally. {id: '6', container_format: 'raw', properties: {image_type: 'image'}, visibility: 'community'}, ]; } else { images = [ // container_format aki and ari are not considered as bootable {id: '1', container_format: 'aki', properties: {}}, {id: '2', container_format: 'ari', properties: {}}, // The following images are considered as ""image"" sources. {id: '3', container_format: 'ami', properties: {}, name: 'ami_image'}, {id: '4', container_format: 'raw', properties: {}, name: 'raw_image'}, {id: '5', container_format: 'ami', properties: {image_type: 'image'}}, {id: '6', container_format: 'raw', properties: {image_type: 'image'}}, // The following images are considered as ""snapshot"" sources. {id: '7', container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '8', container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '9', container_format: 'raw', properties: {image_type: 'snapshot'}}, ]; } {id: '3', container_format: 'ami', properties: {}, name: 'ami_image', name_or_id: 'ami_image'}, {id: '4', container_format: 'raw', properties: {}, name: 'raw_image', name_or_id: 'raw_image'}, {id: '5', container_format: 'ami', properties: {image_type: 'image'}, name_or_id: '5'}, {id: '6', container_format: 'raw', properties: {image_type: 'image'}, name_or_id: '6'}, {id: '10', container_format: 'raw', properties: {image_type: 'image'}, name_or_id: '10', visibility: 'community'}, {id: '7', container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '8', container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {id: '9', container_format: 'raw', properties: {image_type: 'snapshot'}},"," $provide.value('horizon.app.core.openstack-service-api.glance', { getImages: function () { var images = [ {container_format: 'aki', properties: {}}, {container_format: 'ari', properties: {}}, {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}}, {container_format: 'ami', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}}, {container_format: 'raw', properties: { block_device_mapping: '[{""source_type"": ""snapshot""}]'}} ]; {container_format: 'ami', properties: {}}, {container_format: 'raw', properties: {}}, {container_format: 'ami', properties: {image_type: 'image'}}, {container_format: 'raw', properties: {image_type: 'image'}} { container_format: 'ami', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} }, { container_format: 'raw', properties: {block_device_mapping: '[{""source_type"": ""snapshot""}]'} }",63,33
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/train,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:43:13.000000000,2021-04-27 14:12:49.000000000,2021-04-27 14:12:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:43:13.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcc5f03abf97dbbb47ff4dfcb161c12bd03f8af6', 'message': ""Moving nova-consoleauth to step4\n\nSince this is part of the post_upgrade_tasks and post_upgrade_tasks is\nmaxed to 4 steps, we need to move this from step5 to step4 otherwise\nit's not being executed.\n\nAlso applying Alex's recommendation of using OS_CLOUD instead of havng\nall the credentials here.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1825849\nChange-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b\n(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)\n(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)\n(cherry picked from commit 010febfbdeaf8ce2fbcb87e17454485464269c4f)\n""}]",0,787982,bcc5f03abf97dbbb47ff4dfcb161c12bd03f8af6,8,9,1,27419,,,0,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)
(cherry picked from commit 010febfbdeaf8ce2fbcb87e17454485464269c4f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/787982/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,bcc5f03abf97dbbb47ff4dfcb161c12bd03f8af6,, RootStackName: description: The name of the stack/plan. type: string - step|int == 4 OS_CLOUD: {get_param: RootStackName}," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true - step|int == 5 OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password",5,14
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,stable/ussuri,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-26 14:42:53.000000000,2021-04-27 14:12:43.000000000,2021-04-27 14:12:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:42:53.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/010febfbdeaf8ce2fbcb87e17454485464269c4f', 'message': ""Moving nova-consoleauth to step4\n\nSince this is part of the post_upgrade_tasks and post_upgrade_tasks is\nmaxed to 4 steps, we need to move this from step5 to step4 otherwise\nit's not being executed.\n\nAlso applying Alex's recommendation of using OS_CLOUD instead of havng\nall the credentials here.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1825849\nChange-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b\n(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)\n(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)\n""}]",0,787981,010febfbdeaf8ce2fbcb87e17454485464269c4f,8,9,1,27419,,,0,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
(cherry picked from commit 755084b5285f71dfa17c0abc310d4d797193b317)
(cherry picked from commit f8485c9dbc002ec22568a88a5d320db099b05b1b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/787981/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,010febfbdeaf8ce2fbcb87e17454485464269c4f,, RootStackName: description: The name of the stack/plan. type: string - step|int == 4 OS_CLOUD: {get_param: RootStackName}," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true - step|int == 5 OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password",5,14
openstack%2Ftripleo-heat-templates~master~I38e27b9479f709f78f4a9a20d16ad3bb702cf64f,openstack/tripleo-heat-templates,master,I38e27b9479f709f78f4a9a20d16ad3bb702cf64f,Simplify cephadm service templates,MERGED,2021-04-26 03:42:40.000000000,2021-04-27 14:11:54.000000000,2021-04-27 14:11:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-26 03:42:40.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03213d643ecfbd2209dadb0dba5a95f19e1c46eb', 'message': 'Simplify cephadm service templates\n\nRemoves a number of unnecessary resources and conditions.\n\nChange-Id: I38e27b9479f709f78f4a9a20d16ad3bb702cf64f\n'}]",0,787910,03213d643ecfbd2209dadb0dba5a95f19e1c46eb,11,5,1,8833,,,0,"Simplify cephadm service templates

Removes a number of unnecessary resources and conditions.

Change-Id: I38e27b9479f709f78f4a9a20d16ad3bb702cf64f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/787910/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cephadm/ceph-client.yaml', 'deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/cephadm/ceph-mds.yaml', 'deployment/cephadm/ceph-rbdmirror.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-osd.yaml', 'deployment/cephadm/ceph-mgr.yaml', 'deployment/cephadm/ceph-nfs.yaml', 'deployment/cephadm/ceph-external.yaml', 'deployment/cephadm/ceph-mon.yaml']",11,03213d643ecfbd2209dadb0dba5a95f19e1c46eb,,, - [],131,280
openstack%2Fpuppet-oslo~stable%2Fwallaby~If2df7664e43d62ceb979fe597e65b1ce046d00cc,openstack/puppet-oslo,stable/wallaby,If2df7664e43d62ceb979fe597e65b1ce046d00cc,Use tripleo puppet job instaed of tripleo job,MERGED,2021-04-18 13:48:31.000000000,2021-04-27 14:11:18.000000000,2021-04-27 14:11:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-18 13:48:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/ae67cd33eb1f6a410aae79283951b6ceac642adc', 'message': 'Use tripleo puppet job instaed of tripleo job\n\n... so that we define all tripleo jobs in puppet moudles based on\nthe base job definition.\n\nChange-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc\n(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)\n'}]",0,786780,ae67cd33eb1f6a410aae79283951b6ceac642adc,7,3,1,9816,,,0,"Use tripleo puppet job instaed of tripleo job

... so that we define all tripleo jobs in puppet moudles based on
the base job definition.

Change-Id: If2df7664e43d62ceb979fe597e65b1ce046d00cc
(cherry picked from commit d2f0bcff69fd9ddbb6971f4ec40f9e412e91b1ca)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/80/786780/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae67cd33eb1f6a410aae79283951b6ceac642adc,tripleo-stable/wallaby, - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-8-standalone, - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone queue: tripleo,2,3
openstack%2Ftripleo-validations~stable%2Ftrain~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/train,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:54.000000000,2021-04-27 14:10:52.000000000,2021-04-27 14:10:52.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-26 21:10:54.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6ee98fbfba8461e770ef2edf5d144341483c5371', 'message': 'Make tls_everywhere validations compatible with ansible_facts\n\nVia [1] we cannot rely on ansible_* vars anymore. So let\'s switch to\nansible_facts. This should fix the following error:\n\n  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:\n  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an\n  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |\n  default(ansible_fqdn) }}: \'ansible_fqdn\' is undefined\\n\\nThe error\n  appears to be in\n  \'/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml\':\n  line 59, column 7, but may\\nbe elsewhere in the file depending on the\n  exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n    -\n  name: kinit as the host entity\\n      ^ here\\n""}\n\nCloses-Bug: #1925999\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d\n\nChange-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f\n'}]",0,787990,6ee98fbfba8461e770ef2edf5d144341483c5371,7,6,1,20172,,,0,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/90/787990/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml']",2,6ee98fbfba8461e770ef2edf5d144341483c5371,fqdn-stable/victoria-stable/ussuri-stable/train,"# - tls_everywhere_undercloud_fqdn - which defaults to ansible_facts['fqdn'] undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_facts['fqdn']) }}""","# - tls_everywhere_undercloud_fqdn - which defaults to ansible_fqdn undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_fqdn) }}""",3,3
openstack%2Ftripleo-validations~stable%2Fussuri~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/ussuri,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:34.000000000,2021-04-27 14:03:28.000000000,2021-04-27 13:28:22.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-26 21:10:34.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/62b33cb30cee932d6a0db90fe0f2adfbc4407499', 'message': 'Make tls_everywhere validations compatible with ansible_facts\n\nVia [1] we cannot rely on ansible_* vars anymore. So let\'s switch to\nansible_facts. This should fix the following error:\n\n  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:\n  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an\n  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |\n  default(ansible_fqdn) }}: \'ansible_fqdn\' is undefined\\n\\nThe error\n  appears to be in\n  \'/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml\':\n  line 59, column 7, but may\\nbe elsewhere in the file depending on the\n  exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n    -\n  name: kinit as the host entity\\n      ^ here\\n""}\n\nCloses-Bug: #1925999\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d\n\nChange-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f\n'}]",0,787989,62b33cb30cee932d6a0db90fe0f2adfbc4407499,7,6,1,20172,,,0,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/89/787989/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml']",2,62b33cb30cee932d6a0db90fe0f2adfbc4407499,fqdn-stable/victoria-stable/ussuri,"# - tls_everywhere_undercloud_fqdn - which defaults to ansible_facts['fqdn'] undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_facts['fqdn']) }}""","# - tls_everywhere_undercloud_fqdn - which defaults to ansible_fqdn undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_fqdn) }}""",3,3
openstack%2Ftripleo-validations~stable%2Fvictoria~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,stable/victoria,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-26 21:10:07.000000000,2021-04-27 14:03:15.000000000,2021-04-27 13:28:19.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-26 21:10:07.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7382be2d324607cbb4970be30ccf5a47a42a8f0c', 'message': 'Make tls_everywhere validations compatible with ansible_facts\n\nVia [1] we cannot rely on ansible_* vars anymore. So let\'s switch to\nansible_facts. This should fix the following error:\n\n  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:\n  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an\n  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |\n  default(ansible_fqdn) }}: \'ansible_fqdn\' is undefined\\n\\nThe error\n  appears to be in\n  \'/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml\':\n  line 59, column 7, but may\\nbe elsewhere in the file depending on the\n  exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n    -\n  name: kinit as the host entity\\n      ^ here\\n""}\n\nCloses-Bug: #1925999\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d\n\nChange-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f\n'}]",0,787988,7382be2d324607cbb4970be30ccf5a47a42a8f0c,7,6,1,20172,,,0,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/787988/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml']",2,7382be2d324607cbb4970be30ccf5a47a42a8f0c,fqdn-stable/victoria,"# - tls_everywhere_undercloud_fqdn - which defaults to ansible_facts['fqdn'] undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_facts['fqdn']) }}""","# - tls_everywhere_undercloud_fqdn - which defaults to ansible_fqdn undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_fqdn) }}""",3,3
openstack%2Fgrenade~master~Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0,openstack/grenade,master,Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0,Do not suggest Gerrit as source of clones,MERGED,2021-04-27 06:58:49.000000000,2021-04-27 13:52:48.000000000,2021-04-27 13:51:29.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-27 06:58:49.000000000', 'files': ['grenaderc'], 'web_link': 'https://opendev.org/openstack/grenade/commit/1a1f58a69ee2f5cd01aba347c01b569424861ec0', 'message': 'Do not suggest Gerrit as source of clones\n\nMake infra-root happy.\n\nChange-Id: Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0\n'}]",0,788175,1a1f58a69ee2f5cd01aba347c01b569424861ec0,10,4,1,30491,,,0,"Do not suggest Gerrit as source of clones

Make infra-root happy.

Change-Id: Id2b87753236dcc055c8cd9e42e23cf5d3faee4c0
",git fetch https://review.opendev.org/openstack/grenade refs/changes/75/788175/1 && git format-patch -1 --stdout FETCH_HEAD,['grenaderc'],1,1a1f58a69ee2f5cd01aba347c01b569424861ec0,do-not-suggest-gerrit-as-source-of-clones,,# Another option is https://review.opendev.org/,0,1
openstack%2Fvitrage~master~I0a185f1f5d64760be42be4b21f1d154b1807e4c4,openstack/vitrage,master,I0a185f1f5d64760be42be4b21f1d154b1807e4c4,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:02:11.000000000,2021-04-27 13:49:09.000000000,2021-04-27 13:47:52.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:02:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e0f8bbaef4d7b738e3ed5c593337378ffa2f9c81', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0a185f1f5d64760be42be4b21f1d154b1807e4c4\n""}]",0,788176,e0f8bbaef4d7b738e3ed5c593337378ffa2f9c81,7,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0a185f1f5d64760be42be4b21f1d154b1807e4c4
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/76/788176/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e0f8bbaef4d7b738e3ed5c593337378ffa2f9c81,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/vitrage/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/vitrage/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-openstack-integration~master~Ie7523f7b3c8567b41c080968e747315442d65f12,openstack/puppet-openstack-integration,master,Ie7523f7b3c8567b41c080968e747315442d65f12,Remove ineffective blacklist item of Tempest tests,MERGED,2021-02-15 10:32:46.000000000,2021-04-27 13:37:08.000000000,2021-04-27 13:37:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 10:32:46.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/315b419d6413d0bd7b6c99e1ac0e160c12af892a', 'message': ""Remove ineffective blacklist item of Tempest tests\n\nCurrent Tempest doesn't have any ceilometer.* test, thus it is useless\nif we put any such items in the blacklist file for Tempest.\n\nChange-Id: Ie7523f7b3c8567b41c080968e747315442d65f12\n""}]",0,775574,315b419d6413d0bd7b6c99e1ac0e160c12af892a,7,3,1,9816,,,0,"Remove ineffective blacklist item of Tempest tests

Current Tempest doesn't have any ceilometer.* test, thus it is useless
if we put any such items in the blacklist file for Tempest.

Change-Id: Ie7523f7b3c8567b41c080968e747315442d65f12
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/74/775574/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,315b419d6413d0bd7b6c99e1ac0e160c12af892a,ceilometer-tempest-blacklist,," echo ""ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest.test_check_glance_v2_notifications"" >> /tmp/openstack/tempest/test-blacklist.txt",0,1
openstack%2Fpuppet-openstack-integration~master~I32ee15de80467ede3adceaf7bd34ed3edef7bc43,openstack/puppet-openstack-integration,master,I32ee15de80467ede3adceaf7bd34ed3edef7bc43,Modernize swift-proxy-server pipeline,MERGED,2021-02-20 15:25:34.000000000,2021-04-27 13:32:53.000000000,2021-04-27 13:32:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-20 15:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8d390a8994a5126aaaeb34ebc5aba02beb428e5c', 'message': 'Modernize swift-proxy-server pipeline\n\nThis change updates the pipeline parameter of swift-proxy-server,\nso that some middlewares to use basic features are enabled in\nintegration/litmus jobs.\n\nChange-Id: I32ee15de80467ede3adceaf7bd34ed3edef7bc43\n'}, {'number': 2, 'created': '2021-02-21 09:51:32.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c4b36922d5ae96f132a68e5738400933419e1d44', 'message': 'Modernize swift-proxy-server pipeline\n\nThis change updates the pipeline parameter of swift-proxy-server,\nso that some middlewares to use basic features are enabled in\nintegration/litmus jobs.\n\nDepends-on: https://review.opendev.org/776826\nChange-Id: I32ee15de80467ede3adceaf7bd34ed3edef7bc43\n'}]",0,776804,c4b36922d5ae96f132a68e5738400933419e1d44,11,3,2,9816,,,0,"Modernize swift-proxy-server pipeline

This change updates the pipeline parameter of swift-proxy-server,
so that some middlewares to use basic features are enabled in
integration/litmus jobs.

Depends-on: https://review.opendev.org/776826
Change-Id: I32ee15de80467ede3adceaf7bd34ed3edef7bc43
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/04/776804/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,8d390a8994a5126aaaeb34ebc5aba02beb428e5c,proxy-pipeline," 'catch_errors', 'gatekeeper', 'healthcheck', 'proxy-logging', 'cache', 'listing_formats', 'tempurl', 'ratelimit', 'authtoken', 'keystone', 'copy', 'formpost', 'staticweb', 'container_quotas', 'account_quotas', 'proxy-logging', 'proxy-server' include swift::proxy::gatekeeper include swift::proxy::listing_formats include swift::proxy::copy"," 'catch_errors', 'healthcheck', 'cache', 'tempurl', 'ratelimit', 'authtoken', 'keystone', 'formpost', 'staticweb', 'container_quotas', 'account_quotas', 'proxy-logging', 'proxy-server' include swift::proxy::tempauth",7,4
openstack%2Fpuppet-aodh~master~I8e4f9faeda2067559321753c78c3f38173ea5a48,openstack/puppet-aodh,master,I8e4f9faeda2067559321753c78c3f38173ea5a48,Fix a typo in file header,MERGED,2021-04-20 16:03:13.000000000,2021-04-27 13:25:09.000000000,2021-04-27 13:25:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:03:13.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2d037c1b62d5660c3e6b21ba3879761382414395', 'message': 'Fix a typo in file header\n\nChange-Id: I8e4f9faeda2067559321753c78c3f38173ea5a48\n'}]",0,787228,2d037c1b62d5660c3e6b21ba3879761382414395,11,3,1,9816,,,0,"Fix a typo in file header

Change-Id: I8e4f9faeda2067559321753c78c3f38173ea5a48
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/28/787228/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,2d037c1b62d5660c3e6b21ba3879761382414395,hc-typo,# == Class: aodh::healthcheck,# == Define: aodh::healthcheck,1,1
openstack%2Fpuppet-panko~master~I6c805de4681f2aa0832d9bdd7b636f2dcf479256,openstack/puppet-panko,master,I6c805de4681f2aa0832d9bdd7b636f2dcf479256,Fix a typo in file header,MERGED,2021-04-20 16:10:45.000000000,2021-04-27 13:20:33.000000000,2021-04-27 13:20:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:10:45.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/8fbf6aa52ba2d5346e12517bd0c504b1b053b3cb', 'message': 'Fix a typo in file header\n\nChange-Id: I6c805de4681f2aa0832d9bdd7b636f2dcf479256\n'}]",0,787257,8fbf6aa52ba2d5346e12517bd0c504b1b053b3cb,11,3,1,9816,,,0,"Fix a typo in file header

Change-Id: I6c805de4681f2aa0832d9bdd7b636f2dcf479256
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/57/787257/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,8fbf6aa52ba2d5346e12517bd0c504b1b053b3cb,hc-typo,# == Class: panko::healthcheck,# == Define: panko::healthcheck,1,1
openstack%2Ftripleo-ci~master~I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a,openstack/tripleo-ci,master,I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a,Changing all -wallaby jobs to non voting,MERGED,2021-04-12 14:32:47.000000000,2021-04-27 13:11:36.000000000,2021-04-13 10:51:20.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-12 14:32:47.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ec865320d9896efc1dfe7404c790659cc48e3926', 'message': 'Changing all -wallaby jobs to non voting\n\nWe do not have the latest code from master in current-tripleo/ So we are making the wallaby branchfull jobs till there is a promotion.\n\nChange-Id: I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a\n'}]",0,785888,ec865320d9896efc1dfe7404c790659cc48e3926,10,4,1,32458,,,0,"Changing all -wallaby jobs to non voting

We do not have the latest code from master in current-tripleo/ So we are making the wallaby branchfull jobs till there is a promotion.

Change-Id: I4626cc2a0c43eeb74c449ba705e6c2b32ba1f98a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/785888/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml']",3,ec865320d9896efc1dfe7404c790659cc48e3926,wallaby_branchfull_nonvoting, voting: false voting: false voting: false,,5,0
openstack%2Ftripleo-ci~master~I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347,openstack/tripleo-ci,master,I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347,Content provider wallaby jobs to non voting,MERGED,2021-04-14 21:21:21.000000000,2021-04-27 13:10:52.000000000,2021-04-15 21:43:17.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-14 21:21:21.000000000', 'files': ['zuul.d/content-provider.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e9092c86e9dd3035e016c7e150ce8eb0fa6f429', 'message': 'Content provider wallaby jobs to non voting\n\nChanging content-provider wallaby to non voying and victoria to voting. Fixing error in patch https://review.opendev.org/c/openstack/tripleo-ci/+/785888/1/zuul.d/content-provider.yaml\n\nChange-Id: I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347\n'}]",0,786327,2e9092c86e9dd3035e016c7e150ce8eb0fa6f429,12,3,1,32458,,,0,"Content provider wallaby jobs to non voting

Changing content-provider wallaby to non voying and victoria to voting. Fixing error in patch https://review.opendev.org/c/openstack/tripleo-ci/+/785888/1/zuul.d/content-provider.yaml

Change-Id: I8d4f1770b8b3b8cdb2f858d2c91c2a0d3afdb347
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/786327/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/content-provider.yaml'],1,2e9092c86e9dd3035e016c7e150ce8eb0fa6f429,, voting: false, voting: false,1,1
openstack%2Fkolla~master~Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,openstack/kolla,master,Ib7147def6aec21e46d49a1c880bd1b53ec5472e6,releasenotes: we move to Debian bullseye,MERGED,2021-04-16 07:55:36.000000000,2021-04-27 13:09:40.000000000,2021-04-27 13:02:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-16 07:55:36.000000000', 'files': ['releasenotes/notes/debian-bullseye-4fedf3b3638783de.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcdec58c69ca68c776d69f1af38d0bc26da4727a', 'message': 'releasenotes: we move to Debian bullseye\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/772479\nChange-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6\n'}]",0,786594,bcdec58c69ca68c776d69f1af38d0bc26da4727a,12,5,1,24072,,,0,"releasenotes: we move to Debian bullseye

Depends-On: https://review.opendev.org/c/openstack/kolla/+/772479
Change-Id: Ib7147def6aec21e46d49a1c880bd1b53ec5472e6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/786594/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/debian-bullseye-4fedf3b3638783de.yaml'],1,bcdec58c69ca68c776d69f1af38d0bc26da4727a,prepare-for-kolla-wallaby-release,"--- features: - | Debian 'bullseye' is now used instead of 'buster'. Bullseye is the next stable release of Debian, and is currently in a 'freeze' state. Several images gained Debian support with the move to bullseye. ",,6,0
openstack%2Fkolla~master~I543965a2741cebfa759576a4c75669a7bacd4208,openstack/kolla,master,I543965a2741cebfa759576a4c75669a7bacd4208,move to Debian 'bullseye',MERGED,2021-01-26 09:02:23.000000000,2021-04-27 13:08:27.000000000,2021-04-27 13:01:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-01-26 09:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afe498dbf5ab9aa8613a7f97e9156df501b1c92d', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 2, 'created': '2021-02-15 10:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95a23fc912c15f8984afe97d0e4a34c6437b6a9d', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 3, 'created': '2021-02-15 13:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5722e102e4f5f4d33bcf13aa5f4ed1239f5287db', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 4, 'created': '2021-02-15 13:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/106396d1ce2cb58c079af32b8041c32529a8c8cb', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nv0215-3\n- removed CI for other distros\n- removed lsb-release check\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 5, 'created': '2021-02-15 13:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c070cbdbef96572879c227dcbd531f80ee79a8e9', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nv0215-4\n- removed CI for other distros\n- removed lsb-release check\n- do not use opendev Debian mirror as it lacks bullseye\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 6, 'created': '2021-03-23 11:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/33be56ead0b171a0138c4e58000c121dc8f8c5dd', 'message': ""WIP: move to Debian 'bullseye'\n\nHard freeze of Bullseye is planned for 2021.03.12 [1] so we probably not\nmove during Wallaby cycle.\n\n1. https://release.debian.org/bullseye/freeze_policy.html\n\nv0323-1\n- removed CI for other distros\n- removed lsb-release check\n- do not use opendev Debian mirror as it lacks bullseye\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 7, 'created': '2021-04-06 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eaa4ada96a17777495f9eb5d9aa801ebc9b583b0', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0406-1\n- removed CI for other distros\n- use CI infra mirrors as it now has bullseye\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 8, 'created': '2021-04-06 10:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fa833c68f0f8af6748bfeb594ea1f50d4f72c43', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 9, 'created': '2021-04-06 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/78ad82a71a89efbff402ef3c6864a8c97e69b1e2', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 10, 'created': '2021-04-06 10:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa44dc1674a6aee83e908e5635478e8bd2fb7030', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 11, 'created': '2021-04-06 12:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9dee37529a6acff7992c575506ec64657c7101a', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 12, 'created': '2021-04-06 12:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e968c4e2bd98d590c25ba50c377001fdaab48259', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 13, 'created': '2021-04-06 13:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f8fd2b92a98691681d4f09e607685fa7f96ec40', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 14, 'created': '2021-04-06 13:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/734b7f902c8c0718d953385f8a9579f76d3ed5fc', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 15, 'created': '2021-04-07 08:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2180489e36d969ebc01817fc4da66072dddaa5da', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 16, 'created': '2021-04-08 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b57ad170e9ae3301a1ba42e1415a45d320a60d9f', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 17, 'created': '2021-04-08 11:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ae85850f22028d309b804da47fd76aee34ecab0', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 18, 'created': '2021-04-13 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f91a5c89bc59756d8d68917008b2a7cf394c4ea', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 19, 'created': '2021-04-13 10:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0ce7ca228c442f1db4edb22467da69dff8458e4', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 20, 'created': '2021-04-13 10:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0db26c8649f29d5ec79ad91f0d699e3e66b40e36', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786036\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 21, 'created': '2021-04-13 12:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/246b89e12385cd42739261a35badc8bb3d6ba482', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786036\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 22, 'created': '2021-04-13 13:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fa710c9bc9a47027aa3dbcf901654514593e212', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786036\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 23, 'created': '2021-04-14 07:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a3f9009f49e8fb80ded72e2c83f9283da62e5ec', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nv0408:\n- mariadb-server got separate expect file to help pass kolla-ansible\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786036\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 24, 'created': '2021-04-14 08:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9de82a49da55bdc770b10aeeccf5b50869e002bf', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786036\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 25, 'created': '2021-04-14 10:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd220fad8432061af95f892c2194782bab7ffc42', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 26, 'created': '2021-04-14 16:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03fb814ef54b3d63846aaf39219c5f17a695bd2a', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 27, 'created': '2021-04-15 15:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e0072bb0bab6938d50750280ebad95aca460301', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 28, 'created': '2021-04-15 15:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c30c26a8205fe9c7fddc3255d67fdac8d253020c', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 29, 'created': '2021-04-19 17:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1535b9a4cfb3ede8aa57dc710e0bc8128b7bd987', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 30, 'created': '2021-04-20 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e5d634d55ea12625b186e318669f7fac17d873f5', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 31, 'created': '2021-04-21 11:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/02ae29202b1efd47b99f9d683716466b0206ddae', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 32, 'created': '2021-04-21 14:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ffbbf6cbef3f9b4711eee612464494cb3d6d53d', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 33, 'created': '2021-04-21 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8940a362391f1595e97fde43a5380249514cfaee', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/786182\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 34, 'created': '2021-04-21 17:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99608c4a8ece0e403328893ccec81dbc5d2fd31c', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 35, 'created': '2021-04-21 21:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f7e748a09a3f9e08642e0a6682c6a1cd48ad3652', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 36, 'created': '2021-04-22 09:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/115560c94f6d01a62a4ca07126bdf51233df8532', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 37, 'created': '2021-04-22 17:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac8c82b43a696a5dbef61cf12391a10f9f8e07bb', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}, {'number': 38, 'created': '2021-04-26 18:03:50.000000000', 'files': ['docker/mariadb/mariadb-server/Dockerfile.j2', 'kolla/template/repos.yaml', 'tests/templates/template_overrides.j2', 'docker/mariadb/mariadb-server/security_reset.expect.debian', 'kolla/common/config.py', 'kolla/image/build.py', '.zuul.d/debian.yaml', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/base/sources.list.debian', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0f8cbc50cf7184930a501b0f5452a64f523cd6f', 'message': ""move to Debian 'bullseye'\n\nBullseye is now in hard freeze cycle and goes for release.\n\nhttps://release.debian.org/bullseye/freeze_policy.html\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nChange-Id: I543965a2741cebfa759576a4c75669a7bacd4208\n""}]",36,772479,e0f8cbc50cf7184930a501b0f5452a64f523cd6f,164,8,38,24072,,,0,"move to Debian 'bullseye'

Bullseye is now in hard freeze cycle and goes for release.

https://release.debian.org/bullseye/freeze_policy.html

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Change-Id: I543965a2741cebfa759576a4c75669a7bacd4208
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/772479/4 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/ovn/ovn-controller/Dockerfile.j2', 'docker/base/apt_preferences.debian', 'docker/ovn/ovn-northd/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/ovn/ovn-nb-db-server/Dockerfile.j2', 'docker/ovn/ovn-sb-db-server/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.debian', 'kolla/common/config.py']",10,afe498dbf5ab9aa8613a7f97e9156df501b1c92d,prepare-for-kolla-wallaby-release," 'debian': 'bullseye', 'debian': 'testing',"," 'debian': '10', 'debian': '10',",15,96
openstack%2Fvalidations-common~master~I685b6b325fc2c252cb7e656f369a60f958fa72bf,openstack/validations-common,master,I685b6b325fc2c252cb7e656f369a60f958fa72bf,Except block now covers specific errors,MERGED,2021-04-15 11:45:11.000000000,2021-04-27 13:07:01.000000000,2021-04-27 13:07:01.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-15 11:45:11.000000000', 'files': ['validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2470d54bbd3cf0797a255b53f6f24040bd1e29c3', 'message': 'Except block now covers specific errors\n\nPreviously too broad exception has been refactored,\nin order to stop truly unexpected issues from hiding.\n\nOnly ParsingError and OSError is now caught by the block.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I685b6b325fc2c252cb7e656f369a60f958fa72bf\n'}]",0,786392,2470d54bbd3cf0797a255b53f6f24040bd1e29c3,9,7,1,32926,,,0,"Except block now covers specific errors

Previously too broad exception has been refactored,
in order to stop truly unexpected issues from hiding.

Only ParsingError and OSError is now caught by the block.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I685b6b325fc2c252cb7e656f369a60f958fa72bf
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/92/786392/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/library/validations_read_ini.py'],1,2470d54bbd3cf0797a255b53f6f24040bd1e29c3,broadexceptions," except (OSError, ConfigParser.ParsingError):", except Exception:,1,1
openstack%2Fopenstack-helm~master~Ia34ebae795784f634fd22492a0c22a367d1e010d,openstack/openstack-helm,master,Ia34ebae795784f634fd22492a0c22a367d1e010d,Add k8s proxy-body-size to horizon values.yaml,ABANDONED,2021-03-05 13:44:56.000000000,2021-04-27 12:59:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 24407}, {'_account_id': 24780}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-05 13:44:56.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a6d7b1fa02653a5dc24593460a5f25d50663928', 'message': ""Add k8s proxy-body-size to horizon values.yaml\n\nThe current network.dashboard.ingress.annotations in\nhorizon/values.yaml do not include the kubernetes property\n'proxy-body-size'. This makes the resulting nginx.conf file in\ningress add the default rule 'max_body_size 1m' to the horizon servers,\nwhich limits all http requests' size inside horizon to 1MB, making it\nimpossible to upload images larger than that to glance using the\nhorizon GUI, for example.\n\nThis change adds said property to horizon/values.yaml, making\nhorizon's servers in nginx.conf include a 'max_body_size' of 0\n(unlimited), which makes the image upload feature usable again.\n\nStory: 2008692\nTask: 41996\nChange-Id: Ia34ebae795784f634fd22492a0c22a367d1e010d\n""}]",4,778919,5a6d7b1fa02653a5dc24593460a5f25d50663928,9,4,1,33006,,,0,"Add k8s proxy-body-size to horizon values.yaml

The current network.dashboard.ingress.annotations in
horizon/values.yaml do not include the kubernetes property
'proxy-body-size'. This makes the resulting nginx.conf file in
ingress add the default rule 'max_body_size 1m' to the horizon servers,
which limits all http requests' size inside horizon to 1MB, making it
impossible to upload images larger than that to glance using the
horizon GUI, for example.

This change adds said property to horizon/values.yaml, making
horizon's servers in nginx.conf include a 'max_body_size' of 0
(unlimited), which makes the image upload feature usable again.

Story: 2008692
Task: 41996
Change-Id: Ia34ebae795784f634fd22492a0c22a367d1e010d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/778919/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']",3,5a6d7b1fa02653a5dc24593460a5f25d50663928,," nginx.ingress.kubernetes.io/proxy-body-size: ""0""",,3,1
openstack%2Fvitrage-dashboard~master~Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0,openstack/vitrage-dashboard,master,Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:06:03.000000000,2021-04-27 12:58:43.000000000,2021-04-27 12:57:15.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:06:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/2a4d5c3a8f5039e3ab318ffaa004b5ea7c174559', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0\n""}]",0,788179,2a4d5c3a8f5039e3ab318ffaa004b5ea7c174559,8,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idfc92fdc6ea9c9022b5964fcaf7f8d8960ecb7e0
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/79/788179/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2a4d5c3a8f5039e3ab318ffaa004b5ea7c174559,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/vitrage-dashboard/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/vitrage-dashboard/latest/ python-requires = >=3.6,4,4
openstack%2Ftempest~master~I5022fd3cfb729ff0e8de82b5ccb22886da34c94d,openstack/tempest,master,I5022fd3cfb729ff0e8de82b5ccb22886da34c94d,Add a check for image protected field,ABANDONED,2017-02-20 13:56:40.000000000,2021-04-27 12:49:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 12017}, {'_account_id': 20190}, {'_account_id': 23003}]","[{'number': 1, 'created': '2017-02-20 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d48fb77fb12f08986058bee973eba1fc83a53db', 'message': 'Add test_update_image_protected that updates an image protected field\n\nCreate an image\nUpdate protected field to be True\nVerify that it was updated.\nUpdate protected field back to be False\n\nChange-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d\n'}, {'number': 2, 'created': '2017-02-21 09:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2a5fca0b0750d1b3dcd19c05b239c1205ae989c', 'message': 'Add a check for image protected field\n\nChange-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d\n'}, {'number': 3, 'created': '2017-02-21 10:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c7e12022a03756a542782c6d81ba5f96cab1c20', 'message': 'Add a check for image protected field\n\nChange-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d\n'}, {'number': 4, 'created': '2017-02-26 11:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/af6d3a11a6a3080932819764d8b6ec07dc407f00', 'message': 'Add a check for image protected field\n\nChange-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d\n'}, {'number': 5, 'created': '2017-03-02 06:49:58.000000000', 'files': ['tempest/api/image/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb102c9116b15b04d14e094fb83a22e06f59c2dc', 'message': 'Add a check for image protected field\n\nChange-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d\n'}]",17,436002,fb102c9116b15b04d14e094fb83a22e06f59c2dc,37,13,5,23003,,,0,"Add a check for image protected field

Change-Id: I5022fd3cfb729ff0e8de82b5ccb22886da34c94d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/436002/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images.py'],1,6d48fb77fb12f08986058bee973eba1fc83a53db,image_update," @test.attr(type='smoke') @decorators.idempotent_id('f16bc277-3b68-479b-82ed-60af2de973f2') def test_update_image_protected(self): """"""Updates an image protected field Create an image Update protected field to be True Verify that it was updated. Update protected field back to be False """""" # Create image container_format = CONF.image.container_formats[0] disk_format = CONF.image.disk_formats[0] image = self.create_image(name=data_utils.rand_name('image'), container_format=container_format, disk_format=disk_format, visibility='private') self.assertEqual(False, image['protected']) # Update Image protected field to be True body = self.client.update_image(image['id'], [ dict(replace='/protected', value=True)]) # Verify updating body = self.client.show_image(image['id']) self.assertEqual(image['id'], body['id']) self.assertEqual(True, body['protected']) # Update Image protected field back to False body = self.client.update_image(image['id'], [ dict(replace='/protected', value=False)]) ",,32,0
openstack%2Fheat~stable%2Fussuri~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/ussuri,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-27 07:06:31.000000000,2021-04-27 12:47:35.000000000,2021-04-27 12:45:42.000000000,"[{'_account_id': 8833}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:06:31.000000000', 'files': ['heat/engine/hot/functions.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b9a3395978bf60d3ce769b8fcedc60b7127f404f', 'message': 'Preserve order in list_concat_unique\n\nAlso, we should not modify a list when iterating\nover it.\n\nTask: 42359\nCloses-Bug: #1925373\nChange-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817\n(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)\n'}]",0,788146,b9a3395978bf60d3ce769b8fcedc60b7127f404f,8,3,1,30073,,,0,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/788146/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'heat/tests/test_hot.py']",2,b9a3395978bf60d3ce769b8fcedc60b7127f404f,," snippet = {'list_concat_unique': [['v1', 'v2'], ['v1', 'v3']]}"," snippet = {'list_concat_unique': [['v1', 'v2'], ['v2', 'v3']]}",8,6
openstack%2Fkuryr-kubernetes~master~I4d8db9eb021d33b79a5ff688c91ba0df6cae938a,openstack/kuryr-kubernetes,master,I4d8db9eb021d33b79a5ff688c91ba0df6cae938a,Remove pyroute2 deprication warning,MERGED,2021-04-17 15:19:10.000000000,2021-04-27 12:43:53.000000000,2021-04-27 12:42:29.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 32029}, {'_account_id': 33240}]","[{'number': 1, 'created': '2021-04-17 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e73e9a2735f1cf59e02351bd4338b6be76fdfe8a', 'message': 'remove pyroute2 deprication warning\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 2, 'created': '2021-04-17 17:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2d5866fad1717afef33c1076c4e4d9f0e38c5a7', 'message': 'Remove pyroute2 deprication warning\n\nCloses-bug: 1918709\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 3, 'created': '2021-04-20 16:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f918f642dbef062304b255b4b3b7b8c8d905199b', 'message': 'This is an update to the previous commit.\n\nRemove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 4, 'created': '2021-04-21 15:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dae4cf9c2f15218641c9cb1421c14fbb68eea107', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 5, 'created': '2021-04-21 17:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d94247da0aed51ffb58b9b8fba1387f1388aa87d', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 6, 'created': '2021-04-21 17:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ab4133f2e4a0bfd30d329b3484a8642fcc605a80', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 7, 'created': '2021-04-21 18:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/238dafb13136256ef123933746552a4ee6a289cd', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 8, 'created': '2021-04-21 18:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8bbe429a5d1d25cd3fcc59dd769a87005ffa0bf9', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 9, 'created': '2021-04-21 19:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1667b2ab5c962b7ab256afada40e6ce9a9e3ffc6', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 10, 'created': '2021-04-21 19:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ab60d70ead180ed403719a5aa4f8565cf56f595b', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 11, 'created': '2021-04-22 13:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0fa3bf856a7c211b94322084d3ff487bc5d75a61', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}, {'number': 12, 'created': '2021-04-23 12:51:13.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2fde08fc1b53ecca568119c23ceebbb2cbdb3d71', 'message': 'Remove pyroute2 deprication warning\n\nWhenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.\n\nCloses-bug: 1918709\n\nChange-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a\n'}]",9,786759,2fde08fc1b53ecca568119c23ceebbb2cbdb3d71,42,7,12,33375,,,0,"Remove pyroute2 deprication warning

Whenever a CNI container image is generated, in CNI pod logs there were deprication warning which should be removed.

Closes-bug: 1918709

Change-Id: I4d8db9eb021d33b79a5ff688c91ba0df6cae938a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/786759/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/daemon/service.py'],1,e73e9a2735f1cf59e02351bd4338b6be76fdfe8a,bug/1918709, #Disable pyroute2 warning logging.getLogger('pyroute2').setLevel(logging.ERROR) ,,3,0
openstack%2Fkayobe~master~I23eb5116d8d1944167a0d50cafe5b99f766ad687,openstack/kayobe,master,I23eb5116d8d1944167a0d50cafe5b99f766ad687,Disable Bifrost cleaning by default,MERGED,2021-04-23 12:56:59.000000000,2021-04-27 12:43:00.000000000,2021-04-27 12:41:30.000000000,"[{'_account_id': 782}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-23 12:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/725bd53e77c6cf5fc5f01258a504c418de81acba', 'message': ""Disable Bifrost cleaning by default\n\nCleaning was disabled by default in Bifrost until the Victoria release,\nwhen the default was changed. The 'kayobe overcloud provision' command\ndoes not handle cleaning states when moving nodes from manageable to\navailable. This can lead to provisioning failures.\n\nThis can This change disables cleaning to maintain backwards\ncompatibility with earlier versions of Kayobe.\n\nChange-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687\nStory: 2008850\nTask: 42363\n""}, {'number': 2, 'created': '2021-04-23 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a4a7e3e1b255bf17946f0d8cd557359c770b980', 'message': ""Disable Bifrost cleaning by default\n\nCleaning was disabled by default in Bifrost\n(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,\nwhen the default was changed. The 'kayobe overcloud provision' command\ndoes not handle cleaning states when moving nodes from manageable to\navailable. This can lead to provisioning failures.\n\nThis can This change disables cleaning to maintain backwards\ncompatibility with earlier versions of Kayobe.\n\nChange-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687\nStory: 2008850\nTask: 42363\n""}, {'number': 3, 'created': '2021-04-23 15:03:46.000000000', 'files': ['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/disable-bifrost-cleaning-ff10995a0bf11079.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d45812d3badc04f7e99fbf4207baf5c45096dc90', 'message': ""Disable Bifrost cleaning by default\n\nCleaning was disabled by default in Bifrost\n(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,\nwhen the default was changed. The 'kayobe overcloud provision' command\ndoes not handle cleaning states when moving nodes from manageable to\navailable. This can lead to provisioning failures.\n\nThis change disables cleaning to maintain backwards\ncompatibility with earlier versions of Kayobe.\n\nChange-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687\nStory: 2008850\nTask: 42363\n""}]",3,787733,d45812d3badc04f7e99fbf4207baf5c45096dc90,21,5,3,14826,,,0,"Disable Bifrost cleaning by default

Cleaning was disabled by default in Bifrost
(Ie1198768889bd468176cd68c8ccb48791c724262) until the Victoria release,
when the default was changed. The 'kayobe overcloud provision' command
does not handle cleaning states when moving nodes from manageable to
available. This can lead to provisioning failures.

This change disables cleaning to maintain backwards
compatibility with earlier versions of Kayobe.

Change-Id: I23eb5116d8d1944167a0d50cafe5b99f766ad687
Story: 2008850
Task: 42363
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/33/787733/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-bifrost/templates/bifrost.yml.j2', 'releasenotes/notes/disable-bifrost-cleaning-ff10995a0bf11079.yaml']",2,725bd53e77c6cf5fc5f01258a504c418de81acba,,"--- upgrade: - | Until the Victoria release, Bifrost disabled node cleaning, however it became enabled in Victoria. To maintain backward compatibility, Kayobe now modifies the configuration in Bifrost to disable node cleaning of overcloud hosts. ",,11,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Ifaf64e3d9d89b2ec36a883fb7458556745b64802,openstack/kolla-ansible,stable/wallaby,Ifaf64e3d9d89b2ec36a883fb7458556745b64802,Avoid an Ansible quirk in hacluster role,MERGED,2021-04-26 12:59:55.000000000,2021-04-27 12:38:45.000000000,2021-04-27 12:37:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 12:59:55.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/adef109a14ace1cd802fb5a9f544883b5eea350b', 'message': 'Avoid an Ansible quirk in hacluster role\n\nFollowup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823\n\nWhen+run_once do not play nicely. [1]\nThe general workaround is to use include_tasks. [2]\nHowever, it is very unlikely user wishes to run this role\nwithout having any pacemaker nodes so the simplification that we\nuse throughout the Kolla Ansible code should be enough.\n\n[1] https://github.com/ansible/ansible/issues/11496\n[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547\n\nChange-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802\n(cherry picked from commit f3da3d8e1920473154d239e6ef5a254dbde438f2)\n'}]",0,787976,adef109a14ace1cd802fb5a9f544883b5eea350b,11,3,1,30491,,,0,"Avoid an Ansible quirk in hacluster role

Followup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823

When+run_once do not play nicely. [1]
The general workaround is to use include_tasks. [2]
However, it is very unlikely user wishes to run this role
without having any pacemaker nodes so the simplification that we
use throughout the Kolla Ansible code should be enough.

[1] https://github.com/ansible/ansible/issues/11496
[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547

Change-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802
(cherry picked from commit f3da3d8e1920473154d239e6ef5a254dbde438f2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/787976/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/hacluster/tasks/bootstrap_service.yml'],1,adef109a14ace1cd802fb5a9f544883b5eea350b,hacluster-quirk-followup-stable/wallaby," delegate_to: ""{{ groups[service.group][0] }}""", when: - inventory_hostname in groups[service.group] - service.enabled | bool,1,3
openstack%2Fcharm-guide~master~I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5,openstack/charm-guide,master,I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5,Fix typos in charm-anatomy,MERGED,2021-04-27 02:25:01.000000000,2021-04-27 12:21:13.000000000,2021-04-27 12:19:35.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-27 02:25:01.000000000', 'files': ['doc/source/charm-anatomy.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/31bab2c36942d83fdcd2a993a3ea7f66d2c61152', 'message': 'Fix typos in charm-anatomy\n\nChange-Id: I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5\n'}]",0,788122,31bab2c36942d83fdcd2a993a3ea7f66d2c61152,7,2,1,27345,,,0,"Fix typos in charm-anatomy

Change-Id: I1c3021245f79d8dfa8f2b9342bdb59bd434ce4e5
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/22/788122/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/charm-anatomy.rst'],1,31bab2c36942d83fdcd2a993a3ea7f66d2c61152,fix-charm-anatomy-typos,"provides the base layer for OpenStack charms that deploy API services, and provides all of the core functionality for:The interfaces a charm needs are defined in the `layers.yaml`_. Below is a list Hyphens are always automatically converted to underscores in the templateTemplates are loaded from several places in the following order:","provides the base layer for OpenStack charms that are will deploy API services, and provides all of the core functionality for:The interfaces a charm needs are defines in the `layers.yaml`_. Below is a list Hypens are always automatically converted to underscores in the templateTemplate are loaded from several places in the following order:",5,5
openstack%2Fpuppet-neutron~master~Id8805bd724b6f97d20a3548dc16349eb906d5607,openstack/puppet-neutron,master,Id8805bd724b6f97d20a3548dc16349eb906d5607,Clean up deprecated vnic_type_blacklist parameters,MERGED,2021-04-25 15:11:22.000000000,2021-04-27 12:16:43.000000000,2021-04-27 12:15:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 15:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/35438ce3e21a01cd4a5844e664a30af511ddc734', 'message': 'Clean up deprecated vnic_type_blacklist parameters\n\nChange-Id: Id8805bd724b6f97d20a3548dc16349eb906d5607\n'}, {'number': 2, 'created': '2021-04-26 12:13:10.000000000', 'files': ['releasenotes/notes/remove-vnic_type_blacklist-8fa7a3c10f696e89.yaml', 'manifests/plugins/ml2/mech_driver.pp', 'manifests/plugins/ml2/ovs_driver.pp', 'manifests/plugins/ml2/sriov_driver.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/516a6f362b3b9cfc7b452f8454c3f926f7cce69d', 'message': 'Clean up deprecated vnic_type_blacklist parameters\n\nChange-Id: Id8805bd724b6f97d20a3548dc16349eb906d5607\n'}]",0,787890,516a6f362b3b9cfc7b452f8454c3f926f7cce69d,10,3,2,9816,,,0,"Clean up deprecated vnic_type_blacklist parameters

Change-Id: Id8805bd724b6f97d20a3548dc16349eb906d5607
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/90/787890/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-vnic_type_blacklist-8fa7a3c10f696e89.yaml', 'manifests/plugins/ml2/mech_driver.pp', 'manifests/plugins/ml2/ovs_driver.pp', 'manifests/plugins/ml2/sriov_driver.pp']",4,35438ce3e21a01cd4a5844e664a30af511ddc734,vnic_type_blacklist,"){ validate_legacy(Array, 'validate_array', $vnic_type_prohibit_listg) if !empty($vnic_type_prohibit_listg) { neutron_plugin_ml2 { 'sriov_driver/vnic_type_prohibit_list': value => join(any2array($vnic_type_prohibit_listg), ',');","# DEPRECATED PARAMETERS # # [*vnic_type_blacklist*] # (optional) list of VNIC types for which support in Neutron is # administratively prohibited by the OVS mechanism driver # Defaults to undef # # DEPRECATED PARAMETERS $vnic_type_blacklist = undef, ){ if $vnic_type_blacklist != undef { warning('The vnic_type_blacklist parameter is deprecated. Use vnic_type_prohibit_list instead') $vnic_type_prohibit_list_real = $vnic_type_blacklist } else { $vnic_type_prohibit_list_real = $vnic_type_prohibit_list } validate_legacy(Array, 'validate_array', $vnic_type_prohibit_list_real) if !empty($vnic_type_prohibit_list_real) { neutron_plugin_ml2 { 'sriov_driver/vnic_type_prohibit_list': value => join(any2array($vnic_type_prohibit_list_real), ','); neutron_plugin_ml2 { 'sriov_driver/vnic_type_blacklist': ensure => absent; }",15,77
openstack%2Fpuppet-nova~master~If637debcd25b17183311e16e1bf5b76c453c634f,openstack/puppet-nova,master,If637debcd25b17183311e16e1bf5b76c453c634f,Clean up floating ip pool management for nova-network,MERGED,2021-04-26 12:48:08.000000000,2021-04-27 12:13:53.000000000,2021-04-27 12:11:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ce5eab13f51b78126ec5667e879f05516b795459', 'message': 'Clean up floating ip pool management for nova-network\n\n... because it was deprecated during the previous cycle and has been\nuseless since nova-network was removed.\n\nChange-Id: If637debcd25b17183311e16e1bf5b76c453c634f\n'}, {'number': 2, 'created': '2021-04-26 13:09:03.000000000', 'files': ['lib/puppet/provider/nova_floating/nova_manage.rb', 'lib/puppet/type/nova_floating.rb', 'releasenotes/notes/remove-nova_floating-bc0c6ace911f9c51.yaml', 'manifests/manage/floating.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1c0a03c6d8e83eadce444cf6de6a4ec18d888ee4', 'message': 'Clean up floating ip pool management for nova-network\n\n... because it was deprecated during the previous cycle and has been\nuseless since nova-network was removed.\n\nChange-Id: If637debcd25b17183311e16e1bf5b76c453c634f\n'}]",0,787969,1c0a03c6d8e83eadce444cf6de6a4ec18d888ee4,9,3,2,9816,,,0,"Clean up floating ip pool management for nova-network

... because it was deprecated during the previous cycle and has been
useless since nova-network was removed.

Change-Id: If637debcd25b17183311e16e1bf5b76c453c634f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/69/787969/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/nova_floating/nova_manage.rb', 'lib/puppet/type/nova_floating.rb', 'releasenotes/notes/remove-nova_floating-bc0c6ace911f9c51.yaml', 'manifests/manage/floating.pp']",4,ce5eab13f51b78126ec5667e879f05516b795459,remove-nova_floating,,# Creates floating networks # # === Parameters: # # [*network*] # (mandatory) The network name to work on # define nova::manage::floating ( $network ) { include nova::deps warning('The nova::manage::floating class is deprecated and has no effect') } ,6,52
openstack%2Fpuppet-nova~master~I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0,openstack/puppet-nova,master,I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0,Clean up deprecated scheduler parameters,MERGED,2021-04-26 12:38:20.000000000,2021-04-27 12:12:25.000000000,2021-04-27 12:10:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 12:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/21b4bef22e3490b337d208f2a9bc5a88693b44b7', 'message': 'Clean up deprecated scheduler parameters\n\nChange-Id: I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0\n'}, {'number': 2, 'created': '2021-04-26 13:07:56.000000000', 'files': ['manifests/scheduler/filter.pp', 'manifests/scheduler.pp', 'releasenotes/notes/cleanup-scheduler-opts-e8b8be670fba3f3c.yaml', 'spec/classes/nova_scheduler_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0a3ab851a7436b1a25c890bec001c7119d7a8b6c', 'message': 'Clean up deprecated scheduler parameters\n\nChange-Id: I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0\n'}]",0,787967,0a3ab851a7436b1a25c890bec001c7119d7a8b6c,9,3,2,9816,,,0,"Clean up deprecated scheduler parameters

Change-Id: I82a1ce85d7f0d793bb9ff57f69d085c3a88ef2f0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/787967/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'manifests/scheduler.pp', 'releasenotes/notes/cleanup-scheduler-opts-e8b8be670fba3f3c.yaml', 'spec/classes/nova_scheduler_spec.rb']",4,21b4bef22e3490b337d208f2a9bc5a88693b44b7,cleanup-scheduler-opts,, context 'with scheduler driver' do let :params do { :scheduler_driver => 'custom driver' } end it { is_expected.to contain_nova_config('scheduler/driver').with_value('custom driver') } end ,14,76
openstack%2Fpuppet-panko~master~I64428383082722ff19c66b2a675e0849eaeb1b9c,openstack/puppet-panko,master,I64428383082722ff19c66b2a675e0849eaeb1b9c,Drop support for standalone api service in CentOS/Ubuntu,MERGED,2020-10-27 15:46:55.000000000,2021-04-27 12:11:25.000000000,2021-04-27 12:09:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-27 15:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/3340bb1802d34ddbdab2ed3b34d288770f7853e9', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 2, 'created': '2020-10-27 15:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/18835068186b9c78f9788dfc291bea66ca53a9a2', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 3, 'created': '2020-10-27 16:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/545c8842f5601422bcddf28dbf0aa19090b026d5', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 4, 'created': '2020-10-27 16:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/3ba3b7773e7cb8b860a7edbd8c5b92fda316bc9a', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 5, 'created': '2020-10-27 16:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/da1ab74891811603b910518906050ba31cfdf7f3', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 6, 'created': '2020-10-27 16:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/949862cd71bf5a9aae952fe6e27afe4e05802d40', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}, {'number': 7, 'created': '2020-10-28 13:51:35.000000000', 'files': ['spec/classes/panko_api_spec.rb', 'releasenotes/notes/drop-standalone-api-67411e39ae327e8e.yaml', 'manifests/api.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/bf0ba3619b7261b107c9abd14b0895117aa22130', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nPanko no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c\n'}]",0,759891,bf0ba3619b7261b107c9abd14b0895117aa22130,15,3,7,9816,,,0,"Drop support for standalone api service in CentOS/Ubuntu

Panko no longer provides standalone api service and we should use
httpd+wsgi to server api in CentOS and Ubuntu.
This patch removes support for stnadalone api service in CentOS and
Ubuntu and deprecates several parameters only used in standalone
setup.

Note that standalone service is still used in Debian since it provides
services based on uwsgi, so the support is not dropped in Debian.

Change-Id: I64428383082722ff19c66b2a675e0849eaeb1b9c
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/91/759891/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/panko_api_spec.rb', 'releasenotes/notes/drop-standalone-api-67411e39ae327e8e.yaml', 'manifests/api.pp', 'manifests/params.pp']",4,3340bb1802d34ddbdab2ed3b34d288770f7853e9,drop-standalone-api, $api_service_name = 'httpd' case $::operatingsystem { 'Ubuntu': { $api_service_name = 'httpd' } default: { $api_service_name = 'panko-api' } }, $api_service_name = 'openstack-panko-api' $api_service_name = 'panko-api',169,108
openstack%2Fironic~master~I86225b3e34c63a0124a2a63f8a624dd00a8d38e4,openstack/ironic,master,I86225b3e34c63a0124a2a63f8a624dd00a8d38e4,Remove a pause before cleaning when fast-tracking,MERGED,2021-04-12 13:31:20.000000000,2021-04-27 12:04:48.000000000,2021-04-27 12:02:22.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-12 13:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0691161eeebda7cf83614519297dc80d9cfdf2c0', 'message': 'Remove a pause before cleaning when fast-tracking\n\nWhen fast track mode is used, ironic still waits for the next heartbeat\nbefore running the first clean step, because prepare_cleaning\nunconditionally returns CLEANWAIT for agent drivers. This patch fixes\nit by returning None for fast-track.\n\nChange-Id: I86225b3e34c63a0124a2a63f8a624dd00a8d38e4\n'}, {'number': 2, 'created': '2021-04-12 14:07:09.000000000', 'files': ['ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/fast-track-opt-d50eab2cc58fddcb.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff7a32bc7fa19b29a26c8ff58acf51dafeae4b1a', 'message': 'Remove a pause before cleaning when fast-tracking\n\nWhen fast track mode is used, ironic still waits for the next heartbeat\nbefore running the first clean step, because prepare_cleaning\nunconditionally returns CLEANWAIT for agent drivers. This patch fixes\nit by returning None for fast-track.\n\nAgent code then needs to refresh clean steps before proceeding,\notherwise it will assume an empty steps list.\n\nChange-Id: I86225b3e34c63a0124a2a63f8a624dd00a8d38e4\n'}]",0,785876,ff7a32bc7fa19b29a26c8ff58acf51dafeae4b1a,18,5,2,10239,,,0,"Remove a pause before cleaning when fast-tracking

When fast track mode is used, ironic still waits for the next heartbeat
before running the first clean step, because prepare_cleaning
unconditionally returns CLEANWAIT for agent drivers. This patch fixes
it by returning None for fast-track.

Agent code then needs to refresh clean steps before proceeding,
otherwise it will assume an empty steps list.

Change-Id: I86225b3e34c63a0124a2a63f8a624dd00a8d38e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/785876/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/fast-track-opt-d50eab2cc58fddcb.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",3,0691161eeebda7cf83614519297dc80d9cfdf2c0,fast-track-opt," result = utils.prepare_inband_cleaning(task, manage_boot=manage_boot) self.assertEqual(states.CLEANWAIT, result) self.assertIsNone(result)"," self.assertEqual( states.CLEANWAIT, utils.prepare_inband_cleaning(task, manage_boot=manage_boot))",11,6
openstack%2Fpuppet-ironic~master~I5ef4fb5a3eca09445eb92e886696d70068678496,openstack/puppet-ironic,master,I5ef4fb5a3eca09445eb92e886696d70068678496,Fix a typo in file header,MERGED,2021-04-20 16:08:39.000000000,2021-04-27 12:01:51.000000000,2021-04-27 12:01:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:08:39.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a7f8367465d61d32e81584615b13a7b78d2a0f37', 'message': 'Fix a typo in file header\n\nChange-Id: I5ef4fb5a3eca09445eb92e886696d70068678496\n'}]",0,787234,a7f8367465d61d32e81584615b13a7b78d2a0f37,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: I5ef4fb5a3eca09445eb92e886696d70068678496
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/34/787234/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,a7f8367465d61d32e81584615b13a7b78d2a0f37,hc-typo,# == Class: ironic::healthcheck,# == Define: ironic::healthcheck,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I11b89aa4e26843223d416ce1b7a51fc722eaffb7,openstack/puppet-openstack-integration,stable/wallaby,I11b89aa4e26843223d416ce1b7a51fc722eaffb7,Run library unit job on CeotOS8 Stream in gate,MERGED,2021-04-23 07:44:43.000000000,2021-04-27 11:58:44.000000000,2021-04-27 11:58:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 07:44:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/61bd1c70480b4f1d398c3b64885e46d73a57ec68', 'message': 'Run library unit job on CeotOS8 Stream in gate\n\nThis change adds the library unit job on CentOS8 stream to gate, which\nshould have been added when all CentOS8 jobs are replaced by CentOS8\nStream jobs[1].\n\n[1] a75e47446ad099fde90e2df300c663630d880677\n\nChange-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7\n(cherry picked from commit b54cb682d411569ccd881279d0aefe28b8464c6b)\n'}]",0,787679,61bd1c70480b4f1d398c3b64885e46d73a57ec68,9,3,1,9816,,,0,"Run library unit job on CeotOS8 Stream in gate

This change adds the library unit job on CentOS8 stream to gate, which
should have been added when all CentOS8 jobs are replaced by CentOS8
Stream jobs[1].

[1] a75e47446ad099fde90e2df300c663630d880677

Change-Id: I11b89aa4e26843223d416ce1b7a51fc722eaffb7
(cherry picked from commit b54cb682d411569ccd881279d0aefe28b8464c6b)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/787679/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,61bd1c70480b4f1d398c3b64885e46d73a57ec68,, - puppet-openstack-libraries-puppet-unit-6.21-centos-8-stream,,1,0
openstack%2Fpuppet-glance~master~I547a65424e73d89eae2f6302ffaeeaba398cc006,openstack/puppet-glance,master,I547a65424e73d89eae2f6302ffaeeaba398cc006,Add support for http backend,MERGED,2020-11-19 15:18:25.000000000,2021-04-27 11:17:19.000000000,2021-04-27 11:15:55.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dd04541acb00042b2ae3f54561f9f8bbb936d2f6', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}, {'number': 2, 'created': '2020-11-19 15:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bf620282ebe900f4d0332b58949fe427fa89519f', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}, {'number': 3, 'created': '2020-11-19 15:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0f9b97b6d911f4840997e0fe11fee86376bb97aa', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}, {'number': 4, 'created': '2020-11-19 23:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/af3f95c25b1cd4122f524c7892a1e527a8312f0c', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}, {'number': 5, 'created': '2020-11-25 23:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/84a903bb5941f8ea0ebccdcf09669393ec4a5d36', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}, {'number': 6, 'created': '2021-02-23 07:15:12.000000000', 'files': ['spec/defines/glance_backend_multistore_http_spec.rb', 'releasenotes/notes/multistore-http-62f7e96ec6345238.yaml', 'manifests/backend/multistore/http.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/5773bc77eaea05f6babb6febe6c2b45e625e265e', 'message': 'Add support for http backend\n\nThis patch introduces support to eanble http backend when glance\nmulistore is used.\n\nChange-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006\n'}]",2,763392,5773bc77eaea05f6babb6febe6c2b45e625e265e,35,7,6,9816,,,0,"Add support for http backend

This patch introduces support to eanble http backend when glance
mulistore is used.

Change-Id: I547a65424e73d89eae2f6302ffaeeaba398cc006
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/92/763392/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_http_spec.rb', 'releasenotes/notes/multistore-http-62f7e96ec6345238.yaml', 'manifests/backend/multistore/http.pp']",3,dd04541acb00042b2ae3f54561f9f8bbb936d2f6,http-store,"# # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Define: glance::backend::multistore::http # # configures the storage backend for glance with a remote http server # # === Parameters: # # [*https_ca_certificates_file*] # Optional. Path to the CA bundle file. # Defaults to $::os_service_default. # # [*https_insecure*] # Optional. Set verification of the remote server certificate. # Defaults to $::os_service_default. # # [*https_proxy_information*] # Optional. The http/https proxy information to be used to connect to the # remote server. # Defaults to $::os_service_default # # define glance::backend::multistore::http( $https_ca_certificates_file = $::os_service_default, $https_insecure = $::os_service_default, $https_proxy_information = $::os_service_default, ) { include glance::deps include glance::params glance_api_config { ""${name}/https_ca_certificates_file"": value => $https_ca_certificates_file; ""${name}/https_insecure"": value => $https_insecure; ""${name}/https_proxy_information"": value => join(any2array($https_proxy_information), ','); } } ",,119,0
openstack%2Fpuppet-glance~stable%2Fwallaby~I1db7fa2694bc9a448a47e435cfd95264504086c6,openstack/puppet-glance,stable/wallaby,I1db7fa2694bc9a448a47e435cfd95264504086c6,Add new parameter required for secure RBAC configuration,MERGED,2021-04-22 12:17:28.000000000,2021-04-27 11:17:12.000000000,2021-04-27 11:15:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 12:17:28.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/add_enforce_secure_rbac_for_rbac_support-35bcf4ef4e25e435.yaml', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d6ed63732040041241ffef9e5e8e7b5f14650330', 'message': ""Add new parameter required for secure RBAC configuration\n\nGlance has added support for project persona of secure RBAC as\nan experimental feature where 'enforce_secure_rbac' has been introduced.\n\nAdding support of 'enforce_secure_rbac' parameter here.\n\nPartially Implements: blueprint secure-rbac\n\nChange-Id: I1db7fa2694bc9a448a47e435cfd95264504086c6\n(cherry picked from commit fdb2c555fd25feaecf9c3ef34f543948db99bb3a)\n""}]",0,787541,d6ed63732040041241ffef9e5e8e7b5f14650330,8,4,1,9816,,,0,"Add new parameter required for secure RBAC configuration

Glance has added support for project persona of secure RBAC as
an experimental feature where 'enforce_secure_rbac' has been introduced.

Adding support of 'enforce_secure_rbac' parameter here.

Partially Implements: blueprint secure-rbac

Change-Id: I1db7fa2694bc9a448a47e435cfd95264504086c6
(cherry picked from commit fdb2c555fd25feaecf9c3ef34f543948db99bb3a)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/41/787541/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/add_enforce_secure_rbac_for_rbac_support-35bcf4ef4e25e435.yaml', 'spec/classes/glance_api_spec.rb']",3,d6ed63732040041241ffef9e5e8e7b5f14650330,secure-rbac," :enforce_secure_rbac => '<SERVICE DEFAULT>', :enforce_secure_rbac => 'true', 'enforce_secure_rbac',",,14,0
openstack%2Fpuppet-aodh~master~I576b029fa3b0e765a9affd175f4113941d59abc7,openstack/puppet-aodh,master,I576b029fa3b0e765a9affd175f4113941d59abc7,Drop support for standalone api service in CentOS/Ubuntu,MERGED,2020-10-27 16:01:15.000000000,2021-04-27 11:06:45.000000000,2021-04-27 11:05:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-27 16:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b3726d8331ece8806cffcfc76ba161eda8389515', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 2, 'created': '2020-10-27 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ce56214d626523f2d885674f0d711c58b54afebb', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 3, 'created': '2020-10-27 16:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e36da7346ba418e9c410d8e1694aedb8ded33b29', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 4, 'created': '2020-10-27 16:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/a0e30802dad6fb8f37c198ba659bd2465f46867e', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 5, 'created': '2020-10-27 16:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b0b955c1a431912299beb1b3bded4a8b10345488', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 6, 'created': '2020-10-27 16:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/6c5eaf0f55c1890baad14653d15f6b909aea385b', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}, {'number': 7, 'created': '2020-10-28 13:50:41.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp', 'releasenotes/notes/drop-standalone-api-1aac18c71fe21409.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/7ce34f01b62ad546f415bda19b4778a467ea8924', 'message': 'Drop support for standalone api service in CentOS/Ubuntu\n\nAodh no longer provides standalone api service and we should use\nhttpd+wsgi to server api in CentOS and Ubuntu.\nThis patch removes support for stnadalone api service in CentOS and\nUbuntu and deprecates several parameters only used in standalone\nsetup.\n\nNote that standalone service is still used in Debian since it provides\nservices based on uwsgi, so the support is not dropped in Debian.\n\nChange-Id: I576b029fa3b0e765a9affd175f4113941d59abc7\n'}]",0,759894,7ce34f01b62ad546f415bda19b4778a467ea8924,15,3,7,9816,,,0,"Drop support for standalone api service in CentOS/Ubuntu

Aodh no longer provides standalone api service and we should use
httpd+wsgi to server api in CentOS and Ubuntu.
This patch removes support for stnadalone api service in CentOS and
Ubuntu and deprecates several parameters only used in standalone
setup.

Note that standalone service is still used in Debian since it provides
services based on uwsgi, so the support is not dropped in Debian.

Change-Id: I576b029fa3b0e765a9affd175f4113941d59abc7
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/94/759894/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp', 'releasenotes/notes/drop-standalone-api-1aac18c71fe21409.yaml']",4,b3726d8331ece8806cffcfc76ba161eda8389515,drop-standalone-api,"--- upgrade: - | The ``aodh::api`` class no longer supports standalone api service in CentOS and Ubuntu, because these 2 distros doesn't provide standalone api service and require that wsgi is used to host the api service. ",,104,58
openstack%2Ftrove-tempest-plugin~master~Idcc0daf1e6509677d08336349b8574ec74034fe9,openstack/trove-tempest-plugin,master,Idcc0daf1e6509677d08336349b8574ec74034fe9,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:15:18.000000000,2021-04-27 11:06:19.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:15:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/6216ffddf8b98e97563e1edede027f1a3ea0f1d0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idcc0daf1e6509677d08336349b8574ec74034fe9\n""}]",0,788183,6216ffddf8b98e97563e1edede027f1a3ea0f1d0,3,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idcc0daf1e6509677d08336349b8574ec74034fe9
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/83/788183/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6216ffddf8b98e97563e1edede027f1a3ea0f1d0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/trove/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/trove/latest/,3,3
openstack%2Ftrove~master~Ic3cdb19056f12fccd80081879f45004b99eb5650,openstack/trove,master,Ic3cdb19056f12fccd80081879f45004b99eb5650,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:17:41.000000000,2021-04-27 11:06:15.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:17:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove/commit/b7889f7870e0d66cac71931516cc7816eb659853', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic3cdb19056f12fccd80081879f45004b99eb5650\n""}]",0,788184,b7889f7870e0d66cac71931516cc7816eb659853,3,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic3cdb19056f12fccd80081879f45004b99eb5650
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/788184/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b7889f7870e0d66cac71931516cc7816eb659853,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/trove/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/trove/latest/,3,3
openstack%2Ftrove-dashboard~master~I9243dcbbec862c1e67a085de51865a1082b9f4f8,openstack/trove-dashboard,master,I9243dcbbec862c1e67a085de51865a1082b9f4f8,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 07:57:18.000000000,2021-04-27 11:04:55.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:57:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a87ee0b575f2550cfa1cff38162f90ebe9154c2e', 'message': ""setup.cfg: Replace dashes with underscores\n\n[200~Setuptools v54.1.0 introduces a warning that the use of\ndash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n    supported in future versions. Please use the underscore name\n      'description_file' instead\n\nChange-Id: I9243dcbbec862c1e67a085de51865a1082b9f4f8\n""}]",0,788199,a87ee0b575f2550cfa1cff38162f90ebe9154c2e,3,2,1,32921,,,0,"setup.cfg: Replace dashes with underscores

[200~Setuptools v54.1.0 introduces a warning that the use of
dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
    supported in future versions. Please use the underscore name
      'description_file' instead

Change-Id: I9243dcbbec862c1e67a085de51865a1082b9f4f8
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/99/788199/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a87ee0b575f2550cfa1cff38162f90ebe9154c2e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/trove/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/trove/latest python-requires = >=3.6,4,4
openstack%2Fkayobe~master~I8f99adf19d192db318e8d76d611c3a15adc9ef08,openstack/kayobe,master,I8f99adf19d192db318e8d76d611c3a15adc9ef08,Remove ntp.yml configuration file,MERGED,2021-04-14 09:04:04.000000000,2021-04-27 11:04:24.000000000,2021-04-27 11:02:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-14 09:04:04.000000000', 'files': ['releasenotes/notes/remove-ntp-yml-d0ab11396a51d33e.yaml', 'etc/kayobe/ntp.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/04fffeb50c5f2792c099641222bc38d0ec29e33b', 'message': 'Remove ntp.yml configuration file\n\nTimezone configuration is using time.yml since the Ussuri release.\n\nChange-Id: I8f99adf19d192db318e8d76d611c3a15adc9ef08\n'}]",0,786181,04fffeb50c5f2792c099641222bc38d0ec29e33b,12,3,1,15197,,,0,"Remove ntp.yml configuration file

Timezone configuration is using time.yml since the Ussuri release.

Change-Id: I8f99adf19d192db318e8d76d611c3a15adc9ef08
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/81/786181/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ntp-yml-d0ab11396a51d33e.yaml', 'etc/kayobe/ntp.yml']",2,04fffeb50c5f2792c099641222bc38d0ec29e33b,remove-ntp-yml,,--- # Kayobe NTP configuration. # Timezone configuration has moved to time.yml. # # Support for running an NTP daemon on the host is no longer available. # Instead the Kolla Ansible 'chrony' container is deployed by default. Set # 'kolla_enable_chrony' to 'false' in kolla.yml to disable it. # # This file will be removed in the Victoria release. ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ,6,14
openstack%2Fmagnum~master~I65561358113952e3f60dc488b35ee8fa8f8da740,openstack/magnum,master,I65561358113952e3f60dc488b35ee8fa8f8da740,Update traefik options,MERGED,2021-03-26 17:09:09.000000000,2021-04-27 11:02:42.000000000,2021-04-27 11:01:11.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-26 17:09:09.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'releasenotes/notes/update-traefik-min-tls-protocol-de7e36de90c1a2f3.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4016783d5713d4260c0d5f089bf8d5202b34b19', 'message': 'Update traefik options\n\n* Traefik version updated from v1.7.19 to v1.7.28\n* Force secure connections to use TLSv1.2 or greater\n\nChange-Id: I65561358113952e3f60dc488b35ee8fa8f8da740\nSigned-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>\n'}]",0,783390,b4016783d5713d4260c0d5f089bf8d5202b34b19,8,3,1,29425,,,0,"Update traefik options

* Traefik version updated from v1.7.19 to v1.7.28
* Force secure connections to use TLSv1.2 or greater

Change-Id: I65561358113952e3f60dc488b35ee8fa8f8da740
Signed-off-by: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/90/783390/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'releasenotes/notes/update-traefik-min-tls-protocol-de7e36de90c1a2f3.yaml']",5,b4016783d5713d4260c0d5f089bf8d5202b34b19,ingress-traefik-updates,--- upgrade: - | Upgrade traefik version to v1.7.28 security: - | Force traefik https port connections to use TLSv1.2 or greater ,,13,5
openstack%2Fpuppet-horizon~master~I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0,openstack/puppet-horizon,master,I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0,Add support for SSO redirect options,MERGED,2021-02-10 01:36:52.000000000,2021-04-27 11:00:17.000000000,2021-04-27 10:58:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 01:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/e1991a4c5470ad5104503f8ae05d107c86e7d14a', 'message': 'Add support for SSO redirect options\n\nThis change implements support for automatic redirect in SSO, which was\nimplemented during Stein cycle[1].\n\n[1] https://opendev.org/openstack/horizon/commit/7fc8018956945cfe683a2cf1c53643d800c482bf\n\nChange-Id: I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0\n'}, {'number': 2, 'created': '2021-02-10 07:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/da23551b2fd240b09d90954c5131c39385e798db', 'message': 'Add support for SSO redirect options\n\nThis change implements support for automatic redirect in SSO, which was\nimplemented during Stein cycle[1].\n\n[1] https://opendev.org/openstack/horizon/commit/7fc8018956945cfe683a2cf1c53643d800c482bf\n\nChange-Id: I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0\n'}, {'number': 3, 'created': '2021-02-10 07:15:53.000000000', 'files': ['templates/local_settings.py.erb', 'releasenotes/notes/sso-redirect-opts-8e190e4c0f6338df.yaml', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/40b7fe80312b54274ae6f101ac92147e4fe7aba9', 'message': 'Add support for SSO redirect options\n\nThis change implements support for automatic redirect in SSO, which was\nimplemented during Stein cycle[1].\n\n[1] https://opendev.org/openstack/horizon/commit/7fc8018956945cfe683a2cf1c53643d800c482bf\n\nChange-Id: I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0\n'}]",0,774754,40b7fe80312b54274ae6f101ac92147e4fe7aba9,11,3,3,9816,,,0,"Add support for SSO redirect options

This change implements support for automatic redirect in SSO, which was
implemented during Stein cycle[1].

[1] https://opendev.org/openstack/horizon/commit/7fc8018956945cfe683a2cf1c53643d800c482bf

Change-Id: I421ccdcc003ff7cc917b2a9f9efac8ec051f51b0
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/54/774754/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'releasenotes/notes/sso-redirect-opts-8e190e4c0f6338df.yaml', 'manifests/init.pp', 'spec/classes/horizon_init_spec.rb']",4,e1991a4c5470ad5104503f8ae05d107c86e7d14a,sso-redirect," :websso_enabled => 'True', :websso_initial_choice => 'acme', :websso_choices => [ ['oidc', 'OpenID Connect'], ['saml2', 'Security Assertion Markup Language'], ], :websso_idp_mapping => { 'acme_oidc' => ['acme', 'oidc'], 'acme_saml2' => ['acme', 'saml2'], } }) 'WEBSSO_ENABLED = True', 'WEBSSO_INITIAL_CHOICE = ""acme""', 'WEBSSO_CHOICES = (', ' (""credentials"", _(""Keystone Credentials"")),', ' (""oidc"", _(""OpenID Connect"")),', ' (""saml2"", _(""Security Assertion Markup Language"")),', ')', 'WEBSSO_IDP_MAPPING = {', ' ""acme_oidc"": (""acme"", ""oidc""),', ' ""acme_saml2"": (""acme"", ""saml2""),', '}', ]) end end context 'with websso redirectenabled' do before do params.merge!({ :websso_default_redirect => true, :websso_default_redirect_protocol => 'oidc', :websso_default_redirect_region => 'http://127.0.0.1:5000', :websso_default_redirect_logout => 'http://idptest/logout' }) end it 'configures websso redirect options' do verify_concat_fragment_contents(catalogue, 'local_settings.py', [ 'WEBSSO_DEFAULT_REDIRECT = True', 'WEBSSO_DEFAULT_REDIRECT_PROTOCOL = ""oidc""', 'WEBSSO_DEFAULT_REDIRECT_REGION = ""http://127.0.0.1:5000""', 'WEBSSO_DEFAULT_REDIRECT_LOGOUT = ""http://idptest/logout""' ])"," :websso_enabled => 'True', :websso_initial_choice => 'acme', :websso_choices => [ ['oidc', 'OpenID Connect'], ['saml2', 'Security Assertion Markup Language'], ], :websso_idp_mapping => { 'acme_oidc' => ['acme', 'oidc'], 'acme_saml2' => ['acme', 'saml2'], } }) 'WEBSSO_ENABLED = True', 'WEBSSO_INITIAL_CHOICE = ""acme""', 'WEBSSO_CHOICES = (', ' (""credentials"", _(""Keystone Credentials"")),', ' (""oidc"", _(""OpenID Connect"")),', ' (""saml2"", _(""Security Assertion Markup Language"")),', ')', 'WEBSSO_IDP_MAPPING = {', ' ""acme_oidc"": (""acme"", ""oidc""),', ' ""acme_saml2"": (""acme"", ""saml2""),', '}', ])",96,23
openstack%2Fpuppet-gnocchi~master~I2cfa1267b08ea432a8bf3245ebb57abc5fadb809,openstack/puppet-gnocchi,master,I2cfa1267b08ea432a8bf3245ebb57abc5fadb809,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-04-19 00:31:40.000000000,2021-04-27 10:54:07.000000000,2021-04-27 10:51:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-19 00:31:40.000000000', 'files': ['releasenotes/notes/policy-enforce_new_defaults-f33654b6eb02c4f2.yaml', 'spec/classes/gnocchi_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/0e1d398f56a251d0c77a6d6a133a9a10abcf3414', 'message': 'Add support for oslo_policy/enforce_new_defaults\n\nDepends-on: https://review.opendev.org/781428\nChange-Id: I2cfa1267b08ea432a8bf3245ebb57abc5fadb809\n'}]",0,786807,0e1d398f56a251d0c77a6d6a133a9a10abcf3414,8,3,1,9816,,,0,"Add support for oslo_policy/enforce_new_defaults

Depends-on: https://review.opendev.org/781428
Change-Id: I2cfa1267b08ea432a8bf3245ebb57abc5fadb809
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/07/786807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-enforce_new_defaults-f33654b6eb02c4f2.yaml', 'spec/classes/gnocchi_policy_spec.rb', 'manifests/policy.pp']",3,0e1d398f56a251d0c77a6d6a133a9a10abcf3414,enforce_new_defaults,"# [*enforce_new_defaults*] # (Optional) Whether or not to use old deprecated defaults when evaluating # policies. # Defaults to $::os_service_default. ## (Optional) Path to the gnocchi policy.yaml file $enforce_scope = $::os_service_default, $enforce_new_defaults = $::os_service_default, $policies = {}, $policy_path = '/etc/gnocchi/policy.yaml', $policy_dirs = $::os_service_default, enforce_scope => $enforce_scope, enforce_new_defaults => $enforce_new_defaults, policy_file => $policy_path, policy_dirs => $policy_dirs,","# (Optional) Path to the nova policy.yaml file $enforce_scope = $::os_service_default, $policies = {}, $policy_path = '/etc/gnocchi/policy.yaml', $policy_dirs = $::os_service_default, enforce_scope => $enforce_scope, policy_file => $policy_path, policy_dirs => $policy_dirs,",32,19
openstack%2Fpuppet-gnocchi~stable%2Fussuri~I1f45a77c75594e03ec2f014be5bf15872fc3ae89,openstack/puppet-gnocchi,stable/ussuri,I1f45a77c75594e03ec2f014be5bf15872fc3ae89,swift_key should be secret,MERGED,2021-02-01 13:29:46.000000000,2021-04-27 10:52:25.000000000,2021-04-27 10:52:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:29:46.000000000', 'files': ['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/de90de5647b89d0e2eb4feedda90f94b0526d794', 'message': 'swift_key should be secret\n\nChange-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89\n(cherry picked from commit 7cba6e450e7b580b4912218be43b3c0afd7e10d7)\n(cherry picked from commit df82059cc15d7f92d53d35d0c1b33b1b42094f35)\n'}]",0,773215,de90de5647b89d0e2eb4feedda90f94b0526d794,7,3,1,9816,,,0,"swift_key should be secret

Change-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89
(cherry picked from commit 7cba6e450e7b580b4912218be43b3c0afd7e10d7)
(cherry picked from commit df82059cc15d7f92d53d35d0c1b33b1b42094f35)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/15/773215/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb']",2,de90de5647b89d0e2eb4feedda90f94b0526d794,swift_key-stable/victoria-stable/ussuri, is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin').with_secret(true), is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin'),3,3
openstack%2Fpuppet-gnocchi~stable%2Fussuri~Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,openstack/puppet-gnocchi,stable/ussuri,Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e,Improve unit test coverage of gnocchi::storage::swift,MERGED,2021-02-01 13:29:28.000000000,2021-04-27 10:52:08.000000000,2021-04-27 10:52:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:29:28.000000000', 'files': ['spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f9fd67e25bc2eb2216d2ed3a220b68c9afa50df9', 'message': 'Improve unit test coverage of gnocchi::storage::swift\n\nCurrently we only test swift_endpoint_type, but we should test all\noptions to ensure all available options work.\n\nChange-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e\n(cherry picked from commit 7c3ec9872806b7ad286e45199c0fde6f59facf1c)\n(cherry picked from commit 2d33aa890a9cb70c2c180b93ee2eecfcc12a318f)\n'}]",0,773214,f9fd67e25bc2eb2216d2ed3a220b68c9afa50df9,7,3,1,9816,,,0,"Improve unit test coverage of gnocchi::storage::swift

Currently we only test swift_endpoint_type, but we should test all
options to ensure all available options work.

Change-Id: Iadb9a0d0a9c4b3dab70f34a87435df7a5c692a1e
(cherry picked from commit 7c3ec9872806b7ad286e45199c0fde6f59facf1c)
(cherry picked from commit 2d33aa890a9cb70c2c180b93ee2eecfcc12a318f)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/14/773214/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/gnocchi_storage_swift_spec.rb'],1,f9fd67e25bc2eb2216d2ed3a220b68c9afa50df9,swift-ut-stable/victoria-stable/ussuri," context 'with specific parameters' do :swift_user => 'swift2', :swift_key => 'admin', :swift_authurl => 'http://localhost:5000', :swift_project_name => 'service', :swift_user_domain_name => 'Default', :swift_project_domain_name => 'Default', :swift_region => 'regionOne', :swift_auth_version => 2, :swift_endpoint_type => 'publicURL', is_expected.to contain_gnocchi_config('storage/driver').with_value('swift') is_expected.to contain_gnocchi_config('storage/swift_user').with_value('swift2') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin') is_expected.to contain_gnocchi_config('storage/swift_authurl').with_value('http://localhost:5000') is_expected.to contain_gnocchi_config('storage/swift_project_name').with_value('service') is_expected.to contain_gnocchi_config('storage/swift_user_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_project_domain_name').with_value('Default') is_expected.to contain_gnocchi_config('storage/swift_region').with_value('regionOne') is_expected.to contain_gnocchi_config('storage/swift_auth_version').with_value(2) is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('publicURL')", context 'with swift_endpoint_type set' do :swift_endpoint_type => 'internalURL' is_expected.to contain_gnocchi_config('storage/swift_endpoint_type').with_value('internalURL'),21,3
openstack%2Fpuppet-gnocchi~master~Ic009641545dee5073bfa98cfdd1a01037cd316a4,openstack/puppet-gnocchi,master,Ic009641545dee5073bfa98cfdd1a01037cd316a4,Add support for the oslo_policy/enforce_scope parameter,MERGED,2021-04-19 00:24:37.000000000,2021-04-27 10:51:25.000000000,2021-04-27 10:51:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-19 00:24:37.000000000', 'files': ['releasenotes/notes/oslo_policy-enforce_scope-3cf4ea69a6f5a91f.yaml', 'spec/classes/gnocchi_policy_spec.rb', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/14e1b1027b3d3b3968611869c4910b5db3399874', 'message': 'Add support for the oslo_policy/enforce_scope parameter\n\nDepends-on: https://review.opendev.org/#/c/759008/\nChange-Id: Ic009641545dee5073bfa98cfdd1a01037cd316a4\n'}]",0,786806,14e1b1027b3d3b3968611869c4910b5db3399874,7,3,1,9816,,,0,"Add support for the oslo_policy/enforce_scope parameter

Depends-on: https://review.opendev.org/#/c/759008/
Change-Id: Ic009641545dee5073bfa98cfdd1a01037cd316a4
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/06/786806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/oslo_policy-enforce_scope-3cf4ea69a6f5a91f.yaml', 'spec/classes/gnocchi_policy_spec.rb', 'manifests/policy.pp']",3,14e1b1027b3d3b3968611869c4910b5db3399874,oslo_policy-enforce_scope,"# [*enforce_scope*] # (Optional) Whether or not to enforce scope when evaluating policies. # Defaults to $::os_service_default. # $enforce_scope = $::os_service_default, $policies = {}, $policy_path = '/etc/gnocchi/policy.yaml', $policy_dirs = $::os_service_default, enforce_scope => $enforce_scope, policy_file => $policy_path, policy_dirs => $policy_dirs,"," $policies = {}, $policy_path = '/etc/gnocchi/policy.yaml', $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,",25,12
openstack%2Fpuppet-gnocchi~master~Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f,openstack/puppet-gnocchi,master,Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f,Fix a typo in file header,MERGED,2021-04-20 16:06:38.000000000,2021-04-27 10:51:21.000000000,2021-04-27 10:51:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:06:38.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/6a6ea0e825233a2ea2e2d8f5165792ec219288c7', 'message': 'Fix a typo in file header\n\nChange-Id: Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f\n'}]",0,787232,6a6ea0e825233a2ea2e2d8f5165792ec219288c7,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: Ia448c8f3e594cb786b7e0c8b10fd8c7d16703e3f
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/32/787232/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,6a6ea0e825233a2ea2e2d8f5165792ec219288c7,hc-typo,# == Class: gnocchi::healthcheck,# == Define: gnocchi::healthcheck,1,1
openstack%2Fpuppet-vswitch~master~Ica77dc2061bc34aaaadeac9b763bebacc1d32f88,openstack/puppet-vswitch,master,Ica77dc2061bc34aaaadeac9b763bebacc1d32f88,Support arbitary vsiwtch configurations,MERGED,2021-03-12 06:51:09.000000000,2021-04-27 10:49:00.000000000,2021-04-27 10:44:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 06:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9c5e4f979ab99ae42dc54542ddc4ac721e2d8b37', 'message': 'Support arbitary vsiwtch configurations\n\nChange-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88\n'}, {'number': 2, 'created': '2021-03-12 06:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/ee6c33f0fc42c96df15f3a326fd71cb485a1fb84', 'message': 'Support arbitary vsiwtch configurations\n\nThis change introduces support for arbitary configurations as is done\nin the other modules by nova::config, cinder::config and etc.\nThis allows users to set any parameter which is not yet supported\ndirectly by puppet-vswitch.\n\nChange-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88\n'}, {'number': 3, 'created': '2021-03-12 08:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/123b6427e51fcb50d77a5779ebbe7829dffd2637', 'message': 'Support arbitary vsiwtch configurations\n\nThis change introduces support for arbitary configurations as is done\nin the other modules by nova::config, cinder::config and etc.\nThis allows users to set any parameter which is not yet supported\ndirectly by puppet-vswitch.\n\nChange-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88\n'}, {'number': 4, 'created': '2021-03-12 09:25:39.000000000', 'files': ['manifests/ovs.pp', 'releasenotes/notes/arbitary-vsiwtch-configurations-d80f49955009552f.yaml', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/71d591a753403152c480f8460db3f44271884410', 'message': 'Support arbitary vsiwtch configurations\n\nThis change introduces support for arbitary configurations as is done\nin the other modules by nova::config, cinder::config and etc.\nThis allows users to set any parameter which is not yet supported\ndirectly by puppet-vswitch.\n\nChange-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88\n'}]",0,780194,71d591a753403152c480f8460db3f44271884410,12,3,4,9816,,,0,"Support arbitary vsiwtch configurations

This change introduces support for arbitary configurations as is done
in the other modules by nova::config, cinder::config and etc.
This allows users to set any parameter which is not yet supported
directly by puppet-vswitch.

Change-Id: Ica77dc2061bc34aaaadeac9b763bebacc1d32f88
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/94/780194/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'releasenotes/notes/arbitary-vsiwtch-configurations-d80f49955009552f.yaml', 'manifests/dpdk.pp']",3,9c5e4f979ab99ae42dc54542ddc4ac721e2d8b37,bug/1918418,"# [*vs_config*] # (optional) allow configuration of arbitary vsiwtch configurations. # The value is an hash of vs_config resources. Example: # { 'other_config:foo' => { value => 'baa' } } # NOTE: that the configuration MUST NOT be already handled by this module # or Puppet catalog compilation will fail with duplicate resources. # $vs_config = {} validate_legacy(Hash, 'validate_hash', $vs_config) create_resource('vs_config', $vs_config) ",,30,0
openstack%2Fpuppet-heat~master~Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c,openstack/puppet-heat,master,Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c,Fix a typo in file header,MERGED,2021-04-20 16:07:56.000000000,2021-04-27 10:48:12.000000000,2021-04-27 10:48:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:07:56.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/032a4751b19d632028818a5c98ae31a3fcab48e3', 'message': 'Fix a typo in file header\n\nChange-Id: Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c\n'}]",0,787233,032a4751b19d632028818a5c98ae31a3fcab48e3,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: Iaaa23098d975f2dc8de00e9c8e22acd29e39d36c
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/33/787233/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,032a4751b19d632028818a5c98ae31a3fcab48e3,hc-typo,# == Class: heat::healthcheck,# == Define: heat::healthcheck,1,1
openstack%2Fkolla-ansible~master~Ie452516655cbd40d63bdad3635fd66693e40ce34,openstack/kolla-ansible,master,Ie452516655cbd40d63bdad3635fd66693e40ce34,Add variable for changing Apache HTTP timeout,MERGED,2021-03-03 17:02:20.000000000,2021-04-27 10:45:41.000000000,2021-03-07 10:41:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-03 17:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37180bf3d8b612f60c02fec94ea5758097b696e2', 'message': 'In services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. A\nsimilar timeout also exists in HAProxy, and is set to 10 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed the\nshortest of these periods which results in a HTTP 504 Gateway timeout,\nor similar. However, the request can still be serviced without error.\nFor example, if Nova calls the Cinder API to detach a volume, and\nthis operation takes longer than the shortest of the two timeouts, Nova\nwill emit a stack trace with a 504 Gateway timeout. At some time later,\nthe request to detach the volume will succeed. The Nova and Cinder DBs\nthen become out-of-sync with each other, and frequently DB surgery is\nrequired.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short term.\nTherefore, this change raises the HAProxy default http-request timeout\nso that it exceeds the Apache HTTP timeout, and makes it easier to set\nthe Apache HTTP timeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}, {'number': 2, 'created': '2021-03-03 17:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/734947d16d57b821d1a44f0eed7a89007ac9c150', 'message': 'Improve tolerance of services under load\n\nIn services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. A\nsimilar timeout also exists in HAProxy, and is set to 10 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed the\nshortest of these periods which results in a HTTP 504 Gateway timeout,\nor similar. However, the request can still be serviced without error.\nFor example, if Nova calls the Cinder API to detach a volume, and\nthis operation takes longer than the shortest of the two timeouts, Nova\nwill emit a stack trace with a 504 Gateway timeout. At some time later,\nthe request to detach the volume will succeed. The Nova and Cinder DBs\nthen become out-of-sync with each other, and frequently DB surgery is\nrequired.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short term.\nTherefore, this change raises the HAProxy default http-request timeout\nso that it exceeds the Apache HTTP timeout, and makes it easier to set\nthe Apache HTTP timeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}, {'number': 3, 'created': '2021-03-03 17:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95b22097ce150cac11260ee43aedcf4d857f2ef4', 'message': 'Improve tolerance of slow APIs\n\nIn services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. A\nsimilar timeout also exists in HAProxy, and is set to 10 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed the\nshortest of these periods which results in a HTTP 504 Gateway timeout,\nor similar. However, the request can still be serviced without error.\nFor example, if Nova calls the Cinder API to detach a volume, and\nthis operation takes longer than the shortest of the two timeouts, Nova\nwill emit a stack trace with a 504 Gateway timeout. At some time later,\nthe request to detach the volume will succeed. The Nova and Cinder DBs\nthen become out-of-sync with each other, and frequently DB surgery is\nrequired.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short term.\nTherefore, this change raises the HAProxy default http-request timeout\nso that it exceeds the Apache HTTP timeout, and makes it easier to set\nthe Apache HTTP timeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}, {'number': 4, 'created': '2021-03-03 17:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c39bfcd5893da38f3713e68d9b98de13ec076da', 'message': 'Improve tolerance of slow APIs\n\nIn services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. A\nsimilar timeout also exists in HAProxy, and is set to 10 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed the\nshortest of these periods which results in a HTTP 504 Gateway timeout,\nor similar. However, the request can still be serviced without error.\nFor example, if Nova calls the Cinder API to detach a volume, and\nthis operation takes longer than the shortest of the two timeouts, Nova\nwill emit a stack trace with a 504 Gateway timeout. At some time later,\nthe request to detach the volume will succeed. The Nova and Cinder DBs\nthen become out-of-sync with each other, and frequently DB surgery is\nrequired.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short term.\nTherefore, this change raises the HAProxy default http-request timeout\nso that it exceeds the Apache HTTP timeout, and makes it easier to set\nthe Apache HTTP timeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}, {'number': 5, 'created': '2021-03-03 17:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe1484ffb891e7a59debd41bc71fd476f3ff75c', 'message': 'Improve tolerance of slow APIs\n\nIn services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. A\nsimilar timeout also exists in HAProxy, and is set to 10 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed the\nshortest of these periods which results in a HTTP 504 Gateway timeout,\nor similar. However, the request can still be serviced without error.\nFor example, if Nova calls the Cinder API to detach a volume, and\nthis operation takes longer than the shortest of the two timeouts, Nova\nwill emit a stack trace with a 504 Gateway timeout. At some time later,\nthe request to detach the volume will succeed. The Nova and Cinder DBs\nthen become out-of-sync with each other, and frequently DB surgery is\nrequired.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short term.\nTherefore, this change raises the HAProxy default http-request timeout\nso that it exceeds the Apache HTTP timeout, and makes it easier to set\nthe Apache HTTP timeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}, {'number': 6, 'created': '2021-03-04 11:27:04.000000000', 'files': ['ansible/roles/ironic/templates/ironic-api-wsgi.conf.j2', 'ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api-cfn.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api.conf.j2', 'releasenotes/notes/add-httpd-timeout-717050ffdc4ea9e8.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/nova/templates/nova-api-wsgi.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'etc/kolla/globals.yml', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/647ff667e6037f1a62de6cf72f0fcb9fca3b8ae0', 'message': 'Add variable for changing Apache HTTP timeout\n\nIn services which use the Apache HTTP server to service HTTP requests,\nthere exists a TimeOut directive [1] which defaults to 60 seconds. APIs\nwhich come under heavy load, such as Cinder, can sometimes exceed this\nwhich results in a HTTP 504 Gateway timeout, or similar. However, the\nrequest can still be serviced without error. For example, if Nova calls\nthe Cinder API to detach a volume, and this operation takes longer\nthan the shortest of the two timeouts, Nova will emit a stack trace\nwith a 504 Gateway timeout. At some time later, the request to detach\nthe volume will succeed. The Nova and Cinder DBs then become\nout-of-sync with each other, and frequently DB surgery is required.\n\nAlthough strictly this category of bugs should be fixed in OpenStack\nservices, it is not realistic to expect this to happen in the short\nterm. Therefore, this change makes it easier to set the Apache HTTP\ntimeout via a new variable.\n\nAn example of a related bug is here:\n\nhttps://bugs.launchpad.net/nova/+bug/1888665\n\nWhilst this timeout can currently be set by overriding the WSGI\nconfig for individual services, this change makes it much easier.\n\nChange-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34\nCloses-Bug: #1917648\n'}]",4,778507,647ff667e6037f1a62de6cf72f0fcb9fca3b8ae0,22,3,6,17669,,,0,"Add variable for changing Apache HTTP timeout

In services which use the Apache HTTP server to service HTTP requests,
there exists a TimeOut directive [1] which defaults to 60 seconds. APIs
which come under heavy load, such as Cinder, can sometimes exceed this
which results in a HTTP 504 Gateway timeout, or similar. However, the
request can still be serviced without error. For example, if Nova calls
the Cinder API to detach a volume, and this operation takes longer
than the shortest of the two timeouts, Nova will emit a stack trace
with a 504 Gateway timeout. At some time later, the request to detach
the volume will succeed. The Nova and Cinder DBs then become
out-of-sync with each other, and frequently DB surgery is required.

Although strictly this category of bugs should be fixed in OpenStack
services, it is not realistic to expect this to happen in the short
term. Therefore, this change makes it easier to set the Apache HTTP
timeout via a new variable.

An example of a related bug is here:

https://bugs.launchpad.net/nova/+bug/1888665

Whilst this timeout can currently be set by overriding the WSGI
config for individual services, this change makes it much easier.

Change-Id: Ie452516655cbd40d63bdad3635fd66693e40ce34
Closes-Bug: #1917648
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/778507/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/heat/templates/wsgi-heat-api-cfn.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/heat/templates/wsgi-heat-api.conf.j2', 'releasenotes/notes/add-httpd-timeout-717050ffdc4ea9e8.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'etc/kolla/globals.yml', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2']",18,37180bf3d8b612f60c02fec94ea5758097b696e2,,TimeOut {{ kolla_httpd_timeout }},,30,1
openstack%2Fpuppet-openstack-integration~master~I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,openstack/puppet-openstack-integration,master,I8d0d0cffb0a554a3322a152f5c1a6d635f14e734,Prefetch neutron-tempest-plugin,MERGED,2021-04-26 14:27:03.000000000,2021-04-27 10:44:14.000000000,2021-04-27 10:44:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 14:27:03.000000000', 'files': ['run_tests.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/34d28336f4ccd1fa02741570a27e95d07e754d2f', 'message': 'Prefetch neutron-tempest-plugin\n\nThis change makes CI job use prefetched neutron-tempest-plugin codes\ninstead of cloning codes from git.\n\nChange-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734\n'}]",0,788009,34d28336f4ccd1fa02741570a27e95d07e754d2f,7,3,1,9816,,,0,"Prefetch neutron-tempest-plugin

This change makes CI job use prefetched neutron-tempest-plugin codes
instead of cloning codes from git.

Change-Id: I8d0d0cffb0a554a3322a152f5c1a6d635f14e734
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/09/788009/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'zuul.d/base.yaml']",2,34d28336f4ccd1fa02741570a27e95d07e754d2f,neutron-tempest-plugin, - openstack/neutron-tempest-plugin,,7,1
openstack%2Fpuppet-vswitch~master~I2e9f7d3b27547d33914f07005045b55d8ba82514,openstack/puppet-vswitch,master,I2e9f7d3b27547d33914f07005045b55d8ba82514,Do not restart ovs when updating other_config:emc-insert-inv-prob,MERGED,2021-03-12 07:01:26.000000000,2021-04-27 10:42:02.000000000,2021-04-27 10:42:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 07:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/8401266390f49e767debb1f95298ff5d8bce400e', 'message': ""Do not restart ovs when updating other_config:emc-insert-inv-prob\n\nThere are no requirement of service restart after updating\nthe cmd-insert-inv-prov parameter in ovs documentation[1], and\nit seems that the parameter can be applied with keeping the service\nrunning.\n [1] https://docs.openvswitch.org/en/latest/topics/dpdk/bridge/#emc-insertion-probability\n\nLet's remove notify so that changing the value doesn't trigger\nservice restart.\n\nChange-Id: I2e9f7d3b27547d33914f07005045b55d8ba82514\n""}, {'number': 2, 'created': '2021-03-12 08:58:02.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/95230113b2f54fd8fc398f802349fbae6e5b4691', 'message': ""Do not restart ovs when updating other_config:emc-insert-inv-prob\n\nThere are no requirement of service restart after updating\nthe cmd-insert-inv-prov parameter in ovs documentation[1], and\nit seems that the parameter can be applied with keeping the service\nrunning.\n [1] https://docs.openvswitch.org/en/latest/topics/dpdk/bridge/#emc-insertion-probability\n\nLet's remove notify so that changing the value doesn't trigger\nservice restart.\n\nChange-Id: I2e9f7d3b27547d33914f07005045b55d8ba82514\n""}]",0,780196,95230113b2f54fd8fc398f802349fbae6e5b4691,9,3,2,9816,,,0,"Do not restart ovs when updating other_config:emc-insert-inv-prob

There are no requirement of service restart after updating
the cmd-insert-inv-prov parameter in ovs documentation[1], and
it seems that the parameter can be applied with keeping the service
running.
 [1] https://docs.openvswitch.org/en/latest/topics/dpdk/bridge/#emc-insertion-probability

Let's remove notify so that changing the value doesn't trigger
service restart.

Change-Id: I2e9f7d3b27547d33914f07005045b55d8ba82514
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/96/780196/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'manifests/dpdk.pp']",2,8401266390f49e767debb1f95298ff5d8bce400e,bug/1918418," value => '0', wait => false,"," value => '0', notify => Service['openvswitch'], wait => false,",4,6
openstack%2Fvitrage-tempest-plugin~master~I543595c0e3145495923517101ffa057fd7bccb4c,openstack/vitrage-tempest-plugin,master,I543595c0e3145495923517101ffa057fd7bccb4c,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 07:13:19.000000000,2021-04-27 10:37:47.000000000,2021-04-27 10:36:26.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 07:13:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/683e72f745f660513482ecaa290dbb33b3908ab6', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I543595c0e3145495923517101ffa057fd7bccb4c\n""}]",0,788182,683e72f745f660513482ecaa290dbb33b3908ab6,9,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I543595c0e3145495923517101ffa057fd7bccb4c
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/82/788182/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,683e72f745f660513482ecaa290dbb33b3908ab6,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tempest/latest/plugin-registry.html ,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tempest/latest/plugin-registry.html ,3,3
openstack%2Fpuppet-barbican~master~Id7dd078855eb8c22ecb5254ab15e60c2416e833f,openstack/puppet-barbican,master,Id7dd078855eb8c22ecb5254ab15e60c2416e833f,Fix a typo in file header,MERGED,2021-04-20 16:04:29.000000000,2021-04-27 10:36:22.000000000,2021-04-27 10:36:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:04:29.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/977e685b16a16dc3971df4baf7fb2f6396d66544', 'message': 'Fix a typo in file header\n\nChange-Id: Id7dd078855eb8c22ecb5254ab15e60c2416e833f\n'}]",0,787229,977e685b16a16dc3971df4baf7fb2f6396d66544,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: Id7dd078855eb8c22ecb5254ab15e60c2416e833f
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/29/787229/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,977e685b16a16dc3971df4baf7fb2f6396d66544,hc-typo,# == Class: barbican::healthcheck,# == Define: barbican::healthcheck,1,1
openstack%2Foslo.concurrency~master~I1ff344d345b56246e6a86f7761ef900e42daefa2,openstack/oslo.concurrency,master,I1ff344d345b56246e6a86f7761ef900e42daefa2,Remove references to 'sys.version_info',MERGED,2021-04-25 08:00:22.000000000,2021-04-27 10:35:07.000000000,2021-04-27 10:33:35.000000000,"[{'_account_id': 708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-25 08:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/faa07c6154c6121edecae352e5b7202f1036ef89', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I1ff344d345b56246e6a86f7761ef900e42daefa2\n""}, {'number': 2, 'created': '2021-04-27 01:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/5725f095d1d55cb3506d9f6a760bc279d9e7d151', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I1ff344d345b56246e6a86f7761ef900e42daefa2\n""}, {'number': 3, 'created': '2021-04-27 02:54:00.000000000', 'files': ['oslo_concurrency/prlimit.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/0139c6ccac1e51c23b48eb3c2086845425ce308b', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I1ff344d345b56246e6a86f7761ef900e42daefa2\n""}]",3,787870,0139c6ccac1e51c23b48eb3c2086845425ce308b,18,4,3,31827,,,0,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I1ff344d345b56246e6a86f7761ef900e42daefa2
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/70/787870/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_concurrency/prlimit.py'],1,faa07c6154c6121edecae352e5b7202f1036ef89,, import shutil program_abs = shutil.which(program)," if sys.version_info >= (3, 3): import shutil program_abs = shutil.which(program) else: import distutils.spawn program_abs = distutils.spawn.find_executable(program)",2,6
openstack%2Ftripleo-ci~master~Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7,openstack/tripleo-ci,master,Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7,DNM: run ara undercloud,ABANDONED,2019-09-24 10:08:36.000000000,2021-04-27 10:30:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-24 10:08:36.000000000', 'files': ['toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8913f39afdaf9d45423a7ed5f6890ed09fccb0d2', 'message': 'DNM: run ara undercloud\n\nChange-Id: Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7\n'}]",0,684267,8913f39afdaf9d45423a7ed5f6890ed09fccb0d2,4,2,1,10969,,,0,"DNM: run ara undercloud

Change-Id: Ie820ab4e1e240662c06c8a1ffa55779c1d61f2e7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/67/684267/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml']",2,8913f39afdaf9d45423a7ed5f6890ed09fccb0d2,,undercloud_ara_version: 0.16.5 undercloud_ara: true,,4,0
openstack%2Ftripleo-quickstart-extras~master~I62396f0d3ee7b615b5a4109cbbad89beca131f8c,openstack/tripleo-quickstart-extras,master,I62396f0d3ee7b615b5a4109cbbad89beca131f8c,Enable ARA for undercloud and standalone,ABANDONED,2019-12-19 16:54:40.000000000,2021-04-27 10:30:42.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 16:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63c536817aa78ab7f65a7d1141211a60b5817199', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699867/\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 2, 'created': '2019-12-19 17:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/048d55676008cce3518a1ca8ef546ae8823c9c4e', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699867/\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 3, 'created': '2019-12-19 22:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/92cc81bbdfa875aad5a27beda76cb855b40dcb13', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699867/\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 4, 'created': '2019-12-20 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4a348eb21d3f5fbe2c65e8fda80cb15902ceb9ba', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 5, 'created': '2019-12-20 15:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/09a69bf87facf1fcc6773aeea990b379d2767f8e', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 6, 'created': '2020-01-05 15:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3bf28d3127af3ebba5271488594b3c2915efe1b', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}, {'number': 7, 'created': '2020-01-07 05:38:18.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/standalone/templates/standalone.sh.j2', 'roles/undercloud-setup/tasks/ara_install.yml', 'roles/standalone/tasks/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/undercloud-setup/tasks/ara_configure.yml', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-setup/templates/ara.cfg.j2', 'roles/standalone/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7af50fdaf1b041da077eecb9f1d1c8976dc443e9', 'message': 'Enable ARA for undercloud and standalone\n\nDepends-On: https://review.opendev.org/#/c/699137/\n\nChange-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c\n'}]",0,700027,7af50fdaf1b041da077eecb9f1d1c8976dc443e9,43,3,7,10969,,,0,"Enable ARA for undercloud and standalone

Depends-On: https://review.opendev.org/#/c/699137/

Change-Id: I62396f0d3ee7b615b5a4109cbbad89beca131f8c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/27/700027/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-setup/defaults/main.yml', 'roles/standalone/templates/standalone.sh.j2', 'roles/undercloud-setup/tasks/ara_install.yml', 'roles/standalone/tasks/main.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/undercloud-setup/tasks/ara_configure.yml', 'roles/extras-common/defaults/main.yml', 'roles/undercloud-setup/templates/ara.cfg.j2', 'roles/standalone/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-setup/tasks/main.yml']",12,63c536817aa78ab7f65a7d1141211a60b5817199,underclara,- name: Set up ARA for undercloud when: undercloud_ara|default(false)|bool block: - name: Install ARA on undecloud host include: ara_install.yml - name: Include ansible.cfg configuration for the undercloud / node include: ara_configure.yml,- name: Include ansible.cfg configuration for the undercloud / node include: ansible_cfg.yml when: - undercloud_ansible_cfg|bool and undercloud_ara|bool,73,46
openstack%2Ftripleo-ansible~master~I101ae36816e03846245277901084fabb39425a93,openstack/tripleo-ansible,master,I101ae36816e03846245277901084fabb39425a93,Delete service_vips before deleting stack,MERGED,2021-04-22 10:00:30.000000000,2021-04-27 10:30:12.000000000,2021-04-27 10:28:11.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-22 10:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4607baeee86b7b2a39eb41bc93ba9b2869e787c', 'message': ""Delete service_vips before deleting stack\n\nWe create some ports for service vips as part of deploy steps.\nHeat network/subnet resources can't be deleted without deleting\nthose.\n\nChange-Id: I101ae36816e03846245277901084fabb39425a93\n""}, {'number': 2, 'created': '2021-04-22 13:58:05.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/812383a42918c612b829c54941caa27118a224a0', 'message': ""Delete service_vips before deleting stack\n\nWe create some ports for service vips as part of deploy steps.\nHeat network/subnet resources can't be deleted without deleting\nthose.\n\nChange-Id: I101ae36816e03846245277901084fabb39425a93\n""}]",10,787519,812383a42918c612b829c54941caa27118a224a0,24,6,2,8833,,,0,"Delete service_vips before deleting stack

We create some ports for service vips as part of deploy steps.
Heat network/subnet resources can't be deleted without deleting
those.

Change-Id: I101ae36816e03846245277901084fabb39425a93
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/787519/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py']",2,d4607baeee86b7b2a39eb41bc93ba9b2869e787c,delete_service_vip," state: description: - The desired provision state, ""present"" to provision, ""absent"" to unprovision default: present choices: - present - absent tripleo_service_vip: tripleo_service_vip: subnet_name, net.name, service))def delete_service_vip(module, stack, service): try: _, conn = _openstack_cloud_from_module(module) _use_neutron = conn.identity.find_service('neutron') is not None except kauth1_exc.MissingRequiredOptions: return if not _use_neutron: return if service == 'all': tags = {'tripleo_stack_name={}'.format(stack)} ports = conn.network.ports(tags=list(tags)) matching = [p for p in ports if ""tripleo_service_vip"" in p.tags()] else: tags = {'tripleo_stack_name={}'.format(stack), 'tripleo_service_vip={}'.format(service)} matching = conn.network.ports(tags=list(tags)) for p in matching: try: conn.network.delete_port(p.id) except Exception: pass service = module.params.get('service_name', 'all') state = module.params.get('state', 'present') if state == 'present' and service == 'all': raise Exception(""Provide service_name for service_vip creation."") if state == 'absent': delete_service_vip(module, stack, service) else: network = module.params['network'] fixed_ips = module.params.get('fixed_ips', []) playbook_dir = module.params['playbook_dir'] create_service_vip(module, stack, service, network, fixed_ips, playbook_dir)"," tripleo_service_vip_port: tripleo_service_vip_port: subnet_name, net.name, service)) service = module.params['service_name'] network = module.params['network'] fixed_ips = module.params.get('fixed_ips', []) playbook_dir = module.params['playbook_dir'] create_service_vip(module, stack, service, network, fixed_ips, playbook_dir) ",51,10
openstack%2Ftripleo-quickstart-extras~master~I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12,openstack/tripleo-quickstart-extras,master,I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12,Add dummy br-ex if not exists,ABANDONED,2020-10-15 09:08:29.000000000,2021-04-27 10:29:51.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-15 09:08:29.000000000', 'files': ['roles/standalone/tasks/standalone-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bbd54d1f4bd58e290143e403ade5e875fe25b2af', 'message': 'Add dummy br-ex if not exists\n\nChange-Id: I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12\n'}]",0,758370,bbd54d1f4bd58e290143e403ade5e875fe25b2af,6,4,1,10969,,,0,"Add dummy br-ex if not exists

Change-Id: I22bea9ca7e57eedae20f8b70c9dd67efbc6b5a12
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/70/758370/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/standalone-install.yml'],1,bbd54d1f4bd58e290143e403ade5e875fe25b2af,,- name: Create br-ex interface if does not exist shell: set -o pipefail && ip link | grep br-ex || ip link add br-ex type dummy changed_when: true become: true ,,5,0
openstack%2Ftripleo-ci~master~I6c0524749d665c819575007e277631b18d7f34e5,openstack/tripleo-ci,master,I6c0524749d665c819575007e277631b18d7f34e5,DNM test jobs w/o br-ex,ABANDONED,2020-10-14 10:21:08.000000000,2021-04-27 10:29:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-14 10:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5bd50ebcb6d21f09c602e406af621d3c0dfdb6a3', 'message': 'DNM test jobs w/o br-ex\n\nChange-Id: I6c0524749d665c819575007e277631b18d7f34e5\n'}, {'number': 2, 'created': '2020-10-15 09:09:19.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/afd32115362cdf5ffc415f3bef8e3565c7bf8c42', 'message': 'DNM test jobs w/o br-ex\n\nDepends-On: https://review.opendev.org/758370\nChange-Id: I6c0524749d665c819575007e277631b18d7f34e5\n'}]",0,758072,afd32115362cdf5ffc415f3bef8e3565c7bf8c42,7,2,2,10969,,,0,"DNM test jobs w/o br-ex

Depends-On: https://review.opendev.org/758370
Change-Id: I6c0524749d665c819575007e277631b18d7f34e5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/72/758072/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,5bd50ebcb6d21f09c602e406af621d3c0dfdb6a3,test-node, nodeset: single-centos-8-node-standalone nodeset: single-centos-8-node-standalone, nodeset: single-centos-8-node nodeset: single-centos-8-node,2,2
openstack%2Ftripleo-ansible~master~I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d,openstack/tripleo-ansible,master,I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d,WIP multiple containers support for podman module,ABANDONED,2020-08-20 12:57:23.000000000,2021-04-27 10:27:47.000000000,,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-20 12:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/613fbcfc209200e14f87658df4e20ebc82061ffe', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 2, 'created': '2020-08-20 14:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf897bf26d68632ba79e3845e9e033020f917cfd', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 3, 'created': '2020-08-20 18:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a700959e0278ae8f88bda29f0b7612b7eaf2f2d5', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 4, 'created': '2020-08-24 12:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a632c75d573d1e972dbefeb4bbd5ebbe6991b690', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 5, 'created': '2020-08-24 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab5f4371f3c53fe2b39bcd0beef8f18b3835249a', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 6, 'created': '2020-08-24 14:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b02c862d7b4554ceddac8c9caecdd622812c7cf1', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 7, 'created': '2020-08-24 14:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84102c85def96cd312516fdc3642847e24683a9f', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 8, 'created': '2020-08-25 03:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91a130b01d17ef237af0a8a0e20c70dab7c10925', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 9, 'created': '2020-08-25 03:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e64dd80499c261b4051ee711e8e05c9a6ee6c487', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 10, 'created': '2020-08-26 14:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc8c49bc00bbf1c561464357694800ce7a273fd9', 'message': 'WIP multiple containers support for podman module\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 11, 'created': '2020-08-27 11:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b50263abf8fac366ff68db9ddb27ede38e3bb10', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 12, 'created': '2020-08-27 11:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6dad285e52b29a2b70a5b8dd75ad7cda72475d1', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\nDepends-On: https://review.opendev.org/#/c/748360/\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 13, 'created': '2020-08-27 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3523cbabd396692756da6385a94fa60be1fcd111', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 14, 'created': '2020-08-27 17:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93c9e7ad5d6b6b0be41b7bd6542749a888abb558', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nDepends-On: https://review.opendev.org/#/c/748360\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 15, 'created': '2020-08-28 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6521e1c61ef18cfc7d5bd944d6bbdfab260300d5', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nDepends-On: https://review.opendev.org/#/c/748360\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 16, 'created': '2020-08-29 14:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32eb510fac4713159686dc2c04bd8489722f8e0a', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 17, 'created': '2020-08-29 15:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eae1f3e73928cdffb9a617643f6f0ba8edc048d1', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 18, 'created': '2020-08-30 10:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d223745a0288b82462167e60d5c5a71d1dbe70d6', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 19, 'created': '2020-09-01 08:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d17268b84fcb59954292b59702d29739b0048914', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 20, 'created': '2020-09-01 09:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8f2008efd6cf27e12000da0900ce292e12c9735', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 21, 'created': '2020-09-01 10:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86ccb417a5ffc5aa01e2c6d7671676d2aeea1093', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 22, 'created': '2020-09-01 10:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bdce6e48a20174f3758e6514e5a18dac3140c68', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 23, 'created': '2020-09-01 13:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/943213c3bee5e8fa9ab5270fe14522467a7e484c', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 24, 'created': '2020-09-01 14:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a074f488d9561206bb8fa8033920440384a064e7', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}, {'number': 25, 'created': '2020-09-01 17:10:58.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/doc_fragments/__init__.py', 'tripleo_ansible/ansible_plugins/module_utils/podman_containers_doc.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/__init__.py', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/doc_fragments/podman_containers_doc.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py', 'tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/action/podman_containers.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19325467c9bda561900ac0e3f1762fea8bd5a396', 'message': 'WIP multiple containers support for podman module\n\nRun multiple containers in one module call.\n\nChange-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d\n'}]",9,747156,19325467c9bda561900ac0e3f1762fea8bd5a396,78,4,25,10969,,,0,"WIP multiple containers support for podman module

Run multiple containers in one module call.

Change-Id: I5b80ea0a8ec3a0c6c9618a0b96b6748a478ece4d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/747156/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/doc_fragments/__init__.py', 'tripleo_ansible/ansible_plugins/module_utils/podman_containers_doc.py', 'tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/__init__.py', 'tripleo_ansible/ansible_plugins/doc_fragments/podman_containers_doc.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",8,613fbcfc209200e14f87658df4e20ebc82061ffe,podman_multi," import json # noqa: F402 from distutils.version import LooseVersion # noqa: F402 import yaml # noqa: F402 from ansible.module_utils._text import to_bytes, to_native # noqa: F402 class PodmanModuleParams: """"""Creates list of arguments for podman CLI command. Arguments: action {str} -- action type from 'run', 'stop', 'create', 'delete', 'start' params {dict} -- dictionary of module parameters """""" def __init__(self, action, params, podman_version, module): self.params = params self.action = action self.podman_version = podman_version self.module = module def construct_command_from_params(self): """"""Create a podman command from given module parameters. Returns: list -- list of byte strings for Popen command """""" if self.action in ['start', 'stop', 'delete']: return self.start_stop_delete() if self.action in ['create', 'run']: cmd = [self.action, '--name', self.params['name']] all_param_methods = [func for func in dir(self) if callable(getattr(self, func)) and func.startswith(""addparam"")] params_set = (i for i in self.params if self.params[i] is not None) for param in params_set: func_name = ""_"".join([""addparam"", param]) if func_name in all_param_methods: cmd = getattr(self, func_name)(cmd) cmd.append(self.params['image']) if self.params['command']: if isinstance(self.params['command'], list): cmd += self.params['command'] else: cmd += self.params['command'].split() return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] def start_stop_delete(self): if self.action in ['stop', 'start']: cmd = [self.action, self.params['name']] return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] if self.action == 'delete': cmd = ['rm', '-f', self.params['name']] return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] def check_version(self, param, minv=None, maxv=None): if minv and LooseVersion(minv) > LooseVersion( self.podman_version): self.module.fail_json(msg=""Parameter %s is supported from podman "" ""version %s only! Current version is %s"" % ( param, minv, self.podman_version)) if maxv and LooseVersion(maxv) < LooseVersion( self.podman_version): self.module.fail_json(msg=""Parameter %s is supported till podman "" ""version %s only! Current version is %s"" % ( param, minv, self.podman_version)) def addparam_annotation(self, c): for annotate in self.params['annotation'].items(): c += ['--annotation', '='.join(annotate)] return c def addparam_authfile(self, c): return c + ['--authfile', self.params['authfile']] def addparam_blkio_weight(self, c): return c + ['--blkio-weight', self.params['blkio_weight']] def addparam_blkio_weight_device(self, c): for blkio in self.params['blkio_weight_device'].items(): c += ['--blkio-weight-device', ':'.join(blkio)] return c def addparam_cap_add(self, c): for cap_add in self.params['cap_add']: c += ['--cap-add', cap_add] return c def addparam_cap_drop(self, c): for cap_drop in self.params['cap_drop']: c += ['--cap-drop', cap_drop] return c def addparam_cgroups(self, c): self.check_version('--cgroups', minv='1.6.0') return c + ['--cgroups=%s' % self.params['cgroups']] def addparam_cgroupns(self, c): self.check_version('--cgroupns', minv='1.6.2') return c + ['--cgroupns=%s' % self.params['cgroupns']] def addparam_cgroup_parent(self, c): return c + ['--cgroup-parent', self.params['cgroup_parent']] def addparam_cidfile(self, c): return c + ['--cidfile', self.params['cidfile']] def addparam_conmon_pidfile(self, c): return c + ['--conmon-pidfile', self.params['conmon_pidfile']] def addparam_cpu_period(self, c): return c + ['--cpu-period', self.params['cpu_period']] def addparam_cpu_rt_period(self, c): return c + ['--cpu-rt-period', self.params['cpu_rt_period']] def addparam_cpu_rt_runtime(self, c): return c + ['--cpu-rt-runtime', self.params['cpu_rt_runtime']] def addparam_cpu_shares(self, c): return c + ['--cpu-shares', self.params['cpu_shares']] def addparam_cpus(self, c): return c + ['--cpus', self.params['cpus']] def addparam_cpuset_cpus(self, c): return c + ['--cpuset-cpus', self.params['cpuset_cpus']] def addparam_cpuset_mems(self, c): return c + ['--cpuset-mems', self.params['cpuset_mems']] def addparam_detach(self, c): return c + ['--detach=%s' % self.params['detach']] def addparam_detach_keys(self, c): return c + ['--detach-keys', self.params['detach_keys']] def addparam_device(self, c): for dev in self.params['device']: c += ['--device', dev] return c def addparam_device_read_bps(self, c): for dev in self.params['device_read_bps']: c += ['--device-read-bps', dev] return c def addparam_device_read_iops(self, c): for dev in self.params['device_read_iops']: c += ['--device-read-iops', dev] return c def addparam_device_write_bps(self, c): for dev in self.params['device_write_bps']: c += ['--device-write-bps', dev] return c def addparam_device_write_iops(self, c): for dev in self.params['device_write_iops']: c += ['--device-write-iops', dev] return c def addparam_dns(self, c): return c + ['--dns', ','.join(self.params['dns'])] def addparam_dns_option(self, c): return c + ['--dns-option', self.params['dns_option']] def addparam_dns_search(self, c): return c + ['--dns-search', self.params['dns_search']] def addparam_entrypoint(self, c): return c + ['--entrypoint', self.params['entrypoint']] def addparam_env(self, c): for env_value in self.params['env'].items(): c += ['--env', b""="".join([to_bytes(k, errors='surrogate_or_strict') for k in env_value])] return c def addparam_env_file(self, c): return c + ['--env-file', self.params['env_file']] def addparam_env_host(self, c): self.check_version('--env-host', minv='1.5.0') return c + ['--env-host=%s' % self.params['env_host']] def addparam_etc_hosts(self, c): for host_ip in self.params['etc_hosts'].items(): c += ['--add-host', ':'.join(host_ip)] return c def addparam_expose(self, c): for exp in self.params['expose']: c += ['--expose', exp] return c def addparam_gidmap(self, c): return c + ['--gidmap', self.params['gidmap']] def addparam_group_add(self, c): for g in self.params['group_add']: c += ['--group-add', g] return c def addparam_healthcheck(self, c): return c + ['--healthcheck-command', self.params['healthcheck']] def addparam_healthcheck_interval(self, c): return c + ['--healthcheck-interval', self.params['healthcheck_interval']] def addparam_healthcheck_retries(self, c): return c + ['--healthcheck-retries', self.params['healthcheck_retries']] def addparam_healthcheck_start_period(self, c): return c + ['--healthcheck-start-period', self.params['healthcheck_start_period']] def addparam_healthcheck_timeout(self, c): return c + ['--healthcheck-timeout', self.params['healthcheck_timeout']] def addparam_hostname(self, c): return c + ['--hostname', self.params['hostname']] def addparam_http_proxy(self, c): return c + ['--http-proxy=%s' % self.params['http_proxy']] def addparam_image_volume(self, c): return c + ['--image-volume', self.params['image_volume']] def addparam_init(self, c): return c + ['--init', self.params['init']] def addparam_init_path(self, c): return c + ['--init-path', self.params['init_path']] def addparam_interactive(self, c): return c + ['--interactive=%s' % self.params['interactive']] def addparam_ip(self, c): return c + ['--ip', self.params['ip']] def addparam_ipc(self, c): return c + ['--ipc', self.params['ipc']] def addparam_kernel_memory(self, c): return c + ['--kernel-memory', self.params['kernel_memory']] def addparam_label(self, c): for label in self.params['label'].items(): c += ['--label', b'='.join([to_bytes(l, errors='surrogate_or_strict') for l in label])] return c def addparam_label_file(self, c): return c + ['--label-file', self.params['label_file']] def addparam_log_driver(self, c): return c + ['--log-driver', self.params['log_driver']] def addparam_log_opt(self, c): return c + ['--log-opt', self.params['log_opt']] def addparam_memory(self, c): return c + ['--memory', self.params['memory']] def addparam_memory_reservation(self, c): return c + ['--memory-reservation', self.params['memory_reservation']] def addparam_memory_swap(self, c): return c + ['--memory-swap', self.params['memory_swap']] def addparam_memory_swappiness(self, c): return c + ['--memory-swappiness', self.params['memory_swappiness']] def addparam_mount(self, c): return c + ['--mount', self.params['mount']] def addparam_network(self, c): return c + ['--network', "","".join(self.params['network'])] def addparam_no_hosts(self, c): return c + ['--no-hosts=%s' % self.params['no_hosts']] def addparam_oom_kill_disable(self, c): return c + ['--oom-kill-disable=%s' % self.params['oom_kill_disable']] def addparam_oom_score_adj(self, c): return c + ['--oom-score-adj', self.params['oom_score_adj']] def addparam_pid(self, c): return c + ['--pid', self.params['pid']] def addparam_pids_limit(self, c): return c + ['--pids-limit', self.params['pids_limit']] def addparam_pod(self, c): return c + ['--pod', self.params['pod']] def addparam_privileged(self, c): return c + ['--privileged=%s' % self.params['privileged']] def addparam_publish(self, c): for pub in self.params['publish']: c += ['--publish', pub] return c def addparam_publish_all(self, c): return c + ['--publish-all=%s' % self.params['publish_all']] def addparam_read_only(self, c): return c + ['--read-only=%s' % self.params['read_only']] def addparam_read_only_tmpfs(self, c): return c + ['--read-only-tmpfs=%s' % self.params['read_only_tmpfs']] def addparam_restart_policy(self, c): return c + ['--restart=%s' % self.params['restart_policy']] def addparam_rm(self, c): if self.params['rm']: c += ['--rm'] return c def addparam_rootfs(self, c): return c + ['--rootfs=%s' % self.params['rootfs']] def addparam_security_opt(self, c): for secopt in self.params['security_opt']: c += ['--security-opt', secopt] return c def addparam_shm_size(self, c): return c + ['--shm-size', self.params['shm_size']] def addparam_sig_proxy(self, c): return c + ['--sig-proxy=%s' % self.params['sig_proxy']] def addparam_stop_signal(self, c): return c + ['--stop-signal', self.params['stop_signal']] def addparam_stop_timeout(self, c): return c + ['--stop-timeout', self.params['stop_timeout']] def addparam_subgidname(self, c): return c + ['--subgidname', self.params['subgidname']] def addparam_subuidname(self, c): return c + ['--subuidname', self.params['subuidname']] def addparam_sysctl(self, c): for sysctl in self.params['sysctl'].items(): c += ['--sysctl', b""="".join([to_bytes(k, errors='surrogate_or_strict') for k in sysctl])] return c def addparam_systemd(self, c): return c + ['--systemd=%s' % self.params['systemd']] def addparam_tmpfs(self, c): for tmpfs in self.params['tmpfs'].items(): c += ['--tmpfs', ':'.join(tmpfs)] return c def addparam_tty(self, c): return c + ['--tty=%s' % self.params['tty']] def addparam_uidmap(self, c): for uidmap in self.params['uidmap']: c += ['--uidmap', uidmap] return c def addparam_ulimit(self, c): for u in self.params['ulimit']: c += ['--ulimit', u] return c def addparam_user(self, c): return c + ['--user', self.params['user']] def addparam_userns(self, c): return c + ['--userns', self.params['userns']] def addparam_uts(self, c): return c + ['--uts', self.params['uts']] def addparam_volume(self, c): for vol in self.params['volume']: if vol: c += ['--volume', vol] return c def addparam_volumes_from(self, c): for vol in self.params['volumes_from']: c += ['--volumes-from', vol] return c def addparam_workdir(self, c): return c + ['--workdir', self.params['workdir']] # Add your own args for podman command def addparam_cmd_args(self, c): return c + self.params['cmd_args'] class PodmanDefaults: def __init__(self, image_info, podman_version): self.version = podman_version self.image_info = image_info self.defaults = { ""blkio_weight"": 0, ""cgroups"": ""default"", ""cidfile"": """", ""cpus"": 0.0, ""cpu_shares"": 0, ""cpu_quota"": 0, ""cpu_period"": 0, ""cpu_rt_runtime"": 0, ""cpu_rt_period"": 0, ""cpuset_cpus"": """", ""cpuset_mems"": """", ""detach"": True, ""device"": [], ""env_host"": False, ""etc_hosts"": {}, ""group_add"": [], ""ipc"": """", ""kernelmemory"": ""0"", ""log_driver"": ""k8s-file"", ""memory"": ""0"", ""memory_swap"": ""0"", ""memory_reservation"": ""0"", # ""memory_swappiness"": -1, ""no_hosts"": False, # libpod issue with networks in inspection ""oom_score_adj"": 0, ""pid"": """", ""privileged"": False, ""rm"": False, ""security_opt"": [], ""stop_signal"": self.image_info['config'].get('stopsignal', ""15""), ""tty"": False, ""user"": self.image_info.get('user', ''), ""workdir"": self.image_info['config'].get('workingdir', '/'), ""uts"": """", } def default_dict(self): # make here any changes to self.defaults related to podman version # https://github.com/containers/libpod/pull/5669 if (LooseVersion(self.version) >= LooseVersion('1.8.0') and LooseVersion(self.version) < LooseVersion('1.9.0')): self.defaults['cpu_shares'] = 1024 if (LooseVersion(self.version) >= LooseVersion('2.0.0')): self.defaults['network'] = [""slirp4netns""] self.defaults['ipc'] = ""private"" self.defaults['uts'] = ""private"" self.defaults['pid'] = ""private"" return self.defaults class PodmanContainerDiff: def __init__(self, module, module_params, info, image_info, podman_version): self.module = module self.module_params = module_params self.version = podman_version self.default_dict = None self.info = yaml.safe_load(json.dumps(info).lower()) self.image_info = yaml.safe_load(json.dumps(image_info).lower()) self.params = self.defaultize() self.diff = {'before': {}, 'after': {}} self.non_idempotent = { 'env_file', # We can't get env vars from file to check 'env_host', } def defaultize(self): params_with_defaults = {} self.default_dict = PodmanDefaults( self.image_info, self.version).default_dict() for p in self.module_params: if self.module_params[p] is None and p in self.default_dict: params_with_defaults[p] = self.default_dict[p] else: params_with_defaults[p] = self.module_params[p] return params_with_defaults def _diff_update_and_compare(self, param_name, before, after): if before != after: self.diff['before'].update({param_name: before}) self.diff['after'].update({param_name: after}) return True return False def diffparam_annotation(self): before = self.info['config']['annotations'] or {} after = before.copy() if self.module_params['annotation'] is not None: after.update(self.params['annotation']) return self._diff_update_and_compare('annotation', before, after) def diffparam_env_host(self): # It's impossible to get from inspest, recreate it if not default before = False after = self.params['env_host'] return self._diff_update_and_compare('env_host', before, after) def diffparam_blkio_weight(self): before = self.info['hostconfig']['blkioweight'] after = self.params['blkio_weight'] return self._diff_update_and_compare('blkio_weight', before, after) def diffparam_blkio_weight_device(self): before = self.info['hostconfig']['blkioweightdevice'] if before == [] and self.module_params['blkio_weight_device'] is None: after = [] else: after = self.params['blkio_weight_device'] return self._diff_update_and_compare('blkio_weight_device', before, after) def diffparam_cap_add(self): before = self.info['effectivecaps'] or [] after = [] if self.module_params['cap_add'] is not None: after += [""cap_"" + i.lower() for i in self.module_params['cap_add']] after += before before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('cap_add', before, after) def diffparam_cap_drop(self): before = self.info['effectivecaps'] or [] after = before[:] if self.module_params['cap_drop'] is not None: for c in [""cap_"" + i.lower() for i in self.module_params['cap_drop']]: if c in after: after.remove(c) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('cap_drop', before, after) def diffparam_cgroup_parent(self): before = self.info['hostconfig']['cgroupparent'] after = self.params['cgroup_parent'] if after is None: after = before return self._diff_update_and_compare('cgroup_parent', before, after) def diffparam_cgroups(self): # Cgroups output is not supported in all versions if 'cgroups' in self.info['hostconfig']: before = self.info['hostconfig']['cgroups'] after = self.params['cgroups'] return self._diff_update_and_compare('cgroups', before, after) return False def diffparam_cidfile(self): before = self.info['hostconfig']['containeridfile'] after = self.params['cidfile'] return self._diff_update_and_compare('cidfile', before, after) def diffparam_command(self): # TODO(sshnaidm): to inspect image to get the default command if self.module_params['command'] is not None: before = self.info['config']['cmd'] after = self.params['command'] if isinstance(after, str): after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] return self._diff_update_and_compare('command', before, after) return False def diffparam_conmon_pidfile(self): before = self.info['conmonpidfile'] if self.module_params['conmon_pidfile'] is None: after = before else: after = self.params['conmon_pidfile'] return self._diff_update_and_compare('conmon_pidfile', before, after) def diffparam_cpu_period(self): before = self.info['hostconfig']['cpuperiod'] after = self.params['cpu_period'] return self._diff_update_and_compare('cpu_period', before, after) def diffparam_cpu_rt_period(self): before = self.info['hostconfig']['cpurealtimeperiod'] after = self.params['cpu_rt_period'] return self._diff_update_and_compare('cpu_rt_period', before, after) def diffparam_cpu_rt_runtime(self): before = self.info['hostconfig']['cpurealtimeruntime'] after = self.params['cpu_rt_runtime'] return self._diff_update_and_compare('cpu_rt_runtime', before, after) def diffparam_cpu_shares(self): before = self.info['hostconfig']['cpushares'] after = self.params['cpu_shares'] return self._diff_update_and_compare('cpu_shares', before, after) def diffparam_cpus(self): before = int(self.info['hostconfig']['nanocpus']) / 1000000000 after = self.params['cpus'] return self._diff_update_and_compare('cpus', before, after) def diffparam_cpuset_cpus(self): before = self.info['hostconfig']['cpusetcpus'] after = self.params['cpuset_cpus'] return self._diff_update_and_compare('cpuset_cpus', before, after) def diffparam_cpuset_mems(self): before = self.info['hostconfig']['cpusetmems'] after = self.params['cpuset_mems'] return self._diff_update_and_compare('cpuset_mems', before, after) def diffparam_device(self): before = ["":"".join([i['pathonhost'], i['pathincontainer']]) for i in self.info['hostconfig']['devices']] after = ["":"".join(i.split("":"")[:2]) for i in self.params['device']] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('devices', before, after) def diffparam_device_read_bps(self): before = self.info['hostconfig']['blkiodevicereadbps'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_read_bps'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_read_bps', before, after) def diffparam_device_read_iops(self): before = self.info['hostconfig']['blkiodevicereadiops'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_read_iops'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_read_iops', before, after) def diffparam_device_write_bps(self): before = self.info['hostconfig']['blkiodevicewritebps'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_write_bps'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_write_bps', before, after) def diffparam_device_write_iops(self): before = self.info['hostconfig']['blkiodevicewriteiops'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_write_iops'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_write_iops', before, after) # Limited idempotency, it can't guess default values def diffparam_env(self): env_before = self.info['config']['env'] or {} before = {i.split(""="")[0]: ""="".join(i.split(""="")[1:]) for i in env_before} after = before.copy() if self.params['env']: after.update({ str(k).lower(): str(v).lower() for k, v in self.params['env'].items() }) return self._diff_update_and_compare('env', before, after) def diffparam_etc_hosts(self): if self.info['hostconfig']['extrahosts']: before = dict([i.split("":"") for i in self.info['hostconfig']['extrahosts']]) else: before = {} after = self.params['etc_hosts'] return self._diff_update_and_compare('etc_hosts', before, after) def diffparam_group_add(self): before = self.info['hostconfig']['groupadd'] after = self.params['group_add'] return self._diff_update_and_compare('group_add', before, after) # Healthcheck is only defined in container config if a healthcheck # was configured; otherwise the config key isn't part of the config. def diffparam_healthcheck(self): if 'healthcheck' in self.info['config']: # the ""test"" key is a list of 2 items where the first one is # ""CMD-SHELL"" and the second one is the actual healthcheck command. before = self.info['config']['healthcheck']['test'][1] else: before = '' after = self.params['healthcheck'] or before return self._diff_update_and_compare('healthcheck', before, after) # Because of hostname is random generated, this parameter has partial idempotency only. def diffparam_hostname(self): before = self.info['config']['hostname'] after = self.params['hostname'] or before return self._diff_update_and_compare('hostname', before, after) def diffparam_image(self): # TODO(sshnaidm): for strict image compare mode use SHAs before = self.info['config']['image'] after = self.params['image'] mode = self.params['image_strict'] if mode is None or not mode: # In a idempotency 'lite mode' assume all images from different registries are the same before = before.replace("":latest"", """") after = after.replace("":latest"", """") before = before.split(""/"")[-1] after = after.split(""/"")[-1] return self._diff_update_and_compare('image', before, after) def diffparam_ipc(self): before = self.info['hostconfig']['ipcmode'] after = self.params['ipc'] if self.params['pod'] and not self.module_params['ipc']: after = before return self._diff_update_and_compare('ipc', before, after) def diffparam_label(self): before = self.info['config']['labels'] or {} after = self.image_info.get('labels') or {} if self.params['label']: after.update({ str(k).lower(): str(v).lower() for k, v in self.params['label'].items() }) return self._diff_update_and_compare('label', before, after) def diffparam_log_driver(self): before = self.info['hostconfig']['logconfig']['type'] after = self.params['log_driver'] return self._diff_update_and_compare('log_driver', before, after) # Parameter has limited idempotency, unable to guess the default log_path def diffparam_log_opt(self): before = self.info['logpath'] if self.module_params['log_opt'] in [None, '']: after = before else: after = self.params['log_opt'].split(""="")[1] return self._diff_update_and_compare('log_opt', before, after) def diffparam_memory(self): before = str(self.info['hostconfig']['memory']) after = self.params['memory'] return self._diff_update_and_compare('memory', before, after) def diffparam_memory_swap(self): # By default it's twice memory parameter before = str(self.info['hostconfig']['memoryswap']) after = self.params['memory_swap'] if (self.module_params['memory_swap'] is None and self.params['memory'] != 0 and self.params['memory'].isdigit()): after = str(int(self.params['memory']) * 2) return self._diff_update_and_compare('memory_swap', before, after) def diffparam_memory_reservation(self): before = str(self.info['hostconfig']['memoryreservation']) after = self.params['memory_reservation'] return self._diff_update_and_compare('memory_reservation', before, after) def diffparam_network(self): net_mode_before = self.info['hostconfig']['networkmode'] net_mode_after = '' before = list(self.info['networksettings'].get('networks', {})) after = self.params['network'] or [] # If container is in pod and no networks are provided if not self.module_params['network'] and self.params['pod']: after = before return self._diff_update_and_compare('network', before, after) # Check special network modes if after in [['bridge'], ['host'], ['slirp4netns'], ['none']]: net_mode_after = after[0] # If changes are only for network mode and container has no networks if net_mode_after and not before: # Remove differences between v1 and v2 net_mode_after = net_mode_after.replace('bridge', 'default') net_mode_after = net_mode_after.replace('slirp4netns', 'default') net_mode_before = net_mode_before.replace('bridge', 'default') net_mode_before = net_mode_before.replace('slirp4netns', 'default') return self._diff_update_and_compare('network', net_mode_before, net_mode_after) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('network', before, after) def diffparam_no_hosts(self): before = not bool(self.info['hostspath']) after = self.params['no_hosts'] if self.params['network'] == ['none']: after = True return self._diff_update_and_compare('no_hosts', before, after) def diffparam_oom_score_adj(self): before = self.info['hostconfig']['oomscoreadj'] after = self.params['oom_score_adj'] return self._diff_update_and_compare('oom_score_adj', before, after) def diffparam_privileged(self): before = self.info['hostconfig']['privileged'] after = self.params['privileged'] return self._diff_update_and_compare('privileged', before, after) def diffparam_pid(self): before = self.info['hostconfig']['pidmode'] after = self.params['pid'] return self._diff_update_and_compare('pid', before, after) # TODO(sshnaidm) Need to add port ranges support def diffparam_publish(self): ports = self.info['hostconfig']['portbindings'] before = ["":"".join([ j[0]['hostip'], str(j[0][""hostport""]), i.replace('/tcp', '') ]).strip(':') for i, j in ports.items()] after = self.params['publish'] or [] if self.params['publish_all']: image_ports = self.image_info['config'].get('exposedports', {}) if image_ports: after += list(image_ports.keys()) after = [i.replace(""/tcp"", """") for i in after] # No support for port ranges yet for ports in after: if ""-"" in ports: return self._diff_update_and_compare('publish', '', '') before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('publish', before, after) def diffparam_rm(self): before = self.info['hostconfig']['autoremove'] after = self.params['rm'] return self._diff_update_and_compare('rm', before, after) def diffparam_security_opt(self): before = self.info['hostconfig']['securityopt'] # In rootful containers with apparmor there is a default security opt before = [o for o in before if 'apparmor=containers-default' not in o] after = self.params['security_opt'] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('security_opt', before, after) def diffparam_stop_signal(self): signals = { ""sighup"": ""1"", ""sigint"": ""2"", ""sigquit"": ""3"", ""sigill"": ""4"", ""sigtrap"": ""5"", ""sigabrt"": ""6"", ""sigiot"": ""6"", ""sigbus"": ""7"", ""sigfpe"": ""8"", ""sigkill"": ""9"", ""sigusr1"": ""10"", ""sigsegv"": ""11"", ""sigusr2"": ""12"", ""sigpipe"": ""13"", ""sigalrm"": ""14"", ""sigterm"": ""15"", ""sigstkflt"": ""16"", ""sigchld"": ""17"", ""sigcont"": ""18"", ""sigstop"": ""19"", ""sigtstp"": ""20"", ""sigttin"": ""21"", ""sigttou"": ""22"", ""sigurg"": ""23"", ""sigxcpu"": ""24"", ""sigxfsz"": ""25"", ""sigvtalrm"": ""26"", ""sigprof"": ""27"", ""sigwinch"": ""28"", ""sigio"": ""29"", ""sigpwr"": ""30"", ""sigsys"": ""31"" } before = str(self.info['config']['stopsignal']) if not before.isdigit(): before = signals[before] after = str(self.params['stop_signal']) if not after.isdigit(): after = signals[after] return self._diff_update_and_compare('stop_signal', before, after) def diffparam_tty(self): before = self.info['config']['tty'] after = self.params['tty'] return self._diff_update_and_compare('tty', before, after) def diffparam_user(self): before = self.info['config']['user'] after = self.params['user'] return self._diff_update_and_compare('user', before, after) def diffparam_ulimit(self): after = self.params['ulimit'] or [] # In case of latest podman if 'createcommand' in self.info['config']: ulimits = [] for k, c in enumerate(self.info['config']['createcommand']): if c == '--ulimit': ulimits.append(self.info['config']['createcommand'][k + 1]) before = ulimits before, after = sorted(before), sorted(after) return self._diff_update_and_compare('ulimit', before, after) if after: ulimits = self.info['hostconfig']['ulimits'] before = { u['name'].replace('rlimit_', ''): ""%s:%s"" % (u['soft'], u['hard']) for u in ulimits} after = {i.split('=')[0]: i.split('=')[1] for i in self.params['ulimit']} new_before = [] new_after = [] for u in list(after.keys()): # We don't support unlimited ulimits because it depends on platform if u in before and ""-1"" not in after[u]: new_before.append([u, before[u]]) new_after.append([u, after[u]]) return self._diff_update_and_compare('ulimit', new_before, new_after) return self._diff_update_and_compare('ulimit', '', '') def diffparam_uts(self): before = self.info['hostconfig']['utsmode'] after = self.params['uts'] if self.params['pod'] and not self.module_params['uts']: after = before return self._diff_update_and_compare('uts', before, after) def diffparam_volume(self): def clean_volume(x): '''Remove trailing and double slashes from volumes.''' return x.replace(""//"", ""/"").rstrip(""/"") before = self.info['mounts'] before_local_vols = [] if before: volumes = [] local_vols = [] for m in before: if m['type'] != 'volume': volumes.append([m['source'], m['destination']]) elif m['type'] == 'volume': local_vols.append([m['name'], m['destination']]) before = ["":"".join(v) for v in volumes] before_local_vols = ["":"".join(v) for v in local_vols] if self.params['volume'] is not None: after = ["":"".join( [clean_volume(i) for i in v.split("":"")[:2]] ) for v in self.params['volume']] else: after = [] if before_local_vols: after = list(set(after).difference(before_local_vols)) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('volume', before, after) def diffparam_volumes_from(self): # Possibly volumesfrom is not in config before = self.info['hostconfig'].get('volumesfrom', []) or [] after = self.params['volumes_from'] or [] return self._diff_update_and_compare('volumes_from', before, after) def diffparam_workdir(self): before = self.info['config']['workingdir'] after = self.params['workdir'] return self._diff_update_and_compare('workdir', before, after) def is_different(self): diff_func_list = [func for func in dir(self) if callable(getattr(self, func)) and func.startswith( ""diffparam"")] fail_fast = not bool(self.module._diff) different = False for func_name in diff_func_list: dff_func = getattr(self, func_name) if dff_func(): if fail_fast: return True different = True # Check non idempotent parameters for p in self.non_idempotent: if self.module_params[p] is not None and self.module_params[p] not in [{}, [], '']: different = True return different def ensure_image_exists(module, image, module_params): """"""If image is passed, ensure it exists, if not - pull it or fail. Arguments: module {obj} -- ansible module object image {str} -- name of image Returns: list -- list of image actions - if it pulled or nothing was done """""" image_actions = [] module_exec = module_params['executable'] if not image: return image_actions rc, out, err = module.run_command([module_exec, 'image', 'exists', image]) if rc == 0: return image_actions rc, out, err = module.run_command([module_exec, 'image', 'pull', image]) if rc != 0: module.fail_json(msg=""Can't pull image %s"" % image, stdout=out, stderr=err) image_actions.append(""pulled image %s"" % image) return image_actions class PodmanContainer: """"""Perform container tasks. Manages podman container, inspects it and checks its current state """""" def __init__(self, module, name, module_params): """"""Initialize PodmanContainer class. Arguments: module {obj} -- ansible module object name {str} -- name of container """""" super(PodmanContainer, self).__init__() self.module = module self.module_params = module_params self.name = name self.stdout, self.stderr = '', '' self.info = self.get_info() self.version = self._get_podman_version() self.diff = {} self.actions = [] @property def exists(self): """"""Check if container exists."""""" return bool(self.info != {}) @property def different(self): """"""Check if container is different."""""" diffcheck = PodmanContainerDiff( self.module, self.module_params, self.info, self.get_image_info(), self.version) is_different = diffcheck.is_different() diffs = diffcheck.diff if self.module._diff and is_different and diffs['before'] and diffs['after']: self.diff['before'] = ""\n"".join( [""%s - %s"" % (k, v) for k, v in sorted( diffs['before'].items())]) + ""\n"" self.diff['after'] = ""\n"".join( [""%s - %s"" % (k, v) for k, v in sorted( diffs['after'].items())]) + ""\n"" return is_different @property def running(self): """"""Return True if container is running now."""""" return self.exists and self.info['State']['Running'] @property def stopped(self): """"""Return True if container exists and is not running now."""""" return self.exists and not self.info['State']['Running'] def get_info(self): """"""Inspect container and gather info about it."""""" # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'container', b'inspect', self.name]) return json.loads(out)[0] if rc == 0 else {} def get_image_info(self): """"""Inspect container image and gather info about it."""""" # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'image', b'inspect', self.module_params['image']]) return json.loads(out)[0] if rc == 0 else {} def _get_podman_version(self): # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'--version']) if rc != 0 or not out or ""version"" not in out: self.module.fail_json(msg=""%s run failed!"" % self.module_params['executable']) return out.split(""version"")[1].strip() def _perform_action(self, action): """"""Perform action with container. Arguments: action {str} -- action to perform - start, create, stop, run, delete """""" b_command = PodmanModuleParams(action, self.module_params, self.version, self.module, ).construct_command_from_params() full_cmd = "" "".join([self.module_params['executable']] + [to_native(i) for i in b_command]) self.module.log(""PODMAN-CONTAINER-DEBUG: %s"" % full_cmd) self.actions.append(full_cmd) if not self.module.check_mode: rc, out, err = self.module.run_command( [self.module_params['executable'], b'container'] + b_command, expand_user_and_vars=False) self.stdout = out self.stderr = err if rc != 0: self.module.fail_json( msg=""Can't %s container %s"" % (action, self.name), stdout=out, stderr=err) def run(self): """"""Run the container."""""" self._perform_action('run') def delete(self): """"""Delete the container."""""" self._perform_action('delete') def stop(self): """"""Stop the container."""""" self._perform_action('stop') def start(self): """"""Start the container."""""" self._perform_action('start') def create(self): """"""Create the container."""""" self._perform_action('create') def recreate(self): """"""Recreate the container."""""" self.delete() self.run() def restart(self): """"""Restart the container."""""" self.stop() self.run() class PodmanManager: """"""Module manager class. Defines according to parameters what actions should be applied to container """""" def __init__(self, module, params): """"""Initialize PodmanManager class. Arguments: module {obj} -- ansible module object """""" super(PodmanManager, self).__init__() self.module = module self.results = { 'changed': False, 'actions': [], 'container': {}, } self.module_params = params self.name = self.module_params['name'] self.executable = \ self.module.get_bin_path(self.module_params['executable'], required=True) self.image = self.module_params['image'] image_actions = ensure_image_exists(self.module, self.image, self.module_params) self.results['actions'] += image_actions self.state = self.module_params['state'] self.restart = self.module_params['force_restart'] self.recreate = self.module_params['recreate'] self.container = PodmanContainer(self.module, self.name, self.module_params) def update_container_result(self, changed=True): """"""Inspect the current container, update results with last info, exit. Keyword Arguments: changed {bool} -- whether any action was performed (default: {True}) """""" facts = self.container.get_info() if changed else self.container.info out, err = self.container.stdout, self.container.stderr self.results.update({'changed': changed, 'container': facts, 'podman_actions': self.container.actions}, stdout=out, stderr=err) if self.container.diff: self.results.update({'diff': self.container.diff}) if self.module.params['debug'] or self.module_params['debug']: self.results.update({'podman_version': self.container.version}) def make_started(self): """"""Run actions if desired state is 'started'."""""" if self.container.running and \ (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() elif self.container.running and not self.container.different: if self.restart: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) self.update_container_result() self.update_container_result(changed=False) elif not self.container.exists: self.container.run() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() elif self.container.stopped and self.container.different: self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() elif self.container.stopped and not self.container.different: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() def make_stopped(self): """"""Run actions if desired state is 'stopped'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() if self.container.stopped: self.update_container_result(changed=False) elif self.container.running: self.container.stop() self.results['actions'].append('stopped %s' % self.container.name) self.update_container_result() def make_absent(self): """"""Run actions if desired state is 'absent'."""""" if not self.container.exists: self.results.update({'changed': False}) elif self.container.exists: self.container.delete() self.results['actions'].append('deleted %s' % self.container.name) self.results.update({'changed': True}) self.results.update({'container': {}, 'podman_actions': self.container.actions}) def execute(self): """"""Execute the desired action according to map of actions & states."""""" states_map = { 'present': self.make_started, 'started': self.make_started, 'absent': self.make_absent, 'stopped': self.make_stopped } process_action = states_map[self.state] process_action() return self.results # self.module.fail_json(msg=""Unexpected logic error happened, "" # ""please contact maintainers ASAP!"") # def calculate_results(self): # changed = any([i.get('changed', False) for i in self.total_results]) # actions = [] # for i in self.total_results: # if 'actions' in i and i['actions']: # actions.append(i['actions']) # containers = [] # self.module.log(""PODMAN_DEBUG: "" + str(self.total_results)) # for i in self.total_results: # if 'container' in i and i['container']: # containers.append(i['container']) # return { # 'changed': changed, # 'actions': actions, # 'podman_actions': actions, # 'containers': containers # } ",,2664,1933
openstack%2Fbifrost~master~I16701c290a1dd1bc18fe6ccb775711fd200e8bd4,openstack/bifrost,master,I16701c290a1dd1bc18fe6ccb775711fd200e8bd4,DNM use baremetal_node_info from collections,ABANDONED,2020-07-28 17:22:25.000000000,2021-04-27 10:27:34.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c60b84a8b62715375696ed023a95205ea0addab', 'message': 'DNM use baremetal_node_info from collections\n\ntesting...\nDepends-On: https://review.opendev.org/#/c/743533/\n\nChange-Id: I16701c290a1dd1bc18fe6ccb775711fd200e8bd4\n'}, {'number': 2, 'created': '2020-07-28 21:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9bc730be15459adf5116dfbe3fa3afb08110dc80', 'message': 'DNM use baremetal_node_info from collections\n\ntesting...\nDepends-On: https://review.opendev.org/#/c/743533/\n\nChange-Id: I16701c290a1dd1bc18fe6ccb775711fd200e8bd4\n'}, {'number': 3, 'created': '2020-07-28 21:59:17.000000000', 'files': ['playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/redeploy-dynamic.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a09f27317f57c129da4d502486a1b8f9ea90dd7b', 'message': 'DNM use baremetal_node_info from collections\n\ntesting...\nDepends-On: https://review.opendev.org/#/c/743533/\n\nChange-Id: I16701c290a1dd1bc18fe6ccb775711fd200e8bd4\n'}]",0,743599,a09f27317f57c129da4d502486a1b8f9ea90dd7b,11,2,3,10969,,,0,"DNM use baremetal_node_info from collections

testing...
Depends-On: https://review.opendev.org/#/c/743533/

Change-Id: I16701c290a1dd1bc18fe6ccb775711fd200e8bd4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/99/743599/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/example-deploy-all-available-nodes.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/redeploy-dynamic.yaml']",4,1c60b84a8b62715375696ed023a95205ea0addab,module," openstack.cloud.baremetal_node_info: openstack.cloud.baremetal_node_info: until: node_info.baremetal_nodes.0.provision_state == ""available"" openstack.cloud.baremetal_node_info: until: node_info.baremetal_nodes.0.provision_state == ""active"""," os_ironic_node_info: os_ironic_node_info: until: node_info.node.provision_state == ""available"" os_ironic_node_info: until: node_info.node.provision_state == ""active""",8,8
openstack%2Ftripleo-quickstart-extras~master~I12bd4477a583771f84627fc49277937fd5472cbb,openstack/tripleo-quickstart-extras,master,I12bd4477a583771f84627fc49277937fd5472cbb,DNM: fail before introspection,ABANDONED,2019-11-25 19:37:14.000000000,2021-04-27 10:27:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-25 19:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/73fafc275f304c4f519d4c02685f672c13706f6a', 'message': 'DNM: fail before introspection\n\nChange-Id: I12bd4477a583771f84627fc49277937fd5472cbb\n'}, {'number': 2, 'created': '2020-03-04 21:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6de774e997a13924b3b83de2ff053fae931ef38', 'message': 'DNM: fail before introspection\n\nChange-Id: I12bd4477a583771f84627fc49277937fd5472cbb\n'}, {'number': 3, 'created': '2020-03-05 09:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b160b34932e7e14cab11f51680ac332fda980bba', 'message': 'DNM: fail before introspection\n\nChange-Id: I12bd4477a583771f84627fc49277937fd5472cbb\n'}, {'number': 4, 'created': '2020-03-08 13:28:30.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3d8f1ee35634b7af2789211e58c334e19495dbc', 'message': 'DNM: fail before introspection\n\nChange-Id: I12bd4477a583771f84627fc49277937fd5472cbb\n'}]",0,695975,a3d8f1ee35634b7af2789211e58c334e19495dbc,13,2,4,10969,,,0,"DNM: fail before introspection

Change-Id: I12bd4477a583771f84627fc49277937fd5472cbb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/695975/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,73fafc275f304c4f519d4c02685f672c13706f6a,failintro,exit 1,,1,1
openstack%2Ftripleo-quickstart-extras~master~I9e5e39017c4e9d8f4fb59889296b73288458aba7,openstack/tripleo-quickstart-extras,master,I9e5e39017c4e9d8f4fb59889296b73288458aba7,WIP: run ansible plugins on undercloud,ABANDONED,2019-12-17 00:21:46.000000000,2021-04-27 10:26:59.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-17 00:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/062f721e4e69f2b5e28a036c996cbece74d79d9a', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 2, 'created': '2019-12-18 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/192a87629e609a24e19fda7265396a237def6e50', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 3, 'created': '2019-12-18 17:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c44efae805c2091a234a8bf6353de4f362ab02f', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 4, 'created': '2019-12-18 17:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ba957921c90589658620c8b4354b3fb7146eff33', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 5, 'created': '2019-12-18 20:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c14b1c7fba481ada697d2b24a2b0112ff9bcfda9', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nDepends-On: https://review.opendev.org/#/c/699867\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 6, 'created': '2019-12-25 05:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a438c316497b8b61fa42b987a16e929807cfa3ee', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nDepends-On: https://review.opendev.org/#/c/699867\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}, {'number': 7, 'created': '2020-01-06 16:40:03.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-setup/defaults/main.yml', 'roles/standalone/templates/standalone.sh.j2', 'roles/standalone/tasks/main.yml', 'roles/undercloud-deploy/templates/ara.cfg.j2', 'roles/undercloud-deploy/templates/dummy.cfg.j2', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/extras-common/defaults/main.yml', 'roles/standalone/defaults/main.yml', 'roles/undercloud-deploy/defaults/main.yml', 'roles/standalone/templates/ara.cfg.j2', 'roles/undercloud-setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f0e39587171d3961340e10cd0f7f1a7d56887be', 'message': 'WIP: run ansible plugins on undercloud\n\nDepends-On: https://review.opendev.org/#/c/699137\nDepends-On: https://review.opendev.org/#/c/699867\nChange-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7\n'}]",0,699314,7f0e39587171d3961340e10cd0f7f1a7d56887be,33,4,7,10969,,,0,"WIP: run ansible plugins on undercloud

Depends-On: https://review.opendev.org/#/c/699137
Depends-On: https://review.opendev.org/#/c/699867
Change-Id: I9e5e39017c4e9d8f4fb59889296b73288458aba7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/14/699314/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-setup/defaults/main.yml', 'roles/standalone/templates/standalone.sh.j2', 'roles/undercloud-deploy/templates/ara.cfg.j2', 'roles/undercloud-deploy/templates/dummy.cfg.j2', 'roles/undercloud-setup/tasks/ansible_cfg.yml', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/defaults/main.yml', 'roles/undercloud-setup/tasks/main.yml']",9,062f721e4e69f2b5e28a036c996cbece74d79d9a,newpl, - undercloud_ara|bool, - undercloud_ansible_cfg|bool and undercloud_ara|bool,42,19
openstack%2Ftripleo-ansible~master~I61acbd7bb15583d04228c575911b897237b1fd99,openstack/tripleo-ansible,master,I61acbd7bb15583d04228c575911b897237b1fd99,DNM test 2.10,ABANDONED,2020-10-28 14:10:58.000000000,2021-04-27 10:25:18.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-28 14:10:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_build/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'ansible-requirements.txt', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'molecule-requirements.txt', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_securetty/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d15297776cbfe79fbfac6a0190cf2451eb6caa92', 'message': 'DNM test 2.10\n\nChange-Id: I61acbd7bb15583d04228c575911b897237b1fd99\n'}]",0,760144,d15297776cbfe79fbfac6a0190cf2451eb6caa92,7,3,1,10969,,,0,"DNM test 2.10

Change-Id: I61acbd7bb15583d04228c575911b897237b1fd99
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/760144/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/main.yml', 'tripleo_ansible/roles/tripleo_create_admin/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timezone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ptp/tasks/main.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nvdimm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/aide/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_build/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_rm/tasks/main.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_stop/tasks/main.yml', 'ansible-requirements.txt', 'tripleo_ansible/roles/tripleo_provision_mcelog/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo_module_load/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/test_package_action/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/tasks/main.yml', 'tripleo_ansible/roles/tripleo_validations_package/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml', 'tripleo_ansible/roles/tuned/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/roles/login_defs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/tripleo_clients_install/tasks/main.yml', 'molecule-requirements.txt', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_securetty/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo_sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml']",56,d15297776cbfe79fbfac6a0190cf2451eb6caa92,,# test ,,110,2
openstack%2Ftripleo-ci~master~Ib467474a74556b8798e326dfac03be8226854934,openstack/tripleo-ci,master,Ib467474a74556b8798e326dfac03be8226854934,Remove update_containers var from environment,ABANDONED,2020-11-04 07:08:06.000000000,2021-04-27 10:25:12.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-11-04 07:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93ec14b017b2ac9517a65df71b4c9ab3a4bdba2d', 'message': ""Remove update_containers var from environment\n\nupdate of containers does not depend on environment and should\nnot be set there, it's moved to release files.\n\nRelated-Bug: #1902190\nChange-Id: Ib467474a74556b8798e326dfac03be8226854934\n""}, {'number': 2, 'created': '2020-11-04 12:52:57.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/229e004f205254260cca99d443bf05ef31b964b0', 'message': ""Remove update_containers var from environment\n\nupdate of containers does not depend on environment and should\nnot be set there, it's moved to release files.\n\nRelated-Bug: #1902190\nChange-Id: Ib467474a74556b8798e326dfac03be8226854934\n""}]",0,761285,229e004f205254260cca99d443bf05ef31b964b0,22,7,2,10969,,,0,"Remove update_containers var from environment

update of containers does not depend on environment and should
not be set there, it's moved to release files.

Related-Bug: #1902190
Change-Id: Ib467474a74556b8798e326dfac03be8226854934
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/761285/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",5,93ec14b017b2ac9517a65df71b4c9ab3a4bdba2d,update_containers,,# Container update settings update_containers: >- {% if containerized_overcloud|bool or containerized_undercloud|bool -%} true {%- endif -%} ,0,31
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I8632835f257f299978ab1753191d4bc0c1e0fa58,openstack/puppet-openstack-integration,stable/train,I8632835f257f299978ab1753191d4bc0c1e0fa58,[Stable only] Ubuntu: pin tempest-horizon,MERGED,2021-03-28 12:32:08.000000000,2021-04-27 10:24:57.000000000,2021-04-27 10:24:57.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:32:08.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c8a49ec8c4d82a95f5500bc64fdab520876e194e', 'message': '[Stable only] Ubuntu: pin tempest-horizon\n\n... because tempest-horizon was already retired.\n\nConflicts:\n\trun_tests.sh\n\nChange-Id: I8632835f257f299978ab1753191d4bc0c1e0fa58\n(cherry picked from commit 20cdafd162057e22ff5b99d9cb43fbdc00600657)\n(cherry picked from commit 9725047089c13ddb86afa2d369b540d662d14abf)\n'}]",0,783573,c8a49ec8c4d82a95f5500bc64fdab520876e194e,12,3,1,9816,,,0,"[Stable only] Ubuntu: pin tempest-horizon

... because tempest-horizon was already retired.

Conflicts:
	run_tests.sh

Change-Id: I8632835f257f299978ab1753191d4bc0c1e0fa58
(cherry picked from commit 20cdafd162057e22ff5b99d9cb43fbdc00600657)
(cherry picked from commit 9725047089c13ddb86afa2d369b540d662d14abf)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/783573/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,c8a49ec8c4d82a95f5500bc64fdab520876e194e,, # For ubuntu we always need to deploy tempest-horizon from source git clone https://opendev.org/openstack/tempest-horizon /tmp/openstack/tempest-horizon pushd /tmp/openstack/tempest-horizon git reset --hard 0.2.0 $SUDO pip3 install . popd , # TODO(tkajinam): This should be fixed since the tempest-horizon repo # has been retired. # For ubuntu we always need to deploy tempest-horizon from source if uses_debs; then if [ -d /home/zuul/src/opendev.org/openstack/tempest-horizon ]; then [ ! -d /tmp/openstack ] && mkdir -p /tmp/openstack cp -R /home/zuul/src/opendev.org/openstack/tempest-horizon /tmp/openstack/tempest-horizon else git clone -b 0.2.0 https://opendev.org/openstack/tempest-horizon /tmp/openstack/tempest-horizon fi fi # TODO(tkajinam): This should be fixed since the tempest-horizon repo # has been retired. # For ubuntu we always need to deploy tempest-horizon from source if uses_debs; then $SUDO rm -rf /tmp/openstack/tempest-horizon git clone -b 0.2.0 https://opendev.org/openstack/tempest-horizon /tmp/openstack/tempest-horizon fi cd /tmp/openstack/tempest-horizon;,8,19
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I0bae1f8e304e7f879fa3975f69067ff3864fd4ba,openstack/puppet-openstack-integration,stable/train,I0bae1f8e304e7f879fa3975f69067ff3864fd4ba,Do not reset tempest version in CI,MERGED,2021-03-28 12:32:08.000000000,2021-04-27 10:24:51.000000000,2021-04-27 10:24:51.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:32:08.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9d1da4776a3a4d2b93f1148d571899f401df6921', 'message': ""Do not reset tempest version in CI\n\nIn CI jobs we fetch the specific version of tempest and use the files\ncloned already, so we don't need to reset its version explicitly.\n\nConflicts:\n\trun_tests.sh\n\nResolved conflicts caused by the existing logic for version pin.\nThe same pin is implemented by relying on the version defined in job\nrequirements.\n\nChange-Id: I0bae1f8e304e7f879fa3975f69067ff3864fd4ba\n(cherry picked from commit 3ac64d4f459481cfffbc408f4ff516eeebeef70e)\n(cherry picked from commit 557e6220f6da44f8b621a944d457d6ff2ad7d66e)\n(cherry picked from commit b744187f76d6249e02915f1b6cd46c2df39e62a0)\n""}]",0,783572,9d1da4776a3a4d2b93f1148d571899f401df6921,8,3,1,9816,,,0,"Do not reset tempest version in CI

In CI jobs we fetch the specific version of tempest and use the files
cloned already, so we don't need to reset its version explicitly.

Conflicts:
	run_tests.sh

Resolved conflicts caused by the existing logic for version pin.
The same pin is implemented by relying on the version defined in job
requirements.

Change-Id: I0bae1f8e304e7f879fa3975f69067ff3864fd4ba
(cherry picked from commit 3ac64d4f459481cfffbc408f4ff516eeebeef70e)
(cherry picked from commit 557e6220f6da44f8b621a944d457d6ff2ad7d66e)
(cherry picked from commit b744187f76d6249e02915f1b6cd46c2df39e62a0)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/72/783572/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,9d1da4776a3a4d2b93f1148d571899f401df6921,," git clone https://opendev.org/openstack/tempest /tmp/openstack/tempest # Pin Tempest to TEMPEST_VERSION unless we're running inside the # openstack/tempest gate. if [[ ""${ZUUL_PROJECT}"" != ""openstack/tempest"" ]]; then pushd /tmp/openstack/tempest git reset --hard $TEMPEST_VERSION popd fi"," git clone -b 23.0.0 https://opendev.org/openstack/tempest /tmp/openstack/tempest fi # Pin Tempest to TEMPEST_VERSION unless we're running inside the # openstack/tempest gate. if [[ ""${ZUUL_PROJECT}"" != ""openstack/tempest"" ]]; then pushd /tmp/openstack/tempest git reset --hard $TEMPEST_VERSION popd",8,8
openstack%2Ftripleo-quickstart~master~Ibc87a786b8b8d08b750386b04ff39444d9f980cd,openstack/tripleo-quickstart,master,Ibc87a786b8b8d08b750386b04ff39444d9f980cd,DNM test ansible 2.10 for CI,ABANDONED,2020-10-14 13:50:27.000000000,2021-04-27 10:24:48.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-14 13:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66019a5f86e2bf5fedcf7b38f2e452f7a9c3e34a', 'message': 'DNM test ansible 2.10 for CI\n\nChange-Id: Ibc87a786b8b8d08b750386b04ff39444d9f980cd\n'}, {'number': 2, 'created': '2020-10-14 19:43:52.000000000', 'files': ['requirements.txt', 'roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/templates/repo_setup.sh.j2', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f8bfce2edaa0f497ef91c7a306a518fe666d1e7d', 'message': 'DNM test ansible 2.10 for CI\n\nChange-Id: Ibc87a786b8b8d08b750386b04ff39444d9f980cd\n'}]",0,758128,f8bfce2edaa0f497ef91c7a306a518fe666d1e7d,11,4,2,10969,,,0,"DNM test ansible 2.10 for CI

Change-Id: Ibc87a786b8b8d08b750386b04ff39444d9f980cd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/758128/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'roles/repo-setup/templates/repo_setup.sh.j2', 'molecule-requirements.txt']",3,66019a5f86e2bf5fedcf7b38f2e452f7a9c3e34a,,ansible,"ansible>=2.9,<2.10",3,2
openstack%2Fansible-role-collect-logs~master~Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d,openstack/ansible-role-collect-logs,master,Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d,DNM container logs,ABANDONED,2020-12-17 14:14:10.000000000,2021-04-27 10:24:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-17 14:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/815ba35ce4f639f75089d70db092fcc3779f37ca', 'message': 'DNM container logs\n\nChange-Id: Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d\n'}, {'number': 2, 'created': '2020-12-17 14:17:20.000000000', 'files': ['files/collect-container-logs.sh', 'tasks/collect/container.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/51b0d15cd55220cc8a33fc18104202ae58ad59b2', 'message': 'DNM container logs\n\nChange-Id: Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d\n'}]",0,767562,51b0d15cd55220cc8a33fc18104202ae58ad59b2,5,2,2,10969,,,0,"DNM container logs

Change-Id: Ic29260eda0ec6ed8867ba144ce8f3e5a76bc626d
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/62/767562/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/collect/container.yml'],1,815ba35ce4f639f75089d70db092fcc3779f37ca,, {{ artcl_container_collect_timeout|string }} bash -x /tmp/collect-container-logs.sh 2>&1 | tee /home/{{ undercloud_user }}/workspace/logs/container_collect.log, {{ artcl_container_collect_timeout|string }} bash -x /tmp/collect-container-logs.sh,2,1
openstack%2Ftripleo-quickstart~master~I5727781785e685bd4a576d2574d8975b8a0a56fb,openstack/tripleo-quickstart,master,I5727781785e685bd4a576d2574d8975b8a0a56fb,Remove pinning of container tools,ABANDONED,2020-12-23 14:20:45.000000000,2021-04-27 10:24:05.000000000,,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-23 14:20:45.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/centosci/ussuri-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5ec275effd14ad4ef72630c12cfeb680b0e1c521', 'message': 'Remove pinning of container tools\n\nChange-Id: I5727781785e685bd4a576d2574d8975b8a0a56fb\n'}]",0,768347,5ec275effd14ad4ef72630c12cfeb680b0e1c521,6,4,1,10969,,,0,"Remove pinning of container tools

Change-Id: I5727781785e685bd4a576d2574d8975b8a0a56fb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/47/768347/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/victoria.yml', 'config/release/tripleo-ci/CentOS-8/cloudsig/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/centosci/ussuri-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",14,5ec275effd14ad4ef72630c12cfeb680b0e1c521,,, sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:2.0 -y;,0,28
openstack%2Fpuppet-designate~master~Ie64f8134545fefd2150c8ea6d8b17d9551020d38,openstack/puppet-designate,master,Ie64f8134545fefd2150c8ea6d8b17d9551020d38,Fix a typo in file header,MERGED,2021-04-20 16:05:54.000000000,2021-04-27 10:23:40.000000000,2021-04-27 10:23:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:05:54.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/06d0ac8959f80022c2482f40d87266f8f417ee24', 'message': 'Fix a typo in file header\n\nChange-Id: Ie64f8134545fefd2150c8ea6d8b17d9551020d38\n'}]",0,787231,06d0ac8959f80022c2482f40d87266f8f417ee24,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: Ie64f8134545fefd2150c8ea6d8b17d9551020d38
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/31/787231/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,06d0ac8959f80022c2482f40d87266f8f417ee24,hc-typo,# == Class: designate::healthcheck,# == Define: designate::healthcheck,1,1
openstack%2Fpython-tripleoclient~master~I256d74216947c3551620e1ce9cb4587ceb80c41d,openstack/python-tripleoclient,master,I256d74216947c3551620e1ce9cb4587ceb80c41d,DNM test sc007,ABANDONED,2021-02-04 01:27:09.000000000,2021-04-27 10:23:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-04 01:27:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e1ed427ca9072f86f48fac049bbc4d1825fd498', 'message': 'DNM test sc007\n\nChange-Id: I256d74216947c3551620e1ce9cb4587ceb80c41d\n'}]",0,774027,8e1ed427ca9072f86f48fac049bbc4d1825fd498,3,1,1,10969,,,0,"DNM test sc007

Change-Id: I256d74216947c3551620e1ce9cb4587ceb80c41d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/774027/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8e1ed427ca9072f86f48fac049bbc4d1825fd498,test, - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: *sa_consumer_vars dependencies: *cprovider,,3,0
openstack%2Ftripleo-common~stable%2Fussuri~I072edaf232004a6118b956614490460efb40fbfc,openstack/tripleo-common,stable/ussuri,I072edaf232004a6118b956614490460efb40fbfc,Refactor buildah logging,ABANDONED,2020-11-06 19:29:56.000000000,2021-04-27 10:23:19.000000000,,"[{'_account_id': 6681}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-06 19:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/51ddbf2725c47c4a29eec8a5db14e4e6dce2ec2f', 'message': ""Refactor buildah logging\n\n- Add .BuildahBuilder to logging for easier identification\n- move log instance creation to class\n- Add logging configuration\n- Replace a few prints with log\n\nOld Log in containers-build-errors.log:\nProcessing containers: ['base']\nBuilding base image with:\n\nNew Log in containers-build-errors.log\n2020-10-30 18:50:10.847 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Processing containers: ['cinder-cooldriver2', 'cinder-cooldriver']\n2020-10-30 18:50:10.848 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Building cinder-cooldriver2 image with: sudo buildah\n\nDepends-On: https://review.opendev.org/#/c/760980/\nChange-Id: I072edaf232004a6118b956614490460efb40fbfc\n""}, {'number': 2, 'created': '2021-02-09 15:18:59.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06a0e2be7ed4e40574a4d4027670f5c5810673de', 'message': ""Refactor buildah logging\n\n- Add .BuildahBuilder to logging for easier identification\n- move log instance creation to class\n- Add logging configuration\n- Replace a few prints with log\n\nOld Log in containers-build-errors.log:\nProcessing containers: ['base']\nBuilding base image with:\n\nNew Log in containers-build-errors.log\n2020-10-30 18:50:10.847 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Processing containers: ['cinder-cooldriver2', 'cinder-cooldriver']\n2020-10-30 18:50:10.848 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Building cinder-cooldriver2 image with: sudo buildah\n\nDepends-On: https://review.opendev.org/#/c/760980/\nChange-Id: I072edaf232004a6118b956614490460efb40fbfc\n""}]",24,761787,06a0e2be7ed4e40574a4d4027670f5c5810673de,51,6,2,10969,,,0,"Refactor buildah logging

- Add .BuildahBuilder to logging for easier identification
- move log instance creation to class
- Add logging configuration
- Replace a few prints with log

Old Log in containers-build-errors.log:
Processing containers: ['base']
Building base image with:

New Log in containers-build-errors.log
2020-10-30 18:50:10.847 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Processing containers: ['cinder-cooldriver2', 'cinder-cooldriver']
2020-10-30 18:50:10.848 865001 INFO tripleo_common.image.builder.buildah.BuildahBuilder [-] Building cinder-cooldriver2 image with: sudo buildah

Depends-On: https://review.opendev.org/#/c/760980/
Change-Id: I072edaf232004a6118b956614490460efb40fbfc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/761787/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,51ddbf2725c47c4a29eec8a5db14e4e6dce2ec2f,refactor_buildah_log-stable/ussuri,"from oslo_config import cfgCONF = cfg.CONF log = logging.getLogger(__name__ + "".BuildahBuilder"") logging.register_options(CONF) logging.setup(CONF, '') self.log.error('Container not found in Kolla ' 'deps: %s' % container_name) self.log.info(""Building %s image with: %s"" % (container_name, ' '.join(args))) self.log.info(""Pushing %s image with: %s"" % (destination, ' '.join(args))) self.log.debug(""All container deps: {}"".format(container_deps)) for containers in container_deps: self.log.info(""Processing containers: {}"".format(containers)) self.log.debug(""Process deps: {}"".format(deps)) self.log.debug(""Recursing with: {}"".format(value)) self.log.debug(""Recursing with: {}"".format(item)) self.log.debug(""Constructed containers: {}"".format(containers))","LOG = logging.getLogger(__name__) LOG.error('Container not found in Kolla ' 'deps: %s' % container_name) print(""Building %s image with: %s"" % (container_name, ' '.join(args))) print(""Pushing %s image with: %s"" % (destination, ' '.join(args))) LOG.debug(""All container deps: {}"".format(container_deps)) for containers in container_deps: LOG.info(""Processing containers: {}"".format(containers)) LOG.debug(""Process deps: {}"".format(deps)) LOG.debug(""Recursing with: {}"".format(value)) LOG.debug(""Recursing with: {}"".format(item)) LOG.debug(""Constructed containers: {}"".format(containers))",19,11
openstack%2Ftripleo-ci~master~I6d5b28d8c7362706532fde402233cd6abf9c9c17,openstack/tripleo-ci,master,I6d5b28d8c7362706532fde402233cd6abf9c9c17,DNM test CI jobs,ABANDONED,2021-03-07 15:56:41.000000000,2021-04-27 10:20:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-07 15:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24af437efc2955fcf84ebdc5d8725acf6f69808b', 'message': 'DNM test CI jobs\n\nChange-Id: I6d5b28d8c7362706532fde402233cd6abf9c9c17\n'}, {'number': 2, 'created': '2021-03-08 07:09:01.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/023bd9fd58d22ed0d63954c1845bdc3e1f65305f', 'message': 'DNM test CI jobs\n\nChange-Id: I6d5b28d8c7362706532fde402233cd6abf9c9c17\n'}]",0,779102,023bd9fd58d22ed0d63954c1845bdc3e1f65305f,9,2,2,10969,,,0,"DNM test CI jobs

Change-Id: I6d5b28d8c7362706532fde402233cd6abf9c9c17
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/779102/2 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",13,24af437efc2955fcf84ebdc5d8725acf6f69808b,c8stream-test,# test,,13,0
openstack%2Ftripleo-common~master~I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,openstack/tripleo-common,master,I919a63d7572a875d354ebe1d9b4a2f60ae455ba9,DNM centos8 stream tests,ABANDONED,2021-03-08 07:36:02.000000000,2021-04-27 10:20:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 07:36:02.000000000', 'files': ['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'tripleo_common/actions/baremetal.py', 'container-images/kolla/base/start.sh', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/kolla/rabbitmq/extend_start.sh', 'tripleo_common/templates/deployments.yaml', 'tripleo_common/image/image_builder.py', 'zuul.d/layout.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fcafc1f136cd6ce25d838086863bbb70ac2118ef', 'message': 'DNM centos8 stream tests\n\nChange-Id: I919a63d7572a875d354ebe1d9b4a2f60ae455ba9\n'}]",6,779166,fcafc1f136cd6ce25d838086863bbb70ac2118ef,6,2,1,10969,,,0,"DNM centos8 stream tests

Change-Id: I919a63d7572a875d354ebe1d9b4a2f60ae455ba9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/779166/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'tripleo_common/actions/baremetal.py', 'container-images/kolla/base/start.sh', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/kolla/rabbitmq/extend_start.sh', 'tripleo_common/templates/deployments.yaml', 'tripleo_common/image/image_builder.py', 'zuul.d/layout.yaml', 'image-yaml/overcloud-images.yaml']",14,fcafc1f136cd6ce25d838086863bbb70ac2118ef,c8stream-test, # test,,26,15
openstack%2Ftripleo-quickstart~master~If7bcef036a50bf1afc68ff8d595c1c761eacddab,openstack/tripleo-quickstart,master,If7bcef036a50bf1afc68ff8d595c1c761eacddab,DNM test branch OVB,ABANDONED,2021-03-08 07:24:37.000000000,2021-04-27 10:20:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 07:24:37.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e01eb5d1fe94ad37dcbaef77c5b03d172318f016', 'message': 'DNM test branch OVB\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767070\nChange-Id: If7bcef036a50bf1afc68ff8d595c1c761eacddab\n'}]",0,779162,e01eb5d1fe94ad37dcbaef77c5b03d172318f016,4,2,1,10969,,,0,"DNM test branch OVB

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/767070
Change-Id: If7bcef036a50bf1afc68ff8d595c1c761eacddab
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/62/779162/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,e01eb5d1fe94ad37dcbaef77c5b03d172318f016,,# test',,1,0
openstack%2Ftripleo-heat-templates~master~I507999fe624732517df73ef87c84c8cd8d701566,openstack/tripleo-heat-templates,master,I507999fe624732517df73ef87c84c8cd8d701566,DNM test master 8 stream,ABANDONED,2021-03-08 07:30:55.000000000,2021-04-27 10:20:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 07:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cc91ec1adfe64503e0065e7a76f8375cb351899', 'message': 'DNM test master 8 stream\n\nChange-Id: I507999fe624732517df73ef87c84c8cd8d701566\n'}, {'number': 2, 'created': '2021-03-08 07:31:32.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'environments/undercloud.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario013-standalone.yaml', 'container_config_scripts/pyshim.sh', 'ci/network_data.yaml', 'environments/login-defs.yaml', 'tools/make_ceph_disk_list.py', 'ci/environments/scenario001-standalone.yaml', 'environments/barbican-backend-dogtag.yaml', 'environments/backup-and-restore/rear.yaml', 'network/networks.j2.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'container_config_scripts/pacemaker_mutex_restart_bundle.sh', 'environments/storage/cinder-netapp-config.yaml', 'environments/debug.yaml', 'zuul.d/layout.yaml', 'ci/environments/neutron_l3_qos.yaml', 'ci/environments/standalone-ipa.yaml', 'environments/networks-disable.j2.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'environments/neutron-l2gw.yaml', 'ci/environments/ceph-min-osds.yaml', 'overcloud.j2.yaml', 'ci/environments/multinode-core.yaml', 'ci/environments/octavia-kvm.yaml', 'ci/environments/scenario007-standalone.yaml', 'environments/overcloud-baremetal.j2.yaml', 'roles/Compute.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'ci/environments/scenario012-standalone.yaml', 'environments/deployed-server-environment.j2.yaml', 'ci/environments/scenario004-standalone.yaml', 'environments/cavium-liquidio.yaml', 'environments/podman.yaml', 'ci/environments/multinode-containers.yaml', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9811d057f1b2469b2fa815f036ffb0939d2a0146', 'message': 'DNM test master 8 stream\n\nChange-Id: I507999fe624732517df73ef87c84c8cd8d701566\n'}]",0,779165,9811d057f1b2469b2fa815f036ffb0939d2a0146,6,2,2,10969,,,0,"DNM test master 8 stream

Change-Id: I507999fe624732517df73ef87c84c8cd8d701566
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/779165/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'environments/undercloud.yaml', 'ci/environments/scenario003-standalone.yaml', 'ci/environments/ovb-ha.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario013-standalone.yaml', 'container_config_scripts/pyshim.sh', 'ci/network_data.yaml', 'environments/login-defs.yaml', 'tools/make_ceph_disk_list.py', 'ci/environments/scenario001-standalone.yaml', 'environments/barbican-backend-dogtag.yaml', 'environments/backup-and-restore/rear.yaml', 'network/networks.j2.yaml', 'extraconfig/all_nodes/swap.j2.yaml', 'container_config_scripts/pacemaker_mutex_restart_bundle.sh', 'environments/storage/cinder-netapp-config.yaml', 'environments/debug.yaml', 'ci/environments/neutron_l3_qos.yaml', 'ci/environments/standalone-ipa.yaml', 'environments/networks-disable.j2.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario002-standalone.yaml', 'environments/neutron-l2gw.yaml', 'ci/environments/ceph-min-osds.yaml', 'overcloud.j2.yaml', 'ci/environments/multinode-core.yaml', 'ci/environments/octavia-kvm.yaml', 'ci/environments/scenario007-standalone.yaml', 'environments/overcloud-baremetal.j2.yaml', 'roles/Compute.yaml', 'puppet/extraconfig/tls/ca-inject.yaml', 'ci/environments/scenario012-standalone.yaml', 'environments/deployed-server-environment.j2.yaml', 'ci/environments/scenario004-standalone.yaml', 'environments/cavium-liquidio.yaml', 'environments/podman.yaml', 'ci/environments/multinode-containers.yaml', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'environments/standalone/standalone-overcloud.yaml']",42,4cc91ec1adfe64503e0065e7a76f8375cb351899,c8stream-test,# dsfhsdlfh # dsfhsdlfh ,,86,1
openstack%2Ftripleo-common~stable%2Fussuri~I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,openstack/tripleo-common,stable/ussuri,I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f,DNM centos8 stream tests - ussuri,ABANDONED,2021-03-08 08:05:55.000000000,2021-04-27 10:19:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 08:05:55.000000000', 'files': ['container-images/tcib/base/cron/cron.yaml', 'tripleo_common/templates/deployment.j2', 'workbooks/baremetal.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'container-images/container_image_prepare_defaults.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/tripleo_kolla_config_overrides.conf', 'tripleo_common/image/builder/__init__.py', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a10e9ebc9f83b70b89e73b54a98009719b64e7ca', 'message': 'DNM centos8 stream tests - ussuri\n\nChange-Id: I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f\n'}]",0,779171,a10e9ebc9f83b70b89e73b54a98009719b64e7ca,6,2,1,10969,,,0,"DNM centos8 stream tests - ussuri

Change-Id: I40813ca2ffd6bf2b2b808e72607822f1f2fdbe7f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/779171/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/cron/cron.yaml', 'tripleo_common/templates/deployment.j2', 'workbooks/baremetal.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'container-images/container_image_prepare_defaults.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/tripleo_kolla_config_overrides.conf', 'tripleo_common/image/builder/__init__.py', 'image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml', 'container-images/tripleo_containers.yaml']",13,a10e9ebc9f83b70b89e73b54a98009719b64e7ca,c8stream-test, # test,,25,0
openstack%2Ftripleo-common~stable%2Ftrain~I84730035ef01289f1022ed61094ce686775279e0,openstack/tripleo-common,stable/train,I84730035ef01289f1022ed61094ce686775279e0,DNM centos8 stream tests - train,ABANDONED,2021-03-08 08:03:25.000000000,2021-04-27 10:19:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 08:03:25.000000000', 'files': ['tripleo_common/utils/common.py', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'tripleo_common/image/kolla_builder.py', 'workbooks/stack.yaml', 'tripleo_common/actions/scale.py', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5caa115f84cad632ee0b4b7b5290754470e56de6', 'message': 'DNM centos8 stream tests - train\n\nChange-Id: I84730035ef01289f1022ed61094ce686775279e0\n'}]",0,779169,5caa115f84cad632ee0b4b7b5290754470e56de6,6,2,1,10969,,,0,"DNM centos8 stream tests - train

Change-Id: I84730035ef01289f1022ed61094ce686775279e0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/779169/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/common.py', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'tripleo_common/image/kolla_builder.py', 'workbooks/stack.yaml', 'tripleo_common/actions/scale.py', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-images.yaml']",7,5caa115f84cad632ee0b4b7b5290754470e56de6,c8stream-test, # test,,10,0
openstack%2Ftripleo-quickstart~master~I1157334e41a58c7985b185b16383ede3ba8929e2,openstack/tripleo-quickstart,master,I1157334e41a58c7985b185b16383ede3ba8929e2,DNM testing 3party jobs with patch,ABANDONED,2021-03-03 12:58:41.000000000,2021-04-27 10:19:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 12:58:41.000000000', 'files': ['config/general_config/featureset039.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset002.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c470828d0b78166debb26a6a12be314d07db4184', 'message': 'DNM testing 3party jobs with patch\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/777952\nChange-Id: I1157334e41a58c7985b185b16383ede3ba8929e2\n'}]",2,778455,c470828d0b78166debb26a6a12be314d07db4184,9,2,1,10969,,,0,"DNM testing 3party jobs with patch

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/777952
Change-Id: I1157334e41a58c7985b185b16383ede3ba8929e2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/55/778455/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset039.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset002.yml']",4,c470828d0b78166debb26a6a12be314d07db4184,,# test,,4,4
openstack%2Ftripleo-ci~master~I0aee555987fb0b3920e29c00c91f26697f4a2753,openstack/tripleo-ci,master,I0aee555987fb0b3920e29c00c91f26697f4a2753,DNM test ansible 2.10 for CI,ABANDONED,2020-10-15 09:01:01.000000000,2021-04-27 10:19:46.000000000,,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-15 09:01:01.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'zuul.d/base.yaml', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2f4f23c318c181dfa08a50c746a1d47f4a446f97', 'message': 'DNM test ansible 2.10 for CI\n\nDepends-On: https://review.opendev.org/#/c/758128/\nChange-Id: I0aee555987fb0b3920e29c00c91f26697f4a2753\n'}]",0,758369,2f4f23c318c181dfa08a50c746a1d47f4a446f97,13,4,1,10969,,,0,"DNM test ansible 2.10 for CI

Depends-On: https://review.opendev.org/#/c/758128/
Change-Id: I0aee555987fb0b3920e29c00c91f26697f4a2753
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/758369/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run-v3.yaml', 'zuul.d/base.yaml', '.pre-commit-config.yaml']",3,2f4f23c318c181dfa08a50c746a1d47f4a446f97,, - 'ansible<2.11', - 'ansible<2.10',3,1
openstack%2Fpuppet-manila~master~I540ed926ca7adcc1663f3814ba29492eb777701b,openstack/puppet-manila,master,I540ed926ca7adcc1663f3814ba29492eb777701b,Add support for healthcheck middleware options,MERGED,2021-04-20 16:14:52.000000000,2021-04-27 10:19:36.000000000,2021-04-27 10:18:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:14:52.000000000', 'files': ['spec/classes/manila_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-a8866f3194375299.yaml', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/626b4a03f989e8eafee668dbbc62080279d3d6df', 'message': 'Add support for healthcheck middleware options\n\nDepends-on: https://review.opendev.org/772202\nChange-Id: I540ed926ca7adcc1663f3814ba29492eb777701b\n'}]",0,787259,626b4a03f989e8eafee668dbbc62080279d3d6df,8,3,1,9816,,,0,"Add support for healthcheck middleware options

Depends-on: https://review.opendev.org/772202
Change-Id: I540ed926ca7adcc1663f3814ba29492eb777701b
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/59/787259/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_healthcheck_spec.rb', 'releasenotes/notes/healthcheck-a8866f3194375299.yaml', 'manifests/healthcheck.pp']",3,626b4a03f989e8eafee668dbbc62080279d3d6df,healthcheck,"# == Class: manila::healthcheck # # Configure oslo_middleware options in healthcheck section # # == Params # # [*detailed*] # (Optional) Show more detailed information as part of the response. # Defaults to $::os_service_default # # [*backends*] # (Optional) Additional backends that can perform health checks and report # that information back as part of a request. # Defaults to $::os_service_default # # [*disable_by_file_path*] # (Optional) Check the presense of a file to determine if an application # is running on a port. # Defaults to $::os_service_default # # [*disable_by_file_paths*] # (Optional) Check the presense of a file to determine if an application # is running on a port. Expects a ""port:path"" list of strings. # Defaults to $::os_service_default # class manila::healthcheck ( $detailed = $::os_service_default, $backends = $::os_service_default, $disable_by_file_path = $::os_service_default, $disable_by_file_paths = $::os_service_default, ) { include manila::deps oslo::healthcheck { 'manila_config': detailed => $detailed, backends => $backends, disable_by_file_path => $disable_by_file_path, disable_by_file_paths => $disable_by_file_paths, } } ",,101,0
openstack%2Ftripleo-ansible~master~I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,openstack/tripleo-ansible,master,I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81,DNM test containers w/o no_log,ABANDONED,2021-04-06 13:05:53.000000000,2021-04-27 10:19:23.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 13:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcc67ee0f52da33fd7c9a5a56f3cf2ce9e6ffee9', 'message': 'DNM test containers w/o no_log\n\nChange-Id: I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81\n'}, {'number': 2, 'created': '2021-04-06 13:11:47.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/007cb0b7779348e99e125cbbdfa43fe798ce04fa', 'message': 'DNM test containers w/o no_log\n\nChange-Id: I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81\n'}]",0,784948,007cb0b7779348e99e125cbbdfa43fe798ce04fa,5,3,2,10969,,,0,"DNM test containers w/o no_log

Change-Id: I495ca5296e7c2e3d5e8fa650e2fd2dd9d19c0f81
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/784948/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/defaults/main.yml'],1,bcc67ee0f52da33fd7c9a5a56f3cf2ce9e6ffee9,,tripleo_container_manage_hide_sensitive_logs: false,"tripleo_container_manage_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}""",1,1
openstack%2Fpuppet-sahara~master~Ib772b44cc7a3c944ac44efe692253b3215af59c8,openstack/puppet-sahara,master,Ib772b44cc7a3c944ac44efe692253b3215af59c8,Do not include sahara::policy in base class,MERGED,2021-04-22 03:02:54.000000000,2021-04-27 10:18:05.000000000,2021-04-27 10:18:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 03:02:54.000000000', 'files': ['manifests/init.pp', 'spec/classes/sahara_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/a9b46a3e94c7663ff8e87d636dd572454bae5928', 'message': 'Do not include sahara::policy in base class\n\n... because oslo_policy parameters are only used in api and the class\nis already included in sahara::service::api.\n\nChange-Id: Ib772b44cc7a3c944ac44efe692253b3215af59c8\n'}]",0,787467,a9b46a3e94c7663ff8e87d636dd572454bae5928,7,3,1,9816,,,0,"Do not include sahara::policy in base class

... because oslo_policy parameters are only used in api and the class
is already included in sahara::service::api.

Change-Id: Ib772b44cc7a3c944ac44efe692253b3215af59c8
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/67/787467/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/sahara_init_spec.rb']",2,a9b46a3e94c7663ff8e87d636dd572454bae5928,,, it { is_expected.to contain_class('sahara::policy') },0,2
openstack%2Fpuppet-ceilometer~stable%2Fstein~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/stein,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-02-01 13:28:32.000000000,2021-04-27 10:17:13.000000000,2021-04-27 10:15:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 13:28:32.000000000', 'files': ['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ec536b2cbdcc2f19c7c91a4942167f1177c4abdc', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)\n(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)\n(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)\n(cherry picked from commit d502884411343c862cf056fc2bf25ec6342548dc)\n'}]",0,773213,ec536b2cbdcc2f19c7c91a4942167f1177c4abdc,8,3,1,9816,,,0,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)
(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)
(cherry picked from commit d502884411343c862cf056fc2bf25ec6342548dc)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/13/773213/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml']",4,ec536b2cbdcc2f19c7c91a4942167f1177c4abdc,bug/1911852-stable/victoria-stable/ussuri-stable/train-stable/stein,"--- fixes: - | Now the default meters use disk.device metrics instead of disk metrics, so that disk performance data can be captured by default. ",,15,14
openstack%2Ftooz~master~Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,openstack/tooz,master,Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b,Retry on redis connection errors,MERGED,2021-03-05 10:34:58.000000000,2021-04-27 10:17:04.000000000,2021-04-27 10:15:38.000000000,"[{'_account_id': 4264}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 10:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/407ec67c244ed6e999fcd4d3c89e32b6f0faaf6b', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n'}, {'number': 2, 'created': '2021-03-08 10:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/3cc35b034c70202c99f0a4642ce9189f652ba694', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nDepends-on: https://review.opendev.org/c/openstack/tooz/+/779161\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n'}, {'number': 3, 'created': '2021-03-30 13:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/8b8160123e709ced59228daaebec87d0a2de50c0', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n'}, {'number': 4, 'created': '2021-03-31 07:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/c36ac8c31a33eb95ddc988f6b4760737b44562ba', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n'}, {'number': 5, 'created': '2021-03-31 08:49:52.000000000', 'files': ['requirements.txt', 'tooz/drivers/redis.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/a025b4d4ee9fe1bd722960ea03445034580bec6f', 'message': 'Retry on redis connection errors\n\nSometimes, connections get closed by the server. This change\nadds retrying to the code.\n\nChange-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b\n'}]",10,778878,a025b4d4ee9fe1bd722960ea03445034580bec6f,26,4,5,4264,,,0,"Retry on redis connection errors

Sometimes, connections get closed by the server. This change
adds retrying to the code.

Change-Id: Iaab5ce609c0dcf7085f5dd43efbd37eb4b88f17b
",git fetch https://review.opendev.org/openstack/tooz refs/changes/78/778878/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/drivers/redis.py'],1,407ec67c244ed6e999fcd4d3c89e32b6f0faaf6b,redis_connection,"import tenacity @tenacity.retry(wait=tenacity.wait_exponential(multiplier=0.5, max=60), stop=tenacity.stop_after_attempt(5), retry=tenacity.retry_if_exception_type( exceptions.ConnectionError)) def heartbeat(self): try: except exceptions.RedisError as e: utils.raise_with_cause(tooz.ToozError, encodeutils.exception_to_unicode(e), cause=e) except exceptions.TimeoutError as e: utils.raise_with_cause(coordination.ToozConnectionError, encodeutils.exception_to_unicode(e), cause=e) ", def heartbeat(self): with _translate_failures():,15,1
openstack%2Ftripleo-quickstart~master~Ice9ec44edc7c65b075800fc2c0924b188aed488e,openstack/tripleo-quickstart,master,Ice9ec44edc7c65b075800fc2c0924b188aed488e,DNM install RPM of ansible-collections-openstack,ABANDONED,2021-04-06 14:19:09.000000000,2021-04-27 10:13:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 14:19:09.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ee2b0c227e1af82baaa7ff79086d3128eda2694', 'message': 'DNM install RPM of ansible-collections-openstack\n\ntesting...\nChange-Id: Ice9ec44edc7c65b075800fc2c0924b188aed488e\n'}]",0,784966,6ee2b0c227e1af82baaa7ff79086d3128eda2694,4,2,1,10969,,,0,"DNM install RPM of ansible-collections-openstack

testing...
Change-Id: Ice9ec44edc7c65b075800fc2c0924b188aed488e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/66/784966/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,6ee2b0c227e1af82baaa7ff79086d3128eda2694,col, ansible-collections-openstack,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0a57374c5b58f5953b079b6690ecc77887ec8751,openstack/tripleo-heat-templates,stable/train,I0a57374c5b58f5953b079b6690ecc77887ec8751,Add OVN chassis macs to hieradata,MERGED,2021-03-24 14:06:06.000000000,2021-04-27 10:11:09.000000000,2021-04-27 10:11:09.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-24 14:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf317fb6094473bb07eb7d0d294e441b2e7e902e', 'message': 'Add OVN chassis macs to hieradata\n\nAdd the tempalte in tripleo-ansible to the list of\nhieradata_templates in common/hiera-steps-tasks.yaml\n\nDepends-On: https://review.opendev.org/733719\nRelated-Bug: #1881593\nChange-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751\n(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)\n(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)\n'}, {'number': 2, 'created': '2021-04-13 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d6419706c89bd51eb64f693320f23f247513ccc', 'message': 'Add OVN chassis macs to hieradata\n\nAdd the tempalte in tripleo-ansible to the list of\nhieradata_templates in common/hiera-steps-tasks.yaml\n\nDepends-On: https://review.opendev.org/733719\nRelated-Bug: #1881593\nChange-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751\n(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)\n(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)\n'}, {'number': 3, 'created': '2021-04-14 07:27:54.000000000', 'files': ['common/hiera-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2445de761e2b4255f99f79de3992b4d2e2330939', 'message': 'Add OVN chassis macs to hieradata\n\nAdd the tempalte in tripleo-ansible to the list of\nhieradata_templates in common/hiera-steps-tasks.yaml\n\nDepends-On: https://review.opendev.org/782741\nRelated-Bug: #1881593\nChange-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751\n(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)\n(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)\n'}]",0,782753,2445de761e2b4255f99f79de3992b4d2e2330939,25,7,3,11082,,,0,"Add OVN chassis macs to hieradata

Add the tempalte in tripleo-ansible to the list of
hieradata_templates in common/hiera-steps-tasks.yaml

Depends-On: https://review.opendev.org/782741
Related-Bug: #1881593
Change-Id: I0a57374c5b58f5953b079b6690ecc77887ec8751
(cherry picked from commit 77e56441f1a9ef62feea59109f3574d00fbb9694)
(cherry picked from commit 02e2fbada5d7c8988ea9992f170f53b828261614)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/782753/1 && git format-patch -1 --stdout FETCH_HEAD,['common/hiera-steps-tasks.yaml'],1,bf317fb6094473bb07eb7d0d294e441b2e7e902e,change-782753-2, - ovn_chassis_mac_map,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9e53187f37d41d7180e66db1239b5f9c8846addd,openstack/tripleo-heat-templates,stable/victoria,I9e53187f37d41d7180e66db1239b5f9c8846addd,Add RootStackName to group_vars,MERGED,2021-04-23 14:01:36.000000000,2021-04-27 10:10:53.000000000,2021-04-27 10:10:53.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-23 14:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b6c0a715aa2032bb3d5958809eae0926e21191f', 'message': 'Add RootStackName to group_vars\n\nAfter a Overcloud deployment, /etc/hosts on the undercloud\nwill be populated with entries for each overcloud node. Since\nwe use the same tripleo_ansible roles for both the undercloud\nand overcloud deployment, the /etc/hosts file on the Director\nwill be removed by undercloud install / upgrade operations.\n\nThis is outlined here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1933528\n\nThis change adds the RootStackName to the group_vars,\nthis is then used by the tripleo_host_entries role in\ntripleo-ansible to write host entries per stack.\n\nCloses-Bug: #1924751\nRHBZ: 1933528\nChange-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd\n'}, {'number': 2, 'created': '2021-04-23 14:09:41.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50c089a1f6bb125be19d4a80c666ee8089684006', 'message': 'Add RootStackName to group_vars\n\nAfter a Overcloud deployment, /etc/hosts on the undercloud\nwill be populated with entries for each overcloud node. Since\nwe use the same tripleo_ansible roles for both the undercloud\nand overcloud deployment, the /etc/hosts file on the Director\nwill be removed by undercloud install / upgrade operations.\n\nThis is outlined here:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1933528\n\nThis change adds the RootStackName to the group_vars,\nthis is then used by the tripleo_host_entries role in\ntripleo-ansible to write host entries per stack.\n\nCloses-Bug: #1924751\nResolves: rhbz#1933528\nChange-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd\n'}]",0,787746,50c089a1f6bb125be19d4a80c666ee8089684006,12,5,2,30073,,,0,"Add RootStackName to group_vars

After a Overcloud deployment, /etc/hosts on the undercloud
will be populated with entries for each overcloud node. Since
we use the same tripleo_ansible roles for both the undercloud
and overcloud deployment, the /etc/hosts file on the Director
will be removed by undercloud install / upgrade operations.

This is outlined here:
https://bugzilla.redhat.com/show_bug.cgi?id=1933528

This change adds the RootStackName to the group_vars,
this is then used by the tripleo_host_entries role in
tripleo-ansible to write host entries per stack.

Closes-Bug: #1924751
Resolves: rhbz#1933528
Change-Id: I9e53187f37d41d7180e66db1239b5f9c8846addd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/787746/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,0b6c0a715aa2032bb3d5958809eae0926e21191f,fix_hosts_entries-stable/victora, RootStackName: description: The name of the stack/plan. type: string tripleo_stack_name: {get_param: RootStackName},,5,0
openstack%2Ftripleo-heat-templates~master~If29d8ad8e1658f2d4f320deaca038579a7115dd8,openstack/tripleo-heat-templates,master,If29d8ad8e1658f2d4f320deaca038579a7115dd8,Migrate nova cron parameters to NovaApi service,MERGED,2021-04-21 13:50:25.000000000,2021-04-27 10:10:32.000000000,2021-04-27 10:10:32.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-04-21 13:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d88eeaeb409bb0c29b17eba89a9a141a3e954414', 'message': 'Migrate nova cron parameters to NovaApi service\n\n... beucause these parameters are associated with cron containers\ndefined in the NovaApi service.\n\nChange-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8\n'}, {'number': 2, 'created': '2021-04-23 12:46:29.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e30ed962460f532d97eeff3007a34544386f433', 'message': 'Migrate nova cron parameters to NovaApi service\n\n... beucause these parameters are associated with cron containers\ndefined in the NovaApi service.\n\nChange-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8\n'}]",5,787370,0e30ed962460f532d97eeff3007a34544386f433,23,8,2,9816,,,0,"Migrate nova cron parameters to NovaApi service

... beucause these parameters are associated with cron containers
defined in the NovaApi service.

Change-Id: If29d8ad8e1658f2d4f320deaca038579a7115dd8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/787370/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,d88eeaeb409bb0c29b17eba89a9a141a3e954414,nova-cron-params,," NovaCronArchiveDeleteRowsMinute: type: string description: > Cron to move deleted instances to another table - Minute default: '1' NovaCronArchiveDeleteRowsHour: type: string description: > Cron to move deleted instances to another table - Hour default: '0' NovaCronArchiveDeleteRowsMonthday: type: string description: > Cron to move deleted instances to another table - Month Day default: '*' NovaCronArchiveDeleteRowsMonth: type: string description: > Cron to move deleted instances to another table - Month default: '*' NovaCronArchiveDeleteRowsWeekday: type: string description: > Cron to move deleted instances to another table - Week Day default: '*' NovaCronArchiveDeleteRowsMaxRows: type: string description: > Cron to move deleted instances to another table - Max Rows default: '1000' NovaCronArchiveDeleteRowsUser: type: string description: > Cron to move deleted instances to another table - User default: 'nova' NovaCronArchiveDeleteRowsDestination: type: string description: > Cron to move deleted instances to another table - Log destination default: '/var/log/nova/nova-rowsflush.log' NovaCronArchiveDeleteRowsMaxDelay: type: string description: > Cron to move deleted instances to another table - Max Delay default: '3600' NovaCronArchiveDeleteRowsUntilComplete: type: boolean description: > Cron to move deleted instances to another table - Until complete default: true NovaCronArchiveDeleteRowsPurge: type: boolean description: > Purge shadow tables immediately after scheduled archiving default: false NovaCronArchiveDeleteAllCells: type: boolean description: > Archive deleted instances from all cells default: true NovaCronArchiveDeleteRowsAge: type: number description: > Cron to archive deleted instances - Age This will define the retention policy when archiving the deleted instances entries in days. 0 means, purge data older than today in shadow tables. default: 90 NovaCronPurgeShadowTablesMinute: type: string description: > Cron to purge shadow tables - Minute default: '0' NovaCronPurgeShadowTablesHour: type: string description: > Cron to purge shadow tables - Hour default: '5' NovaCronPurgeShadowTablesMonthday: type: string description: > Cron to purge shadow tables - Month Day default: '*' NovaCronPurgeShadowTablesMonth: type: string description: > Cron to purge shadow tables - Month default: '*' NovaCronPurgeShadowTablesWeekday: type: string description: > Cron to purge shadow tables - Week Day default: '*' NovaCronPurgeShadowTablesUser: type: string description: > Cron to purge shadow tables - User default: 'nova' NovaCronPurgeShadowTablesDestination: type: string description: > Cron to purge shadow tables - Log destination default: '/var/log/nova/nova-rowspurge.log' NovaCronPurgeShadowTablesMaxDelay: type: string description: > Cron to purge shadow tables - Max Delay default: '3600' NovaCronPurgeShadowTablesAge: type: number description: > Cron to purge shadow tables - Age This will define the retention policy when purging the shadow tables in days. 0 means, purge data older than today in shadow tables. default: 14 NovaCronPurgeShadowTablesVerbose: type: boolean description: > Cron to purge shadow tables - Verbose default: false NovaCronPurgeShadowTablesAllCells: type: boolean description: > Cron to purge shadow tables - All cells default: true nova::cron::archive_deleted_rows::minute: {get_param: NovaCronArchiveDeleteRowsMinute} nova::cron::archive_deleted_rows::hour: {get_param: NovaCronArchiveDeleteRowsHour} nova::cron::archive_deleted_rows::monthday: {get_param: NovaCronArchiveDeleteRowsMonthday} nova::cron::archive_deleted_rows::month: {get_param: NovaCronArchiveDeleteRowsMonth} nova::cron::archive_deleted_rows::weekday: {get_param: NovaCronArchiveDeleteRowsWeekday} nova::cron::archive_deleted_rows::max_rows: {get_param: NovaCronArchiveDeleteRowsMaxRows} nova::cron::archive_deleted_rows::user: {get_param: NovaCronArchiveDeleteRowsUser} nova::cron::archive_deleted_rows::destination: {get_param: NovaCronArchiveDeleteRowsDestination} nova::cron::archive_deleted_rows::maxdelay: {get_param: NovaCronArchiveDeleteRowsMaxDelay} nova::cron::archive_deleted_rows::until_complete: {get_param: NovaCronArchiveDeleteRowsUntilComplete} nova::cron::archive_deleted_rows::purge: {get_param: NovaCronArchiveDeleteRowsPurge} nova::cron::archive_deleted_rows::all_cells: {get_param: NovaCronArchiveDeleteAllCells} nova::cron::archive_deleted_rows::age: {get_param: NovaCronArchiveDeleteRowsAge} nova::cron::purge_shadow_tables::minute: {get_param: NovaCronPurgeShadowTablesMinute} nova::cron::purge_shadow_tables::hour: {get_param: NovaCronPurgeShadowTablesHour} nova::cron::purge_shadow_tables::monthday: {get_param: NovaCronPurgeShadowTablesMonthday} nova::cron::purge_shadow_tables::month: {get_param: NovaCronPurgeShadowTablesMonth} nova::cron::purge_shadow_tables::weekday: {get_param: NovaCronPurgeShadowTablesWeekday} nova::cron::purge_shadow_tables::user: {get_param: NovaCronPurgeShadowTablesUser} nova::cron::purge_shadow_tables::destination: {get_param: NovaCronPurgeShadowTablesDestination} nova::cron::purge_shadow_tables::maxdelay: {get_param: NovaCronPurgeShadowTablesMaxDelay} nova::cron::purge_shadow_tables::age: {get_param: NovaCronPurgeShadowTablesAge} nova::cron::purge_shadow_tables::verbose: {get_param: NovaCronPurgeShadowTablesVerbose} nova::cron::purge_shadow_tables::all_cells: {get_param: NovaCronPurgeShadowTablesAllCells}",156,154
openstack%2Ftripleo-ansible~stable%2Ftrain~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/train,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:26:53.000000000,2021-04-27 10:10:27.000000000,2021-04-27 10:10:27.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-22 07:26:53.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bfd32e74ee95f57fb9e7f6856ed409b937f10846', 'message': 'Compute VIPs using net_vip_map instead of hiera\n\nThis change provides two improvements:\n1. VIPs are computed using the existing net_vip_map instead of running\n   hiera commands;\n2. the monitoring_stack_vip (on the storage network) is provided for\n   both prometheus and alertmanager: these two services are not exposed\n   but we need the ceph_mgr being aware about the vip.\n\nDepends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/\n\nChange-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01\n(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)\n'}]",0,787496,bfd32e74ee95f57fb9e7f6856ed409b937f10846,9,7,1,25402,,,0,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/787496/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml'],1,bfd32e74ee95f57fb9e7f6856ed409b937f10846,," ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) | combine({ 'prometheus_frontend_vip': monitoring_stack_vip | default()}) | combine({ 'alertmanager_frontend_vip': monitoring_stack_vip | default()}) }}"" {% set dashboard_vip = control_virtual_ip %} {% if 'StorageDashboard' in enabled_networks %} {% set dashboard_vip = net_vip_map.get('storage_dashboard') %} {% endif %} {{ dashboard_vip }} monitoring_stack_vip: |- {% set monitoring_vip = control_virtual_ip %} {% if 'Storage' in enabled_networks %} {% set monitoring_vip = net_vip_map.get('storage') %} {% endif %} {{ monitoring_vip }}"," - name: get the frontend_dashboard_vip from the overcloud vars command: ""hiera -c /etc/puppet/hiera.yaml ceph_dashboard_vip"" register: frontend_vip become: true delegate_to: ""{{ groups['mgrs'][0] }}"" ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) }}"" {% set dashboard_vip = control_virtual_ip %} {% if frontend_vip.stdout != ""nil"" %} {% set dashboard_vip = frontend_vip.stdout %} {% endif %} {{ dashboard_vip }}",14,11
openstack%2Fpuppet-aodh~master~I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,openstack/puppet-aodh,master,I8beee8a794b6607875fbc7a46ccc1e58c0c344b5,Support batch_* parameters of notifier,MERGED,2021-04-23 14:00:44.000000000,2021-04-27 10:10:12.000000000,2021-04-27 10:08:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 14:00:44.000000000', 'files': ['releasenotes/notes/notifier-batch-tunables-071a8d510dd808e2.yaml', 'manifests/notifier.pp', 'spec/classes/aodh_notifier_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/86aa1e34e9853ff731d45ed92327c1b4df0ae771', 'message': 'Support batch_* parameters of notifier\n\nThis change introduces support for batch_* parameters in notifier,\nwhich are tunable parameters about batch processing of alarms.\n\nChange-Id: I8beee8a794b6607875fbc7a46ccc1e58c0c344b5\n'}]",0,787745,86aa1e34e9853ff731d45ed92327c1b4df0ae771,8,3,1,9816,,,0,"Support batch_* parameters of notifier

This change introduces support for batch_* parameters in notifier,
which are tunable parameters about batch processing of alarms.

Change-Id: I8beee8a794b6607875fbc7a46ccc1e58c0c344b5
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/45/787745/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/notifier-batch-tunables-071a8d510dd808e2.yaml', 'manifests/notifier.pp', 'spec/classes/aodh_notifier_spec.rb']",3,86aa1e34e9853ff731d45ed92327c1b4df0ae771,notifier-opts," context 'with batch parameters' do let :params do { :batch_size => 100, :batch_timeout => 60, } end it 'configures batch options' do is_expected.to contain_aodh_config('notifier/batch_size').with_value(100) is_expected.to contain_aodh_config('notifier/batch_timeout').with_value(60) end end is_expected.to contain_aodh_config('notifier/batch_size').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('notifier/batch_timeout').with_value('<SERVICE DEFAULT>')",,39,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I57f84757a229feb4e7d94ec912d723bf02392c88,openstack/puppet-openstack-integration,stable/train,I57f84757a229feb4e7d94ec912d723bf02392c88,Ubuntu: Install neutron-tempest-plugin from source,MERGED,2021-03-28 12:24:59.000000000,2021-04-27 10:05:58.000000000,2021-04-27 10:05:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:24:59.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/94c55e67c8acab8cdf2c4b046a786f02007c0d31', 'message': ""Ubuntu: Install neutron-tempest-plugin from source\n\nIt seems the current latest version of neutron-tempest-plugin available\nin pip is not compatible with the latest tempest. Let's install it\nfrom source so that we can always install the version compatible with\ntempest.\n\nNote:\nAdded version pin for stable backports.\n\nConflicts:\n\trun_tests.sh\n\nResolved conflict caused by the version pin implemented with pip.\n\nChange-Id: I57f84757a229feb4e7d94ec912d723bf02392c88\n(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)\n(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)\n(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)\n""}]",2,783571,94c55e67c8acab8cdf2c4b046a786f02007c0d31,13,6,1,9816,,,0,"Ubuntu: Install neutron-tempest-plugin from source

It seems the current latest version of neutron-tempest-plugin available
in pip is not compatible with the latest tempest. Let's install it
from source so that we can always install the version compatible with
tempest.

Note:
Added version pin for stable backports.

Conflicts:
	run_tests.sh

Resolved conflict caused by the version pin implemented with pip.

Change-Id: I57f84757a229feb4e7d94ec912d723bf02392c88
(cherry picked from commit 7b8b11a8cfe98e6b2f08c3edc6b9b9222edeb937)
(cherry picked from commit 2e4793c0707274e90d7d8ebf7c2b4a01d432f2b7)
(cherry picked from commit c325bcf568d6f0dfeaa9dfca92782e88ec4eed5a)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/783571/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,94c55e67c8acab8cdf2c4b046a786f02007c0d31,, $SUDO apt install -y python3-pip git clone https://opendev.org/openstack/neutron-tempest-plugin /tmp/openstack/neutron-tempest-plugin pushd /tmp/openstack/neutron-tempest-plugin git reset --hard 0.9.0 $SUDO pip3 install . popd, $SUDO pip install neutron-tempest-plugin==0.9.0,6,1
openstack%2Fmistral-extra~stable%2Fwallaby~If2f3fb78481227442a0d6820a9654690d9a37db8,openstack/mistral-extra,stable/wallaby,If2f3fb78481227442a0d6820a9654690d9a37db8,Update .gitreview for stable/wallaby,MERGED,2021-03-19 18:05:47.000000000,2021-04-27 09:47:35.000000000,2021-04-27 09:46:07.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/6d4e416a4ec224655c6e8ee1938c91361ce38e45', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: If2f3fb78481227442a0d6820a9654690d9a37db8\n'}, {'number': 2, 'created': '2021-04-27 08:57:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/d34df63c3aa88e9cade80a8bfc99a594ede043f1', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: If2f3fb78481227442a0d6820a9654690d9a37db8\n'}]",0,781832,d34df63c3aa88e9cade80a8bfc99a594ede043f1,9,2,2,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: If2f3fb78481227442a0d6820a9654690d9a37db8
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/32/781832/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6d4e416a4ec224655c6e8ee1938c91361ce38e45,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fpuppet-octavia~master~I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,openstack/puppet-octavia,master,I05bff1f2c9c40dad6e5bfb5ef988f6859638378b,Fix a typo in file header,MERGED,2021-04-20 16:09:53.000000000,2021-04-27 09:28:47.000000000,2021-04-27 09:28:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:09:53.000000000', 'files': ['manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/cba4a35d8b0549add28c0716e0cdddd2a77a1eb0', 'message': 'Fix a typo in file header\n\nChange-Id: I05bff1f2c9c40dad6e5bfb5ef988f6859638378b\n'}]",0,787256,cba4a35d8b0549add28c0716e0cdddd2a77a1eb0,7,3,1,9816,,,0,"Fix a typo in file header

Change-Id: I05bff1f2c9c40dad6e5bfb5ef988f6859638378b
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/56/787256/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/healthcheck.pp'],1,cba4a35d8b0549add28c0716e0cdddd2a77a1eb0,hc-typo,# == Class: octavia::healthcheck,# == Define: octavia::healthcheck,1,1
openstack%2Ftripleo-heat-templates~master~I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,openstack/tripleo-heat-templates,master,I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74,Run update tasks with become,MERGED,2021-04-14 08:42:44.000000000,2021-04-27 09:19:40.000000000,2021-04-27 09:19:40.000000000,"[{'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-14 08:42:44.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992', 'message': 'Run update tasks with become\n\nMake it aligned with the upgrade tasks, what uses become as well\n\nChange-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,786179,dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992,9,6,1,6926,,,0,"Run update tasks with become

Make it aligned with the upgrade tasks, what uses become as well

Change-Id: I58da2c214c5a9cf013bc7719649e0d0d4f3a6f74
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/786179/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,dc52f3c9498e4f0fb8dcc685f2ebd14b43d2f992,, become: true,,1,0
openstack%2Fpuppet-openstack-cookiecutter~master~I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,openstack/puppet-openstack-cookiecutter,master,I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c,Add support for oslo_policy/policy_dirs,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:57.000000000,2021-04-27 09:18:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 02:57:55.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/f21b7007d03023b6367ebf61f003fa7d3f73ea2d', 'message': 'Add support for oslo_policy/policy_dirs\n\nChange-Id: I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c\n'}]",0,787466,f21b7007d03023b6367ebf61f003fa7d3f73ea2d,7,3,1,9816,,,0,"Add support for oslo_policy/policy_dirs

Change-Id: I9ddd46e3b6f2dc9abd36ad7e821e6598ab71689c
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/66/787466/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp']",2,f21b7007d03023b6367ebf61f003fa7d3f73ea2d,policy,"# [*policy_dirs*] # (Optional) Path to the {{cookiecutter.project_name}} policy folder # Defaults to $::os_service_default # $policy_dirs = $::os_service_default, policy_file => $policy_path, policy_dirs => $policy_dirs,", policy_file => $policy_path,9,1
openstack%2Fkolla-ansible~master~I758b803251d42d7555421af1086f3e58a5669128,openstack/kolla-ansible,master,I758b803251d42d7555421af1086f3e58a5669128,CI: cephadm: retry OSD tasks,ABANDONED,2021-04-13 12:53:20.000000000,2021-04-27 09:18:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-13 12:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7a178453f1285f6da4f6958008f5fcf756f1386', 'message': 'CI: cephadm: wait after applying cluster spec\n\nIn some cases the task that applies OSDs is running too fast after the apply\nspec task - which results in cephadm container not cleaning up after itself -\nand leaving traces in /run/cephadm.\n\nExample:\n\n2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]\n2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host \'primary\'\n2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089\n2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):\n2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command\n2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)\n2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command\n2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd[\'prefix\']].call(self, cmd, inbuf)\n2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call\n2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)\n2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>\n2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)\n2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper\n2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)\n2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd\n2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)\n2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception\n2021-04-13 12:40:24.160107 | primary |     raise e\n2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):\n2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>\n2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid\n2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image\n2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume\n2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__\n2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: \'/run/cephadm\'\n2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>\n2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):\n2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__\n2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release\n2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked\n2021-04-13 12:40:24.161288 | primary | AttributeError: \'FileLock\' object has no attribute \'_lock_file_fd\'\n\nChange-Id: I758b803251d42d7555421af1086f3e58a5669128\n'}, {'number': 2, 'created': '2021-04-13 13:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bab5f5b20ccafd585f6aa70fa3e4564454ca7b1e', 'message': 'CI: cephadm: wait after applying cluster spec\n\nIn some cases the task that applies OSDs is running too fast after the apply\nspec task - which results in cephadm container not cleaning up after itself -\nand leaving traces in /run/cephadm.\n\nExample:\n\n2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]\n2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host \'primary\'\n2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089\n2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):\n2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command\n2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)\n2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command\n2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd[\'prefix\']].call(self, cmd, inbuf)\n2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call\n2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)\n2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>\n2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)\n2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper\n2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)\n2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd\n2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)\n2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception\n2021-04-13 12:40:24.160107 | primary |     raise e\n2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):\n2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>\n2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid\n2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image\n2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume\n2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__\n2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: \'/run/cephadm\'\n2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>\n2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):\n2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__\n2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release\n2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked\n2021-04-13 12:40:24.161288 | primary | AttributeError: \'FileLock\' object has no attribute \'_lock_file_fd\'\n\nChange-Id: I758b803251d42d7555421af1086f3e58a5669128\n'}, {'number': 3, 'created': '2021-04-13 13:42:50.000000000', 'files': ['roles/cephadm/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fecf7dc47299ed6f53387c431d99b8d49fe7d76', 'message': 'CI: cephadm: retry OSD tasks\n\nIn some cases the task that applies OSDs is running too fast after the apply\nspec task - which results in cephadm container not cleaning up after itself.\nThis change adds retries to that task.\n\nExample:\n\n2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]\n2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host \'primary\'\n2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089\n2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96\n2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config\n2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535\n2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):\n2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command\n2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)\n2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command\n2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd[\'prefix\']].call(self, cmd, inbuf)\n2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call\n2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)\n2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>\n2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)\n2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper\n2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)\n2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd\n2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)\n2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception\n2021-04-13 12:40:24.160107 | primary |     raise e\n2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):\n2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>\n2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid\n2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image\n2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume\n2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__\n2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: \'/run/cephadm\'\n2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>\n2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):\n2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__\n2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release\n2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked\n2021-04-13 12:40:24.161288 | primary | AttributeError: \'FileLock\' object has no attribute \'_lock_file_fd\'\n\nChange-Id: I758b803251d42d7555421af1086f3e58a5669128\n'}]",2,786043,4fecf7dc47299ed6f53387c431d99b8d49fe7d76,10,2,3,22629,,,0,"CI: cephadm: retry OSD tasks

In some cases the task that applies OSDs is running too fast after the apply
spec task - which results in cephadm container not cleaning up after itself.
This change adds retries to that task.

Example:

2021-04-13 12:40:07.796208 | LOOP [cephadm : Add osds]
2021-04-13 12:40:17.117011 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:17.117662 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:17.117852 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:17.117998 | primary | Created osd(s) 0 on host 'primary'
2021-04-13 12:40:17.118244 | primary | ok: Item: primary:/dev/cephvg/cephlv Runtime: 0:00:08.636089
2021-04-13 12:40:24.158371 | primary | Inferring fsid 3c301e8c-9c55-11eb-b7d6-fa163efc0d96
2021-04-13 12:40:24.158579 | primary | Inferring config /var/lib/ceph/3c301e8c-9c55-11eb-b7d6-fa163efc0d96/mon.primary/config
2021-04-13 12:40:24.158676 | primary | Using recent ceph image ceph/ceph@sha256:030e84addad8f3a7d26ea49b180660f1a9b33ef06d691759f320a58e892fb535
2021-04-13 12:40:24.158770 | primary | Error EINVAL: Traceback (most recent call last):
2021-04-13 12:40:24.158861 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 1204, in _handle_command
2021-04-13 12:40:24.158950 | primary |     return self.handle_command(inbuf, cmd)
2021-04-13 12:40:24.159039 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 140, in handle_command
2021-04-13 12:40:24.159127 | primary |     return dispatch[cmd['prefix']].call(self, cmd, inbuf)
2021-04-13 12:40:24.159215 | primary |   File ""/usr/share/ceph/mgr/mgr_module.py"", line 320, in call
2021-04-13 12:40:24.159303 | primary |     return self.func(mgr, **kwargs)
2021-04-13 12:40:24.159392 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 102, in <lambda>
2021-04-13 12:40:24.159481 | primary |     wrapper_copy = lambda *l_args, **l_kwargs: wrapper(*l_args, **l_kwargs)
2021-04-13 12:40:24.159624 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 91, in wrapper
2021-04-13 12:40:24.159752 | primary |     return func(*args, **kwargs)
2021-04-13 12:40:24.159843 | primary |   File ""/usr/share/ceph/mgr/orchestrator/module.py"", line 781, in _daemon_add_osd
2021-04-13 12:40:24.159931 | primary |     raise_if_exception(completion)
2021-04-13 12:40:24.160019 | primary |   File ""/usr/share/ceph/mgr/orchestrator/_interface.py"", line 642, in raise_if_exception
2021-04-13 12:40:24.160107 | primary |     raise e
2021-04-13 12:40:24.160195 | primary | RuntimeError: cephadm exited with an error code: 1, stderr:Traceback (most recent call last):
2021-04-13 12:40:24.160286 | primary |   File ""<stdin>"", line 6153, in <module>
2021-04-13 12:40:24.160399 | primary |   File ""<stdin>"", line 1311, in _infer_fsid
2021-04-13 12:40:24.160489 | primary |   File ""<stdin>"", line 1394, in _infer_image
2021-04-13 12:40:24.160577 | primary |   File ""<stdin>"", line 3605, in command_ceph_volume
2021-04-13 12:40:24.160665 | primary |   File ""<stdin>"", line 781, in __init__
2021-04-13 12:40:24.160758 | primary | FileExistsError: [Errno 17] File exists: '/run/cephadm'
2021-04-13 12:40:24.160848 | primary | Exception ignored in: <bound method FileLock.__del__ of <__main__.FileLock object at 0x7f50db923320>>
2021-04-13 12:40:24.160936 | primary | Traceback (most recent call last):
2021-04-13 12:40:24.161024 | primary |   File ""<stdin>"", line 899, in __del__
2021-04-13 12:40:24.161112 | primary |   File ""<stdin>"", line 876, in release
2021-04-13 12:40:24.161200 | primary |   File ""<stdin>"", line 798, in is_locked
2021-04-13 12:40:24.161288 | primary | AttributeError: 'FileLock' object has no attribute '_lock_file_fd'

Change-Id: I758b803251d42d7555421af1086f3e58a5669128
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/786043/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/tasks/main.yml'],1,c7a178453f1285f6da4f6958008f5fcf756f1386,,- name: Wait until cephadm cleans up wait_for: path: /run/cephadm state: absent ,,5,0
openstack%2Fpuppet-openstack-cookiecutter~master~Id2f7990cd9743db38b4991f67f2de6b9636cb528,openstack/puppet-openstack-cookiecutter,master,Id2f7990cd9743db38b4991f67f2de6b9636cb528,Add support for oslo_policy/enforce_new_defaults,MERGED,2021-04-22 02:57:55.000000000,2021-04-27 09:18:05.000000000,2021-04-27 09:18:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 02:57:55.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/952503a3c2c43f6098be4645e71e23fa7ff024a3', 'message': 'Add support for oslo_policy/enforce_new_defaults\n\nChange-Id: Id2f7990cd9743db38b4991f67f2de6b9636cb528\n'}]",0,787465,952503a3c2c43f6098be4645e71e23fa7ff024a3,7,3,1,9816,,,0,"Add support for oslo_policy/enforce_new_defaults

Change-Id: Id2f7990cd9743db38b4991f67f2de6b9636cb528
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/65/787465/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp']",2,952503a3c2c43f6098be4645e71e23fa7ff024a3,policy,"# [*enforce_new_defaults*] # (Optional) Whether or not to use old deprecated defaults when evaluating # policies. # Defaults to $::os_service_default. # $enforce_scope = $::os_service_default, $enforce_new_defaults = $::os_service_default, $policies = {}, $policy_path = '/etc/{{cookiecutter.project_name}}/policy.yaml', enforce_scope => $enforce_scope, enforce_new_defaults => $enforce_new_defaults, policy_file => $policy_path"," $enforce_scope = $::os_service_default, $policies = {}, $policy_path = '/etc/{{cookiecutter.project_name}}/policy.yaml', enforce_scope => $enforce_scope, policy_file => $policy_path",19,10
openstack%2Ftenks~master~I3499944939aa717a382d87f5c90236499539de60,openstack/tenks,master,I3499944939aa717a382d87f5c90236499539de60,Fix ansible lint,MERGED,2021-03-24 10:35:37.000000000,2021-04-27 09:08:34.000000000,2021-04-27 09:05:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-03-24 10:35:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tenks/commit/945a79bc0b7123d8195c64320eaea5c0ac436470', 'message': 'Fix ansible lint\n\nAnsible-lint is failing on physical-network.yml, which is a tasks file\nrather than a playbook. Specify the two top-level playbooks only, and\nansible-lint will follow the includes.\n\nChange-Id: I3499944939aa717a382d87f5c90236499539de60\n'}]",0,782682,945a79bc0b7123d8195c64320eaea5c0ac436470,7,3,1,14826,,,0,"Fix ansible lint

Ansible-lint is failing on physical-network.yml, which is a tasks file
rather than a playbook. Specify the two top-level playbooks only, and
ansible-lint will follow the includes.

Change-Id: I3499944939aa717a382d87f5c90236499539de60
",git fetch https://review.opendev.org/openstack/tenks refs/changes/82/782682/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,945a79bc0b7123d8195c64320eaea5c0ac436470,," {toxinidir}/ansible/deploy.yml \ {toxinidir}/ansible/teardown.yml"""," $(find {toxinidir}/ansible -path '*.yml' \ -not -path '{toxinidir}/ansible/roles/*.*/*' -print)""",2,2
openstack%2Fkolla~stable%2Fussuri~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/ussuri,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-26 16:57:34.000000000,2021-04-27 08:58:05.000000000,2021-04-27 08:56:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e971e7fcc58dc11b65183736bb957a9e73e5b6aa', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 2, 'created': '2021-04-26 17:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4b7885fc0b5cf3c9fc8c1496db7c08f81a7a06a1', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 3, 'created': '2021-04-26 17:06:27.000000000', 'files': ['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.debian', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c366a5ca1799d5c85df60fdda21167806bcca6e6', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}]",2,787984,c366a5ca1799d5c85df60fdda21167806bcca6e6,16,4,3,30491,,,0,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/787984/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.debian', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu']",7,e971e7fcc58dc11b65183736bb957a9e73e5b6aa,,<<<<<<< HEAD (c80ac9 [CI] Publish images to quay.io on a daily basis)======= #deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main >>>>>>> CHANGE (cbf437 rabbitmq: Move to packagecloud)<<<<<<< HEAD (c80ac9 [CI] Publish images to quay.io on a daily basis)======= #deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu focal main >>>>>>> CHANGE (cbf437 rabbitmq: Move to packagecloud),,59,24
openstack%2Fswift~master~Ic36827397b0e607cc9962ac6b1428b3434202049,openstack/swift,master,Ic36827397b0e607cc9962ac6b1428b3434202049,relinker: add aggregate data to recon drop,NEW,2021-04-27 07:04:00.000000000,2021-04-27 08:35:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-27 07:04:00.000000000', 'files': ['swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a85f062e6685a36aaa33704cded66ed3d48c2de1', 'message': 'relinker: add aggregate data to recon drop\n\nThis patch starts a new collate process to intermittently collate the\ndevice stats into overall and per policy stats. And places this under\n\'aggregate\':\n  {\n      ""aggregate"": {\n          ""parts_done"": 1029,\n          ""policies"": {\n              ""1"": {\n                  ""parts_done"": 1029,\n                  ""start_time"": 1618998724.845616,\n                  ""stats"": {\n                      ""errors"": 0,\n                      ""files"": 1630,\n                      ""hash_dirs"": 1630,\n                      ""linked"": 1630,\n                      ""removed"": 0\n                  },\n                  ""timestamp"": 1618998730.24672,\n                  ""total_parts"": 1029,\n                  ""total_time"": 5.400741815567017\n              }\n          },\n          ""start_time"": 1618998724.845616,\n          ""stats"": {\n              ""errors"": 0,\n              ""files"": 1630,\n              ""hash_dirs"": 1630,\n              ""linked"": 1630,\n              ""policies"": 1,\n              ""removed"": 0\n          },\n          ""timestamp"": 1618998730.24672,\n          ""total_parts"": 1029,\n          ""total_time"": 5.400741815567017\n      },\n      \'devices\': {...},\n      \'workers: {}\n  }\n\nChange-Id: Ic36827397b0e607cc9962ac6b1428b3434202049\n'}]",0,788177,a85f062e6685a36aaa33704cded66ed3d48c2de1,2,1,1,7233,,,0,"relinker: add aggregate data to recon drop

This patch starts a new collate process to intermittently collate the
device stats into overall and per policy stats. And places this under
'aggregate':
  {
      ""aggregate"": {
          ""parts_done"": 1029,
          ""policies"": {
              ""1"": {
                  ""parts_done"": 1029,
                  ""start_time"": 1618998724.845616,
                  ""stats"": {
                      ""errors"": 0,
                      ""files"": 1630,
                      ""hash_dirs"": 1630,
                      ""linked"": 1630,
                      ""removed"": 0
                  },
                  ""timestamp"": 1618998730.24672,
                  ""total_parts"": 1029,
                  ""total_time"": 5.400741815567017
              }
          },
          ""start_time"": 1618998724.845616,
          ""stats"": {
              ""errors"": 0,
              ""files"": 1630,
              ""hash_dirs"": 1630,
              ""linked"": 1630,
              ""policies"": 1,
              ""removed"": 0
          },
          ""timestamp"": 1618998730.24672,
          ""total_parts"": 1029,
          ""total_time"": 5.400741815567017
      },
      'devices': {...},
      'workers: {}
  }

Change-Id: Ic36827397b0e607cc9962ac6b1428b3434202049
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/788177/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",4,a85f062e6685a36aaa33704cded66ed3d48c2de1,relinker_extra_stats_ptg,"import signal dump_recon_cache, load_recon_cachedef collate_stats(recon_cache): collated_stats = _zero_collated_stats() policies = {} recon_stats = load_recon_cache(recon_cache) or {} for stats in recon_stats.get(""devices"", {}).values(): if 'policies' in stats: for idx, new_stats in stats['policies'].items(): if idx not in policies: policies[idx] = _zero_collated_stats() policies[idx] = _aggregate_recon_stats(policies[idx], new_stats) collated_stats = _aggregate_recon_stats(collated_stats, stats) collated_stats['stats']['policies'] = len(policies) collated_stats['policies'] = policies return {'aggregate': collated_stats} def cleanup_finalize_recon(recon_cache, logger): # Do a final aggregate of the device stats stats = collate_stats(recon_cache) dump_recon_cache(stats, recon_cache, logger) def collate_stats_proc(recon_cache, logger, interval): interval = non_negative_float(interval) while True: time.sleep(interval) stats = collate_stats(recon_cache) dump_recon_cache(stats, recon_cache, logger) cleanup_finalize_recon(recon_cache, logger) # start collate stat process, if you start it with workers is 0 then we # wont run the collate_pid. It makes it easier to debug. collate_pid = os.fork() if collate_pid == 0: os._exit(collate_stats_proc(recon_cache, logger, conf.get('recon_interval'))) if collate_pid: os.kill(collate_pid, signal.SIGTERM) cleanup_finalize_recon(recon_cache, logger)", dump_recon_cache,187,11
openstack%2Fswift~master~I74adda0385ad4e30cb09fa2604d070694707293b,openstack/swift,master,I74adda0385ad4e30cb09fa2604d070694707293b,Recommend setting recon_cache_path in [DEFAULT] section,NEW,2021-04-26 19:33:34.000000000,2021-04-27 08:05:31.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 19:33:34.000000000', 'files': ['etc/container-server.conf-sample', 'etc/account-server.conf-sample', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/d54b432c296acca46afd3411ca2a772cd3006d62', 'message': 'Recommend setting recon_cache_path in [DEFAULT] section\n\nYou can still set it per-daemon, of course, but most of the time\noperators seem to want all daemons for a layer dumping to the same\nlocation.\n\nChange-Id: I74adda0385ad4e30cb09fa2604d070694707293b\n'}]",0,788067,d54b432c296acca46afd3411ca2a772cd3006d62,3,2,1,15343,,,0,"Recommend setting recon_cache_path in [DEFAULT] section

You can still set it per-daemon, of course, but most of the time
operators seem to want all daemons for a layer dumping to the same
location.

Change-Id: I74adda0385ad4e30cb09fa2604d070694707293b
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/788067/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'etc/account-server.conf-sample', 'etc/object-server.conf-sample']",3,d54b432c296acca46afd3411ca2a772cd3006d62,,# Various background daemons periodically record cycle times and other stats in # JSON files in this directory. # recon_cache_path = /var/cache/swift #,#recon_cache_path = /var/cache/swift# recon_cache_path = /var/cache/swift# recon_cache_path = /var/cache/swift# recon_cache_path = /var/cache/swift ## recon_cache_path = /var/cache/swift# recon_cache_path = /var/cache/swift #,12,19
openstack%2Fswift~master~I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,openstack/swift,master,I61e63bd66ffd8207599b61721e7f0e4dc45d2e01,docs: Get rid of useless page,MERGED,2021-04-26 21:24:34.000000000,2021-04-27 08:00:12.000000000,2021-04-27 07:58:17.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 21:24:34.000000000', 'files': ['doc/source/admin/objectstorage-admin.rst', 'doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/8823b45b931287f704e8a977898d0d500690218e', 'message': 'docs: Get rid of useless page\n\nI think this was mostly an artifact of the old admin-guide getting\npushed in-tree.\n\nChange-Id: I61e63bd66ffd8207599b61721e7f0e4dc45d2e01\n'}]",0,788086,8823b45b931287f704e8a977898d0d500690218e,7,2,1,15343,,,0,"docs: Get rid of useless page

I think this was mostly an artifact of the old admin-guide getting
pushed in-tree.

Change-Id: I61e63bd66ffd8207599b61721e7f0e4dc45d2e01
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/788086/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/objectstorage-admin.rst', 'doc/source/admin/index.rst']",2,8823b45b931287f704e8a977898d0d500690218e,,, objectstorage-admin.rst,0,11
openstack%2Fmistral~stable%2Fwallaby~Ief9c13b3ee222aeb60644726cec653e65a8b3605,openstack/mistral,stable/wallaby,Ief9c13b3ee222aeb60644726cec653e65a8b3605,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:42:20.000000000,2021-04-27 07:43:29.000000000,2021-04-27 07:42:11.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:42:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c2a0205d56642ad920d94953079c98e17c7b3536', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ief9c13b3ee222aeb60644726cec653e65a8b3605\n'}]",0,783453,c2a0205d56642ad920d94953079c98e17c7b3536,13,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ief9c13b3ee222aeb60644726cec653e65a8b3605
",git fetch https://review.opendev.org/openstack/mistral refs/changes/53/783453/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c2a0205d56642ad920d94953079c98e17c7b3536,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpuppet-neutron~stable%2Fussuri~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/ussuri,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:20:43.000000000,2021-04-27 07:32:00.000000000,2021-04-27 07:32:00.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 00:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a6990a12a62b331298ea54cf9bf109f420fd0e2d', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nConflicts:\n\tmanifests/agents/l3.pp\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit 27619a9fc01a35865c64cb345e752c9f756e4811)\n(cherry picked from commit f63aeb672dc75c78cb8c4f9c34b83360b3435d60)\n""}, {'number': 2, 'created': '2021-04-26 12:10:59.000000000', 'files': ['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/82324318ca5af337c4878588554965872d458ce4', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nConflicts:\n\tmanifests/agents/l3.pp\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)\n(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)\n""}]",0,786993,82324318ca5af337c4878588554965872d458ce4,15,4,2,9816,,,0,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Conflicts:
	manifests/agents/l3.pp

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
(cherry picked from commit 9029fe04cc2f504930613000f2169befc3540255)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/93/786993/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb']",2,a6990a12a62b331298ea54cf9bf109f420fd0e2d,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria-stable/ussuri," context 'with extensions in string' do before :each do params.merge!(:extensions => 'fip_qos,gateway_ip_qos,port_forwarding') end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end context 'with extensions in array' do before :each do params.merge!(:extensions => ['fip_qos', 'gateway_ip_qos', 'port_forwarding']) end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end",,22,2
openstack%2Fmistral-lib~master~I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,openstack/mistral-lib,master,I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96,Use py3 as the default runtime for tox,MERGED,2021-04-20 03:22:13.000000000,2021-04-27 07:18:54.000000000,2021-04-27 07:17:27.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/6d4076be7ef791159299cca946888e2502a88554', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96\n""}, {'number': 2, 'created': '2021-04-21 10:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/1d2a7eba75246ea3970f5c7645e47ad73f52c731', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96\n""}, {'number': 3, 'created': '2021-04-21 11:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/6e9b829132825e5a663526563e30d68e56a2f73e', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96\n""}, {'number': 4, 'created': '2021-04-27 05:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/32da73960aa93c8b1d79efc7eb1c0cb0cfcc9161', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96\n""}, {'number': 5, 'created': '2021-04-27 05:56:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/b49b6e468494a15ebee4e9cc8702c72695d8d17c', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96\n""}]",0,787058,b49b6e468494a15ebee4e9cc8702c72695d8d17c,28,2,5,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5aec8ad5fda23e3ffbb16a08a0b4626c3fc8db96
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/58/787058/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6d4076be7ef791159299cca946888e2502a88554,787058,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fpuppet-vswitch~master~Ie7e05985ac06c5536490d48de109d8de7b7c5722,openstack/puppet-vswitch,master,Ie7e05985ac06c5536490d48de109d8de7b7c5722,Remove old workaround to check service status in Ubuntu,MERGED,2021-04-25 12:48:12.000000000,2021-04-27 07:15:25.000000000,2021-04-27 07:15:25.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 12:48:12.000000000', 'files': ['spec/classes/vswitch_ovs_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1f63cee543d725e4a7d6de7f2f3eda235c85b564', 'message': 'Remove old workaround to check service status in Ubuntu\n\nChange-Id: Ie7e05985ac06c5536490d48de109d8de7b7c5722\n'}]",0,787880,1f63cee543d725e4a7d6de7f2f3eda235c85b564,9,3,1,9816,,,0,"Remove old workaround to check service status in Ubuntu

Change-Id: Ie7e05985ac06c5536490d48de109d8de7b7c5722
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/80/787880/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_ovs_spec.rb', 'manifests/params.pp']",2,1f63cee543d725e4a7d6de7f2f3eda235c85b564,, $ovs_service_hasstatus = true $ovs_status = undef," # ubuntu 16.04 doesn't have upstart # this workaround should be removed when https://bugs.launchpad.net/ubuntu/+source/openvswitch/+bug/1585201 # will be resolved if versioncmp($::operatingsystemmajrelease, '16') >= 0 { $ovs_status = '/etc/init.d/openvswitch-switch status | fgrep -q ""not running""; if [ $? -eq 0 ]; then exit 1; else exit 0; fi' } else { $ovs_status = '/sbin/status openvswitch-switch | fgrep ""start/running""' } $ovs_service_hasstatus = false",3,16
openstack%2Fwhereto~master~I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,openstack/whereto,master,I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c,Use py3 as the default runtime for tox,ABANDONED,2021-04-27 07:11:47.000000000,2021-04-27 07:13:02.000000000,,[],"[{'number': 1, 'created': '2021-04-27 07:11:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/whereto/commit/21eb4163914184fda4e4f37212c89c44b1a028b5', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at each new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.\n\nChange-Id: I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c\n""}]",0,788181,21eb4163914184fda4e4f37212c89c44b1a028b5,2,0,1,32921,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this version isn't longer officially supported.

Change-Id: I0fb5cb8db4c666241569a5e2b0fa2fcef72a056c
",git fetch https://review.opendev.org/openstack/whereto refs/changes/81/788181/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,21eb4163914184fda4e4f37212c89c44b1a028b5,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fopenstack-helm-infra~master~Iff99ebe78554197db4d459bef0dda01b6b2710b7,openstack/openstack-helm-infra,master,Iff99ebe78554197db4d459bef0dda01b6b2710b7,Uplift mariadb version and ubuntu release,MERGED,2021-04-15 19:53:12.000000000,2021-04-27 07:07:08.000000000,2021-04-27 07:05:48.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-04-15 19:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f414e42db1c9b516ddb761a63ad838c175a2e6e', 'message': 'Uplift mariadb version and ubuntu release\n\nThis change updates the default images for mariadb, both the version\nto 10.5.9 and the ubuntu release to focal.\n\nChange-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7\n'}, {'number': 2, 'created': '2021-04-22 20:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36c1384cd44a0fb63687e248b0777a80d31f83c8', 'message': 'Uplift mariadb version and ubuntu release\n\nThis change updates the default images for mariadb, both the version\nto 10.5.9 and the ubuntu release to focal.\n\nChange-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7\n'}, {'number': 3, 'created': '2021-04-22 21:08:47.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44947cc80b91510da6f68a434c847af2d260cabd', 'message': 'Uplift mariadb version and ubuntu release\n\nThis change updates the default images for mariadb, both the version\nto 10.5.9 and the ubuntu release to focal.\n\nChange-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7\n'}]",0,786496,44947cc80b91510da6f68a434c847af2d260cabd,15,4,3,21420,,,0,"Uplift mariadb version and ubuntu release

This change updates the default images for mariadb, both the version
to 10.5.9 and the ubuntu release to focal.

Change-Id: Iff99ebe78554197db4d459bef0dda01b6b2710b7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/786496/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml']",3,5f414e42db1c9b516ddb761a63ad838c175a2e6e,update-mariadb, mariadb: docker.io/openstackhelm/mariadb:latest-ubuntu_focal prometheus_create_mysql_user: docker.io/mariadb:10.5.9-focal scripted_test: docker.io/openstackhelm/mariadb:ubuntu_focal-20210415, mariadb: docker.io/openstackhelm/mariadb:latest-ubuntu_xenial prometheus_create_mysql_user: docker.io/mariadb:10.2.31 scripted_test: docker.io/openstackhelm/mariadb:ubuntu_xenial-20191031,5,4
openstack%2Fheat~stable%2Fvictoria~Iaa2c05b4155d93f44de60b6f98a69450c1512817,openstack/heat,stable/victoria,Iaa2c05b4155d93f44de60b6f98a69450c1512817,Preserve order in list_concat_unique,MERGED,2021-04-26 14:50:47.000000000,2021-04-27 06:58:55.000000000,2021-04-27 06:56:52.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 14:50:47.000000000', 'files': ['heat/engine/hot/functions.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0833daa3f77dd2267a6068eeafcf9d9af8da1a17', 'message': 'Preserve order in list_concat_unique\n\nAlso, we should not modify a list when iterating\nover it.\n\nTask: 42359\nCloses-Bug: #1925373\nChange-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817\n(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)\n'}]",0,787983,0833daa3f77dd2267a6068eeafcf9d9af8da1a17,11,2,1,8833,,,0,"Preserve order in list_concat_unique

Also, we should not modify a list when iterating
over it.

Task: 42359
Closes-Bug: #1925373
Change-Id: Iaa2c05b4155d93f44de60b6f98a69450c1512817
(cherry picked from commit a8f8528d1ea1952cf76bd09fd27cbd65a978af65)
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/787983/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/functions.py', 'heat/tests/test_hot.py']",2,0833daa3f77dd2267a6068eeafcf9d9af8da1a17,," snippet = {'list_concat_unique': [['v1', 'v2'], ['v1', 'v3']]}"," snippet = {'list_concat_unique': [['v1', 'v2'], ['v2', 'v3']]}",8,6
openstack%2Fmistral-extra~stable%2Fwallaby~I2b533d9942c823582122036fc85637faa2743d72,openstack/mistral-extra,stable/wallaby,I2b533d9942c823582122036fc85637faa2743d72,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-19 18:05:53.000000000,2021-04-27 06:57:08.000000000,2021-04-27 06:51:48.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 18:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/c1d07af50287bba370ed4a36e5806dcc6c405295', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2b533d9942c823582122036fc85637faa2743d72\n'}, {'number': 2, 'created': '2021-04-27 04:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a2c6711e9767933485e597fbd6ba211e6a3cce33', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2b533d9942c823582122036fc85637faa2743d72\n'}, {'number': 3, 'created': '2021-04-27 06:23:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/803c19b4028c10915fa36c9f0b2a83fb0451d287', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2b533d9942c823582122036fc85637faa2743d72\n'}]",0,781834,803c19b4028c10915fa36c9f0b2a83fb0451d287,12,2,3,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2b533d9942c823582122036fc85637faa2743d72
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/34/781834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c1d07af50287bba370ed4a36e5806dcc6c405295,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fmasakari~stable%2Ftrain~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/train,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:29:44.000000000,2021-04-27 06:56:49.000000000,2021-04-27 06:55:22.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 30623}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-04-25 19:29:44.000000000', 'files': ['api-ref/source/hosts.inc', 'masakari/ha/api.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/compute/nova.py', 'releasenotes/notes/compute_search-3da97e69e661a73f.yaml', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9eff08c7a8041c28a5f9c5ecb2b9915e7f42ce8c', 'message': ""Search in nova services instead of hypervisors\n\nNova services and hypervisor naming can differ, as they retireve node\nnames in different way.\nIn the meanwhile we operate with nova.services while enabling/disabling\nnodes duringh the incident. So we're supposed to have in database record\nmatching to what we have in service list, but not in hypervisor list.\n\nCloses-Bug: #1839715\nChange-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95\n(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)\n(cherry picked from commit 35519c0ce02092aaef6b802817b74d017a84b08b)\n""}]",0,787900,9eff08c7a8041c28a5f9c5ecb2b9915e7f42ce8c,8,5,1,30491,,,0,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
(cherry picked from commit 35519c0ce02092aaef6b802817b74d017a84b08b)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/00/787900/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/hosts.inc', 'masakari/ha/api.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/compute/nova.py', 'releasenotes/notes/compute_search-3da97e69e661a73f.yaml', 'masakari/exception.py']",8,9eff08c7a8041c28a5f9c5ecb2b9915e7f42ce8c,bug/1839715,"class ComputeNotFoundByName(NotFound): msg_fmt = _(""Compute service with name %(compute_name)s could not "" ""be found."")","class HypervisorNotFoundByName(NotFound): msg_fmt = _(""Hypervisor with name %(hypervisor_name)s could not be found."")",71,61
openstack%2Fmasakari~stable%2Fussuri~I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,openstack/masakari,stable/ussuri,I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95,Search in nova services instead of hypervisors,MERGED,2021-04-25 19:25:02.000000000,2021-04-27 06:55:49.000000000,2021-04-27 06:53:56.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30491}, {'_account_id': 30623}, {'_account_id': 32304}]","[{'number': 1, 'created': '2021-04-25 19:25:02.000000000', 'files': ['api-ref/source/hosts.inc', 'masakari/ha/api.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/compute/nova.py', 'releasenotes/notes/compute_search-3da97e69e661a73f.yaml', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/35519c0ce02092aaef6b802817b74d017a84b08b', 'message': ""Search in nova services instead of hypervisors\n\nNova services and hypervisor naming can differ, as they retireve node\nnames in different way.\nIn the meanwhile we operate with nova.services while enabling/disabling\nnodes duringh the incident. So we're supposed to have in database record\nmatching to what we have in service list, but not in hypervisor list.\n\nCloses-Bug: #1839715\nChange-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95\n(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)\n""}]",0,787899,35519c0ce02092aaef6b802817b74d017a84b08b,8,5,1,30491,,,0,"Search in nova services instead of hypervisors

Nova services and hypervisor naming can differ, as they retireve node
names in different way.
In the meanwhile we operate with nova.services while enabling/disabling
nodes duringh the incident. So we're supposed to have in database record
matching to what we have in service list, but not in hypervisor list.

Closes-Bug: #1839715
Change-Id: I9c591d33f17a8d5950bdb1fc2d686e2301fc6d95
(cherry picked from commit 4322968b893b242f229912c2b70e3895f0227402)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/99/787899/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/hosts.inc', 'masakari/ha/api.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/compute/nova.py', 'releasenotes/notes/compute_search-3da97e69e661a73f.yaml', 'masakari/exception.py']",8,35519c0ce02092aaef6b802817b74d017a84b08b,bug/1839715,"class ComputeNotFoundByName(NotFound): msg_fmt = _(""Compute service with name %(compute_name)s could not "" ""be found."")","class HypervisorNotFoundByName(NotFound): msg_fmt = _(""Hypervisor with name %(hypervisor_name)s could not be found."")",71,61
openstack%2Fmistral-extra~stable%2Fwallaby~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,stable/wallaby,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 06:19:37.000000000,2021-04-27 06:54:33.000000000,2021-04-27 06:51:45.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 06:19:37.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a4f4d65f35b6394e771cf86bf18a0381864fda75', 'message': 'Fix hacking version\n\nChange-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145\n'}]",0,788143,a4f4d65f35b6394e771cf86bf18a0381864fda75,7,2,1,8731,,,0,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/43/788143/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,a4f4d65f35b6394e771cf86bf18a0381864fda75,fix_hacking_version-stable/wallaby,hacking==3.1.0,hacking==1.1.0,2,2
openstack%2Fmistral-extra~master~I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,openstack/mistral-extra,master,I2f33a01a2e928e440c4ebb001dc4e24b5bd89145,Fix hacking version,MERGED,2021-04-27 04:59:40.000000000,2021-04-27 06:41:22.000000000,2021-04-27 06:39:46.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 04:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a314ffe4364a3cc250acd0848f6c2a3ff0e364ec', 'message': 'DNM: Fix hacking version\n\nChange-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145\n'}, {'number': 2, 'created': '2021-04-27 05:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/f81c4357e577be289124750245a7df4d4601a4a6', 'message': 'DNM: Fix hacking version\n\nChange-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145\n'}, {'number': 3, 'created': '2021-04-27 05:42:23.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/1b36297f3a58ae20eabd190ac15a58a5a499ee70', 'message': 'Fix hacking version\n\nChange-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145\n'}]",0,788129,1b36297f3a58ae20eabd190ac15a58a5a499ee70,10,2,3,8731,,,0,"Fix hacking version

Change-Id: I2f33a01a2e928e440c4ebb001dc4e24b5bd89145
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/29/788129/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a314ffe4364a3cc250acd0848f6c2a3ff0e364ec,fix_hacking_version,hacking>=3.0.1 # Apache-2.0,"hacking>=3.0.1,<3.1.0 # Apache-2.0",1,1
openstack%2Fmasakari~master~Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,openstack/masakari,master,Ib24be88c9f33889d5ed705537b0d4c167cad5b3f,Finish switch from http.client to HTTPStatus,MERGED,2020-11-11 10:50:22.000000000,2021-04-27 06:13:59.000000000,2021-04-27 06:11:10.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30623}, {'_account_id': 32291}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-11-11 10:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f19c9c3d253dec8a358ded3e32220bb2def78e50', 'message': ""Finish switch from http.client to HTTPStatus\n\nFollow-up on [1]:\nWe don't need an HTTP client for this, we only\nneed status codes. Just load that instead.\n\n[1] https://review.opendev.org/762308\n\nChange-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f\n""}, {'number': 2, 'created': '2020-11-14 09:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/97a43efafb9c96738441f0043404a491c9005ce1', 'message': ""Finish switch from http.client to HTTPStatus\n\nFollow-up on [1]:\nWe don't need an HTTP client for this, we only\nneed status codes. Just load that instead.\n\nmasakari.exception had a slight refactor applied to pass the\nassociated tests. See the included NOTE for details.\n\n[1] https://review.opendev.org/762308\n\nChange-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f\n""}, {'number': 3, 'created': '2021-03-24 15:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3d3076fe0f5d05c031c71c50c9e5e389dd3bb59b', 'message': ""Finish switch from http.client to HTTPStatus\n\nFollow-up on [1]:\nWe don't need an HTTP client for this, we only\nneed status codes. Just load that instead.\n\nmasakari.exception had a slight refactor applied to pass the\nassociated tests. See the included NOTE for details.\n\n[1] https://review.opendev.org/762308\n\nChange-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f\n""}, {'number': 4, 'created': '2021-04-21 17:42:07.000000000', 'files': ['masakari/tests/unit/api/test_auth.py', 'masakari/tests/unit/test_api_validation.py', 'masakari/tests/unit/test_exception.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/api/openstack/wsgi.py', 'masakari/exception.py', 'masakari/api/openstack/ha/notifications.py', 'masakari/tests/unit/api/openstack/ha/test_hosts.py', 'masakari/tests/unit/api/openstack/test_extensions.py', 'masakari/tests/unit/api/openstack/ha/test_versions.py', 'masakari/api/openstack/ha/segments.py', 'masakari/tests/unit/api/openstack/ha/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/77464a138531e2b542e9bfca931d038c1498feeb', 'message': ""Finish switch from http.client to HTTPStatus\n\nFollow-up on [1]:\nWe don't need an HTTP client for this, we only\nneed status codes. Just load that instead.\n\n[1] https://review.opendev.org/762308\n\nChange-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f\n""}]",2,762328,77464a138531e2b542e9bfca931d038c1498feeb,20,5,4,30491,,,0,"Finish switch from http.client to HTTPStatus

Follow-up on [1]:
We don't need an HTTP client for this, we only
need status codes. Just load that instead.

[1] https://review.opendev.org/762308

Change-Id: Ib24be88c9f33889d5ed705537b0d4c167cad5b3f
",git fetch https://review.opendev.org/openstack/masakari refs/changes/28/762328/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/api/test_auth.py', 'masakari/tests/unit/test_api_validation.py', 'masakari/tests/unit/test_exception.py', 'masakari/api/openstack/ha/hosts.py', 'masakari/tests/unit/compute/test_nova.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py', 'masakari/tests/unit/api/openstack/test_wsgi.py', 'masakari/api/openstack/wsgi.py', 'masakari/exception.py', 'masakari/api/openstack/ha/notifications.py', 'masakari/tests/unit/api/openstack/ha/test_hosts.py', 'masakari/tests/unit/api/openstack/test_extensions.py', 'masakari/tests/unit/api/openstack/ha/test_versions.py', 'masakari/api/openstack/ha/segments.py', 'masakari/tests/unit/api/openstack/ha/test_notifications.py']",15,f19c9c3d253dec8a358ded3e32220bb2def78e50,http-status,"from http import HTTPStatus self.assertEqual(HTTPStatus.ACCEPTED, resp.status_code) self.assertEqual(HTTPStatus.METHOD_NOT_ALLOWED, resp.status_code)","from http import client as http self.assertEqual(http.ACCEPTED, resp.status_code) self.assertEqual(http.METHOD_NOT_ALLOWED, resp.status_code)",134,129
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/train,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:39:59.000000000,2021-04-27 05:58:59.000000000,2021-04-27 05:29:17.000000000,"[{'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc1d911674516164b18cab10f4f24b1fae814303', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787248\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)\n(cherry picked from commit dfb282b50306a6a68c52da530818fce425da7b41)\n""}, {'number': 2, 'created': '2021-04-26 14:40:49.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac1584a44f951b24f6379c235ffb07e3b0dbee2e', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787249\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)\n(cherry picked from commit dfb282b50306a6a68c52da530818fce425da7b41)\n""}]",1,787979,ac1584a44f951b24f6379c235ffb07e3b0dbee2e,10,8,2,27419,,,0,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787249
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
(cherry picked from commit dfb282b50306a6a68c52da530818fce425da7b41)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/787979/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml']",2,bc1d911674516164b18cab10f4f24b1fae814303,nova_qemu_client_tls_verify,--- features: - | `QemuDefaultTLSVerify` will allow operators to enable or disable TLS client certificate verification. Enabling this option will reject any client who does not have a certificate signed by the CA in /etc/pki/qemu/ca-cert.pem. The default is true and matches libvirt's. We will want to disable this by default in train. ,,19,0
openstack%2Fldappool~master~I3c323d21cb3dc9054d24f53c87632255ec4de5fd,openstack/ldappool,master,I3c323d21cb3dc9054d24f53c87632255ec4de5fd,Add py38 package metadata,ABANDONED,2021-01-03 03:00:06.000000000,2021-04-27 05:48:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 03:00:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/667809f2f3a7ba501e5470b7af3a1ee56e9badcc', 'message': 'Add py38 package metadata\n\nNow that we are running the Wallaby tests that include a\nvoting py38 job from victoria release, we can now add the\nPython 3.8 metadata to the package information to reflect\nthat support.\n\nChange-Id: I3c323d21cb3dc9054d24f53c87632255ec4de5fd\n'}]",0,768927,667809f2f3a7ba501e5470b7af3a1ee56e9badcc,5,1,1,31027,,,0,"Add py38 package metadata

Now that we are running the Wallaby tests that include a
voting py38 job from victoria release, we can now add the
Python 3.8 metadata to the package information to reflect
that support.

Change-Id: I3c323d21cb3dc9054d24f53c87632255ec4de5fd
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/27/768927/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,667809f2f3a7ba501e5470b7af3a1ee56e9badcc,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fpython-karborclient~master~I689c3f58e29c0017eac96c7c6211121e23b8bc9a,openstack/python-karborclient,master,I689c3f58e29c0017eac96c7c6211121e23b8bc9a,bump py37 to py38 in tox.ini,ABANDONED,2020-10-12 08:11:04.000000000,2021-04-27 05:47:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 31027}]","[{'number': 1, 'created': '2020-10-12 08:11:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/52bd285547152d2fd807209507d0e1511cc9270c', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I689c3f58e29c0017eac96c7c6211121e23b8bc9a\n""}]",0,757470,52bd285547152d2fd807209507d0e1511cc9270c,7,2,1,31027,,,0,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I689c3f58e29c0017eac96c7c6211121e23b8bc9a
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/70/757470/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,52bd285547152d2fd807209507d0e1511cc9270c,,"envlist = py38,pypy,pep8","envlist = py37,pypy,pep8",1,1
openstack%2Fzaqar~master~I08be0ba678f8fb12f699323d01009c2b52528e2d,openstack/zaqar,master,I08be0ba678f8fb12f699323d01009c2b52528e2d,Use unittest.mock instead of mock,ABANDONED,2021-01-03 01:17:14.000000000,2021-04-27 05:46:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 01:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d22d6008f17568d9398da2397591b94f1e7d1158', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I08be0ba678f8fb12f699323d01009c2b52528e2d\n'}, {'number': 2, 'created': '2021-01-05 08:02:01.000000000', 'files': ['zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'requirements.txt', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6038e6c5e1a9f7c202b66c63d44e0709f45b2b52', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I08be0ba678f8fb12f699323d01009c2b52528e2d\n'}]",22,768890,6038e6c5e1a9f7c202b66c63d44e0709f45b2b52,5,1,2,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I08be0ba678f8fb12f699323d01009c2b52528e2d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/90/768890/2 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py']",26,d22d6008f17568d9398da2397591b94f1e7d1158,,from unittest import mock,import mock,26,26
openstack%2Fpython-swiftclient~master~Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,openstack/python-swiftclient,master,Iaee5e1a7df3d3122738bed0c618a56af834b6ec3,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:18:10.000000000,2021-04-27 05:39:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-02 06:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/6bf3af34a6566a9c31250302ed1d686427cbdc34', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3\n'}, {'number': 2, 'created': '2021-01-02 07:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9691c35daed7006b5d4ba2c5d68a46c479f0324e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3\n'}, {'number': 3, 'created': '2021-01-05 08:22:38.000000000', 'files': ['test/unit/utils.py', 'test/unit/test_service.py', 'requirements.txt', 'test-requirements.txt', 'test/unit/test_authv1.py', 'lower-constraints.txt', 'test/unit/test_utils.py', 'test/unit/test_command_helpers.py', 'test/unit/test_shell.py', 'test/unit/test_swiftclient.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/27781f8df559c29562c0adf939b92fbd6f1e419c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3\n'}]",0,768856,27781f8df559c29562c0adf939b92fbd6f1e419c,6,1,3,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iaee5e1a7df3d3122738bed0c618a56af834b6ec3
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/56/768856/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/test_service.py', 'test/unit/utils.py', 'test/unit/test_authv1.py', 'test/unit/test_utils.py', 'test/unit/test_command_helpers.py', 'test/unit/test_shell.py', 'test/unit/test_swiftclient.py']",7,6bf3af34a6566a9c31250302ed1d686427cbdc34,,from unittest import mock,import mock,7,7
openstack%2Fpython-manilaclient~master~I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,openstack/python-manilaclient,master,I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5,Use unittest.mock instead of mock,ABANDONED,2021-01-02 03:13:51.000000000,2021-04-27 05:38:54.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-02 03:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bc8fb6d08544a7c77b062f491ddf2e2a77d05f60', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5\n'}, {'number': 2, 'created': '2021-01-02 06:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6de83c58105a71f6e74322bf376ce4dea7a0b40c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5\n'}, {'number': 3, 'created': '2021-02-25 06:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2ae6ac02fe5006bde2c86cfade9d4e749a182165', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nAlso increase the version of python-openstackclient\nin test-requirements to a version that doesn't need mock\nfor its own testing.\n\nChange-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2021-03-12 17:07:07.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'manilaclient/tests/unit/osc/v2/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1b1545e7deaadacfd6f2678663200651823736f8', 'message': ""Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nAlso increase the version of python-openstackclient\nin test-requirements to a version that doesn't need mock\nfor its own testing.\n\nChange-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,768848,1b1545e7deaadacfd6f2678663200651823736f8,13,3,4,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Also increase the version of python-openstackclient
in test-requirements to a version that doesn't need mock
for its own testing.

Change-Id: I8d3ec5b22e2fa57085d939900ab3668b81c6b5c5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/48/768848/4 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/osc/v2/test_quotas.py'],1,bc8fb6d08544a7c77b062f491ddf2e2a77d05f60,unittest.mock,from unittest import mock,import mock,1,1
openstack%2Fpython-freezerclient~master~I28a941ae668f310a40b559e0691d63a33ee08fef,openstack/python-freezerclient,master,I28a941ae668f310a40b559e0691d63a33ee08fef,Remove install unnecessary packages,ABANDONED,2020-09-24 01:19:49.000000000,2021-04-27 05:38:31.000000000,,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 01:19:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/353a5a2f8a3a4387f832e8d552764d16120b7d08', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I28a941ae668f310a40b559e0691d63a33ee08fef\n'}]",0,753874,353a5a2f8a3a4387f832e8d552764d16120b7d08,12,2,1,31027,,,0,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I28a941ae668f310a40b559e0691d63a33ee08fef
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/74/753874/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,353a5a2f8a3a4387f832e8d552764d16120b7d08,,, -r{toxinidir}/requirements.txt,0,1
openstack%2Ftripleo-image-elements~stable%2Fvictoria~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/victoria,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 13:58:30.000000000,2021-04-27 05:34:38.000000000,2021-04-27 05:30:27.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-04-26 13:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c3be6d7d3422858e28d4905431e083b9b0504130', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}, {'number': 2, 'created': '2021-04-26 14:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6314ade216de58c7b79f84636e103b3f08cc56c6', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}, {'number': 3, 'created': '2021-04-26 14:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d4b7b2e3555f7218a2ca49790aad5fdbd1d688d0', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}, {'number': 4, 'created': '2021-04-26 14:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/55b2437394abddc23be5781aa495ffabf24f2f31', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}, {'number': 5, 'created': '2021-04-26 16:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0fa6b235f158f4e7cec3397a6a2d76107dd9d585', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}, {'number': 6, 'created': '2021-04-26 17:01:48.000000000', 'files': ['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'requirements.txt', 'test-requirements.txt', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'tests/test_no_dup_filenames.py', 'elements/os-svc-install/bin/os-svc-install'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/b73f4154cab14ed635f2ab25fad528360b509a21', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n'}]",0,788003,b73f4154cab14ed635f2ab25fad528360b509a21,16,4,6,14985,,,0,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/03/788003/6 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'elements/os-svc-install/bin/os-svc-install']",5,c3be6d7d3422858e28d4905431e083b9b0504130,fix-ci, pip install -U 'pbr>=0.11'," pip install -U 'pbr>=0.11,<2.0'",5,5
openstack%2Ftripleo-ansible~master~I22b93cc1057b5894e2c8342c578a3b8080b542ae,openstack/tripleo-ansible,master,I22b93cc1057b5894e2c8342c578a3b8080b542ae,Allow tripleo_cephadm to process tls info when provided,MERGED,2021-04-09 12:04:19.000000000,2021-04-27 05:34:35.000000000,2021-04-27 05:30:35.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26159}]","[{'number': 1, 'created': '2021-04-09 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15ab55eaf0eb61354258aef8cef1068cab94dc85', 'message': ""Allow tripleo_cephadm to process tls info when provided\n\nWhen internal_tls is true, step1 runs the linux-system-roles.certificate\nwhich is able to produce the ceph_rgw.pem file [1].\nWhen this info is available, we need to make sure that cephadm is able\nto process it using the spec, and it's included in the deployed rgw(s)\ninstances.\nIf the rgw_frontend_ssl_certificate is empty, then this key can be\nignored (this means tls is not enabled). The ceph_spec module is now\nable to filter and drop empty keys if the value is not provided when\nthe spec dict is built.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169\n\nChange-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae\n""}, {'number': 2, 'created': '2021-04-09 12:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8417bb5fba82429f164d2239b2307bcc3dee6fbe', 'message': ""Allow tripleo_cephadm to process tls info when provided\n\nWhen internal_tls is true, step1 runs the linux-system-roles.certificate\nwhich is able to produce the ceph_rgw.pem file [1].\nWhen this info is available, we need to make sure that cephadm is able\nto process it using the spec, and it's included in the deployed rgw(s)\ninstances.\nIf the rgw_frontend_ssl_certificate is empty, then this key can be\nignored (this means tls is not enabled). The ceph_spec module is now\nable to filter and drop empty keys if the value is not provided when\nthe spec dict is built.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169\n\nChange-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae\n""}, {'number': 3, 'created': '2021-04-15 05:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23d93cf501647ab34ce22fb3e83f9e06c829fce6', 'message': ""Allow tripleo_cephadm to process tls info when provided\n\nWhen internal_tls is true, step1 runs the linux-system-roles.certificate\nwhich is able to produce the ceph_rgw.pem file [1].\nWhen this info is available, we need to make sure that cephadm is able\nto process it using the spec, and it's included in the deployed rgw(s)\ninstances.\nIf the rgw_frontend_ssl_certificate is empty, then this key can be\nignored (this means tls is not enabled). The ceph_spec module is now\nable to filter and drop empty keys if the value is not provided when\nthe spec dict is built.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169\n\nChange-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae\n""}, {'number': 4, 'created': '2021-04-21 14:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59d27ee82eccb9173414929285437b68f1a4a6f5', 'message': ""Allow tripleo_cephadm to process tls info when provided\n\nWhen internal_tls is true, step1 runs the linux-system-roles.certificate\nwhich is able to produce the ceph_rgw.pem file [1].\nWhen this info is available, we need to make sure that cephadm is able\nto process it using the spec, and it's included in the deployed rgw(s)\ninstances.\nIf the rgw_frontend_ssl_certificate is empty, then this key can be\nignored (this means tls is not enabled). The ceph_spec module is now\nable to filter and drop empty keys if the value is not provided when\nthe spec dict is built.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169\n\nChange-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae\n""}, {'number': 5, 'created': '2021-04-24 06:48:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/417588a58967c533f6a4af0f97e298cb9df56c3b', 'message': ""Allow tripleo_cephadm to process tls info when provided\n\nWhen internal_tls is true, step1 runs the linux-system-roles.certificate\nwhich is able to produce the ceph_rgw.pem file [1].\nWhen this info is available, we need to make sure that cephadm is able\nto process it using the spec, and it's included in the deployed rgw(s)\ninstances.\nIf the rgw_frontend_ssl_certificate is empty, then this key can be\nignored (this means tls is not enabled). The ceph_spec module is now\nable to filter and drop empty keys if the value is not provided when\nthe spec dict is built.\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169\n\nChange-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae\n""}]",6,785629,417588a58967c533f6a4af0f97e298cb9df56c3b,34,5,5,25402,,,0,"Allow tripleo_cephadm to process tls info when provided

When internal_tls is true, step1 runs the linux-system-roles.certificate
which is able to produce the ceph_rgw.pem file [1].
When this info is available, we need to make sure that cephadm is able
to process it using the spec, and it's included in the deployed rgw(s)
instances.
If the rgw_frontend_ssl_certificate is empty, then this key can be
ignored (this means tls is not enabled). The ceph_spec module is now
able to filter and drop empty keys if the value is not provided when
the spec dict is built.

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/cephadm/ceph-rgw.yaml#L169

Change-Id: I22b93cc1057b5894e2c8342c578a3b8080b542ae
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/785629/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml']",4,15ab55eaf0eb61354258aef8cef1068cab94dc85,cephadm_rgw_tls," tripleo_cephadm_internal_tls_enabled: ""{{ enable_internal_tls }}""",,26,3
openstack%2Ftripleo-heat-templates~master~Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,openstack/tripleo-heat-templates,master,Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270,Add CinderBackupCompressionAlgorithm parameter,MERGED,2021-04-16 19:27:37.000000000,2021-04-27 05:34:34.000000000,2021-04-27 05:31:01.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 19:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/134a6614917c1d2786e017c5b45413a1fbd0da4f', 'message': ""Add CinderBackupCompressionAlgorithm parameter\n\nThe CinderBackupCompressionAlgorithm supports specifying the compression\nalgorithm for cinder backup drivers that support the feature (most of\nthe drivers do, but the ceph backup driver doesn't).\n\nChange-Id: Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270\n""}, {'number': 2, 'created': '2021-04-21 17:50:13.000000000', 'files': ['releasenotes/notes/cinder-backup-compression-algorithm-337a6708264cb84a.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d29e1b249b118d55e59c675fd2ec226ade2afb40', 'message': ""Add CinderBackupCompressionAlgorithm parameter\n\nThe CinderBackupCompressionAlgorithm supports specifying the compression\nalgorithm for cinder backup drivers that support the feature (most of\nthe drivers do, but the ceph backup driver doesn't).\n\nChange-Id: Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270\n""}]",0,786709,d29e1b249b118d55e59c675fd2ec226ade2afb40,17,5,2,21129,,,0,"Add CinderBackupCompressionAlgorithm parameter

The CinderBackupCompressionAlgorithm supports specifying the compression
algorithm for cinder backup drivers that support the feature (most of
the drivers do, but the ceph backup driver doesn't).

Change-Id: Icbdee2a30e2bc6fcf0dc7774e622e27b5cc15270
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/786709/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-backup-compression-algorithm-337a6708264cb84a.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml']",2,134a6614917c1d2786e017c5b45413a1fbd0da4f,cinder-backup-compression-algorithm," CinderBackupCompressionAlgorithm: default: zlib description: The compression algorithm used by Cinder Backup backends that are based on Cinder's ""chunked"" backup driver. This includes the swift, nfs, gcs and s3 backends. The ceph backend does not support the feature. type: string constraints: - allowed_values: ['none', 'zlib', 'bzip2', 'zstd'] cinder::backup::swift::backup_compression_algorithm: {get_param: CinderBackupCompressionAlgorithm} cinder::backup::nfs::backup_compression_algorithm: {get_param: CinderBackupCompressionAlgorithm} # cinder::backup::google does not support configuring the compression # algorithm, so use cinder::config::cinder_config cinder::config::cinder_config: DEFAULT/backup_compression_algorithm: value: {get_param: CinderBackupCompressionAlgorithm} cinder::backup::s3::backup_compression_algorithm: {get_param: CinderBackupCompressionAlgorithm}",,24,0
openstack%2Fopenstack-ansible-specs~master~Ib8d8274ea930c48be1fbb81206461c9ff221affc,openstack/openstack-ansible-specs,master,Ib8d8274ea930c48be1fbb81206461c9ff221affc,Add Root CA spec,MERGED,2020-10-19 12:28:54.000000000,2021-04-27 05:34:17.000000000,2021-04-27 05:31:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-10-19 12:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/8df6a58bd3f1cad75cb9dff8dc5f7b07134be5ca', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 2, 'created': '2020-10-19 13:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/db063b30b7d48bbee5765fa79da702d9e9f5f39e', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 3, 'created': '2020-10-19 16:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/0b89241a26502ab86c4ab8df9e6b9179e0c52399', 'message': 'Add Root CA spec\n\nImplements: blueprint ssl-root-ca\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 4, 'created': '2021-02-01 14:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/8cedd3307079fe0be4bc359ae4dc4503cc04e338', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 5, 'created': '2021-02-01 14:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b32eb9253844b451885614bbf1f24eb7daf67c28', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 6, 'created': '2021-02-01 15:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/ea08f05c79c507f7e6450ad8c697c77a1019e530', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}, {'number': 7, 'created': '2021-02-01 16:46:43.000000000', 'files': ['doc/source/index.rst', 'specs/wallaby/ssl-root-ca.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/4a27daf736e489c90474dadcb7cea2b042eeafec', 'message': 'Add Root CA spec\n\nChange-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc\n'}]",52,758805,4a27daf736e489c90474dadcb7cea2b042eeafec,28,3,7,28619,,,0,"Add Root CA spec

Change-Id: Ib8d8274ea930c48be1fbb81206461c9ff221affc
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/05/758805/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/wallaby/ssl-root-ca.rst']",2,8df6a58bd3f1cad75cb9dff8dc5f7b07134be5ca,,"SSL Root Certificate Authority ################################# :date: 2020-10-19 14:00 :tags: ssl, haproxy, nova, galera, infra Blueprint on Launchpad: * https://blueprints.launchpad.net/openstack-ansible/+spec/ssl-root-ca Having SSL encryption is a vital part of every service in the modern world. OpenStack-Ansible already provide deployoers options how to cover public and internal endpoints with SSL certificates and allows to generate and use self-signed certificates. However we can make these certificates ""verified"" by usage of the root CA, which will be distrivuted across all containers and services. This will encrease security as users will be alerted in case of the certificate mismatch, since certificate verification will be enabled. Problem description =================== At the moment bunch of roles do create self-singed certificates their own way which does not provide any consistency and pretty hard to maintain. Moreover, these certificates are self-signed ones, which means that certificate verification has to be disabled for such certificates. So in case of the certificate ""impersonation"" you won't be laerted, and ecrypted data might be not secure anymore. Futhermore, for mysql SSL usage, it is required to place Root CA on the containers for mysqlclient to reach DB, while at the moment we have only server side encryption covered, while Root CA distribution lies on the deployer shoulders. Another good example is nova, where in order to disable tunneling for the live migrations and use block migrations, we need to secure connection with ""self-signed"" certificates. To resolve all of the problems above we need: * Root CA certificate (and corresponding key which may not be available) * An intermediate signing certificate and key Proposed change =============== In order to resolve issue we need to create a root certificate authority on the deploy host, which will be used for the futher creation of the certificates. We need this for (but not limited to): * Creating a self-signed certificate for HAProxy in CI * Creating ssh signed certs to replace ssh keys in nova and keystone roles * To use TLS for live migration * To use TLS for galera and other infrastructure services * To use TLS for connection between HAProxy and uwsgi Implementation -------------- Create role in separate repo which would consist from 2 parts (galera way) which would be included wherever needed: # Create or verify existance provided CA on the deploy host. Included in openstack_hosts, to distribute CA to certificate storage # Create or verify existing key and certificate, which would be also stored on the deploy host. Will be included in required roles during their runtime Each instance of each component uses a unique certificate. # Decide what we 'call' the internal VIP if it's needed to verify the dns name against subject name in an SSL certificate Roles/service impact ==================== For all hosts/containers ------------------------ The Root CA is installed into the system trust store Consider pointing REQUESTS_CA_BUNDLE to the system trust store rather than certifi bundle For HAproxy ----------- We will have the following user scenarios: * The user supplies their own cert and key and points variables to the files * Letsencrypt creates the certificate * A self signed certificate and key is created at deploy time by the OSA role * Disable SSL certificate usage .. note:: Self signed cert is required to bootstrap LE for the first run For Galera (or other infrastructure service) -------------------------------------------- We will have the following user scenarios: * The user supplies their own cert and key and points variables to the files * A self signed certificate and key is created on the deploy host at deploy time by the OSA role (stored in a well known location on the deploy host). The existing ansible roles pick these up * Disable SSL certificate usage For service components such as Nova and Octavia which can use TLS ----------------------------------------------------------------- We will have the following user scenarios: * The user supplies their own cert and key and points variables to the files * A self signed certificate and key is created on the deploy host at deploy time by the OSA role (stored in a well known location on the deploy host) The existing ansible roles pick these up * Disable SSL certificate usage To replace ssh keys ------------------- * Signed ssh certificates are created on the deploy host and copied to the relevant .ssh user directories. The signing CA is installed into the relevant ssh_config file in /etc/ Upgrade impact -------------- By default self-singed alternatives will be used for all types of services. In case deployer would like to omit that, he will need to explicitly disable that behaviour before upgrade. No other impact for upgrades is planned at the moment. Security impact --------------- Realization of this blueprint should make systems more secure because of the SSL usage for most of the interactions and enabling SSL verification even for the self-singed sertificates. Performance impact ------------------ This may decrease performance slightly because SSL encryption requires several extra CPU cycles and TLS handshake to be performed, however this drawdown can be neglected. End user impact --------------- No end user impact Deployer impact --------------- The deployer will be able to provide: * Root CA * An intermediate cert and key Also we should leave possible to disable SSL usage for services. Developer impact ---------------- This blueprint will ease maintenance of the roles, because all SSL-specific parts will be moved to the standalone role. So in case of the need to change specific task it would be done in a single place rather than in each role. Implementation ============== Assignee(s) ----------- Primary assignee: noonedeadpunk Other contributors: jrosser Work items ---------- TBD Testing ======= We will enable self-singed certificates usage in CI Documentation impact ==================== Documentation of the added options and architecture should be added at the end of the day, as well as release notes. References ========== * Etherpad discussion: https://etherpad.opendev.org/p/osa-certificates-refactor ",,212,0
openstack%2Ftripleo-validations~master~I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,openstack/tripleo-validations,master,I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff,Removes retired services from service status validation,MERGED,2021-03-23 10:11:56.000000000,2021-04-27 05:34:15.000000000,2021-04-27 05:30:11.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-23 10:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/03c34b560061f47855463b3371b362203def08f6', 'message': 'Removes retired services from service status validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff\n'}, {'number': 2, 'created': '2021-03-23 10:25:19.000000000', 'files': ['roles/undercloud_service_status/defaults/main.yml', 'releasenotes/notes/remove-deprecated-services-service-status-8e353ca6219ed921.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cd99e125e24104e45676f678073a036b8cc059e8', 'message': 'Removes retired services from service status validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff\n'}]",0,782397,cd99e125e24104e45676f678073a036b8cc059e8,11,7,2,32926,,,0,"Removes retired services from service status validation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I09ef0d13e27eeac5334a0bec25f9abe79aa4b1ff
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/782397/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-services-service-status-8e353ca6219ed921.yaml', 'roles/undercloud_service_status/defaults/main.yml']",2,03c34b560061f47855463b3371b362203def08f6,swift/purge/servicestats,, - tripleo_nova_compute - tripleo_swift_container_server - tripleo_swift_object_server - tripleo_mistral_engine,10,4
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I0dc1f98865e6d134ccd4c4f27ccc179722054abb,openstack/tripleo-image-elements,stable/victoria,I0dc1f98865e6d134ccd4c4f27ccc179722054abb,Update .gitreview for stable/victoria,MERGED,2021-04-01 09:20:41.000000000,2021-04-27 05:30:32.000000000,2021-04-27 05:30:32.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 09:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a0f8b78f201012ec4cbcef9e4493e890bb3787d5', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I0dc1f98865e6d134ccd4c4f27ccc179722054abb\n'}, {'number': 2, 'created': '2021-04-26 20:20:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3f7f9eedd975974d9d08aacfebc645bea0551c2e', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I0dc1f98865e6d134ccd4c4f27ccc179722054abb\n'}]",0,784259,3f7f9eedd975974d9d08aacfebc645bea0551c2e,13,3,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I0dc1f98865e6d134ccd4c4f27ccc179722054abb
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/59/784259/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a0f8b78f201012ec4cbcef9e4493e890bb3787d5,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I785400969efba0062aabdca9af2726a7603ef840,openstack/puppet-tripleo,stable/train,I785400969efba0062aabdca9af2726a7603ef840,Set ovn_chassis_mac_map in ovn::controller,MERGED,2021-03-24 14:57:59.000000000,2021-04-27 05:30:05.000000000,2021-04-27 05:30:05.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-24 14:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1d053e664845c557d170753d77150360f20e1c58', 'message': 'Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/782765\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)\n(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)\n(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)\n'}, {'number': 2, 'created': '2021-03-26 13:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ee8f8ba9e2a5d124b1d1184165455d57ef57243c', 'message': 'Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/782765\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)\n(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)\n(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)\n'}, {'number': 3, 'created': '2021-04-20 07:58:38.000000000', 'files': ['manifests/profile/base/neutron/agents/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9cabed9d27bc7e91878814a21a889e416fc2ebd3', 'message': 'Set ovn_chassis_mac_map in ovn::controller\n\nFor distributed vlan in ovn we need to add support of\ncreating mac addresses per compute and seting them in\nexternal_ids:ovn-chassis-mac-mappings.\n\nDepends-On: https://review.opendev.org/782765\nRelated-Bug: #1881593\nChange-Id: I785400969efba0062aabdca9af2726a7603ef840\n(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)\n(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)\n(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)\n'}]",0,782773,9cabed9d27bc7e91878814a21a889e416fc2ebd3,30,5,3,11082,,,0,"Set ovn_chassis_mac_map in ovn::controller

For distributed vlan in ovn we need to add support of
creating mac addresses per compute and seting them in
external_ids:ovn-chassis-mac-mappings.

Depends-On: https://review.opendev.org/782765
Related-Bug: #1881593
Change-Id: I785400969efba0062aabdca9af2726a7603ef840
(cherry picked from commit ef44eebdc56b839bfbdcb7190c1c1e1ce4fe46d6)
(cherry picked from commit 06f2a09393d00dcc87cb3ce73d56dabd94782ce0)
(cherry picked from commit 15d65f57dacd93228767b03f3931b44b2caf3384)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/782773/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/agents/ovn.pp'],1,1d053e664845c557d170753d77150360f20e1c58,change-782773-2,"# [*ovn_chassis_mac_map*] # (optional) A list of key-value pairs that map a chassis specific mac to # a physical network name. An example # value mapping two chassis macs to two physical network names would be: # physnet1:aa:bb:cc:dd:ee:ff,physnet2:a1:b2:c3:d4:e5:f6 # These are the macs that ovn-controller will replace a router port # mac with, if packet is going from a distributed router port on # vlan type logical switch. # Defaults to hiera('ovn_chassis_mac_map') # $ovn_db_host = hiera('ovn_dbs_vip'), $ovn_sbdb_port = hiera('ovn::southbound::port'), $protocol = 'tcp', $step = Integer(hiera('step')), $ovn_chassis_mac_map = hiera('ovn_chassis_mac_map', undef), class { 'ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'), ovn_chassis_mac_map => $ovn_chassis_mac_map,"," $ovn_db_host = hiera('ovn_dbs_vip'), $ovn_sbdb_port = hiera('ovn::southbound::port'), $protocol = 'tcp', $step = Integer(hiera('step')) class { '::ovn::controller': ovn_remote => join([$protocol, normalize_ip_for_uri($ovn_db_host), ""${ovn_sbdb_port}""], ':'),",18,6
openstack%2Fpuppet-tripleo~master~I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,openstack/puppet-tripleo,master,I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5,cinder: remove support for the Veritas HyperScale Driver,MERGED,2021-04-22 15:40:43.000000000,2021-04-27 05:29:49.000000000,2021-04-27 05:29:49.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-22 15:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ab02656349b365fbe296274fd7da240ade495a6', 'message': 'cinder: Remove support for the Vetias HyperScale Driver\n\nDepends-on: https://review.opendev.org/787587\nChange-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5\n'}, {'number': 2, 'created': '2021-04-22 15:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eefc2d8aec8fedfc57f1cf0d1edb6ba98244b6d1', 'message': 'cinder: remove support for the Vetias HyperScale Driver\n\nFollowing the change in tripleo-heat-templates, this change removes\nall implementation to support the Veritas HyperScale Driver, since\nthe driver itself has been removed from cinder.\n\nDepends-on: https://review.opendev.org/787587\nChange-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5\n'}, {'number': 3, 'created': '2021-04-24 01:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55453ae227756ed85390668f729cb684b2c57569', 'message': 'cinder: remove support for the Vetias HyperScale Driver\n\nFollowing the change in tripleo-heat-templates, this change removes\nall implementation to support the Veritas HyperScale Driver, since\nthe driver itself has been removed from cinder.\n\nDepends-on: https://review.opendev.org/787587\nChange-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5\n'}, {'number': 4, 'created': '2021-04-24 12:41:50.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/rabbitmq.pp', 'spec/classes/tripleo_profile_base_cinder_veritas_hyperscale_spec.rb', 'manifests/profile/base/cinder/volume/veritas_hyperscale.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/52a9396acfbde11a9dc592cedd9f8768ff49ee06', 'message': 'cinder: remove support for the Veritas HyperScale Driver\n\nFollowing the change in tripleo-heat-templates, this change removes\nall implementation to support the Veritas HyperScale Driver, since\nthe driver itself has been removed from cinder.\n\nDepends-on: https://review.opendev.org/787587\nChange-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5\n'}]",2,787590,52a9396acfbde11a9dc592cedd9f8768ff49ee06,21,5,4,9816,,,0,"cinder: remove support for the Veritas HyperScale Driver

Following the change in tripleo-heat-templates, this change removes
all implementation to support the Veritas HyperScale Driver, since
the driver itself has been removed from cinder.

Depends-on: https://review.opendev.org/787587
Change-Id: I4131fcd5bb39dc09527f17b5d149fe18be3f2fd5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/787590/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/rabbitmq.pp', 'spec/classes/tripleo_profile_base_cinder_veritas_hyperscale_spec.rb', 'manifests/profile/base/cinder/volume/veritas_hyperscale.pp']",6,8ab02656349b365fbe296274fd7da240ade495a6,vrts,,"# Copyright (c) 2017 Veritas Technologies LLC. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::cinder::volume::veritas_hyperscale # # Cinder Volume Veritas HyperScale profile for tripleo # # === Parameters # # [*backend_name*] # (Optional) The name of Veritas HyperScale cinder backend. # Currently the backend name is hard-coded in the driver, and it won't # function if other value is set in hiera. # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::cinder::volume::veritas_hyperscale ( # Note: Currently the backend name is hard-coded in the driver, and it won't # function if other value is set in hiera. $backend_name = hiera('cinder::backend::veritas_hyperscale::volume_backend_name', 'Veritas_HyperScale'), $step = Integer(hiera('step')), ) { include tripleo::profile::base::cinder::volume if $step >= 4 { cinder::backend::veritas_hyperscale { $backend_name : backend_availability_zone => hiera('cinder::backend::veritas_hyperscale::backend_availability_zone', undef) } } } ",1,141
openstack%2Fpuppet-tripleo~stable%2Fussuri~I21d2b8f2e267a6f330cc423572b068e3910cacc4,openstack/puppet-tripleo,stable/ussuri,I21d2b8f2e267a6f330cc423572b068e3910cacc4,Use puppet-openstack-module-unit-jobs to define unit test jobs,MERGED,2021-04-23 14:34:29.000000000,2021-04-27 05:29:45.000000000,2021-04-27 05:29:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 14:34:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c04b6b52e6f63eacc8ed62a7566722de01dd1e03', 'message': ""Use puppet-openstack-module-unit-jobs to define unit test jobs\n\nThis patch replaces puppet-tripleo-module-unit-jobs by the common\njob definition, puppet-openstack-module-unit-jobs, so that we run\nunit test jobs which is consistent with the other puppet modules.\n\nBy merging this changes, we expect that the following change is made\nto the current job definitions\n- Remove CentOS7 job because we don't support CentOS7 anymore\n- Replace puppet 6.0 job by puppet 6.11 job\n\nBackport note:\nThe above descriptions were adjusted to reflect status of Ussuri.\n\nConflicts:\n\tzuul.d/layout.yaml\n\nChange-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4\n(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)\n""}]",0,787761,c04b6b52e6f63eacc8ed62a7566722de01dd1e03,7,3,1,9816,,,0,"Use puppet-openstack-module-unit-jobs to define unit test jobs

This patch replaces puppet-tripleo-module-unit-jobs by the common
job definition, puppet-openstack-module-unit-jobs, so that we run
unit test jobs which is consistent with the other puppet modules.

By merging this changes, we expect that the following change is made
to the current job definitions
- Remove CentOS7 job because we don't support CentOS7 anymore
- Replace puppet 6.0 job by puppet 6.11 job

Backport note:
The above descriptions were adjusted to reflect status of Ussuri.

Conflicts:
	zuul.d/layout.yaml

Change-Id: I21d2b8f2e267a6f330cc423572b068e3910cacc4
(cherry picked from commit ef254f7dc7ea257060042eb6ac7c8f6731d2e52b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/787761/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c04b6b52e6f63eacc8ed62a7566722de01dd1e03,zuul-ut, - puppet-openstack-module-unit-jobs,- project-template: name: puppet-tripleo-module-unit-jobs check: jobs: - puppet-openstack-unit-5.5-centos-7 - puppet-openstack-unit-5.5-centos-8 - puppet-openstack-unit-6.0-ubuntu-bionic - puppet-openstack-unit-latest-ubuntu-bionic: voting: false gate: jobs: - puppet-openstack-unit-5.5-centos-7 - puppet-openstack-unit-5.5-centos-8 - puppet-openstack-unit-6.0-ubuntu-bionic ,1,15
openstack%2Fos-collect-config~stable%2Fussuri~I7d01ce77918d60de1c4eb942044255b42c7fc9f5,openstack/os-collect-config,stable/ussuri,I7d01ce77918d60de1c4eb942044255b42c7fc9f5,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2021-02-02 12:40:43.000000000,2021-04-27 05:29:42.000000000,2021-04-27 05:29:42.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 12:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/ac01f19481c41fb6555f9b78f48f129ab7cf3cca', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5\n'}, {'number': 2, 'created': '2021-03-09 16:32:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/1bdb36136a052dddc3299c2775916aeb6ad3648b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5\n'}]",0,773654,1bdb36136a052dddc3299c2775916aeb6ad3648b,9,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/54/773654/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ac01f19481c41fb6555f9b78f48f129ab7cf3cca,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-collect-config~stable%2Fussuri~I06546ff9fdd24fb07a90758f882edeacccc4ebf3,openstack/os-collect-config,stable/ussuri,I06546ff9fdd24fb07a90758f882edeacccc4ebf3,Update .gitreview for stable/ussuri,MERGED,2021-02-02 12:40:14.000000000,2021-04-27 05:29:26.000000000,2021-04-27 05:29:26.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 12:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/d8e60ef36bc8fd470f78f6ae378252f039ec895a', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3\n'}, {'number': 2, 'created': '2021-03-09 16:32:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/385ad808fd66cd5a45412712c125d7726c9cb4b3', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3\n'}]",0,773653,385ad808fd66cd5a45412712c125d7726c9cb4b3,9,3,2,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/53/773653/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d8e60ef36bc8fd470f78f6ae378252f039ec895a,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,openstack/puppet-tripleo,stable/ussuri,Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63,Move stonith resource creation to step2,MERGED,2021-04-14 11:52:37.000000000,2021-04-27 05:29:22.000000000,2021-04-27 05:29:22.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-14 11:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6196157b54efb2c0bdd1c0803f4fcd10e9a18d84', 'message': ""Move stonith resource creation to step2\n\nWith the merging of the pcs on host patchset for train we are seeing a\nproblem with FFUs on Instance HA environments.\n\nPreamble:\nTripleo keeps the stonith-enabled cluster property set to false until the puppet step 5\n\nWith the pcs on host patchset the enablement happens still at step 5 but\nit gets triggered during tripleo_ha_wrapper deployment task of\ncinder-volume which tries to restart the cinder-volume service (during\nthe leapp of the first controller) and this hangs forever because\npacemaker is in the following transition:\n- stonith-fence_compute-fence-nova is configured\n- pacemaker wants to call stonith on for controller-0 (which is probably\n  dumb, but it is unlikely we'll be able to change that in the right\n  timeframe as it seems a potentially involved change in behaviour)\n- Any other action, like cinder-volume restart in this case, is stuck\n  and the FFU fails.\n\nIf we simply move the stonith resource creation (and change nothing else\nin the stonith-enabled property being set at step 5) to step 2, we\nfix this.\n\nTested and with the injection of this puppet-tripleo review into the\nFFU queens->train upgrade on an IHA system, now the FFU passes.\nAlso applied this patch to a Train based IHA deployment and verified\nthat deployment, redeploy, minor update and scaleup all keep on working.\n\nCloses-Bug: #1923723\n\nChange-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63\n""}, {'number': 2, 'created': '2021-04-23 11:58:37.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d9857e6f97157b3b4e0080d08fd407f92484d66f', 'message': ""Move stonith resource creation to step2\n\nWith the merging of the pcs on host patchset for train we are seeing a\nproblem with FFUs on Instance HA environments.\n\nPreamble:\nTripleo keeps the stonith-enabled cluster property set to false until the puppet step 5\n\nWith the pcs on host patchset the enablement happens still at step 5 but\nit gets triggered during tripleo_ha_wrapper deployment task of\ncinder-volume which tries to restart the cinder-volume service (during\nthe leapp of the first controller) and this hangs forever because\npacemaker is in the following transition:\n- stonith-fence_compute-fence-nova is configured\n- pacemaker wants to call stonith on for controller-0 (which is probably\n  dumb, but it is unlikely we'll be able to change that in the right\n  timeframe as it seems a potentially involved change in behaviour)\n- Any other action, like cinder-volume restart in this case, is stuck\n  and the FFU fails.\n\nIf we simply move the stonith resource creation (and change nothing else\nin the stonith-enabled property being set at step 5) to step 2, we\nfix this.\n\nTested and with the injection of this puppet-tripleo review into the\nFFU queens->train upgrade on an IHA system, now the FFU passes.\nAlso applied this patch to a Train based IHA deployment and verified\nthat deployment, redeploy, minor update and scaleup all keep on working.\n\nCloses-Bug: #1923723\n\nChange-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63\n""}]",0,786115,d9857e6f97157b3b4e0080d08fd407f92484d66f,32,5,2,20172,,,0,"Move stonith resource creation to step2

With the merging of the pcs on host patchset for train we are seeing a
problem with FFUs on Instance HA environments.

Preamble:
Tripleo keeps the stonith-enabled cluster property set to false until the puppet step 5

With the pcs on host patchset the enablement happens still at step 5 but
it gets triggered during tripleo_ha_wrapper deployment task of
cinder-volume which tries to restart the cinder-volume service (during
the leapp of the first controller) and this hangs forever because
pacemaker is in the following transition:
- stonith-fence_compute-fence-nova is configured
- pacemaker wants to call stonith on for controller-0 (which is probably
  dumb, but it is unlikely we'll be able to change that in the right
  timeframe as it seems a potentially involved change in behaviour)
- Any other action, like cinder-volume restart in this case, is stuck
  and the FFU fails.

If we simply move the stonith resource creation (and change nothing else
in the stonith-enabled property being set at step 5) to step 2, we
fix this.

Tested and with the injection of this puppet-tripleo review into the
FFU queens->train upgrade on an IHA system, now the FFU passes.
Also applied this patch to a Train based IHA deployment and verified
that deployment, redeploy, minor update and scaleup all keep on working.

Closes-Bug: #1923723

Change-Id: Ib3e2d9c93221dfc2e15974142f30e8c84e7afd63
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/786115/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,6196157b54efb2c0bdd1c0803f4fcd10e9a18d84,stonith-step-stable/victoria-stable/ussuri," # enable_fencing guides the enablement of the stonith-enabled cluster-wide property # enable_stonith_resources drives the creation of the stonith resources themselves and happens at # step2. The reason for step2 is the following: # During step1 the cluster is created (and also the pcmk remote resources in case of IHA) # Since stonith resources are created on each node separately we need to have the guarantee that # all cluster nodes + remote exist before creating stonith resources for them $enable_stonith_resources = str2bool(hiera('enable_fencing', false)) and $step >= 2 if $enable_stonith_resources {", if $enable_fencing {,8,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,stable/ussuri,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-26 14:34:15.000000000,2021-04-27 05:03:09.000000000,2021-04-27 05:02:00.000000000,"[{'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 14:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca6eb3c995a117a20648f2499e82e832668bb79e', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)\n""}, {'number': 2, 'created': '2021-04-26 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be1951951c6f68824a20db6e4c03b64db022cf8c', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)\n""}, {'number': 3, 'created': '2021-04-26 14:38:31.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfb282b50306a6a68c52da530818fce425da7b41', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787248\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)\n(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)\n""}]",0,787978,dfb282b50306a6a68c52da530818fce425da7b41,11,8,3,27419,,,0,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/787248
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
(cherry picked from commit e7d37585ac38cfef5f1d1f2c54b357c38757536a)
(cherry picked from commit d0d4f25f3df418fab2ea8a3cc79b731cf398dfc0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/787978/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml']",2,ca6eb3c995a117a20648f2499e82e832668bb79e,nova_qemu_client_tls_verify,--- features: - | `QemuDefaultTLSVerify` will allow operators to enable or disable TLS client certificate verification. Enabling this option will reject any client who does not have a certificate signed by the CA in /etc/pki/qemu/ca-cert.pem. The default is true and matches libvirt's. We will want to disable this by default in train. ,,22,0
openstack%2Fmistral-lib~master~Iccaf7cfb8051ec1b01fde0786489855013297703,openstack/mistral-lib,master,Iccaf7cfb8051ec1b01fde0786489855013297703,Dropping lower constraints testing,MERGED,2021-04-25 03:03:46.000000000,2021-04-27 04:32:57.000000000,2021-04-27 04:30:01.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 03:03:46.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/83b2d7ec4eea8ca07d5c8209a311b9779c702201', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Iccaf7cfb8051ec1b01fde0786489855013297703\n'}]",0,787864,83b2d7ec4eea8ca07d5c8209a311b9779c702201,8,3,1,31412,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Iccaf7cfb8051ec1b01fde0786489855013297703
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/64/787864/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,83b2d7ec4eea8ca07d5c8209a311b9779c702201,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,58
openstack%2Fpython-vitrageclient~master~I387ccef324ebc989da9fa5731472a26baa917a85,openstack/python-vitrageclient,master,I387ccef324ebc989da9fa5731472a26baa917a85,Add find to allowlist_externals and use vitrageclient in place of python_vitrageclient,ABANDONED,2021-04-26 08:59:18.000000000,2021-04-27 04:27:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-26 08:59:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/76d25dd5b68954265d9dd0c390a933e2373adbe0', 'message': 'Add find to allowlist_externals and use\nvitrageclient in place of python_vitrageclient\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I387ccef324ebc989da9fa5731472a26baa917a85\n'}]",0,787944,76d25dd5b68954265d9dd0c390a933e2373adbe0,5,2,1,33370,,,0,"Add find to allowlist_externals and use
vitrageclient in place of python_vitrageclient

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I387ccef324ebc989da9fa5731472a26baa917a85
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/44/787944/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,76d25dd5b68954265d9dd0c390a933e2373adbe0,stestr,allowlist_externals = find PYTHON=coverage run --source vitrageclient --parallel-mode, PYTHON=coverage run --source python_vitrageclient --parallel-mode,2,1
openstack%2Fpuppet-neutron~stable%2Fvictoria~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/victoria,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:18:23.000000000,2021-04-27 04:12:38.000000000,2021-04-27 04:12:38.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 00:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f63aeb672dc75c78cb8c4f9c34b83360b3435d60', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit 27619a9fc01a35865c64cb345e752c9f756e4811)\n""}, {'number': 2, 'created': '2021-04-26 12:06:50.000000000', 'files': ['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9029fe04cc2f504930613000f2169befc3540255', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)\n""}]",0,786961,9029fe04cc2f504930613000f2169befc3540255,17,4,2,9816,,,0,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
(cherry picked from commit db151245184f2188e8e4ef8be6b5418eba4e926b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/61/786961/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb']",2,f63aeb672dc75c78cb8c4f9c34b83360b3435d60,fix-l3-agent-extensions-list-stable/wallaby-stable/victoria," context 'with extensions in string' do before :each do params.merge!(:extensions => 'fip_qos,gateway_ip_qos,port_forwarding') end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end context 'with extensions in array' do before :each do params.merge!(:extensions => ['fip_qos', 'gateway_ip_qos', 'port_forwarding']) end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end",,22,2
openstack%2Ftempest-lib~master~Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,openstack/tempest-lib,master,Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:29:21.000000000,2021-04-27 03:52:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-02 06:29:21.000000000', 'files': ['tempest_lib/tests/base.py', 'tempest_lib/tests/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest-lib/commit/0926314d8ba2529f57caf2e1adb523fe9f030876', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6\n'}]",0,768859,0926314d8ba2529f57caf2e1adb523fe9f030876,4,2,1,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iac5d5ff30671f3d4bbcafa8ad03f8d503011e7a6
",git fetch https://review.opendev.org/openstack/tempest-lib refs/changes/59/768859/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_lib/tests/base.py', 'tempest_lib/tests/test_ssh.py']",2,0926314d8ba2529f57caf2e1adb523fe9f030876,,from unittest import mock,import mock,2,2
openstack%2Foslo.utils~master~I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,openstack/oslo.utils,master,I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d,Remove references to 'sys.version_info',ABANDONED,2021-04-27 01:53:54.000000000,2021-04-27 02:12:07.000000000,,[],"[{'number': 1, 'created': '2021-04-27 01:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0a36c25e1aed5b4a25ab06041f80e3bb8fbb8686', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d\n""}]",0,788136,0a36c25e1aed5b4a25ab06041f80e3bb8fbb8686,2,0,1,31827,,,0,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I48d3d121c2e3e34ab4ebb426b7cf57f9c86c924d
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/36/788136/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,0a36c25e1aed5b4a25ab06041f80e3bb8fbb8686,,,,0,0
openstack%2Fvalidations-common~master~I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,openstack/validations-common,master,I21de23aab15d742c0e46b6b37d8ad85c18b3b08c,ConfigParser exeption message should be returned,ABANDONED,2021-04-27 01:56:30.000000000,2021-04-27 01:58:17.000000000,,[],"[{'number': 1, 'created': '2021-04-27 01:56:30.000000000', 'files': ['validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/11d07be89c51312e8f00672b9293ac49b431545c', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c\n'}]",0,788118,11d07be89c51312e8f00672b9293ac49b431545c,2,0,1,27419,,,0,"ConfigParser exeption message should be returned

When we fail to parse config file it would be good to know why instead
of having a generic message. When we print the exception, the message is
pretty clear.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I21de23aab15d742c0e46b6b37d8ad85c18b3b08c
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/18/788118/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/library/validations_read_ini.py'],1,11d07be89c51312e8f00672b9293ac49b431545c,," except Exception as exception_msg: msg = f""The file '{path}' is not in a valid INI format: {exception_msg}"""," except Exception: msg = ""The file '{}' is not in a valid INI format."".format(path)",2,2
openstack%2Ftripleo-image-elements~stable%2Fussuri~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/ussuri,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:00:11.000000000,2021-04-27 01:47:05.000000000,2021-04-27 01:45:41.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-04-26 14:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d0f479c869983279f9e4c72a3867bfe3d8ea1b2d', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit c3be6d7d3422858e28d4905431e083b9b0504130)\n'}, {'number': 2, 'created': '2021-04-26 15:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/733dd4d5f71655b4ff0a5a0dc2d9a5936a740a64', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)\n'}, {'number': 3, 'created': '2021-04-26 15:05:00.000000000', 'files': ['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'requirements.txt', 'test-requirements.txt', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'tests/test_no_dup_filenames.py', 'elements/os-svc-install/bin/os-svc-install'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)\n'}]",0,788004,2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3,11,4,3,14985,,,0,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/04/788004/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'elements/os-svc-install/bin/os-svc-install']",5,d0f479c869983279f9e4c72a3867bfe3d8ea1b2d,fix-ci-ussuri, pip install -U 'pbr>=0.11'," pip install -U 'pbr>=0.11,<2.0'",5,5
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,openstack/tripleo-image-elements,stable/train,Ifd0d2f810799992faa1db41b80bf93bc97d5d19d,Drop pbr version ceiling,MERGED,2021-04-26 14:01:12.000000000,2021-04-27 01:46:50.000000000,2021-04-27 01:45:25.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-04-26 14:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f449f963cc68c8265f7d457a7f1eca6534599b07', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit c3be6d7d3422858e28d4905431e083b9b0504130)\n'}, {'number': 2, 'created': '2021-04-26 15:08:20.000000000', 'files': ['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'requirements.txt', 'test-requirements.txt', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'tests/test_no_dup_filenames.py', 'elements/os-svc-install/bin/os-svc-install'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/44c79f626b3a66d07b71fb12cf416286b55d614b', 'message': 'Drop pbr version ceiling\n\n- Ceiling of pbr version can create installation conflicts with pip.\n- Fixes tox default env list to be python version agnostic\n- Includes hacking version bump to fix dependencies\n\nNOTE: Partial backport of the master fix. This patch excludes the py39\njob updates.\n\nBug: #1921679\nChange-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d\n(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)\n(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)\n(cherry picked from commit 2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3)\n'}]",0,788005,44c79f626b3a66d07b71fb12cf416286b55d614b,11,4,2,14985,,,0,"Drop pbr version ceiling

- Ceiling of pbr version can create installation conflicts with pip.
- Fixes tox default env list to be python version agnostic
- Includes hacking version bump to fix dependencies

NOTE: Partial backport of the master fix. This patch excludes the py39
job updates.

Bug: #1921679
Change-Id: Ifd0d2f810799992faa1db41b80bf93bc97d5d19d
(cherry picked from commit c69ead8b45d28befc693a5d0583868cef501ff25)
(cherry picked from commit 55b2437394abddc23be5781aa495ffabf24f2f31)
(cherry picked from commit 2b5e3aaefdeb3e1de5d47efdba5e5d82952b89b3)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/05/788005/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/os-apply-config/install.d/os-apply-config-source-install/10-os-apply-config', 'elements/os-refresh-config/install.d/os-refresh-config-source-install/10-os-refresh-config', 'elements/os-net-config/install.d/os-net-config-source-install/50-os-net-config-source', 'elements/os-collect-config/install.d/os-collect-config-source-install/10-os-collect-config', 'elements/os-svc-install/bin/os-svc-install']",5,f449f963cc68c8265f7d457a7f1eca6534599b07,fix-ci-train, pip install -U 'pbr>=0.11'," pip install -U 'pbr>=0.11,<2.0'",5,5
openstack%2Ftripleo-image-elements~stable%2Ftrain~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/train,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:18:31.000000000,2021-04-27 01:45:49.000000000,2021-04-27 01:45:49.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 18:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d0e58f445327b461c51d0c61a39f38476b643c9c', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 2, 'created': '2021-04-26 14:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6e41f59fe93437eefbe2d6b6ab55bb82b82c7c7f', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 3, 'created': '2021-04-26 15:08:41.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c6d24542ab16019d643fa42ba7f5834e53d8d087', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}]",0,787797,c6d24542ab16019d643fa42ba7f5834e53d8d087,19,7,3,9592,,,0,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/97/787797/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,d0e58f445327b461c51d0c61a39f38476b643c9c,ens3-1,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3*,if [ -f /etc/sysconfig/network-scripts/ifcfg-ens3 ]; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3,2,2
openstack%2Ftripleo-image-elements~stable%2Fussuri~I29d632814577db0b720b07d4497983e267d46a4e,openstack/tripleo-image-elements,stable/ussuri,I29d632814577db0b720b07d4497983e267d46a4e,ensure any ens3 interface is nuked during image build,MERGED,2021-04-23 18:17:45.000000000,2021-04-27 01:45:45.000000000,2021-04-27 01:45:45.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 18:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9016b2b0bfe0ee1091a79f6e93c303b3daeb1307', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 2, 'created': '2021-04-26 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3629412cbf57354b32b07a822194b496f556fa66', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}, {'number': 3, 'created': '2021-04-26 15:08:52.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/49c16a368ee4e1f1ba99a04883f7342f964ab7a9', 'message': ""ensure any ens3 interface is nuked during image build\n\nIt seems as though w/ CentOS-8.3 ens3 has crept\nback into play.  Ensure it's not in the overcloud\nimages.  See bug for details.\n\nCloses-Bug: #1910107\nChange-Id: I29d632814577db0b720b07d4497983e267d46a4e\n(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)\n""}]",0,787796,49c16a368ee4e1f1ba99a04883f7342f964ab7a9,20,7,3,9592,,,0,"ensure any ens3 interface is nuked during image build

It seems as though w/ CentOS-8.3 ens3 has crept
back into play.  Ensure it's not in the overcloud
images.  See bug for details.

Closes-Bug: #1910107
Change-Id: I29d632814577db0b720b07d4497983e267d46a4e
(cherry picked from commit d072a79acf52a87333fa663059eb769009b8fb4e)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/96/787796/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,9016b2b0bfe0ee1091a79f6e93c303b3daeb1307,ens3-1,if ls /etc/sysconfig/network-scripts/ifcfg-ens3* &> /dev/null; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3*,if [ -f /etc/sysconfig/network-scripts/ifcfg-ens3 ]; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3,2,2
openstack%2Ftripleo-heat-templates~master~I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,openstack/tripleo-heat-templates,master,I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592,Correct metrics_qdr logging path and regex parsing,MERGED,2021-04-12 18:55:41.000000000,2021-04-27 01:45:11.000000000,2021-04-27 01:45:11.000000000,"[{'_account_id': 5241}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-12 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/adca1cd0040ea1bd5e1c83c31dfe41524485a133', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\nResolves: rhbz#1945075\n'}, {'number': 2, 'created': '2021-04-12 19:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2af2b36057d3aac870200f16745e9f9ab65f1817', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\nResolves: rhbz#1945075\n'}, {'number': 3, 'created': '2021-04-13 21:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0e0b66db8994c0814e76686bf51eec5eda3f5cd', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\nResolves: rhbz#1945075\n'}, {'number': 4, 'created': '2021-04-23 18:35:00.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cda21df470cb801608fa7cf625100e754bc8e161', 'message': 'Correct metrics_qdr logging path and regex parsing\n\nChange-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592\nResolves: rhbz#1945075\n'}]",1,785956,cda21df470cb801608fa7cf625100e754bc8e161,27,7,4,31510,,,0,"Correct metrics_qdr logging path and regex parsing

Change-Id: I98c1b7b21f9d5bd6e0f91ed7b1df74d01ab2b592
Resolves: rhbz#1945075
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/785956/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml']",2,adca1cd0040ea1bd5e1c83c31dfe41524485a133,logging-fix, file: /var/log/containers/metrics_qdr/metrics_qdr.log \\+[0-9]+)? [A-Z]+ \\([a-z]+\\) ', file: /var/log/containers/qdrouterd/metrics_qdr.log \+[0-9]+)? [A-Z]+ \([a-z]+\) ',3,3
openstack%2Fpuppet-vswitch~master~I6110cd9a62f33e2d046fc2c835aaec73c4532889,openstack/puppet-vswitch,master,I6110cd9a62f33e2d046fc2c835aaec73c4532889,Drop support for FreeBSD and Solaris,MERGED,2021-04-25 12:55:41.000000000,2021-04-27 01:43:48.000000000,2021-04-27 01:43:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 12:55:41.000000000', 'files': ['metadata.json', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'lib/puppet/provider/vs_bridge/ovs.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b91243937e53d23970cddb19b9883be3773b5fb0', 'message': 'Drop support for FreeBSD and Solaris\n\nThese two distros are never tested in gate, and there are almost no\nactivities to keep these support updated for a while.\n\nChange-Id: I6110cd9a62f33e2d046fc2c835aaec73c4532889\n'}]",0,787881,b91243937e53d23970cddb19b9883be3773b5fb0,11,3,1,9816,,,0,"Drop support for FreeBSD and Solaris

These two distros are never tested in gate, and there are almost no
activities to keep these support updated for a while.

Change-Id: I6110cd9a62f33e2d046fc2c835aaec73c4532889
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/81/787881/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'manifests/ovs.pp', 'lib/puppet/provider/vs_bridge/ovs.rb', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/params.pp']",5,b91243937e53d23970cddb19b9883be3773b5fb0,untested-distro,," 'FreeBSD': { $ovs_package_name = 'openvswitch' $ovs_pkg_provider = 'pkgng' $provider = 'ovs' $ovs_service_name = 'ovs-vswitchd' $ovsdb_service_name = 'ovsdb-server' $ovs_status = ""/usr/sbin/service ${ovs_service_name} onestatus"" $ovsdb_status = ""/usr/sbin/service ${ovsdb_service_name} onestatus"" } 'Solaris': { $ovs_package_name = 'service/network/openvswitch' $ovs_service_name = 'application/openvswitch/vswitch-server:default' $ovsdb_service_name = 'application/openvswitch/ovsdb-server:default' $ovs_status = ""/usr/bin/svcs -H -o state ${ovs_service_name} | grep online"" $ovsdb_status = ""/usr/bin/svcs -H -o state ${ovsdb_service_name} | grep online"" }",4,215
openstack%2Fneutron~master~Iffd1deb977e92b9a600ab2603408ddf2eb387e18,openstack/neutron,master,Iffd1deb977e92b9a600ab2603408ddf2eb387e18,[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables,MERGED,2021-04-23 16:34:44.000000000,2021-04-27 01:12:50.000000000,2021-04-26 12:26:17.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-23 16:34:44.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce2c0010b93680bdcb6619940a84f8602769b837', 'message': ""[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables\n\nIf both Chassis and Chassis_Private tables are passed to the\nMetadataProxyHandler class we should conditionally monitor both of them.\n\nChange-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCloses-Bug: #1925836\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,787780,ce2c0010b93680bdcb6619940a84f8602769b837,14,6,1,6773,,,0,"[OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables

If both Chassis and Chassis_Private tables are passed to the
MetadataProxyHandler class we should conditionally monitor both of them.

Change-Id: Iffd1deb977e92b9a600ab2603408ddf2eb387e18
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Closes-Bug: #1925836
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/787780/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,ce2c0010b93680bdcb6619940a84f8602769b837,bug/1925836-md-chassis-monitoring," for table in set(tables).intersection({'Chassis', 'Chassis_Private'}): self.tables[table].condition = [['name', '==', chassis]]"," table = ('Chassis_Private' if 'Chassis_Private' in tables else 'Chassis') self.tables[table].condition = [['name', '==', chassis]]",3,3
openstack%2Fmasakari-monitors~master~Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,openstack/masakari-monitors,master,Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d,Replaces yaml.load() with yaml.safe_load(),MERGED,2018-02-13 07:07:12.000000000,2021-04-27 01:03:05.000000000,2021-04-27 01:01:58.000000000,"[{'_account_id': 19853}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 26991}, {'_account_id': 30491}, {'_account_id': 30623}, {'_account_id': 32304}]","[{'number': 1, 'created': '2018-02-13 07:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/70c62e38cbda516a6ef940aad4a528d828b66e07', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive a YAML\ndocument from an untrusted source such as the Internet. The function\nyaml.safe_load() limits this ability to simple Python objects like integers or\nlists.\n\nReference:\nhttps://security.openstack.org/guidelines/ dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d\n'}, {'number': 2, 'created': '2018-02-13 09:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/87e213da4ec651557f3fd5a2a90e8130436d745e', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive a YAML\ndocument from an untrusted source such as the Internet. The function\nyaml.safe_load() limits this ability to simple Python objects like integers or\nlists.\n\nReference:\nhttps://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d\n'}, {'number': 3, 'created': '2018-03-07 01:37:02.000000000', 'files': ['masakarimonitors/processmonitor/process.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/1087a38cc2f77dd7a4b02a34daae9bc4b77dc624', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive a YAML\ndocument from an untrusted source such as the Internet. The function\nyaml.safe_load() limits this ability to simple Python objects like\nintegers or lists.\n\nReference:\nhttps://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d\n'}]",3,543815,1087a38cc2f77dd7a4b02a34daae9bc4b77dc624,22,8,3,19853,,,0,"Replaces yaml.load() with yaml.safe_load()

Yaml.load() return Python object may be dangerous if you receive a YAML
document from an untrusted source such as the Internet. The function
yaml.safe_load() limits this ability to simple Python objects like
integers or lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: Ic1b19423f7a9d93e9bc76bf94b5d5e3101f8341d
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/15/543815/2 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/process.py'],1,70c62e38cbda516a6ef940aad4a528d828b66e07,, process_list = yaml.safe_load(open(CONF.process.process_list_path)), process_list = yaml.load(open(CONF.process.process_list_path)),1,1
openstack%2Fkayobe~master~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,master,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:10:35.000000000,2021-04-27 00:33:51.000000000,2021-04-27 00:32:30.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-04-26 08:10:35.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7411e624dea77a1b94d91bd37c9a388aa5011bb4', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\n""}]",0,787934,7411e624dea77a1b94d91bd37c9a388aa5011bb4,15,6,1,15197,,,0,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/34/787934/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,7411e624dea77a1b94d91bd37c9a388aa5011bb4,, version: v0.1.0, # There are no versioned releases of this role. version: 5be3ee7d330aa17317897bd104dc87ff0df11915,1,2
openstack%2Fneutron~stable%2Fussuri~Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,openstack/neutron,stable/ussuri,Ia90f2ee435b0a3476dbea028d3200cefe11e35e4,[L3] Check agent gateway port robustly,MERGED,2021-03-10 14:31:56.000000000,2021-04-27 00:14:39.000000000,2021-04-27 00:12:47.000000000,"[{'_account_id': 10366}, {'_account_id': 16688}, {'_account_id': 19298}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fab086c0f9ab7f301afdd944854ad319dd223843', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\n[1] https://review.opendev.org/#/c/702547/\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)\n'}, {'number': 2, 'created': '2021-04-25 06:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fde36680bb0ad6102e1c2c5f8cf576a2c8b91acf', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\n[1] https://review.opendev.org/#/c/702547/\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)\n'}, {'number': 3, 'created': '2021-04-26 07:07:41.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4093727ae9c751cce8c39dd0eb022b2c9b90d624', 'message': '[L3] Check agent gateway port robustly\n\nIn patch [1] it introduced a binding of DB uniq constraint for L3\nagent gateway. In some extreme case the DvrFipGatewayPortAgentBinding\nis in DB while the gateway port not. The current code path only checks\nthe binding existence which will pass a ""None"" port to the following\ncode path that results an AttributeError. This patch adds a simple check\nfor that gateway port, if it is not created, new one.\n\n[1] https://review.opendev.org/#/c/702547/\n\nCloses-Bug: #1883089\nChange-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4\n(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)\n'}]",0,779613,4093727ae9c751cce8c39dd0eb022b2c9b90d624,24,5,3,9531,,,0,"[L3] Check agent gateway port robustly

In patch [1] it introduced a binding of DB uniq constraint for L3
agent gateway. In some extreme case the DvrFipGatewayPortAgentBinding
is in DB while the gateway port not. The current code path only checks
the binding existence which will pass a ""None"" port to the following
code path that results an AttributeError. This patch adds a simple check
for that gateway port, if it is not created, new one.

[1] https://review.opendev.org/#/c/702547/

Closes-Bug: #1883089
Change-Id: Ia90f2ee435b0a3476dbea028d3200cefe11e35e4
(cherry picked from commit 5fdfd4cbfc56425c56b4a5702d92a97da56ab6e8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/779613/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py']",2,fab086c0f9ab7f301afdd944854ad319dd223843,bug/1883089-stable/ussuri," LOG.debug(""Floating IP Gateway port agent binding for network "" if agent_port:"," LOG.debug(""Floating IP Agent Gateway port for network """,38,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Icaebf1f72a1655883c54c730e5c6976c5fbc6989,openstack/puppet-openstack-integration,stable/train,Icaebf1f72a1655883c54c730e5c6976c5fbc6989,Train-only: Add Puppet 5 syntax job on CentOS8 Stream,ABANDONED,2021-04-23 07:18:42.000000000,2021-04-27 00:11:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 07:18:42.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/linters.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9eb7ac3effe9293a353eeb8200570ba3a524bc67', 'message': 'Train-only: Add Puppet 5 syntax job on CentOS8 Stream\n\nChange-Id: Icaebf1f72a1655883c54c730e5c6976c5fbc6989\n'}]",0,787671,9eb7ac3effe9293a353eeb8200570ba3a524bc67,3,1,1,9816,,,0,"Train-only: Add Puppet 5 syntax job on CentOS8 Stream

Change-Id: Icaebf1f72a1655883c54c730e5c6976c5fbc6989
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/787671/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/linters.yaml']",2,9eb7ac3effe9293a353eeb8200570ba3a524bc67,, name: puppet-openstack-libraries-puppet-syntax-5-centos-8-stream parent: puppet-openstack-libraries-puppet-syntax nodeset: centos-8-stream voting: false vars: puppet: 5 - job:,,9,0
openstack%2Ftripleo-validations~master~If23c41d343678dcbbd0b4aae10ca6281a33e385f,openstack/tripleo-validations,master,If23c41d343678dcbbd0b4aae10ca6281a33e385f,Make tls_everywhere validations compatible with ansible_facts,MERGED,2021-04-24 09:18:32.000000000,2021-04-26 23:49:13.000000000,2021-04-26 23:49:13.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-24 09:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a97abcb033e9f47aea81850b2d0af452adbdd6ab', 'message': 'Make tls_everywhere validations compatiable with ansible_facts\n\nVia [1] we cannot rely on ansible_* vars anymore. So let\'s switch to\nansible_facts. This should fix the following error:\n\n  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:\n  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an\n  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |\n  default(ansible_fqdn) }}: \'ansible_fqdn\' is undefined\\n\\nThe error\n  appears to be in\n  \'/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml\':\n  line 59, column 7, but may\\nbe elsewhere in the file depending on the\n  exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n    -\n  name: kinit as the host entity\\n      ^ here\\n""}\n\nCloses-Bug: #1925999\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d\n\nChange-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f\n'}, {'number': 2, 'created': '2021-04-24 09:20:07.000000000', 'files': ['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b63d45a2c6d108c3ad62b098a07af72736650755', 'message': 'Make tls_everywhere validations compatible with ansible_facts\n\nVia [1] we cannot rely on ansible_* vars anymore. So let\'s switch to\nansible_facts. This should fix the following error:\n\n  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:\n  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an\n  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |\n  default(ansible_fqdn) }}: \'ansible_fqdn\' is undefined\\n\\nThe error\n  appears to be in\n  \'/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml\':\n  line 59, column 7, but may\\nbe elsewhere in the file depending on the\n  exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n\\n    -\n  name: kinit as the host entity\\n      ^ here\\n""}\n\nCloses-Bug: #1925999\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d\n\nChange-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f\n'}]",0,787835,b63d45a2c6d108c3ad62b098a07af72736650755,10,11,2,20172,,,0,"Make tls_everywhere validations compatible with ansible_facts

Via [1] we cannot rely on ansible_* vars anymore. So let's switch to
ansible_facts. This should fix the following error:

  2021-04-22 22:08:36,708 p=36100 u=mistral n=ansible | fatal:
  [undercloud]: FAILED! => {""msg"": ""The task includes an option with an
  undefined variable. The error was: {{ tls_everywhere_undercloud_fqdn |
  default(ansible_fqdn) }}: 'ansible_fqdn' is undefined\n\nThe error
  appears to be in
  '/usr/share/ansible/roles/tls_everywhere/tasks/ipa-server-check.yaml':
  line 59, column 7, but may\nbe elsewhere in the file depending on the
  exact syntax problem.\n\nThe offending line appears to be:\n\n\n    -
  name: kinit as the host entity\n      ^ here\n""}

Closes-Bug: #1925999

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/4e79336d69e6b7fa4b026922bac7953bafeee96d

Change-Id: If23c41d343678dcbbd0b4aae10ca6281a33e385f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/787835/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls_everywhere/tasks/common.yaml', 'roles/tls_everywhere/tasks/ipa-server-check.yaml']",2,a97abcb033e9f47aea81850b2d0af452adbdd6ab,fqdn,"# - tls_everywhere_undercloud_fqdn - which defaults to ansible_facts['fqdn'] undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_facts['fqdn']) }}""","# - tls_everywhere_undercloud_fqdn - which defaults to ansible_fqdn undercloud_fqdn: ""{{ tls_everywhere_undercloud_fqdn | default(ansible_fqdn) }}""",3,3
openstack%2Ftripleo-ansible~master~I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,openstack/tripleo-ansible,master,I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d,Fix molecule jobs to work with stream nodes,MERGED,2021-04-26 09:02:36.000000000,2021-04-26 23:49:08.000000000,2021-04-26 23:49:08.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 09:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e0ef0f59caf3457b0a49172f4a53b7d3c55b10b', 'message': 'Fix molecule jobs to work with stream nodes\n\nChange-Id: I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d\n'}, {'number': 2, 'created': '2021-04-26 11:33:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/molecule/ffu/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/converge.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/update.yml', 'tripleo_ansible/roles/tripleo_packages/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e29933d41f0de6b0697a17ea88a5bfcee72103b', 'message': 'Fix molecule jobs to work with stream nodes\n\nChange-Id: I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d\n'}]",0,787946,7e29933d41f0de6b0697a17ea88a5bfcee72103b,10,6,2,10969,,,0,"Fix molecule jobs to work with stream nodes

Change-Id: I274fa5e2a4dcd0501f4b40ce38b5480c2f88002d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/787946/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_packages/molecule/ffu/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml']",13,9e0ef0f59caf3457b0a49172f4a53b7d3c55b10b,jobs, - /etc/dnf/vars:/etc/dnf/vars,,16,2
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I29e3e8b5dab256816ea108d23ccb1f0558e43e82,openstack/puppet-tripleo,stable/victoria,I29e3e8b5dab256816ea108d23ccb1f0558e43e82,Add ports filtering support to XtremIO Cinder driver,MERGED,2021-03-06 21:54:59.000000000,2021-04-26 23:35:41.000000000,2021-04-26 23:34:37.000000000,"[{'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 13671}, {'_account_id': 14985}, {'_account_id': 21570}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-06 21:54:59.000000000', 'files': ['releasenotes/notes/xtremio-add-ports-option-b1e60a97ba56f21e.yaml', 'manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f363602ba075141a87296bf83c828cdb8919b439', 'message': 'Add ports filtering support to XtremIO Cinder driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nDepends-On: https://review.opendev.org/#/c/779000\nRelated-Bug: #1915800\nChange-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82\n(cherry picked from commit 4c981b570210a10eac3f88c44570629d04eded64)\n'}]",0,779005,f363602ba075141a87296bf83c828cdb8919b439,15,6,1,31016,,,0,"Add ports filtering support to XtremIO Cinder driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Depends-On: https://review.opendev.org/#/c/779000
Related-Bug: #1915800
Change-Id: I29e3e8b5dab256816ea108d23ccb1f0558e43e82
(cherry picked from commit 4c981b570210a10eac3f88c44570629d04eded64)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/779005/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'releasenotes/notes/xtremio-add-ports-option-b1e60a97ba56f21e.yaml', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp']",3,f363602ba075141a87296bf83c828cdb8919b439,bug/1915800," 'CinderXtremioPorts' => hiera('cinder::backend::dellemc_xtremio::xtremio_ports', undef), xtremio_ports => $backend_config['CinderXtremioPorts'],",,8,0
openstack%2Ftripleo-common~master~I2c3e9088bf92146b07d46288c2264368e15aa63b,openstack/tripleo-common,master,I2c3e9088bf92146b07d46288c2264368e15aa63b,Add utils for local_orchestration_client,MERGED,2021-04-23 20:39:28.000000000,2021-04-26 23:10:51.000000000,2021-04-26 23:09:31.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-23 20:39:28.000000000', 'files': ['tripleo_common/utils/heat.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ebe43cd8db4140469b70858276e38fcbdf91b885', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,787819,ebe43cd8db4140469b70858276e38fcbdf91b885,15,4,1,7144,,,0,"Add utils for local_orchestration_client

Add a utils/heat.py which can be used by both tripleoclient and
tripleo-ansible to launch and configure a heatclient for ephemeral Heat.

Change-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/787819/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/heat.py'],1,ebe43cd8db4140469b70858276e38fcbdf91b885,ephemeral-heat,"# Copyright (c) 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import logging import os from osc_lib import utils as osc_lib_utils LOG = logging.getLogger(__name__) heatclient = None class EphemeralHeatClient(object): """"""A Heat client shim class to be used with ephemeral Heat. When the heat client is used to talk to the Heat API, the environment will be set with the correct variable configuration to configure Keystone for auth type none and to use a direct endpoint. After the client is finished, the environment is restored. This is necessary so that the entire system environment is not reconfigured for auth_type=none for the duration of the tripleoclient execution. :param heat: Heat client :type heat: `heatclient.heatclient` """""" def __init__(self, heat, host, port): self.heat = heat self.host = host self.port = port os.environ['OS_HEAT_TYPE'] = 'ephemeral' os.environ['OS_HEAT_HOST'] = host os.environ['OS_HEAT_PORT'] = str(port) def save_environment(self): self.environ = os.environ.copy() for v in ('OS_USER_DOMAIN_NAME', 'OS_PROJECT_DOMAIN_NAME', 'OS_PROJECT_NAME'): os.environ.pop(v, None) os.environ['OS_AUTH_TYPE'] = ""none"" os.environ['OS_ENDPOINT'] = self.heat.http_client.endpoint def restore_environment(self): os.environ = self.environ.copy() def __getattr__(self, attr): self.save_environment() try: val = getattr(self.heat, attr) finally: self.restore_environment() return val def local_orchestration_client(host=""127.0.0.1"", api_port=8006): """"""Returns a local orchestration service client"""""" API_VERSIONS = { '1': 'heatclient.v1.client.Client', } heat_client = osc_lib_utils.get_client_class( 'tripleoclient', '1', API_VERSIONS) LOG.debug('Instantiating local_orchestration client for ' 'host %s, port %s: %s', host, api_port, heat_client) endpoint = 'http://%s:%s/v1/admin' % (host, api_port) client = heat_client( endpoint=endpoint, username='admin', password='fake', region_name='regionOne', token='fake', ) global heatclient heatclient = EphemeralHeatClient(client, host, api_port) return heatclient ",,97,0
openstack%2Fopenstack-helm-infra~master~I1f07d8308d7f92f88149f63e8ea128f7038c58de,openstack/openstack-helm-infra,master,I1f07d8308d7f92f88149f63e8ea128f7038c58de,DNM - Alternate Mariadb Chart,ABANDONED,2021-04-26 20:31:33.000000000,2021-04-26 21:26:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 20:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d87b73026cfba37ff002cedbea1e4f4437e84654', 'message': 'DNM - Alternate Mariadb Chart\n\nChange-Id: I1f07d8308d7f92f88149f63e8ea128f7038c58de\n'}, {'number': 2, 'created': '2021-04-26 20:46:48.000000000', 'files': ['mariadb-pvc/templates/mariadb-pvc.yaml', 'mariadb-pvc/Chart.yaml', 'mariadb-pvc/files/docker-entrypoint-initdb.d/openstack.sql', 'mariadb-pvc/values.yaml', 'mariadb-pvc/.helmignore', 'mariadb-pvc/templates/deployment.yaml', 'mariadb-pvc/README.rst', 'mariadb-pvc/requirements.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c27eb700ddde2d050b8dfa7bbc69c3cbf09ee10', 'message': 'DNM - Alternate Mariadb Chart\n\nChange-Id: I1f07d8308d7f92f88149f63e8ea128f7038c58de\n'}]",0,788078,5c27eb700ddde2d050b8dfa7bbc69c3cbf09ee10,4,1,2,21420,,,0,"DNM - Alternate Mariadb Chart

Change-Id: I1f07d8308d7f92f88149f63e8ea128f7038c58de
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/788078/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb-pvc/templates/mariadb-pvc.yaml', 'mariadb-pvc/Chart.yaml', 'mariadb-pvc/values.yaml', 'mariadb-pvc/.helmignore', 'mariadb-pvc/templates/deployment.yaml', 'mariadb-pvc/README.rst', 'mariadb-pvc/requirements.yaml']",7,d87b73026cfba37ff002cedbea1e4f4437e84654,mariadb-pvc,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- dependencies: - name: helm-toolkit repository: http://localhost:8879/charts version: "">= 0.1.0"" ... ",,301,0
openstack%2Fpuppet-aodh~master~Ifece49e145c57b9b04312536ac771a55d791e4ab,openstack/puppet-aodh,master,Ifece49e145c57b9b04312536ac771a55d791e4ab,Add support for api/gnocchi_external_domain_name,MERGED,2021-04-23 13:38:42.000000000,2021-04-26 21:19:11.000000000,2021-04-26 21:18:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 13:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/832d504c5303e08a83bf48a6918782f4eb7b962b', 'message': 'Add support for api/gnocchi_external_domain_name\n\nChange-Id: Ifece49e145c57b9b04312536ac771a55d791e4ab\n'}, {'number': 2, 'created': '2021-04-25 11:46:49.000000000', 'files': ['spec/classes/aodh_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/gnocchi_external_domain_name-b592696cefac2242.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2b382776ad6cd73facb444c1e134b37649c06d8a', 'message': 'Add support for api/gnocchi_external_domain_name\n\nChange-Id: Ifece49e145c57b9b04312536ac771a55d791e4ab\n'}]",0,787738,2b382776ad6cd73facb444c1e134b37649c06d8a,10,3,2,9816,,,0,"Add support for api/gnocchi_external_domain_name

Change-Id: Ifece49e145c57b9b04312536ac771a55d791e4ab
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/38/787738/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/gnocchi_external_domain_name-b592696cefac2242.yaml']",3,832d504c5303e08a83bf48a6918782f4eb7b962b,gnocchi_external_domain_name,--- features: - | The new ``aodh::api::gnocchi_external_domain_name`` parameter has been added. ,,22,4
openstack%2Ftripleo-common~master~Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,openstack/tripleo-common,master,Id881bda7389b3c3ce40637ba5eedae4ff2b14dab,WIP: Changed retry logic on buildah build,ABANDONED,2020-12-15 14:49:42.000000000,2021-04-26 21:17:46.000000000,,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-12-15 14:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9b777a5c79e7c898bc69c68b9666b6ec96282cc', 'message': 'Changed retry logic on buildah build\n\n- Enables logging of retries, so we know how often it happens\n- Increase number of retries to 5\n- Switched delay from 1s to exponential, capping at 60s\n\nChange-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab\n'}, {'number': 2, 'created': '2020-12-16 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d14fb931d33d1912370a40b908c4d42c19243f1e', 'message': 'WIP: Changed retry logic on buildah build\n\n- Enables logging of retries, so we know how often it happens\n- Increase number of retries to 5\n- Switched delay from 1s to exponential, capping at 60s\n\nChange-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab\n'}, {'number': 3, 'created': '2020-12-16 08:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a139bb76b4e182426cc3392e1cfb398705222acf', 'message': 'WIP: Changed retry logic on buildah build\n\n- Refactored logging\n- Enables logging of retries, so we know how often it happens\n- Increase number of retries to 5\n- Switched delay from 1s to exponential, capping at 60s\n\nChange-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab\nTested-By: https://review.rdoproject.org/r/#/c/31369/\n'}, {'number': 4, 'created': '2020-12-16 12:52:15.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06339a2014d659adcd2d967ba400b9baae837ec3', 'message': 'WIP: Changed retry logic on buildah build\n\n- Refactored logging\n- Enables logging of retries, so we know how often it happens\n- Increase number of retries to 5\n- Switched delay from 1s to exponential, capping at 60s\n\nChange-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab\nTested-By: https://review.rdoproject.org/r/#/c/31369/\n'}]",0,767168,06339a2014d659adcd2d967ba400b9baae837ec3,14,5,4,24162,,,0,"WIP: Changed retry logic on buildah build

- Refactored logging
- Enables logging of retries, so we know how often it happens
- Increase number of retries to 5
- Switched delay from 1s to exponential, capping at 60s

Change-Id: Id881bda7389b3c3ce40637ba5eedae4ff2b14dab
Tested-By: https://review.rdoproject.org/r/#/c/31369/
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/767168/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,a9b777a5c79e7c898bc69c68b9666b6ec96282cc,zz,"LOG = logging.getLogger(__name__ + "".BuildahBuilder"") log = LOG @tenacity.retry( # Retry up to 5 times: 0, 1, 5, 21, 85 # http://exponentialbackoffcalculator.com/ wait=tenacity.wait_random_exponential(multiplier=4, max=60), stop=tenacity.stop_after_attempt(5), before=tenacity.before_log(LOG.log, logging.DEBUG), after=tenacity.after_log(LOG.log, logging.DEBUG)"," log = logging.getLogger(__name__ + "".BuildahBuilder"") @tenacity.retry( # Retry up to 3 times with 1 second delay wait=tenacity.wait_fixed(1), stop=tenacity.stop_after_attempt(3)",9,5
openstack%2Frpm-packaging~stable%2Fwallaby~I5e6e925632f8152a4fe0f7ba6cce86050395080c,openstack/rpm-packaging,stable/wallaby,I5e6e925632f8152a4fe0f7ba6cce86050395080c,Update .gitreview and tox.ini to stable/wallaby,MERGED,2021-04-26 14:39:03.000000000,2021-04-26 21:10:47.000000000,2021-04-26 21:10:47.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-26 14:39:03.000000000', 'files': ['.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d88c3e0cd6a62bfc4ee56d8f943b1e5a19b47692', 'message': 'Update .gitreview and tox.ini to stable/wallaby\n\nThis will direct reviews to use the right branches.\n\nChange-Id: I5e6e925632f8152a4fe0f7ba6cce86050395080c\n'}]",0,788012,d88c3e0cd6a62bfc4ee56d8f943b1e5a19b47692,6,4,1,13294,,,0,"Update .gitreview and tox.ini to stable/wallaby

This will direct reviews to use the right branches.

Change-Id: I5e6e925632f8152a4fe0f7ba6cce86050395080c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/788012/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'tox.ini']",2,d88c3e0cd6a62bfc4ee56d8f943b1e5a19b47692,,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},2,1
openstack%2Fkayobe~stable%2Fvictoria~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/victoria,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:26:23.000000000,2021-04-26 21:03:04.000000000,2021-04-26 21:01:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-26 08:26:23.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf10fce87a47c3ee732c6fd8c8a4d2951ba805ee', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/787938\n(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)\n""}]",0,787939,bf10fce87a47c3ee732c6fd8c8a4d2951ba805ee,12,3,1,15197,,,0,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787938
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/787939/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,bf10fce87a47c3ee732c6fd8c8a4d2951ba805ee,, version: v0.1.0, # There are no versioned releases of this role. version: 5be3ee7d330aa17317897bd104dc87ff0df11915,1,2
openstack%2Ftripleo-image-elements~stable%2Fvictoria~I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,openstack/tripleo-image-elements,stable/victoria,I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc,add default branch to .gitreview,ABANDONED,2021-04-26 17:17:27.000000000,2021-04-26 20:20:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 17:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3f40308963dae572414cf76bde4afc817febd4d3', 'message': 'add default branch to .gerritreview\n\nChange-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc\n'}, {'number': 2, 'created': '2021-04-26 17:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/88ca30aa50f8d2cc9d75cbb26756bbadcb31ba5c', 'message': 'add default branch to .gitreview\n\nChange-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc\n'}, {'number': 3, 'created': '2021-04-26 20:12:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ca9a466ef24d241bce481e8f72f51bac0b639cba', 'message': 'add default branch to .gitreview\n\nChange-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc\n'}]",0,788049,ca9a466ef24d241bce481e8f72f51bac0b639cba,6,1,3,9592,,,0,"add default branch to .gitreview

Change-Id: I82e73dc9d592d360e545a66b3f0b4d3252e5a4fc
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/49/788049/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3f40308963dae572414cf76bde4afc817febd4d3,victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fpuppet-ovn~master~I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,openstack/puppet-ovn,master,I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d,Remove deprecated ovn::controller::enable_hw_offload,MERGED,2021-04-25 11:49:45.000000000,2021-04-26 20:18:08.000000000,2021-04-26 20:16:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 11:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/89a91e1274d58b6680454468d4fc9400c7a53d98', 'message': 'Remove deprecated ovn::controller::enable_hw_offload\n\nChange-Id: I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d\n'}, {'number': 2, 'created': '2021-04-25 13:05:16.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/remove-enable_hw_offload-8feda6a860a5e7d3.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/bbfc138c287c8a0e97711fa70e05e60a3c3fc981', 'message': 'Remove deprecated ovn::controller::enable_hw_offload\n\nChange-Id: I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d\n'}]",0,787877,bbfc138c287c8a0e97711fa70e05e60a3c3fc981,12,3,2,9816,,,0,"Remove deprecated ovn::controller::enable_hw_offload

Change-Id: I9cd3105d13e02a7bbd5ef6ad4befed7bae9d488d
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/77/787877/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/remove-enable_hw_offload-8feda6a860a5e7d3.yaml']",3,89a91e1274d58b6680454468d4fc9400c7a53d98,hw_offload,--- upgrade: - | The ``ovn::controller::enable_hw_offload`` prameter has been removed ,,4,11
openstack%2Ftripleo-docs~master~I93a524f210045bc0ac291f3a2be8cc8dead9a223,openstack/tripleo-docs,master,I93a524f210045bc0ac291f3a2be8cc8dead9a223,Add scale up/down example for cephadm integration,MERGED,2021-04-23 22:04:13.000000000,2021-04-26 20:17:48.000000000,2021-04-26 20:16:22.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-23 22:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7c1c40a47d2e932cd6fc4d02e610e1ddc9e57520', 'message': 'Add scale up/down example for cephadm integration\n\nChange-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223\n'}, {'number': 2, 'created': '2021-04-24 19:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/067bab3ccd11c9c0beb0ab4c3643358bfc8b64be', 'message': 'Add scale up/down example for cephadm integration\n\nChange-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223\n'}, {'number': 3, 'created': '2021-04-24 20:01:04.000000000', 'files': ['deploy-guide/source/features/cephadm.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1ccdfbfafae369d83356b2596b2f30a86d60567f', 'message': 'Add scale up/down example for cephadm integration\n\nChange-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223\n'}]",17,787825,1ccdfbfafae369d83356b2596b2f30a86d60567f,15,5,3,18002,,,0,"Add scale up/down example for cephadm integration

Change-Id: I93a524f210045bc0ac291f3a2be8cc8dead9a223
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/25/787825/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/cephadm.rst'],1,7c1c40a47d2e932cd6fc4d02e610e1ddc9e57520,," openstack overcloud deploy --templates \ -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml openstack overcloud deploy --templates \ -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml \ -e cephadm-overrides.yamlScenario: Deploy Ceph with TripleO and Metalsmith ------------------------------------------------- Deploy the hardware as described in :doc:`../provisioning/baremetal_provision` and include nodes with in the `CephStorage` role. For example, the following could be the content of ~/overcloud_baremetal_deploy.yaml:: - name: Controller count: 3 instances: - hostname: controller-0 name: controller-0 - hostname: controller-1 name: controller-1 - hostname: controller-2 name: controller-2 - name: CephStorage count: 3 instances: - hostname: ceph-0 name: ceph-0 - hostname: ceph-1 name: ceph-2 - hostname: ceph-2 name: ceph-2 - name: Compute count: 33 instances: - hostname: compute-0 name: compute-0 which is passed to the following command:: openstack overcloud node provision \ --stack overcloud \ --output ~/overcloud-baremetal-deployed.yaml \ ~/overcloud_baremetal_deploy.yaml As described in :doc:`../provisioning/baremetal_provision`, pass ~/overcloud_baremetal_deploy.yaml as input, along with /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml and cephadm-overrides.yaml described above, to the `openstack overcloud deploy` command. Scenario: Scale Up Ceph with TripleO and Metalsmith --------------------------------------------------- Modify the ~/overcloud_baremetal_deploy.yaml file described above to add more CephStorage nodes. In the example below the number of storage nodes is doubled:: - name: CephStorage count: 6 instances: - hostname: ceph-0 name: ceph-0 - hostname: ceph-1 name: ceph-2 - hostname: ceph-2 name: ceph-2 - hostname: ceph-3 name: ceph-3 - hostname: ceph-4 name: ceph-4 - hostname: ceph-5 name: ceph-5 As described in :doc:`../provisioning/baremetal_provision`, re-run the same `openstack overcloud node provision` command with the updated ~/overcloud_baremetal_deploy.yaml file. This will result in the three new storage nodes being provisioned and output an updated copy of ~/overcloud-baremetal-deployed.yaml. The updated copy will have the `CephStorageCount` changed from 3 to 6 and the `DeployedServerPortMap` and `HostnameMap` will contain the new storage nodes. After the three new storage nodes are deployed run the same `openstack overcloud deploy` command as described in the previous section with updated copy of ~/overcloud-baremetal-deployed.yaml. The additional Ceph Storage nodes will be added to the Ceph and the increased capacity will available. In particular, the following will happen as a result of running `openstack overcloud deploy`: - The storage networks and firewall rules will be appropriately configured on the new CephStorage nodes - The ceph-admin user will be created on the new CephStorage nodes - The ceph-admin user's SSH keys will be distributed to the new CephStorage nodes so that cephadm can use SSH to add extra nodes - An updated Ceph spec will be generated and installed on the bootstrap node, i.e. /home/ceph-admin/specs/ceph_spec.yaml on the bootstrap node will contain new entries for the new CephStorage nodes. - The cephadm boostrap process will be skipped because `cephadm ls` will indciate that Ceph containers are already running. - The updated spec will be applied and cephadm will schedule the new nodes to join the cluster. Scenario: Scale Down Ceph with TripleO and Metalsmith ----------------------------------------------------- .. warning:: This procedure is only possible if the Ceph cluster has the capacity to loose OSDs. Start a Ceph shell as described in ""Accessing the Ceph Command Line"" above and idenitfy the OSDs to be removed by server. In the following example we will idenitfy the OSDs of the host ceph-2:: [ceph: root@oc0-controller-0 /]# ceph osd tree ID CLASS WEIGHT TYPE NAME STATUS REWEIGHT PRI-AFF -1 0.58557 root default ... <redacted> -7 0.19519 host ceph-2 5 hdd 0.04880 osd.5 up 1.00000 1.00000 7 hdd 0.04880 osd.7 up 1.00000 1.00000 9 hdd 0.04880 osd.9 up 1.00000 1.00000 11 hdd 0.04880 osd.11 up 1.00000 1.00000 ... <redacted> [ceph: root@oc0-controller-0 /]# As per the example above the ceph-2 host has OSDs 5,7,9,11 which can be removed by running `ceph orch osd rm 5 7 9 11`. For example:: [ceph: root@oc0-controller-0 /]# ceph orch osd rm 5 7 9 11 Scheduled OSD(s) for removal [ceph: root@oc0-controller-0 /]# ceph orch osd rm status OSD_ID HOST STATE PG_COUNT REPLACE FORCE DRAIN_STARTED_AT 7 ceph-2 draining 27 False False 2021-04-23 21:35:51.215361 9 ceph-2 draining 8 False False 2021-04-23 21:35:49.111500 11 ceph-2 draining 14 False False 2021-04-23 21:35:50.243762 [ceph: root@oc0-controller-0 /]# Use `ceph orch osd rm status` to check the status:: [ceph: root@oc0-controller-0 /]# ceph orch osd rm status OSD_ID HOST STATE PG_COUNT REPLACE FORCE DRAIN_STARTED_AT 7 ceph-2 draining 34 False False 2021-04-23 21:35:51.215361 11 ceph-2 done, waiting for purge 0 False False 2021-04-23 21:35:50.243762 [ceph: root@oc0-controller-0 /]# Only proceed if `ceph orch osd rm status` returns no output. Remove the host with `ceph orch host rm <HOST>`. For example:: [ceph: root@oc0-controller-0 /]# ceph orch host rm ceph-2 Removed host 'ceph-2' [ceph: root@oc0-controller-0 /]# Now that the host and OSDs have been logically removed from the Ceph cluster proceed to remove the host from the overcloud as described in the ""Scaling Down"" section of :doc:`../provisioning/baremetal_provision`. ", openstack overcloud deploy --templates -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml openstack overcloud deploy --templates -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml -e cephadm-overrides.yaml,157,2
openstack%2Fnova~stable%2Fwallaby~I1c12b2903c1e5bf3a88394493456ad33233f3cd8,openstack/nova,stable/wallaby,I1c12b2903c1e5bf3a88394493456ad33233f3cd8,guestfs: With libguestfs >= v1.41.1 decode returned bytes to string,MERGED,2021-04-24 15:55:18.000000000,2021-04-26 19:53:56.000000000,2021-04-26 19:52:20.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-24 15:55:18.000000000', 'files': ['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e98935f705a931e3ae666820387a419be1622b64', 'message': ""guestfs: With libguestfs >= v1.41.1 decode returned bytes to string\n\nlibguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type\nof read_file from string to bytes.\n\nhttps://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f\n\nAs we don't check the version of libguestfs installed this change\nhandles both the original behaviour where a string is returned and the\nnewer behaviour by decoding any returned bytes to a string.\n\nCloses-Bug: #1882421\nChange-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8\n(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)\n""}]",1,787839,e98935f705a931e3ae666820387a419be1622b64,11,3,1,10135,,,0,"guestfs: With libguestfs >= v1.41.1 decode returned bytes to string

libguestfs >= v1.41.1 and commit 0ee02e0117527 changed the return type
of read_file from string to bytes.

https://github.com/libguestfs/libguestfs/commit/0ee02e0117527b86a31b2a88a14994ce7f15571f

As we don't check the version of libguestfs installed this change
handles both the original behaviour where a string is returned and the
newer behaviour by decoding any returned bytes to a string.

Closes-Bug: #1882421
Change-Id: I1c12b2903c1e5bf3a88394493456ad33233f3cd8
(cherry picked from commit 606d588e3eca1d88ad26b4c2cfa3f2e1d5ed553e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/787839/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py']",3,e98935f705a931e3ae666820387a419be1622b64,bug/1882421, :param passwd_data: Data from the passwd file decoded as a string :param shadow_data: Data from the shadow file decoded as a string, :param passwd_data: path to the passwd file :param shadow_data: path to the shadow password file,11,4
openstack%2Fnova~stable%2Fwallaby~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/wallaby,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,MERGED,2021-04-09 09:06:19.000000000,2021-04-26 19:33:36.000000000,2021-04-26 19:31:53.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 09:06:19.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/200c743400ed3fd5240fd25d0396eb6180b3f26a', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)\n""}]",0,785576,200c743400ed3fd5240fd25d0396eb6180b3f26a,16,4,1,10135,,,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/785576/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,200c743400ed3fd5240fd25d0396eb6180b3f26a,bug/1919487," vm_state=vm_states.ACTIVE) delete_info = { 'merge_target_file': 'foo.qcow2', } with mock.patch.object( self.compute_api.compute_rpcapi, 'volume_snapshot_delete' ) as mock_snapshot: self.compute_api.volume_snapshot_delete( self.context, volume_id, snapshot_id, delete_info ) self.context, fake_bdm['instance'], volume_id, snapshot_id, delete_info ) @mock.patch.object(compute_api.API, '_get_bdm_by_volume_id') def test_volume_snapshot_delete_intermediary_commit(self, mock_get_bdm): fake_bdm = fake_block_device.FakeDbBlockDeviceDict({ 'id': 123, 'device_name': '/dev/sda2', 'source_type': 'volume', 'destination_type': 'volume', 'connection_info': ""{'fake': 'connection_info'}"", 'volume_id': uuids.volume_id, 'boot_index': -1 }) fake_bdm['instance'] = fake_instance.fake_db_instance( launched_at=timeutils.utcnow(), vm_state=vm_states.STOPPED) fake_bdm['instance_uuid'] = fake_bdm['instance']['uuid'] fake_bdm = objects.BlockDeviceMapping._from_db_object( self.context, objects.BlockDeviceMapping(), fake_bdm, expected_attrs=['instance']) mock_get_bdm.return_value = fake_bdm # c-vol can provide delete_info with merge_target_file pointing to # an intermediary snapshot to commit into it's base. This is only # supported while the instance is running at present. delete_info = { 'merge_target_file': 'snap.img' } # Assert that the request is rejected as offline commit isn't supported self.assertRaises( exception.InstanceInvalidState, self.compute_api.volume_snapshot_delete, self.context, uuids.volume_id, uuids.snapshot_id, delete_info ) "," vm_state=vm_states.STOPPED) with mock.patch.object(self.compute_api.compute_rpcapi, 'volume_snapshot_delete') as mock_snapshot: self.compute_api.volume_snapshot_delete(self.context, volume_id, snapshot_id, {}) self.context, fake_bdm['instance'], volume_id, snapshot_id, {})",66,9
openstack%2Frequirements~master~Ifb092290664a38724c84e70ffb22eb0020cffdb6,openstack/requirements,master,Ifb092290664a38724c84e70ffb22eb0020cffdb6,update constraint for openstacksdk to new release 0.56.0,MERGED,2021-04-26 14:47:47.000000000,2021-04-26 19:16:00.000000000,2021-04-26 19:13:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 14:47:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a5c80a52265931156de34b1b2ab490a0d6335ba4', 'message': 'update constraint for openstacksdk to new release 0.56.0\n\nmeta: version: 0.56.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Commit: Jens Harbott <j.harbott@x-ion.de>\nmeta: release:Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271\nmeta: release:Code-Review+1: Dr. Jens Harbott <j.harbott@x-ion.de>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ifb092290664a38724c84e70ffb22eb0020cffdb6\n'}]",0,788016,a5c80a52265931156de34b1b2ab490a0d6335ba4,8,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.56.0

meta: version: 0.56.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Commit: Jens Harbott <j.harbott@x-ion.de>
meta: release:Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
meta: release:Code-Review+1: Dr. Jens Harbott <j.harbott@x-ion.de>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ifb092290664a38724c84e70ffb22eb0020cffdb6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/788016/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a5c80a52265931156de34b1b2ab490a0d6335ba4,new-release,openstacksdk===0.56.0,openstacksdk===0.55.0,1,1
openstack%2Fneutron~master~I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,openstack/neutron,master,I7c20fec08e5dc9f67b34100c925ea6724bbd25f0,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:24:20.000000000,2021-04-26 19:15:20.000000000,2021-04-26 19:12:38.000000000,"[{'_account_id': 5948}, {'_account_id': 6593}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2020-07-12 03:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb2d61cc72d11f26447a922b3cbd9f77cb47c238', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0\n""}, {'number': 2, 'created': '2020-11-30 09:22:17.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/tests/test_base.py', 'neutron/hacking/checks.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/tests/unit/extensions/test_availability_zone.py', 'neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_resource_cache.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62729d4e74f615fff36ba7be6662fa7dda562ef2', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\nNOTE(dmllr): added hacking check\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0\n""}]",0,740569,62729d4e74f615fff36ba7be6662fa7dda562ef2,191,6,2,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

NOTE(dmllr): added hacking check

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7c20fec08e5dc9f67b34100c925ea6724bbd25f0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/740569/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/tests/test_base.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/tests/unit/extensions/test_availability_zone.py', 'neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/tests/unit/api/rpc/handlers/test_resources_rpc.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/unit/agent/test_resource_cache.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py', 'neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/extensions/test_dns.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",35,cb2d61cc72d11f26447a922b3cbd9f77cb47c238,unittest2," self.assertCountEqual(phys, ['private', 'public'])"," self.assertItemsEqual(phys, ['private', 'public'])",154,154
openstack%2Fnova~stable%2Fwallaby~I0e068043d8267ab91535413d950a3e154c2234f7,openstack/nova,stable/wallaby,I0e068043d8267ab91535413d950a3e154c2234f7,libvirt: Ignore device already in the process of unplug errors,MERGED,2021-04-15 18:55:52.000000000,2021-04-26 19:15:15.000000000,2021-04-26 19:13:04.000000000,"[{'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 18:55:52.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/972a86d61f6b6f0f3d1af549b081854e6ff016bc', 'message': 'libvirt: Ignore device already in the process of unplug errors\n\nAt present QEMU will raise an error to libvirt when a device_del request\nis made for a device that has already partially detached through a\nprevious request. This is outlined in more detail in the following\ndownstream Red Hat QEMU bug report:\n\nGet libvirtError ""Device XX is already in the process of unplug"" [..]\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1878659\n\nWithin Nova we can actually ignore this error and allow our existing\nretry logic to attempt again after a short wait, hopefully allowing the\noriginal request to complete removing the device from the domain.\n\nThis change does this and should result in one of the following\ndevice_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.\n_try_detach_device should then translate that libvirt error into a\nDeviceNotFound exception which is itself then ignored by all\ndetach_device_with_retry callers and taken to mean that the device has\ndetached successfully.\n\nCloses-Bug: #1923206\nChange-Id: I0e068043d8267ab91535413d950a3e154c2234f7\n(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)\n'}]",0,786483,972a86d61f6b6f0f3d1af549b081854e6ff016bc,16,3,1,10135,,,0,"libvirt: Ignore device already in the process of unplug errors

At present QEMU will raise an error to libvirt when a device_del request
is made for a device that has already partially detached through a
previous request. This is outlined in more detail in the following
downstream Red Hat QEMU bug report:

Get libvirtError ""Device XX is already in the process of unplug"" [..]
https://bugzilla.redhat.com/show_bug.cgi?id=1878659

Within Nova we can actually ignore this error and allow our existing
retry logic to attempt again after a short wait, hopefully allowing the
original request to complete removing the device from the domain.

This change does this and should result in one of the following
device_del requests raising a VIR_ERR_DEVICE_MISSING error from libvirt.
_try_detach_device should then translate that libvirt error into a
DeviceNotFound exception which is itself then ignored by all
detach_device_with_retry callers and taken to mean that the device has
detached successfully.

Closes-Bug: #1923206
Change-Id: I0e068043d8267ab91535413d950a3e154c2234f7
(cherry picked from commit 0a7d3794c6dc39976b4cbfe12b1688230ac895a8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/786483/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py']",2,972a86d61f6b6f0f3d1af549b081854e6ff016bc,bug/1923206, code = ex.get_error_code() msg = ex.get_error_message() if code == libvirt.VIR_ERR_DEVICE_MISSING: # NOTE(lyarwood): https://bugzilla.redhat.com/1878659 # Ignore this known QEMU bug for the time being allowing # our retry logic to fire again and hopefully see that # the device has been removed asynchronously by QEMU # in the meantime when the next call to detach raises # VIR_ERR_DEVICE_MISSING. if (code == libvirt.VIR_ERR_INTERNAL_ERROR and msg and 'already in the process of unplug' in msg ): LOG.debug('Ignoring QEMU rejecting our request to ' 'detach as it is caused by a previous ' 'request still being in progress.') return , if ex.get_error_code() == libvirt.VIR_ERR_DEVICE_MISSING:,59,2
openstack%2Fswift~master~Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,openstack/swift,master,Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8,Include sharding cycle time in recon,MERGED,2021-04-23 23:14:26.000000000,2021-04-26 19:15:08.000000000,2021-04-26 19:13:31.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 23:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/40243bfcce000b40e6822e12c8999d7611b03582', 'message': 'Include sharding cycle time in recon\n\nChange-Id: Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8\n'}, {'number': 2, 'created': '2021-04-25 15:12:00.000000000', 'files': ['swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f2a4c50dce4f8e3322b1a016f7b15afee53f04a0', 'message': 'Include sharding cycle time in recon\n\nChange-Id: Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8\n'}]",1,787831,f2a4c50dce4f8e3322b1a016f7b15afee53f04a0,13,2,2,15343,,,0,"Include sharding cycle time in recon

Change-Id: Id7e828a56c8a62a1f3e9a1dbbff5a56c928ac6b8
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/787831/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/recon.py', 'test/unit/common/middleware/test_recon.py']",2,40243bfcce000b40e6822e12c8999d7611b03582,," ""sharding_time"": 600, [((['sharding_stats', 'sharding_time', 'sharding_last'],"," [((['sharding_stats', 'sharding_last'],",3,1
openstack%2Frequirements~master~I1da8af4c5524f921485b9b01fa91c676bb172bcf,openstack/requirements,master,I1da8af4c5524f921485b9b01fa91c676bb172bcf,update constraint for pbr to new release 5.6.0,MERGED,2021-04-26 15:28:08.000000000,2021-04-26 19:14:56.000000000,2021-04-26 19:13:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-26 15:28:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cd72f2ea8e6404d1a06a89e90dc2cb9113c79de9', 'message': 'update constraint for pbr to new release 5.6.0\n\nmeta: version: 5.6.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I1da8af4c5524f921485b9b01fa91c676bb172bcf\n'}]",0,788030,cd72f2ea8e6404d1a06a89e90dc2cb9113c79de9,9,3,1,11131,,,0,"update constraint for pbr to new release 5.6.0

meta: version: 5.6.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I1da8af4c5524f921485b9b01fa91c676bb172bcf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/788030/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cd72f2ea8e6404d1a06a89e90dc2cb9113c79de9,new-release,pbr===5.6.0,pbr===5.5.1,1,1
openstack%2Fopenstack-ansible-os_trove~master~Ia5c92f312a773c88563c61bba327f07ef369d62c,openstack/openstack-ansible-os_trove,master,Ia5c92f312a773c88563c61bba327f07ef369d62c,Adjust service restart handlers,MERGED,2021-04-26 09:39:56.000000000,2021-04-26 19:03:59.000000000,2021-04-26 19:02:53.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-26 09:39:56.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/21619ca389f197979f9b40b2c7732aa03343606d', 'message': 'Adjust service restart handlers\n\nWe should make service restart handlers more universal, since\nthere might be cases where api and taskmanager are placed on different\nhosts. So we should restart services only when they are present, and\nfiltered_trove_services helps us here as defines only services that\nshould exist on the host.\n\nThis also align handler with other services and fix taskmanager restart\nas it is missing now but conductor is restarted twice instead.\n\nChange-Id: Ia5c92f312a773c88563c61bba327f07ef369d62c\n'}]",0,787950,21619ca389f197979f9b40b2c7732aa03343606d,8,3,1,28619,,,0,"Adjust service restart handlers

We should make service restart handlers more universal, since
there might be cases where api and taskmanager are placed on different
hosts. So we should restart services only when they are present, and
filtered_trove_services helps us here as defines only services that
should exist on the host.

This also align handler with other services and fix taskmanager restart
as it is missing now but conductor is restarted twice instead.

Change-Id: Ia5c92f312a773c88563c61bba327f07ef369d62c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/50/787950/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,21619ca389f197979f9b40b2c7732aa03343606d,," - name: Restart Trove services systemd: name: ""{{ item.service_name }}"" enabled: yes daemon_reload: yes with_items: ""{{ filtered_trove_services }}"" register: _restart until: _restart is success retries: 5 delay: 2","- name: Restart trove API services systemd: name: ""{{ trove_services['trove-api']['service_name'] }}"" state: ""restarted"" when: ""'trove-api' in filtered_trove_services"" listen: - ""Restart trove services"" - ""venv changed"" - name: Restart trove conductor service systemd: name: ""{{ trove_services['trove-conductor']['service_name'] }}"" listen: - ""Restart trove services"" - ""venv changed"" - name: Restart trove taskmanager service systemd: name: ""{{ trove_services['trove-conductor']['service_name'] }}"" state: ""restarted""",9,18
openstack%2Fopenstack-ansible-os_octavia~master~I22c56f32d7308803e9363f9375d7f6206ccecd41,openstack/openstack-ansible-os_octavia,master,I22c56f32d7308803e9363f9375d7f6206ccecd41,Set octavia_amp_image_owner_id by default,MERGED,2021-04-23 07:13:57.000000000,2021-04-26 19:02:24.000000000,2021-04-26 19:01:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-23 07:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ec5c3b7a3c51129fb12395f698c862abed33e6f8', 'message': 'Set octavia_amp_image_owner_id by default\n\nThis patch sets the octavia_amp_image_owner_id default so that the\nOctavia configuration file has amp_image_owner_id populated.\nThat is important security setting for production deployments that helps\nto avoid faked images being used\n\nChange-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41\n'}, {'number': 2, 'created': '2021-04-23 11:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/788f51cac6f26227fdcdc262b963d96a16286e5e', 'message': 'Set octavia_amp_image_owner_id by default\n\nThis patch sets the octavia_amp_image_owner_id default so that the\nOctavia configuration file has amp_image_owner_id populated.\nThat is important security setting for production deployments that helps\nto avoid faked images being used\n\nChange-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41\n'}, {'number': 3, 'created': '2021-04-23 13:45:13.000000000', 'files': ['tasks/octavia_amp_image.yml', 'tasks/octavia_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9ef492e3b2663d035061745b23b471f3c8d5da27', 'message': 'Set octavia_amp_image_owner_id by default\n\nThis patch sets the octavia_amp_image_owner_id default so that the\nOctavia configuration file has amp_image_owner_id populated.\nThat is important security setting for production deployments that helps\nto avoid faked images being used\n\nChange-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41\n'}]",0,787670,9ef492e3b2663d035061745b23b471f3c8d5da27,16,3,3,28619,,,0,"Set octavia_amp_image_owner_id by default

This patch sets the octavia_amp_image_owner_id default so that the
Octavia configuration file has amp_image_owner_id populated.
That is important security setting for production deployments that helps
to avoid faked images being used

Change-Id: I22c56f32d7308803e9363f9375d7f6206ccecd41
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/70/787670/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_amp_image.yml', 'tasks/octavia_post_install.yml']",2,ec5c3b7a3c51129fb12395f698c862abed33e6f8,,"- name: Set octavia_amp_image_owner_id if it is not already set delegate_to: ""{{ octavia_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ octavia_service_setup_host_python_interpreter }}"" when: - octavia_amp_image_owner_id | length == 0 block: - name: Get octavia service project details openstack.cloud.project_info: auth: auth_url: ""{{ keystone_service_adminurl }}"" username: ""{{ octavia_service_user_name }}"" password: ""{{ octavia_service_password }}"" project_name: ""{{ octavia_service_project_name }}"" user_domain_name: ""{{ octavia_service_user_domain_id }}"" project_domain_name: ""{{ octavia_service_project_domain_id }}"" name: ""{{ octavia_service_project_name }}"" interface: admin domain: ""{{ octavia_service_project_domain_id }}"" verify: ""{{ not keystone_service_adminuri_insecure }}"" register: get_project_info until: get_project_info is success retries: 5 delay: 10 - name: Set Octavia amp image owner UUID fact set_fact: octavia_amp_image_owner_id: ""{{ get_project_info.openstack_projects[0].id }}"" ",,30,1
openstack%2Fansible-role-python_venv_build~master~If27a6e57c56a0b294442b71aa777d759bc401868,openstack/ansible-role-python_venv_build,master,If27a6e57c56a0b294442b71aa777d759bc401868,Fix facts gathering when run with tags,MERGED,2021-04-23 07:48:34.000000000,2021-04-26 19:01:04.000000000,2021-04-26 18:59:35.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-23 07:48:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/53db970168dd3847e244173c740470c493f2760e', 'message': 'Fix facts gathering when run with tags\n\nCurrently facts are not gathered when role is run with tags\nThis patch fixes that behaviour and prevents role failure.\n\nChange-Id: If27a6e57c56a0b294442b71aa777d759bc401868\n'}]",0,787680,53db970168dd3847e244173c740470c493f2760e,8,3,1,28619,,,0,"Fix facts gathering when run with tags

Currently facts are not gathered when role is run with tags
This patch fixes that behaviour and prevents role failure.

Change-Id: If27a6e57c56a0b294442b71aa777d759bc401868
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/80/787680/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,53db970168dd3847e244173c740470c493f2760e,, tags: - always,,2,0
openstack%2Fopenstack-ansible-os_octavia~master~I4b51290b94b5b4b54b111d197688f65129a4f5ad,openstack/openstack-ansible-os_octavia,master,I4b51290b94b5b4b54b111d197688f65129a4f5ad,Use dynamic import for conditional task imports,MERGED,2021-04-23 07:25:02.000000000,2021-04-26 19:00:25.000000000,2021-04-26 18:59:15.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-23 07:25:02.000000000', 'files': ['tasks/main.yml', 'tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53870c390e213b4a655de5922d22d3fa8873f17e', 'message': 'Use dynamic import for conditional task imports\n\nWhen task import condition is false, we need to use include instead\nof import, since this allows not running through all tasks and\nreduce amount of skipped tasks for such deployments.\n\nChange-Id: I4b51290b94b5b4b54b111d197688f65129a4f5ad\n'}]",0,787673,53870c390e213b4a655de5922d22d3fa8873f17e,8,3,1,28619,,,0,"Use dynamic import for conditional task imports

When task import condition is false, we need to use include instead
of import, since this allows not running through all tasks and
reduce amount of skipped tasks for such deployments.

Change-Id: I4b51290b94b5b4b54b111d197688f65129a4f5ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/73/787673/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/octavia_amp_image.yml']",2,53870c390e213b4a655de5922d22d3fa8873f17e,,, when: - octavia_download_artefact | bool when: - octavia_download_artefact | bool,37,16
openstack%2Fopenstack-ansible-os_keystone~master~I33a88f3782d7cf334ad878e57b07d09dcd77842c,openstack/openstack-ansible-os_keystone,master,I33a88f3782d7cf334ad878e57b07d09dcd77842c,Use common name for service project description,MERGED,2021-04-23 07:41:03.000000000,2021-04-26 18:52:38.000000000,2021-04-26 18:51:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-23 07:41:03.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/700730dfd93bed24d03a33794ea47148e113a2ef', 'message': ""Use common name for service project description\n\nSince `service` project is shared, it's confusing to have same naming as\nfor service_catalog. We add variable\n`keystone_service_project_description` that will be used specifically\nfor `service` project description\n\nChange-Id: I33a88f3782d7cf334ad878e57b07d09dcd77842c\n""}]",0,787676,700730dfd93bed24d03a33794ea47148e113a2ef,8,3,1,28619,,,0,"Use common name for service project description

Since `service` project is shared, it's confusing to have same naming as
for service_catalog. We add variable
`keystone_service_project_description` that will be used specifically
for `service` project description

Change-Id: I33a88f3782d7cf334ad878e57b07d09dcd77842c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/76/787676/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,700730dfd93bed24d03a33794ea47148e113a2ef,,"keystone_service_project_description: ""OpenStack Services""",,2,1
openstack%2Ftripleo-quickstart~master~I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,openstack/tripleo-quickstart,master,I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc,Addl wallaby release file for centosci,MERGED,2021-04-26 07:01:33.000000000,2021-04-26 18:41:05.000000000,2021-04-26 18:39:33.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 07:01:33.000000000', 'files': ['config/release/centosci/wallaby-current-tripleo.yml', 'config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/centosci/ussuri-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7ceaa0c0a5d0e528c71fc130573fef10677ca71f', 'message': 'Addl wallaby release file for centosci\n\nAlso update other centosci release files to centos8-stream\nand container-tools:3.0 like other non centosci release files.\n\nChange-Id: I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc\n'}]",0,787921,7ceaa0c0a5d0e528c71fc130573fef10677ca71f,9,8,1,13861,,,0,"Addl wallaby release file for centosci

Also update other centosci release files to centos8-stream
and container-tools:3.0 like other non centosci release files.

Change-Id: I42ce75997b0f9eeec2f51b0ac0449cde7971cbdc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/21/787921/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/centosci/train-current-tripleo.yml', 'config/release/centosci/victoria-current-tripleo.yml', 'config/release/centosci/wallaby-current-tripleo.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/centosci/ussuri-current-tripleo.yml']",5,7ceaa0c0a5d0e528c71fc130573fef10677ca71f,wallaby-branching," baseurl: http://mirror.centos.org/centos/8-stream/BaseOS/x86_64/os/ baseurl: http://mirror.centos.org/centos/8-stream/AppStream/x86_64/os/ baseurl: http://mirror.centos.org/centos/8-stream/PowerTools/x86_64/os/ baseurl: http://mirror.centos.org/centos/8-stream/HighAvailability/x86_64/os/ baseurl: http://mirror.centos.org/centos/8-stream/extras/x86_64/os/ sudo dnf module enable container-tools:3.0 -y;baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"""," baseurl: http://mirror.centos.org/centos/8/BaseOS/x86_64/os/ baseurl: http://mirror.centos.org/centos/8/AppStream/x86_64/os/ baseurl: http://mirror.centos.org/centos/8/PowerTools/x86_64/os/ baseurl: http://mirror.centos.org/centos/8/HighAvailability/x86_64/os/ baseurl: http://mirror.centos.org/centos/8/extras/x86_64/os/ sudo dnf module enable container-tools:2.0 -y;baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""",117,31
openstack%2Ftripleo-common~stable%2Ftrain~Ica1b5c0a165cc06fac668513114eef2b4ba73f56,openstack/tripleo-common,stable/train,Ica1b5c0a165cc06fac668513114eef2b4ba73f56,[Victoria and bellow] Ensure rights on the ansible.log file,MERGED,2021-04-20 12:13:21.000000000,2021-04-26 18:41:01.000000000,2021-04-26 18:39:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-20 12:13:21.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32e2249e41c637e8f6362a4d459b1418d2a3324e', 'message': '[Victoria and bellow] Ensure rights on the ansible.log file\n\nWhen mistral starts the Ansible action, a log file is created runtime.\nBut nothing takes care of its access right, leading to potential data\nleaks to unprivileged users (default mode is 0644).\n\nThis patch creates the logfile beforehands, and sets the needed rights\non it.\n\nChange-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56\nCloses-Bug: #1918138\n(cherry picked from commit d485407159ea6cb2c7abf6d5788d85147f433996)\n(cherry picked from commit fdd5c0c09161c69975c0b62a02cbf256295c0c48)\n'}]",0,786971,32e2249e41c637e8f6362a4d459b1418d2a3324e,14,3,1,28223,,,0,"[Victoria and bellow] Ensure rights on the ansible.log file

When mistral starts the Ansible action, a log file is created runtime.
But nothing takes care of its access right, leading to potential data
leaks to unprivileged users (default mode is 0644).

This patch creates the logfile beforehands, and sets the needed rights
on it.

Change-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56
Closes-Bug: #1918138
(cherry picked from commit d485407159ea6cb2c7abf6d5788d85147f433996)
(cherry picked from commit fdd5c0c09161c69975c0b62a02cbf256295c0c48)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/786971/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,32e2249e41c637e8f6362a4d459b1418d2a3324e,mistral-ansible-log-stable/ussuri-stable/train," # Create the log file, and set some rights on it in order to prevent # unwanted access open(log_path, 'a').close() os.chmod(log_path, 0o640) ",,5,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/ussuri,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:25:00.000000000,2021-04-26 18:39:38.000000000,2021-04-26 18:39:38.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-22 07:25:00.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f25499a2932be44f3852136a6d723c1b8cd95c42', 'message': 'Compute VIPs using net_vip_map instead of hiera\n\nThis change provides two improvements:\n1. VIPs are computed using the existing net_vip_map instead of running\n   hiera commands;\n2. the monitoring_stack_vip (on the storage network) is provided for\n   both prometheus and alertmanager: these two services are not exposed\n   but we need the ceph_mgr being aware about the vip.\n\nDepends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/\n\nChange-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01\n(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)\n'}]",0,787477,f25499a2932be44f3852136a6d723c1b8cd95c42,9,6,1,25402,,,0,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/787477/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml'],1,f25499a2932be44f3852136a6d723c1b8cd95c42,ceph_dashboard_ha-stable/ussuri," ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) | combine({ 'prometheus_frontend_vip': monitoring_stack_vip | default()}) | combine({ 'alertmanager_frontend_vip': monitoring_stack_vip | default()}) }}"" {% set dashboard_vip = control_virtual_ip %} {% if 'StorageDashboard' in enabled_networks %} {% set dashboard_vip = net_vip_map.get('storage_dashboard') %} {% endif %} {{ dashboard_vip }} monitoring_stack_vip: |- {% set monitoring_vip = control_virtual_ip %} {% if 'Storage' in enabled_networks %} {% set monitoring_vip = net_vip_map.get('storage') %} {% endif %} {{ monitoring_vip }}"," - name: get the frontend_dashboard_vip from the overcloud vars command: ""hiera -c /etc/puppet/hiera.yaml ceph_dashboard_vip"" register: frontend_vip become: true delegate_to: ""{{ groups['mgrs'][0] }}"" ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) }}"" {% set dashboard_vip = control_virtual_ip %} {% if frontend_vip.stdout != ""nil"" %} {% set dashboard_vip = frontend_vip.stdout %} {% endif %} {{ dashboard_vip }}",14,11
openstack%2Fcharm-guide~master~I820835e53e22deefacb74200fb26a4fc09c7c365,openstack/charm-guide,master,I820835e53e22deefacb74200fb26a4fc09c7c365,Add sync-compute-availability-zones release note,MERGED,2021-04-23 02:07:54.000000000,2021-04-26 18:36:17.000000000,2021-04-26 18:35:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-04-23 02:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ed8c2373260e8379779b0503a6a799537b641abd', 'message': 'Add sync-compute-availability-zones release note\n\nAdd a release note regarding the sync-compute-availability-zones\naction.\n\nChange-Id: I820835e53e22deefacb74200fb26a4fc09c7c365\n'}, {'number': 2, 'created': '2021-04-23 22:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/629c659d875ca859749057d5643b712ccaf914a3', 'message': 'Add sync-compute-availability-zones release note\n\nAdd a release note regarding the sync-compute-availability-zones\naction.\n\nDepends-On: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\nChange-Id: I820835e53e22deefacb74200fb26a4fc09c7c365\n'}, {'number': 3, 'created': '2021-04-23 23:22:47.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/696f809604f67d8b6a3c812e3eff0d056d50552d', 'message': 'Add sync-compute-availability-zones release note\n\nAdd a release note regarding the sync-compute-availability-zones\naction.\n\nDepends-On: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\nChange-Id: I820835e53e22deefacb74200fb26a4fc09c7c365\n'}]",6,787659,696f809604f67d8b6a3c812e3eff0d056d50552d,15,2,3,8992,,,0,"Add sync-compute-availability-zones release note

Add a release note regarding the sync-compute-availability-zones
action.

Depends-On: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
Change-Id: I820835e53e22deefacb74200fb26a4fc09c7c365
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/59/787659/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,ed8c2373260e8379779b0503a6a799537b641abd,compute-nodes-az-sync,nova-cloud-controller charm: sync compute availability zones ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The nova-cloud-controller charm has a new action ``sync-compute-availability-zones`` which will configure host aggregates in Nova with availability zones of related nova-compute units. This action will add hypervisors to the appropriate host aggregate but will not remove hypervisors from existing host aggregates. The hypervisors are placed into the appropriate availability zone as determined by the nova-compute charm. See the `nova-compute charm`_ README for more information on configuring availability zones for compute services. This action is availalable for OpenStack Stein and newer. ,,13,0
openstack%2Fswift~master~I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,openstack/swift,master,I2a5021c4833ff713fb6d0d39f16a6d0e523e3697,relinker: Add start/end logs to parallel_process,MERGED,2021-04-12 16:29:28.000000000,2021-04-26 18:33:49.000000000,2021-04-26 18:32:06.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 16:29:28.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e76ba21077a97543a11c2c0a1b65424d581bb265', 'message': 'relinker: Add start/end logs to parallel_process\n\nChange-Id: I2a5021c4833ff713fb6d0d39f16a6d0e523e3697\n'}]",0,785936,e76ba21077a97543a11c2c0a1b65424d581bb265,9,2,1,7847,,,0,"relinker: Add start/end logs to parallel_process

Change-Id: I2a5021c4833ff713fb6d0d39f16a6d0e523e3697
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/785936/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,e76ba21077a97543a11c2c0a1b65424d581bb265,p-relinker-log,"import datetime logger.info('Starting relinker (cleanup=%s) using %d workers: %s' % (do_cleanup, workers, time.strftime('%X %x %Z', time.gmtime(start)))) if workers == 0 or len(device_list) in (0, 1): ret = Relinker( conf, logger, device_list, do_cleanup=do_cleanup).run() logger.info('Finished relinker (cleanup=%s): %s (%s elapsed)' % (do_cleanup, time.strftime('%X %x %Z', time.gmtime()), datetime.timedelta(seconds=time.time() - start))) return ret logger.info('Finished relinker (cleanup=%s): %s (%s elapsed)' % (do_cleanup, time.strftime('%X %x %Z', time.gmtime()), datetime.timedelta(seconds=time.time() - start)))"," if workers == 0 or len(device_list) in (0, 1): return Relinker( conf, logger, device_list, do_cleanup=do_cleanup).run()",68,15
openstack%2Fopenstack-helm-infra~master~I26d43e1734a98a4d298df69114d6bfb3b2d1334a,openstack/openstack-helm-infra,master,I26d43e1734a98a4d298df69114d6bfb3b2d1334a,[WIP] Enable Elasticsearch TLS on the transport layer,ABANDONED,2021-04-16 21:32:49.000000000,2021-04-26 18:33:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-16 21:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11863084794092f7f138191ee7646ca81835069f', 'message': '[WIP] Enable Elasticsearch TLS on the transport layer\n\nChange-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a\n'}, {'number': 2, 'created': '2021-04-16 22:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15905406074f598716367467805545789a625088', 'message': '[WIP] Enable Elasticsearch TLS on the transport layer\n\nChange-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a\n'}, {'number': 3, 'created': '2021-04-16 22:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec793f7873732d5baaa297f92bd8010f4b4af2ad', 'message': '[WIP] Enable Elasticsearch TLS on the transport layer\n\nChange-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a\n'}, {'number': 4, 'created': '2021-04-17 00:04:33.000000000', 'files': ['elasticsearch/values_overrides/tls.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/Chart.yaml', 'elasticsearch/templates/deployment-gateway.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6542ebc12af9496ce244211a7147e95ef79f8ade', 'message': '[WIP] Enable Elasticsearch TLS on the transport layer\n\nChange-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a\n'}]",0,786736,6542ebc12af9496ce244211a7147e95ef79f8ade,9,1,4,19391,,,0,"[WIP] Enable Elasticsearch TLS on the transport layer

Change-Id: I26d43e1734a98a4d298df69114d6bfb3b2d1334a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/786736/2 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/statefulset-master.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml', 'elasticsearch/templates/deployment-gateway.yaml']",4,11863084794092f7f138191ee7646ca81835069f,,"{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.elasticsearch.elasticsearch.internal ""path"" ""/etc/elasticsearch/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.elasticsearch.elasticsearch.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,6,1
openstack%2Fmasakari~master~I88df10d648616eab635e30562de630b4e35badf6,openstack/masakari,master,I88df10d648616eab635e30562de630b4e35badf6,[CI] Drop external CI,MERGED,2021-04-26 17:33:06.000000000,2021-04-26 18:25:59.000000000,2021-04-26 18:22:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 17:33:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/4227d23ac6111884cf15e7ae8be445cbb12381aa', 'message': '[CI] Drop external CI\n\nNTT no longer provides their CI. [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/022024.html\n\nChange-Id: I88df10d648616eab635e30562de630b4e35badf6\n'}]",0,788052,4227d23ac6111884cf15e7ae8be445cbb12381aa,7,2,1,30491,,,0,"[CI] Drop external CI

NTT no longer provides their CI. [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/022024.html

Change-Id: I88df10d648616eab635e30562de630b4e35badf6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/52/788052/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4227d23ac6111884cf15e7ae8be445cbb12381aa,drop-external-ci,, - project: masakari-systemfault-integration-ci: jobs: - masakari-build-test - job: name: masakari-build-test parent: base,0,9
openstack%2Frequirements~master~Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,openstack/requirements,master,Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71,Updated from generate-constraints,MERGED,2021-04-20 06:29:48.000000000,2021-04-26 18:07:11.000000000,2021-04-26 18:05:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 06:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e907ee7ac739dfc7b372ea2db28329c3879cf7b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 2, 'created': '2021-04-21 06:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7bc08e9dba49276eb92c0063bd7674804fdfa238', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 3, 'created': '2021-04-22 06:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb0e434112cdc7533434d0d9264cad12c1731ce1', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 4, 'created': '2021-04-23 06:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c977fa82fd8f81455dffa9aa0ea6db8d5fd6451', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 5, 'created': '2021-04-24 06:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/08b83adf086eb929617a6eb7b480a3ff6e571159', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 6, 'created': '2021-04-26 06:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55de9ecbe3db9ffd72e71f30e61158fb03473641', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\n'}, {'number': 7, 'created': '2021-04-26 15:08:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4793be53f6fc3b4c3f81ec8b4860793678d8a746', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,787100,4793be53f6fc3b4c3f81ec8b4860793678d8a746,28,2,7,11131,,,0,"Updated from generate-constraints

Change-Id: Ic98e7b9b2f7eeb15a2eabc2792ba9b0792277d71
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/787100/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e907ee7ac739dfc7b372ea2db28329c3879cf7b,openstack/requirements/constraints/noclob,SQLAlchemy===1.4.9django-compressor===2.4.1importlib-metadata===4.0.0boto3===1.17.54s3transfer===0.4.0django-formtools===2.3botocore===1.20.54scrypt===0.8.18zstd===1.4.9.1pkg-resources===0.0.0tenacity===7.0.0diskimage-builder===3.10.0,SQLAlchemy===1.3.23django-compressor===2.4importlib-metadata===3.10.1boto3===1.17.53s3transfer===0.3.7django-formtools===2.2botocore===1.20.53scrypt===0.8.17zstd===1.4.8.1tenacity===6.3.1diskimage-builder===3.9.0setuptools===56.0.0,12,12
openstack%2Fkayobe~stable%2Fussuri~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/ussuri,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:41.000000000,2021-04-26 18:01:34.000000000,2021-04-26 18:00:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-26 08:25:41.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d633f938dddde58f5504663616f71dbb207aeb0a', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/787937\n(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)\n""}]",0,787938,d633f938dddde58f5504663616f71dbb207aeb0a,12,3,1,15197,,,0,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787937
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/38/787938/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,d633f938dddde58f5504663616f71dbb207aeb0a,, version: v0.1.0, # There are no versioned releases of this role. version: 5be3ee7d330aa17317897bd104dc87ff0df11915,1,2
openstack%2Fcharm-nova-cloud-controller~master~Ibd71cd61e51b04599eadf21b3ef46e47544b8814,openstack/charm-nova-cloud-controller,master,Ibd71cd61e51b04599eadf21b3ef46e47544b8814,Add sync-compute-availability-zones Juju action,MERGED,2021-02-03 15:35:32.000000000,2021-04-26 17:54:49.000000000,2021-04-26 17:54:49.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-02-03 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c6c662dd9aa9bd1538381ed6a71ed69c3677e16a', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 2, 'created': '2021-02-07 16:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/33995382c6e2b929e005d1b017c15b0f78537b84', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/500\n'}, {'number': 3, 'created': '2021-04-21 03:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/09350858d20b2e3eea1c0fcd04e4395f781e0348', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/500\n'}, {'number': 4, 'created': '2021-04-21 03:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c6a41490d701aca0160189f80b1c0f18afacbbda', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 5, 'created': '2021-04-22 03:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ea40a2f72f42b6ee3d51091f8c95f86d1154d74c', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 6, 'created': '2021-04-22 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a7090006c18e504d8b428c129d1a88587daf1070', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 7, 'created': '2021-04-22 17:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d0b36952e4971a7f67acf80fb54f26941d0314a6', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 8, 'created': '2021-04-22 23:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9d984fc6a38e6f6b29a023c514aee317f279359f', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}, {'number': 9, 'created': '2021-04-23 13:59:57.000000000', 'files': ['tests/tests.yaml', 'actions/actions.py', 'unit_tests/test_actions.py', 'hooks/nova_cc_utils.py', 'actions/sync-compute-availability-zones', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b56572cf6bde1cbc91af1f0bab0aab25a1648efd', 'message': 'Add sync-compute-availability-zones Juju action\n\nThis action should be used to sync the Juju availability zones,\nfrom the nova-compute units, with the OpenStack availability zones.\nThe action is meant to be used post-deployment by the operator.\n\nIt will setup OpenStack aggregates for each availability zone, and\nadd the proper compute hosts to them.\n\nCo-Authored-By: Billy Olsen <billy.olsen@canonical.com>\nChange-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814\n'}]",13,773929,b56572cf6bde1cbc91af1f0bab0aab25a1648efd,69,7,9,13178,,,0,"Add sync-compute-availability-zones Juju action

This action should be used to sync the Juju availability zones,
from the nova-compute units, with the OpenStack availability zones.
The action is meant to be used post-deployment by the operator.

It will setup OpenStack aggregates for each availability zone, and
add the proper compute hosts to them.

Co-Authored-By: Billy Olsen <billy.olsen@canonical.com>
Change-Id: Ibd71cd61e51b04599eadf21b3ef46e47544b8814
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/29/773929/9 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_actions.py', 'hooks/nova_cc_utils.py', 'actions/sync-compute-availability-zones', 'actions.yaml']",5,c6c662dd9aa9bd1538381ed6a71ed69c3677e16a,compute-nodes-az-sync,"sync-compute-availability-zones: description: | Syncs the availability zones presented by the nova-compute Juju units, via the cloud-compute relation, with the OpenStack hypervisors' availability zones. . This action does a 1-to-1 mapping between the nova-compute Juju unit availability zone, and the OpenStack hypervisor availability zone. It is useful within a MAAS environment in order to map MAAS availability zones with OpenStack availability zones.",,175,0
openstack%2Fmasakari-monitors~master~Iacec7d04a188c20454c9e504f1df04e816aae5dc,openstack/masakari-monitors,master,Iacec7d04a188c20454c9e504f1df04e816aae5dc,Fix yaml load warning,ABANDONED,2021-04-19 07:53:26.000000000,2021-04-26 17:51:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-19 07:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/6bb566df28f4d6433e5e264c481e25c2569e7c5a', 'message': 'Fix yaml load warning\n\nsee: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation\nChange-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc\n'}, {'number': 2, 'created': '2021-04-19 09:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/68ac610f7f927b1b4ffd03d931dc17fc20200373', 'message': 'Fix yaml load warning\n\nsee: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation\nChange-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc\n'}, {'number': 3, 'created': '2021-04-19 09:27:28.000000000', 'files': ['masakarimonitors/processmonitor/process.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/c54c70acc3f70e3aa9977ad5232543fa992c1a8d', 'message': 'Fix yaml load warning\n\nsee: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation\nChange-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc\n'}]",1,786825,c54c70acc3f70e3aa9977ad5232543fa992c1a8d,7,2,3,23182,,,0,"Fix yaml load warning

see: https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation
Change-Id: Iacec7d04a188c20454c9e504f1df04e816aae5dc
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/25/786825/3 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/process.py'],1,6bb566df28f4d6433e5e264c481e25c2569e7c5a,," process_list = yaml.load(open(CONF.process.process_list_path), Loader=yaml.FullLoader)", process_list = yaml.load(open(CONF.process.process_list_path)),1,1
openstack%2Fnova~stable%2Ftrain~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/train,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:17:06.000000000,2021-04-26 17:43:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 09:17:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97e78d0b66c9246acb077749eea2a79f0709371b', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)\n(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)\n(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)\n(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)\n""}]",0,785583,97e78d0b66c9246acb077749eea2a79f0709371b,5,1,1,10135,,,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
(cherry picked from commit 57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/785583/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,97e78d0b66c9246acb077749eea2a79f0709371b,bug/1919487," # FIXME(lyarwood): Avoid bug #1919487 by rejecting the request # to delete an intermediary volume snapshot offline as this isn't # currently implemented within the libvirt driver and will fail. # This should be fixed in a future release but as it is essentially # a new feature wouldn't be something we could backport. As such # reject the request here so n-api can respond correctly to c-vol. if (delete_info.get('merge_target_file') is not None and instance.vm_state != vm_states.ACTIVE ): raise exception.InstanceInvalidState( attr='vm_state', instance_uuid=instance.uuid, state=instance.vm_state, method='volume_snapshot_delete' ) ", # We allow deleting the snapshot in any vm_state as long as there is # no task being performed on the instance and it has a host.,66,9
openstack%2Fnova~stable%2Fussuri~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,stable/ussuri,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,NEW,2021-04-09 09:16:32.000000000,2021-04-26 17:43:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 09:16:32.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\n Conflicts:\n\tnova/tests/unit/compute/test_compute_api.py\n\nNOTE(lyarwood): Test conflict caused by\nI3862a06ca28b383d525bcc9dcbc6fb1d4062f193 renaming test_compute_api.py\nto test_api.py during Victoria.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)\n(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)\n(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)\n""}]",0,785582,57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a,5,1,1,10135,,,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

 Conflicts:
	nova/tests/unit/compute/test_compute_api.py

NOTE(lyarwood): Test conflict caused by
I3862a06ca28b383d525bcc9dcbc6fb1d4062f193 renaming test_compute_api.py
to test_api.py during Victoria.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
(cherry picked from commit 99409375a03e6f923a8b6b00a5dd653bab74caaf)
(cherry picked from commit 200c743400ed3fd5240fd25d0396eb6180b3f26a)
(cherry picked from commit 8a41605a78173207746a38350d7fb554f2701b7a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/785582/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,57a810c0bddb2d5fb8c8e97bba07a1c4eeb2a11a,bug/1919487," # FIXME(lyarwood): Avoid bug #1919487 by rejecting the request # to delete an intermediary volume snapshot offline as this isn't # currently implemented within the libvirt driver and will fail. # This should be fixed in a future release but as it is essentially # a new feature wouldn't be something we could backport. As such # reject the request here so n-api can respond correctly to c-vol. if (delete_info.get('merge_target_file') is not None and instance.vm_state != vm_states.ACTIVE ): raise exception.InstanceInvalidState( attr='vm_state', instance_uuid=instance.uuid, state=instance.vm_state, method='volume_snapshot_delete' ) ", # We allow deleting the snapshot in any vm_state as long as there is # no task being performed on the instance and it has a host.,66,9
openstack%2Foctavia-dashboard~master~I1c69f34d70604db0de1e78e8c32716f8744b9e93,openstack/octavia-dashboard,master,I1c69f34d70604db0de1e78e8c32716f8744b9e93,Look for load-balancer endpoints in catalog,ABANDONED,2021-04-26 17:28:32.000000000,2021-04-26 17:41:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 17:28:32.000000000', 'files': ['octavia_dashboard/dashboards/project/load_balancer/panel.py', 'octavia_dashboard/api/rest/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/879135b99397d9cf9a2046b8bbc1b8d9a9550205', 'message': 'Look for load-balancer endpoints in catalog\n\nLoad-Blancer tabs should only be enabled when load-balancer endpoint is registered.\nWhen you enable Octavia only on one region and switch to another region which don\'t have,\nIt will show you some infinite Error popup : ""Error: Unable to retrieve load balancers.""\n\nStory 2008853\nTask 42372\n\nChange-Id: I1c69f34d70604db0de1e78e8c32716f8744b9e93\n'}]",0,788050,879135b99397d9cf9a2046b8bbc1b8d9a9550205,3,1,1,27442,,,0,"Look for load-balancer endpoints in catalog

Load-Blancer tabs should only be enabled when load-balancer endpoint is registered.
When you enable Octavia only on one region and switch to another region which don't have,
It will show you some infinite Error popup : ""Error: Unable to retrieve load balancers.""

Story 2008853
Task 42372

Change-Id: I1c69f34d70604db0de1e78e8c32716f8744b9e93
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/50/788050/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/dashboards/project/load_balancer/panel.py', 'octavia_dashboard/api/rest/lbaasv2.py']",2,879135b99397d9cf9a2046b8bbc1b8d9a9550205,,"from openstack_dashboard.api import basedef is_load_balancer_service_enabled(request): return base.is_service_enabled(request, 'load-balancer') ",,10,0
openstack%2Ftripleo-heat-templates~master~I6c239065d4c92c9afc62ff4e513e6d097a06e218,openstack/tripleo-heat-templates,master,I6c239065d4c92c9afc62ff4e513e6d097a06e218,Stop using (and breaking) /var/tmp for horizon temporary things,MERGED,2021-04-21 09:27:57.000000000,2021-04-26 17:39:34.000000000,2021-04-26 17:39:34.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8648}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-21 09:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/957aacc9b49a98989cbb04c9d8c443a20d291bb7', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n'}, {'number': 2, 'created': '2021-04-21 11:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df2d728a88b5b0c7b9b1a4e8273e414f236d175c', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nResolves: rhbz#1947532\nCloses-Bug: #1925316\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\n'}, {'number': 3, 'created': '2021-04-21 12:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c5f8654837d5788b472e2e9b74d9d9a59293a85', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 3777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n'}, {'number': 4, 'created': '2021-04-23 08:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dde70a252795b57f0ab9c2e60fd5e4d916a66d2c', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 3777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nThis patch also ensures we reset the label on /var/tmp during update and\nupgrade.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n'}, {'number': 5, 'created': '2021-04-23 09:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c9b2816fe225e89219910d28c39e5a9e4041271', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 3777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nThis patch also ensures we reset the label on /var/tmp during update and\nupgrade.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n'}, {'number': 6, 'created': '2021-04-23 14:27:43.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bafd6aba099678846083989ce5fbdd0d09654db5', 'message': 'Stop using (and breaking) /var/tmp for horizon temporary things\n\nUntil now, /var/tmp label was globally changed to another value than the\ndefault, moving from tmp_t to container_file_t due to the "":z"" flag in\nthe horizon container mount.\n\nThis patch creates a subdirectory in /var/tmp, and mounts this location\ndirectly in horizon\'s /var/tmp - this allows to NOT change anything in\nhorizon, while preventing potential leaks from other apps using this\nlocation. It also prevents issues with SELinux denials on that location.\n\nThe special 1777 mode allows to ensure we get the right ""tmp"" mode on\nthe directory, meaning: drwxrwxrwt.\n\nThis patch also ensures we reset the label on /var/tmp during update and\nupgrade.\n\nChange-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218\nResolves: rhbz#1947532\nCloses-Bug: #1925316\n'}]",12,787332,bafd6aba099678846083989ce5fbdd0d09654db5,36,11,6,28223,,,0,"Stop using (and breaking) /var/tmp for horizon temporary things

Until now, /var/tmp label was globally changed to another value than the
default, moving from tmp_t to container_file_t due to the "":z"" flag in
the horizon container mount.

This patch creates a subdirectory in /var/tmp, and mounts this location
directly in horizon's /var/tmp - this allows to NOT change anything in
horizon, while preventing potential leaks from other apps using this
location. It also prevents issues with SELinux denials on that location.

The special 1777 mode allows to ensure we get the right ""tmp"" mode on
the directory, meaning: drwxrwxrwt.

This patch also ensures we reset the label on /var/tmp during update and
upgrade.

Change-Id: I6c239065d4c92c9afc62ff4e513e6d097a06e218
Resolves: rhbz#1947532
Closes-Bug: #1925316
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/787332/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,957aacc9b49a98989cbb04c9d8c443a20d291bb7,horizon-tmp-glance," - /var/tmp/horizon:/var/tmp/:z - { 'path': /var/tmp/horizon, 'setype': container_file_t } - name: ensure /var/tmp/horizon exists on boot copy: dest: /etc/tmpfiles.d/var-tmp-horizon.conf content: | d /var/tmp/horizon 0755 root root - -", - /var/tmp/:/var/tmp/:z,7,1
openstack%2Fkayobe~stable%2Ftrain~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/train,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:25:04.000000000,2021-04-26 17:33:08.000000000,2021-04-26 17:31:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-26 08:25:04.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f8b4d2b1eccc2f6d2bd2a2df276333ece127ad3e', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/787936\n(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)\n""}]",0,787937,f8b4d2b1eccc2f6d2bd2a2df276333ece127ad3e,12,3,1,15197,,,0,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/787936
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/787937/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,f8b4d2b1eccc2f6d2bd2a2df276333ece127ad3e,, version: v0.1.0, # There are no versioned releases of this role. version: 5be3ee7d330aa17317897bd104dc87ff0df11915,1,2
openstack%2Ftripleo-heat-templates~master~Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,openstack/tripleo-heat-templates,master,Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b,Moving nova-consoleauth to step4,MERGED,2021-04-09 14:02:59.000000000,2021-04-26 17:30:56.000000000,2021-04-26 17:30:56.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-09 14:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc62899ddc2e681deaf3ddeff452a2adf5b864b5', 'message': ""Moving nova-consoleauth to step4\n\nSince this is part of the post_upgrade_tasks and post_upgrade_tasks is\nmaxed to 4 steps, we need to move this from step5 to step4 otherwise\nit's not being executed.\n\nAlso applying Alex's recommendation of using OS_CLOUD instead of havng\nall the credentials here.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1825849\nChange-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b\n""}, {'number': 2, 'created': '2021-04-12 14:47:43.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/755084b5285f71dfa17c0abc310d4d797193b317', 'message': ""Moving nova-consoleauth to step4\n\nSince this is part of the post_upgrade_tasks and post_upgrade_tasks is\nmaxed to 4 steps, we need to move this from step5 to step4 otherwise\nit's not being executed.\n\nAlso applying Alex's recommendation of using OS_CLOUD instead of havng\nall the credentials here.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1825849\nChange-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b\n""}]",1,785648,755084b5285f71dfa17c0abc310d4d797193b317,22,9,2,27419,,,0,"Moving nova-consoleauth to step4

Since this is part of the post_upgrade_tasks and post_upgrade_tasks is
maxed to 4 steps, we need to move this from step5 to step4 otherwise
it's not being executed.

Also applying Alex's recommendation of using OS_CLOUD instead of havng
all the credentials here.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1825849
Change-Id: Ib78a68a80ccb5d7e04056b929bc1a97f65a1627b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/785648/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,dc62899ddc2e681deaf3ddeff452a2adf5b864b5,, - step|int == 4 OS_CLOUD: undercloud," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true - step|int == 5 OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password",2,13
openstack%2Fopenstack-helm-infra~master~I3373c0c350b30c175be4a34d25a403b9caf74294,openstack/openstack-helm-infra,master,I3373c0c350b30c175be4a34d25a403b9caf74294,Enable TLS between Elasticsearch and Kibana,MERGED,2021-04-08 19:38:02.000000000,2021-04-26 17:03:43.000000000,2021-04-26 17:02:20.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18306}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27499}, {'_account_id': 30449}, {'_account_id': 30495}, {'_account_id': 30777}, {'_account_id': 32190}]","[{'number': 1, 'created': '2021-04-08 19:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/365543484ff55867af85df057babcabeb84bd565', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 2, 'created': '2021-04-08 19:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b689e71fc45502ba0019e17b8d5b3eebe4b7172', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 3, 'created': '2021-04-09 16:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23a503e178b0a67bc772a12dd9f98d06de89d06d', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 4, 'created': '2021-04-09 20:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26ce40f1076be95a84266ca9e269a9eeb52836c5', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 5, 'created': '2021-04-09 20:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9753f5d9218b9bee5cf2c607cce99071fa3c6676', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 6, 'created': '2021-04-12 16:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6f10f0be90b3728fae1a40d2fcbf59f446de268', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 7, 'created': '2021-04-12 21:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab68b1cb20faf5109dd40ab4ec4579814fb1ecee', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 8, 'created': '2021-04-12 21:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd8b53a1af2aaa275e13dbdce3b9bebaabd14ed8', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 9, 'created': '2021-04-13 17:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0cf87a1da386d80d8e18db76273a08da3d88e501', 'message': '[WIP] Enable Elasticsearch TLS with Kibana\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 10, 'created': '2021-04-13 21:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6232fb1396d16c2efe54c23cebe48cf1934b1917', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 11, 'created': '2021-04-15 17:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3fd85a9723257c6e5776c00dc3be23798efa1a9', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 12, 'created': '2021-04-15 20:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1f9523ad267e588a8e3ff513da8dede6babf301c', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 13, 'created': '2021-04-15 21:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ff67162d2493a2c4e5e4ef4e2b6b4da143f2d7a', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 14, 'created': '2021-04-16 15:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e4c4a63e8e0c17df3b4f09fdff1b115554314e7', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 15, 'created': '2021-04-16 20:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c66199e073d8a71edb62efa84d9707c9fa6bcde', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 16, 'created': '2021-04-16 22:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27408791b4a640bb1926c5b6e33798fe05fc74d1', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 17, 'created': '2021-04-19 18:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7eb743683908c68d4e76f19a44fbe7a84bae3ac', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 18, 'created': '2021-04-19 22:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0f40c1663e87532eb2bddc62b2d0379f3d0af6c', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 19, 'created': '2021-04-20 00:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90acb002e343ca6c64d20afcb0727771ac0daafb', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 20, 'created': '2021-04-20 02:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/033fc969b91acce6339511aeae911d6493ed227b', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 21, 'created': '2021-04-20 03:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8274151e903ef75ef52c4873ddc2d1f7148c038', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 22, 'created': '2021-04-21 03:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21718e8efdecf099ac58d7a285a030cc1a81cede', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 23, 'created': '2021-04-21 15:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a767669de6d48c7faab26ccedc4368ed1263e73e', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 24, 'created': '2021-04-21 18:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2149b1063b77c9ad56ba6916a321aa2ece51f055', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client pod with curl are modified to provide\nthe cacert option when curling.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 25, 'created': '2021-04-21 20:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f48aae529f79addbc8fc2e6c9082b1710f02d226', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200 of\nelasticsearch-client container.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client endpoint are modified to provide\nthe cacert option with curl.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 26, 'created': '2021-04-22 20:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96fbec72bf96bdb334029308795d5c7c549b0493', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200 of\nelasticsearch-client container.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client endpoint are modified to provide\nthe cacert option with curl.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 27, 'created': '2021-04-23 20:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf3a62e4513ded9e3c20881cdba58e5887534490', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200 of\nelasticsearch-client container.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client endpoint are modified to provide\nthe cacert option with curl.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 28, 'created': '2021-04-24 16:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a41a6a1564c1a3387d8daace91007e864db74bec', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200 of\nelasticsearch-client container.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client endpoint are modified to provide\nthe cacert option with curl.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}, {'number': 29, 'created': '2021-04-25 16:07:55.000000000', 'files': ['releasenotes/notes/fluentd.yaml', 'elasticsearch/templates/bin/_create_template.sh.tpl', 'elasticsearch/templates/job-elasticsearch-template.yaml', 'elasticsearch/templates/bin/_helm-tests.sh.tpl', 'elasticsearch/values.yaml', 'kibana/templates/job-flush-kibana-metadata.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'elasticsearch/templates/pod-helm-tests.yaml', 'releasenotes/notes/kibana.yaml', 'fluentd/values_overrides/tls.yaml', 'elasticsearch/templates/bin/_verify-repositories.sh.tpl', 'elasticsearch/Chart.yaml', 'fluentd/Chart.yaml', 'elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'kibana/templates/deployment.yaml', 'elasticsearch/templates/bin/_create_s3_buckets.sh.tpl', 'kibana/values_overrides/tls.yaml', 'fluentd/values.yaml', 'elasticsearch/values_overrides/tls.yaml', 'elasticsearch/templates/ingress-elasticsearch.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/templates/service-logging.yaml', 'kibana/templates/bin/_flush_kibana_metadata.sh.tpl', 'kibana/Chart.yaml', 'fluentd/templates/daemonset.yaml', 'elasticsearch/templates/certificates.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/secret-elasticsearch.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a719e2a18bfd4f1daa57d1a4397d89966653b18', 'message': 'Enable TLS between Elasticsearch and Kibana\n\nThis change enables TLS between Elasticsearch and Kibana\ndata path. Note that TLS terminates at apache-proxy container\nof the Elasticsearch-client pod, not directly to port 9200 of\nelasticsearch-client container.\n\nSince all data traffic goes through apache-proxy container,\nfluentd output to Elasticsearch are configured to have TLS\nenabled as well.\n\nIn additon, other Elasticsearch pods that communicate with\nElasticsearch-client endpoint are modified to provide\nthe cacert option with curl.\n\nChange-Id: I3373c0c350b30c175be4a34d25a403b9caf74294\n'}]",0,785504,9a719e2a18bfd4f1daa57d1a4397d89966653b18,122,12,29,19391,,,0,"Enable TLS between Elasticsearch and Kibana

This change enables TLS between Elasticsearch and Kibana
data path. Note that TLS terminates at apache-proxy container
of the Elasticsearch-client pod, not directly to port 9200 of
elasticsearch-client container.

Since all data traffic goes through apache-proxy container,
fluentd output to Elasticsearch are configured to have TLS
enabled as well.

In additon, other Elasticsearch pods that communicate with
Elasticsearch-client endpoint are modified to provide
the cacert option with curl.

Change-Id: I3373c0c350b30c175be4a34d25a403b9caf74294
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/785504/19 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'elasticsearch/templates/certificates.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/values_overrides/tls.yaml', 'elasticsearch/templates/ingress-elasticsearch.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/templates/service-logging.yaml', 'elasticsearch/Chart.yaml']",8,365543484ff55867af85df057babcabeb84bd565,change-785504-10,version: 0.2.1,version: 0.2.0,193,17
openstack%2Fproject-config~master~I92fdf717e955098cbd60a57137c747875823ae2b,openstack/project-config,master,I92fdf717e955098cbd60a57137c747875823ae2b,Fix nl02's provider config list,MERGED,2021-04-26 16:32:30.000000000,2021-04-26 16:58:59.000000000,2021-04-26 16:50:36.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 16:32:30.000000000', 'files': ['nodepool/nl02.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/916bf66714360679d241ed805d4cae9fc0a933bb', 'message': ""Fix nl02's provider config list\n\nWe specified the provider config list twice in the nl02 config which\ncaused the second one to win when reserialized on nl02. Fix this by\nremoving the stray providers: specification.\n\nChange-Id: I92fdf717e955098cbd60a57137c747875823ae2b\n""}]",0,788044,916bf66714360679d241ed805d4cae9fc0a933bb,8,3,1,4146,,,0,"Fix nl02's provider config list

We specified the provider config list twice in the nl02 config which
caused the second one to win when reserialized on nl02. Fix this by
removing the stray providers: specification.

Change-Id: I92fdf717e955098cbd60a57137c747875823ae2b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/788044/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.opendev.org.yaml'],1,916bf66714360679d241ed805d4cae9fc0a933bb,fix-nl02-config,,providers:,0,1
openstack%2Fkayobe~stable%2Fstein~I3d85b341cf541cfb9b486021e66b316833fe9130,openstack/kayobe,stable/stein,I3d85b341cf541cfb9b486021e66b316833fe9130,Use released version of mrlesmithjr.mdadm,MERGED,2021-04-26 08:22:58.000000000,2021-04-26 16:47:39.000000000,2021-04-26 16:46:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-26 08:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d76838ee60b86fd40d3e17974f44483f173beb5e', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\n(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)\n""}, {'number': 2, 'created': '2021-04-26 11:02:42.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b826104b0a10fc75f777b7510e397cf00cf09bf7', 'message': ""Use released version of mrlesmithjr.mdadm\n\nAn initial version of the mrlesmithjr.mdadm role was released 2 days\nago. There are only minimal changes compared to the commit we were\nusing. This should avoid the following issue seen in CI:\n\n[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified\nversion (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not\nfound in the list of available versions ([{'id': 152374, 'url': '', 'related':\n{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':\n'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',\n'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':\n'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':\n'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':\nNone}]).\nERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.\n\nChange-Id: I3d85b341cf541cfb9b486021e66b316833fe9130\n(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)\n""}]",0,787936,b826104b0a10fc75f777b7510e397cf00cf09bf7,22,4,2,15197,,,0,"Use released version of mrlesmithjr.mdadm

An initial version of the mrlesmithjr.mdadm role was released 2 days
ago. There are only minimal changes compared to the commit we were
using. This should avoid the following issue seen in CI:

[WARNING]: - mrlesmithjr.mdadm was NOT installed successfully: - the specified
version (5be3ee7d330aa17317897bd104dc87ff0df11915) of mrlesmithjr.mdadm was not
found in the list of available versions ([{'id': 152374, 'url': '', 'related':
{}, 'summary_fields': {}, 'created': '2021-04-24T02:51:30.453954Z', 'modified':
'2021-04-24T02:51:30.453980Z', 'name': 'v0.1.0', 'version': '0.1.0',
'commit_date': '2021-04-23T22:50:00-04:00', 'commit_sha':
'b8a9853b7eafa9afc62bbb7728f64fd5dc9f54de', 'download_url':
'https://github.com/mrlesmithjr/ansible-mdadm/archive/v0.1.0.tar.gz', 'active':
None}]).
ERROR! - you can use --ignore-errors to skip failed roles and finish processing the list.

Change-Id: I3d85b341cf541cfb9b486021e66b316833fe9130
(cherry picked from commit 7411e624dea77a1b94d91bd37c9a388aa5011bb4)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/787936/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,d76838ee60b86fd40d3e17974f44483f173beb5e,, version: v0.1.0, # There are no versioned releases of this role. version: 5be3ee7d330aa17317897bd104dc87ff0df11915,1,2
openstack%2Fnova~stable%2Fwallaby~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/wallaby,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,MERGED,2021-04-09 09:06:54.000000000,2021-04-26 16:38:05.000000000,2021-04-26 16:36:31.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 09:06:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f99f667a96a357adc0070d75b5940e76726f9664', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors. As noted this is safe as calls to the\nencryptors are idempotent, ignoring failures to detach when the\nunderlying volume type is supported.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)\n'}]",0,785577,f99f667a96a357adc0070d75b5940e76726f9664,13,4,1,10135,,,0,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/785577/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f99f667a96a357adc0070d75b5940e76726f9664,bug/1917619," def test_detach_encryptor_encrypted_volume_meta_missing( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_encrypted_volume_meta_provided( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_native_luks_device_path_secret_missing( self, mock_get_encryptor, mock_find_secret ): """"""Assert that the encryptor is not built when the associated volume secret is missing and device_path is also missing from the connection_info."," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_missing(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_provided(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_allow_native_luksv1, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. mock_allow_native_luksv1.return_value = True",37,24
openstack%2Fkolla~master~Ia4d326601d14c5d55e8f67d8996458fc796583ea,openstack/kolla,master,Ia4d326601d14c5d55e8f67d8996458fc796583ea,Disable trove for Debian/binary,MERGED,2021-04-26 11:17:46.000000000,2021-04-26 16:31:03.000000000,2021-04-26 16:29:38.000000000,"[{'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 11:17:46.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53', 'message': ""Disable trove for Debian/binary\n\nPackage installation fails:\n\nSetting up trove-common (1:14.0.0-2~bpo10+1) ...\ninstall: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory\ndpkg: error processing package trove-common (--configure):\n installed trove-common package post-installation script subprocess returned error exit status 1\n\nChange-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea\n""}]",0,787958,51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53,14,5,1,24072,,,0,"Disable trove for Debian/binary

Package installation fails:

Setting up trove-common (1:14.0.0-2~bpo10+1) ...
install: cannot stat '/usr/share/trove-common/api-paste.ini': No such file or directory
dpkg: error processing package trove-common (--configure):
 installed trove-common package post-installation script subprocess returned error exit status 1

Change-Id: Ia4d326601d14c5d55e8f67d8996458fc796583ea
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/787958/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,51c3c90af9a0c4ed27b4af5e0650b4e3a9eaeb53,," ""trove-base"", # package is not installable",,1,0
openstack%2Fpuppet-nova~master~I2bd2a61263db8d7e54397ab85b4c51b79644adf2,openstack/puppet-nova,master,I2bd2a61263db8d7e54397ab85b4c51b79644adf2,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 15:05:24.000000000,2021-04-26 16:27:21.000000000,2021-04-26 16:27:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 15:05:24.000000000', 'files': ['spec/unit/provider/nova_api_metadata_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/nova_api_uwsgi_config/openstackconfig.rb', 'lib/puppet/provider/nova_api_uwsgi_config/ini_setting.rb', 'spec/unit/provider/nova_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/nova_api_metadata_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/98f286cd7b8a8f15615f75b71343387e3414f476', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make runs indenpotant.\n\nChange-Id: I2bd2a61263db8d7e54397ab85b4c51b79644adf2\n""}]",0,787212,98f286cd7b8a8f15615f75b71343387e3414f476,11,3,1,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make runs indenpotant.

Change-Id: I2bd2a61263db8d7e54397ab85b4c51b79644adf2
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/12/787212/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/nova_api_metadata_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/nova_api_uwsgi_config/openstackconfig.rb', 'lib/puppet/provider/nova_api_uwsgi_config/ini_setting.rb', 'spec/unit/provider/nova_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/nova_api_metadata_uwsgi_config/ini_setting.rb']",5,98f286cd7b8a8f15615f75b71343387e3414f476,init-settings-no-openstack-settings," :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting)"," :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby)",14,36
openstack%2Fswift~master~I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,openstack/swift,master,I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893,Add more detail to ECFragGetter logging,MERGED,2021-04-21 19:21:58.000000000,2021-04-26 16:18:37.000000000,2021-04-26 14:23:24.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 19:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6ed9c3e0b8be1b067e31fa56983b32788169dafc', 'message': 'Add more detail to ECFragGetter logging\n\n * Add new useful log messages at appropriate leves for development and\n   production logging.\n * Remove more i18n translations.\n * Differentiate EC errors from replicated object controller messages.\n\nRelated-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4\nChange-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893\n'}, {'number': 2, 'created': '2021-04-22 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4ca1142d8b2c322dc52577006e21e8c1c63c278', 'message': 'Add more detail to ECFragGetter logging\n\n * Add new useful log messages at appropriate leves for development and\n   production logging.\n * Remove more i18n translations.\n * Differentiate EC errors from replicated object controller messages.\n\nRelated-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4\nChange-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893\n'}, {'number': 3, 'created': '2021-04-26 11:23:30.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5516bf46c01da80b2baedd00c22c4d822b569634', 'message': 'Add more detail to ECFragGetter logging\n\n * Add new useful log messages at appropriate levels for development and\n   production logging.\n * Remove more i18n translations.\n * Differentiate EC errors from replicated object controller messages.\n\nRelated-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4\nChange-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893\n'}]",4,787435,5516bf46c01da80b2baedd00c22c4d822b569634,13,2,3,1179,,,0,"Add more detail to ECFragGetter logging

 * Add new useful log messages at appropriate levels for development and
   production logging.
 * Remove more i18n translations.
 * Differentiate EC errors from replicated object controller messages.

Related-Change-Id: I0654815543be3df059eb2875d9b3669dbd97f5b4
Change-Id: I5d22278a2be5bc1b4a9e97e3cf12b5e630ea7893
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/787435/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py']",3,6ed9c3e0b8be1b067e31fa56983b32788169dafc,ec-resume-logging," self.logger.exception( ""ChunkReadTimeout fetching fragments for %r"", quote(self.path)) except ChunkWriteTimeout: # slow client disconnect self.logger.exception( ""ChunkWriteTimeout fetching fragments for %r"", quote(self.path)) self.logger.exception(""Exception fetching fragments for %r"", quote(self.path)) self.logger.exception(""Error decoding fragments for %r"", quote(self.path)) if not new_source: self.app.error_occurred( self.node, 'Trying to read next part of ' 'EC multi-part GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) self.app.logger.exception('Unable to fast forward') self.node, 'Trying to read EC fragment ' 'during GET (retrying)') self.app.logger.warning( 'Client disconnected on read of EC frag %r', self.path) 'Trying to %(method)s %(path)s' % self.app.logger.debug('Ignoring %s from handoff' % possible_source.status) else: self.app.logger.debug( 'Ignoring %s from primary' % possible_source.status) if not source: # _make_node_request only returns good sources continue if source.getheader('X-Object-Sysmeta-EC-ETag') != used_etag: self.app.logger.warning( 'Skipping source (etag mismatch: got %s, expected %s)', source.getheader('X-Object-Sysmeta-EC-ETag'), used_etag) else:"," self.logger.exception(_(""Timeout fetching fragments for %r""), quote(self.path)) self.logger.exception(_(""Exception fetching fragments for"" "" %r""), quote(self.path)) self.logger.exception(_(""Error decoding fragments for"" "" %r""), quote(self.path)) if new_source: self.app.error_occurred( self.node, _('Trying to read object during ' 'GET (retrying)')) # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: self.node, _('Trying to read object during ' 'GET (retrying)')) self.app.logger.warning('Client disconnected on read of %r', self.path) _('Trying to %(method)s %(path)s') % if source and is_good_source(source.status) and \ source.getheader('X-Object-Sysmeta-EC-ETag') == used_etag:",108,34
openstack%2Fdebtcollector~master~Ib10180732042bda254b058b94c9ff41f5c31c3cb,openstack/debtcollector,master,Ib10180732042bda254b058b94c9ff41f5c31c3cb,Remove runtime dependency on pbr,MERGED,2021-04-26 07:25:25.000000000,2021-04-26 16:16:57.000000000,2021-04-26 15:40:03.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 07:25:25.000000000', 'files': ['debtcollector/__init__.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/75487624e771a63b3c43188610e39a2ce701742a', 'message': 'Remove runtime dependency on pbr\n\nPbr is a very heavy package to depend on. It requires git-core, which is\n16 MiB on my Fedora. We only use it to detect the version, which can be\ndone without pbr using a much lighter importlib_metadata.\n\nCopied from https://review.opendev.org/c/openstack/osprofiler/+/739379\n\nChange-Id: Ib10180732042bda254b058b94c9ff41f5c31c3cb\n'}]",3,787926,75487624e771a63b3c43188610e39a2ce701742a,11,3,1,10239,,,0,"Remove runtime dependency on pbr

Pbr is a very heavy package to depend on. It requires git-core, which is
16 MiB on my Fedora. We only use it to detect the version, which can be
done without pbr using a much lighter importlib_metadata.

Copied from https://review.opendev.org/c/openstack/osprofiler/+/739379

Change-Id: Ib10180732042bda254b058b94c9ff41f5c31c3cb
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/26/787926/1 && git format-patch -1 --stdout FETCH_HEAD,"['debtcollector/__init__.py', 'requirements.txt']",2,75487624e771a63b3c43188610e39a2ce701742a,no-pbr,importlib_metadata>=1.7.0;python_version<'3.8' # Apache-2.0,,8,3
openstack%2Fironic~master~I334d6d5d7a35557a57ba118bed0a6beedba934d3,openstack/ironic,master,I334d6d5d7a35557a57ba118bed0a6beedba934d3,Follow up to add iDRAC management via Redfish,MERGED,2021-04-05 14:13:27.000000000,2021-04-26 16:12:03.000000000,2021-04-26 16:09:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-05 14:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40829628b1d8e9812c5e986c31462cf83350d725', 'message': 'Add unit test to wait_until_get_system_ready.\n\nChange-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3\n'}, {'number': 2, 'created': '2021-04-07 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc04de9f1ce972799e30ed29e826ab4acb748826', 'message': 'Follow up to add iDRAC management via Redfish\n\nThis change add unit test to wait until system ready.\n\nFolloup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n\nChange-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3\n'}, {'number': 3, 'created': '2021-04-12 12:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/190ccc649a70f6b732a5137ca1d7f2081dec9e7e', 'message': 'Follow up to add iDRAC management via Redfish\n\nThis change add unit test to wait until system ready.\n\nFolloup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n\nChange-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3\n'}, {'number': 4, 'created': '2021-04-12 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/09581cd0f6a7ebafd4adc96e3036c3f7865ec5cd', 'message': 'Follow up to add iDRAC management via Redfish\n\nAdd unit tests to redfish utils method wait_until_get_system_ready.\n\nFollowup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n\nChange-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3\n'}, {'number': 5, 'created': '2021-04-23 09:48:46.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/266be4eb4cdd0b3145838b52b73f106cdbd3f805', 'message': 'Follow up to add iDRAC management via Redfish\n\nAdd unit tests to redfish utils method wait_until_get_system_ready.\n\nFollowup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4\n\nChange-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3\n'}]",25,784775,266be4eb4cdd0b3145838b52b73f106cdbd3f805,42,7,5,31871,,,0,"Follow up to add iDRAC management via Redfish

Add unit tests to redfish utils method wait_until_get_system_ready.

Followup to change: Iad69c8d7cf3a373f5cfcc619a479a106efa2e4d4

Change-Id: I334d6d5d7a35557a57ba118bed0a6beedba934d3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/784775/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/redfish/test_utils.py'],1,40829628b1d8e9812c5e986c31462cf83350d725,change-784775-4," @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_wait_until_get_system_ready(self, mock_sushy): fake_conn = mock_sushy.return_value fake_system = fake_conn.get_system.return_value response = redfish_utils.wait_until_get_system_ready(self.node) self.assertEqual(fake_system, response) fake_conn.get_system.assert_called_once_with( '/redfish/v1/Systems/FAKESYSTEM') @mock.patch.object(sushy, 'Sushy', autospec=True) def test_wait_until_get_system_ready_with_connection_error(self, mock_sushy): fake_conn = mock_sushy.return_value fake_conn.get_system.side_effect = sushy.exceptions.BadRequestError() self.assertRaises(exception.RedfishConnectionError, redfish_utils.wait_until_get_system_ready, self.node)",,20,0
openstack%2Foslo.config~master~Ie947803f61ba0ef080018e0447de894a400d7975,openstack/oslo.config,master,Ie947803f61ba0ef080018e0447de894a400d7975,Adding the missing HostDomain config option,MERGED,2021-04-15 12:03:04.000000000,2021-04-26 15:53:22.000000000,2021-04-26 15:51:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-04-15 12:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bb5dda544966553cb6b15a3247354d9a98794876', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago however\nthe config option have been forgotten and this new type isn\'t\nimportable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n\nThese changes make allow us to import this new type and allow us to use\nit in our config:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}, {'number': 2, 'created': '2021-04-15 12:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/81548898dfc9a3af6d491f0ac211388835f3cbd4', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago [1]\nhowever the config option have been forgotten and this new type\nisn\'t importable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\n```\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n```\n\nThese changes allow us to import this new type and allow us to use\nit in our configs:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}, {'number': 3, 'created': '2021-04-15 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/4090231bd1ade944231e58568f8da26e505e40ba', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago [1]\nhowever the config option have been forgotten and this new type\nisn\'t importable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\n```\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n```\n\nThese changes allow us to import this new type and allow us to use\nit in our configs:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}, {'number': 4, 'created': '2021-04-15 15:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/e6ef02763ed9750af85649d28020162469ad98c1', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago [1]\nhowever the config option have been forgotten and this new type\nisn\'t importable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\n```\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n```\n\nThese changes allow us to import this new type and allow us to use\nit in our configs:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\nAlso properly initialize HostDomain because The HostDomain class wasn\'t\ncalling super in it\'s __init__() method, which resulted in the type_name not\nbeing set properly for instances of that class.\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}, {'number': 5, 'created': '2021-04-15 15:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/4f0d653a596c88f5aa1b39953453f0cb38655be8', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago [1]\nhowever the config option have been forgotten and this new type\nisn\'t importable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\n```\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n```\n\nThese changes allow us to import this new type and allow us to use\nit in our configs:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\nAlso properly initialize HostDomain because The HostDomain class wasn\'t\ncalling super in it\'s __init__() method, which resulted in the type_name not\nbeing set properly for instances of that class.\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}, {'number': 6, 'created': '2021-04-22 10:27:03.000000000', 'files': ['oslo_config/tests/test_generator.py', 'oslo_config/cfg.py', 'oslo_config/types.py', 'releasenotes/notes/add-missing-config-option-9ee1992eea750200.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bb5e4cbeb973c6341bf51eea2ebe5d38366167e8', 'message': 'Adding the missing HostDomain config option\n\nThe ``HostDomain`` config type have been added few months ago [1]\nhowever the config option have been forgotten and this new type\nisn\'t importable.\n\nWhen we try to import this type without defining a new related cfg\noption we get the following issue:\n\n```\nAttributeError: module \'oslo_config.cfg\' has no attribute \'HostDomain\'\n```\n\nThese changes allow us to import this new type and allow us to use\nit in our configs:\n\n```\n>>> from oslo_config import cfg\n>>> foo = cfg.HostDomain(\'foo\')\n>>> foo.type.__call__(""1"")\n...\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__\n     raise ValueError(\nValueError: 1 is not a valid host address\n>>> foo.type.__call__(""host_name"")\n\'host_name\'\n```\n\nAlso properly initialize HostDomain because The HostDomain class wasn\'t\ncalling super in it\'s __init__() method, which resulted in the type_name not\nbeing set properly for instances of that class.\n\n[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75\n\nChange-Id: Ie947803f61ba0ef080018e0447de894a400d7975\nCloses-Bug: 1924283\n'}]",1,786394,bb5e4cbeb973c6341bf51eea2ebe5d38366167e8,22,4,6,28522,,,0,"Adding the missing HostDomain config option

The ``HostDomain`` config type have been added few months ago [1]
however the config option have been forgotten and this new type
isn't importable.

When we try to import this type without defining a new related cfg
option we get the following issue:

```
AttributeError: module 'oslo_config.cfg' has no attribute 'HostDomain'
```

These changes allow us to import this new type and allow us to use
it in our configs:

```
>>> from oslo_config import cfg
>>> foo = cfg.HostDomain('foo')
>>> foo.type.__call__(""1"")
...
During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""~/oslo.config/oslo_config/types.py"", line 893, in __call__
     raise ValueError(
ValueError: 1 is not a valid host address
>>> foo.type.__call__(""host_name"")
'host_name'
```

Also properly initialize HostDomain because The HostDomain class wasn't
calling super in it's __init__() method, which resulted in the type_name not
being set properly for instances of that class.

[1] https://opendev.org/openstack/oslo.config/commit/6480356928c9ae6169ea1e5a5b5f1df3d6e0dc75

Change-Id: Ie947803f61ba0ef080018e0447de894a400d7975
Closes-Bug: 1924283
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/94/786394/6 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/cfg.py', 'releasenotes/notes/add-missing-config-option-9ee1992eea750200.yaml']",2,bb5dda544966553cb6b15a3247354d9a98794876,add-missing-opt,--- fixes: - | Adding the missing ``HostDomain`` config option. Previously this available type couldn't been imported because no related config option was defined. ,,26,0
openstack%2Fpython-novaclient~master~Icad6d0d0d375d1995baa603b091be50797210215,openstack/python-novaclient,master,Icad6d0d0d375d1995baa603b091be50797210215,Use py3 as the default runtime for tox,MERGED,2021-04-20 01:36:35.000000000,2021-04-26 15:41:08.000000000,2021-04-26 15:39:12.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26159}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-20 01:36:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b5faf37f1b9f8cd6c065327309c8290c211d13d2', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nChange-Id: Icad6d0d0d375d1995baa603b091be50797210215\n'}]",0,787008,b5faf37f1b9f8cd6c065327309c8290c211d13d2,11,5,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Change-Id: Icad6d0d0d375d1995baa603b091be50797210215
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/08/787008/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5faf37f1b9f8cd6c065327309c8290c211d13d2,,"envlist = py3,pep8,docs","envlist = py38,pep8,docs",1,1
openstack%2Fbashate~master~Ib66ceb8791158a6938b921a143907bd8db24bebf,openstack/bashate,master,Ib66ceb8791158a6938b921a143907bd8db24bebf,[CI] Make bashate-devstack job voting and gating,MERGED,2021-04-26 15:08:55.000000000,2021-04-26 15:39:31.000000000,2021-04-26 15:34:20.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 15:08:55.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bashate/commit/189aadde8b2a973b083842f2293833b9ad77bb30', 'message': '[CI] Make bashate-devstack job voting and gating\n\nChange-Id: Ib66ceb8791158a6938b921a143907bd8db24bebf\n'}]",0,788023,189aadde8b2a973b083842f2293833b9ad77bb30,8,2,1,30491,,,0,"[CI] Make bashate-devstack job voting and gating

Change-Id: Ib66ceb8791158a6938b921a143907bd8db24bebf
",git fetch https://review.opendev.org/openstack/bashate refs/changes/23/788023/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,189aadde8b2a973b083842f2293833b9ad77bb30,ci-bashate-devstack-voting-and-gating, - bashate-devstack gate: jobs: - bashate-devstack, - bashate-devstack: voting: false,4,2
openstack%2Freleases~master~Ibc0257c052aa0e60293c37a6990dce18e97e7730,openstack/releases,master,Ibc0257c052aa0e60293c37a6990dce18e97e7730,pbr 5.6.0,MERGED,2021-04-23 09:08:58.000000000,2021-04-26 15:11:48.000000000,2021-04-26 15:11:48.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-23 09:08:58.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fb3b2c0ff32c8dac542439feefceb34eb5b1f99b', 'message': ""pbr 5.6.0\n\nFix issues with 'requires-python' and 'python-requires', plus some other\ntrivial clean up.\n\nChange-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,787693,fb3b2c0ff32c8dac542439feefceb34eb5b1f99b,10,3,1,15334,,,0,"pbr 5.6.0

Fix issues with 'requires-python' and 'python-requires', plus some other
trivial clean up.

Change-Id: Ibc0257c052aa0e60293c37a6990dce18e97e7730
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/787693/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,fb3b2c0ff32c8dac542439feefceb34eb5b1f99b,pbr, - version: 5.6.0 projects: - repo: openstack/pbr hash: d9f72421f6dca6e151f999dbbebd81cc36445704,,4,0
openstack%2Fbifrost~stable%2Fwallaby~Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,openstack/bifrost,stable/wallaby,Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670,[CI] Make Kolla job running again,MERGED,2021-04-23 06:55:06.000000000,2021-04-26 15:11:09.000000000,2021-04-26 15:06:26.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-23 06:55:06.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d28cc542b96bc7cb9ea9479b7feae0a8dc81c1d6', 'message': '[CI] Make Kolla job running again\n\nKolla renamed the CentOS 8 Stream jobs recently.\n\nChange-Id: Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670\n(cherry picked from commit e3d16ab416c7dfb94a55fe60858b4d01b8a77c60)\n'}]",0,787605,d28cc542b96bc7cb9ea9479b7feae0a8dc81c1d6,23,4,1,30491,,,0,"[CI] Make Kolla job running again

Kolla renamed the CentOS 8 Stream jobs recently.

Change-Id: Ibb9cf61fa1de6f8f131f10c3a841efddb1bc6670
(cherry picked from commit e3d16ab416c7dfb94a55fe60858b4d01b8a77c60)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/05/787605/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d28cc542b96bc7cb9ea9479b7feae0a8dc81c1d6,fix-the-kolla-job-stable/wallaby, - kolla-ansible-centos8s-source-bifrost:, - kolla-ansible-centos8-source-bifrost:,1,1
openstack%2Fpuppet-placement~master~I56a9d9534be8aaee74b1da0c7633359578c74769,openstack/puppet-placement,master,I56a9d9534be8aaee74b1da0c7633359578c74769,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 16:22:16.000000000,2021-04-26 15:09:18.000000000,2021-04-26 15:09:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:22:16.000000000', 'files': ['spec/unit/provider/placement_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/placement_api_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/924dce105a61571ad6db042f89c9666ea4d54dab', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: I56a9d9534be8aaee74b1da0c7633359578c74769\n""}]",0,787260,924dce105a61571ad6db042f89c9666ea4d54dab,7,3,1,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: I56a9d9534be8aaee74b1da0c7633359578c74769
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/60/787260/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/placement_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/placement_api_uwsgi_config/ini_setting.rb']",2,924dce105a61571ad6db042f89c9666ea4d54dab,init-settings-no-openstack-settings," :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting)"," :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby)",3,14
openstack%2Fopenstack-ansible~master~Ib3015442eb4633fb208eb10af1f4150f189c3e14,openstack/openstack-ansible,master,Ib3015442eb4633fb208eb10af1f4150f189c3e14,Fix manila ceph caps,MERGED,2021-04-22 15:52:50.000000000,2021-04-26 15:03:38.000000000,2021-04-26 15:01:19.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-04-22 15:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/234585bffde7fb204105722d6465f9e9bb526d16', 'message': 'Adds rw mgr caps to manila\n\nWe need w mgr caps for manila in order to use the ceph-mgr\ninterface. Update the caps to match this need.\n\nCloses-Bug: #1925525\nChange-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14\n'}, {'number': 2, 'created': '2021-04-22 16:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed01c4447600dce152fb3634886331f0d43398b7', 'message': 'Fix manila ceph caps\n\nNow that we issue mgr/volume commands and rados\nget/put on pool with ""ganesha_rados_store_pool_name""\nname via a rados client, the auth ID used by the\ndriver/rados client would need different capabilities.\n\nThe auth ID will now require:\n\nmon \'allow r\'\nmgr \'allow rw\'\nosd \'allow rw pool=<ganesha_rados_store_pool_name>""\n\nThe driver\'s auth ID does not need any MDS capability,\nrequires reduced MON and OSD capability, and extra write\ncapability for MGR.\n\nCloses-Bug: #1925525\nChange-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14\n'}, {'number': 3, 'created': '2021-04-22 17:34:34.000000000', 'files': ['inventory/group_vars/all/ceph.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f8c83f663b39cfbba72809f92f7eb894d96c1d0', 'message': 'Fix manila ceph caps\n\nNow that we issue mgr/volume commands and rados\nget/put on pool with ""ganesha_rados_store_pool_name""\nname via a rados client, the auth ID used by the\ndriver/rados client would need different capabilities.\n\nThe auth ID will now require:\n\nmon \'allow r\'\nmgr \'allow rw\'\nosd \'allow rw pool=<ganesha_rados_store_pool_name>""\n\nThe driver\'s auth ID does not need any MDS capability,\nrequires reduced MON and OSD capability, and extra write\ncapability for MGR.\n\nCloses-Bug: #1925525\nChange-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14\n'}]",1,787591,9f8c83f663b39cfbba72809f92f7eb894d96c1d0,17,5,3,6413,,,0,"Fix manila ceph caps

Now that we issue mgr/volume commands and rados
get/put on pool with ""ganesha_rados_store_pool_name""
name via a rados client, the auth ID used by the
driver/rados client would need different capabilities.

The auth ID will now require:

mon 'allow r'
mgr 'allow rw'
osd 'allow rw pool=<ganesha_rados_store_pool_name>""

The driver's auth ID does not need any MDS capability,
requires reduced MON and OSD capability, and extra write
capability for MGR.

Closes-Bug: #1925525
Change-Id: Ib3015442eb4633fb208eb10af1f4150f189c3e14
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/787591/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/ceph.yml'],1,234585bffde7fb204105722d6465f9e9bb526d16,bug/1925525," - { name: client.manila, caps: { mon: ""allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create'"", mgr: ""allow rw"", mds: ""allow *"", osd: ""allow rw""}, mode: ""0600"", }"," - { name: client.manila, caps: { mon: ""allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create'"", mgr: ""allow r"", mds: ""allow *"", osd: ""allow rw""}, mode: ""0600"", }",1,1
openstack%2Fneutron~master~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,master,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-12 08:49:14.000000000,2021-04-26 15:00:08.000000000,2021-04-26 14:58:21.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 08:49:14.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/109faeac7e2e37da3bb7d5014a37ef18ed8cb80a', 'message': 'trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n\nIn python3 dict.values() doesn\'t return list but instead dict_values,\nit must be converted to list to ""enjoy"" list operations like insert.\nAdd unit tests to be sure.\n\nCloses-Bug: #1923423\nChange-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61\n'}]",3,785830,109faeac7e2e37da3bb7d5014a37ef18ed8cb80a,59,5,1,8313,,,0,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/785830/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py']",2,109faeac7e2e37da3bb7d5014a37ef18ed8cb80a,bug/1923423,"from neutron.services.l3_router.service_providers import single_node def test___attrs_to_driver(self): test_dc = driver_controller.DriverController(self.fake_l3) test_dc.default_provider = 'single_node' self.assertIsInstance(test_dc._attrs_to_driver({}), single_node.SingleNodeDriver) test_dc.default_provider = 'ha' with mock.patch.object(driver_controller, ""_is_driver_compatible"", return_value=False): self.assertRaises(NotImplementedError, test_dc._attrs_to_driver, {}) ",,14,1
openstack%2Fkolla-ansible~master~Ie08877e339455bed45ee467a87de9648678e88c5,openstack/kolla-ansible,master,Ie08877e339455bed45ee467a87de9648678e88c5,[doc] fix a typo,MERGED,2021-04-26 13:40:33.000000000,2021-04-26 14:58:32.000000000,2021-04-26 14:56:59.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 13:40:33.000000000', 'files': ['doc/source/reference/compute/zun-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc406d035dbe0c2b088efe80a828b70e5ca69de6', 'message': '[doc] fix a typo\n\nTrivial Fix\n\nChange-Id: Ie08877e339455bed45ee467a87de9648678e88c5\n'}]",0,787998,fc406d035dbe0c2b088efe80a828b70e5ca69de6,8,3,1,26285,,,0,"[doc] fix a typo

Trivial Fix

Change-Id: Ie08877e339455bed45ee467a87de9648678e88c5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/787998/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/compute/zun-guide.rst'],1,fc406d035dbe0c2b088efe80a828b70e5ca69de6,typo,Docker reconfiguration requires rebootstrapping before deploy.,Docker reconfiguration requires reboostrapping before deploy.,1,1
openstack%2Fpuppet-panko~master~Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,openstack/puppet-panko,master,Iadf4f00adbb35b832fce7e539e8d76aaecab9acd,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 17:20:26.000000000,2021-04-26 14:54:55.000000000,2021-04-26 14:54:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 17:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/754289fd9d596edc4e25e58ad9edf6399e5ea900', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd\n""}, {'number': 2, 'created': '2021-04-21 16:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/d3827db1a1e4a1a897a242b7ea481c0e5d69751a', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd\n""}, {'number': 3, 'created': '2021-04-21 16:15:15.000000000', 'files': ['lib/puppet/provider/panko_api_uwsgi_config/openstackconfig.rb', 'spec/unit/provider/panko_api_uwsgi_config/ini_setting_spec.rb', 'spec/spec_helper.rb', 'lib/puppet/provider/panko_api_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/84bba8a866df95455dcd7ee7df37a692847553f4', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd\n""}]",0,787272,84bba8a866df95455dcd7ee7df37a692847553f4,10,3,3,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Iadf4f00adbb35b832fce7e539e8d76aaecab9acd
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/72/787272/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/panko_api_uwsgi_config/openstackconfig.rb', 'spec/unit/provider/panko_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/panko_api_uwsgi_config/ini_setting.rb']",3,754289fd9d596edc4e25e58ad9edf6399e5ea900,init-settings-no-openstack-settings,"Puppet::Type.type(:panko_api_uwsgi_config).provide( :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting) ) do def self.file_path '/etc/panko/panko-api-uwsgi.ini' end end ",,11,22
openstack%2Fpuppet-gnocchi~master~Ib674673edec143841aa88d754ea2e9b0cb13be1a,openstack/puppet-gnocchi,master,Ib674673edec143841aa88d754ea2e9b0cb13be1a,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-22 13:20:09.000000000,2021-04-26 14:53:45.000000000,2021-04-26 14:53:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 13:20:09.000000000', 'files': ['lib/puppet/provider/gnocchi_api_uwsgi_config/ini_setting.rb', 'lib/puppet/provider/gnocchi_api_uwsgi_config/openstackconfig.rb', 'spec/spec_helper.rb', 'spec/unit/provider/gnocchi_api_uwsgi_config/ini_setting_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/e986276b7751a99aadd9dd02be9d2a9ed270f82d', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ib674673edec143841aa88d754ea2e9b0cb13be1a\n""}]",0,787556,e986276b7751a99aadd9dd02be9d2a9ed270f82d,9,3,1,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ib674673edec143841aa88d754ea2e9b0cb13be1a
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/56/787556/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/gnocchi_api_uwsgi_config/ini_setting.rb', 'lib/puppet/provider/gnocchi_api_uwsgi_config/openstackconfig.rb', 'spec/spec_helper.rb', 'spec/unit/provider/gnocchi_api_uwsgi_config/ini_setting_spec.rb']",4,e986276b7751a99aadd9dd02be9d2a9ed270f82d,init-settings-no-openstack-settings,provider_class = Puppet::Type.type(:gnocchi_api_uwsgi_config).provider(:ini_setting),"$LOAD_PATH.push( File.join( File.dirname(__FILE__), '..', '..', '..', 'fixtures', 'modules', 'openstacklib', 'lib') )provider_class = Puppet::Type.type(:gnocchi_api_uwsgi_config).provider(:openstackconfig)",13,22
openstack%2Fnova~stable%2Fussuri~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,stable/ussuri,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,NEW,2021-04-09 09:19:10.000000000,2021-04-26 14:50:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 09:19:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ec67d01b0f45815ed08bce49e36fc38b6e23ec4', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors. As noted this is safe as calls to the\nencryptors are idempotent, ignoring failures to detach when the\nunderlying volume type is supported.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)\n(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)\n(cherry picked from commit 67de26776c23dddf906eab30daaecdf401abbdc4)\n'}]",0,785585,6ec67d01b0f45815ed08bce49e36fc38b6e23ec4,5,1,1,10135,,,0,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
(cherry picked from commit 4908daed96ddda492ced6cbb084abe8f33a8b1f7)
(cherry picked from commit f99f667a96a357adc0070d75b5940e76726f9664)
(cherry picked from commit 67de26776c23dddf906eab30daaecdf401abbdc4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/785585/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,6ec67d01b0f45815ed08bce49e36fc38b6e23ec4,bug/1917619," def test_detach_encryptor_encrypted_volume_meta_missing( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_encrypted_volume_meta_provided( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_native_luks_device_path_secret_missing( self, mock_get_encryptor, mock_find_secret ): """"""Assert that the encryptor is not built when the associated volume secret is missing and device_path is also missing from the connection_info."," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_missing(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_provided(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_allow_native_luksv1, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. mock_allow_native_luksv1.return_value = True",37,24
openstack%2Frelease-test~stable%2Focata~If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,openstack/release-test,stable/ocata,If1de23d7ae4ad62be42d34553d8dd5d8dab0779c,Update .gitreview for stable/ocata,ABANDONED,2021-04-16 20:02:03.000000000,2021-04-26 14:30:08.000000000,,[{'_account_id': 17685}],"[{'number': 1, 'created': '2021-04-16 20:02:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/release-test/commit/3f5ad7bde047828bfd12f0bcb6b1b8d11d29906a', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: If1de23d7ae4ad62be42d34553d8dd5d8dab0779c\n'}]",0,786721,3f5ad7bde047828bfd12f0bcb6b1b8d11d29906a,3,1,1,17685,,,0,"Update .gitreview for stable/ocata

Change-Id: If1de23d7ae4ad62be42d34553d8dd5d8dab0779c
",git fetch https://review.opendev.org/openstack/release-test refs/changes/21/786721/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3f5ad7bde047828bfd12f0bcb6b1b8d11d29906a,,defaultbranch=stable/ocata,,1,0
openstack%2Fironic-specs~master~I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,openstack/ironic-specs,master,I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc,Followup pre-defined system hw conf in single step,MERGED,2021-03-15 18:19:08.000000000,2021-04-26 14:29:53.000000000,2021-04-26 14:28:33.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-03-15 18:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/3ae89b380575bc13667c1ad39fad80bb5b3fcbc9', 'message': 'Followup pre-defined system hw conf in single step\n\nChange-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc\n'}, {'number': 2, 'created': '2021-03-15 18:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bb5604d22ecd3b3b6f9e75b8134307f1017cb5b8', 'message': 'Followup pre-defined system hw conf in single step\n\nChange-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc\n'}, {'number': 3, 'created': '2021-03-25 09:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d4497e5a6657ae766abc778115a6ccee4f01de6a', 'message': 'Followup pre-defined system hw conf in single step\n\nChange-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc\n'}, {'number': 4, 'created': '2021-03-29 17:07:22.000000000', 'files': ['specs/approved/predefined-system-hw-config-single-step.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fd3dd8f9ea110e2e365e8e7edd562ce8575e60b0', 'message': 'Followup pre-defined system hw conf in single step\n\nChange-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc\n'}]",7,780645,fd3dd8f9ea110e2e365e8e7edd562ce8575e60b0,22,6,4,27909,,,0,"Followup pre-defined system hw conf in single step

Change-Id: I69a03f2ad94e14e3c28adcf042c8b79e9f8260fc
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/45/780645/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/predefined-system-hw-config-single-step.rst'],1,3ae89b380575bc13667c1ad39fad80bb5b3fcbc9,conf_molds,"containers provided by users. In multi-tenant, end-user accessible Ironic API this could lead to accessing data not belonging to the tenant by, e.g., guessing or somehow finding out another tenant's URL and feeding that to ironic that has access to it while end-user does not. This vulnerability needs to be addressed separately in future releases. There are possibly other use cases that are affected by this limitation and would benefit from addressing this.","containers provided by users. In multi-tenancy environment this could lead to accessing data not belonging to the tenant by, e.g., guessing or somehow finding out another tenant's URL and feeding that to ironic that has access to it while end-user does not. This needs to be addressed separately in future releases. There are possibly other use cases that are affected by this limitation and would benefit from addressing this.",6,6
openstack%2Freleases~master~Icc386a9fe36ddae4edbc15603e745b14d1861271,openstack/releases,master,Icc386a9fe36ddae4edbc15603e745b14d1861271,New OpenStack SDK release 0.56.0,MERGED,2021-04-16 08:28:03.000000000,2021-04-26 14:28:14.000000000,2021-04-26 14:28:14.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-16 08:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03c33cd01357c11a887977ee3e0a72cf8ae7611e', 'message': 'New OpenStack SDK release 0.56.0\n\nChange-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271\n'}, {'number': 2, 'created': '2021-04-24 10:00:08.000000000', 'files': ['deliverables/xena/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87693389a531ab89fad59b15f819604d60d6e390', 'message': 'New OpenStack SDK release 0.56.0\n\nChange-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271\n'}]",0,786598,87693389a531ab89fad59b15f819604d60d6e390,17,6,2,11975,,,0,"New OpenStack SDK release 0.56.0

Change-Id: Icc386a9fe36ddae4edbc15603e745b14d1861271
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/786598/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstacksdk.yaml'],1,03c33cd01357c11a887977ee3e0a72cf8ae7611e,new-sdk-release,releases: - version: 0.56.0 projects: - repo: openstack/openstacksdk hash: e13b59c7bd31a8f39067c9d217c0a22807b78c55,,5,0
openstack%2Fproject-config~master~I5b4298f9ece360dd735b606f5c82fcb6c7968c97,openstack/project-config,master,I5b4298f9ece360dd735b606f5c82fcb6c7968c97,Make gerritbot notify about V-2 on kolla,MERGED,2021-04-25 14:59:17.000000000,2021-04-26 14:26:52.000000000,2021-04-26 14:18:44.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-25 14:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d976959b04d7012b3b9f13d899f5c88da4e552d', 'message': 'Make gerritbot more talkative on #openstack-kolla\n\nMake it notify about V-2, CR-2 and CR+2.\n\nChange-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97\n'}, {'number': 2, 'created': '2021-04-25 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/36507e07db67d021a64da01df7dee28d154cb0e2', 'message': 'Make gerritbot more talkative on #openstack-kolla\n\nMake it notify about V-2, CR-2 and CR+2.\n\nChange-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97\n'}, {'number': 3, 'created': '2021-04-25 17:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/08aad5a0f579a0ddf8b989800ede95ec7c917980', 'message': 'Make gerritbot more talkative on #openstack-kolla\n\nMake it notify about V-2, CR-2 and CR+2.\n\nChange-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97\n'}, {'number': 4, 'created': '2021-04-26 12:28:43.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/95dad4c0811d1b55add07ce33229d82a6c45fd0c', 'message': 'Make gerritbot notify about V-2 on kolla\n\nChange-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97\n'}]",10,787887,95dad4c0811d1b55add07ce33229d82a6c45fd0c,28,6,4,30491,,,0,"Make gerritbot notify about V-2 on kolla

Change-Id: I5b4298f9ece360dd735b606f5c82fcb6c7968c97
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/787887/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,3d976959b04d7012b3b9f13d899f5c88da4e552d,gerritbot-kolla-extra, - comment-added - x-vrif-minus-2 - x-crvw-minus-2 - x-crvw-plus-2,,4,0
openstack%2Fneutron~master~I29a39108d9fddb30050ec63a1cdf6bba0400e136,openstack/neutron,master,I29a39108d9fddb30050ec63a1cdf6bba0400e136,ovn-migration: Introduce migrate mode to DB sync tool,MERGED,2021-04-01 09:40:44.000000000,2021-04-26 14:26:16.000000000,2021-04-26 14:22:47.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-01 09:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9db63af0fba2b71afa0ab7133d4f03c853628d5d', 'message': 'ovn-migration: Introduce migrate mode to DB sync tool\n\nThe new ""migrate"" mode for the DB sync utility changes DB contents as\nfollows:\n\n - it changes vxlan networks to Geneve, including its allocation in\n   order to avoid future collisions when creating new geneve networks\n - it removes settings from ports\' vif_details that are no longer\n   needed, such as hybrid plugging or bridge_name for the trunk bridges\n\nPreviously, the vxlan to Geneve change was done via ansible role. The\ntasks in the role were replaced by the script therefore the role is\nremoved.\n\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136\n'}, {'number': 2, 'created': '2021-04-02 13:35:11.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae78e812d13aa5d0c820397b4b633123b6ff0e34', 'message': 'ovn-migration: Introduce migrate mode to DB sync tool\n\nThe new ""migrate"" mode for the DB sync utility changes DB contents as\nfollows:\n\n - it changes vxlan networks to Geneve, including its allocation in\n   order to avoid future collisions when creating new geneve networks\n - it removes settings from ports\' vif_details that are no longer\n   needed, such as hybrid plugging or bridge_name for the trunk bridges\n - it sets profile for subports - OVN doesn\'t use trunk_details but port\n   profile to store data about trunk. Subports have tag and parent_name\n   fileds.\n\nPreviously, the vxlan to Geneve change was done via ansible role. The\ntasks in the role were replaced by the script therefore the role is\nremoved.\n\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136\n'}]",1,784352,ae78e812d13aa5d0c820397b4b633123b6ff0e34,174,6,2,8655,,,0,"ovn-migration: Introduce migrate mode to DB sync tool

The new ""migrate"" mode for the DB sync utility changes DB contents as
follows:

 - it changes vxlan networks to Geneve, including its allocation in
   order to avoid future collisions when creating new geneve networks
 - it removes settings from ports' vif_details that are no longer
   needed, such as hybrid plugging or bridge_name for the trunk bridges
 - it sets profile for subports - OVN doesn't use trunk_details but port
   profile to store data about trunk. Subports have tag and parent_name
   fileds.

Previously, the vxlan to Geneve change was done via ansible role. The
tasks in the role were replaced by the script therefore the role is
removed.

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: I29a39108d9fddb30050ec63a1cdf6bba0400e136
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/784352/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/prepare-controllers/tasks/main.yml']",9,9db63af0fba2b71afa0ab7133d4f03c853628d5d,ovn-migration,,"--- - name: Fetch neutron configuration fetch: src: ""{{ neutron_conf_path }}"" dest: ""{{ neutron_conf_tempfile }}"" flat: yes when: ovn_central is defined - name: Get DB connection string set_fact: db_connection_string: ""{{ lookup('ini', 'connection section=database file={{ neutron_conf_tempfile }}') }}"" when: ovn_central is defined # The shell below is not readable well. The code spawns a sqlalchemy engine # and connects to the Neutron database to run following SQL command: # UPDATE networksegments SET networksegments.network_type='geneve' WHERE networksegments.network_type='vxlan'; # The indented Python code looks as follows: # # from sqlalchemy import create_engine # # engine = create_engine(""{{ mysql_url.stdout }}"") # with engine.connect() as conn: # conn.execute(""SQL COMMAND"") # - name: Change vxlan networks to Geneve shell: podman exec -it neutron_api python3 -c $'from sqlalchemy import create_engine\nengine = create_engine(""{{ db_connection_string }}"")\nwith engine.connect() as conn:\n\tconn.execute(""update networksegments set networksegments.network_type=\'geneve\' where networksegments.network_type=\'vxlan\';"")' when: ovn_central is defined ",195,45
openstack%2Frequirements~master~Ia6e31031801db629e156ff40e81a1289e0601e8b,openstack/requirements,master,Ia6e31031801db629e156ff40e81a1289e0601e8b,update constraint for neutron-lib to new release 2.11.0,MERGED,2021-04-26 10:12:20.000000000,2021-04-26 14:25:13.000000000,2021-04-26 14:23:13.000000000,"[{'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-26 10:12:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/beb486c35dde9fa6fd884a0057fac1754b92c701', 'message': 'update constraint for neutron-lib to new release 2.11.0\n\nmeta: version: 2.11.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ia6e31031801db629e156ff40e81a1289e0601e8b\n'}]",0,787951,beb486c35dde9fa6fd884a0057fac1754b92c701,10,5,1,11131,,,0,"update constraint for neutron-lib to new release 2.11.0

meta: version: 2.11.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ia6e31031801db629e156ff40e81a1289e0601e8b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/787951/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,beb486c35dde9fa6fd884a0057fac1754b92c701,new-release,neutron-lib===2.11.0,neutron-lib===2.10.1,1,1
openstack%2Fansible-role-redhat-subscription~master~I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,openstack/ansible-role-redhat-subscription,master,I5477f4e85f5bf7f84b9c9dc7a9d043972615a019,Fix service fact reference,MERGED,2021-04-26 13:50:31.000000000,2021-04-26 14:17:17.000000000,2021-04-26 14:17:17.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 13:50:31.000000000', 'files': ['tasks/satellite.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/4178cf561b90ceed29977b3bf9a4ffe75423b60d', 'message': 'Fix service fact reference\n\nUpdate the reference to use ansible_facts.\n\nChange-Id: I5477f4e85f5bf7f84b9c9dc7a9d043972615a019\nRelated-Bug: #1915761\n'}]",0,787999,4178cf561b90ceed29977b3bf9a4ffe75423b60d,6,2,1,14985,,,0,"Fix service fact reference

Update the reference to use ansible_facts.

Change-Id: I5477f4e85f5bf7f84b9c9dc7a9d043972615a019
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/99/787999/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/satellite.yml'],1,4178cf561b90ceed29977b3bf9a4ffe75423b60d,bug/1915761," service_list: ""{{ ansible_facts.services.keys() | list | replace('.service', '') }}"""," service_list: ""{{ services.keys() | list | replace('.service', '') }}""",1,1
openstack%2Fnetworking-odl~master~I84ad49d32edcb37a8608f023b030e8b3f0c4753b,openstack/networking-odl,master,I84ad49d32edcb37a8608f023b030e8b3f0c4753b,Use payloads for TRUNK and SUBPORTS callbacks,ABANDONED,2021-04-26 14:08:19.000000000,2021-04-26 14:11:53.000000000,,[],"[{'number': 1, 'created': '2021-04-26 14:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/75ea54fc1f8b06561b17e20aa7da06831a46d37f', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nChange-Id: I84ad49d32edcb37a8608f023b030e8b3f0c4753b\n'}, {'number': 2, 'created': '2021-04-26 14:09:53.000000000', 'files': ['networking_odl/tests/unit/trunk/test_trunk_driver_v2.py', 'networking_odl/trunk/trunk_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/60b0b7bcc3a65154d0e9eb5a61e6f4716cd1799f', 'message': 'Use payloads for TRUNK and SUBPORTS callbacks\n\nChange-Id: I84ad49d32edcb37a8608f023b030e8b3f0c4753b\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/635060\n'}]",0,788007,60b0b7bcc3a65154d0e9eb5a61e6f4716cd1799f,3,0,2,8313,,,0,"Use payloads for TRUNK and SUBPORTS callbacks

Change-Id: I84ad49d32edcb37a8608f023b030e8b3f0c4753b
Depends-On: https://review.opendev.org/c/openstack/neutron/+/635060
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/07/788007/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/trunk/test_trunk_driver_v2.py', 'networking_odl/trunk/trunk_driver_v2.py']",2,75ea54fc1f8b06561b17e20aa7da06831a46d37f,trunk_callback," data = payload.desired_state.to_dict() self._record_in_journal(payload.context, payload.resource_id, payload.desired_state.update(status=t_consts.TRUNK_ACTIVE_STATUS) data = payload.desired_state.to_dict() trunk_id = payload.resource_id trunk_dict = payload.states[0].to_dict() self._record_in_journal(payload.context, payload.resource_id, payload.states[0].update(status=t_consts.TRUNK_ACTIVE_STATUS) payload.states[1].update(status=t_consts.TRUNK_ACTIVE_STATUS) parent_id = payload.states[1].port_id for subport in payload.metadata['subports']:"," data = payload.current_trunk.to_dict() self._record_in_journal(payload.context, payload.trunk_id, if isinstance(payload, events.EventPayload): # TODO(boden): remove shim once all callbacks use lib paylaods payload.desired_state.update(status=t_consts.TRUNK_ACTIVE_STATUS) data = payload.desired_state.to_dict() trunk_id = payload.resource_id else: payload.current_trunk.update(status=t_consts.TRUNK_ACTIVE_STATUS) data = payload.current_trunk.to_dict() trunk_id = payload.trunk_id trunk_dict = payload.original_trunk.to_dict() self._record_in_journal(payload.context, payload.trunk_id, payload.current_trunk.update(status=t_consts.TRUNK_ACTIVE_STATUS) payload.current_trunk.update(status=t_consts.TRUNK_ACTIVE_STATUS) parent_id = payload.current_trunk.port_id for subport in payload.subports:",29,28
openstack%2Fbashate~master~I716e7c05baf8183fdd9a500e15d614ef0492ad41,openstack/bashate,master,I716e7c05baf8183fdd9a500e15d614ef0492ad41,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:39:42.000000000,2021-04-26 14:10:12.000000000,2021-04-26 14:08:49.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 06:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/bdef03630500adf2c1b4fd6d456885269692ed61', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41\n""}, {'number': 2, 'created': '2021-04-26 07:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/8b7b92fe31c3e1f830f277ef4e01c1e624b7c95b', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves pip warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nAlso, updates the url to docs.\n\nChange-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41\n""}, {'number': 3, 'created': '2021-04-26 07:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/2617d06b0642d2be0d14b5b50aad2a6bf1b15f9a', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves pip warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nAlso, updates the url to docs.\n\nChange-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41\n""}, {'number': 4, 'created': '2021-04-26 07:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/16f93736ceb60dedeeb348a65ccab54ec3e3a7d3', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves pip warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nAlso, updates the url to docs.\n\nChange-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41\n""}, {'number': 5, 'created': '2021-04-26 12:58:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/bashate/commit/ceea4801fdcce13c6914f14cfc8706e16701646c', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves pip warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nAlso, updates the url to docs.\n\nChange-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41\n""}]",3,787917,ceea4801fdcce13c6914f14cfc8706e16701646c,18,3,5,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves pip warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Also, updates the url to docs.

Change-Id: I716e7c05baf8183fdd9a500e15d614ef0492ad41
",git fetch https://review.opendev.org/openstack/bashate refs/changes/17/787917/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,bdef03630500adf2c1b4fd6d456885269692ed61,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://docs.openstack.org/developer/bashate/ python_requires = >=3.5,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://docs.openstack.org/developer/bashate/ python-requires = >=3.5,4,4
openstack%2Fpuppet-octavia~master~I89e2bb5bb127020adcaabe26e62f68123fab3990,openstack/puppet-octavia,master,I89e2bb5bb127020adcaabe26e62f68123fab3990,Add support for octavia_api_uwsgi_config in Debian,MERGED,2021-04-07 21:35:37.000000000,2021-04-26 13:46:33.000000000,2021-04-26 13:45:22.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 29349}, {'_account_id': 29422}, {'_account_id': 33357}]","[{'number': 1, 'created': '2021-04-07 21:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8b454dbd9a177fa752e56e831d4f4eb2a26d009f', 'message': 'Add support for octavia_api_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Octavia API. Therefore, this patch adds a new\noctavia_api_uwsgi_config provider as well as a new\noctavia::wsgi::uwsgi class.\n\nChange-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990\n'}, {'number': 2, 'created': '2021-04-12 16:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/19d6efe3e0227eafc5ea4192c7c9ea9a9380c636', 'message': 'Add support for octavia_api_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Octavia API. Therefore, this patch adds a new\noctavia_api_uwsgi_config provider as well as a new\noctavia::wsgi::uwsgi class.\n\nChange-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990\n'}, {'number': 3, 'created': '2021-04-12 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4ed15e6cee0fd901cb1c763e85298330e7b97324', 'message': 'Add support for octavia_api_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Octavia API. Therefore, this patch adds a new\noctavia_api_uwsgi_config provider as well as a new\noctavia::wsgi::uwsgi class.\n\nChange-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990\n'}, {'number': 4, 'created': '2021-04-12 17:42:14.000000000', 'files': ['spec/classes/octavia_wsgi_uwsgi_spec.rb', 'spec/unit/type/octavia_api_uwsgi_config_spec.rb', 'spec/unit/provider/octavia_api_uwsgi_config/openstackconfig_spec.rb', 'manifests/wsgi/uwsgi.pp', 'lib/puppet/type/octavia_api_uwsgi_config.rb', 'lib/puppet/provider/octavia_api_uwsgi_config/ini_setting.rb', 'manifests/deps.pp', 'releasenotes/notes/uwsgi-22d71c90d9b6bf65.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/da8ed8acc64769e3253d90e07cd77eef77a0bfab', 'message': 'Add support for octavia_api_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Octavia API. Therefore, this patch adds a new\noctavia_api_uwsgi_config provider as well as a new\noctavia::wsgi::uwsgi class.\n\nChange-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990\n'}]",0,785283,da8ed8acc64769e3253d90e07cd77eef77a0bfab,24,8,4,6476,,,0,"Add support for octavia_api_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
threads, and the size of the listen queue in Debian, which uses
uwsgi to run Octavia API. Therefore, this patch adds a new
octavia_api_uwsgi_config provider as well as a new
octavia::wsgi::uwsgi class.

Change-Id: I89e2bb5bb127020adcaabe26e62f68123fab3990
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/83/785283/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/octavia_api_uwsgi_config/ini_setting_spec.rb', 'spec/classes/octavia_wsgi_uwsgi_spec.rb', 'spec/unit/type/octavia_api_uwsgi_config_spec.rb', 'manifests/wsgi/uwsgi.pp', 'lib/puppet/type/octavia_api_uwsgi_config.rb', 'lib/puppet/provider/octavia_api_uwsgi_config/ini_setting.rb', 'manifests/deps.pp', 'releasenotes/notes/uwsgi-22d71c90d9b6bf65.yaml']",8,8b454dbd9a177fa752e56e831d4f4eb2a26d009f,debian-uwsgi-support,"--- features: - | A new class octavia::wsgi::uwsgi exist to allow configuring uwsgi in operating systems that support this (ie: currently Debian). This helps configuring the number of processes, threads and listen socket. Also, a new octavia_api_uwsgi_config provider now exist. ",,225,0
openstack%2Fpuppet-cloudkitty~master~Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,openstack/puppet-cloudkitty,master,Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb,Debian api_uwsgi_config: Switch to :ini_setting,MERGED,2021-04-20 18:54:04.000000000,2021-04-26 13:37:53.000000000,2021-04-26 13:37:53.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 18:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/a12a9f8e60058a05014922079dfa2b993b667313', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb\n""}, {'number': 2, 'created': '2021-04-21 16:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/2cdddae23d70bf9105b8debc60adbb7ca9f80f84', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb\n""}, {'number': 3, 'created': '2021-04-21 16:15:53.000000000', 'files': ['spec/spec_helper.rb', 'spec/unit/provider/cloudkitty_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/cloudkitty_api_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/4c43a1e29b790185ccc7e70624f30388e8e26ccf', 'message': ""Debian api_uwsgi_config: Switch to :ini_setting\n\nOn each puppet run, I'm seeing:\nvalue changed ['12'] to '12' (corrective)\n\nTherefore, this patch switches from :openstackconfig to :ini_setting\nto make the 2nd run not changing anything.\n\nChange-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb\n""}]",0,787280,4c43a1e29b790185ccc7e70624f30388e8e26ccf,10,3,3,6476,,,0,"Debian api_uwsgi_config: Switch to :ini_setting

On each puppet run, I'm seeing:
value changed ['12'] to '12' (corrective)

Therefore, this patch switches from :openstackconfig to :ini_setting
to make the 2nd run not changing anything.

Change-Id: Ie388eb22a0c75d590c0e853064ed2f6f34e3abeb
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/80/787280/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/cloudkitty_api_uwsgi_config/ini_setting_spec.rb', 'lib/puppet/provider/cloudkitty_api_uwsgi_config/ini_setting.rb']",2,a12a9f8e60058a05014922079dfa2b993b667313,init-settings-no-openstack-settings," :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting)"," :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby)",3,14
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73a2a54afdf9739bd4c08406645809c9b47c3e01,openstack/tripleo-ansible,stable/victoria,I73a2a54afdf9739bd4c08406645809c9b47c3e01,Compute VIPs using net_vip_map instead of hiera,MERGED,2021-04-22 07:24:41.000000000,2021-04-26 13:24:06.000000000,2021-04-26 13:24:06.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-22 07:24:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/671fd4e44161c947277d51d89f1972c2ccd2e154', 'message': 'Compute VIPs using net_vip_map instead of hiera\n\nThis change provides two improvements:\n1. VIPs are computed using the existing net_vip_map instead of running\n   hiera commands;\n2. the monitoring_stack_vip (on the storage network) is provided for\n   both prometheus and alertmanager: these two services are not exposed\n   but we need the ceph_mgr being aware about the vip.\n\nDepends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/\n\nChange-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01\n(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)\n'}]",0,787476,671fd4e44161c947277d51d89f1972c2ccd2e154,10,6,1,25402,,,0,"Compute VIPs using net_vip_map instead of hiera

This change provides two improvements:
1. VIPs are computed using the existing net_vip_map instead of running
   hiera commands;
2. the monitoring_stack_vip (on the storage network) is provided for
   both prometheus and alertmanager: these two services are not exposed
   but we need the ceph_mgr being aware about the vip.

Depends-On: I0dbcde302a3abdfccc3dd996b1c238e25064dd12

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/785574/

Change-Id: I73a2a54afdf9739bd4c08406645809c9b47c3e01
(cherry picked from commit 9c4254c2bca6e910cd8312538946e40d5be77516)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/787476/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml'],1,671fd4e44161c947277d51d89f1972c2ccd2e154,ceph_dashboard_ha-stable/victoria," ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) | combine({ 'prometheus_frontend_vip': monitoring_stack_vip | default()}) | combine({ 'alertmanager_frontend_vip': monitoring_stack_vip | default()}) }}"" {% set dashboard_vip = control_virtual_ip %} {% if 'StorageDashboard' in enabled_networks %} {% set dashboard_vip = net_vip_map.get('storage_dashboard') %} {% endif %} {{ dashboard_vip }} monitoring_stack_vip: |- {% set monitoring_vip = control_virtual_ip %} {% if 'Storage' in enabled_networks %} {% set monitoring_vip = net_vip_map.get('storage') %} {% endif %} {{ monitoring_vip }}"," - name: get the frontend_dashboard_vip from the overcloud vars command: ""hiera -c /etc/puppet/hiera.yaml ceph_dashboard_vip"" register: frontend_vip become: true delegate_to: ""{{ groups['mgrs'][0] }}"" ceph_ansible_group_vars_all: ""{{ ceph_ansible_group_vars_all | combine({ 'dashboard_frontend_vip': dashboard_vip | default() }) }}"" {% set dashboard_vip = control_virtual_ip %} {% if frontend_vip.stdout != ""nil"" %} {% set dashboard_vip = frontend_vip.stdout %} {% endif %} {{ dashboard_vip }}",14,11
openstack%2Fpuppet-tripleo~stable%2Ftrain~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/train,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:24:14.000000000,2021-04-26 13:24:03.000000000,2021-04-26 13:24:03.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-22 07:24:14.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9c298733518b3014f1139eaa531e9ff686921fc4', 'message': 'Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard\n\nThis change adds the prometheus and alertmanager endpoints which\nare on the same grafana network and allow us to just use a single\nvip to access the prometheus and alertmanager instances from the\nceph dashboard when enabled.\nWe already did it for grafana [1] and we would like to do the same\nfor prometheus and alertmanager.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192\n\nChange-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)\n'}]",0,787395,9c298733518b3014f1139eaa531e9ff686921fc4,9,6,1,25402,,,0,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/787395/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,9c298733518b3014f1139eaa531e9ff686921fc4,ceph_dashboard_ha-stable/train," ceph_prometheus_port => 9092, ceph_prometheus_ssl_port => 9092, ceph_alertmanager_port => 9093, ceph_alertmanager_ssl_port => 9093, ::tripleo::haproxy::endpoint { 'ceph_prometheus': internal_ip => hiera('ceph_grafana_vip', $controller_virtual_ip), service_port => $ports[ceph_prometheus_port], ip_addresses => hiera('ceph_grafana_node_ips', $controller_hosts_real), server_names => hiera('ceph_grafana_node_names', $controller_hosts_names_real), mode => 'http', public_ssl_port => $ports[ceph_prometheus_ssl_port], listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /metrics' ], 'balance' => 'source', }), service_network => $ceph_grafana_network, member_options => $haproxy_member_options, } ::tripleo::haproxy::endpoint { 'ceph_alertmanager': internal_ip => hiera('ceph_grafana_vip', $controller_virtual_ip), service_port => $ports[ceph_alertmanager_port], ip_addresses => hiera('ceph_grafana_node_ips', $controller_hosts_real), server_names => hiera('ceph_grafana_node_names', $controller_hosts_names_real), mode => 'http', public_ssl_port => $ports[ceph_alertmanager_ssl_port], listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ], 'balance' => 'source', }), service_network => $ceph_grafana_network, member_options => $haproxy_member_options, }",,32,0
openstack%2Fkeystone~master~I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,openstack/keystone,master,I333eb15c66f37207e6937d0cb3a80f26cf9bebfc,Propagate redirect exceptions to the client,NEW,2020-09-28 11:38:54.000000000,2021-04-26 13:12:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-28 11:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0a4b80d1ac2b728608820099a4cf3162c515f288', 'message': 'Propagate redirect exceptions to the client\n\nWhen a developer is implementing an Authentication plugin, in some cases\n(like an OpenID Connect plugin) it is needed to perform a redirect to\nthe provider to complete the flow. This was possible in the past (before\nmoving to Flask) by raising an exception with the proper HTTP code set,\nbut the framework change made this possibility not available anymore.\n\nCloses-Bug: #1854041\nCo-authored-by: Alvaro Lopez Garcia <aloga@ifca.unican.es>\nChange-Id: I333eb15c66f37207e6937d0cb3a80f26cf9bebfc\n'}, {'number': 2, 'created': '2021-04-26 11:51:09.000000000', 'files': ['keystone/exception.py', 'keystone/server/flask/application.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/05bbc64497cdd0603235ff12bb714a6184c61e45', 'message': 'Propagate redirect exceptions to the client\n\nWhen a developer is implementing an Authentication plugin, in some cases\n(like an OpenID Connect plugin) it is needed to perform a redirect to\nthe provider to complete the flow. This was possible in the past (before\nmoving to Flask) by raising an exception with the proper HTTP code set,\nbut the framework change made this possibility not available anymore.\n\nCloses-Bug: #1854041\nCo-authored-by: Alvaro Lopez Garcia <aloga@ifca.unican.es>\nChange-Id: I333eb15c66f37207e6937d0cb3a80f26cf9bebfc\n'}]",0,754694,05bbc64497cdd0603235ff12bb714a6184c61e45,5,1,2,91,,,0,"Propagate redirect exceptions to the client

When a developer is implementing an Authentication plugin, in some cases
(like an OpenID Connect plugin) it is needed to perform a redirect to
the provider to complete the flow. This was possible in the past (before
moving to Flask) by raising an exception with the proper HTTP code set,
but the framework change made this possibility not available anymore.

Closes-Bug: #1854041
Co-authored-by: Alvaro Lopez Garcia <aloga@ifca.unican.es>
Change-Id: I333eb15c66f37207e6937d0cb3a80f26cf9bebfc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/754694/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/exception.py', 'keystone/server/flask/application.py']",2,0a4b80d1ac2b728608820099a4cf3162c515f288,bug/1854041," if isinstance(error, exception.RedirectRequired): return flask.redirect(error.redirect_url) ",,19,0
openstack%2Fironic-python-agent~stable%2Fvictoria~I6105192a16fcb7f6898910e8d0ab824d731d491d,openstack/ironic-python-agent,stable/victoria,I6105192a16fcb7f6898910e8d0ab824d731d491d,"Add a call to ""udevadm settle"" in write_image.sh",MERGED,2021-04-26 09:01:18.000000000,2021-04-26 13:07:47.000000000,2021-04-26 13:06:39.000000000,"[{'_account_id': 1926}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-26 09:01:18.000000000', 'files': ['releasenotes/notes/udevadm-settle-9d3e5f1f20211857.yaml', 'ironic_python_agent/shell/write_image.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bc13adfa49294ae4411ee241af91075dd585d6b8', 'message': 'Add a call to ""udevadm settle"" in write_image.sh\n\nAfter GPT and MBR are destroyed systemd-udevd gets triggered\nwhich may hold /dev/sda open preventing qemu-img from writting\nits image.\n\nStory: 2008830\nTask: 42312\nChange-Id: I6105192a16fcb7f6898910e8d0ab824d731d491d\n(cherry picked from commit 9c3fbfd000a323db4d57bf57cf50e83c3fb6681b)\n'}]",0,787848,bc13adfa49294ae4411ee241af91075dd585d6b8,7,3,1,10239,,,0,"Add a call to ""udevadm settle"" in write_image.sh

After GPT and MBR are destroyed systemd-udevd gets triggered
which may hold /dev/sda open preventing qemu-img from writting
its image.

Story: 2008830
Task: 42312
Change-Id: I6105192a16fcb7f6898910e8d0ab824d731d491d
(cherry picked from commit 9c3fbfd000a323db4d57bf57cf50e83c3fb6681b)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/787848/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/udevadm-settle-9d3e5f1f20211857.yaml', 'ironic_python_agent/shell/write_image.sh']",2,bc13adfa49294ae4411ee241af91075dd585d6b8,,udevadm settle,,8,0
openstack%2Fpython-manilaclient~master~Id845f6e9c95ac96da642029c28540c6067351fa3,openstack/python-manilaclient,master,Id845f6e9c95ac96da642029c28540c6067351fa3,[OSC] Implement Share Replica Commands,ABANDONED,2021-04-17 12:56:19.000000000,2021-04-26 13:06:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-17 12:56:19.000000000', 'files': ['manilaclient/osc/utils.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replicas.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/osc/v2/share_replicas.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/03a4f4f6bde52cd9422edd36098f1d5e85e3b6ed', 'message': '[OSC] Implement Share Replica Commands\n\nIn this patch we add the following openstack share commands:\nshare replica create\nshare replica delete\nshare replica list\nshare replica show\nshare replica set\nshare replica promote\nshare replica resync\n\nPartially-implements bp openstack-client-support\nChange-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6\n\nChange-Id: Id845f6e9c95ac96da642029c28540c6067351fa3\n'}]",0,786756,03a4f4f6bde52cd9422edd36098f1d5e85e3b6ed,3,1,1,31213,,,0,"[OSC] Implement Share Replica Commands

In this patch we add the following openstack share commands:
share replica create
share replica delete
share replica list
share replica show
share replica set
share replica promote
share replica resync

Partially-implements bp openstack-client-support
Change-Id: I8d0542faf56e6022e3b265957132f00ce063dcd6

Change-Id: Id845f6e9c95ac96da642029c28540c6067351fa3
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/56/786756/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/utils.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_replicas.py', 'doc/source/cli/osc/v2/index.rst', 'manilaclient/osc/v2/share_replicas.py', 'setup.cfg']",6,03a4f4f6bde52cd9422edd36098f1d5e85e3b6ed,bp/openstack-client-support, share_replica_create = manilaclient.osc.v2.share_replicas:CreateShareReplica share_replica_delete = manilaclient.osc.v2.share_replicas:DeleteShareReplica share_replica_list = manilaclient.osc.v2.share_replicas:ListShareReplica share_replica_show = manilaclient.osc.v2.share_replicas:ShowShareReplica share_replica_set = manilaclient.osc.v2.share_replicas:SetShareReplica share_replica_promote = manilaclient.osc.v2.share_replicas:PromoteShareReplica share_replica_resync = manilaclient.osc.v2.share_replicas:ResyncShareReplica,,993,0
openstack%2Fkolla~master~Ic65c838af8a432ac02f3141fc9665b9ccd59877f,openstack/kolla,master,Ic65c838af8a432ac02f3141fc9665b9ccd59877f,Add RHEL subscription registration,ABANDONED,2017-08-18 10:00:41.000000000,2021-04-26 13:05:38.000000000,,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 2834}, {'_account_id': 4264}, {'_account_id': 10873}, {'_account_id': 12882}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 18737}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 22745}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 25945}, {'_account_id': 26159}, {'_account_id': 26553}, {'_account_id': 26556}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30491}, {'_account_id': 30526}]","[{'number': 1, 'created': '2017-08-18 10:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa407810aecec9dec559afee9a6880a6fac1dd63', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 2, 'created': '2017-08-22 01:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ecd8df68ce11be519050af52c470bbe215f8699e', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 3, 'created': '2017-08-22 04:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd86825e568c691f06609e897e00bb4d8940bb6a', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 4, 'created': '2017-08-23 01:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/18baf7aabf083cb98b2e75a9c6285ed86836c522', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 5, 'created': '2017-08-23 07:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/97b43a11faeb9a3b5f6016b8f8a254ec8b85cd4f', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 6, 'created': '2017-08-25 00:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8898950a4cae6fb3956c4fa971d05ecda6420c97', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 7, 'created': '2017-08-29 01:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9fe2fd41111f1e4354e9e32debe31d9245057c93', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 8, 'created': '2017-08-29 05:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e1a59b3ed7f4d536560c4d4ae8e134709697bda', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 9, 'created': '2017-08-30 02:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/715bdf913e7f747f7c3d2ea17038770cf83e3543', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 10, 'created': '2017-08-30 09:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/69de82546ed59896ad8c0b49adbd04cd9e8c0b8f', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 11, 'created': '2017-09-14 07:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8eee3527e051d7a8dd7d0ed3be79cf65e6070f71', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 12, 'created': '2017-09-19 00:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c787a156a125e0294d79a222b7c71d8341d98e86', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 13, 'created': '2017-09-25 01:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4476b37e14c6ca1021ca716e3d10f0e31e4bac8e', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 14, 'created': '2017-09-28 01:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14fcad207e8ed7042fdc83cffa2a1f3fe26017bc', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 15, 'created': '2017-10-10 03:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71f1d6d504874df47af70d4629175ba3cf46b841', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 16, 'created': '2017-10-13 02:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4f31bd4966ba5ce1e06289540057675a55580d98', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 17, 'created': '2017-10-18 01:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c7bcb98af1c927d1809f596f5e2ddecdee47dba', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 18, 'created': '2017-10-19 03:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4319322972bbad7a254abdcf94b3b753fa456b32', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 19, 'created': '2017-10-23 04:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6a5c1e99078691b43b8afada55353e49e8997039', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 20, 'created': '2017-10-24 00:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af8bcf7f5bf5619b784e89b7ee55f3eefd0fddc8', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 21, 'created': '2017-10-25 03:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a879bc942d4539fd74ca839c0116a92ede3fb67', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 22, 'created': '2017-10-26 01:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/70233549a3f0ac612fec51fc1d81ffd5da9566af', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 23, 'created': '2017-10-26 09:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23d978a806cef23bd6d2ac1def08b72ec3b2394d', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 24, 'created': '2017-10-30 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bc2b40e1bddb425f0654c028a5f00d35bec98665', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 25, 'created': '2017-11-01 00:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a03ca11f6252bf3b2d3ab14612ab3f2171a23891', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 26, 'created': '2017-11-01 01:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3534ad69dbaad2927b1a1bcf9e6536ddd5e52166', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 27, 'created': '2017-11-01 04:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f908ecb695e79d3f13d65a32fdee442502bcde97', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 28, 'created': '2017-11-01 04:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/df95cb7275b45de5a61289da1b3b1f21d9d2a665', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 29, 'created': '2017-11-01 05:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d232872a6fd1026c76967a4546379a54bb9db7c', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 30, 'created': '2017-11-06 01:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d307e0e19a9656865c4da4bb12d2f62c774dab3f', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 31, 'created': '2017-11-06 05:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1c64a1cef72f1ad21d1620f06c67f3bd91ed538', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 32, 'created': '2017-11-07 02:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34cee2ee92c10cf0f67f7b846a9f815209f70663', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 33, 'created': '2017-11-09 09:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/794d9d6f820a75297500accb08c62e7504450537', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 34, 'created': '2017-11-13 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/991521242f97244d859c0c1436d7e7768e76eeba', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 35, 'created': '2017-11-16 04:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/01efb93a5d288c9321a7bd90561068aa69b0d578', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 36, 'created': '2017-11-17 01:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/439ee99b67c53bb738a18a5deb5d2387c11ffc21', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 37, 'created': '2017-11-20 03:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f09c802d65b54db07c2c5a39e267e8f5dceb7f2b', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 38, 'created': '2017-11-21 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4062aa6a6901e3f9a5e07c54bfa3cabec68b5c57', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 39, 'created': '2017-11-23 01:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d6e7a8c29a940987c06d89af671e8738b9d30f1', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 40, 'created': '2018-08-30 11:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0b50bd61fc5665b5602640e708baae51f552ffb', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 41, 'created': '2019-02-13 07:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e5d9cccd39f09591ded77d9c83406762c480828', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 42, 'created': '2019-02-15 02:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6096424b00c6375d5d41e064d05095a878754c50', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 43, 'created': '2019-02-21 02:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a237d289eaf834b17f36db4e7dc320056e7e0e4', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 44, 'created': '2019-02-25 02:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a05632c4a3384aaf80660c4560b425487acb3c83', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 45, 'created': '2019-02-27 03:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c35e3df07067c5327cd2a84a77ac8ab1ea62b822', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 46, 'created': '2019-03-05 00:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71d36591c14ecdaf52b2e59c2c1f73f50b2ccf84', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 47, 'created': '2019-03-06 06:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/11b63da9ebcfba69d8b4e3ffa6842db44273e326', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 48, 'created': '2019-03-08 02:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/153e460f1905af8857e9a6ce69018fcdf507e08b', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 49, 'created': '2019-03-11 07:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f366a55c8d398b8ee7f6ae1b4949958ae594d20', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 50, 'created': '2019-03-12 01:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/47f07bff781e5541d7313e1d57d0eb30cc381a83', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 51, 'created': '2019-03-14 02:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7dc24eb2f9e4d10840378d09e3aca527d7683857', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 52, 'created': '2019-03-15 14:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/76ed333543eab982f05a962c705e2f1549f4cccc', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 53, 'created': '2019-03-18 04:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f56571ea98fd285180314c895bd97701d347e251', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 54, 'created': '2019-03-22 02:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48afe13ce33932c144b15b93b513260cdc2c3b26', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 55, 'created': '2019-03-26 12:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6f6c06a0d8aa3f3e85678c71c1f854a6dfd0e835', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n(cherry picked from commit e0b50bd61fc5665b5602640e708baae51f552ffb)\n'}, {'number': 56, 'created': '2019-03-27 16:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fa77142cad6d5ecea411dbcf09e02aadc05d2a6', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 57, 'created': '2019-03-27 16:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/534b403d0e7cfa9bfcbfc702e55b0bfea83c3e40', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 58, 'created': '2019-03-30 15:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a93fd54fdb65e48993b44cedcc6092cc214c488f', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 59, 'created': '2019-04-02 13:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/300772171e0d4e3e74f5fb8117dca14806490d81', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 60, 'created': '2019-04-03 15:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d83704a2a111a73d40b1e871bfd19a5d0981fe3', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 61, 'created': '2019-04-05 07:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8cc5056f8168c2e8fc699e8aebee862083a944e', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 62, 'created': '2019-04-12 07:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/361aa22f3b4626d73f74f6e546c53a5d60e769af', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 63, 'created': '2019-04-13 17:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f56aba2cafa98c2cbd3eaa991c56af6627150cec', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 64, 'created': '2019-04-16 09:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8268423f1cdd584538483cf85c0bf20c694935c3', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 65, 'created': '2019-04-21 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d4be4bee5d005828cc45aa8c0132a2351fa8c18', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 66, 'created': '2019-04-25 03:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/39f7c7f2678c17aa0726c25b0eadda55555daad2', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 67, 'created': '2019-04-29 01:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4d6d829e62d9335f4871202a50a993e11635f307', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 68, 'created': '2019-05-01 11:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a21c6dd6a074f0b47f3d744d6febd3b8a905343', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 69, 'created': '2019-05-07 15:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/461590495bf6bbc9d4e00c0165fea59ba6ff1a43', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 70, 'created': '2019-05-07 18:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fec6ea28970dffd246ac1164bc5273ed8cd48e9c', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 71, 'created': '2019-05-09 02:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e9f9975b72439d90cc6020dab35e692c11523379', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 72, 'created': '2019-05-11 02:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9eefce383ce5d4612a686706b8e5afd9786b81c7', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 73, 'created': '2019-05-14 15:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ab6ff131fdb133d6a01a507aadb99551e15b4d6d', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 74, 'created': '2019-05-14 15:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6293efa7c74dfb81f5200a35b761f42298107690', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 75, 'created': '2019-05-15 18:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d395340db9742125b6acfff775f5d624bb70f5f', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 76, 'created': '2019-05-30 13:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dff106a7afb677d8909cb72c0cefaa918a792bb0', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 77, 'created': '2019-06-13 16:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/88b73167a4000c4de6e463f2b65d986e1768615c', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 78, 'created': '2019-06-14 03:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/264422249f83def2995c0b5a7cf83f00055ac543', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}, {'number': 79, 'created': '2019-06-16 12:10:44.000000000', 'files': ['kolla/image/build.py', 'doc/source/admin/image-building.rst', 'docker/base/Dockerfile.j2', 'releasenotes/notes/add-rhel-subscription-support-18af22f58be709d0.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cfc8f3aa4b73ec612af964f2cffe952f01a1f7e', 'message': 'Add RHEL subscription registration\n\nThis patch enables to register RHEL subscription of each containers\nfor all RHEL builds. We would use some variables in kolla-build.conf\nto register RHEL subscription as follows.\n\n  [DEFAULT]\n  rhel_username = your_username\n  rhel_password = your_password\n  rhel_poolid = your_poolid\n\nWe can also use as parameters in the kolla-build.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password \\\n    --rhel-poolid your_poolid\n\nIf pool id is not specifed then auto attach option will be applied.\n\n  kolla-build --rhel-username your_username \\\n    --rhel-password your_password\n\nChange-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f\nSigned-off-by: Taeha Kim <kthguru@gmail.com>\nSigned-off-by: heetae82.ahn <heetae82.ahn@samsung.com>\n'}]",32,495148,7cfc8f3aa4b73ec612af964f2cffe952f01a1f7e,294,28,79,22745,,,0,"Add RHEL subscription registration

This patch enables to register RHEL subscription of each containers
for all RHEL builds. We would use some variables in kolla-build.conf
to register RHEL subscription as follows.

  [DEFAULT]
  rhel_username = your_username
  rhel_password = your_password
  rhel_poolid = your_poolid

We can also use as parameters in the kolla-build.

  kolla-build --rhel-username your_username \
    --rhel-password your_password \
    --rhel-poolid your_poolid

If pool id is not specifed then auto attach option will be applied.

  kolla-build --rhel-username your_username \
    --rhel-password your_password

Change-Id: Ic65c838af8a432ac02f3141fc9665b9ccd59877f
Signed-off-by: Taeha Kim <kthguru@gmail.com>
Signed-off-by: heetae82.ahn <heetae82.ahn@samsung.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/495148/49 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,fa407810aecec9dec559afee9a6880a6fac1dd63,495148," cfg.StrOpt('rhel-username', secret=True, help='Username for RHEL subscription'), cfg.StrOpt('rhel-password', secret=True, help='Password for RHEL subscription'), cfg.StrOpt('rhel-poolid', secret=True, help='Pool ID for RHEL subscription'),",,18,0
openstack%2Fkolla~stable%2Fwallaby~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,stable/wallaby,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 11:45:14.000000000,2021-04-26 13:05:30.000000000,2021-04-26 13:04:16.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 11:45:14.000000000', 'files': ['releasenotes/notes/deprecate-ppc64le-2b7b642e79bddd66.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b85b63ec9a603550e87f293b7278208667e9cca9', 'message': 'docs: deprecate ppc64le in Wallaby\n\nChange-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf\n(cherry picked from commit f00961da2251ad2c374a03f081db4bf0f089cf73)\n'}]",0,787855,b85b63ec9a603550e87f293b7278208667e9cca9,8,3,1,14826,,,0,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
(cherry picked from commit f00961da2251ad2c374a03f081db4bf0f089cf73)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/787855/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-ppc64le-2b7b642e79bddd66.yaml'],1,b85b63ec9a603550e87f293b7278208667e9cca9,prepare-for-kolla-wallaby-release-stable/wallaby,--- deprecations: - | Support for building ppc64le container images has been deprecated in Wallaby cycle and will be removed in Xena. ,,5,0
openstack%2Fmagnum~master~Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,openstack/magnum,master,Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb,Add /opt/cni/bin to allowed hostdir,ABANDONED,2021-04-23 13:58:26.000000000,2021-04-26 13:00:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 13:58:26.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/13e066496ccb09653301e29428e9be8990f5ef30', 'message': 'Add /opt/cni/bin to allowed hostdir\n\nOne positive thing about the now reverted commit\nthat broke deployments is this misconfiguration caught [1].\n\n[1] https://review.opendev.org/c/openstack/magnum/+/786430\n\nChange-Id: Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb\n'}]",0,787744,13e066496ccb09653301e29428e9be8990f5ef30,8,1,1,16137,,,0,"Add /opt/cni/bin to allowed hostdir

One positive thing about the now reverted commit
that broke deployments is this misconfiguration caught [1].

[1] https://review.opendev.org/c/openstack/magnum/+/786430

Change-Id: Ic91c58aaf3e6ada92fe9fbdd3474b905ca9f08cb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/44/787744/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh'],1,13e066496ccb09653301e29428e9be8990f5ef30,," - pathPrefix: ""/opt/cni/bin""",,1,0
openstack%2Fbashate~master~Ib8da29ca2156aafd89fec69db7910360efe266a2,openstack/bashate,master,Ib8da29ca2156aafd89fec69db7910360efe266a2,Add ensure-tox role to test job,MERGED,2021-04-26 07:26:56.000000000,2021-04-26 12:59:02.000000000,2021-04-26 12:57:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 07:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/bc9fded721290d3eb8fec8a30fc7363b19397842', 'message': 'Add ensure-tox role to test job\n\nThe CI no longer provides us with preinstalled tox, we have to ensure that\nit is present ourselves.\n\nChange-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2\n'}, {'number': 2, 'created': '2021-04-26 07:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bashate/commit/aaffe0f3212747e83cd5bc0c4e4a1fc26e0986eb', 'message': 'Add ensure-tox role to test job\n\nThe CI no longer provides us with preinstalled tox, we have to ensure that\nit is present ourselves.\n\nAlso, this moves bindep to pre-run.\n\nChange-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2021-04-26 09:15:42.000000000', 'files': ['playbooks/bashate-devstack-master/run.yaml'], 'web_link': 'https://opendev.org/openstack/bashate/commit/421af4bca83ec9f00e27b36755bc2058fe680f0c', 'message': 'Add ensure-tox role to test job\n\nThe CI no longer provides us with preinstalled tox, we have to ensure that\nit is present ourselves.\n\nChange-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2\n'}]",0,787927,421af4bca83ec9f00e27b36755bc2058fe680f0c,15,2,3,13252,,,0,"Add ensure-tox role to test job

The CI no longer provides us with preinstalled tox, we have to ensure that
it is present ourselves.

Change-Id: Ib8da29ca2156aafd89fec69db7910360efe266a2
",git fetch https://review.opendev.org/openstack/bashate refs/changes/27/787927/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/bashate-devstack-master/run.yaml'],1,bc9fded721290d3eb8fec8a30fc7363b19397842,ensure-tox-patch1, - ensure-tox,,1,0
openstack%2Fneutron~stable%2Fwallaby~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,stable/wallaby,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-04-20 11:11:06.000000000,2021-04-26 12:53:59.000000000,2021-04-26 12:52:31.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 11:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36df7f98d52adf4f96a06c15996448fa17daec1e', 'message': 'trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n\nIn python3 dict.values() doesn\'t return list but instead dict_values,\nit must be converted to list to ""enjoy"" list operations like insert.\nAdd unit tests to be sure.\n\nCloses-Bug: #1923423\nChange-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61\n'}, {'number': 2, 'created': '2021-04-21 07:28:43.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ec596f9ef0b539ea3868960bc3bfa145d4b6e21', 'message': 'trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n\nIn python3 dict.values() doesn\'t return list but instead dict_values,\nit must be converted to list to ""enjoy"" list operations like insert.\nAdd unit tests to be sure.\n\nCloses-Bug: #1923423\nChange-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61\n(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)\n'}]",2,786967,3ec596f9ef0b539ea3868960bc3bfa145d4b6e21,30,4,2,8313,,,0,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/786967/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py']",2,36df7f98d52adf4f96a06c15996448fa17daec1e,bug/1923423-stable/wallaby,"from neutron.services.l3_router.service_providers import single_node def test___attrs_to_driver(self): test_dc = driver_controller.DriverController(self.fake_l3) test_dc.default_provider = 'single_node' self.assertIsInstance(test_dc._attrs_to_driver({}), single_node.SingleNodeDriver) test_dc.default_provider = 'ha' with mock.patch.object(driver_controller, ""_is_driver_compatible"", return_value=False): self.assertRaises(NotImplementedError, test_dc._attrs_to_driver, {}) ",,14,1
openstack%2Fnova~stable%2Fussuri~Iebf678c229da4f455459d068cafeee5f241aea1f,openstack/nova,stable/ussuri,Iebf678c229da4f455459d068cafeee5f241aea1f,libvirt: 'video.vram' property must be an integer,MERGED,2020-10-12 16:17:45.000000000,2021-04-26 12:47:18.000000000,2021-04-26 12:45:45.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-12 16:17:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/121e481a880b48ce800aafdeca0b8b086e2cddf3', 'message': ""libvirt: 'video.vram' property must be an integer\n\nThe 'vram' property of the 'video' device must be an integer else\nlibvirt will spit the dummy out, e.g.\n\n  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'\n\nThe division operator in Python 3 results in a float, not an integer\nlike in Python 2. Use the truncation division operator instead.\n\nChange-Id: Iebf678c229da4f455459d068cafeee5f241aea1f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1896496\n(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)\n(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)\n""}]",0,757617,121e481a880b48ce800aafdeca0b8b086e2cddf3,43,7,1,15334,,,0,"libvirt: 'video.vram' property must be an integer

The 'vram' property of the 'video' device must be an integer else
libvirt will spit the dummy out, e.g.

  libvirt.libvirtError: XML error: cannot parse video vram '8192.0'

The division operator in Python 3 results in a float, not an integer
like in Python 2. Use the truncation division operator instead.

Change-Id: Iebf678c229da4f455459d068cafeee5f241aea1f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1896496
(cherry picked from commit f2ca089bce842127e7d0644b38a11da9278db8ea)
(cherry picked from commit fd7c66f61c0b07cff82d93e0f884777949170857)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/757617/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,121e481a880b48ce800aafdeca0b8b086e2cddf3,bug/1896496," self.assertEqual(cfg.devices[5].vram, 65536) flavor = objects.Flavor( extra_specs={'hw_video:ram_max_mb': '512'}) image_meta = objects.ImageMeta.from_dict({ 'properties': { 'hw_video_model': model, 'hw_video_ram': 8, }, }) video = drvr._add_video_driver(guest, image_meta, flavor) self.assertEqual(8192, video.vram) # should be in bytes"," self.assertEqual(cfg.devices[5].vram, 64 * units.Mi / units.Ki) instance_ref = objects.Instance(**self.test_instance) flavor = instance_ref.get_flavor() image_meta = objects.ImageMeta.from_dict({ 'properties': {'hw_video_model': model}}) video = drvr._add_video_driver(guest, image_meta, flavor)",11,7
openstack%2Ftripleo-heat-templates~master~I3b252854a0dbf121d69bab79543561da6be781f4,openstack/tripleo-heat-templates,master,I3b252854a0dbf121d69bab79543561da6be781f4,Missing client certificate for live-migration with TLS,MERGED,2021-04-08 15:56:01.000000000,2021-04-26 12:36:45.000000000,2021-04-26 12:35:04.000000000,"[{'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 15:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c110981760a4314c5c3ccf57e9126fa531690edc', 'message': ""Missing client certificate\n\nLive migration fails if we don't have a client certificate\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}, {'number': 2, 'created': '2021-04-08 15:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd3b9931586a3909486ef7842c556bb50d1676fe', 'message': ""Missing client certificate\n\nLive migration fails if we don't have a client certificate\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}, {'number': 3, 'created': '2021-04-08 15:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f192f02b63163a89826b743b24e3351b74b146b', 'message': ""Missing client certificate\n\nLive migration fails if we don't have a client certificate\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}, {'number': 4, 'created': '2021-04-09 02:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff9d07952f046bc86aa5d62275d05eaa605e3f41', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}, {'number': 5, 'created': '2021-04-16 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/107cfe06ff1e4fd70bb81e196042bd172709a17a', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}, {'number': 6, 'created': '2021-04-16 15:19:28.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/introducing-qemutlsverify-af590e0243fe6b08.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7d37585ac38cfef5f1d1f2c54b357c38757536a', 'message': ""Missing client certificate for live-migration with TLS\n\nTLS client verification used to be accidentally disabled in libvirt.\nThis was fixed in libvirt-6.10.0-1[1].\nWhich means, once you're using libvirt-6.10.0-1 or higher, a client\ncertificate is mandatory during live migration with TLS.\n\nIn this case, the server certificate generated by TripleO is valid\nfor client _and_ server:\n\n                 Key Purpose (not critical):\n                         TLS WWW Server.\n                         TLS WWW Client.\n\nSo most deployments can re-use the same certificate for client and\nserver.  Why?  Because if both migration ends points are located\non the same infrastructure, it is reasonable to use the same\ncertificate for both client and server roles.\n\nIntroducing QemuDefaultTLSVerify parameter\n\nThis parameter will allow operators to enable or disable TLS client\ncertificate verification. Enabling this option will reject any client\nwho does not have a certificate signed by the CA in\n/etc/pki/qemu/ca-cert.pem.\n\nThe default is true and matches libvirt's. We will want to disable this\nby default in train.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1945760\nChange-Id: I3b252854a0dbf121d69bab79543561da6be781f4\n""}]",8,785438,e7d37585ac38cfef5f1d1f2c54b357c38757536a,30,8,6,27419,,,0,"Missing client certificate for live-migration with TLS

TLS client verification used to be accidentally disabled in libvirt.
This was fixed in libvirt-6.10.0-1[1].
Which means, once you're using libvirt-6.10.0-1 or higher, a client
certificate is mandatory during live migration with TLS.

In this case, the server certificate generated by TripleO is valid
for client _and_ server:

                 Key Purpose (not critical):
                         TLS WWW Server.
                         TLS WWW Client.

So most deployments can re-use the same certificate for client and
server.  Why?  Because if both migration ends points are located
on the same infrastructure, it is reasonable to use the same
certificate for both client and server roles.

Introducing QemuDefaultTLSVerify parameter

This parameter will allow operators to enable or disable TLS client
certificate verification. Enabling this option will reject any client
who does not have a certificate signed by the CA in
/etc/pki/qemu/ca-cert.pem.

The default is true and matches libvirt's. We will want to disable this
by default in train.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1879477#c3

Depends-On: https://review.opendev.org/c/openstack/puppet-nova/+/785957/
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1945760
Change-Id: I3b252854a0dbf121d69bab79543561da6be781f4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/785438/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,c110981760a4314c5c3ccf57e9126fa531690edc,nova_qemu_client_tls_verify, - /etc/pki/qemu/server-cert.pem:/etc/pki/qemu/client-cert.pem:ro - /etc/pki/qemu/server-key.pem:/etc/pki/qemu/client-key.pem:ro ,,3,0
openstack%2Fpuppet-nova~master~I06fcef45cd06657d8e7796573181bd05ffff0324,openstack/puppet-nova,master,I06fcef45cd06657d8e7796573181bd05ffff0324,Remove support for [scheduler] driver,ABANDONED,2021-04-26 12:27:23.000000000,2021-04-26 12:33:22.000000000,,[],"[{'number': 1, 'created': '2021-04-26 12:27:23.000000000', 'files': ['releasenotes/notes/remove-scheduler_driver-f980a9a037f26478.yaml', 'manifests/scheduler.pp', 'spec/classes/nova_scheduler_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/df9270d9f16272c28d29557342227f41055eff89', 'message': 'Remove support for [scheduler] driver\n\n... because the parameter has been removed from nova[1].\n\n[1] 5aeb3a387494c4559d183d1290db3c92a96dfb90\n\nChange-Id: I06fcef45cd06657d8e7796573181bd05ffff0324\n'}]",0,787961,df9270d9f16272c28d29557342227f41055eff89,2,0,1,9816,,,0,"Remove support for [scheduler] driver

... because the parameter has been removed from nova[1].

[1] 5aeb3a387494c4559d183d1290db3c92a96dfb90

Change-Id: I06fcef45cd06657d8e7796573181bd05ffff0324
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/61/787961/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-scheduler_driver-f980a9a037f26478.yaml', 'manifests/scheduler.pp', 'spec/classes/nova_scheduler_spec.rb']",3,df9270d9f16272c28d29557342227f41055eff89,scheduler_driver,, context 'with scheduler driver' do let :params do { :scheduler_driver => 'custom driver' } end it { is_expected.to contain_nova_config('scheduler/driver').with_value('custom driver') } end ,4,28
openstack%2Fneutron~master~Ia9e23113fdeebf0b99085da200c3d61b71567d36,openstack/neutron,master,Ia9e23113fdeebf0b99085da200c3d61b71567d36,Don't ever give up trying to connect to OVN DBs,MERGED,2021-04-21 03:09:01.000000000,2021-04-26 12:29:51.000000000,2021-04-26 12:26:29.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 03:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15c1e7a407ad8e2600445390b8a9a09ac9b48aae', 'message': ""WIP Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n""}, {'number': 2, 'created': '2021-04-21 03:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/110adbf98d3d1fa84c8790d4be2c287eea58bd53', 'message': ""WIP Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n""}, {'number': 3, 'created': '2021-04-21 16:35:35.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39ccc0d6d6995b8d50baecc523dd30be034669a9', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n""}]",2,787310,39ccc0d6d6995b8d50baecc523dd30be034669a9,103,7,3,5756,,,0,"Don't ever give up trying to connect to OVN DBs

It doesn't really make since to give up connectimg to the OVN DBs
since we can't do anything without them. If ovsdb-server is slow
and takes more than timeout seconds, everything reconnecting after
partial downloads and starting over is not going to make things
better.

We can change the behavior in ovsdbapp, but doing it without
making non-backportable API changes isn't easily doable.
The plan would be, after merging this back through stable, to
modify ovsdbapp to allow setting different connection and txn
timeouts and being able to disable the timeout in wait_for_change
with a value of -1. Then in the main branch of neutron we can
use that going forward.

Change-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/787310/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'],1,15c1e7a407ad8e2600445390b8a9a09ac9b48aae,787310,"# Override wait_for_change to not use a timeout so we always try to reconnect def wait_for_change(idl_, timeout, seqno=None): if seqno is None: seqno = idl_.change_seqno while idl_.change_seqno == seqno and not idl_.run(): poller = idlutils.poller.Poller() idl_.wait(poller) poller.block() idlutils.wait_for_change = wait_for_change ",,12,0
openstack%2Fbifrost~stable%2Fwallaby~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/wallaby,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:07:51.000000000,2021-04-26 12:17:50.000000000,2021-04-26 12:16:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-26 10:07:51.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e629573ccc6d73ca9e3a3e1e52509fb8fd6d2b1a', 'message': 'Install squashfs-tools for Ubuntu image builds\n\nUbuntu cloud images are distributed in a squashfs file system. Using the\nubuntu DIB element requires unpacking the image, which requires the\nsquashfs-tools package. This change ensures it is installed.\n\nStory: 2008838\nTask: 42345\n\nChange-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59\n(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)\n'}]",0,787853,e629573ccc6d73ca9e3a3e1e52509fb8fd6d2b1a,7,3,1,10239,,,0,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/787853/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml']",2,e629573ccc6d73ca9e3a3e1e52509fb8fd6d2b1a,,--- fixes: - | Fixes a failure when building an Ubuntu image due to a missing ``squashfs-tools`` package. ,,6,0
openstack%2Fneutron~stable%2Ftrain~I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,openstack/neutron,stable/train,I6a40e6e3f937fa30bbb29768211ec8e689d4f82a,Get only FIP ID on network delete,MERGED,2021-04-22 08:45:59.000000000,2021-04-26 12:15:28.000000000,2021-04-26 12:13:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cf98520bb956d824ef68d09b3cb8876700a423b', 'message': 'Get only FIP ID on network delete\n\nGet FloatingIP object results in a quite heavy DB request.\ndelete_disassociated_floatingips() only needs IDs.\n\nChange-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a\n(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)\n'}, {'number': 2, 'created': '2021-04-22 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42e0d7dec602f60f5f06c538ef2792711b7fe8f3', 'message': 'Get only FIP ID on network delete\n\nGet FloatingIP object results in a quite heavy DB request.\ndelete_disassociated_floatingips() only needs IDs.\n\nChange-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a\n(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)\n'}, {'number': 3, 'created': '2021-04-22 08:50:01.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/objects/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e9a7876890174d535a14329e2a6de4b01396601', 'message': 'Get only FIP ID on network delete\n\nGet FloatingIP object results in a quite heavy DB request.\ndelete_disassociated_floatingips() only needs IDs.\n\nChange-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a\n(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)\n'}]",0,787490,3e9a7876890174d535a14329e2a6de4b01396601,56,3,3,5948,,,0,"Get only FIP ID on network delete

Get FloatingIP object results in a quite heavy DB request.
delete_disassociated_floatingips() only needs IDs.

Change-Id: I6a40e6e3f937fa30bbb29768211ec8e689d4f82a
(cherry picked from commit 282dc73e129b84b828d9d1d815b0b95afe093e11)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/787490/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/objects/router.py']",2,7cf98520bb956d824ef68d09b3cb8876700a423b,delete_net_fip_opt-stable/train,"<<<<<<< HEAD (af0335 Merge ""Add locks for setting iptables rules in l3 and metada) ======= @classmethod def get_disassociated_ids_for_net(cls, context, network_id): query = context.session.query(cls.db_model.id) query = query.filter_by( floating_network_id=network_id, router_id=None, fixed_port_id=None) return [f.id for f in query] @base.NeutronObjectRegistry.register class DvrFipGatewayPortAgentBinding(base.NeutronDbObject): # Version 1.0: Initial version VERSION = '1.0' db_model = dvr_models.DvrFipGatewayPortAgentBinding primary_keys = ['network_id', 'agent_id'] fields = { 'network_id': common_types.UUIDField(), 'agent_id': common_types.UUIDField(), } >>>>>>> CHANGE (282dc7 Get only FIP ID on network delete)",,31,5
openstack%2Fneutron~master~I708904b982d243359f2eeda809beae0321f1a7db,openstack/neutron,master,I708904b982d243359f2eeda809beae0321f1a7db,[OVN] Only account for bound ports in metadata agent,MERGED,2021-04-21 09:46:36.000000000,2021-04-26 12:14:59.000000000,2021-04-26 12:13:21.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-04-21 09:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17b9a3a5cf62f49c8f8180287dad106257553dbb', 'message': ""[ovn] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n""}, {'number': 2, 'created': '2021-04-21 12:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/330706194aa8aac1ba0bb38eadd87761dc9bc4c3', 'message': ""[ovn] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n""}, {'number': 3, 'created': '2021-04-22 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6d97f91924b96d9a397bb86152a67f9bdeeafc1', 'message': ""Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n""}, {'number': 4, 'created': '2021-04-22 08:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d066b0303692d8be9ac055a2d2af4d792de2a5e', 'message': ""[OVN] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n""}, {'number': 5, 'created': '2021-04-22 13:24:04.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32e938e698f260af6896f6179a5ffc0838677124', 'message': ""[OVN] Only account for bound ports in metadata agent\n\nDue to bug #1922934 there might be situations with stale ports\nin the OVN database. When instances request metadata, the agent\nwill try to fetch all ports for that particular network with the\nsame IP address and there should be only one.\n\nHowever, when there are stale ports in OVN database but not in\nNeutron, those ports may have the same IP address and the result\nis that metadata won't work. As the stale ports will never be\nbound to any hypervisor, this patch is accounting only for\nbound ports so that those ports don't interfere until they\neventually get fixed by the maintenance task.\n\nRelated-Bug: #1922934\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: I708904b982d243359f2eeda809beae0321f1a7db\n""}]",43,787337,32e938e698f260af6896f6179a5ffc0838677124,49,8,5,23804,,,0,"[OVN] Only account for bound ports in metadata agent

Due to bug #1922934 there might be situations with stale ports
in the OVN database. When instances request metadata, the agent
will try to fetch all ports for that particular network with the
same IP address and there should be only one.

However, when there are stale ports in OVN database but not in
Neutron, those ports may have the same IP address and the result
is that metadata won't work. As the stale ports will never be
bound to any hypervisor, this patch is accounting only for
bound ports so that those ports don't interfere until they
eventually get fixed by the maintenance task.

Related-Bug: #1922934
Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: I708904b982d243359f2eeda809beae0321f1a7db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/787337/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/server.py'],1,17b9a3a5cf62f49c8f8180287dad106257553dbb,," ports = [port for port in self.sb_idl.get_network_port_bindings_by_ip( network_id, remote_address) if port.chassis]"," ports = self.sb_idl.get_network_port_bindings_by_ip(network_id, remote_address)",2,2
openstack%2Fcharm-magnum-dashboard~master~Ie11080800aaec441785976308f2d0712fd277266,openstack/charm-magnum-dashboard,master,Ie11080800aaec441785976308f2d0712fd277266,Add zOSCI config,MERGED,2021-04-01 13:57:28.000000000,2021-04-26 12:12:33.000000000,2021-04-26 12:12:33.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/a633fbecc99eaa32985763072dfe14e1da3162ff', 'message': 'Add zOSCI config\n\nChange-Id: Ie11080800aaec441785976308f2d0712fd277266\n'}, {'number': 2, 'created': '2021-04-23 13:16:01.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/493153112189205dcf7b20270a7f3a586ae7468b', 'message': 'Add zOSCI config\n\nChange-Id: Ie11080800aaec441785976308f2d0712fd277266\n'}]",0,784418,493153112189205dcf7b20270a7f3a586ae7468b,21,4,2,31289,,,0,"Add zOSCI config

Change-Id: Ie11080800aaec441785976308f2d0712fd277266
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/18/784418/2 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,a633fbecc99eaa32985763072dfe14e1da3162ff,zosci,- project: templates: - charm-unit-jobs check: jobs: - bionic-ussuri - focal-ussuri - focal-victoria - groovy-victoria vars: needs_charm_build: true charm_build_name: magnum-dashboard ,,12,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I03953059f96079fbb61899d16147007b2fe023ad,openstack/tripleo-ansible,stable/ussuri,I03953059f96079fbb61899d16147007b2fe023ad,Support for timemaster service with tripleo-ansible role,MERGED,2021-03-30 13:42:35.000000000,2021-04-26 12:12:30.000000000,2021-04-26 12:12:30.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-30 13:42:35.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/molecule.yml', 'tripleo_ansible/roles/tripleo_timemaster/defaults/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/tasks/config.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/converge.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/prepare.yml', 'tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2', 'tripleo_ansible/roles/tripleo_timemaster/meta/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/Dockerfile', 'tripleo_ansible/roles/tripleo_timemaster/vars/RedHat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60339f758076aa6e046536cdd5d9f737c1d7a37a', 'message': ""Support for timemaster service with tripleo-ansible role\n\ntimemaster service provides provides HA between different\ntime service i.e chrony, PTP. When timemaster service runs,\nit spwans instances/child processes of chronyd, ptp4l and\nphy2sys. Look at below output.\n\n[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster\n● timemaster.service - Synchronize system clock to NTP and PTP time\n                       sources\n   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;\n                   vendor preset: disabled)\n   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago\n Main PID: 544428 (timemaster)\n    Tasks: 4 (limit: 357097)\n   Memory: 2.4M\n   CGroup: /system.slice/timemaster.service\n           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf\n           ├─544429 /usr/sbin/chronyd -n\n                                      -f /var/run/timemaster/chrony.conf\n           ├─544430 /usr/sbin/ptp4l -l 5\n                                    -f /var/run/timemaster/ptp4l.0.conf\n                                    -H -i eno1\n           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00\n                                   -z /var/run/timemaster/ptp4l.0.socket\n                                   -t [0:eno1] -n 0 -E ntpshm -M 0\n\nTimemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create\nruntime instance for these 2 timeservices. These 2 time services sync to\ntheir respective time source. Timemaster provides HA between chrony\nand PTP (between different PTP domains as well which is not part of\nthis patch).Timemaster compares all time sources and use the best\nsources to synchronize the system clock. if chronyd commuication breaks\nthen timemaster will set system time with PTP grand master's provided\ntime and vice a versa.\n\nChange-Id: I03953059f96079fbb61899d16147007b2fe023ad\n(cherry picked from commit c4950ce46e28fa87c7dcb0971ae3582a04d83021)\n""}]",0,783863,60339f758076aa6e046536cdd5d9f737c1d7a37a,10,8,1,30229,,,0,"Support for timemaster service with tripleo-ansible role

timemaster service provides provides HA between different
time service i.e chrony, PTP. When timemaster service runs,
it spwans instances/child processes of chronyd, ptp4l and
phy2sys. Look at below output.

[root@hareshcomputesriov-0 heat-admin]# systemctl status timemaster
● timemaster.service - Synchronize system clock to NTP and PTP time
                       sources
   Loaded: loaded (/usr/lib/systemd/system/timemaster.service; disabled;
                   vendor preset: disabled)
   Active: active (running) since Tue 2020-08-11 17:24:45 UTC; 3s ago
 Main PID: 544428 (timemaster)
    Tasks: 4 (limit: 357097)
   Memory: 2.4M
   CGroup: /system.slice/timemaster.service
           ├─544428 /usr/sbin/timemaster -f /etc/timemaster.conf
           ├─544429 /usr/sbin/chronyd -n
                                      -f /var/run/timemaster/chrony.conf
           ├─544430 /usr/sbin/ptp4l -l 5
                                    -f /var/run/timemaster/ptp4l.0.conf
                                    -H -i eno1
           └─544431 /usr/sbin/phc2sys -l 5 -a -r -R 1.00
                                   -z /var/run/timemaster/ptp4l.0.socket
                                   -t [0:eno1] -n 0 -E ntpshm -M 0

Timemaster service uses /etc/chrony.conf and /etc/ptp4l.conf to create
runtime instance for these 2 timeservices. These 2 time services sync to
their respective time source. Timemaster provides HA between chrony
and PTP (between different PTP domains as well which is not part of
this patch).Timemaster compares all time sources and use the best
sources to synchronize the system clock. if chronyd commuication breaks
then timemaster will set system time with PTP grand master's provided
time and vice a versa.

Change-Id: I03953059f96079fbb61899d16147007b2fe023ad
(cherry picked from commit c4950ce46e28fa87c7dcb0971ae3582a04d83021)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/783863/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/molecule.yml', 'tripleo_ansible/roles/tripleo_timemaster/tasks/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/defaults/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/converge.yml', 'tripleo_ansible/roles/tripleo_timemaster/tasks/config.yml', 'tripleo_ansible/roles/tripleo_timemaster/meta/main.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/prepare.yml', 'tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/Dockerfile', 'tripleo_ansible/roles/tripleo_timemaster/vars/RedHat.yml']",10,60339f758076aa6e046536cdd5d9f737c1d7a37a,tripleo_timemaster-stable/ussuri,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # While options found within the vars/ path can be overridden using extra # vars, items within this path are considered part of the role and not # intended to be modified. # All variables within this role should have a prefix of ""tripleo_timemaster"" tripleo_timemaster_package_name: linuxptp tripleo_timemaster_service_name: timemaster tripleo_timemaster_config_file_location: /etc/timemaster.conf ",,409,0
openstack%2Fneutron~stable%2Ftrain~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/train,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:09:08.000000000,2021-04-26 12:03:14.000000000,2021-04-26 12:01:39.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 12:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52b6bc30636c4ac3129c2f2ed142c247178eb9bc', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 2, 'created': '2021-04-20 15:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f84f5995c567690142edf5e32b32aa0990b8b46e', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 3, 'created': '2021-04-20 15:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7b8f582d816c8aa299442b9b80a412b9267762d', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 4, 'created': '2021-04-23 10:03:16.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d7cc27532a5da64382cbd7258d8ce3dcecbda0d', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nConflicts:\n     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}]",0,787194,8d7cc27532a5da64382cbd7258d8ce3dcecbda0d,28,4,4,5948,,,0,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/787194/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",4,52b6bc30636c4ac3129c2f2ed142c247178eb9bc,bug/1923161-stable/train," def _test__get_enabled_agents(self, network_id, mock.Mock(), network_id, None, agents, mock.ANY, mock.ANY) self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1]) self._test__get_enabled_agents(network_id='foo_network_id', self.notifier.plugin.get_network.return_value = network self._test__get_enabled_agents('foo_network_id', [agent], port_count=20, self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1, agent2])"," def _test__get_enabled_agents(self, network, mock.ANY, network, agents, mock.ANY, mock.ANY) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1]) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, self._test__get_enabled_agents(network, [agent], port_count=20, network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1, agent2])",41,19
openstack%2Fneutron~stable%2Fussuri~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/ussuri,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:06:46.000000000,2021-04-26 12:03:05.000000000,2021-04-26 12:01:30.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 12:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52a20bbce03482ebd2fb0216120d20d21732b795', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 2, 'created': '2021-04-20 15:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75148a5efe1ebe8e2c7c1a5f52857fb7f057c780', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 3, 'created': '2021-04-20 15:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d071a352fc1f1b18964bfb3745a64dd04a9fce4', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 4, 'created': '2021-04-23 10:02:14.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48b30783c0d550b4fb23c5886090c4f57b88ad53', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nConflicts:\n     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}]",0,787193,48b30783c0d550b4fb23c5886090c4f57b88ad53,19,4,4,5948,,,0,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/787193/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",4,52a20bbce03482ebd2fb0216120d20d21732b795,bug/1923161-stable/ussuri," def _test__get_enabled_agents(self, network_id, mock.Mock(), network_id, None, agents, mock.ANY, mock.ANY) self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1]) self._test__get_enabled_agents(network_id='foo_network_id', self.notifier.plugin.get_network.return_value = network self._test__get_enabled_agents('foo_network_id', [agent], port_count=20, self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1, agent2])"," def _test__get_enabled_agents(self, network, mock.ANY, network, agents, mock.ANY, mock.ANY) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1]) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, self._test__get_enabled_agents(network, [agent], port_count=20, network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1, agent2])",41,19
openstack%2Fneutron~stable%2Fvictoria~I0ab836ac09225f4f3ad435e9ceaf315018855d52,openstack/neutron,stable/victoria,I0ab836ac09225f4f3ad435e9ceaf315018855d52,DHCP notification optimization,MERGED,2021-04-20 12:02:17.000000000,2021-04-26 12:03:02.000000000,2021-04-26 12:01:22.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 12:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5052ba20fc8d1776e5bd67705ecd92cae36ae9b', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 2, 'created': '2021-04-20 15:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/164834f984c9153d6ed7d4439b0e5462deebfccb', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}, {'number': 3, 'created': '2021-04-23 10:01:20.000000000', 'files': ['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/342814db723dd60800539e72629d5c6de47af960', 'message': 'DHCP notification optimization\n\nDHCP notification is done after each create/update/delete for\nnetwork, subnet and port.\nThis notification currently has to retrieve network from DB almost\nevery time, which is a quite heavy DB request and hence affects\nperformance of port and subnet CRUD.\n\nThis patch suggests 2 optimizations:\n- do not fetch network if not needed (only fetch when schedule needed)\n- for port and subnet AFTER_CREATE event pass network dict from plugin\n\nAccording to Rally tests these changes improve performance:\n- port create ~20%\n- port update ~20%\n- subnet create ~15%\n- port delete and subnet update/delete - not tested\n\nConflicts:\n     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py\n\nCloses-Bug: #1923161\nChange-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52\n(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)\n'}]",2,787191,342814db723dd60800539e72629d5c6de47af960,24,4,3,5948,,,0,"DHCP notification optimization

DHCP notification is done after each create/update/delete for
network, subnet and port.
This notification currently has to retrieve network from DB almost
every time, which is a quite heavy DB request and hence affects
performance of port and subnet CRUD.

This patch suggests 2 optimizations:
- do not fetch network if not needed (only fetch when schedule needed)
- for port and subnet AFTER_CREATE event pass network dict from plugin

According to Rally tests these changes improve performance:
- port create ~20%
- port update ~20%
- subnet create ~15%
- port delete and subnet update/delete - not tested

Conflicts:
     neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py

Closes-Bug: #1923161
Change-Id: I0ab836ac09225f4f3ad435e9ceaf315018855d52
(cherry picked from commit 130655cdb98f493d0ceda72e2c3a0649c3d9024d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/787191/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/agentnotifiers/dhcp_rpc_agent_api.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/api/rpc/agentnotifiers/test_dhcp_rpc_agent_api.py']",4,c5052ba20fc8d1776e5bd67705ecd92cae36ae9b,bug/1923161-stable/victoria," def _test__get_enabled_agents(self, network_id, mock.Mock(), network_id, None, agents, mock.ANY, mock.ANY) self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1]) self._test__get_enabled_agents(network_id='foo_network_id', self.notifier.plugin.get_network.return_value = network self._test__get_enabled_agents('foo_network_id', [agent], port_count=20, self._test__get_enabled_agents(network_id='foo_network_id', agents=[agent1, agent2])"," def _test__get_enabled_agents(self, network, mock.ANY, network, agents, mock.ANY, mock.ANY) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1]) network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, self._test__get_enabled_agents(network, [agent], port_count=20, network = {'id': 'foo_network_id'} self._test__get_enabled_agents(network, agents=[agent1, agent2])",41,19
openstack%2Fkuryr-kubernetes~master~Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,openstack/kuryr-kubernetes,master,Ie2f6ec8b193e5a90216f3ff925188ad367826e4c,Enable Listener data timeouts test in tempest.conf,MERGED,2021-04-07 10:36:59.000000000,2021-04-26 11:51:01.000000000,2021-04-26 11:49:55.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-07 10:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/337105c410737e5f05e901c5f5ca500edf73762a', 'message': 'Enable Listener data timeouts test in tempest.conf\n\nThis patch enables the tempest test that checks that listener timeout\nvalue is configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/783966\nImplements: blueprint configure-lb-listeners-timeout\nChange-Id: Ie2f6ec8b193e5a90216f3ff925188ad367826e4c\n'}, {'number': 2, 'created': '2021-04-08 08:17:01.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fae12d9be2d1b213c029d925859ad00ec90591b2', 'message': 'Enable Listener data timeouts test in tempest.conf\n\nThis patch enables the tempest test that checks that listener timeout\nvalue is configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/783966\nImplements: blueprint configure-lb-listeners-timeout\nChange-Id: Ie2f6ec8b193e5a90216f3ff925188ad367826e4c\n'}]",0,785140,fae12d9be2d1b213c029d925859ad00ec90591b2,40,4,2,32533,,,0,"Enable Listener data timeouts test in tempest.conf

This patch enables the tempest test that checks that listener timeout
value is configurable.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/783966
Implements: blueprint configure-lb-listeners-timeout
Change-Id: Ie2f6ec8b193e5a90216f3ff925188ad367826e4c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/40/785140/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,337105c410737e5f05e901c5f5ca500edf73762a,bp/configure-lb-listeners-timeout, iniset $TEMPEST_CONFIG kuryr_kubernetes test_updated_listener_timeouts True,,1,0
openstack%2Fkolla~master~Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,openstack/kolla,master,Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7,Drop Ubuntu/AArch64 support,ABANDONED,2021-04-19 17:11:26.000000000,2021-04-26 11:38:27.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-04-19 17:11:26.000000000', 'files': ['kolla/image/build.py', 'docker/base/sources.list.ubuntu.aarch64'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5029cfead3e5f487290e7de00dd4f6d1a63cee27', 'message': 'Drop Ubuntu/AArch64 support\n\nThere are no known users for Ubuntu based Kolla containers on AArch64\narchitecture. Images are buildable but due to lack of Erlang 23 packages\nRabbitMQ does not start breaking whole deployment.\n\nChange-Id: Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7\n'}]",0,786937,5029cfead3e5f487290e7de00dd4f6d1a63cee27,7,7,1,24072,,,0,"Drop Ubuntu/AArch64 support

There are no known users for Ubuntu based Kolla containers on AArch64
architecture. Images are buildable but due to lack of Erlang 23 packages
RabbitMQ does not start breaking whole deployment.

Change-Id: Ie3bb0ffe6bd647e71e35f5f3d01c512704ea0df7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/786937/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/sources.list.ubuntu.aarch64']",2,5029cfead3e5f487290e7de00dd4f6d1a63cee27,,,"# Default repos deb http://ports.ubuntu.com/ focal main universe deb http://ports.ubuntu.com/ focal-updates main universe deb http://ports.ubuntu.com/ focal-security main universe # Backports have a lower priority and must be explicitly installed to be used deb http://ports.ubuntu.com/ focal-backports main universe # We need to add the repo for the updated packages they provide. The main ones # are qemu, libvirt, and openvswitch. deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/victoria main # NOTE(hrw): repositories below are added into image when they are needed as # separate files in /etc/apt/sources.list.d/ directory. For that purpose they # are defined in kolla/repos.yaml file. # # Here they stay in case someone needs them. # rabbitmq repo #deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main # Grafana repo #deb https://packages.grafana.com/oss/deb stable main # elasticsearch (arch:all), logstash (arch:all), kibana (arch:amd64) #deb [arch=amd64] https://artifacts.elastic.co/packages/5.x/apt stable main # MariaDB repo #deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main ",5,29
openstack%2Fbifrost~stable%2Fvictoria~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,stable/victoria,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-26 10:08:10.000000000,2021-04-26 11:25:44.000000000,2021-04-26 11:24:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-26 10:08:10.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a2b16602363c7c48fcc50bd83bacd48561f74550', 'message': 'Install squashfs-tools for Ubuntu image builds\n\nUbuntu cloud images are distributed in a squashfs file system. Using the\nubuntu DIB element requires unpacking the image, which requires the\nsquashfs-tools package. This change ensures it is installed.\n\nStory: 2008838\nTask: 42345\n\nChange-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59\n(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)\n'}]",0,787854,a2b16602363c7c48fcc50bd83bacd48561f74550,7,3,1,10239,,,0,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
(cherry picked from commit b166a0629bafdc0b18de3835e9210dfeaf811322)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/787854/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml']",2,a2b16602363c7c48fcc50bd83bacd48561f74550,,--- fixes: - | Fixes a failure when building an Ubuntu image due to a missing ``squashfs-tools`` package. ,,6,0
openstack%2Fbarbican~master~I52838cfe63d5a0b81757c278b9bfad516a442274,openstack/barbican,master,I52838cfe63d5a0b81757c278b9bfad516a442274,Fix Vault functional test,MERGED,2020-11-25 14:47:03.000000000,2021-04-26 11:17:52.000000000,2021-04-26 11:14:23.000000000,"[{'_account_id': 7973}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28619}, {'_account_id': 32834}]","[{'number': 1, 'created': '2020-11-25 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fa99cdfa3e24919800c70a4b917b77664df0dd1b', 'message': 'Fix Vault functional test\n\nIt was previously using the wrong Devstack service name.\n\nChange-Id: I52838cfe63d5a0b81757c278b9bfad516a442274\n'}, {'number': 2, 'created': '2020-11-25 16:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1f046cbdb9a77e84d036abbb30a53a64cbe3e2cd', 'message': 'Fix Vault functional test\n\nIt was previously using the wrong Devstack service name.\n\nChange-Id: I52838cfe63d5a0b81757c278b9bfad516a442274\n'}, {'number': 3, 'created': '2021-04-16 21:01:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/21661bebd93e3e78755becd542ed8e0fffbde64d', 'message': 'Fix Vault functional test\n\nIt was previously using the wrong Devstack service name.\n\nChange-Id: I52838cfe63d5a0b81757c278b9bfad516a442274\n'}]",0,764202,21661bebd93e3e78755becd542ed8e0fffbde64d,23,6,3,14826,,,0,"Fix Vault functional test

It was previously using the wrong Devstack service name.

Change-Id: I52838cfe63d5a0b81757c278b9bfad516a442274
",git fetch https://review.opendev.org/openstack/barbican refs/changes/02/764202/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa99cdfa3e24919800c70a4b917b77664df0dd1b,, barbican-vault: true, vault: true,1,1
openstack%2Fpuppet-neutron~stable%2Fwallaby~I0650085d2aa2c3492b175c565976705c977fd806,openstack/puppet-neutron,stable/wallaby,I0650085d2aa2c3492b175c565976705c977fd806,Fix L3 agent's extensions list,MERGED,2021-04-20 00:17:58.000000000,2021-04-26 10:58:52.000000000,2021-04-26 10:58:52.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 00:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/27619a9fc01a35865c64cb345e752c9f756e4811', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n""}, {'number': 2, 'created': '2021-04-26 07:51:31.000000000', 'files': ['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/db151245184f2188e8e4ef8be6b5418eba4e926b', 'message': ""Fix L3 agent's extensions list\n\nL3 agent's extensions list should be passed as an array\nto the neutron::agents::l3 class and then it should be converted\nto the comma separated string in the L3 agent's config.\nThis patch changes expected type of the variable and\nadds that such conversion from an array to string.\n\nChange-Id: I0650085d2aa2c3492b175c565976705c977fd806\n(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)\n""}]",0,786960,db151245184f2188e8e4ef8be6b5418eba4e926b,11,4,2,9816,,,0,"Fix L3 agent's extensions list

L3 agent's extensions list should be passed as an array
to the neutron::agents::l3 class and then it should be converted
to the comma separated string in the L3 agent's config.
This patch changes expected type of the variable and
adds that such conversion from an array to string.

Change-Id: I0650085d2aa2c3492b175c565976705c977fd806
(cherry picked from commit d29611f08a7dd0a41e0495d2c1678eb37d6b5a66)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/60/786960/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/l3.pp', 'spec/classes/neutron_agents_l3_spec.rb']",2,27619a9fc01a35865c64cb345e752c9f756e4811,fix-l3-agent-extensions-list-stable/wallaby," context 'with extensions in string' do before :each do params.merge!(:extensions => 'fip_qos,gateway_ip_qos,port_forwarding') end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end context 'with extensions in array' do before :each do params.merge!(:extensions => ['fip_qos', 'gateway_ip_qos', 'port_forwarding']) end it 'configures extentions' do should contain_neutron_l3_agent_config('agent/extensions').with_value('fip_qos,gateway_ip_qos,port_forwarding') end end",,22,2
openstack%2Ftelemetry-tempest-plugin~master~I2c3fb918c559b892865287a3363e090cad9e9b98,openstack/telemetry-tempest-plugin,master,I2c3fb918c559b892865287a3363e090cad9e9b98,Switch telemetry-tempest-dsvm to non-voting for now,MERGED,2021-04-23 13:41:09.000000000,2021-04-26 10:43:16.000000000,2021-04-26 10:43:16.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 13:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/5f169eeb81dbcf7893ca74b34591515b097228b8', 'message': 'Switch telemetry-tempest-dsvm to non-voting for now\n\nThe job is apparently broken in cleanup phase.\n\nChange-Id: I2c3fb918c559b892865287a3363e090cad9e9b98\n'}, {'number': 2, 'created': '2021-04-23 15:07:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/657804a7cff5cd0100e1a4a7b868e4bc3c78cd86', 'message': 'Switch telemetry-tempest-dsvm to non-voting for now\n\nThe job is apparently broken in cleanup phase.\n\nChange-Id: I2c3fb918c559b892865287a3363e090cad9e9b98\n'}]",0,787739,657804a7cff5cd0100e1a4a7b868e4bc3c78cd86,8,2,2,4264,,,0,"Switch telemetry-tempest-dsvm to non-voting for now

The job is apparently broken in cleanup phase.

Change-Id: I2c3fb918c559b892865287a3363e090cad9e9b98
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/39/787739/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f169eeb81dbcf7893ca74b34591515b097228b8,, voting: false,,1,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/victoria,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:52.000000000,2021-04-26 10:38:59.000000000,2021-04-26 10:37:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 09:11:52.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/466e4cc7c700db947c6fe26703beeb98b347a161', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)\n'}]",0,787850,466e4cc7c700db947c6fe26703beeb98b347a161,8,3,1,14826,,,0,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/787850/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,466e4cc7c700db947c6fe26703beeb98b347a161,,"OpenStack policy customisation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services allow customisation of policy. Since the Queens release, default policy configuration is defined within the source code for each service, meaning that operators only need to override rules they wish to change. Projects typically provide documentation on their default policy configuration, for example, :keystone-doc:`Keystone <configuration/policy>`. Policy can be customised via JSON or YAML files. As of the Wallaby release, the JSON format is deprecated in favour of YAML. One major benefit of YAML is that it allows for the use of comments. For example, to customise the Neutron policy in YAML format, the operator should add the customised rules in ``/etc/kolla/config/neutron/policy.yaml``. The operator can make these changes after services have been deployed by using the following command: kolla-ansible deploy In order to present a user with the correct interface, Horizon includes policy for other services. Customisations made to those services may need to be replicated in Horizon. For example, to customise the Neutron policy in YAML format for Horizon, the operator should add the customised rules in ``/etc/kolla/config/horizon/neutron_policy.yaml``.","In case the operators want to customize ``policy.json`` file, they should create a full policy file for specific project in the same directory like above and Kolla will overwrite default policy file with it. Be aware, with some projects are keeping full policy file in source code, operators just need to copy it but with some others are defining default rules in codebase, they have to generate it. For example to overwrite ``policy.json`` file of Neutron project, the operator needs to grab ``policy.json`` from Neutron project source code, update rules and then put it to ``/etc/kolla/config/neutron/policy.json``. .. note:: Currently kolla-ansible only support JSON and YAML format for policy file. The operator can make these changes after services were already deployed by using following command: kolla-ansible reconfigure",21,14
openstack%2Fkolla-ansible~master~Ifaf64e3d9d89b2ec36a883fb7458556745b64802,openstack/kolla-ansible,master,Ifaf64e3d9d89b2ec36a883fb7458556745b64802,Avoid an Ansible quirk in hacluster role,MERGED,2021-04-24 18:39:52.000000000,2021-04-26 10:38:55.000000000,2021-04-26 10:36:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-24 18:39:52.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3da3d8e1920473154d239e6ef5a254dbde438f2', 'message': 'Avoid an Ansible quirk in hacluster role\n\nFollowup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823\n\nWhen+run_once do not play nicely. [1]\nThe general workaround is to use include_tasks. [2]\nHowever, it is very unlikely user wishes to run this role\nwithout having any pacemaker nodes so the simplification that we\nuse throughout the Kolla Ansible code should be enough.\n\n[1] https://github.com/ansible/ansible/issues/11496\n[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547\n\nChange-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802\n'}]",0,787858,f3da3d8e1920473154d239e6ef5a254dbde438f2,11,5,1,30491,,,0,"Avoid an Ansible quirk in hacluster role

Followup on I91e5c1840ace8f567daf462c4eb3ec1f0c503823

When+run_once do not play nicely. [1]
The general workaround is to use include_tasks. [2]
However, it is very unlikely user wishes to run this role
without having any pacemaker nodes so the simplification that we
use throughout the Kolla Ansible code should be enough.

[1] https://github.com/ansible/ansible/issues/11496
[2] https://github.com/ansible/ansible/issues/11496#issuecomment-412936547

Change-Id: Ifaf64e3d9d89b2ec36a883fb7458556745b64802
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/787858/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/hacluster/tasks/bootstrap_service.yml'],1,f3da3d8e1920473154d239e6ef5a254dbde438f2,hacluster-quirk-followup," delegate_to: ""{{ groups[service.group][0] }}""", when: - inventory_hostname in groups[service.group] - service.enabled | bool,1,3
openstack%2Fkolla-ansible~stable%2Ftrain~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/train,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:27.000000000,2021-04-26 10:38:54.000000000,2021-04-26 10:37:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 09:13:27.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26760b63933217b5beab427d921ef2b73d53a5d0', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)\n'}]",0,787852,26760b63933217b5beab427d921ef2b73d53a5d0,8,3,1,14826,,,0,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/787852/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,26760b63933217b5beab427d921ef2b73d53a5d0,,"OpenStack policy customisation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services allow customisation of policy. Since the Queens release, default policy configuration is defined within the source code for each service, meaning that operators only need to override rules they wish to change. Projects typically provide documentation on their default policy configuration, for example, :keystone-doc:`Keystone <configuration/policy>`. Policy can be customised via JSON or YAML files. As of the Wallaby release, the JSON format is deprecated in favour of YAML. One major benefit of YAML is that it allows for the use of comments. For example, to customise the Neutron policy in YAML format, the operator should add the customised rules in ``/etc/kolla/config/neutron/policy.yaml``. The operator can make these changes after services have been deployed by using the following command: kolla-ansible deploy In order to present a user with the correct interface, Horizon includes policy for other services. Customisations made to those services may need to be replicated in Horizon. For example, to customise the Neutron policy in YAML format for Horizon, the operator should add the customised rules in ``/etc/kolla/config/horizon/neutron_policy.yaml``.","In case the operators want to customize ``policy.json`` file, they should create a full policy file for specific project in the same directory like above and Kolla will overwrite default policy file with it. Be aware, with some projects are keeping full policy file in source code, operators just need to copy it but with some others are defining default rules in codebase, they have to generate it. For example to overwrite ``policy.json`` file of Neutron project, the operator needs to grab ``policy.json`` from Neutron project source code, update rules and then put it to ``/etc/kolla/config/neutron/policy.json``. .. note:: Currently kolla-ansible only support JSON and YAML format for policy file. The operator can make these changes after services were already deployed by using following command: kolla-ansible reconfigure",21,14
openstack%2Fkolla-ansible~stable%2Fussuri~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/ussuri,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:13:20.000000000,2021-04-26 10:38:52.000000000,2021-04-26 10:37:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 09:13:20.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55ffe1f8fbe81f6bd8ba3134942338e40fc595ba', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)\n'}]",0,787851,55ffe1f8fbe81f6bd8ba3134942338e40fc595ba,8,3,1,14826,,,0,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/787851/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,55ffe1f8fbe81f6bd8ba3134942338e40fc595ba,,"OpenStack policy customisation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services allow customisation of policy. Since the Queens release, default policy configuration is defined within the source code for each service, meaning that operators only need to override rules they wish to change. Projects typically provide documentation on their default policy configuration, for example, :keystone-doc:`Keystone <configuration/policy>`. Policy can be customised via JSON or YAML files. As of the Wallaby release, the JSON format is deprecated in favour of YAML. One major benefit of YAML is that it allows for the use of comments. For example, to customise the Neutron policy in YAML format, the operator should add the customised rules in ``/etc/kolla/config/neutron/policy.yaml``. The operator can make these changes after services have been deployed by using the following command: kolla-ansible deploy In order to present a user with the correct interface, Horizon includes policy for other services. Customisations made to those services may need to be replicated in Horizon. For example, to customise the Neutron policy in YAML format for Horizon, the operator should add the customised rules in ``/etc/kolla/config/horizon/neutron_policy.yaml``.","In case the operators want to customize ``policy.json`` file, they should create a full policy file for specific project in the same directory like above and Kolla will overwrite default policy file with it. Be aware, with some projects are keeping full policy file in source code, operators just need to copy it but with some others are defining default rules in codebase, they have to generate it. For example to overwrite ``policy.json`` file of Neutron project, the operator needs to grab ``policy.json`` from Neutron project source code, update rules and then put it to ``/etc/kolla/config/neutron/policy.json``. .. note:: Currently kolla-ansible only support JSON and YAML format for policy file. The operator can make these changes after services were already deployed by using following command: kolla-ansible reconfigure",21,14
openstack%2Fkolla~master~I4bd385b53257a60cc55a190138e5d7078f8b64bf,openstack/kolla,master,I4bd385b53257a60cc55a190138e5d7078f8b64bf,docs: deprecate ppc64le in Wallaby,MERGED,2021-04-26 09:14:59.000000000,2021-04-26 10:38:48.000000000,2021-04-26 10:37:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 09:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae71514b88cb8f899551fe3789d8e46ccb9966f0', 'message': 'docs: deprecate ppc64le in Wallaby\n\nChange-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf\n'}, {'number': 2, 'created': '2021-04-26 09:17:37.000000000', 'files': ['releasenotes/notes/deprecate-ppc64le-2b7b642e79bddd66.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f00961da2251ad2c374a03f081db4bf0f089cf73', 'message': 'docs: deprecate ppc64le in Wallaby\n\nChange-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf\n'}]",0,787947,f00961da2251ad2c374a03f081db4bf0f089cf73,12,4,2,24072,,,0,"docs: deprecate ppc64le in Wallaby

Change-Id: I4bd385b53257a60cc55a190138e5d7078f8b64bf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/787947/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-ppc64le-2b7b642e79bddd66.yaml'],1,ae71514b88cb8f899551fe3789d8e46ccb9966f0,prepare-for-kolla-wallaby-release,--- deprecations: - | Support for building ppc64le container images has been deprecated in Wallaby cycle and will be removed in Xena. ,,5,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,stable/wallaby,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-04-26 09:11:46.000000000,2021-04-26 10:38:39.000000000,2021-04-26 10:37:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 09:11:46.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f7e027651d7e96bd4e74d11f3f3477ee6bcecf5', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)\n'}]",0,787849,3f7e027651d7e96bd4e74d11f3f3477ee6bcecf5,8,3,1,14826,,,0,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
(cherry picked from commit 030a9a28d74f98831cce2cd48c08e09102ae7cf0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/787849/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,3f7e027651d7e96bd4e74d11f3f3477ee6bcecf5,,"OpenStack policy customisation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services allow customisation of policy. Since the Queens release, default policy configuration is defined within the source code for each service, meaning that operators only need to override rules they wish to change. Projects typically provide documentation on their default policy configuration, for example, :keystone-doc:`Keystone <configuration/policy>`. Policy can be customised via JSON or YAML files. As of the Wallaby release, the JSON format is deprecated in favour of YAML. One major benefit of YAML is that it allows for the use of comments. For example, to customise the Neutron policy in YAML format, the operator should add the customised rules in ``/etc/kolla/config/neutron/policy.yaml``. The operator can make these changes after services have been deployed by using the following command: kolla-ansible deploy In order to present a user with the correct interface, Horizon includes policy for other services. Customisations made to those services may need to be replicated in Horizon. For example, to customise the Neutron policy in YAML format for Horizon, the operator should add the customised rules in ``/etc/kolla/config/horizon/neutron_policy.yaml``.","In case the operators want to customize ``policy.json`` file, they should create a full policy file for specific project in the same directory like above and Kolla will overwrite default policy file with it. Be aware, with some projects are keeping full policy file in source code, operators just need to copy it but with some others are defining default rules in codebase, they have to generate it. For example to overwrite ``policy.json`` file of Neutron project, the operator needs to grab ``policy.json`` from Neutron project source code, update rules and then put it to ``/etc/kolla/config/neutron/policy.json``. .. note:: Currently kolla-ansible only support JSON and YAML format for policy file. The operator can make these changes after services were already deployed by using following command: kolla-ansible reconfigure",21,14
openstack%2Ftripleo-validations~master~Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,openstack/tripleo-validations,master,Ib90a48e9a12a5c5d2c5220eceaa38107d233e467,Removal of osc-lib,MERGED,2021-04-21 16:15:57.000000000,2021-04-26 10:32:48.000000000,2021-04-26 10:31:05.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 13861}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-21 16:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/84db216b88e7c934bbe77c8d5aa394e19b0b6a70', 'message': 'Removal of osc-lib\n\nosc-lib removed from requirements.txt\n\nResolves: bz#1952113\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467\n'}, {'number': 2, 'created': '2021-04-21 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f8bda7611f28de6bdc8e156e5edff9c5b2af1b70', 'message': 'Removal of osc-lib\n\nosc-lib removed from requirements.txt\n\nResolves: BZ#1952113\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467\n'}, {'number': 3, 'created': '2021-04-21 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/da2fcb466eb3a738ccba9641f968e8c4e804fddc', 'message': 'Removal of osc-lib\n\nosc-lib removed from requirements.txt\n\nResolves: BZ#1952113\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467\n'}, {'number': 4, 'created': '2021-04-22 15:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7df859e6f4909527bbf1f054285e990f931a00d4', 'message': 'Removal of osc-lib\n\nosc-lib removed from requirements.txt\n\nResolves: BZ#1952113\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/787551\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467\n'}, {'number': 5, 'created': '2021-04-22 18:39:47.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8c785e4b9f14c439a68f34baccedbf50ae2eca68', 'message': 'Removal of osc-lib\n\nosc-lib removed from requirements.txt\n\nResolves: BZ#1952113\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/787567\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467\n'}]",0,787416,8c785e4b9f14c439a68f34baccedbf50ae2eca68,23,10,5,32926,,,0,"Removal of osc-lib

osc-lib removed from requirements.txt

Resolves: BZ#1952113

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/787567
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib90a48e9a12a5c5d2c5220eceaa38107d233e467
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/16/787416/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,84db216b88e7c934bbe77c8d5aa394e19b0b6a70,requirementsfix,,osc-lib>=2.3.0 # Apache-2.0,0,1
openstack%2Fopenstacksdk~master~I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,openstack/openstacksdk,master,I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a,Add support for the GroupType resource,MERGED,2021-03-31 22:33:09.000000000,2021-04-26 10:26:51.000000000,2021-04-26 10:24:04.000000000,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 33032}]","[{'number': 1, 'created': '2021-03-31 22:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1504369d1b2bfda497c70d0518a25d5ee7b70cf2', 'message': 'Added support for the GroupType resource\n\nIntroduce the GroupType resource, fill in its\nresources, and implement API calls to support the\nCinder v3 API\n\nTask: 41856\nStory: 2008619\nTask: 42191\nStory: 2008621\nChange-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a\n'}, {'number': 2, 'created': '2021-03-31 22:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/37010232975cc13444a5cd7d9fbcd4c62c1e075e', 'message': 'WIP Added support for the GroupType resource\n\nIntroduce the GroupType resource, fill in its\nresources, and implement API calls to support the\nCinder v3 API\n\nTask: 41856\nStory: 2008619\nTask: 42191\nStory: 2008621\nChange-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a\n'}, {'number': 3, 'created': '2021-04-10 05:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/11557ccccd8aeb3810eb0cb4578cac166ccf32d7', 'message': 'Add support for the GroupType resource\n\nIntroduce the GroupType resource, fill in its\nresources, and implement API calls to support the\nCinder v3 API\n\nTask: 41856\nStory: 2008619\nTask: 42191\nStory: 2008621\nChange-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a\n'}, {'number': 4, 'created': '2021-04-24 17:37:36.000000000', 'files': ['openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/group_type.py', 'openstack/tests/functional/block_storage/v3/test_group_type.py', 'openstack/tests/unit/block_storage/v3/test_group_type.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6327052ef0a3e0c4096dc09d673dd1d40dbcc3ed', 'message': 'Add support for the GroupType resource\n\nIntroduce the GroupType resource, fill in its\nresources, and implement API calls to support the\nCinder v3 API\n\nTask: 41856\nStory: 2008619\nTask: 42191\nStory: 2008621\nChange-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a\n'}]",8,784178,6327052ef0a3e0c4096dc09d673dd1d40dbcc3ed,15,5,4,33032,,,0,"Add support for the GroupType resource

Introduce the GroupType resource, fill in its
resources, and implement API calls to support the
Cinder v3 API

Task: 41856
Story: 2008619
Task: 42191
Story: 2008621
Change-Id: I32b7d6861ed9b15bb0fac1af4acde50c1f3f847a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/784178/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/group_type.py', 'openstack/tests/functional/block_storage/v3/test_group_type.py', 'openstack/tests/unit/block_storage/v3/test_group_type.py']",5,1504369d1b2bfda497c70d0518a25d5ee7b70cf2,782013,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.block_storage.v3 import group_type from openstack.tests.unit import base GROUP_TYPE = { ""id"": ""6685584b-1eac-4da6-b5c3-555430cf68ff"", ""name"": ""grp-type-001"", ""description"": ""group type 001"", ""is_public"": True, ""group_specs"": { ""consistent_group_snapshot_enabled"": ""<is> False"" } } class TestGroupType(base.TestCase): def test_basic(self): resource = group_type.GroupType() self.assertEqual(""group_type"", resource.resource_key) self.assertEqual(""group_types"", resource.resources_key) self.assertEqual(""/group_types"", resource.base_path) self.assertTrue(resource.allow_create) self.assertTrue(resource.allow_fetch) self.assertTrue(resource.allow_delete) self.assertTrue(resource.allow_commit) self.assertTrue(resource.allow_list) def test_make_resource(self): resource = group_type.GroupType(**GROUP_TYPE) self.assertEqual(GROUP_TYPE[""id""], resource.id) self.assertEqual(GROUP_TYPE[""name""], resource.name) self.assertEqual(GROUP_TYPE[""description""], resource.description) self.assertEqual(GROUP_TYPE[""is_public""], resource.is_public) self.assertEqual(GROUP_TYPE[""group_specs""], resource.group_specs) ",,227,0
openstack%2Fbifrost~master~I3cba11ac02a09d142637e2169a7b901a5b41bd59,openstack/bifrost,master,I3cba11ac02a09d142637e2169a7b901a5b41bd59,Install squashfs-tools for Ubuntu image builds,MERGED,2021-04-22 08:38:57.000000000,2021-04-26 10:07:16.000000000,2021-04-26 10:05:52.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-22 08:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9094eb22a10c060fc5f0e6b4813969ae68196503', 'message': 'Install squashfs-tools for Ubuntu image builds\n\nUbuntu cloud images are distributed in a squashfs file system. Using the\nubuntu DIB element requires unpacking the image, which requires the\nsquashfs-tools package. This change ensures it is installed.\n\nStory: 2008838\nTask: 42345\n\nChange-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59\n'}, {'number': 2, 'created': '2021-04-23 15:32:43.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b166a0629bafdc0b18de3835e9210dfeaf811322', 'message': 'Install squashfs-tools for Ubuntu image builds\n\nUbuntu cloud images are distributed in a squashfs file system. Using the\nubuntu DIB element requires unpacking the image, which requires the\nsquashfs-tools package. This change ensures it is installed.\n\nStory: 2008838\nTask: 42345\n\nChange-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59\n'}]",0,787505,b166a0629bafdc0b18de3835e9210dfeaf811322,11,3,2,14826,,,0,"Install squashfs-tools for Ubuntu image builds

Ubuntu cloud images are distributed in a squashfs file system. Using the
ubuntu DIB element requires unpacking the image, which requires the
squashfs-tools package. This change ensures it is installed.

Story: 2008838
Task: 42345

Change-Id: I3cba11ac02a09d142637e2169a7b901a5b41bd59
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/05/787505/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-dib-image/vars/main.yml', 'releasenotes/notes/squashfs-ddbbbac856e8f9fc.yaml']",2,9094eb22a10c060fc5f0e6b4813969ae68196503,,--- fixes: - | Fixes a failure when building an Ubuntu image due to a missing ``squashfs-tools`` package. ,,6,0
openstack%2Freleases~master~I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,openstack/releases,master,I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b,Release neutron-lib 2.11.0,MERGED,2021-04-23 11:43:30.000000000,2021-04-26 09:55:08.000000000,2021-04-26 09:55:08.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-23 11:43:30.000000000', 'files': ['deliverables/xena/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/545a87db3f8282c5b32d2ebf624360c1d94e7aab', 'message': 'Release neutron-lib 2.11.0\n\nChange-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b\n'}]",0,787717,545a87db3f8282c5b32d2ebf624360c1d94e7aab,10,6,1,16688,,,0,"Release neutron-lib 2.11.0

Change-Id: I58b718c5a97f0cf61df4fb7640fa0a7c1eb6131b
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/787717/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-lib.yaml'],1,545a87db3f8282c5b32d2ebf624360c1d94e7aab,neutron-lib_2.11.0,releases: - version: 2.11.0 projects: - repo: openstack/neutron-lib hash: 39ad4e36acbf69b661fdce96ad9299ebf8e21fc1,,5,0
openstack%2Fmanila-tempest-plugin~master~I040a799fb2afd64536516e4caeaa737e19e67062,openstack/manila-tempest-plugin,master,I040a799fb2afd64536516e4caeaa737e19e67062,Fix share type cleanup,ABANDONED,2020-08-23 11:20:51.000000000,2021-04-26 09:34:20.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 30025}, {'_account_id': 30998}]","[{'number': 1, 'created': '2020-08-23 11:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ba279b17e99986f887c2b263fe9226b64f998f51', 'message': 'Fix share type cleanup\n\nCurrently, there is a bug [1] causing the test ""test_manage_share_duplicate""\nto fail. This failure leaves behind a share type. Other test cases are\nattempting to cleanup that share type that was left behind.\nThis causes to authentication failures in the other test cases since they\nare on other projects.\nThis patch creates a separated share type for each test and delete it at\nthe end of the test to avoid cascade like this.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843\n\nChange-Id: I040a799fb2afd64536516e4caeaa737e19e67062\n'}, {'number': 2, 'created': '2020-08-23 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b1f8b984b6fc8bde40d613cf11dff41aeb5a19de', 'message': 'Fix share type cleanup\n\nCurrently, there is a bug [1] causing the test ""test_manage_share_duplicate""\nto fail. This failure leaves behind a share type. Other test cases are\nattempting to cleanup that share type that was left behind.\nThis causes to authentication failures in the other test cases since they\nare on other projects.\nThis patch creates a separated share type for each test and delete it at\nthe end of the test to avoid cascade like this.\n\nThis patch also move skipping conditions under skip_checks method.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843\n\nChange-Id: I040a799fb2afd64536516e4caeaa737e19e67062\n'}, {'number': 3, 'created': '2020-08-23 13:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ad121b74cd1815c65acfa77e1247d805d4e4e922', 'message': 'Fix share type cleanup\n\nCurrently, there is a bug [1] causing the test ""test_manage_share_duplicate""\nto fail. This failure leaves behind a share type. Other test cases are\nattempting to cleanup that share type that was left behind.\nThis causes to authentication failures in the other test cases since they\nare on other projects.\nThis patch creates a separated share type for each test and delete it at\nthe end of the test to avoid cascade like this.\n\nThis patch also move skipping conditions under skip_checks method.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843\n\nChange-Id: I040a799fb2afd64536516e4caeaa737e19e67062\n'}, {'number': 4, 'created': '2020-09-02 11:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/12ca282f1f52d0f4c62c73f383d86261d7c27802', 'message': 'Fix share type cleanup\n\nCurrently, there is a bug [1] causing the test ""test_manage_share_duplicate""\nto fail. This failure leaves behind a share type. Other test cases are\nattempting to cleanup that share type that was left behind.\nThis causes to authentication failures in the other test cases since they\nare on other projects.\nThis patch creates a separated share type for each test and delete it at\nthe end of the test to avoid cascade like this.\n\nThis patch also move skipping conditions under skip_checks method.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843\n\nChange-Id: I040a799fb2afd64536516e4caeaa737e19e67062\n'}, {'number': 5, 'created': '2020-10-27 14:50:34.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/38d24f43a3238add02015cae3d8a12831b240f67', 'message': 'Fix share type cleanup\n\nCurrently, there is a bug [1] causing the test ""test_manage_share_duplicate""\nto fail. This failure leaves behind a share type. Other test cases are\nattempting to cleanup that share type that was left behind.\nThis causes to authentication failures in the other test cases since they\nare on other projects.\nThis patch creates a separated share type for each test and delete it at\nthe end of the test to avoid cascade like this.\n\nThis patch also move skipping conditions under skip_checks method.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843\n\nChange-Id: I040a799fb2afd64536516e4caeaa737e19e67062\n'}]",7,747571,38d24f43a3238add02015cae3d8a12831b240f67,31,11,5,19262,,,0,"Fix share type cleanup

Currently, there is a bug [1] causing the test ""test_manage_share_duplicate""
to fail. This failure leaves behind a share type. Other test cases are
attempting to cleanup that share type that was left behind.
This causes to authentication failures in the other test cases since they
are on other projects.
This patch creates a separated share type for each test and delete it at
the end of the test to avoid cascade like this.

This patch also move skipping conditions under skip_checks method.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1849843

Change-Id: I040a799fb2afd64536516e4caeaa737e19e67062
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/71/747571/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/admin/test_share_manage_negative.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_manage.py']",3,ba279b17e99986f887c2b263fe9226b64f998f51,share_type_cleanup," share_type = self._create_share_type(cleanup=False) self.addCleanup(self.admin_shares_v2_client.delete_share_type, share_type['id']) share = self._create_share_for_manage(share_type=share_type) 'share_type_id': share_type['id'], self.assertEqual(share_type['id'], self.assertEqual(share_type['name'],"," @classmethod def resource_setup(cls): super(ManageNFSShareTest, cls).resource_setup() # Create share type cls.st_name = data_utils.rand_name(""manage-st-name"") cls.extra_specs = { 'storage_protocol': CONF.share.capability_storage_protocol, 'driver_handles_share_servers': CONF.share.multitenancy_enabled, } cls.st = cls.create_share_type( name=cls.st_name, cleanup_in_class=True, extra_specs=cls.extra_specs) share = self._create_share_for_manage() 'share_type_id': self.st['share_type']['id'], self.assertEqual(self.st['share_type']['id'], self.assertEqual(self.st['share_type']['name'],",58,62
openstack%2Fironic~stable%2Fwallaby~I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,openstack/ironic,stable/wallaby,I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2,Fix fast track with redfish-virtual-media,MERGED,2021-04-23 14:06:51.000000000,2021-04-26 09:32:37.000000000,2021-04-26 09:29:34.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-23 14:06:51.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7151e81b1820acf9f65aec9c6188c261f6add286', 'message': 'Fix fast track with redfish-virtual-media\n\nDuring cleaning prepare_ramdisk is always called, even with fast track.\nHowever, the redfish-virtual-media boot interface ignores fast track and\nalways reboots the node. This change makes fast track work if we can\ndetect that a CD device is connected.\n\nChange-Id: I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2\n(cherry picked from commit 65e2e190981942b83b3a1eef99183b8128e833a2)\n'}]",0,787613,7151e81b1820acf9f65aec9c6188c261f6add286,11,3,1,10239,,,0,"Fix fast track with redfish-virtual-media

During cleaning prepare_ramdisk is always called, even with fast track.
However, the redfish-virtual-media boot interface ignores fast track and
always reboots the node. This change makes fast track work if we can
detect that a CD device is connected.

Change-Id: I8d13df5db9654b0c2ea24489f7df75cdc5bae0e2
(cherry picked from commit 65e2e190981942b83b3a1eef99183b8128e833a2)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/787613/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",2,7151e81b1820acf9f65aec9c6188c261f6add286,redfish-fast-track-stable/wallaby,"def _has_vmedia_device(managers, boot_device, inserted=None): :param inserted: If not None, only return a device with a matching inserted status. if dev not in v_media.media_types: continue if (inserted is not None and bool(v_media.inserted) is not inserted): continue return dev managers = redfish_utils.get_system(task.node).managers if manager_utils.is_fast_track(task): if _has_vmedia_device(managers, sushy.VIRTUAL_MEDIA_CD, inserted=True): LOG.debug('Fast track operation for node %s, not inserting ' 'any devices', node.uuid) return else: LOG.warning('Fast track is possible for node %s, but no ISO ' 'is currently inserted! Proceeding with ' 'normal operation.', node.uuid) if manager_utils.is_fast_track(task): LOG.debug('Fast track operation for node %s, not ejecting ' 'any devices', task.node.uuid) return ","def _has_vmedia_device(managers, boot_device): if dev in v_media.media_types: return dev managers = redfish_utils.get_system(task.node).managers ",168,5
openstack%2Fironic~stable%2Fwallaby~I9ff2d726cb75317fe09bd43342541db0e721f2b8,openstack/ironic,stable/wallaby,I9ff2d726cb75317fe09bd43342541db0e721f2b8,Remove temporary cleaning information on starting cleaning,MERGED,2021-04-25 15:17:11.000000000,2021-04-26 09:31:19.000000000,2021-04-26 09:29:29.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-25 15:17:11.000000000', 'files': ['releasenotes/notes/cleaning-token-9755f96d1284f78a.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/cleaning.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53535efb6285a3a69557ef61d30544ae9612ca8b', 'message': 'Remove temporary cleaning information on starting cleaning\n\nCurrently we only remove the URL, which may leave a stale token.\n\nChange-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8\n(cherry picked from commit f4a7002023ddbd41505342bbad43fb6e0f963ef4)\n'}]",0,787844,53535efb6285a3a69557ef61d30544ae9612ca8b,10,2,1,10239,,,0,"Remove temporary cleaning information on starting cleaning

Currently we only remove the URL, which may leave a stale token.

Change-Id: I9ff2d726cb75317fe09bd43342541db0e721f2b8
(cherry picked from commit f4a7002023ddbd41505342bbad43fb6e0f963ef4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/787844/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cleaning-token-9755f96d1284f78a.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/cleaning.py']",5,53535efb6285a3a69557ef61d30544ae9612ca8b,cleaning-token-stable/wallaby, utils.wipe_cleaning_internal_info(task) task.node.save(), node.save(),16,40
openstack%2Fconstellations~master~Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,openstack/constellations,master,Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e,Add Compute Starter constellation,NEW,2018-07-26 13:23:04.000000000,2021-04-26 09:23:46.000000000,,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 11564}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 13:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/constellations/commit/6bda7eab2e78a253a665a35f235f000a059494b0', 'message': ""Add Compute Starter constellation\n\nEntirely based on sdague's work here -\nIe4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e\n\nand template from johnthetubaguy's Scientific Computing constellation\n\nproposes a new constellation to specify a small number of\nprojects that are targeted at initial compute deploys by new\noperators.\n\nChange-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e\n""}, {'number': 2, 'created': '2018-07-26 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/constellations/commit/435ff9573b3754068735dbd5a8f6eba97a6d8948', 'message': ""Add Compute Starter constellation\n\nEntirely based on sdague's work here -\nIe4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e\n\nand template from johnthetubaguy's Scientific Computing constellation:\nIa57aa41dd923d1fbc53512f5e10580d5575a4e5f\n\nproposes a new constellation to specify a small number of\nprojects that are targeted at initial compute deploys by new\noperators.\n\nChange-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e\n""}, {'number': 3, 'created': '2018-08-27 18:32:59.000000000', 'files': ['doc/source/index.rst', 'doc/source/constellations/starter.rst', 'doc/source/constellations/index.rst'], 'web_link': 'https://opendev.org/openstack/constellations/commit/08962f9b514652903c04edcca3a8b108c55073b0', 'message': ""Add Compute Starter constellation\n\nEntirely based on sdague's work here -\nIe4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e\n\nand template from johnthetubaguy's Scientific Computing constellation:\nIa57aa41dd923d1fbc53512f5e10580d5575a4e5f\n\nproposes a new constellation to specify a small number of\nprojects that are targeted at initial compute deploys by new\noperators.\n\nChange-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e\n""}]",16,586212,08962f9b514652903c04edcca3a8b108c55073b0,18,8,3,5638,,,0,"Add Compute Starter constellation

Entirely based on sdague's work here -
Ie4aefe54a88aff9cebdf44e0e6c3f8ed95aa0d0e

and template from johnthetubaguy's Scientific Computing constellation:
Ia57aa41dd923d1fbc53512f5e10580d5575a4e5f

proposes a new constellation to specify a small number of
projects that are targeted at initial compute deploys by new
operators.

Change-Id: Ia57aa41dd923d1fbc53512f5e10580d5575a4e5e
",git fetch https://review.opendev.org/openstack/constellations refs/changes/12/586212/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/constellations/index.rst', 'doc/source/constellations/starter.rst']",3,6bda7eab2e78a253a665a35f235f000a059494b0,,"============================= Compute Starter Constellation ============================= This constellation focuses on how OpenStack is used for a Compute oriented OpenStack cloud that can be expanded over time to include more of the OpenStack universe. Status ====== *Under development* This guide is experimental and currently under development. In the meantime you may find this information useful: https://docs.openstack.org/arch-design/use-cases/use-case-general-compute.html Rationale ========= The OpenStack Mission Statement: ""To produce the ubiquitous Open Source Cloud Computing platform that will meet the needs of public and private clouds regardless of size, by being simple to implement and massively scalable."" There are many ways one can use OpenStack, but based on the most recent User Survey, 98% of Production and Dev / Test clouds are using Nova [1], the highest of all OpenStack components. Even with a margin of error, we can assume that a Compute cloud is a key feature that's wanted by nearly everyone that enters our community. The vision for this constellation is it's a starting place, with function that nearly all clouds will eventually want to have, and then documented ways to expand the cloud into additional functions. This is about a base minimal set of features to get people familiar with the OpenStack universe. Criteria for selecting OpenStack projects as part of this constellation ======================================================================= * All projects must actively maintain stable branches Rationale: these users will typically deploy stable releases only, and upgrade on stable point releases before jumping to the next stable release. * All projects must only use relational database and queue system Rationale: providing HA stories for a relational database and AMQP is substantial operational burden. Additional storage / messaging technologies provide too high an operational burden to meet for initial setup. * All projects must use oslo.config, oslo.log Rationale: both of these are operator in / out surfaces. All projects in here should have the same mechanisms for input / output from an operational standpoint. * All projects must support upgrade without config file change Rationale: the expected upgrade model is code upgrade on existing config files, cleaning up deprecation issues before upgrading to the next. * All projects must be a required to put a persistent VM on the network. Rationale: we'd like to create a small enough starting point that getting everything up and running is a manageable project. We'd like to support persistent virtual machines because it's something most operators are going to immediately have a use for, and can thus try it out for real in their environment. * The projects in this constellation should make it easy to add new OpenStack projects into such a deployment over time. Rationale: we'd like this to be a solid bit of 'seed corn' from which a larger and richer OpenStack deployment can be built out over time. Starting small with the ability to grow helps OpenStack adoption. List of OpenStack projects in this constellation ================================================ Under the current criteria the following projects are part of Compute Starter: - keystone - glance - nova - cinder - neutron Release Highlights ================== Future Plans ============ References ========== [1] - http://superuser.openstack.org/articles/openstack-users-share-how-their-deployments-stack-up ",,120,0
openstack%2Fcliff~master~I5d419e881a42e627fd0699cb2ab68b66e7295cee,openstack/cliff,master,I5d419e881a42e627fd0699cb2ab68b66e7295cee,Use py3 as the default runtime for tox,MERGED,2021-04-20 02:37:35.000000000,2021-04-26 09:17:35.000000000,2021-04-26 09:16:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-20 02:37:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/fa0535a88831cb7b91c0bf9568679a21c77f9e7c', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I5d419e881a42e627fd0699cb2ab68b66e7295cee\n""}]",0,787034,fa0535a88831cb7b91c0bf9568679a21c77f9e7c,7,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I5d419e881a42e627fd0699cb2ab68b66e7295cee
",git fetch https://review.opendev.org/openstack/cliff refs/changes/34/787034/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fa0535a88831cb7b91c0bf9568679a21c77f9e7c,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Foswin-tempest-plugin~master~Id9f0c4322204212a814d79f01769e07a3ff942db,openstack/oswin-tempest-plugin,master,Id9f0c4322204212a814d79f01769e07a3ff942db,Use py3 as the default runtime for tox,MERGED,2021-04-20 08:58:40.000000000,2021-04-26 09:15:04.000000000,2021-04-26 09:15:04.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 08:58:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/59e6a14d01dda304c7d11fda1d35198f25799d6c', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Id9f0c4322204212a814d79f01769e07a3ff942db\n'}]",0,787171,59e6a14d01dda304c7d11fda1d35198f25799d6c,6,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id9f0c4322204212a814d79f01769e07a3ff942db
",git fetch https://review.opendev.org/openstack/oswin-tempest-plugin refs/changes/71/787171/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59e6a14d01dda304c7d11fda1d35198f25799d6c,,"envlist = py3,pypy,pep8","envlist = py37,pypy,pep8",1,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0dbcde302a3abdfccc3dd996b1c238e25064dd12,openstack/puppet-tripleo,stable/ussuri,I0dbcde302a3abdfccc3dd996b1c238e25064dd12,Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard,MERGED,2021-04-22 07:23:54.000000000,2021-04-26 08:51:38.000000000,2021-04-26 08:51:38.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-22 07:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fc05bf6ee772840028a550a7a746da4df927f004', 'message': 'Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard\n\nThis change adds the prometheus and alertmanager endpoints which\nare on the same grafana network and allow us to just use a single\nvip to access the prometheus and alertmanager instances from the\nceph dashboard when enabled.\nWe already did it for grafana [1] and we would like to do the same\nfor prometheus and alertmanager.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192\n\nChange-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)\n'}, {'number': 2, 'created': '2021-04-23 12:22:00.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/86d357cdddb0862652460a94e8b2915a2cd5782c', 'message': 'Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard\n\nThis change adds the prometheus and alertmanager endpoints which\nare on the same grafana network and allow us to just use a single\nvip to access the prometheus and alertmanager instances from the\nceph dashboard when enabled.\nWe already did it for grafana [1] and we would like to do the same\nfor prometheus and alertmanager.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192\n\nChange-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12\n(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)\n'}]",0,787394,86d357cdddb0862652460a94e8b2915a2cd5782c,15,6,2,25402,,,0,"Add haproxy prometheus/alertmanager endpoint for Ceph Dashboard

This change adds the prometheus and alertmanager endpoints which
are on the same grafana network and allow us to just use a single
vip to access the prometheus and alertmanager instances from the
ceph dashboard when enabled.
We already did it for grafana [1] and we would like to do the same
for prometheus and alertmanager.

[1] https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-dashboard/tasks/configure_dashboard.yml#L192

Change-Id: I0dbcde302a3abdfccc3dd996b1c238e25064dd12
(cherry picked from commit 92c76046a8da94375ce626226b7e3cefec879639)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/787394/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,fc05bf6ee772840028a550a7a746da4df927f004,ceph_dashboard_ha-stable/ussuri," ceph_prometheus_port => 9092, ceph_prometheus_ssl_port => 9092, ceph_alertmanager_port => 9093, ceph_alertmanager_ssl_port => 9093, ::tripleo::haproxy::endpoint { 'ceph_prometheus': internal_ip => hiera('ceph_grafana_vip', $controller_virtual_ip), service_port => $ports[ceph_prometheus_port], ip_addresses => hiera('ceph_grafana_node_ips', $controller_hosts_real), server_names => hiera('ceph_grafana_node_names', $controller_hosts_names_real), mode => 'http', public_ssl_port => $ports[ceph_prometheus_ssl_port], listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /metrics' ], 'balance' => 'source', }), service_network => $ceph_grafana_network, member_options => $haproxy_member_options, } ::tripleo::haproxy::endpoint { 'ceph_alertmanager': internal_ip => hiera('ceph_grafana_vip', $controller_virtual_ip), service_port => $ports[ceph_alertmanager_port], ip_addresses => hiera('ceph_grafana_node_ips', $controller_hosts_real), server_names => hiera('ceph_grafana_node_names', $controller_hosts_names_real), mode => 'http', public_ssl_port => $ports[ceph_alertmanager_ssl_port], listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ], 'balance' => 'source', }), service_network => $ceph_grafana_network, member_options => $haproxy_member_options, }",,32,0
openstack%2Ftacker~master~I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,openstack/tacker,master,I245cd2626fac1112d6a9fef3c51bf5ef6b679e05,Updated vnflcm api output with host-path,MERGED,2021-04-11 17:03:28.000000000,2021-04-26 08:20:57.000000000,2021-04-26 08:18:57.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}, {'_account_id': 32029}, {'_account_id': 32826}]","[{'number': 1, 'created': '2021-04-11 17:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3060a37fb2d8e48bc9b7f0da21c7bf151df1043e', 'message': '[WIP]Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}, {'number': 2, 'created': '2021-04-12 13:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f610fd5197d5529610bd6c91acf2e491d9e8e98d', 'message': 'Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}, {'number': 3, 'created': '2021-04-14 16:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e4fd49d594500b11b4ecdf9ef8f61ea43ffa1fad', 'message': 'Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}, {'number': 4, 'created': '2021-04-15 18:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c39d225916544b8fd22945e49eff425f2c4ad65d', 'message': 'Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}, {'number': 5, 'created': '2021-04-16 10:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c9f2d989ce07fd6d7f38e7561f802b7a602fa4cb', 'message': 'Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}, {'number': 6, 'created': '2021-04-24 15:18:36.000000000', 'files': ['tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/2c68a0a84d2a62598b9379529008c2ae1c849ca6', 'message': 'Updated vnflcm api output with host-path\n\nCurrently vnflcm api operations do not return host-path\nin their output inside \'_links\' href field.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\nThis patch updates \'_links\' href field in vnflcm api output\nwith host-path.\nFor ex,\n""_links"": {\n""self"": {\n""href"":\n    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""\n}\n}\n\n*here ""http://localhost:9890/"" is just an example of host-path.\n\nRelated operations:\n1. Creates a new VNF instance.\n2. Show VNF Instance.\n3. List VNF Instances.\n4. Show VNF LCM operation occurrence.\n5. List VNF LCM operation occurrences.\n\nCo-Authored-By: Navum Gupta <navum.gupta@india.nec.com>\n\nCloses-Bug: #1923360\nChange-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05\n'}]",4,785798,2c68a0a84d2a62598b9379529008c2ae1c849ca6,40,8,6,16308,,,0,"Updated vnflcm api output with host-path

Currently vnflcm api operations do not return host-path
in their output inside '_links' href field.
For ex,
""_links"": {
""self"": {
""href"":
    ""/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

This patch updates '_links' href field in vnflcm api output
with host-path.
For ex,
""_links"": {
""self"": {
""href"":
    ""http://localhost:9890/vnflcm/v1/vnf_instances/<vnf-instance>""
}
}

*here ""http://localhost:9890/"" is just an example of host-path.

Related operations:
1. Creates a new VNF instance.
2. Show VNF Instance.
3. List VNF Instances.
4. Show VNF LCM operation occurrence.
5. List VNF LCM operation occurrences.

Co-Authored-By: Navum Gupta <navum.gupta@india.nec.com>

Closes-Bug: #1923360
Change-Id: I245cd2626fac1112d6a9fef3c51bf5ef6b679e05
",git fetch https://review.opendev.org/openstack/tacker refs/changes/98/785798/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/conductor/conductor_server.py']",5,3060a37fb2d8e48bc9b7f0da21c7bf151df1043e,bug/1923360," return '{}vnflcm/v1/vnf_instances/{}'.format( CONF.vnf_lcm.endpoint_url, vnf_instance_id) return '{}vnflcm/v1/vnf_lcm_op_occs/{}'.format( CONF.vnf_lcm.endpoint_url, vnf_lcm_op_occs_id)", return '/vnflcm/v1/vnf_instances/%s' % vnf_instance_id return '/vnflcm/v1/vnf_lcm_op_occs/%s' % vnf_lcm_op_occs_id,52,45
openstack%2Fproject-config~master~Ic323a436bfc057a919ece48f578f6626f87ae03c,openstack/project-config,master,Ic323a436bfc057a919ece48f578f6626f87ae03c,Remove IRC bots from #ara,MERGED,2021-04-25 15:40:50.000000000,2021-04-26 08:15:21.000000000,2021-04-26 07:53:10.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-25 15:40:50.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/27056169a767b491c7233c752ddc22b75930653a', 'message': 'Remove IRC bots from #ara\n\nThe #ara channel no longer grants founder access to the\nopenstackinfra bot account, so we should not continue to operate our\nbots in it.\n\nChange-Id: Ic323a436bfc057a919ece48f578f6626f87ae03c\nDepends-on: https://review.opendev.org/787891\n'}]",0,787892,27056169a767b491c7233c752ddc22b75930653a,9,3,1,5263,,,0,"Remove IRC bots from #ara

The #ara channel no longer grants founder access to the
openstackinfra bot account, so we should not continue to operate our
bots in it.

Change-Id: Ic323a436bfc057a919ece48f578f6626f87ae03c
Depends-on: https://review.opendev.org/787891
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/787892/1 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,27056169a767b491c7233c752ddc22b75930653a,ara-irc,,ara: events: - patchset-created - change-merged projects: - recordsansible/ansible-role-ara - recordsansible/ara - recordsansible/ara-collection - recordsansible/ara-infra - recordsansible/ara-web branches: - master - stable/0.x ,0,15
openstack%2Fneutron~master~I16e2e331d2d50c879f57367c6c80a23f6b651cfe,openstack/neutron,master,I16e2e331d2d50c879f57367c6c80a23f6b651cfe,Allow SYSTEM_ADMIN to create floating IP for any project,ABANDONED,2021-04-12 11:40:31.000000000,2021-04-26 08:08:35.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 11:40:31.000000000', 'files': ['neutron/conf/policies/floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3d20b68e56e312108ed04329b6054211cdfe436', 'message': 'Allow SYSTEM_ADMIN to create floating IP for any project\n\nRelated-blueprint: bp/secure-rbac-roles\nChange-Id: I16e2e331d2d50c879f57367c6c80a23f6b651cfe\n'}]",2,785858,e3d20b68e56e312108ed04329b6054211cdfe436,15,3,1,11975,,,0,"Allow SYSTEM_ADMIN to create floating IP for any project

Related-blueprint: bp/secure-rbac-roles
Change-Id: I16e2e331d2d50c879f57367c6c80a23f6b651cfe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/785858/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/floatingip.py'],1,e3d20b68e56e312108ed04329b6054211cdfe436,secure-rbac," check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'],"," check_str=base.PROJECT_MEMBER, scope_types=['project'],",2,2
openstack%2Fproject-config~master~Ie649ee9373954bde98ece5d164cfa11fc961ffee,openstack/project-config,master,Ie649ee9373954bde98ece5d164cfa11fc961ffee,Make gerritbot linter know all the supported events,MERGED,2021-04-25 17:28:02.000000000,2021-04-26 07:53:14.000000000,2021-04-26 07:53:14.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 17:28:02.000000000', 'files': ['tools/irc_tests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/79c298f51de4ca428232fae43d3d807fec8a9bd0', 'message': 'Make gerritbot linter know all the supported events\n\nSo that it does not mark them as errors.\n\nChange-Id: Ie649ee9373954bde98ece5d164cfa11fc961ffee\n'}]",0,787894,79c298f51de4ca428232fae43d3d807fec8a9bd0,7,3,1,30491,,,0,"Make gerritbot linter know all the supported events

So that it does not mark them as errors.

Change-Id: Ie649ee9373954bde98ece5d164cfa11fc961ffee
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/787894/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/irc_tests.py'],1,79c298f51de4ca428232fae43d3d807fec8a9bd0,gerritbot-more-events," VALID_EVENTS = ( ""change-merged"", ""comment-added"", ""patchset-created"", ""ref-updated"", ""x-all-comments"", ""x-crvw-minus-2"", ""x-crvw-plus-2"", ""x-vrif-minus-2"", ""x-vrif-plus-2"", )"," VALID_EVENTS = (""change-merged"", ""comment-added"", ""patchset-created"", ""x-vrif-minus-2"")",11,2
openstack%2Fkolla-ansible~master~Iede747ceaafa54a00186761943fe2f4ac13f9559,openstack/kolla-ansible,master,Iede747ceaafa54a00186761943fe2f4ac13f9559,docs: Improve policy documentation,MERGED,2021-03-30 09:04:33.000000000,2021-04-26 07:48:09.000000000,2021-04-26 07:43:51.000000000,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-30 09:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a158056addd05d1e733395864488cd67750de811', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n'}, {'number': 2, 'created': '2021-04-19 09:39:55.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/030a9a28d74f98831cce2cd48c08e09102ae7cf0', 'message': 'docs: Improve policy documentation\n\nChange-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559\n'}]",5,783809,030a9a28d74f98831cce2cd48c08e09102ae7cf0,17,5,2,14826,,,0,"docs: Improve policy documentation

Change-Id: Iede747ceaafa54a00186761943fe2f4ac13f9559
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/783809/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,a158056addd05d1e733395864488cd67750de811,,"OpenStack policy customization ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack services allow customisation of policy. Since the Queens release, default policy configuration is defined within the source code for each service, meaning that operators only need to override rules they wish to change. Projects typically provide documentation on their default policy configuration, for example, :keystone-doc:`Keystone <configuration/policy>`. Policy can be customised via JSON or YAML files. As of the Wallaby release, the JSON format is deprecated in favour of YAML. One major benefit of YAML is that it allows for the use of comments. For example, to customise the Neutron policy in YAML format, the operator should add the customised rules in ``/etc/kolla/config/neutron/policy.yaml``. The operator can make these changes after services have been deployed by using following command: kolla-ansible deploy In order to present a user with the correct interface, Horizon includes policy for other services. Customisations made to those services may need to be replicated in Horizon. For example, to customise the Neutron policy for Horizon in YAML format, the operator should add the customised rules in ``/etc/kolla/config/horizon/neutron_policy.yaml``.","In case the operators want to customize ``policy.json`` file, they should create a full policy file for specific project in the same directory like above and Kolla will overwrite default policy file with it. Be aware, with some projects are keeping full policy file in source code, operators just need to copy it but with some others are defining default rules in codebase, they have to generate it. For example to overwrite ``policy.json`` file of Neutron project, the operator needs to grab ``policy.json`` from Neutron project source code, update rules and then put it to ``/etc/kolla/config/neutron/policy.json``. .. note:: Currently kolla-ansible only support JSON and YAML format for policy file. The operator can make these changes after services were already deployed by using following command: kolla-ansible reconfigure",21,14
openstack%2Fkayobe~master~I59a9d7ef2769dc630455c00dd507a740fcfa58ff,openstack/kayobe,master,I59a9d7ef2769dc630455c00dd507a740fcfa58ff,zuul: add more irrelevant files,MERGED,2021-03-30 09:21:16.000000000,2021-04-26 07:48:04.000000000,2021-04-26 07:44:09.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-30 09:21:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2f0bb96c9f20f5cd58090570f1d31fd6f8d716ee', 'message': 'zuul: add more irrelevant files\n\nzuul.d/* means we can change zuul config and not run all jobs. Zuul will\nrun jobs whose configuration has changed.\n\nChange-Id: I59a9d7ef2769dc630455c00dd507a740fcfa58ff\n'}]",0,783819,2f0bb96c9f20f5cd58090570f1d31fd6f8d716ee,8,3,1,14826,,,0,"zuul: add more irrelevant files

zuul.d/* means we can change zuul config and not run all jobs. Zuul will
run jobs whose configuration has changed.

Change-Id: I59a9d7ef2769dc630455c00dd507a740fcfa58ff
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/783819/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,2f0bb96c9f20f5cd58090570f1d31fd6f8d716ee,, - ^zuul.d/.* - ^zuul.d/.* - ^zuul.d/.* - ^test-requirements.txt - ^zuul.d/.*,,5,0
openstack%2Fkolla-ansible~master~Ie5e2ea2cab853b4f389c944863d9d2df542856ad,openstack/kolla-ansible,master,Ie5e2ea2cab853b4f389c944863d9d2df542856ad,Add global tag variables for Panko and Skydive,MERGED,2021-03-23 13:49:42.000000000,2021-04-26 07:46:24.000000000,2021-04-26 07:43:38.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-23 13:49:42.000000000', 'files': ['ansible/roles/panko/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa9ac3320f050fc90fb8bf695b2d4e86add4df0c', 'message': 'Add global tag variables for Panko and Skydive\n\nThis follows the pattern used in other roles.\n\nChange-Id: Ie5e2ea2cab853b4f389c944863d9d2df542856ad\n'}]",0,782525,aa9ac3320f050fc90fb8bf695b2d4e86add4df0c,12,6,1,15197,,,0,"Add global tag variables for Panko and Skydive

This follows the pattern used in other roles.

Change-Id: Ie5e2ea2cab853b4f389c944863d9d2df542856ad
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/782525/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/panko/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml']",2,aa9ac3320f050fc90fb8bf695b2d4e86add4df0c,image-tags,"skydive_tag: ""{{ openstack_tag }}"" skydive_analyzer_tag: ""{{ skydive_tag }}""skydive_agent_tag: ""{{ skydive_tag }}""","skydive_analyzer_tag: ""{{ openstack_tag }}""skydive_agent_tag: ""{{ openstack_tag }}""",7,3
openstack%2Fkayobe~master~I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,openstack/kayobe,master,I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2,Add release note for multiple environments,MERGED,2021-04-13 09:06:11.000000000,2021-04-26 07:25:54.000000000,2021-04-26 07:24:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-04-13 09:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18818f13ebc25b0e8cedc22ec0a91ae12f9929af', 'message': 'Add release note for multiple environments\n\nWarn in the documentation that it is an experimental feature.\n\nChange-Id: I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2\n'}, {'number': 2, 'created': '2021-04-22 07:22:15.000000000', 'files': ['releasenotes/notes/multiple-environments-2961e5ba017822dd.yaml', 'doc/source/multiple-environments.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/079704ab829d5a7cbdee78d463d0e814b121b920', 'message': 'Add release note for multiple environments\n\nWarn in the documentation that it is an experimental feature.\n\nChange-Id: I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2\n'}]",0,786023,079704ab829d5a7cbdee78d463d0e814b121b920,10,3,2,15197,,,0,"Add release note for multiple environments

Warn in the documentation that it is an experimental feature.

Change-Id: I46ea01ef9a3f6e322489e6d2a28f99d05656e0f2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/786023/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/multiple-environments-2961e5ba017822dd.yaml', 'doc/source/multiple-environments.rst']",2,18818f13ebc25b0e8cedc22ec0a91ae12f9929af,multiple-environments,.. warning:: Support for multiple Kayobe environments is considered experimental: its design may change in future versions without a deprecation period. ,,13,0
openstack%2Fnova~master~Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,openstack/nova,master,Ic408c80ad5dff4162ac8519b049ed7311c15fb5b,os-assisted-volume-snapshots: mention Hyper-V usage,ABANDONED,2021-04-21 16:15:24.000000000,2021-04-26 07:22:55.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 16:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/614f1a685f990ef161b021021df9e0f331581842', 'message': ""os-assisted-volume-snapshots: mention Hyper-V usage\n\nThe docs state that this API is only implemented by the libvirt\ndriver, but it's also used by the out of tree Hyper-V driver.\n\nWe're adding a note about Hyper-V, which will be useful as this\nAPI is about to become supersededed.\n\n[1] https://github.com/openstack/compute-hyperv/blob/12.0.0/compute_hyperv/nova/driver.py#L250-L253\n\nChange-Id: Ic408c80ad5dff4162ac8519b049ed7311c15fb5b\n""}, {'number': 2, 'created': '2021-04-21 16:20:01.000000000', 'files': ['api-ref/source/os-assisted-volume-snapshots.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/3022715f0e45eb973b68d7ae3b768c7893939bb5', 'message': ""os-assisted-volume-snapshots: mention Hyper-V usage\n\nThe docs state that this API is only implemented by the libvirt\ndriver, but it's also used by the out of tree Hyper-V driver.\n\nWe're adding a note about Hyper-V, which will be useful as this\nAPI is about to become supersededed.\n\n[1] https://github.com/openstack/compute-hyperv/blob/12.0.0/compute_hyperv/nova/driver.py#L250-L253\n\nChange-Id: Ic408c80ad5dff4162ac8519b049ed7311c15fb5b\n""}]",2,787415,3022715f0e45eb973b68d7ae3b768c7893939bb5,9,4,2,8543,,,0,"os-assisted-volume-snapshots: mention Hyper-V usage

The docs state that this API is only implemented by the libvirt
driver, but it's also used by the out of tree Hyper-V driver.

We're adding a note about Hyper-V, which will be useful as this
API is about to become supersededed.

[1] https://github.com/openstack/compute-hyperv/blob/12.0.0/compute_hyperv/nova/driver.py#L250-L253

Change-Id: Ic408c80ad5dff4162ac8519b049ed7311c15fb5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/787415/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-assisted-volume-snapshots.inc'],1,614f1a685f990ef161b021021df9e0f331581842,,file format is supported (vhd/x for Hyper-V). This API is implemented by the libvirt and Hyper-V compute driver.,file format is supported. This API is only implemented by the libvirt compute driver.,2,2
openstack%2Fneutron~stable%2Fvictoria~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,stable/victoria,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,ABANDONED,2021-04-26 06:28:00.000000000,2021-04-26 07:20:12.000000000,,[{'_account_id': 32667}],"[{'number': 1, 'created': '2021-04-26 06:28:00.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/728a5b2a9a3c70e36eb14e4594d196392a4692f1', 'message': 'Use exceptions and resources from neutron-lib\n\nExceptions and resources were released in neutron-lib 2.7.0\n\nChange-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e\n(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)\n'}]",0,787846,728a5b2a9a3c70e36eb14e4594d196392a4692f1,3,1,1,30858,,,0,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
(cherry picked from commit cd4d96a4f7c7e8430477402928f64e6ac8b657a7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/787846/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py']",2,728a5b2a9a3c70e36eb14e4594d196392a4692f1,fix_todo-stable/victoria,"<<<<<<< HEAD (e936f6 Merge ""Remove redundant _ensure_default_security_group"" into) ======= resources.ADDRESS_GROUP: address_group.AddressGroup, >>>>>>> CHANGE (cd4d96 Use exceptions and resources from neutron-lib)",,83,0
openstack%2Fdiskimage-builder~master~I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,openstack/diskimage-builder,master,I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda,dib-run-parts: stop leaving PROFILE_DIR behind,MERGED,2021-04-21 00:42:43.000000000,2021-04-26 07:03:04.000000000,2021-04-26 07:00:04.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-21 00:42:43.000000000', 'files': ['diskimage_builder/lib/dib-run-parts'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7c8e9f87330f96562ce74b37b598543462df774e', 'message': ""dib-run-parts: stop leaving PROFILE_DIR behind\n\nWhen a build fails, we can exit and leave ${PROFILE_DIR} behind.  Make\nsure this is cleaned up with an exit trap.\n\nWhile we're adding a function, update the syntax of the others for\nconsistency.\n\nChange-Id: I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda\n""}]",0,787303,7c8e9f87330f96562ce74b37b598543462df774e,40,4,1,7118,,,0,"dib-run-parts: stop leaving PROFILE_DIR behind

When a build fails, we can exit and leave ${PROFILE_DIR} behind.  Make
sure this is cleaned up with an exit trap.

While we're adding a function, update the syntax of the others for
consistency.

Change-Id: I14499b5ebaaa30126aaa6b3d1bd86ed64f110fda
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/787303/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/dib-run-parts'],1,7c8e9f87330f96562ce74b37b598543462df774e,profiledir-cleanup,function usage {function output_prefix {function output {function output_printf {function cleanup { rm -rf ${PROFILE_DIR} } function source_environment {trap cleanup EXIT,usage() {output_prefix() {output () {output_printf () {source_environment() {,10,5
openstack%2Fneutron~master~Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,openstack/neutron,master,Ic53f44ceb82c86ca72565ceda75a251339d5cc4e,Use exceptions and resources from neutron-lib,MERGED,2021-04-20 08:20:43.000000000,2021-04-26 05:51:27.000000000,2021-04-26 05:49:25.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-20 08:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51691dff770aed6d0350325afc58b5a38ca8fee2', 'message': 'Use exceptions and resources from neutron-lib\n\nExceptions and resources were released in neutron-lib 2.7.0\n\nChange-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e\n'}, {'number': 2, 'created': '2021-04-20 08:50:03.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd4d96a4f7c7e8430477402928f64e6ac8b657a7', 'message': 'Use exceptions and resources from neutron-lib\n\nExceptions and resources were released in neutron-lib 2.7.0\n\nChange-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e\n'}]",0,787152,cd4d96a4f7c7e8430477402928f64e6ac8b657a7,183,6,2,32667,,,0,"Use exceptions and resources from neutron-lib

Exceptions and resources were released in neutron-lib 2.7.0

Change-Id: Ic53f44ceb82c86ca72565ceda75a251339d5cc4e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/787152/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/address_group_db.py', 'neutron/plugins/ml2/ovo_rpc.py']",2,51691dff770aed6d0350325afc58b5a38ca8fee2,fix_todo," resources.ADDRESS_GROUP: address_group.AddressGroup,"," # TODO(mlavalle) Following line should be replaced by: # resources.ADDRESS_GROUP: address_group.AddressGroup, # when https://review.opendev.org/#/c/756927/ is released 'address_group': address_group.AddressGroup,",8,25
openstack%2Fswift~master~I7d5c19304a5c5f83558e91624de356caaf0ab4d5,openstack/swift,master,I7d5c19304a5c5f83558e91624de356caaf0ab4d5,auditors: Log and dump recon *before* sleeping,MERGED,2021-04-25 05:22:11.000000000,2021-04-26 05:51:20.000000000,2021-04-26 05:49:37.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 05:22:11.000000000', 'files': ['swift/common/db_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9d6006f6463c24404a8b80ed5535a1eff63d39ad', 'message': 'auditors: Log and dump recon *before* sleeping\n\nNo good reason to delay getting the info about a completed run out there.\n\nChange-Id: I7d5c19304a5c5f83558e91624de356caaf0ab4d5\n'}]",0,787868,9d6006f6463c24404a8b80ed5535a1eff63d39ad,8,2,1,15343,,,0,"auditors: Log and dump recon *before* sleeping

No good reason to delay getting the info about a completed run out there.

Change-Id: I7d5c19304a5c5f83558e91624de356caaf0ab4d5
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/787868/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/db_auditor.py'],1,9d6006f6463c24404a8b80ed5535a1eff63d39ad,, if elapsed < self.interval: time.sleep(self.interval - elapsed), if elapsed < self.interval: time.sleep(self.interval - elapsed),2,2
openstack%2Ftripleo-ansible~master~Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,openstack/tripleo-ansible,master,Ib69f8b5931e846ca012bee8a2bc24dc2a614e274,Use centos-8 stream for molecule jobs,MERGED,2021-04-21 17:17:02.000000000,2021-04-26 04:00:51.000000000,2021-04-26 03:57:51.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-21 17:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd876d2f06199dd070b8ef9f91ec6ba759236398', 'message': 'Use centos-8 stream for molecule jobs\n\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 2, 'created': '2021-04-21 20:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9c7602a1f1c214422543df8b64221e20c014dd9', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 3, 'created': '2021-04-21 20:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a102af381a86af0be45f4eaf3930c5208869e0c', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 4, 'created': '2021-04-22 13:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/840d2df7bed13807ee525244abfd43fc43454f3f', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 5, 'created': '2021-04-22 13:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/102197955e607f5d8ce380118d8d5ec3d7d5e8c9', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 6, 'created': '2021-04-22 14:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93ad554476c45c6e564e4d613c5054cc92e35d8e', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 7, 'created': '2021-04-22 16:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32b3ba2a785aecd862fc1857a9fccf7710ee8a00', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 8, 'created': '2021-04-23 20:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e0fa37a51dd28de3ce525062c0ccd0e72a31112', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 9, 'created': '2021-04-24 09:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1abcdfdafdca851ef678ce7206f12431658466cf', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 10, 'created': '2021-04-24 17:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a1bc87d0e4804649d02645b0f7360e6863566f2', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 11, 'created': '2021-04-24 19:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/435f65d3e1185c3651c708c45fdf8ee328a857cf', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi images\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 12, 'created': '2021-04-24 23:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68e3e1d6d1dbc514d1b482e489e92388857b5e3e', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi images\nMark 2 jobs unvoting to fix later.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 13, 'created': '2021-04-25 09:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2d8c58a45eb712700db9dc5a135b2bfa5532e92', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi images\nMark 2 jobs unvoting to fix later.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 14, 'created': '2021-04-25 10:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/149046d3546d6b390be4540578d3024cad85a217', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi images\nMark 2 jobs unvoting to fix later.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 15, 'created': '2021-04-25 18:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28d4f85f89bb272aa7a544b773d5d6ff527797e9', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi images\nMark 2 jobs unvoting to fix later.\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}, {'number': 16, 'created': '2021-04-25 20:56:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-edge-node/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/internal-tls/molecule.yml', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/defaults/main.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_metrics_qdr/molecule/controller-mesh-interior-node/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_container_image_build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/converge.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_client/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/designate_bind_config/molecule/default/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f9a141bf9f735927209c6683e6b222500afd816', 'message': 'Use centos-8 stream for molecule jobs\n\nSet containers module to 3.0.\nMount dnf vars for evaluating $stream var.\nSet --no-stream for ubi container images.\nMark 2 jobs unvoting to fix later.\n\nChange-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274\n'}]",0,787423,8f9a141bf9f735927209c6683e6b222500afd816,55,9,16,10969,,,0,"Use centos-8 stream for molecule jobs

Set containers module to 3.0.
Mount dnf vars for evaluating $stream var.
Set --no-stream for ubi container images.
Mark 2 jobs unvoting to fix later.

Change-Id: Ib69f8b5931e846ca012bee8a2bc24dc2a614e274
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/787423/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,dd876d2f06199dd070b8ef9f91ec6ba759236398,part12, nodeset: centos-8-stream, nodeset: centos-8,1,1
openstack%2Fswift~master~I47f895ab44d2be768b707ab772d66249a5bf0c83,openstack/swift,master,I47f895ab44d2be768b707ab772d66249a5bf0c83,Relinker: Log the number of child workers started,NEW,2021-04-26 00:15:29.000000000,2021-04-26 01:39:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 00:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/baa15898948e10a577665fdec45a58206655e48c', 'message': ""Relinker: Log the number of child workers started\n\nWhen the relinker is started with multiple workers. It wont always start\nwith whatever is passed into --workers. Because it can also depend on\nthe amount of disks.\n\nThis patch adds an extra log line for the number of workers which will\nbe emitted from the parent process after its started all the workers.\n\nIf there is only 1 device or workers is set to 0 or 1, no line is\nemitted as we don't start up worker processes.\n\nChange-Id: I47f895ab44d2be768b707ab772d66249a5bf0c83\n""}, {'number': 2, 'created': '2021-04-26 00:30:04.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f4951c6d4bfac701cc5597edc06c9e192a52946b', 'message': ""Relinker: Log the number of child workers started\n\nWhen the relinker is started with multiple workers. It wont always start\nwith whatever is passed into --workers. Because it can also depend on\nthe amount of disks.\n\nThis patch adds an extra log line for the number of workers which will\nbe emitted from the parent process after its started all the workers.\n\n  Number of workers started: <num> (<pid>, <pid>, ...)\n\nIf there is only 1 device or workers is set to 0 or 1, no line is\nemitted as we don't start up worker processes.\n\nChange-Id: I47f895ab44d2be768b707ab772d66249a5bf0c83\n""}]",1,787908,f4951c6d4bfac701cc5597edc06c9e192a52946b,4,1,2,7233,,,0,"Relinker: Log the number of child workers started

When the relinker is started with multiple workers. It wont always start
with whatever is passed into --workers. Because it can also depend on
the amount of disks.

This patch adds an extra log line for the number of workers which will
be emitted from the parent process after its started all the workers.

  Number of workers started: <num> (<pid>, <pid>, ...)

If there is only 1 device or workers is set to 0 or 1, no line is
emitted as we don't start up worker processes.

Change-Id: I47f895ab44d2be768b707ab772d66249a5bf0c83
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/787908/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,baa15898948e10a577665fdec45a58206655e48c,relinker_dump_num_procs_started," logger.info(""Number of workers started: %d"", len(children))",,9,1
openstack%2Fkolla-ansible~master~I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,openstack/kolla-ansible,master,I5c2bc45d4801e8a28ecd5922783ba7414672ce2a,Add tags for common tasks,ABANDONED,2021-02-25 13:48:58.000000000,2021-04-26 01:29:18.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 13:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/609b7b36b21fc9e8554ee641da2d8137255874eb', 'message': 'Add tags for common task\n\nthis chage adds two tags: register and bootstrap.\n1. register tag : service endpoint register.\n2. bootstrap tag : bootstrap container.\nwe can use --skip-tags to skip those tasks.\n\nChange-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a\n'}, {'number': 2, 'created': '2021-02-25 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0257bed809874d257454952773b6fde81a3c3fa3', 'message': 'Add tags for common tasks\n\nthis chage adds two tags: register and bootstrap.\n1. register tag : service endpoint register.\n2. bootstrap tag : bootstrap container.\nwe can use --skip-tags to skip those tasks.\n\nChange-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a\n'}, {'number': 3, 'created': '2021-03-09 07:17:34.000000000', 'files': ['ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/service-ks-register/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2718c2b5ac511b894f9c5e89a694a7f595c39b4', 'message': 'Add tags for common tasks\n\nthis chage adds two tags: register and bootstrap.\n1. register tag : service endpoint register.\n2. bootstrap tag : bootstrap container.\nwe can use --skip-tags to skip those tasks.\n\nChange-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a\n'}]",0,777592,a2718c2b5ac511b894f9c5e89a694a7f595c39b4,17,3,3,26285,,,0,"Add tags for common tasks

this chage adds two tags: register and bootstrap.
1. register tag : service endpoint register.
2. bootstrap tag : bootstrap container.
we can use --skip-tags to skip those tasks.

Change-Id: I5c2bc45d4801e8a28ecd5922783ba7414672ce2a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/777592/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/tasks/bootstrap_service.yml', 'ansible/roles/cinder/tasks/register.yml']",2,609b7b36b21fc9e8554ee641da2d8137255874eb,ADD_TAG, tags: register,,2,0
openstack%2Fdiskimage-builder~master~Ia197feea34f43bd870fed30829b740596e6b2f48,openstack/diskimage-builder,master,Ia197feea34f43bd870fed30829b740596e6b2f48,Ensure redhat efi packages are reinstalled during finalise,MERGED,2021-04-18 21:41:07.000000000,2021-04-26 01:09:16.000000000,2021-04-26 01:08:04.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-18 21:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8a55c2eb86315a6f4b46ab4f994077214f856bf0', 'message': 'Ensure redhat efi packages are reinstalled during finalise\n\nThe rhel-8.4 qcow2 base image already has the grub2-efi-x64 package\ninstalled on its single partition which has files installed to\n/boot/efi..., however a partitioned image will have an empty /boot/efi\npartition when running 50-bootloader. This means dnf will not install\ngrub2-efi-x64 when requested and /boot/efi will remain empty.\n\nThis commit makes the following changes:\n- Refactors redhat bootloader pkg-map for the following:\n  - Ensure x86_64/amd64, arm64/aarch64 never diverge\n  - Map grub-efi to packages installed to /usr\n  - Map grub-efi-{arch} to packages installed to /boot/efi\n- Deletes packages grub-efi-{arch} during the install phase\n- In 50-bootloader install both grub-efi and grub-efi-{arch}\n\nChange-Id: Ia197feea34f43bd870fed30829b740596e6b2f48\n'}, {'number': 2, 'created': '2021-04-20 22:58:46.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/yum/bin/install-packages'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5caeba0c684aa43f70edcecb0a1c45ba6f0fbb6f', 'message': ""Ensure redhat efi packages are reinstalled during finalise\n\nThe rhel-8.4 qcow2 base image already has the grub2-efi-x64 package\ninstalled on its single partition which has files installed to\n/boot/efi..., however a partitioned image will have an empty /boot/efi\npartition when running 50-bootloader. This means dnf will not install\ngrub2-efi-x64 when requested and /boot/efi will remain empty.\n\nThis commit makes the following changes:\n- Refactors redhat bootloader pkg-map for the following:\n  - Make x86_64/amd64, arm64/aarch64 adjancent so they don't diverge\n  - Map grub-efi to packages installed to /usr\n  - Map grub-efi-{arch} to packages installed to /boot/efi\n- Removes packages grub-efi-{arch} before installing grub-efi and\n  grub-efi-{arch}\n\nChange-Id: Ia197feea34f43bd870fed30829b740596e6b2f48\n""}]",0,786804,5caeba0c684aa43f70edcecb0a1c45ba6f0fbb6f,35,4,2,4571,,,0,"Ensure redhat efi packages are reinstalled during finalise

The rhel-8.4 qcow2 base image already has the grub2-efi-x64 package
installed on its single partition which has files installed to
/boot/efi..., however a partitioned image will have an empty /boot/efi
partition when running 50-bootloader. This means dnf will not install
grub2-efi-x64 when requested and /boot/efi will remain empty.

This commit makes the following changes:
- Refactors redhat bootloader pkg-map for the following:
  - Make x86_64/amd64, arm64/aarch64 adjancent so they don't diverge
  - Map grub-efi to packages installed to /usr
  - Map grub-efi-{arch} to packages installed to /boot/efi
- Removes packages grub-efi-{arch} before installing grub-efi and
  grub-efi-{arch}

Change-Id: Ia197feea34f43bd870fed30829b740596e6b2f48
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/04/786804/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/bootloader/package-installs.yaml']",3,8a55c2eb86315a6f4b46ab4f994077214f856bf0,grub-efi-arch,grub-efi-amd64: uninstall: true arch: amd64 grub-efi-arm64: uninstall: true arch: arm64 grub-efi-aarch64: uninstall: true arch: aarch64 grub-efi-x86_64: uninstall: true arch: x86_64 ,,19,7
openstack%2Fneutron~stable%2Fussuri~I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,openstack/neutron,stable/ussuri,I1bfe2a50b52502b5ab3631c016a617f7a9756cc6,Remove redundant _ensure_default_security_group,MERGED,2021-04-22 08:35:21.000000000,2021-04-25 23:42:57.000000000,2021-04-25 23:41:13.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 08:35:21.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c1266cba1ae590ce86cf30b4d35e32c85ecccc7', 'message': 'Remove redundant _ensure_default_security_group\n\n_ensure_default_security_group() is done in\n_ensure_default_security_group_handler [1] on each port BEFORE_CREATE\nevent. No need to ensure once again right after sending this event.\n\n[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894\n\nTrivialFix\n\nChange-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6\n(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)\n'}]",0,787483,8c1266cba1ae590ce86cf30b4d35e32c85ecccc7,48,4,1,32667,,,0,"Remove redundant _ensure_default_security_group

_ensure_default_security_group() is done in
_ensure_default_security_group_handler [1] on each port BEFORE_CREATE
event. No need to ensure once again right after sending this event.

[1] https://github.com/openstack/neutron/blob/084fa99874e882649aa6895941fa913b2b852868/neutron/db/securitygroups_db.py#L894

TrivialFix

Change-Id: I1bfe2a50b52502b5ab3631c016a617f7a9756cc6
(cherry picked from commit bdf1416958f79e8076397fcbf2fbbc920f964b37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/787483/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,8c1266cba1ae590ce86cf30b4d35e32c85ecccc7,def_sg_opt-stable/ussuri,," # NOTE(kevinbenton): triggered outside of transaction since it # emits 'AFTER' events if it creates. self._ensure_default_security_group(context, attrs['tenant_id'])",0,3
openstack%2Ftripleo-common~master~Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,openstack/tripleo-common,master,Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,Also catch keystoneauth1.exceptions.catalog.EndpointNotFound,MERGED,2021-04-21 02:16:44.000000000,2021-04-25 19:43:37.000000000,2021-04-25 19:42:30.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-21 02:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e37d1c4d294e8133436c052e7cb9c405147e23b', 'message': 'Also catch keystoneauth1.exceptions.catalog.EndpointNotFound\n\nWhen generating the ansible inventory and querying for neutron data,\nkeystoneauth1.exceptions.catalog.EndpointNotFound also needs to be\ncaught as an exception in the case that neutron is not installed.\n\nChange-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-04-22 18:52:28.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6e5fbcbad6febfc5de7d33311ae8d623d760f36', 'message': 'Also catch keystoneauth1.exceptions.catalog.EndpointNotFound\n\nWhen generating the ansible inventory and querying for heat or neutron\ndata, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be\ncaught as an exception in the case either service is not installed and\nthe endpoints do not exist.\n\nChange-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,787309,b6e5fbcbad6febfc5de7d33311ae8d623d760f36,19,4,2,7144,,,0,"Also catch keystoneauth1.exceptions.catalog.EndpointNotFound

When generating the ansible inventory and querying for heat or neutron
data, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be
caught as an exception in the case either service is not installed and
the endpoints do not exist.

Change-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/787309/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,3e37d1c4d294e8133436c052e7cb9c405147e23b,ephemeral-heat,"import keystoneauth1 except (openstack.connection.exceptions.EndpointNotFound, keystoneauth1.exceptions.catalog.EndpointNotFound):", except openstack.connection.exceptions.EndpointNotFound:,3,1
openstack%2Fpuppet-nova~master~Iee8f8557e8b38e6bed1a6b4519c39382784063da,openstack/puppet-nova,master,Iee8f8557e8b38e6bed1a6b4519c39382784063da,Add support for the long_rpc_timeout parameter,MERGED,2021-04-21 14:35:02.000000000,2021-04-25 17:32:44.000000000,2021-04-25 17:31:34.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5f3582a614ec1820f0f251413d8daa019ac7e1d7', 'message': 'Add support for the long_rpc_timeout parameter\n\nNow nova provides the additional long_rpc_timeout parmaeter in addition\nto the conventional rpc_response_timeout parameter, which defines\nrpc response timeout for potential long running tasks.\nThis introduces support for that parameter.\n\nChange-Id: Iee8f8557e8b38e6bed1a6b4519c39382784063da\n'}, {'number': 2, 'created': '2021-04-21 22:42:40.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/long_rpc_timeout-c7f3374055798971.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b1a3a7a2dbde79936ae6227b89df1a18061bf0e6', 'message': 'Add support for the long_rpc_timeout parameter\n\nNow nova provides the additional long_rpc_timeout parmaeter in addition\nto the conventional rpc_response_timeout parameter, which defines\nrpc response timeout for potential long running tasks.\nThis introduces support for that parameter.\n\nChange-Id: Iee8f8557e8b38e6bed1a6b4519c39382784063da\n'}]",0,787403,b1a3a7a2dbde79936ae6227b89df1a18061bf0e6,19,4,2,9816,,,0,"Add support for the long_rpc_timeout parameter

Now nova provides the additional long_rpc_timeout parmaeter in addition
to the conventional rpc_response_timeout parameter, which defines
rpc response timeout for potential long running tasks.
This introduces support for that parameter.

Change-Id: Iee8f8557e8b38e6bed1a6b4519c39382784063da
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/03/787403/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/long_rpc_timeout-c7f3374055798971.yaml']",3,5f3582a614ec1820f0f251413d8daa019ac7e1d7,long_rpc_timeout,--- features: - | Now the ``nova`` class supports the ``long_rpc_timeout`` parameter. ,,17,0
openstack%2Fneutron~stable%2Fussuri~I75db7c713a17a0f1b1b5aecc6eec93e636a71827,openstack/neutron,stable/ussuri,I75db7c713a17a0f1b1b5aecc6eec93e636a71827,Check for existence instead of fetching the whole net object,MERGED,2021-04-22 08:29:30.000000000,2021-04-25 14:34:03.000000000,2021-04-25 14:32:27.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26159}]","[{'number': 1, 'created': '2021-04-22 08:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a86ddcdb8e3764305173cd7aea9d617344eb2c38', 'message': 'Check for existence instead of fetching the whole net object\n\nThere is no need to fetch the whole net object\n(which leads to several heavy DB requests according\nto OSProfiler stats) when only need to check net existence\n\nThis speeds up port creation up to 15%\n\nCloses-Bug: #1917866\nChange-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827\n(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)\n'}, {'number': 2, 'created': '2021-04-22 08:31:40.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e4a8fbb0ee95239d1221726a559e40aaa290be5', 'message': 'Check for existence instead of fetching the whole net object\n\nThere is no need to fetch the whole net object\n(which leads to several heavy DB requests according\nto OSProfiler stats) when only need to check net existence\n\nThis speeds up port creation up to 15%\n\nCloses-Bug: #1917866\nChange-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827\n(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)\n'}]",0,787481,5e4a8fbb0ee95239d1221726a559e40aaa290be5,33,5,2,32667,,,0,"Check for existence instead of fetching the whole net object

There is no need to fetch the whole net object
(which leads to several heavy DB requests according
to OSProfiler stats) when only need to check net existence

This speeds up port creation up to 15%

Closes-Bug: #1917866
Change-Id: I75db7c713a17a0f1b1b5aecc6eec93e636a71827
(cherry picked from commit 4bb3c92917cdf19b18c7481786050241218e8df7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/787481/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/db/db_base_plugin_v2.py']",2,a86ddcdb8e3764305173cd7aea9d617344eb2c38,bug/1917866-stable/ussuri," if not self._network_exists(context, network_id): if not self._network_exists(context, network_id): raise exc.NetworkNotFound(net_id=network_id)"," if not network_obj.Network.objects_exist(context, id=network_id): self._get_network(context, network_id)",10,2
openstack%2Fcinder~master~Ie12ecf09c30b1b53228882ba252813cd87dfa251,openstack/cinder,master,Ie12ecf09c30b1b53228882ba252813cd87dfa251,setup.cfg: Replace dashes with underscores,MERGED,2021-04-20 16:35:37.000000000,2021-04-25 13:33:04.000000000,2021-04-21 02:31:31.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 16:35:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea7ae8e65598290c317717f290c9db09edd9daf4', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ie12ecf09c30b1b53228882ba252813cd87dfa251\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,787263,ea7ae8e65598290c317717f290c9db09edd9daf4,26,3,1,15334,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ie12ecf09c30b1b53228882ba252813cd87dfa251
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/787263/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ea7ae8e65598290c317717f290c9db09edd9daf4,bp/alembic-migration,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/cinder/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/cinder/latest/ python-requires = >=3.6,4,4
openstack%2Fpuppet-glance~master~Ib8c808ee1d7c7241eab994af327143a04c35950a,openstack/puppet-glance,master,Ib8c808ee1d7c7241eab994af327143a04c35950a,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:06:03.000000000,2021-04-25 13:12:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-19 21:06:03.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/46f4436559f623e09971e8fb317cf59ff1de3ec3', 'message': 'Update policy manifest to support setting new default policies\n\nChange-Id: Ib8c808ee1d7c7241eab994af327143a04c35950a\n'}]",0,781913,46f4436559f623e09971e8fb317cf59ff1de3ec3,4,1,1,5046,,,0,"Update policy manifest to support setting new default policies

Change-Id: Ib8c808ee1d7c7241eab994af327143a04c35950a
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/13/781913/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,46f4436559f623e09971e8fb317cf59ff1de3ec3,secure-rbac," # [*enforce_scope*] # (Optional) Whether or not to enforce scope when evaluating policies. # Defaults to $::os_service_default. # # [*enforce_new_defaults*] # (Optional) Whether or not to enforce new default policies. # Defaults to $::os_service_default. # # [*enforce_secure_rbac*] # (Optional) Whether or not to enforce secure RBAC policies. # Defaults to $::os_service_default. $enforce_scope = $::os_service_default, $enforce_new_defaults = $::os_service_default, $enforce_secure_rbac = $::os_service_default, oslo::policy { 'glance_api_config': enforce_scope = $enforce_scope enforce_new_defaults = $enforce_new_defaults enforce_secure_rbac = $enforce_secure_rbac policy_file => $policy_path }", oslo::policy { 'glance_api_config': policy_file => $policy_path },21,1
openstack%2Fpuppet-keystone~master~I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,openstack/puppet-keystone,master,I3b9eb259ac075e41f94e2fa56add0d03fb942f2a,Update policy manifest to support setting new defaults,ABANDONED,2021-03-19 20:09:38.000000000,2021-04-25 13:11:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-19 20:09:38.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/988712d595b99be76bfb0b4f96c6ecdf20dc57dd', 'message': 'Update policy manifest to support setting new defaults\n\nChange-Id: I3b9eb259ac075e41f94e2fa56add0d03fb942f2a\n'}]",0,781901,988712d595b99be76bfb0b4f96c6ecdf20dc57dd,4,1,1,5046,,,0,"Update policy manifest to support setting new defaults

Change-Id: I3b9eb259ac075e41f94e2fa56add0d03fb942f2a
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/01/781901/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,988712d595b99be76bfb0b4f96c6ecdf20dc57dd,secure-rbac,"# [*enforce_new_defaults*] # (Optional) Whether or not to enforce new default policies. # Defaults to $::os_service_default. # $enforce_new_defaults = $::os_service_default, enforce_new_defaults => $enforce_new_defaults,",,6,0
openstack%2Fpuppet-nova~master~I35d5f10995131105193e7d0beb8aa39070d5e91f,openstack/puppet-nova,master,I35d5f10995131105193e7d0beb8aa39070d5e91f,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 20:56:05.000000000,2021-04-25 13:11:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-19 20:56:05.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/737d3057aba72c967611be978598f0c30c7c16b0', 'message': 'Update policy manifest to support setting new default policies\n\nChange-Id: I35d5f10995131105193e7d0beb8aa39070d5e91f\n'}]",0,781910,737d3057aba72c967611be978598f0c30c7c16b0,4,1,1,5046,,,0,"Update policy manifest to support setting new default policies

Change-Id: I35d5f10995131105193e7d0beb8aa39070d5e91f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/10/781910/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,737d3057aba72c967611be978598f0c30c7c16b0,secure-rbac,"# [*enforce_scope*] # (Optional) Whether or not to enforce scope when evaluating policies. # Defaults to $::os_service_default. # # [*enforce_new_defaults*] # (Optional) Whether or not to enforce new default policies. # Defaults to $::os_service_default. # $enforce_scope = $::os_service_default, $enforce_new_defaults = $::os_service_default, oslo::policy { 'nova_config': enforce_scope => $enforce_scope enforce_new_defaults => $enforce_new_defaults policy_file => $policy_path }", oslo::policy { 'nova_config': policy_file => $policy_path },15,1
openstack%2Fpuppet-cinder~master~Id2fa564e51904aa29411c0aa6a337bfd97365a5d,openstack/puppet-cinder,master,Id2fa564e51904aa29411c0aa6a337bfd97365a5d,Update policy manifest to support setting new default policies,ABANDONED,2021-03-19 21:01:20.000000000,2021-04-25 13:11:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-19 21:01:20.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d25c9c06bc6472b3c27c3d552103d89697fc907d', 'message': 'Update policy manifest to support setting new default policies\n\nChange-Id: Id2fa564e51904aa29411c0aa6a337bfd97365a5d\n'}]",0,781912,d25c9c06bc6472b3c27c3d552103d89697fc907d,4,1,1,5046,,,0,"Update policy manifest to support setting new default policies

Change-Id: Id2fa564e51904aa29411c0aa6a337bfd97365a5d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/12/781912/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,d25c9c06bc6472b3c27c3d552103d89697fc907d,secure-rbac,"# [*enforce_scope*] # (Optional) Whether or not to enforce scope when evaluating policies. # Defaults to $::os_service_default. # # [*enforce_new_defaults*] # (Optional) Whether or not to enforce new default policies. # Defaults to $::os_service_default. # $enforce_scope = $::os_service_default, $enforce_new_defaults = $::os_service_default, oslo::policy { 'cinder_config': enforce_scope => $enforce_scope enforce_new_defaults => $enforce_new_defaults policy_file => $policy_path }", oslo::policy { 'cinder_config': policy_file => $policy_path },15,1
