id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fos-resource-classes~master~Ib4a8e8e1525433f96a61344c4e1ecea6ef5314dc,openstack/os-resource-classes,master,Ib4a8e8e1525433f96a61344c4e1ecea6ef5314dc,Fix hacking min version to 3.0.1,MERGED,2020-05-13 01:21:31.000000000,2021-03-10 22:22:21.000000000,2021-03-10 22:20:54.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 01:21:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/7779f6b02bb12544708dfe750a9de01722b52c5d', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ib4a8e8e1525433f96a61344c4e1ecea6ef5314dc\n'}]",0,727557,7779f6b02bb12544708dfe750a9de01722b52c5d,9,4,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Ib4a8e8e1525433f96a61344c4e1ecea6ef5314dc
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/57/727557/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7779f6b02bb12544708dfe750a9de01722b52c5d,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fpython-cinderclient~master~I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df,openstack/python-cinderclient,master,I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df,Bump API max version to 3.64,MERGED,2021-01-18 15:42:01.000000000,2021-03-10 22:05:50.000000000,2021-03-10 22:04:12.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-18 15:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/79522ed6e998ef35ed0b5dfa2bb2bdbafb08ee5a', 'message': 'Bump API max version\n\nBump MAX_VERSION to 3.63 to support including the encryption_key_id\nattribute in volume and backup details.\n\nImplements: blueprint include-encryption-key-id-in-details\nDepends-On: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\nChange-Id: I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df\n'}, {'number': 2, 'created': '2021-03-08 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4adbff617928164b3fbc793d27ee502bbc301e47', 'message': 'Bump API max version\n\nBump MAX_VERSION to 3.64 to support including the encryption_key_id\nattribute in volume and backup details.\n\nImplements: blueprint include-encryption-key-id-in-details\nDepends-On: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\nChange-Id: I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df\n'}, {'number': 3, 'created': '2021-03-10 00:37:20.000000000', 'files': ['cinderclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/da7a49f679d6310692be81a61cb7d6f29f86f7c1', 'message': 'Bump API max version to 3.64\n\nBump MAX_VERSION to 3.64 to support including the encryption_key_id\nattribute in volume and backup details.\n\nImplements: blueprint include-encryption-key-id-in-details\nDepends-On: I16f54e6722cdbcbad4af1eb0d30264b0039412fd\nChange-Id: I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df\n'}]",0,771236,da7a49f679d6310692be81a61cb7d6f29f86f7c1,19,5,3,21129,,,0,"Bump API max version to 3.64

Bump MAX_VERSION to 3.64 to support including the encryption_key_id
attribute in volume and backup details.

Implements: blueprint include-encryption-key-id-in-details
Depends-On: I16f54e6722cdbcbad4af1eb0d30264b0039412fd
Change-Id: I6e1f3ff62d4b7b9b8299f7bd73071c3c7856f6df
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/36/771236/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/api_versions.py'],1,79522ed6e998ef35ed0b5dfa2bb2bdbafb08ee5a,bp/include-encryption-key-id-in-details,"MAX_VERSION = ""3.63""","MAX_VERSION = ""3.62""",1,1
openstack%2Frequirements~master~I657d6f84a50252f0be45d4ecd01b1a397167f259,openstack/requirements,master,I657d6f84a50252f0be45d4ecd01b1a397167f259,update constraint for tempest to new release 26.1.0,MERGED,2021-03-10 09:45:30.000000000,2021-03-10 21:21:21.000000000,2021-03-10 21:19:51.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 09:45:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b0c30d1a12b87a4424ed4842486226b08cf7d3f0', 'message': 'update constraint for tempest to new release 26.1.0\n\nmeta: version: 26.1.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Change-Id: I691ceec1037712b3e01d52777c2dbb1432efde20\nmeta: release:Code-Review+1: Martin Kopec <mkopec@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Masayuki Igawa <masayuki@igawa.io>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I657d6f84a50252f0be45d4ecd01b1a397167f259\n'}]",0,779701,b0c30d1a12b87a4424ed4842486226b08cf7d3f0,10,4,1,11131,,,0,"update constraint for tempest to new release 26.1.0

meta: version: 26.1.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Change-Id: I691ceec1037712b3e01d52777c2dbb1432efde20
meta: release:Code-Review+1: Martin Kopec <mkopec@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Masayuki Igawa <masayuki@igawa.io>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I657d6f84a50252f0be45d4ecd01b1a397167f259
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/779701/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b0c30d1a12b87a4424ed4842486226b08cf7d3f0,new-release,tempest===26.1.0,tempest===26.0.0,1,1
openstack%2Fneutron~master~Ib3c6be059dc4f3e62a9c5d25588d44ed4a3df971,openstack/neutron,master,Ib3c6be059dc4f3e62a9c5d25588d44ed4a3df971,Update ci_scenario_jobs document,MERGED,2020-04-22 10:13:06.000000000,2021-03-10 21:20:16.000000000,2021-03-10 21:18:14.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-22 10:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/167c781720eaa76f5ad5b979c8aa8bb25016a573', 'message': 'Update ci_scenario_jobs document\n\nneutron-tempest-plugin single node scenario jobs were switched\nto use L3HA routers by default in [1] and this patch reflects that\nchange in our docs.\n\n[1] https://review.opendev.org/721805\n\nDepends-On: https://review.opendev.org/721805\nChange-Id: Ib3c6be059dc4f3e62a9c5d25588d44ed4a3df971\n'}, {'number': 2, 'created': '2021-03-09 08:15:32.000000000', 'files': ['doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d04b8d47972fcfb4b64278be0965c7d9b7fe547', 'message': 'Update ci_scenario_jobs document\n\nneutron-tempest-plugin single node scenario jobs were switched\nto use L3HA routers by default in [1] and this patch reflects that\nchange in our docs.\n\n[1] https://review.opendev.org/721805\n\nDepends-On: https://review.opendev.org/721805\nChange-Id: Ib3c6be059dc4f3e62a9c5d25588d44ed4a3df971\n'}]",0,721806,9d04b8d47972fcfb4b64278be0965c7d9b7fe547,18,7,2,11975,,,0,"Update ci_scenario_jobs document

neutron-tempest-plugin single node scenario jobs were switched
to use L3HA routers by default in [1] and this patch reflects that
change in our docs.

[1] https://review.opendev.org/721805

Depends-On: https://review.opendev.org/721805
Change-Id: Ib3c6be059dc4f3e62a9c5d25588d44ed4a3df971
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/721806/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing/ci_scenario_jobs.rst'],1,167c781720eaa76f5ad5b979c8aa8bb25016a573,bug/1874211, |neutron-tempest-plugin-scenario-linuxbridge |neutron_tempest_plugin.scenario | 3.6 | 1 | linuxbridge | iptables | ha | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | openvswitch | ha | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch-\ |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | iptables_hybrid | ha | False | False | False | Yes |, |neutron-tempest-plugin-scenario-linuxbridge |neutron_tempest_plugin.scenario | 3.6 | 1 | linuxbridge | iptables | legacy | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | False | Yes | |neutron-tempest-plugin-scenario-openvswitch-\ |neutron_tempest_plugin.scenario | 3.6 | 1 | openvswitch | iptables_hybrid | legacy | False | False | False | Yes |,3,3
openstack%2Fdevstack~stable%2Fvictoria~I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,openstack/devstack,stable/victoria,I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,Add a variable to configure the Tempest venv upper constraints,MERGED,2021-02-09 19:15:56.000000000,2021-03-10 21:20:10.000000000,2021-03-10 21:18:09.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-09 19:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/91eed434921864d2a270f63f34311f1e5fa0ec0f', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n""}, {'number': 2, 'created': '2021-02-11 00:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be35cadaa2a970dbe270a1001f4334c945c7d66a', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 322f9729aa2449cd26843915c49a7c54def24488)\n""}, {'number': 3, 'created': '2021-02-17 15:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fba1cd7b7c2a5b19c7e0d61f82754527558bdd20', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c5e60538a1e7d88a518ca74cb7ba733a9301c290)\n""}, {'number': 4, 'created': '2021-02-17 16:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e34e79035509fc82c1ab2fb8d82d01e857accc75', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c8a89930965f7f2293f2443d7224c00f031a4734)\n""}, {'number': 5, 'created': '2021-02-18 16:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9f919a393fb3d7d501174607a38abe371825e69a', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 6, 'created': '2021-02-18 16:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a270350bf94d9211adb7e4141606a3092da54070', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3639f724ade69f0601057b243041c49d17affa2d)\n""}, {'number': 7, 'created': '2021-02-20 20:08:09.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e4b708e255135fe72537b5d37520555248dec6e', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)\n""}]",0,774714,2e4b708e255135fe72537b5d37520555248dec6e,24,3,7,8556,,,0,"Add a variable to configure the Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches so using master upper constraints works fine but
when we need to use old Tempest in the below cases then master
upper constraints do not work and devstack will not be
able to install Tempest in vnenv:

- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

This commit adds a variable to set the compatible upper constraint
to use for Tempest's old version.

Few of the current failure which can be fixed by this new configurable var:
- networking-generic-switch-tempest-dlm-python2
  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556
- devstack-platform-xenial on stable/steinand stable/train
  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac

Change-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946
(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/774714/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,91eed434921864d2a270f63f34311f1e5fa0ec0f,standardize-tempest-tox-constraints,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-default},,23,3
openstack%2Fdevstack~stable%2Fussuri~I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,openstack/devstack,stable/ussuri,I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,Add a variable to configure the Tempest venv upper constraints,MERGED,2021-02-09 19:17:25.000000000,2021-03-10 21:11:32.000000000,2021-03-10 21:09:34.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-09 19:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/af35683c1639ca43dfb71994c07fcecdf5751097', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n""}, {'number': 2, 'created': '2021-02-11 00:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b23501457a042bdb9a4792b8604bbd1ac220e44', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 322f9729aa2449cd26843915c49a7c54def24488)\n(cherry picked from commit be35cadaa2a970dbe270a1001f4334c945c7d66a)\n""}, {'number': 3, 'created': '2021-02-17 15:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c7ef88e82953664d3e17975ad6a4b75e1dd18b16', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c5e60538a1e7d88a518ca74cb7ba733a9301c290)\n(cherry picked from commit fba1cd7b7c2a5b19c7e0d61f82754527558bdd20)\n""}, {'number': 4, 'created': '2021-02-17 16:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5732ee72e92b05bc95338096f3a6696247dfb346', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c8a89930965f7f2293f2443d7224c00f031a4734)\n(cherry picked from commit e34e79035509fc82c1ab2fb8d82d01e857accc75)\n""}, {'number': 5, 'created': '2021-02-18 17:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8d726e78cf16c1d4000d580fb86af0c719245dd3', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3639f724ade69f0601057b243041c49d17affa2d)\n(cherry picked from commit a270350bf94d9211adb7e4141606a3092da54070)\n""}, {'number': 6, 'created': '2021-02-20 20:10:11.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/74a136ac9820a9282f9d75178b4dea40256565c0', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)\n(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)\n""}]",0,774715,74a136ac9820a9282f9d75178b4dea40256565c0,21,3,6,8556,,,0,"Add a variable to configure the Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches so using master upper constraints works fine but
when we need to use old Tempest in the below cases then master
upper constraints do not work and devstack will not be
able to install Tempest in vnenv:

- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

This commit adds a variable to set the compatible upper constraint
to use for Tempest's old version.

Few of the current failure which can be fixed by this new configurable var:
- networking-generic-switch-tempest-dlm-python2
  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556
- devstack-platform-xenial on stable/steinand stable/train
  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac

Change-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946
(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)
(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/774715/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,af35683c1639ca43dfb71994c07fcecdf5751097,standardize-tempest-tox-constraints,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-default},,23,3
openstack%2Fdevstack~stable%2Fstein~I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,openstack/devstack,stable/stein,I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,Add a variable to configure the Tempest venv upper constraints,MERGED,2021-02-11 00:44:23.000000000,2021-03-10 21:11:06.000000000,2021-03-10 21:09:30.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-11 00:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0c6b97898e7ddf6bdc6346ad945a55da0e4ee18', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 322f9729aa2449cd26843915c49a7c54def24488)\n(cherry picked from commit be35cadaa2a970dbe270a1001f4334c945c7d66a)\n(cherry picked from commit 8b23501457a042bdb9a4792b8604bbd1ac220e44)\n(cherry picked from commit 16d292b342259ae002646be045b2d354a20e0053)\n""}, {'number': 2, 'created': '2021-02-17 15:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ad2832ba1937f89e7ed6ae9ff4b9b7c27206f47', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\n Conflicts: (due to https://review.opendev.org/c/openstack/devstack/+/774103)\n       lib/tempest\n       stackrc\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c5e60538a1e7d88a518ca74cb7ba733a9301c290)\n(cherry picked from commit fba1cd7b7c2a5b19c7e0d61f82754527558bdd20)\n(cherry picked from commit c7ef88e82953664d3e17975ad6a4b75e1dd18b16)\n(cherry picked from commit b27b1d29afaaf1a6196ed98b8b6165b4097c0e92)\n""}, {'number': 3, 'created': '2021-02-17 16:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1501e0c980841d653d00e2e8cfd27dfff8a37957', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\n Conflicts: (due to https://review.opendev.org/c/openstack/devstack/+/774103)\n       lib/tempest\n       stackrc\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c8a89930965f7f2293f2443d7224c00f031a4734)\n(cherry picked from commit e34e79035509fc82c1ab2fb8d82d01e857accc75)\n(cherry picked from commit 5732ee72e92b05bc95338096f3a6696247dfb346)\n(cherry picked from commit c217721b518051a227e05374abc4f77b114fabe3)\n""}, {'number': 4, 'created': '2021-02-18 17:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26c6621d7dcca3762f8daf9635c6ac3b4b3da4b8', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\n Conflicts: (due to https://review.opendev.org/c/openstack/devstack/+/774103)\n       lib/tempest\n       stackrc\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3639f724ade69f0601057b243041c49d17affa2d)\n(cherry picked from commit a270350bf94d9211adb7e4141606a3092da54070)\n(cherry picked from commit 8d726e78cf16c1d4000d580fb86af0c719245dd3)\n(cherry picked from commit 82fc22b409036f2dd7a044ca67bc9194dacd1ecf)\n""}, {'number': 5, 'created': '2021-02-20 22:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/75fe5e482d376c91b2ccb53a245f7dd7e5c3d3ff', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\n Conflicts:\n       lib/tempest\n       stackrc\nDue to https://review.opendev.org/c/openstack/devstack/+/774103 and to use\nthe stable constraints.\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)\n(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)\n(cherry picked from commit 74a136ac9820a9282f9d75178b4dea40256565c0)\n(cherry picked from commit 3c92daf73491cfeb77c978eb73c3a78ce0ce7bae)\n""}, {'number': 6, 'created': '2021-02-24 14:44:45.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/86875391752180875c730c62ce100f8a428b5f00', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\n Conflicts:\n       lib/tempest\n       stackrc\nDue to https://review.opendev.org/c/openstack/devstack/+/774103 and to use\nthe stable constraints.\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)\n(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)\n(cherry picked from commit 74a136ac9820a9282f9d75178b4dea40256565c0)\n(cherry picked from commit 3c92daf73491cfeb77c978eb73c3a78ce0ce7bae)\n""}]",0,775052,86875391752180875c730c62ce100f8a428b5f00,20,3,6,8556,,,0,"Add a variable to configure the Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches so using master upper constraints works fine but
when we need to use old Tempest in the below cases then master
upper constraints do not work and devstack will not be
able to install Tempest in vnenv:

- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

This commit adds a variable to set the compatible upper constraint
to use for Tempest's old version.

Few of the current failure which can be fixed by this new configurable var:
- networking-generic-switch-tempest-dlm-python2
  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556
- devstack-platform-xenial on stable/steinand stable/train
  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac

 Conflicts:
       lib/tempest
       stackrc
Due to https://review.opendev.org/c/openstack/devstack/+/774103 and to use
the stable constraints.

Change-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946
(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)
(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)
(cherry picked from commit 74a136ac9820a9282f9d75178b4dea40256565c0)
(cherry picked from commit 3c92daf73491cfeb77c978eb73c3a78ce0ce7bae)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/775052/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,a0c6b97898e7ddf6bdc6346ad945a55da0e4ee18,standardize-tempest-tox-constraints,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-default},,31,5
openstack%2Fdevstack~stable%2Ftrain~I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,openstack/devstack,stable/train,I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,Add a variable to configure the Tempest venv upper constraints,MERGED,2021-02-09 19:25:32.000000000,2021-03-10 21:10:59.000000000,2021-03-10 21:09:09.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-09 19:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/69c037767918b56eae34974f710fdd8b255b4e17', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n(cherry picked from commit af35683c1639ca43dfb71994c07fcecdf5751097)\n""}, {'number': 2, 'created': '2021-02-09 19:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/112b6c9965265cd867d768d3f145be4c659ba10b', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n(cherry picked from commit af35683c1639ca43dfb71994c07fcecdf5751097)\n""}, {'number': 3, 'created': '2021-02-10 00:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38cd7ddae05eb794fef0582ac429153b8fb84b55', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n(cherry picked from commit af35683c1639ca43dfb71994c07fcecdf5751097)\n""}, {'number': 4, 'created': '2021-02-10 01:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/647288feb23a96218b55a6f41c8c448f78c71f52', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n(cherry picked from commit af35683c1639ca43dfb71994c07fcecdf5751097)\n""}, {'number': 5, 'created': '2021-02-10 03:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/59973f367d910228041029c3fe986750de5b9790', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 1adcdf63aae218e69e0c62d8a312255fd3eb4908)\n(cherry picked from commit 91eed434921864d2a270f63f34311f1e5fa0ec0f)\n(cherry picked from commit af35683c1639ca43dfb71994c07fcecdf5751097)\n""}, {'number': 6, 'created': '2021-02-11 00:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/16d292b342259ae002646be045b2d354a20e0053', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 322f9729aa2449cd26843915c49a7c54def24488)\n(cherry picked from commit be35cadaa2a970dbe270a1001f4334c945c7d66a)\n(cherry picked from commit 8b23501457a042bdb9a4792b8604bbd1ac220e44)\n""}, {'number': 7, 'created': '2021-02-17 15:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b27b1d29afaaf1a6196ed98b8b6165b4097c0e92', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c5e60538a1e7d88a518ca74cb7ba733a9301c290)\n(cherry picked from commit fba1cd7b7c2a5b19c7e0d61f82754527558bdd20)\n(cherry picked from commit c7ef88e82953664d3e17975ad6a4b75e1dd18b16)\n""}, {'number': 8, 'created': '2021-02-17 16:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c217721b518051a227e05374abc4f77b114fabe3', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit c8a89930965f7f2293f2443d7224c00f031a4734)\n(cherry picked from commit e34e79035509fc82c1ab2fb8d82d01e857accc75)\n(cherry picked from commit 5732ee72e92b05bc95338096f3a6696247dfb346)\n""}, {'number': 9, 'created': '2021-02-18 17:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/82fc22b409036f2dd7a044ca67bc9194dacd1ecf', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3639f724ade69f0601057b243041c49d17affa2d)\n(cherry picked from commit a270350bf94d9211adb7e4141606a3092da54070)\n(cherry picked from commit 8d726e78cf16c1d4000d580fb86af0c719245dd3)\n""}, {'number': 10, 'created': '2021-02-20 20:12:54.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c92daf73491cfeb77c978eb73c3a78ce0ce7bae', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)\n(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)\n(cherry picked from commit 74a136ac9820a9282f9d75178b4dea40256565c0)\n""}]",0,774716,3c92daf73491cfeb77c978eb73c3a78ce0ce7bae,26,4,10,8556,,,0,"Add a variable to configure the Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches so using master upper constraints works fine but
when we need to use old Tempest in the below cases then master
upper constraints do not work and devstack will not be
able to install Tempest in vnenv:

- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

This commit adds a variable to set the compatible upper constraint
to use for Tempest's old version.

Few of the current failure which can be fixed by this new configurable var:
- networking-generic-switch-tempest-dlm-python2
  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556
- devstack-platform-xenial on stable/steinand stable/train
  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac

Change-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946
(cherry picked from commit 3bdc8f66ad243f7487ba494e6a71f63c4965413a)
(cherry picked from commit 2e4b708e255135fe72537b5d37520555248dec6e)
(cherry picked from commit 74a136ac9820a9282f9d75178b4dea40256565c0)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/774716/10 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,69c037767918b56eae34974f710fdd8b255b4e17,standardize-tempest-tox-constraints,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-default},,34,3
openstack%2Fswift~master~I6ae9ec15986a76d0aadddc696bafcc48b5c1d8a8,openstack/swift,master,I6ae9ec15986a76d0aadddc696bafcc48b5c1d8a8,relinker: make cleanup checks more robust,ABANDONED,2021-03-09 19:15:37.000000000,2021-03-10 21:06:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-09 19:15:37.000000000', 'files': ['swift/common/utils.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8905365d0de8991506ec2c6bad0da47b72898c7a', 'message': 'relinker: make cleanup checks more robust\n\nChange-Id: I6ae9ec15986a76d0aadddc696bafcc48b5c1d8a8\n'}]",4,779565,8905365d0de8991506ec2c6bad0da47b72898c7a,5,1,1,7847,,,0,"relinker: make cleanup checks more robust

Change-Id: I6ae9ec15986a76d0aadddc696bafcc48b5c1d8a8
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/779565/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'swift/obj/diskfile.py']",4,8905365d0de8991506ec2c6bad0da47b72898c7a,p-relinker-refactor," :param datadir: directory name files are from; this is used to construct file paths in the results, but the datadir is not modified by this method.", :param datadir: directory name files are from.,207,127
openstack%2Fbarbican~stable%2Ftrain~Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,openstack/barbican,stable/train,Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,Use system locks in pkcs11 library,MERGED,2021-03-08 18:05:12.000000000,2021-03-10 20:30:25.000000000,2021-03-10 20:28:16.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 18:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/70bd2ebe42171e3166ac64fa96af88d8d5358c35', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)\n(cherry picked from commit 87822c14cbba2e712750ecb9c4157b0ae39f69fb)\n'}, {'number': 2, 'created': '2021-03-08 20:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5a7e70a5740e1f0b1c462af92e20078b183c5b44', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)\n(cherry picked from commit 87822c14cbba2e712750ecb9c4157b0ae39f69fb)\n'}, {'number': 3, 'created': '2021-03-08 22:10:25.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e5c7108f4d2307562c9232b9e43beacdbb907d0f', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)\n(cherry picked from commit 87822c14cbba2e712750ecb9c4157b0ae39f69fb)\n'}]",0,779316,e5c7108f4d2307562c9232b9e43beacdbb907d0f,17,2,3,7973,,,0,"Use system locks in pkcs11 library

This patch adds a new option to the PKCS#11 backend: `os_locking_ok`.
When set to true, the flag CKF_OS_LOCKING_OK is passed to the
C_Initialize function for the client library.

Change-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0
(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)
(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)
(cherry picked from commit 87822c14cbba2e712750ecb9c4157b0ae39f69fb)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/16/779316/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py']",3,70bd2ebe42171e3166ac64fa96af88d8d5358c35,pkcs11-os-locking-stable/victoria-stable/ussuri-stable/train,"CKF_OS_LOCKING_OK = 0x02 typedef void * CK_VOID_PTR; typedef CK_VOID_PTR * CK_VOID_PTR_PTR; typedef CK_RV (*CK_CREATEMUTEX)(CK_VOID_PTR_PTR); typedef CK_RV (*CK_DESTROYMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_LOCKMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_UNLOCKMUTEX)(CK_VOID_PTR); typedef struct CK_C_INITIALIZE_ARGS { CK_CREATEMUTEX CreateMutex; CK_DESTROYMUTEX DestroyMutex; CK_LOCKMUTEX LockMutex; CK_UNLOCKMUTEX UnlockMutex; CK_FLAGS flags; CK_VOID_PTR pReserved; } CK_C_INITIALIZE_ARGS; token_label=None, os_locking_ok=False): if os_locking_ok: init_arg_pt = self.ffi.new(""CK_C_INITIALIZE_ARGS *"") init_arg_pt.flags = CKF_OS_LOCKING_OK else: init_arg_pt = self.ffi.NULL rv = self.lib.C_Initialize(init_arg_pt) token = Token( ) LOG.debug(""Slot %s: label: %s sn: %s"", token.slot_id, token.label, token.serial_number) tokens.append(token)", token_label=None): rv = self.lib.C_Initialize(self.ffi.NULL) tokens.append(Token( )),46,5
openstack%2Fnova~master~Iaf48399a21f31f4e0e1730b6eca3cf2accd44780,openstack/nova,master,Iaf48399a21f31f4e0e1730b6eca3cf2accd44780,libvirt: Add missing type hints,MERGED,2021-02-15 18:33:44.000000000,2021-03-10 20:19:53.000000000,2021-03-10 20:13:12.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7c9829ddcb1b1155d617772014d6eff8b7a6ec9', 'message': 'libvirt: Add missing hints\n\nChange-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d75f126669decad5ab458f119a4feae62faba5de', 'message': 'libvirt: Add missing type hints\n\nCollected on my journey through these modules.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-02-20 15:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd702ec5ed0f9125772d80cc0bce1cfb52d5bce1', 'message': 'libvirt: Add missing type hints\n\nCollected on my journey through these modules.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2021-03-05 16:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4fdf755a1171570f63210801538f985d0f16e65', 'message': 'libvirt: Add missing type hints\n\nCollected on my journey through these modules.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2021-03-08 17:06:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/141f3e7d4f68577a56c7233ba159671ac0064fd4', 'message': 'libvirt: Add missing type hints\n\nCollected on my journey through these modules.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,775688,141f3e7d4f68577a56c7233ba159671ac0064fd4,51,3,5,15334,,,0,"libvirt: Add missing type hints

Collected on my journey through these modules.

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Iaf48399a21f31f4e0e1730b6eca3cf2accd44780
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/775688/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/host.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,b7c9829ddcb1b1155d617772014d6eff8b7a6ec9,bp/allow-secure-boot-for-qemu-kvm-guests,, self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support() self.driver._host._set_amd_sev_support(),14,23
openstack%2Fnova~master~Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963,openstack/nova,master,Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963,"libvirt: Stop passing around virt_type, caps",MERGED,2021-02-15 18:33:44.000000000,2021-03-10 20:17:29.000000000,2021-03-10 20:12:47.000000000,"[{'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92f12cb719f003a3ff9662b3f939597600cfee7f', 'message': ""libvirt: Stop passing around virt_type, caps\n\nThe 'virt_type' is always going to be accessible from config, while the\n'caps' is accessible from (cached) instance information. There's no need\nto pass these things around.\n\nChange-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e281ab222f4f642bf6c81441c9fce50f22443437', 'message': ""libvirt: Stop passing around virt_type, caps\n\nThe 'virt_type' is always going to be accessible from config, while the\n'caps' is accessible from (cached) instance information. There's no need\nto pass these things around.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-20 15:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/745e21b1fc6e1635c7b358f02c9c78fe4096a0b4', 'message': ""libvirt: Stop passing around virt_type, caps\n\nThe 'virt_type' is always going to be accessible from config, while the\n'caps' is accessible from (cached) instance information. There's no need\nto pass these things around.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-03-05 16:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3efd800ca5f9689f8e33516aee28bc9471d6f253', 'message': ""libvirt: Stop passing around virt_type, caps\n\nThe 'virt_type' is always going to be accessible from config, while the\n'caps' is accessible from (cached) instance information. There's no need\nto pass these things around.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-08 17:06:18.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/94d16e7c772b022dce85bb55c028b4956d11e924', 'message': ""libvirt: Stop passing around virt_type, caps\n\nThe 'virt_type' is always going to be accessible from config, while the\n'caps' is accessible from (cached) instance information. There's no need\nto pass these things around.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",8,775689,94d16e7c772b022dce85bb55c028b4956d11e924,50,3,5,15334,,,0,"libvirt: Stop passing around virt_type, caps

The 'virt_type' is always going to be accessible from config, while the
'caps' is accessible from (cached) instance information. There's no need
to pass these things around.

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Ieeca47ab38c3c9d81814d2f58e5548ae9f3a3963
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/775689/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,92f12cb719f003a3ff9662b3f939597600cfee7f,bp/allow-secure-boot-for-qemu-kvm-guests," drvr._create_consoles( guest_cfg=guest, instance=instance, flavor={}, image_meta={}) guest, instance, flavor, image_meta) drvr._create_consoles(guest, instance, flavor, image_meta) drvr._create_consoles(guest, instance, flavor, image_meta) self.flags(virt_type=virt_type, group='libvirt') drvr._create_consoles( guest_cfg, instance=instance, flavor=None, image_meta=None) drvr._update_guest_cputune, {}, instance_ref.flavor)"," drvr._create_consoles(virt_type=""kvm"", guest_cfg=guest, instance=instance, flavor={}, image_meta={}) ""kvm"", guest, instance, flavor, image_meta) drvr._create_consoles(""kvm"", guest, instance, flavor, image_meta) drvr._create_consoles(""kvm"", guest, instance, flavor, image_meta) drvr._create_consoles(virt_type, guest_cfg, instance=instance, flavor=None, image_meta=None) drvr._update_guest_cputune, {}, instance_ref.flavor, ""kvm"")",147,117
openstack%2Fglance~master~I509f042648cc0e437b26cf9bf5008c43038ad047,openstack/glance,master,I509f042648cc0e437b26cf9bf5008c43038ad047,Wallaby milestone 3 release notes,MERGED,2021-03-09 10:04:34.000000000,2021-03-10 20:17:01.000000000,2021-03-10 20:13:47.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 10:04:34.000000000', 'files': ['releasenotes/notes/wallaby-m3-releasenotes-bdc9fe6938aba8cc.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/9c691b5560a0eb2c78a55e6088adb94593f5fcf8', 'message': 'Wallaby milestone 3 release notes\n\nChange-Id: I509f042648cc0e437b26cf9bf5008c43038ad047\n'}]",0,779452,9c691b5560a0eb2c78a55e6088adb94593f5fcf8,12,5,1,9303,,,0,"Wallaby milestone 3 release notes

Change-Id: I509f042648cc0e437b26cf9bf5008c43038ad047
",git fetch https://review.opendev.org/openstack/glance refs/changes/52/779452/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/wallaby-m3-releasenotes-bdc9fe6938aba8cc.yaml'],1,9c691b5560a0eb2c78a55e6088adb94593f5fcf8,glance-wallaby,--- fixes: - | Bug 1913625_: Glance will leak staging data - | Bug 1914826_: web-download with invalid url does not report error - | Bug 1916011_: test_migrate_image_after_upgrade failing because of glance cinder store change .. _1913625: https://code.launchpad.net/bugs/1913625 .. _1914826: https://code.launchpad.net/bugs/1914826 .. _1916011: https://code.launchpad.net/bugs/1916011 ,,12,0
openstack%2Fpython-cinderclient~master~I24398d481002f30754368ac601ff3ac304f3fb82,openstack/python-cinderclient,master,I24398d481002f30754368ac601ff3ac304f3fb82,Doc: Functional Tests in python-cinderclient,MERGED,2020-12-17 12:04:36.000000000,2021-03-10 20:09:11.000000000,2021-03-10 20:07:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-12-17 12:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/499b44a637b3245f4bb7a393759a65d3fa734b78', 'message': 'Doc: Functional Tests in python-cinderclient\n\nOpenStack CI jobs are no longer run using Jenkins.\nostestr command is deprecated.\n\nCloses-bug: #1866376\nChange-Id: I24398d481002f30754368ac601ff3ac304f3fb82\n'}, {'number': 2, 'created': '2021-02-03 16:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8fbe1e974ea1ff4820b36405b5bffd55dbee4d44', 'message': 'Doc: Functional Tests in python-cinderclient\n\nOpenStack CI jobs are no longer run using Jenkins.\nostestr command is deprecated.\n\nCloses-bug: #1866376\nChange-Id: I24398d481002f30754368ac601ff3ac304f3fb82\n'}, {'number': 3, 'created': '2021-02-22 07:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/30754a312da7504422d4040e5a67617eec12d2f5', 'message': 'Doc: Functional Tests in python-cinderclient\n\nostestr command is deprecated.\n\nCloses-bug: #1866376\nChange-Id: I24398d481002f30754368ac601ff3ac304f3fb82\n'}, {'number': 4, 'created': '2021-02-23 16:06:31.000000000', 'files': ['doc/source/contributor/functional_tests.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8ea4f1379dab8ffb6b9a00f5af9aca1e43e2a1e9', 'message': 'Doc: Functional Tests in python-cinderclient\n\nostestr command is deprecated.\n\nCloses-bug: #1866376\nChange-Id: I24398d481002f30754368ac601ff3ac304f3fb82\n'}]",2,767520,8ea4f1379dab8ffb6b9a00f5af9aca1e43e2a1e9,21,6,4,30615,,,0,"Doc: Functional Tests in python-cinderclient

ostestr command is deprecated.

Closes-bug: #1866376
Change-Id: I24398d481002f30754368ac601ff3ac304f3fb82
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/20/767520/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/functional_tests.rst'],1,499b44a637b3245f4bb7a393759a65d3fa734b78,bug/1866376,"These are currently non-voting.however, that these tests are investigated in the case of a failure.Run the tests using tox, via the tox.ini file. To run all","These are currently non-voting, meaning that Jenkins will not reject a patched based on failure of the functional tests. It is highly recommended, however, that these tests are investigated in the case of a failure.Run the tests using tox, which calls ostestr via the tox.ini file. To run all",3,4
openstack%2Fcharm-deployment-guide~master~I47cd08886ce822929740a064d1a472aa9d40c5b7,openstack/charm-deployment-guide,master,I47cd08886ce822929740a064d1a472aa9d40c5b7,Improve documentation on data-port functionality,MERGED,2021-03-09 18:41:33.000000000,2021-03-10 20:07:16.000000000,2021-03-10 20:05:26.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-09 18:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/eee679891a83f67487c8073f196a83078ed046c6', 'message': 'Improve documentation on data-port functionality\n\nUpdate docs to clarify that manual removing of previous\nvalues are required if the config changes.\n\nChange-Id: I47cd08886ce822929740a064d1a472aa9d40c5b7\nRelated-bug: #1915967\n'}, {'number': 2, 'created': '2021-03-10 19:39:10.000000000', 'files': ['deploy-guide/source/app-bridge-interface-configuration.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b317fa9885647661c650d124b7eee84f710641b2', 'message': 'Improve documentation on data-port functionality\n\nUpdate docs to clarify that manual removing of previous\nvalues are required if the config changes.\n\nChange-Id: I47cd08886ce822929740a064d1a472aa9d40c5b7\nRelated-bug: #1915967\n'}]",3,779557,b317fa9885647661c650d124b7eee84f710641b2,12,2,2,14567,,,0,"Improve documentation on data-port functionality

Update docs to clarify that manual removing of previous
values are required if the config changes.

Change-Id: I47cd08886ce822929740a064d1a472aa9d40c5b7
Related-bug: #1915967
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/57/779557/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-bridge-interface-configuration.rst'],1,eee679891a83f67487c8073f196a83078ed046c6,bug/1915967,"Upon setting the ``data-port`` config (in the format ``<bridge_name>:<port_mac_or_name>``, the charm will add the specified port to the specified bridge. If on a future occasion the bridge or port value of ``data-port`` config changes, the previously specified ports and bridges will remain untouched unless manually removed. Therefore, manual maintenance of the previously defined resources is required through the use of ``ovs-vsctl`` command in the affected units. ",,10,0
openstack%2Fpython-cinderclient~master~Ic3b08caa87d464379837cfda56720883edc5c3af,openstack/python-cinderclient,master,Ic3b08caa87d464379837cfda56720883edc5c3af,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 06:32:09.000000000,2021-03-10 19:57:51.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-12-24 06:32:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8cb1d395cd6372de77f120c036be0619a938bfb1', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Ic3b08caa87d464379837cfda56720883edc5c3af\n'}]",0,768419,8cb1d395cd6372de77f120c036be0619a938bfb1,5,3,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Ic3b08caa87d464379837cfda56720883edc5c3af
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/19/768419/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8cb1d395cd6372de77f120c036be0619a938bfb1,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fkolla-ansible~master~I74cd6d1128689ab2c73f00ee08af3778d7d670a4,openstack/kolla-ansible,master,I74cd6d1128689ab2c73f00ee08af3778d7d670a4,Reduce number of logs and disable ara HTML report,MERGED,2021-02-25 18:20:13.000000000,2021-03-10 19:26:55.000000000,2021-03-10 19:22:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-25 18:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8c7baa76dd607039098ecc4a69b26b7e746c955', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 2, 'created': '2021-02-25 19:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5dacef2235a0ad7ddcdb777ff90b32eedb6debc0', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 3, 'created': '2021-02-26 08:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0669525ad898ceba8a9ebdc59339006486cc790a', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\n* Remove libvirt debug logging from template - produces 200MB of logs\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 4, 'created': '2021-02-26 09:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0980b2f6edcd373b80b99cf101ffd8b41ee050b7', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\n* Remove libvirt debug logging from template - produces 200MB of logs\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 5, 'created': '2021-02-26 09:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45329183547c04b7072caa9df479b13e8b1ccd5c', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\n* Remove libvirt debug logging from template - produces 200MB of logs\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 6, 'created': '2021-02-26 11:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca18dbf697a040c72baf6bddf477b91a96fb1245', 'message': 'WIP: Reduce number of logs and disable ara HTML report\n\n* Remove libvirt debug logging from template - produces 200MB of logs\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 7, 'created': '2021-02-26 12:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8181b48a9250879de0f0b2e7441ec9438a7dfe7', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove libvirt debug logging from template - produces 200MB of logs\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 8, 'created': '2021-02-26 12:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b788b49701c65e051dc2e63b12b72746e8fc3938', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove libvirt debug logging from template - produces 200MB of logs\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 9, 'created': '2021-03-08 12:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44d1689dadbd3575d844124c331bfec8f9b2cc2e', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove libvirt debug logging from template - produces 200MB of logs\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 10, 'created': '2021-03-08 12:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7436ecc1d2122d9363b4553392c6a25232beacd', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 11, 'created': '2021-03-08 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f26299c7b8db4cd0ae634148384a7ae2af32a1e', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 12, 'created': '2021-03-09 08:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47018970e39f99645a7c505396be1e4df75649f7', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}, {'number': 13, 'created': '2021-03-10 15:16:05.000000000', 'files': ['tests/post.yml', 'tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/191b46ef40b5e33cf1581a89e8ce7ab699df44d8', 'message': 'Reduce number of logs and disable ara HTML report\n\n- Remove /var/log/kolla link to omit uploading the same logs twice\n- Remove ARA HTML report (usually takes around 120MB) - can be easily\n  generated from the sqlite db\n\nChange-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4\n'}]",7,777647,191b46ef40b5e33cf1581a89e8ce7ab699df44d8,36,3,13,22629,,,0,"Reduce number of logs and disable ara HTML report

- Remove /var/log/kolla link to omit uploading the same logs twice
- Remove ARA HTML report (usually takes around 120MB) - can be easily
  generated from the sqlite db

Change-Id: I74cd6d1128689ab2c73f00ee08af3778d7d670a4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/777647/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/post.yml', 'tests/get_logs.sh']",2,e8c7baa76dd607039098ecc4a69b26b7e746c955,, shopt -s extglob cp -rvnL /var/log/!(kolla) ${LOG_DIR}/system_logs/ shopt -u extglob, cp -rvnL /var/log/* ${LOG_DIR}/system_logs/,6,37
openstack%2Fkolla-ansible~master~I90bfd1b300ad3202ea4d139fda6d6beb44c5820f,openstack/kolla-ansible,master,I90bfd1b300ad3202ea4d139fda6d6beb44c5820f,Introduce nova_libvirt_logging_debug,MERGED,2021-03-08 12:45:56.000000000,2021-03-10 19:25:26.000000000,2021-03-10 19:22:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 12:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec40af5eec92bd8f3f2f7024ef505e03c15aff59', 'message': 'Introduce nova_libvirt_logging_debug\n\nIn order to disable libvirt debug in CI (which takes vast amount of storage)\nthis change introduces nova_libvirt_logging_debug and disables that in CI.\n\nChange-Id: I90bfd1b300ad3202ea4d139fda6d6beb44c5820f\n'}, {'number': 2, 'created': '2021-03-10 15:15:37.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/nova-cell/templates/libvirtd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eabdf1e9f959c274e827e8c24a6ea63709c1033c', 'message': 'Introduce nova_libvirt_logging_debug\n\nIn order to disable libvirt debug in CI (which takes vast amount of storage)\nthis change introduces nova_libvirt_logging_debug and disables that in CI.\n\nChange-Id: I90bfd1b300ad3202ea4d139fda6d6beb44c5820f\n'}]",2,779251,eabdf1e9f959c274e827e8c24a6ea63709c1033c,16,4,2,22629,,,0,"Introduce nova_libvirt_logging_debug

In order to disable libvirt debug in CI (which takes vast amount of storage)
this change introduces nova_libvirt_logging_debug and disables that in CI.

Change-Id: I90bfd1b300ad3202ea4d139fda6d6beb44c5820f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/779251/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/nova-cell/templates/libvirtd.conf.j2']",3,ec40af5eec92bd8f3f2f7024ef505e03c15aff59,,{% if nova_libvirt_logging_debug | bool %},{% if nova_logging_debug | bool %},3,1
openstack%2Fmasakari~master~Ic1482eb4a3758536be6cd831d754e95186ac54d3,openstack/masakari,master,Ic1482eb4a3758536be6cd831d754e95186ac54d3,Enable database migration unit tests,MERGED,2021-01-19 12:44:49.000000000,2021-03-10 19:16:46.000000000,2021-03-10 19:15:08.000000000,"[{'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-19 12:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b0ad1c6e7bd2bbaab40185c8d419102e856c2d50', 'message': 'Enable database migration unit tests\n\n- Add taskflow backend config option, which is used in case\n  mysql/postgres migrations test.\n- changes 006_add_persistence_tables migration to use\n  actual configuration options\n- add test database setup script to be used on OpenStack CI\n  (copied from Nova repo)\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ic1482eb4a3758536be6cd831d754e95186ac54d3\n'}, {'number': 2, 'created': '2021-01-19 16:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0e87c93ea75a9e3812d9a8cef65bc77d023f7b86', 'message': 'Enable database migration unit tests\n\n- Add taskflow backend config option, which is used in case\n  mysql/postgres migrations test.\n- changes 006_add_persistence_tables migration to use\n  actual configuration options\n- add test database setup script to be used on OpenStack CI\n  (copied from Nova repo)\n- add database packages (mysql, postgresql, sqlite) to bindep.txt as\n  part of test profile\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ic1482eb4a3758536be6cd831d754e95186ac54d3\n'}, {'number': 3, 'created': '2021-01-19 17:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/32237b7894e073a62ef7111dded1c777f3f28ec0', 'message': 'Enable database migration unit tests\n\n- Add taskflow backend config option, which is used in case\n  mysql/postgres migrations test.\n- changes 006_add_persistence_tables migration to use\n  actual configuration options\n- add test database setup script to be used on OpenStack CI\n  (copied from Nova repo)\n- add database packages (mysql, postgresql, sqlite) to bindep.txt as\n  part of test profile\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ic1482eb4a3758536be6cd831d754e95186ac54d3\n'}, {'number': 4, 'created': '2021-03-10 18:11:05.000000000', 'files': ['bindep.txt', 'masakari/db/sqlalchemy/migrate_repo/versions/006_add_persistence_tables.py', 'masakari/tests/unit/db/test_migrations.py', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/bbe3f630bd60298e56ae9d0865791ebc3434b741', 'message': 'Enable database migration unit tests\n\n- Add taskflow backend config option, which is used in case\n  mysql/postgres migrations test.\n- changes 006_add_persistence_tables migration to be able to\n  use overridden configuration options\n- add test database setup script to be used on OpenStack CI\n  (copied from Nova repo)\n- add database packages (mysql, postgresql, sqlite) to bindep.txt as\n  part of test profile\n\nCo-Authored-By: Anton Arefiev <aarefiev@mirantis.com>\nChange-Id: Ic1482eb4a3758536be6cd831d754e95186ac54d3\n'}]",2,771437,bbe3f630bd60298e56ae9d0865791ebc3434b741,31,4,4,9542,,,0,"Enable database migration unit tests

- Add taskflow backend config option, which is used in case
  mysql/postgres migrations test.
- changes 006_add_persistence_tables migration to be able to
  use overridden configuration options
- add test database setup script to be used on OpenStack CI
  (copied from Nova repo)
- add database packages (mysql, postgresql, sqlite) to bindep.txt as
  part of test profile

Co-Authored-By: Anton Arefiev <aarefiev@mirantis.com>
Change-Id: Ic1482eb4a3758536be6cd831d754e95186ac54d3
",git fetch https://review.opendev.org/openstack/masakari refs/changes/37/771437/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/db/sqlalchemy/migrate_repo/versions/006_add_persistence_tables.py', 'masakari/tests/unit/db/test_migrations.py', 'tools/test-setup.sh']",3,b0ad1c6e7bd2bbaab40185c8d419102e856c2d50,db-tests,"#!/bin/bash -xe # This script will be run by OpenStack CI before unit tests are run, # it sets up the test system as needed. # Developers should setup their test systems in a similar way. # This setup needs to be run as a user that can run sudo. # The root password for the MySQL database; pass it in via # MYSQL_ROOT_PW. DB_ROOT_PW=${MYSQL_ROOT_PW:-insecure_slave} # This user and its password are used by the tests, if you change it, # your tests might fail. DB_USER=openstack_citest DB_PW=openstack_citest sudo -H mysqladmin -u root password $DB_ROOT_PW # It's best practice to remove anonymous users from the database. If # an anonymous user exists, then it matches first for connections and # other connections from that host will not work. sudo -H mysql -u root -p$DB_ROOT_PW -h localhost -e "" DELETE FROM mysql.user WHERE User=''; FLUSH PRIVILEGES; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;"" # Now create our database. mysql -u $DB_USER -p$DB_PW -h 127.0.0.1 -e "" SET default_storage_engine=MYISAM; DROP DATABASE IF EXISTS openstack_citest; CREATE DATABASE openstack_citest CHARACTER SET utf8;"" # Same for PostgreSQL # Setup user root_roles=$(sudo -H -u postgres psql -t -c "" SELECT 'HERE' from pg_roles where rolname='$DB_USER'"") if [[ ${root_roles} == *HERE ]];then sudo -H -u postgres psql -c ""ALTER ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" else sudo -H -u postgres psql -c ""CREATE ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" fi # Store password for tests cat << EOF > $HOME/.pgpass *:*:*:$DB_USER:$DB_PW EOF chmod 0600 $HOME/.pgpass # Now create our database psql -h 127.0.0.1 -U $DB_USER -d template1 -c ""DROP DATABASE IF EXISTS openstack_citest"" createdb -h 127.0.0.1 -U $DB_USER -l C -T template0 -E utf8 openstack_citest ",,59,6
openstack%2Fopenstack-ansible-os_tempest~master~Ie84846f8590c3ae60afd671d973a4de3c644d526,openstack/openstack-ansible-os_tempest,master,Ie84846f8590c3ae60afd671d973a4de3c644d526,Remove references to unsupported operating systems,MERGED,2021-03-10 12:23:30.000000000,2021-03-10 19:13:28.000000000,2021-03-10 19:12:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:23:30.000000000', 'files': ['tasks/tempest_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b30094a6545ae75654eca24ee02c5b63e87cc517', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Ie84846f8590c3ae60afd671d973a4de3c644d526\n'}]",0,779752,b30094a6545ae75654eca24ee02c5b63e87cc517,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Ie84846f8590c3ae60afd671d973a4de3c644d526
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/52/779752/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_install.yml', 'meta/main.yml']",2,b30094a6545ae75654eca24ee02c5b63e87cc517,osa-cleanup, - buster, - stretch,2,2
openstack%2Fironic~master~I5b0e609be1bfe90bbe76782e0544f7943b0c12a9,openstack/ironic,master,I5b0e609be1bfe90bbe76782e0544f7943b0c12a9,Review feedback follow-up on Node System Scoped RBAC,MERGED,2021-02-22 22:36:13.000000000,2021-03-10 18:54:24.000000000,2021-03-10 18:51:09.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-22 22:36:13.000000000', 'files': ['ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/20a4f4aadc94d4651312799d4914249586415181', 'message': 'Review feedback follow-up on Node System Scoped RBAC\n\nChanged permission defaults for changing the node owner of a node\nand disabling cleaning to be system administrator based privilges.\n\nThis was review feedback in the very final review jam of the change,\nwhich was agreed upon.\n\nChange-Id: I5b0e609be1bfe90bbe76782e0544f7943b0c12a9\n'}]",0,777016,20a4f4aadc94d4651312799d4914249586415181,16,3,1,11655,,,0,"Review feedback follow-up on Node System Scoped RBAC

Changed permission defaults for changing the node owner of a node
and disabling cleaning to be system administrator based privilges.

This was review feedback in the very final review jam of the change,
which was agreed upon.

Change-Id: I5b0e609be1bfe90bbe76782e0544f7943b0c12a9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/777016/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/policy.py'],1,20a4f4aadc94d4651312799d4914249586415181,secure-rbac," check_str=SYSTEM_ADMIN, check_str=SYSTEM_ADMIN,"," check_str=SYSTEM_MEMBER, check_str=SYSTEM_MEMBER,",2,2
openstack%2Fopenstack-helm-infra~master~Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4,openstack/openstack-helm-infra,master,Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4,[ceph-client] enhance logic to enable and disable the autoscaler,MERGED,2021-02-26 03:59:17.000000000,2021-03-10 18:42:02.000000000,2021-03-10 18:39:04.000000000,"[{'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 32190}, {'_account_id': 33135}]","[{'number': 1, 'created': '2021-02-26 03:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac3b6b56f85dc6929e35ba5d50e80d57a25e3cad', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg num values for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus. Also,\nwhen pools are created with the autoscaler enabled a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. So, we are specifying\nthe pg_num_value as 1 instead of 32.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 2, 'created': '2021-02-26 04:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0c5c38264d93a16442077abb195ef16cf116e34', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num values for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus. Also,\nwhen pools are created with the autoscaler enabled a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. So, we are specifying\nthe pg_num_min value of 1 at pool creation to override the default\nof 32 that the autoscaler would target.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 3, 'created': '2021-02-26 04:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02a1c7de749502a8df774e2a8b93cc562f7b1251', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg num values for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus. Also,\nwhen pools are created with the autoscaler enabled a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. So, we are specifying\nthe pg_num_value as 1 instead of 32.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 4, 'created': '2021-02-26 04:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2652babfaeb497e68cc7c481b7b34fe61f9c35f', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg num values for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus. Also,\nwhen pools are created with the autoscaler enabled a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. So, we are specifying\nthe pg_num_value as 1 instead of 32.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 5, 'created': '2021-02-26 04:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c41739f39006ac22f5fb58528db7925f04505cca', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus. Also,\nwhen pools are created with the autoscaler enabled a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. So, we are specifying\nthe pg_num_min value of 1 at pool creation to override the default\nof 32 that the autoscaler would target.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 6, 'created': '2021-02-26 04:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44e6627a4e0965dd2f9932fb841614d71142c037', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 7, 'created': '2021-02-26 04:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a05330a695edc99a55ae77f016e2c68f223d6f6a', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 8, 'created': '2021-02-26 14:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74b93319d75b73f61cf0f1cd5cdd329719df11a3', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 9, 'created': '2021-02-26 14:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4db180fd4c4f19c8e6b877f22620720394db8ada', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 10, 'created': '2021-02-26 15:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d51afd38a71cea34cd33ee1717a8d102b5546337', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 11, 'created': '2021-02-26 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a855a4f0d2c2d599c058ceae8c98c79be76d9546', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 12, 'created': '2021-02-26 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d4bcc9251ea2e48e58b1f379909c29ded731051', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 1 using the\noptional --pg-num-min <value> argument at pool creation.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 13, 'created': '2021-02-26 16:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2faaa411e9aec9715d20df81888ef432a785925', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 14, 'created': '2021-02-26 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/479417f3a8cb3324e78a97722c99a60649ac5022', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 15, 'created': '2021-03-01 01:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3643b531f2306ae26267d1e5e00953a5a32ccc8a', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 16, 'created': '2021-03-01 17:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75b25dc3372170c7aa22c303b63b8a2239ed42a0', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 17, 'created': '2021-03-01 18:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61f21eef7e1b9cd123357d3dfa4e3e663eb64598', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 18, 'created': '2021-03-01 20:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb6deac25f23947e185adee56787798cb119126c', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 19, 'created': '2021-03-02 03:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b09d6cf004cd40bc93ecedc0be82afe076a4e11', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 20, 'created': '2021-03-02 03:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba9f5c076376bcfeab1b2f4e7ae79ef91011deeb', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 21, 'created': '2021-03-02 19:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1cca3a5c080c9896a948dbc27245c015ac8c89f', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 22, 'created': '2021-03-02 20:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e6f28f2d9047315bd04ff97792eeadede95d12b', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 23, 'created': '2021-03-02 22:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05841c40ab701fbf2500847d4568fb16f1c0a7cb', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 24, 'created': '2021-03-03 04:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bae3d0b4138a004d0798019ef8a5f634b1a2d35', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}, {'number': 25, 'created': '2021-03-09 22:11:47.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb3ce70a1034b8815028468780438eddcca04119', 'message': '[ceph-client] enhance logic to enable and disable the autoscaler\n\nThe autoscaler was introduced in the Nautilus release. This\nchange only sets the pg_num value for a pool if the autoscaler\nis disabled or the Ceph release is earlier than Nautilus.\n\nWhen pools are created with the autoscaler enabled, a pg_num_min\nvalue specifies the minimum value of pg_num that the autoscaler\nwill target. That default was recently changed from 8 to 32\nwhich severely limits the number of pools in a small cluster per\nhttps://github.com/rook/rook/issues/5091. This change overrides\nthe default pg_num_min value of 32 with a value of 8 (matching\nthe default pg_num value of 8) using the optional --pg-num-min\n<value> argument at pool creation and pg_num_min value for\nexisting pools.\n\nChange-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4\n'}]",0,777711,bb3ce70a1034b8815028468780438eddcca04119,77,10,25,18511,,,0,"[ceph-client] enhance logic to enable and disable the autoscaler

The autoscaler was introduced in the Nautilus release. This
change only sets the pg_num value for a pool if the autoscaler
is disabled or the Ceph release is earlier than Nautilus.

When pools are created with the autoscaler enabled, a pg_num_min
value specifies the minimum value of pg_num that the autoscaler
will target. That default was recently changed from 8 to 32
which severely limits the number of pools in a small cluster per
https://github.com/rook/rook/issues/5091. This change overrides
the default pg_num_min value of 32 with a value of 8 (matching
the default pg_num value of 8) using the optional --pg-num-min
<value> argument at pool creation and pg_num_min value for
existing pools.

Change-Id: Ie08fb367ec8b1803fcc6e8cd22dc8da43c90e5c4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/777711/24 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'ceph-client/values.yaml']",3,ac3b6b56f85dc6929e35ba5d50e80d57a25e3cad,, pg_autoscaler: true, pg_autoscaler: false,41,21
openstack%2Ftripleo-ansible~master~Ib121888061b8bfcc4155528a8a209c7e274fafcb,openstack/tripleo-ansible,master,Ib121888061b8bfcc4155528a8a209c7e274fafcb,Use ansible to generate bind pool configuration,MERGED,2021-01-11 20:41:34.000000000,2021-03-10 18:41:11.000000000,2021-03-10 18:39:12.000000000,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 20:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd94b4aed865bbd4511cbec3accf87bd67fb5554', 'message': 'WIP: use ansible to generate bind pool configuration\n\nStarter patch for generating pool definition from stack data.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 2, 'created': '2021-01-11 21:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8219b4fae28db5510631e4070cd07967f8beecbb', 'message': 'WIP: use ansible to generate bind pool configuration\n\nStarter patch for generating pool definition from stack data.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 3, 'created': '2021-01-11 21:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c444428cfc8bf12f2a2e74eaef436314514f6c1', 'message': 'WIP: use ansible to generate bind pool configuration\n\nStarter patch for generating pool definition from stack data.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 4, 'created': '2021-01-11 22:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20d995c9780ed2e313b51f2310a701f1e1e761e5', 'message': 'WIP: use ansible to generate bind pool configuration\n\nStarter patch for generating pool definition from stack data.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 5, 'created': '2021-01-12 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5eb9eee0837f078f07197b6cb359fdc1c82d6f2', 'message': 'WIP: use ansible to generate bind pool configuration\n\nStarter patch for generating pool definition from stack data.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 6, 'created': '2021-01-18 20:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f87a9a1ce9f676acbd8826fa941f927c7c9b78c5', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 7, 'created': '2021-02-02 00:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b675e34906c313011b20f3c1cba873e61676934', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 8, 'created': '2021-02-10 14:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a48ef0e6308febee00bf722e79d8ea157d8f1d9f', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 9, 'created': '2021-02-16 00:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6e1ec36148deb38f7e10facd4cc09a1815cdcd8', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 10, 'created': '2021-02-22 23:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad736ab8447fb16d6cdd65b7288b709076ce30e8', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 11, 'created': '2021-02-23 23:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f00630e2748a244f1133eec26a5d8f930182e5fa', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}, {'number': 12, 'created': '2021-02-24 12:09:16.000000000', 'files': ['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_pool/templates/rndc.key.j2', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_pool/meta/main.yml', 'releasenotes/notes/add_designate_bind_pool_config-1eda0fd001af1308.yaml', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/66788a18f31db2b2e230006f28264c5291659555', 'message': 'Use ansible to generate bind pool configuration\n\nPatch generates designate bind backend configuration using stack\ninformation and jinja templates.\n\nNote: this will require follow up patches to use VIPs for miniDNS\nendpoints.\n\nChange-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb\n'}]",1,770205,66788a18f31db2b2e230006f28264c5291659555,50,5,12,6681,,,0,"Use ansible to generate bind pool configuration

Patch generates designate bind backend configuration using stack
information and jinja templates.

Note: this will require follow up patches to use VIPs for miniDNS
endpoints.

Change-Id: Ib121888061b8bfcc4155528a8a209c7e274fafcb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/770205/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/designate_bind_pool/templates/pools.yaml.j2', 'tripleo_ansible/roles/designate_bind_pool/tasks/main.yml', 'tripleo_ansible/roles/designate_bind_pool/meta/main.yml', 'tripleo_ansible/roles/designate_bind_pool/defaults/main.yml']",4,cd94b4aed865bbd4511cbec3accf87bd67fb5554,designate,--- pool_config_file_path: '/var/lib/config-data/puppet-generated/designate/etc/designate/pools2.yaml' pool_zone_domain: 'example.org' ,,107,0
openstack%2Fbarbican~master~Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad,openstack/barbican,master,Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad,Implement secure RBAC for transport key API,MERGED,2021-03-08 20:44:09.000000000,2021-03-10 18:31:03.000000000,2021-03-10 18:28:46.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 20:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5cdf0a533e1717ce6e8644ac41e4fdc00bbbac5c', 'message': 'Implement secure RBAC for transport key API\n\nAdd new system scope specific RBAC rules for the transport key API.\nThe new rules tighten the policy to only allow system admins to\nadd or delete transport keys.\n\nChange-Id: Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad\n'}, {'number': 2, 'created': '2021-03-09 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ea3f7f6244c8bdc4e6cf0762173b6f610d95cc92', 'message': 'Implement secure RBAC for transport key API\n\nAdd new system scope specific RBAC rules for the transport key API.\nThe new rules tighten the policy to only allow system admins to\nadd or delete transport keys.\n\nChange-Id: Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['releasenotes/notes/secure-rbac-transportkey-policy-3e904787694f8471.yaml', 'barbican/common/policies/transportkeys.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9a16e9114f7c7dbb3e22f5f71c5858c519ae07d0', 'message': 'Implement secure RBAC for transport key API\n\nAdd new system scope specific RBAC rules for the transport key API.\nThe new rules tighten the policy to only allow system admins to\nadd or delete transport keys.\n\nChange-Id: Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad\n'}]",0,779363,9a16e9114f7c7dbb3e22f5f71c5858c519ae07d0,12,3,3,9914,,,0,"Implement secure RBAC for transport key API

Add new system scope specific RBAC rules for the transport key API.
The new rules tighten the policy to only allow system admins to
add or delete transport keys.

Change-Id: Icbe81724fb8b4f28fc4b5d24afe2618e759fcbad
",git fetch https://review.opendev.org/openstack/barbican refs/changes/63/779363/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/secure-rbac-transportkey-policy-3e904787694f8471.yaml', 'barbican/common/policies/transportkeys.py']",2,5cdf0a533e1717ce6e8644ac41e4fdc00bbbac5c,new_rbac,"_SYSTEM_ADMIN = ""role:admin and system_scope:all"" check_str='{_SYSTEM_ADMIN}', scope_types=['system'], check_str='{_SYSTEM_ADMIN}', scope_types=['system'],"," check_str='rule:admin', scope_types=[], check_str='rule:admin', scope_types=[],",16,4
openstack%2Fneutron~stable%2Fussuri~I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,openstack/neutron,stable/ussuri,I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID,MERGED,2021-02-23 13:41:26.000000000,2021-03-10 18:24:54.000000000,2021-03-10 18:19:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 13:41:26.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/817c5f2249fda2a7b135f506ee41b9d68415ce2a', 'message': '[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID\n\nIn case when security group is removed from port, connections\nestablished to/from port which were hitting some of the removed SG\nrules will be marked with CT_MARK_INVALID in the conntrack table.\nDue to that such existing connections will be stopped.\nBut then if SG will be added again to the port, those conntrack entries\nmarked as invalid will not be removed and those hang connections will\nnot be revived.\nTo fix that, this patch adds deletion of the conntrack entries marked\nwith CT_MARK_INVALID and related to the port of which SG are\nupdated/added.\n\nCloses-Bug: #1915530\nChange-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd\n(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)\n'}]",0,776894,817c5f2249fda2a7b135f506ee41b9d68415ce2a,8,3,1,11975,,,0,"[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID

In case when security group is removed from port, connections
established to/from port which were hitting some of the removed SG
rules will be marked with CT_MARK_INVALID in the conntrack table.
Due to that such existing connections will be stopped.
But then if SG will be added again to the port, those conntrack entries
marked as invalid will not be removed and those hang connections will
not be revived.
To fix that, this patch adds deletion of the conntrack entries marked
with CT_MARK_INVALID and related to the port of which SG are
updated/added.

Closes-Bug: #1915530
Change-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd
(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/776894/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,817c5f2249fda2a7b135f506ee41b9d68415ce2a,bug/1915530-stable/victoria-stable/ussuri," self.delete_invalid_conntrack_entries_mock = mock.patch.object( self.firewall.ipconntrack, ""delete_conntrack_state_by_remote_ips"").start() def _assert_invalid_conntrack_entries_deleted(self, port_dict): port_dict['of_port'] = mock.Mock(vlan_tag=10) self.delete_invalid_conntrack_entries_mock.assert_has_calls([ mock.call( [port_dict], constants.IPv4, set(), mark=ovsfw_consts.CT_MARK_INVALID), mock.call( [port_dict], constants.IPv6, set(), mark=ovsfw_consts.CT_MARK_INVALID)]) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.reset_mock() self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict)",,79,1
openstack%2Fneutron~stable%2Ftrain~I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,openstack/neutron,stable/train,I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID,MERGED,2021-02-23 13:41:58.000000000,2021-03-10 18:24:22.000000000,2021-03-10 18:19:30.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 13:41:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da1543f492bf50260cbcf99075b87a7b9e34281', 'message': '[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID\n\nIn case when security group is removed from port, connections\nestablished to/from port which were hitting some of the removed SG\nrules will be marked with CT_MARK_INVALID in the conntrack table.\nDue to that such existing connections will be stopped.\nBut then if SG will be added again to the port, those conntrack entries\nmarked as invalid will not be removed and those hang connections will\nnot be revived.\nTo fix that, this patch adds deletion of the conntrack entries marked\nwith CT_MARK_INVALID and related to the port of which SG are\nupdated/added.\n\nCloses-Bug: #1915530\nChange-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd\n(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)\n'}]",0,776895,6da1543f492bf50260cbcf99075b87a7b9e34281,13,3,1,11975,,,0,"[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID

In case when security group is removed from port, connections
established to/from port which were hitting some of the removed SG
rules will be marked with CT_MARK_INVALID in the conntrack table.
Due to that such existing connections will be stopped.
But then if SG will be added again to the port, those conntrack entries
marked as invalid will not be removed and those hang connections will
not be revived.
To fix that, this patch adds deletion of the conntrack entries marked
with CT_MARK_INVALID and related to the port of which SG are
updated/added.

Closes-Bug: #1915530
Change-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd
(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/776895/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,6da1543f492bf50260cbcf99075b87a7b9e34281,bug/1915530-stable/victoria-stable/ussuri-stable/train," self.delete_invalid_conntrack_entries_mock = mock.patch.object( self.firewall.ipconntrack, ""delete_conntrack_state_by_remote_ips"").start() def _assert_invalid_conntrack_entries_deleted(self, port_dict): port_dict['of_port'] = mock.Mock(vlan_tag=10) self.delete_invalid_conntrack_entries_mock.assert_has_calls([ mock.call( [port_dict], constants.IPv4, set(), mark=ovsfw_consts.CT_MARK_INVALID), mock.call( [port_dict], constants.IPv6, set(), mark=ovsfw_consts.CT_MARK_INVALID)]) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.reset_mock() self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict)",,79,1
openstack%2Fglance~master~Iafa37d64a9779a3b646c34f328c62dfd6cd3e7f3,openstack/glance,master,Iafa37d64a9779a3b646c34f328c62dfd6cd3e7f3,trivial: remove unnecessary grouping in base policies,MERGED,2021-03-08 13:58:24.000000000,2021-03-10 18:23:03.000000000,2021-03-10 18:20:29.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 13:58:24.000000000', 'files': ['glance/tests/unit/test_policy.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2b498e61f427fcc2400bc7b8c94afe0c4281eff6', 'message': ""trivial: remove unnecessary grouping in base policies\n\nWe've broken basic policies into granular checks with simple names and\nwe use them to construct more complex checks. In that process we\naccidentally added some additional nesting to two of the check strings,\nwhich isn't necessary.\n\nThis commit updates the check strings to remove an extra set of\nparenthesis.\n\nChange-Id: Iafa37d64a9779a3b646c34f328c62dfd6cd3e7f3\n""}]",0,779266,2b498e61f427fcc2400bc7b8c94afe0c4281eff6,14,3,1,5046,,,0,"trivial: remove unnecessary grouping in base policies

We've broken basic policies into granular checks with simple names and
we use them to construct more complex checks. In that process we
accidentally added some additional nesting to two of the check strings,
which isn't necessary.

This commit updates the check strings to remove an extra set of
parenthesis.

Change-Id: Iafa37d64a9779a3b646c34f328c62dfd6cd3e7f3
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/779266/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_policy.py', 'glance/policies/base.py']",2,2b498e61f427fcc2400bc7b8c94afe0c4281eff6,secure-rbac,PROJECT_MEMBER = 'role:member and project_id:%(project_id)s'PROJECT_READER = 'role:reader and project_id:%(project_id)s',PROJECT_MEMBER = 'role:member and (project_id:%(project_id)s)'PROJECT_READER = 'role:reader and (project_id:%(project_id)s)',12,4
openstack%2Fopenstack-ansible-os_swift~master~I30e528914092c5c4df081031045e3d2f2e949bfd,openstack/openstack-ansible-os_swift,master,I30e528914092c5c4df081031045e3d2f2e949bfd,Remove references to unsupported operating systems,MERGED,2021-03-10 12:23:16.000000000,2021-03-10 18:21:27.000000000,2021-03-10 18:18:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:23:16.000000000', 'files': ['tasks/swift_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/a1205ca3a9e8f0fb587691c3842b285f9be157f9', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I30e528914092c5c4df081031045e3d2f2e949bfd\n'}]",0,779750,a1205ca3a9e8f0fb587691c3842b285f9be157f9,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I30e528914092c5c4df081031045e3d2f2e949bfd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/50/779750/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/swift_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml']",4,a1205ca3a9e8f0fb587691c3842b285f9be157f9,osa-cleanup,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. swift_distro_packages: - cron - liberasurecode1 - openssh - rsync swift_devel_distro_packages: - git-core - liberasurecode-devel - libffi-devel - libopenssl-devel - systemd-devel swift_service_distro_packages: - openstack-swift - python-python-memcached swift_account_distro_packages: - openstack-swift-account swift_container_distro_packages: - openstack-swift-container swift_object_distro_packages: - openstack-swift-object swift_proxy_distro_packages: - openstack-swift-proxy swift_rsync_service_name: rsyncd swift_sshd: sshd ",8,59
openstack%2Fneutron~stable%2Frocky~I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,openstack/neutron,stable/rocky,I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd,[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID,MERGED,2021-02-23 13:45:17.000000000,2021-03-10 18:20:03.000000000,2021-03-10 18:20:03.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 13:45:17.000000000', 'files': ['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d016082e18fc9741324338b0b58011ce0b191e0e', 'message': '[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID\n\nIn case when security group is removed from port, connections\nestablished to/from port which were hitting some of the removed SG\nrules will be marked with CT_MARK_INVALID in the conntrack table.\nDue to that such existing connections will be stopped.\nBut then if SG will be added again to the port, those conntrack entries\nmarked as invalid will not be removed and those hang connections will\nnot be revived.\nTo fix that, this patch adds deletion of the conntrack entries marked\nwith CT_MARK_INVALID and related to the port of which SG are\nupdated/added.\n\nConflicts:\n    neutron/agent/linux/ip_conntrack.py\n\nCloses-Bug: #1915530\nChange-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd\n(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)\n'}]",0,777105,d016082e18fc9741324338b0b58011ce0b191e0e,8,3,1,11975,,,0,"[OVS FW] Clean conntrack entries with mark == CT_MARK_INVALID

In case when security group is removed from port, connections
established to/from port which were hitting some of the removed SG
rules will be marked with CT_MARK_INVALID in the conntrack table.
Due to that such existing connections will be stopped.
But then if SG will be added again to the port, those conntrack entries
marked as invalid will not be removed and those hang connections will
not be revived.
To fix that, this patch adds deletion of the conntrack entries marked
with CT_MARK_INVALID and related to the port of which SG are
updated/added.

Conflicts:
    neutron/agent/linux/ip_conntrack.py

Closes-Bug: #1915530
Change-Id: I84718b8ac4d8d6e39426e1c4485c2d7fe28185dd
(cherry picked from commit 1e220d7136965acbfe50215d982cac0bd3dcf9c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/777105/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_ip_conntrack.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/ip_conntrack.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,d016082e18fc9741324338b0b58011ce0b191e0e,bug/1915530-stable/rocky," self.delete_invalid_conntrack_entries_mock = mock.patch.object( self.firewall.ipconntrack, ""delete_conntrack_state_by_remote_ips"").start() def _assert_invalid_conntrack_entries_deleted(self, port_dict): port_dict['of_port'] = mock.Mock(vlan_tag=10) self.delete_invalid_conntrack_entries_mock.assert_has_calls([ mock.call( [port_dict], constants.IPv4, set(), mark=ovsfw_consts.CT_MARK_INVALID), mock.call( [port_dict], constants.IPv6, set(), mark=ovsfw_consts.CT_MARK_INVALID)]) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self._assert_invalid_conntrack_entries_deleted(port_dict) self.delete_invalid_conntrack_entries_mock.reset_mock() self.delete_invalid_conntrack_entries_mock.assert_not_called() self._assert_invalid_conntrack_entries_deleted(port_dict)",,79,1
openstack%2Fopenstack-ansible-os_horizon~master~I31c5e6cde00cdb7addcc0cb4b1c7a13529ce1e60,openstack/openstack-ansible-os_horizon,master,I31c5e6cde00cdb7addcc0cb4b1c7a13529ce1e60,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:11.000000000,2021-03-10 18:16:20.000000000,2021-03-10 18:11:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:21:11.000000000', 'files': ['tasks/horizon_apache.yml', 'tasks/horizon_install_source.yml', 'vars/redhat-7.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/5e702329d55f7808b68aa7fe5899ad2271a43373', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I31c5e6cde00cdb7addcc0cb4b1c7a13529ce1e60\n'}]",0,779735,5e702329d55f7808b68aa7fe5899ad2271a43373,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I31c5e6cde00cdb7addcc0cb4b1c7a13529ce1e60
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/35/779735/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/horizon_apache.yml', 'tasks/horizon_install_source.yml', 'vars/redhat-7.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml']",6,5e702329d55f7808b68aa7fe5899ad2271a43373,osa-cleanup,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. horizon_system_service_name: apache2 horizon_devel_distro_packages: - git-core - libxslt-devel - openssl - libopenssl-devel - pcre-devel horizon_distro_packages: - apache2 - apache2-utils - apache2-mod_wsgi - cronie - cronie-anacron - gettext - which horizon_service_distro_packages: - openstack-horizon-plugin-designate-ui - openstack-horizon-plugin-gbp-ui - openstack-horizon-plugin-ironic-ui - openstack-horizon-plugin-magnum-ui - openstack-horizon-plugin-manila-ui - openstack-horizon-plugin-monasca-ui - openstack-horizon-plugin-neutron-vpnaas-ui - openstack-horizon-plugin-sahara-ui - openstack-horizon-plugin-trove-ui - python-horizon - python-memcached # SUSE does not currently have packages for the following dashboards horizon_enable_heat_ui: False horizon_enable_octavia_ui: False horizon_apache_conf: ""/etc/apache2/httpd.conf"" horizon_apache_security_conf: ""{{ horizon_apache_conf }}"" horizon_apache_configs: - { src: ""horizon_apache_ports.conf.j2"", dest: ""/etc/apache2/conf.d/ports.conf"", owner: ""root"", group: ""root"" } - { src: ""openstack_dashboard.conf.j2"", dest: ""/etc/apache2/conf.d/openstack-dashboard.conf"", owner: ""root"", group: ""root"" } horizon_apache_default_sites: - ""/etc/apache2/conf.d/gitweb.conf"" horizon_apache_modules: - name: ""authz_host"" state: ""present"" - name: ""access_compat"" state: ""present"" - name: ""version"" state: ""present"" - name: ""ssl"" state: ""present"" - name: ""wsgi"" state: ""present"" - name: ""rewrite"" state: ""present"" - name: ""headers"" state: ""present"" _horizon_lib_dir: ""/srv/www/openstack-dashboard"" horizon_dashboard_panel_dir: ""{{ _horizon_lib_dir }}/openstack_dashboard/enabled"" ",8,190
openstack%2Fcharm-mysql-innodb-cluster~master~I3cc0f533cfdb74bf978e4483dd0e751beecb5232,openstack/charm-mysql-innodb-cluster,master,I3cc0f533cfdb74bf978e4483dd0e751beecb5232,Fixes documentation for rejoin_instance,MERGED,2021-03-09 05:34:37.000000000,2021-03-10 18:15:08.000000000,2021-03-10 18:15:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 05:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3ca7015ae79f0504321e46f24db180a6e13f3858', 'message': 'Fixes documentation for rejoin_instance\n\nDocumentation contained reference to incorrect side effect\nfunction call. Updated documentation to refer correct function.\n\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\nChange-Id: I3cc0f533cfdb74bf978e4483dd0e751beecb5232\n'}, {'number': 2, 'created': '2021-03-09 14:22:46.000000000', 'files': ['src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f7eda18cfc704f572d845f77f87b4891a9f9a2f2', 'message': 'Fixes documentation for rejoin_instance\n\nDocumentation contained reference to incorrect side effect\nfunction call. Updated documentation to refer correct function.\n\nTrivialFix\n\nSigned-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>\nChange-Id: I3cc0f533cfdb74bf978e4483dd0e751beecb5232\n'}]",0,779428,f7eda18cfc704f572d845f77f87b4891a9f9a2f2,11,3,2,14611,,,0,"Fixes documentation for rejoin_instance

Documentation contained reference to incorrect side effect
function call. Updated documentation to refer correct function.

TrivialFix

Signed-off-by: Dariusz Smigiel <dariusz.smigiel@canonical.com>
Change-Id: I3cc0f533cfdb74bf978e4483dd0e751beecb5232
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/28/779428/2 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,3ca7015ae79f0504321e46f24db180a6e13f3858,docfix, :side effect: Calls instance.rejoin_instance, :side effect: Calls instance.mysqldump,1,1
openstack%2Fopenstack-ansible-os_horizon~master~I17cd0f7fad5b90516a81bf36030cdb9cdf13f8c9,openstack/openstack-ansible-os_horizon,master,I17cd0f7fad5b90516a81bf36030cdb9cdf13f8c9,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:32.000000000,2021-03-10 18:14:26.000000000,2021-03-10 18:11:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:16:32.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7c799e96e0f4666154ad5fa1325e5c1c53dea616', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I17cd0f7fad5b90516a81bf36030cdb9cdf13f8c9\n'}]",0,779675,7c799e96e0f4666154ad5fa1325e5c1c53dea616,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I17cd0f7fad5b90516a81bf36030cdb9cdf13f8c9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/75/779675/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7c799e96e0f4666154ad5fa1325e5c1c53dea616,osa-default-python,"horizon_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","horizon_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fhorizon~master~I55379c0897bad46decfabb443afe9439a31a3164,openstack/horizon,master,I55379c0897bad46decfabb443afe9439a31a3164,Deprecate Django launch instance form,MERGED,2021-03-08 04:18:51.000000000,2021-03-10 18:06:03.000000000,2021-03-10 18:03:27.000000000,"[{'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-08 04:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/28a28954e42c5d1eb964ac3661be3fbd978354c2', 'message': ""Deprecate Django launch instance form\n\nAs discussed in the horizon meeting, we think that feature gaps\nbetween the two implementations have been closed. Let's mark\nthe Django version as deprecated and gather more attentions\nfrom operators.\n\nChange-Id: I55379c0897bad46decfabb443afe9439a31a3164\n""}, {'number': 2, 'created': '2021-03-09 06:55:56.000000000', 'files': ['openstack_dashboard/management/commands/upgrade_check.py', 'releasenotes/notes/deprecate-django-launch-instance-form-cc176ad708e2f1f7.yaml', 'doc/source/configuration/settings.rst', 'openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/57380fae71a6e6428da234db65228fe95656e7b4', 'message': ""Deprecate Django launch instance form\n\nAs discussed in the horizon meeting, we think that feature gaps\nbetween the two implementations have been closed. Let's mark\nthe Django version as deprecated and gather more attentions\nfrom operators.\n\nChange-Id: I55379c0897bad46decfabb443afe9439a31a3164\n""}]",1,779125,57380fae71a6e6428da234db65228fe95656e7b4,14,4,2,841,,,0,"Deprecate Django launch instance form

As discussed in the horizon meeting, we think that feature gaps
between the two implementations have been closed. Let's mark
the Django version as deprecated and gather more attentions
from operators.

Change-Id: I55379c0897bad46decfabb443afe9439a31a3164
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/779125/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/management/commands/upgrade_check.py', 'releasenotes/notes/deprecate-django-launch-instance-form-cc176ad708e2f1f7.yaml', 'openstack_dashboard/dashboards/project/instances/views.py']",3,28a28954e42c5d1eb964ac3661be3fbd978354c2,deprecate-django-launch-instance-form, def __init__(self): super().__init__() LOG.warning('Django version of the launch instance form is ' 'deprecated since Wallaby release. Switch to ' 'the AngularJS version of the form by setting ' 'LAUNCH_INSTANCE_NG_ENABLED to True and ' 'LAUNCH_INSTANCE_LEGACY_ENABLED to False.') ,,32,0
openstack%2Fpython-cinderclient~master~Ia637e459b9401ab3f07fdf6e88868080ce59e245,openstack/python-cinderclient,master,Ia637e459b9401ab3f07fdf6e88868080ce59e245,Changed minversion in tox to 3.18.0,MERGED,2021-01-20 08:12:07.000000000,2021-03-10 18:05:59.000000000,2021-03-10 18:01:42.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-20 08:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f6c4bee2e982939962e95734e2d37f739179a39f', 'message': 'Changed miniversion in tox to 3.4.0\n\nIt turns out that this is the the default value provided by tox:\n\nhttps: //tox.readthedocs.io/en/latest/config.html#tox-global-settings\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 2, 'created': '2021-02-22 07:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/523241d79b6ac3af5ce2ef8a315a36df5e7ee6b3', 'message': 'Changed miniversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 3, 'created': '2021-02-22 07:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/da81cebf6cb38783e11cee6651b5c33ad8d69271', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 4, 'created': '2021-02-22 10:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/acbb9f73dfd7a03b29ef1d419aeac22989d3c691', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\nhttps: //github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 5, 'created': '2021-02-22 10:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/14b4082c935b6d847fa0542a5abc52f56b34fad9', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0\n\n https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 6, 'created': '2021-02-22 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b2bfa5dce32a5970d1122aa755eecf740d4a7502', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 7, 'created': '2021-02-22 12:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f5835b73fbcfdaae5a050617931da84d4b04cfe9', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 8, 'created': '2021-02-25 09:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/a28c02f2aa95bdf663b79637bcdf92a52f65770f', 'message': 'Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n'}, {'number': 9, 'created': '2021-02-25 11:10:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/55059f6a890505cbe87803174c09a87528ade909', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245\n""}]",2,771571,55059f6a890505cbe87803174c09a87528ade909,23,7,9,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ia637e459b9401ab3f07fdf6e88868080ce59e245
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/71/771571/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f6c4bee2e982939962e95734e2d37f739179a39f,,minversion = 3.4.0,minversion = 3.1.0,1,1
openstack%2Fpython-cinderclient~master~I29576a824278611d80991dce2501f14f1b262c76,openstack/python-cinderclient,master,I29576a824278611d80991dce2501f14f1b262c76,Remove more python2 compat code,MERGED,2021-03-08 14:07:12.000000000,2021-03-10 18:03:47.000000000,2021-03-10 18:01:33.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 14:07:12.000000000', 'files': ['cinderclient/shell.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/23e7f0cb3434f32f56ac82678b6814ba95fa0855', 'message': 'Remove more python2 compat code\n\nRemove code still adjusting for Python 2\nbehavior based on version checks.\n\nChange-Id: I29576a824278611d80991dce2501f14f1b262c76\n'}]",0,779270,23e7f0cb3434f32f56ac82678b6814ba95fa0855,9,3,1,4523,,,0,"Remove more python2 compat code

Remove code still adjusting for Python 2
behavior based on version checks.

Change-Id: I29576a824278611d80991dce2501f14f1b262c76
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/70/779270/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/shell.py', 'cinderclient/utils.py']",2,23e7f0cb3434f32f56ac82678b6814ba95fa0855,, print(pt.get_string(sortby=order)),"import sysfrom oslo_utils import encodeutils if sys.version_info >= (3, 0): print(pt.get_string(sortby=order)) else: print(encodeutils.safe_encode(pt.get_string(sortby=order))) if sys.version_info <= (3, 0): name_or_id = encodeutils.safe_decode(name_or_id) ",2,15
openstack%2Fmasakari~master~I561a2519626fa1beae1e3033a6de510cea8f3fac,openstack/masakari,master,I561a2519626fa1beae1e3033a6de510cea8f3fac,add enabled to segment,MERGED,2020-01-02 09:14:34.000000000,2021-03-10 18:02:49.000000000,2021-03-04 02:01:09.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 26458}, {'_account_id': 30491}, {'_account_id': 32304}]","[{'number': 1, 'created': '2020-01-02 09:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0b479d4fd923bc11754b607bec21b66759c12fd8', 'message': ""enable to segment\n\nSometimes, the users want to temporarily close ha function to\nspecific segment. For example, hardware plug in-out.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 2, 'created': '2020-01-02 10:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/7f90a821fbfdc1be57f23667c85dd807f7441145', 'message': ""enable to segment\n\nSometimes, the users want to temporarily close ha function to\nspecific segment. For example, hardware plug in-out.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 3, 'created': '2020-01-03 07:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae212e774282a0c4658ce00341b42e83c3973ea7', 'message': ""enable to segment\n\nSometimes, the users want to temporarily close ha function to\nspecific segment. For example, hardware plug in-out.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 4, 'created': '2020-03-06 06:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/726067a9e0811eba2a063530e4697d3488c9920c', 'message': ""enable to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 5, 'created': '2020-03-17 12:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/37372da90668965cae0d4bfd6f7d6f5f17828e8c', 'message': ""enable to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 6, 'created': '2020-03-17 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/891d2d058615dec59d958b6142e427ed31c15428', 'message': ""enable to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 7, 'created': '2020-03-24 07:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9d26e5e9423782d84631135fdacb049037fe5083', 'message': ""enable to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 8, 'created': '2020-04-22 06:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ffef155b78c663e2fe5563d31c5d19ccfee4898e', 'message': ""enable to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enable' to segment. If the segment 'enable' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 9, 'created': '2020-05-27 06:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ff06c2305889039d25092b61d217eeda799bd786', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 10, 'created': '2020-06-11 08:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8f53c9fd064c33d26203509b97efdedfbd1f21c4', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 11, 'created': '2020-06-11 11:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/dfbdaf3417051bb96a74264eccc838dbaf3452e4', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 12, 'created': '2020-06-12 02:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5569c81602a4da6bbb07a25312ce5c269c1f05aa', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 13, 'created': '2020-06-15 03:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/24a165ad1a2d26426056ddd790ae714c5c4d81a2', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 14, 'created': '2020-06-22 10:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a8b60bc2e1e5c9527481cf9346a1e8045657cc73', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 15, 'created': '2020-06-28 02:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/3107372c62699e60f53a93072d5f6d1604fb08bb', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 16, 'created': '2020-07-07 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/87b5adba7ba3bd7fdc6c804546f1d4f166356d73', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 17, 'created': '2020-10-19 05:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8bb4e34e5aeab975023e4e3e4b0369d1ff50f039', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 18, 'created': '2021-03-03 02:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/eaa648ec55028bbe5056ddab0e2635baac799730', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}, {'number': 19, 'created': '2021-03-03 02:43:19.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/tests/unit/fakes.py', 'masakari/engine/manager.py', 'masakari/objects/segment.py', 'masakari/tests/unit/objects/test_objects.py', 'masakari/api/openstack/ha/schemas/segments.py', 'masakari/tests/unit/objects/test_segments.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/exception.py', 'masakari/ha/api.py', 'masakari/api/openstack/ha/segments.py', 'masakari/db/sqlalchemy/api.py', 'masakari/api/api_version_request.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/db/sqlalchemy/models.py', 'masakari/notifications/objects/notification.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enabled_to_segments.py', 'masakari/tests/unit/objects/test_hosts.py', 'releasenotes/notes/enabled-to-segment-7e6184feb1e4f818.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/fe88eae9cbead079fd4d18cf79890e308bfbc133', 'message': ""add enabled to segment\n\nSometimes, operators want to temporarily close instance-ha function.\nThis patch add 'enabled' to segment. If the segment 'enabled' value\nis set False, all notifications of this segment will be ignored\nand no recovery methods will execuate.\n\nChange-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac\nImplements: BP enable-to-segment\n""}]",18,700879,fe88eae9cbead079fd4d18cf79890e308bfbc133,72,11,19,24501,,,0,"add enabled to segment

Sometimes, operators want to temporarily close instance-ha function.
This patch add 'enabled' to segment. If the segment 'enabled' value
is set False, all notifications of this segment will be ignored
and no recovery methods will execuate.

Change-Id: I561a2519626fa1beae1e3033a6de510cea8f3fac
Implements: BP enable-to-segment
",git fetch https://review.opendev.org/openstack/masakari refs/changes/79/700879/9 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enable_to_segments.py', 'masakari/tests/unit/fakes.py', 'masakari/engine/manager.py', 'masakari/objects/segment.py', 'masakari/api/openstack/ha/schemas/segments.py', 'masakari/db/sqlalchemy/api.py', 'masakari/db/sqlalchemy/models.py']",8,0b479d4fd923bc11754b607bec21b66759c12fd8,bp/enable-to-segment," enable = Column(Boolean, default=True)",,68,2
openstack%2Fironic-ui~master~I4a9dabfea79c23155fb8986fe8386202d7474485,openstack/ironic-ui,master,I4a9dabfea79c23155fb8986fe8386202d7474485,Use permissions attribute to detect ironic service,MERGED,2021-02-18 16:00:26.000000000,2021-03-10 18:02:02.000000000,2021-03-10 18:00:05.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-18 16:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/a5744811475974a62e2a1c6871c4eaabb29a3c14', 'message': 'Use permissions attribute to detect ironic service\n\nHorizon implements a logic to enable/disable panel by permissions\ndefined in each panel class. This change replaces the current redundant\nlogic but that built-in function to simplify how we defined requirement\nof the Ironic panels.\n\nChange-Id: I4a9dabfea79c23155fb8986fe8386202d7474485\n'}, {'number': 2, 'created': '2021-02-18 17:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/0061061bc871f9f948cdbfb68ca142b8a64a82fc', 'message': 'Use permissions attribute to detect ironic service\n\nHorizon implements a logic to enable/disable panel by permissions\ndefined in each panel class. This change replaces the current redundant\nlogic but that built-in function to simplify how we defined requirement\nof the Ironic panels.\n\nChange-Id: I4a9dabfea79c23155fb8986fe8386202d7474485\n'}, {'number': 3, 'created': '2021-02-19 11:12:44.000000000', 'files': ['ironic_ui/content/ironic/panel.py'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/9887b962ddc27f7bebe212e169d1a2c442a35239', 'message': 'Use permissions attribute to detect ironic service\n\nHorizon implements a logic to enable/disable panel by permissions\ndefined in each panel class. This change replaces the current redundant\nlogic by that built-in feature to simplify how we define requirements\nof the Ironic panels.\n\nChange-Id: I4a9dabfea79c23155fb8986fe8386202d7474485\n'}]",1,776486,9887b962ddc27f7bebe212e169d1a2c442a35239,12,3,3,9816,,,0,"Use permissions attribute to detect ironic service

Horizon implements a logic to enable/disable panel by permissions
defined in each panel class. This change replaces the current redundant
logic by that built-in feature to simplify how we define requirements
of the Ironic panels.

Change-Id: I4a9dabfea79c23155fb8986fe8386202d7474485
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/86/776486/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/content/ironic/panel.py'],1,a5744811475974a62e2a1c6871c4eaabb29a3c14,," permissions = ('openstack.roles.admin', 'openstack.services.baremetal',)"," permissions = ('openstack.roles.admin',) def allowed(self, context): request = context['request'] if not base.is_service_enabled(request, 'baremetal'): return False else: return super(Ironic, self).allowed(context) def nav(self, context): request = context['request'] if not base.is_service_enabled(request, 'baremetal'): return False else: return True",1,15
openstack%2Fpython-cinderclient~master~I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5,openstack/python-cinderclient,master,I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5,Remove install unnecessary packages,MERGED,2020-09-11 07:40:13.000000000,2021-03-10 18:01:36.000000000,2021-03-10 18:01:36.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-11 07:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bdb37d54340e69bfa993f7d685b5396c8704cf04', 'message': 'Remove install unnecessary packages\n\nChange-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5\n'}, {'number': 2, 'created': '2020-09-14 01:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2cd932902635b2b81e4c659e1dd2fc7cf6c14462', 'message': 'Remove install unnecessary packages\n\nChange-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5\n'}, {'number': 3, 'created': '2020-09-14 03:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9eb8acd428c37402756eac752921153ecd35e083', 'message': 'Remove install unnecessary packages\n\nChange-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5\n'}, {'number': 4, 'created': '2020-10-30 03:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/28fd14cfc4977727537405e5047c0b56198844aa', 'message': 'Remove install unnecessary packages\n\nChange-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5\n'}, {'number': 5, 'created': '2021-02-19 05:39:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2ab0c6ee79fb3c30748de4e5e89686fc56699af7', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5\n'}]",1,751175,2ab0c6ee79fb3c30748de4e5e89686fc56699af7,25,8,5,32291,,,0,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I94c2ba1ddfc3a54edc2f69b8d7017e09b02e54a5
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/75/751175/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bdb37d54340e69bfa993f7d685b5396c8704cf04,,, -r{toxinidir}/requirements.txt,0,1
openstack%2Fopenstack-ansible-os_ironic~master~Ia73e88947f52a74d9c03a17a7b1201a6346b5ac3,openstack/openstack-ansible-os_ironic,master,Ia73e88947f52a74d9c03a17a7b1201a6346b5ac3,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:18.000000000,2021-03-10 17:56:36.000000000,2021-03-10 17:54:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:21:18.000000000', 'files': ['vars/redhat.yml', 'tasks/ironic_conductor_post_install.yml', 'handlers/main.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a0a07a43ac83a60e2f592e83ef1a596efc97b939', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Ia73e88947f52a74d9c03a17a7b1201a6346b5ac3\n'}]",0,779736,a0a07a43ac83a60e2f592e83ef1a596efc97b939,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Ia73e88947f52a74d9c03a17a7b1201a6346b5ac3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/36/779736/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/ironic_conductor_post_install.yml', 'handlers/main.yml', 'meta/main.yml', 'vars/suse.yml']",5,a0a07a43ac83a60e2f592e83ef1a596efc97b939,osa-cleanup,,"--- # Copyright 2019, SUSE # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. cache_timeout: 600 ironic_devel_distro_packages: - git-core - libffi-devel - systemd-devel ironic_api_distro_packages: - libxml2-devel - python-systemd ironic_conductor_distro_packages: - ipmitool - ipxe-bootimgs - libxml2-devel - libxslt-devel - open-iscsi - postgresql-devel - python-yaml - qemu-tools - syslinux - tftp - gptfdisk - nginx ironic_conductor_standalone_distro_packages: - dhcp-server ironic_library_modules_paths: - ""/usr/share/syslinux/pxelinux.0"" - ""/usr/share/syslinux/chain.c32"" - ""/usr/share/syslinux/linux.c32"" ironic_tftpd_service_name: tftp ironic_tftpd_root: /srv/tftpboot ironic_inspector_http_distro_packages: - nginx ironic_inspector_isc_dhcp_distro_packages: - tftpd-hpa - isc-dhcp-server ironic_inspector_dnsmasq_distro_packages: - dnsmasq ironic_inspector_standalone_distro_packages: - isc-dhcp-server ironic_inspector_devel_distro_packages: - git-core - libffi-dev - libsystemd-dev ironic_inspector_library_modules_paths: - ""/usr/lib/PXELINUX/pxelinux.0"" - ""/usr/lib/PXELINUX/lpxelinux.0"" - ""/usr/lib/syslinux/modules/efi64/chain.c32"" - ""/usr/lib/syslinux/modules/bios/ldlinux.c32"" - ""/usr/lib/SYSLINUX.EFI/efi64/syslinux.efi"" - ""/usr/lib/syslinux/modules/efi64/ldlinux.e64"" ironic_nginx_conf_path: ""conf.d"" ",6,107
openstack%2Fopenstack-ansible-os_octavia~stable%2Fvictoria~Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,openstack/openstack-ansible-os_octavia,stable/victoria,Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9,Use barbican for certificates storage,MERGED,2021-03-04 12:33:35.000000000,2021-03-10 17:52:21.000000000,2021-03-10 17:51:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-03-04 12:33:35.000000000', 'files': ['templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3d0ca7da881c5452a6438ef267f3f104987863f2', 'message': 'Use barbican for certificates storage\n\nOctavia can do SSL termination only in case when barbican is available.\nWe should be able to add required configuration section only when barbican\nis also present in inventory\n\nChange-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9\n(cherry picked from commit 78d204afb8760915bb32d15a318b20e02176473d)\n'}]",0,778678,3d0ca7da881c5452a6438ef267f3f104987863f2,8,4,1,25023,,,0,"Use barbican for certificates storage

Octavia can do SSL termination only in case when barbican is available.
We should be able to add required configuration section only when barbican
is also present in inventory

Change-Id: Ie319fd02cdd60f8a8ac65f0508e9075f40839ae9
(cherry picked from commit 78d204afb8760915bb32d15a318b20e02176473d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/78/778678/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/octavia.conf.j2', 'defaults/main.yml']",2,3d0ca7da881c5452a6438ef267f3f104987863f2,osa/octavia_barbican-stable/victoria,## Barbican certificates octavia_barbican_enabled: false ,,7,3
openstack%2Fopenstack-ansible-os_gnocchi~master~Ie0dbc0c142bfedabb1027e3809463d78e861b625,openstack/openstack-ansible-os_gnocchi,master,Ie0dbc0c142bfedabb1027e3809463d78e861b625,Remove references to unsupported operating systems,MERGED,2021-03-10 12:20:58.000000000,2021-03-10 17:51:28.000000000,2021-03-10 17:49:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:20:58.000000000', 'files': ['vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/ee09a2ab6243730bc46574ae5808030fca33fc40', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Ie0dbc0c142bfedabb1027e3809463d78e861b625\n'}]",0,779733,ee09a2ab6243730bc46574ae5808030fca33fc40,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Ie0dbc0c142bfedabb1027e3809463d78e861b625
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/33/779733/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml']",3,ee09a2ab6243730bc46574ae5808030fca33fc40,osa-cleanup,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Necessary packages (also includes packages from devel_basis patterns) gnocchi_distro_packages: - autoconf - automake - binutils - cpp - gcc - git-core - glibc-devel - librados2-devel - libtool - m4 - make - postgresql-devel - python-devel - systemd-devel - which # NOTE(noonedeadpunk): These variables are left for migration from apache to uwsgi # which was introduced during train release. They can be dropped afterwards. gnocchi_system_service_name: apache2 gnocchi_apache_config: - ""/etc/apache2/conf.d/gnocchi-httpd.conf"" gnocchi_apache_ports: ""/etc/apache2/conf.d/ports.conf"" ",5,48
openstack%2Ftripleo-quickstart~master~I9d6fa6f48f4cdd7bda7a9fd6b6cb98ad54c6785f,openstack/tripleo-quickstart,master,I9d6fa6f48f4cdd7bda7a9fd6b6cb98ad54c6785f,Remove nautilus repo to pull ceph packages,MERGED,2021-03-10 07:42:47.000000000,2021-03-10 17:51:05.000000000,2021-03-10 17:34:46.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-10 07:42:47.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/47ce14f2b86ea28188f7db545c9227edeac4a408', 'message': 'Remove nautilus repo to pull ceph packages\n\nceph-ansible is available in the octopus repo, and it can be used\nas the default source to pull all the Ceph related packages.\n\nChange-Id: I9d6fa6f48f4cdd7bda7a9fd6b6cb98ad54c6785f\n'}]",0,779657,47ce14f2b86ea28188f7db545c9227edeac4a408,11,4,1,25402,,,0,"Remove nautilus repo to pull ceph packages

ceph-ansible is available in the octopus repo, and it can be used
as the default source to pull all the Ceph related packages.

Change-Id: I9d6fa6f48f4cdd7bda7a9fd6b6cb98ad54c6785f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/57/779657/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,47ce14f2b86ea28188f7db545c9227edeac4a408,cephadm_integration,, # TODO: This is temporary and ideally we should use ceph octopus repository # when the release is W+. Octopus repos doesn't have ceph-ansible. Revisit # when switch from ceph-ansible to cephadm is complete (Ceph nautilus # repos to be removed on W+.) For more detail see: # https://bugs.launchpad.net/tripleo/+bug/1909191 - type: generic reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/ # TODO: includepkgs is temporary and ideally we should use ceph octopus # repository when the release is W+. Revisit when switch from ceph-ansible # to cephadm is complete. After removal of ceph nautilus repos we can # remove includepkgs to pull all package from octopus repository. For more # detail see: https://bugs.launchpad.net/tripleo/+bug/1909191 includepkgs: - cephadm,0,17
openstack%2Fopenstack-ansible-os_octavia~master~I4153df38980650c726cc1a79320b22e1e07605cf,openstack/openstack-ansible-os_octavia,master,I4153df38980650c726cc1a79320b22e1e07605cf,Remove references to unsupported operating systems,MERGED,2021-03-10 12:22:33.000000000,2021-03-10 17:51:00.000000000,2021-03-10 17:47:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:22:33.000000000', 'files': ['vars/redhat.yml', 'tasks/octavia_install.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/02051cb53a27deb18dd3019d958f9f0b3cf37475', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I4153df38980650c726cc1a79320b22e1e07605cf\n'}]",0,779745,02051cb53a27deb18dd3019d958f9f0b3cf37475,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I4153df38980650c726cc1a79320b22e1e07605cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/45/779745/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/octavia_install.yml', 'meta/main.yml', 'vars/suse.yml']",4,02051cb53a27deb18dd3019d958f9f0b3cf37475,osa-cleanup,,"--- # Copyright 2019, SUSE Linux GmbH # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. octavia_distro_packages: - iptables - libxml2-devel - git-core octavia_devel_distro_packages: - systemd-devel",4,29
openstack%2Fopenstack-ansible-os_sahara~master~I502b70c234ef22271c7d947b6c54b687ecd010d2,openstack/openstack-ansible-os_sahara,master,I502b70c234ef22271c7d947b6c54b687ecd010d2,Remove references to unsupported operating systems,MERGED,2021-03-10 12:22:58.000000000,2021-03-10 17:48:27.000000000,2021-03-10 17:37:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:22:58.000000000', 'files': ['meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/b94a60766e158f2335dbbe72b3c6fecad71c8a5c', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I502b70c234ef22271c7d947b6c54b687ecd010d2\n'}]",0,779748,b94a60766e158f2335dbbe72b3c6fecad71c8a5c,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I502b70c234ef22271c7d947b6c54b687ecd010d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/48/779748/1 && git format-patch -1 --stdout FETCH_HEAD,"['meta/main.yml', 'vars/suse.yml']",2,b94a60766e158f2335dbbe72b3c6fecad71c8a5c,osa-cleanup,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. sahara_distro_packages: - cronie - cronie-anacron - git-core - rpcbind - systemd-devel - which ",3,25
openstack%2Fopenstack-ansible-os_ceilometer~master~Ia0b927fe775d5638cd09ecb91af550892764353d,openstack/openstack-ansible-os_ceilometer,master,Ia0b927fe775d5638cd09ecb91af550892764353d,Remove references to unsupported operating systems,MERGED,2021-03-10 12:20:21.000000000,2021-03-10 17:47:05.000000000,2021-03-10 17:35:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:20:21.000000000', 'files': ['tasks/ceilometer_install.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/769da7271d3431598c68d21965aced9d491de233', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Ia0b927fe775d5638cd09ecb91af550892764353d\n'}]",0,779728,769da7271d3431598c68d21965aced9d491de233,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Ia0b927fe775d5638cd09ecb91af550892764353d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/28/779728/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_install.yml', 'meta/main.yml', 'vars/suse.yml']",3,769da7271d3431598c68d21965aced9d491de233,osa-cleanup,,"--- # Copyright 2014, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ceilometer_distro_packages: - git-core - python2-libvirt-python - python3-libvirt-python ceilometer_devel_distro_packages: - pkg-config - systemd-devel - which - libvirt-devel - libxml2-devel - libxslt-devel ceilometer_service_distro_packages: - openstack-ceilometer - openstack-ceilometer-agent-central - openstack-ceilometer-agent-compute - openstack-ceilometer-agent-ipmi - openstack-ceilometer-agent-notification - openstack-ceilometer-polling - python-systemd ceilometer_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 ceilometer_packages_to_symlink: - python2-libvirt-python - python3-libvirt-python ",4,53
openstack%2Fopenstack-ansible-os_heat~master~I1a9fd61f8690621144fc26eec762527d6ffcc33c,openstack/openstack-ansible-os_heat,master,I1a9fd61f8690621144fc26eec762527d6ffcc33c,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:04.000000000,2021-03-10 17:46:47.000000000,2021-03-10 17:35:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:21:04.000000000', 'files': ['vars/redhat.yml', 'tasks/heat_install.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/22b5051802374b719bc13a912f0c1888f5dc5bb0', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I1a9fd61f8690621144fc26eec762527d6ffcc33c\n'}]",0,779734,22b5051802374b719bc13a912f0c1888f5dc5bb0,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I1a9fd61f8690621144fc26eec762527d6ffcc33c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/34/779734/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tasks/heat_install.yml', 'meta/main.yml', 'vars/suse.yml']",4,22b5051802374b719bc13a912f0c1888f5dc5bb0,osa-cleanup,,"--- # Copyright 2018, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. heat_distro_packages: - rsync - libxslt1 - openmpi heat_devel_distro_packages: - systemd-devel heat_service_distro_packages: - openstack-heat - openstack-heat-api - openstack-heat-api-cfn - openstack-heat-engine - openstack-heat-templates - python-systemd heat_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 ",5,43
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7c4ba85cbc1525079a94cb76aa9576b24f1d0fbb,openstack/python-tripleoclient,stable/train,I7c4ba85cbc1525079a94cb76aa9576b24f1d0fbb,Remove unnecessary zuul layout overrides use templates instead,MERGED,2021-03-08 15:08:55.000000000,2021-03-10 17:46:27.000000000,2021-03-10 17:34:27.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/67bbc4c735c4b9b6705ed9e267778709f506958c', 'message': 'Remove unnecessary zuul layout overrides use templates instead\n\nThis removes unnecessary zuul layout overrides. The containers\nmultinode and standalone/scenarios are already included via the\nwired-up templates. Keeps only the undercloud-minion which is not\nin the tripleo-multinode-container-minimal-pipeline [1]. Part of\nwider tripleo-ci optimisation at [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/67a58a43788dfff284ec55eff6f4e65c0116160b/zuul.d/multinode-jobs.yaml#L71-L85\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I7c4ba85cbc1525079a94cb76aa9576b24f1d0fbb\n(cherry picked from commit 7746b2e57f546a04231b490143085a1157b14c27)\n'}, {'number': 2, 'created': '2021-03-09 11:46:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/df4a39e3c86b014a2b72f7a1e3df537660f25332', 'message': 'Remove unnecessary zuul layout overrides use templates instead\n\nThis removes unnecessary zuul layout overrides. The containers\nmultinode and standalone/scenarios are already included via the\nwired-up templates. Keeps only the undercloud-minion which is not\nin the tripleo-multinode-container-minimal-pipeline [1]. Part of\nwider tripleo-ci optimisation at [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/67a58a43788dfff284ec55eff6f4e65c0116160b/zuul.d/multinode-jobs.yaml#L71-L85\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I7c4ba85cbc1525079a94cb76aa9576b24f1d0fbb\n(cherry picked from commit 7746b2e57f546a04231b490143085a1157b14c27)\n'}]",2,779283,df4a39e3c86b014a2b72f7a1e3df537660f25332,13,4,2,8449,,,0,"Remove unnecessary zuul layout overrides use templates instead

This removes unnecessary zuul layout overrides. The containers
multinode and standalone/scenarios are already included via the
wired-up templates. Keeps only the undercloud-minion which is not
in the tripleo-multinode-container-minimal-pipeline [1]. Part of
wider tripleo-ci optimisation at [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/67a58a43788dfff284ec55eff6f4e65c0116160b/zuul.d/multinode-jobs.yaml#L71-L85
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I7c4ba85cbc1525079a94cb76aa9576b24f1d0fbb
(cherry picked from commit 7746b2e57f546a04231b490143085a1157b14c27)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/779283/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,67bbc4c735c4b9b6705ed9e267778709f506958c,tripleo-ci-reduce, dependencies: - tripleo-ci-centos-8-containers-undercloud-minion: vars: dependencies: - tripleo-ci-centos-8-content-provider, dependencies: &deps_unit_lint - tripleo-ci-centos-8-containers-multinode: vars: &multi_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^tripleoclient/v1/tripleo_container_image.py$ - tripleo-ci-centos-8-containers-undercloud-minion: vars: &sa_consumer_vars dependencies: *deps_cprovider gate: queue: tripleo jobs: - openstack-tox-pep8 - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^tripleoclient/v1/tripleo_container_image.py$,4,23
openstack%2Ftripleo-quickstart~master~Id5734e20de5473b433a45986b8aa1c7c0f464d9f,openstack/tripleo-quickstart,master,Id5734e20de5473b433a45986b8aa1c7c0f464d9f,Update victoria release to c8 stream repos/image,MERGED,2021-03-08 18:04:15.000000000,2021-03-10 17:46:05.000000000,2021-03-10 17:34:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-03-08 18:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ae01a3ce28ddff9078a380e5af73c72bfef4766', 'message': 'Update victoria release to c8 stream repos/image\n\n8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,\n8 - ceph-nautilus, ceph-octopus, collectd-5\n\nPull centos-8 stream repos when running jobs on\nthe victoria branch.\nCheck jobs will match integration jobs - the repos\nfor which are being updated in\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/778557\n\nChange-Id: Id5734e20de5473b433a45986b8aa1c7c0f464d9f\n'}, {'number': 2, 'created': '2021-03-10 04:43:46.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b1be70a30fde5f0948cf2975da16890cf69b808a', 'message': 'Update victoria release to c8 stream repos/image\n\n8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,\n8 - ceph-nautilus, ceph-octopus, collectd-5\n\nPull centos-8 stream repos when running jobs on\nthe victoria branch.\nCheck jobs will match integration jobs - the repos\nfor which are being updated in\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/778557\n\nChange-Id: Id5734e20de5473b433a45986b8aa1c7c0f464d9f\n'}]",1,779315,b1be70a30fde5f0948cf2975da16890cf69b808a,29,8,2,32458,,,0,"Update victoria release to c8 stream repos/image

8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,
8 - ceph-nautilus, ceph-octopus, collectd-5

Pull centos-8 stream repos when running jobs on
the victoria branch.
Check jobs will match integration jobs - the repos
for which are being updated in
https://review.opendev.org/c/openstack/tripleo-quickstart/+/778557

Change-Id: Id5734e20de5473b433a45986b8aa1c7c0f464d9f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/15/779315/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/victoria.yml'],1,9ae01a3ce28ddff9078a380e5af73c72bfef4766,centos-8-stream-content-victoria," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/storage/x86_64/ceph-nautilus/baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"""," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2"" ",7,7
openstack%2Fironic~master~Ic8990ac3cb2ddb6e243ce00918793fc96684fde0,openstack/ironic,master,Ic8990ac3cb2ddb6e243ce00918793fc96684fde0,Enforce autospec in test_port,MERGED,2021-03-04 16:21:57.000000000,2021-03-10 17:35:59.000000000,2021-03-10 17:22:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 16:21:57.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_port.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00eb6dcfa22fc15a5e03642d5bd514f0aef830df', 'message': 'Enforce autospec in test_port\n\nRemove filter from tox.ini\n\nChange-Id: Ic8990ac3cb2ddb6e243ce00918793fc96684fde0\n'}]",0,778743,00eb6dcfa22fc15a5e03642d5bd514f0aef830df,10,3,1,23851,,,0,"Enforce autospec in test_port

Remove filter from tox.ini

Change-Id: Ic8990ac3cb2ddb6e243ce00918793fc96684fde0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/778743/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_port.py', 'tox.ini']",2,00eb6dcfa22fc15a5e03642d5bd514f0aef830df,enforce-autospec,, ironic/tests/unit/api/controllers/v1/test_port.py:H210,37,24
openstack%2Fos-apply-config~stable%2Fvictoria~I7696fbb53cfee9dad29273e17a036c5f6963f788,openstack/os-apply-config,stable/victoria,I7696fbb53cfee9dad29273e17a036c5f6963f788,Remove tripleo-multinode-container-minimal from zuul layout,MERGED,2021-02-25 09:59:36.000000000,2021-03-10 17:34:31.000000000,2021-03-10 17:34:31.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 09:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/61b6ecb44b20acc50124ad04bc56b745bf3b1df0', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. Also fixes up\n.gitreview otherwise this cannot get posted against victoria.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788\n'}, {'number': 2, 'created': '2021-02-26 13:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/550f8013d49f4e62ddd10004e892b681813cb20e', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. Also fixes up\n.gitreview otherwise this cannot get posted against victoria.\nAdds some noqa for failing pep8 tests and fixes test-requirements\nfor issue seen at [3].\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/8e22af10ddfd4225b7c164a81b07b323\n\nChange-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788\n'}, {'number': 3, 'created': '2021-03-01 13:05:44.000000000', 'files': ['os_apply_config/value_types.py', '.gitreview', 'test-requirements.txt', 'os_apply_config/renderers.py', 'zuul.d/layout.yaml', 'os_apply_config/apply_config.py'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/ee9ed5cb048ec55a087db6907c4ddb3b6b294fd4', 'message': 'Remove tripleo-multinode-container-minimal from zuul layout\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2]. Also fixes up\n.gitreview otherwise this cannot get posted against victoria.\nAdds some noqa for failing pep8 tests and fixes test-requirements\nfor issue seen at [3]. Removes the openstack-tox-lower-constraints\nwhich failed at [4]. Instaed of fixing remove in line with all\nother tripleo repos which have removed these jobs.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://zuul.opendev.org/t/openstack/build/8e22af10ddfd4225b7c164a81b07b323\n[4] https://zuul.opendev.org/t/openstack/build/4bad7e066c7b4f508ea794401bab85a2\n\nChange-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788\n'}]",0,777534,ee9ed5cb048ec55a087db6907c4ddb3b6b294fd4,16,3,3,8449,,,0,"Remove tripleo-multinode-container-minimal from zuul layout

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2]. Also fixes up
.gitreview otherwise this cannot get posted against victoria.
Adds some noqa for failing pep8 tests and fixes test-requirements
for issue seen at [3]. Removes the openstack-tox-lower-constraints
which failed at [4]. Instaed of fixing remove in line with all
other tripleo repos which have removed these jobs.

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://zuul.opendev.org/t/openstack/build/8e22af10ddfd4225b7c164a81b07b323
[4] https://zuul.opendev.org/t/openstack/build/4bad7e066c7b4f508ea794401bab85a2

Change-Id: I7696fbb53cfee9dad29273e17a036c5f6963f788
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/34/777534/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'zuul.d/layout.yaml']",2,61b6ecb44b20acc50124ad04bc56b745bf3b1df0,tripleo-ci-reduce,, - tripleo-multinode-container-minimal,1,1
openstack%2Ftripleo-heat-templates~master~Ifd373f7aba6d98baa843b141de8a2266eaa71a0b,openstack/tripleo-heat-templates,master,Ifd373f7aba6d98baa843b141de8a2266eaa71a0b,"Make UpgradeInitCommand and UpgradeLeapp{ToRemove,ToInstall,CommandOptions} per-role",MERGED,2021-03-09 16:04:08.000000000,2021-03-10 17:34:14.000000000,2021-03-10 17:34:14.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-09 16:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac83f37cdb34e4dddd1bf553f23f681a247ad2ff', 'message': 'Make UpgradeInitCommand and UpgradeLeapp{ToRemove,ToInstall,CommandOptions} per-role\n\nWhen specific roles are deployed with custom images, for example CephStorage with\novercloud-minimal, then the LeappCommandOptions and/or the list of packages to\nbe removed/installed is not the same across all roles.\n\nThis change makes four parameters to be customized on a per-role basis:\nUpgradeInitCommand\nUpgradeLeappToRemove\nUpgradeLeappToInstall\nUpgradeLeappCommandOptions\n\nChange-Id: Ifd373f7aba6d98baa843b141de8a2266eaa71a0b\n'}, {'number': 2, 'created': '2021-03-09 16:16:30.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/155fe9454b907553a351e724da3b5ef3ce8dcb48', 'message': 'Make UpgradeInitCommand and UpgradeLeapp{ToRemove,ToInstall,CommandOptions} per-role\n\nWhen specific roles are deployed with custom images, for example CephStorage with\novercloud-minimal, then the LeappCommandOptions and/or the list of packages to\nbe removed/installed is not the same across all roles.\n\nThis change makes four parameters to be customized on a per-role basis:\nUpgradeInitCommand\nUpgradeLeappToRemove\nUpgradeLeappToInstall\nUpgradeLeappCommandOptions\n\nRelated-Bug: 1915067\nCloses-Bug: rhbz#1936419\nChange-Id: Ifd373f7aba6d98baa843b141de8a2266eaa71a0b\n'}]",0,779522,155fe9454b907553a351e724da3b5ef3ce8dcb48,12,7,2,6796,,,0,"Make UpgradeInitCommand and UpgradeLeapp{ToRemove,ToInstall,CommandOptions} per-role

When specific roles are deployed with custom images, for example CephStorage with
overcloud-minimal, then the LeappCommandOptions and/or the list of packages to
be removed/installed is not the same across all roles.

This change makes four parameters to be customized on a per-role basis:
UpgradeInitCommand
UpgradeLeappToRemove
UpgradeLeappToInstall
UpgradeLeappCommandOptions

Related-Bug: 1915067
Closes-Bug: rhbz#1936419
Change-Id: Ifd373f7aba6d98baa843b141de8a2266eaa71a0b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/779522/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ac83f37cdb34e4dddd1bf553f23f681a247ad2ff,," upgrade_leapp_command_options: UpgradeLeappCommandOptions upgrade_leapp_to_remove: UpgradeLeappToRemove upgrade_leapp_to_install: UpgradeLeappToInstall upgrade_init_command: UpgradeInitCommand UpgradeLeappCommandOptions: {get_param: UpgradeLeappCommandOptions} UpgradeLeappToRemove: {get_param: UpgradeLeappToRemove} UpgradeLeappToInstall: {get_param: UpgradeLeappToInstall} UpgradeInitCommand: {get_param: UpgradeInitCommand} upgrade_leapp_command_options: {get_attr: [RoleParametersValue, value, 'upgrade_leapp_command_options']} pkg_to_remove: {get_attr: [RoleParametersValue, value, 'upgrade_leapp_to_remove']} pkg_to_install: {get_attr: [RoleParametersValue, value, 'upgrade_leapp_to_install']} - {get_attr: [RoleParametersValue, value, 'upgrade_init_command']}", upgrade_leapp_command_options: {get_param: UpgradeLeappCommandOptions} pkg_to_remove: { get_param: UpgradeLeappToRemove } pkg_to_install: { get_param: UpgradeLeappToInstall } - {get_param: UpgradeInitCommand},12,4
openstack%2Fsushy-oem-idrac~master~Ie40a5e09393b390238ed559e31cba37f73d73dfb,openstack/sushy-oem-idrac,master,Ie40a5e09393b390238ed559e31cba37f73d73dfb,Remove lower constraints,MERGED,2020-12-29 14:57:50.000000000,2021-03-10 17:28:47.000000000,2021-03-10 17:28:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-12-29 14:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/ab526f0981ec00eeca36cb7cd00059f302d9edca', 'message': 'Remove lower constraints\n\nChange-Id: Ie40a5e09393b390238ed559e31cba37f73d73dfb\n'}, {'number': 2, 'created': '2021-03-10 16:34:09.000000000', 'files': ['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/abe646e9512ae1a411b77055df8f30bfffc48ca1', 'message': 'Remove lower constraints\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020[1], the lower-constraints are being\nremoved.\n\n[1] http://eavesdrop.openstack.org/meetings/ironic/2020/ironic.2020-12-14-15.00.log.html#l-92\n\nChange-Id: Ie40a5e09393b390238ed559e31cba37f73d73dfb\n'}]",0,768728,abe646e9512ae1a411b77055df8f30bfffc48ca1,11,3,2,27909,,,0,"Remove lower constraints

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020[1], the lower-constraints are being
removed.

[1] http://eavesdrop.openstack.org/meetings/ironic/2020/ironic.2020-12-14-15.00.log.html#l-92

Change-Id: Ie40a5e09393b390238ed559e31cba37f73d73dfb
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/28/768728/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",3,ab526f0981ec00eeca36cb7cd00059f302d9edca,remove-l-c-job,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,59
openstack%2Fopenstack-ansible-os_designate~master~I96a9757621eab69e7bc16a2e31ab28d0eb8a23be,openstack/openstack-ansible-os_designate,master,I96a9757621eab69e7bc16a2e31ab28d0eb8a23be,Remove references to unsupported operating systems,MERGED,2021-03-10 12:20:42.000000000,2021-03-10 17:28:01.000000000,2021-03-10 17:25:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:20:42.000000000', 'files': ['vars/redhat.yml', 'tests/test-install-designate.yml', 'tests/templates/named.conf.j2', 'tasks/designate_install.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/e0afffd98c1384308a02b832eec0ee7530d2fabe', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I96a9757621eab69e7bc16a2e31ab28d0eb8a23be\n'}]",0,779731,e0afffd98c1384308a02b832eec0ee7530d2fabe,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I96a9757621eab69e7bc16a2e31ab28d0eb8a23be
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/31/779731/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'tests/templates/named.conf.j2', 'tests/test-install-designate.yml', 'tasks/designate_install.yml', 'meta/main.yml', 'vars/suse.yml']",6,e0afffd98c1384308a02b832eec0ee7530d2fabe,osa-cleanup,,"--- # Copyright 2018, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Common yum packages designate_distro_packages: - which designate_service_distro_packages: - openstack-designate - openstack-designate-agent - openstack-designate-api - openstack-designate-central - openstack-designate-producer - openstack-designate-sink - openstack-designate-worker designate_rndc_packages: - bind-utils designate_devel_distro_packages: - systemd-devel ",8,77
openstack%2Fopenstack-ansible-os_tacker~master~I68735b995fe1bce23edb8c092f2199fdde137acd,openstack/openstack-ansible-os_tacker,master,I68735b995fe1bce23edb8c092f2199fdde137acd,Remove references to unsupported operating systems,MERGED,2021-03-10 12:23:23.000000000,2021-03-10 17:26:34.000000000,2021-03-10 17:23:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:23:23.000000000', 'files': ['meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/f70d823db38d416bae875c4d3e0f2e8f6e169dfc', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I68735b995fe1bce23edb8c092f2199fdde137acd\n'}]",0,779751,f70d823db38d416bae875c4d3e0f2e8f6e169dfc,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I68735b995fe1bce23edb8c092f2199fdde137acd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/51/779751/1 && git format-patch -1 --stdout FETCH_HEAD,"['meta/main.yml', 'vars/suse.yml']",2,f70d823db38d416bae875c4d3e0f2e8f6e169dfc,osa-cleanup,,"--- # Copyright 2017, SUSE Linux GmbH # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. tacker_distro_packages: - rsync - git-core - systemd-devel ",4,25
openstack%2Fopenstack-ansible-os_keystone~master~I54153709f0a41b0421491c591efeaeef2c160dcc,openstack/openstack-ansible-os_keystone,master,I54153709f0a41b0421491c591efeaeef2c160dcc,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:48.000000000,2021-03-10 17:26:23.000000000,2021-03-10 17:23:12.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:16:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5c7d93a8170cdcac0945be9eb0abc0cd231802f2', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I54153709f0a41b0421491c591efeaeef2c160dcc\n'}]",0,779677,5c7d93a8170cdcac0945be9eb0abc0cd231802f2,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I54153709f0a41b0421491c591efeaeef2c160dcc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/77/779677/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5c7d93a8170cdcac0945be9eb0abc0cd231802f2,osa-default-python,"keystone_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","keystone_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_nova~master~I4a68549bf85fd322ea344139869916aae3275377,openstack/openstack-ansible-os_nova,master,I4a68549bf85fd322ea344139869916aae3275377,Remove references to unsupported operating systems,MERGED,2021-03-10 12:22:26.000000000,2021-03-10 17:26:14.000000000,2021-03-10 17:19:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:22:26.000000000', 'files': ['tasks/drivers/kvm/nova_enable_ksm.yml', 'templates/nova.conf.j2', 'vars/redhat.yml', 'tasks/nova_install.yml', 'meta/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7b03c1b5b152df7bc963d09acd8d3725b66490b5', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I4a68549bf85fd322ea344139869916aae3275377\n'}]",0,779744,7b03c1b5b152df7bc963d09acd8d3725b66490b5,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I4a68549bf85fd322ea344139869916aae3275377
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/44/779744/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/drivers/kvm/nova_enable_ksm.yml', 'templates/nova.conf.j2', 'vars/redhat.yml', 'tasks/nova_install.yml', 'meta/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml', 'vars/suse.yml']",7,7b03c1b5b152df7bc963d09acd8d3725b66490b5,osa-cleanup,,"--- # Copyright 2014, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. nova_qemu_user: qemu nova_qemu_group: qemu libvirt_group: libvirt libvirt_service_name: libvirtd # Common yum packages nova_distro_packages: - git-core - iptables - libxml2 nova_devel_distro_packages: - libxml2-devel - systemd-devel nova_service_distro_packages: - openstack-nova-api - openstack-nova-conductor - openstack-nova-scheduler - python-memcached - python-PyMySQL - python-systemd nova_service_extra_distro_packages: kvm: - openstack-nova-compute novnc: - openstack-nova-novncproxy spice: [] serialconsole: - openstack-nova-serialproxy nova_compute_packages: - dosfstools - mkisofs - kpartx - python3-libguestfs - sysfsutils nova_compute_barbican_distro_packages: - cryptsetup nova_compute_kvm_distro_packages: - bridge-utils - device-mapper - dosfstools - mkisofs - open-iscsi - kpartx - libvirt-daemon-config-nwfilter - libvirt-daemon-driver-qemu - libvirt-daemon-driver-secret - libvirt-daemon-driver-storage-core - libvirt-daemon-driver-storage-disk - libvirt-daemon-driver-storage-iscsi - libvirt-daemon-driver-storage-logical - libvirt-daemon-driver-storage-mpath - libvirt-daemon-driver-storage-rbd - libvirt-daemon-driver-storage-scsi - netcat-openbsd - qemu-block-iscsi - qemu-block-rbd - qemu-block-ssh - qemu-kvm - qemu-ovmf-x86_64 - python2-libvirt-python - python3-libvirt-python - nfs-utils - python2-libguestfs - python3-libguestfs - qemu-tools - sysfsutils nova_compute_kvm_packages_to_symlink: - python2-libvirt-python - python3-libvirt-python - python2-libguestfs - python3-libguestfs nova_compute_ksm_packages: - qemu-ksm nova_compute_oslomsg_amqp1_distro_packages: - cyrus-sasl-plain - cyrus-sasl-digestmd5 ",19,154
openstack%2Fironic~master~I046c194af01fe77c3eac541f245a377e8e8f71eb,openstack/ironic,master,I046c194af01fe77c3eac541f245a377e8e8f71eb,RBAC Follow-up: Review follow-up.,MERGED,2021-03-08 19:00:31.000000000,2021-03-10 17:26:08.000000000,2021-03-10 17:20:15.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 19:00:31.000000000', 'files': ['ironic/api/controllers/v1/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e1c08c407a63727b1df0ec2c86c537b5b7529be', 'message': ""RBAC Follow-up: Review follow-up.\n\nSince the existing change is approved and in the gate now,\nit doesn't make sense to edit it for the review feedback.\n\nThe included minor feedback is addressed by this change.\n\nChange-Id: I046c194af01fe77c3eac541f245a377e8e8f71eb\n""}]",0,779345,7e1c08c407a63727b1df0ec2c86c537b5b7529be,11,3,1,11655,,,0,"RBAC Follow-up: Review follow-up.

Since the existing change is approved and in the gate now,
it doesn't make sense to edit it for the review feedback.

The included minor feedback is addressed by this change.

Change-Id: I046c194af01fe77c3eac541f245a377e8e8f71eb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/779345/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/utils.py'],1,7e1c08c407a63727b1df0ec2c86c537b5b7529be,secure-rbac," """"""Check if the specified policy authorizes this request on a volume. project_id = cdict.get('project_id') if not project_id: return project_id """"""Check if the specified policy authorizes this request on a volume. a volume target or connector by. # don't expose non-existence of volume unless requester"," """"""Check if the specified policy authorizes this request on a port. owner = cdict.get('project_id') if not owner: return owner """"""Check if the specified policy authorizes this request on a port. a port or portgroup by. # don't expose non-existence of port unless requester",7,7
openstack%2Fkayobe~stable%2Ftrain~I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444,openstack/kayobe,stable/train,I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444,CI: use overlay2 storage driver for overcloud deploy,MERGED,2021-02-24 12:07:51.000000000,2021-03-10 17:25:59.000000000,2021-03-10 17:23:41.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-24 12:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f2632a89838c35643f0bb28bf2ad6cc0c05818c', 'message': ""CI: use overlay2 storage driver for overcloud deploy\n\nSometimes with the overlayfs (v1) driver we can hit the following error\non deploy jobs: Unknown error message: failed to register layer: link\n<path1> <path2>: too many links. This happens when many images share a\nbase image, we can hit the file system's hard link limit.\n\nUse overlay2 storage driver instead.\n\nThis is based on a similar change for the upgrade job:\nI487633546bbd3a65ed2858d0b5b6df715224a9ee\n\nChange-Id: I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n""}, {'number': 2, 'created': '2021-02-24 12:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/070493b169b46b11dfe108d8d1d435694fae119c', 'message': ""CI: use overlay2 storage driver for overcloud deploy\n\nSometimes with the overlayfs (v1) driver we can hit the following error\non deploy jobs: Unknown error message: failed to register layer: link\n<path1> <path2>: too many links. This happens when many images share a\nbase image, we can hit the file system's hard link limit.\n\nUse overlay2 storage driver instead.\n\nThis is based on a similar change for the upgrade job:\nI487633546bbd3a65ed2858d0b5b6df715224a9ee\n\nChange-Id: I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n""}, {'number': 3, 'created': '2021-02-24 20:43:55.000000000', 'files': ['playbooks/kayobe-overcloud-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8bac90b1b91ec1355fe3432d86d7f755d3f4fa24', 'message': ""CI: use overlay2 storage driver for overcloud deploy\n\nSometimes with the overlayfs (v1) driver we can hit the following error\non deploy jobs: Unknown error message: failed to register layer: link\n<path1> <path2>: too many links. This happens when many images share a\nbase image, we can hit the file system's hard link limit.\n\nUse overlay2 storage driver instead.\n\nThis is based on a similar change for the upgrade job:\nI487633546bbd3a65ed2858d0b5b6df715224a9ee\n\nChange-Id: I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n""}]",1,777373,8bac90b1b91ec1355fe3432d86d7f755d3f4fa24,18,3,3,14826,,,0,"CI: use overlay2 storage driver for overcloud deploy

Sometimes with the overlayfs (v1) driver we can hit the following error
on deploy jobs: Unknown error message: failed to register layer: link
<path1> <path2>: too many links. This happens when many images share a
base image, we can hit the file system's hard link limit.

Use overlay2 storage driver instead.

This is based on a similar change for the upgrade job:
I487633546bbd3a65ed2858d0b5b6df715224a9ee

Change-Id: I0a4512ac5b18e91b43ffbbb43c11b9c3d6b1b444
Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/73/777373/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-base/overrides.yml.j2'],1,3f2632a89838c35643f0bb28bf2ad6cc0c05818c,," # NOTE(priteau): Use the overlay2 storage driver in overcloud-upgrade jobs. # Sometimes with the overlayfs (v1) driver we can hit the following error on # upgrade jobs: Unknown error message: failed to register layer: link <path1> # <path2>: too many links. This happens when many images share a base image, we # can hit the file system's hard link limit. docker_storage_driver: overlay2",,7,0
openstack%2Fopenstack-ansible-os_cinder~master~I796d9de164a8b79eff8a615442dd46e7de2353e7,openstack/openstack-ansible-os_cinder,master,I796d9de164a8b79eff8a615442dd46e7de2353e7,Remove references to unsupported operating systems,MERGED,2021-03-10 12:20:29.000000000,2021-03-10 17:25:48.000000000,2021-03-10 17:23:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:20:29.000000000', 'files': ['tasks/main.yml', 'vars/redhat.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/cinder_install.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/13ac3d38ee698f5137dc9e4c18bf067f69af27e1', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: I796d9de164a8b79eff8a615442dd46e7de2353e7\n'}]",0,779729,13ac3d38ee698f5137dc9e4c18bf067f69af27e1,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: I796d9de164a8b79eff8a615442dd46e7de2353e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/29/779729/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat.yml', 'defaults/main.yml', 'meta/main.yml', 'tasks/cinder_install.yml', 'vars/suse.yml']",6,13ac3d38ee698f5137dc9e4c18bf067f69af27e1,osa-cleanup,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2017, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # service names tgt_service_name: tgtd # Common yum packages cinder_distro_packages: - libkmod2 - libxslt1 cinder_service_distro_packages: - openstack-cinder-scheduler - python3-openstackclient - python3-shade cinder_api_distro_packages: - openstack-cinder-api cinder_devel_distro_packages: - git-core - libxslt-devel - libkmod-devel - postgresql-devel - systemd-devel - zlib-devel cinder_volume_service_distro_packages: - openstack-cinder-volume cinder_volume_distro_packages_tools: - qemu-tools cinder_volume_distro_packages: - open-iscsi - nfs-utils - rpcbind cinder_lvm_volume_distro_packages: - device-mapper - lvm2 - parted - tgt cinder_backup_service_distro_packages: - openstack-cinder-backup cinder_backup_distro_packages: - open-iscsi - nfs-utils - rpcbind cinder_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 ",7,80
openstack%2Fglance-tempest-plugin~master~Ia32fd218bcde1606979cec267dfea520a1629db2,openstack/glance-tempest-plugin,master,Ia32fd218bcde1606979cec267dfea520a1629db2,Consume enforce_scope config from Tempest,NEW,2021-03-05 14:51:52.000000000,2021-03-10 17:21:20.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 14:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/0587b8f7c39d49231c22791df299cf34bee0bf68', 'message': 'Consume enforce_scope config from Tempest\n\nTempest has added a centralized config option to tell if\nservices has enforce_scope enabled in test env so that their\ntest can be run with scoped token.\n- https://review.opendev.org/c/openstack/tempest/+/773816\n\nCONF.enforce_scope.<service-name>\n\nThis commit moves glance-tempest-plugins RBAC test to use\nthat for consistency.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/778952\nChange-Id: Ia32fd218bcde1606979cec267dfea520a1629db2\n'}, {'number': 2, 'created': '2021-03-05 15:48:11.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/config.py', '.zuul.yaml', 'glance_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/aa6e2ac4ecb9006b7d41bcf02d9bf553ba8afb63', 'message': 'Consume enforce_scope config from Tempest\n\nTempest has added a centralized config option to tell if\nservices has enforce_scope enabled in test env so that their\ntest can be run with scoped token.\n- https://review.opendev.org/c/openstack/tempest/+/773816\n\nCONF.enforce_scope.<service-name>\n\nThis commit moves glance-tempest-plugins RBAC test to use\nthat for consistency.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/778952\nChange-Id: Ia32fd218bcde1606979cec267dfea520a1629db2\n'}]",11,778954,aa6e2ac4ecb9006b7d41bcf02d9bf553ba8afb63,10,2,2,8556,,,0,"Consume enforce_scope config from Tempest

Tempest has added a centralized config option to tell if
services has enforce_scope enabled in test env so that their
test can be run with scoped token.
- https://review.opendev.org/c/openstack/tempest/+/773816

CONF.enforce_scope.<service-name>

This commit moves glance-tempest-plugins RBAC test to use
that for consistency.

Depends-On: https://review.opendev.org/c/openstack/glance/+/778952
Change-Id: Ia32fd218bcde1606979cec267dfea520a1629db2
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/54/778954/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/config.py', '.zuul.yaml', 'glance_tempest_plugin/plugin.py']",4,0587b8f7c39d49231c22791df299cf34bee0bf68,secure-rbac, pass pass," config.register_opt_group(conf, config.image_feature_group, project_config.image_feature_opts) return [(config.image_feature_group.name, project_config.image_feature_opts)]",5,16
openstack%2Fironic~master~Ide7ac1a29f6e07842462d6e39fe797a309218884,openstack/ironic,master,Ide7ac1a29f6e07842462d6e39fe797a309218884,Enforce autospec in test_volume_connector,MERGED,2021-03-04 15:07:13.000000000,2021-03-10 17:21:18.000000000,2021-03-10 17:21:18.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 15:07:13.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_volume_connector.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0696ea0a80af70ad6cb7c4d2b66f307aeb8cdb4', 'message': 'Enforce autospec in test_volume_connector\n\nAdjust unit tests and remove filter from tox.ini\n\nChange-Id: Ide7ac1a29f6e07842462d6e39fe797a309218884\n'}]",0,778721,b0696ea0a80af70ad6cb7c4d2b66f307aeb8cdb4,9,3,1,23851,,,0,"Enforce autospec in test_volume_connector

Adjust unit tests and remove filter from tox.ini

Change-Id: Ide7ac1a29f6e07842462d6e39fe797a309218884
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/778721/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_volume_connector.py', 'tox.ini']",2,b0696ea0a80af70ad6cb7c4d2b66f307aeb8cdb4,enforce-autospec,, ironic/tests/unit/api/controllers/v1/test_volume_connector.py:H210,33,24
openstack%2Fironic~master~I67fe1dd81ae7fe384c869e73d88182fcde402826,openstack/ironic,master,I67fe1dd81ae7fe384c869e73d88182fcde402826,Enforce autospec in test_volume_target,MERGED,2021-03-03 17:25:01.000000000,2021-03-10 17:20:36.000000000,2021-03-10 17:20:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 17:25:01.000000000', 'files': ['tox.ini', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4cae9b828212fb60ce9c6698ae659f1b1dc3d82', 'message': 'Enforce autospec in test_volume_target\n\nAdapt unit tests and remove filter from tox.ini\n\nChange-Id: I67fe1dd81ae7fe384c869e73d88182fcde402826\n'}]",0,778516,b4cae9b828212fb60ce9c6698ae659f1b1dc3d82,9,3,1,23851,,,0,"Enforce autospec in test_volume_target

Adapt unit tests and remove filter from tox.ini

Change-Id: I67fe1dd81ae7fe384c869e73d88182fcde402826
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/778516/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py']",2,b4cae9b828212fb60ce9c6698ae659f1b1dc3d82,enforce-autospec," @mock.patch.object(api_utils, 'get_rpc_node', autospec=True) @mock.patch.object(api_utils, 'get_rpc_node', autospec=True)@mock.patch.object(rpcapi.ConductorAPI, 'update_volume_target', autospec=True) p = mock.patch.object(rpcapi.ConductorAPI, 'get_topic_for', autospec=True) @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True) kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True) kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] kargs = mock_upd.call_args[0][2] @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True) @mock.patch.object(timeutils, 'utcnow', autospec=True) @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True) @mock.patch.object(objects.VolumeTarget, 'create', autospec=True)@mock.patch.object(rpcapi.ConductorAPI, 'destroy_volume_target', autospec=True) gtf = mock.patch.object(rpcapi.ConductorAPI, 'get_topic_for', autospec=True) @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True) @mock.patch.object(notification_utils, '_emit_api_notification', autospec=True)"," @mock.patch.object(api_utils, 'get_rpc_node') @mock.patch.object(api_utils, 'get_rpc_node')@mock.patch.object(rpcapi.ConductorAPI, 'update_volume_target') p = mock.patch.object(rpcapi.ConductorAPI, 'get_topic_for') @mock.patch.object(notification_utils, '_emit_api_notification') kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] @mock.patch.object(notification_utils, '_emit_api_notification') kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] kargs = mock_upd.call_args[0][1] @mock.patch.object(notification_utils, '_emit_api_notification') @mock.patch.object(timeutils, 'utcnow') @mock.patch.object(notification_utils, '_emit_api_notification') @mock.patch.object(objects.VolumeTarget, 'create')@mock.patch.object(rpcapi.ConductorAPI, 'destroy_volume_target') gtf = mock.patch.object(rpcapi.ConductorAPI, 'get_topic_for') @mock.patch.object(notification_utils, '_emit_api_notification') @mock.patch.object(notification_utils, '_emit_api_notification')",32,24
openstack%2Fopenstack-ansible-os_gnocchi~master~I4f8a1b20fe58269ccc45044c1926755d853d7abe,openstack/openstack-ansible-os_gnocchi,master,I4f8a1b20fe58269ccc45044c1926755d853d7abe,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:17.000000000,2021-03-10 17:18:56.000000000,2021-03-10 17:15:16.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:16:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/688f0173dc39880c42d7f4fae45f72bf262fd83d', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I4f8a1b20fe58269ccc45044c1926755d853d7abe\n'}]",0,779673,688f0173dc39880c42d7f4fae45f72bf262fd83d,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I4f8a1b20fe58269ccc45044c1926755d853d7abe
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/73/779673/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,688f0173dc39880c42d7f4fae45f72bf262fd83d,osa-default-python,"gnocchi_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","gnocchi_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-tempest-skiplist~master~I288a82190c2c1d753c6e4a255e4b977ba53adb27,openstack/openstack-tempest-skiplist,master,I288a82190c2c1d753c6e4a255e4b977ba53adb27,set the python interp in ansible modules,MERGED,2020-07-30 20:38:27.000000000,2021-03-10 17:17:59.000000000,2021-03-10 17:15:25.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 20:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4024cc7323008c93586051db525067d97d08a11e', 'message': 'set the python interp in ansible modules\n\npython is not found on centos8 nodes\n /bin/sh: /home/jenkins/workspace/\ntripleo-quickstart-promote-master-\ncurrent-tripleo-delorean\n-minimal/bin/python: No such file or directory\n\nPartial-Bug: #1888244\nChange-Id: I288a82190c2c1d753c6e4a255e4b977ba53adb27\n'}, {'number': 2, 'created': '2021-03-10 16:05:58.000000000', 'files': ['tempest_skip/main.py', 'tempest_skip/validate.py', 'tempest_skip/list_yaml.py'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/606482450fd3621b11bee4ada888f1430dd17db0', 'message': 'set the python interp in ansible modules\n\npython is not found on centos8 nodes\n /bin/sh: /home/jenkins/workspace/\ntripleo-quickstart-promote-master-\ncurrent-tripleo-delorean\n-minimal/bin/python: No such file or directory\n\nPartial-Bug: #1888244\nChange-Id: I288a82190c2c1d753c6e4a255e4b977ba53adb27\n'}]",0,744049,606482450fd3621b11bee4ada888f1430dd17db0,11,4,2,9592,,,0,"set the python interp in ansible modules

python is not found on centos8 nodes
 /bin/sh: /home/jenkins/workspace/
tripleo-quickstart-promote-master-
current-tripleo-delorean
-minimal/bin/python: No such file or directory

Partial-Bug: #1888244
Change-Id: I288a82190c2c1d753c6e4a255e4b977ba53adb27
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/49/744049/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_skip/main.py', 'tempest_skip/validate.py', 'tempest_skip/list_yaml.py']",3,4024cc7323008c93586051db525067d97d08a11e,,#!/usr/bin/python,,3,0
openstack%2Ftempest~master~I057efa07014d066d6ff8ae392c69da0ef174ce03,openstack/tempest,master,I057efa07014d066d6ff8ae392c69da0ef174ce03,Explicit casts to support python3,ABANDONED,2016-10-18 01:52:51.000000000,2021-03-10 17:17:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 7553}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 23184}]","[{'number': 1, 'created': '2016-10-18 01:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d901ec28153b539e4250794ca4ce79381c2d143c', 'message': 'Explicit casts to support python3\n\nUse explicit casts as needed to support python3,\nsince some type conversions are no longer implicit\nas they were in python2.\n\nChange-Id: I057efa07014d066d6ff8ae392c69da0ef174ce03\n'}, {'number': 2, 'created': '2016-10-18 03:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c42cc046e62b71aae6402473d7fc2ce274d2b46', 'message': 'Explicit casts to support python3\n\nUse explicit casts as needed to support python3,\nsince some type conversions are no longer implicit\nas they were in python2.\n\nChange-Id: I057efa07014d066d6ff8ae392c69da0ef174ce03\n'}, {'number': 3, 'created': '2016-11-03 11:28:13.000000000', 'files': ['tempest/common/custom_matchers.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_container_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0603d3e048aa171509b7cb1ecc488f3dc93ea61', 'message': 'Explicit casts to support python3\n\nUse explicit casts as needed to support python3,\nsince some type conversions are no longer implicit\nas they were in python2.\n\nChange-Id: I057efa07014d066d6ff8ae392c69da0ef174ce03\n'}]",0,387745,b0603d3e048aa171509b7cb1ecc488f3dc93ea61,35,7,3,7553,,,0,"Explicit casts to support python3

Use explicit casts as needed to support python3,
since some type conversions are no longer implicit
as they were in python2.

Change-Id: I057efa07014d066d6ff8ae392c69da0ef174ce03
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/387745/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/custom_matchers.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_container_services.py']",3,d901ec28153b539e4250794ca4ce79381c2d143c,python3_fixes," self.assertEqual(object_name, object_list.decode().strip('\n')) self.assertEqual('', object_list.decode().strip('\n')) self.assertEqual(object_name.split('/')[0], object_list.decode().strip('/\n')) self.assertEqual(object_name, object_list.decode().strip('\n')) self.assertEqual(object_name, object_list.decode().strip('\n')) self.assertEqual(object_name, object_list.decode().strip('\n')) self.assertEqual(object_name, object_list.decode().strip('\n')) self.assertEqual(object_name, object_list.decode().strip('\n'))"," self.assertEqual(object_name, object_list.strip('\n')) self.assertEqual('', object_list.strip('\n')) self.assertEqual(object_name.split('/')[0], object_list.strip('/\n')) self.assertEqual(object_name, object_list.strip('\n')) self.assertEqual(object_name, object_list.strip('\n')) self.assertEqual(object_name, object_list.strip('\n')) self.assertEqual(object_name, object_list.strip('\n')) self.assertEqual(object_name, object_list.strip('\n'))",10,10
openstack%2Fopenstack-ansible-os_ironic~master~Id28e42c69d2e0a7f9688080d9bc8943c71744e26,openstack/openstack-ansible-os_ironic,master,Id28e42c69d2e0a7f9688080d9bc8943c71744e26,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:40.000000000,2021-03-10 17:16:59.000000000,2021-03-10 17:14:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:16:40.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9adda06789695d70c75381b20bd181a73ba7f040', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Id28e42c69d2e0a7f9688080d9bc8943c71744e26\n'}]",0,779676,9adda06789695d70c75381b20bd181a73ba7f040,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: Id28e42c69d2e0a7f9688080d9bc8943c71744e26
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/76/779676/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9adda06789695d70c75381b20bd181a73ba7f040,osa-default-python,"ironic_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","ironic_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_rally~master~Ia09789da8c8137c982dcd7560fe61a98a07309e7,openstack/openstack-ansible-os_rally,master,Ia09789da8c8137c982dcd7560fe61a98a07309e7,Remove references to unsupported operating systems,MERGED,2021-03-10 12:22:49.000000000,2021-03-10 17:16:36.000000000,2021-03-10 17:13:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 12:22:49.000000000', 'files': ['meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/c1edfb23bc15f061bed55c87e0f32f34db323e3e', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Ia09789da8c8137c982dcd7560fe61a98a07309e7\n'}]",0,779747,c1edfb23bc15f061bed55c87e0f32f34db323e3e,8,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Ia09789da8c8137c982dcd7560fe61a98a07309e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/47/779747/1 && git format-patch -1 --stdout FETCH_HEAD,"['meta/main.yml', 'vars/suse.yml']",2,c1edfb23bc15f061bed55c87e0f32f34db323e3e,osa-cleanup,,"--- # Copyright 2018, SUSE Linux GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. rally_distro_packages: [] ",2,21
openstack%2Fironic~master~Ie9849d5dec4da50c65e2e864041e07924ae21df7,openstack/ironic,master,Ie9849d5dec4da50c65e2e864041e07924ae21df7,Allow support for multipath volumes,MERGED,2021-02-15 17:25:25.000000000,2021-03-10 17:10:19.000000000,2021-03-10 17:08:06.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 17:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31d4313487f075176e55b37e749d0e8410724be5', 'message': 'Allow support for multipath volumes\n\nUpdates the generated iscsi url if the `target_portals` volume\nproperty is set.\n\nChange-Id: Ie9849d5dec4da50c65e2e864041e07924ae21df7\n'}, {'number': 2, 'created': '2021-02-15 17:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e915c446e2f06503b2512dc8863f22530419a80b', 'message': 'Allow support for multipath volumes\n\nUpdates the generated iscsi url if the `target_portals` volume\nproperty is set.\n\nChange-Id: Ie9849d5dec4da50c65e2e864041e07924ae21df7\n'}, {'number': 3, 'created': '2021-03-05 17:34:28.000000000', 'files': ['ironic/tests/unit/drivers/ipxe_config_boot_from_volume_multipath.template', 'releasenotes/notes/volume-multipath-63b96f8331e771ae.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0354940e449b6e1787321813431afcc6a552bd5c', 'message': 'Allow support for multipath volumes\n\nUpdates the generated iscsi url if the `target_portals` volume\nproperty is set.\n\nChange-Id: Ie9849d5dec4da50c65e2e864041e07924ae21df7\n'}]",0,775681,0354940e449b6e1787321813431afcc6a552bd5c,24,3,3,7386,,,0,"Allow support for multipath volumes

Updates the generated iscsi url if the `target_portals` volume
property is set.

Change-Id: Ie9849d5dec4da50c65e2e864041e07924ae21df7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/775681/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",2,31d4313487f075176e55b37e749d0e8410724be5,volume-multipath," iso_boot=False, multipath=False): if multipath: expected_options.update({ 'iscsi_boot_url': 'iscsi:fake_host::3260:0:fake_iqn ' 'iscsi:faker_host::3261:0:fake_iqn', }) else: expected_options.update({ 'iscsi_boot_url': 'iscsi:fake_host::3260:0:fake_iqn', }) self._test_build_pxe_config_options_ipxe(boot_from_volume=True, multipath=True)"," iso_boot=False): 'iscsi_boot_url': 'iscsi:fake_host::3260:0:fake_iqn', self._test_build_pxe_config_options_ipxe(boot_from_volume=True)",28,9
openstack%2Fbarbican~stable%2Ftrain~I3b9bce933ddf3de3cc59d9e12106c442e10d993b,openstack/barbican,stable/train,I3b9bce933ddf3de3cc59d9e12106c442e10d993b,Drop lower-constraints job to unblock gate,MERGED,2021-03-08 19:48:15.000000000,2021-03-10 17:07:06.000000000,2021-03-10 16:57:31.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 19:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3551fd5032c47e27d5fa3f37258406a563d0adea', 'message': 'Drop lower-constraints job to unblock gate\n\nChange-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b\n(cherry picked from commit 35f1367726a072ff390883019b0ac1d9ae1729a2)\n'}, {'number': 2, 'created': '2021-03-08 19:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9351a084c20250f9a93acc7de63e37575d12326c', 'message': 'Drop lower-constraints job to unblock gate\n\nChange-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b\n(cherry picked from commit 35f1367726a072ff390883019b0ac1d9ae1729a2)\n'}, {'number': 3, 'created': '2021-03-08 22:09:40.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6e0de74810d0a57803e29437e4d8b88e0d72be28', 'message': 'Drop lower-constraints job to unblock gate\n\nChange-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b\n(cherry picked from commit 35f1367726a072ff390883019b0ac1d9ae1729a2)\n'}]",0,779323,6e0de74810d0a57803e29437e4d8b88e0d72be28,24,2,3,7973,,,0,"Drop lower-constraints job to unblock gate

Change-Id: I3b9bce933ddf3de3cc59d9e12106c442e10d993b
(cherry picked from commit 35f1367726a072ff390883019b0ac1d9ae1729a2)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/23/779323/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3551fd5032c47e27d5fa3f37258406a563d0adea,drop-lower-constraints-stable/train,<<<<<<< HEAD (606ff8 Use barbican.conf in barbican-manage)======= - openstack-python3-ussuri-jobs >>>>>>> CHANGE (35f136 Drop lower-constraints job to unblock gate),,4,0
openstack%2Fopenstack-ansible-os_heat~master~I5fe4c8689291d2868628aac7a5eacdc286b9dfbb,openstack/openstack-ansible-os_heat,master,I5fe4c8689291d2868628aac7a5eacdc286b9dfbb,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:24.000000000,2021-03-10 17:06:43.000000000,2021-03-10 17:04:19.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:16:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/ffd42757b701b51bda4b8ed83f1b4a142293ab9b', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I5fe4c8689291d2868628aac7a5eacdc286b9dfbb\n'}]",0,779674,ffd42757b701b51bda4b8ed83f1b4a142293ab9b,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I5fe4c8689291d2868628aac7a5eacdc286b9dfbb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/74/779674/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,ffd42757b701b51bda4b8ed83f1b4a142293ab9b,osa-default-python,"heat_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","heat_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_designate~master~Ie5286f3a59c553ed17f44c4fd5d3cb425b364e3e,openstack/openstack-ansible-os_designate,master,Ie5286f3a59c553ed17f44c4fd5d3cb425b364e3e,Switch default virtualenv to python3,MERGED,2021-03-10 09:16:02.000000000,2021-03-10 17:05:53.000000000,2021-03-10 17:03:49.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:16:02.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0897b1b616d542df07215fa9af392e5772eb8245', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Ie5286f3a59c553ed17f44c4fd5d3cb425b364e3e\n'}]",0,779671,0897b1b616d542df07215fa9af392e5772eb8245,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: Ie5286f3a59c553ed17f44c4fd5d3cb425b364e3e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/71/779671/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0897b1b616d542df07215fa9af392e5772eb8245,osa-default-python,"designate_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","designate_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_cinder~master~Ifb3b2f46d94cac6bc1a37933fd29593b560fe8e8,openstack/openstack-ansible-os_cinder,master,Ifb3b2f46d94cac6bc1a37933fd29593b560fe8e8,Switch default virtualenv to python3,MERGED,2021-03-10 09:15:47.000000000,2021-03-10 17:05:40.000000000,2021-03-10 17:03:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-03-10 09:15:47.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/eae837413ffd460969c7acfdf413191a11020339', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Ifb3b2f46d94cac6bc1a37933fd29593b560fe8e8\n'}]",0,779669,eae837413ffd460969c7acfdf413191a11020339,9,4,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: Ifb3b2f46d94cac6bc1a37933fd29593b560fe8e8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/69/779669/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,eae837413ffd460969c7acfdf413191a11020339,osa-default-python,"cinder_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","cinder_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_barbican~master~I3e52273517a8857446a0446aa8229ce86c21d261,openstack/openstack-ansible-os_barbican,master,I3e52273517a8857446a0446aa8229ce86c21d261,Switch default virtualenv to python3,MERGED,2021-03-10 09:14:52.000000000,2021-03-10 16:56:13.000000000,2021-03-10 16:54:40.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:14:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/fe9a859de55b8a027517efd8d3bc26b5c373d24b', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I3e52273517a8857446a0446aa8229ce86c21d261\n'}]",0,779667,fe9a859de55b8a027517efd8d3bc26b5c373d24b,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I3e52273517a8857446a0446aa8229ce86c21d261
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/67/779667/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,fe9a859de55b8a027517efd8d3bc26b5c373d24b,osa-default-python,"barbican_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","barbican_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fhorizon~master~Ib339e524fd92f564b0eea881be7dcfef354ad499,openstack/horizon,master,Ib339e524fd92f564b0eea881be7dcfef354ad499,[DNM] Testing Plugin-related unit tests,NEW,2021-03-10 14:01:59.000000000,2021-03-10 16:52:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-10 14:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6478b8096b42246b5ce441daf998124d16851806', 'message': '[DNM] Testing Plugin-related unit tests\n\nChange-Id: Ib339e524fd92f564b0eea881be7dcfef354ad499\n'}, {'number': 2, 'created': '2021-03-10 15:02:11.000000000', 'files': ['openstack_dashboard/test/test_plugins/test_panel_group.py', 'openstack_dashboard/test/test_plugins/test_panel.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7ad6677b6cfdb622d766045c7c14cec6dd2e55c1', 'message': '[DNM] Testing Plugin-related unit tests\n\nChange-Id: Ib339e524fd92f564b0eea881be7dcfef354ad499\n'}]",0,779770,7ad6677b6cfdb622d766045c7c14cec6dd2e55c1,5,2,2,29313,,,0,"[DNM] Testing Plugin-related unit tests

Change-Id: Ib339e524fd92f564b0eea881be7dcfef354ad499
",git fetch https://review.opendev.org/openstack/horizon refs/changes/70/779770/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/test_plugins/test_panel_group.py', 'openstack_dashboard/test/test_plugins/test_panel.py']",2,6478b8096b42246b5ce441daf998124d16851806,," dashboard = horizon.get_dashboard(""admin"") panel_group = dashboard.get_panel_group('admin') self.assertIn(plugin_panel.PluginPanel, [p.__class__ for p in dashboard.get_panels()]) self.assertIn(plugin_panel.PluginPanel, [p.__class__ for p in panel_group])"," # NOTE(e0ne): the code below is commented until bug #1866666 is fixed. # We can't just kip this test due to the mentioned bug. # dashboard = horizon.get_dashboard(""admin"") # panel_group = dashboard.get_panel_group('admin') # self.assertIn(plugin_panel.PluginPanel, # [p.__class__ for p in dashboard.get_panels()]) # self.assertIn(plugin_panel.PluginPanel, # [p.__class__ for p in panel_group])",10,14
openstack%2Foctavia~master~I9dc49fe352f98fa163f353dab8d095c249a4a305,openstack/octavia,master,I9dc49fe352f98fa163f353dab8d095c249a4a305,Implement secure RBAC for quotas,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:45:11.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8feefd7431bf19de1f355ebdf2cf91b037769a9', 'message': 'Implement secure RBAC for quotas\n\nThis commit updates the policies for quotas to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I9dc49fe352f98fa163f353dab8d095c249a4a305\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/quota.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/974fe988a2d4383c658bf01d45a674770be935a1', 'message': 'Implement secure RBAC for quotas\n\nThis commit updates the policies for quotas to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I9dc49fe352f98fa163f353dab8d095c249a4a305\n'}]",0,763827,974fe988a2d4383c658bf01d45a674770be935a1,8,2,2,5046,,,0,"Implement secure RBAC for quotas

This commit updates the policies for quotas to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I9dc49fe352f98fa163f353dab8d095c249a4a305
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/763827/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/quota.py'],1,a8feefd7431bf19de1f355ebdf2cf91b037769a9,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The quota API now supports system scope and default roles. """""" deprecated_quota_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ_QUOTA ) deprecated_quota_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_QUOTA_GLOBAL ) deprecated_quota_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ_QUOTA ) deprecated_quota_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE_QUOTA ) deprecated_quota_reset = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE_QUOTA ) deprecated_quota_show_default = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_DEFAULTS ), check_str=constants.RULE_API_READ_QUOTA ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Quotas"", operations=[{'method': 'GET', 'path': '/v2/lbaas/quotas'}], deprecated_rule=deprecated_quota_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Quotas including resources owned by others"", operations=[{'method': 'GET', 'path': '/v2/lbaas/quotas'}], deprecated_rule=deprecated_quota_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Quota details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/quotas/{project_id}'} ], deprecated_rule=deprecated_quota_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update a Quota"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/quotas/{project_id}'} ], deprecated_rule=deprecated_quota_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Reset a Quota"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/quotas/{project_id}'} ], deprecated_rule=deprecated_quota_reset, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_DEFAULTS ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Default Quota for a Project"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/quotas/{project_id}/default'} ], deprecated_rule=deprecated_quota_show_default, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL), constants.RULE_API_READ_QUOTA, ""List Quotas"", [{'method': 'GET', 'path': '/v2/lbaas/quotas'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_QUOTA_GLOBAL, ""List Quotas including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/quotas'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_ONE), constants.RULE_API_READ_QUOTA, ""Show Quota details"", [{'method': 'GET', 'path': '/v2/lbaas/quotas/{project_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_PUT), constants.RULE_API_WRITE_QUOTA, ""Update a Quota"", [{'method': 'PUT', 'path': '/v2/lbaas/quotas/{project_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_DELETE), constants.RULE_API_WRITE_QUOTA, ""Reset a Quota"", [{'method': 'DELETE', 'path': '/v2/lbaas/quotas/{project_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_QUOTA, action=constants.RBAC_GET_DEFAULTS), constants.RULE_API_READ_QUOTA, ""Show Default Quota for a Project"", [{'method': 'GET', 'path': '/v2/lbaas/quotas/{project_id}/default'}]",127,34
openstack%2Foctavia~master~I0ccb9a59705d41c07bc14bb23bbd7431f5380282,openstack/octavia,master,I0ccb9a59705d41c07bc14bb23bbd7431f5380282,Implement secure RBAC for provider flavors,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:58.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe1ea9bcea9a9aff1ec45e1bb3396d14af7d9853', 'message': 'Implement secure RBAC for provider flavors\n\nThis commit updates the policy for provider flavors to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I0ccb9a59705d41c07bc14bb23bbd7431f5380282\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/provider_flavor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b425d7714b4a2a38577c21bb001732fd376770e4', 'message': 'Implement secure RBAC for provider flavors\n\nThis commit updates the policy for provider flavors to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I0ccb9a59705d41c07bc14bb23bbd7431f5380282\n'}]",0,763826,b425d7714b4a2a38577c21bb001732fd376770e4,8,2,2,5046,,,0,"Implement secure RBAC for provider flavors

This commit updates the policy for provider flavors to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I0ccb9a59705d41c07bc14bb23bbd7431f5380282
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/763826/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/provider_flavor.py'],1,fe1ea9bcea9a9aff1ec45e1bb3396d14af7d9853,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The provider flavor API now supports system scope and default roles. """""" deprecated_provider_flavor_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_PROVIDER_FLAVOR, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_PROVIDER_FLAVOR, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""List the provider flavor capabilities."", operations=[ {'method': 'GET', 'path': '/v2/lbaas/providers/{provider}/flavor_capabilities'} ], deprecated_rule=deprecated_provider_flavor_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_PROVIDER_FLAVOR, action=constants.RBAC_GET_ALL), constants.RULE_API_ADMIN, ""List the provider flavor capabilities."", [{'method': 'GET', 'path': '/v2/lbaas/providers/{provider}/flavor_capabilities'}]",28,6
openstack%2Foctavia~master~I643829b3f412f272ee54a3abbe17ccc878ed7a18,openstack/octavia,master,I643829b3f412f272ee54a3abbe17ccc878ed7a18,Implement secure RBAC for provider availability zones,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:54.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/74f2df767e3decc937f392a8fe9c81619d30e373', 'message': 'Implement secure RBAC for provider availability zones\n\nThis commit updates the policy for provider availability zones to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I643829b3f412f272ee54a3abbe17ccc878ed7a18\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/provider_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2b683846f201548f8c380c6daff53361fda18c0', 'message': 'Implement secure RBAC for provider availability zones\n\nThis commit updates the policy for provider availability zones to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I643829b3f412f272ee54a3abbe17ccc878ed7a18\n'}]",0,763825,a2b683846f201548f8c380c6daff53361fda18c0,8,2,2,5046,,,0,"Implement secure RBAC for provider availability zones

This commit updates the policy for provider availability zones to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I643829b3f412f272ee54a3abbe17ccc878ed7a18
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/763825/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/provider_availability_zone.py'],1,74f2df767e3decc937f392a8fe9c81619d30e373,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The provider availability zone API now supports system scope and default roles. """""" deprecated_provider_az_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_PROVIDER_AVAILABILITY_ZONE, action=constants.RBAC_GET_ALL), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List the provider availability zone capabilities."", operations=[ {'method': 'GET', 'path': '/v2/lbaas/providers/{provider}/' 'availability_zone_capabilities'} ], deprecated_rule=deprecated_provider_az_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""List the provider availability zone capabilities."", [{'method': 'GET', 'path': '/v2/lbaas/providers/{provider}/' 'availability_zone_capabilities'}]",26,6
openstack%2Foctavia~master~I7d0094e0f0e55384b69b432f0f2a602b785f81ab,openstack/octavia,master,I7d0094e0f0e55384b69b432f0f2a602b785f81ab,Implement secure RBAC for providers,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:50.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/77fa6c2b1b58c88049dd7097c9a9cd96f8f9ef8e', 'message': 'Implement secure RBAC for providers\n\nThis commit updates the policy for providers to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I7d0094e0f0e55384b69b432f0f2a602b785f81ab\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/provider.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/eceeb64b42f53b34cdfab6aa737b6266610f321d', 'message': 'Implement secure RBAC for providers\n\nThis commit updates the policy for providers to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I7d0094e0f0e55384b69b432f0f2a602b785f81ab\n'}]",0,763824,eceeb64b42f53b34cdfab6aa737b6266610f321d,8,2,2,5046,,,0,"Implement secure RBAC for providers

This commit updates the policy for providers to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: I7d0094e0f0e55384b69b432f0f2a602b785f81ab
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/763824/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/provider.py'],1,77fa6c2b1b58c88049dd7097c9a9cd96f8f9ef8e,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The provider API now supports system scope and default roles. """""" deprecated_provider_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_PROVIDER, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_PROVIDER, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List enabled providers"", operations=[{'method': 'GET', 'path': '/v2/lbaas/providers'}], deprecated_rule=deprecated_provider_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_PROVIDER, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List enabled providers"", [{'method': 'GET', 'path': '/v2/lbaas/providers'}]",25,5
openstack%2Foctavia~master~Ibd5878da6d9228e22d98781352c1f8e2f233dd62,openstack/octavia,master,Ibd5878da6d9228e22d98781352c1f8e2f233dd62,Implement secure RBAC for pools,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:46.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/df2a96bfe622fc0202dcd4d25ebd5f0cb0bff1e8', 'message': 'Implement secure RBAC for pools\n\nThis commit updates the policies for pool policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ibd5878da6d9228e22d98781352c1f8e2f233dd62\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/pool.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/51135997887b19c8bdb075ac57b61e37b190f544', 'message': 'Implement secure RBAC for pools\n\nThis commit updates the policies for pool policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Ibd5878da6d9228e22d98781352c1f8e2f233dd62\n'}]",0,763823,51135997887b19c8bdb075ac57b61e37b190f544,8,2,2,5046,,,0,"Implement secure RBAC for pools

This commit updates the policies for pool policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Ibd5878da6d9228e22d98781352c1f8e2f233dd62
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/763823/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/pool.py'],1,df2a96bfe622fc0202dcd4d25ebd5f0cb0bff1e8,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" """""" deprecated_pool_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_pool_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_GLOBAL ) deprecated_pool_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_pool_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_pool_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_pool_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Pools"", operations=[{'method': 'GET', 'path': '/v2/lbaas/pools'}], deprecated_rule=deprecated_pool_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Pools including resources owned by others"", operations=[{'method': 'GET', 'path': '/v2/lbaas/pools'}], deprecated_rule=deprecated_pool_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a Pool"", operations=[{'method': 'POST', 'path': '/v2/lbaas/pools'}], deprecated_rule=deprecated_pool_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Pool details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}'} ], deprecated_rule=deprecated_pool_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a Pool"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/pools/{pool_id}'} ], deprecated_rule=deprecated_pool_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_POOL, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a Pool"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/pools/{pool_id}'} ], deprecated_rule=deprecated_pool_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Pools"", [{'method': 'GET', 'path': '/v2/lbaas/pools'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_GLOBAL, ""List Pools including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/pools'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a Pool"", [{'method': 'POST', 'path': '/v2/lbaas/pools'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Pool details"", [{'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a Pool"", [{'method': 'PUT', 'path': '/v2/lbaas/pools/{pool_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_POOL, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a Pool"", [{'method': 'DELETE', 'path': '/v2/lbaas/pools/{pool_id}'}]",123,33
openstack%2Foctavia~master~I3db80fdf34849057159384536ca812d9eba054c7,openstack/octavia,master,I3db80fdf34849057159384536ca812d9eba054c7,Implement secure RBAC for pool members,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:43.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0aed38099045b81d89a9963b851be7222c444705', 'message': 'Implement secure RBAC for pool members\n\nThis commit updates the policies for pool member policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I3db80fdf34849057159384536ca812d9eba054c7\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/member.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/db6bc50f675f61b67720dfcda4bb06de11a912b2', 'message': 'Implement secure RBAC for pool members\n\nThis commit updates the policies for pool member policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I3db80fdf34849057159384536ca812d9eba054c7\n'}]",0,763822,db6bc50f675f61b67720dfcda4bb06de11a912b2,8,2,2,5046,,,0,"Implement secure RBAC for pool members

This commit updates the policies for pool member policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I3db80fdf34849057159384536ca812d9eba054c7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/22/763822/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/member.py'],1,0aed38099045b81d89a9963b851be7222c444705,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The pool member API now supports system scope and default roles. """""" deprecated_member_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ, ) deprecated_member_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_member_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_member_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_member_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Members of a Pool"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}/members'} ], deprecated_rule=deprecated_member_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a Member"", operations=[ {'method': 'POST', 'path': '/v2/lbaas/pools/{pool_id}/members'} ], deprecated_rule=deprecated_member_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Member details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'} ], deprecated_rule=deprecated_member_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a Member"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'} ], deprecated_rule=deprecated_member_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a Member"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'} ], deprecated_rule=deprecated_member_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Members of a Pool"", [{'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}/members'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a Member"", [{'method': 'POST', 'path': '/v2/lbaas/pools/{pool_id}/members'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Member details"", [{'method': 'GET', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a Member"", [{'method': 'PUT', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_MEMBER, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a Member"", [{'method': 'DELETE', 'path': '/v2/lbaas/pools/{pool_id}/members/{member_id}'}]",110,28
openstack%2Foctavia~master~Ic1ddae9cb043774c644880294929b8a06fc09c76,openstack/octavia,master,Ic1ddae9cb043774c644880294929b8a06fc09c76,Implement secure RBAC for load balancers,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:40.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc85851ccff08de672d33d66132fa8864592c05f', 'message': 'Implement secure RBAC for load balancers\n\nThis commit updates the policies for load balancers policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Ic1ddae9cb043774c644880294929b8a06fc09c76\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6bf0972c11f37bd5d7428d3d6becf119e0c9fecc', 'message': 'Implement secure RBAC for load balancers\n\nThis commit updates the policies for load balancers policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Ic1ddae9cb043774c644880294929b8a06fc09c76\n'}]",0,763821,6bf0972c11f37bd5d7428d3d6becf119e0c9fecc,8,2,2,5046,,,0,"Implement secure RBAC for load balancers

This commit updates the policies for load balancers policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: Ic1ddae9cb043774c644880294929b8a06fc09c76
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/763821/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/loadbalancer.py'],1,dc85851ccff08de672d33d66132fa8864592c05f,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The load balancer API now supports system scope and default roles. """""" deprecated_lb_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_lb_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_GLOBAL ) deprecated_lb_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_lb_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_lb_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_lb_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) deprecated_lb_stats = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATS ), check_str=constants.RULE_API_READ ) deprecated_lb_status = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATUS ), check_str=constants.RULE_API_READ ) deprecated_lb_failover = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT_FAILOVER ), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Load Balancers"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/loadbalancers'} ], deprecated_rule=deprecated_lb_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Load Balancers including resources owned by others"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/loadbalancers'} ], deprecated_rule=deprecated_lb_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a Load Balancer"", operations=[{'method': 'POST', 'path': '/v2/lbaas/loadbalancers'}], deprecated_rule=deprecated_lb_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Load Balancer details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'} ], deprecated_rule=deprecated_lb_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a Load Balancer"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'} ], deprecated_rule=deprecated_lb_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a Load Balancer"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'} ], deprecated_rule=deprecated_lb_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATS ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Load Balancer statistics"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/stats'} ], deprecated_rule=deprecated_lb_stats, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATUS ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Load Balancer status"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/status'} ], deprecated_rule=deprecated_lb_status, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT_FAILOVER ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Failover a Load Balancer"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/failover'} ], deprecated_rule=deprecated_lb_failover, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Load Balancers"", [{'method': 'GET', 'path': '/v2/lbaas/loadbalancers'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_GLOBAL, ""List Load Balancers including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/loadbalancers'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a Load Balancer"", [{'method': 'POST', 'path': '/v2/lbaas/loadbalancers'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Load Balancer details"", [{'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a Load Balancer"", [{'method': 'PUT', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a Load Balancer"", [{'method': 'DELETE', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATS), constants.RULE_API_READ, ""Show Load Balancer statistics"", [{'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/stats'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_GET_STATUS), constants.RULE_API_READ, ""Show Load Balancer status"", [{'method': 'GET', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/status'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LOADBALANCER, action=constants.RBAC_PUT_FAILOVER), constants.RULE_API_ADMIN, ""Failover a Load Balancer"", [{'method': 'PUT', 'path': '/v2/lbaas/loadbalancers/{loadbalancer_id}/failover'}]",190,51
openstack%2Foctavia~master~I4a31aa9c0b5caad415a662ec39370d4da4503749,openstack/octavia,master,I4a31aa9c0b5caad415a662ec39370d4da4503749,Implement secure RBAC for listeners,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:37.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89689ddba4dd0917694c9019b45bcfa8dc8c4b47', 'message': 'Implement secure RBAC for listeners\n\nThis commit updates the policies for listeners policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I4a31aa9c0b5caad415a662ec39370d4da4503749\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3652c94b802b3b325916c4cf563d567b702f810c', 'message': 'Implement secure RBAC for listeners\n\nThis commit updates the policies for listeners policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I4a31aa9c0b5caad415a662ec39370d4da4503749\n'}]",0,763820,3652c94b802b3b325916c4cf563d567b702f810c,9,2,2,5046,,,0,"Implement secure RBAC for listeners

This commit updates the policies for listeners policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I4a31aa9c0b5caad415a662ec39370d4da4503749
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/763820/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/listener.py'],1,89689ddba4dd0917694c9019b45bcfa8dc8c4b47,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The listener API now support system scope and default roles. """""" deprecated_listener_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_listener_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_GLOBAL ) deprecated_listener_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_listener_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_listener_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_listener_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) deprecated_listener_stats = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_STATS ), check_str=constants.RULE_API_READ ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Listeners"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/listeners'} ], deprecated_rule=deprecated_listener_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Listeners including resources owned by others"", operations=[{'method': 'GET', 'path': '/v2/lbaas/listeners'}], deprecated_rule=deprecated_listener_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a Listener"", operations=[{'method': 'POST', 'path': '/v2/lbaas/listeners'}], deprecated_rule=deprecated_listener_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Listener details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/listeners/{listener_id}'} ], deprecated_rule=deprecated_listener_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a Listener"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/listeners/{listener_id}'} ], deprecated_rule=deprecated_listener_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a Listener"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/listeners/{listener_id}'} ], deprecated_rule=deprecated_listener_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_STATS ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Listener statistics"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/listeners/{listener_id}/stats'} ], deprecated_rule=deprecated_listener_stats, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Listeners"", [{'method': 'GET', 'path': '/v2/lbaas/listeners'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_GLOBAL, ""List Listeners including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/listeners'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a Listener"", [{'method': 'POST', 'path': '/v2/lbaas/listeners'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Listener details"", [{'method': 'GET', 'path': '/v2/lbaas/listeners/{listener_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a Listener"", [{'method': 'PUT', 'path': '/v2/lbaas/listeners/{listener_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a Listener"", [{'method': 'DELETE', 'path': '/v2/lbaas/listeners/{listener_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_LISTENER, action=constants.RBAC_GET_STATS), constants.RULE_API_READ, ""Show Listener statistics"", [{'method': 'GET', 'path': '/v2/lbaas/listeners/{listener_id}/stats'}]",147,39
openstack%2Foctavia~master~I54a507becd7a0a3154faad60f5c6539c9ed03fc2,openstack/octavia,master,I54a507becd7a0a3154faad60f5c6539c9ed03fc2,Implement secure RBAC for L7 rules,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:33.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0a95604cda8ed4819c1c0077e514e0a08aa4ebd', 'message': 'Implement secure RBAC for L7 rules\n\nThis commit updates the policies for L7 rules policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I54a507becd7a0a3154faad60f5c6539c9ed03fc2\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/l7rule.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc92215a367853ad39cea6bc8d7d12ac378a18cd', 'message': 'Implement secure RBAC for L7 rules\n\nThis commit updates the policies for L7 rules policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I54a507becd7a0a3154faad60f5c6539c9ed03fc2\n'}]",0,763819,cc92215a367853ad39cea6bc8d7d12ac378a18cd,8,2,2,5046,,,0,"Implement secure RBAC for L7 rules

This commit updates the policies for L7 rules policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I54a507becd7a0a3154faad60f5c6539c9ed03fc2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/763819/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/l7rule.py'],1,d0a95604cda8ed4819c1c0077e514e0a08aa4ebd,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The L7 rule API now supports system scope and default roles. """""" deprecated_l7_rule_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_l7_rule_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_l7_rule_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_l7_rule_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_l7_rule_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List L7 Rules"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules'} ], deprecated_rule=deprecated_l7_rule_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a L7 Rule"", operations=[ {'method': 'POST', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules'} ], deprecated_rule=deprecated_l7_rule_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show L7 Rule details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'} ], deprecated_rule=deprecated_l7_rule_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a L7 Rule"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'} ], deprecated_rule=deprecated_l7_rule_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a L7 Rule"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'} ], deprecated_rule=deprecated_l7_rule_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List L7 Rules"", [{'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a L7 Rule"", [{'method': 'POST', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show L7 Rule details"", [{'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a L7 Rule"", [{'method': 'PUT', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7RULE, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a L7 Rule"", [{'method': 'DELETE', 'path': '/v2/lbaas/l7policies/{l7policy_id}/rules/{l7rule_id}'}]",112,30
openstack%2Foctavia~master~Id5bf1e7cc003f437f337e76b3eb5d7a4b9e73e86,openstack/octavia,master,Id5bf1e7cc003f437f337e76b3eb5d7a4b9e73e86,Implement secure RBAC for L7 policies,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:29.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4855677c97479f74f403974d7e2c24fee548201', 'message': 'Implement secure RBAC for L7 policies\n\nThis commit updates the policies for L7 policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id5bf1e7cc003f437f337e76b3eb5d7a4b9e73e86\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/l7policy.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a07196e2c11ad0c7b773a6039fdc6103ccad0060', 'message': 'Implement secure RBAC for L7 policies\n\nThis commit updates the policies for L7 policies to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id5bf1e7cc003f437f337e76b3eb5d7a4b9e73e86\n'}]",0,763818,a07196e2c11ad0c7b773a6039fdc6103ccad0060,8,2,2,5046,,,0,"Implement secure RBAC for L7 policies

This commit updates the policies for L7 policies to understand scope checking
and account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Id5bf1e7cc003f437f337e76b3eb5d7a4b9e73e86
",git fetch https://review.opendev.org/openstack/octavia refs/changes/18/763818/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/l7policy.py'],1,c4855677c97479f74f403974d7e2c24fee548201,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The L7 policies API now supports system scope and default roles. """""" deprecated_l7_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_l7_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_GLOBAL ) deprecated_l7_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_l7_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_l7_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_l7_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List L7 Policys"", operations=[{'method': 'GET', 'path': '/v2/lbaas/l7policies'}], deprecated_rule=deprecated_l7_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List L7 Policys including resources owned by others"", operations=[{'method': 'GET', 'path': '/v2/lbaas/l7policies'}], deprecated_rule=deprecated_l7_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a L7 Policy"", operations=[{'method': 'POST', 'path': '/v2/lbaas/l7policies'}], deprecated_rule=deprecated_l7_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show L7 Policy details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}'} ], deprecated_rule=deprecated_l7_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a L7 Policy"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/l7policies/{l7policy_id}'} ], deprecated_rule=deprecated_l7_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a L7 Policy"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/l7policies/{l7policy_id}'} ], deprecated_rule=deprecated_l7_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List L7 Policys"", [{'method': 'GET', 'path': '/v2/lbaas/l7policies'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_GLOBAL, ""List L7 Policys including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/l7policies'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a L7 Policy"", [{'method': 'POST', 'path': '/v2/lbaas/l7policies'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show L7 Policy details"", [{'method': 'GET', 'path': '/v2/lbaas/l7policies/{l7policy_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a L7 Policy"", [{'method': 'PUT', 'path': '/v2/lbaas/l7policies/{l7policy_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_L7POLICY, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a L7 Policy"", [{'method': 'DELETE', 'path': '/v2/lbaas/l7policies/{l7policy_id}'}]",124,33
openstack%2Foctavia~master~I64daa66da432c3a23c0e6ebfc6afbca8cdf10016,openstack/octavia,master,I64daa66da432c3a23c0e6ebfc6afbca8cdf10016,Implement secure RBAC for health monitors,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:26.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/16170f0820d4abd82b862859a46618e1977024f2', 'message': 'Implement secure RBAC for health monitors\n\nThis commit updates the policies for health monitors policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I64daa66da432c3a23c0e6ebfc6afbca8cdf10016\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/healthmonitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/793198296d9c91b27168fb1a0511ca3bee078c8a', 'message': 'Implement secure RBAC for health monitors\n\nThis commit updates the policies for health monitors policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I64daa66da432c3a23c0e6ebfc6afbca8cdf10016\n'}]",0,763817,793198296d9c91b27168fb1a0511ca3bee078c8a,8,2,2,5046,,,0,"Implement secure RBAC for health monitors

This commit updates the policies for health monitors policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I64daa66da432c3a23c0e6ebfc6afbca8cdf10016
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/763817/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/healthmonitor.py'],1,16170f0820d4abd82b862859a46618e1977024f2,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The health monitor API now supports system scope and default roles. """""" deprecated_health_monitor_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_health_monitor_list_all = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.RULE_API_READ_GLOBAL ) deprecated_health_monitor_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_POST ), check_str=constants.RULE_API_WRITE ) deprecated_health_monitor_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_health_monitor_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_PUT ), check_str=constants.RULE_API_WRITE ) deprecated_health_monitor_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_WRITE ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Health Monitors of a Pool"", operations=[{'method': 'GET', 'path': '/v2/lbaas/healthmonitors'}], deprecated_rule=deprecated_health_monitor_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL_GLOBAL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Health Monitors including resources owned by others"", operations=[{'method': 'GET', 'path': '/v2/lbaas/healthmonitors'}], deprecated_rule=deprecated_health_monitor_list_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Create a Health Monitor"", operations=[{'method': 'POST', 'path': '/v2/lbaas/healthmonitors'}], deprecated_rule=deprecated_health_monitor_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Health Monitor details"", operations=[ {'method': 'GET', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'} ], deprecated_rule=deprecated_health_monitor_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Update a Health Monitor"", operations=[ {'method': 'PUT', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'} ], deprecated_rule=deprecated_health_monitor_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], description=""Remove a Health Monitor"", operations=[ {'method': 'DELETE', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'} ], deprecated_rule=deprecated_health_monitor_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Health Monitors of a Pool"", [{'method': 'GET', 'path': '/v2/lbaas/healthmonitors'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ALL_GLOBAL), constants.RULE_API_READ_GLOBAL, ""List Health Monitors including resources owned by others"", [{'method': 'GET', 'path': '/v2/lbaas/healthmonitors'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_POST), constants.RULE_API_WRITE, ""Create a Health Monitor"", [{'method': 'POST', 'path': '/v2/lbaas/healthmonitors'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Health Monitor details"", [{'method': 'GET', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_PUT), constants.RULE_API_WRITE, ""Update a Health Monitor"", [{'method': 'PUT', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_HEALTHMONITOR, action=constants.RBAC_DELETE), constants.RULE_API_WRITE, ""Remove a Health Monitor"", [{'method': 'DELETE', 'path': '/v2/lbaas/healthmonitors/{healthmonitor_id}'}]",124,33
openstack%2Foctavia~master~Icabcefea9656ebba295048774fa787b8bd7bb9a7,openstack/octavia,master,Icabcefea9656ebba295048774fa787b8bd7bb9a7,Implement secure RBAC for flavor profiles,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:22.000000000,,"[{'_account_id': 1131}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cdc0bcb0cf395fcc70f6d31dcb2eb4dfd25a358', 'message': 'Implement secure RBAC for flavor profiles\n\nThis commit updates the policies for flavor profile policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Icabcefea9656ebba295048774fa787b8bd7bb9a7\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/flavor_profile.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9784bdec265785a8c85b9439ed323bcfc0667cfe', 'message': 'Implement secure RBAC for flavor profiles\n\nThis commit updates the policies for flavor profile policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Icabcefea9656ebba295048774fa787b8bd7bb9a7\n'}]",0,763816,9784bdec265785a8c85b9439ed323bcfc0667cfe,11,3,2,5046,,,0,"Implement secure RBAC for flavor profiles

This commit updates the policies for flavor profile policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: Icabcefea9656ebba295048774fa787b8bd7bb9a7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/763816/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/flavor_profile.py'],1,1cdc0bcb0cf395fcc70f6d31dcb2eb4dfd25a358,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The flavor profile API now supports system scope and default roles. """""" deprecated_flavor_profile_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_profile_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_POST ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_profile_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_PUT ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_profile_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_profile_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Flavor Profiles"", operations=[{'method': 'GET', 'path': '/v2.0/lbaas/flavorprofiles'}], deprecated_rule=deprecated_flavor_profile_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Create a Flavor Profile"", operations=[{'method': 'POST', 'path': '/v2.0/lbaas/flavorprofiles'}], deprecated_rule=deprecated_flavor_profile_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update a Flavor Profile"", operations=[ {'method': 'PUT', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'} ], deprecated_rule=deprecated_flavor_profile_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""Show Flavor Profile details"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'} ], deprecated_rule=deprecated_flavor_profile_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Remove a Flavor Profile"", operations=[ {'method': 'DELETE', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'} ], deprecated_rule=deprecated_flavor_profile_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ALL), constants.RULE_API_ADMIN, ""List Flavor Profiles"", [{'method': 'GET', 'path': '/v2.0/lbaas/flavorprofiles'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_POST), constants.RULE_API_ADMIN, ""Create a Flavor Profile"", [{'method': 'POST', 'path': '/v2.0/lbaas/flavorprofiles'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_PUT), constants.RULE_API_ADMIN, ""Update a Flavor Profile"", [{'method': 'PUT', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_GET_ONE), constants.RULE_API_ADMIN, ""Show Flavor Profile details"", [{'method': 'GET', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR_PROFILE, action=constants.RBAC_DELETE), constants.RULE_API_ADMIN, ""Remove a Flavor Profile"", [{'method': 'DELETE', 'path': '/v2.0/lbaas/flavorprofiles/{flavor_profile_id}'}]",105,28
openstack%2Foctavia~master~Iae9daf820d7b76911941c23b98fe28a7e98f532b,openstack/octavia,master,Iae9daf820d7b76911941c23b98fe28a7e98f532b,Implement secure RBAC for flavors,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:19.000000000,,"[{'_account_id': 1131}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b756351999a572ef008e0330e66593420beec89e', 'message': 'Implement secure RBAC for flavors\n\nThis commit updates the policies for flavor policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Iae9daf820d7b76911941c23b98fe28a7e98f532b\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/flavor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/506a275cd3d6accbdd2c81b3e192b51d6a705372', 'message': 'Implement secure RBAC for flavors\n\nThis commit updates the policies for flavor policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Iae9daf820d7b76911941c23b98fe28a7e98f532b\n'}]",0,763815,506a275cd3d6accbdd2c81b3e192b51d6a705372,10,3,2,5046,,,0,"Implement secure RBAC for flavors

This commit updates the policies for flavor policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Iae9daf820d7b76911941c23b98fe28a7e98f532b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/763815/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/flavor.py'],1,b756351999a572ef008e0330e66593420beec89e,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The flavor API now supports system scope and default roles. """""" deprecated_flavor_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ALL ), check_str=constants.RULE_API_READ ) deprecated_flavor_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_POST ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_PUT ), check_str=constants.RULE_API_ADMIN ) deprecated_flavor_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ONE ), check_str=constants.RULE_API_READ ) deprecated_flavor_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_DELETE ), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Flavors"", operations=[{'method': 'GET', 'path': '/v2.0/lbaas/flavors'}], deprecated_rule=deprecated_flavor_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Create a Flavor"", operations=[{'method': 'POST', 'path': '/v2.0/lbaas/flavors'}], deprecated_rule=deprecated_flavor_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update a Flavor"", operations=[ {'method': 'PUT', 'path': '/v2.0/lbaas/flavors/{flavor_id}'} ], deprecated_rule=deprecated_flavor_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Flavor details"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/flavors/{flavor_id}'} ], deprecated_rule=deprecated_flavor_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Remove a Flavor"", operations=[ {'method': 'DELETE', 'path': '/v2.0/lbaas/flavors/{flavor_id}'} ], deprecated_rule=deprecated_flavor_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Flavors"", [{'method': 'GET', 'path': '/v2.0/lbaas/flavors'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_POST), constants.RULE_API_ADMIN, ""Create a Flavor"", [{'method': 'POST', 'path': '/v2.0/lbaas/flavors'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_PUT), constants.RULE_API_ADMIN, ""Update a Flavor"", [{'method': 'PUT', 'path': '/v2.0/lbaas/flavors/{flavor_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Flavor details"", [{'method': 'GET', 'path': '/v2.0/lbaas/flavors/{flavor_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_FLAVOR, action=constants.RBAC_DELETE), constants.RULE_API_ADMIN, ""Remove a Flavor"", [{'method': 'DELETE', 'path': '/v2.0/lbaas/flavors/{flavor_id}'}]",104,27
openstack%2Foctavia~master~Ic294ba786c4493e90fad75382f51f74e9ace179a,openstack/octavia,master,Ic294ba786c4493e90fad75382f51f74e9ace179a,Implement secure RBAC for availability zones profiles,ABANDONED,2020-11-23 17:51:11.000000000,2021-03-10 16:44:15.000000000,,"[{'_account_id': 1131}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/db4b4c580a6bbdccd7e2894704ebf1243568b60c', 'message': 'Implement secure RBAC for availability zones profiles\n\nThis commit updates the policies for availability zones profile policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Ic294ba786c4493e90fad75382f51f74e9ace179a\n'}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/availability_zone_profile.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/19529a298b9f17e7694707bb904f0760b5518cfd', 'message': 'Implement secure RBAC for availability zones profiles\n\nThis commit updates the policies for availability zones profile policies to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: Ic294ba786c4493e90fad75382f51f74e9ace179a\n'}]",0,763814,19529a298b9f17e7694707bb904f0760b5518cfd,11,3,2,5046,,,0,"Implement secure RBAC for availability zones profiles

This commit updates the policies for availability zones profile policies to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: Ic294ba786c4493e90fad75382f51f74e9ace179a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/763814/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/availability_zone_profile.py'],1,db4b4c580a6bbdccd7e2894704ebf1243568b60c,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The availability zone profile API now supports system scope and default roles. """""" deprecated_az_profile_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE_PROFILE, action=constants.RBAC_GET_ALL), check_str=constants.RULE_API_ADMIN ) deprecated_az_profile_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE_PROFILE, action=constants.RBAC_POST), check_str=constants.RULE_API_ADMIN ) deprecated_az_profile_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE_PROFILE, action=constants.RBAC_PUT), check_str=constants.RULE_API_ADMIN ) deprecated_az_profile_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE_PROFILE, action=constants.RBAC_GET_ONE), check_str=constants.RULE_API_ADMIN ) deprecated_az_profile_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE_PROFILE, action=constants.RBAC_DELETE), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Availability Zones"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/availabilityzoneprofiles'} ], deprecated_rule=deprecated_az_profile_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Create an Availability Zone"", operations=[ {'method': 'POST', 'path': '/v2.0/lbaas/availabilityzoneprofiles'} ], deprecated_rule=deprecated_az_profile_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update an Availability Zone"", operations=[ {'method': 'PUT', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'} ], deprecated_rule=deprecated_az_profile_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_READER, scope_types=['system'], description=""Show Availability Zone details"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'} ], deprecated_rule=deprecated_az_profile_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Remove an Availability Zone"", operations=[ {'method': 'DELETE', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'} ], deprecated_rule=deprecated_az_profile_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""List Availability Zones"", [{'method': 'GET', 'path': '/v2.0/lbaas/availabilityzoneprofiles'}] '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""Create an Availability Zone"", [{'method': 'POST', 'path': '/v2.0/lbaas/availabilityzoneprofiles'}] '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""Update an Availability Zone"", [{'method': 'PUT', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'}] '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""Show Availability Zone details"", [{'method': 'GET', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'}] '{rbac_obj}{action}'.format( constants.RULE_API_ADMIN, ""Remove an Availability Zone"", [{'method': 'DELETE', 'path': '/v2.0/lbaas/availabilityzoneprofiles/' '{availability_zone_profile_id}'}]",92,26
openstack%2Foctavia~master~Idbc13b7cf102451ca50185565dc9d3170dfa20d2,openstack/octavia,master,Idbc13b7cf102451ca50185565dc9d3170dfa20d2,Implement secure RBAC for availability zones,ABANDONED,2020-11-19 22:23:56.000000000,2021-03-10 16:44:12.000000000,,"[{'_account_id': 1131}, {'_account_id': 5046}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 22:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f82698e3c731710edd4a3ac3ac133c11a1463c68', 'message': 'Implement secure RBAC for availability zones\n\nThis commit updates the policies for availability zones policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Idbc13b7cf102451ca50185565dc9d3170dfa20d2\n'}, {'number': 2, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/82b3116278f9cdaef79bc346f924132ab7b3932a', 'message': 'Implement secure RBAC for availability zones\n\nThis commit updates the policies for availability zones policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Idbc13b7cf102451ca50185565dc9d3170dfa20d2\n'}, {'number': 3, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d0cd47c04c0cc5bfb51ccc5699e4bda9a115959', 'message': 'Implement secure RBAC for availability zones\n\nThis commit updates the policies for availability zones policies to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: Idbc13b7cf102451ca50185565dc9d3170dfa20d2\n'}]",0,763480,0d0cd47c04c0cc5bfb51ccc5699e4bda9a115959,14,4,3,5046,,,0,"Implement secure RBAC for availability zones

This commit updates the policies for availability zones policies to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: Idbc13b7cf102451ca50185565dc9d3170dfa20d2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/80/763480/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/availability_zone.py'],1,f82698e3c731710edd4a3ac3ac133c11a1463c68,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The loadbalancer availability zone API now supports system scope and default roles. """""" deprecated_az_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ALL), check_str=constants.RULE_API_READ ) deprecated_az_create = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_POST), check_str=constants.RULE_API_ADMIN ) deprecated_az_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_PUT), check_str=constants.RULE_API_ADMIN ) deprecated_az_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ONE), check_str=constants.RULE_API_READ ) deprecated_az_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_DELETE), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ALL ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""List Availability Zones"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/availabilityzones'} ], deprecated_rule=deprecated_az_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_POST ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Create an Availability Zone"", operations=[ {'method': 'POST', 'path': '/v2.0/lbaas/availabilityzones'} ], deprecated_rule=deprecated_az_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_PUT ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update an Availability Zone"", operations=[ {'method': 'PUT', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'} ], deprecated_rule=deprecated_az_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ONE ), check_str=constants.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], description=""Show Availability Zone details"", operations=[ {'method': 'GET', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'} ], deprecated_rule=deprecated_az_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format( rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_DELETE ), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Remove an Availability Zone"", operations=[ {'method': 'DELETE', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'} ], deprecated_rule=deprecated_az_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ALL), constants.RULE_API_READ, ""List Availability Zones"", [{'method': 'GET', 'path': '/v2.0/lbaas/availabilityzones'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_POST), constants.RULE_API_ADMIN, ""Create an Availability Zone"", [{'method': 'POST', 'path': '/v2.0/lbaas/availabilityzones'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_PUT), constants.RULE_API_ADMIN, ""Update an Availability Zone"", [{'method': 'PUT', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_GET_ONE), constants.RULE_API_READ, ""Show Availability Zone details"", [{'method': 'GET', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AVAILABILITY_ZONE, action=constants.RBAC_DELETE), constants.RULE_API_ADMIN, ""Remove an Availability Zone"", [{'method': 'DELETE', 'path': '/v2.0/lbaas/availabilityzones/{availability_zone_id}'}]",100,28
openstack%2Foctavia~master~Icdbe170847652952b994571c54df51f0c9a1b349,openstack/octavia,master,Icdbe170847652952b994571c54df51f0c9a1b349,Implement secure RBAC for amphoras,ABANDONED,2020-11-19 22:23:56.000000000,2021-03-10 16:44:07.000000000,,"[{'_account_id': 1131}, {'_account_id': 5046}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 22:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb3ab220ad23942083cbb77bc45c0d4c5b7e021d', 'message': 'Implement secure RBAC for amphoras\n\nThis commit updates the policies for amphoras policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Icdbe170847652952b994571c54df51f0c9a1b349\n'}, {'number': 2, 'created': '2020-11-23 17:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d80f5d98f8866fa36e3dcb2b819414a5f9075aea', 'message': 'Implement secure RBAC for amphoras\n\nThis commit updates the policies for amphoras policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Icdbe170847652952b994571c54df51f0c9a1b349\n'}, {'number': 3, 'created': '2020-11-24 04:44:03.000000000', 'files': ['octavia/policies/amphora.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/580b5ce43bc9055be2262e3a0fbf46b9733c1f16', 'message': 'Implement secure RBAC for amphoras\n\nThis commit updates the policies for amphoras policies to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Icdbe170847652952b994571c54df51f0c9a1b349\n'}]",1,763479,580b5ce43bc9055be2262e3a0fbf46b9733c1f16,13,4,3,5046,,,0,"Implement secure RBAC for amphoras

This commit updates the policies for amphoras policies to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Icdbe170847652952b994571c54df51f0c9a1b349
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/763479/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/policies/amphora.py'],1,cb3ab220ad23942083cbb77bc45c0d4c5b7e021d,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The amphora API now supports system scope and default roles. """""" deprecated_amphorae_list = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ALL), check_str=constants.RULE_API_ADMIN ) deprecated_amphorae_get = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ONE), check_str=constants.RULE_API_ADMIN ) deprecated_amphorae_delete = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_DELETE), check_str=constants.RULE_API_ADMIN ) deprecated_amphorae_update = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_CONFIG), check_str=constants.RULE_API_ADMIN ) deprecated_amphorae_failover = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_FAILOVER), check_str=constants.RULE_API_ADMIN ) deprecated_amphorae_stats = policy.DeprecatedRule( name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_STATS), check_str=constants.RULE_API_ADMIN ) name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ALL), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""List Amphorae"", operations=[{'method': 'GET', 'path': '/v2/octavia/amphorae'}], deprecated_rule=deprecated_amphorae_list, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ONE), check_str=constants.SYSTEM_READER, scope_types=['system'], description=""Show Amphora details"", operations=[ {'method': 'GET', 'path': '/v2/octavia/amphorae/{amphora_id}'} ], deprecated_rule=deprecated_amphorae_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_DELETE), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Delete an Amphora"", operations=[ {'method': 'DELETE', 'path': '/v2/octavia/amphorae/{amphora_id}'} ], deprecated_rule=deprecated_amphorae_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_CONFIG), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Update Amphora Agent Configuration"", operations=[ {'method': 'PUT', 'path': '/v2/octavia/amphorae/{amphora_id}/config'} ], deprecated_rule=deprecated_amphorae_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_FAILOVER), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Failover Amphora"", operations=[ {'method': 'PUT', 'path': '/v2/octavia/amphorae/{amphora_id}/failover'} ], deprecated_rule=deprecated_amphorae_failover, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_STATS), check_str=constants.SYSTEM_ADMIN, scope_types=['system'], description=""Show Amphora statistics"", operations=[ {'method': 'GET', 'path': '/v2/octavia/amphorae/{amphora_id}/stats'} ], deprecated_rule=deprecated_amphorae_stats, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ALL), constants.RULE_API_ADMIN, ""List Amphorae"", [{'method': 'GET', 'path': '/v2/octavia/amphorae'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_ONE), constants.RULE_API_ADMIN, ""Show Amphora details"", [{'method': 'GET', 'path': '/v2/octavia/amphorae/{amphora_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_DELETE), constants.RULE_API_ADMIN, ""Delete an Amphora"", [{'method': 'DELETE', 'path': '/v2/octavia/amphorae/{amphora_id}'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_CONFIG), constants.RULE_API_ADMIN, ""Update Amphora Agent Configuration"", [{'method': 'PUT', 'path': '/v2/octavia/amphorae/{amphora_id}/config'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_PUT_FAILOVER), constants.RULE_API_ADMIN, ""Failover Amphora"", [{'method': 'PUT', 'path': '/v2/octavia/amphorae/{amphora_id}/failover'}] '{rbac_obj}{action}'.format(rbac_obj=constants.RBAC_AMPHORA, action=constants.RBAC_GET_STATS), constants.RULE_API_ADMIN, ""Show Amphora statistics"", [{'method': 'GET', 'path': '/v2/octavia/amphorae/{amphora_id}/stats'}]",102,32
openstack%2Fnova-specs~master~If9cdff01de0c7567e6b2e1655791006881939f74,openstack/nova-specs,master,If9cdff01de0c7567e6b2e1655791006881939f74,Remove policy changes from modernize-os-hypervisors-api spec,MERGED,2021-03-10 16:00:28.000000000,2021-03-10 16:42:24.000000000,2021-03-10 16:38:45.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 16:00:28.000000000', 'files': ['specs/wallaby/approved/modernize-os-hypervisors-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/abfb91875c7d6b1e2df45d5bc2244956bc662884', 'message': ""Remove policy changes from modernize-os-hypervisors-api spec\n\nWe've decided to defer this aspect of the change to Xena as it's more\ncomplicated than initially thought.\n\nChange-Id: If9cdff01de0c7567e6b2e1655791006881939f74\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,779821,abfb91875c7d6b1e2df45d5bc2244956bc662884,8,3,1,15334,,,0,"Remove policy changes from modernize-os-hypervisors-api spec

We've decided to defer this aspect of the change to Xena as it's more
complicated than initially thought.

Change-Id: If9cdff01de0c7567e6b2e1655791006881939f74
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/21/779821/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/modernize-os-hypervisors-api.rst'],1,abfb91875c7d6b1e2df45d5bc2244956bc662884,bp/modernize-os-hypervisors-api,"API in its entirety. * - Wallaby - Updated to remove references to policy changes, which were deferred.","While we can remove the useless fields, the useful ones are still limited in their usefulness owing to the restrictive policy in place for this API. We can improve this by allowing users with the ``PROJECT_ADMIN`` role to list all hypervisors their project is allowed to access. API in its entirety. Modify the default policy used for ``GET /os-hypervisors`` from ``SYSTEM_READER`` to ``SYSTEM_READER_OR_PROJECT_ADMIN`` to allow users with the ``SYSTEM_READER`` role to see all hypervisors and users with the ``PROJECT_ADMIN`` role to see only the hypervisors that their project is allowed to access, based on aggregate metadata.Finally, change the policy used for the ``/os-hypervisors`` API from ``SYSTEM_READER`` to ``SYSTEM_READER_OR_PROJECT_ADMIN``, allowing users with the ``PROJECT_ADMIN`` role to see all hypervisors their project is allowed access to. The other hypervisor-related APIs will not have their policies modified. ",3,16
openstack%2Fkolla-ansible~master~I6b8f5807ebb746428a501dca13eae30763dede8d,openstack/kolla-ansible,master,I6b8f5807ebb746428a501dca13eae30763dede8d,Correctly configure S3 Token Middleware for Swift,MERGED,2021-02-10 10:06:05.000000000,2021-03-10 16:37:46.000000000,2021-03-10 16:35:08.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 26285}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-02-10 10:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/830449b38dbff7c27fd11f92beefe0d9c2a2ad76', 'message': ""Correctly configure S3 Token Middleware for Swift\n\nAccording the documentation [1] there need to configure auth_uri in the\n[filter:s3token] section instead of www_authenticate_uri which cause an\nerror 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must\ninclude scheme and host' during start the swift-proxy-server container.\n\n1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I6b8f5807ebb746428a501dca13eae30763dede8d\n""}, {'number': 2, 'created': '2021-02-11 13:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e94df14a67774a2e86c1cef878e27c44406e0320', 'message': ""Correctly configure S3 Token Middleware for Swift\n\nAccording the documentation [1] there need to configure auth_uri in the\n[filter:s3token] section instead of www_authenticate_uri which cause an\nerror 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must\ninclude scheme and host' during start the swift-proxy-server container.\n\n1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware\n\nChange-Id: I6b8f5807ebb746428a501dca13eae30763dede8d\nCloses-Bug: 1862765\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2021-02-25 19:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2de198be8ce8408c49b8b07697ba5b07fdcdb56', 'message': ""Correctly configure S3 Token Middleware for Swift\n\nAccording the documentation [1] there need to configure auth_uri in the\n[filter:s3token] section instead of www_authenticate_uri which cause an\nerror 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must\ninclude scheme and host' during start the swift-proxy-server container.\n\n1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware\n\nChange-Id: I6b8f5807ebb746428a501dca13eae30763dede8d\nCloses-Bug: 1862765\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2021-03-01 16:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2ed883e2a4ac576991d53550a8872f259ca06d7', 'message': ""Correctly configure S3 Token Middleware for Swift\n\nAccording the documentation [1] there need to configure auth_uri in the\n[filter:s3token] section instead of www_authenticate_uri which cause an\nerror 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must\ninclude scheme and host' during start the swift-proxy-server container.\n\n1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware\n\nChange-Id: I6b8f5807ebb746428a501dca13eae30763dede8d\nCloses-Bug: 1862765\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2021-03-10 13:03:35.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2', 'releasenotes/notes/bug-1862765-a6cad9fd2d3f0f48.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/835920782fb48c4a750814fedd04126424334856', 'message': ""Correctly configure S3 Token Middleware for Swift\n\nAccording the documentation [1] there need to configure auth_uri in the\n[filter:s3token] section instead of www_authenticate_uri which cause an\nerror 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must\ninclude scheme and host' during start the swift-proxy-server container.\n\n1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware\n\nChange-Id: I6b8f5807ebb746428a501dca13eae30763dede8d\nCloses-Bug: 1862765\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,774791,835920782fb48c4a750814fedd04126424334856,46,7,5,14200,,,0,"Correctly configure S3 Token Middleware for Swift

According the documentation [1] there need to configure auth_uri in the
[filter:s3token] section instead of www_authenticate_uri which cause an
error 'swift.common.wsgi.ConfigFileError: Invalid auth_uri; must
include scheme and host' during start the swift-proxy-server container.

1. https://docs.openstack.org/swift/ussuri/middleware.html#s3-token-middleware

Change-Id: I6b8f5807ebb746428a501dca13eae30763dede8d
Closes-Bug: 1862765
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/774791/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,830449b38dbff7c27fd11f92beefe0d9c2a2ad76,swift-s3api,auth_uri = {{ keystone_internal_url }}/v3,www_authenticate_uri = {{ keystone_internal_url }}/v3,1,1
openstack%2Fglance-tempest-plugin~master~I98bdae73e752ba3641689cfc81d52e6d5d2674ee,openstack/glance-tempest-plugin,master,I98bdae73e752ba3641689cfc81d52e6d5d2674ee,Reuse project credentials from tempest for tenancy checks,NEW,2021-03-05 22:32:51.000000000,2021-03-10 16:34:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 22:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/535fa6d7dfb2bb32fc91f8a1e29c5b171b6aa61c', 'message': ""Reuse project credentials from tempest for tenancy checks\n\nPreviously, we used a utility method to setup a new user with\nauthorization on a separate project. This is useful for testing tenancy\nand that regular users can't fish information or resources out ot\nprojects they don't have any authorization on.\n\nA recent change in tempest added another set of users that are hooked\ninto dynamic credentials, specifically for the purpose of checking\ntenancy [0].\n\nThis commit replaces some of the home-grown user setup with user\ncredentials available to us from tempest. This helps reduce\ninconsistencies in the tests and should help make things more readable\nin the long term as it becomes a more widely adopted convention.\n\n[0] https://review.opendev.org/c/openstack/tempest/+/773177\n\nChange-Id: I98bdae73e752ba3641689cfc81d52e6d5d2674ee\n""}, {'number': 2, 'created': '2021-03-05 22:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/6dc9fe18206d99864fcf78803d1ea3853db69b8b', 'message': ""Reuse project credentials from tempest for tenancy checks\n\nPreviously, we used a utility method to setup a new user with\nauthorization on a separate project. This is useful for testing tenancy\nand that regular users can't fish information or resources out of\nprojects they don't have any authorization on.\n\nA recent change in tempest added another set of users that are hooked\ninto dynamic credentials, specifically for the purpose of checking\ntenancy [0].\n\nThis commit replaces some of the home-grown user setup with user\ncredentials available to us from tempest. This helps reduce\ninconsistencies in the tests and should help make things more readable\nin the long term as it becomes a more widely adopted convention.\n\n[0] https://review.opendev.org/c/openstack/tempest/+/773177\n\nChange-Id: I98bdae73e752ba3641689cfc81d52e6d5d2674ee\n""}, {'number': 3, 'created': '2021-03-05 23:04:20.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/609c963e90c943dedc0f20348de82c6e37eb0c5c', 'message': ""Reuse project credentials from tempest for tenancy checks\n\nPreviously, we used a utility method to setup a new user with\nauthorization on a separate project. This is useful for testing tenancy\nand that regular users can't fish information or resources out of\nprojects they don't have any authorization on.\n\nA recent change in tempest added another set of users that are hooked\ninto dynamic credentials, specifically for the purpose of checking\ntenancy [0].\n\nThis commit replaces some of the home-grown user setup with user\ncredentials available to us from tempest. This helps reduce\ninconsistencies in the tests and should help make things more readable\nin the long term as it becomes a more widely adopted convention.\n\n[0] https://review.opendev.org/c/openstack/tempest/+/773177\n\nChange-Id: I98bdae73e752ba3641689cfc81d52e6d5d2674ee\n""}]",8,779059,609c963e90c943dedc0f20348de82c6e37eb0c5c,9,1,3,5046,,,0,"Reuse project credentials from tempest for tenancy checks

Previously, we used a utility method to setup a new user with
authorization on a separate project. This is useful for testing tenancy
and that regular users can't fish information or resources out of
projects they don't have any authorization on.

A recent change in tempest added another set of users that are hooked
into dynamic credentials, specifically for the purpose of checking
tenancy [0].

This commit replaces some of the home-grown user setup with user
credentials available to us from tempest. This helps reduce
inconsistencies in the tests and should help make things more readable
in the long term as it becomes a more widely adopted convention.

[0] https://review.opendev.org/c/openstack/tempest/+/773177

Change-Id: I98bdae73e752ba3641689cfc81d52e6d5d2674ee
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/59/779059/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_tempest_plugin/tests/rbac/v2/test_images.py'],1,535fa6d7dfb2bb32fc91f8a1e29c5b171b6aa61c,secure-rbac," credentials = ['project_admin', 'system_admin', 'project_alt_member'] image = self.os_project_alt_member.image_client_v2.create_image( image = self.os_project_alt_member.image_client_v2.create_image( alt_project_client = self.os_project_alt_member private_image = alt_project_client.image_client_v2.create_image( shared_image_1 = alt_project_client.image_client_v2.create_image( shared_image_2 = alt_project_client.image_client_v2.create_image( project_client = self.os_project_alt_member project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( image = project_member.image_client_v2.create_image( project_client = self.os_project_alt_member project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( image = project_member.image_client_v2.create_image( project_client = self.os_project_alt_member project_client = self.os_project_alt_member project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id project_member= self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( member=alt_project_id) project_client = self.os_project_alt_member project_client = self.os_project_alt_member project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( project_member.image_member_client_v2.create_image_member( project_client = self.os_project_alt_member project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( project_member.image_client_v2.store_image_file(image['id'], image = project_member.image_client_v2.create_image( project_member.image_client_v2.store_image_file(image['id'], project_client = self.os_project_alt_member project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( project_member.image_client_v2.store_image_file(image['id'], project_member.image_client_v2.deactivate_image(image['id']) image = project_member.image_client_v2.create_image( project_member.image_client_v2.store_image_file(image['id'], project_member.image_client_v2.deactivate_image(image['id']) project_client = self.os_project_alt_member"," credentials = ['project_admin', 'system_admin'] project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( image = project_client.image_client_v2.create_image( project_client = self.setup_user_client() private_image = project_client.image_client_v2.create_image( shared_image_1 = project_client.image_client_v2.create_image( shared_image_2 = project_client.image_client_v2.create_image( project_client = self.setup_user_client() project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( image = project_client.image_client_v2.create_image( project_client = self.setup_user_client() project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( image = project_client.image_client_v2.create_image( project_client = self.setup_user_client() project_client = self.setup_user_client() project_client = self.setup_user_client() # Create a user with the member role in a separate project. other_project_member_client = self.setup_user_client() other_project_id = other_project_member_client.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( member=other_project_id) project_client = self.setup_user_client() project_client = self.setup_user_client() project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( project_client.image_member_client_v2.create_image_member( project_client = self.setup_user_client() project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( project_client.image_client_v2.store_image_file(image['id'], image = project_client.image_client_v2.create_image( project_client.image_client_v2.store_image_file(image['id'], project_client = self.setup_user_client() project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( project_client.image_client_v2.store_image_file(image['id'], project_client.image_client_v2.deactivate_image(image['id']) image = project_client.image_client_v2.create_image( project_client.image_client_v2.store_image_file(image['id'], project_client.image_client_v2.deactivate_image(image['id']) project_client = self.setup_user_client()",42,46
openstack%2Fopenstack-ansible-os_placement~master~I9f06225c6a17545683e8bf1113ea0b014745610a,openstack/openstack-ansible-os_placement,master,I9f06225c6a17545683e8bf1113ea0b014745610a,Switch default virtualenv to python3,MERGED,2021-03-10 09:20:18.000000000,2021-03-10 16:22:16.000000000,2021-03-10 16:19:44.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:20:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/18b6e16bae919130d5cb5d19ec3242fc08675d01', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I9f06225c6a17545683e8bf1113ea0b014745610a\n'}]",0,779686,18b6e16bae919130d5cb5d19ec3242fc08675d01,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I9f06225c6a17545683e8bf1113ea0b014745610a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/86/779686/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,18b6e16bae919130d5cb5d19ec3242fc08675d01,osa-default-python,"placement_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","placement_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Ftripleo-docs~master~I1aa9bf19548d2471e533505c57d92490e2864cf1,openstack/tripleo-docs,master,I1aa9bf19548d2471e533505c57d92490e2864cf1,update the ci reproducer instructions,MERGED,2021-03-04 20:06:52.000000000,2021-03-10 16:16:35.000000000,2021-03-10 16:14:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 20:06:52.000000000', 'files': ['doc/source/ci/reproduce-ci.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1c32bc558c653ff37f9988d6355dea223149a954', 'message': 'update the ci reproducer instructions\n\nChange-Id: I1aa9bf19548d2471e533505c57d92490e2864cf1\n'}]",2,778772,1c32bc558c653ff37f9988d6355dea223149a954,8,4,1,9592,,,0,"update the ci reproducer instructions

Change-Id: I1aa9bf19548d2471e533505c57d92490e2864cf1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/72/778772/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ci/reproduce-ci.rst'],1,1c32bc558c653ff37f9988d6355dea223149a954,,"Knowing that at times ( perhaps always ) manipulating zuul jobs to do your bidding can be frustrating. Perhaps you are trying to reproduce a bug, test a patch, or just bored on a Sunday afternoon. I wanted to briefly remind folks of their options. `RDO's zuul: <https://review.rdoproject.org/sf/welcome.html>`__ --------------------------------------------------------------- RDO's zuul is setup to directly inherit from upstream zuul. Any TripleO job that executes upstream should be rerunable in RDO's zuul. A distinct advantage here is that you can ask RDO admins to hold the job for you, get your ssh keys on the box and debug the live environment. It's good stuff. To hold a node, ask your friends in #rhos-ops Use testproject: Some documentation can be found `here <https://docs.openstack.org/tripleo-docs/latest/ci/chasing_promotions.html#hack-the-promotion-with-testproject>`__: upstream job example: ^^^^^^^^^^^^^^^^^^^^^ .. code-block:: yaml - project: name: testproject check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-containers-multinode: dependencies: - tripleo-ci-centos-8-content-provider gate: jobs: [] periodic job, perhaps recreating a CIX issue example: ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ .. code-block:: yaml - project: name: testproject check: jobs: - tripleo-ci-centos-8-scenario002-standalone: vars: timeout: 22000 - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master: vars: timeout: 22000 force_periodic: true - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-victoria: vars: timeout: 22000 force_periodic: true - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-ussuri: vars: timeout: 22000 force_periodic: true gate: jobs: [] Remember that depends-on can bring in any upstream changes. ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ - Here is an example commit message: Test jobs with new ovn package .. code-block:: yaml Test jobs with new ovn package Depends-On: https://review.opendev.org/c/openstack/openstack-tempest-skiplist/+/775493 Change-Id: I7b392acc4690199caa78cac90956e717105f4c6e `Local zuul: <https://github.com/rdo-infra/ansible-role-tripleo-ci-reproducer>`__ --------------------------------------------------------------------------------- Setting up zuul and friends locally is a much heavier lift than your first option. Instructions and scripts to help you are available in any upstream TripleO job, and `here <https://github.com/rdo-infra/ansible-role-tripleo-ci-reproducer>`__ A basic readme for the logs can be found directly in the logs directory of any tripleo job. - `Basic Readme <https://opendev.org/openstack/tripleo-ci/src/branch/master/docs/tripleo-quickstart-logs.html>`__ - `Job reproduce <https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2>`__ If you are familiar w/ zuul and friends, containers, etc.. this could be a good option for you and your team. There are a lot of moving parts and it's complicated, well because it's complicated. A good way to become more familiar with zuul would be to try out zuul's tutorial `zuul-runner: <https://zuul-ci.org/docs/zuul/reference/developer/specs/zuul-runner.html>`__ ------------------------------------------------------------------------------------------- A long hard fought battle of persuasion and influence has been fought with the maintainers of the zuul project. The blueprints and specs have merged. The project's status is not complete as there are many unmerged patches to date. Other Options: -------------- Finally, if you are not attempting to recreate, test, play with an upstream tripleo job and just want to develop code there is another option. A lot of developers find `tripleo-lab <https://github.com/cjeanner/tripleo-lab>`__ to be quite useful. Many devels have their own patterns as well, what works for you is fine. Summary: -------- For what it's worth imho using testproject jobs is an efficient, low barrier to getting things done with upstream TripleO jobs. I'll be updating the documentation and references to try and help over the next few days, patches are welcome :)","Reproducing any given CI job that is executed upstream is critical for development. You will find a script called ""reproducer-zuul-quickstart.sh"" under the logs directory of any TripleO CI job that will assist you in recreating a TripleO Quickstart upstream job. Each script contains the same parameters used in the job and includes any deployment or CI related settings. Any patches that were marked as dependencies will also be included in the script and execution. This script will provision a heat stack in an OpenStack host cloud that matches the environment created by nodepool or `OVB <http://openstack-virtual-baremetal. readthedocs.io/en/latest/introduction.html>`_ upstream. Once the environment is ready, the script prompts the user with some additional instructions that executes the same scripts and tools used upstream to bootstrap and execute the CI. Install system dependencies --------------------------- Before execute the reproduce-quickstart it's necessary to install few dependencies on the system:: * python3-openstackclient * python3-heatclient If you use Python 2 change python3 by python2 in the package name. How to execute the reproducer-quickstart script ----------------------------------------------- Go to the ""logs"" directory of the job:: wget http://logs.openstack.org/34/653934/1/<snip>/05075b2/logs/reproducer-quickstart/reproducer-zuul-based-quickstart.tar tar -xvf reproducer-zuul-based-quickstart.tar Be sure you have download the OpenStack RC file. To have more information you can check the documentation `here <https://docs.openstack.org/newton/user-guide /common/cli-set-environment-variables-using-openstack-rc.html>`_. Source your OpenStack RC file:: source openstack_rc.sh Execute the reproducer-quickstart.sh:: bash -x reproducer-zuul-based-quickstart.sh Please check the script's help command however the available options are:: Options: -w, --workspace <dir> directory where the virtualenv, inventory files, etc. are created. Defaults to creating a directory in /tmp -l, --libvirt Runs a 2-node multinode job or singlenode job on a single virthost using libvirt to create the nodes. If a singlenode reproducer is run, two VMs will still be created. -c, --cloud-name Host cloud, specified in the clouds.yaml, to target Defaults to rdo-cloud -cp, --clouds-yaml-path Full path to the clouds.yaml file Defaults to /home/$USER/.config/openstack/clouds.yaml -ok, --ovb-key-name Name of the key to use in the host tenant for OVB deployments Defaults to tripleo-ci-team -f, --force-post-failure Force job to fail so that the nodes will be held. Temporary solution -ug, --upstream-gerrit-user Set the upstream gerrit user required to clone repos. Defaults to the current $USER -rg, --rdo-gerrit-user Set the upstream RDO user required to clone RDO-related repos. Defaults to the current $USER -k, --ssh-key private ssh key used to set up an access nodes. Defaults to id_rsa. -kp, --ssh-key-public public ssh key used to set up an access nodes. Defaults to $USER_SSH_KEY.pub -skp, --ssh-key-path Path to directory where user ssh keys are stored. Defaults to /home/$USER/.ssh -ugk, --upstream-gerrit-key Set the upstream gerrit private key. Defaults to the $USER_SSH_KEY. -rgk, --rdo-gerrit-key Set the upstream RDO user key. Defaults to the $USER_SSH_KEY. -e, --extra-params File or/and parameters used to override default parameters for playbooks. Multiple files can be passed [-e @file1.yml -e @file2.yml ...] and arguments [-e var=value -e var2=value2 ...] -h, --help print this help and exit How does this script work ------------------------- The script is generated by a `jinja2 template <https://github.com/openstack/ tripleo-quickstart-extras/blob/master/roles/create-zuul-based-reproducer/ templates/reproducer-zuul-based-quickstart.sh.j2>`_ that reads all the variables passed to the CI job and builds a custom script for each job. There are two major steps to be familiar with in this script. The first part of the script will provision the servers, networks and other infrastructure for the TripleO deployment. The second part invokes the CI tools and scripts in the `same way the original CI job was executed <https://github.com/openstack-infra/tripleo-ci/blob/master/ toci_gate_test-oooq.sh>`_. Notes ----- If the environment was provisioned successfully you will be presented with further instructions that will prompt you to ssh to the environment and execute the upstream CI scripts. You may elect to run this automatically with the ""autorun"" option found in the help. Support ------- The TripleO CI team will provide community support for the reproducer-quickstart.sh script. The tool is only supported in use with an OpenStack host cloud. Your results with various OpenStack providers may vary. Please open any issues or problems in `launchpad <https://bugs.launchpad.net/tripleo>`_ with the ""quickstart"" tag. The `devmode.sh <https://github.com/openstack/tripleo-quickstart/blob/master/ devmode.sh>`_ script is deprecated. The reproducer-zuul-based-quickstart.sh should be used for upstream development and debugging of TripleO CI.",105,113
openstack%2Fkayobe~master~I839cd1b9d63c9bbf3e0c75def76b8bff68637c75,openstack/kayobe,master,I839cd1b9d63c9bbf3e0c75def76b8bff68637c75,CI: Add Ubuntu seed job,MERGED,2021-02-11 19:45:30.000000000,2021-03-10 16:16:03.000000000,2021-03-10 16:07:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-11 19:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ab4461a3bd5f82c6415218b773f66bee8d979c2a', 'message': '[WIP] CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 2, 'created': '2021-02-11 21:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dfd24e3cb891fb661d71c62f3b0f96385a9a4ac0', 'message': '[WIP] CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 3, 'created': '2021-02-11 22:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c9b091be5e787a55e8d23839dfbee10942e8c7b0', 'message': '[WIP] CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 4, 'created': '2021-02-12 07:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/821ff2b4baedfb468d6766213dc6843e78df1e6c', 'message': '[WIP] CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 5, 'created': '2021-02-12 08:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5609161eb678ea86a6c4df94e3caaa3d0956f149', 'message': '[WIP] CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 6, 'created': '2021-02-12 08:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d78f70f34d87f9e02c89e070dfe6446afbdb3a9', 'message': 'CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 7, 'created': '2021-02-22 13:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4712c974b09d5fa1864de2b484101559b71b6aee', 'message': 'CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 8, 'created': '2021-02-22 13:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/40a4a42fdac2ca2f667c5d6a1427b61b6faa6f8d', 'message': 'CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/772929\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}, {'number': 9, 'created': '2021-03-01 17:59:37.000000000', 'files': ['playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/534465797b4aabead7ddd5d20430101c0f64572d', 'message': 'CI: Add Ubuntu seed job\n\nThis commit adds Zuul job for deploying seed services against\nUbuntu 20.04 LTS (Focal Fossa).\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nStory: 2004960\nTask: 41807\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/772929\nChange-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75\n'}]",4,775267,534465797b4aabead7ddd5d20430101c0f64572d,46,4,9,32657,,,0,"CI: Add Ubuntu seed job

This commit adds Zuul job for deploying seed services against
Ubuntu 20.04 LTS (Focal Fossa).

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Story: 2004960
Task: 41807
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/772929
Change-Id: I839cd1b9d63c9bbf3e0c75def76b8bff68637c75
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/775267/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-base/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,ab4461a3bd5f82c6415218b773f66bee8d979c2a,story/2004960, name: kayobe-seed-ubuntu-focal parent: kayobe-seed-base nodeset: kayobe-ubuntu-focal - job:,,19,11
openstack%2Fproject-config~master~Icf879abdffef5818918f39e25728a4a555ddd88b,openstack/project-config,master,Icf879abdffef5818918f39e25728a4a555ddd88b,[magnum] Add Backport-Candidate and Review-Priority labels,MERGED,2021-03-04 10:23:44.000000000,2021-03-10 15:57:57.000000000,2021-03-10 15:42:42.000000000,"[{'_account_id': 1}, {'_account_id': 841}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 10:23:44.000000000', 'files': ['gerrit/acls/openstack/magnum.config', 'gerrit/acls/openstack/magnum-ui.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2b362f1a5dde8ad4b5727880e797db3fdc822688', 'message': '[magnum] Add Backport-Candidate and Review-Priority labels\n\nChange-Id: Icf879abdffef5818918f39e25728a4a555ddd88b\n'}]",0,778629,2b362f1a5dde8ad4b5727880e797db3fdc822688,12,7,1,28022,,,0,"[magnum] Add Backport-Candidate and Review-Priority labels

Change-Id: Icf879abdffef5818918f39e25728a4a555ddd88b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/778629/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/magnum.config', 'gerrit/acls/openstack/magnum-ui.config']",2,2b362f1a5dde8ad4b5727880e797db3fdc822688,,"label-Backport-Candidate = -2..+2 group magnum-ui-core label-Backport-Candidate = -1..+1 group Registered Userslabel-Review-Priority = -1..+2 group magnum-ui-core[label ""Backport-Candidate""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = NoBlock value = -2 Do Not Backport value = -1 Not A Backport Candidate value = 0 Backport Review Needed value = +1 Proposed Backport value = +2 Should Backport [label ""Review-Priority""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = -1 Branch Freeze value = 0 No Priority value = +1 Important Change value = +2 Gate Blocker Fix / Urgent Change ",,56,0
openstack%2Fos-collect-config~master~I877b0bf0e9cb6429a93e83a504ebf911a4b0e025,openstack/os-collect-config,master,I877b0bf0e9cb6429a93e83a504ebf911a4b0e025,Add .gitreview defaultbranch to fix issue with duplicate tags,ABANDONED,2021-03-10 15:49:39.000000000,2021-03-10 15:51:17.000000000,,[],"[{'number': 1, 'created': '2021-03-10 15:49:39.000000000', 'files': ['.gitreview', 'os_collect_config/tests/test_heat.py', 'test-requirements.txt', 'os_collect_config/cfn.py', 'os_collect_config/tests/test_config_drive.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/e3d1fe2a149be3fa1a3aaf05a09cc02c42bddc42', 'message': 'Add .gitreview defaultbranch to fix issue with duplicate tags\n\nAs described in related bug the last three tags 13.0.0 wallaby\n12.0.0 victoria and 11.0.2 Ussuri were pointing to the same commit.\nThis creates a new commit so we can tag that instead.\n\nUpdates test-requirements to fix issue seen at [1] and then fixes\npep8 issues seen after that.\n\n[1] https://zuul.opendev.org/t/openstack/build/c228eba0043943a3bd5a336b0aca8773\nRelated-Bug: 1918311\nChange-Id: I03f1cd324a51843e68b77dec7268c068704231a2\n\nChange-Id: I877b0bf0e9cb6429a93e83a504ebf911a4b0e025\n'}]",0,779817,e3d1fe2a149be3fa1a3aaf05a09cc02c42bddc42,2,0,1,8449,,,0,"Add .gitreview defaultbranch to fix issue with duplicate tags

As described in related bug the last three tags 13.0.0 wallaby
12.0.0 victoria and 11.0.2 Ussuri were pointing to the same commit.
This creates a new commit so we can tag that instead.

Updates test-requirements to fix issue seen at [1] and then fixes
pep8 issues seen after that.

[1] https://zuul.opendev.org/t/openstack/build/c228eba0043943a3bd5a336b0aca8773
Related-Bug: 1918311
Change-Id: I03f1cd324a51843e68b77dec7268c068704231a2

Change-Id: I877b0bf0e9cb6429a93e83a504ebf911a4b0e025
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/17/779817/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'os_collect_config/tests/test_heat.py', 'test-requirements.txt', 'os_collect_config/cfn.py', 'os_collect_config/tests/test_config_drive.py']",5,e3d1fe2a149be3fa1a3aaf05a09cc02c42bddc42,I03f1cd324a51843e68b77dec7268c068704231a2," self.assertEqual(('foo', 'bar baz'), psv('foo=bar\ baz')) # noqa W605"," self.assertEqual(('foo', 'bar baz'), psv('foo=bar\ baz'))",8,7
openstack%2Fneutron~stable%2Frocky~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,stable/rocky,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-27 20:15:42.000000000,2021-03-10 15:49:15.000000000,2021-03-10 15:49:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 20:15:42.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ab5159d2d892b35bccee5185af887971eb326e2', 'message': '[OVS FW] Allow egress ICMPv6 only for know addresses\n\nBefore that patch it was possible to send ICMPv6 packets like e.g.\n    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,\n    neutron_lib.constants.ICMPV6_TYPE_RS,\n    neutron_lib.constants.ICMPV6_TYPE_NS,\n    neutron_lib.constants.ICMPV6_TYPE_NA\n\nAnd that could cause some security issues as instance could advertise\nthat it owns IPv6 address which really don\'t belong to it.\n\nNow rules in table=71 which allows that traffic are ""per mac/ipaddress""\nand are allowed only for fixed ips allocated to port and port\'s\nallowed_address_pairs.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nCloses-Bug: #1902917\nChange-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c\n(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)\n'}]",0,777786,9ab5159d2d892b35bccee5185af887971eb326e2,10,3,1,11975,,,0,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/777786/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,9ab5159d2d892b35bccee5185af887971eb326e2,bug/1902917-stable/stein-stable/rocky,"from neutron.agent import firewall as agent_firewall allowed_pairs_v4 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv4) allowed_pairs_v6 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv6) port_name=""port-name"", allowed_pairs_v4=allowed_pairs_v4, allowed_pairs_v6=allowed_pairs_v6) def test__initialize_egress_ipv6_icmp(self): port_dict = { 'device': 'port-id', 'security_groups': [1], 'fixed_ips': [""10.0.0.1""], 'allowed_address_pairs': [ {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '192.168.1.1'}, {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '2003::1'} ]} of_port = create_ofport(port_dict) self.mock_bridge.br.db_get_val.return_value = {'tag': TESTING_VLAN_TAG} self.firewall._initialize_egress_ipv6_icmp( of_port, set([('aa:bb:cc:dd:ee:ff', '2003::1')])) expected_calls = [] for icmp_type in agent_firewall.ICMPV6_ALLOWED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, dl_src='aa:bb:cc:dd:ee:ff', ipv6_src='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE))) self.mock_bridge.br.add_flow.assert_has_calls(expected_calls) "," port_name=""port-name"")",69,25
openstack%2Fneutron~stable%2Fqueens~I4749fdc6a6cabd253b971bf4010ff76f5593c59c,openstack/neutron,stable/queens,I4749fdc6a6cabd253b971bf4010ff76f5593c59c,[OVS FW] Allow egress ICMPv6 only for know addresses,MERGED,2021-02-27 20:17:52.000000000,2021-03-10 15:49:07.000000000,2021-03-10 15:49:07.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 20:17:52.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b1f0dd1aed68f98b5472c2dfa821e9338f286f0', 'message': '[OVS FW] Allow egress ICMPv6 only for know addresses\n\nBefore that patch it was possible to send ICMPv6 packets like e.g.\n    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,\n    neutron_lib.constants.ICMPV6_TYPE_RS,\n    neutron_lib.constants.ICMPV6_TYPE_NS,\n    neutron_lib.constants.ICMPV6_TYPE_NA\n\nAnd that could cause some security issues as instance could advertise\nthat it owns IPv6 address which really don\'t belong to it.\n\nNow rules in table=71 which allows that traffic are ""per mac/ipaddress""\nand are allowed only for fixed ips allocated to port and port\'s\nallowed_address_pairs.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nCloses-Bug: #1902917\nChange-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c\n(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)\n'}]",0,777873,7b1f0dd1aed68f98b5472c2dfa821e9338f286f0,9,3,1,11975,,,0,"[OVS FW] Allow egress ICMPv6 only for know addresses

Before that patch it was possible to send ICMPv6 packets like e.g.
    neutron_lib.constants.ICMPV6_TYPE_MLD_QUERY,
    neutron_lib.constants.ICMPV6_TYPE_RS,
    neutron_lib.constants.ICMPV6_TYPE_NS,
    neutron_lib.constants.ICMPV6_TYPE_NA

And that could cause some security issues as instance could advertise
that it owns IPv6 address which really don't belong to it.

Now rules in table=71 which allows that traffic are ""per mac/ipaddress""
and are allowed only for fixed ips allocated to port and port's
allowed_address_pairs.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Closes-Bug: #1902917
Change-Id: I4749fdc6a6cabd253b971bf4010ff76f5593c59c
(cherry picked from commit 4b5bcff64c4725b37f094dfd2613ec58f723d304)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/777873/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",3,7b1f0dd1aed68f98b5472c2dfa821e9338f286f0,bug/1902917-stable/queens," allowed_pairs_v4 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv4) allowed_pairs_v6 = ovsfw.OFPort._get_allowed_pairs( port_dict, version=constants.IPv6) port_name=""port-name"", allowed_pairs_v4=allowed_pairs_v4, allowed_pairs_v6=allowed_pairs_v6) def test__initialize_egress_ipv6_icmp(self): port_dict = { 'device': 'port-id', 'security_groups': [1], 'fixed_ips': [""10.0.0.1""], 'allowed_address_pairs': [ {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '192.168.1.1'}, {'mac_address': 'aa:bb:cc:dd:ee:ff', 'ip_address': '2003::1'} ]} of_port = create_ofport(port_dict) self.mock_bridge.br.db_get_val.return_value = {'tag': TESTING_VLAN_TAG} self.firewall._initialize_egress_ipv6_icmp( of_port, set([('aa:bb:cc:dd:ee:ff', '2003::1')])) expected_calls = [] for icmp_type in firewall.ICMPV6_ALLOWED_EGRESS_TYPES: expected_calls.append( mock.call( table=ovs_consts.BASE_EGRESS_TABLE, priority=95, in_port=TESTING_VLAN_TAG, reg5=TESTING_VLAN_TAG, dl_type='0x86dd', nw_proto=constants.PROTO_NUM_IPV6_ICMP, icmp_type=icmp_type, dl_src='aa:bb:cc:dd:ee:ff', ipv6_src='2003::1', actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE))) self.mock_bridge.br.add_flow.assert_has_calls(expected_calls) "," port_name=""port-name"")",68,25
openstack%2Freleases~master~I05185bc18f54cf7e70b43f0bbd9af2cc5a1bacc5,openstack/releases,master,I05185bc18f54cf7e70b43f0bbd9af2cc5a1bacc5,Release final python-octaviaclient for Wallaby,ABANDONED,2021-03-08 23:17:14.000000000,2021-03-10 15:42:51.000000000,,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 23:17:14.000000000', 'files': ['deliverables/wallaby/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/75ef742197227a3f3e39c2d1ea44403607343c26', 'message': 'Release final python-octaviaclient for Wallaby\n\nThis feature release adds support for the following new features:\n1. Managing tags.\n2. Configuring ALPN for load balancer pools.\n3. Enabling the PROXYV2 protocol.\n\nChange-Id: I05185bc18f54cf7e70b43f0bbd9af2cc5a1bacc5\n'}]",0,779386,75ef742197227a3f3e39c2d1ea44403607343c26,6,4,1,11628,,,0,"Release final python-octaviaclient for Wallaby

This feature release adds support for the following new features:
1. Managing tags.
2. Configuring ALPN for load balancer pools.
3. Enabling the PROXYV2 protocol.

Change-Id: I05185bc18f54cf7e70b43f0bbd9af2cc5a1bacc5
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/779386/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-octaviaclient.yaml'],1,75ef742197227a3f3e39c2d1ea44403607343c26,,releases: - version: 2.3.0 projects: - repo: openstack/python-octaviaclient hash: e7922ac506541620b3b4f771cd312c81cf40f7f6,,5,0
openstack%2Fopenstack-ansible-os_trove~master~Iaced386a7123e2dce1e57b18ac39072bc7eed897,openstack/openstack-ansible-os_trove,master,Iaced386a7123e2dce1e57b18ac39072bc7eed897,Switch default virtualenv to python3,MERGED,2021-03-10 09:22:05.000000000,2021-03-10 15:33:07.000000000,2021-03-10 15:29:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:22:05.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/e438420bc826d879b9ac67361805f878a54c4fa0', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Iaced386a7123e2dce1e57b18ac39072bc7eed897\n'}]",0,779693,e438420bc826d879b9ac67361805f878a54c4fa0,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: Iaced386a7123e2dce1e57b18ac39072bc7eed897
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/93/779693/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e438420bc826d879b9ac67361805f878a54c4fa0,osa-default-python,"trove_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","trove_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fironic-python-agent~stable%2Fussuri~I105c8f60bf9227d2b6e1c6f220ca4fcfa22ed06e,openstack/ironic-python-agent,stable/ussuri,I105c8f60bf9227d2b6e1c6f220ca4fcfa22ed06e,[DNM] test ussuri CI,ABANDONED,2021-03-10 12:58:13.000000000,2021-03-10 15:30:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-10 12:58:13.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6921a47de4e77abcd94536dfecdcc862c3cc2420', 'message': '[DNM] test ussuri CI\n\nironic-python-agent-check-image-tinyipa-ussuri should now be green\n\nChange-Id: I105c8f60bf9227d2b6e1c6f220ca4fcfa22ed06e\n'}]",0,779760,6921a47de4e77abcd94536dfecdcc862c3cc2420,3,1,1,23851,,,0,"[DNM] test ussuri CI

ironic-python-agent-check-image-tinyipa-ussuri should now be green

Change-Id: I105c8f60bf9227d2b6e1c6f220ca4fcfa22ed06e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/60/779760/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,6921a47de4e77abcd94536dfecdcc862c3cc2420,test-ci,# DNM ,,2,0
openstack%2Fopenstack-ansible-os_rally~master~I2d33757ad418977894de205899baa219865fc124,openstack/openstack-ansible-os_rally,master,I2d33757ad418977894de205899baa219865fc124,Switch default virtualenv to python3,MERGED,2021-03-10 09:20:26.000000000,2021-03-10 15:28:44.000000000,2021-03-10 15:26:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:20:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e856ad62da5107e3a2f38bc483e411e676a134b7', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I2d33757ad418977894de205899baa219865fc124\n'}]",0,779687,e856ad62da5107e3a2f38bc483e411e676a134b7,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I2d33757ad418977894de205899baa219865fc124
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/87/779687/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e856ad62da5107e3a2f38bc483e411e676a134b7,osa-default-python,"rally_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","rally_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fkayobe~master~I95fc2c3873c8cd17edf928f613a06d2154196786,openstack/kayobe,master,I95fc2c3873c8cd17edf928f613a06d2154196786,CI: Use cached cirros image for seed vm job,MERGED,2021-01-29 18:07:02.000000000,2021-03-10 15:24:35.000000000,2021-03-10 15:19:29.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-29 18:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6083d57c8a8a7d9a58c02a8df1aa79251318d208', 'message': 'CI: Use cached cirros image for seed jobs\n\nThe nodepool images include Cirros images.\n\nChange-Id: I95fc2c3873c8cd17edf928f613a06d2154196786\n'}, {'number': 2, 'created': '2021-02-01 10:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/21500e4b06a12b6fef36b548b30016bea45bce78', 'message': 'CI: Use cached cirros image for seed jobs\n\nThe nodepool images include Cirros images.\n\nChange-Id: I95fc2c3873c8cd17edf928f613a06d2154196786\n'}, {'number': 3, 'created': '2021-02-01 11:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5753e605ca06579da9c71761c89b4a7da2470df1', 'message': 'CI: Use cached cirros image for seed vm job\n\nThe nodepool images include Cirros images.\n\nChange-Id: I95fc2c3873c8cd17edf928f613a06d2154196786\n'}, {'number': 4, 'created': '2021-03-10 11:04:02.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/39b3fe70c6cddc22e4b75c70379bcb0a0a717c90', 'message': 'CI: Use cached cirros image for seed vm job\n\nThe nodepool images include CirrOS images.\n\nAlso update to newly released 0.5.2 image.\n\nChange-Id: I95fc2c3873c8cd17edf928f613a06d2154196786\n'}]",3,773163,39b3fe70c6cddc22e4b75c70379bcb0a0a717c90,18,4,4,14826,,,0,"CI: Use cached cirros image for seed vm job

The nodepool images include CirrOS images.

Also update to newly released 0.5.2 image.

Change-Id: I95fc2c3873c8cd17edf928f613a06d2154196786
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/773163/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/bifrost-overrides.yml.j2', 'playbooks/kayobe-seed-vm-base/overrides.yml.j2', 'zuul.d/project.yaml', 'playbooks/kayobe-seed-base/bifrost-overrides.yml.j2']",4,6083d57c8a8a7d9a58c02a8df1aa79251318d208,cirros,cirros_deploy_image_upstream_url: file:///opt/cache/files/cirros-0.5.1-x86_64-disk.img,,3,13
openstack%2Fkayobe~stable%2Fussuri~I4719b4d397c01b35c78cb84c6d686dd27742d1c0,openstack/kayobe,stable/ussuri,I4719b4d397c01b35c78cb84c6d686dd27742d1c0,Test building seed deployment images in the seed job,MERGED,2021-02-04 09:32:38.000000000,2021-03-10 15:21:10.000000000,2021-03-10 15:19:06.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-04 09:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cefa8b957479daf090b7dfc8578eb4f51e0655c3', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 2, 'created': '2021-02-04 13:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a87d4af0e24d31293077f704b547bb9f18f159b5', 'message': '[DNM] Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 3, 'created': '2021-02-04 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42563a8d59264a2cf2be08f5ebfb4f21f79516bc', 'message': '[DNM] Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 4, 'created': '2021-02-05 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c15d84f15517516865516c216dfb0633af2f050e', 'message': '[DNM] Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 5, 'created': '2021-02-12 08:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/768f0229686dd1e76b2ef8ac1d62f95034e4d3c3', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. This Ansible role was updated to v1.10.2 in\nmaster and stable/victoria by I5efdbd52556721914fe69d7c6ba454b2c721b643,\nfor another reason. Bump requirement to the same version.\n\nOn Ussuri, we also need to use a newer diskimage-builder than what is\navailable via upper constraints, as ironic-python-agent-builder relies\non a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\nUse Victoria upper constraints instead (this applies only to the Python\nvirtual environment used to build IPA images).\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 6, 'created': '2021-02-16 21:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e84d20e067617f03f98c21166b5b3f1e70f82bae', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nIt also needs changes in the way we interact with Bifrost to avoid using\nthe env-vars file which has been removed. This is implemented by change\nI25078e69acdf41a4ef9957f99fe5047de54b778d.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 7, 'created': '2021-02-16 21:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bc57ef0a750da924ca6d12dababb7dc67e55a322', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 8, 'created': '2021-02-19 13:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1ff02f5acfbd95cd0148c021c4ac6061ed7d8ff7', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 9, 'created': '2021-03-04 20:27:44.000000000', 'files': ['dev/functions', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fc53de47e1c7c0b5b8b69bb99f64376bb46152dd', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}]",187,774055,fc53de47e1c7c0b5b8b69bb99f64376bb46152dd,31,4,9,15197,,,0,"Test building seed deployment images in the seed job

This requires stackhpc.os-images v1.10.0 or newer, for compatibility
with CentOS 8 when SELinux is enabled: we disable SELinux, but without
rebooting it stays enabled.

This Ansible role was updated to v1.10.2 in master and stable/victoria
by I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.
Remember to bump the requirement when backporting to earlier releases.

Finally, it requires building seed deployment images only after
deploying Bifrost, because the task copying images onto the seed expects
/etc/kolla/bifrost to exist.

We also copy log files to identify issues when the job fails.

Change-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0
(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/774055/8 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'requirements.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2']",3,cefa8b957479daf090b7dfc8578eb4f51e0655c3,test-seed-ipa-build-stable/ussuri, # Build seed deployment images (IPA) ipa_build_images: true,,11,11
openstack%2Fkayobe~master~I7435bd06d58501e361312bacfa4e55394aba5b57,openstack/kayobe,master,I7435bd06d58501e361312bacfa4e55394aba5b57,Wait for overcloud manage and provide state transitions,MERGED,2021-02-11 12:04:10.000000000,2021-03-10 15:20:49.000000000,2021-03-10 15:19:13.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-11 12:04:10.000000000', 'files': ['ansible/overcloud-provision.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aaf9572d082aa679ad452df1b09f88da0fb18576', 'message': ""Wait for overcloud manage and provide state transitions\n\nDuring the 'kayobe overcloud provision' command, wait for the\nnodes to become manageable and available.\n\nAdds two variables, 'wait_manageable_timeout' and\n'wait_available_timeout', to control the wait timeout.\n\nChange-Id: I7435bd06d58501e361312bacfa4e55394aba5b57\n""}]",0,775135,aaf9572d082aa679ad452df1b09f88da0fb18576,14,3,1,14826,,,0,"Wait for overcloud manage and provide state transitions

During the 'kayobe overcloud provision' command, wait for the
nodes to become manageable and available.

Adds two variables, 'wait_manageable_timeout' and
'wait_available_timeout', to control the wait timeout.

Change-Id: I7435bd06d58501e361312bacfa4e55394aba5b57
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/35/775135/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/overcloud-provision.yml'],1,aaf9572d082aa679ad452df1b09f88da0fb18576,," wait_manageable_timeout: 60 wait_available_timeout: 60 -a ""baremetal node manage --wait {{ wait_manageable_timeout }} {% raw %}{{ inventory_hostname }}{% endraw %}""' -a ""baremetal node provide --wait {{ wait_available_timeout }} {% raw %}{{ inventory_hostname }}{% endraw %}""'"," -a ""baremetal node manage {% raw %}{{ inventory_hostname }}{% endraw %}""' -a ""baremetal node provide {% raw %}{{ inventory_hostname }}{% endraw %}""'",4,2
openstack%2Fopenstack-ansible-os_sahara~master~I12e0f84137cf7cc89e0707fcc7114fa5ce3b355a,openstack/openstack-ansible-os_sahara,master,I12e0f84137cf7cc89e0707fcc7114fa5ce3b355a,Switch default virtualenv to python3,MERGED,2021-03-10 09:20:35.000000000,2021-03-10 15:20:14.000000000,2021-03-10 15:12:20.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:20:35.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/9222e100d178066a01441e6fcb70f08b6769efd8', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I12e0f84137cf7cc89e0707fcc7114fa5ce3b355a\n'}]",0,779688,9222e100d178066a01441e6fcb70f08b6769efd8,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I12e0f84137cf7cc89e0707fcc7114fa5ce3b355a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/88/779688/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9222e100d178066a01441e6fcb70f08b6769efd8,osa-default-python,"sahara_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","sahara_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fopenstack-ansible-os_octavia~master~I12e24fbdd00638fef09c90594f757d4848a087e7,openstack/openstack-ansible-os_octavia,master,I12e24fbdd00638fef09c90594f757d4848a087e7,Switch default virtualenv to python3,MERGED,2021-03-10 09:19:59.000000000,2021-03-10 15:19:47.000000000,2021-03-10 15:17:59.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:19:59.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/46d3096ddbaeff7a23fd6f874e61f0f7ea5ae1f4', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I12e24fbdd00638fef09c90594f757d4848a087e7\n'}]",0,779684,46d3096ddbaeff7a23fd6f874e61f0f7ea5ae1f4,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I12e24fbdd00638fef09c90594f757d4848a087e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/84/779684/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,46d3096ddbaeff7a23fd6f874e61f0f7ea5ae1f4,osa-default-python,"octavia_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","octavia_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fpuppet-ovn~master~I4cd43cecd56056727f314e222a1989e5af798dad,openstack/puppet-ovn,master,I4cd43cecd56056727f314e222a1989e5af798dad,Add support for the vlan-limit parameter,ABANDONED,2021-03-09 04:14:16.000000000,2021-03-10 15:19:43.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 04:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/57bb4eff6a5c9717daaf8c91e3ed8fdf4bfb4b34', 'message': 'Add support for the vlan_limit parameter\n\nThis change introduces support for the vlan_limit parameter. This is\nuseful in the deployment especially transparent vlan is used.\n\nChange-Id: I4cd43cecd56056727f314e222a1989e5af798dad\n'}, {'number': 2, 'created': '2021-03-09 04:17:40.000000000', 'files': ['releasenotes/notes/vlan_limit-3fcf1a7f769dd969.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/adac10c7a2154953e62bd4b8461092050713dde3', 'message': 'Add support for the vlan-limit parameter\n\nThis change introduces support for the vlan-limit parameter. This is\nuseful in the deployment especially with transparent vlan used.\n\nChange-Id: I4cd43cecd56056727f314e222a1989e5af798dad\n'}]",0,779421,adac10c7a2154953e62bd4b8461092050713dde3,6,3,2,9816,,,0,"Add support for the vlan-limit parameter

This change introduces support for the vlan-limit parameter. This is
useful in the deployment especially with transparent vlan used.

Change-Id: I4cd43cecd56056727f314e222a1989e5af798dad
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/21/779421/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vlan_limit-3fcf1a7f769dd969.yaml', 'manifests/controller.pp']",2,57bb4eff6a5c9717daaf8c91e3ed8fdf4bfb4b34,vlan_limit,"# [*vlan_limit*] # (optional) Number of vlan layers allowed. # Default to $::os_service_default # $vlan_limit = $::os_service_default, if ! is_service_default($vlan_limit) { $vlan_limit_config = { 'other_config:vlan-limit' => { 'value' => ""${vlan_limit}"" } } } else { $vlan_limit_config = {} } create_resources('vs_config', merge($config_items, $bridge_items, $tz_items, $hw_offload, $vlan_limit_config, $datapath_config, $ovn_match_northd))"," create_resources('vs_config', merge($config_items, $bridge_items, $tz_items, $hw_offload, $datapath_config, $ovn_match_northd))",16,1
openstack%2Fnetworking-odl~stable%2Fstein~Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b,openstack/networking-odl,stable/stein,Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b,Dropping lower constraints testing (stable Stein),MERGED,2021-01-12 15:34:59.000000000,2021-03-10 15:19:37.000000000,2021-03-10 15:11:59.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 15:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e8bbb9539d24a35dfd27b5a3f7d5fc4c18a65e41', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 2, 'created': '2021-02-19 13:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0f88bc70a126abccdf1f1a4ca8ee3a3cc4ce8671', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 3, 'created': '2021-02-22 10:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6fde2beba51dc8254fc3573cfc5d084575cc024d', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 4, 'created': '2021-03-08 10:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a2c7bac4cad8ada4541f39a40d5a86e34d0aea42', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 5, 'created': '2021-03-08 12:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/743ceaeba3af0dc0b349b8db108ec5123e708e0d', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 6, 'created': '2021-03-09 07:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c96d608f9293340fc076b8fae6237e8d9ac1ba0', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 7, 'created': '2021-03-09 09:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dd1331de1e4303866769a95e30a41440db052562', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}, {'number': 8, 'created': '2021-03-09 10:56:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1e3a1230fd9270280faa16336690d3c9f00a9cb3', 'message': 'Dropping lower constraints testing (stable Stein)\n\nThis topic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nAs decided in Neutron meeting, stable branches will drop this\nCI job [2].\n\nMake functional tests non-voting now to keep the gating work for older\nbranches.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nUse the networking-l2gw project new location\n\nnetworking-l2gw and networking-l2gw-tempest-plugin are\nimported to new location now and supposed to be retired from\nopenstack/namespace[1].\n\n-https://review.opendev.org/#/c/744110/\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html\n\nnetworking-l2gw location change original-Change-Id:\nI38509a2fafc07e5196ba9f8f1dc11e617cbc74f5\n(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)\n\nChange-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b\n'}]",4,770391,1e3a1230fd9270280faa16336690d3c9f00a9cb3,28,5,8,8313,,,0,"Dropping lower constraints testing (stable Stein)

This topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

As decided in Neutron meeting, stable branches will drop this
CI job [2].

Make functional tests non-voting now to keep the gating work for older
branches.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Use the networking-l2gw project new location

networking-l2gw and networking-l2gw-tempest-plugin are
imported to new location now and supposed to be retired from
openstack/namespace[1].

-https://review.opendev.org/#/c/744110/

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015647.html

networking-l2gw location change original-Change-Id:
I38509a2fafc07e5196ba9f8f1dc11e617cbc74f5
(cherry picked from commit bcac237d81a56f9ad61df0256e0b706ee95e0a0e)

Change-Id: Icccc14c49f5fcb6961adb0eb5fb99dff63ec102b
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/91/770391/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini']",3,e8bbb9539d24a35dfd27b5a3f7d5fc4c18a65e41,oslo_lc_drop,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,260
openstack%2Fpuppet-ovn~master~I163b9bda8b99c3785c35e683f83bb9d88d961cf5,openstack/puppet-ovn,master,I163b9bda8b99c3785c35e683f83bb9d88d961cf5,DNM: follow-up of the parent change,ABANDONED,2021-03-10 11:56:24.000000000,2021-03-10 15:15:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-10 11:56:24.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-a0d1b971480d7545.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/bb9bdadfc75fe6d32a8c391efb1f1a7b533bd712', 'message': 'DNM: follow-up of the parent change\n\nChange-Id: I163b9bda8b99c3785c35e683f83bb9d88d961cf5\n'}]",0,779719,bb9bdadfc75fe6d32a8c391efb1f1a7b533bd712,3,1,1,9816,,,0,"DNM: follow-up of the parent change

Change-Id: I163b9bda8b99c3785c35e683f83bb9d88d961cf5
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/19/779719/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'releasenotes/notes/ovn_chassis_mac_map-a0d1b971480d7545.yaml', 'manifests/controller.pp']",3,bb9bdadfc75fe6d32a8c391efb1f1a7b533bd712,ovn-distributed-vlan-traffic,"# (optional) A list or a hash of key-value pairs that map a chassis specific # mac to a physical network name. An example value mapping two chassis macs to # two physical network names would be:# Defaults to empty list $ovn_chassis_mac_map = [],","# (optional) A list of key-value pairs that map a chassis specific mac to # a physical network name. An example # value mapping two chassis macs to two physical network names would be:# Defaults to undef $ovn_chassis_mac_map = undef,",27,8
openstack%2Fopenstack-ansible-os_nova~master~If3e77a139b950cb90f493455dc813d227f22bd73,openstack/openstack-ansible-os_nova,master,If3e77a139b950cb90f493455dc813d227f22bd73,Switch default virtualenv to python3,MERGED,2021-03-10 09:19:45.000000000,2021-03-10 15:06:11.000000000,2021-03-10 15:04:36.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-10 09:19:45.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cd6ecfd6a8c776d747a59d5a59f9053263c029a1', 'message': 'Switch default virtualenv to python3\n\nChange-Id: If3e77a139b950cb90f493455dc813d227f22bd73\n'}]",0,779683,cd6ecfd6a8c776d747a59d5a59f9053263c029a1,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: If3e77a139b950cb90f493455dc813d227f22bd73
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/83/779683/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,cd6ecfd6a8c776d747a59d5a59f9053263c029a1,osa-default-python,"nova_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","nova_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fos-refresh-config~stable%2Fvictoria~I31cd1d609db626d0b0be931e3094e7ceac1208e2,openstack/os-refresh-config,stable/victoria,I31cd1d609db626d0b0be931e3094e7ceac1208e2,Update .gitreview for stable/victoria,ABANDONED,2021-01-14 10:22:47.000000000,2021-03-10 14:59:23.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 10:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/3f7eeaa8254f9f30750aa05fd804cc2c3c695f10', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I31cd1d609db626d0b0be931e3094e7ceac1208e2\n'}, {'number': 2, 'created': '2021-03-09 16:36:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/7e5b833bb093d03116705e74b32afaabb85ad351', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I31cd1d609db626d0b0be931e3094e7ceac1208e2\n'}]",0,770774,7e5b833bb093d03116705e74b32afaabb85ad351,5,2,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I31cd1d609db626d0b0be931e3094e7ceac1208e2
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/74/770774/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3f7eeaa8254f9f30750aa05fd804cc2c3c695f10,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fmanila-ui~master~I252c460d4966f931adc20bad5f05bd7eee2377cb,openstack/manila-ui,master,I252c460d4966f931adc20bad5f05bd7eee2377cb,"API v2.42, Added with_count in share list API",NEW,2021-01-12 08:53:47.000000000,2021-03-10 14:59:12.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 08:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/de31fb5df6cb1b5ecd41b99325bd980e5daac0e5', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nI think separate blueprint needs to be created for pagination.\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}, {'number': 2, 'created': '2021-01-22 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/5eb3a677724a7f49d37b890b2538133b04d44765', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nI think separate blueprint needs to be created for pagination.\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}, {'number': 3, 'created': '2021-01-25 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/f57419799fdb767168ed4c541b3e6f7c92f478c4', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nI think separate blueprint needs to be created for pagination.\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}, {'number': 4, 'created': '2021-02-11 11:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/6b329d9fa836a41c2354491e767a52a611529ff7', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nSeparate blueprint was created for pagination[1].\n\n[1] https://blueprints.launchpad.net/manila-ui/+spec/share-list-pagination\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}, {'number': 5, 'created': '2021-02-11 12:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/91d35a317334a8f6599d20f2670bf8d1e089e5f2', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nSeparate blueprint was created for pagination[1].\n\n[1] https://blueprints.launchpad.net/manila-ui/+spec/share-list-pagination\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}, {'number': 6, 'created': '2021-02-17 19:12:02.000000000', 'files': ['manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/api/manila.py', 'manila_ui/dashboards/project/shares/views.py', 'manila_ui/tests/dashboards/admin/shares/tests.py', 'manila_ui/dashboards/admin/shares/views.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/ca6726c02abd9b150b042d11a67513bdc4bcb99c', 'message': 'API v2.42, Added with_count in share list API\n\nAPI v2.42, Added with_count in share list API to get total count info.\nRegistered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html\n\nThis is to show total shares count without retrieving all shares,\nwhen just a slice of paginated list is returned.\n\nBut pagination is not implemented in Manila UI yet. Currently it\ndisplays all shares as list on one page.\nSeparate blueprint was created for pagination[1].\n\n[1] https://blueprints.launchpad.net/manila-ui/+spec/share-list-pagination\n\nPartial-Bug: #1823078\nChange-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb\n'}]",17,770249,ca6726c02abd9b150b042d11a67513bdc4bcb99c,20,2,6,32531,,,0,"API v2.42, Added with_count in share list API

API v2.42, Added with_count in share list API to get total count info.
Registered at https://specs.openstack.org/openstack/manila-specs/specs/queens/add-count-info-in-list-response.html

This is to show total shares count without retrieving all shares,
when just a slice of paginated list is returned.

But pagination is not implemented in Manila UI yet. Currently it
displays all shares as list on one page.
Separate blueprint was created for pagination[1].

[1] https://blueprints.launchpad.net/manila-ui/+spec/share-list-pagination

Partial-Bug: #1823078
Change-Id: I252c460d4966f931adc20bad5f05bd7eee2377cb
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/49/770249/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/api/manila.py', 'manila_ui/dashboards/admin/shares/templates/shares/index.html', 'manila_ui/dashboards/project/shares/templates/shares/index.html', 'manila_ui/dashboards/project/shares/views.py', 'manila_ui/tests/dashboards/admin/shares/tests.py', 'manila_ui/dashboards/admin/shares/views.py']",7,de31fb5df6cb1b5ecd41b99325bd980e5daac0e5,bug/1823078," def get_context_data(self, **kwargs): context = super(SharesView, self).get_context_data(**kwargs) shares = manila.share_list( self.request, search_opts={'all_tenants': True, 'with_count': True} ) context['shares_count'] = shares[1] return context @memoized.memoized_method",,42,5
openstack%2Fos-refresh-config~stable%2Fvictoria~I6df7ef9eacc25435e797005ad8f764c3e0913d46,openstack/os-refresh-config,stable/victoria,I6df7ef9eacc25435e797005ad8f764c3e0913d46,Remove tripleo-multinode-container-minimal from layout + fix test,ABANDONED,2021-03-09 16:36:58.000000000,2021-03-10 14:58:10.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/0c561ccfa2680a99e9588cf8cf2edeb140c5094c', 'message': 'Remove tripleo-multinode-container-minimal from layout + fix test\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\nThis updates test-requirements to fix issue seen in [3] and also\nfixes a failing pep8 test seen after test-requirements was fixed.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log\n\nChange-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n(cherry picked from commit a0322979f9de133e76464b9b0c28244476a7a9e0)\n'}, {'number': 2, 'created': '2021-03-10 14:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/34960228d657eca347a763caf676a8dbaa187d30', 'message': 'Remove tripleo-multinode-container-minimal from layout + fix test\n\nThe tripleo-multinode-container-minimal is being deprecated [1]\nas part of wider tripleo CI optimization at [2].\n\nThis updates test-requirements to fix issue seen in [3] and also\nfixes a failing pep8 test seen after test-requirements was fixed.\n\n[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log\n\nChange-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46\n(cherry picked from commit a0322979f9de133e76464b9b0c28244476a7a9e0)\n'}]",0,779532,34960228d657eca347a763caf676a8dbaa187d30,11,2,2,14985,,,0,"Remove tripleo-multinode-container-minimal from layout + fix test

The tripleo-multinode-container-minimal is being deprecated [1]
as part of wider tripleo CI optimization at [2].

This updates test-requirements to fix issue seen in [3] and also
fixes a failing pep8 test seen after test-requirements was fixed.

[1] Ie6473759383bd4b903cbe56fba9fee75a24154c4
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce
[3] https://a28720641abd1053931d-69746c322fe5e3cf8e2976f654b96d92.ssl.cf5.rackcdn.com/777098/1/check/openstack-tox-py38/9e6a3c0/tox/py38-1.log

Change-Id: I6df7ef9eacc25435e797005ad8f764c3e0913d46
(cherry picked from commit a0322979f9de133e76464b9b0c28244476a7a9e0)
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/32/779532/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'os_refresh_config/tests/test_os_refresh_config.py', 'zuul.d/layout.yaml']",3,0c561ccfa2680a99e9588cf8cf2edeb140c5094c,,, - tripleo-multinode-container-minimal,3,6
openstack%2Fpython-brick-cinderclient-ext~master~Icbeab1cf1527258531d9c68df030132d7ba2c995,openstack/python-brick-cinderclient-ext,master,Icbeab1cf1527258531d9c68df030132d7ba2c995,remove unicode from code,MERGED,2021-01-03 08:06:40.000000000,2021-03-10 14:53:06.000000000,2021-03-10 14:50:30.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:06:40.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/8a736e0b5967f4994f2f810bf023b24d8e8af4da', 'message': 'remove unicode from code\n\nChange-Id: Icbeab1cf1527258531d9c68df030132d7ba2c995\n'}]",0,769002,8a736e0b5967f4994f2f810bf023b24d8e8af4da,8,3,1,30384,,,0,"remove unicode from code

Change-Id: Icbeab1cf1527258531d9c68df030132d7ba2c995
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/02/769002/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,8a736e0b5967f4994f2f810bf023b24d8e8af4da,,"project = 'python-brick-cinderclient-ext Release Notes' copyright = '2016, Cinder Developers' 'os-brick Cinderclient Extension Release Notes Documentation', 'Cinder Developers', 'manual'), 'OS-Brick Release Notes Documentation', ['Cinder Developers'], 1) 'os-brick Cinderclient Extension Release Notes Documentation', 'Cinder Developers', 'BrickCinderclientExtReleaseNotes',","project = u'python-brick-cinderclient-ext Release Notes' copyright = u'2016, Cinder Developers' u'os-brick Cinderclient Extension Release Notes Documentation', u'Cinder Developers', 'manual'), u'OS-Brick Release Notes Documentation', [u'Cinder Developers'], 1) u'os-brick Cinderclient Extension Release Notes Documentation', u'Cinder Developers', 'BrickCinderclientExtReleaseNotes',",12,12
openstack%2Fcinder~stable%2Ftrain~I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc,openstack/cinder,stable/train,I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc,Pure Storage: check volumename length does not exceed maximum,ABANDONED,2021-03-09 20:42:57.000000000,2021-03-10 14:48:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-09 20:42:57.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/bug-1870103-013e314e9a5b8e08.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/634ee3284fa27b9dbd0951457dc500ad748a8a71', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n(cherry picked from commit bb219d6b9f62cc549cb9fe38b60e5e0b5aa450cf)\n'}]",0,779598,634ee3284fa27b9dbd0951457dc500ad748a8a71,10,1,1,13425,,,0,"Pure Storage: check volumename length does not exceed maximum

Add in checks to ensure volume names in all cases, including
snapshotting and unmanaging, do not exceed the name length
limits on the FlashArray

Change-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc
Closes-Bug: 1870103
(cherry picked from commit bb219d6b9f62cc549cb9fe38b60e5e0b5aa450cf)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/779598/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/bug-1870103-013e314e9a5b8e08.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,634ee3284fa27b9dbd0951457dc500ad748a8a71,bug/1870103-stable/train,"UNMANAGED_SUFFIX = ""-unmanaged""MAX_SNAP_LENGTH = 96@ddt.ddt(testNameFormat=ddt.TestNameFormat.INDEX_ONLY) unmanaged_vol_name = vol_name + UNMANAGED_SUFFIX unmanaged_vol_name = vol_name + UNMANAGED_SUFFIX @ddt.data( # 96 chars, will exceed allowable length 'volume-1e5177e7-95e5-4a0f-b170-e45f4b469f6a-cinder.' 'snapshot-253b2878-ec60-4793-ad19-e65496ec7aab', # short_name that will require no adjustment 'volume-1e5177e7-cinder.snapshot-e65496ec7aab') @mock.patch(BASE_DRIVER_OBJ + ""._get_snap_name"") def test_unmanage_snapshot(self, fake_name, mock_get_snap_name): snap, _ = self.new_fake_snap() mock_get_snap_name.return_value = fake_name self.array.rename_volume.assert_called_once() old_name = self.array.rename_volume.call_args[0][0] new_name = self.array.rename_volume.call_args[0][1] self.assertEqual(fake_name, old_name) self.assertLessEqual(len(new_name), MAX_SNAP_LENGTH) self.assertTrue(new_name.endswith(UNMANAGED_SUFFIX)) if len(snap_name + UNMANAGED_SUFFIX) > MAX_SNAP_LENGTH: unmanaged_snap_name = snap_name[:-len(UNMANAGED_SUFFIX)] + \ UNMANAGED_SUFFIX else: unmanaged_snap_name = snap_name","@ddt.ddt unmanaged_vol_name = vol_name + ""-unmanaged"" unmanaged_vol_name = vol_name + ""-unmanaged"" def test_unmanage_snapshot(self): snap, snap_name = self.new_fake_snap() unmanaged_snap_name = snap_name + ""-unmanaged"" self.array.rename_volume.assert_called_with(snap_name, unmanaged_snap_name) unmanaged_snap_name = snap_name + ""-unmanaged""",49,14
openstack%2Freleases~master~I0eb722fe343f191a60630a68bb7048a90dbf3fef,openstack/releases,master,I0eb722fe343f191a60630a68bb7048a90dbf3fef,Release final python-swiftclient for Wallaby,MERGED,2021-03-05 15:30:53.000000000,2021-03-10 14:42:57.000000000,2021-03-10 14:42:57.000000000,"[{'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2b84a9a8ee0803e07b1e08e4de76752773759c09', 'message': 'Release final python-swiftclient for Wallaby\n\nThis proposed a release for python-swiftclient to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 11.\n\n$ git log --oneline --no-merges 3.11.0..06b36ae\n06b36ae Drop lower-constraints testing\ne687636 remove unicode from code\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0eb722fe343f191a60630a68bb7048a90dbf3fef\n'}, {'number': 2, 'created': '2021-03-09 15:59:19.000000000', 'files': ['deliverables/wallaby/python-swiftclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/70196a2ecb667d19bbc9f59389e94157842fc2aa', 'message': 'Release final python-swiftclient for Wallaby\n\nThis proposed a release for python-swiftclient to get any final merged changes\nout prior to the lib freeze for Wallaby going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Monday, March 11.\n\n$ git log --oneline --no-merges 3.11.0..06b36ae\n06b36ae Drop lower-constraints testing\ne687636 remove unicode from code\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0eb722fe343f191a60630a68bb7048a90dbf3fef\n'}]",0,778970,70196a2ecb667d19bbc9f59389e94157842fc2aa,11,4,2,28522,,,0,"Release final python-swiftclient for Wallaby

This proposed a release for python-swiftclient to get any final merged changes
out prior to the lib freeze for Wallaby going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Monday, March 11.

$ git log --oneline --no-merges 3.11.0..06b36ae
06b36ae Drop lower-constraints testing
e687636 remove unicode from code

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I0eb722fe343f191a60630a68bb7048a90dbf3fef
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/778970/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-swiftclient.yaml'],1,2b84a9a8ee0803e07b1e08e4de76752773759c09,cwi-client-final, - version: 3.12.0 projects: - repo: openstack/python-swiftclient hash: 06b36ae0e2ee6054162bfb1d9f3cdda39eacbad5,,4,0
openstack%2Freleases~master~Id029fed75a72858eec9d983bb015007c144c96b3,openstack/releases,master,Id029fed75a72858eec9d983bb015007c144c96b3,Release networking-ovn for stable/train,MERGED,2021-01-29 14:28:37.000000000,2021-03-10 14:42:42.000000000,2021-03-10 14:42:42.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5baf925d03727703f8052620192b92f14d238090', 'message': 'Release networking-ovn for stable/train\n\nThis release picks up new commits to networking-ovn since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id029fed75a72858eec9d983bb015007c144c96b3\n'}, {'number': 2, 'created': '2021-03-08 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b3c7f1ea5ff3d1d20de093d6cf8144c450bba659', 'message': 'Release networking-ovn for stable/train\n\nThis release picks up new commits to networking-ovn since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id029fed75a72858eec9d983bb015007c144c96b3\n'}, {'number': 3, 'created': '2021-03-09 11:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6adb26135391e94a7a51c0f4af43a530652493bd', 'message': 'Release networking-ovn for stable/train\n\nThis release picks up new commits to networking-ovn since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id029fed75a72858eec9d983bb015007c144c96b3\n'}, {'number': 4, 'created': '2021-03-09 20:00:10.000000000', 'files': ['deliverables/train/networking-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e456493b254f67885225854309916643c0e467a', 'message': 'Release networking-ovn for stable/train\n\nThis release picks up new commits to networking-ovn since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id029fed75a72858eec9d983bb015007c144c96b3\n'}]",0,773070,5e456493b254f67885225854309916643c0e467a,34,6,4,17685,,,0,"Release networking-ovn for stable/train

This release picks up new commits to networking-ovn since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Id029fed75a72858eec9d983bb015007c144c96b3
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/773070/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-ovn.yaml'],1,5baf925d03727703f8052620192b92f14d238090,train-stable, - version: 7.3.1 projects: - repo: openstack/networking-ovn hash: d07317b60e6d46aabc3a6e878924923a07661e75,,4,0
openstack%2Freleases~master~I9445b4f8abff81c11a397a15a85cb1ffe1e5bfec,openstack/releases,master,I9445b4f8abff81c11a397a15a85cb1ffe1e5bfec,Update list_eol_stale_branches.sh documentation,MERGED,2021-03-04 12:52:41.000000000,2021-03-10 14:38:50.000000000,2021-03-10 14:38:50.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-04 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cdad56b184b37eec59d96bc035e4d9c73e12178a', 'message': 'Update list_eol_stale_branches.sh documentation\n\nWith the new option of the script (delete a branch) the documentation\nis updated to express this as well.\n\nChange-Id: I9445b4f8abff81c11a397a15a85cb1ffe1e5bfec\n'}, {'number': 2, 'created': '2021-03-09 17:12:12.000000000', 'files': ['doc/source/reference/using.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/e142f4a11030643a78d6413d10f1c3e63faa1bba', 'message': 'Update list_eol_stale_branches.sh documentation\n\nWith the new option of the script (delete a branch) the documentation\nis updated to express this as well.\n\nChange-Id: I9445b4f8abff81c11a397a15a85cb1ffe1e5bfec\n'}]",0,778673,e142f4a11030643a78d6413d10f1c3e63faa1bba,10,3,2,17685,,,0,"Update list_eol_stale_branches.sh documentation

With the new option of the script (delete a branch) the documentation
is updated to express this as well.

Change-Id: I9445b4f8abff81c11a397a15a85cb1ffe1e5bfec
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/778673/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/using.rst'],1,cdad56b184b37eec59d96bc035e4d9c73e12178a,delete-eol-branch,"A script to detect deliverables who have EOL stale branches and optionally delete them.Another example with predefining the gerrit user to be used for branch deletion: :: GERRIT_USER=<gerrit_user_name> tools/list_eol_stale_branches.sh The reason behind this tool is that since the Extended Maintenance model have been introduced we stopped removing automatically End of Life (EOL) branches. This tool aims to list projects with branches that have been declared ``End of Life`` (that is, tagged with ``$series-eol``), but the corresponding series branch still exists. The script also offers to delete these stale branches. .. note:: Only release managers have the access rights to delete branches.","A script to detect deliverables who have eol stale branches in their repos.The reason behind this tool is that since the extended maintenance model have been introduced we stopped removing automatically EOL branches when a deliverable become EOL, this tool aim to list projects that have been declared EOL on a series that is EM and where the corresponding series branch still exists.",18,6
openstack%2Fpuppet-ovn~master~Ib826152d215f13310b226138df2585a67c6cb1fd,openstack/puppet-ovn,master,Ib826152d215f13310b226138df2585a67c6cb1fd,Add vlan_limit option to the ovn controller class,ABANDONED,2021-03-10 11:00:38.000000000,2021-03-10 14:13:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-03-10 11:00:38.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/0f896d62f21e9f0b4df7d16a090c40c9c5c9ce4d', 'message': 'Add vlan_limit option to the ovn controller class\n\nIt configures other_config:vlan-limit option in the ovsdb on nodes.\nBy default it sets value 1 which is also default in ovsdb.\n\nIn case when vlan_transparent is enabled in Neutron this value should be\nset to 0 or eventually 2 to make double tagged networks working with\nsecurity groups properly.\n\nRelated-Bug: #1918418\nChange-Id: Ib826152d215f13310b226138df2585a67c6cb1fd\n'}]",1,779713,0f896d62f21e9f0b4df7d16a090c40c9c5c9ce4d,11,3,1,11975,,,0,"Add vlan_limit option to the ovn controller class

It configures other_config:vlan-limit option in the ovsdb on nodes.
By default it sets value 1 which is also default in ovsdb.

In case when vlan_transparent is enabled in Neutron this value should be
set to 0 or eventually 2 to make double tagged networks working with
security groups properly.

Related-Bug: #1918418
Change-Id: Ib826152d215f13310b226138df2585a67c6cb1fd
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/13/779713/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp']",2,0f896d62f21e9f0b4df7d16a090c40c9c5c9ce4d,bug/1918418,"# [*vlan_limit*] # (optional) number of vlan tags which OVS can inspect, possible options are 0, # 1 (default) and 2. # Default to 1 (keep the original OVS behavior) # $vlan_limit = 1, $ovs_vlan_limit = { 'other_config:vlan-limit' => { 'value' => ""$vlan_limit"" } } create_resources('vs_config', merge($config_items, $bridge_items, $tz_items, $hw_offload, $datapath_config, $ovn_match_northd, $ovs_vlan_limit))"," create_resources('vs_config', merge($config_items, $bridge_items, $tz_items, $hw_offload, $datapath_config, $ovn_match_northd))",14,1
openstack%2Fkayobe~master~Icd5a23b3e723c14ae214d6c4e982109406dd0611,openstack/kayobe,master,Icd5a23b3e723c14ae214d6c4e982109406dd0611,Bump Ansible version range to 2.9 - 2.9,MERGED,2020-09-24 09:55:23.000000000,2021-03-10 14:12:30.000000000,2021-03-10 14:09:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-09-24 09:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2e4fdd8f46c81435f0d8a202587187421d7b7509', 'message': 'Bump Ansible version range to 2.9 - 2.9\n\nUpdates the minimum version of Ansible from 2.8 to 2.9.\n\nChange-Id: Icd5a23b3e723c14ae214d6c4e982109406dd0611\n'}, {'number': 2, 'created': '2020-10-01 09:49:41.000000000', 'files': ['requirements.txt', 'releasenotes/notes/ansible-2.9-2.9-1a666cc9aab51c9d.yaml', 'ansible/roles/kolla-ansible/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/825a9366fbf72e4b7a0dcf93dfdaba7ccbbc72b2', 'message': 'Bump Ansible version range to 2.9 - 2.9\n\nUpdates the minimum version of Ansible from 2.8 to 2.9.\n\nChange-Id: Icd5a23b3e723c14ae214d6c4e982109406dd0611\n'}]",0,754054,825a9366fbf72e4b7a0dcf93dfdaba7ccbbc72b2,17,5,2,15197,,,0,"Bump Ansible version range to 2.9 - 2.9

Updates the minimum version of Ansible from 2.8 to 2.9.

Change-Id: Icd5a23b3e723c14ae214d6c4e982109406dd0611
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/754054/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/ansible-2.9-2.9-1a666cc9aab51c9d.yaml', 'ansible/roles/kolla-ansible/tasks/install.yml']",3,2e4fdd8f46c81435f0d8a202587187421d7b7509,ansible-2.9-min," - ansible>=2.9,<2.10,!=2.9.8,!=2.9.12"," - ansible>=2.8,<2.10,!=2.8.9,!=2.9.8,!=2.9.12",8,2
openstack%2Fkayobe~master~I81cabf27f44af3c8135efe8e427db1ffee5f0091,openstack/kayobe,master,I81cabf27f44af3c8135efe8e427db1ffee5f0091,CI: display VM console log on ping or SSH failure,MERGED,2021-02-24 11:55:26.000000000,2021-03-10 14:10:12.000000000,2021-03-10 14:08:25.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-24 11:55:26.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/25ae0be2f914cbaefcf144f0fe20c89c8adbe1fa', 'message': 'CI: display VM console log on ping or SSH failure\n\nAlso increase attempts to 12, in line with Kolla Ansible CI.\n\nChange-Id: I81cabf27f44af3c8135efe8e427db1ffee5f0091\n'}]",0,777372,25ae0be2f914cbaefcf144f0fe20c89c8adbe1fa,14,3,1,14826,,,0,"CI: display VM console log on ping or SSH failure

Also increase attempts to 12, in line with Kolla Ansible CI.

Change-Id: I81cabf27f44af3c8135efe8e427db1ffee5f0091
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/777372/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,25ae0be2f914cbaefcf144f0fe20c89c8adbe1fa,," attempts=12 echo ""Console log:"" openstack console log show ${name}", attempts=6,3,1
openstack%2Fpython-cinderclient~master~I1c1afd6bbc46c3b84db8b98bf3b2dcd93061910f,openstack/python-cinderclient,master,I1c1afd6bbc46c3b84db8b98bf3b2dcd93061910f,Remove install unnecessary packages,ABANDONED,2020-09-23 07:14:29.000000000,2021-03-10 13:59:09.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-09-23 07:14:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/367f4618668701f0e654373d5f91b9608676e0b8', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: I1c1afd6bbc46c3b84db8b98bf3b2dcd93061910f\n'}]",0,753531,367f4618668701f0e654373d5f91b9608676e0b8,5,3,1,30384,,,0,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: I1c1afd6bbc46c3b84db8b98bf3b2dcd93061910f
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/31/753531/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,367f4618668701f0e654373d5f91b9608676e0b8,,, -r{toxinidir}/requirements.txt,0,1
openstack%2Fneutron~stable%2Fussuri~I6ab945086b13730ad60957760bbc2eb5c321aca2,openstack/neutron,stable/ussuri,I6ab945086b13730ad60957760bbc2eb5c321aca2,Add minimum bw qos rule validation for network,MERGED,2021-02-25 11:23:27.000000000,2021-03-10 13:53:16.000000000,2021-03-10 13:49:37.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-02-25 11:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a12f6f5abf228beeb30cd2ed4bc1fd32c80f55e6', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 2, 'created': '2021-03-03 12:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39203a4a4be659a2296ee0cdcc18bc7a6e5d88c2', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n(cherry picked from commit 90cdb4fe2a71ab08984bb417ebcfaea991460b18)\n'}, {'number': 3, 'created': '2021-03-03 16:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d9b46f70001e9065cb42fecb0e1c12167c1e7fd', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n(cherry picked from commit a21f30ca641d6ac0a28294fe28608a2a795f2168)\n'}, {'number': 4, 'created': '2021-03-09 10:09:31.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9539db17dced5a60ffe08b251d574a02808467d0', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n    neutron/services/qos/qos_plugin.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n(cherry picked from commit a21f30ca641d6ac0a28294fe28608a2a795f2168)\n'}]",2,777576,9539db17dced5a60ffe08b251d574a02808467d0,21,5,4,16688,,,0,"Add minimum bw qos rule validation for network

Minimum bandwidth QoS rule is only applicable for the network which is
backed by physical networks.
It will raise exception when you want to set Minimum bandwidth QoS rule
or update rule on network without ports.

Closes-Bug: #1913180

Conflicts:
    neutron/services/qos/drivers/manager.py
    neutron/services/qos/qos_plugin.py

Change-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2
(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)
(cherry picked from commit a21f30ca641d6ac0a28294fe28608a2a795f2168)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/777576/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",8,a12f6f5abf228beeb30cd2ed4bc1fd32c80f55e6,bug/1913180," self.qos_plugin, ""validate_policy_for_network"" ) as validate_policy_for_network, mock.patch.object( validate_policy_for_network.assert_not_called() def test_validate_policy_for_network(self): network = uuidutils.generate_uuid() with mock.patch.object( self.qos_plugin.driver_manager, ""validate_rule_for_network"", return_value=True ): self.policy.rules = [self.rule] try: self.qos_plugin.validate_policy_for_network( self.ctxt, self.policy, network_id=network) except qos_exc.QosRuleNotSupportedByNetwork: self.fail(""QosRuleNotSupportedByNetwork "" ""exception unexpectedly raised"") def _test_validate_create_network_callback(self, network_qos=False): net_qos_obj = self._make_qos_policy() net_qos_id = net_qos_obj.id if network_qos else None network = self._make_network(qos_policy_id=net_qos_id) kwargs = {""context"": self.context, ""network"": network} with mock.patch.object(self.qos_plugin, 'validate_policy_for_network') \ as mock_validate_policy: self.qos_plugin._validate_create_network_callback( 'NETWORK', 'precommit_create', 'test_plugin', **kwargs) qos_policy = None if network_qos: qos_policy = net_qos_obj if qos_policy: mock_validate_policy.assert_called_once_with( self.context, qos_policy, network.id) else: mock_validate_policy.assert_not_called() def test_validate_create_network_callback(self): self._test_validate_create_network_callback(network_qos=True) def test_validate_create_network_callback_no_qos(self): self._test_validate_create_network_callback(network_qos=False) ",,140,2
openstack%2Fneutron~stable%2Fvictoria~I6ab945086b13730ad60957760bbc2eb5c321aca2,openstack/neutron,stable/victoria,I6ab945086b13730ad60957760bbc2eb5c321aca2,Add minimum bw qos rule validation for network,MERGED,2021-02-25 11:23:03.000000000,2021-03-10 13:53:07.000000000,2021-03-10 13:49:23.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-02-25 11:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e92cd7edbbcf396e33d37ed9682081feaeb7d093', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 2, 'created': '2021-03-03 12:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90cdb4fe2a71ab08984bb417ebcfaea991460b18', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 3, 'created': '2021-03-03 16:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a21f30ca641d6ac0a28294fe28608a2a795f2168', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 4, 'created': '2021-03-04 14:31:03.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f78c111e717e62622afd192d37e271ee6acd6d2', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n    neutron/services/qos/qos_plugin.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}]",2,777575,0f78c111e717e62622afd192d37e271ee6acd6d2,26,6,4,16688,,,0,"Add minimum bw qos rule validation for network

Minimum bandwidth QoS rule is only applicable for the network which is
backed by physical networks.
It will raise exception when you want to set Minimum bandwidth QoS rule
or update rule on network without ports.

Closes-Bug: #1913180

Conflicts:
    neutron/services/qos/drivers/manager.py
    neutron/services/qos/qos_plugin.py

Change-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2
(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/777575/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",8,e92cd7edbbcf396e33d37ed9682081feaeb7d093,bug/1913180," self.qos_plugin, ""validate_policy_for_network"" ) as validate_policy_for_network, mock.patch.object( validate_policy_for_network.assert_not_called() def test_validate_policy_for_network(self): network = uuidutils.generate_uuid() with mock.patch.object( self.qos_plugin.driver_manager, ""validate_rule_for_network"", return_value=True ): self.policy.rules = [self.rule] try: self.qos_plugin.validate_policy_for_network( self.ctxt, self.policy, network_id=network) except qos_exc.QosRuleNotSupportedByNetwork: self.fail(""QosRuleNotSupportedByNetwork "" ""exception unexpectedly raised"") def _test_validate_create_network_callback(self, network_qos=False): net_qos_obj = self._make_qos_policy() net_qos_id = net_qos_obj.id if network_qos else None network = self._make_network(qos_policy_id=net_qos_id) kwargs = {""context"": self.context, ""network"": network} with mock.patch.object(self.qos_plugin, 'validate_policy_for_network') \ as mock_validate_policy: self.qos_plugin._validate_create_network_callback( 'NETWORK', 'precommit_create', 'test_plugin', **kwargs) qos_policy = None if network_qos: qos_policy = net_qos_obj if qos_policy: mock_validate_policy.assert_called_once_with( self.context, qos_policy, network.id) else: mock_validate_policy.assert_not_called() def test_validate_create_network_callback(self): self._test_validate_create_network_callback(network_qos=True) def test_validate_create_network_callback_no_qos(self): self._test_validate_create_network_callback(network_qos=False) ",,140,2
openstack%2Fpython-cinderclient~master~Ia238606fa28b6faa56fd624335c113b1bf8a52cb,openstack/python-cinderclient,master,Ia238606fa28b6faa56fd624335c113b1bf8a52cb,Remove six,ABANDONED,2021-01-07 08:44:02.000000000,2021-03-10 13:52:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 08:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/02694327db20c29b20e50fab9be181215ba6e34f', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Ia238606fa28b6faa56fd624335c113b1bf8a52cb\n'}, {'number': 2, 'created': '2021-01-07 09:23:16.000000000', 'files': ['cinderclient/base.py', 'cinderclient/client.py', 'cinderclient/tests/functional/test_snapshot_create_cli.py', 'cinderclient/shell.py', 'cinderclient/apiclient/base.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/205a66940565f9e858c3607b95de46b5db89ae71', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Ia238606fa28b6faa56fd624335c113b1bf8a52cb\n'}]",3,769687,205a66940565f9e858c3607b95de46b5db89ae71,6,1,2,32326,,,0,"Remove six

Implements: blueprint six-removal
Change-Id: Ia238606fa28b6faa56fd624335c113b1bf8a52cb
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/87/769687/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/base.py', 'cinderclient/client.py', 'cinderclient/tests/functional/test_snapshot_create_cli.py', 'cinderclient/shell.py', 'cinderclient/apiclient/base.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/tests/functional/base.py']",7,02694327db20c29b20e50fab9be181215ba6e34f,,import configparser config = configparser.RawConfigParser() obj[item['Property']] = str(item['Value']), import six config = six.moves.configparser.RawConfigParser() obj[item['Property']] = six.text_type(item['Value']),21,22
openstack%2Fkayobe~stable%2Ftrain~Ib944cda37248ab43cb4dade2018b1e91806449f9,openstack/kayobe,stable/train,Ib944cda37248ab43cb4dade2018b1e91806449f9,Fix CentOS 7 IPA build and test in CI,MERGED,2021-02-19 10:10:11.000000000,2021-03-10 13:49:10.000000000,2021-03-10 13:46:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-19 10:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/65ec58816d4e982f249fe80f39744ec171cc04f8', 'message': 'Fix CentOS 7 IPA build and test in CI\n\nInstalling pip from source fails because pip dropped Python 2 support.\nInstall pip from package instead.\n\nEnable CentOS 7 IPA builds in CI.\n\nChange-Id: Ib944cda37248ab43cb4dade2018b1e91806449f9\n'}, {'number': 2, 'created': '2021-02-19 11:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/904f1bf1ac146cec853791f303a1be29f0abf01d', 'message': 'Fix CentOS 7 IPA build and test in CI\n\nInstalling pip from source fails because pip dropped Python 2 support.\nInstall pip from package instead.\n\nEnable CentOS 7 IPA builds in CI.\n\nChange-Id: Ib944cda37248ab43cb4dade2018b1e91806449f9\n'}, {'number': 3, 'created': '2021-03-05 14:57:13.000000000', 'files': ['releasenotes/notes/train-centos7-ipa-fix-cc6db8e25578649c.yaml', 'doc/source/configuration/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93ff0175694cf9173389bf98accdd57f5566836a', 'message': 'Fix CentOS 7 IPA build and test in CI\n\nInstalling pip from source fails because pip dropped Python 2 support.\nInstall pip from package instead.\n\nEnable CentOS 7 IPA builds in CI.\n\nChange-Id: Ib944cda37248ab43cb4dade2018b1e91806449f9\n'}]",0,776595,93ff0175694cf9173389bf98accdd57f5566836a,14,3,3,15197,,,0,"Fix CentOS 7 IPA build and test in CI

Installing pip from source fails because pip dropped Python 2 support.
Install pip from package instead.

Enable CentOS 7 IPA builds in CI.

Change-Id: Ib944cda37248ab43cb4dade2018b1e91806449f9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/776595/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/ironic-python-agent.rst', 'ansible/group_vars/all/ipa', 'playbooks/kayobe-seed-base/overrides.yml.j2']",3,65ec58816d4e982f249fe80f39744ec171cc04f8,fix-centos7-ipa-train,# Build seed deployment images (IPA)# Building CentOS 8 IPA images requires custom configuration. See # doc/source/centos8.rst for details. {% if ansible_os_family == 'RedHat' %} {% if ansible_distribution_major_version | int == 8 %},# Build seed deployment images (IPA) on CentOS 8 {% if ansible_os_family == 'RedHat' %} {% if ansible_distribution_major_version | int == 8 %},8,11
openstack%2Fkayobe~stable%2Ftrain~I4719b4d397c01b35c78cb84c6d686dd27742d1c0,openstack/kayobe,stable/train,I4719b4d397c01b35c78cb84c6d686dd27742d1c0,Test building seed deployment images in the seed job (CentOS 8 only),MERGED,2021-02-03 09:12:51.000000000,2021-03-10 13:38:40.000000000,2021-03-10 13:36:19.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-03 09:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5e3efcaf36b891b5e58dc5fdff6ded29a318f5ca', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. This Ansible role is updated to v1.10.2 by\nthe following change, for another reason. (772774)\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/772774\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 2, 'created': '2021-02-03 09:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e5468defbe086ed4a08879ac91fa2c6a22abbf7f', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 3, 'created': '2021-02-03 09:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a68a2911e42a66d0cb53361abe573a028b4c89d7', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled. Update the role to v1.10.3 which is the\nlatest version available.\n\nIt also requires building seed deployment images only after deploying\nBifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit 1a012675cf73763ac42bed1cfc7117ff77071f35)\n'}, {'number': 4, 'created': '2021-02-16 21:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f324f192b6e2d1b4532ae91f602759576e5f99f', 'message': 'Test building seed deployment images in the seed job\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 5, 'created': '2021-02-17 07:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/23766109809b99aaecc088307d3351fd427e57d6', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 6, 'created': '2021-02-17 07:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f886f23e30622559b0fb95fbce5e79c4e90824f', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 7, 'created': '2021-02-17 09:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1c70c1b00a2f5e328fe65ab58067a4ecf2677bb5', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 8, 'created': '2021-02-17 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8045048fb8dff39bce8283a738276f3448c43334', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 9, 'created': '2021-02-17 11:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6118b33951cb897dfee8a5222b7dcc0a6acc4d34', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 10, 'created': '2021-02-17 12:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/255dd3cb998fc77ed9c00fc87ce07c5e136eb152', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 11, 'created': '2021-02-17 12:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5ea0377089a05c233fa2a30f180904d0ff9f6b86', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}, {'number': 12, 'created': '2021-03-05 14:57:13.000000000', 'files': ['dev/functions', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7640af70d07c9f8f7a31d3545e3d8e763057bd45', 'message': 'Test building seed deployment images in the seed job (CentOS 8 only)\n\nThis requires stackhpc.os-images v1.10.0 or newer, for compatibility\nwith CentOS 8 when SELinux is enabled: we disable SELinux, but without\nrebooting it stays enabled.\n\nThis Ansible role was updated to v1.10.2 in master and stable/victoria\nby I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.\nRemember to bump the requirement when backporting to earlier releases.\n\nFinally, it requires building seed deployment images only after\ndeploying Bifrost, because the task copying images onto the seed expects\n/etc/kolla/bifrost to exist.\n\nWe also copy log files to identify issues when the job fails.\n\nChange-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0\n(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)\n'}]",4,773853,7640af70d07c9f8f7a31d3545e3d8e763057bd45,35,4,12,15197,,,0,"Test building seed deployment images in the seed job (CentOS 8 only)

This requires stackhpc.os-images v1.10.0 or newer, for compatibility
with CentOS 8 when SELinux is enabled: we disable SELinux, but without
rebooting it stays enabled.

This Ansible role was updated to v1.10.2 in master and stable/victoria
by I5efdbd52556721914fe69d7c6ba454b2c721b643, for another reason.
Remember to bump the requirement when backporting to earlier releases.

Finally, it requires building seed deployment images only after
deploying Bifrost, because the task copying images onto the seed expects
/etc/kolla/bifrost to exist.

We also copy log files to identify issues when the job fails.

Change-Id: I4719b4d397c01b35c78cb84c6d686dd27742d1c0
(cherry picked from commit c84a9757dd449dbd8863bb1dcc55837abe26a716)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/773853/8 && git format-patch -1 --stdout FETCH_HEAD,"['dev/functions', 'playbooks/kayobe-seed-base/overrides.yml.j2']",2,5e3efcaf36b891b5e58dc5fdff6ded29a318f5ca,fix-centos7-ipa-train, # Build seed deployment images (IPA) ipa_build_images: true,,10,10
openstack%2Fkayobe~stable%2Fussuri~Ia3aa8b26ae940d290ab14e400a58ec65c12028a0,openstack/kayobe,stable/ussuri,Ia3aa8b26ae940d290ab14e400a58ec65c12028a0,Fix IPA build on stable/ussuri,MERGED,2021-02-16 21:24:13.000000000,2021-03-10 13:37:31.000000000,2021-03-10 13:34:48.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-02-16 21:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/be0153641b9300f19a327cc235d92cc61a4a557c', 'message': 'Fix IPA build on stable/ussuri\n\nOn Ussuri, we now need to use a newer diskimage-builder than what is\navailable via upper constraints, as ironic-python-agent-builder relies\non a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\nUse Victoria upper constraints instead (this applies only to the Python\nvirtual environment used to build IPA images).\n\nBecause we use a newer DIB, we hit the element-info issue fixed in\nI5efdbd52556721914fe69d7c6ba454b2c721b643. Bump the stackhpc.os-images\nrole in the same way.\n\nChange-Id: Ia3aa8b26ae940d290ab14e400a58ec65c12028a0\n'}, {'number': 2, 'created': '2021-02-19 13:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e007a96939b9621481bf4c03588b7e7e85c4833f', 'message': 'Fix IPA build on stable/ussuri\n\nOn Ussuri, we now need to use a newer diskimage-builder than what is\navailable via upper constraints, as ironic-python-agent-builder relies\non a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\nUse Victoria upper constraints instead (this applies only to the Python\nvirtual environment used to build IPA images).\n\nBecause we use a newer DIB, we hit the element-info issue fixed in\nI5efdbd52556721914fe69d7c6ba454b2c721b643. Bump the stackhpc.os-images\nrole in the same way.\n\nChange-Id: Ia3aa8b26ae940d290ab14e400a58ec65c12028a0\n'}, {'number': 3, 'created': '2021-02-23 13:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5c6be3d8b7eee68e00d32f3d02db24e46c40a4bf', 'message': 'Fix IPA build on stable/ussuri\n\nOn Ussuri, we now need to use a newer diskimage-builder than what is\navailable via upper constraints, as ironic-python-agent-builder relies\non a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\nUse Victoria upper constraints instead (this applies only to the Python\nvirtual environment used to build IPA images).\n\nBecause we use a newer DIB, we hit the element-info issue fixed in\nI5efdbd52556721914fe69d7c6ba454b2c721b643. Bump the stackhpc.os-images\nrole in the same way.\n\nChange-Id: Ia3aa8b26ae940d290ab14e400a58ec65c12028a0\n'}, {'number': 4, 'created': '2021-03-04 20:26:52.000000000', 'files': ['ansible/group_vars/all/ipa', 'requirements.yml', 'releasenotes/notes/ussuri-ipa-dib-fix-5a44e28407052df4.yaml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3cf2c992d957b6b5fbad5319c56c23a54ba2d398', 'message': 'Fix IPA build on stable/ussuri\n\nOn Ussuri, we now need to use a newer diskimage-builder than what is\navailable via upper constraints, as ironic-python-agent-builder relies\non a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\nUse Victoria upper constraints instead (this applies only to the Python\nvirtual environment used to build IPA images).\n\nBecause we use a newer DIB, we hit the element-info issue fixed in\nI5efdbd52556721914fe69d7c6ba454b2c721b643. Bump the stackhpc.os-images\nrole in the same way.\n\nChange-Id: Ia3aa8b26ae940d290ab14e400a58ec65c12028a0\n'}]",4,775936,3cf2c992d957b6b5fbad5319c56c23a54ba2d398,22,4,4,15197,,,0,"Fix IPA build on stable/ussuri

On Ussuri, we now need to use a newer diskimage-builder than what is
available via upper constraints, as ironic-python-agent-builder relies
on a recent DIB feature (see Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).
Use Victoria upper constraints instead (this applies only to the Python
virtual environment used to build IPA images).

Because we use a newer DIB, we hit the element-info issue fixed in
I5efdbd52556721914fe69d7c6ba454b2c721b643. Bump the stackhpc.os-images
role in the same way.

Change-Id: Ia3aa8b26ae940d290ab14e400a58ec65c12028a0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/775936/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/ipa', 'requirements.yml', 'releasenotes/notes/ussuri-ipa-dib-fix-5a44e28407052df4.yaml', 'etc/kayobe/ipa.yml']",4,be0153641b9300f19a327cc235d92cc61a4a557c,fix-ipa-build,# used for building IPA images. Building IPA images with the master branch of # ironic-python-agent-builder requires a newer DIB than what is available in # upper constraints for Ussuri. Default to using upper constraints from # Victoria instead.,# used for building IPA images. Default is {{ pip_upper_constraints_file }}.,25,4
openstack%2Fkayobe~stable%2Ftrain~Iae321a30f135f85136e2c9f3667280c23c0693d9,openstack/kayobe,stable/train,Iae321a30f135f85136e2c9f3667280c23c0693d9,Fix building CentOS 8 IPA images on stable/train,MERGED,2021-02-03 16:38:54.000000000,2021-03-10 13:36:55.000000000,2021-03-10 13:34:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-02-03 16:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/25551973cebb90a9dc2c51940f8e547fc56fee18', 'message': 'Fix building CentOS 8 IPA images on stable/train\n\nThis change fixes two issues with the documented configuration for\nbuilding CentOS 8 IPA images on stable/train:\n\n1) The ipa_build_dib_git_elements_default variable is only available in\n   Ussuri and later and thus has no effect in Train. Use the\n   ipa_build_dib_git_elements variable instead.\n\n2) The latest version of ironic-python-agent-builder uses a recent\n   feature of diskimage-builder which allows a list of parameters to be\n   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\n   This is only available from 2.37.2 while ussuri upper constraints\n   allow 2.35.0. Use victoria upper constraints instead (3.2.1).\n\nChange-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9\nStory: 2008593\nTask: 41751\n'}, {'number': 2, 'created': '2021-02-17 07:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/40d410907be8fe1af9b77bd2c5ad842f48c82f0c', 'message': 'Fix building CentOS 8 IPA images on stable/train\n\nThis change fixes two issues with the documented configuration for\nbuilding CentOS 8 IPA images on stable/train:\n\n1) The ipa_build_dib_git_elements_default variable is only available in\n   Ussuri and later and thus has no effect in Train. Use the\n   ipa_build_dib_git_elements variable instead.\n\n2) The latest version of ironic-python-agent-builder uses a recent\n   feature of diskimage-builder which allows a list of parameters to be\n   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\n   This is only available from 2.37.2 while ussuri upper constraints\n   allow 2.35.0. Use victoria upper constraints instead (3.2.1).\n\nChange-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9\nStory: 2008593\nTask: 41751\n'}, {'number': 3, 'created': '2021-02-17 11:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/970721d2d53fc10d84ba2c0dc5c96a58ecf5d60e', 'message': 'Fix building CentOS 8 IPA images on stable/train\n\nThis change fixes issues with the documented configuration for building\nCentOS 8 IPA images on stable/train:\n\n1) The ipa_build_dib_git_elements_default variable is only available in\n   Ussuri and later and thus has no effect in Train. Use the\n   ipa_build_dib_git_elements variable instead.\n\n2) The latest version of ironic-python-agent-builder uses a recent\n   feature of diskimage-builder which allows a list of parameters to be\n   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\n   This is only available from 2.37.2 while ussuri upper constraints\n   allow 2.35.0. Use victoria upper constraints instead (3.2.1). We need\n   to bump stackhpc.os-images to work with this newer DIB version.\n\n3) Kayobe defaults to using ipa.vmlinuz for compatiblity with the legacy\n   ironic-agent DIB element. However, ironic-python-agent-builder\n   creates a file called ipa.kernel. Update Kayobe ipa_images variable\n   to handle it. The file should be renamed to ipa.vmlinuz after being\n   copied: show the command to run on the seed host.\n\nChange-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9\nStory: 2008593\nTask: 41751\n'}, {'number': 4, 'created': '2021-02-17 12:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/739a4bac416192ad6454f1f247a8ea4afeb77462', 'message': 'Fix building CentOS 8 IPA images on stable/train\n\nThis change fixes issues with the documented configuration for building\nCentOS 8 IPA images on stable/train:\n\n1) The ipa_build_dib_git_elements_default variable is only available in\n   Ussuri and later and thus has no effect in Train. Use the\n   ipa_build_dib_git_elements variable instead.\n\n2) The latest version of ironic-python-agent-builder uses a recent\n   feature of diskimage-builder which allows a list of parameters to be\n   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\n   This is only available from 2.37.2 while ussuri upper constraints\n   allow 2.35.0. Use victoria upper constraints instead (3.2.1). We need\n   to bump stackhpc.os-images to work with this newer DIB version.\n\n3) Kayobe defaults to using ipa.vmlinuz for compatiblity with the legacy\n   ironic-agent DIB element. However, ironic-python-agent-builder\n   creates a file called ipa.kernel. Update Kayobe ipa_images variable\n   to handle it. The file should be renamed to ipa.vmlinuz after being\n   copied: show the command to run on the seed host.\n\nChange-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9\nStory: 2008593\nTask: 41751\n'}, {'number': 5, 'created': '2021-03-05 14:57:13.000000000', 'files': ['requirements.yml', 'releasenotes/notes/train-ipa-dib-fix-c348a7e3ba346ba1.yaml', 'doc/source/centos8.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/41c4c68788a4b6d86daa9ce66b498f70c3a8cfa3', 'message': 'Fix building CentOS 8 IPA images on stable/train\n\nThis change fixes issues with the documented configuration for building\nCentOS 8 IPA images on stable/train:\n\n1) The ipa_build_dib_git_elements_default variable is only available in\n   Ussuri and later and thus has no effect in Train. Use the\n   ipa_build_dib_git_elements variable instead.\n\n2) The latest version of ironic-python-agent-builder uses a recent\n   feature of diskimage-builder which allows a list of parameters to be\n   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).\n   This is only available from 2.37.2 while ussuri upper constraints\n   allow 2.35.0. Use victoria upper constraints instead (3.2.1). We need\n   to bump stackhpc.os-images to work with this newer DIB version.\n\n3) Kayobe defaults to using ipa.vmlinuz for compatiblity with the legacy\n   ironic-agent DIB element. However, ironic-python-agent-builder\n   creates a file called ipa.kernel. Update Kayobe ipa_images variable\n   to handle it. The file should be renamed to ipa.vmlinuz after being\n   copied: show the command to run on the seed host.\n\nChange-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9\nStory: 2008593\nTask: 41751\n'}]",0,773944,41c4c68788a4b6d86daa9ce66b498f70c3a8cfa3,24,6,5,15197,,,0,"Fix building CentOS 8 IPA images on stable/train

This change fixes issues with the documented configuration for building
CentOS 8 IPA images on stable/train:

1) The ipa_build_dib_git_elements_default variable is only available in
   Ussuri and later and thus has no effect in Train. Use the
   ipa_build_dib_git_elements variable instead.

2) The latest version of ironic-python-agent-builder uses a recent
   feature of diskimage-builder which allows a list of parameters to be
   used in package-installs (Idff7b067ad4255e6fc4138f7eff313a81b75c8ba).
   This is only available from 2.37.2 while ussuri upper constraints
   allow 2.35.0. Use victoria upper constraints instead (3.2.1). We need
   to bump stackhpc.os-images to work with this newer DIB version.

3) Kayobe defaults to using ipa.vmlinuz for compatiblity with the legacy
   ironic-agent DIB element. However, ironic-python-agent-builder
   creates a file called ipa.kernel. Update Kayobe ipa_images variable
   to handle it. The file should be renamed to ipa.vmlinuz after being
   copied: show the command to run on the seed host.

Change-Id: Iae321a30f135f85136e2c9f3667280c23c0693d9
Story: 2008593
Task: 41751
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/773944/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/centos8.rst'],1,25551973cebb90a9dc2c51940f8e547fc56fee18,fix-centos7-ipa-train, ipa_build_dib_git_elements: os_images_upper_constraints_file: https://releases.openstack.org/constraints/upper/victoria, ipa_build_dib_git_elements_default: os_images_upper_constraints_file: https://releases.openstack.org/constraints/upper/ussuri,2,2
openstack%2Fopenstack-manuals~master~I44103aebba21eb4784d9ce0e9a098619cbfc9a51,openstack/openstack-manuals,master,I44103aebba21eb4784d9ce0e9a098619cbfc9a51,Add designateclient to victoria project data,MERGED,2021-03-10 02:11:16.000000000,2021-03-10 13:36:22.000000000,2021-03-10 13:14:55.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 02:11:16.000000000', 'files': ['www/project-data/victoria.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b3c61f4c77b0ddb61464b6877cedbeb2abc83e02', 'message': 'Add designateclient to victoria project data\n\nChange-Id: I44103aebba21eb4784d9ce0e9a098619cbfc9a51\n'}]",0,779643,b3c61f4c77b0ddb61464b6877cedbeb2abc83e02,7,2,1,6994,,,0,"Add designateclient to victoria project data

Change-Id: I44103aebba21eb4784d9ce0e9a098619cbfc9a51
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/43/779643/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/victoria.yaml'],1,b3c61f4c77b0ddb61464b6877cedbeb2abc83e02,designateclient_victoria,- name: python-designateclient service: DNS service Python Bindings type: service-client description: designate client has_install_guide: true has_user_guide: true,#- name: python-designateclient # service: DNS service Python Bindings # type: service-client # description: designate client # has_install_guide: true # has_user_guide: true,6,6
openstack%2Fbarbican~master~Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de,openstack/barbican,master,Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de,Implement secure RBAC for secretmeta API,MERGED,2021-03-08 20:25:03.000000000,2021-03-10 13:31:01.000000000,2021-03-10 13:26:57.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 20:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c3b8811ff659837d71ebf900c693f5bb2fcbee6e', 'message': 'Implement secure RBAC for secretmeta API\n\nAdd new project scope specific RBAC rules for the secretmeta API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de\n'}, {'number': 2, 'created': '2021-03-09 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c54dbfc27e2a23d4a55a8f4726365483cd33093d', 'message': 'Implement secure RBAC for secretmeta API\n\nAdd new project scope specific RBAC rules for the secretmeta API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['releasenotes/notes/secure-rbac-secretmeta-policy-587cdad4e2ecee3a.yaml', 'barbican/common/policies/secretmeta.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f02d81be2b6a11d295ba15ca8fa11a79f90175b7', 'message': 'Implement secure RBAC for secretmeta API\n\nAdd new project scope specific RBAC rules for the secretmeta API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de\n'}]",0,779360,f02d81be2b6a11d295ba15ca8fa11a79f90175b7,12,3,3,9914,,,0,"Implement secure RBAC for secretmeta API

Add new project scope specific RBAC rules for the secretmeta API.  The old
rules still apply, but eventually will be deprecated.  The new
rules do include some changes to default policy, which are documented in
the release note.

Change-Id: Ib771a4615c1aa5a9beb1dc036b79c6ed982ba4de
",git fetch https://review.opendev.org/openstack/barbican refs/changes/60/779360/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/secure-rbac-secretmeta-policy-587cdad4e2ecee3a.yaml', 'barbican/common/policies/secretmeta.py']",2,c3b8811ff659837d71ebf900c693f5bb2fcbee6e,new_rbac,"_MEMBER = ""role:member"" check_str='rule:all_but_audit or {_MEMBER}', scope_types=['project'], check_str='rule:admin_or_creator or {_MEMBER}', scope_types=['project'], check_str='rule:admin_or_creator or {_MEMBER}', scope_types=['project'], check_str='rule:admin_or_creator or {_MEMBER}', scope_types=['project'],"," check_str='rule:all_but_audit', scope_types=[], check_str='rule:admin_or_creator', scope_types=[], check_str='rule:admin_or_creator', scope_types=[], check_str='rule:admin_or_creator', scope_types=[],",26,8
openstack%2Fbarbican~master~I992e32832fee258ffb7b6397710f42759f28083d,openstack/barbican,master,I992e32832fee258ffb7b6397710f42759f28083d,Implement secure RBAC for containers API,MERGED,2021-03-08 16:59:24.000000000,2021-03-10 13:29:00.000000000,2021-03-10 13:26:38.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2bc9791f67a02a3880b9fc36273ed85da45355b4', 'message': 'Implement secure RBAC for containers API\n\nAdd new project scope specific RBAC rules for the containers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I992e32832fee258ffb7b6397710f42759f28083d\n'}, {'number': 2, 'created': '2021-03-08 18:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a357d9a2a44525a13c11ae1283631837a32d7ced', 'message': 'Implement secure RBAC for containers API\n\nAdd new project scope specific RBAC rules for the containers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I992e32832fee258ffb7b6397710f42759f28083d\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['barbican/common/policies/containers.py', 'releasenotes/notes/secure-rbac-container-policy-f7814e65dc2ab130.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0faf224610c73e3e2871b2b2a103b9d4a010601e', 'message': 'Implement secure RBAC for containers API\n\nAdd new project scope specific RBAC rules for the containers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I992e32832fee258ffb7b6397710f42759f28083d\n'}]",1,779300,0faf224610c73e3e2871b2b2a103b9d4a010601e,13,3,3,9914,,,0,"Implement secure RBAC for containers API

Add new project scope specific RBAC rules for the containers API.  The old
rules still apply, but eventually will be deprecated.  The new
rules do include some changes to default policy, which are documented in
the release note.

Change-Id: I992e32832fee258ffb7b6397710f42759f28083d
",git fetch https://review.opendev.org/openstack/barbican refs/changes/00/779300/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/containers.py', 'releasenotes/notes/secure-rbac-container-policy-f7814e65dc2ab130.yaml']",2,2bc9791f67a02a3880b9fc36273ed85da45355b4,new_rbac,--- features: - | Implement secure-rbac for containers resource. security: - | The new secure-rbac policy allows secrets to be added and removed from containers by members. This is a change from the previous policy which only allowed admins to add and remove secrets. - | The new secure-rbac policy allows for container deletion by members. This is a change from the previous policy that only allowed deletion by the creator or the project admin. ,,41,12
openstack%2Fbarbican~master~I8e6963d7ab788038102c7f4570b3f2c9a342eabf,openstack/barbican,master,I8e6963d7ab788038102c7f4570b3f2c9a342eabf,Implement secure RBAC for orders API,MERGED,2021-03-08 20:25:03.000000000,2021-03-10 13:26:46.000000000,2021-03-10 13:26:46.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 20:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/777b4a356c5d3547175f2d11e4e0cde9d1f7c8a0', 'message': 'Implement secure RBAC for orders API\n\nAdd new project scope specific RBAC rules for the orders API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I8e6963d7ab788038102c7f4570b3f2c9a342eabf\n'}, {'number': 2, 'created': '2021-03-09 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/70cd633b5114d9c92316e094cf19e7ce3a066fc1', 'message': 'Implement secure RBAC for orders API\n\nAdd new project scope specific RBAC rules for the orders API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I8e6963d7ab788038102c7f4570b3f2c9a342eabf\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['barbican/common/policies/orders.py', 'releasenotes/notes/secure-rbac-order-policy-2068c64cb6830c6c.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/265908ec5f9ab601f2a09bd54dc488c40a9d315f', 'message': 'Implement secure RBAC for orders API\n\nAdd new project scope specific RBAC rules for the orders API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I8e6963d7ab788038102c7f4570b3f2c9a342eabf\n'}]",0,779359,265908ec5f9ab601f2a09bd54dc488c40a9d315f,11,3,3,9914,,,0,"Implement secure RBAC for orders API

Add new project scope specific RBAC rules for the orders API.  The old
rules still apply, but eventually will be deprecated.  The new
rules do include some changes to default policy, which are documented in
the release note.

Change-Id: I8e6963d7ab788038102c7f4570b3f2c9a342eabf
",git fetch https://review.opendev.org/openstack/barbican refs/changes/59/779359/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/orders.py', 'releasenotes/notes/secure-rbac-order-policy-2068c64cb6830c6c.yaml']",2,777b4a356c5d3547175f2d11e4e0cde9d1f7c8a0,new_rbac,"--- features: - | Implement secure-rbac for orders resource. security: - | The current policy allows all users except those with the audit role to list orders or retrieve an orders metadata. The new desired policy will restrict this to members. For backwards compatibility, the old policies remain in effect, but they are deprecated and will be removed in future, leaving the more restrictive new policy. - | The new secure-rbac policy allows for secret deletion by members. This is a change from the previous policy that only allowed deletion by the project admin. ",,26,10
openstack%2Fbarbican~master~I89ed0113238446ee96e486af0540b6b24336a29c,openstack/barbican,master,I89ed0113238446ee96e486af0540b6b24336a29c,Implement secure RBAC for consumers API,MERGED,2021-03-08 16:59:24.000000000,2021-03-10 13:26:42.000000000,2021-03-10 13:26:42.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/caacd36a224be912fc98a85cf6ed8b925843aa3d', 'message': 'Implement secure RBAC for consumers API\n\nAdd new project scope specific RBAC rules for the consumers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I89ed0113238446ee96e486af0540b6b24336a29c\n'}, {'number': 2, 'created': '2021-03-08 18:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8afb01e044243b115f6bd5d975dbf143b780510a', 'message': 'Implement secure RBAC for consumers API\n\nAdd new project scope specific RBAC rules for the consumers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I89ed0113238446ee96e486af0540b6b24336a29c\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['releasenotes/notes/secure-rbac-consumer-policy-5ff67280dc2a2c09.yaml', 'barbican/common/policies/consumers.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e2c8e537308f411040893792577b0fe3369ea651', 'message': 'Implement secure RBAC for consumers API\n\nAdd new project scope specific RBAC rules for the consumers API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: I89ed0113238446ee96e486af0540b6b24336a29c\n'}]",2,779301,e2c8e537308f411040893792577b0fe3369ea651,13,3,3,9914,,,0,"Implement secure RBAC for consumers API

Add new project scope specific RBAC rules for the consumers API.  The old
rules still apply, but eventually will be deprecated.  The new
rules do include some changes to default policy, which are documented in
the release note.

Change-Id: I89ed0113238446ee96e486af0540b6b24336a29c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/01/779301/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/secure-rbac-consumer-policy-5ff67280dc2a2c09.yaml', 'barbican/common/policies/consumers.py']",2,caacd36a224be912fc98a85cf6ed8b925843aa3d,new_rbac," _READER = ""role:reader"" _MEMBER = ""role:member"" _ADMIN = ""role:admin"" _SYSTEM_ADMIN = ""role:admin and system_scope:all"" _PROJECT_MEMBER = f""{_MEMBER} and project_id:%(target.container.project_id)s"" _PROJECT_ADMIN f""{_ADMIN} and project_id:%(target.container.project_id)s"" _CONTAINER_CREATOR = ""user_id:%(target.container.creator_id)s"" _CONTAINER_IS_NOT_PRIVATE = ""True:%(target.container.read_project_access)s"" 'rule:container_project_admin or rule:container_acl_read' + f"" or ({_PROJECT_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_PROJECT_ADMIN} or "" + f""{_SYSTEM_ADMIN}"", scope_types=['project', 'system'], 'rule:container_project_admin or rule:container_acl_read' + f"" or ({_PROJECT_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_PROJECT_ADMIN} or "" + f""{_SYSTEM_ADMIN}"", scope_types=['project', 'system'], 'rule:container_project_admin or rule:container_acl_read' + f"" or ({_PROJECT_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_PROJECT_ADMIN} or "" + f""{_SYSTEM_ADMIN}"", scope_types=['project', 'system'], 'rule:container_project_admin or rule:container_acl_read' + f"" or ({_PROJECT_MEMBER} and ({_CONTAINER_CREATOR} or "" + f""{_CONTAINER_IS_NOT_PRIVATE})) or {_PROJECT_ADMIN} or "" + f""{_SYSTEM_ADMIN}"", scope_types=['project', 'system'],"," 'rule:container_project_admin or rule:container_acl_read', scope_types=[], 'rule:container_project_admin or rule:container_acl_read', scope_types=[], 'rule:container_project_admin or rule:container_acl_read', scope_types=[], 'rule:container_project_admin or rule:container_acl_read', scope_types=[],",39,8
openstack%2Fbarbican~master~Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa,openstack/barbican,master,Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa,Implement secure RBAC for secrets API,MERGED,2021-03-08 16:59:24.000000000,2021-03-10 13:22:05.000000000,2021-03-10 13:20:02.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-08 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a359c5ccab38d8b02f520054686da34fef69fe20', 'message': 'Implement secure RBAC for secrets API\n\nAdd new project scope specific RBAC rules for the secrets API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa\n'}, {'number': 2, 'created': '2021-03-08 18:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/132f28a7e1c7fe2b8cb77dfe8d00ea87bafeddb6', 'message': 'Implement secure RBAC for secrets API\n\nAdd new project scope specific RBAC rules for the secrets API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa\n'}, {'number': 3, 'created': '2021-03-09 19:18:44.000000000', 'files': ['barbican/common/policies/secrets.py', 'releasenotes/notes/secure-rbac-secrets-policy-61d49439a043f865.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/eade0cfc719fedebced0fb2c6a8251f5f2a12682', 'message': 'Implement secure RBAC for secrets API\n\nAdd new project scope specific RBAC rules for the secrets API.  The old\nrules still apply, but eventually will be deprecated.  The new\nrules do include some changes to default policy, which are documented in\nthe release note.\n\nChange-Id: Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa\n'}]",2,779299,eade0cfc719fedebced0fb2c6a8251f5f2a12682,15,3,3,9914,,,0,"Implement secure RBAC for secrets API

Add new project scope specific RBAC rules for the secrets API.  The old
rules still apply, but eventually will be deprecated.  The new
rules do include some changes to default policy, which are documented in
the release note.

Change-Id: Ibe9aac10edbf43c106eaa1769af5ee777a4be5aa
",git fetch https://review.opendev.org/openstack/barbican refs/changes/99/779299/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/secrets.py', 'releasenotes/notes/secure-rbac-secrets-policy-61d49439a043f865.yaml']",2,a359c5ccab38d8b02f520054686da34fef69fe20,new_rbac,--- features: - | Implement secure-rbac for secrets resource. security: - | The new secure-rbac policy allows for two-step secret creation to be done by any member. This is a change from the previous policy that only allowed step two to be performed by the creator. - | The new secure-rbac policy allows for secret deletion by members. This is a change from the previous policy that only allowed deletion by the creator or the project admin. ,,42,13
openstack%2Fironic-python-agent~stable%2Fvictoria~Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5,openstack/ironic-python-agent,stable/victoria,Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5,Check the base device if the read-only file cannot be read,MERGED,2021-03-09 22:29:52.000000000,2021-03-10 13:21:18.000000000,2021-03-10 13:19:47.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-09 22:29:52.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/partition_check_read_only_base_device-5bc15ac2f034aca9.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99b9953fa0649d28b86b30567f3415371a1b69b1', 'message': ""Check the base device if the read-only file cannot be read\n\nFor some drives, the partition e.g. `/dev/sda1` will not have the\n'ro' file which can result in a metadata erasure failure but the base\ndevice (`/dev/sda`) will have this file.  Add an additional check\nfor the base device.\n\nChange-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5\nStory: 2008696\nTask: 42004\n(cherry picked from commit 4afe4f6069bae2215617b676ae9d4860ac84609c)\n""}]",0,779623,99b9953fa0649d28b86b30567f3415371a1b69b1,8,3,1,21909,,,0,"Check the base device if the read-only file cannot be read

For some drives, the partition e.g. `/dev/sda1` will not have the
'ro' file which can result in a metadata erasure failure but the base
device (`/dev/sda`) will have this file.  Add an additional check
for the base device.

Change-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5
Story: 2008696
Task: 42004
(cherry picked from commit 4afe4f6069bae2215617b676ae9d4860ac84609c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/23/779623/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/partition_check_read_only_base_device-5bc15ac2f034aca9.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,99b9953fa0649d28b86b30567f3415371a1b69b1,partition_ro," def test__is_read_only_device_partition_error(self): device = hardware.BlockDevice('/dev/sdfake1', 'fake', 1024, False) with mock.patch( 'builtins.open', side_effect=IOError, autospec=True) as mock_open: self.assertFalse(self.hardware._is_read_only_device(device)) mock_open.assert_has_calls([ mock.call('/sys/block/sdfake1/ro', 'r'), mock.call('/sys/block/sdfake/ro', 'r')]) def test__is_read_only_device_partition_ok(self): fileobj = mock.mock_open(read_data='1\n') device = hardware.BlockDevice('/dev/sdfake1', 'fake', 1024, False) reads = [IOError, '1'] with mock.patch( 'builtins.open', fileobj, create=True) as mock_open: mock_dev_file = mock_open.return_value.read mock_dev_file.side_effect = reads self.assertTrue(self.hardware._is_read_only_device(device)) ",,42,5
openstack%2Fironic~stable%2Fvictoria~Id9a9a53156f7fd866d93569347a81e27c6f0673c,openstack/ironic,stable/victoria,Id9a9a53156f7fd866d93569347a81e27c6f0673c,Lazy-load node details from the DB,MERGED,2021-03-08 19:26:09.000000000,2021-03-10 13:14:35.000000000,2021-03-10 13:12:37.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 19:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34bd2e32019d046aaf629b495dc76e5a1170979a', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n(cherry picked from commit 82cab603bbb21d81769cdc4f50d4fa445d026e5c)\n""}, {'number': 2, 'created': '2021-03-08 21:26:19.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/taskmanager-lazy-load-32a14526c647c2f0.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ed8ceef6f81c0d42e4faf7e1ad3b7d7c65506b6', 'message': ""Lazy-load node details from the DB\n\nIn order to reduce the load on the database backend, only lazy-load\na node's ports, portgroups, volume_connectors, and volume_targets.\nWith the power-sync as the main user, this change should reduce the\nnumber of DB operations by two thirds roughly.\n\nChange-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c\n(cherry picked from commit 82cab603bbb21d81769cdc4f50d4fa445d026e5c)\n""}]",2,779322,4ed8ceef6f81c0d42e4faf7e1ad3b7d7c65506b6,16,4,2,6618,,,0,"Lazy-load node details from the DB

In order to reduce the load on the database backend, only lazy-load
a node's ports, portgroups, volume_connectors, and volume_targets.
With the power-sync as the main user, this change should reduce the
number of DB operations by two thirds roughly.

Change-Id: Id9a9a53156f7fd866d93569347a81e27c6f0673c
(cherry picked from commit 82cab603bbb21d81769cdc4f50d4fa445d026e5c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/779322/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/irmc/test_inspect.py', 'ironic/tests/unit/conductor/test_task_manager.py', 'releasenotes/notes/taskmanager-lazy-load-32a14526c647c2f0.yaml', 'ironic/conductor/task_manager.py']",5,34bd2e32019d046aaf629b495dc76e5a1170979a,story_2008626-stable/victoria," self._ports = None self._portgroups = None self._volume_connectors = None self._volume_targets = None @property def ports(self): try: if self._ports is None: self._ports = objects.Port.list_by_node_id(self.context, self.node.id) except Exception: with excutils.save_and_reraise_exception(): self.release_resources() return self._ports @ports.setter def ports(self, ports): self._ports = ports @property def portgroups(self): try: if self._portgroups is None: self._portgroups = objects.Portgroup.list_by_node_id( self.context, self.node.id) except Exception: with excutils.save_and_reraise_exception(): self.release_resources() return self._portgroups @portgroups.setter def portgroups(self, portgroups): self._portgroups = portgroups @property def volume_connectors(self): try: if self._volume_connectors is None: self._volume_connectors = \ objects.VolumeConnector.list_by_node_id( self.context, self.node.id) except Exception: with excutils.save_and_reraise_exception(): self.release_resources() return self._volume_connectors @volume_connectors.setter def volume_connectors(self, volume_connectors): self._volume_connectors = volume_connectors @property def volume_targets(self): try: if self._volume_targets is None: self._volume_targets = objects.VolumeTarget.list_by_node_id( self.context, self.node.id) except Exception: with excutils.save_and_reraise_exception(): self.release_resources() return self._volume_targets @volume_targets.setter def volume_targets(self, volume_targets): self._volume_targets = volume_targets "," self.ports = objects.Port.list_by_node_id(context, self.node.id) self.portgroups = objects.Portgroup.list_by_node_id(context, self.node.id) self.volume_connectors = objects.VolumeConnector.list_by_node_id( context, self.node.id) self.volume_targets = objects.VolumeTarget.list_by_node_id( context, self.node.id)",153,75
openstack%2Fironic~master~I368180a15bfa7d166d35cef4cdf9741e787046e8,openstack/ironic,master,I368180a15bfa7d166d35cef4cdf9741e787046e8,More GPU support in idrac-wsman inspect interface,MERGED,2021-02-01 11:02:42.000000000,2021-03-10 13:14:25.000000000,2021-03-10 13:12:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 32108}, {'_account_id': 32126}]","[{'number': 1, 'created': '2021-02-01 11:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c1e80ad4a6dcba953e39889bbe29c5b31279e1a', 'message': 'More GPU support in idrac-wsman inspect interface\n\nEnhance idrac0wsman inspect interface to report an additional\nGPU device, namely GV100GL [Tesla V100 PCIe 16GB].\n\nStory: 2008552\nTask: 41682\nChange-Id: I368180a15bfa7d166d35cef4cdf9741e787046e8\n'}, {'number': 2, 'created': '2021-02-01 12:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34e271b991fa89310c2372f41e98eb284dde054d', 'message': 'More GPU support in idrac-wsman inspect interface\n\nEnhance idrac0wsman inspect interface to report an additional\nGPU device, namely GV100GL [Tesla V100 PCIe 16GB].\n\nStory: 2008552\nTask: 41682\nChange-Id: I368180a15bfa7d166d35cef4cdf9741e787046e8\n'}, {'number': 3, 'created': '2021-02-02 13:59:55.000000000', 'files': ['ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py', 'releasenotes/notes/idrac-add-more-gpu-support-c3e24d8471ed6759.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1aea2040d0ca49699204559213a2521203d1f00f', 'message': 'More GPU support in idrac-wsman inspect interface\n\nEnhance idrac wsman inspect interface to report an additional\nGPU device, namely GV100GL [Tesla V100 PCIe 16GB].\n\nStory: 2008552\nTask: 41682\nChange-Id: I368180a15bfa7d166d35cef4cdf9741e787046e8\n'}]",0,773359,1aea2040d0ca49699204559213a2521203d1f00f,35,7,3,32205,,,0,"More GPU support in idrac-wsman inspect interface

Enhance idrac wsman inspect interface to report an additional
GPU device, namely GV100GL [Tesla V100 PCIe 16GB].

Story: 2008552
Task: 41682
Change-Id: I368180a15bfa7d166d35cef4cdf9741e787046e8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/773359/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/idrac-add-gpu-reporting-support-f4d80e2071f85f6a.yaml', 'ironic/drivers/modules/drac/inspect.py', 'ironic/tests/unit/drivers/modules/drac/test_inspect.py']",3,6c1e80ad4a6dcba953e39889bbe29c5b31279e1a,story/2008552," 'description': 'GV100 [TITAN V]', 'function_number': 0, 'manufacturer': 'NVIDIA Corporation', 'pci_device_id': '1D81', 'pci_vendor_id': '10DE', 'pci_subdevice_id': '1214', 'pci_subvendor_id': '10DE'}] expected_node_properties = { 'memory_mb': 32768, 'local_gb': 279, 'cpus': 18, 'cpu_arch': 'x86_64', 'capabilities': 'boot_mode:uefi,pci_gpu_devices:0'} mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client mock_client.list_memory.return_value = self.memory mock_client.list_cpus.return_value = self.cpus mock_client.list_virtual_disks.return_value = [] mock_client.list_physical_disks.return_value = self.physical_disks mock_client.list_nics.return_value = self.nics mock_client.list_bios_settings.return_value = self.uefi_boot_settings video_controllers = [test_utils.dict_to_namedtuple(values=vc) for vc in controllers] mock_client.list_video_controllers.return_value = video_controllers with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: return_value = task.driver.inspect.inspect_hardware(task) self.node.refresh() self.assertEqual(expected_node_properties, self.node.properties) self.assertEqual(states.MANAGEABLE, return_value) self.assertEqual(2, mock_port_create.call_count) @mock.patch.object(drac_common, 'get_drac_client', spec_set=True, autospec=True) @mock.patch.object(objects.Port, 'create', spec_set=True, autospec=True) def test_inspect_hardware_multiple_supported_gpu(self, mock_port_create, mock_get_drac_client): controllers = [ {'id': 'Video.Slot.7-1', 'description': 'TU104GL [Tesla T4]', 'function_number': 0, 'manufacturer': 'NVIDIA Corporation', 'pci_device_id': '1EB8', 'pci_vendor_id': '10DE', 'pci_subdevice_id': '12A2', 'pci_subvendor_id': '10DE'}, {'id': 'Video.Slot.8-1', 'description': 'GV100GL [Tesla V100 PCIe 16GB]', 'capabilities': 'boot_mode:uefi,pci_gpu_devices:2'}"," 'description': 'GV100GL [Tesla V100 PCIe 16GB]]', 'capabilities': 'boot_mode:uefi,pci_gpu_devices:0'}",60,8
openstack%2Fec2-api~master~I2d2937925a2729929506d1639470b2eadb792de7,openstack/ec2-api,master,I2d2937925a2729929506d1639470b2eadb792de7,Handle binary userdata (like gzip format),MERGED,2021-03-09 10:49:08.000000000,2021-03-10 13:04:37.000000000,2021-03-10 13:02:19.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 10:49:08.000000000', 'files': ['ec2api/metadata/api.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/faf3cc060857dadcd5e86b53b6830966675e502e', 'message': 'Handle binary userdata (like gzip format)\n\nCloses-Bug: #1776398\nChange-Id: I2d2937925a2729929506d1639470b2eadb792de7\n'}]",2,779486,faf3cc060857dadcd5e86b53b6830966675e502e,11,2,1,26721,,,0,"Handle binary userdata (like gzip format)

Closes-Bug: #1776398
Change-Id: I2d2937925a2729929506d1639470b2eadb792de7
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/86/779486/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/metadata/api.py'],1,faf3cc060857dadcd5e86b53b6830966675e502e,userdata," try: userdata = userdata.decode(""utf-8"") except UnicodeDecodeError: pass"," userdata = userdata.decode(""utf-8"")",4,1
openstack%2Fkayobe~master~Ic6c2ec38e8a22b8acc90e17a552e471aa8313f7d,openstack/kayobe,master,Ic6c2ec38e8a22b8acc90e17a552e471aa8313f7d,Add support for custom shm_size for seed container(s),MERGED,2021-02-25 22:36:00.000000000,2021-03-10 12:47:46.000000000,2021-03-10 12:44:53.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 22:36:00.000000000', 'files': ['doc/source/configuration/reference/seed-custom-containers.rst', 'ansible/roles/deploy-containers/tasks/deploy.yml', 'releasenotes/notes/add-seed-container-shm-size-support-ffc5976fb87fe285.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93f67ac47846fb06fce919e030f3846adc19ea38', 'message': ""Add support for custom shm_size for seed container(s)\n\nIt's now possible to change Docker's default 64M SHM size\nfor custom containers running on the seed.\n\nChange-Id: Ic6c2ec38e8a22b8acc90e17a552e471aa8313f7d\n""}]",0,777698,93f67ac47846fb06fce919e030f3846adc19ea38,21,3,1,32657,,,0,"Add support for custom shm_size for seed container(s)

It's now possible to change Docker's default 64M SHM size
for custom containers running on the seed.

Change-Id: Ic6c2ec38e8a22b8acc90e17a552e471aa8313f7d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/98/777698/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/reference/seed-custom-containers.rst', 'ansible/roles/deploy-containers/tasks/deploy.yml', 'releasenotes/notes/add-seed-container-shm-size-support-ffc5976fb87fe285.yaml']",3,93f67ac47846fb06fce919e030f3846adc19ea38,shm_support,--- features: - | Adds support for changing ``shm_size`` parameter when deploying custom seed container(s). ,,7,0
openstack%2Fpython-tackerclient~master~I6731d0bcbcd5a4e597596e63c2cd883b3897a145,openstack/python-tackerclient,master,I6731d0bcbcd5a4e597596e63c2cd883b3897a145,Support of Retry VNF command in openstackclient,MERGED,2021-02-17 16:20:14.000000000,2021-03-10 12:37:33.000000000,2021-03-10 12:35:25.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31902}, {'_account_id': 32102}, {'_account_id': 32219}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-02-17 16:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b40fe880f4e2ac40dbcfdd91b1a553a92597d888', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: support-error-handling\nSpec: https://review.opendev.org/c/openstack/tacker-specs/+/759349\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}, {'number': 2, 'created': '2021-02-18 02:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/7d36494757801bdfcab9c9f96b50b2f1dc5cbd7d', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: support-error-handling\nSpec: https://review.opendev.org/c/openstack/tacker-specs/+/759349\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}, {'number': 3, 'created': '2021-02-19 15:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/bf5909cf5521586139c01414a719db657ab67ee2', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}, {'number': 4, 'created': '2021-03-08 00:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/55f4f2150268e65b8de0647d752036cceec9b5b3', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}, {'number': 5, 'created': '2021-03-09 08:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/f1efff4a16699c21d861174fe3969ae89223d07e', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}, {'number': 6, 'created': '2021-03-10 07:05:52.000000000', 'files': ['tackerclient/osc/v1/vnflcm/vnflcm_op_occs.py', 'tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py', 'tackerclient/v1_0/client.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/1299e15f352d50e51a4ae3b474f77f373d278020', 'message': 'Support of Retry VNF command in openstackclient\n\nAdd ``openstack vnflcm op retry`` to python-tackerclient.\nThis command can execute Retry operation.\nThis API re-executes an LCM that is stopped in the FAILED_TEMP state\nfrom where it was interrupted.\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145\n'}]",7,776228,1299e15f352d50e51a4ae3b474f77f373d278020,36,8,6,32736,,,0,"Support of Retry VNF command in openstackclient

Add ``openstack vnflcm op retry`` to python-tackerclient.
This command can execute Retry operation.
This API re-executes an LCM that is stopped in the FAILED_TEMP state
from where it was interrupted.

Implements: blueprint support-error-handling
Spec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html
Change-Id: I6731d0bcbcd5a4e597596e63c2cd883b3897a145
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/28/776228/2 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/vnflcm/vnflcm_op_occs.py', 'tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py', 'tackerclient/v1_0/client.py', 'setup.cfg']",4,b40fe880f4e2ac40dbcfdd91b1a553a92597d888,bp/support-error-handling, vnflcm_op_retry = tackerclient.osc.v1.vnflcm.vnflcm_op_occs:RetryVnfLcmOp,,158,0
openstack%2Fpuppet-ceilometer~stable%2Fussuri~I66df247543f28b4343c15f4e151231c0e100d00a,openstack/puppet-ceilometer,stable/ussuri,I66df247543f28b4343c15f4e151231c0e100d00a,Add TLS options for oslo.cache,MERGED,2021-02-15 21:26:38.000000000,2021-03-10 12:35:41.000000000,2021-03-10 12:33:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 21:26:38.000000000', 'files': ['releasenotes/notes/add_tls_options-c9970ada14354891.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c40a3055dc6e60a258375d395f98134f165adf13', 'message': 'Add TLS options for oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/774119\nChange-Id: I66df247543f28b4343c15f4e151231c0e100d00a\n(cherry picked from commit 44fc5d25c1c9418ed4d82a48380fe6ab8362aee5)\n'}]",0,775648,c40a3055dc6e60a258375d395f98134f165adf13,9,5,1,14250,,,0,"Add TLS options for oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774119
Change-Id: I66df247543f28b4343c15f4e151231c0e100d00a
(cherry picked from commit 44fc5d25c1c9418ed4d82a48380fe6ab8362aee5)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/48/775648/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_tls_options-c9970ada14354891.yaml', 'manifests/init.pp', 'spec/classes/ceilometer_init_spec.rb']",3,c40a3055dc6e60a258375d395f98134f165adf13,memcached-cert-stable/ussuri," :tls_enabled => '<SERVICE DEFAULT>', :tls_cafile => '<SERVICE DEFAULT>', :tls_certfile => '<SERVICE DEFAULT>', :tls_keyfile => '<SERVICE DEFAULT>', :tls_allowed_ciphers => '<SERVICE DEFAULT>', :cache_tls_enabled => true, :tls_enabled => true,",,54,0
openstack%2Fneutron~stable%2Fussuri~I12b5e672b01f64fa118fe50d3add09ac2ae419c5,openstack/neutron,stable/ussuri,I12b5e672b01f64fa118fe50d3add09ac2ae419c5,"Revert ""DVR: Remove control plane arp updates for DVR""",MERGED,2021-03-09 13:08:28.000000000,2021-03-10 12:30:58.000000000,2021-03-10 12:28:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-09 13:08:28.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebc9921573fe114d6c2ec08fd85266bdeb9e3d1d', 'message': 'Revert ""DVR: Remove control plane arp updates for DVR""\n\nThis reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.\n\nReason for revert: bug/1916761\n\nConflicts:\n   neutron/db/l3_dvr_db.py\n\nChange-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5\n(cherry picked from commit e6ddea1aa0c17fd16e746fe49696a675894f7209)\n'}]",0,779464,ebc9921573fe114d6c2ec08fd85266bdeb9e3d1d,10,6,1,11805,,,0,"Revert ""DVR: Remove control plane arp updates for DVR""

This reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.

Reason for revert: bug/1916761

Conflicts:
   neutron/db/l3_dvr_db.py

Change-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5
(cherry picked from commit e6ddea1aa0c17fd16e746fe49696a675894f7209)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/779464/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",5,ebc9921573fe114d6c2ec08fd85266bdeb9e3d1d,bug/1916761-stable/victoria-stable/ussuri," def test_allowed_addr_pairs_delayed_fip_and_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) HOST2 = 'host2' helpers.register_l3_agent( host=HOST2, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port,\ self.port(subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port2: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} vm_port2 = self.core_plugin.update_port( self.context, int_port2['port']['id'], {'port': {portbindings.HOST_ID: HOST2}}) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.core_plugin.update_port( self.context, vm_port2['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.assertEqual( 2, l3_notifier.routers_updated_on_host.call_count) updated_vm_port1 = self.core_plugin.get_port( self.context, vm_port['id']) updated_vm_port2 = self.core_plugin.get_port( self.context, vm_port2['id']) expected_allowed_address_pairs = updated_vm_port1.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) expected_allowed_address_pairs_2 = updated_vm_port2.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs_2, allowed_address_pairs) # Now the VRRP port is attached to the VM port. At this # point, the VRRP port should not have inherited the # port host bindings from the parent VM port. cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST1) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST2) # Next we can try to associate the floatingip to the # VRRP port that is already attached to the VM port floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) post_update_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = post_update_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, HOST2), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls, any_order=True) self.assertFalse(l3_notifier.routers_updated.called) router_info = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) floatingips = router_info[0][constants.FLOATINGIP_KEY] self.assertTrue(floatingips[0][constants.DVR_SNAT_BOUND]) def test_allowed_address_pairs_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} self.assertEqual(1, l3_notifier.add_arp_entry.call_count) floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual(vrrp_port_db[portbindings.HOST_ID], HOST1) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) updated_vm_port = self.core_plugin.get_port( self.context, vm_port['id']) expected_allowed_address_pairs = updated_vm_port.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = cur_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls) self.assertFalse(l3_notifier.routers_updated.called) ",,500,0
openstack%2Fneutron~stable%2Fvictoria~I12b5e672b01f64fa118fe50d3add09ac2ae419c5,openstack/neutron,stable/victoria,I12b5e672b01f64fa118fe50d3add09ac2ae419c5,"Revert ""DVR: Remove control plane arp updates for DVR""",MERGED,2021-03-09 13:07:17.000000000,2021-03-10 12:30:37.000000000,2021-03-10 12:28:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 13:07:17.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dac4539c10c3d68779f0337d423e2ea40e3078cc', 'message': 'Revert ""DVR: Remove control plane arp updates for DVR""\n\nThis reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.\n\nReason for revert: bug/1916761\n\nConflicts:\n   neutron/db/l3_dvr_db.py\n\nChange-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5\n(cherry picked from commit e6ddea1aa0c17fd16e746fe49696a675894f7209)\n'}]",0,779463,dac4539c10c3d68779f0337d423e2ea40e3078cc,10,6,1,11805,,,0,"Revert ""DVR: Remove control plane arp updates for DVR""

This reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.

Reason for revert: bug/1916761

Conflicts:
   neutron/db/l3_dvr_db.py

Change-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5
(cherry picked from commit e6ddea1aa0c17fd16e746fe49696a675894f7209)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/779463/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",5,dac4539c10c3d68779f0337d423e2ea40e3078cc,bug/1916761-stable/victoria," def test_allowed_addr_pairs_delayed_fip_and_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) HOST2 = 'host2' helpers.register_l3_agent( host=HOST2, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port,\ self.port(subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port2: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} vm_port2 = self.core_plugin.update_port( self.context, int_port2['port']['id'], {'port': {portbindings.HOST_ID: HOST2}}) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.core_plugin.update_port( self.context, vm_port2['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.assertEqual( 2, l3_notifier.routers_updated_on_host.call_count) updated_vm_port1 = self.core_plugin.get_port( self.context, vm_port['id']) updated_vm_port2 = self.core_plugin.get_port( self.context, vm_port2['id']) expected_allowed_address_pairs = updated_vm_port1.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) expected_allowed_address_pairs_2 = updated_vm_port2.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs_2, allowed_address_pairs) # Now the VRRP port is attached to the VM port. At this # point, the VRRP port should not have inherited the # port host bindings from the parent VM port. cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST1) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST2) # Next we can try to associate the floatingip to the # VRRP port that is already attached to the VM port floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) post_update_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = post_update_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, HOST2), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls, any_order=True) self.assertFalse(l3_notifier.routers_updated.called) router_info = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) floatingips = router_info[0][constants.FLOATINGIP_KEY] self.assertTrue(floatingips[0][constants.DVR_SNAT_BOUND]) def test_allowed_address_pairs_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} self.assertEqual(1, l3_notifier.add_arp_entry.call_count) floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual(vrrp_port_db[portbindings.HOST_ID], HOST1) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) updated_vm_port = self.core_plugin.get_port( self.context, vm_port['id']) expected_allowed_address_pairs = updated_vm_port.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = cur_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls) self.assertFalse(l3_notifier.routers_updated.called) ",,500,0
openstack%2Fopenstack-ansible-os_masakari~master~I6d5edd4fd8f3db0839fc1ce3cad8832730ece696,openstack/openstack-ansible-os_masakari,master,I6d5edd4fd8f3db0839fc1ce3cad8832730ece696,Switch default virtualenv to python3,MERGED,2021-03-10 09:18:12.000000000,2021-03-10 12:24:16.000000000,2021-03-10 12:22:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:18:12.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/9dcf91047cba5970739a99234ea08c997ef85542', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I6d5edd4fd8f3db0839fc1ce3cad8832730ece696\n'}]",0,779680,9dcf91047cba5970739a99234ea08c997ef85542,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I6d5edd4fd8f3db0839fc1ce3cad8832730ece696
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/80/779680/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9dcf91047cba5970739a99234ea08c997ef85542,osa-default-python,"masakari_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","masakari_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fovn-octavia-provider~master~Iec46c3e1ebef822d43964e13962153dc8760ee42,openstack/ovn-octavia-provider,master,Iec46c3e1ebef822d43964e13962153dc8760ee42,Check if no members in pool better in batch update,MERGED,2021-01-22 12:37:46.000000000,2021-03-10 12:24:01.000000000,2021-03-10 12:22:05.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 12:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d36a759cb13d3864a7bf533ba7557e65da31e9a7', 'message': 'Check if member is empty in members_to_delete\n\nCloses-Bug: #1912779\nChange-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42\n'}, {'number': 2, 'created': '2021-03-02 22:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/774b0fe91a79b29992a75723ec6b433b7c015045', 'message': 'Check if member is empty in members_to_delete\n\nCloses-Bug: #1912779\nChange-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42\n'}, {'number': 3, 'created': '2021-03-02 22:45:31.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6e30b8552ca83e0424ec460a4b4728cd70505c7a', 'message': ""Check if no members in pool better in batch update\n\nmember_batch_update() might find a loadbalancer with\na pool that contains no members, but calling split(',')\nwill result in an existing member list of ['']. Force\nit to an empty list if there are no members.\n\nCloses-Bug: #1912779\nChange-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42\n""}]",7,771971,6e30b8552ca83e0424ec460a4b4728cd70505c7a,18,4,3,22629,,,0,"Check if no members in pool better in batch update

member_batch_update() might find a loadbalancer with
a pool that contains no members, but calling split(',')
will result in an existing member list of ['']. Force
it to an empty list if there are no members.

Closes-Bug: #1912779
Change-Id: Iec46c3e1ebef822d43964e13962153dc8760ee42
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/71/771971/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/driver.py'],1,d36a759cb13d3864a7bf533ba7557e65da31e9a7,," if member: member_info = member.split('_') request_info = {'id': member_info[1], 'address': member_info[2].split(':')[0], 'protocol_port': member_info[2].split(':')[1], 'pool_id': pool_id} if len(member_info) == 4: request_info['subnet_id'] = member_info[3] request = {'type': ovn_const.REQ_TYPE_MEMBER_DELETE, 'info': request_info} request_list.append(request)"," member_info = member.split('_') request_info = {'id': member_info[1], 'address': member_info[2].split(':')[0], 'protocol_port': member_info[2].split(':')[1], 'pool_id': pool_id} if len(member_info) == 4: request_info['subnet_id'] = member_info[3] request = {'type': ovn_const.REQ_TYPE_MEMBER_DELETE, 'info': request_info} request_list.append(request)",11,10
openstack%2Fnova~master~I1d270cc3e88a74097eefe3b887106222ae06fe1c,openstack/nova,master,I1d270cc3e88a74097eefe3b887106222ae06fe1c,pci: track host NUMA topology in stats,MERGED,2021-02-04 19:25:55.000000000,2021-03-10 12:16:41.000000000,2021-03-09 20:32:01.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-04 19:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/931f102960e244cd810483d4d74f5a7ebbb5d77d', 'message': ""WIP: Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices. Start tracking this in PCI stats and manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 2, 'created': '2021-02-05 00:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e58d829e7b5b1fff80d674e8bcf6bdd74b3db682', 'message': ""WIP: Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices. Start tracking this in PCI stats and manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 3, 'created': '2021-02-05 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3b2cfb9d00ba4d172c7afaa0a458be6d09e5282', 'message': ""WIP: Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices. Start tracking this in PCI stats and manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 4, 'created': '2021-02-06 00:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31778c79bdd714849bc7aeedd672fd9a61165bea', 'message': ""WIP: Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 5, 'created': '2021-02-09 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/189a670e68364271048d8b5b1dcc97c2b716a8c0', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 6, 'created': '2021-02-17 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a89c88da7b8dc2e368424a1f9b5d80d4445dba12', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 7, 'created': '2021-02-18 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a90f57f0dbf01f82a3199de8a647ad0e33f245c', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 8, 'created': '2021-02-21 14:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/698c206c3176a8513e9b013df6996df0fa3a2bf1', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 9, 'created': '2021-02-21 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b7c04402265dfbd45cec8c6d08bcb7cbd2c9482', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming `socket` affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their numa_node). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class)\nlevel, so all the _filter_*() classmethods that - in a subsequent\npatch - will either use self.numa_topology directly or call a method\nthat does, are moved to the object level. They were only ever called\nvia self anyways.\n\nIn addition, to fetch the host NUMA topology at __init__(), the PCI\ncode needs to always be passed the node_id. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 10, 'created': '2021-02-24 10:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8243e3cc49bbb0d6697acb350e09192650a623ca', 'message': ""Track host NUMA topology in PCI manager\n\nFor the upcoming 'socket' affinity, the PCI code needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their 'numa_node'). Start tracking this in PCI stats\nand manager.\n\nWe need to track the NUMA topology at the object (not the class) level,\nso all the '_filter_*()' classmethods that - in a subsequent patch -\nwill either use 'self.numa_topology' directly or call a method that\ndoes, are moved to the object level. They were only ever called via self\nanyways.\n\nIn addition, to fetch the host NUMA topology at '__init__()', the PCI\ncode needs to always be passed the 'node_id'. Make this argument\nmandatory - it was only ever None in tests, anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 11, 'created': '2021-03-04 16:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d1448f347ab58e259d3ec661269ea22f36d9ba', 'message': ""pci: track host NUMA topology in stats\n\nFor the upcoming `socket` affinity, PCI stats needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their 'numa_node'). In this patch, the PCI manager\nstarts fetching its compute node to obtain its NUMA topology, and\nstarts passing the NUMA topology to PCI stats.\n\nWe need to track the NUMA topology at the object (not the class) level,\nso all the '_filter_*()' classmethods in PCI stats that - in a\nsubsequent patch - will either use 'self.numa_topology' directly or\ncall a method that does, are moved to the object level. They were only\never called via self anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}, {'number': 12, 'created': '2021-03-08 20:19:23.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/pci/stats.py', 'nova/tests/unit/scheduler/weights/test_weights_pci.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/890b6d54a6f885cb6dd032dbf8186116df14eb6b', 'message': ""pci: track host NUMA topology in stats\n\nFor the upcoming `socket` affinity, PCI stats needs to know the\nhost's NUMA topology in order to calculate the socket affinity of PCI\ndevices (based on their 'numa_node'). In this patch, the PCI manager\nstarts using its compute_node parameter to give a NUMA topology to PCI\nstats.\n\nPCI stats needs to track the NUMA topology at the object (not the\nclass) level, so all the '_filter_*()' classmethods that, in a\nsubsequent patch, will either use 'self.numa_topology' directly or\ncall a method that does, are moved to the object level. They were only\never called via self anyways.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c\n""}]",22,774149,890b6d54a6f885cb6dd032dbf8186116df14eb6b,91,3,12,8864,,,0,"pci: track host NUMA topology in stats

For the upcoming `socket` affinity, PCI stats needs to know the
host's NUMA topology in order to calculate the socket affinity of PCI
devices (based on their 'numa_node'). In this patch, the PCI manager
starts using its compute_node parameter to give a NUMA topology to PCI
stats.

PCI stats needs to track the NUMA topology at the object (not the
class) level, so all the '_filter_*()' classmethods that, in a
subsequent patch, will either use 'self.numa_topology' directly or
call a method that does, are moved to the object level. They were only
ever called via self anyways.

Implements: blueprint pci-socket-affinity
Change-Id: I1d270cc3e88a74097eefe3b887106222ae06fe1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/774149/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/pci/stats.py', 'nova/scheduler/host_manager.py']",3,931f102960e244cd810483d4d74f5a7ebbb5d77d,bp/pci-socket-affinity," self.numa_topology,",,18,22
openstack%2Fnetworking-sfc~master~I439535f0ac5df735bdf0caf538edad97e1b0ac8d,openstack/networking-sfc,master,I439535f0ac5df735bdf0caf538edad97e1b0ac8d,Use TOX_CONSTRAINTS_FILE,MERGED,2021-01-07 02:10:08.000000000,2021-03-10 12:16:19.000000000,2021-03-10 12:14:15.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-07 02:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6b0b4a240cba09538da32f4ccab5a68718d63394', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I439535f0ac5df735bdf0caf538edad97e1b0ac8d\n'}, {'number': 2, 'created': '2021-03-01 18:02:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/42509e238cdb184708f62453887f11aac545169c', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I439535f0ac5df735bdf0caf538edad97e1b0ac8d\n'}]",0,769637,42509e238cdb184708f62453887f11aac545169c,15,3,2,32238,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I439535f0ac5df735bdf0caf538edad97e1b0ac8d
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/37/769637/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b0b4a240cba09538da32f4ccab5a68718d63394,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpbr~master~I580da15fefd6ad352e69749b77cc4664aef84f9c,openstack/pbr,master,I580da15fefd6ad352e69749b77cc4664aef84f9c,Dropping lower constraints testing,MERGED,2020-12-18 14:04:55.000000000,2021-03-10 12:16:14.000000000,2021-03-10 12:10:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-12-18 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/671f01554715d261a3cc68246ab7922cd0e8e501', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 2, 'created': '2021-01-27 12:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f02a9c95a50c98811caad14e2f4e223f628848aa', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 3, 'created': '2021-02-10 10:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3dc08d35c5ddf26d8de0fa02312af2c67d081ddb', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 4, 'created': '2021-02-10 14:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/bd3f42ba165f51f9847a1ccdf3c8effce90d92d1', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 5, 'created': '2021-02-11 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/db0ee6f5c49a42ef34612c448f4d2dcfdf2f242c', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 6, 'created': '2021-02-18 10:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/fdd560247d29495182ca5e44657601e36bc641fd', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}, {'number': 7, 'created': '2021-03-09 11:21:25.000000000', 'files': ['pbr/tests/test_setup.py', '.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/8e47cad9012c3781e82fc435499da4c1faca916e', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nReplace assertTrue by assertIn to fix with the latest flake8 version.\nAdd six in the documentation requirements to fix the build.\nFix the conflict status with hacking.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c\n'}]",2,767724,8e47cad9012c3781e82fc435499da4c1faca916e,36,5,7,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Replace assertTrue by assertIn to fix with the latest flake8 version.
Add six in the documentation requirements to fix the build.
Fix the conflict status with hacking.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I580da15fefd6ad352e69749b77cc4664aef84f9c
",git fetch https://review.opendev.org/openstack/pbr refs/changes/24/767724/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,671f01554715d261a3cc68246ab7922cd0e8e501,oslo_lc_drop,, - openstack-lower-constraints-jobs,0,1
openstack%2Ftripleo-validations~stable%2Fussuri~I77c7e928f301b255bf92439f88e7393dde6e3511,openstack/tripleo-validations,stable/ussuri,I77c7e928f301b255bf92439f88e7393dde6e3511,Migrate molecule jobs from centos 7 to 8,ABANDONED,2021-03-03 09:15:27.000000000,2021-03-10 12:15:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 09:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/69594a167e0981b2d0d3283b2013e8c84774d090', 'message': ""Migrate molecule jobs from centos 7 to 8\n\n- Ensure we have docker installed\n- Don't run molecule tests for uncovered roles\n\nDepends-On: Ic76cad76ebdd7cc9adf64866a4fd2ed16477166a\nChange-Id: I77c7e928f301b255bf92439f88e7393dde6e3511\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit 444e08fdcc1b9732d5259871dbba46a1d6a7b6d2)\n""}, {'number': 2, 'created': '2021-03-03 09:51:30.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b5ed79bb65ee039b23d4afca99ffc6740f9a52fa', 'message': ""Migrate molecule jobs from centos 7 to 8\n\n- Ensure we have docker installed\n- Don't run molecule tests for uncovered roles\n\nDepends-On: Ic76cad76ebdd7cc9adf64866a4fd2ed16477166a\nChange-Id: I77c7e928f301b255bf92439f88e7393dde6e3511\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit 444e08fdcc1b9732d5259871dbba46a1d6a7b6d2)\n""}]",0,778387,b5ed79bb65ee039b23d4afca99ffc6740f9a52fa,5,1,2,11491,,,0,"Migrate molecule jobs from centos 7 to 8

- Ensure we have docker installed
- Don't run molecule tests for uncovered roles

Depends-On: Ic76cad76ebdd7cc9adf64866a4fd2ed16477166a
Change-Id: I77c7e928f301b255bf92439f88e7393dde6e3511
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit 444e08fdcc1b9732d5259871dbba46a1d6a7b6d2)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/778387/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,69594a167e0981b2d0d3283b2013e8c84774d090,stable/ussuri/UBI8, - tripleo-validations-centos-8-molecule-system_encoding - tripleo-validations-centos-8-molecule-undercloud_disk_space - tripleo-validations-centos-8-molecule-system_encoding - tripleo-validations-centos-8-molecule-undercloud_disk_space jobs: - ^roles/undercloud_disk_space/.* name: tripleo-validations-centos-8-molecule-undercloud_disk_space parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: undercloud_disk_space - job: files:, - tripleo-validations-centos-8-molecule-system_encoding - tripleo-validations-centos-8-molecule-system_encoding,12,2
openstack%2Fironic-python-agent-builder~master~I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0,openstack/ironic-python-agent-builder,master,I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0,Do not build iso for ussuri ipa,MERGED,2021-03-04 08:28:06.000000000,2021-03-10 11:58:50.000000000,2021-03-10 11:57:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-04 08:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/1e14b5b1ae07da1d1cb0ac764335b7156e636c76', 'message': ""Do not test building an iso\n\nSince ipa-builder is branchless its code is used directly from master to\ntest ipa in stable releases.\nThe iso has been fixed only recently, and since we need to use\nipa-builder version 2.2.0 in stable/ussuri to test, build and publish\nthe ipa ramdisk, we can't also build an iso in CI or the build job will\nbreak.\nDo not test building an iso until we find a way to either backport the\nfix in ipa-builder or build the iso only from victoria onwards.\n\nChange-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0\n""}, {'number': 2, 'created': '2021-03-04 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c36fb9f7102d03d6c6b52b60036f8f49dde39f4c', 'message': ""Do not build iso for ussuri ipa\n\nSince ipa-builder is branchless its code is used directly from master to\ntest ipa in stable releases.\nThe iso has been fixed only recently, and since we need to use\nipa-builder version 2.2.0 in stable/ussuri to test, build and publish\nthe ipa ramdisk, we can't also build an iso in CI or the build job will\nbreak.\nAs a result we do not buildi an iso for ussuri ironic-python-agent.\n\nChange-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0\n""}, {'number': 3, 'created': '2021-03-04 17:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/537e1fc43c6d0f7e6a821f76b5dd68bf9d3426bb', 'message': ""Do not build iso for ussuri ipa\n\nSince ipa-builder is branchless its code is used directly from master to\ntest ipa in stable releases.\nThe iso has been fixed only recently, and since we need to use\nipa-builder version 2.2.0 in stable/ussuri to test, build and publish\nthe ipa ramdisk, we can't also build an iso in CI or the build job will\nbreak.\nAs a result we do not buildi an iso for ussuri ironic-python-agent.\n\nChange-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0\n""}, {'number': 4, 'created': '2021-03-04 17:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/79235cac1c30e3637d6ce2ddd07f01ab35fe16e7', 'message': ""Do not build iso for ussuri ipa\n\nSince ipa-builder is branchless its code is used directly from master to\ntest ipa in stable releases.\nThe iso has been fixed only recently, and since we need to use\nipa-builder version 2.2.0 in stable/ussuri to test, build and publish\nthe ipa ramdisk, we can't also build an iso in CI or the build job will\nbreak.\nAs a result we do not buildi an iso for ussuri ironic-python-agent.\n\nChange-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0\n""}, {'number': 5, 'created': '2021-03-05 08:23:25.000000000', 'files': ['roles/ipa-build-tinyipa-image/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0a0e9014c66b9fef36fe3e7e6f1730c61579476a', 'message': ""Do not build iso for ussuri ipa\n\nSince ipa-builder is branchless its code is used directly from master to\ntest ipa in stable releases.\nThe iso has been fixed only recently, and since we need to use\nipa-builder version 2.2.0 in stable/ussuri to test, build and publish\nthe ipa ramdisk, we can't also build an iso in CI or the build job will\nbreak.\nAs a result we do not buildi an iso for ussuri ironic-python-agent.\n\nChange-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0\n""}]",0,778620,0a0e9014c66b9fef36fe3e7e6f1730c61579476a,24,4,5,23851,,,0,"Do not build iso for ussuri ipa

Since ipa-builder is branchless its code is used directly from master to
test ipa in stable releases.
The iso has been fixed only recently, and since we need to use
ipa-builder version 2.2.0 in stable/ussuri to test, build and publish
the ipa ramdisk, we can't also build an iso in CI or the build job will
break.
As a result we do not buildi an iso for ussuri ironic-python-agent.

Change-Id: I4801e87f5b3c37f113bfc9578c8e2aaa4d4f32f0
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/20/778620/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-build-tinyipa-image/tasks/main.yaml'],1,1e14b5b1ae07da1d1cb0ac764335b7156e636c76,no-iso-build, command: make, command: make all,1,1
openstack%2Fvalidations-common~master~Ief5c335c5f1faf17ee977bf414309376b11bd561,openstack/validations-common,master,Ief5c335c5f1faf17ee977bf414309376b11bd561,Puts DISABLE_PIP_VERSION_CHECK on a separate line,MERGED,2021-03-05 14:24:52.000000000,2021-03-10 11:55:36.000000000,2021-03-10 11:55:36.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-05 14:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4d09bc85e6e5b6602955a7911a87523fbcce8f6f', 'message': 'Puts DISABLE_PIP_VERSION_CHECK on as separate line\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ief5c335c5f1faf17ee977bf414309376b11bd561\n'}, {'number': 2, 'created': '2021-03-05 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6cc921b74c078e9cf340bd6406b57822a916819a', 'message': 'Puts DISABLE_PIP_VERSION_CHECK on a separate line\n\nOtherwise the env paths get mangled and weird.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ief5c335c5f1faf17ee977bf414309376b11bd561\n'}, {'number': 3, 'created': '2021-03-08 12:34:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/97b3a86fbe2f646d56b83bab38fc8c8de4f0e2be', 'message': 'Puts DISABLE_PIP_VERSION_CHECK on a separate line\n\nPreviously all tox env folders created by the rule\nhad ""DISABLE_PIP_VERSION_CHECK=1"" appended to their name.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ief5c335c5f1faf17ee977bf414309376b11bd561\n'}]",0,778939,97b3a86fbe2f646d56b83bab38fc8c8de4f0e2be,16,7,3,32926,,,0,"Puts DISABLE_PIP_VERSION_CHECK on a separate line

Previously all tox env folders created by the rule
had ""DISABLE_PIP_VERSION_CHECK=1"" appended to their name.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ief5c335c5f1faf17ee977bf414309376b11bd561
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/39/778939/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d09bc85e6e5b6602955a7911a87523fbcce8f6f,tox/inilinefix, HOME={envdir} DISABLE_PIP_VERSION_CHECK=1, HOME={envdir}DISABLE_PIP_VERSION_CHECK=1,2,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I92353622994b28c895d95bdcbe348a73b6c6bb99,openstack/tripleo-heat-templates,stable/ussuri,I92353622994b28c895d95bdcbe348a73b6c6bb99,Upgrade mariadb storage during upgrade tasks,MERGED,2021-03-09 10:23:26.000000000,2021-03-10 11:55:31.000000000,2021-03-10 11:55:31.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-09 10:23:26.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/database/mysql-base.yaml', 'container_config_scripts/mysql_upgrade_db.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698cfa6613cf2b0a56b26c79bf77152f1823c8fe', 'message': 'Upgrade mariadb storage during upgrade tasks\n\nWhen a tripleo major upgrade or FFU causes an update or mariadb\nto a new major version (e.g. 10.1 -> 10.3), some internal DB\ntables must be upgraded (myisam tables), and sometimes the\nexisting user tables may be migrated to new mariadb defaults.\n\nMove the db-specific upgrade steps into a dedicated script and\nmake sure that it is called at the right time while upgrading\nthe undercloud and/or the overcloud.\n\nCloses-Bug: #1913438\n\nChange-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99\n(cherry picked from commit 712cfcc71bb9061082154460a6e04a619055f0a0)\n(cherry picked from commit 724d65804d5e22693c3a706959f3a46b328d4521)\n'}]",0,779458,698cfa6613cf2b0a56b26c79bf77152f1823c8fe,12,3,1,20778,,,0,"Upgrade mariadb storage during upgrade tasks

When a tripleo major upgrade or FFU causes an update or mariadb
to a new major version (e.g. 10.1 -> 10.3), some internal DB
tables must be upgraded (myisam tables), and sometimes the
existing user tables may be migrated to new mariadb defaults.

Move the db-specific upgrade steps into a dedicated script and
make sure that it is called at the right time while upgrading
the undercloud and/or the overcloud.

Closes-Bug: #1913438

Change-Id: I92353622994b28c895d95bdcbe348a73b6c6bb99
(cherry picked from commit 712cfcc71bb9061082154460a6e04a619055f0a0)
(cherry picked from commit 724d65804d5e22693c3a706959f3a46b328d4521)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/779458/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/database/mysql-base.yaml', 'container_config_scripts/mysql_upgrade_db.sh']",4,698cfa6613cf2b0a56b26c79bf77152f1823c8fe,ffu-mariadb-upgrade-stable/victoria-stable/ussuri,"#!/bin/bash set -e # Wait until we know the mysql server is up and responding timeout ${DB_MAX_TIMEOUT:-60} /bin/bash -c 'until mysqladmin -uroot ping 2>/dev/null; do sleep 1; done' # After an upgrade, make sure that the running mysql had a chance to # update its data table on disk. mysql_upgrade # Upgrade to 10.3: the default table row format changed from COMPACT # to DYNAMIC, so upgrade the existing tables. compact_tables=$(mysql -se 'SELECT CONCAT(""`"",TABLE_SCHEMA,""`.`"",TABLE_NAME,""`"") FROM information_schema.tables WHERE ENGINE = ""InnoDB"" and ROW_FORMAT = ""Compact"";'); for i in $compact_tables; do echo converting row format of table $i; mysql -e ""ALTER TABLE $i ROW_FORMAT=DYNAMIC;""; done; ",,83,39
openstack%2Fopenstack-ansible-tests~stable%2Ftrain~I3d572fcc134cd7a2a907c142713dc29fac5c8837,openstack/openstack-ansible-tests,stable/train,I3d572fcc134cd7a2a907c142713dc29fac5c8837,Update get-pip url,MERGED,2021-03-10 08:23:51.000000000,2021-03-10 11:53:55.000000000,2021-03-10 11:48:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 08:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cf546fd4a304fd73bbcf9eeef95728b55cf748a8', 'message': 'Update get-pip url\n\nThe old url no longer works.\n\nChange-Id: I3d572fcc134cd7a2a907c142713dc29fac5c8837\n'}, {'number': 2, 'created': '2021-03-10 09:34:45.000000000', 'files': ['zuul.d/project-templates.yaml', 'run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ce52a9304875d35a149d507c76648b2a4fb4af40', 'message': 'Update get-pip url\n\nThe old url no longer works.\n\nAlso mark Centos-7 job as non voting as this has a circular\ndependancy on I4c9793aaeca46e2e0b7528de8fa0dc222803debb\n\nChange-Id: I3d572fcc134cd7a2a907c142713dc29fac5c8837\n'}]",0,779661,ce52a9304875d35a149d507c76648b2a4fb4af40,10,3,2,25023,,,0,"Update get-pip url

The old url no longer works.

Also mark Centos-7 job as non voting as this has a circular
dependancy on I4c9793aaeca46e2e0b7528de8fa0dc222803debb

Change-Id: I3d572fcc134cd7a2a907c142713dc29fac5c8837
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/61/779661/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,cf546fd4a304fd73bbcf9eeef95728b55cf748a8,osa-pip-url, https://bootstrap.pypa.io/pip/3.3/get-pip.py | sudo python2.7, https://bootstrap.pypa.io/3.3/get-pip.py | sudo python2.7,1,1
openstack%2Fironic~master~Iaeef9e0cf8deba20a125d3cfacd4ca8ca2f52e84,openstack/ironic,master,Iaeef9e0cf8deba20a125d3cfacd4ca8ca2f52e84,Rework the standalone guide,MERGED,2021-03-08 17:40:57.000000000,2021-03-10 11:48:23.000000000,2021-03-10 11:46:11.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 17:40:57.000000000', 'files': ['doc/source/install/standalone/enrollment.rst', 'doc/source/index.rst', 'doc/source/install/standalone/deploy.rst', 'doc/source/admin/ramdisk-boot.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/install/standalone/configure.rst', 'doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/49fcbd491041681b8a3facbdcb6004e1cf5272a5', 'message': 'Rework the standalone guide\n\nSplit the monolithic guide into several pages: configuration, enrollment\nand deployment. Merge duplicating docs into the common locations.\nUse code-block for nicer highlighting.\n\nChange-Id: Iaeef9e0cf8deba20a125d3cfacd4ca8ca2f52e84\n'}]",0,779311,49fcbd491041681b8a3facbdcb6004e1cf5272a5,9,3,1,10239,,,0,"Rework the standalone guide

Split the monolithic guide into several pages: configuration, enrollment
and deployment. Merge duplicating docs into the common locations.
Use code-block for nicer highlighting.

Change-Id: Iaeef9e0cf8deba20a125d3cfacd4ca8ca2f52e84
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/779311/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/install/standalone/enrollment.rst', 'doc/source/install/standalone/deploy.rst', 'doc/source/admin/ramdisk-boot.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/install/standalone/configure.rst', 'doc/source/install/standalone.rst']",7,49fcbd491041681b8a3facbdcb6004e1cf5272a5,standalone,"This guide explains how to configure and use the Bare Metal service standalone, i.e. without other OpenStack services. In this mode users are interacting with the bare metal API directly, not though OpenStack Compute. .. toctree:: :maxdepth: 3 standalone/configure standalone/enrollment standalone/deploy","Service settings ---------------- It is possible to use the Bare Metal service without other OpenStack services. You should make the following changes to ``/etc/ironic/ironic.conf``: #. Choose an authentication strategy which supports standalone, one option is ``noauth``:: [DEFAULT] ... auth_strategy=noauth Another option is ``http_basic`` where the credentials are stored in an `Apache htpasswd format`_ file:: [DEFAULT] ... auth_strategy=http_basic http_basic_auth_user_file=/etc/ironic/htpasswd Only the ``bcrypt`` format is supported, and the Apache `htpasswd` utility can be used to populate the file with entries, for example:: htpasswd -nbB myName myPassword >> /etc/ironic/htpasswd #. If you want to disable the Networking service, you should have your network pre-configured to serve DHCP and TFTP for machines that you're deploying. To disable it, change the following lines:: [dhcp] ... dhcp_provider=none .. note:: If you disabled the Networking service and the driver that you use is supported by at most one conductor, PXE boot will still work for your nodes without any manual config editing. This is because you know all the DHCP options that will be used for deployment and can set up your DHCP server appropriately. If you have multiple conductors per driver, it would be better to use Networking since it will do all the dynamically changing configurations for you. #. If you want to disable using a messaging broker between conductor and API processes, switch to JSON RPC instead: .. code-block:: ini [DEFAULT] rpc_transport = json-rpc JSON RPC also has its own authentication strategy. If it is not specified then the stategy defaults to ``[DEFAULT]`` ``auth_strategy``. The following will set JSON RPC to ``noauth``: .. code-block:: ini [json_rpc] auth_strategy = noauth For ``http_basic`` the conductor server needs a credentials file to validate requests: .. code-block:: ini [json_rpc] auth_strategy = http_basic http_basic_auth_user_file = /etc/ironic/htpasswd-json-rpc The API server also needs client-side credentials to be specified: .. code-block:: ini [json_rpc] auth_type = http_basic username = myName password = myPassword Preparing images ---------------- If you don't use Image service, it's possible to provide images to Bare Metal service via a URL. At the moment, only two types of URLs are acceptable instead of Image service UUIDs: HTTP(S) URLs (for example, ""http://my.server.net/images/img"") and file URLs (file:///images/img). There are however some limitations for different hardware interfaces: * If you're using :ref:`direct-deploy` with HTTP(s) URLs, you have to provide the Bare Metal service with the a checksum of your instance image. MD5 is used by default for backward compatibility reasons. To compute an MD5 checksum, you can use the following command:: $ md5sum image.qcow2 ed82def8730f394fb85aef8a208635f6 image.qcow2 Alternatively, use a SHA256 checksum or any other algorithm supported by the Python's hashlib_, e.g.:: $ sha256sum image.qcow2 9f6c942ad81690a9926ff530629fb69a82db8b8ab267e2cbd59df417c1a28060 image.qcow2 * :ref:`direct-deploy` started supporting ``file://`` images in the Victoria release cycle, before that only HTTP(s) had been supported. .. warning:: File images must be accessible to every conductor! Use a shared file system if you have more than one conductor. The ironic CLI tool will not transfer the file from a local machine to the conductor(s). .. note:: The Bare Metal service tracks content changes for non-Glance images by checking their modification date and time. For example, for HTTP image, if 'Last-Modified' header value from response to a HEAD request to ""http://my.server.net/images/deploy.ramdisk"" is greater than cached image modification time, Ironic will re-download the content. For ""file://"" images, the file system modification time is used. .. _hashlib: https://docs.python.org/3/library/hashlib.html Using CLI --------- To use the :python-ironicclient-doc:`baremetal CLI <cli/osc_plugin_cli.html>`, set up these environment variables. If the ``noauth`` authentication strategy is being used, the value ``none`` must be set for OS_AUTH_TYPE. OS_ENDPOINT is the URL of the ironic-api process. For example:: export OS_AUTH_TYPE=none export OS_ENDPOINT=http://localhost:6385/ If the ``http_basic`` authentication strategy is being used, the value ``http_basic`` must be set for OS_AUTH_TYPE. For example:: export OS_AUTH_TYPE=http_basic export OS_ENDPOINT=http://localhost:6385/ export OS_USERNAME=myUser export OS_PASSWORD=myPassword Enrolling nodes --------------- #. Create a node in Bare Metal service. At minimum, you must specify the driver name (for example, ``ipmi``). You can also specify all the required driver parameters in one command. This will return the node UUID:: baremetal node create --driver ipmi \ --driver-info ipmi_address=ipmi.server.net \ --driver-info ipmi_username=user \ --driver-info ipmi_password=pass \ --driver-info deploy_kernel=file:///images/deploy.vmlinuz \ --driver-info deploy_ramdisk=http://my.server.net/images/deploy.ramdisk +--------------+--------------------------------------------------------------------------+ | Property | Value | +--------------+--------------------------------------------------------------------------+ | uuid | be94df40-b80a-4f63-b92b-e9368ee8d14c | | driver_info | {u'deploy_ramdisk': u'http://my.server.net/images/deploy.ramdisk', | | | u'deploy_kernel': u'file:///images/deploy.vmlinuz', u'ipmi_address': | | | u'ipmi.server.net', u'ipmi_username': u'user', u'ipmi_password': | | | u'******'} | | extra | {} | | driver | ipmi | | chassis_uuid | | | properties | {} | +--------------+--------------------------------------------------------------------------+ Note that here deploy_kernel and deploy_ramdisk contain links to images instead of Image service UUIDs. #. As in case of Compute service, you can also provide ``capabilities`` to node properties, but they will be used only by Bare Metal service (for example, boot mode). Although you don't need to add properties like ``memory_mb``, ``cpus`` etc. as Bare Metal service will require UUID of a node you're going to deploy. #. Then create a port to inform Bare Metal service of the network interface cards which are part of the node by creating a port with each NIC's MAC address. In this case, they're used for naming of PXE configs for a node:: baremetal port create $MAC_ADDRESS --node $NODE_UUID Populating instance_info ------------------------ #. You also need to specify image information in the node's ``instance_info`` (see :doc:`creating-images`): * ``image_source`` - URL of the whole disk or root partition image, mandatory. * ``root_gb`` - size of the root partition, required for partition images. .. note:: Older versions of the Bare Metal service used to require a positive integer for ``root_gb`` even for whole-disk images. You may want to set it for compatibility. * ``image_checksum`` - MD5 checksum of the image specified by ``image_source``, only required for ``http://`` images when using :ref:`direct-deploy`. .. note:: Additional checksum support exists via the ``image_os_hash_algo`` and ``image_os_hash_value`` fields. They may be used instead of the ``image_checksum`` field. .. warning:: If your operating system is running in FIPS 140-2 mode, MD5 will not be available, and you **must** use SHA256 or another modern algorithm. Starting with the Stein release of ironic-python-agent can also be a URL to a checksums file, e.g. one generated with: .. code-block:: shell cd /path/to/http/root md5sum *.img > checksums * ``kernel``, ``ramdisk`` - HTTP(s) or file URLs of the kernel and initramfs of the target OS. Must be added **only** for partition images. For example:: baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH \ --instance-info kernel=$KERNEL \ --instance-info ramdisk=$RAMDISK \ --instance-info root_gb=10 With a SHA256 hash:: baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_os_hash_algo=sha256 \ --instance-info image_os_hash_value=$SHA256HASH \ --instance-info kernel=$KERNEL \ --instance-info ramdisk=$RAMDISK \ --instance-info root_gb=10 With a whole disk image:: baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH #. When using low RAM nodes with ``http://`` images that are not in the RAW format, you may want them cached locally, converted to raw and served from the conductor's HTTP server:: baremetal node set $NODE_UUID \ --instance-info image_download_source=local #. :ref:`Boot mode <boot_mode_support>` can be specified per instance:: baremetal node set $NODE_UUID \ --instance-info capabilities='{""boot_mode"": ""uefi""}' Otherwise, the ``boot_mode`` capability from the node's ``properties`` will be used. .. warning:: The two settings must not contradict each other. .. note:: This capability was introduced in the Wallaby release series, previously ironic used a separate ``instance_info/deploy_boot_mode`` field instead. #. To override the :ref:`boot option <local-boot-partition-images>` used for this instance, set the ``boot_option`` capability:: baremetal node set $NODE_UUID \ --instance-info capabilities='{""boot_option"": ""local""}' #. Starting with the Ussuri release, you can set :ref:`root device hints <root-device-hints>` per instance:: baremetal node set $NODE_UUID \ --instance-info root_device='{""wwn"": ""0x4000cca77fc4dba1""}' This setting overrides any previous setting in ``properties`` and will be removed on undeployment. #. For iLO drivers, fields that should be provided are: * ``ilo_deploy_iso`` under ``driver_info``; * ``ilo_boot_iso``, ``image_source``, ``root_gb`` under ``instance_info``. #. For software RAID with whole-disk images, the root UUID of the root partition has to be provided so that the bootloader can be correctly installed:: baremetal node set $NODE_UUID \ --instance-info image_rootfs_uuid=<uuid> Overriding a hardware interface ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Non-admins with temporary access to a node, may wish to specify different node interfaces. However, allowing them to set these interface values directly on the node is problematic, as there is no automated way to ensure that the original interface values are restored. In order to temporarily override a hardware interface, simply set the appropriate value in ``instance_info``. For example, if you'd like to override a node's storage interface, run the following:: baremetal node set $NODE_UUID \ --instance-info storage_interface=cinder ``instance_info`` values persist until after a node is cleaned. .. note:: This feature is available starting with the Wallaby release. Deployment ---------- #. Validate that all parameters are correct:: baremetal node validate $NODE_UUID +------------+--------+----------------------------------------------------------------+ | Interface | Result | Reason | +------------+--------+----------------------------------------------------------------+ | boot | True | | | console | False | Missing 'ipmi_terminal_port' parameter in node's driver_info. | | deploy | True | | | inspect | True | | | management | True | | | network | True | | | power | True | | | raid | True | | | storage | True | | +------------+--------+----------------------------------------------------------------+ #. Now you can start the deployment, run:: baremetal node deploy $NODE_UUID Ramdisk booting --------------- Advanced operators, specifically ones working with ephemeral workloads, may find it more useful to explicitly treat a node as one that would always boot from a Ramdisk. This functionality is largely intended for network booting, however some other boot interface, such as the ``redfish-virtual-media`` support enabling the same basic functionality through the existing interfaces. To use, a few different settings must be modified. #. Change the ``deploy_interface`` on the node to ``ramdisk``:: baremetal node set $NODE_UUID \ --deploy-interface ramdisk #. Set a kernel and ramdisk to be utilized:: baremetal node set $NODE_UUID \ --instance-info kernel=$KERNEL_URL \ --instance-info ramdisk=$RAMDISK_URL #. Deploy the node:: baremetal node deploy $NODE_UUID .. warning:: Configuration drives, also known as a configdrive, is not supported with the ``ramdisk`` deploy interface. Please ensure your ramdisk CPIO archive contains all necessary configuration and credentials. This is as no disk image is written to the disk of the node being provisioned with a ramdisk. The node ramdisk components will then be assembled by the conductor, appropriate configuration put in place, and the node will then be powered on. From there, normal node booting will occur. Upon undeployment of the node, normal cleaning proceedures will occur as configured with-in the conductor. Ramdisk booting with ISO media ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Currently supported for the use of ramdisks with the ``redfish-virtual-media`` and ``ipxe`` boot interfaces, an operator may request an explict ISO file to be booted. #. Store the URL to the ISO image to ``instance_info/boot_iso``, instead of a ``kernel`` or ``ramdisk`` setting:: baremetal node set $NODE_UUID \ --instance-info boot_iso=$BOOT_ISO_URL #. Deploy the node:: baremetal node deploy $NODE_UUID .. warning:: This feature, when utilized with the ``ipxe`` ``boot_interface``, will only allow a kernel and ramdisk to be booted from the supplied ISO file. Any additional contents, such as additional ramdisk contents or installer package files will be unavailable after the boot of the Operating System. Operators wishing to leverage this functionality for actions such as OS installation should explore use of the standard ``ramdisk`` ``deploy_interface`` along with the ``instance_info/kernel_append_params`` setting to pass arbitrary settings such as a mirror URL for the initial ramdisk to load data from. This is a limitation of iPXE and the overall boot process of the operating system where memory allocated by iPXE is released. Other references ---------------- * :ref:`local-boot-without-compute` .. _`Apache htpasswd format`: https://httpd.apache.org/docs/current/misc/password_encryptions.html",454,429
openstack%2Fopenstack-ansible-os_cloudkitty~master~I0290f78f2eaf763238abdffacea6fd34c75afea8,openstack/openstack-ansible-os_cloudkitty,master,I0290f78f2eaf763238abdffacea6fd34c75afea8,Switch default virtualenv to python3,MERGED,2021-03-10 09:15:54.000000000,2021-03-10 11:38:04.000000000,2021-03-10 11:36:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-10 09:15:54.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/f0f23521bc92b0d5b72b030e195001aef9d09045', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I0290f78f2eaf763238abdffacea6fd34c75afea8\n'}]",0,779670,f0f23521bc92b0d5b72b030e195001aef9d09045,8,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I0290f78f2eaf763238abdffacea6fd34c75afea8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/70/779670/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,f0f23521bc92b0d5b72b030e195001aef9d09045,osa-default-python,"cloudkitty_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","cloudkitty_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fneutron-lib~master~I53726d64167ba38c233c2cfc095ff6462bcb664e,openstack/neutron-lib,master,I53726d64167ba38c233c2cfc095ff6462bcb664e,"Populate full VLAN range in ""parse_network_vlan_ranges""",MERGED,2021-03-09 15:47:02.000000000,2021-03-10 11:25:49.000000000,2021-03-10 11:23:36.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 15:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c819afc7f8d017f673300c471f25f9fbc0a9bbb7', 'message': 'Populate full VLAN range in ""parse_network_vlan_ranges""\n\nThe method ""parse_network_vlan_ranges"" parses the\n""network_vlan_ranges"" parameter that defines, for the VLAN type\ndriver, the available physical networks and the assigned VLAN\nID ranges.\n\nIf only the network name is passed without defining a VLAN ID range,\nthat means all valid VLAN IDs are allowed (1, 4094).\n\nThe returned variable should contain this range in this case.\n\nChange-Id: I53726d64167ba38c233c2cfc095ff6462bcb664e\nCloses-Bug: #1918274\n'}, {'number': 2, 'created': '2021-03-09 15:51:14.000000000', 'files': ['neutron_lib/plugins/utils.py', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/plugins/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/02e070fe099651ad5abea87819c7d3e729885130', 'message': 'Populate full VLAN range in ""parse_network_vlan_ranges""\n\nThe method ""parse_network_vlan_ranges"" parses the\n""network_vlan_ranges"" parameter that defines, for the VLAN type\ndriver, the available physical networks and the assigned VLAN\nID ranges.\n\nIf only the network name is passed without defining a VLAN ID range,\nthat means all valid VLAN IDs are allowed (1, 4094).\n\nThe returned variable should contain this range in this case.\n\nChange-Id: I53726d64167ba38c233c2cfc095ff6462bcb664e\nCloses-Bug: #1918274\n'}]",2,779515,02e070fe099651ad5abea87819c7d3e729885130,13,5,2,16688,,,0,"Populate full VLAN range in ""parse_network_vlan_ranges""

The method ""parse_network_vlan_ranges"" parses the
""network_vlan_ranges"" parameter that defines, for the VLAN type
driver, the available physical networks and the assigned VLAN
ID ranges.

If only the network name is passed without defining a VLAN ID range,
that means all valid VLAN IDs are allowed (1, 4094).

The returned variable should contain this range in this case.

Change-Id: I53726d64167ba38c233c2cfc095ff6462bcb664e
Closes-Bug: #1918274
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/15/779515/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/plugins/utils.py', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/plugins/test_utils.py']",3,c819afc7f8d017f673300c471f25f9fbc0a9bbb7,bug/1918274," ranges = utils.parse_network_vlan_ranges( ['n1:1:3', 'n2:2:4', 'n3', 'n4', 'n4:10:12']) self.assertEqual(4, len(ranges.keys())) self.assertEqual(constants.VLAN_VALID_RANGE, ranges['n3']) self.assertEqual(constants.VLAN_VALID_RANGE, ranges['n4'])"," ranges = utils.parse_network_vlan_ranges(['n1:1:3', 'n2:2:4']) self.assertEqual(2, len(ranges.keys()))",9,3
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3,openstack/openstack-ansible-tests,stable/ussuri,I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3,Update get-pip url,MERGED,2021-03-09 21:57:02.000000000,2021-03-10 11:21:58.000000000,2021-03-10 11:11:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-09 21:57:02.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1b21abd3d04bb2157c18ff8a55bcd543ea051404', 'message': 'Update get-pip url\n\nThe old url no longer works.\n\nChange-Id: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3\n'}]",0,779593,1b21abd3d04bb2157c18ff8a55bcd543ea051404,9,3,1,25023,,,0,"Update get-pip url

The old url no longer works.

Change-Id: I744d1336608e6c25b4d9c9c77fe45e4d6b5ff1d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/93/779593/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,1b21abd3d04bb2157c18ff8a55bcd543ea051404,osa-pip-url, https://bootstrap.pypa.io/pip/3.3/get-pip.py | sudo python3, https://bootstrap.pypa.io/3.3/get-pip.py | sudo python3,1,1
openstack%2Foctavia~master~I814d4e1abf3cee686b9f4511373edd46d1f5f4e2,openstack/octavia,master,I814d4e1abf3cee686b9f4511373edd46d1f5f4e2,Remove Neutron SDN-specific code,MERGED,2020-04-07 19:12:23.000000000,2021-03-10 11:21:50.000000000,2021-03-10 11:07:11.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}]","[{'number': 1, 'created': '2020-04-07 19:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/49d90b91e7506a56346ad4227af7743ce6512d5e', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/717860\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 2, 'created': '2020-07-13 20:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/988da564cba3077b04ea0e5d3a9557e81dcdbcf1', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/717860\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 3, 'created': '2020-07-16 21:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/245061b7aa0fe7d5b7b82510ff1cb8ef2f1b9ba6', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/717860\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 4, 'created': '2020-07-16 22:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29514f333f4af101235e3ea1f7335fa185265c2b', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/717860\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 5, 'created': '2020-07-17 21:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b16ebd98234bbc55a9f48c3a089a75b9c187c1e', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 6, 'created': '2020-07-20 16:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9396b5fefe099c6a0e70a27a911cb1777c2aa209', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 7, 'created': '2020-07-20 19:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ebe85197f67303f1a4324daceb19b6f300f184d0', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 8, 'created': '2020-07-20 21:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04fb50bb6c06c4ecdc9751249968c62820bca555', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 9, 'created': '2020-07-21 21:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/26ec481d1535c58c972fd37199698af41ba7c1e2', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 10, 'created': '2020-07-22 01:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f738a50abaaf9fbeb588b9f381ee828d27798ba', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 11, 'created': '2020-07-22 01:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f67af2c22b363bb4f46d7f550344656cf14fe39d', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 12, 'created': '2020-07-22 19:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6bef34c5270129ea7410bb41f33496ad00044463', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 13, 'created': '2020-08-26 21:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/faabee1b59ce0ae6fc2eb6ab634f57faa700a0b2', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 14, 'created': '2020-08-27 22:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b520b90b90c34d2ee58fa8a71a294a6a7d7314ec', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 15, 'created': '2020-08-28 17:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cfc904d7d6e00a385aa8c6e20a8f58f9348345e1', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 16, 'created': '2020-09-28 21:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f05f7e5a8c2cf479069210a33c396561489b129', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}, {'number': 17, 'created': '2020-09-29 18:40:16.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dcdf6315b31b2962fa8d0a5f080c369214bb222e', 'message': 'Remove Neutron SDN-specific code\n\nMigrated to Neutron repository.\n\nDepends-on: https://review.opendev.org/#/c/741719\nDepends-on: https://review.opendev.org/#/c/742027\nChange-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2\n'}]",7,718192,dcdf6315b31b2962fa8d0a5f080c369214bb222e,67,5,17,1131,,,0,"Remove Neutron SDN-specific code

Migrated to Neutron repository.

Depends-on: https://review.opendev.org/#/c/741719
Depends-on: https://review.opendev.org/#/c/742027
Change-Id: I814d4e1abf3cee686b9f4511373edd46d1f5f4e2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/718192/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,49d90b91e7506a56346ad4227af7743ce6512d5e,devstack-lib-octavia,," elif [[ $NEUTRON_AGENT == ""openvswitch"" || $Q_AGENT == ""openvswitch"" ]]; then sudo ovs-vsctl -- --may-exist add-port ${OVS_BRIDGE:-br-int} o-hm0 -- set Interface o-hm0 type=internal -- set Interface o-hm0 external-ids:iface-status=active -- set Interface o-hm0 external-ids:attached-mac=$MGMT_PORT_MAC -- set Interface o-hm0 external-ids:iface-id=$MGMT_PORT_ID -- set Interface o-hm0 external-ids:skip_cleanup=true elif [[ $NEUTRON_AGENT == ""linuxbridge"" || $Q_AGENT == ""linuxbridge"" ]]; then if ! ip link show o-hm0 ; then sudo ip link add o-hm0 type veth peer name o-bhm0 NETID=$(openstack network show lb-mgmt-net -c id -f value) BRNAME=brq$(echo $NETID|cut -c 1-11) sudo brctl addif $BRNAME o-bhm0 sudo ip link set o-bhm0 up fi elif [[ $NEUTRON_AGENT == ""openvswitch"" || $Q_AGENT == ""openvswitch"" ]]; then : # Do nothing elif [[ $NEUTRON_AGENT == ""linuxbridge"" || $Q_AGENT == ""linuxbridge"" ]]; then if ip link show o-hm0 ; then sudo ip link del o-hm0 fi",0,16
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Ie7583adb4839321df5d1c2ee4f4aa12f70991534,openstack/openstack-ansible-tests,stable/stein,Ie7583adb4839321df5d1c2ee4f4aa12f70991534,Update get-pip url,MERGED,2021-03-09 22:00:44.000000000,2021-03-10 11:21:24.000000000,2021-03-10 11:11:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-09 22:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2f3ead2c5a922517e5d5f37fbc51744c81da5a37', 'message': 'Update get-pip url\n\nThe old url no longer works.\n\nChange-Id: Ie7583adb4839321df5d1c2ee4f4aa12f70991534\n'}, {'number': 2, 'created': '2021-03-10 08:19:20.000000000', 'files': ['zuul.d/project-templates.yaml', 'run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2c410a894b9b0cccaea9ea1edd33708317fd8f90', 'message': 'Update get-pip url\n\nThe old url no longer works.\n\nMark all functional test jobs as non voting as there is a circular\ndependancy on I43a93ccbbd1274313fdaf8a4e1fa3af50bdc1c28.\n\nChange-Id: Ie7583adb4839321df5d1c2ee4f4aa12f70991534\n'}]",0,779595,2c410a894b9b0cccaea9ea1edd33708317fd8f90,11,3,2,25023,,,0,"Update get-pip url

The old url no longer works.

Mark all functional test jobs as non voting as there is a circular
dependancy on I43a93ccbbd1274313fdaf8a4e1fa3af50bdc1c28.

Change-Id: Ie7583adb4839321df5d1c2ee4f4aa12f70991534
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/95/779595/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,2f3ead2c5a922517e5d5f37fbc51744c81da5a37,osa-pip-url, https://bootstrap.pypa.io/pip/3.3/get-pip.py | sudo python2.7, https://bootstrap.pypa.io/3.3/get-pip.py | sudo python2.7,1,1
openstack%2Foctavia-tempest-plugin~master~I0d15dbae9034ab17de69d884e8f57df0d25d4338,openstack/octavia-tempest-plugin,master,I0d15dbae9034ab17de69d884e8f57df0d25d4338,Add neutron plugin to octavia-dsvm-base job,MERGED,2020-07-17 21:11:51.000000000,2021-03-10 11:20:12.000000000,2021-03-10 11:07:07.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 21:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5952cb02e0dadc34c3ed29b39e07ba5c9e16394a', 'message': 'Add neutron plugin to octavia-dsvm-noop-base job\n\nWith octavia_create_network_interface_device() being in\nthe neutron tree, we have to enable the neutron plugin\nin this job to have it visible, else o-hm0 will not\nget created and it will fail.\n\nChange-Id: I0d15dbae9034ab17de69d884e8f57df0d25d4338\n'}, {'number': 2, 'created': '2020-09-28 21:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f6b1d666190ae7f12cb48915fc8a08ce6d5d180f', 'message': 'Add neutron plugin to octavia-dsvm-base job\n\nWith octavia_create_network_interface_device() being in\nthe neutron tree, we have to enable the neutron plugin\nin more jobs to have it visible, else o-hm0 will not\nget created and it will fail.\n\nMoved the occurence in the ipv6-only job to the parent\ndefinition as well.\n\nChange-Id: I0d15dbae9034ab17de69d884e8f57df0d25d4338\n'}, {'number': 3, 'created': '2020-11-03 14:51:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0f7e0283e98268e8f652753f8f02186069647adc', 'message': 'Add neutron plugin to octavia-dsvm-base job\n\nWith octavia_create_network_interface_device() being in\nthe neutron tree, we have to enable the neutron plugin\nin more jobs to have it visible, else o-hm0 will not\nget created and it will fail.\n\nMoved the occurence in the ipv6-only job to the parent\ndefinition as well.\n\nChange-Id: I0d15dbae9034ab17de69d884e8f57df0d25d4338\n'}]",6,741719,0f7e0283e98268e8f652753f8f02186069647adc,25,4,3,1131,,,0,"Add neutron plugin to octavia-dsvm-base job

With octavia_create_network_interface_device() being in
the neutron tree, we have to enable the neutron plugin
in more jobs to have it visible, else o-hm0 will not
get created and it will fail.

Moved the occurence in the ipv6-only job to the parent
definition as well.

Change-Id: I0d15dbae9034ab17de69d884e8f57df0d25d4338
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/19/741719/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5952cb02e0dadc34c3ed29b39e07ba5c9e16394a,, devstack_plugins: neutron: https://opendev.org/openstack/neutron.git,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idec9e5ca0a8d3de7414938c7f280c06bcbd906c1,openstack/tripleo-heat-templates,stable/train,Idec9e5ca0a8d3de7414938c7f280c06bcbd906c1,ovn: Add neutron-cleanup,MERGED,2020-10-23 12:42:20.000000000,2021-03-10 11:16:00.000000000,2021-03-10 11:16:00.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-23 12:42:20.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8372d5e6d1ed979579b7bc9f099203326388fe58', 'message': 'ovn: Add neutron-cleanup\n\nThe service cleans up orphaned tap devices on node boot. This is good\nfor cases were node was fenced or hard rebooted. There is similar patch\nfor OVS deployments [1].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/commit/81265737187f32eef2b654a901ed74818873eb88\n\nCloses-bug: #1899799\n\nConflicts:\n\tdeployment/ovn/ovn-controller-container-puppet.yaml\n\nChange-Id: Idec9e5ca0a8d3de7414938c7f280c06bcbd906c1\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 92b6f306246468ecd26bdb5339b75bc574a9e9a3)\n'}]",0,759415,8372d5e6d1ed979579b7bc9f099203326388fe58,14,7,1,8655,,,0,"ovn: Add neutron-cleanup

The service cleans up orphaned tap devices on node boot. This is good
for cases were node was fenced or hard rebooted. There is similar patch
for OVS deployments [1].

[1] https://opendev.org/openstack/tripleo-heat-templates/commit/81265737187f32eef2b654a901ed74818873eb88

Closes-bug: #1899799

Conflicts:
	deployment/ovn/ovn-controller-container-puppet.yaml

Change-Id: Idec9e5ca0a8d3de7414938c7f280c06bcbd906c1
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 92b6f306246468ecd26bdb5339b75bc574a9e9a3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/759415/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,8372d5e6d1ed979579b7bc9f099203326388fe58,bug/1899799-train, - name: Copy in cleanup script copy: content: {get_file: ../neutron/neutron-cleanup} dest: '/usr/libexec/neutron-cleanup' force: yes mode: '0755' - name: Copy in cleanup service copy: content: {get_file: ../neutron/neutron-cleanup.service} dest: '/usr/lib/systemd/system/neutron-cleanup.service' force: yes - name: Enabling the cleanup service service: name: neutron-cleanup enabled: yes,,15,0
openstack%2Fnova~master~Idc839312d1449e9327ee7e3793d53ed080a44d0c,openstack/nova,master,Idc839312d1449e9327ee7e3793d53ed080a44d0c,pci manager: replace node_id parameter with compute_node,MERGED,2021-03-04 16:42:17.000000000,2021-03-10 11:11:02.000000000,2021-03-09 20:29:47.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 16:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7ae8f5e79e317525adb2f5478635fe0cdbe4006', 'message': ""pci: always pass node_id to manager\n\nTo implement the `socket` PCI NUMA affinity policy, we'll need to\ntrack the host NUMA topology in the PCI stats code. To achieve this,\nPCI stats will need to know the compute node it's running on. Prepare\nfor this by always passing node_id to the PCI manager. It was\npreviously optional, but that looks to have been only to facilitate\ntesting, as that's the only place where it was not passed it.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Idc839312d1449e9327ee7e3793d53ed080a44d0c\n""}, {'number': 2, 'created': '2021-03-08 20:19:23.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/pci/test_manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c3175d3ee8ffe323630f57655318ba3da9fe8b5', 'message': ""pci manager: replace node_id parameter with compute_node\n\nTo implement the `socket` PCI NUMA affinity policy, we'll need to\ntrack the host NUMA topology in the PCI stats code. To achieve this,\nPCI stats will need to know the compute node it's running on. Prepare\nfor this by replacing the node_id parameter with compute_node. Node_id\nwas previously optional, but that looks to have been only to\nfacilitate testing, as that's the only place where it was not passed\nit. We use compute_node (instead of just making node_id mandatory)\nbecause it allows for an optimization later on wherein the PCI manager\ndoes not need to pull the ComputeNode object from the database\nneedlessly.\n\nImplements: blueprint pci-socket-affinity\nChange-Id: Idc839312d1449e9327ee7e3793d53ed080a44d0c\n""}]",15,778747,6c3175d3ee8ffe323630f57655318ba3da9fe8b5,27,4,2,8864,,,0,"pci manager: replace node_id parameter with compute_node

To implement the `socket` PCI NUMA affinity policy, we'll need to
track the host NUMA topology in the PCI stats code. To achieve this,
PCI stats will need to know the compute node it's running on. Prepare
for this by replacing the node_id parameter with compute_node. Node_id
was previously optional, but that looks to have been only to
facilitate testing, as that's the only place where it was not passed
it. We use compute_node (instead of just making node_id mandatory)
because it allows for an optimization later on wherein the PCI manager
does not need to pull the ComputeNode object from the database
needlessly.

Implements: blueprint pci-socket-affinity
Change-Id: Idc839312d1449e9327ee7e3793d53ed080a44d0c
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/778747/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/pci/test_manager.py']",4,d7ae8f5e79e317525adb2f5478635fe0cdbe4006,bp/pci-socket-affinity," fake_pci_devs = [copy.deepcopy(fake_pci_4), copy.deepcopy(fake_pci_5)] tracker = manager.PciDevTracker(self.fake_context, 1) self.assertEqual(5, len(tracker.pci_devs)) tracker = manager.PciDevTracker(self.fake_context, 1) # We expect that the device with 32bit PCI domain is ignored, so we'll # have only the 3 original fake devs self.assertEqual(3, len(tracker.pci_devs)) self.tracker = manager.PciDevTracker(mock.sentinel.context, 1)","import nova @mock.patch.object(nova.objects.PciDeviceList, 'get_by_compute_node') def test_pcidev_tracker_create_no_nodeid(self, mock_get_cn): self.tracker = manager.PciDevTracker(self.fake_context) self.assertEqual(len(self.tracker.pci_devs), 0) self.assertFalse(mock_get_cn.called) @mock.patch.object(nova.objects.PciDeviceList, 'get_by_compute_node') def test_pcidev_tracker_create_with_nodeid(self, mock_get_cn): self.tracker = manager.PciDevTracker(self.fake_context, node_id=1) mock_get_cn.assert_called_once_with(self.fake_context, 1) fake_pci_devs = [copy.deepcopy(fake_pci), copy.deepcopy(fake_pci_2)] tracker = manager.PciDevTracker(self.fake_context) self.assertEqual(2, len(tracker.pci_devs)) tracker = manager.PciDevTracker(self.fake_context) # We expect that the device with 32bit PCI domain is ignored self.assertEqual(0, len(tracker.pci_devs)) self.tracker = manager.PciDevTracker(1)",37,34
openstack%2Fkayobe~master~I9d5166f17e0eefc4cb1660e9342204f0e3701892,openstack/kayobe,master,I9d5166f17e0eefc4cb1660e9342204f0e3701892,Use newly released CirrOS 0.5.2 image,ABANDONED,2021-03-09 20:53:54.000000000,2021-03-10 11:04:15.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 20:53:54.000000000', 'files': ['playbooks/kayobe-seed-vm-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f6b53c8766d1e90eafb14e51ccaf1204d282945', 'message': 'Use newly released CirrOS 0.5.2 image\n\nChange-Id: I9d5166f17e0eefc4cb1660e9342204f0e3701892\n'}]",0,779580,7f6b53c8766d1e90eafb14e51ccaf1204d282945,5,2,1,15197,,,0,"Use newly released CirrOS 0.5.2 image

Change-Id: I9d5166f17e0eefc4cb1660e9342204f0e3701892
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/80/779580/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-vm-base/overrides.yml.j2'],1,7f6b53c8766d1e90eafb14e51ccaf1204d282945,update-cirros,seed_vm_root_image: https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img,seed_vm_root_image: https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img,1,1
openstack%2Fopenstack-ansible-os_octavia~master~I20a108a06f9a5edcf1cd3c62123bc28f5e0a979f,openstack/openstack-ansible-os_octavia,master,I20a108a06f9a5edcf1cd3c62123bc28f5e0a979f,Fix typo in task,MERGED,2021-03-06 03:06:25.000000000,2021-03-10 10:22:54.000000000,2021-03-10 10:21:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-06 03:06:25.000000000', 'files': ['tasks/octavia_keypair.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a96fd04d78605e10b246ebeb0ed0c9b5df9cab62', 'message': ""Fix typo in task\n\nThis patch addresses a typo in the 'Remove private key' task, replacing\nlooup with lookup.\n\nChange-Id: I20a108a06f9a5edcf1cd3c62123bc28f5e0a979f\n""}]",0,779068,a96fd04d78605e10b246ebeb0ed0c9b5df9cab62,8,3,1,16011,,,0,"Fix typo in task

This patch addresses a typo in the 'Remove private key' task, replacing
looup with lookup.

Change-Id: I20a108a06f9a5edcf1cd3c62123bc28f5e0a979f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/68/779068/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_keypair.yml'],1,a96fd04d78605e10b246ebeb0ed0c9b5df9cab62,," path: ""{{ lookup('env', 'HOME') }}/.ssh/{{ octavia_ssh_key_name }}"""," path: ""{{ looup('env', 'HOME') }}/.ssh/{{ octavia_ssh_key_name }}""",1,1
openstack%2Fcharm-keystone-kerberos~master~I34f77b745e678e9e45e481a5179a9e23f31e51d4,openstack/charm-keystone-kerberos,master,I34f77b745e678e9e45e481a5179a9e23f31e51d4,Updates to pin charm-tools to 2.8.3,MERGED,2021-02-17 12:11:49.000000000,2021-03-10 10:17:45.000000000,2021-03-10 10:17:45.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-17 12:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/bbaad612211077ff4dd53e51dcb90a3a99d6528e', 'message': ""Updates to pin charm-tools to 2.8.3\n\n* Update requirements.txt to pin charm-tools to 2.8.3\n* Update tox.ini to change the build parameters.\n* This upgrades from <2.7 which adds reproducible charms\n* Bug was fixed that controlled the default output directory\n  doesn't get 'builds' appended.  The tox change puts it\n  back so that stable & master both build to the same\n  directory.  This may be reviewed in the future.\n\nChange-Id: I34f77b745e678e9e45e481a5179a9e23f31e51d4\n""}, {'number': 2, 'created': '2021-03-09 17:25:00.000000000', 'files': ['requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/b88c9b80ab264112821c90dc270510852b5b5298', 'message': ""Updates to pin charm-tools to 2.8.3\n\n* Update requirements.txt to pin charm-tools to 2.8.3\n* Update tox.ini to change the build parameters.\n* This upgrades from <2.7 which adds reproducible charms\n* Bug was fixed that controlled the default output directory\n  doesn't get 'builds' appended.  The tox change puts it\n  back so that stable & master both build to the same\n  directory.  This may be reviewed in the future.\n* The cs:ubuntu charm used in the test has changed its behaviour\n  regarding the workload status message.  The check in tests.yaml and in\n  the zaza test have been relaxed so that the workload status message is\n  not checked.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/521\nChange-Id: I34f77b745e678e9e45e481a5179a9e23f31e51d4\n""}]",0,776132,b88c9b80ab264112821c90dc270510852b5b5298,15,4,2,20870,,,0,"Updates to pin charm-tools to 2.8.3

* Update requirements.txt to pin charm-tools to 2.8.3
* Update tox.ini to change the build parameters.
* This upgrades from <2.7 which adds reproducible charms
* Bug was fixed that controlled the default output directory
  doesn't get 'builds' appended.  The tox change puts it
  back so that stable & master both build to the same
  directory.  This may be reviewed in the future.
* The cs:ubuntu charm used in the test has changed its behaviour
  regarding the workload status message.  The check in tests.yaml and in
  the zaza test have been relaxed so that the workload status message is
  not checked.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/521
Change-Id: I34f77b745e678e9e45e481a5179a9e23f31e51d4
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/32/776132/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,bbaad612211077ff4dd53e51dcb90a3a99d6528e,charm-tools-2.8.3, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build src {posargs},2,2
openstack%2Fkolla-ansible~master~I55badd93f92f82e020ef80b06c788600e597d068,openstack/kolla-ansible,master,I55badd93f92f82e020ef80b06c788600e597d068,Use Docker healthchecks for trove services,MERGED,2021-03-02 11:08:34.000000000,2021-03-10 10:09:29.000000000,2021-03-10 10:05:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-02 11:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ef7a44b7bc87671142c815f6915f65a3ec95f86', 'message': 'Use Docker healthchecks for trove services\n\nThis change enables the use of Docker healthchecks for trove services.\nImplements: blueprint container-health-check\n\nChange-Id: I55badd93f92f82e020ef80b06c788600e597d068\n'}, {'number': 2, 'created': '2021-03-02 11:45:08.000000000', 'files': ['releasenotes/notes/implement-docker-healthchecks-for-trove-7920c841f784b2e1.yaml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/trove/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2518e926d995024f62e117bdc36692649bd03596', 'message': 'Use Docker healthchecks for trove services\n\nThis change enables the use of Docker healthchecks for trove services.\nImplements: blueprint container-health-check\n\nChange-Id: I55badd93f92f82e020ef80b06c788600e597d068\n'}]",0,778170,2518e926d995024f62e117bdc36692649bd03596,11,3,2,31506,,,0,"Use Docker healthchecks for trove services

This change enables the use of Docker healthchecks for trove services.
Implements: blueprint container-health-check

Change-Id: I55badd93f92f82e020ef80b06c788600e597d068
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/778170/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/implement-docker-healthchecks-for-trove-7920c841f784b2e1.yaml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/trove/tasks/check-containers.yml']",4,6ef7a44b7bc87671142c815f6915f65a3ec95f86,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,53,0
openstack%2Fkolla-ansible~master~I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b,openstack/kolla-ansible,master,I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b,Use Docker healthchecks for octavia services,MERGED,2021-03-02 12:14:11.000000000,2021-03-10 10:08:09.000000000,2021-03-10 10:05:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-02 12:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2a0ee2395a923eefa68314ed50d574d710c104c', 'message': 'Use Docker healthchecks for octavia services\n\nThis change enables the use of Docker healthchecks for octavia services.\nImplements: blueprint container-health-check\n\nChange-Id: I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b\n'}, {'number': 2, 'created': '2021-03-02 12:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4aa681b1a06247f33bd57267849f8efa213aa768', 'message': 'Use Docker healthchecks for octavia services\n\nThis change enables the use of Docker healthchecks for octavia services.\nImplements: blueprint container-health-check\n\nChange-Id: I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b\n'}, {'number': 3, 'created': '2021-03-03 10:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c90662ddef18a6f36f4c224dd0ba35bf1d03df15', 'message': 'Use Docker healthchecks for octavia services\n\nThis change enables the use of Docker healthchecks for octavia services.\nImplements: blueprint container-health-check\n\nChange-Id: I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b\n'}, {'number': 4, 'created': '2021-03-03 11:09:55.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/check-containers.yml', 'ansible/roles/octavia/handlers/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-octavia-add6a52fad7a09b9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c2d1c90be7f41edc2176c11588818970bd12c95', 'message': 'Use Docker healthchecks for octavia services\n\nThis change enables the use of Docker healthchecks for octavia services.\nImplements: blueprint container-health-check\n\nChange-Id: I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b\n'}]",4,778180,5c2d1c90be7f41edc2176c11588818970bd12c95,19,3,4,31506,,,0,"Use Docker healthchecks for octavia services

This change enables the use of Docker healthchecks for octavia services.
Implements: blueprint container-health-check

Change-Id: I2ec11544b0e9c66a1821bfe0f9a40a9e9d88033b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/778180/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/defaults/main.yml', 'ansible/roles/octavia/tasks/check-containers.yml', 'ansible/roles/octavia/handlers/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-octavia-add6a52fad7a09b9.yaml']",4,e2a0ee2395a923eefa68314ed50d574d710c104c,bp/container-health-check,--- Implements container healthchecks for octavia services. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,65,0
openstack%2Fpuppet-nova~master~If12d7f5a8c331e051eb543f88187c31e676f3b62,openstack/puppet-nova,master,If12d7f5a8c331e051eb543f88187c31e676f3b62,Add nova::compute::provider class to manage custom provider yaml file,MERGED,2021-02-18 17:12:10.000000000,2021-03-10 10:06:08.000000000,2021-03-10 10:04:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-02-18 17:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a854287e072c3a62614ce2c43612f29f41a81551', 'message': '[wip] Add nova::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using a\nstandardized YAML file format starting victoria release [1]. This change\nadds the nova::provider class to configure the custom provider yaml file via\npuppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 2, 'created': '2021-02-19 09:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d441de57be3599db91b5fd6ca69625db8f6c74f0', 'message': '[wip] Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 3, 'created': '2021-02-21 19:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ddeea7b4e27c1a9fea25f7c073d74b5c58cf1619', 'message': '[wip] Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 4, 'created': '2021-02-21 21:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8547414adffb493ee5c900a3460a47d84d361ce4', 'message': '[wip] Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 5, 'created': '2021-02-22 06:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/157de391ec3c82717b9ec317bdd3f0b0310b41ff', 'message': '[wip] Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 6, 'created': '2021-02-23 12:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/40fac3287f981e703091e16b8385680b9d502fff', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 7, 'created': '2021-02-23 15:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bc648128d1741d524e0f77f758d39d3dce755515', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 8, 'created': '2021-03-01 15:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/33397340b3a80b9f26253e70e0a0011afb79aa42', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 9, 'created': '2021-03-05 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9a4fc8c76c62416662c8f3b8a3d7d46c014ee0d1', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 10, 'created': '2021-03-05 14:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e82a79882369e9fcc9eada5c0e9cc6f206b81ba6', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}, {'number': 11, 'created': '2021-03-05 15:19:54.000000000', 'files': ['manifests/compute/provider.pp', 'templates/provider.yaml.erb', 'releasenotes/notes/custom_provider-29467d209802707d.yaml', 'spec/classes/nova_compute_provider_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f3037793b555dfe58c65cf71b48502f82993f512', 'message': 'Add nova::compute::provider class to manage custom provider yaml file\n\nNova supports to configure resource provider inventory and traits using\na standardized YAML file format starting victoria release [1]. This\nchange adds the nova::compute::provider class to configure the custom\nprovider yaml file via puppet-nova.\n\n[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html\n\nChange-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62\n'}]",15,776497,f3037793b555dfe58c65cf71b48502f82993f512,45,7,11,17216,,,0,"Add nova::compute::provider class to manage custom provider yaml file

Nova supports to configure resource provider inventory and traits using
a standardized YAML file format starting victoria release [1]. This
change adds the nova::compute::provider class to configure the custom
provider yaml file via puppet-nova.

[1] https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html

Change-Id: If12d7f5a8c331e051eb543f88187c31e676f3b62
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/776497/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/provider.pp', 'templates/provider.yaml.erb', 'releasenotes/notes/custom_provider-29467d209802707d.yaml', 'spec/classes/nova_compute_provider_spec.rb']",4,a854287e072c3a62614ce2c43612f29f41a81551,custom_provider,"# Unit tests for nova::compute::provider class # require 'spec_helper' describe 'nova::compute::provider' do let :params do { :provider_schema_version => '1.0', :provider_custom_inventories => [], :provider_config_location => '/etc/nova/provider_config', :provider_config_file => 'provider.yaml' } end shared_examples_for 'nova::compute::provider' do it 'configure nova.conf with default parameters' do is_expected.to contain_nova_config('compute/provider_config_location').with_value('/etc/nova/provider_config') end context 'when overriding default parameters' do before :each do params.merge!( :provider_config_location => '/etc/nova/custom_provider_config', ) end it 'configure nova.conf with overridden parameters' do is_expected.to contain_nova_config('compute/provider_config_location').with_value('/etc/nova/custom_provider_config') end end context 'when providing custom inventory' do before :each do params.merge!( :provider_custom_inventories => [ { uuid => '$COMPUTE_NODE', inventories => { 'CUSTOM_EXAMPLE_RESOURCE_CLASS' => { total => '100', reserved => '0', min_unit => '1', max_unit => '10', step_size => '1', allocation_ratio => '1.0' }, 'CUSTOM_ANOTHER_EXAMPLE_RESOURCE_CLASS' => { total => '100', }, }, traits => ['CUSTOM_P_STATE_ENABLED','CUSTOM_C_STATE_ENABLED'], }, { name => 'EXAMPLE_RESOURCE_PROVIDER', inventories => { 'CUSTOM_EXAMPLE_RESOURCE_CLASS' => { total => '10000', reserved => '100', }, }, }, ] ) end it 'configure provider.yaml on compute nodes' do verify_contents(catalogue, '/etc/nova/custom_provider_config/provider.yaml', [ ""meta:"", "" schema_version: 1.0"", ""providers:"", "" # for details check https://docs.openstack.org/nova/latest/admin/managing-resource-providers.html"", "" - identification:"", "" uuid: $COMPUTE_NODE"", "" inventories:"", "" additional:"", "" CUSTOM_EXAMPLE_RESOURCE_CLASS:"", "" allocation_ratio: 1.0"", "" max_unit: 10"", "" min_unit: 1"", "" reserved: 0"", "" step_size: 1"", "" total: 100"", "" CUSTOM_ANOTHER_EXAMPLE_RESOURCE_CLASS:"", "" total: 100"", "" traits:"", "" additional:"", "" - CUSTOM_P_STATE_ENABLED"", "" - CUSTOM_C_STATE_ENABLED"", "" - identification:"", "" name: mycompute"", "" inventories:"", "" additional:"", "" CUSTOM_EXAMPLE_RESOURCE_CLASS:"", "" reserved: 100"", "" total: 10000"", "" traits:"", "" additional:"" ]) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'nova::compute::provider' end end end ",,254,0
openstack%2Fdesignate-dashboard~stable%2Fvictoria~Ib309ab2df5648a7c9d6b36420b1b1cd063c88a49,openstack/designate-dashboard,stable/victoria,Ib309ab2df5648a7c9d6b36420b1b1cd063c88a49,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-25 08:35:42.000000000,2021-03-10 10:06:07.000000000,2021-03-10 10:02:14.000000000,"[{'_account_id': 841}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-25 08:35:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/b35a5998f6a0afc8f74801364444c8b72cc5efad', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib309ab2df5648a7c9d6b36420b1b1cd063c88a49\n'}]",0,754287,b35a5998f6a0afc8f74801364444c8b72cc5efad,16,5,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib309ab2df5648a7c9d6b36420b1b1cd063c88a49
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/87/754287/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b35a5998f6a0afc8f74801364444c8b72cc5efad,create-victoria,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fdesignate-dashboard~stable%2Fvictoria~Ie5841327946e82448b6faef5e64d8a3da56bd6e1,openstack/designate-dashboard,stable/victoria,Ie5841327946e82448b6faef5e64d8a3da56bd6e1,Update .gitreview for stable/victoria,MERGED,2020-09-25 08:35:39.000000000,2021-03-10 09:43:38.000000000,2021-03-10 09:40:02.000000000,"[{'_account_id': 841}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-09-25 08:35:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/2b14e513adf245a29240c83cec39b1f04e50e65c', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: Ie5841327946e82448b6faef5e64d8a3da56bd6e1\n'}]",0,754286,2b14e513adf245a29240c83cec39b1f04e50e65c,16,5,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: Ie5841327946e82448b6faef5e64d8a3da56bd6e1
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/86/754286/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2b14e513adf245a29240c83cec39b1f04e50e65c,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fos-brick~master~Ibd749f5bb2b6a13c8f5473f2142d76ca0af61339,openstack/os-brick,master,Ibd749f5bb2b6a13c8f5473f2142d76ca0af61339,"Revert ""NVMeOF Connector support MDRAID replication""",ABANDONED,2021-02-18 14:25:15.000000000,2021-03-10 09:29:25.000000000,,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 12171}, {'_account_id': 13671}, {'_account_id': 16721}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-18 14:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a96860a732514b5c38c46603f1010559f652c01d', 'message': 'Revert ""NVMeOF Connector support MDRAID replication""\n\nThis reverts commit 9dfa75becbd4056b4a9e11d55c609e0e01c19414.\n\nReason for revert: This patch changes connect_volume API and breaks existing drivers\n\nChange-Id: Ibd749f5bb2b6a13c8f5473f2142d76ca0af61339\n'}, {'number': 2, 'created': '2021-02-18 14:32:39.000000000', 'files': ['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connectors/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ec2ce3515b04d11f50cfbcaa9acac3a6bddaf4a7', 'message': 'Revert ""NVMeOF Connector support MDRAID replication""\n\nThis reverts commit 9dfa75becbd4056b4a9e11d55c609e0e01c19414.\n\nReason for revert: This patch changes connect_volume API and breaks existing drivers.\nWe shouldn\'t change \'nqn\' to \'target_nqn\' and require \'volume_uuid\'\n\nChange-Id: Ibd749f5bb2b6a13c8f5473f2142d76ca0af61339\n'}]",2,776441,ec2ce3515b04d11f50cfbcaa9acac3a6bddaf4a7,23,8,2,1736,,,0,"Revert ""NVMeOF Connector support MDRAID replication""

This reverts commit 9dfa75becbd4056b4a9e11d55c609e0e01c19414.

Reason for revert: This patch changes connect_volume API and breaks existing drivers.
We shouldn't change 'nqn' to 'target_nqn' and require 'volume_uuid'

Change-Id: Ibd749f5bb2b6a13c8f5473f2142d76ca0af61339
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/41/776441/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connectors/nvmeof.py']",3,a96860a732514b5c38c46603f1010559f652c01d,bp/nvme-of-add-client-raid-1,"import json import refrom os_brick.i18n import _synchronized = lockutils.synchronized_with_prefix('os-brick-') """"""Connector class to attach/detach NVMe over fabric volumes."""""" def _get_system_uuid(self): # RSD requires system_uuid to let Cinder RSD Driver identify # Nova node for later RSD volume attachment. try: out, err = self._execute('cat', '/sys/class/dmi/id/product_uuid', root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: try: out, err = self._execute('dmidecode', '-ssystem-uuid', root_helper=self._root_helper, run_as_root=True) if not out: LOG.warning('dmidecode returned empty system-uuid') except putils.ProcessExecutionError as e: LOG.debug(""Unable to locate dmidecode. For Cinder RSD Backend,"" "" please make sure it is installed: %s"", e) out = """" return out.strip() """"""The NVMeOF connector properties."""""" nvme = NVMeOFConnector(root_helper=root_helper, uuid = nvme._get_system_uuid() if uuid: return {""system uuid"": uuid} else: return {} def get_search_path(self): return '/dev' def get_volume_paths(self, connection_properties): path = connection_properties['device_path'] LOG.debug(""Path of volume to be extended is %(path)s"", {'path': path}) return [path] def _get_nvme_devices(self): nvme_devices = [] # match nvme devices like /dev/nvme10n10 pattern = r'/dev/nvme[0-9]+n[0-9]+' cmd = ['nvme', 'list'] for retry in range(1, self.device_scan_attempts + 1): try: (out, err) = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) for line in out.split('\n'): result = re.match(pattern, line) if result: nvme_devices.append(result.group(0)) LOG.debug(""_get_nvme_devices returned %(nvme_devices)s"", {'nvme_devices': nvme_devices}) return nvme_devices except putils.ProcessExecutionError: LOG.warning( ""Failed to list available NVMe connected controllers, "" ""retrying."") time.sleep(retry ** 2) else: msg = _(""Failed to retrieve available connected NVMe controllers "" ""when running nvme list."") raise exception.CommandExecutionFailed(message=msg) @utils.retry(exceptions=exception.VolumePathsNotFound) def _get_device_path(self, current_nvme_devices): all_nvme_devices = self._get_nvme_devices() LOG.debug(""all_nvme_devices are %(all_nvme_devices)s"", {'all_nvme_devices': all_nvme_devices}) path = set(all_nvme_devices) - set(current_nvme_devices) if not path: raise exception.VolumePathsNotFound() return list(path) @utils.retry(exceptions=putils.ProcessExecutionError) def _try_connect_nvme(self, cmd): self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) def _get_nvme_subsys(self): # Example output: # { # 'Subsystems' : [ # { # 'Name' : 'nvme-subsys0', # 'NQN' : 'nqn.2016-06.io.spdk:cnode1' # }, # { # 'Paths' : [ # { # 'Name' : 'nvme0', # 'Transport' : 'rdma', # 'Address' : 'traddr=10.0.2.15 trsvcid=4420' # } # ] # } # ] # } # cmd = ['nvme', 'list-subsys', '-o', 'json'] ret_val = self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) return ret_val @utils.retry(exceptions=exception.NotFound, retries=5) def _is_nvme_available(self, nvme_name): nvme_name_pattern = ""/dev/%sn[0-9]+"" % nvme_name for nvme_dev_name in self._get_nvme_devices(): if re.match(nvme_name_pattern, nvme_dev_name): return True else: LOG.error(""Failed to find nvme device"") raise exception.NotFound() def _wait_for_blk(self, nvme_transport_type, conn_nqn, target_portal, port): # Find nvme name in subsystem list and wait max 15 seconds # until new volume will be available in kernel nvme_name = """" nvme_address = ""traddr=%s trsvcid=%s"" % (target_portal, port) # Get nvme subsystems in order to find # nvme name for connected nvme try: (out, err) = self._get_nvme_subsys() except putils.ProcessExecutionError: LOG.error(""Failed to get nvme subsystems"") raise # Get subsystem list. Throw exception if out is currupt or empty try: subsystems = json.loads(out)['Subsystems'] except Exception: return False # Find nvme name among subsystems for i in range(0, int(len(subsystems) / 2)): subsystem = subsystems[i * 2] if 'NQN' in subsystem and subsystem['NQN'] == conn_nqn: for path in subsystems[i * 2 + 1]['Paths']: if (path['Transport'] == nvme_transport_type and path['Address'] == nvme_address): nvme_name = path['Name'] break if not nvme_name: return False # Wait until nvme will be available in kernel return self._is_nvme_available(nvme_name) def _try_disconnect_volume(self, conn_nqn, ignore_errors=False): cmd = [ 'nvme', 'disconnect', '-n', conn_nqn] try: self._execute( *cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: LOG.error( ""Failed to disconnect from NVMe nqn "" ""%(conn_nqn)s"", {'conn_nqn': conn_nqn}) if not ignore_errors: raise """"""Discover and attach the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. connection_properties must include: nqn - NVMe subsystem name to the volume to be connected target_port - NVMe target port that hosts the nqn sybsystem target_portal - NVMe target ip that hosts the nqn sybsystem :type connection_properties: dict :returns: dict current_nvme_devices = self._get_nvme_devices() device_info = {'type': 'block'} conn_nqn = connection_properties['nqn'] target_portal = connection_properties['target_portal'] port = connection_properties['target_port'] nvme_transport_type = connection_properties['transport_type'] host_nqn = connection_properties.get('host_nqn') cmd = [ 'nvme', 'connect', '-t', nvme_transport_type, '-n', conn_nqn, '-a', target_portal, '-s', port] if host_nqn: cmd.extend(['-q', host_nqn]) self._try_connect_nvme(cmd) try: self._wait_for_blk(nvme_transport_type, conn_nqn, target_portal, port) except exception.NotFound: LOG.error(""Waiting for nvme failed"") self._try_disconnect_volume(conn_nqn, True) raise exception.NotFound(message=""nvme connect: NVMe device "" ""not found"") path = self._get_device_path(current_nvme_devices) device_info['path'] = path[0] LOG.debug(""NVMe device to be connected to is %(path)s"", {'path': path[0]}) return device_info @synchronized('disconnect_volume') """"""Detach and flush the volume. :param connection_properties: The dictionary that describes all of the target volume attributes. connection_properties must include: device_path - path to the volume to be connected :type connection_properties: dict :param device_info: historical difference, but same as connection_props :type device_info: dict """""" conn_nqn = connection_properties['nqn'] if device_info and device_info.get('path'): device_path = device_info.get('path') else: device_path = connection_properties['device_path'] or '' current_nvme_devices = self._get_nvme_devices() if device_path not in current_nvme_devices: LOG.warning(""Trying to disconnect device %(device_path)s with "" ""subnqn %(conn_nqn)s that is not connected."", {'device_path': device_path, 'conn_nqn': conn_nqn}) return LOG.debug( ""Trying to disconnect from device %(device_path)s with "" ""subnqn %(conn_nqn)s"", {'device_path': device_path, 'conn_nqn': conn_nqn}) cmd = [ 'nvme', 'disconnect', '-n', conn_nqn] try: self._execute( *cmd, root_helper=self._root_helper, run_as_root=True) except putils.ProcessExecutionError: LOG.error( ""Failed to disconnect from NVMe nqn "" ""%(conn_nqn)s with device_path %(device_path)s"", {'conn_nqn': conn_nqn, 'device_path': device_path}) if not ignore_errors: raise @utils.trace @synchronized('extend_volume') def extend_volume(self, connection_properties): """"""Update the local kernel's size information. Try and update the local kernel's size information for an LVM volume. """""" volume_paths = self.get_volume_paths(connection_properties) if volume_paths: return self._linuxscsi.extend_volume( volume_paths, use_multipath=self.use_multipath) else: LOG.warning(""Couldn't find any volume paths on the host to "" ""extend volume for %(props)s"", {'props': connection_properties}) raise exception.VolumePathsNotFound()","import glob import os.pathtry: from os_brick.initiator.connectors import nvmeof_agent except ImportError: nvmeof_agent = Nonesynchronized = lockutils.synchronized_with_prefix('os-brick-') """"""Connector class to attach/detach NVMe-oF volumes."""""" def get_search_path(): return '/dev/' def get_volume_paths(self, connection_properties): device_path = connection_properties.get('device_path') if device_path: return [device_path] volume_replicas = connection_properties.get('volume_replicas') try: if volume_replicas and len(volume_replicas) > 1: return ['/dev/md/' + connection_properties.get('alias')] if volume_replicas and len(volume_replicas) == 1: return [NVMeOFConnector.get_nvme_device_path( self, volume_replicas[0]['target_nqn'], volume_replicas[0]['vol_uuid'])] else: return [NVMeOFConnector.get_nvme_device_path( self, connection_properties.get('target_nqn'), connection_properties.get('vol_uuid'))] except exception.VolumeDeviceNotFound: return [] """"""The NVMe-oF connector properties (initiator uuid and nqn.)"""""" nvmf = NVMeOFConnector(root_helper=root_helper, ret = {} uuid = nvmf._get_host_uuid() nqn = nvmf._get_host_nqn() if uuid: ret['uuid'] = uuid if nqn: ret['nqn'] = nqn return ret def _get_host_uuid(self): cmd = ('findmnt', '/', '-n', '-o', 'SOURCE') try: lines, err = self._execute( *cmd, run_as_root=True, root_helper=self._root_helper) blkid_cmd = ( 'blkid', lines.split('\n')[0], '-s', 'UUID', '-o', 'value') lines, _err = self._execute( *blkid_cmd, run_as_root=True, root_helper=self._root_helper) return lines.split('\n')[0] except putils.ProcessExecutionError as e: LOG.warning( ""Process execution error in _get_host_uuid: %s"" % str(e)) return None def _get_host_nqn(self): try: with open('/etc/nvme/hostnqn', 'r') as f: host_nqn = f.read().strip() f.close() except IOError: try: out, err = self._execute( 'nvme', 'gen-hostuuid', root_helper=self._root_helper, run_as_root=True) host_nqn = out.strip() with open('/etc/nvme/hostnqn', 'w') as f: f.write(host_nqn) f.close() except Exception as e: LOG.warning(""Could not generate host nqn: %s"" % str(e)) return None return host_nqn """"""connect to volume on host connection_properties for NVMe-oF must include: target_portals - list of ip,port,transport for each portal target_nqn - NVMe-oF Qualified Name vol_uuid - UUID for volume/replica volume_replicas = connection_properties.get('volume_replicas') volume_alias = connection_properties.get('alias') if volume_replicas: host_device_paths = [] for replica in volume_replicas: try: rep_host_device_path = self._connect_target_volume( replica['target_nqn'], replica['vol_uuid'], replica['portals']) if rep_host_device_path: host_device_paths.append(rep_host_device_path) except Exception as ex: LOG.error(""_connect_target_volume: %s"", ex) if len(volume_replicas) > 1: device_path = self._handle_replicated_volume( host_device_paths, volume_alias, len(volume_replicas)) else: device_path = host_device_paths[0] else: try: device_path = self._connect_target_volume( connection_properties['target_nqn'], connection_properties['vol_uuid'], connection_properties['portals']) except Exception as ex: LOG.error(""_connect_target_volume: %s"", ex) if nvmeof_agent: nvmeof_agent.NVMeOFAgent.ensure_running(self) return {'type': 'block', 'path': device_path} @synchronized('connect_volume') device_path = None volume_replicas = connection_properties.get('volume_replicas') if device_info and device_info.get('path'): device_path = device_info['path'] elif connection_properties.get('device_path'): device_path = connection_properties['device_path'] elif volume_replicas and len(volume_replicas) > 1: device_path = '/dev/md/' + connection_properties['alias'] if volume_replicas and len(volume_replicas) > 1: NVMeOFConnector.end_raid(self, device_path) else: if self._get_fs_type(device_path) == 'linux_raid_member': NVMeOFConnector.end_raid(self, device_path) def extend_volume(self, connection_properties): volume_replicas = connection_properties.get('volume_replicas') if volume_replicas and len(volume_replicas) > 1: device_path = '/dev/md/' + connection_properties['alias'] NVMeOFConnector.run_mdadm( self, ['mdadm', '--grow', '--size', 'max', device_path]) else: if not volume_replicas: target_nqn = connection_properties['target_nqn'] vol_uuid = connection_properties['vol_uuid'] elif len(volume_replicas) == 1: target_nqn = volume_replicas[0]['target_nqn'] vol_uuid = volume_replicas[0]['vol_uuid'] device_path = NVMeOFConnector.get_nvme_device_path( self, target_nqn, vol_uuid) return self._linuxscsi.get_device_size(device_path) def _connect_target_volume(self, target_nqn, vol_uuid, portals): try: host_device_path = NVMeOFConnector.get_nvme_device_path( self, target_nqn, vol_uuid) except exception.VolumeDeviceNotFound: host_device_path = None if not host_device_path: any_connect = NVMeOFConnector.connect_to_portals(self, target_nqn, portals) if not any_connect: LOG.error( ""No successful connections: %(host_devices)s"", {'host_devices': target_nqn}) raise exception.VolumeDeviceNotFound(device=target_nqn) host_device_path = NVMeOFConnector.get_nvme_device_path( self, target_nqn, vol_uuid) if not host_device_path: LOG.error( ""No accessible volume device: %(host_devices)s"", {'host_devices': target_nqn}) raise exception.VolumeDeviceNotFound(device=target_nqn) else: NVMeOFConnector.rescan(self, target_nqn, vol_uuid) host_device_path = NVMeOFConnector.get_nvme_device_path( self, target_nqn, vol_uuid) return host_device_path @staticmethod def connect_to_portals(executor, target_nqn, target_portals): """"""connect to any of NVMe-oF target portals"""""" any_connect = False for portal in target_portals: portal_address = portal[0] portal_port = portal[1] if portal[2] == 'RoCEv2': portal_transport = 'rdma' else: portal_transport = 'tcp' nvme_command = ( 'connect', '-a', portal_address, '-s', portal_port, '-t', portal_transport, '-n', target_nqn, '-Q', '128', '-l', '-1') try: NVMeOFConnector.run_nvme_cli(executor, nvme_command) any_connect = True break except Exception: LOG.exception(""Could not connect to portal %s"", portal) return any_connect @staticmethod def _get_nvme_controller(executor, target_nqn): ctrls = glob.glob('/sys/class/nvme-fabrics/ctl/nvme*') for ctrl in ctrls: try: lines, _err = executor._execute( 'cat', ctrl + '/subsysnqn', run_as_root=True, root_helper=executor._root_helper) for line in lines.split('\n'): if line == target_nqn: state, _err = executor._execute( 'cat', ctrl + '/state', run_as_root=True, root_helper=executor._root_helper) if 'live' not in state: LOG.debug(""nvmeof ctrl device not live: %s"", ctrl) raise exception.VolumeDeviceNotFound(device=ctrl) return ctrl[ctrl.rfind('/') + 1:] except putils.ProcessExecutionError as e: LOG.exception(e) raise exception.VolumeDeviceNotFound(device=target_nqn) @staticmethod @utils.retry(exceptions=exception.VolumeDeviceNotFound) def get_nvme_device_path(executor, target_nqn, vol_uuid): nvme_ctrl = NVMeOFConnector._get_nvme_controller(executor, target_nqn) try: blocks = glob.glob( '/sys/class/nvme-fabrics/ctl/' + nvme_ctrl + '/' + nvme_ctrl + 'n*') for block in blocks: uuid_lines, _err = executor._execute( 'cat', block + '/uuid', run_as_root=True, root_helper=executor._root_helper) if uuid_lines.split('\n')[0] == vol_uuid: return '/dev/' + block[block.rfind('/') + 1:] except putils.ProcessExecutionError as e: LOG.exception(e) raise exception.VolumeDeviceNotFound(device=vol_uuid) def _handle_replicated_volume(self, host_device_paths, volume_alias, num_of_replicas): path_in_raid = False for dev_path in host_device_paths: path_in_raid = NVMeOFConnector._is_device_in_raid(self, dev_path) if path_in_raid: break device_path = '/dev/md/' + volume_alias if path_in_raid: NVMeOFConnector.stop_and_assemble_raid( self, host_device_paths, device_path, False) else: paths_found = len(host_device_paths) if num_of_replicas > paths_found: LOG.error( 'Cannot create MD as %s out of %s legs were found.', paths_found, num_of_replicas) raise exception.VolumeDeviceNotFound(device=volume_alias) NVMeOFConnector.create_raid(self, host_device_paths, '1', volume_alias, volume_alias, False) return device_path @staticmethod def run_mdadm(executor, cmd, raise_exception=False): cmd_output = None try: lines, err = executor._execute( *cmd, run_as_root=True, root_helper=executor._root_helper) for line in lines.split('\n'): cmd_output = line break except putils.ProcessExecutionError as ex: LOG.warning(""[!] Could not run mdadm: %s"", str(ex)) if raise_exception: raise ex return cmd_output @staticmethod def _is_device_in_raid(self, device_path): cmd = ['mdadm', '--examine', device_path] raid_expected = device_path + ':' try: lines, err = self._execute( *cmd, run_as_root=True, root_helper=self._root_helper) for line in lines.split('\n'): if line == raid_expected: return True else: return False except putils.ProcessExecutionError: return False @staticmethod def ks_readlink(dest): try: return os.readlink(dest) except Exception: return '' @staticmethod def get_md_name(executor, device_name): get_md_cmd = ( 'cat /proc/mdstat | grep ' + device_name + ' | awk \'{print $1;}\'') cmd = ['bash', '-c', get_md_cmd] LOG.debug(""[!] cmd = "" + str(cmd)) cmd_output = None try: lines, err = executor._execute( *cmd, run_as_root=True, root_helper=executor._root_helper) for line in lines.split('\n'): cmd_output = line break LOG.debug(""[!] cmd_output = "" + cmd_output) if err: return None return cmd_output except putils.ProcessExecutionError as ex: LOG.warning(""[!] Could not run cmd: %s"", str(ex)) return None @staticmethod def stop_and_assemble_raid(executor, drives, md_path, read_only): md_name = None i = 0 assembled = False link = '' while i < 5 and not assembled: for drive in drives: device_name = drive[5:] md_name = NVMeOFConnector.get_md_name(executor, device_name) link = NVMeOFConnector.ks_readlink(md_path) if link != '': link = os.path.basename(link) if md_name and md_name == link: return LOG.debug( ""sleeping 1 sec -allow auto assemble link = "" + link + "" md path = "" + md_path) time.sleep(1) if md_name and md_name != link: NVMeOFConnector.stop_raid(executor, md_name) try: assembled = NVMeOFConnector.assemble_raid( executor, drives, md_path, False) except Exception: i += 1 @staticmethod def assemble_raid(executor, drives, md_path, read_only): cmd = ['mdadm', '--assemble', '--run', md_path] if read_only: cmd.append('-o') for i in range(len(drives)): cmd.append(drives[i]) try: NVMeOFConnector.run_mdadm(executor, cmd, True) except putils.ProcessExecutionError as ex: LOG.warning(""[!] Could not _assemble_raid: %s"", str(ex)) raise ex return True @staticmethod def create_raid(executor, drives, raid_type, device_name, name, read_only): cmd = ['mdadm'] num_drives = len(drives) cmd.append('-C') if read_only: cmd.append('-o') cmd.append(device_name) cmd.append('-R') if name: cmd.append('-N') cmd.append(name) cmd.append('--level') cmd.append(raid_type) cmd.append('--raid-devices=' + str(num_drives)) cmd.append('--bitmap=internal') cmd.append('--homehost=any') cmd.append('--failfast') cmd.append('--assume-clean') for i in range(len(drives)): cmd.append(drives[i]) LOG.debug('[!] cmd = ' + str(cmd)) NVMeOFConnector.run_mdadm(executor, cmd) @staticmethod def end_raid(executor, device_path): raid_exists = NVMeOFConnector.is_raid_exists(executor, device_path) if raid_exists: for i in range(10): try: cmd_out = NVMeOFConnector.stop_raid( executor, device_path) if not cmd_out: break except Exception: break time.sleep(1) try: is_exist = os.path.exists(device_path) LOG.debug(""[!] is_exist = %s"", is_exist) if is_exist: NVMeOFConnector.remove_raid(executor, device_path) os.remove(device_path) except Exception: LOG.debug('[!] Exception_stop_raid!') @staticmethod def stop_raid(executor, md_path): cmd = ['mdadm', '--stop', md_path] LOG.debug(""[!] cmd = "" + str(cmd)) cmd_out = NVMeOFConnector.run_mdadm(executor, cmd) return cmd_out @staticmethod def is_raid_exists(executor, device_path): cmd = ['mdadm', '--detail', device_path] LOG.debug(""[!] cmd = "" + str(cmd)) raid_expected = device_path + ':' try: lines, err = executor._execute( *cmd, run_as_root=True, root_helper=executor._root_helper) for line in lines.split('\n'): LOG.debug(""[!] line = "" + line) if line == raid_expected: return True else: return False except putils.ProcessExecutionError: return False @staticmethod def remove_raid(executor, device_path): cmd = ['mdadm', '--remove', device_path] LOG.debug(""[!] cmd = "" + str(cmd)) NVMeOFConnector.run_mdadm(executor, cmd) @staticmethod def run_nvme_cli(executor, nvme_command, **kwargs): (out, err) = executor._execute('nvme', *nvme_command, run_as_root=True, root_helper=executor._root_helper, check_exit_code=True) msg = (""nvme %(nvme_command)s: stdout=%(out)s stderr=%(err)s"" % {'nvme_command': nvme_command, 'out': out, 'err': err}) LOG.debug(""[!] "" + msg) return out, err @staticmethod def rescan(executor, target_nqn, vol_uuid): ctr_device = ( NVMeOFConnector.get_search_path() + NVMeOFConnector._get_nvme_controller(executor, target_nqn)) nvme_command = ('ns-rescan', ctr_device) try: NVMeOFConnector.run_nvme_cli(executor, nvme_command) except Exception as e: raise exception.CommandExecutionFailed(e, cmd=nvme_command) def _get_fs_type(self, device_path): cmd = ['blkid', device_path, '-s', 'TYPE', '-o', 'value'] LOG.debug(""[!] cmd = "" + str(cmd)) fs_type = None try: lines, err = self._execute( *cmd, run_as_root=True, root_helper=self._root_helper) fs_type = lines.split('\n')[0] except putils.ProcessExecutionError: return None return fs_type",666,808
openstack%2Freleases~master~I691ceec1037712b3e01d52777c2dbb1432efde20,openstack/releases,master,I691ceec1037712b3e01d52777c2dbb1432efde20,Release Tempest 26.1.0,MERGED,2021-03-07 01:24:25.000000000,2021-03-10 09:22:34.000000000,2021-03-10 09:22:34.000000000,"[{'_account_id': 308}, {'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-07 01:24:25.000000000', 'files': ['deliverables/wallaby/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/36f469e8c8d186e366057f88bbd6f8421c587e18', 'message': 'Release Tempest 26.1.0\n\nAdd intermediate release for Tempest wallaby which include\nmultiple features and new interfaces.\n\nChange-Id: I691ceec1037712b3e01d52777c2dbb1432efde20\n'}]",0,779088,36f469e8c8d186e366057f88bbd6f8421c587e18,11,5,1,8556,,,0,"Release Tempest 26.1.0

Add intermediate release for Tempest wallaby which include
multiple features and new interfaces.

Change-Id: I691ceec1037712b3e01d52777c2dbb1432efde20
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/779088/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tempest.yaml'],1,36f469e8c8d186e366057f88bbd6f8421c587e18,qa-wallaby-release, - projects: - repo: openstack/tempest hash: 271f8201d4d927830d289c34744ca20a92bee33c version: 26.1.0,,4,0
openstack%2Fcharm-neutron-dynamic-routing~master~I996496c12e189257a27fdb39dd094ccb0a6df929,openstack/charm-neutron-dynamic-routing,master,I996496c12e189257a27fdb39dd094ccb0a6df929,Add new osci.yaml,MERGED,2021-02-18 07:47:01.000000000,2021-03-10 09:19:14.000000000,2021-03-10 09:19:14.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e5744e08de6a76a0ab3b93c7780f31fbbf475664', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 2, 'created': '2021-02-18 08:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/ef23c598e5c75b38fbb95c12dcb24f0850fab888', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 3, 'created': '2021-02-23 10:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/bc31ae832c2433ca7e132d4a661d0efed3ea9068', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}, {'number': 4, 'created': '2021-03-05 13:58:37.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e8a343b131c584e35e3af9833e8676ad00c92e1c', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: I996496c12e189257a27fdb39dd094ccb0a6df929\n'}]",2,776374,e8a343b131c584e35e3af9833e8676ad00c92e1c,25,4,4,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: I996496c12e189257a27fdb39dd094ccb0a6df929
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/74/776374/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,e5744e08de6a76a0ab3b93c7780f31fbbf475664,feature/new-zuul,- project: templates: - charm-unit-jobs check: jobs: - groovy-victoria-functional - focal-victoria-functional - focal-ussuri-functional - bionic-ussuri-functional - bionic-train-functional - bionic-stein-functional - bionic-rocky-functional - bionic-queens-functional - xenial-pike-functional - xenial-queens-functional vars: needs_charm_build: true charm_build_name: neutron-dynamic-routing - job: name: groovy-victoria-functional parent: func-target dependencies: &smoke-jobs - focal-ussuri-functional vars: tox_extra_args: groovy-victoria-functional - job: name: focal-victoria-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: focal-victoria-functional - job: name: focal-ussuri-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: focal-ussuri-functional - job: name: bionic-ussuri-functional parent: func-target dependencies: - osci-lint - tox-py35 - tox-py36 - tox-py37 - tox-py38 vars: tox_extra_args: bionic-ussuri-functional - job: name: bionic-train-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-train-functional - job: name: bionic-stein-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-stein-functional - job: name: bionic-rocky-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-rocky-functional - job: name: bionic-queens-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: bionic-queens-functional - job: name: xenial-pike-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: xenial-pike-functional - job: name: xenial-queens-functional parent: func-target dependencies: *smoke-jobs vars: tox_extra_args: xenial-queens-functional,,86,0
openstack%2Fmanila~master~Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497,openstack/manila,master,Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497,Adding Zadara Manila driver,MERGED,2020-12-28 03:07:12.000000000,2021-03-10 08:34:54.000000000,2021-03-09 17:44:03.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-12-28 03:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/221b403045a213f4c7393baee61efb0106acf59b', 'message': 'Zadara Manila driver changes\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 2, 'created': '2020-12-28 06:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dbdda63b96dc49b581b43ee73584ea2304f277fc', 'message': 'Zadara Manila driver changes\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 3, 'created': '2021-01-06 05:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8854c922f269bcbb6c22248fb96d5733d12fdaaf', 'message': 'Zadara Manila driver changes\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 4, 'created': '2021-01-24 18:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a96a6115f17591046e9534c5d436d22832cd5899', 'message': 'Zadara Manila driver changes\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 5, 'created': '2021-01-24 18:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/350f7dc7b702404e755d4024ae10c7102ef96a84', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 6, 'created': '2021-02-01 03:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1b2cc6a3f4d6486368cb8ecb5c048b4e0b06e9f9', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 7, 'created': '2021-02-02 05:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/16e4d081aa70e1dadaac3d7b2c522e55596bfffa', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 8, 'created': '2021-02-02 15:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c702343973c72d6147d1d7893eedcde1acbcec8e', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 9, 'created': '2021-02-03 03:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f9304adc2966d0a26c306e12aeb00f5ecac2a6a5', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 10, 'created': '2021-02-03 10:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/90a7daaf8a34829ad91f90bf6e9aa9e8ad4ccd89', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 11, 'created': '2021-03-02 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d46e9bc4ff589030c25810c4100d520d66e6cc0', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 12, 'created': '2021-03-02 18:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/903bc30cfb3f30216ab00f9f94d0f636a765f757', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 13, 'created': '2021-03-03 12:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f1bf49bc1e2fd336b94df75a0c0aeda295348483', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 14, 'created': '2021-03-05 09:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c1b11774cb0a9a9ebd6bc4c5a0dc26d6af02e4d0', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 15, 'created': '2021-03-05 18:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/84ac30d6dcb24629511bd08fd123266276ea7b59', 'message': 'Adding Zadara Manila driver\n\nImplements: https://blueprints.launchpad.net/openstack/?searchtext=zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}, {'number': 16, 'created': '2021-03-06 08:03:02.000000000', 'files': ['doc/source/admin/index.rst', 'manila/tests/share/drivers/zadara/__init__.py', 'manila/share/drivers/zadara/__init__.py', 'manila/share/drivers/zadara/common.py', 'manila/share/drivers/zadara/zadara.py', 'manila/exception.py', 'manila/tests/share/drivers/zadara/test_zadara.py', 'releasenotes/notes/zadara-manila-driver-cb22b647e60f7ab8.yaml', 'doc/source/admin/zadara_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/4705a7d52015353d8259574d2a89ffe2df44a7a9', 'message': 'Adding Zadara Manila driver\n\nImplements: blueprint zadara-manila-driver\n\nChange-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497\n'}]",134,768590,4705a7d52015353d8259574d2a89ffe2df44a7a9,191,5,16,32880,,,0,"Adding Zadara Manila driver

Implements: blueprint zadara-manila-driver

Change-Id: Iae0eaf8b37d5eecc352af6546fd0cfa4cadab497
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/768590/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/zadara/exception.py', 'manila/share/drivers/zadara/__init__.py', 'manila/share/drivers/zadara/common.py', 'manila/share/drivers/zadara/zadara.py']",4,221b403045a213f4c7393baee61efb0106acf59b,bp/zadara-manila-driver,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Shared File system services driver for Zadara Virtual Private Storage Array (VPSA). """""" from oslo_config import cfg from oslo_utils import strutils from manila import exception as manila_exception from manila.i18n import _ from manila.share import api from manila.share import driver from manila.share.drivers.zadara.common import common_exception from manila.share.drivers.zadara.common import LOG from manila.share.drivers.zadara.common import zadara_opts from manila.share.drivers.zadara.common import ZadaraVPSAConnection from manila.share.drivers.zadara import exception as zadara_exception CONF = cfg.CONF CONF.register_opts(zadara_opts) class ZadaraVPSAShareDriver(driver.ShareDriver): """"""Zadara VPSA Share driver. Version history: 20.12-01 - Driver changes intended and aligned with openstack latest release. 20.12-02 - Fixed #18723 - Manila: Parsing the export location in a more generic way while managing the vpsa share 20.12-03 - Adding the metadata support while creating share to configure vpsa. 21.04 - IPv6 connectivity support for Manila driver """""" VERSION = '21.04' # ThirdPartySystems wiki page CI_WIKI_NAME = ""ZadaraStorage_VPSA_CI"" def __init__(self, *args, **kwargs): """"""Do initialization."""""" super(ZadaraVPSAShareDriver, self).__init__([False, True], *args, **kwargs) self.vpsa = None self.configuration.append_config_values(zadara_opts) self.api = api.API() # The valid list of share options that can be specified # as the metadata while creating manila share self.share_options = ['smbguest', 'smbonly', 'smbwindowsacl', 'smbfilecreatemask', 'smbbrowseable', 'smbhiddenfiles', 'smbhideunreadable', 'smbhideunwriteable', 'smbhidedotfiles', 'smbstoredosattributes', 'smbdircreatemask', 'smbmaparchive', 'smbencryptionmode', 'smbenableoplocks', 'smbaiosize', 'nfsrootsquash', 'nfsallsquash', 'nfsanongid', 'nfsanonuid', 'atimeupdate', 'readaheadkb', 'crypt', 'compress', 'dedupe', 'attachpolicies'] def _check_access_key_validity(self): try: self.vpsa._check_access_key_validity() except common_exception.MalformedResponse as e: raise zadara_exception.MalformedResponse(cmd=e.cmd, reason=e.reason) except common_exception.ZadaraInvalidAccessKey: raise zadara_exception.ZadaraManilaInvalidAccessKey() def do_setup(self, context): """"""Any initialization the share driver does while starting. Establishes initial connection with VPSA and retrieves access_key. Need to pass driver_ssl_cert_path here (and not fetch it from the config opts directly in common code), because this config option is different for different drivers and so cannot be figured in the common code. """""" driver_ssl_cert_path = self.configuration.zadara_driver_ssl_cert_path self.vpsa = ZadaraVPSAConnection(self.configuration, driver_ssl_cert_path, False) self._check_access_key_validity() def check_for_setup_error(self): """"""Returns an error (exception) if prerequisites aren't met."""""" self._check_access_key_validity() def vpsa_send_cmd(self, cmd, **kwargs): try: response = self.vpsa.send_cmd(cmd, **kwargs) except common_exception.UnknownCmd as e: raise zadara_exception.UnknownCmd(cmd=e.cmd) except common_exception.SessionRequestException as e: raise zadara_exception.SessionRequestException(msg=e.msg) except common_exception.BadHTTPResponseStatus as e: raise zadara_exception.BadHTTPResponseStatus(status=e.status) except common_exception.FailedCmdWithDump as e: raise zadara_exception.FailedCmdWithDump(status=e.status, data=e.data) except common_exception.MalformedResponse as e: raise zadara_exception.MalformedResponse(cmd=e.cmd, reason=e.reason) except common_exception.ZadaraInvalidAccessKey: raise zadara_exception.ZadaraManilaInvalidAccessKey() return response def _get_share_export_location(self, share): export_location = '' share_proto = share['share_proto'].upper() share_name = (self.configuration.zadara_share_name_template % share['share_id']) vpsa_volume = self.vpsa._get_vpsa_volume(share_name) if not vpsa_volume: msg = (_('VPSA volume for share %s ' 'could not be found.') % share['share_id']) LOG.error(msg) raise zadara_exception.ZadaraShareNotFound(name=share['share_id']) if share_proto == 'NFS': export_location = vpsa_volume['nfs_export_path'] if share_proto == 'CIFS': export_location = vpsa_volume['smb_export_path'] return export_location def _check_share_protocol(self, share): share_proto = share['share_proto'].upper() if share_proto not in ('NFS', 'CIFS'): msg = _(""Only NFS or CIFS protocol are currently supported. "" ""Share provided %(share)s with protocol "" ""%(proto)s."") % {'share': share['share_id'], 'proto': share['share_proto']} LOG.error(msg) raise zadara_exception.ZadaraInvalidProtocol( protocol_type=share_proto) def is_valid_metadata(self, metadata): LOG.debug('Metadata while creating share: %(metadata)s', {'metadata': metadata}) for key, value in metadata.items(): if key in self.share_options: # Check for the values allowed with provided metadata if key in ['smbguest', 'smbonly', 'smbwindowsacl', 'smbbrowseable', 'smbhideunreadable', 'smbhideunwriteable', 'smbhidedotfiles', 'smbstoredosattributes', 'smbmaparchive', 'smbenableoplocks', 'nfsrootsquash', 'nfsallsquash', 'atimeupdate', 'crypt', 'compress', 'dedupe', 'attachpolicies']: if value in ['YES', 'NO']: continue else: return False if key in ['smbfilecreatemask', 'smbdircreatemask']: if value.isdigit(): # The valid permissions should be for user,group,other # with another special digit for attributes. Ex:0755 if len(value) != 4: return False # No special permission bits for suid,sgid, # stickybit are allowed for vpsa share. if int(value[0]) != 0: return False # The permissions are always specified in octal for i in range(1, len(value)): if int(value[i]) > 7: return False continue else: return False if key == 'smbaiosize': if value.isdigit() and value in ['16384', '1']: continue else: return False if key == 'smbencryptionmode': if value in ['off', 'desired', 'required']: continue else: return False if key in ['nfsanongid', 'nfsanonuid']: if value.isdigit() and int(value) != 0: continue else: return False if key == 'readaheadkb': if value in ['16', '64', '128', '256', '512']: continue else: return False return True def create_share(self, context, share, share_server=None): """"""Create a Zadara share and export it. :param context: A RequestContext. :param share: A Share. :param share_server: Not used currently :return: The export locations dictionary. """""" # Check share's protocol. # Throw an exception immediately if it is an invalid protocol. self._check_share_protocol(share) share_name = (self.configuration.zadara_share_name_template % share['share_id']) # Collect the share metadata provided and validate it metadata = self.api.get_share_metadata(context, {'id': share['share_id']}) if not self.is_valid_metadata(metadata): raise manila_exception.ManilaException(_( ""Not a valid metadata provided for the share %s"") % share['share_id']) data = self.vpsa_send_cmd('create_volume', name=share_name, size=share['size'], metadata=metadata) if data['status'] != 0: raise zadara_exception.ZadaraVPSAVolumeShareFailed( error=data['status']) export_location = self._get_share_export_location(share) return {'path': export_location} def allow_access(self, context, share, access, share_server): """"""Allow access to the share."""""" access_type = access['access_type'] share_proto = share['share_proto'].upper() if share_proto == 'CIFS': share_proto = 'SMB' if access_type != 'ip': raise zadara_exception.ZadaraInvalidShareAccessType() access_ip = access['access_to'] access_level = 'YES' if access['access_level'] == 'rw': access_level = 'NO' # First: Check Active controller: if not valid, raise exception ctrl = self.vpsa._get_active_controller_details() if not ctrl: raise zadara_exception.ZadaraVPSANoActiveController() # Get/Create server name for given IP vpsa_srv = self.vpsa._create_vpsa_server(iscsi_ip=access_ip) if not vpsa_srv: raise zadara_exception.ZadaraServerCreateFailure(name=access_ip) # Get volume name vol_name = (self.configuration.zadara_share_name_template % share['share_id']) vpsa_volume = self.vpsa._get_vpsa_volume(vol_name) if not vpsa_volume: raise manila_exception.ManilaException(_( ""Unable to find VPSA volume %s"") % vol_name) data = self.vpsa_send_cmd('list_vol_attachments', vpsa_vol=vpsa_volume['name']) servers = data.get('servers', []) attach = None for server in servers: if server['name'] == vpsa_srv: attach = server break # Attach volume to server if attach is None: self.vpsa_send_cmd('attach_volume', vpsa_srv=vpsa_srv, vpsa_vol=vpsa_volume['name'], share_proto=share_proto, read_only=access_level) data = self.vpsa_send_cmd('list_vol_attachments', vpsa_vol=vpsa_volume['name']) server = None servers = data.get('servers', []) for srv in servers: if srv['iscsi_ip'] == access_ip: server = srv break if server is None: raise zadara_exception.ZadaraAttachmentsNotFound( name=vpsa_volume['name']) properties = {'target_discovered': False, 'target_portal': (('%s:%s') % (self.vpsa._get_target_host(ctrl['ip']), '3260')), 'target_ip': server['iscsi_ip'], 'share_id': share['share_id'], 'auth_method': 'CHAP', 'auth_username': ctrl['chap_user'], 'auth_password': ctrl['chap_passwd']} LOG.debug('Attach properties: %(properties)s', {'properties': strutils.mask_password(properties)}) return {'driver_volume_type': share['share_proto'], 'data': properties} def delete_share(self, context, share, share_server=None): """"""Delete share. Auto detach from all servers. """""" # Get share name share_name = (self.configuration.zadara_share_name_template % share['share_id']) volume = self.vpsa._get_vpsa_volume(share_name) if not volume: LOG.warning('Volume %s could not be found. ' 'It might be already deleted', share['share_id']) return self.vpsa._detach_vpsa_volume(vpsa_vol=volume['name']) # Delete volume associate with the share self.vpsa_send_cmd('delete_volume', vpsa_vol=volume['name']) def deny_access(self, context, share, access, share_server=None): """"""Deny access to the share from the host. Auto detach from all servers. """""" # First: Check Active controller: if not valid, raise exception ctrl = self.vpsa._get_active_controller_details() if not ctrl: raise zadara_exception.ZadaraVPSANoActiveController() # Get share name share_name = (self.configuration.zadara_share_name_template % share['share_id']) volume = self.vpsa._get_vpsa_volume(share_name) if not volume: LOG.error('Volume %s could not be found.' 'It might be already deleted', share['share_id']) return self.vpsa._detach_vpsa_volume(vpsa_vol=volume['name']) def extend_share(self, share, new_size, share_server=None): """"""Extend an existing share. """""" # Get the backend volume name for the share share_name = (self.configuration.zadara_share_name_template % share['share_id']) vpsa_volume = self.vpsa._get_vpsa_volume(share_name) if not vpsa_volume: msg = (_('VPSA volume for share %s ' 'could not be found.') % share['share_id']) LOG.error(msg) raise zadara_exception.ZadaraShareNotFound(name=share['share_id']) size = vpsa_volume['virtual_capacity'] if new_size < size: raise zadara_exception.ZadaraInvalidExtendSize() expand_size = new_size - size data = self.vpsa_send_cmd('expand_volume', vpsa_vol=vpsa_volume['name'], size=expand_size) if data['status'] != 0: raise zadara_exception.ZadaraExtendShareFailed( error=data['status']) def ensure_share(self, context, share, share_server=None): """"""Ensure that the share has a backend volume and it is exported. """""" # Get the backend volume name for the share share_name = (self.configuration.zadara_share_name_template % share['share_id']) vpsa_volume = self.vpsa._get_vpsa_volume(share_name) if not vpsa_volume: msg = (_('VPSA volume for share %s ' 'could not be found.') % share['share_id']) LOG.error(msg) raise zadara_exception.ZadaraShareNotFound(name=share['share_id']) export_locations = share['export_locations'] if export_locations: return export_locations else: servers_list = (self.vpsa._get_servers_attached_to_volume( vpsa_volume['name'])) if len(servers_list) != 0: msg = (_('Servers attached to the VPSA volume %s without ' 'any locations exported.') % vpsa_volume['name']) LOG.error(msg) raise zadara_exception.ZadaraShareNotValid( name=share['share_id']) def _update_share_stats(self): backend_name = self.configuration.share_backend_name dhss = self.configuration.driver_handles_share_servers vpsa_poolname = self.configuration.zadara_vpsa_poolname (total, free) = self.vpsa._get_pool_capacity(vpsa_poolname) ctrl = self.vpsa._get_active_controller_details() if not ctrl: raise zadara_exception.ZadaraVPSANoActiveController() ipv4_support = False if ':' in ctrl['ip'] else True # VPSA backend pool single_pool = dict( pool_name=vpsa_poolname, total_capacity_gb=total, free_capacity_gb=free, allocated_capacity_gb=(total - free), reserved_percentage=0, compression=(True if self.configuration.zadara_gen3_vol_compress else False), dedupe=(True if self.configuration.zadara_gen3_vol_dedupe else False), thin_provisioning=True ) data = dict( share_backend_name=backend_name, driver_handles_share_servers=dhss, vendor_name='Zadara Storage', driver_version=self.VERSION, storage_protocol='NFS_CIFS', pools=[single_pool], snapshot_support=True, create_share_from_snapshot_support=True, revert_to_snapshot_support=False, mount_snapshot_support=False, ipv4_support=ipv4_support, ipv6_support=False if ipv4_support else True ) super(ZadaraVPSAShareDriver, self)._update_share_stats(data) def create_snapshot(self, context, snapshot, share_server=None): """"""Creates a snapshot."""""" LOG.debug('Create snapshot: %s', snapshot['snapshot_id']) # Retrieve the CG name for the base volume share = snapshot['share'] volume_name = (self.configuration.zadara_share_name_template % share['share_id']) cg_name = self.vpsa._get_volume_cg_name(volume_name) if not cg_name: msg = _('Volume %(name)s not found') % {'name': volume_name} LOG.error(msg) raise manila_exception.ManilaException(msg) snap_name = (self.configuration.zadara_share_snap_name_template % snapshot['snapshot_id']) data = self.vpsa_send_cmd('create_snapshot', cg_name=cg_name, snap_name=snap_name) if data['status'] != 0: raise zadara_exception.ZadaraVPSASnapshotCreateFailed( name=share['share_id'], error=data['status']) return {'provider_location': data['snapshot_name']} def delete_snapshot(self, context, snapshot, share_server=None): """"""Deletes a snapshot."""""" LOG.debug('Delete snapshot: %s', snapshot['snapshot_id']) # Retrieve the CG name for the base volume share = snapshot['share'] volume_name = (self.configuration.zadara_share_name_template % share['share_id']) cg_name = self.vpsa._get_volume_cg_name(volume_name) if not cg_name: # If the volume isn't present, then don't attempt to delete LOG.warning('snapshot: original volume %s not found, ' 'skipping delete operation', volume_name) return snap_name = (self.configuration.zadara_share_snap_name_template % snapshot['snapshot_id']) snap_id = self.vpsa._get_snap_id(cg_name, snap_name) if not snap_id: # If the snapshot isn't present, then don't attempt to delete LOG.warning('snapshot: snapshot %s not found, ' 'skipping delete operation', snap_name) return self.vpsa_send_cmd('delete_snapshot', snap_id=snap_id) def create_share_from_snapshot(self, context, share, snapshot, share_server=None, parent_share=None): """"""Creates a share from a snapshot. """""" LOG.debug('Creating share from snapshot: %s', snapshot['snapshot_id']) # Retrieve the CG name for the base volume volume_name = (self.configuration.zadara_share_name_template % snapshot['share_instance']['share_id']) cg_name = self.vpsa._get_volume_cg_name(volume_name) if not cg_name: msg = _('Volume %(name)s not found') % {'name': volume_name} LOG.error(msg) raise manila_exception.ManilaException(msg) snap_name = (self.configuration.zadara_share_snap_name_template % snapshot['snapshot_id']) snap_id = self.vpsa._get_snap_id(cg_name, snap_name) if not snap_id: msg = _('Snapshot %(name)s not found') % {'name': snap_name} LOG.error(msg) raise manila_exception.ManilaException(msg) self._check_share_protocol(share) share_name = (self.configuration.zadara_share_name_template % share['share_id']) self.vpsa_send_cmd('create_clone_from_snap', cg_name=cg_name, name=share_name, snap_id=snap_id) if share['size'] > snapshot['size']: self.extend_share(share, share['size']) export_location = self._get_share_export_location(share) return [{'path': export_location}] def _get_export_name_from_export_path(self, proto, export_path): if proto == 'nfs' and '\\' in export_path: return None if proto == 'cifs' and '/' in export_path: return None # Extract the export name from the provided export path if proto == 'nfs': separator = '/' export_location = export_path.strip(separator) export_name = export_location.split(separator)[-1] else: separator = '\\' export_location = export_path.strip(separator) export_name = export_location.split(separator)[-1] return export_name def _extract_vpsa_volume_from_share(self, share): """"""Returns a vpsa volume based on the export location"""""" if not share['export_locations'][0]['path']: return None share_proto = share['share_proto'].lower() export_path = share['export_locations'][0]['path'] export_name = self._get_export_name_from_export_path(share_proto, export_path) if export_name is None: msg = (_('Please verify the specifed protocol and export path.')) LOG.error(msg) raise manila_exception.ManilaException(msg) volume = None volumes = self.vpsa._get_all_vpsa_volumes() # Find the volume with the corresponding export name for vol in volumes: if share_proto == 'nfs': vol_export_path = vol.get('nfs_export_path', None) else: vol_export_path = vol.get('smb_export_path', None) vol_export_name = self._get_export_name_from_export_path( share_proto, vol_export_path) if export_name == vol_export_name: volume = vol break # Check the additional smb export paths of the volume if (share_proto == 'cifs' and vol['additional_smb_export_paths_count'] > 0): for additional_path in vol['additional_smb_export_paths']: vol_export_name = self._get_export_name_from_export_path( share_proto, additional_path) if export_name == vol_export_name: volume = vol break if volume: return volume else: msg = (_('Manage backend share could not be found. It might be ' 'deleted or please verify the specifed protocol and ' 'export path.')) LOG.error(msg) raise manila_exception.ManilaException(msg) def manage_existing(self, share, driver_options): # Check whether the specified protocol is supported or not. self._check_share_protocol(share) LOG.info(""Share %(shr_path)s will be managed with share %(shr_name)s."", {'shr_path': share['export_locations'][0]['path'], 'shr_name': share['share_id']}) # Find the backend vpsa volume for the provided export location vpsa_volume = self._extract_vpsa_volume_from_share(share) # Check if the volume is available if vpsa_volume['status'] != 'Available': msg = (_('Existing share %(name)s is not available') % {'name': vpsa_volume['name']}) LOG.error(msg) raise manila_exception.ManilaException(msg) new_share_name = (self.configuration.zadara_share_name_template % share['share_id']) new_vpsa_share = self.vpsa._get_vpsa_volume(new_share_name) if new_vpsa_share: msg = (_('Share %(new_name)s already exists') % {'new_name': new_share_name}) LOG.error(msg) raise manila_exception.ManilaException(msg) # Rename the volume to the manila share specified name data = self.vpsa_send_cmd('rename_volume', vpsa_vol=vpsa_volume['name'], new_name=new_share_name) if data['status'] != 0: msg = (_('Renaming volume %(old_name)s to %(new_name)s ' 'has failed.') % {'old_name': vpsa_volume['name'], 'new_name': new_share_name}) LOG.error(msg) raise manila_exception.ManilaException(msg) return {'size': vpsa_volume['provisioned_capacity'], 'export_locations': share['export_locations'][0]['path']} def unmanage(self, share): """"""Removes the specified volume from Manila management"""""" pass def manage_existing_snapshot(self, snapshot, driver_options): share = snapshot['share'] share_name = (self.configuration.zadara_share_name_template % share['share_id']) vpsa_volume = self.vpsa._get_vpsa_volume(share_name) if not vpsa_volume: msg = (_('Volume %(name)s could not be found. ' 'It might be already deleted') % {'name': share_name}) LOG.error(msg) raise manila_exception.ManilaException(msg) # Check if the provider_location is specified if not snapshot['provider_location']: msg = (_('Provider location as snap id of the VPSA backend ' 'should be provided')) LOG.error(msg) raise manila_exception.ManilaException(msg) new_name = (self.configuration.zadara_share_snap_name_template % snapshot['snapshot_id']) new_snap_id = self.vpsa._get_snap_id(vpsa_volume['cg_name'], new_name) if new_snap_id: msg = (_('Snapshot with name %s already exists') % new_name) LOG.debug(msg) return data = self.vpsa_send_cmd('rename_snapshot', snap_id=snapshot['provider_location'], new_name=new_name) if data['status'] != 0: raise zadara_exception.ZadaraVPSASnapshotManageFailed( snap_id=snapshot['provider_location'], error=data['status']) def unmanage_snapshot(self, snapshot): """"""Removes the specified snapshot from Manila management"""""" pass def get_configured_ip_versions(self): """"""""Get allowed IP versions. The shares created should have export location as per the IP version. Currently, zadara backend doesn't support both ipv4 and ipv6. Collect the supported IP version from the vpsa's active controller """""" ctrl = self.vpsa._get_active_controller_details() if not ctrl: raise zadara_exception.ZadaraVPSANoActiveController() if ':' in ctrl['ip']: return [6] else: return [4] ",,1342,0
openstack%2Ftempest~master~Ibab610d3e59ec22bb8c37d66f262ed1d2648bbf8,openstack/tempest,master,Ibab610d3e59ec22bb8c37d66f262ed1d2648bbf8,Create tmd dir with specific prefix in check-uuid unit tests,MERGED,2021-03-09 18:36:11.000000000,2021-03-10 08:18:42.000000000,2021-03-10 08:17:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-09 18:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7f35d35470d44b125539b6d04cc22b18c4acb07', 'message': ""Create tmd dir with specific prefix in check-uuid unit tests\n\ntest_fix_argument_yes for check-uuid tool try to\nimport the created tmp directory and work on that\nwhich is failing with the below error:\nModuleNotFoundError: No module named 'tmpf61iim1k'\n\n- https://88e1de9a81e55d590d5b-26f184bb59af339cfe698349cbda4177.ssl.cf5.rackcdn.com/770520/8/check/openstack-tox-cover/e3518e8/testr_results.html\n\nIt is happening more frequently nowadays: 40 occurrences in 7 days\n\nhttp://logstash.openstack.org/#/dashboard/file/logstash.json\n\nThere is some race happening to delete the created tmp dir\nwhich is then used to import the test file in check-uuid run\nand raise error.\n\nThis commit try to create the tmp dir with specific prefix so that\nany other tests cleanup deleting the *tmp* dir on root path then\nit can avoid this failure.\n\nRelated-Bug: #1918316\nChange-Id: Ibab610d3e59ec22bb8c37d66f262ed1d2648bbf8\n""}, {'number': 2, 'created': '2021-03-09 18:39:42.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/238be50423f27353959b047d609703717aff34e2', 'message': ""Create tmd dir with specific prefix in check-uuid unit tests\n\ntest_fix_argument_yes for check-uuid tool try to\nimport the created tmp directory and work on that\nwhich is failing with the below error:\nModuleNotFoundError: No module named 'tmpf61iim1k'\n\n- https://88e1de9a81e55d590d5b-26f184bb59af339cfe698349cbda4177.ssl.cf5.rackcdn.com/770520/8/check/openstack-tox-cover/e3518e8/testr_results.html\n\nIt is happening more frequently nowadays: 40 occurrences in 7 days\n\nhttp://logstash.openstack.org/#/dashboard/file/logstash.json\n\nThere is some race happening to delete the created tmp dir\nwhich is then used to import the test file in check-uuid run\nand raise error.\n\nThis commit try to create the tmp dir with specific prefix so that\nany other tests cleanup deleting the *tmp* dir on root path then\nit can avoid this failure.\n\nRelated-Bug: #1918316\nChange-Id: Ibab610d3e59ec22bb8c37d66f262ed1d2648bbf8\n""}]",0,779555,238be50423f27353959b047d609703717aff34e2,12,2,2,8556,,,0,"Create tmd dir with specific prefix in check-uuid unit tests

test_fix_argument_yes for check-uuid tool try to
import the created tmp directory and work on that
which is failing with the below error:
ModuleNotFoundError: No module named 'tmpf61iim1k'

- https://88e1de9a81e55d590d5b-26f184bb59af339cfe698349cbda4177.ssl.cf5.rackcdn.com/770520/8/check/openstack-tox-cover/e3518e8/testr_results.html

It is happening more frequently nowadays: 40 occurrences in 7 days

http://logstash.openstack.org/#/dashboard/file/logstash.json

There is some race happening to delete the created tmp dir
which is then used to import the test file in check-uuid run
and raise error.

This commit try to create the tmp dir with specific prefix so that
any other tests cleanup deleting the *tmp* dir on root path then
it can avoid this failure.

Related-Bug: #1918316
Change-Id: Ibab610d3e59ec22bb8c37d66f262ed1d2648bbf8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/779555/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,f7f35d35470d44b125539b6d04cc22b18c4acb07,bug/1918316,"import shutil temp_dir = tempfile.mkdtemp(prefix='check-uuid-no', dir=""."") self.addCleanup(shutil.rmtree, temp_dir, ignore_errors=True) tests_file = self.create_tests_file(temp_dir) os.path.relpath(temp_dir)] temp_dir = tempfile.mkdtemp(prefix='check-uuid-yes', dir=""."") self.addCleanup(shutil.rmtree, temp_dir, ignore_errors=True) tests_file = self.create_tests_file(temp_dir) os.path.relpath(temp_dir)]"," temp_dir = self.useFixture(fixtures.TempDir(rootdir=""."")) tests_file = self.create_tests_file(temp_dir.path) os.path.relpath(temp_dir.path)] temp_dir = self.useFixture(fixtures.TempDir(rootdir=""."")) tests_file = self.create_tests_file(temp_dir.path) os.path.relpath(temp_dir.path)] ",9,8
openstack%2Fnova~stable%2Fussuri~I03cf285ad83e09d88cdb702a88dfed53c01610f8,openstack/nova,stable/ussuri,I03cf285ad83e09d88cdb702a88dfed53c01610f8,Handle instance = None in _local_delete_cleanup,MERGED,2021-02-23 20:26:34.000000000,2021-03-10 08:03:48.000000000,2021-03-10 08:01:54.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a44f9a415f269c88d975758cab10094c6ee1a068', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup required a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by doing two things:\n\n  (1) Changing the _local_delete_cleanup and\n      _update_queued_for_deletion methods to take an instance UUID\n      instead of a full instance object as they really only need the\n      UUID to do their work\n  (2) Saving a copy of the instance UUID before doing another instance\n      lookup which might return None and passing that UUID to the\n      _local_delete_cleanup and _update_queued_for_deletion methods\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)\n(cherry picked from commit 35112d7667cee9fc33db660ee241164b38468c31)\n'}, {'number': 2, 'created': '2021-03-05 17:51:15.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1914777.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f6fefb6298cdaeaae18756055f7264af6cb1f8e0', 'message': 'Handle instance = None in _local_delete_cleanup\n\nChange I4d3193d8401614311010ed0e055fcb3aaeeebaed added some\nadditional local delete cleanup to prevent leaking of placement\nallocations. The change introduced a regression in our ""delete while\nbooting"" handling as the _local_delete_cleanup required a valid\ninstance object to do its work and in two cases, we could have\ninstance = None from _lookup_instance if we are racing with a create\nrequest and the conductor has deleted the instance record while we\nare in the middle of processing the delete request.\n\nThis handles those scenarios by doing two things:\n\n  (1) Changing the _local_delete_cleanup and\n      _update_queued_for_deletion methods to take an instance UUID\n      instead of a full instance object as they really only need the\n      UUID to do their work\n  (2) Saving a copy of the instance UUID before doing another instance\n      lookup which might return None and passing that UUID to the\n      _local_delete_cleanup and _update_queued_for_deletion methods\n\nCloses-Bug: #1914777\n\nChange-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8\n(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)\n(cherry picked from commit 35112d7667cee9fc33db660ee241164b38468c31)\n'}]",0,777219,f6fefb6298cdaeaae18756055f7264af6cb1f8e0,17,3,2,4690,,,0,"Handle instance = None in _local_delete_cleanup

Change I4d3193d8401614311010ed0e055fcb3aaeeebaed added some
additional local delete cleanup to prevent leaking of placement
allocations. The change introduced a regression in our ""delete while
booting"" handling as the _local_delete_cleanup required a valid
instance object to do its work and in two cases, we could have
instance = None from _lookup_instance if we are racing with a create
request and the conductor has deleted the instance record while we
are in the middle of processing the delete request.

This handles those scenarios by doing two things:

  (1) Changing the _local_delete_cleanup and
      _update_queued_for_deletion methods to take an instance UUID
      instead of a full instance object as they really only need the
      UUID to do their work
  (2) Saving a copy of the instance UUID before doing another instance
      lookup which might return None and passing that UUID to the
      _local_delete_cleanup and _update_queued_for_deletion methods

Closes-Bug: #1914777

Change-Id: I03cf285ad83e09d88cdb702a88dfed53c01610f8
(cherry picked from commit 123f6262f63477d3f50dfad09688978e044bd9e0)
(cherry picked from commit 35112d7667cee9fc33db660ee241164b38468c31)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/777219/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py', 'nova/tests/functional/regressions/test_bug_1914777.py']",3,a44f9a415f269c88d975758cab10094c6ee1a068,bug/1914777," mock_get_br.side_effect = [self.br, br_not_found, br_not_found] self._delete_server(self.server) no_cell_im, has_cell_im, has_cell_im, has_cell_im, has_cell_im] mock_get_i.side_effect = [i, i, i, i_not_found, i_not_found] self._delete_server(self.server)","from nova.tests.functional.api import client mock_get_br.side_effect = [self.br, br_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server) no_cell_im, has_cell_im, has_cell_im, has_cell_im] mock_get_i.side_effect = [i, i, i, i_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server)",29,36
openstack%2Fmanila~master~Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5,openstack/manila,master,Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5,Implement secure RBAC for share networks,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 07:58:13.000000000,2021-03-10 00:58:10.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/219d7523cdb0d1bba88673d633eccb9d7cd32c44', 'message': 'Implement secure RBAC for share networks\n\nThis commit updates the policies for share networks to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa70768924f8214a0d0fd418b8909c58ac1ea962', 'message': 'Implement secure RBAC for share networks\n\nThis commit updates the policies for share networks to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5\n'}, {'number': 3, 'created': '2021-03-09 00:52:33.000000000', 'files': ['manila/policies/share_network.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/19d182c42925dfd6a3fef4cb4aa4931c5f50e5d7', 'message': 'Implement secure RBAC for share networks\n\nThis commit updates the policies for share networks to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5\n'}]",0,763457,19d182c42925dfd6a3fef4cb4aa4931c5f50e5d7,23,7,3,5046,,,0,"Implement secure RBAC for share networks

This commit updates the policies for share networks to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Ie5e87c73e97d4a464ec91db8fba1c5d3e9abfff5
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/763457/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_network.py'],1,219d7523cdb0d1bba88673d633eccb9d7cd32c44,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share network API now support system scope and default roles. """""" deprecated_share_network_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_DEFAULT ) deprecated_share_network_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) deprecated_share_network_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) deprecated_share_network_detail = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'detail', check_str=base.RULE_DEFAULT ) deprecated_share_network_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_DEFAULT ) deprecated_share_network_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) deprecated_share_network_add_security_service = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'add_security_service', check_str=base.RULE_DEFAULT ) deprecated_share_network_remove_security_service = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'remove_security_service', check_str=base.RULE_DEFAULT ) deprecated_share_network_get_all = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get_all_share_networks', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_detail, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_add_security_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_network_remove_security_service, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_share_network_get_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]),",105,18
openstack%2Fnova~stable%2Fussuri~I8249c572c6f727ef4ca434843106b9b57c47e585,openstack/nova,stable/ussuri,I8249c572c6f727ef4ca434843106b9b57c47e585,Add regression test for bug 1914777,MERGED,2021-02-23 20:26:34.000000000,2021-03-10 07:57:29.000000000,2021-03-10 07:54:58.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf24080434d096ed77a8e19231f069ae0ec3a622', 'message': ""Add regression test for bug 1914777\n\nThis adds two tests to cover a regression where racing create and\ndelete requests could result in a user receiving a 500 error when\nattempting to delete an instance:\n\n  Unexpected exception in API method: AttributeError: 'NoneType' object\n  has no attribute 'uuid'\n\nRelated-Bug: #1914777\n\nChange-Id: I8249c572c6f727ef4ca434843106b9b57c47e585\n(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)\n(cherry picked from commit 4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c)\n""}, {'number': 2, 'created': '2021-03-05 17:51:15.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1914777.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cee772549590be8af52771a73e64d22378106e89', 'message': ""Add regression test for bug 1914777\n\nThis adds two tests to cover a regression where racing create and\ndelete requests could result in a user receiving a 500 error when\nattempting to delete an instance:\n\n  Unexpected exception in API method: AttributeError: 'NoneType' object\n  has no attribute 'uuid'\n\nRelated-Bug: #1914777\n\nNOTE(melwitt): The difference from the cherry picked change is because\nI6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not in Ussuri.\n\nChange-Id: I8249c572c6f727ef4ca434843106b9b57c47e585\n(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)\n(cherry picked from commit 4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c)\n""}]",2,777218,cee772549590be8af52771a73e64d22378106e89,17,4,2,4690,,,0,"Add regression test for bug 1914777

This adds two tests to cover a regression where racing create and
delete requests could result in a user receiving a 500 error when
attempting to delete an instance:

  Unexpected exception in API method: AttributeError: 'NoneType' object
  has no attribute 'uuid'

Related-Bug: #1914777

NOTE(melwitt): The difference from the cherry picked change is because
I6daea47988181dfa6dde3d9c42004c0ecf6ae87a is not in Ussuri.

Change-Id: I8249c572c6f727ef4ca434843106b9b57c47e585
(cherry picked from commit f7975d640ce1e9fa06d045d35177f07451716f0c)
(cherry picked from commit 4f17ea2f7dedb67802c2a8bc0caa64ff66fd2c9c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/777218/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1914777.py'],1,bf24080434d096ed77a8e19231f069ae0ec3a622,bug/1914777,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import context as nova_context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers from nova.tests.unit import policy_fixture class TestDeleteWhileBooting(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""This tests race scenarios where an instance is deleted while booting. In these scenarios, the nova-api service is racing with nova-conductor service; nova-conductor is in the middle of booting the instance when nova-api begins fulfillment of a delete request. As the two services delete records out from under each other, both services need to handle it properly such that a delete request will always be fulfilled. Another scenario where two requests can race and delete things out from under each other is if two or more delete requests are racing while the instance is booting. In order to force things into states where bugs have occurred, we must mock some object retrievals from the database to simulate the different points at which a delete request races with a create request or another delete request. We aim to mock only the bare minimum necessary to recreate the bug scenarios. """""" def setUp(self): super(TestDeleteWhileBooting, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.GlanceFixture(self)) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.api self.ctxt = nova_context.get_context() # We intentionally do not start a conductor or scheduler service, since # our goal is to simulate an instance that has not been scheduled yet. # Kick off a server create request and move on once it's in the BUILD # state. Since we have no conductor or scheduler service running, the # server will ""hang"" in an unscheduled state for testing. self.server = self._create_server(expected_state='BUILD') # Simulate that a different request has deleted the build request # record after this delete request has begun processing. (The first # lookup of the build request occurs in the servers API to get the # instance object in order to delete it). # We need to get the build request now before we mock the method. self.br = objects.BuildRequest.get_by_instance_uuid( self.ctxt, self.server['id']) @mock.patch('nova.objects.build_request.BuildRequest.get_by_instance_uuid') def test_build_request_and_instance_not_found(self, mock_get_br): """"""This tests a scenario where another request has deleted the build request record and the instance record ahead of us. """""" # The first lookup at the beginning of the delete request in the # ServersController succeeds and the second lookup to handle ""delete # while booting"" in compute/api fails after a different request has # deleted it. br_not_found = exception.BuildRequestNotFound(uuid=self.server['id']) mock_get_br.side_effect = [self.br, br_not_found] # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server) @mock.patch('nova.objects.build_request.BuildRequest.get_by_instance_uuid') @mock.patch('nova.objects.InstanceMapping.get_by_instance_uuid') @mock.patch('nova.objects.instance.Instance.get_by_uuid') def test_deleting_instance_at_the_same_time(self, mock_get_i, mock_get_im, mock_get_br): """"""This tests the scenario where another request is trying to delete the instance record at the same time we are, while the instance is booting. An example of this: while the create and delete are running at the same time, the delete request deletes the build request, the create request finds the build request already deleted when it tries to delete it. The create request deletes the instance record and then delete request tries to lookup the instance after it deletes the build request. Its attempt to lookup the instance fails because the create request already deleted it. """""" # First lookup at the beginning of the delete request in the # ServersController succeeds, second lookup to handle ""delete while # booting"" in compute/api fails after the conductor has deleted it. br_not_found = exception.BuildRequestNotFound(uuid=self.server['id']) mock_get_br.side_effect = [self.br, br_not_found] # Simulate the instance transitioning from having no cell assigned to # having a cell assigned while the delete request is being processed. # First lookup of the instance mapping has the instance unmapped (no # cell) and subsequent lookups have the instance mapped to cell1. no_cell_im = objects.InstanceMapping( context=self.ctxt, instance_uuid=self.server['id'], cell_mapping=None) has_cell_im = objects.InstanceMapping( context=self.ctxt, instance_uuid=self.server['id'], cell_mapping=self.cell_mappings['cell1']) mock_get_im.side_effect = [ no_cell_im, has_cell_im, has_cell_im, has_cell_im] # Simulate that the instance object has been created by the conductor # in the create path while the delete request is being processed. # First lookups are before the instance has been deleted and the last # lookup is after the conductor has deleted the instance. Use the build # request to make an instance object for testing. i = self.br.get_new_instance(self.ctxt) i_not_found = exception.InstanceNotFound(instance_id=self.server['id']) mock_get_i.side_effect = [i, i, i, i_not_found] # Simulate that the conductor is running instance_destroy at the same # time as we are. def fake_instance_destroy(*args, **kwargs): # NOTE(melwitt): This is a misleading exception, as it is not only # raised when a constraint on 'host' is not met, but also when two # instance_destroy calls are racing. In this test, the soft delete # returns 0 rows affected because another request soft deleted the # record first. raise exception.ObjectActionError( action='destroy', reason='host changed') self.stub_out( 'nova.objects.instance.Instance.destroy', fake_instance_destroy) # FIXME(melwitt): Delete request fails due to the AttributeError. ex = self.assertRaises( client.OpenStackApiException, self._delete_server, self.server) self.assertEqual(500, ex.response.status_code) self.assertIn('AttributeError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self._delete_server(self.server) ",,151,0
openstack%2Fnova~stable%2Fussuri~I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff,openstack/nova,stable/ussuri,I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff,Default user_id when not specified in check_num_instances_quota,MERGED,2021-02-23 20:26:34.000000000,2021-03-10 07:56:19.000000000,2021-03-10 07:54:41.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:26:34.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aec1c42bd35c1bd6c7f4728bc483e6df2005fb92', 'message': ""Default user_id when not specified in check_num_instances_quota\n\nThe Quotas.check_deltas method needs a user_id keyword arg in order to\nscope a quota check to a particular user. However, when we call\ncheck_num_instances_quota we don't pass a project_id or user_id because\nat the time of the quota check, we have not yet created an instance\nrecord and thus will not use that to determine the appropriate project\nand user.\n\nInstead, we should rely on the RequestContext.project_id and\nRequestContext.user_id as defaults in this case, but\ncheck_num_instances_quota only defaults project_id and not user_id.\n\ncheck_num_instances_quota should also default user_id to the\nRequestContext.user_id when user_id is not explicitly passed.\n\ncheck_num_instances_quota should also check whether any per-user quota\nlimits are defined for instance-related resources before passing along\nthe user_id to scope resource counting and limit checking. Counting\nresources across a user is costly, so we should avoid it if it's not\nneeded.\n\nCloses-Bug: #1893284\n\nChange-Id: I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff\n(cherry picked from commit 4c11d5467a30506a82dd5d32dd22b8958a187c0b)\n""}]",0,777217,aec1c42bd35c1bd6c7f4728bc483e6df2005fb92,20,3,1,4690,,,0,"Default user_id when not specified in check_num_instances_quota

The Quotas.check_deltas method needs a user_id keyword arg in order to
scope a quota check to a particular user. However, when we call
check_num_instances_quota we don't pass a project_id or user_id because
at the time of the quota check, we have not yet created an instance
record and thus will not use that to determine the appropriate project
and user.

Instead, we should rely on the RequestContext.project_id and
RequestContext.user_id as defaults in this case, but
check_num_instances_quota only defaults project_id and not user_id.

check_num_instances_quota should also default user_id to the
RequestContext.user_id when user_id is not explicitly passed.

check_num_instances_quota should also check whether any per-user quota
limits are defined for instance-related resources before passing along
the user_id to scope resource counting and limit checking. Counting
resources across a user is costly, so we should avoid it if it's not
needed.

Closes-Bug: #1893284

Change-Id: I3cfb1edc30b0bda4671e0d2cc2a8993055dcc9ff
(cherry picked from commit 4c11d5467a30506a82dd5d32dd22b8958a187c0b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/777217/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py']",4,aec1c42bd35c1bd6c7f4728bc483e6df2005fb92,bug/1893284," # project_id is also used for the TooManyInstances error message if user_id is None: user_id = context.user_id # Check whether we need to count resources per-user and check a per-user # quota limit. If we have no per-user quota limit defined for a # project/user, we can avoid wasteful resource counting. user_quotas = objects.Quotas.get_all_by_project_and_user( context, project_id, user_id) if not any(r in user_quotas for r in ['instances', 'cores', 'ram']): user_id = None", # project_id is used for the TooManyInstances error message,66,9
openstack%2Ftacker~master~Ifce893312bd1f258c2fc5280b252fc5162f6231f,openstack/tacker,master,Ifce893312bd1f258c2fc5280b252fc5162f6231f,[DNM] Check for Zuul Issues in ChgExtConnectivity,ABANDONED,2021-03-10 02:01:54.000000000,2021-03-10 07:53:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-10 02:01:54.000000000', 'files': ['api-ref/source/v1/parameters_vnflcm.yaml', 'api-ref/source/v1/vnflcm.inc', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/objects/change_ext_conn_req.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/__init__.py', 'tacker/extensions/vnfm.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/functional/sol/vnflcm/fake_vnflcm.py', 'tacker/objects/fields.py', 'api-ref/source/v1/samples/vnflcm/change-ext-conn-request.json', 'tacker/tests/unit/objects/test_grant_request.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/objects/test_change_ext_conn_req.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/vnflcm/utils.py', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/grant_request.py', 'tacker/vnfm/infra_drivers/noop.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/test_grant.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/objects/grant.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/vnfm/infra_drivers/abstract_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3cc2cf9000216ebe8e8fa9852ae5f3392c2671c3', 'message': '[DNM] Check for Zuul Issues in ChgExtConnectivity\n\nChange-Id: Ifce893312bd1f258c2fc5280b252fc5162f6231f\n'}]",0,779640,3cc2cf9000216ebe8e8fa9852ae5f3392c2671c3,3,1,1,32219,,,0,"[DNM] Check for Zuul Issues in ChgExtConnectivity

Change-Id: Ifce893312bd1f258c2fc5280b252fc5162f6231f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/40/779640/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/parameters_vnflcm.yaml', 'api-ref/source/v1/vnflcm.inc', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/objects/change_ext_conn_req.py', 'tacker/common/exceptions.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/objects/__init__.py', 'tacker/extensions/vnfm.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/functional/sol/vnflcm/fake_vnflcm.py', 'tacker/objects/fields.py', 'api-ref/source/v1/samples/vnflcm/change-ext-conn-request.json', 'tacker/tests/unit/objects/test_grant_request.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/objects/test_change_ext_conn_req.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/api/views/vnf_lcm.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/vnflcm/utils.py', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/objects/grant_request.py', 'tacker/vnfm/infra_drivers/noop.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/test_grant.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/objects/grant.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/vnfm/infra_drivers/abstract_driver.py']",41,3cc2cf9000216ebe8e8fa9852ae5f3392c2671c3,DNMPatch," @abc.abstractmethod def change_ext_conn_vnf(self, context, vnf_instance, vnf_dict, vim_connection_info, change_ext_conn_req): """"""Change external VNF connectivity :param context: A RequestContext :param vnf_instance: tacker.objects.VnfInstance to be changed :param vnf_dict: :param vim_connection_info: Credentials to initialize Vim connection :param change_ext_conn_req: tacker.objects.ChangeExtconnRequest object containing parameters passed in the change_ext_conn request """""" pass @abc.abstractmethod def change_ext_conn_vnf_wait(self, context, vnf_instance, vim_connection_info): """"""Check vnf external connnectivity is changed successfully"""""" pass @abc.abstractmethod def post_change_ext_conn_vnf(self, context, vnf_instance, vim_connection_info): """"""Update resource information for each external VL/LINKPORT resources :param context: A RequestContext :param vnf_instance: tacker.objects.VnfInstance to be changed :param vim_connection_info: Credentials to initialize Vim connection """""" pass",,3712,47
openstack%2Ftacker~master~I04e34800f0c7adcb9432a6c85f6ec6696274a7d8,openstack/tacker,master,I04e34800f0c7adcb9432a6c85f6ec6696274a7d8,[DNM] Check for FT-Zuul Issues in Retry-ChgExt,ABANDONED,2021-03-10 01:30:56.000000000,2021-03-10 07:52:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-10 01:30:56.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ec40336933d7d73657e415b3249ebe7689bb9da5', 'message': '[DNM] Check for FT-Zuul Issues in Retry-ChgExt\n\nChange-Id: I04e34800f0c7adcb9432a6c85f6ec6696274a7d8\n'}]",0,779639,ec40336933d7d73657e415b3249ebe7689bb9da5,3,1,1,32219,,,0,"[DNM] Check for FT-Zuul Issues in Retry-ChgExt

Change-Id: I04e34800f0c7adcb9432a6c85f6ec6696274a7d8
",git fetch https://review.opendev.org/openstack/tacker refs/changes/39/779639/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/objects/fields.py']",3,ec40336933d7d73657e415b3249ebe7689bb9da5,DNMPatch," CHANGE_EXT_CONN = 'CHANGE_EXT_CONN' ALL = (INSTANTIATE, TERMINATE, HEAL, SCALE, CHANGE_EXT_CONN)"," ALL = (INSTANTIATE, TERMINATE, HEAL, SCALE)",32,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I251febe3fd192372177116569f41ccb9aa225302,openstack/kolla-ansible,stable/victoria,I251febe3fd192372177116569f41ccb9aa225302,Rename eswitchd.conf -> eswitchd.conf.j2,MERGED,2021-03-09 12:39:42.000000000,2021-03-10 07:01:40.000000000,2021-03-10 07:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-09 12:39:42.000000000', 'files': ['ansible/roles/neutron/templates/eswitchd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81cf413c528742c5f1038e0e57ec31a9651ab7e3', 'message': 'Rename eswitchd.conf -> eswitchd.conf.j2\n\nIn I173669bdf92b1f2ea98907ba16808ca3c914944c, eswitchd.conf.j2 template\nfile missed a .j2 at the end. This PS rectifies it.\n\nChange-Id: I251febe3fd192372177116569f41ccb9aa225302\n(cherry picked from commit e3c199d1817c013c9129c89f6a3272d346f283a3)\n'}]",0,779462,81cf413c528742c5f1038e0e57ec31a9651ab7e3,11,4,1,14826,,,0,"Rename eswitchd.conf -> eswitchd.conf.j2

In I173669bdf92b1f2ea98907ba16808ca3c914944c, eswitchd.conf.j2 template
file missed a .j2 at the end. This PS rectifies it.

Change-Id: I251febe3fd192372177116569f41ccb9aa225302
(cherry picked from commit e3c199d1817c013c9129c89f6a3272d346f283a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/779462/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/eswitchd.conf.j2'],1,81cf413c528742c5f1038e0e57ec31a9651ab7e3,mellanox-agent-stable/victoria,,,0,0
openstack%2Frequirements~master~I87bf53cea2c1157733b85f3c08883823567b2097,openstack/requirements,master,I87bf53cea2c1157733b85f3c08883823567b2097,Updated from generate-constraints,ABANDONED,2021-03-10 06:16:54.000000000,2021-03-10 06:22:20.000000000,,[],"[{'number': 1, 'created': '2021-03-10 06:16:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3d0a7855fca31d9928e7f73ed87747ae41ff4a0', 'message': 'Updated from generate-constraints\n\nChange-Id: I87bf53cea2c1157733b85f3c08883823567b2097\n'}]",0,779654,c3d0a7855fca31d9928e7f73ed87747ae41ff4a0,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I87bf53cea2c1157733b85f3c08883823567b2097
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/779654/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c3d0a7855fca31d9928e7f73ed87747ae41ff4a0,openstack/requirements/constraints,boto3===1.17.24botocore===1.20.24pkg-resources===0.0.0tenacity===7.0.0,boto3===1.17.23botocore===1.20.23tenacity===6.3.1setuptools===54.1.1,4,4
openstack%2Fmanila~master~Ie1b72459ae060693badb6fe864454836a4ff1300,openstack/manila,master,Ie1b72459ae060693badb6fe864454836a4ff1300,Implement secure RBAC for share group type specs,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 05:42:09.000000000,2021-03-10 02:12:05.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a78ad4715e70bc4e41b925f4104af0e2ffd4f3f1', 'message': 'Implement secure RBAC for share group type specs\n\nThis commit updates the policies for share group type specs to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie1b72459ae060693badb6fe864454836a4ff1300\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d28a3a8222863ecd9257adce7156e2bb1c0b134', 'message': 'Implement secure RBAC for share group type specs\n\nThis commit updates the policies for share group type specs to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie1b72459ae060693badb6fe864454836a4ff1300\n'}, {'number': 3, 'created': '2021-03-08 16:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0f63139b7b85b4281afff4d21d59855cfde50690', 'message': 'Implement secure RBAC for share group type specs\n\nThis commit updates the policies for share group type specs to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie1b72459ae060693badb6fe864454836a4ff1300\n'}, {'number': 4, 'created': '2021-03-09 03:36:11.000000000', 'files': ['manila/policies/share_group_types_spec.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/81cbc2395b5bfec3f11e804d80f38e299b05d6ec', 'message': 'Implement secure RBAC for share group type specs\n\nThis commit updates the policies for share group type specs to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie1b72459ae060693badb6fe864454836a4ff1300\n'}]",0,763454,81cbc2395b5bfec3f11e804d80f38e299b05d6ec,37,6,4,5046,,,0,"Implement secure RBAC for share group type specs

This commit updates the policies for share group type specs to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Ie1b72459ae060693badb6fe864454836a4ff1300
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/763454/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_group_types_spec.py'],1,a78ad4715e70bc4e41b925f4104af0e2ffd4f3f1,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share group type specs API now support system scope and default roles. """""" deprecated_group_type_spec_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_ADMIN_API ) deprecated_group_type_spec_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_ADMIN_API ) deprecated_group_type_spec_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_ADMIN_API ) deprecated_group_type_spec_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_ADMIN_API ) deprecated_group_type_spec_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_group_type_spec_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_group_type_spec_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_group_type_spec_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_group_type_spec_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_group_type_spec_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",61,10
openstack%2Fopenstack-helm~master~Id158275f72937052e3f3f4b562cd9a44d27e2493,openstack/openstack-helm,master,Id158275f72937052e3f3f4b562cd9a44d27e2493,Lint and package chart About Magnum,MERGED,2021-03-05 07:53:22.000000000,2021-03-10 05:23:24.000000000,2021-03-10 05:22:17.000000000,"[{'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-03-05 07:53:22.000000000', 'files': ['tools/deployment/multinode/190-magnum.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7c4f97c0872ecde96e4828fc3cfa41ce56205f8d', 'message': 'Lint and package chart About Magnum\n\nWithout this ""make"",It can lead to not being found <helm-toolkit> when running this script.\n\nChange-Id: Id158275f72937052e3f3f4b562cd9a44d27e2493\n'}]",0,778852,7c4f97c0872ecde96e4828fc3cfa41ce56205f8d,9,4,1,30449,,,0,"Lint and package chart About Magnum

Without this ""make"",It can lead to not being found <helm-toolkit> when running this script.

Change-Id: Id158275f72937052e3f3f4b562cd9a44d27e2493
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/52/778852/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/190-magnum.sh'],1,7c4f97c0872ecde96e4828fc3cfa41ce56205f8d,Package_magnum,#NOTE: Lint and package chart make magnum ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I956307d5c69cd4d259fb1ab2731fe0001a196c8e,openstack/tripleo-heat-templates,stable/train,I956307d5c69cd4d259fb1ab2731fe0001a196c8e,[Ussuri and older] Set python_cmd where we need it,MERGED,2021-03-08 21:02:21.000000000,2021-03-10 04:45:29.000000000,2021-03-10 04:45:29.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 21:02:21.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaf9e860e536204e839555337736ef5e234e4217', 'message': '[Ussuri and older] Set python_cmd where we need it\n\nIf you use --start-at-tasks, python_cmd may not be defined when we run\nthe generate configuration or host container tasks.  We should ensure\nthis variable is set prior to using it.\n\nThis variable was no longer used with the transition of the\ncontainer-puppet.py items into ansible itself so it only applies for\nUssuri and older.\n\nChange-Id: I956307d5c69cd4d259fb1ab2731fe0001a196c8e\nCloses-Bug: #1907858\n(cherry picked from commit 1a085631c09d3617c60ca2f5b18eca9f1385aae5)\n'}]",0,779365,aaf9e860e536204e839555337736ef5e234e4217,8,3,1,14985,,,0,"[Ussuri and older] Set python_cmd where we need it

If you use --start-at-tasks, python_cmd may not be defined when we run
the generate configuration or host container tasks.  We should ensure
this variable is set prior to using it.

This variable was no longer used with the transition of the
container-puppet.py items into ansible itself so it only applies for
Ussuri and older.

Change-Id: I956307d5c69cd4d259fb1ab2731fe0001a196c8e
Closes-Bug: #1907858
(cherry picked from commit 1a085631c09d3617c60ca2f5b18eca9f1385aae5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/779365/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml']",3,aaf9e860e536204e839555337736ef5e234e4217,bug/1907858-stable/train,," - name: gather facts needed by role setup: gather_subset: ""!min,python"" when: ansible_facts['python'] is not defined tags: - container_config_tasks - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_facts['python']['version']['major'] }}"" cacheable: true when: python_cmd is not defined tags: - container_config_tasks ",30,15
openstack%2Fpython-tripleoclient~master~Ib04d47e73b6f8c889d7f0132baecb780b1179de9,openstack/python-tripleoclient,master,Ib04d47e73b6f8c889d7f0132baecb780b1179de9,Remove unnecessary mocks in tests,MERGED,2021-03-08 13:39:47.000000000,2021-03-10 04:11:51.000000000,2021-03-10 04:10:42.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 13:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23083be04c7c1ab127b5d951607bb1fa59f6c625', 'message': 'Remove unnecessary mocks in TestParameterWorkflows\n\nChange-Id: Ib04d47e73b6f8c889d7f0132baecb780b1179de9\n'}, {'number': 2, 'created': '2021-03-08 14:44:43.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/workflows/test_parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40cca25a849a200aa97ac21169bfe4d63c965101', 'message': 'Remove unnecessary mocks in tests\n\nChange-Id: Ib04d47e73b6f8c889d7f0132baecb780b1179de9\n'}]",0,779259,40cca25a849a200aa97ac21169bfe4d63c965101,11,4,2,8833,,,0,"Remove unnecessary mocks in tests

Change-Id: Ib04d47e73b6f8c889d7f0132baecb780b1179de9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/779259/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/workflows/test_parameters.py'],1,23083be04c7c1ab127b5d951607bb1fa59f6c625,refactor_clean_utils,," self.app.client_manager.workflow_engine = self.workflow = mock.Mock() self.orchestration = mock.Mock() self.tripleoclient = mock.Mock() self.tripleoclient.object_store = mock.MagicMock() self.app.client_manager.tripleoclient = self.tripleoclient self.app.client_manager.orchestration = self.orchestration self.app.client_manager.compute = mock.Mock() execution = mock.Mock() execution.id = ""IDID"" self.workflow.executions.create.return_value = execution get_container = self.tripleoclient.object_store.get_container \ = mock.MagicMock() get_container.return_value = ('container', [{'name': 'f1'}]) flatten = mock.patch( 'tripleo_common.utils.stack_parameters.get_flattened_parameters', autospec=True, return_value={ 'environment_parameters': { 'TestParameter1': {}, 'TestRole1': 'TestParameter2' }, 'heat_resource_tree': { 'parameters': { 'TestParameter2': { 'name': 'TestParameter2', 'tags': [ 'role_specific' ] } }, 'resources': {} } } ) flatten.start() self.addCleanup(flatten.stop)",0,37
openstack%2Fkolla-ansible~master~If0a11db5470899c3a0e69ca94fdd0903daadcf8b,openstack/kolla-ansible,master,If0a11db5470899c3a0e69ca94fdd0903daadcf8b,Use Docker healthchecks for ironic services,MERGED,2021-03-06 16:36:29.000000000,2021-03-10 03:44:00.000000000,2021-03-10 03:42:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-06 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/89708d54a9d6b73959b3677b94fe6d1e503c6fef', 'message': 'Use Docker healthchecks for ironic services\n\nThis change enables the use of Docker healthchecks for ironic services.\nImplements: blueprint container-health-check\n\nChange-Id: If0a11db5470899c3a0e69ca94fdd0903daadcf8b\n'}, {'number': 2, 'created': '2021-03-08 14:23:16.000000000', 'files': ['ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-ironic-26df3f8c96ab70c7.yaml', 'ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb537eb8d3e8ee7002265a694772027cea57ac41', 'message': 'Use Docker healthchecks for ironic services\n\nThis change enables the use of Docker healthchecks for ironic services.\nImplements: blueprint container-health-check\n\nChange-Id: If0a11db5470899c3a0e69ca94fdd0903daadcf8b\n'}]",1,779078,cb537eb8d3e8ee7002265a694772027cea57ac41,20,4,2,31506,,,0,"Use Docker healthchecks for ironic services

This change enables the use of Docker healthchecks for ironic services.
Implements: blueprint container-health-check

Change-Id: If0a11db5470899c3a0e69ca94fdd0903daadcf8b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/779078/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-ironic-26df3f8c96ab70c7.yaml', 'ansible/roles/ironic/handlers/main.yml']",4,89708d54a9d6b73959b3677b94fe6d1e503c6fef,container-health-check," healthcheck: ""{{ service.healthcheck | default(omit) }}"" healthcheck: ""{{ service.healthcheck | default(omit) }}"" healthcheck: ""{{ service.healthcheck | default(omit) }}"" healthcheck: ""{{ service.healthcheck | default(omit) }}""",,67,0
openstack%2Fmanila~master~I482793d4af6ecb6c9194e7952cb588187fd45d99,openstack/manila,master,I482793d4af6ecb6c9194e7952cb588187fd45d99,Part 1 - Add RBAC protection tests,NEW,2021-02-23 04:52:57.000000000,2021-03-10 03:26:43.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 04:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/957359eb9baee1bc5f5155906be8ca8b3ba9aaff', 'message': 'Part 1 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- availability zones (GET)\n- messages (GET, DELETE)\n- quota class sets (GET, PUT)\n- quota sets (GET, PUT, DELETE)\n- scheduler stats (GET)\n\nChange-Id: I482793d4af6ecb6c9194e7952cb588187fd45d99\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-02-24 21:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4464e54d7f471d0486f20f2e85a68be1c11f0ea2', 'message': 'Part 1 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- availability zones (GET)\n- messages (GET, DELETE)\n- quota class sets (GET, PUT)\n- quota sets (GET, PUT, DELETE)\n- scheduler stats (GET)\n\nChange-Id: I482793d4af6ecb6c9194e7952cb588187fd45d99\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-03-09 15:18:05.000000000', 'files': ['manila/tests/policies/__init__.py', 'manila/tests/policies/test_quota_set.py', 'manila/tests/integrated/integrated_helpers.py', 'manila/tests/policies/test_availability_zone.py', 'manila/tests/policies/test_quota_class_set.py', 'manila/tests/policies/legacy_rbac/quota_set.yaml', 'manila/tests/policies/test_message.py', 'manila/tests/policies/test_scheduler_stats.py', 'manila/tests/policies/legacy_rbac/message.yaml', 'manila/tests/db_utils.py', 'manila/tests/policies/base.py', 'manila/tests/policies/legacy_rbac/scheduler_stats.yaml', 'manila/tests/policies/legacy_rbac/quota_class_set.yaml', 'manila/tests/policies/legacy_rbac/availability_zone.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/6e761280cfed4c4c6647d69ed73950cbbb7e8420', 'message': 'Part 1 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- availability zones (GET)\n- messages (GET, DELETE)\n- quota class sets (GET, PUT)\n- quota sets (GET, PUT, DELETE)\n- scheduler stats (GET)\n\nChange-Id: I482793d4af6ecb6c9194e7952cb588187fd45d99\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,777047,6e761280cfed4c4c6647d69ed73950cbbb7e8420,30,2,3,16643,,,0,"Part 1 - Add RBAC protection tests

This change enforces API policy
scenarios with unit testing and ddt.
It uses keystone middleware unlike
existing policy tests that use the
noauth middleware.

These tests should serve as protection
tests when making policy/API changes.

This change adds tests for the following
API groups:
- availability zones (GET)
- messages (GET, DELETE)
- quota class sets (GET, PUT)
- quota sets (GET, PUT, DELETE)
- scheduler stats (GET)

Change-Id: I482793d4af6ecb6c9194e7952cb588187fd45d99
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/777047/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/policies/__init__.py', 'manila/tests/policies/test_quota_set.py', 'manila/tests/integrated/integrated_helpers.py', 'manila/tests/conf_fixture.py', 'manila/tests/policies/test_availability_zone.py', 'manila/tests/policies/test_quota_class_set.py', 'manila/tests/policies/legacy_rbac/quota_set.yaml', 'manila/tests/policies/test_message.py', 'manila/tests/policies/test_scheduler_stats.py', 'manila/tests/policies/legacy_rbac/message.yaml', 'manila/tests/db_utils.py', 'manila/tests/policies/base.py', 'manila/tests/policies/legacy_rbac/scheduler_stats.yaml', 'manila/tests/policies/legacy_rbac/quota_class_set.yaml', 'manila/tests/policies/legacy_rbac/availability_zone.yaml']",15,957359eb9baee1bc5f5155906be8ca8b3ba9aaff,secure-rbac,"# list/index API project_member_can_list_availability_zones: path: availability-zones method: GET expected_status: 200 headers: X-Auth-Token: project-member-token X-Roles: member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: c8a3aebaf8a44589b102693efdd53d94 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.7' project_admin_can_list_availability_zones: path: availability-zones method: GET expected_status: 200 headers: X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.7' unauthenticated_user_cant_list_availability_zones: path: availability-zones method: GET expected_status: 401 headers: Content-Type: application/json X-OpenStack-Manila-API-Version: '2.7' ",,703,0
openstack%2Ftripleo-ansible~master~I7a1872c6fa8fc778e742e9ad417e9bf2560a342a,openstack/tripleo-ansible,master,I7a1872c6fa8fc778e742e9ad417e9bf2560a342a,Correct callback plugins for Ansible 2.10+,MERGED,2021-03-08 17:41:19.000000000,2021-03-10 03:25:23.000000000,2021-03-10 03:24:00.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 17:41:19.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bfeabd48894daa571cc8bf7ffc5212f1fdab0fd', 'message': 'Correct callback plugins for Ansible 2.10+\n\nThis change adds a DOCUMENTATION constant and a get_options method\nto the tripleo_dense callback plugin which resolves deprecation\nwarnings and errors caused by the updated ansible specification.\n\nChange-Id: I7a1872c6fa8fc778e742e9ad417e9bf2560a342a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,779312,1bfeabd48894daa571cc8bf7ffc5212f1fdab0fd,9,4,1,7353,,,0,"Correct callback plugins for Ansible 2.10+

This change adds a DOCUMENTATION constant and a get_options method
to the tripleo_dense callback plugin which resolves deprecation
warnings and errors caused by the updated ansible specification.

Change-Id: I7a1872c6fa8fc778e742e9ad417e9bf2560a342a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/779312/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,1bfeabd48894daa571cc8bf7ffc5212f1fdab0fd,,"DOCUMENTATION = """""" name: tripleo_dense type: stdout short_description: default TripleO screen output version_added: historical description: - This is the default output callback for TripleO. extends_documentation_fragment: - default_callback requirements: - set as stdout in configuration """""" class CallbackModule(DefaultCallback): def get_options(self, option_string): pass",class CallbackModule(DefaultCallback):,16,0
openstack%2Fpython-tripleoclient~master~Id4fc4594389aae68782f4becc68f849fed179142,openstack/python-tripleoclient,master,Id4fc4594389aae68782f4becc68f849fed179142,"[DNM] Revert ""Revert ""Revert ""Add environment variables for better var handling""""""",ABANDONED,2021-03-09 16:48:35.000000000,2021-03-10 02:59:07.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-09 16:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51c398a853c65549feb467919262bab73ba9aa20', 'message': 'Revert ""Revert ""Revert ""Add environment variables for better var handling""""""\n\nThis reverts commit c6380a607343df585fa18810e83ff65f1cf3d269.\n\nReason for revert: <Looks like the issue is still there so just want to test>\n\nChange-Id: Id4fc4594389aae68782f4becc68f849fed179142\n'}, {'number': 2, 'created': '2021-03-09 16:49:37.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38cbfa6636c1e6203c5c8c1c353901982452dd7c', 'message': '[DNM] Revert ""Revert ""Revert ""Add environment variables for better var handling""""""\n\nThis reverts commit c6380a607343df585fa18810e83ff65f1cf3d269.\n\nReason for revert: <Looks like the issue is still there so just want to test>\n\nChange-Id: Id4fc4594389aae68782f4becc68f849fed179142\n'}]",0,779474,38cbfa6636c1e6203c5c8c1c353901982452dd7c,4,5,2,20182,,,0,"[DNM] Revert ""Revert ""Revert ""Add environment variables for better var handling""""""

This reverts commit c6380a607343df585fa18810e83ff65f1cf3d269.

Reason for revert: <Looks like the issue is still there so just want to test>

Change-Id: Id4fc4594389aae68782f4becc68f849fed179142
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/779474/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,51c398a853c65549feb467919262bab73ba9aa20,bug/1915761,," # Set var handling for better performance env['ANSIBLE_INJECT_FACT_VARS'] = False env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'inventory' env['ANSIBLE_GATHER_SUBSET'] = '!all,min' ",0,5
openstack%2Foctavia~master~I4443d4531dc97d14f8277024baa11ab43e87fb39,openstack/octavia,master,I4443d4531dc97d14f8277024baa11ab43e87fb39,Add support for scoped tokens and default roles,MERGED,2021-02-17 02:15:22.000000000,2021-03-10 02:56:25.000000000,2021-03-10 02:55:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 9954}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-17 02:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ee4fe7d635ef32411f5f3d08e5c2140baea79e5', 'message': 'Add support for Keystone default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 2, 'created': '2021-02-17 02:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/933dc560b5e941ba816b8819609695f9b0e566b9', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 3, 'created': '2021-02-17 02:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5413dbdea15f8a3908d98b95a72705dc054e1413', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 4, 'created': '2021-02-18 00:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/61d5af7374169a4a1ccd860bae94c3fcb16b53e3', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 5, 'created': '2021-02-18 23:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c0313613435094715426e5a63561848014ca5c3', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 6, 'created': '2021-02-18 23:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8e8c8b23f3ab46358c9289b0f0bc4f170b904ad', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 7, 'created': '2021-02-18 23:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a43c9724f5e5bcd9a6350e90e090743e80cc88b0', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 8, 'created': '2021-02-18 23:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1dee19427374be093648775a2be3ad6e2ac13cb3', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 9, 'created': '2021-02-19 00:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e9c3819fed893d53b9cf2d6cd05a3be46fe7f91', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 10, 'created': '2021-02-19 00:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29e7fe86a94653f03dabc97d1836897381c92e44', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 11, 'created': '2021-02-19 00:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a6594bc4f46718a4de69051047587485a50919fb', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 12, 'created': '2021-02-19 15:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a5be37c36df3f8f088687b50478dbfb74eaa69f', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 13, 'created': '2021-02-19 19:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/19825a5a2441ffbd9906e9ad9bc2a613ec7eee93', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 14, 'created': '2021-02-23 23:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/45dba4eee314894beea8c30468398ad4c7c10510', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 15, 'created': '2021-02-24 15:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/42dc1e11e100b8505bc1b32075c63c736f31b5c9', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 16, 'created': '2021-02-26 00:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dfe73cb5787ec27e6cc08e0b0012dc393a622956', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 17, 'created': '2021-02-26 01:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f885e2eef92ebe61690d69a3d6ab7aceda945619', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 18, 'created': '2021-02-27 19:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d4a2e5c8f0d866cb384414f91cde3098f03a3419', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}, {'number': 19, 'created': '2021-03-08 19:33:42.000000000', 'files': ['etc/policy/README.rst', 'octavia/common/policy.py', 'requirements.txt', 'octavia/common/constants.py', 'releasenotes/notes/Added-RBAC-default-roles-and-scoping-0081627043f5c96d.yaml', 'octavia/tests/unit/common/test_policy.py', 'etc/policy/keystone_default_roles-policy.yaml', 'lower-constraints.txt', 'doc/source/configuration/policy.rst', 'octavia/policies/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a5f142c566e5f5654b341c47c23a35b47e8983d1', 'message': 'Add support for scoped tokens and default roles\n\nThis patch is the base patch to enable support for Keystone\nscoped tokens[1] and default roles[2] in the Octavia API.\n\nIt strives to maintain backward compatibility and support for\nOctavia Advanced RBAC roles.\n\n[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes\n[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html\n\nChange-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39\n'}]",37,775957,a5f142c566e5f5654b341c47c23a35b47e8983d1,55,7,19,11628,,,0,"Add support for scoped tokens and default roles

This patch is the base patch to enable support for Keystone
scoped tokens[1] and default roles[2] in the Octavia API.

It strives to maintain backward compatibility and support for
Octavia Advanced RBAC roles.

[1] https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes
[2] https://docs.openstack.org/keystone/latest/admin/service-api-protection.html

Change-Id: I4443d4531dc97d14f8277024baa11ab43e87fb39
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/775957/16 && git format-patch -1 --stdout FETCH_HEAD,"['etc/policy/README.rst', 'octavia/common/policy.py', 'octavia/common/constants.py', 'releasenotes/notes/Added-RBAC-default-roles-and-scoping-0081627043f5c96d.yaml', 'octavia/tests/unit/common/test_policy.py', 'etc/policy/keystone_default_roles-policy.yaml', 'doc/source/configuration/policy.rst', 'octavia/policies/base.py']",8,5ee4fe7d635ef32411f5f3d08e5c2140baea79e5,secure-rbac," # OpenStack wide scoped rules # System scoped Administrator policy.RuleDefault('system-admin', 'role:admin and system_scope:all'), # System scoped Reader policy.RuleDefault('system-reader', 'role:reader and system_scope:all'), # Octavia specific Advanced RBAC rules # role:admin and system_scope:all # User is admin to all service APIs, including Octavia. # TODO(johnsom) deprecated since Wallaby due to OpenStack RBAC scoping policy.RuleDefault('context_is_admin_scoped', 'role:load-balancer_admin or ' 'rule:system-admin'), 'role:load-balancer_admin or ' 'rule:system-admin'), 'role:load-balancer_global_observer or ' 'rule:system-reader'), # TODO(johnsom) deprecated since Wallaby due to OpenStack default roles # New default taking into account OpenStack default roles policy.RuleDefault('load-balancer:read-reader', 'rule:load-balancer:read and ' 'role:reader'), # TODO(johnsom) deprecated since Wallaby due to OpenStack default roles # New default taking into account OpenStack default roles policy.RuleDefault('load-balancer:write-member', 'rule:load-balancer:write and ' 'role:member'), "," # role:admin # User is admin to all APIs 'role:admin or ' 'role:load-balancer_admin'), 'role:load-balancer_global_observer'),",369,11
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0a140682c552ba8a4e943124330852259e66142d,openstack/tripleo-heat-templates,stable/train,I0a140682c552ba8a4e943124330852259e66142d,Set 'DEBUG' to horizon::log_level if HorizonDebug or Debug is true,MERGED,2021-02-17 13:24:18.000000000,2021-03-10 02:40:37.000000000,2021-03-10 02:39:14.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2021-02-17 13:24:18.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon_logger_debug-cd70c45c1b695e4b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79aec182b355aa442d204f3aef74b7ab24660885', 'message': ""Set 'DEBUG' to horizon::log_level if HorizonDebug or Debug is true\n\nPreviously, if HorzionDebug of Debug was true, horizon::django_debug\nwas set to True. However, those parameters didn't change the logger\nlevel of horizon components. By this change, when HorizonDebug or\nDebug is True, horizon::log_level is set to 'DEBUG'.\n\nConflicts:\n\tdeployment/horizon/horizon-container-puppet.yaml\n\nChange-Id: I0a140682c552ba8a4e943124330852259e66142d\n(cherry picked from commit 812aa726ef897e624f49edac88171d1645fec072)\n(cherry picked from commit 0502fb1aa09f0f7314d6b71c1358b3eeb063a9bc)\n""}]",0,776170,79aec182b355aa442d204f3aef74b7ab24660885,8,4,1,9816,,,0,"Set 'DEBUG' to horizon::log_level if HorizonDebug or Debug is true

Previously, if HorzionDebug of Debug was true, horizon::django_debug
was set to True. However, those parameters didn't change the logger
level of horizon components. By this change, when HorizonDebug or
Debug is True, horizon::log_level is set to 'DEBUG'.

Conflicts:
	deployment/horizon/horizon-container-puppet.yaml

Change-Id: I0a140682c552ba8a4e943124330852259e66142d
(cherry picked from commit 812aa726ef897e624f49edac88171d1645fec072)
(cherry picked from commit 0502fb1aa09f0f7314d6b71c1358b3eeb063a9bc)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/776170/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon_logger_debug-cd70c45c1b695e4b.yaml']",2,79aec182b355aa442d204f3aef74b7ab24660885,horizon_logger_debug,"--- fixes: - | Previously, HorizonDebug and Debug parameters change the value of horizon::django_debug. However, those parameters didn't set DEBUG log level to horizon logger components. By this change, if those are true, horizon::log_level is set to 'DEBUG'. ",,20,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I514b5a3d4133d3561376ea06a803d019acaa0f0b,openstack/tripleo-heat-templates,stable/train,I514b5a3d4133d3561376ea06a803d019acaa0f0b,Fix logic to honor HorizonDebug,MERGED,2021-02-17 13:25:15.000000000,2021-03-10 02:39:20.000000000,2021-03-10 02:39:20.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-17 13:25:15.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3c837e8180b138aaef241b027804d690c0aae25', 'message': 'Fix logic to honor HorizonDebug\n\nDebug always has one of true/false and is always set. We should check\nwhether HorizonDebug is set instead of whether Debug is set.\n\nAlso, this change fixes the current logic to make sure that\nHorizonDebug: false is honored even when Debug: true is set.\n\nCloses-Bug: #1908362\nChange-Id: I514b5a3d4133d3561376ea06a803d019acaa0f0b\n(cherry picked from commit f89140402ef211f92309646c2d935d5b9e593f99)\n(cherry picked from commit bb7d59c65a1c0feacfa4b05904dfe3f4ca287cdf)\n'}]",0,776171,d3c837e8180b138aaef241b027804d690c0aae25,10,4,1,9816,,,0,"Fix logic to honor HorizonDebug

Debug always has one of true/false and is always set. We should check
whether HorizonDebug is set instead of whether Debug is set.

Also, this change fixes the current logic to make sure that
HorizonDebug: false is honored even when Debug: true is set.

Closes-Bug: #1908362
Change-Id: I514b5a3d4133d3561376ea06a803d019acaa0f0b
(cherry picked from commit f89140402ef211f92309646c2d935d5b9e593f99)
(cherry picked from commit bb7d59c65a1c0feacfa4b05904dfe3f4ca287cdf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/776171/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,d3c837e8180b138aaef241b027804d690c0aae25,bug/1908362," default: '' service_debug_unset: {equals : [{get_param: HorizonDebug}, '']} - and: - service_debug_unset - get_param: Debug - and: - not: service_debug_unset - yaql: expression: $.data.horizon_debug.matches(""true|True|TRUE"") data: horizon_debug: get_param: HorizonDebug - service_debug_unset - horizon::django_debug: { get_param: HorizonDebug }"," default: false debug_unset: {equals : [{get_param: Debug}, '']} - yaql: expression: $.data.horizon_debug.matches(""true|True|TRUE"") data: horizon_debug: get_param: HorizonDebug - get_param: Debug - debug_unset - horizon::django_debug: { get_param: HorizonDebug }",14,10
openstack%2Fglance~master~Ica715fc1922f4b36dd0bb008ef6706b86115ec05,openstack/glance,master,Ica715fc1922f4b36dd0bb008ef6706b86115ec05,Enable second glance worker for import testing,MERGED,2021-01-13 14:45:16.000000000,2021-03-10 02:30:59.000000000,2021-03-10 02:27:07.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 14:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d8476dc6e734b971178e42d6acd29d9b519d7b7', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 2, 'created': '2021-01-13 17:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3660bbb71f25b268f0528f32ef5597e16b4337ae', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 3, 'created': '2021-01-14 00:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2d6f631fb79ec39f0f71941bae38a2186feb78ce', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 4, 'created': '2021-02-01 15:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb01756215e16d74fb09d8fc9342eff387a2e122', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 5, 'created': '2021-02-04 16:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/415309e099c727268afe3f3698a2af82696c41a5', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 6, 'created': '2021-02-17 14:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/508cc6d37b0101e3308c90056814bd13549b3699', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 7, 'created': '2021-03-01 18:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/447602a703974a371f0f2d8e50dd12af8a12c9f6', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 8, 'created': '2021-03-01 18:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/297d145529d7a174df96b5126b0dac2bfe0c7e43', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 9, 'created': '2021-03-01 18:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd49b3f4418db8e873466aef41bf96bb83aec0d7', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 10, 'created': '2021-03-02 19:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac9630c79fd667d0c7d1fef5dfe710c57940ef59', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 11, 'created': '2021-03-03 14:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/35cfac4c249346bae4e7fed2e9fbfc9b777f0e1d', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 12, 'created': '2021-03-03 23:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d36488d09e94db6e67e1baac2a9f23c912863157', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 13, 'created': '2021-03-04 16:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f2cbc90b67b855d7d75ce9b9b929a0114448527', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}, {'number': 14, 'created': '2021-03-04 20:13:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/662607f496bf0267b265a0820a91783c15270ea4', 'message': 'Enable second glance worker for import testing\n\nThis enables the g-api-r service in devstack, which allows tempest\nto run the remote import test, causing it to stage and import an\nimage across two different workers. Note we disable it for the\nstandalone mode, since devstack does not support starting another\nstandalone glance.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770520\nChange-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05\n'}]",6,770629,662607f496bf0267b265a0820a91783c15270ea4,88,5,14,4393,,,0,"Enable second glance worker for import testing

This enables the g-api-r service in devstack, which allows tempest
to run the remote import test, causing it to stage and import an
image across two different workers. Note we disable it for the
standalone mode, since devstack does not support starting another
standalone glance.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/770487
Depends-On: https://review.opendev.org/c/openstack/tempest/+/770520
Change-Id: Ica715fc1922f4b36dd0bb008ef6706b86115ec05
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/770629/11 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d8476dc6e734b971178e42d6acd29d9b519d7b7,bp/distributed-image-import, enable_service g-api-r,,1,0
openstack%2Foctavia-tempest-plugin~master~Iba915b938d94210f24afb25b521735ff8ee80d57,openstack/octavia-tempest-plugin,master,Iba915b938d94210f24afb25b521735ff8ee80d57,DNM - testing if DIB change fixes gate,ABANDONED,2021-01-28 02:50:26.000000000,2021-03-10 02:26:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-28 02:50:26.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4944d4307e3fe6116c54026fea3a26a02987b3d5', 'message': 'DNM - testing if DIB change fixes gate\n\nDepends-on: https://review.opendev.org/c/openstack/diskimage-builder/+/772254\nChange-Id: Iba915b938d94210f24afb25b521735ff8ee80d57\n'}]",0,772822,4944d4307e3fe6116c54026fea3a26a02987b3d5,4,1,1,1131,,,0,"DNM - testing if DIB change fixes gate

Depends-on: https://review.opendev.org/c/openstack/diskimage-builder/+/772254
Change-Id: Iba915b938d94210f24afb25b521735ff8ee80d57
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/22/772822/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/config.py'],1,4944d4307e3fe6116c54026fea3a26a02987b3d5,dnm-test-dib,# haleyb was here,,1,0
openstack%2Fheat-translator~master~I6378915ec0f161fcbfcbb9b401609eda8cef1541,openstack/heat-translator,master,I6378915ec0f161fcbfcbb9b401609eda8cef1541,DNM: Checking for errors with tosca-parser,ABANDONED,2021-03-08 04:27:40.000000000,2021-03-10 02:23:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-08 04:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/f597c87899c5b0925327b0eb4626b626c0938465', 'message': 'DNM: Checking for errors with tosca-parser\n\nChange-Id: I6378915ec0f161fcbfcbb9b401609eda8cef1541\n'}, {'number': 2, 'created': '2021-03-08 05:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/6f27ab16f6d4039f1cfd0fbba58d95301506a108', 'message': 'DNM: Checking for errors with tosca-parser\n\nChange-Id: I6378915ec0f161fcbfcbb9b401609eda8cef1541\n'}, {'number': 3, 'created': '2021-03-09 06:51:30.000000000', 'files': ['translator/hot/tosca/tosca_policies_monitoring.py', 'translator/hot/tosca/tests/test_tosca_autoscaling.py', 'translator/hot/tosca/tosca_policies_scaling.py', 'translator/tests/data/autoscaling/tosca_cluster_autoscaling.yaml', 'translator/tests/data/reservation/tosca-vnfd-reservation-id.yaml', 'translator/tests/data/hot_output/autoscaling/hot_autoscaling.yaml', 'translator/tests/data/custom_types/senlin_cluster_policies.yaml', 'translator/tests/data/autoscaling/tosca_autoscaling.yaml', 'translator/tests/data/monitoring/tosca_monitoring_scaling.yaml', 'translator/hot/tosca/tosca_cluster_policies_scaling.py', 'translator/tests/data/custom_types/custom_monitoring.yaml', 'translator/tests/data/nfv/test_tosca_nfv_autoscaling_with_params.yaml', 'translator/tests/data/nfv/test_tosca_nfv_autoscaling.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/1e184ced067dd01c0e9a71ec354c1b6968e047d5', 'message': 'DNM: Checking for errors with tosca-parser\n\nChange-Id: I6378915ec0f161fcbfcbb9b401609eda8cef1541\n'}]",0,779126,1e184ced067dd01c0e9a71ec354c1b6968e047d5,7,1,3,31072,,,0,"DNM: Checking for errors with tosca-parser

Change-Id: I6378915ec0f161fcbfcbb9b401609eda8cef1541
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/26/779126/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f597c87899c5b0925327b0eb4626b626c0938465,,,,1,0
openstack%2Fpython-tackerclient~master~I3a935296646361032665082a4060bc21ff51c1b1,openstack/python-tackerclient,master,I3a935296646361032665082a4060bc21ff51c1b1,Support CLI of Change External VNF Connectivity,MERGED,2021-02-17 15:39:38.000000000,2021-03-10 02:01:11.000000000,2021-03-10 02:00:04.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31902}, {'_account_id': 32102}, {'_account_id': 32219}]","[{'number': 1, 'created': '2021-02-17 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b75532ee9d22543ff1fd0856910f04e3b00cb198', 'message': 'Support CLI of Change External VNF Connectivity\n\nAdd ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.\nThis command can execute Change external VNF Connectivity operation.\nThis API can change VL setting.\n\nImplements: support-change-external-connectivity\nSpec: https://review.opendev.org/c/openstack/tacker-specs/+/759661\nChange-Id: I3a935296646361032665082a4060bc21ff51c1b1\n'}, {'number': 2, 'created': '2021-02-19 14:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/da868155220564d52f2de844d3eb523c0623c538', 'message': 'Support CLI of Change External VNF Connectivity\n\nAdd ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.\nThis command can execute Change external VNF Connectivity operation.\nThis API can change VL setting.\n\nImplements: blueprint support-change-external-connectivity\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-change-external-VNF-connectivity-operation.html\nChange-Id: I3a935296646361032665082a4060bc21ff51c1b1\n'}, {'number': 3, 'created': '2021-03-04 06:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/21c73ea91b7e65637abdf87e01453ed08466fb97', 'message': 'Support CLI of Change External VNF Connectivity\n\nAdd ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.\nThis command can execute Change external VNF Connectivity operation.\nThis API can change VL setting.\n\nImplements: blueprint support-change-external-connectivity\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-change-external-VNF-connectivity-operation.html\nChange-Id: I3a935296646361032665082a4060bc21ff51c1b1\n'}, {'number': 4, 'created': '2021-03-04 06:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/c35c14104b4c668f3ae41126f0442cc53b01ba14', 'message': 'Support CLI of Change External VNF Connectivity\n\nAdd ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.\nThis command can execute Change external VNF Connectivity operation.\nThis API can change VL setting.\n\nImplements: blueprint support-change-external-connectivity\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-change-external-VNF-connectivity-operation.html\nChange-Id: I3a935296646361032665082a4060bc21ff51c1b1\n'}, {'number': 5, 'created': '2021-03-10 01:06:51.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnflcm.py', 'tackerclient/v1_0/client.py', 'tackerclient/osc/v1/vnflcm/samples/change_ext_conn_vnf_instance_param_sample.json', 'setup.cfg', 'tackerclient/osc/v1/vnflcm/vnflcm.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/cfe14110d11a9782e891dc889a93db6a51970d4b', 'message': 'Support CLI of Change External VNF Connectivity\n\nAdd ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.\nThis command can execute Change external VNF Connectivity operation.\nThis API can change VL setting.\n\nImplements: blueprint support-change-external-connectivity\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-change-external-VNF-connectivity-operation.html\nChange-Id: I3a935296646361032665082a4060bc21ff51c1b1\n'}]",11,776218,cfe14110d11a9782e891dc889a93db6a51970d4b,28,7,5,32736,,,0,"Support CLI of Change External VNF Connectivity

Add ``openstack vnflcm op chg-ext-conn`` to python-tackerclient.
This command can execute Change external VNF Connectivity operation.
This API can change VL setting.

Implements: blueprint support-change-external-connectivity
Spec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-change-external-VNF-connectivity-operation.html
Change-Id: I3a935296646361032665082a4060bc21ff51c1b1
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/18/776218/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/tests/unit/osc/v1/test_vnflcm.py', 'tackerclient/v1_0/client.py', 'tackerclient/osc/v1/vnflcm/samples/change_ext_conn_vnf_instance_param_sample.json', 'setup.cfg', 'tackerclient/osc/v1/vnflcm/vnflcm.py']",5,b75532ee9d22543ff1fd0856910f04e3b00cb198,bp/support-change-external-connectivity," class ChangeExtConnVnfLcm(command.Command): _description = _(""Change External VNF Connectivity"") def get_parser(self, prog_name): parser = super(ChangeExtConnVnfLcm, self).get_parser(prog_name) parser.add_argument( _VNF_INSTANCE, metavar=""<vnf-instance>"", help=_(""VNF instance ID to Change External VNF Connectivity"")) parser.add_argument( 'change_ext_conn_request_file', metavar=""<param-file>"", help=_(""Specify change-ext-conn request parameters "" ""in a json file."")) return parser def take_action(self, parsed_args): client = self.app.client_manager.tackerclient result = client.change_ext_conn_vnf_instance( parsed_args.vnf_instance, jsonfile2body( parsed_args.change_ext_conn_request_file)) if not result: print((_('Change External VNF Connectivity for VNF Instance %s ' 'has been accepted.') % parsed_args.vnf_instance))",,216,0
openstack%2Fmanila~master~I8b95e1e70f74052e5bd4af1ba29842420bafd0b2,openstack/manila,master,I8b95e1e70f74052e5bd4af1ba29842420bafd0b2,Implement secure RBAC for share group types,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 01:56:52.000000000,2021-03-09 17:44:10.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/615886b069f571f96d95a1553cbd67da4d0bcb7e', 'message': 'Implement secure RBAC for share group types\n\nThis commit updates the policies for share group types to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I8b95e1e70f74052e5bd4af1ba29842420bafd0b2\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/578f587f5fcedf70c37b97f9bd4d16923bca14d3', 'message': 'Implement secure RBAC for share group types\n\nThis commit updates the policies for share group types to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I8b95e1e70f74052e5bd4af1ba29842420bafd0b2\n'}, {'number': 3, 'created': '2021-03-08 15:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0b627d95e0486c71c61bb7f27f96ae4b90cdeaf9', 'message': 'Implement secure RBAC for share group types\n\nThis commit updates the policies for share group types to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I8b95e1e70f74052e5bd4af1ba29842420bafd0b2\n'}, {'number': 4, 'created': '2021-03-09 00:19:23.000000000', 'files': ['manila/policies/share_group_type.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a7eb82572149d1ee12fa66d54e527c642e388d4d', 'message': 'Implement secure RBAC for share group types\n\nThis commit updates the policies for\nshare group types to understand scope\nchecking and account for a read-only role.\nThis is part of a broader series of\nchanges across OpenStack to provide a\nconsistent RBAC experience and improve\nsecurity.\n\nAlso fix the HTTP method in the policy\ndoc for this API.\n\nChange-Id: I8b95e1e70f74052e5bd4af1ba29842420bafd0b2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",5,763453,a7eb82572149d1ee12fa66d54e527c642e388d4d,28,6,4,5046,,,0,"Implement secure RBAC for share group types

This commit updates the policies for
share group types to understand scope
checking and account for a read-only role.
This is part of a broader series of
changes across OpenStack to provide a
consistent RBAC experience and improve
security.

Also fix the HTTP method in the policy
doc for this API.

Change-Id: I8b95e1e70f74052e5bd4af1ba29842420bafd0b2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/763453/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_group_type.py'],1,615886b069f571f96d95a1553cbd67da4d0bcb7e,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share group type API now supports system scope and default roles. """""" deprecated_share_group_type_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_ADMIN_API ) deprecated_share_group_type_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) deprecated_share_group_type_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) deprecated_share_group_type_get_default = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'default', check_str=base.RULE_DEFAULT ) deprecated_share_group_type_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_ADMIN_API ) deprecated_share_group_type_project_access = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'list_project_access', check_str=base.RULE_ADMIN_API ) deprecated_share_group_type_add_project = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'add_project_access', check_str=base.RULE_ADMIN_API ) deprecated_share_group_type_remove_project = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'remove_project_access', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_type_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_type_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_type_get_default, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_type_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), # NOTE(lbragstad): Maybe this API can be exposed to project users? check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_share_group_type_project_access, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_type_add_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_type_remove_project, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",88,14
openstack%2Ftempest~master~I2850f0659e82bf5c5a1005de0a063e7fcacadb51,openstack/tempest,master,I2850f0659e82bf5c5a1005de0a063e7fcacadb51,Add image task validation,MERGED,2021-02-15 16:47:09.000000000,2021-03-10 01:44:59.000000000,2021-03-10 01:43:04.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-15 16:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e241c4d490965f731b527029ebd71437667cd729', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}, {'number': 2, 'created': '2021-02-16 16:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de19ed7aca2933081b93db17ffe3ee7aae962865', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nBecause this is only supported after v2.12, we check for that before\ndoing the validation. To make that easier, this adds a has_version()\nhelper to the VersionsClient.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}, {'number': 3, 'created': '2021-03-07 16:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a99c474ce12c497467888b613571e4535ee61ecc', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nBecause this is only supported after v2.12, we check for that before\ndoing the validation. To make that easier, this adds a has_version()\nhelper to the VersionsClient.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}, {'number': 4, 'created': '2021-03-08 01:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5d362ea42779ee20e8fec07693d4ea9e375f2a9e', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nBecause this is only supported after v2.12, we check for that before\ndoing the validation. To make that easier, this adds a has_version()\nhelper to the VersionsClient.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}, {'number': 5, 'created': '2021-03-09 21:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6802375e7f15cc2d51b9b1e3a9d931f956246de', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nBecause this is only supported after v2.12, we check for that before\ndoing the validation. To make that easier, this adds a has_version()\nhelper to the VersionsClient.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}, {'number': 6, 'created': '2021-03-09 21:40:27.000000000', 'files': ['tempest/lib/services/image/v2/images_client.py', 'releasenotes/notes/image-client-add-versions-and-tasks-ac289dbfe1c899cc.yaml', 'tempest/tests/lib/services/image/v2/test_images_client.py', 'tempest/api/image/v2/test_images.py', 'tempest/lib/services/image/v2/versions_client.py', 'tempest/tests/lib/services/image/v2/test_versions_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7bde7bf537e084c96e9e882f159346d4398657fe', 'message': 'Add image task validation\n\nGlance is adding a /image/$image/tasks API to make it easier to\nconsume the import API. This fetches the tasks after glance-direct\nimport, and validates that they look like we expect.\n\nBecause this is only supported after v2.12, we check for that before\ndoing the validation. To make that easier, this adds a has_version()\nhelper to the VersionsClient.\n\nChange-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51\n'}]",12,775679,7bde7bf537e084c96e9e882f159346d4398657fe,48,5,6,4393,,,0,"Add image task validation

Glance is adding a /image/$image/tasks API to make it easier to
consume the import API. This fetches the tasks after glance-direct
import, and validates that they look like we expect.

Because this is only supported after v2.12, we check for that before
doing the validation. To make that easier, this adds a has_version()
helper to the VersionsClient.

Change-Id: I2850f0659e82bf5c5a1005de0a063e7fcacadb51
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/775679/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/image/v2/images_client.py', 'tempest/api/image/v2/test_images.py']",2,e241c4d490965f731b527029ebd71437667cd729,bp/messages-api," resp = self.client.image_import(image['id'], method='glance-direct') # Make sure we can access the task and that some of the key # fields look legit. tasks = self.client.show_image_tasks(image['id']) self.assertEqual(1, len(tasks['tasks'])) task = tasks['tasks'][0] self.assertEqual('success', task['status']) self.assertEqual(resp.response['x-openstack-request-id'], task['request_id']) self.assertEqual('glance-direct', task['input']['import_req']['method']['name']) "," self.client.image_import(image['id'], method='glance-direct')",20,1
openstack%2Fglance~master~Id3a08decd65b1222c0e9d7908ecd07587d2455c9,openstack/glance,master,Id3a08decd65b1222c0e9d7908ecd07587d2455c9,trivial: Fix minor grammatical issues in cache middleware,MERGED,2021-03-08 13:48:30.000000000,2021-03-10 01:38:42.000000000,2021-03-10 01:34:52.000000000,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 13:48:30.000000000', 'files': ['glance/api/middleware/cache.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4063d215a163795cbb65f773bfd66a0d51977470', 'message': 'trivial: Fix minor grammatical issues in cache middleware\n\nChange-Id: Id3a08decd65b1222c0e9d7908ecd07587d2455c9\n'}]",0,779260,4063d215a163795cbb65f773bfd66a0d51977470,11,2,1,5046,,,0,"trivial: Fix minor grammatical issues in cache middleware

Change-Id: Id3a08decd65b1222c0e9d7908ecd07587d2455c9
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/779260/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/middleware/cache.py'],1,4063d215a163795cbb65f773bfd66a0d51977470,secure-rbac, # (glance.api.policy) to make sure we build an accurate image # target., # (glance.api.policy) to make sure we're build accurate image # targets.,2,2
openstack%2Fkeystone~stable%2Fussuri~I5d5d31c8d89b0d2812a5e9be18a81611041e6da8,openstack/keystone,stable/ussuri,I5d5d31c8d89b0d2812a5e9be18a81611041e6da8,Port the grenade multinode job to Zuul v3,MERGED,2020-07-29 11:24:06.000000000,2021-03-10 01:38:37.000000000,2021-03-10 01:34:46.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10459}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 11:24:06.000000000', 'files': ['playbooks/legacy/keystone-dsvm-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/keystone-dsvm-grenade-multinode/post.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1c37797c51f735c3bf2ac35a534b54f1d97f3819', 'message': ""Port the grenade multinode job to Zuul v3\n\nIt implements the same behavior of the old one.\n\nIt is worth noting that the existing job the MULTI_KEYSTONE does not\nproduce any effect because this change hasn't been merged yet:\n- https://review.opendev.org/399472\nand when that merges, the following devstack-gate changes should be\napplied directly to this new job definition instead:\n- https://review.opendev.org/394895\n\nBoth changes are out of scope for this porting.\n\nChange-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8\n(cherry picked from commit 3be8d40fc56f876f3dea30812e6352e1e482bb86)\n""}]",0,743727,1c37797c51f735c3bf2ac35a534b54f1d97f3819,22,5,1,10459,,,0,"Port the grenade multinode job to Zuul v3

It implements the same behavior of the old one.

It is worth noting that the existing job the MULTI_KEYSTONE does not
produce any effect because this change hasn't been merged yet:
- https://review.opendev.org/399472
and when that merges, the following devstack-gate changes should be
applied directly to this new job definition instead:
- https://review.opendev.org/394895

Both changes are out of scope for this porting.

Change-Id: I5d5d31c8d89b0d2812a5e9be18a81611041e6da8
(cherry picked from commit 3be8d40fc56f876f3dea30812e6352e1e482bb86)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/27/743727/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/keystone-dsvm-grenade-multinode/run.yaml', '.zuul.yaml', 'playbooks/legacy/keystone-dsvm-grenade-multinode/post.yaml']",3,1c37797c51f735c3bf2ac35a534b54f1d97f3819,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,9,70
openstack%2Ftripleo-quickstart~master~I21255ae1d05e47a2ee091406bd78bb672dea52cc,openstack/tripleo-quickstart,master,I21255ae1d05e47a2ee091406bd78bb672dea52cc,CI - Use j2 templated network_data file,ABANDONED,2021-02-12 16:07:11.000000000,2021-03-10 01:16:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-12 16:07:11.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a6c5348a8f029ac8ccf396594cc664cf14320771', 'message': 'CI - Use j2 templated network_data file\n\nReplace the static network_data file in THT/ci with\nthe j2 templated network_data file.\n\nDepends-On: https://review.opendev.org/775407\nChange-Id: I21255ae1d05e47a2ee091406bd78bb672dea52cc\n'}]",0,775409,a6c5348a8f029ac8ccf396594cc664cf14320771,4,2,1,24245,,,0,"CI - Use j2 templated network_data file

Replace the static network_data file in THT/ci with
the j2 templated network_data file.

Depends-On: https://review.opendev.org/775407
Change-Id: I21255ae1d05e47a2ee091406bd78bb672dea52cc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/09/775409/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,a6c5348a8f029ac8ccf396594cc664cf14320771,network-data-v2, --networks-file {{ working_dir }}/network_data.yaml, --networks-file {{ overcloud_templates_path }}/ci/network_data.yaml,1,1
openstack%2Ftripleo-quickstart-extras~master~I36d96f08d3c92c27de057cb2fd985449beca99b8,openstack/tripleo-quickstart-extras,master,I36d96f08d3c92c27de057cb2fd985449beca99b8,Render network_data.yaml in ansible role,ABANDONED,2021-02-12 16:03:55.000000000,2021-03-10 01:15:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-12 16:03:55.000000000', 'files': ['roles/overcloud-prep-config/templates/network_data.yaml.j2', 'roles/overcloud-prep-config/defaults/main.yml', 'roles/overcloud-prep-config/tasks/main.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1e428ff77dbb6fd2a7e5e49961e69e64367d590', 'message': 'Render network_data.yaml in ansible role\n\nReplace the static file in THT/ci folder with a\nj2 template in quickstart ansible.\n\nChange-Id: I36d96f08d3c92c27de057cb2fd985449beca99b8\nPartial-Implements: blueprint network-data-v2-ports\n'}]",0,775407,c1e428ff77dbb6fd2a7e5e49961e69e64367d590,4,2,1,24245,,,0,"Render network_data.yaml in ansible role

Replace the static file in THT/ci folder with a
j2 template in quickstart ansible.

Change-Id: I36d96f08d3c92c27de057cb2fd985449beca99b8
Partial-Implements: blueprint network-data-v2-ports
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/775407/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-prep-config/templates/network_data.yaml.j2', 'roles/overcloud-prep-config/defaults/main.yml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2', 'roles/overcloud-prep-config/tasks/main.yml']",4,c1e428ff77dbb6fd2a7e5e49961e69e64367d590,network-data-v2,"- name: Create network_data file for network isolation template: src: ""{{ network_data_file }}"" dest: ""{{ working_dir }}/network_data.yaml"" mode: 0644 when: network_isolation|bool and undercloud_type != ""baremetal"" or deployed_server|bool tags: - overcloud-scripts ",,63,1
openstack%2Fmanila~master~I1978fd95f5a9f798dd2d5a2ca011952515319746,openstack/manila,master,I1978fd95f5a9f798dd2d5a2ca011952515319746,Implement secure RBAC for share instances,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 01:05:02.000000000,2021-03-10 01:03:45.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8018f93d555e12e461fb1134d50730a1a8981e2', 'message': 'Implement secure RBAC for share instances\n\nThis commit updates the policies for share instances to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1978fd95f5a9f798dd2d5a2ca011952515319746\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98d757e0211b35cf68b570d66bb9d9c06a45ed82', 'message': 'Implement secure RBAC for share instances\n\nThis commit updates the policies for share instances to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1978fd95f5a9f798dd2d5a2ca011952515319746\n'}, {'number': 3, 'created': '2021-03-08 16:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f573298df785ad00d5048630d3156c9f81290c6f', 'message': 'Implement secure RBAC for share instances\n\nThis commit updates the policies for share instances to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1978fd95f5a9f798dd2d5a2ca011952515319746\n'}, {'number': 4, 'created': '2021-03-08 16:12:27.000000000', 'files': ['manila/policies/share_instance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/264636575a9b0033f6e385ad245cff80373d70cd', 'message': 'Implement secure RBAC for share instances\n\nThis commit updates the policies for share instances to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I1978fd95f5a9f798dd2d5a2ca011952515319746\n'}]",0,763455,264636575a9b0033f6e385ad245cff80373d70cd,26,7,4,5046,,,0,"Implement secure RBAC for share instances

This commit updates the policies for share instances to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I1978fd95f5a9f798dd2d5a2ca011952515319746
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/763455/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_instance.py'],1,d8018f93d555e12e461fb1134d50730a1a8981e2,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share instances API now supports system scope and default roles. """""" deprecated_share_instances_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_ADMIN_API ) deprecated_share_instance_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_ADMIN_API ) deprecated_share_instance_force_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'force_delete', check_str=base.RULE_ADMIN_API ) deprecated_share_instance_reset_status = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'reset_status', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_share_instances_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_share_instance_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_instance_force_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_instance_reset_status, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",50,8
openstack%2Fmanila~master~I0cf9beed3c60fd790045580afa0c993c21e71d49,openstack/manila,master,I0cf9beed3c60fd790045580afa0c993c21e71d49,Implement secure RBAC for share instance export location,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 01:01:17.000000000,2021-03-10 00:58:15.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/674b9da4420380dda7809054945e86df95fd66e5', 'message': 'Implement secure RBAC for share instance export location\n\nThis commit updates the policies for share instance export locations to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0cf9beed3c60fd790045580afa0c993c21e71d49\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/900e44d0623f849673258756b46ba9e7974a61ea', 'message': 'Implement secure RBAC for share instance export location\n\nThis commit updates the policies for share instance export locations to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0cf9beed3c60fd790045580afa0c993c21e71d49\n'}, {'number': 3, 'created': '2021-03-08 14:28:09.000000000', 'files': ['manila/policies/share_instance_export_location.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b1dacdabf840715e731042416520e0f18a7f7fe4', 'message': 'Implement secure RBAC for share instance export location\n\nThis commit updates the policies for share instance export locations to\nunderstand scope checking and account for a read-only role. This is part of a\nbroader series of changes across OpenStack to provide a consistent RBAC\nexperience and improve security.\n\nChange-Id: I0cf9beed3c60fd790045580afa0c993c21e71d49\n'}]",0,763456,b1dacdabf840715e731042416520e0f18a7f7fe4,26,7,3,5046,,,0,"Implement secure RBAC for share instance export location

This commit updates the policies for share instance export locations to
understand scope checking and account for a read-only role. This is part of a
broader series of changes across OpenStack to provide a consistent RBAC
experience and improve security.

Change-Id: I0cf9beed3c60fd790045580afa0c993c21e71d49
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/763456/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_instance_export_location.py'],1,674b9da4420380dda7809054945e86df95fd66e5,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share instance export location API now supports system scope and default roles. """""" deprecated_instance_export_location_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_ADMIN_API ) deprecated_instance_export_location_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_instance_export_location_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_instance_export_location_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",29,4
openstack%2Fmanila~master~I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7,openstack/manila,master,I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7,Implement secure RBAC for share network subnets,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 00:59:47.000000000,2021-03-10 00:58:06.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f6395bea6d56a353d1aae69f7be18ea76b341071', 'message': 'Implement secure RBAC for share network subnets\n\nThis commit updates the policies for share network subnets to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a9fdd265e5b33abce69a5cc35a4bf725ab02d430', 'message': 'Implement secure RBAC for share network subnets\n\nThis commit updates the policies for share network subnets to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7\n'}, {'number': 3, 'created': '2021-03-09 00:53:00.000000000', 'files': ['manila/policies/share_network_subnet.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3ecad318bdbab11faa5c7748aaa4b9352099b396', 'message': 'Implement secure RBAC for share network subnets\n\nThis commit updates the policies for share network subnets to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7\n'}]",0,763458,3ecad318bdbab11faa5c7748aaa4b9352099b396,23,7,3,5046,,,0,"Implement secure RBAC for share network subnets

This commit updates the policies for share network subnets to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I2c90a40a7950be0463c3bc1bcf0b2d41cb6aeaa7
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/763458/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_network_subnet.py'],1,f6395bea6d56a353d1aae69f7be18ea76b341071,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share network subnet API now supports system scope and default roles. """""" deprecated_subnet_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_DEFAULT ) deprecated_subnet_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) deprecated_subnet_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) deprecated_subnet_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_subnet_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_subnet_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_subnet_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_subnet_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",50,8
openstack%2Ftripleo-ansible~master~I5199cf5fd20590a2aa1af5c52ef805067f995366,openstack/tripleo-ansible,master,I5199cf5fd20590a2aa1af5c52ef805067f995366,Do not run tripleo_ha_wrapper when the HA service has no config_volume,MERGED,2021-02-19 08:38:42.000000000,2021-03-10 00:55:25.000000000,2021-03-10 00:55:25.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-19 08:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bea94eec98a035964eb81a5ecddbfada0136a259', 'message': ""WIP Do not run tripleo_ha_wrapper when the HA service has no config_volume\n\nIf a service has no config_volume, it means it has not config file, so\nthere is no point in trying to restart the service when any of the\nconfiguration files change.\n\nCase in point, ovn_dbs currently generates an empty puppet\nconfig_volume. The only reason this works now is that the tripleo plugin\nthat calls container-puppet.sh, will generate an empty folder even\nthough no config is generated. Let's make this less fragile.\n\nChange-Id: I5199cf5fd20590a2aa1af5c52ef805067f995366\n""}, {'number': 2, 'created': '2021-02-27 10:37:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97be34a7559cd458edd612861ca7c7311f574ae6', 'message': ""Do not run tripleo_ha_wrapper when the HA service has no config_volume\n\nIf a service has no config_volume, it means it has not config file, so\nthere is no point in trying to restart the service when any of the\nconfiguration files change.\n\nCase in point, ovn_dbs currently generates an empty puppet\nconfig_volume. The only reason this works now is that the tripleo plugin\nthat calls container-puppet.sh, will generate an empty folder even\nthough no config is generated. Let's make this less fragile.\n\nChange-Id: I5199cf5fd20590a2aa1af5c52ef805067f995366\n""}]",0,776589,97be34a7559cd458edd612861ca7c7311f574ae6,11,4,2,20172,,,0,"Do not run tripleo_ha_wrapper when the HA service has no config_volume

If a service has no config_volume, it means it has not config file, so
there is no point in trying to restart the service when any of the
configuration files change.

Case in point, ovn_dbs currently generates an empty puppet
config_volume. The only reason this works now is that the tripleo plugin
that calls container-puppet.sh, will generate an empty folder even
though no config is generated. Let's make this less fragile.

Change-Id: I5199cf5fd20590a2aa1af5c52ef805067f995366
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/776589/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml'],1,bea94eec98a035964eb81a5ecddbfada0136a259,ha_wrapper_empty_md5,"- name: ""Check if {{ tripleo_ha_wrapper_config_basedir }}/{{ tripleo_ha_wrapper_puppet_config_volume }} exists"" stat: path: ""{{ tripleo_ha_wrapper_config_basedir }}/{{ tripleo_ha_wrapper_puppet_config_volume }}.md5sum"" register: config_volume_md5 when: - (config_volume_md5.stat.exists | bool)",,7,0
openstack%2Fmanila~master~I2964f82844df47006e79c90d32f43174203f2aa6,openstack/manila,master,I2964f82844df47006e79c90d32f43174203f2aa6,Implement secure RBAC for share replica locations,MERGED,2020-11-19 21:17:02.000000000,2021-03-10 00:51:13.000000000,2021-03-10 00:49:55.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/28534dae477d5f04e7682dee7e1db25033b158ef', 'message': 'Implement secure RBAC for share replica locations\n\nThis commit updates the policies for share replica locations to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I2964f82844df47006e79c90d32f43174203f2aa6\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c45f1a63f723c5a8b986b9446604f0dafd0d1524', 'message': 'Implement secure RBAC for share replica locations\n\nThis commit updates the policies for share replica locations to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I2964f82844df47006e79c90d32f43174203f2aa6\n'}, {'number': 3, 'created': '2021-03-08 14:35:42.000000000', 'files': ['manila/policies/share_replica_export_location.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f7fbe9837e79d8f7f0b7a3601e25b9b6d06f46b6', 'message': 'Implement secure RBAC for share replica locations\n\nThis commit updates the policies for share replica locations to understand\nscope checking and account for a read-only role. This is part of a broader\nseries of changes across OpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I2964f82844df47006e79c90d32f43174203f2aa6\n'}]",0,763460,f7fbe9837e79d8f7f0b7a3601e25b9b6d06f46b6,29,6,3,5046,,,0,"Implement secure RBAC for share replica locations

This commit updates the policies for share replica locations to understand
scope checking and account for a read-only role. This is part of a broader
series of changes across OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I2964f82844df47006e79c90d32f43174203f2aa6
",git fetch https://review.opendev.org/openstack/manila refs/changes/60/763460/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_replica_export_location.py'],1,28534dae477d5f04e7682dee7e1db25033b158ef,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share replica export location API now supports system scope and default roles. """""" deprecated_replica_location_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) deprecated_replica_location_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_replica_location_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_replica_location_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",29,4
openstack%2Fpython-cinderclient~master~I0815570a50e9b38fe18733c727acd52a406bfc1e,openstack/python-cinderclient,master,I0815570a50e9b38fe18733c727acd52a406bfc1e,Add MV 3.63 to the max supported version,MERGED,2021-01-27 19:04:53.000000000,2021-03-10 00:25:39.000000000,2021-03-10 00:21:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 19:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/47553513060f0e4cde59e68440d7085746c41513', 'message': ""Add MV 3.63 to the max supported version\n\nDuring the implementation on [1], it was requested to extend the Cinder\nclient to support the newly created microversion (MV). Therefore, this\npatch is doing exactly that.\n\nWe do not need to do any other work forward bcause the list volumes\nwill display whatever we have in the response. I mean, the default is\n``['ID', 'Status', 'Name', 'Size', 'Volume Type', 'Bootable', 'Attached to']``,\nbut one can customize these fields using ``--fields``\n\n[1] https://review.opendev.org/c/openstack/cinder/+/666886\n\nCloses-Bug: https://bugs.launchpad.net/python-cinderclient/+bug/1913474\nChange-Id: I0815570a50e9b38fe18733c727acd52a406bfc1e\n""}, {'number': 2, 'created': '2021-01-27 19:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7e4f20bbba43b1102f1f80aa0147c6e909b64c42', 'message': ""Add MV 3.63 to the max supported version\n\nDuring the implementation on [1], it was requested to extend the Cinder\nclient to support the newly created microversion (MV). Therefore, this\npatch is doing exactly that.\n\nWe do not need to do any other work forward bcause the list volumes\nwill display whatever we have in the response. I mean, the default is\n``['ID', 'Status', 'Name', 'Size', 'Volume Type', 'Bootable',\n'Attached to']``, but one can customize these fields using ``--fields``\n\n[1] https://review.opendev.org/c/openstack/cinder/+/666886\n\nCloses-Bug: https://bugs.launchpad.net/python-cinderclient/+bug/1913474\nChange-Id: I0815570a50e9b38fe18733c727acd52a406bfc1e\n""}, {'number': 3, 'created': '2021-01-27 20:48:27.000000000', 'files': ['cinderclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/070307d2b4ec181301aea248e06a5f549930c0e6', 'message': ""Add MV 3.63 to the max supported version\n\nDuring the implementation on [1], it was requested to extend the Cinder\nclient to support the newly created microversion (MV). Therefore, this\npatch is doing exactly that.\n\nWe do not need to do any other work forward bcause the list volumes\nwill display whatever we have in the response. I mean, the default is\n``['ID', 'Status', 'Name', 'Size', 'Volume Type', 'Bootable',\n'Attached to']``, but one can customize these fields using ``--fields``\n\n[1] https://review.opendev.org/c/openstack/cinder/+/666886\n\nCloses-Bug: https://bugs.launchpad.net/python-cinderclient/+bug/1913474\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/666886\n\nChange-Id: I0815570a50e9b38fe18733c727acd52a406bfc1e\n""}]",0,772758,070307d2b4ec181301aea248e06a5f549930c0e6,16,5,3,28356,,,0,"Add MV 3.63 to the max supported version

During the implementation on [1], it was requested to extend the Cinder
client to support the newly created microversion (MV). Therefore, this
patch is doing exactly that.

We do not need to do any other work forward bcause the list volumes
will display whatever we have in the response. I mean, the default is
``['ID', 'Status', 'Name', 'Size', 'Volume Type', 'Bootable',
'Attached to']``, but one can customize these fields using ``--fields``

[1] https://review.opendev.org/c/openstack/cinder/+/666886

Closes-Bug: https://bugs.launchpad.net/python-cinderclient/+bug/1913474
Depends-on: https://review.opendev.org/c/openstack/cinder/+/666886

Change-Id: I0815570a50e9b38fe18733c727acd52a406bfc1e
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/58/772758/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/api_versions.py'],1,47553513060f0e4cde59e68440d7085746c41513,,"MAX_VERSION = ""3.63""","MAX_VERSION = ""3.62""",1,1
openstack%2Felection~master~I03bf57efa00c3afa6f3a6ebd6911b6839beb0d5a,openstack/election,master,I03bf57efa00c3afa6f3a6ebd6911b6839beb0d5a,Add Lance Albertson candidancy for Openstack Chef PTL,MERGED,2021-03-09 23:34:06.000000000,2021-03-10 00:02:09.000000000,2021-03-10 00:00:47.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 23:34:06.000000000', 'files': ['candidates/xena/Openstack_Chef/lance@osuosl.org'], 'web_link': 'https://opendev.org/openstack/election/commit/0dd62a01a8ca810f90409107b71fb9d2f958ec8b', 'message': 'Add Lance Albertson candidancy for Openstack Chef PTL\n\nChange-Id: I03bf57efa00c3afa6f3a6ebd6911b6839beb0d5a\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779628,0dd62a01a8ca810f90409107b71fb9d2f958ec8b,8,3,1,21961,,,0,"Add Lance Albertson candidancy for Openstack Chef PTL

Change-Id: I03bf57efa00c3afa6f3a6ebd6911b6839beb0d5a
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/election refs/changes/28/779628/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Openstack_Chef/lance@osuosl.org'],1,0dd62a01a8ca810f90409107b71fb9d2f958ec8b,ramereth-xena,"Hello, I am hereby announcing my candidancy as OpenStack Chef PTL for the Xena release cycle. Over the past year we have made a lot of progress on cleaning up and improving OpenStack Chef both in testing and functionality. My goals for the coming release cycle: - Release cookbooks for the Train release - Add support for CentOS 8 - Get cookbooks updated to support Ussuri, Victoria, Wallaby and Xena releases - Start migrating cookbooks to be more resource driven similar to Sous Chefs cookbooks and move away from using attributes (where possible). Thanks- Lance Albertson (ramereth) ",,19,0
openstack%2Felection~master~I60d1d1bad050f27613ecf8e599e3b5840acb254c,openstack/election,master,I60d1d1bad050f27613ecf8e599e3b5840acb254c,nominate Adrian Turjak as PTL for Adjutant in X cycle,MERGED,2021-03-09 23:14:03.000000000,2021-03-09 23:48:45.000000000,2021-03-09 23:47:24.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 23:14:03.000000000', 'files': ['candidates/xena/Adjutant/adriant@catalystcloud.nz'], 'web_link': 'https://opendev.org/openstack/election/commit/2bff22500d0fb34abfab5e9d8c471d5bf50cdae4', 'message': 'nominate Adrian Turjak as PTL for Adjutant in X cycle\n\nChange-Id: I60d1d1bad050f27613ecf8e599e3b5840acb254c\n'}]",0,779627,2bff22500d0fb34abfab5e9d8c471d5bf50cdae4,8,3,1,10420,,,0,"nominate Adrian Turjak as PTL for Adjutant in X cycle

Change-Id: I60d1d1bad050f27613ecf8e599e3b5840acb254c
",git fetch https://review.opendev.org/openstack/election refs/changes/27/779627/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Adjutant/adriant@catalystcloud.nz'],1,2bff22500d0fb34abfab5e9d8c471d5bf50cdae4,new/adjutant_x,"Hello All, Once again I'm putting my foot forward as PTL for Adjutant, this time for X cycle. Focus hasn't changed much, still to continue maintaining the project to ensure it is operating as expected and as bug free as possible. Xena will most likely be focused on cleaning up policy/roles, and include some elements of that into the plugin layer, and to start working on more useful user management features. Depending on time and resources, we may start work on async worker support to allow some parts of tasks to be processed asynchronously. Cheers, Adrian Turjak ",,12,0
openstack%2Fneutron~master~Ia1e7d35f0c81cc5df792f4227d8e091080af65f1,openstack/neutron,master,Ia1e7d35f0c81cc5df792f4227d8e091080af65f1,jobs: remove devstack-gate references,MERGED,2021-03-08 10:57:13.000000000,2021-03-09 23:39:21.000000000,2021-03-09 23:34:47.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 10:57:13.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bb4f5defde2f9aac4280849efc03f26a2f94fc7', 'message': 'jobs: remove devstack-gate references\n\nNot needed by native Zuul v3 jobs.\n\nChange-Id: Ia1e7d35f0c81cc5df792f4227d8e091080af65f1\n'}]",0,779213,2bb4f5defde2f9aac4280849efc03f26a2f94fc7,24,3,1,10459,,,0,"jobs: remove devstack-gate references

Not needed by native Zuul v3 jobs.

Change-Id: Ia1e7d35f0c81cc5df792f4227d8e091080af65f1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/779213/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml']",3,2bb4f5defde2f9aac4280849efc03f26a2f94fc7,cleanup-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate,0,9
openstack%2Fmanila~master~I71d63179131c5dbe75a2de7339fa4df70243e83f,openstack/manila,master,I71d63179131c5dbe75a2de7339fa4df70243e83f,Implement secure RBAC for share groups,MERGED,2020-11-19 21:17:02.000000000,2021-03-09 23:31:38.000000000,2021-03-09 19:04:08.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48c5253cfef2e620f773e7993887d4934d92e255', 'message': 'Implement secure RBAC for share groups\n\nThis commit updates the policies for share groups to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I71d63179131c5dbe75a2de7339fa4df70243e83f\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e1fb170cdd5e85e1882fa7b4878a6c9459ba7eec', 'message': 'Implement secure RBAC for share groups\n\nThis commit updates the policies for share groups to understand scope checking\nand account for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I71d63179131c5dbe75a2de7339fa4df70243e83f\n'}, {'number': 3, 'created': '2021-03-08 23:50:38.000000000', 'files': ['manila/policies/share_group.py', 'manila/policies/base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/18d96c1426e3b29ea254e6e708f3709812e41f68', 'message': 'Implement secure RBAC for share groups\n\nThis commit updates the policies for share groups\nto understand scope checking and account for a\nread-only role. This is part of a broader series\nof changes across OpenStack to provide a\nconsistent RBAC experience and improve security.\n\nChange-Id: I71d63179131c5dbe75a2de7339fa4df70243e83f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,763451,18d96c1426e3b29ea254e6e708f3709812e41f68,23,6,3,5046,,,0,"Implement secure RBAC for share groups

This commit updates the policies for share groups
to understand scope checking and account for a
read-only role. This is part of a broader series
of changes across OpenStack to provide a
consistent RBAC experience and improve security.

Change-Id: I71d63179131c5dbe75a2de7339fa4df70243e83f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/51/763451/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_group.py'],1,48c5253cfef2e620f773e7993887d4934d92e255,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share group API now supports system scope and default roles. """""" deprecated_share_group_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_DEFAULT ) deprecated_share_group_get = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get', check_str=base.RULE_DEFAULT ) deprecated_share_group_get_all = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get_all', check_str=base.RULE_DEFAULT ) deprecated_share_group_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_DEFAULT ) deprecated_share_group_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) deprecated_share_group_force_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'force_delete', check_str=base.RULE_ADMIN_API ) deprecated_share_group_reset_status = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'reset_status', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_get_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_share_group_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), # NOTE(lbragstad): This might make a good candidate for project # administrators if this action doesn't require any information that # would violate tenancy. Offloading this to project administrators # would make the operation more self-serviceable. check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_force_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), # NOTE(lbragstad): This might make a good candidate for project # administrators if this action doesn't require any information that # would violate tenancy. Offloading this to project administrators # would make the operation more self-serviceable. check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_share_group_reset_status, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",91,14
openstack%2Fproject-config~master~Iff6f311f7ba5bcfb9d23f2d289f071b791a788e8,openstack/project-config,master,Iff6f311f7ba5bcfb9d23f2d289f071b791a788e8,Update grafana for opendev zuul executors,MERGED,2021-03-09 23:00:29.000000000,2021-03-09 23:29:50.000000000,2021-03-09 23:26:29.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 23:00:29.000000000', 'files': ['grafana/zuul-status.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3edb31a778c3e4e04dd889379534e6aa080d6c39', 'message': 'Update grafana for opendev zuul executors\n\nThe zuul executors are ze01-ze12.opendev.org now and not\nze01-ze12.openstack.org. We need to update the zuul status grafana\ndashboard to only select the opendev servers and render them properly.\n\nChange-Id: Iff6f311f7ba5bcfb9d23f2d289f071b791a788e8\n'}]",0,779626,3edb31a778c3e4e04dd889379534e6aa080d6c39,8,3,1,4146,,,0,"Update grafana for opendev zuul executors

The zuul executors are ze01-ze12.opendev.org now and not
ze01-ze12.openstack.org. We need to update the zuul status grafana
dashboard to only select the opendev servers and render them properly.

Change-Id: Iff6f311f7ba5bcfb9d23f2d289f071b791a788e8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/779626/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/zuul-status.yaml'],1,3edb31a778c3e4e04dd889379534e6aa080d6c39,update-grafana-for-opendev-executors," - target: aliasSub(stats.gauges.zuul.executor.*_opendev_org.running_builds, "".*\.(.*)_opendev_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*_opendev_org.load_average, 0.01), "".*\.(.*)_opendev_org.*"", ""\1"") - target: aliasSub(stats.gauges.zuul.executor.*_opendev_org.starting_builds, "".*\.(.*)_opendev_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*_opendev_org.pct_used_hdd, 0.01), "".*\.(.*)_opendev_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*_opendev_org.pct_used_ram, 0.01), "".*\.(.*)_opendev_org.*"", ""\1"")"," - target: aliasSub(stats.gauges.zuul.executor.*.running_builds, "".*\.(.*)_openstack_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*.load_average, 0.01), "".*\.(.*)_openstack_org.*"", ""\1"") - target: aliasSub(stats.gauges.zuul.executor.*.starting_builds, "".*\.(.*)_openstack_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*.pct_used_hdd, 0.01), "".*\.(.*)_openstack_org.*"", ""\1"") - target: aliasSub(scale(stats.gauges.zuul.executor.*.pct_used_ram, 0.01), "".*\.(.*)_openstack_org.*"", ""\1"")",5,5
openstack%2Fpython-designateclient~master~Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5,openstack/python-designateclient,master,Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5,Remove install unnecessary packages,MERGED,2020-09-24 01:12:10.000000000,2021-03-09 23:11:12.000000000,2021-03-09 23:09:46.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 31027}]","[{'number': 1, 'created': '2020-09-24 01:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/1b048172711cb7b2c4d7b5fd61d5fbf125656938', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5\n'}, {'number': 2, 'created': '2020-10-14 14:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/f4a2113b324814f9679cbe3da3dc7937d52b37cf', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5\n'}, {'number': 3, 'created': '2021-03-09 01:02:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/1f6f489b88c76eadefa8fa5863a104a67305f038', 'message': 'Remove install unnecessary packages\n\nThe docs requirements migrated to doc/requirements.txt\nwe need not install things from requirements.txt.\n\nChange-Id: Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5\n'}]",0,753871,1f6f489b88c76eadefa8fa5863a104a67305f038,16,4,3,31027,,,0,"Remove install unnecessary packages

The docs requirements migrated to doc/requirements.txt
we need not install things from requirements.txt.

Change-Id: Ifb66f44a1c0bb42f3f6aeffc06d1b8ee80d150c5
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/71/753871/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b048172711cb7b2c4d7b5fd61d5fbf125656938,753871,, -r{toxinidir}/requirements.txt,0,1
openstack%2Fpython-designateclient~stable%2Fvictoria~If7afefde0f33161016a27774021d27239c642eb5,openstack/python-designateclient,stable/victoria,If7afefde0f33161016a27774021d27239c642eb5,Increase hacking version,MERGED,2021-02-17 01:59:24.000000000,2021-03-09 23:08:01.000000000,2021-03-09 23:04:01.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-02-17 01:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/576d37aeefce9a41c547b4bdcd658883bf49dfff', 'message': 'Increase hacking version\n\nIncrease the hacking version in test-requirements to match the\nversion used in the `designate` project.\n\nThis change fixes a few errors that the more recent `pyflakes` flags.\n\nChange-Id: If7afefde0f33161016a27774021d27239c642eb5\nCo-Authored-By: Michael Chapman <woppin@gmail.com>\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 8f9c503ecc7f4fc8bd6cb2108256ba3e63bb3b73)\n'}, {'number': 2, 'created': '2021-02-17 13:24:19.000000000', 'files': ['designateclient/osc/plugin.py', 'designateclient/v2/recordsets.py', 'test-requirements.txt', '.zuul.yaml', 'designateclient/v2/cli/quotas.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/5e14505147e07b2b1199f713c4be26d4ad2f6fe2', 'message': 'Increase hacking version\n\nIncrease the hacking version in test-requirements to match the\nversion used in the `designate` project.\n\nThis change fixes a few errors that the more recent `pyflakes` flags.\n\n(michchap) added lower constraints job removal\n\nChange-Id: If7afefde0f33161016a27774021d27239c642eb5\nCo-Authored-By: Michael Chapman <woppin@gmail.com>\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 8f9c503ecc7f4fc8bd6cb2108256ba3e63bb3b73)\n'}]",0,775956,5e14505147e07b2b1199f713c4be26d4ad2f6fe2,12,4,2,6994,,,0,"Increase hacking version

Increase the hacking version in test-requirements to match the
version used in the `designate` project.

This change fixes a few errors that the more recent `pyflakes` flags.

(michchap) added lower constraints job removal

Change-Id: If7afefde0f33161016a27774021d27239c642eb5
Co-Authored-By: Michael Chapman <woppin@gmail.com>
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 8f9c503ecc7f4fc8bd6cb2108256ba3e63bb3b73)
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/56/775956/1 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/osc/plugin.py', 'designateclient/v2/recordsets.py', 'test-requirements.txt', 'designateclient/v2/cli/quotas.py', 'lower-constraints.txt', 'tox.ini']",6,576d37aeefce9a41c547b4bdcd658883bf49dfff,,"envlist = py36,py37,py38,flake8[testenv:functional-py38] setenv = {[testenv:functional]setenv} # W504 line break after binary operatorignore = H105,H302,H402,H404,H405,W504,H904","envlist = py36,py37,flake8ignore = H105, H302,H402,H404,H405,H904",16,13
openstack%2Ftripleo-heat-templates~master~If9d51a2412c6b20ca3d86d2905831b754cc0622f,openstack/tripleo-heat-templates,master,If9d51a2412c6b20ca3d86d2905831b754cc0622f,Hard code jobs to Nautilus before setting new default to Octopus,MERGED,2021-02-01 17:34:27.000000000,2021-03-09 22:59:59.000000000,2021-02-05 06:02:45.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-01 17:34:27.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8267d62d42018d18c7927a6dbea619cea504de0', 'message': 'Hard code jobs to Nautilus before setting new default to Octopus\n\nThe jobs being changed in this patch would break when Ocotpus\nbecomes the default Ceph container for the future Wallaby [1][2].\nThis patch configures these jobs to use Nautilus as an exception,\nnot the rule, so that these jobs may then be migrated to Octopus\none by one (i.e. migrated to deploying Ceph via cephadm). This\npatches change for 001-standalone will be undone first via [3].\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/771424\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/772371\n[3] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/767294\n\nChange-Id: If9d51a2412c6b20ca3d86d2905831b754cc0622f\n'}]",0,773458,d8267d62d42018d18c7927a6dbea619cea504de0,14,5,1,18002,,,0,"Hard code jobs to Nautilus before setting new default to Octopus

The jobs being changed in this patch would break when Ocotpus
becomes the default Ceph container for the future Wallaby [1][2].
This patch configures these jobs to use Nautilus as an exception,
not the rule, so that these jobs may then be migrated to Octopus
one by one (i.e. migrated to deploying Ceph via cephadm). This
patches change for 001-standalone will be undone first via [3].

[1] https://review.opendev.org/c/openstack/tripleo-common/+/771424
[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/772371
[3] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/767294

Change-Id: If9d51a2412c6b20ca3d86d2905831b754cc0622f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/773458/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",5,d8267d62d42018d18c7927a6dbea619cea504de0,cephadm_integration, # octopus is default but use nautilus until this job is migrated ContainerCephDaemonImage: quay.ceph.io/ceph-ci/daemon:v4.0.13-stable-4.0-nautilus-centos-7-x86_64,,11,1
openstack%2Felection~master~I6f2459f02a3080c91056e115433a39d90b1455db,openstack/election,master,I6f2459f02a3080c91056e115433a39d90b1455db,Adding Rafael Weingärtner candidacy for Cloudkitty,MERGED,2021-03-09 16:14:15.000000000,2021-03-09 22:36:12.000000000,2021-03-09 22:35:08.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 16:14:15.000000000', 'files': ['candidates/xena/Cloudkitty/rafael@apache.org'], 'web_link': 'https://opendev.org/openstack/election/commit/07092ee8c340f889b3093f3dc4b694428762f8a9', 'message': 'Adding Rafael Weingärtner candidacy for Cloudkitty\n\nChange-Id: I6f2459f02a3080c91056e115433a39d90b1455db\n'}]",0,779525,07092ee8c340f889b3093f3dc4b694428762f8a9,10,3,1,28356,,,0,"Adding Rafael Weingärtner candidacy for Cloudkitty

Change-Id: I6f2459f02a3080c91056e115433a39d90b1455db
",git fetch https://review.opendev.org/openstack/election refs/changes/25/779525/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Cloudkitty/rafael@apache.org'],1,07092ee8c340f889b3093f3dc4b694428762f8a9,,"Hello guys, I would like to self-nominate for the role of PTL of CloudKitty for the Xena release cycle. I am the current PTL for the Wallaby cycle and I am willing to continue in this role. I will keep working with existing contributors to maintain CloudKitty for their use cases and encourage the addition of new functionalities. Thank you for your support, ",,8,0
openstack%2Felection~master~Ifac18ddd385848d530202665745ad1bc7651036c,openstack/election,master,Ifac18ddd385848d530202665745ad1bc7651036c,Add Martin Kopec candidacy for Quality_Assurance PTL,MERGED,2021-03-09 17:22:55.000000000,2021-03-09 22:35:01.000000000,2021-03-09 22:32:36.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 17:22:55.000000000', 'files': ['candidates/xena/Quality_Assurance/mkopec@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/155a53bb6dc17ac9504e50c72712b42842c475f7', 'message': 'Add Martin Kopec candidacy for Quality_Assurance PTL\n\nChange-Id: Ifac18ddd385848d530202665745ad1bc7651036c\n'}]",0,779543,155a53bb6dc17ac9504e50c72712b42842c475f7,11,6,1,22873,,,0,"Add Martin Kopec candidacy for Quality_Assurance PTL

Change-Id: Ifac18ddd385848d530202665745ad1bc7651036c
",git fetch https://review.opendev.org/openstack/election refs/changes/43/779543/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Quality_Assurance/mkopec@redhat.com'],1,155a53bb6dc17ac9504e50c72712b42842c475f7,,"Hi everyone, I would like to nominate myself for the PTL role of the QA in the Xena cycle. This would be my first PTL service, however, I have been contributing to Tempest for several years and have been a core contributor for over a year now. I'm also a core in refstack projects (python-tempestconf, refstack and refstack-client). A few things I would like to focus on in the Xena cycle: * Get Tempest scenario manager effort [2] finished - we started actively working on this ~2 cycles ago and we have made a significant progress. After it's done we will declare the interface stable which will help to decrease the code duplicity among tempest plugins which is directly related to the maintenance difficulty. * Keep decreasing the bug counts * Decrease the number of open patches. Although many projects suffer from not enough personal resources, we can't let the contributors go out of their steam by making their patches to wait in the queue for too long. * Complete priority items from the previous cycles [1] https://www.stackalytics.com/?user_id=mkopec [2] https://etherpad.opendev.org/p/tempest-scenario-manager Thanks for your consideration! -- Martin Kopec (kopecmartin) ",,31,0
openstack%2Felection~master~Ibddfb5a97e1ec30dd652d5451698af68936e237b,openstack/election,master,Ibddfb5a97e1ec30dd652d5451698af68936e237b,Tim Burke candidacy for Swift PTL (Xena),MERGED,2021-03-09 21:44:07.000000000,2021-03-09 22:33:59.000000000,2021-03-09 22:30:57.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 21:44:07.000000000', 'files': ['candidates/xena/Swift/tburke@nvidia.com'], 'web_link': 'https://opendev.org/openstack/election/commit/b46636df3a2bea6405c2e3a9ca509d6403826ee4', 'message': 'Tim Burke candidacy for Swift PTL (Xena)\n\nChange-Id: Ibddfb5a97e1ec30dd652d5451698af68936e237b\n'}]",0,779590,b46636df3a2bea6405c2e3a9ca509d6403826ee4,8,3,1,15343,,,0,"Tim Burke candidacy for Swift PTL (Xena)

Change-Id: Ibddfb5a97e1ec30dd652d5451698af68936e237b
",git fetch https://review.opendev.org/openstack/election refs/changes/90/779590/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Swift/tburke@nvidia.com'],1,b46636df3a2bea6405c2e3a9ca509d6403826ee4,,"I intend to continue serving as Swift PTL. I was going to attempt to enumerate some sort of grand vision for Swift and our priorities for the next cycle. As I thought about it, though, I realized these remain largely the same as they always have been: provide durable, scalable storage for diverse use-cases without the need for specialized hardware and in a way that allows both users and operators to be successful. In short, we will continue to deliver the best object storage we can. The exact details of how we do that may vary somewhat from cycle to cycle. The last six months we've seen a lot of polishing of operational features, notably container sharding and shrinking, part power increases, and error detection. We'll likely continue working in these areas, and expand into larger replication improvements. I'll do what I can to help, both directly (by improving Swift) and indirectly (by, for example, fixing broken gate jobs and flaky tests). ",,17,0
openstack%2Felection~master~Ida0fa13972f370ee1b211afb80d666a9f6209502,openstack/election,master,Ida0fa13972f370ee1b211afb80d666a9f6209502,Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible,MERGED,2021-03-08 18:36:50.000000000,2021-03-09 22:32:33.000000000,2021-03-09 22:32:33.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 18:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/f531198a27315ee0815bc812f17e4358365d0afe', 'message': 'Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible\n\nChange-Id: Ida0fa13972f370ee1b211afb80d666a9f6209502\n'}, {'number': 2, 'created': '2021-03-08 18:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/86115f561ac3db66cf9ecea9ffa9cbe5e2ff1ab7', 'message': 'Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible\n\nChange-Id: Ida0fa13972f370ee1b211afb80d666a9f6209502\n'}, {'number': 3, 'created': '2021-03-09 20:03:16.000000000', 'files': ['candidates/xena/OpenStackAnsible/noonedeadpunk@ya.ru'], 'web_link': 'https://opendev.org/openstack/election/commit/e016565287e0430f67b902a88ff8523a206e69df', 'message': 'Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible\n\nChange-Id: Ida0fa13972f370ee1b211afb80d666a9f6209502\n'}]",0,779321,e016565287e0430f67b902a88ff8523a206e69df,16,4,3,28619,,,0,"Adding Dmitriy Rabotyagov candidacy for OpenStack-Ansible

Change-Id: Ida0fa13972f370ee1b211afb80d666a9f6209502
",git fetch https://review.opendev.org/openstack/election refs/changes/21/779321/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f531198a27315ee0815bc812f17e4358365d0afe,,,,0,0
openstack%2Felection~master~I30849e095c6d2853b102a854717c2417cb8daf1e,openstack/election,master,I30849e095c6d2853b102a854717c2417cb8daf1e,Propose yoctozepto for TC,MERGED,2021-03-09 20:29:22.000000000,2021-03-09 22:32:19.000000000,2021-03-09 22:32:19.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 20:29:22.000000000', 'files': ['candidates/xena/TC/radoslaw.piliszek@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/92d87ea0e764dcf78d918ca2306aff75ce29e937', 'message': 'Propose yoctozepto for TC\n\nChange-Id: I30849e095c6d2853b102a854717c2417cb8daf1e\n'}]",0,779575,92d87ea0e764dcf78d918ca2306aff75ce29e937,8,4,1,30491,,,0,"Propose yoctozepto for TC

Change-Id: I30849e095c6d2853b102a854717c2417cb8daf1e
",git fetch https://review.opendev.org/openstack/election refs/changes/75/779575/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/TC/radoslaw.piliszek@gmail.com'],1,92d87ea0e764dcf78d918ca2306aff75ce29e937,tc-xena,"I am self-nominating myself for the position of TC member starting the Xena cycle. I have already self-nominated myself the previous two cycles. I am the Masakari PTL as well as Kolla and DevStack&friends core. I don't plan to lead any complex efforts but want to offer my advice and coordination skills to the community. My focus is on improving the quality of testing and will gladly support such efforts, especially regarding cross-project integration works. - Radosław Piliszek (yoctozepto) ",,13,0
openstack%2Fopenstack-tempest-skiplist~master~I4f636563845a5da6bb22149ee3f472053ae37652,openstack/openstack-tempest-skiplist,master,I4f636563845a5da6bb22149ee3f472053ae37652,add victoria TestSnapShotPattern to skip,MERGED,2021-03-09 22:13:39.000000000,2021-03-09 22:29:35.000000000,2021-03-09 22:28:00.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 22:13:39.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e7503a1a1c243cb7e7091c98fd02160be9015550', 'message': 'add victoria TestSnapShotPattern to skip\n\nRelated-Bug: #1918333\nChange-Id: I4f636563845a5da6bb22149ee3f472053ae37652\n'}]",0,779617,e7503a1a1c243cb7e7091c98fd02160be9015550,8,3,1,9592,,,0,"add victoria TestSnapShotPattern to skip

Related-Bug: #1918333
Change-Id: I4f636563845a5da6bb22149ee3f472053ae37652
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/17/779617/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,e7503a1a1c243cb7e7091c98fd02160be9015550,, - test: tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern deployment: - overcloud releases: - name: victoria reason: failed to reach active state lp: https://bugs.launchpad.net/tripleo/+bug/1918333 jobs: - periodic-tripleo-ci-centos-8-scenario001-standalone-victoria - tripleo-ci-centos-8-scenario001-standalone,,10,0
openstack%2Fpython-designateclient~master~Ied4302a6e7cd9a3a556d8f1082cfb5a80cd9b3cf,openstack/python-designateclient,master,Ied4302a6e7cd9a3a556d8f1082cfb5a80cd9b3cf,Enable py36 testing,ABANDONED,2018-07-23 13:43:58.000000000,2021-03-09 22:02:45.000000000,,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-23 13:43:58.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/485c4650be8bdef45ce0f047145a40c47033ac6e', 'message': 'Enable py36 testing\n\nChange-Id: Ied4302a6e7cd9a3a556d8f1082cfb5a80cd9b3cf\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,584889,485c4650be8bdef45ce0f047145a40c47033ac6e,5,2,1,8099,,,0,"Enable py36 testing

Change-Id: Ied4302a6e7cd9a3a556d8f1082cfb5a80cd9b3cf
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/89/584889/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,485c4650be8bdef45ce0f047145a40c47033ac6e,,"envlist = py35,py36,py27,flake8","envlist = py35,py27,flake8",3,1
openstack%2Fglance~master~I8f980cf7731d26b92b5392fdada21e5be0f541c4,openstack/glance,master,I8f980cf7731d26b92b5392fdada21e5be0f541c4,Add a release note for secure RBAC personas,MERGED,2021-03-06 04:36:09.000000000,2021-03-09 21:56:15.000000000,2021-03-09 21:50:50.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-06 04:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c865457e8bb7ca0f1cf1488ef68234cf626188c', 'message': 'Add a release note for secure RBAC project personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}, {'number': 2, 'created': '2021-03-08 14:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b65448d49c896860512e8f5243307cacf44d2350', 'message': 'Add a release note for secure RBAC project personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}, {'number': 3, 'created': '2021-03-09 17:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/03fb80faeafb7ae0c5db160e46c6f9f1dfc2be03', 'message': 'Add a release note for secure RBAC project personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}, {'number': 4, 'created': '2021-03-09 17:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1ca0b098d4cadacc99f77d64efe5564b6098b5fb', 'message': 'Add a release note for secure RBAC personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take. Since\nthis marks the point at which we consider the feature implemented,\nthis also removes the legacy-rbac job and makes the secure-rbac job\nvoting.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}, {'number': 5, 'created': '2021-03-09 17:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dd96ff3342fc3b61e6962c3799dbedd7d74d2121', 'message': 'Add a release note for secure RBAC personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take. Since\nthis marks the point at which we consider the feature implemented,\nthis also removes the legacy-rbac job and makes the secure-rbac job\nvoting.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}, {'number': 6, 'created': '2021-03-09 17:51:57.000000000', 'files': ['releasenotes/notes/secure-rbac-project-personas-fb0d9792b9dc3783.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/aec2de7ffd21fb553114c9f27a260062cafbc3b8', 'message': 'Add a release note for secure RBAC personas\n\nProvide some literature on what we introduced for operators in wallaby,\nhow they can configure it, and actions we recommend they take. Since\nthis marks the point at which we consider the feature implemented,\nthis also removes the legacy-rbac job and makes the secure-rbac job\nvoting.\n\nImplements: blueprint secure-rbac\nChange-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4\n'}]",5,779070,aec2de7ffd21fb553114c9f27a260062cafbc3b8,24,3,6,5046,,,0,"Add a release note for secure RBAC personas

Provide some literature on what we introduced for operators in wallaby,
how they can configure it, and actions we recommend they take. Since
this marks the point at which we consider the feature implemented,
this also removes the legacy-rbac job and makes the secure-rbac job
voting.

Implements: blueprint secure-rbac
Change-Id: I8f980cf7731d26b92b5392fdada21e5be0f541c4
",git fetch https://review.opendev.org/openstack/glance refs/changes/70/779070/6 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/secure-rbac-project-personas-fb0d9792b9dc3783.yaml'],1,5c865457e8bb7ca0f1cf1488ef68234cf626188c,secure-rbac,"--- features: - | Glance's default policies now use the `member` role on projects to protect writeable and readable image actions. Support was also added for read-only access to image resources when the `reader` role is granted to users on a project. Administrative operations, like creating public images, is still protected using the `admin` role on a project. Administrative actions will be updated in the future to consume system-scope. We encourage you to compare any existing overrides in your deployment with the new defaults. You can use `oslopolicy-sample-generator --namespace glance` to generate the default policies and use them for comparison. The secure RBAC personas implemented in Wallaby are marked as experimental. They will become stable in a future release. You can read more about the various personas in keystone's `Administrator Guide <https://docs.openstack.org/keystone/latest/admin/service-api-protection.html>`_. To enable this functionality, you must to specify `glance-api.conf [DEFAULT] enable_secure_rbac=True` and `glance-api.conf [oslo_policy] enforce_new_defaults=True`. Glance will refuse to start if misconfigured. upgrade: - | Glance now provides more granular RBAC access to the images API via default personas. This work is marked as experimental in Wallaby, and will be supported in a future release. Existing authorization and policies will continue to work, but we encourage operators to review the new policies and consolidate any redundant overrides with the new defaults if possible. Please review the feature section above for more details. deprecations: - | The policies protecting the image API have been deprecated in favor of more consistent defaults that use the `member` and `reader` default roles from keystone. If your deployment relies on overriding the default policies, please review the new defaults and how they may impact your deployment. The task API policies (e.g., `add_task`, `get_task`, `get_tasks`, and `modify_task`) have been deprecated for removal. They were only invoked after an initial policy check took place, making them less useful and allowing opportunities for strange cascading failures if misconfigured. As a result, they've been deprecated for removal since overriding them has no direct impact on the tasks API, which remains a deprecated, admin-only API. security: - | Glance now ships experimental policies that support read-only image permissions. Users with the `reader` role on a project will be able to view generic image data, without the ability to make writeable changes using the images API. Please review the features section above for more information on enabling this functionality. ",,52,0
openstack%2Fdesignate~master~I81e7ee3243af11ebb3589f530533731b87178a96,openstack/designate,master,I81e7ee3243af11ebb3589f530533731b87178a96,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-13 01:03:32.000000000,2021-03-09 21:56:06.000000000,2021-03-09 21:54:28.000000000,"[{'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-12-13 01:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9c147f01d1c61ec93a39e32f3ca39ec50fbcb48a', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 2, 'created': '2020-12-14 22:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c1b1c2e7b7517c7df7071bc15196f50142ca7fb6', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 3, 'created': '2020-12-15 18:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e3439c6d411bfa9f2045fde21ea754fa188cc4a5', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 4, 'created': '2021-03-07 00:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cb7580cb27cf902f3a5cbf7af35e0e494b07fae7', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 5, 'created': '2021-03-08 01:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/15dd5620f60a464f89fde274a817ae3e7d29582d', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 6, 'created': '2021-03-08 22:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e2286ce770ca67293b183ee3cfc36e5a2c02ba03', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}, {'number': 7, 'created': '2021-03-09 01:28:31.000000000', 'files': ['designate/tests/unit/mdns/test_service.py', 'designate/tests/unit/workers/test_service.py', 'lower-constraints.txt', 'doc/source/admin/policy.rst', 'designate/common/config.py', 'doc/source/admin/backends/msdns_agent.rst', 'releasenotes/notes/deprecate-json-formatted-policy-file-a6a464a8d35e02a5.yaml', 'doc/source/admin/quotas.rst', 'designate/tests/unit/test_central/test_basic.py', 'requirements.txt', 'designate/policy.py', 'designate/cmd/status.py', 'doc/source/contributor/gmr.rst', 'designate/tests/unit/sink/test_notifications.py', 'designate/tests/unit/producer/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1c0bd99c08e76fdfc0b573322dc858a175b61dbe', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I81e7ee3243af11ebb3589f530533731b87178a96\n""}]",10,766843,1c0bd99c08e76fdfc0b573322dc858a175b61dbe,41,5,7,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I81e7ee3243af11ebb3589f530533731b87178a96
",git fetch https://review.opendev.org/openstack/designate refs/changes/43/766843/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/quotas.rst', 'requirements.txt', 'designate/policy.py', 'designate/cmd/status.py', 'lower-constraints.txt', 'doc/source/admin/policy.rst', 'doc/source/contributor/gmr.rst', 'designate/common/config.py', 'doc/source/admin/backends/msdns_agent.rst', 'releasenotes/notes/deprecate-json-formatted-policy-file-a6a464a8d35e02a5.yaml']",10,9c147f01d1c61ec93a39e32f3ca39ec50fbcb48a,policy-json-to-yaml,"--- upgrade: - | The default value of ``[oslo_policy] policy_file`` config option has been changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing customized or previously generated static policy JSON files (which are not needed by default), should generate new policy files or convert them in YAML format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to convert a JSON to YAML formatted policy file in backward compatible way. deprecations: - | Use of JSON policy files was deprecated by the ``oslo.policy`` library during the Victoria development cycle. As a result, this deprecation is being noted in the Wallaby cycle with an anticipated future removal of support by ``oslo.policy``. As such operators will need to convert to YAML policy files. Please see the upgrade notes for details on migration of any custom policy files. ",,49,8
openstack%2Frequirements~master~Ib72800f13e33a21cdacb99646ba50577514663fd,openstack/requirements,master,Ib72800f13e33a21cdacb99646ba50577514663fd,Updated from generate-constraints,MERGED,2021-03-09 06:35:45.000000000,2021-03-09 21:55:57.000000000,2021-03-09 21:50:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 06:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/801dec176afe20d7f5162ece9242b1bebc13a66e', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib72800f13e33a21cdacb99646ba50577514663fd\n'}, {'number': 2, 'created': '2021-03-09 16:25:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bb252d7ee78abd31c3ee3dd5e9ec724ccc3919f7', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib72800f13e33a21cdacb99646ba50577514663fd\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,779430,bb252d7ee78abd31c3ee3dd5e9ec724ccc3919f7,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ib72800f13e33a21cdacb99646ba50577514663fd
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/779430/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,801dec176afe20d7f5162ece9242b1bebc13a66e,openstack/requirements/constraints/noclob,waitress===2.0.0defusedxml===0.7.1boto3===1.17.23botocore===1.20.23pkg-resources===0.0.0tenacity===7.0.0,waitress===1.4.4defusedxml===0.7.0boto3===1.17.22botocore===1.20.22tenacity===6.3.1setuptools===54.1.1,6,6
openstack%2Fdevstack~master~I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,openstack/devstack,master,I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946,Add a variable to configure the Tempest venv upper constraints,MERGED,2021-02-09 19:07:41.000000000,2021-03-09 21:54:50.000000000,2021-03-09 21:50:25.000000000,"[{'_account_id': 5689}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-09 19:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08717cf07a3ba071626dc4594d2ad7961c02b491', 'message': 'Add variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in below cases then master\nupper constraints does not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintainence branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a varible to set the compatible upper constraint\nto use for Temepst old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n'}, {'number': 2, 'created': '2021-02-09 19:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1adcdf63aae218e69e0c62d8a312255fd3eb4908', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 3, 'created': '2021-02-11 00:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/322f9729aa2449cd26843915c49a7c54def24488', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 4, 'created': '2021-02-16 16:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d3ea59a69dcdc5934045d650931923632a4caf71', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 5, 'created': '2021-02-16 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5e60538a1e7d88a518ca74cb7ba733a9301c290', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 6, 'created': '2021-02-17 15:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c8a89930965f7f2293f2443d7224c00f031a4734', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 7, 'created': '2021-02-18 16:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3639f724ade69f0601057b243041c49d17affa2d', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}, {'number': 8, 'created': '2021-02-20 20:05:45.000000000', 'files': ['lib/tempest', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3bdc8f66ad243f7487ba494e6a71f63c4965413a', 'message': ""Add a variable to configure the Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches so using master upper constraints works fine but\nwhen we need to use old Tempest in the below cases then master\nupper constraints do not work and devstack will not be\nable to install Tempest in vnenv:\n\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nThis commit adds a variable to set the compatible upper constraint\nto use for Tempest's old version.\n\nFew of the current failure which can be fixed by this new configurable var:\n- networking-generic-switch-tempest-dlm-python2\n  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556\n- devstack-platform-xenial on stable/steinand stable/train\n  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac\n\nChange-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946\n""}]",11,774711,3bdc8f66ad243f7487ba494e6a71f63c4965413a,36,6,8,8556,,,0,"Add a variable to configure the Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches so using master upper constraints works fine but
when we need to use old Tempest in the below cases then master
upper constraints do not work and devstack will not be
able to install Tempest in vnenv:

- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

This commit adds a variable to set the compatible upper constraint
to use for Tempest's old version.

Few of the current failure which can be fixed by this new configurable var:
- networking-generic-switch-tempest-dlm-python2
  - https://zuul.opendev.org/t/openstack/build/ebcf3d68d62c4af3a43a222aa9ce5556
- devstack-platform-xenial on stable/steinand stable/train
  - https://zuul.opendev.org/t/openstack/build/37ffc1af6f3f4b44b5ca8cbfa27068ac

Change-Id: I5b2217d85e6871ca3f7a3f6f859fdce9a50d3946
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/774711/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stackrc']",2,08717cf07a3ba071626dc4594d2ad7961c02b491,standardize-tempest-tox-constraints,TEMPEST_VENV_UPPER_CONSTRAINTS=${TEMPEST_VENV_UPPER_CONSTRAINTS:-default},,23,3
openstack%2Ftempest~master~I6e05fbe21b29efa128fb59d16bf521d551b00304,openstack/tempest,master,I6e05fbe21b29efa128fb59d16bf521d551b00304,Remove the unused _api_version variable from volume tests,MERGED,2019-12-12 17:21:56.000000000,2021-03-09 21:54:33.000000000,2021-03-09 21:50:08.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-12-12 17:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f93f78cb57e579ceed5d5dd6106f5a30d4fb7893', 'message': 'Remove the unused _api_version variable from volume tests\n\nthis variable was used to skip the v2 or v3 volume API test\nbased on below config options\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nNow those config options were deprecated and are going\nto be removed from Tempest.\n\nVolume tests run has been default to v3 and can be run against\nv2 API via catalog_type config options. Any microversion\ntests which cannot be run against v2 APIs will be skipped\nby separate check of check_skip_with_microversion.\n\nChange-Id: I6e05fbe21b29efa128fb59d16bf521d551b00304\n'}, {'number': 2, 'created': '2020-12-29 22:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/620108b1e177197cd2d9c540e31a211190f08802', 'message': 'Remove the unused _api_version variable from volume tests\n\nthis variable was used to skip the v2 or v3 volume API test\nbased on below config options\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nNow those config options were deprecated and are going\nto be removed from Tempest.\n\nVolume tests run has been default to v3 and can be run against\nv2 API via catalog_type config options. Any microversion\ntests which cannot be run against v2 APIs will be skipped\nby separate check of check_skip_with_microversion.\n\nChange-Id: I6e05fbe21b29efa128fb59d16bf521d551b00304\n'}, {'number': 3, 'created': '2020-12-30 00:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6a9a0b1f7ce4f47caaedca62edd400a1ca5798c', 'message': 'Remove the unused _api_version variable from volume tests\n\nthis variable was used to skip the v2 or v3 volume API test\nbased on below config options\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nNow those config options were deprecated and are going\nto be removed from Tempest.\n\nVolume tests run has been default to v3 and can be run against\nv2 API via catalog_type config options. Any microversion\ntests which cannot be run against v2 APIs will be skipped\nby separate check of check_skip_with_microversion.\n\nChange-Id: I6e05fbe21b29efa128fb59d16bf521d551b00304\n'}, {'number': 4, 'created': '2021-01-06 17:36:44.000000000', 'files': ['tempest/api/volume/admin/test_group_types.py', 'tempest/api/volume/test_volumes_extend.py', 'tempest/api/volume/admin/test_groups.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_group_snapshots.py', 'tempest/api/volume/admin/test_group_type_specs.py', 'tempest/api/volume/base.py', 'tempest/api/volume/test_volumes_get.py', 'tempest/api/volume/test_versions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed2e3b5a562180313607b995906db8faa9786417', 'message': 'Remove the unused _api_version variable from volume tests\n\nthis variable was used to skip the v2 or v3 volume API test\nbased on below config options\n    * ``CONF.volume-feature-enabled.api_v2``\n    * ``CONF.volume-feature-enabled.api_v3``\n\nNow those config options were deprecated and are going\nto be removed from Tempest.\n\nVolume tests run has been default to v3 and can be run against\nv2 API via catalog_type config options. Any microversion\ntests which cannot be run against v2 APIs will be skipped\nby separate check of check_skip_with_microversion.\n\nChange-Id: I6e05fbe21b29efa128fb59d16bf521d551b00304\n'}]",1,698773,ed2e3b5a562180313607b995906db8faa9786417,21,4,4,8556,,,0,"Remove the unused _api_version variable from volume tests

this variable was used to skip the v2 or v3 volume API test
based on below config options
    * ``CONF.volume-feature-enabled.api_v2``
    * ``CONF.volume-feature-enabled.api_v3``

Now those config options were deprecated and are going
to be removed from Tempest.

Volume tests run has been default to v3 and can be run against
v2 API via catalog_type config options. Any microversion
tests which cannot be run against v2 APIs will be skipped
by separate check of check_skip_with_microversion.

Change-Id: I6e05fbe21b29efa128fb59d16bf521d551b00304
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/698773/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_group_types.py', 'tempest/api/volume/test_volumes_extend.py', 'tempest/api/volume/admin/test_groups.py', 'tempest/api/volume/test_volumes_backup.py', 'tempest/api/volume/admin/test_user_messages.py', 'tempest/api/volume/admin/test_group_snapshots.py', 'tempest/api/volume/admin/test_group_type_specs.py', 'tempest/api/volume/base.py', 'tempest/api/volume/test_volumes_get.py', 'tempest/api/volume/test_versions.py']",10,f93f78cb57e579ceed5d5dd6106f5a30d4fb7893,cleanup_api_version,, _api_version = 3 ,0,14
openstack%2Fmanila~master~I4cf32c049300ec5e163b0c28025d60de4f0654ad,openstack/manila,master,I4cf32c049300ec5e163b0c28025d60de4f0654ad,Part 3 - Add RBAC protection tests,NEW,2021-03-09 15:18:05.000000000,2021-03-09 21:33:15.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 15:18:05.000000000', 'files': ['manila/tests/policies/test_share_group_snapshot.py', 'manila/tests/policies/test_share_group_types_spec.py', 'manila/tests/policies/legacy_rbac/share_group.yaml', 'manila/tests/policies/test_share_group.py', 'manila/tests/policies/legacy_rbac/share_group_types_spec.yaml', 'manila/tests/policies/test_share_group_type.py', 'manila/tests/policies/legacy_rbac/share_group_snapshot.yaml', 'manila/tests/policies/legacy_rbac/share_group_type.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/799a0a12feaaee1b63660d135756534851a4ea33', 'message': 'Part 3 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- share groups (GET, POST, PUT, DELETE)\n- share group snapshots (GET, POST, PUT, DELETE)\n- share group types (GET, POST, DELETE)\n- share group type specs (GET, POST, PUT, DELETE)\n\nChange-Id: I4cf32c049300ec5e163b0c28025d60de4f0654ad\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,779507,799a0a12feaaee1b63660d135756534851a4ea33,5,2,1,16643,,,0,"Part 3 - Add RBAC protection tests

This change enforces API policy
scenarios with unit testing and ddt.
It uses keystone middleware unlike
existing policy tests that use the
noauth middleware.

These tests should serve as protection
tests when making policy/API changes.

This change adds tests for the following
API groups:
- share groups (GET, POST, PUT, DELETE)
- share group snapshots (GET, POST, PUT, DELETE)
- share group types (GET, POST, DELETE)
- share group type specs (GET, POST, PUT, DELETE)

Change-Id: I4cf32c049300ec5e163b0c28025d60de4f0654ad
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/779507/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/policies/test_share_group_snapshot.py', 'manila/tests/policies/test_share_group_types_spec.py', 'manila/tests/policies/legacy_rbac/share_group.yaml', 'manila/tests/policies/test_share_group.py', 'manila/tests/policies/legacy_rbac/share_group_types_spec.yaml', 'manila/tests/policies/test_share_group_type.py', 'manila/tests/policies/legacy_rbac/share_group_snapshot.yaml', 'manila/tests/policies/legacy_rbac/share_group_type.yaml']",8,799a0a12feaaee1b63660d135756534851a4ea33,secure-rbac,"# list/index API project_member_can_list_share_group_types: path: share-group-types method: GET expected_status: 200 headers: &project_member_headers X-Auth-Token: project-member-token X-Roles: member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: c8a3aebaf8a44589b102693efdd53d94 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.55' project_admin_can_list_share_group_types: path: share-group-types method: GET expected_status: 200 headers: &project_admin_headers X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.55' # show/get API project_member_can_get_public_share_group_type: path: share-group-types/${public_share_group_type} method: GET expected_status: 200 headers: *project_member_headers project_member_can_get_private_share_group_type_they_have_access_to: path: share-group-types/${private_share_group_type_with_access} method: GET expected_status: 200 headers: *project_member_headers project_member_cant_get_private_share_group_type_they_dont_have_access_to: path: share-group-types/${private_share_group_type_no_access} method: GET expected_status: 404 headers: *project_member_headers project_admin_can_get_public_share_group_type: path: share-group-types/${public_share_group_type} method: GET expected_status: 200 headers: *project_admin_headers project_admin_can_get_private_share_group_type_they_have_access_to: path: share-group-types/${private_share_group_type_with_access} method: GET expected_status: 200 headers: *project_admin_headers project_admin_can_get_private_share_group_type_they_dont_have_access_to: path: share-group-types/${private_share_group_type_no_access} method: GET expected_status: 200 headers: *project_admin_headers # default/get API project_member_can_get_default_share_group_type: path: share-group-types/default method: GET expected_status: 200 headers: *project_member_headers project_admin_can_get_default_share_group_type: path: share-group-types/default method: GET expected_status: 200 headers: *project_admin_headers # create API project_member_cant_create_share_group_type: path: share-group-types method: POST expected_status: 403 body: share_group_type: name: test_share_group_type description: test share group by member share_types: default headers: *project_member_headers project_admin_can_create_share_group_type: path: share-group-types method: POST expected_status: 200 body: share_group_type: name: test_share_group_type description: test share group by admin share_types: [default] headers: *project_admin_headers # delete API project_member_cant_delete_a_public_share_group_type: path: share-group-types/${public_share_group_type} method: DELETE expected_status: 403 headers: *project_member_headers project_member_cant_delete_private_share_group_type_they_have_access_to: path: share-group-types/${private_share_group_type_with_access} method: DELETE expected_status: 403 headers: *project_member_headers project_member_cant_delete_private_share_group_type_they_dont_have_access_to: path: share-group-types/${private_share_group_type_no_access} method: DELETE expected_status: 403 headers: *project_member_headers project_admin_can_delete_a_public_share_group_type: path: share-group-types/${public_share_group_type} method: DELETE expected_status: 204 headers: *project_admin_headers project_admin_can_delete_private_share_group_type_they_have_access_to: path: share-group-types/${private_share_group_type_with_access} method: DELETE expected_status: 204 headers: *project_admin_headers project_admin_can_delete_private_share_group_type_they_dont_have_access_to: path: share-group-types/${private_share_group_type_with_access} method: DELETE expected_status: 204 headers: *project_admin_headers # list_project_access API project_member_cant_list_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/access method: GET expected_status: 403 headers: *project_member_headers project_admin_can_list_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/access method: GET expected_status: 200 headers: *project_admin_headers # add_project_access API project_member_cant_add_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/action method: POST expected_status: 403 body: addProjectAccess: project: 79d0ea8b3dea49ee8d8c915436b9b130 headers: *project_member_headers project_admin_can_add_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/action method: POST expected_status: 202 body: addProjectAccess: project: 79d0ea8b3dea49ee8d8c915436b9b130 headers: *project_admin_headers # delete_project_access API project_member_cant_delete_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/action method: POST expected_status: 403 body: removeProjectAccess: project: 2028f57890044c44a1bff36981e2ec5f headers: *project_member_headers project_admin_can_delete_project_access_on_share_group_type: path: share-group-types/${private_share_group_type_with_access}/action method: POST expected_status: 202 body: removeProjectAccess: project: 2028f57890044c44a1bff36981e2ec5f headers: *project_admin_headers ",,1019,0
openstack%2Ftripleo-ansible~master~Ia1267d73aa8e34cdd3cd7e697a21c84752185e02,openstack/tripleo-ansible,master,Ia1267d73aa8e34cdd3cd7e697a21c84752185e02,Baremetal deploy - add network_config schema,MERGED,2021-01-25 15:34:38.000000000,2021-03-09 21:15:49.000000000,2021-03-09 21:14:10.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/707db873d0c4034d0d167ab25a1824027274d894', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}, {'number': 2, 'created': '2021-01-25 18:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0893426ca02c63a2096ea2be31079e21793df3c2', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}, {'number': 3, 'created': '2021-01-27 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cee55f5fee32173ae2d703f835faa93c378376e2', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}, {'number': 4, 'created': '2021-02-03 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd124a792d2c23b1b49190b826bd54d2390b03a3', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}, {'number': 5, 'created': '2021-02-10 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc4ed632c7509f3fa77c3cbf847f9ce35a62b222', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}, {'number': 6, 'created': '2021-03-07 11:40:06.000000000', 'files': ['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2468b01b47e4076967528a8b52143721b833f270', 'message': 'Baremetal deploy - add network_config schema\n\nAdds support for role/instance network_config in\nthe baremetal deploy yaml definition.\n\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02\n'}]",0,772359,2468b01b47e4076967528a8b52143721b833f270,24,6,6,24245,,,0,"Baremetal deploy - add network_config schema

Adds support for role/instance network_config in
the baremetal deploy yaml definition.

Partial-Implements: blueprint network-data-v2-ports
Change-Id: Ia1267d73aa8e34cdd3cd7e697a21c84752185e02
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/772359/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",2,707db873d0c4034d0d167ab25a1824027274d894,network-data-v2,"_NETWORK_CONFIG_SCHEMA = { 'type': 'object', 'properties': { 'template': {'type': 'string'}, 'physical_bridge_name': {'type': 'string'}, 'public_interface_name': {'type': 'string'}, 'network_deployment_actions': { 'type': 'array', 'items': {'type': 'string', 'enum': ['CREATE', 'UPDATE']} }, 'net_config_data_lookup': {'type': 'object'}, 'default_route_network': { 'type': 'array', 'items': {'type': 'string'}, }, 'networks_skip_config': { 'type': 'array', 'items': {'type': 'string'} }, 'dns_search_domains': {'type': 'string'}, }, 'additionalProperties': False } 'network_config': _NETWORK_CONFIG_SCHEMA, default_network=None, user_name=None, ssh_public_keys=None, default_network_config=None): if default_network_config: default_network_config = defaults.setdefault('network_config', {}) merge_network_config_defaults(defaults, inst)def merge_network_config_defaults(defaults, instance): d_network_config = defaults.get('network_config', {}) i_network_config = instance.get('network_config', {}) if not d_network_config: return # only merge network_config not already defined on the instance for k, v in d_network_config.items(): i_network_config.setdefault(k, v) "," default_network=None, user_name=None, ssh_public_keys=None):",57,1
openstack%2Fnova~master~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,master,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,MERGED,2021-02-12 21:51:02.000000000,2021-03-09 21:11:52.000000000,2021-03-09 21:04:06.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 21:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd99f480ce8b6fa9272b0dad81b5de0fdaa58422', 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n""}, {'number': 2, 'created': '2021-03-04 23:51:45.000000000', 'files': ['nova/tests/functional/db/test_archive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4e53f832792cc49001f1588164e28b84c16d7a', 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n""}]",5,775449,3d4e53f832792cc49001f1588164e28b84c16d7a,22,3,2,4690,,,0,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/775449/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_archive.py'],1,cd99f480ce8b6fa9272b0dad81b5de0fdaa58422,bug/1837995," def test_archive_deleted_rows_incomplete(self): """"""This tests a scenario where archive_deleted_rows is run with --max_rows and does not run to ""completion"". That is, the archive is stopped before all archivable records have been archived. We want to verify, for example, that we can successfully do a GET /servers/detail at any point between archive_deleted_rows runs without errors. """""" # Boots a server, deletes it, and then tries to archive it. server = self._create_server() server_id = server['id'] # Assert that there are instance_actions. instance_actions are # interesting since we don't soft delete them but they have a foreign # key back to the instances table. actions = self.api.get_instance_actions(server_id) self.assertTrue(len(actions), 'No instance actions for server: %s' % server_id) self._delete_server(server) # Archive deleted records iteratively, 1 row at a time, and try to do a # GET /servers/detail between each run. All should succeed. exceptions = [] while True: _, _, archived = db.archive_deleted_rows(max_rows=1) try: # Need to use the admin API to list deleted servers. self.admin_api.get_servers(search_opts={'deleted': True}) except Exception as ex: exceptions.append(ex) if archived == 0: break # FIXME(melwitt): OrphanedObjectError is raised because of the bug. self.assertTrue(exceptions) for ex in exceptions: self.assertEqual(500, ex.response.status_code) self.assertIn('OrphanedObjectError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self.assertFalse(exceptions) ",,37,0
openstack%2Fnova~master~Ic2d5a1ec53d2f787907deafbf598ba581e6f2f65,openstack/nova,master,Ic2d5a1ec53d2f787907deafbf598ba581e6f2f65,Differentiate between InstanceNotFound and ConstraintNotMet,MERGED,2021-02-12 02:34:33.000000000,2021-03-09 21:08:26.000000000,2021-03-09 21:03:12.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 02:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/424e93e873ac5ed86901b57a3a0f7c8342fe28dc', 'message': 'WIP Differentiate between InstanceNotFound and ConstraintNotMet\n\nRelated-Bug: #1914777\n\nChange-Id: Ic2d5a1ec53d2f787907deafbf598ba581e6f2f65\n'}, {'number': 2, 'created': '2021-03-05 22:54:40.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/598e247437618a1832b6ea2e5d35ad07f0ef58fe', 'message': 'Differentiate between InstanceNotFound and ConstraintNotMet\n\nIn the DB API instance_destroy method, we have logic that assumes that\nif a soft_delete() call returns 0 rows, it must mean that a query\nconstraint was not met and it raises ConstraintNotMet.\n\nThere is however another reason soft_delete() can return 0 rows: if the\ninstance record has already been deleted by a racing request. In this\ncase, raising ConstraintNotMet is wrong and could cause incorrect\nexception handling or be misleading when trying to debug issues.\n\nThis adds a check for the existence of the instance record when\nsoft_delete() returns 0 so that InstanceNotFound will be raised if the\ninstance record is gone, else ConstraintNotMet will be raised.\n\nRelated-Bug: #1914777\nCloses-Bug: #1917945\n\nChange-Id: Ic2d5a1ec53d2f787907deafbf598ba581e6f2f65\n'}]",0,775309,598e247437618a1832b6ea2e5d35ad07f0ef58fe,17,3,2,4690,,,0,"Differentiate between InstanceNotFound and ConstraintNotMet

In the DB API instance_destroy method, we have logic that assumes that
if a soft_delete() call returns 0 rows, it must mean that a query
constraint was not met and it raises ConstraintNotMet.

There is however another reason soft_delete() can return 0 rows: if the
instance record has already been deleted by a racing request. In this
case, raising ConstraintNotMet is wrong and could cause incorrect
exception handling or be misleading when trying to debug issues.

This adds a check for the existence of the instance record when
soft_delete() returns 0 so that InstanceNotFound will be raised if the
instance record is gone, else ConstraintNotMet will be raised.

Related-Bug: #1914777
Closes-Bug: #1917945

Change-Id: Ic2d5a1ec53d2f787907deafbf598ba581e6f2f65
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/775309/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,424e93e873ac5ed86901b57a3a0f7c8342fe28dc,bug/1914777," # The failure to soft delete could be due to one of two things: # 1) A racing request has deleted the instance out from under us # 2) A constraint was not met # Try to read the instance back once more and let it raise # InstanceNotFound if 1) happened. This will give the caller an error # that more accurately reflects the reason for the failure. _instance_get_by_uuid(context, instance_uuid) # Else, raise ConstraintNotMet if 2) happened.",,8,0
openstack%2Fcinder~master~I01ccc1acedb776cd4e2344cdc6adad167023c4f9,openstack/cinder,master,I01ccc1acedb776cd4e2344cdc6adad167023c4f9,[Storwize] Provide IOPS based storage offering,MERGED,2020-09-07 16:00:29.000000000,2021-03-09 21:07:00.000000000,2021-03-09 21:02:08.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13002}, {'_account_id': 14384}, {'_account_id': 14806}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31980}, {'_account_id': 32036}, {'_account_id': 32159}, {'_account_id': 32266}]","[{'number': 1, 'created': '2020-09-07 16:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95364d45cbb49ed5d88b62def0277a218255de42', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionalities to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\ncloses bug #1894734\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 2, 'created': '2020-09-14 14:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8523bc3624940e2639bf49354a98f1f870742c13', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionalities to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\ncloses bug #1894734\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 3, 'created': '2020-09-25 17:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96626ba8826944d3f345b09defc2bb8ab6d8a874', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionalities to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 4, 'created': '2021-02-16 15:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edcf3dba3f9768f7bc3a77dac5b9bf79e2981259', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionality to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 5, 'created': '2021-02-16 15:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f860bfdf1d35ac30609ed37537ffde6f78f0aab8', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionality to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 6, 'created': '2021-02-17 04:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a60657ac8d94161c386cd7b7f1f7139ada020ce2', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionality to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 7, 'created': '2021-02-18 07:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce9cc514e6b3f9f0d94e0a4b91298c4cac356b2b', 'message': '[Storwize] Provide IOPS based storage offering\n\nThe added functionality to IBM Storwize cinder driver\nreturn throttle rate of max IOPS and max Bandwidth of\nall vidsks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 8, 'created': '2021-02-18 07:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff9594d1d8eb6557028e383e1c9e9973fb811c6d', 'message': '[Storwize] Provide IOPS based storage offering\n\nAdded fucntionality that returns throttle rate of maximum\nIOPS and bandwidth of all VDisks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}, {'number': 9, 'created': '2021-03-04 04:51:46.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/ibm-svf-provide-IOPs-based-storage-offering-1b7532f42fd6d76e.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cead51cea86166a59c3301799c6e5294f4bc863b', 'message': '[Storwize] Provide IOPS based storage offering\n\nAdded fucntionality that returns throttle rate of maximum\nIOPS and bandwidth of all VDisks of a specified storage pool.\n\nChange-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9\n'}]",15,750199,cead51cea86166a59c3301799c6e5294f4bc863b,277,37,9,32266,,,0,"[Storwize] Provide IOPS based storage offering

Added fucntionality that returns throttle rate of maximum
IOPS and bandwidth of all VDisks of a specified storage pool.

Change-Id: I01ccc1acedb776cd4e2344cdc6adad167023c4f9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/750199/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,95364d45cbb49ed5d88b62def0277a218255de42,get_max_throttle_rate," def lsthrottle(self): """"""Returns throttle objects for all vdisks."""""" ssh_cmd = ['lsthrottle', '-delim', '!', '-filtervalue', 'throttle_type=vdisk'] return self.run_ssh_info(ssh_cmd, with_header=True) def get_volpool_max_iops_vdisk(self, pool): """"""Returns IOPS throttle rate for vdisks for the specified pool."""""" throttles = self.ssh.lsthrottle() vdisks = self.get_pool_volumes(pool) vdisk_names = [] for vdisk in vdisks: vdisk_names.append(vdisk['name']) max_iops_vdisk = 0 for throttle in throttles.result: if throttle['object_name'] in vdisk_names: if throttle['IOPs_limit']: max_iops_vdisk += int(throttle['IOPs_limit']) return max_iops_vdisk def get_volpool_max_bandwidth_vdisk(self, pool): """"""Returns Bandwidth throttle rate of vdisks for the specified pool."""""" throttles = self.ssh.lsthrottle() vdisks = self.get_pool_volumes(pool) vdisk_names = [] for vdisk in vdisks: vdisk_names.append(vdisk['name']) max_bandwidth_vdisk = 0 for throttle in throttles.result: if throttle['object_name'] in vdisk_names: if throttle['bandwidth_limit_MB']: max_bandwidth_vdisk += int(throttle['bandwidth_limit_MB']) return max_bandwidth_vdisk ",,39,0
openstack%2Fcharm-hacluster~master~I120198ad8f648e002b78756d621fae5754e845ce,openstack/charm-hacluster,master,I120198ad8f648e002b78756d621fae5754e845ce,Add hostname to 'status' action,ABANDONED,2021-03-09 01:14:39.000000000,2021-03-09 20:58:19.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 01:14:39.000000000', 'files': ['actions/actions.py', 'unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a93a7f4efece32f1111ab51d345de651fc91ddb2', 'message': ""Add hostname to 'status' action\n\nWithout LP:#1918204 being solved for all implementations, we do need to\nknow the hostname of a machine/unit when reviewing the cluster status\noutput.  This adds the hostname to action output for 'status'.\n\nRelated-Bug: #1918196\nChange-Id: I120198ad8f648e002b78756d621fae5754e845ce\n""}]",0,779411,a93a7f4efece32f1111ab51d345de651fc91ddb2,5,2,1,10086,,,0,"Add hostname to 'status' action

Without LP:#1918204 being solved for all implementations, we do need to
know the hostname of a machine/unit when reviewing the cluster status
output.  This adds the hostname to action output for 'status'.

Related-Bug: #1918196
Change-Id: I120198ad8f648e002b78756d621fae5754e845ce
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/11/779411/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'unit_tests/test_actions.py']",2,a93a7f4efece32f1111ab51d345de651fc91ddb2,bug/1918204,"# Copyright 2021 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock import unittest import actions class ActionsTestCase(unittest.TestCase): @mock.patch('socket.gethostname') @mock.patch('actions.action_set') @mock.patch('actions.subprocess.check_output') def test_status(self, mock_subprocess, mock_action_set, mock_hostname): mock_hostname.return_value = 'mockhost' status_output = b'mock_status_string' mock_subprocess.return_value = status_output expected_result = {'result': status_output.decode('utf-8'), 'hostname': 'mockhost', } actions.status(None) mock_action_set.assert_called_with(expected_result) ",,41,2
openstack%2Fnova~master~Ie2f4e093e818ca4b37b787e129983afe6e66db23,openstack/nova,master,Ie2f4e093e818ca4b37b787e129983afe6e66db23,conf: Clean up docs for scheduler options,MERGED,2021-02-02 11:28:48.000000000,2021-03-09 20:57:00.000000000,2021-03-09 20:41:26.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df6baac0dd3948b6f5b72e0c6aa2380463fde66d', 'message': 'conf: Clean up docs for scheduler options\n\nFix some incorrect names, add some additional notes and generally make\neverything better.\n\nChange-Id: Ie2f4e093e818ca4b37b787e129983afe6e66db23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-02-09 17:28:54.000000000', 'files': ['nova/conf/scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/737cae76e4c7c08e94a5bfe3288641e03e9e7023', 'message': 'conf: Clean up docs for scheduler options\n\nFix some incorrect names, add some additional notes and generally make\neverything better.\n\nChange-Id: Ie2f4e093e818ca4b37b787e129983afe6e66db23\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",4,773639,737cae76e4c7c08e94a5bfe3288641e03e9e7023,65,3,2,15334,,,0,"conf: Clean up docs for scheduler options

Fix some incorrect names, add some additional notes and generally make
everything better.

Change-Id: Ie2f4e093e818ca4b37b787e129983afe6e66db23
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/773639/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/scheduler.py'],1,df6baac0dd3948b6f5b72e0c6aa2380463fde66d,remove-custom-schedulers,"scheduler_group = cfg.OptGroup( name=""scheduler"", title=""Scheduler configuration"")The maximum number of schedule attempts. scheduler. When that list of hosts is exhausted, a ``MaxRetriesExceeded``""""""), default=-1, min=-1, help="""""" Possible values: * An integer, where the integer corresponds to periodic task interval in seconds. 0 uses the default interval (60 seconds). A negative value disables periodic tasks. default=1000, min=1, help="""""" The maximum number of placement results to request. Possible values: * An integer, where the integer corresponds to the number of placement results to return.Number of workers for the nova-scheduler service. Defaults to the number of CPUs available. Possible values: * An integer, where the integer corresponds to the number of worker processes. default=False, help="""""" Restrict tenants to specific placement aggregates. metadata key of ``filter_tenant_id`` set to the project of an incomingnumber to the key, such as ``filter_tenant_id:123``.Possible values: - A boolean value. Related options: - ``[scheduler] placement_aggregate_required_for_tenants`` default=False, help="""""" Require a placement aggregate association for all tenants. Possible values: - A boolean value. Related options: - ``[scheduler] placement_aggregate_required_for_tenants`` default=False, help="""""" Use placement to determine availability zones. Possible values: - A boolean value. Related options: - ``[filter_scheduler] enabled_filters`` default=False, help="""""" Use placement to determine host support for the instance's image type. Possible values: - A boolean value. default=False, help="""""" Restrict use of aggregates to instances with matching metadata. Possible values: - A boolean value. default=False, help="""""" Use placement to filter hosts based on image metadata. Possible values: - A boolean value. Related options: - ``[compute] compute_driver``filter_scheduler_group = cfg.OptGroup( name=""filter_scheduler"", title=""Filter scheduler options"")* An integer, where the integer corresponds to the size of a host subset. min=0,Note that this setting only affects scheduling if the ``IoOpsFilter`` filter is enabled. Related options: - ``[filter_scheduler] enabled_filters``Note that this setting only affects scheduling if the ``NumInstancesFilter`` or Related options: - ``[filter_scheduler] enabled_filters``.. note:: In a multi-cell (v2) setup where the cell MQ is separated from the top-level, computes cannot directly communicate with the scheduler. Thus, this option cannot be enabled in that scenario. See also the ``[workarounds] disable_group_policy_check_upcall`` option. Related options: - ``[filter_scheduler] enabled_filters`` - ``[workarounds] disable_group_policy_check_upcall``filters specified in the ``[filter_scheduler] enabled_filters`` option will be used, but any filter appearing in that option must also be included in this list.* ``[filter_scheduler] enabled_filters`` ""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"", ""ServerGroupAntiAffinityFilter"", ""ServerGroupAffinityFilter"", ],All of the filters in this option *must* be present in the ``[scheduler_filter] available_filter`` option, or a ``SchedulerHostFilterNotFound`` exception will be raised.- ``[filter_scheduler] available_filters````[filter_scheduler] host_subset_size``.Note that this setting only affects scheduling if the ``RAMWeigher`` weigher is enabled.* ``[filter_scheduler] weight_classes`` """"""), cfg.FloatOpt(""cpu_weight_multiplier"", default=1.0, help="""""" CPU weight multiplier ratio. Multiplier used for weighting free vCPUs. Negative numbers indicate stacking rather than spreading. Note that this setting only affects scheduling if the ``CPUWeigher`` weigher is enabled. Possible values: * An integer or float value, where the value corresponds to the multipler ratio for this weigher. Related options: * ``[filter_scheduler] weight_classes``Note that this setting only affects scheduling if the ``DiskWeigher`` weigher is enabled.Note that this setting only affects scheduling if the ``IoOpsWeigher`` weigher is enabled. Related options: * ``[filter_scheduler] weight_classes``instance. Note that this setting only affects scheduling if the ``PCIWeigher`` weigher and ``NUMATopologyFilter`` filter are enabled. Related options: * ``[filter_scheduler] weight_classes``Note that this setting only affects scheduling if the ``ServerGroupSoftAffinityWeigher`` weigher is enabled. Related options: * ``[filter_scheduler] weight_classes``Note that this setting only affects scheduling if the ``ServerGroupSoftAntiAffinityWeigher`` weigher is enabled. Related options: * ``[filter_scheduler] weight_classes``Note that this setting only affects scheduling if the ``BuildFailureWeigher`` weigher is enabled.* ``[compute] consecutive_build_service_disable_threshold`` - Must be nonzero* ``[filter_scheduler] weight_classes``Note that this setting only affects scheduling if the ``CrossCellWeigher`` weigher is enabled. If your cloud is not configured to support cross-cell migrations, then this option has no effect.(``cross_cell_move_weight_multiplier``). Related options: * ``[filter_scheduler] weight_classes``Enabling it is beneficial for cases when ``[filter_scheduler] host_subset_size`` is 1 (default), but there is a large number of hosts with same maximal weight. This scenario is common in Ironic deployments where there are typically many baremetal nodes with identical weights returned to the scheduler. In such case enabling this option will reduce contention and chances for rescheduling events. At the same time it will make the instance packing (even in unweighed case) less dense.When using the ``ImagePropertiesFilter``, it is possible that you want to define a default architecture to make the user experience easier and avoid having something like x86_64 images landing on AARCH64 compute nodes because the user did not specify the ``hw_architecture`` property in Glance.Note that this setting only affects scheduling if the ``IsolatedHostsFilter`` filter is enabled.* ``[filter_scheduler] isolated_hosts`` * ``[filter_scheduler] restrict_isolated_hosts_to_isolated_images``Note that this setting only affects scheduling if the ``IsolatedHostsFilter`` filter is enabled.* ``[filter_scheduler] isolated_images`` * ``[filter_scheduler] restrict_isolated_hosts_to_isolated_images``Note that this setting only affects scheduling if the ``IsolatedHostsFilter`` filter is enabled. Even then, this option doesn't affect the behavior of requests for isolated images, which will *always* be restricted to isolated hosts.* ``[filter_scheduler] isolated_images`` * ``[filter_scheduler] isolated_hosts`` # TODO(stephenfin): Consider deprecating these next two options: they're # effectively useless now that we don't support arbitrary image metadata # propertiesNote that this setting only affects scheduling if the ``AggregateImagePropertiesIsolation`` filter is enabled.* ``[filter_scheduler] aggregate_image_properties_isolation_separator``Note that this setting only affects scheduling if the ``AggregateImagePropertiesIsolation`` filter is enabled.* ``[filter_scheduler] aggregate_image_properties_isolation_namespace``metrics_group = cfg.OptGroup( name=""metrics"", title=""Metrics parameters"", help=""""""# TODO(stephenfin): This entire feature could probably be removed. It's not # tested and likely doesn't work with most drivers now. cfg.FloatOpt(""weight_multiplier"", default=1.0, help="""""" Multiplier used for weighing hosts based on reported metrics. * ``>1.0``: increases the effect of the metric on overall weight * ``1.0``: no change to the calculated weight * ``>0.0,<1.0``: reduces the effect of the metric on overall weight * ``0.0``: the metric value is ignored, and the value of the ``[metrics] weight_of_unavailable`` option is returned instead * ``>-1.0,<0.0``: the effect is reduced and reversed * ``-1.0``: the effect is reversed * ``<-1.0``: the effect is increased proportionally and reversed* ``[filter_scheduler] weight_classes`` * ``[metrics] weight_of_unavailable`` cfg.ListOpt(""weight_setting"", default=[], help="""""" Mapping of metric to weight modifier. one or more 'name=ratio' pairs, separated by commas, where ``name`` is the name of the metric to be weighed, and ``ratio`` is the relative weight for thatthe weight will be set to the value of the ``[metrics] weight_of_unavailable`` option. weight will be set to the value of the ``[metrics] weight_of_unavailable`` option.* ``[metrics] weight_of_unavailable`` default=True, help="""""" Whether metrics are required. * A boolean value, where False ensures any metric being unavailable for a host will set the host weight to ``[metrics] weight_of_unavailable``.* ``[metrics] weight_of_unavailable`` default=float(-10000.0), help="""""" Default weight for unavailable metrics. - One of the metrics named in ``[metrics] weight_setting`` is not available for a host, and the value of ``required`` is ``False``. - The ratio specified for a metric in ``[metrics] weight_setting`` is 0. - The ``[metrics] weight_multiplier`` option is set to 0.* ``[metrics] weight_setting`` * ``[metrics] required`` * ``[metrics] weight_multiplier`` return { scheduler_group: scheduler_opts, filter_scheduler_group: filter_scheduler_opts, metrics_group: metrics_weight_opts, }","scheduler_group = cfg.OptGroup(name=""scheduler"", title=""Scheduler configuration"")scheduler. When that list of hosts is exhausted, a MaxRetriesExceeded """"""), default=-1, min=-1, help="""""" default=1000, min=1, help=""""""This option is only used by the FilterScheduler; if you use a different scheduler, this option has no effect.Number of workers for the nova-scheduler service. The default will be the number of CPUs available if using the ""filter_scheduler"" scheduler driver, otherwise the default will be 1. default=False, help=""""""metadata key of `filter_tenant_id` set to the project of an incomingnumber to the key, such as `filter_tenant_id:123`.See also the placement_aggregate_required_for_tenants option. default=False, help=""""""See also the limit_tenants_to_placement_aggregate option. default=False, help="""""" default=False, help="""""" default=False, help="""""" default=False, help=""""""filter_scheduler_group = cfg.OptGroup(name=""filter_scheduler"", title=""Filter scheduler options"")This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. * An integer, where the integer corresponds to the size of a host subset. Any integer is valid, although any value less than 1 will be treated as 1This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'io_ops_filter' filter is enabled.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the ``NumInstancesFilter`` orThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. NOTE: In a multi-cell (v2) setup where the cell MQ is separated from the top-level, computes cannot directly communicate with the scheduler. Thus, this option cannot be enabled in that scenario. See also the [workarounds]/disable_group_policy_check_upcall option.filters specified in the 'enabled_filters' option will be used, but any filter appearing in that option must also be included in this list.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. * enabled_filters ""AvailabilityZoneFilter"", ""ComputeFilter"", ""ComputeCapabilitiesFilter"", ""ImagePropertiesFilter"", ""ServerGroupAntiAffinityFilter"", ""ServerGroupAffinityFilter"", ],This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect.* All of the filters in this option *must* be present in the 'available_filters' option, or a SchedulerHostFilterNotFound exception will be raised.'scheduler_host_subset_size'.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'ram' weigher is enabled. Possible values: * An integer or float value, where the value corresponds to the multipler ratio for this weigher. """"""), cfg.FloatOpt(""cpu_weight_multiplier"", default=1.0, help="""""" CPU weight multiplier ratio. Multiplier used for weighting free vCPUs. Negative numbers indicate stacking rather than spreading. This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'cpu' weigher is enabled.* ``filter_scheduler.weight_classes``: This weigher must be added to list of enabled weight classes if the ``weight_classes`` setting is set to a non-default value.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'disk' weigher is enabled.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'io_ops' weigher is enabled.instance. The ``NUMATopologyFilter`` filter must be enabled for this to have any significance. For more information, refer to the filter documentation: https://docs.openstack.org/nova/latest/user/filter-scheduler.htmlThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect.* [compute]/consecutive_build_service_disable_threshold - Must be nonzeroThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Similarly, if your cloud is not configured to support cross-cell migrations, then this option has no effect.(cross_cell_move_weight_multiplier).Enabling it is beneficial for cases when host_subset_size is 1 (default), but there is a large number of hosts with same maximal weight. This scenario is common in Ironic deployments where there are typically many baremetal nodes with identical weights returned to the scheduler. In such case enabling this option will reduce contention and chances for rescheduling events. At the same time it will make the instance packing (even in unweighed case) less dense.When using the ImagePropertiesFilter, it is possible that you want to define a default architecture to make the user experience easier and avoid having something like x86_64 images landing on aarch64 compute nodes because the user did not specify the 'hw_architecture' property in Glance.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'IsolatedHostsFilter' filter is enabled.* scheduler/isolated_hosts * scheduler/restrict_isolated_hosts_to_isolated_imagesThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'IsolatedHostsFilter' filter is enabled.* scheduler/isolated_images * scheduler/restrict_isolated_hosts_to_isolated_imagesThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'IsolatedHostsFilter' filter is enabled. Even then, this option doesn't affect the behavior of requests for isolated images, which will *always* be restricted to isolated hosts.* scheduler/isolated_images * scheduler/isolated_hostsThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'aggregate_image_properties_isolation' filter is enabled.* aggregate_image_properties_isolation_separatorThis option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. Also note that this setting only affects scheduling if the 'aggregate_image_properties_isolation' filter is enabled.* aggregate_image_properties_isolation_namespacemetrics_group = cfg.OptGroup(name=""metrics"", title=""Metrics parameters"", help="""""" cfg.FloatOpt(""weight_multiplier"", default=1.0, help=""""""* >1.0: increases the effect of the metric on overall weight * 1.0: no change to the calculated weight * >0.0,<1.0: reduces the effect of the metric on overall weight * 0.0: the metric value is ignored, and the value of the 'weight_of_unavailable' option is returned instead * >-1.0,<0.0: the effect is reduced and reversed * -1.0: the effect is reversed * <-1.0: the effect is increased proportionally and reversed This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect.* weight_of_unavailable cfg.ListOpt(""weight_setting"", default=[], help=""""""one or more 'name=ratio' pairs, separated by commas, where 'name' is the name of the metric to be weighed, and 'ratio' is the relative weight for thatthe weight will be set to the value of the 'weight_of_unavailable' option.This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. weight will be set to the value of the 'weight_of_unavailable' option.* weight_of_unavailable default=True, help=""""""This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect. * True or False, where False ensures any metric being unavailable for a host will set the host weight to 'weight_of_unavailable'.* weight_of_unavailable default=float(-10000.0), help=""""""* One of the metrics named in 'weight_setting' is not available for a host, and the value of 'required' is False * The ratio specified for a metric in 'weight_setting' is 0 * The 'weight_multiplier' option is set to 0 This option is only used by the FilterScheduler and its subclasses; if you use a different scheduler, this option has no effect.* weight_setting * required * weight_multiplier return {scheduler_group: scheduler_opts, filter_scheduler_group: filter_scheduler_opts, metrics_group: metrics_weight_opts}",290,203
openstack%2Fopenstack-helm-infra~master~I3ddc69e49d12ff178263f38ac10aff90bb82b902,openstack/openstack-helm-infra,master,I3ddc69e49d12ff178263f38ac10aff90bb82b902,[Ceph] Add Ceph CSI plugin,MERGED,2020-09-10 00:04:49.000000000,2021-03-09 20:55:40.000000000,2021-03-09 20:46:21.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30449}, {'_account_id': 32433}]","[{'number': 1, 'created': '2020-09-10 00:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/234686a805d658632ec07a6d170c446fdfb3462a', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 2, 'created': '2020-09-10 23:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccbd17d19c809c5ab80aa242b3bf44c8046e36a8', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 3, 'created': '2020-09-11 18:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fd4e3249c11e019758fd4dfc1e91ec3abf0a4cf0', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 4, 'created': '2020-09-11 20:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3ace6bd0df3daa01d4d54f3fc6004576ecc0b386', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 5, 'created': '2020-09-14 18:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/feb9e51dc3caf090b3ddb79a9d3f5df355c66909', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 6, 'created': '2020-09-14 18:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/956e6c1c0a2f4c6008618e5e49739355a554cbca', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 7, 'created': '2020-09-14 21:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e40216fd6571a73090a139b5dfc5e3edffdfc47b', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 8, 'created': '2020-09-14 23:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f230fa3fdf6f089bf1f36c989836d7d352eaa45', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 9, 'created': '2020-09-14 23:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a07ff843ea83067044b880d246e8cfd90b642d6', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 10, 'created': '2020-09-15 16:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b88086a1f388ad431ef17fdf41bf464508c5285d', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 11, 'created': '2020-09-15 17:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79ba0402926031f23d06f09a306305eb63b3876d', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 12, 'created': '2020-09-15 18:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03f8183541720f01beebcf5533656998cf95d82e', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 13, 'created': '2020-09-16 06:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a77a24af6bebbe61fc657591a64d8346689c5af9', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 14, 'created': '2020-09-16 19:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96e5ade2289852ee48cdd7e8db3df50cfdbdea48', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 15, 'created': '2020-09-17 06:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3476f9b0b4ee3893ffba9d7c14f17ea08d63fdc3', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 16, 'created': '2020-09-17 17:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2102c705f8c5fb438fe13dcfb9f89110017c861c', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 17, 'created': '2020-09-18 00:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2eab2024c36ce81084c1ec88ffc4eb37b51ce47', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 18, 'created': '2020-09-18 00:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1780bc7a2c5a9f68ed6d3ec9a59a02184c514ec3', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 19, 'created': '2020-09-18 01:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd940a6c3ebece8c7b2961ef04d05faaa2c707f1', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 20, 'created': '2020-09-18 06:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c074946b7fc906c4a2d69f5c742b811bb79d1dad', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 21, 'created': '2020-09-18 07:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/445e8e9886cf6938fb6ceeb77ad521621aefdfcf', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 22, 'created': '2020-09-18 21:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0db6832eff48255c9845a9f0318243fcd07e933', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 23, 'created': '2020-09-19 00:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a52c01e1424dc1fb29149098e6eb2342d7dd26b', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 24, 'created': '2020-09-19 00:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6e1e7ef80d3e8e862dbf11a91c39c8caa0c8a61', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 25, 'created': '2020-09-19 06:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59364653ee26cf6acc7547f7d4cfbe959b8fb419', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 26, 'created': '2020-09-21 16:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37c37c4daaac91c59471301c425dcd6bb8213457', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 27, 'created': '2020-09-22 01:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c13152990775da6553ace583632b37dd17aeca9f', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 28, 'created': '2020-09-22 01:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2348f95aafb9502ae3c879584fb92857668017dd', 'message': '[WIP] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 29, 'created': '2020-09-22 01:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5afe5c427d6ff1ba4fdb71824b372216ed2c3096', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 30, 'created': '2020-09-25 00:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a033eb889895f85e079b4370fbe1af176b24a8f', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 31, 'created': '2020-09-25 16:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cd32b48d58120454630d1d1406be1d926fa7cf8', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 32, 'created': '2020-09-25 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c23bc80ea5851f3bad007942bfe4ddcbb9c89678', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 33, 'created': '2020-09-25 19:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3ef02d431891160ea1c9af2a5202968a2113da4', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 34, 'created': '2020-09-30 19:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea46b3ec9b32e2fa151ae5f94537ad469b7d175d', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 35, 'created': '2020-09-30 19:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bdae7805fafb251be0383a9131ca85c77220cbc', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 36, 'created': '2020-10-01 22:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fda35d6382f7bda47e28442e02bc2451d4d1d02c', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 37, 'created': '2020-10-05 20:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b86a44953d79dde71d2b8d6c4c1d3b4bccc32ff', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 38, 'created': '2020-10-13 07:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c155bd81cca9739fab12de39f4a567ffee7e4e9f', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 39, 'created': '2020-12-07 19:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2231c9c4e470b12088e08b860d837406be94eed8', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 40, 'created': '2020-12-10 20:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c200549400c77a014b6efefbd3db61a79f244e1', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 41, 'created': '2020-12-15 20:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46a49a957eec9a249f7cf95bc9ec344ed2aa8ce1', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 42, 'created': '2020-12-21 18:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97e0522ad12add7807be6948a49da424269792d1', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 43, 'created': '2021-01-29 21:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/976ff9df0bae2a75dc95f251a4e33903d2054b50', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 44, 'created': '2021-02-04 16:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a15bf03353a6e7cc51ba7b3dc01f387be54e8919', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 45, 'created': '2021-02-05 05:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/928586219607fd63e4a68b7b81ca5c6fb9d50369', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 46, 'created': '2021-02-05 05:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b450379b2829e959021c1d0daeac2cc6d6ab1e71', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 47, 'created': '2021-02-05 06:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b298885e0fb53f7a74a9df677bcda8f09f6ba71d', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 48, 'created': '2021-02-05 15:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0895eb252a59b6ae21e680db766e4c5d26c1e86c', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 49, 'created': '2021-02-05 15:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acaf4bbb70e7821a7bb7224093c7ea207dbe5713', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 50, 'created': '2021-02-10 15:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee647d11155c011cf0736ee024aa8b373e627959', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 51, 'created': '2021-02-18 19:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d2a9f73c944fa994e96ad904273340627740322', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 52, 'created': '2021-02-19 00:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/332ac9c595d735a145ac470a0d1b298a1e4fc970', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 53, 'created': '2021-02-19 00:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d9e8f6479ff386b34c953b11c77c2a519caf13a', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 54, 'created': '2021-02-22 02:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65b09ce89f3e6483471c45d0843bf3b3c770c24d', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 55, 'created': '2021-02-24 15:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4d5c3ca39d08480614562dab97e0192a9947ab5', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 56, 'created': '2021-02-24 15:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ad7d3d6df8bcccf634e7773103a9462f7acd068', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 57, 'created': '2021-02-25 16:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6992f1598649b8a5b3fd2b97264ff1b72d78b355', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 58, 'created': '2021-02-26 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ad7564bfe5a2b1d82a43689ddc65323c35efba96', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 59, 'created': '2021-03-03 19:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5f5e0152dfc6523e8ebba117db3059c8efb2501', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}, {'number': 60, 'created': '2021-03-09 16:54:45.000000000', 'files': ['releasenotes/notes/ceph-mon.yaml', 'ceph-provisioners/values_overrides/apparmor.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'ceph-provisioners/Chart.yaml', 'ceph-provisioners/templates/bin/_helm-tests.sh.tpl', 'ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml', 'releasenotes/notes/ceph-provisioners.yaml', 'ceph-mon/templates/bin/keys/_storage-keyring-manager.sh.tpl', 'ceph-provisioners/templates/bin/provisioner/rbd/_namespace-client-key-manager.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/bin/provisioner/cephfs/_client-key-manager.sh.tpl', 'ceph-mon/Chart.yaml', 'ceph-provisioners/templates/configmap-etc-csi.yaml', 'ceph-provisioners/templates/daemonset-csi-rbd-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cda359ef1fadaa8771c88d8aef01effa28ffe50b', 'message': '[Ceph] Add Ceph CSI plugin\n\nThe PS adds Ceph CSI plugin (RBD only)\n\nChange-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902\n'}]",11,750844,cda359ef1fadaa8771c88d8aef01effa28ffe50b,155,9,60,17119,,,0,"[Ceph] Add Ceph CSI plugin

The PS adds Ceph CSI plugin (RBD only)

Change-Id: I3ddc69e49d12ff178263f38ac10aff90bb82b902
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/750844/24 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/templates/bin/provisioner/rbd/_namespace-client-key-manager.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/deamonset-csi-rbd-plugin.yaml', 'ceph-provisioners/templates/configmap-etc-csi.yaml', 'ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml']",5,234686a805d658632ec07a6d170c446fdfb3462a,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if and .Values.manifests.deployment_csi_rbd_provisioner .Values.deployment.rbd_provisioner }} {{- $envAll := . }} {{- $serviceAccountName := printf ""%s-%s"" .Release.Name ""ceph-rbd-csi-provisioner"" }} {{ tuple $envAll ""rbd_provisioner"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- kind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1 metadata: name: {{ $serviceAccountName }} rules: - apiGroups: [""""] resources: [""nodes""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""""] resources: [""secrets""] verbs: [""get"", ""list""] - apiGroups: [""""] resources: [""events""] verbs: [""list"", ""watch"", ""create"", ""update"", ""patch""] - apiGroups: [""""] resources: [""persistentvolumes""] verbs: [""get"", ""list"", ""watch"", ""create"", ""update"", ""delete"", ""patch""] - apiGroups: [""""] resources: [""persistentvolumeclaims""] verbs: [""get"", ""list"", ""watch"", ""update""] - apiGroups: [""""] resources: [""persistentvolumeclaims/status""] verbs: [""update"", ""patch""] - apiGroups: [""storage.k8s.io""] resources: [""storageclasses""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""snapshot.storage.k8s.io""] resources: [""volumesnapshots""] verbs: [""get"", ""list""] - apiGroups: [""snapshot.storage.k8s.io""] resources: [""volumesnapshotcontents""] verbs: [""create"", ""get"", ""list"", ""watch"", ""update"", ""delete""] - apiGroups: [""snapshot.storage.k8s.io""] resources: [""volumesnapshotclasses""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""storage.k8s.io""] resources: [""volumeattachments""] verbs: [""get"", ""list"", ""watch"", ""update"", ""patch""] - apiGroups: [""storage.k8s.io""] resources: [""csinodes""] verbs: [""get"", ""list"", ""watch""] - apiGroups: [""snapshot.storage.k8s.io""] resources: [""volumesnapshotcontents/status""] verbs: [""update""] --- kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: {{ $serviceAccountName }}-run-rbd-provisioner subjects: - kind: ServiceAccount name: {{ $serviceAccountName }} namespace: {{ $envAll.Release.Namespace }} roleRef: kind: ClusterRole name: {{ $envAll.Release.Namespace }} apiGroup: rbac.authorization.k8s.io --- kind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: namespace: {{ $envAll.Release.Namespace }} name: {{ $serviceAccountName }} rules: - apiGroups: [""""] resources: [""configmaps""] verbs: [""get"", ""list"", ""watch"", ""create"", ""delete""] - apiGroups: [""coordination.k8s.io""] resources: [""leases""] verbs: [""get"", ""watch"", ""list"", ""delete"", ""update"", ""create""] --- kind: RoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: {{ $serviceAccountName }} namespace: {{ $envAll.Release.Namespace }} subjects: - kind: ServiceAccount name: {{ $serviceAccountName }} namespace: {{ $envAll.Release.Namespace }} roleRef: kind: Role name: {{ $serviceAccountName }} apiGroup: rbac.authorization.k8s.io --- kind: Deployment apiVersion: apps/v1 metadata: name: ceph-rbd-provisioner annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""rbd"" ""provisioner"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: replicas: {{ .Values.pod.replicas.rbd_provisioner }} selector: matchLabels: {{ tuple $envAll ""rbd"" ""provisioner"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} {{ tuple $envAll | include ""helm-toolkit.snippets.kubernetes_upgrades_deployment"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""rbd"" ""provisioner"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} {{ dict ""envAll"" $envAll ""podName"" ""ceph-rbd-provisioner"" ""containerNames"" (list ""ceph-rbd-provisioner"" ""init"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }} spec: {{ dict ""envAll"" $envAll ""application"" ""provisioner"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }} serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""rbd"" ""provisioner"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} {{ tuple $envAll ""rbd_provisioner"" | include ""helm-toolkit.snippets.kubernetes_tolerations"" | indent 6 }} nodeSelector: {{ .Values.labels.provisioner.node_selector_key }}: {{ .Values.labels.provisioner.node_selector_value }} {{ tuple $envAll ""rbd_provisioner"" list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: ceph-rbd-provisioner {{ tuple $envAll ""csi_provisioner"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.rbd_provisioner | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""provisioner"" ""container"" ""ceph_rbd_provisioner"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} env: - name: DEPLOYMENT_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace - name: ADDRESS value: unix:///csi/csi-provisioner.sock args: - ""--csi-address=$(ADDRESS)"" - ""--v=0"" - ""--timeout=150s"" - ""--retry-interval-start=500ms"" - ""--enable-leader-election=true"" - ""--leader-election-type=leases"" - ""--leader-election-namespace=$(DEPLOYMENT_NAMESPACE)"" volumeMounts: - name: socket-dir mountPath: /csi - name: ceph-rbd-snapshotter {{ tuple $envAll ""csi_snapshotter"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.rbd_snapshotter | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""provisioner"" ""container"" ""ceph_rbd_snapshotter"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} args: - ""--csi-address=$(ADDRESS)"" - ""--v=0"" - ""--timeout=150s"" - ""--leader-election=true"" - ""--leader-election-namespace=$(DEPLOYMENT_NAMESPACE)"" env: - name: DEPLOYMENT_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace - name: ADDRESS value: unix:///csi/csi-provisioner.sock volumeMounts: - name: socket-dir mountPath: /csi - name: ceph-rbd-attacher {{ tuple $envAll ""csi_attacher"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.rbd_attacher | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""provisioner"" ""container"" ""ceph_rbd_attacher"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} args: - ""--v=0"" - ""--csi-address=$(ADDRESS)"" - ""--leader-election=true"" - ""--retry-interval-start=500ms"" - ""--leader-election-namespace=$(DEPLOYMENT_NAMESPACE)"" env: - name: DEPLOYMENT_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace - name: ADDRESS value: /csi/csi-provisioner.sock volumeMounts: - name: socket-dir mountPath: /csi - name: csi-resizer {{ tuple $envAll ""csi_resizer"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.rbd_resizer | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""provisioner"" ""container"" ""ceph_rbd_resizer"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} args: - ""--csi-address=$(ADDRESS)"" - ""--v=0"" - ""--csiTimeout=150s"" - ""--leader-election"" - ""--leader-election-namespace=$(DEPLOYMENT_NAMESPACE)"" env: - name: DEPLOYMENT_NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace - name: ADDRESS value: unix:///csi/csi-provisioner.sock volumeMounts: - name: socket-dir mountPath: /csi - name: csi-rbdplugin {{ tuple $envAll ""cephcsi"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.rbd_cephcsi | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} {{ dict ""envAll"" $envAll ""application"" ""provisioner"" ""container"" ""ceph_rbd_cephcsi"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }} args: - ""--nodeid=$(NODE_ID)"" - ""--type=rbd"" - ""--controllerserver=true"" - ""--endpoint=$(CSI_ENDPOINT)"" - ""--v=0"" - ""--drivername=$(DEPLOYMENT_NAMESPACE).rbd.csi.ceph.com"" - ""--pidlimit=-1"" env: - name: POD_IP valueFrom: fieldRef: fieldPath: status.podIP - name: NODE_ID valueFrom: fieldRef: fieldPath: spec.nodeName - name: CSI_ENDPOINT value: unix:///csi/csi-provisioner.sock volumeMounts: - name: socket-dir mountPath: /csi - mountPath: /dev name: host-dev - mountPath: /sys name: host-sys - mountPath: /lib/modules name: lib-modules readOnly: true - name: ceph-csi-config mountPath: /etc/ceph-csi-config/ - name: keys-tmp-dir mountPath: /tmp/csi/keys volumes: - name: host-dev hostPath: path: /dev - name: host-sys hostPath: path: /sys - name: lib-modules hostPath: path: /lib/modules - name: socket-dir emptyDir: { medium: ""Memory"" } - name: ceph-csi-config configMap: name: ceph-csi-config - name: keys-tmp-dir emptyDir: { medium: ""Memory"" } {{- end }} ",,540,1
openstack%2Fos-net-config~master~I047e3c40815b71de10e6641c1d39b29de563d8d2,openstack/os-net-config,master,I047e3c40815b71de10e6641c1d39b29de563d8d2,Updating sriov_config service to run after openibd service,MERGED,2021-03-09 09:36:58.000000000,2021-03-09 20:53:31.000000000,2021-03-09 20:40:10.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 09:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/d1f78498a1dd8798f32409bd3dbb1eadc048903c', 'message': ""Updating sriov_config service to run after openibd service\n\nWhen having sriov configured in mlnx interfaces and we are using MLNX ofed,\nin reboot case we'll have a race between sriov_config service and openibd\nservice which loads mlx drivers, sometimes it causes failures in starting\nsriov_config service correctly.\nSo updating sriov_config service to run after openibd service\n\nCloses-Bug: #1918255\nChange-Id: I047e3c40815b71de10e6641c1d39b29de563d8d2\n""}, {'number': 2, 'created': '2021-03-09 13:16:11.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/012b58ccc1623945c4428e82eec80b2f3f22d6b7', 'message': ""Updating sriov_config service to run after openibd service\n\nWhen having sriov configured in mlnx interfaces and we are using MLNX\nofed, it will install openibd and in reboot case we'll have a race between\nsriov_config service and that openibd service which loads mlx drivers,\nsometimes it causes failures in starting sriov_config service.\nSo updating sriov_config service to run after openibd service if it's\npresent, if not as in default case, systemd ignores it.\n\nCloses-Bug: #1918255\nChange-Id: I047e3c40815b71de10e6641c1d39b29de563d8d2\n""}]",2,779445,012b58ccc1623945c4428e82eec80b2f3f22d6b7,14,5,2,25241,,,0,"Updating sriov_config service to run after openibd service

When having sriov configured in mlnx interfaces and we are using MLNX
ofed, it will install openibd and in reboot case we'll have a race between
sriov_config service and that openibd service which loads mlx drivers,
sometimes it causes failures in starting sriov_config service.
So updating sriov_config service to run after openibd service if it's
present, if not as in default case, systemd ignores it.

Closes-Bug: #1918255
Change-Id: I047e3c40815b71de10e6641c1d39b29de563d8d2
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/45/779445/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,d1f78498a1dd8798f32409bd3dbb1eadc048903c,,After=systemd-udev-settle.service openibd.service,After=systemd-udev-settle.service,1,1
openstack%2Fglance~master~I70a58acd78053b54187dba8e35273366f14c47a4,openstack/glance,master,I70a58acd78053b54187dba8e35273366f14c47a4,Update the task policies,MERGED,2020-11-18 15:49:05.000000000,2021-03-09 20:51:04.000000000,2021-03-09 20:26:37.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-18 15:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/213dd43c06783458e6f07397df21a9b65832ba03', 'message': 'WIP: Implement secure RBAC for tasks API\n\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 2, 'created': '2020-11-25 06:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/98400bad141dda3d9115e7f5cd25b7d5256be828', 'message': 'WIP: Implement secure RBAC for tasks API\n\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 3, 'created': '2021-02-19 10:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f3b79c917904733ad94098713f77467a63a29da3', 'message': 'Implement secure RBAC for Task APIs\n\nThis commit updates the policies for Task APIs to be default role\nand scope aware if ``enforce_new_policies`` option is set to True.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``enforce_new_policies`` to True along\nwith ``enforce_new_defaults`` of section ``oslo_policy`` to True in\nglance-api.conf file.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 4, 'created': '2021-02-19 14:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/11093136787ab73c3faddabda4c0c5cff3b08bd9', 'message': 'Implement secure RBAC for Task APIs\n\nThis commit updates the policies for Task APIs to be default role\nand scope aware if ``enforce_new_policies`` option is set to True.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``enforce_new_policies`` to True along\nwith ``enforce_new_defaults`` of section ``oslo_policy`` to True in\nglance-api.conf file.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 5, 'created': '2021-02-25 22:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/774897d5973ff465dbefa9490f48b39feaaad35b', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 6, 'created': '2021-03-01 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fcb6a23788b097748a79bd66df0e209de7ef2407', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 7, 'created': '2021-03-01 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9bc7edf74d14f3b35493de70526c228d9a6a2e2', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 8, 'created': '2021-03-01 21:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c9af538cec9c1649e8244f8ea018b3f13fdb1e77', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 9, 'created': '2021-03-02 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5629320df5b896318b0c6806032ee036fe24f890', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 10, 'created': '2021-03-02 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/14df63bbc70ca747f85d236c96977576c5274fc3', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 11, 'created': '2021-03-02 14:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a022739fa031e40f8f9cd67a12a10377056a1cab', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 12, 'created': '2021-03-02 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f637fda46a1089e4de80400228fd7b92a06fbb51', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 13, 'created': '2021-03-03 00:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4fa166b4c19c37e6fab151678d6ee15cfa0c9206', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 14, 'created': '2021-03-03 03:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb31306ed91370be20cceed2c264f487978a7c26', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 15, 'created': '2021-03-04 04:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/282339ade2aae8ac3d6b96744101d9e9c50e3752', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 16, 'created': '2021-03-04 18:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ce16aa30a11f0b27f8536e4283f62277e802ccf', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 17, 'created': '2021-03-04 20:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/48bb3c671774202e595246621a176618fecc42d3', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 18, 'created': '2021-03-04 21:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/651bbb2734e1529b3f3672f82f0cfdddf6d1416f', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 19, 'created': '2021-03-04 21:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/355517eb099ad2b8e89255266b764077b69d2369', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 20, 'created': '2021-03-04 21:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/906b28376fb749ad2ab07537675a84f14fb0f157', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 21, 'created': '2021-03-05 13:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/71892d29ad5500c41d919a7aca17f162befdeaf7', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 22, 'created': '2021-03-05 17:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4a708995102325c5d671d22ff04d50495fd278eb', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 23, 'created': '2021-03-05 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4db0cd2e6d9729465a3ac1d1f3405bd6aa311559', 'message': 'Update default policies for task API\n\nThis commit updates the policies for Task APIs to explicitly set role:admin.\nThese defaults may change in the future under two conditions. One, when glance\nsupports system-scope. Two, when/if we decide to expose the tasks API directly\nto end users.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 24, 'created': '2021-03-05 20:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bff249d514a726265876d36605081d7385d8e97b', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 25, 'created': '2021-03-05 20:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/05aa10cf00167f88e432376a4f82f6a6608f83e8', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 26, 'created': '2021-03-05 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/13b998d2632fe348056ac19df3315181a39c43e6', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 27, 'created': '2021-03-05 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd51833638f55b9fa46b9c29fdf6d54b8f8f2ac3', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 28, 'created': '2021-03-06 04:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8ed4dc829a2107dc9a5ba4f6c21a75ad53ef638', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 29, 'created': '2021-03-07 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fb5974c1e8648b683e7b468dca1ab4d1906d5ff7', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 30, 'created': '2021-03-07 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a8906f503a6d8d69d91a1b2d2120d3dfc56c6db', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 31, 'created': '2021-03-08 07:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/605d653435481a84443035d439daebffc07006f0', 'message': ""Deprecate the external task API policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they're only used internally within glance after\nglance has authorized requests for other things (like getting or copying\nan image).\n\nLeaving these policies around is misleading because overriding their\nvalues doesn't actually affect the API access directly since that's\nenforced through the tasks_api_access policy, which defaults to\nadmin-only. Adjusting the values of these policies can lead to strange\nauthorization behaviors that aren't obvious, due to nested authorization\nchecks.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n""}, {'number': 32, 'created': '2021-03-08 16:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7fb450fd14415f773a79a256152fe625da7665f0', 'message': 'Update the task policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they have also been used internally within\nglance when spawning a task on behalf of the user for long-running\noperations (like import).\n\nThese policies should not apply to the internal usage, as doing so\nprevents the operator from setting them to restrictive values in order\nto provide granular access to some roles. In the future we will fix\nthat by moving those checks out of ""the onion"" and into the task API\noperations themselves, thus decoupling the internal and external uses.\n\nThis adds documentation and scope definitions for these policies, as\nwell as deprecates the ""modify_task"" policy which is never used and\nwill be removed in the future. Control over the actual tasks API\nremains coarse with the ""tasks_api_access"" policy until a future\nrelease completes the above decoupling.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}, {'number': 33, 'created': '2021-03-08 17:32:17.000000000', 'files': ['glance/policies/tasks.py', 'glance/api/policy.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/165cce6d6e11504c85a71449fdca9608c7fd1d6c', 'message': 'Update the task policies\n\nAt one point, these policies were used to protect actual task API\nendpoints. Since then, they have also been used internally within\nglance when spawning a task on behalf of the user for long-running\noperations (like import).\n\nThese policies should not apply to the internal usage, as doing so\nprevents the operator from setting them to restrictive values in order\nto provide granular access to some roles. In the future we will fix\nthat by moving those checks out of ""the onion"" and into the task API\noperations themselves, thus decoupling the internal and external uses.\n\nThis adds documentation and scope definitions for these policies, as\nwell as deprecates the ""modify_task"" policy which is never used and\nwill be removed in the future. Control over the actual tasks API\nremains coarse with the ""tasks_api_access"" policy until a future\nrelease completes the above decoupling.\n\nImplements: blueprint secure-rbac\nChange-Id: I70a58acd78053b54187dba8e35273366f14c47a4\n'}]",24,763208,165cce6d6e11504c85a71449fdca9608c7fd1d6c,98,6,33,9303,,,0,"Update the task policies

At one point, these policies were used to protect actual task API
endpoints. Since then, they have also been used internally within
glance when spawning a task on behalf of the user for long-running
operations (like import).

These policies should not apply to the internal usage, as doing so
prevents the operator from setting them to restrictive values in order
to provide granular access to some roles. In the future we will fix
that by moving those checks out of ""the onion"" and into the task API
operations themselves, thus decoupling the internal and external uses.

This adds documentation and scope definitions for these policies, as
well as deprecates the ""modify_task"" policy which is never used and
will be removed in the future. Control over the actual tasks API
remains coarse with the ""tasks_api_access"" policy until a future
release completes the above decoupling.

Implements: blueprint secure-rbac
Change-Id: I70a58acd78053b54187dba8e35273366f14c47a4
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/763208/32 && git format-patch -1 --stdout FETCH_HEAD,['glance/policies/tasks.py'],1,213dd43c06783458e6f07397df21a9b65832ba03,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The task API is now aware of scope types and default roles. """""" deprecated_get_task = policy.DeprecatedRule( name=""get_task"", check_str='role:admin' ) deprecated_get_tasks = policy.DeprecatedRule( name=""get_tasks"", check_str='role:admin' ) deprecated_add_task = policy.DeprecatedRule( name=""add_task"", check_str='role:admin' ) deprecated_modify_task = policy.DeprecatedRule( name=""modify_task"", check_str='role:admin' ) deprecated_tasks_api_access = policy.DeprecatedRule( name=""tasks_api_access"", check_str='role:admin' ) policy.RuleDefault( name=""get_task"", check_str=""role:admin and system_scope:all"", scope_types=['system'], deprecated_rule=deprecated_get_task, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), policy.RuleDefault( name=""get_tasks"", check_str=""role:admin and system_scope:all"", scope_types=['system'], deprecated_rule=deprecated_get_tasks, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), policy.RuleDefault( name=""add_task"", check_str=""role:admin and system_scope:all"", scope_types=['system'], deprecated_rule=deprecated_add_task, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), policy.RuleDefault( name=""modify_task"", check_str=""role:admin and system_scope:all"", scope_types=['system'], deprecated_rule=deprecated_modify_task, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), policy.RuleDefault( name=""tasks_api_access"", check_str=""role:admin and system_scope:all"", scope_types=['system'], deprecated_rule=deprecated_tasks_api_access, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," policy.RuleDefault(name=""get_task"", check_str=""rule:default""), policy.RuleDefault(name=""get_tasks"", check_str=""rule:default""), policy.RuleDefault(name=""add_task"", check_str=""rule:default""), policy.RuleDefault(name=""modify_task"", check_str=""rule:default""), policy.RuleDefault(name=""tasks_api_access"", check_str=""role:admin""),",71,5
openstack%2Ftempest~master~I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd,openstack/tempest,master,I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd,Test glance distributed import,MERGED,2021-01-13 00:29:52.000000000,2021-03-09 20:50:56.000000000,2021-03-09 20:28:36.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-13 00:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e898cef1ebc0cf72c0bab8e1985bc87936bb4d4', 'message': 'WIP: Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nThis needs work, but it works locally. Probably need to gracefully\ndecide whether this test should run, at least.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 2, 'created': '2021-01-13 00:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e33dcbec04d1da0f318ce69ba12638759ffaf85a', 'message': 'WIP: Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 3, 'created': '2021-01-13 18:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/149fb7a4bcb176c4a5544e0eb97398ec6dfb08a3', 'message': 'WIP: Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 4, 'created': '2021-02-15 17:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c90f8aa5a002678139b7a6596265559487265864', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 5, 'created': '2021-02-16 18:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1528bca66cea8f0e8a8cc71e0a67a9d49def5da7', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 6, 'created': '2021-02-16 19:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/562be3820187dba58884c81253ec6ea70811f349', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 7, 'created': '2021-02-17 15:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/480a91a491d1367f528ac06576e7a84f8ee6d368', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 8, 'created': '2021-02-24 20:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4316f8b97040f7cfc8dcb4d75bc92d1daf03d540', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}, {'number': 9, 'created': '2021-03-03 23:10:11.000000000', 'files': ['tempest/api/image/v2/test_images.py', 'tempest/clients.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4bc9a8b64cb03508856f174f3e07d8bdc143260', 'message': 'Test glance distributed import\n\nGlance is developing functionality to solve the problem where an\nimage is staged against one worker and the import call arrives at\nthe other. This adds support to test that. The dependent devstack\npatch sets up another glance worker in the catalog as ""image_remote"",\nwhich we can use to ensure that stage and import calls arrive at\ndifferent workers.\n\nChange-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770487\n'}]",23,770520,d4bc9a8b64cb03508856f174f3e07d8bdc143260,59,4,9,4393,,,0,"Test glance distributed import

Glance is developing functionality to solve the problem where an
image is staged against one worker and the import call arrives at
the other. This adds support to test that. The dependent devstack
patch sets up another glance worker in the catalog as ""image_remote"",
which we can use to ensure that stage and import calls arrive at
different workers.

Change-Id: I38bafb5316ce3b8aac9b8ac11ae27110a93d3ebd
Depends-On: https://review.opendev.org/c/openstack/devstack/+/770487
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/770520/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/test_images.py', 'tempest/clients.py']",2,9e898cef1ebc0cf72c0bab8e1985bc87936bb4d4,bp/distributed-image-import, self.image_client_remote = self.image_v2.ImagesClient( service='image_remote'),,10,0
openstack%2Fcinder~master~I7825392f2f5d9d1300eba4b66ebb89a0a0df4711,openstack/cinder,master,I7825392f2f5d9d1300eba4b66ebb89a0a0df4711,Hitachi: Use get_volume_stats in the base driver,MERGED,2021-01-13 08:28:40.000000000,2021-03-09 20:50:52.000000000,2021-03-09 20:24:23.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 28403}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-01-13 08:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/929f32c498a5cfd2fa777af5478e6c434e77e1a8', 'message': 'Hitachi: Use get_volume_stats in the base driver\n\nThe get_volume_stats has moved to the base volume driver. Therefore\nHitachi VSP driver should use it.\n\nChange-Id: I7825392f2f5d9d1300eba4b66ebb89a0a0df4711\n'}, {'number': 2, 'created': '2021-02-16 08:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e663e1d90a7669dc725063a1cc26de8de3b93be9', 'message': 'Hitachi: Use get_volume_stats in the base driver\n\nThe get_volume_stats has moved to the base volume driver. Therefore\nHitachi VSP driver should use it.\n\nChange-Id: I7825392f2f5d9d1300eba4b66ebb89a0a0df4711\n'}, {'number': 3, 'created': '2021-02-25 00:51:27.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3343ca773f6d05d8cd87039ce8daa32d1e2726cb', 'message': 'Hitachi: Use get_volume_stats in the base driver\n\nThe get_volume_stats has moved to the base volume driver. Therefore\nHitachi VSP driver should use it.\n\nChange-Id: I7825392f2f5d9d1300eba4b66ebb89a0a0df4711\n'}]",9,770541,3343ca773f6d05d8cd87039ce8daa32d1e2726cb,110,5,3,16373,,,0,"Hitachi: Use get_volume_stats in the base driver

The get_volume_stats has moved to the base volume driver. Therefore
Hitachi VSP driver should use it.

Change-Id: I7825392f2f5d9d1300eba4b66ebb89a0a0df4711
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/770541/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py']",5,929f32c498a5cfd2fa777af5478e6c434e77e1a8,get_volume_status," def test__update_volume_stats( self.driver._update_volume_stats() self.assertEqual('Hitachi', self.driver._stats['vendor_name']) self.assertTrue(self.driver._stats[""pools""][0]['multiattach'])"," def test_get_volume_stats( stats = self.driver.get_volume_stats(True) self.assertEqual('Hitachi', stats['vendor_name']) self.assertTrue(stats[""pools""][0]['multiattach'])",16,23
openstack%2Ftripleo-ci~master~I08267cf94eab63d223f1509906c0b23fb3652b6e,openstack/tripleo-ci,master,I08267cf94eab63d223f1509906c0b23fb3652b6e,Add ansible-generated to collect logs list,MERGED,2021-03-07 08:26:16.000000000,2021-03-09 20:48:33.000000000,2021-03-09 20:48:33.000000000,"[{'_account_id': 11628}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-07 08:26:16.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f06cafb8c69706ddf56c66a45c3116fd0dc84289', 'message': 'Add ansible-generated to collect logs list\n\nTripleO services like FRR, Designate and OVN clustered databases store\nAnsible-generated configuration files in directory\n/var/lib/config-data/ansible-generated.\n\nChange-Id: I08267cf94eab63d223f1509906c0b23fb3652b6e\n'}]",0,779094,f06cafb8c69706ddf56c66a45c3116fd0dc84289,10,5,1,6469,,,0,"Add ansible-generated to collect logs list

TripleO services like FRR, Designate and OVN clustered databases store
Ansible-generated configuration files in directory
/var/lib/config-data/ansible-generated.

Change-Id: I08267cf94eab63d223f1509906c0b23fb3652b6e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/779094/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,f06cafb8c69706ddf56c66a45c3116fd0dc84289,, - /var/lib/config-data/ansible-generated/,,1,0
openstack%2Fcinder~master~Id7f4f81df47763763b83580b4ff10908da86ed18,openstack/cinder,master,Id7f4f81df47763763b83580b4ff10908da86ed18,Make sure we pass context objects directly to policy enforcement,MERGED,2021-02-16 20:49:57.000000000,2021-03-09 20:42:09.000000000,2021-03-07 00:07:42.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-16 20:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08f37b0e1c54e9a5f980dd8174232783d9706eeb', 'message': ""Make sure we pass context objects directly to policy enforcement\n\nThe oslo.policy Enforcer understands what to do with\noslo.context.RequestContext objects. This makes things easier for us\nbecause we don't have to call .to_policy_values() before invoking\nenforcement. Oslo.policy will do it for us.\n\nThis commit ensures we do this in cinder.policy.enforce() and it adds\nsome tests to make sure cinder.policy.authorize() doesn't regress.\n\nChange-Id: Id7f4f81df47763763b83580b4ff10908da86ed18\n""}, {'number': 2, 'created': '2021-02-16 21:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83507d75fe97a77f68df4a14f0eaed69bf0bdee4', 'message': ""Make sure we pass context objects directly to policy enforcement\n\nThe oslo.policy Enforcer understands what to do with\noslo.context.RequestContext objects. This makes things easier for us\nbecause we don't have to call .to_policy_values() before invoking\nenforcement. Oslo.policy will do it for us.\n\nThis commit ensures we do this in cinder.policy.enforce() and it adds\nsome tests to make sure cinder.policy.authorize() doesn't regress.\n\nChange-Id: Id7f4f81df47763763b83580b4ff10908da86ed18\n""}, {'number': 3, 'created': '2021-02-16 22:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77fed89751fb989561247b8313def557dab972a7', 'message': ""Make sure we pass context objects directly to policy enforcement\n\nThe oslo.policy Enforcer understands what to do with\noslo.context.RequestContext objects. This makes things easier for us\nbecause we don't have to call .to_policy_values() before invoking\nenforcement. Oslo.policy will do it for us.\n\nThis commit ensures we do this in cinder.policy.enforce() and it adds\nsome tests to make sure cinder.policy.authorize() doesn't regress.\n\nChange-Id: Id7f4f81df47763763b83580b4ff10908da86ed18\n""}, {'number': 4, 'created': '2021-02-17 17:48:52.000000000', 'files': ['cinder/policy.py', 'cinder/tests/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c87d14f558d78bf0bd436bd74e9e126b20dbe14', 'message': ""Make sure we pass context objects directly to policy enforcement\n\nThe oslo.policy Enforcer understands what to do with\noslo.context.RequestContext objects. This makes things easier for us\nbecause we don't have to call .to_policy_values() before invoking\nenforcement. Oslo.policy will do it for us.\n\nThis commit ensures we do this in cinder.policy.enforce() and it adds\nsome tests to make sure cinder.policy.authorize() doesn't regress.\n\nChange-Id: Id7f4f81df47763763b83580b4ff10908da86ed18\n""}]",0,775932,0c87d14f558d78bf0bd436bd74e9e126b20dbe14,127,3,4,5046,,,0,"Make sure we pass context objects directly to policy enforcement

The oslo.policy Enforcer understands what to do with
oslo.context.RequestContext objects. This makes things easier for us
because we don't have to call .to_policy_values() before invoking
enforcement. Oslo.policy will do it for us.

This commit ensures we do this in cinder.policy.enforce() and it adds
some tests to make sure cinder.policy.authorize() doesn't regress.

Change-Id: Id7f4f81df47763763b83580b4ff10908da86ed18
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/775932/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policy.py', 'cinder/tests/unit/test_policy.py']",2,08f37b0e1c54e9a5f980dd8174232783d9706eeb,secure-rbac,"import mock def test_enforce_passes_context_objects_to_enforcement(self): fake_context = context.RequestContext(roles=['foo']) action = 'foo' target = {} with mock.patch.object(policy._ENFORCER, 'enforce') as fake_enforce: policy.enforce(fake_context, action, target) fake_enforce.assert_called_once_with(action, target, fake_context, do_raise=True, exc=exception.PolicyNotAuthorized, action=action) def test_authorize_passes_context_objects_to_enforcement(self): fake_context = context.RequestContext(project_id='fake-project-id', user_id='fake-user-id', roles=['foo']) action = 'foo' target = {'project_id': 'fake-project-id', 'user_id': 'fake-user-id'} with mock.patch.object(policy._ENFORCER, 'authorize') as fake_authorize: fake_context.authorize('foo') fake_authorize.assert_called_once_with(action, target, fake_context, do_raise=True, exc=exception.PolicyNotAuthorized, action=action)",,26,1
openstack%2Fnova~master~Iafccbb52cba0c45b5159984d6560b822d9405d5f,openstack/nova,master,Iafccbb52cba0c45b5159984d6560b822d9405d5f,apidb: Compact Queens database migrations,MERGED,2020-10-23 11:42:17.000000000,2021-03-09 20:37:42.000000000,2021-03-09 20:30:20.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-10-23 11:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d195cb79548cbc29d330c63fd364194f84fec53a', 'message': ""apidb: Compact Queens database migrations\n\nSpecific changes include:\n\n- Add 'description' column to 'flavors' table (050)\n- Add 'root_provider_id' and 'parent_provider_id' columns to\n  'resource_providers' table (051)\n- Add indexes covering 'root_provider_id' and 'parent_provider_id'\n  columns of 'resource_providers' table (051)\n- Alter type of 'spec' column of 'request_specs' table to MediumText\n  (052)\n\nChange-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-19 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8b69934a844931148a0bcbc09f4caa9c118dd9', 'message': ""apidb: Compact Queens database migrations\n\nSpecific changes include:\n\n- Add 'description' column to 'flavors' table (050)\n- Add 'root_provider_id' and 'parent_provider_id' columns to\n  'resource_providers' table (051)\n- Add indexes covering 'root_provider_id' and 'parent_provider_id'\n  columns of 'resource_providers' table (051)\n- Alter type of 'spec' column of 'request_specs' table to MediumText\n  (052)\n\nChange-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-10 15:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce6293c7cd8a90bd3861a1fc6a7edf49b7975f6', 'message': ""apidb: Compact Queens database migrations\n\nSpecific changes include:\n\n- Add 'description' column to 'flavors' table (050)\n- Add 'root_provider_id' and 'parent_provider_id' columns to\n  'resource_providers' table (051)\n- Add indexes covering 'root_provider_id' and 'parent_provider_id'\n  columns of 'resource_providers' table (051)\n- Alter type of 'spec' column of 'request_specs' table to MediumText\n  (052)\n\nChange-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-10 19:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31e7a7e3585c95f95d8d8e00c8d1af8690781fcd', 'message': ""apidb: Compact Queens database migrations\n\nSpecific changes include:\n\n- Add 'description' column to 'flavors' table (050)\n- Add 'root_provider_id' and 'parent_provider_id' columns to\n  'resource_providers' table (051)\n- Add indexes covering 'root_provider_id' and 'parent_provider_id'\n  columns of 'resource_providers' table (051)\n- Alter type of 'spec' column of 'request_specs' table to MediumText\n  (052)\n\nChange-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-03 15:17:34.000000000', 'files': ['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/046_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/045_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/052_queens.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/047_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/048_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/051_nested_resource_providers.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/050_flavors_add_description.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/049_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/052_request_specs_spec_mediumtext.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86b423f9f37bff11ea6aad9737e1187947a3824e', 'message': ""apidb: Compact Queens database migrations\n\nSpecific changes include:\n\n- Add 'description' column to 'flavors' table (050)\n- Add 'root_provider_id' and 'parent_provider_id' columns to\n  'resource_providers' table (051)\n- Add indexes covering 'root_provider_id' and 'parent_provider_id'\n  columns of 'resource_providers' table (051)\n- Alter type of 'spec' column of 'request_specs' table to MediumText\n  (052)\n\nChange-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",3,759404,86b423f9f37bff11ea6aad9737e1187947a3824e,103,12,5,15334,,,0,"apidb: Compact Queens database migrations

Specific changes include:

- Add 'description' column to 'flavors' table (050)
- Add 'root_provider_id' and 'parent_provider_id' columns to
  'resource_providers' table (051)
- Add indexes covering 'root_provider_id' and 'parent_provider_id'
  columns of 'resource_providers' table (051)
- Alter type of 'spec' column of 'request_specs' table to MediumText
  (052)

Change-Id: Iafccbb52cba0c45b5159984d6560b822d9405d5f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/759404/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/046_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/045_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/052_queens.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/047_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/048_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/051_nested_resource_providers.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/049_placeholder.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/050_flavors_add_description.py', 'nova/db/sqlalchemy/api_migrations/migrate_repo/versions/052_request_specs_spec_mediumtext.py', 'nova/tests/functional/db/api/test_migrations.py']",11,d195cb79548cbc29d330c63fd364194f84fec53a,bp/compact-db-migrations-wallaby, return (queens_placeholders +,"from oslo_serialization import jsonutils pike_placeholders = list(range(45, 50)) return (pike_placeholders + queens_placeholders + def _check_050(self, engine, data): self.assertColumnExists(engine, 'flavors', 'description') def _check_051(self, engine, data): for column in ['root_provider_id', 'parent_provider_id']: self.assertColumnExists(engine, 'resource_providers', column) self.assertIndexExists(engine, 'resource_providers', 'resource_providers_root_provider_id_idx') self.assertIndexExists(engine, 'resource_providers', 'resource_providers_parent_provider_id_idx') def _pre_upgrade_052(self, engine): request_specs = db_utils.get_table(engine, 'request_specs') # The spec value is a serialized json blob. spec = jsonutils.dumps( {""instance_group"": {""id"": 42, ""members"": [""uuid1"", ""uuid2"", ""uuid3""]}}) fake_request_spec = { 'id': 42, 'spec': spec, 'instance_uuid': uuids.instance} request_specs.insert().execute(fake_request_spec) def _check_052(self, engine, data): request_specs = db_utils.get_table(engine, 'request_specs') if engine.name == 'mysql': self.assertIsInstance(request_specs.c.spec.type, sqlalchemy.dialects.mysql.MEDIUMTEXT) expected_spec = {""instance_group"": {""id"": 42, ""members"": [""uuid1"", ""uuid2"", ""uuid3""]}} from_db_request_spec = request_specs.select( request_specs.c.id == 42).execute().first() self.assertEqual(uuids.instance, from_db_request_spec['instance_uuid']) db_spec = jsonutils.loads(from_db_request_spec['spec']) self.assertDictEqual(expected_spec, db_spec) ",13,261
openstack%2Fcinder~master~I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc,openstack/cinder,master,I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc,Pure Storage: check volumename length does not exceed maximum,MERGED,2021-01-05 17:06:52.000000000,2021-03-09 20:37:19.000000000,2021-03-09 19:34:13.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 17:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22114f538bbe51e5719709a9553e4ccb60cb389f', 'message': 'Pure Storage: Fix volume name length\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 2, 'created': '2021-01-05 17:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41a98287b7155554c639c997f05c98447a891045', 'message': 'Pure Storage: Fix volume name length\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 3, 'created': '2021-01-21 18:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a05b4b3536880e1b9ddd18692759c43f9dcb2c7', 'message': ""Pure Storage: Add volume prefix option and check lengths\n\nThis patch adds a new option to add a prefix to volume\nnames. This is used to allow multi-cluster usage for a\nbackend.\n\nNew option is \\'pure_cluster-name\\' and default to \\'\\'\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n""}, {'number': 4, 'created': '2021-01-21 18:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b68db8a498dda07bdb3e9e5b4e90dc353d12ecf', 'message': ""Pure Storage: Add volume prefix option and check lengths\n\nThis patch adds a new option to add a prefix to volume\nnames. This is used to allow multi-cluster usage for a\nbackend.\n\nNew option is 'pure_cluster-name' and default to ''\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n""}, {'number': 5, 'created': '2021-01-21 22:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/787a541f8879da589629ba7df59e4157e1b5b8af', 'message': ""Pure Storage: Add volume prefix option and check lengths\n\nThis patch adds a new option to add a prefix to volume\nnames. This is used to allow multi-cluster usage for a\nbackend.\n\nNew option is \\'pure_cluster-name\\' and default to \\'\\'\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n""}, {'number': 6, 'created': '2021-01-29 23:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ba20262aa0c7718ad5e446f8252da566833dcf9', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 7, 'created': '2021-01-29 23:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4930149a48f6f7d9f760442c9899e34c0f1828b', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 8, 'created': '2021-01-29 23:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5be68b3f8c0910d277539e5990a60eccf9f2b54e', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 9, 'created': '2021-01-29 23:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0caebfab9a19dae70bacadaba11716f87ba4f84', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 10, 'created': '2021-01-30 02:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34cf4167f3ee2619e6bca5531e1638a0efa8e8ca', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 11, 'created': '2021-02-24 18:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c751c694fbdcd61b2761743d5d465d34a7e7b204', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 12, 'created': '2021-02-24 18:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/856b0ef6401b27299f6dae020101e70a7ba09e88', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 13, 'created': '2021-03-06 14:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54b9f252830bf40df856c84043abcbdab4ecb74a', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}, {'number': 14, 'created': '2021-03-06 14:17:15.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/bug-1870103-013e314e9a5b8e08.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb219d6b9f62cc549cb9fe38b60e5e0b5aa450cf', 'message': 'Pure Storage: check volumename length does not exceed maximum\n\nAdd in checks to ensure volume names in all cases, including\nsnapshotting and unmanaging, do not exceed the name length\nlimits on the FlashArray\n\nChange-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc\nCloses-Bug: 1870103\n'}]",15,769405,bb219d6b9f62cc549cb9fe38b60e5e0b5aa450cf,236,3,14,13425,,,0,"Pure Storage: check volumename length does not exceed maximum

Add in checks to ensure volume names in all cases, including
snapshotting and unmanaging, do not exceed the name length
limits on the FlashArray

Change-Id: I6c153fd6c9c0f485092a82f0e6ae020ec5980fcc
Closes-Bug: 1870103
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/769405/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/bug-1870103-013e314e9a5b8e08.yaml']",2,22114f538bbe51e5719709a9553e4ccb60cb389f,bug/1870103,--- fixes: - | [`bug 1870103 <https://bugs.launchpad.net/cinder/+bug/1870103>`_] Resolve mathematical typo in previous commit ,,7,2
openstack%2Fdevstack~master~I0e2bb5412701d515153c023873addb9d7abdb8a4,openstack/devstack,master,I0e2bb5412701d515153c023873addb9d7abdb8a4,Simulate a remote/standalone g-api worker,MERGED,2021-01-12 22:56:52.000000000,2021-03-09 20:35:41.000000000,2021-03-09 20:24:56.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-12 22:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0cb1b7fab63f5eb26beab8a4895709226c4e55bd', 'message': ""WIP: Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\n\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 2, 'created': '2021-01-12 23:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/494e804234f9e338a6ba1a8ce137e5ff17ac00e4', 'message': ""WIP: Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 3, 'created': '2021-01-13 00:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/38bd2b82a9f6b429456f3cebf4efcb17fc139fe4', 'message': ""WIP: Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalong as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 4, 'created': '2021-01-13 17:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0ce6c36df21ad72608e78206dcdfeb91907d9a38', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalong as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 5, 'created': '2021-01-16 00:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6456e6c76e267eac52bf1c3e46c704d0757d38d', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalong as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 6, 'created': '2021-01-27 19:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2f398f94bed1b7fa1d58d41bbc19e2ebf8b458f3', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 7, 'created': '2021-02-16 17:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/679ed91b2701ae412325b5c5a277b791b507f5ca', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 8, 'created': '2021-02-17 15:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a1a6668782afca189049d9f20f31f0bb1645837', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 9, 'created': '2021-03-03 22:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/691a1a201983c787762a7c294cb9eac6a27e1642', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 10, 'created': '2021-03-03 23:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5cd0185e8eda3bd7ce4058c85869dbb06d0d5aec', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 11, 'created': '2021-03-03 23:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/8cddaac11f306af864aede0ef02a5cd713232c6d', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}, {'number': 12, 'created': '2021-03-09 02:25:38.000000000', 'files': ['lib/glance', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/802259a49656170108dd79559166ad89c49e2ef7', 'message': ""Simulate a remote/standalone g-api worker\n\nIn order to be able to test glance's distributed import function,\nwe need to have multiple workers in an arrangement like they\nwould be if one was on another host (potentially at another site).\nThis extra worker must be separate from the default image service\nin order to repeatedly hit one and then the other to test cross-\nservice interactions.\n\nThis allows you to enable_service g-api-r, which will clone the main\ng-api service, modify it to run on a different port, and start it.\nThe service will be registered in the catalog as image_remote.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/769976\nChange-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4\n""}]",39,770487,802259a49656170108dd79559166ad89c49e2ef7,49,5,12,4393,,,0,"Simulate a remote/standalone g-api worker

In order to be able to test glance's distributed import function,
we need to have multiple workers in an arrangement like they
would be if one was on another host (potentially at another site).
This extra worker must be separate from the default image service
in order to repeatedly hit one and then the other to test cross-
service interactions.

This allows you to enable_service g-api-r, which will clone the main
g-api service, modify it to run on a different port, and start it.
The service will be registered in the catalog as image_remote.

Depends-On: https://review.opendev.org/c/openstack/glance/+/769976
Change-Id: I0e2bb5412701d515153c023873addb9d7abdb8a4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/770487/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,0cb1b7fab63f5eb26beab8a4895709226c4e55bd,bp/distributed-image-import," # Grab our uwsgi listen address and use that to fill out our # worker_self_reference_url config iniset $GLANCE_API_CONF DEFAULT worker_self_reference_url \ $(awk '-F= ' '/^http-socket/ { print ""http://""$2}' \ $GLANCE_UWSGI_CONF)# glance_remote_conf() - Return the path to an alternate config file for # the remote glance clone function glance_remote_conf { echo ""$(dirname ${GLANCE_CONF_DIR})/glance-remote/""$(basename ""$1"") } # start_glance_remote_clone() - Clone the regular glance api worker function start_glance_remote_clone { local glance_remote_conf glance_remote_port glance_remote_conf_dir=$(glance_remote_conf '') glance_remote_port=$(get_random_port) # Clone the existing ready-to-go glance-api setup sudo rm -Rf $glance_remote_conf_dir sudo cp -r ""$GLANCE_CONF_DIR"" $glance_remote_conf_dir sudo chown $STACK_USER -R $glance_remote_conf_dir # Change our uwsgi to our new port sed -ri ""s/^(http-socket.*):[0-9]+/\1:$glance_remote_port/"" \ $(glance_remote_conf $GLANCE_UWSGI_CONF) # Update the self-reference url with our new port iniset $(glance_remote_conf $GLANCE_API_CONF) DEFAULT \ worker_self_reference_url \ $(awk '-F= ' '/^http-socket/ { print ""http://""$2 }' \ $(glance_remote_conf $GLANCE_UWSGI_CONF)) # We need to create the systemd service for the clone, but then # change it to include an Environment line to point the WSGI app # at the alternate config directory. # NOTE(danms): iniset is broken when the value has an '=' character # in it, so we can't use that here. run_process g-api-r ""$(which uwsgi) --procname-prefix glance-api-remote --ini $(glance_remote_conf $GLANCE_UWSGI_CONF)"" sudo sed -ri ""s#^(RestartForce.*)#\1\nEnvironment=OS_GLANCE_CONFIG_DIR=$glance_remote_conf_dir#"" \ ""${SYSTEMD_DIR}/devstack@g-api-r.service"" # Be gentle, as we can race to kill uwsgi with its own startup, which # will cause systemctl to hang for a long time before failing. sleep 3 # Reload and restart with the new config $SYSTEMCTL daemon-reload $SYSTEMCTL restart devstack@g-api-r } if is_service_enabled g-api-r; then echo ""Starting the g-api-r clone service..."" start_glance_remote_clone fi stop_process g-api-r",,57,0
openstack%2Fcinder~master~I4923cda0e7b747c141203a024c325c4d2b8cea02,openstack/cinder,master,I4923cda0e7b747c141203a024c325c4d2b8cea02,[Pure] Fix failing consistency group tempest tests,MERGED,2021-02-16 22:33:59.000000000,2021-03-09 20:35:20.000000000,2021-03-09 20:23:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-02-16 22:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d1276cc2c48f8b21a5fe1c0b304fec2a621c15c', 'message': '[Pure] Fix failing consistency group tempest tests\n\nChange-Id: I4923cda0e7b747c141203a024c325c4d2b8cea02\n'}, {'number': 2, 'created': '2021-02-23 13:59:27.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure_tempest_cg_fix-913d405f7487de00.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41101463a859a8dfb3ce06330ce50c380efe6209', 'message': '[Pure] Fix failing consistency group tempest tests\n\nCurrently CG tests have to be disabled due to this failing test. This\ntest will never succeed because the underlying array cannot create a\ncondition where this type of failure would occur.\nThis test has never passed due to the underlying fundamental\nmisunderstanding of the arrays internal logic mechanisms and should\nnever have been in the test suite in the first place.\n\nChange-Id: I4923cda0e7b747c141203a024c325c4d2b8cea02\n'}]",0,775944,41101463a859a8dfb3ce06330ce50c380efe6209,101,4,2,13425,,,0,"[Pure] Fix failing consistency group tempest tests

Currently CG tests have to be disabled due to this failing test. This
test will never succeed because the underlying array cannot create a
condition where this type of failure would occur.
This test has never passed due to the underlying fundamental
misunderstanding of the arrays internal logic mechanisms and should
never have been in the test suite in the first place.

Change-Id: I4923cda0e7b747c141203a024c325c4d2b8cea02
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/775944/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure_tempest_cg_fix-913d405f7487de00.yaml']",3,5d1276cc2c48f8b21a5fe1c0b304fec2a621c15c,tempest_fix,--- fixes: - | Pure Storage FlashArray driver fix to ensure cinder_tempest_plugin consistency group tests pass. ,,6,28
openstack%2Fglance~master~If0c456617a9e17c006a6ffe2a83f4a73b53da3d0,openstack/glance,master,If0c456617a9e17c006a6ffe2a83f4a73b53da3d0,Implement project personas for image actions,MERGED,2020-11-30 13:54:13.000000000,2021-03-09 20:34:51.000000000,2021-03-09 20:25:38.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 13:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9fc20a5f8ac4c3d71b06e709d97a02187121133d', 'message': 'PoC Implement secure RBAC for image actions\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n'}, {'number': 2, 'created': '2020-12-02 18:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e6c6a2e45021130cc8744cc95710f5b57b7a0a92', 'message': 'PoC Implement secure RBAC for image actions\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n'}, {'number': 3, 'created': '2021-02-03 08:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/be45a7728307471e2b5f665a3779e30efdc0121e', 'message': 'PoC Implement secure RBAC for image actions\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n'}, {'number': 4, 'created': '2021-02-03 18:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/51e4ac050aca281c2fd5b46f762f29fb6fe033a9', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 5, 'created': '2021-02-03 18:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83c16abccb62070f14c89df752e2b368c672dc90', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 6, 'created': '2021-02-03 22:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7056a00a0f0bed1c0df1fbbd7de51ca61847d8b', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 7, 'created': '2021-02-05 21:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f1ba4c5bb4e5b2912760b0aed93c81d8435b6f7f', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 8, 'created': '2021-02-10 20:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/41c7d2f033c20bef32ed3348411ee1ba275a07a1', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 9, 'created': '2021-02-15 19:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b5f4209f1c7484da38ab492320edef8724113c46', 'message': ""Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware.\n\nIt also refactors two unit tests that were expected to fail with\nunauthorized contexts because of the default glance policy rule. This is\nchanging here with this patch because we're deprecating the policy used\nin the test, which logically ORs the policy values in oslo.policy by\ndefault to allow for smooth upgrades. The tests needed to be updated\nwith a configuration switch so we're testing the new defaults. But, the\nupdated tests in this patch might be obsolete once we have formal\nprotection testing implemented in either glance or tempest that\nexercise the policy defaults, instead of an empty policy file.\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 10, 'created': '2021-02-19 08:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/068bb653fd1dc3a64a1e1a68ad3d14562dfa6009', 'message': 'Implement secure RBAC for image actions\n\nThis commit updates the policies for image actions to be default role\nand scope aware if ``enforce_new_policies`` option is set to True.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``enforce_new_policies`` to True along\nwith ``enforce_new_defaults`` of section ``oslo_policy`` to True in\nglance-api.conf file.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n'}, {'number': 11, 'created': '2021-02-23 04:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fe09614a0b5d2a7a216e9c61b33c42e15b86476c', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 12, 'created': '2021-02-24 05:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/694d2c1007834319fa9d4f0ffcc31e5928de03e1', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 13, 'created': '2021-02-24 13:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6c97a593d14ac07dc68a5c56dfefd7607baf4a9', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 14, 'created': '2021-02-24 17:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e14b0cde25ab721605f222d0dacfa119f02c5056', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 15, 'created': '2021-03-01 19:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aec3f4b147c3038f61fc5daf84c3bc135334be54', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 16, 'created': '2021-03-01 20:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bf091b9a76d210679db1fd07ae2fdf859998781d', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\nGlance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\nenable it operator needs to set ``glance-api.conf [oslo_policy]\nenforce_new_defaults`` to True.\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 17, 'created': '2021-03-01 21:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8441afc7720e380f7005651a4eccb2dbf9314d3c', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 18, 'created': '2021-03-02 13:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/47fa359614cab41231e672ff5c3ed46135f6ba78', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 19, 'created': '2021-03-02 14:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db31004f723c601bae58e41fa7bd07bf7492b271', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 20, 'created': '2021-03-02 17:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2277c6fecfb068232eea49384a37b07747858010', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 21, 'created': '2021-03-02 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dd60ac6d31ba823c4bf1735cd3f1423a74741204', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 22, 'created': '2021-03-03 00:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4f0f579ecf34ffe61e402cf1382bc90fa0668298', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 23, 'created': '2021-03-03 03:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/607623910a3a70a5af7ee3072bac98d04a021b6c', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 24, 'created': '2021-03-04 04:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/32e34653938cb10d0cc60da8866f4642e1b099df', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 25, 'created': '2021-03-04 18:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0cbff29da4741610824fffb8cbf90fecabbf0ff0', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 26, 'created': '2021-03-04 20:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8ccc69eb2603f3c792ffa0fbc5c426fd32f0cf05', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 27, 'created': '2021-03-04 21:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53561f12f4972042e506f4441692d0ca57a78f74', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 28, 'created': '2021-03-05 17:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c693ec8430a79745117b60ea27c95b56034ab383', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 29, 'created': '2021-03-05 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2a2797421285e5baeff7fc86425c32059f5e96db', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 30, 'created': '2021-03-05 20:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/64bdee1527558c043fb65dc53f09f2bf67807aa8', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 31, 'created': '2021-03-05 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc1b74ceb549803862b0150df429f7f70d60c37b', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 32, 'created': '2021-03-05 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f01563ada091c9ca16e7dc79ceeed92ea02a1ff0', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 33, 'created': '2021-03-07 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8b07f09af549df39f4a893ab8736aee880660ef0', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 34, 'created': '2021-03-07 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc3484bc7696492bbc0d3863a407f0b618341965', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}, {'number': 35, 'created': '2021-03-08 07:26:56.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/api/middleware/cache.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/policies/image.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/policies/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/31414b9f61ac4c923ede30a3c7e32662e9c14e1a', 'message': ""Implement project personas for image actions\n\nThis commit updates the policies for image actions to use default roles\navailable from keystone. Specifically, we're updating the defaults to\nuser project-member and project-reader personas. The project-admin\npersona is still reserved for administrative APIs access for system\nadministrators/operators. This will remain the case until we can\nrefactor portions of glance to make it easier to implement system-scope.\n\nNOTE:\n  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to\n  enable it operator needs to set ``glance-api.conf [oslo_policy]\n  enforce_new_defaults=True`` and ``glance-api.conf\n  enforce_secure_rbac=True``\n\nImplements: blueprint secure-rbac\n\nChange-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0\n""}]",125,764754,31414b9f61ac4c923ede30a3c7e32662e9c14e1a,201,5,35,9303,,,0,"Implement project personas for image actions

This commit updates the policies for image actions to use default roles
available from keystone. Specifically, we're updating the defaults to
user project-member and project-reader personas. The project-admin
persona is still reserved for administrative APIs access for system
administrators/operators. This will remain the case until we can
refactor portions of glance to make it easier to implement system-scope.

NOTE:
  Glance is implementing Secure RBAC as EXPERIMENTAL in Wallaby, so to
  enable it operator needs to set ``glance-api.conf [oslo_policy]
  enforce_new_defaults=True`` and ``glance-api.conf
  enforce_secure_rbac=True``

Implements: blueprint secure-rbac

Change-Id: If0c456617a9e17c006a6ffe2a83f4a73b53da3d0
",git fetch https://review.opendev.org/openstack/glance refs/changes/54/764754/32 && git format-patch -1 --stdout FETCH_HEAD,"['glance/policies/image.py', 'glance/policies/base.py']",2,9fc20a5f8ac4c3d71b06e709d97a02187121133d,secure-rbac,"SYSTEM_ADMIN = 'role:admin and system_scope:all'SYSTEM_READER = 'role:reader and system_scope:all'# Composite check strings useful for APIs and resources that operate across # more than one scope. SYSTEM_ADMIN_OR_PROJECT_MEMBER = '(%s or %s)' % (SYSTEM_ADMIN, PROJECT_MEMBER) SYSTEM_OR_PROJECT_READER = '(%s or %s)' % (SYSTEM_READER, PROJECT_READER) ",SYSTEM_ADMIN = 'role:all and system_scope:all'SYSTEM_READER = 'role:all and system_scope:all',390,23
openstack%2Frequirements~master~I2d473f5a2d41c116faf1b3c700552680610a3999,openstack/requirements,master,I2d473f5a2d41c116faf1b3c700552680610a3999,update constraint for ironic-lib to new release 4.6.1,MERGED,2021-03-09 08:14:48.000000000,2021-03-09 20:34:29.000000000,2021-03-09 20:24:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-09 08:14:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/32a0ede07f41bc203bf06f377c1935f8d266e320', 'message': 'update constraint for ironic-lib to new release 4.6.1\n\nmeta: version: 4.6.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: Id23734d7078c61e4278ee930e67efa86fb6a0a77\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I2d473f5a2d41c116faf1b3c700552680610a3999\n'}]",0,779437,32a0ede07f41bc203bf06f377c1935f8d266e320,9,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.6.1

meta: version: 4.6.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: Id23734d7078c61e4278ee930e67efa86fb6a0a77
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I2d473f5a2d41c116faf1b3c700552680610a3999
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/779437/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,32a0ede07f41bc203bf06f377c1935f8d266e320,new-release,ironic-lib===4.6.1,ironic-lib===4.5.0,1,1
openstack%2Fneutron~stable%2Fussuri~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/ussuri,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,MERGED,2021-02-19 08:07:10.000000000,2021-03-09 20:34:12.000000000,2021-03-09 20:23:18.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9061f67d2e4dc1c53117f6ebd2127606e6ed3948', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 2, 'created': '2021-02-23 07:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbd3f7edcde43850d043a8ae4c7df3e19d10a01c', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 3, 'created': '2021-02-25 08:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d578646382f1883e8022800d9a552c5a649c2f96', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 4, 'created': '2021-02-25 20:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c68862334ec797bb7fea0813c510e99a9587e49', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 5, 'created': '2021-03-03 08:37:15.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/630fc3b4bdac7d4d8fd03a234a016ece2be42738', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}]",2,776583,630fc3b4bdac7d4d8fd03a234a016ece2be42738,24,3,5,11975,,,0,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/unit/agent/dhcp/test_agent.py
    neutron/tests/unit/agent/metadata/test_driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/776583/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",3,9061f67d2e4dc1c53117f6ebd2127606e6ed3948,bug/1907695-stable/ussuri,"import signal @mock.patch.object(linux_utils, 'delete_if_exists') mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))", mock.call().disable()]) mock.call().disable()]) mock.call().disable(),63,5
openstack%2Fnetworking-ovn~stable%2Ftrain~I8717a299816d6ac04b9c9cfe10393921fc9ec66d,openstack/networking-ovn,stable/train,I8717a299816d6ac04b9c9cfe10393921fc9ec66d,[DNM] [OVN] security group logging support (2 of 2),ABANDONED,2021-02-10 14:02:26.000000000,2021-03-09 20:33:44.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-10 14:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/116294b902444f62b7e983a7b79a4c8b4d501083', 'message': '[WIP] [DNM] [OVN] Please ignore\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n'}, {'number': 2, 'created': '2021-02-10 14:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8a69251034dc9a14f91df5928c47430caad2f95a', 'message': ""[WIP] [DNM] [OVN] Please ignore\n\nFeb 10 11:10:31 stack neutron-server[19998]: CRITICAL neutron.plugins.ml2.managers [-] The 'ovn = networking_ovn.ml2.mech_driver:OVNMechanismDriver' entrypoint could not be loaded for the following reason: 'No module named ovn'.\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n""}, {'number': 3, 'created': '2021-02-10 15:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0ed645e1d017b841004173e54dfcea8964c887fc', 'message': '[DNM] [OVN] security group logging support\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is a subset of patchset 2 of 3 for OVN driver handling\nof security-group-logging.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\n'}, {'number': 4, 'created': '2021-02-10 16:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/91dc1285e2c4a832b6156e2abe69ec088cedbf69', 'message': '[DNM] [OVN] security group logging support\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is a subset of patchset 2 of 3 for OVN driver handling\nof security-group-logging.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129\n\nRelated-Bug: 1914757\nRelated-Bug: 1468366\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\n'}, {'number': 5, 'created': '2021-02-12 03:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/436a7627442b54db83e0d2c6797c1f9707d75ec5', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 6, 'created': '2021-02-12 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/29737f7964eba9e97e25f8b39735be4130d8e8f6', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 7, 'created': '2021-02-12 14:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4ede3f99cba822592bf7d94ec477fbd5b39f5569', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 8, 'created': '2021-02-23 22:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7c0a462064120213122f5a0b1eea5bc991f386cd', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 9, 'created': '2021-02-24 16:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a3d285cb101d2249200765afedc5f13ef7abc073', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 10, 'created': '2021-02-26 03:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6431fba9527858ca3c33beefa287627ee2867b10', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 11, 'created': '2021-02-26 03:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/81fb20b500fd85f48e6a59dcded49dca5c2e0d39', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 12, 'created': '2021-03-01 23:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a5e0ac77662b4d341402e95a593daeabf297812', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 13, 'created': '2021-03-02 11:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cb148911ca87d17c739a4ab8f44b491d79ffcdf0', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 14, 'created': '2021-03-02 16:16:38.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/common/extensions.py', 'networking_ovn/ml2/logapi_driver.py', 'devstack/local.conf.sample', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/tests/unit/ml2/test_logapi_driver.py', 'networking_ovn/tests/functional/test_logapi_driver.py', 'releasenotes/notes/add-sg-logging-ovn-83cc121a657a1d14.yaml', 'networking_ovn/tests/functional/base.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1b2fb30434cfa6e9efa5bbf4b3637534d842c823', 'message': '[DNM] [OVN] security group logging support (2 of 2)\n\nDo not merge: as OVN driver security-group-logging is a new\nfeature, it will not be backported to stable branches. This\ngerrit is mostly a placeholder, to be soon abandoned.\n\nThis is patchset 2 of 2 for OVN driver handling of security-group-logging.\nIt includes the core changes and tests for this feature.\n\nThis feature requires OVN 20.12 [0] or newer. Functional test will be\nskipped for non-supported versions.\n\nBackport from https://review.opendev.org/c/openstack/neutron/+/768129/34\n\nRelated-Bug: 1468366\nCloses-Bug: 1914757\n\n[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf\n\nChange-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d\n(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",1,774864,1b2fb30434cfa6e9efa5bbf4b3637534d842c823,32,2,14,11952,,,0,"[DNM] [OVN] security group logging support (2 of 2)

Do not merge: as OVN driver security-group-logging is a new
feature, it will not be backported to stable branches. This
gerrit is mostly a placeholder, to be soon abandoned.

This is patchset 2 of 2 for OVN driver handling of security-group-logging.
It includes the core changes and tests for this feature.

This feature requires OVN 20.12 [0] or newer. Functional test will be
skipped for non-supported versions.

Backport from https://review.opendev.org/c/openstack/neutron/+/768129/34

Related-Bug: 1468366
Closes-Bug: 1914757

[0]: https://github.com/ovn-org/ovn/commit/880dca99eaf73db7e783999c29386d03c82093bf

Change-Id: I8717a299816d6ac04b9c9cfe10393921fc9ec66d
(cherry picked from Neutron commit 5b69930792cfb39143e672cda97bea077f69abc0)
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/64/774864/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/extensions.py', 'networking_ovn/ml2/logapi_driver.py', 'devstack/local.conf.sample', 'networking_ovn/ml2/mech_driver.py']",4,116294b902444f62b7e983a7b79a4c8b4d501083,sglog/ovn,from networking_ovn.ml2 import logapi_driver logapi_driver.register(self),,359,0
openstack%2Felection~master~Iffb0ad848beff095be15b53b2206dcc87ab13c74,openstack/election,master,Iffb0ad848beff095be15b53b2206dcc87ab13c74,add Matthew Thode PTL candidate for Requirements,MERGED,2021-03-09 16:44:30.000000000,2021-03-09 20:22:03.000000000,2021-03-09 20:19:43.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 16:44:30.000000000', 'files': ['candidates/xena/Requirements/mthode@mthode.org'], 'web_link': 'https://opendev.org/openstack/election/commit/7af2891dec62600b2359947ea74e9408cbc7e39e', 'message': 'add Matthew Thode PTL candidate for Requirements\n\nChange-Id: Iffb0ad848beff095be15b53b2206dcc87ab13c74\n'}]",0,779536,7af2891dec62600b2359947ea74e9408cbc7e39e,8,3,1,14288,,,0,"add Matthew Thode PTL candidate for Requirements

Change-Id: Iffb0ad848beff095be15b53b2206dcc87ab13c74
",git fetch https://review.opendev.org/openstack/election refs/changes/36/779536/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Requirements/mthode@mthode.org'],1,7af2891dec62600b2359947ea74e9408cbc7e39e,requirements-xena,"I would like to announce my candidacy for PTL of the Requirements project for the Xena cycle. The following will be my goals for the cycle, in order of importance: 1. The primary goal is to keep a tight rein on global-requirements and upper-constraints updates. (Keep things working well) 2. Un-cap requirements where possible (stuff like prettytable). 3. Fix some automation of generate contstraints (pkg-resources being added and setuptools being dropped) 4. Audit global-requirements and upper-constraints for redundancies. One of the rules we have for new entrants to global-requirements and/or upper-constraints is that they be non-redundant. Keeping that rule in mind, audit the list of requirements for possible redundancies and if possible, reduce the number of requirements we manage. I look forward to continue working with you in this cycle, as your PTL or not. Thanks for your time, Matthew Thode IRC: prometheanfire ",,25,0
openstack%2Felection~master~Ia75c15ffb4bcf64a9d339c13e02d218d8f7a28b7,openstack/election,master,Ia75c15ffb4bcf64a9d339c13e02d218d8f7a28b7,Add Eyal Bar-Ilan candidacy for Vitrage PTL,MERGED,2021-03-09 19:41:43.000000000,2021-03-09 20:21:01.000000000,2021-03-09 20:19:40.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 19:41:43.000000000', 'files': ['candidates/xena/Vitrage/eyalb1@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/c497a7d8a378ae9487eae1c1e77720d0dcc72f16', 'message': 'Add Eyal Bar-Ilan candidacy for Vitrage PTL\n\nChange-Id: Ia75c15ffb4bcf64a9d339c13e02d218d8f7a28b7\n'}]",0,779571,c497a7d8a378ae9487eae1c1e77720d0dcc72f16,8,3,1,19134,,,0,"Add Eyal Bar-Ilan candidacy for Vitrage PTL

Change-Id: Ia75c15ffb4bcf64a9d339c13e02d218d8f7a28b7
",git fetch https://review.opendev.org/openstack/election refs/changes/71/779571/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Vitrage/eyalb1@gmail.com'],1,c497a7d8a378ae9487eae1c1e77720d0dcc72f16,,"Hi, I'm writing this to announce my candidacy for Vitrage Project Team Lead in the Xena cycle. I have been a core contributor from day one and hope continue to work on Vitrage and improve it. Eyal Bar Ilan ",,9,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ice9482c635d104c30f1f44e92475dc517a7fd527,openstack/tripleo-ansible,stable/victoria,Ice9482c635d104c30f1f44e92475dc517a7fd527,"Fixed and rename task name, which does the opposite",MERGED,2021-02-25 08:55:17.000000000,2021-03-09 20:20:32.000000000,2021-03-09 20:20:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-25 08:55:17.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12f2178ffc232b218b71d92d56d5d8602ce60ff9', 'message': 'Fixed and rename task name, which does the opposite\n\nThe task is called PauseXXXX and it realy does the opposite,\nthis name set the name properly to unPause\n\nChange-Id: Ice9482c635d104c30f1f44e92475dc517a7fd527\n(cherry picked from commit 34fc42520a0afac639765a70b97a35995ba5dc0f)\n'}]",0,777333,12f2178ffc232b218b71d92d56d5d8602ce60ff9,7,3,1,22954,,,0,"Fixed and rename task name, which does the opposite

The task is called PauseXXXX and it realy does the opposite,
this name set the name properly to unPause

Change-Id: Ice9482c635d104c30f1f44e92475dc517a7fd527
(cherry picked from commit 34fc42520a0afac639765a70b97a35995ba5dc0f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/777333/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml'],1,12f2178ffc232b218b71d92d56d5d8602ce60ff9,typo-stable/victoria,- name: unPause containers,- name: Pause containers for database backup.,1,1
openstack%2Fcharm-guide~master~I5b0829df737a5d5eacb872f8f981aeec7bf79e98,openstack/charm-guide,master,I5b0829df737a5d5eacb872f8f981aeec7bf79e98,Deprecate hacluster's stonith_enabled option,MERGED,2021-03-04 12:26:55.000000000,2021-03-09 20:19:54.000000000,2021-03-09 20:18:14.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-03-04 12:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a54f7b6e2032bb3d6a132326d35fef6b54f5872c', 'message': ""Deprecate hacluster's stonith_enabled option\n\nChange-Id: I5b0829df737a5d5eacb872f8f981aeec7bf79e98\nCloses-Bug: #1881114\n""}, {'number': 2, 'created': '2021-03-04 21:33:29.000000000', 'files': ['doc/source/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/3a3adf36add3822d66cf088e93d7bb97797aa5f6', 'message': ""Deprecate hacluster's stonith_enabled option\n\nChange-Id: I5b0829df737a5d5eacb872f8f981aeec7bf79e98\nCloses-Bug: #1881114\n""}]",1,778667,3a3adf36add3822d66cf088e93d7bb97797aa5f6,10,2,2,31289,,,0,"Deprecate hacluster's stonith_enabled option

Change-Id: I5b0829df737a5d5eacb872f8f981aeec7bf79e98
Closes-Bug: #1881114
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/67/778667/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2104.rst'],1,a54f7b6e2032bb3d6a132326d35fef6b54f5872c,deprecate-stonith-enabled,hacluster charm ``stonith_enabled`` option ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ``stonith_enabled`` configuration option for the hacluster charm is deprecated and will be removed in the next release of the OpenStack Charms. Resource fencing (a.k.a STONITH) is now always enabled for every node in the cluster. See bug `LP #1881114`_ and `What is STONITH?`_ for more details. .. _What is STONITH?: https://clusterlabs.org/pacemaker/doc/en-US/Pacemaker/1.1/html/Clusters_from_Scratch/ch08.html.. _LP #1881114: https://bugs.launchpad.net/charm-hacluster/+bug/1881114,,10,0
openstack%2Felection~master~Ieceebc8485dea5a2e15cedd8c947ed10d4d56209,openstack/election,master,Ieceebc8485dea5a2e15cedd8c947ed10d4d56209,Propose yoctozepto for Masakari PTL,MERGED,2021-03-09 19:34:52.000000000,2021-03-09 20:18:57.000000000,2021-03-09 20:17:57.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 19:34:52.000000000', 'files': ['candidates/xena/Masakari/radoslaw.piliszek@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/aad02a2676b1c389100bb9e8bd737a820cee6a52', 'message': 'Propose yoctozepto for Masakari PTL\n\nChange-Id: Ieceebc8485dea5a2e15cedd8c947ed10d4d56209\n'}]",0,779568,aad02a2676b1c389100bb9e8bd737a820cee6a52,8,3,1,30491,,,0,"Propose yoctozepto for Masakari PTL

Change-Id: Ieceebc8485dea5a2e15cedd8c947ed10d4d56209
",git fetch https://review.opendev.org/openstack/election refs/changes/68/779568/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Masakari/radoslaw.piliszek@gmail.com'],1,aad02a2676b1c389100bb9e8bd737a820cee6a52,masakari-xena,"I am self-nominating myself for the position of Masakari's PTL for the Xena cycle. I have served Masakari as PTL during the Wallaby cycle and want to continue. During my lead, I have focused on making CI robust, general bugfixing, cleanups and finishing community goals. I have reactivated the weekly Masakari meetings. I plan to keep this trend while accepting new features. - Radosław Piliszek (yoctozepto) ",,9,0
openstack%2Fkolla-ansible~master~Ic477ac77f7ea5c50de473382fb1ec63d78043267,openstack/kolla-ansible,master,Ic477ac77f7ea5c50de473382fb1ec63d78043267,Use Docker healthchecks for aodh services,MERGED,2021-03-05 11:15:26.000000000,2021-03-09 20:17:31.000000000,2021-03-09 20:15:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-05 11:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e9fb36bce8ad077dbbb253aa521d2e62aff1c9d', 'message': 'Use Docker healthchecks for aodh services\n\nThis change enables the use of Docker healthchecks for aodh services.\nImplements: blueprint container-health-check\n\nChange-Id: Ic477ac77f7ea5c50de473382fb1ec63d78043267\n'}, {'number': 2, 'created': '2021-03-08 14:35:36.000000000', 'files': ['ansible/roles/aodh/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-aodh-1ddc44642c39b765.yaml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/aodh/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3969c4a7d51ff8965fb4370be3133a579176c24', 'message': 'Use Docker healthchecks for aodh services\n\nThis change enables the use of Docker healthchecks for aodh services.\nImplements: blueprint container-health-check\n\nChange-Id: Ic477ac77f7ea5c50de473382fb1ec63d78043267\n'}]",1,778882,c3969c4a7d51ff8965fb4370be3133a579176c24,14,3,2,31506,,,0,"Use Docker healthchecks for aodh services

This change enables the use of Docker healthchecks for aodh services.
Implements: blueprint container-health-check

Change-Id: Ic477ac77f7ea5c50de473382fb1ec63d78043267
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/778882/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/aodh/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-aodh-1ddc44642c39b765.yaml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/aodh/tasks/check-containers.yml']",4,9e9fb36bce8ad077dbbb253aa521d2e62aff1c9d,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,68,0
openstack%2Felection~master~I9266942f334f2ba924cc7726061c6db9c21a7897,openstack/election,master,I9266942f334f2ba924cc7726061c6db9c21a7897,Adding Matthias Runge candidacy for Telemetry,MERGED,2021-03-09 16:44:51.000000000,2021-03-09 20:13:26.000000000,2021-03-09 20:11:31.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 16:44:51.000000000', 'files': ['candidates/xena/Telemetry/mrunge@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/50ba90c084b3e70b1227d5ed12e07e96c0c7fd56', 'message': 'Adding Matthias Runge candidacy for Telemetry\n\nChange-Id: I9266942f334f2ba924cc7726061c6db9c21a7897\n'}]",0,779537,50ba90c084b3e70b1227d5ed12e07e96c0c7fd56,8,3,1,4264,,,0,"Adding Matthias Runge candidacy for Telemetry

Change-Id: I9266942f334f2ba924cc7726061c6db9c21a7897
",git fetch https://review.opendev.org/openstack/election refs/changes/37/779537/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Telemetry/mrunge@redhat.com'],1,50ba90c084b3e70b1227d5ed12e07e96c0c7fd56,,"Hi there, I'd like to continue to be the PTL for OpenStack Telemetry for the next Xena cycle. In the past, we have seen a continued decrease in contribution. However, the situation with Gnocchi being external is still causing frictions, but I've had some contribution to Gnocchi. Looking back, we fixed bugs in ceilometer and also dropped six from ceilometer, aodh, and panko. Telemetry should participate in the next PTG in April and should have planning sessions there, after we had a community session on the future use of gnocchi in Telemetry. Thank you for your support and your consideration. Matthias ",,18,0
openstack%2Felection~master~I32007e55e1832eb906a1a90b620a9de313c42e1e,openstack/election,master,I32007e55e1832eb906a1a90b620a9de313c42e1e,Add Spyros Trigazis candidacy for magnum PTL,MERGED,2021-03-09 18:31:11.000000000,2021-03-09 20:12:28.000000000,2021-03-09 20:11:03.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 18:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/8795d4b33048b0a07cb2ffce36ccb055c37a22c4', 'message': 'Add Spyros Trigazis candidacy for magnum PTL\n\nChange-Id: I32007e55e1832eb906a1a90b620a9de313c42e1e\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2021-03-09 19:18:32.000000000', 'files': ['candidates/xena/Magnum/strigazi@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6a3020ee7d6ba276cb4e6ef590a4ad323695800b', 'message': 'Add Spyros Trigazis candidacy for magnum PTL\n\nChange-Id: I32007e55e1832eb906a1a90b620a9de313c42e1e\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,779554,6a3020ee7d6ba276cb4e6ef590a4ad323695800b,11,3,2,20498,,,0,"Add Spyros Trigazis candidacy for magnum PTL

Change-Id: I32007e55e1832eb906a1a90b620a9de313c42e1e
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/election refs/changes/54/779554/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Magnum/spyridon.trigazis@cern.ch'],1,8795d4b33048b0a07cb2ffce36ccb055c37a22c4,magnum-xena,"Hello OpenStack community, I would like to continue serving as Magnum PTL. In wallaby we mostly maintained and updated our templates for kubernetes and related addons along with the CI maintenance. In this release, our focus continues to be making the cloud operators easier with: * control-plane on operators tenant * performance improvements for API calls * cluster node replacement * finish transition to helm3 for addons See you in gerrit, Spyros Trigazis ",,16,0
openstack%2Fneutron~stable%2Fussuri~I73dd37b3104fac8d3172f520f71cffd85d040c4b,openstack/neutron,stable/ussuri,I73dd37b3104fac8d3172f520f71cffd85d040c4b,Delete HA metadata proxy PID and config with elevated privileges,MERGED,2021-02-25 08:58:54.000000000,2021-03-09 20:04:34.000000000,2021-03-09 20:03:02.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 08:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffcf0cf4b7dd4ec90a55ccb37ebde90d62bcc307', 'message': 'Delete HA metadata proxy PID and config with elevated privileges\n\nBoth files cannot be deleted with the default permissions because\nthose files are created by the ""root"" user.\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/functional/agent/l3/framework.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n\nChange-Id: I73dd37b3104fac8d3172f520f71cffd85d040c4b\nCloses-Bug: #1907695\n(cherry picked from commit 0a0f647ea05d3de3820e9dab26ded8c528eee835)\n'}, {'number': 2, 'created': '2021-03-03 08:36:59.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/external_process.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/28cf6786f4f3fe1777fe695a4d09dd451139f707', 'message': 'Delete HA metadata proxy PID and config with elevated privileges\n\nBoth files cannot be deleted with the default permissions because\nthose files are created by the ""root"" user.\n\nConflicts:\n    neutron/agent/metadata/driver.py\n    neutron/tests/functional/agent/l3/framework.py\n    neutron/tests/unit/agent/dhcp/test_agent.py\n\nChange-Id: I73dd37b3104fac8d3172f520f71cffd85d040c4b\nCloses-Bug: #1907695\n(cherry picked from commit 0a0f647ea05d3de3820e9dab26ded8c528eee835)\n'}]",4,777514,28cf6786f4f3fe1777fe695a4d09dd451139f707,20,3,2,11975,,,0,"Delete HA metadata proxy PID and config with elevated privileges

Both files cannot be deleted with the default permissions because
those files are created by the ""root"" user.

Conflicts:
    neutron/agent/metadata/driver.py
    neutron/tests/functional/agent/l3/framework.py
    neutron/tests/unit/agent/dhcp/test_agent.py

Change-Id: I73dd37b3104fac8d3172f520f71cffd85d040c4b
Closes-Bug: #1907695
(cherry picked from commit 0a0f647ea05d3de3820e9dab26ded8c528eee835)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/777514/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/agent/linux/external_process.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/utils.py']",7,ffcf0cf4b7dd4ec90a55ccb37ebde90d62bcc307,bug/1907695-stable/ussuri,"from neutron.privileged.agent.linux import utils as priv_utilsdef delete_if_exists(path, run_as_root=False): """"""Delete a path, executed as normal user or with elevated privileges"""""" if run_as_root: priv_utils.delete_if_exists(path) else: fileutils.delete_if_exists(path) ",,57,20
openstack%2Fnetworking-ovn~stable%2Ftrain~Ibde099db717787d7905d7c7850bebda7e9e261a8,openstack/networking-ovn,stable/train,Ibde099db717787d7905d7c7850bebda7e9e261a8,Don't try to store protocol=None in OVSDB,MERGED,2021-02-23 21:09:29.000000000,2021-03-09 19:49:44.000000000,2021-03-09 19:48:12.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 21:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cb1d89b3784e1cf4c6c00450e480e80e8e04e67b', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n""}, {'number': 2, 'created': '2021-03-04 21:30:05.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9949b7e6d6225158d9e4c281cc8aba1c8ec30f91', 'message': ""Don't try to store protocol=None in OVSDB\n\nThe schema for the 'protocol' column is 0 or 1 strings in the set\n('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are\nrepresented by []. Passing None will cause a schema error to be\nthrown, so pass [] instead of None when protocol is not set.\n\nChange-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8\nCloses-Bug: #1916646\n(cherry picked from ovn-octavia-provider commit a641c2c395043cfc0119fafa3f91d3256c120d70)\n""}]",0,777224,9949b7e6d6225158d9e4c281cc8aba1c8ec30f91,20,6,2,5756,,,0,"Don't try to store protocol=None in OVSDB

The schema for the 'protocol' column is 0 or 1 strings in the set
('tcp', 'udp', 'sctp'). Empty optional values in OVSDB are
represented by []. Passing None will cause a schema error to be
thrown, so pass [] instead of None when protocol is not set.

Change-Id: Ibde099db717787d7905d7c7850bebda7e9e261a8
Closes-Bug: #1916646
(cherry picked from ovn-octavia-provider commit a641c2c395043cfc0119fafa3f91d3256c120d70)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/777224/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,cb1d89b3784e1cf4c6c00450e480e80e8e04e67b,, protocol = protocol.lower() if protocol else [], protocol = protocol.lower() if protocol else None,1,1
openstack%2Fkolla-ansible~master~Ib1eb766d061c376c0bdd693dd6ea1e5b3e3fc02a,openstack/kolla-ansible,master,Ib1eb766d061c376c0bdd693dd6ea1e5b3e3fc02a,Use Docker healthchecks for gnocchi services,MERGED,2021-03-03 14:12:03.000000000,2021-03-09 19:30:45.000000000,2021-03-09 19:28:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-03 14:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7505ba9416c9cddd199eda75320d5523a6118bc0', 'message': 'Use Docker healthchecks for gnocchi services\n\nThis change enables the use of Docker healthchecks for gnocchi services.\nImplements: blueprint container-health-check\n\nChange-Id: Ib1eb766d061c376c0bdd693dd6ea1e5b3e3fc02a\n'}, {'number': 2, 'created': '2021-03-08 14:33:55.000000000', 'files': ['ansible/roles/gnocchi/handlers/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-gnocchi-fa2fa16bcdcc0667.yaml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/gnocchi/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e9ad631874a8b076d3731573935d75a9e31f9cf', 'message': 'Use Docker healthchecks for gnocchi services\n\nThis change enables the use of Docker healthchecks for gnocchi services.\nImplements: blueprint container-health-check\n\nChange-Id: Ib1eb766d061c376c0bdd693dd6ea1e5b3e3fc02a\n'}]",1,778467,3e9ad631874a8b076d3731573935d75a9e31f9cf,14,3,2,31506,,,0,"Use Docker healthchecks for gnocchi services

This change enables the use of Docker healthchecks for gnocchi services.
Implements: blueprint container-health-check

Change-Id: Ib1eb766d061c376c0bdd693dd6ea1e5b3e3fc02a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/778467/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/gnocchi/handlers/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-gnocchi-fa2fa16bcdcc0667.yaml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/gnocchi/tasks/check-containers.yml']",4,7505ba9416c9cddd199eda75320d5523a6118bc0,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,52,0
openstack%2Fswift~master~I4979e06190cad33e68a3d860c1ee2fc5d96228e3,openstack/swift,master,I4979e06190cad33e68a3d860c1ee2fc5d96228e3,WIP: improve relinker cleanup checks,ABANDONED,2021-03-05 11:17:39.000000000,2021-03-09 19:27:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-05 11:17:39.000000000', 'files': ['test/unit/cli/test_relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fac84258901a2da45bd441508f682ed75495ae14', 'message': 'WIP: improve relinker cleanup checks\n\nSo far this is just a failing test to illustrate the problem!\n\nChange-Id: I4979e06190cad33e68a3d860c1ee2fc5d96228e3\n'}]",0,778883,fac84258901a2da45bd441508f682ed75495ae14,3,1,1,7847,,,0,"WIP: improve relinker cleanup checks

So far this is just a failing test to illustrate the problem!

Change-Id: I4979e06190cad33e68a3d860c1ee2fc5d96228e3
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/778883/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/cli/test_relinker.py'],1,fac84258901a2da45bd441508f682ed75495ae14,p-relinker-cleanup-checks," self.obj_path = os.path.join(os.path.sep, account, container, obj) self.obj_ts = utils.Timestamp.now() self.object_fname = self.obj_ts.internal + "".data"" write_metadata(dummy, {'name': self.obj_path, 'Content-Length': '12'}) with mock.patch.object(relinker.logging, 'getLogger', return_value=self.logger): self.assertEqual(1, relinker.main([ 'cleanup', '--swift-dir', self.testdir, '--devices', self.devices, '--skip-mount', ])) obj_path = os.path.join(self.objdir, self.object_fname) self.assertTrue(os.path.isfile(obj_path)) warning_lines = self.logger.get_lines_for_level('warning') self.assertIn('Error cleaning up %s: DiskFileNotExist()' % obj_path, warning_lines) def test_cleanup_older_object_in_new_partition(self): # relink of the current object failed, but there is an older version of # same object in the new partition self._common_test_cleanup() os.unlink(self.expected_file) older_obj_file = os.path.join( self.expected_dir, utils.Timestamp(int(self.obj_ts) - 1).internal + '.data') with open(older_obj_file, ""wb"") as fd: fd.write(b""Hello Olde Worlde!"") write_metadata(fd, {'name': self.obj_path, 'Content-Length': '18'}) with mock.patch.object(relinker.logging, 'getLogger', return_value=self.logger): res = relinker.main([ 'cleanup', '--swift-dir', self.testdir, '--devices', self.devices, '--skip-mount', ]) self.assertEqual(1, res) obj_path = os.path.join(self.objdir, self.object_fname) self.assertTrue(os.path.isfile(obj_path)) self.assertTrue(os.path.isfile(older_obj_file)) warning_lines = self.logger.get_lines_for_level('warning') self.assertIn('Error cleaning up %s: DiskFileNotExist()' % obj_path, warning_lines)"," path = os.path.join(os.path.sep, account, container, obj) self.object_fname = utils.Timestamp.now().internal + "".data"" write_metadata(dummy, {'name': path, 'Content-Length': '12'}) self.assertEqual(1, relinker.main([ 'cleanup', '--swift-dir', self.testdir, '--devices', self.devices, '--skip-mount', ])) self.assertTrue(os.path.isfile( os.path.join(self.objdir, self.object_fname)))",47,11
openstack%2Fmanila~master~I3f01e38a792fe172c1269c390fd36c92cad09890,openstack/manila,master,I3f01e38a792fe172c1269c390fd36c92cad09890,Part 2 - Add RBAC protection tests,NEW,2021-02-23 04:52:57.000000000,2021-03-09 19:23:41.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 04:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0431bfc95894c64f039bf32be9102a010f516c03', 'message': 'Part 2 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- security-services (GET, POST, PUT, DELETE)\n- services (GET, PUT)\n- share access rules (GET)\n- share access metadata (PUT, DELETE)\n- share export locations (GET)\n\nChange-Id: I3f01e38a792fe172c1269c390fd36c92cad09890\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-02-24 21:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/940d7f94ecc8d929834aa372e966303c8738f8da', 'message': 'Part 2 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- security-services (GET, POST, PUT, DELETE)\n- services (GET, PUT)\n- share access rules (GET)\n- share access metadata (PUT, DELETE)\n- share export locations (GET)\n\nChange-Id: I3f01e38a792fe172c1269c390fd36c92cad09890\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-03-02 07:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1fcdd24e02e846aec7169c02b58440d360448fce', 'message': 'Part 2 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- security-services (GET, POST, PUT, DELETE)\n- services (GET, PUT)\n- share access rules (GET)\n- share access metadata (PUT, DELETE)\n- share export locations (GET)\n\nDepends-On: I0009a3d682ee5d9a946821c3f82dfd90faa886aa\nChange-Id: I3f01e38a792fe172c1269c390fd36c92cad09890\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-03-09 15:18:05.000000000', 'files': ['manila/tests/db_utils.py', 'manila/tests/policies/legacy_rbac/security_service.yaml', 'manila/tests/policies/test_service.py', 'manila/tests/policies/test_share_access.py', 'manila/tests/policies/legacy_rbac/service.yaml', 'manila/tests/policies/test_share_access_metadata.py', 'manila/tests/policies/legacy_rbac/share_export_location.yaml', 'manila/tests/policies/legacy_rbac/share_access.yaml', 'manila/tests/policies/test_security_service.py', 'manila/tests/policies/test_share_export_location.py', 'manila/tests/policies/legacy_rbac/share_access_metadata.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/54cd5130d33cbf1c10bd37a905a20a4a774d0bc3', 'message': 'Part 2 - Add RBAC protection tests\n\nThis change enforces API policy\nscenarios with unit testing and ddt.\nIt uses keystone middleware unlike\nexisting policy tests that use the\nnoauth middleware.\n\nThese tests should serve as protection\ntests when making policy/API changes.\n\nThis change adds tests for the following\nAPI groups:\n- security-services (GET, POST, PUT, DELETE)\n- services (GET, PUT)\n- share access rules (GET)\n- share access metadata (PUT, DELETE)\n- share export locations (GET)\n\nDepends-On: I0009a3d682ee5d9a946821c3f82dfd90faa886aa\nChange-Id: I3f01e38a792fe172c1269c390fd36c92cad09890\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,777048,54cd5130d33cbf1c10bd37a905a20a4a774d0bc3,27,2,4,16643,,,0,"Part 2 - Add RBAC protection tests

This change enforces API policy
scenarios with unit testing and ddt.
It uses keystone middleware unlike
existing policy tests that use the
noauth middleware.

These tests should serve as protection
tests when making policy/API changes.

This change adds tests for the following
API groups:
- security-services (GET, POST, PUT, DELETE)
- services (GET, PUT)
- share access rules (GET)
- share access metadata (PUT, DELETE)
- share export locations (GET)

Depends-On: I0009a3d682ee5d9a946821c3f82dfd90faa886aa
Change-Id: I3f01e38a792fe172c1269c390fd36c92cad09890
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/777048/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db_utils.py', 'manila/tests/policies/legacy_rbac/security_service.yaml', 'manila/tests/policies/test_service.py', 'manila/tests/policies/test_share_access.py', 'manila/tests/policies/legacy_rbac/service.yaml', 'manila/tests/policies/test_share_access_metadata.py', 'manila/tests/policies/legacy_rbac/share_export_location.yaml', 'manila/tests/policies/legacy_rbac/share_access.yaml', 'manila/tests/policies/test_security_service.py', 'manila/tests/policies/test_share_export_location.py', 'manila/tests/policies/legacy_rbac/share_access_metadata.yaml']",11,0431bfc95894c64f039bf32be9102a010f516c03,secure-rbac,"# update API project_member_can_update_metadata_on_their_access_rule: path: share-access-rules/7345738c-1f99-4753-bbc3-c483a4897ddc/metadata method: PUT expected_status: 200 body: metadata: foo: barred headers: X-Auth-Token: project-member-token X-Roles: member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: c8a3aebaf8a44589b102693efdd53d94 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' #project_member_cant_update_metadata_on_other_project_access_rule: # path: share-access-rules/682d5411-7391-486a-b674-fe40eb83d8ba/metadata # method: PUT # expected_status: 403 # body: # metadata: # foo: barred # headers: # X-Auth-Token: project-member-token # X-Roles: member,reader # X-Project-Id: 2028f57890044c44a1bff36981e2ec5f # X-User-Id: c8a3aebaf8a44589b102693efdd53d94 # Content-Type: application/json # X-OpenStack-Manila-API-Version: '2.45' project_admin_can_update_metadata_on_their_access_rule: path: share-access-rules/7345738c-1f99-4753-bbc3-c483a4897ddc/metadata method: PUT expected_status: 200 body: metadata: foo: barred headers: X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' project_admin_can_update_metadata_on_other_project_access_rule: path: share-access-rules/682d5411-7391-486a-b674-fe40eb83d8ba/metadata method: PUT expected_status: 200 body: metadata: foo: barred headers: X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' # delete API project_member_can_delete_metadata_on_their_access_rule: path: share-access-rules/7345738c-1f99-4753-bbc3-c483a4897ddc/metadata/foo method: DELETE expected_status: 200 headers: X-Auth-Token: project-member-token X-Roles: member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: c8a3aebaf8a44589b102693efdd53d94 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' #project_member_cant_delete_metadata_on_other_project_access_rule: # path: share-access-rules/682d5411-7391-486a-b674-fe40eb83d8ba/metadata/foo # method: DELETE # expected_status: 403 # headers: # X-Auth-Token: project-member-token # X-Roles: member,reader # X-Project-Id: 2028f57890044c44a1bff36981e2ec5f # X-User-Id: c8a3aebaf8a44589b102693efdd53d94 # Content-Type: application/json # X-OpenStack-Manila-API-Version: '2.45' project_admin_can_delete_metadata_on_their_access_rule: path: share-access-rules/7345738c-1f99-4753-bbc3-c483a4897ddc/metadata/foo method: DELETE expected_status: 200 headers: X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' project_admin_can_delete_metadata_on_other_project_access_rule: path: share-access-rules/682d5411-7391-486a-b674-fe40eb83d8ba/metadata/foo method: DELETE expected_status: 200 headers: X-Auth-Token: project-admin-token X-Roles: admin,member,reader X-Project-Id: 2028f57890044c44a1bff36981e2ec5f X-User-Id: 88da3f5f2f33469fbe469597872c3f97 Content-Type: application/json X-OpenStack-Manila-API-Version: '2.45' ",,940,0
openstack%2Fbarbican~master~I4516c8409958d724e869fdcb2830bef3281e63af,openstack/barbican,master,I4516c8409958d724e869fdcb2830bef3281e63af,DNM: testing setting debug for rbac testing,ABANDONED,2021-03-09 19:03:23.000000000,2021-03-09 19:18:54.000000000,,[],"[{'number': 1, 'created': '2021-03-09 19:03:23.000000000', 'files': ['devstack/lib/barbican'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a4ea0bee70d8580578bcac131def9275afa2ce2e', 'message': 'DNM: testing setting debug for rbac testing\n\nChange-Id: I4516c8409958d724e869fdcb2830bef3281e63af\n'}]",0,779561,a4ea0bee70d8580578bcac131def9275afa2ce2e,2,0,1,9914,,,0,"DNM: testing setting debug for rbac testing

Change-Id: I4516c8409958d724e869fdcb2830bef3281e63af
",git fetch https://review.opendev.org/openstack/barbican refs/changes/61/779561/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/barbican'],1,a4ea0bee70d8580578bcac131def9275afa2ce2e,new_rbac, iniset $BARBICAN_CONF DEFAULT debug true, iniset $BARBICAN_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL,1,1
openstack%2Fkolla-ansible~master~Ide66a914b790ad9c106ba932a923654a960f7abf,openstack/kolla-ansible,master,Ide66a914b790ad9c106ba932a923654a960f7abf,Use Docker healthchecks for designate services,MERGED,2021-03-05 12:19:38.000000000,2021-03-09 19:10:47.000000000,2021-03-09 19:08:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-05 12:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/827d5c748f3d2f5ad3a10433c09458ed77997f20', 'message': 'Use Docker healthchecks for designate services\n\nThis change enables the use of Docker healthchecks for designate services.\nImplements: blueprint container-health-check\n\nChange-Id: Ide66a914b790ad9c106ba932a923654a960f7abf\n'}, {'number': 2, 'created': '2021-03-08 14:15:39.000000000', 'files': ['ansible/roles/designate/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-designate-f4851e1d6245b0f7.yaml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/designate/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51171452a85a888963cb72367eb2166fc706c43a', 'message': 'Use Docker healthchecks for designate services\n\nThis change enables the use of Docker healthchecks for designate services.\nImplements: blueprint container-health-check\n\nChange-Id: Ide66a914b790ad9c106ba932a923654a960f7abf\n'}]",1,778894,51171452a85a888963cb72367eb2166fc706c43a,15,3,2,31506,,,0,"Use Docker healthchecks for designate services

This change enables the use of Docker healthchecks for designate services.
Implements: blueprint container-health-check

Change-Id: Ide66a914b790ad9c106ba932a923654a960f7abf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/778894/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-designate-f4851e1d6245b0f7.yaml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/designate/tasks/check-containers.yml']",4,827d5c748f3d2f5ad3a10433c09458ed77997f20,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,112,0
openstack%2Fkolla-ansible~master~I9d253d7519b1774985d165a080047fdbecd321b4,openstack/kolla-ansible,master,I9d253d7519b1774985d165a080047fdbecd321b4,Use User and Group variables instead of sudo,MERGED,2021-03-09 10:28:30.000000000,2021-03-09 19:07:11.000000000,2021-03-09 19:05:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-09 10:28:30.000000000', 'files': ['ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/octavia/templates/octavia-interface.service.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13b6d692b01c3824cbea74c2bf1546ca0fa898af', 'message': 'Use User and Group variables instead of sudo\n\nuse User and Group in octavia-interface service.\nthis way looks more graceful\n\nthis change also fix the octavia-interface does not restart\nwhen the octavia-interface.service changed.\n\nChange-Id: I9d253d7519b1774985d165a080047fdbecd321b4\n'}]",0,779477,13b6d692b01c3824cbea74c2bf1546ca0fa898af,9,3,1,26285,,,0,"Use User and Group variables instead of sudo

use User and Group in octavia-interface service.
this way looks more graceful

this change also fix the octavia-interface does not restart
when the octavia-interface.service changed.

Change-Id: I9d253d7519b1774985d165a080047fdbecd321b4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/779477/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/tasks/hm-interface.yml', 'ansible/roles/octavia/templates/octavia-interface.service.j2']",2,13b6d692b01c3824cbea74c2bf1546ca0fa898af,,User=root Group=rootExecStartPre=/sbin/ip link set dev {{ octavia_network_interface }} address {{ port_info.port.mac_address }} ExecStart=/sbin/dhclient -v {{ octavia_network_interface }} -cf /etc/dhcp/octavia-dhclient.conf ExecStop=/sbin/dhclient -r {{ octavia_network_interface }},ExecStartPre=/usr/bin/sudo /sbin/ip link set dev {{ octavia_network_interface }} address {{ port_info.port.mac_address }} ExecStart=/usr/bin/sudo /sbin/dhclient -v {{ octavia_network_interface }} -cf /etc/dhcp/octavia-dhclient.conf ExecStop=/usr/bin/sudo /sbin/dhclient -r {{ octavia_network_interface }},7,4
openstack%2Fcookbook-openstack-image~master~I5ce6e29bff30f82bf83e2e0f1adcff808d5f3434,openstack/cookbook-openstack-image,master,I5ce6e29bff30f82bf83e2e0f1adcff808d5f3434,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:16:41.000000000,2021-03-09 19:02:26.000000000,2021-03-09 19:02:26.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:16:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/7465bf2c3e137693dc3ac271dfd7a686f2e50db8', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I5ce6e29bff30f82bf83e2e0f1adcff808d5f3434\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779395,7465bf2c3e137693dc3ac271dfd7a686f2e50db8,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I5ce6e29bff30f82bf83e2e0f1adcff808d5f3434
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/95/779395/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7465bf2c3e137693dc3ac271dfd7a686f2e50db8,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-block-storage~master~I9fd0851f4ec95a38e20199b3982dfb75d0f40c91,openstack/cookbook-openstack-block-storage,master,I9fd0851f4ec95a38e20199b3982dfb75d0f40c91,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:21:18.000000000,2021-03-09 19:02:22.000000000,2021-03-09 19:02:22.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:21:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/948f1e9501c5a6f32ac8c82c8e74cfa3273c8732', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I9fd0851f4ec95a38e20199b3982dfb75d0f40c91\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779399,948f1e9501c5a6f32ac8c82c8e74cfa3273c8732,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I9fd0851f4ec95a38e20199b3982dfb75d0f40c91
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/99/779399/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,948f1e9501c5a6f32ac8c82c8e74cfa3273c8732,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes berkshelf for,- Chef Workstation 20.8.111 for testing (also includes berkshelf for,1,1
openstack%2Fcookbook-openstack-network~master~Idf283a54da0dd237fb0f6eadafa95c47d8be9e77,openstack/cookbook-openstack-network,master,Idf283a54da0dd237fb0f6eadafa95c47d8be9e77,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:17:50.000000000,2021-03-09 18:55:49.000000000,2021-03-09 18:55:49.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:17:50.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/eb0ea506a150c04d234c1982e8d632d98351fdc5', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: Idf283a54da0dd237fb0f6eadafa95c47d8be9e77\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779396,eb0ea506a150c04d234c1982e8d632d98351fdc5,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: Idf283a54da0dd237fb0f6eadafa95c47d8be9e77
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/96/779396/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,eb0ea506a150c04d234c1982e8d632d98351fdc5,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-identity~master~Ib044399cb7fd28cbb874cb08f1a87ca376518e6f,openstack/cookbook-openstack-identity,master,Ib044399cb7fd28cbb874cb08f1a87ca376518e6f,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:15:41.000000000,2021-03-09 18:55:43.000000000,2021-03-09 18:55:43.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:15:41.000000000', 'files': ['README.rst', 'spec/cloud_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/5f40cfe1d8b4ed6598d068ee6b0686ba6ae3dfcb', 'message': 'Update to Chef Workstation 21.2.303\n\n- Cookstyle fixes\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: Ib044399cb7fd28cbb874cb08f1a87ca376518e6f\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779394,5f40cfe1d8b4ed6598d068ee6b0686ba6ae3dfcb,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

- Cookstyle fixes

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: Ib044399cb7fd28cbb874cb08f1a87ca376518e6f
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/94/779394/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'spec/cloud_config_spec.rb']",2,5f40cfe1d8b4ed6598d068ee6b0686ba6ae3dfcb,chef-workstation-21.2.303, expect(chef_run).to render_file(file.name).with_content(YAML.dump(cloud_yaml)) expect(chef_run).to render_file(file.name).with_content(YAML.dump(cloud_yaml_override)), expect(chef_run).to render_file(file.name).with_content(cloud_yaml.to_yaml) expect(chef_run).to render_file(file.name).with_content(cloud_yaml_override.to_yaml),3,3
openstack%2Fcookbook-openstack-compute~master~I9879a8924b33480b319341b297e943af2c25d847,openstack/cookbook-openstack-compute,master,I9879a8924b33480b319341b297e943af2c25d847,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:19:27.000000000,2021-03-09 18:55:35.000000000,2021-03-09 18:55:35.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:19:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/5afbf620ad26abbea260ae2fed2a3a6948c4eba0', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I9879a8924b33480b319341b297e943af2c25d847\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779397,5afbf620ad26abbea260ae2fed2a3a6948c4eba0,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I9879a8924b33480b319341b297e943af2c25d847
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/97/779397/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5afbf620ad26abbea260ae2fed2a3a6948c4eba0,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-telemetry~master~I230221e0350a53c0fb5ca05d74cf100c330becc4,openstack/cookbook-openstack-telemetry,master,I230221e0350a53c0fb5ca05d74cf100c330becc4,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:23:47.000000000,2021-03-09 18:55:32.000000000,2021-03-09 18:55:32.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:23:47.000000000', 'files': ['recipes/aodh.rb', 'README.rst', 'recipes/gnocchi_configure.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/4c8ec227d681cdf2a8aa758c3940868e2f9ae7d7', 'message': 'Update to Chef Workstation 21.2.303\n\n- Cookstyle fixes\n\nChange-Id: I230221e0350a53c0fb5ca05d74cf100c330becc4\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779401,4c8ec227d681cdf2a8aa758c3940868e2f9ae7d7,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

- Cookstyle fixes

Change-Id: I230221e0350a53c0fb5ca05d74cf100c330becc4
Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/01/779401/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/aodh.rb', 'README.rst', 'recipes/gnocchi_configure.rb']",3,4c8ec227d681cdf2a8aa758c3940868e2f9ae7d7,chef-workstation-21.2.303,# NOTE: Using lazy here as the wsgi file is not available until after,# Note: Using lazy here as the wsgi file is not available until after,3,3
openstack%2Fkeystone~stable%2Fussuri~I47e747058891596e7717848a0b0bc10f0a235b2f,openstack/keystone,stable/ussuri,I47e747058891596e7717848a0b0bc10f0a235b2f,Drop lower-constraints job,MERGED,2021-01-22 18:36:46.000000000,2021-03-09 18:55:21.000000000,2021-03-09 18:47:29.000000000,"[{'_account_id': 5046}, {'_account_id': 10459}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 18:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/62c3d8eeb63ddc0f6b7f1505ed9a8b393a80e548', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n'}, {'number': 2, 'created': '2021-02-10 13:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2443d151d8630d41922c186b7b3b78b40164edb0', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n'}, {'number': 3, 'created': '2021-03-02 15:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d141a07691a96a9f37f895953564b74935e947da', 'message': ""Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\nThis also marks the k2k federation job as non-voting because it's broken\non stable/ussuri with Xenial.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n""}, {'number': 4, 'created': '2021-03-02 17:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/afa63f3a030f848de601048e6a1ab4f0f80672c1', 'message': ""Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\nThis also marks the k2k federation job as non-voting because it's broken\non stable/ussuri with Xenial.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n""}, {'number': 5, 'created': '2021-03-02 17:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5abd534137296b93ea7d26077129489ec907cc4a', 'message': ""Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\nThis also marks the k2k federation job as non-voting because it's broken\non stable/ussuri with Xenial.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n""}, {'number': 6, 'created': '2021-03-02 17:22:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d55c6c705f88333548b703cdf70a2aa5e83a1d66', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\nThis also marks the k2k federation job as non-voting because Xenial is\nbroken with Shibboleth and OpenSUSE python dependencies are currently\nbroken.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)\n(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)\n'}]",1,772082,d55c6c705f88333548b703cdf70a2aa5e83a1d66,34,4,6,5046,,,0,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

This also marks the k2k federation job as non-voting because Xenial is
broken with Shibboleth and OpenSUSE python dependencies are currently
broken.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I47e747058891596e7717848a0b0bc10f0a235b2f
(cherry picked from commit d6610594d1b766a8ee3ac65182b951f2a3d431f7)
(cherry picked from commit 42faeb277b6eb4b4a772f516a6e2b547f2b2a2b4)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/82/772082/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,62c3d8eeb63ddc0f6b7f1505ed9a8b393a80e548,772082,, - openstack-lower-constraints-jobs,0,1
openstack%2Fhorizon~master~I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c,openstack/horizon,master,I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c,Add Volume backups support for admin panel,MERGED,2021-01-26 21:21:53.000000000,2021-03-09 18:54:54.000000000,2021-03-09 18:51:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-26 21:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f67e83fc60607ae9ad12d5814a3d3ba41d97c3f1', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n\nImplements https://etherpad.opendev.org/p/horizon-feature-gap#91\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 2, 'created': '2021-02-01 06:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/52454d1e1b0291ce8187ef8d834d5f1e006d6378', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 3, 'created': '2021-02-19 19:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8b95a0085bdaccf190d3744ef598dc9d754a716', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 4, 'created': '2021-02-22 04:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee9b662e90c8aa80e7f145ca3c8a79b03e742d1b', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 5, 'created': '2021-02-22 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd79f1f08bfbfc482af0418ecf5efcd5f78081d5', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 6, 'created': '2021-03-02 08:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ff166257f3f5f280525bd8241969f7c0cd4fc1f5', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 7, 'created': '2021-03-02 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9f179ebf774915ce7ea40ce965ae34f640a73e25', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 8, 'created': '2021-03-02 18:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/261a5246b886f80689a2b9e44a2159fc702c2673', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}, {'number': 9, 'created': '2021-03-05 00:16:08.000000000', 'files': ['openstack_dashboard/dashboards/admin/backups/forms.py', 'openstack_dashboard/dashboards/admin/backups/templates/backups/update_status.html', 'openstack_dashboard/dashboards/admin/backups/panel.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/admin/backups/tables.py', 'openstack_dashboard/dashboards/admin/backups/tests.py', 'openstack_dashboard/dashboards/admin/backups/urls.py', 'openstack_dashboard/dashboards/project/backups/tables.py', 'openstack_dashboard/enabled/_2230_admin_backups_panel.py', 'openstack_dashboard/dashboards/project/backups/forms.py', 'openstack_dashboard/dashboards/project/backups/tabs.py', 'openstack_dashboard/dashboards/admin/backups/templates/backups/_detail_overview.html', 'openstack_dashboard/dashboards/admin/backups/templates/backups/_update_status.html', 'releasenotes/notes/volume-backups-a198d0ce16d62636.yaml', 'openstack_dashboard/dashboards/admin/backups/__init__.py', 'openstack_dashboard/dashboards/admin/backups/tabs.py', 'openstack_dashboard/dashboards/admin/backups/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1d39ac761f0926d790063fda7e8f5491fdfc3b37', 'message': 'Add Volume backups support for admin panel\n\nThis commit allows admin to list/show cinder volume backups\nusing horizon dashboard and the user can perform the\nfollowing table action :\n1. backup-restore\n2. backup-delete\n3. update backup-state\n4. backup force-delete\n\nImplements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel\n\nChange-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c\n'}]",31,772603,1d39ac761f0926d790063fda7e8f5491fdfc3b37,54,6,9,29313,,,0,"Add Volume backups support for admin panel

This commit allows admin to list/show cinder volume backups
using horizon dashboard and the user can perform the
following table action :
1. backup-restore
2. backup-delete
3. update backup-state
4. backup force-delete

Implements https://blueprints.launchpad.net/horizon/+spec/add-volume-backups-support-for-admin-panel

Change-Id: I2fea140a972eb4bd4f18ad1c83cfa4df58c23f6c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/772603/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/backups/forms.py', 'openstack_dashboard/dashboards/admin/backups/templates/backups/_restore_backup.html', 'openstack_dashboard/dashboards/admin/backups/panel.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/admin/backups/tables.py', 'openstack_dashboard/dashboards/admin/backups/tests.py', 'openstack_dashboard/dashboards/admin/backups/urls.py', 'openstack_dashboard/dashboards/admin/backups/templates/backups/restore_backup.html', 'openstack_dashboard/enabled/_2230_admin_backups_panel.py', 'openstack_dashboard/dashboards/admin/backups/templates/backups/_detail_overview.html', 'releasenotes/notes/volume-backups-a198d0ce16d62636.yaml', 'openstack_dashboard/dashboards/admin/backups/__init__.py', 'openstack_dashboard/dashboards/admin/backups/tabs.py', 'openstack_dashboard/dashboards/admin/backups/views.py']",14,f67e83fc60607ae9ad12d5814a3d3ba41d97c3f1,backup-panel,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from django.urls import reverse from django.urls import reverse_lazy from django.utils.translation import ugettext_lazy as _ from horizon import exceptions from horizon import tables from openstack_dashboard import api from openstack_dashboard.dashboards.admin.backups \ import forms as admin_forms from openstack_dashboard.dashboards.admin.backups \ import tables as admin_tables from openstack_dashboard.dashboards.admin.backups \ import tabs as admin_tabs from openstack_dashboard.dashboards.project.backups \ import views as project_views from openstack_dashboard.dashboards.project.volumes \ import views as volumes_views LOG = logging.getLogger(__name__) class AdminBackupsView(tables.PagedTableWithPageMenu, tables.DataTableView, volumes_views.VolumeTableMixIn): table_class = admin_tables.AdminBackupsTable page_title = _(""Volume Backups"") def allowed(self, request): return api.cinder.volume_backup_supported(self.request) def get_data(self): try: search_opts = {'all_tenants': 1} self._current_page = self._get_page_number() (backups, self._page_size, self._total_of_entries, self._number_of_pages) = \ api.cinder.volume_backup_list_paged_with_page_menu( self.request, page_number=self._current_page, all_tenants=1) except Exception as e: LOG.exception(e) backups = [] exceptions.handle(self.request, _(""Unable to retrieve "" ""volume backups."")) if not backups: return backups volumes = api.cinder.volume_list(self.request, search_opts=search_opts) volumes = dict((v.id, v) for v in volumes) snapshots = api.cinder.volume_snapshot_list(self.request, search_opts=search_opts) snapshots = dict((s.id, s) for s in snapshots) # Gather our tenants to correlate against Backup IDs try: tenants, has_more = api.keystone.tenant_list(self.request) except Exception: tenants = [] msg = _('Unable to retrieve volume backup project information.') exceptions.handle(self.request, msg) tenant_dict = dict((t.id, t) for t in tenants) for backup in backups: backup.volume = volumes.get(backup.volume_id) backup.snapshot = snapshots.get(backup.snapshot_id) tenant_id = getattr(backup, ""project_id"", None) tenant = tenant_dict.get(tenant_id) backup.tenant_name = getattr(tenant, ""name"", None) return backups class AdminBackupDetailView(project_views.BackupDetailView): tab_group_class = admin_tabs.AdminBackupDetailTabs def get_context_data(self, **kwargs): context = super().get_context_data(**kwargs) table = admin_tables.AdminBackupsTable(self.request) context[""actions""] = table.render_row_actions(context[""backup""]) return context @staticmethod def get_redirect_url(): return reverse('horizon:admin:backups:index') class AdminRestoreBackupView(project_views.RestoreBackupView): form_class = admin_forms.AdminRestoreBackupForm template_name = 'admin/backups/restore_backup.html' submit_url = ""horizon:admin:backups:restore"" success_url = reverse_lazy('horizon:admin:volumes:index') ",,750,5
openstack%2Fneutron~stable%2Ftrain~Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,openstack/neutron,stable/train,Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,Fix deletion of rfp interfaces when router is re-enabled,MERGED,2021-02-24 10:43:15.000000000,2021-03-09 18:54:52.000000000,2021-03-09 18:47:39.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 10:43:15.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4360603d8bca4aec7793e1bd415ccb2774afd860', 'message': 'Fix deletion of rfp interfaces when router is re-enabled\n\n1. When dvr router is disabled and enabled back, the rfp\ninterfaces are deleted on the nodes without snat-* namespace.\nThis is due to creation of snat namespace during router\ninitialization stage on all the nodes. At later stages, since\nthe gw_port_host is not bounded on this node, external gateway\nis removed which triggers removal of rfp interfaces and snat\nnamespace.\nCreate snat namespace only on the nodes where gw_port_host is\nbounded.\n\n2. In case of DVR SNAT, when the l3 agent is rescheduled to\nanother node, the rfp interfaces on qrouter-* namespace are\nremoved. Instead of calling external_gateway_removed() which\nfurther deletes the rfp interfaces, the qg-, sg- interfaces\nneed to be unplugged and snat namespace need to be deleted.\n\nCloses-Bug: #1894843\nChange-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe\n(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)\n'}]",0,777317,4360603d8bca4aec7793e1bd415ccb2774afd860,23,3,1,10366,,,0,"Fix deletion of rfp interfaces when router is re-enabled

1. When dvr router is disabled and enabled back, the rfp
interfaces are deleted on the nodes without snat-* namespace.
This is due to creation of snat namespace during router
initialization stage on all the nodes. At later stages, since
the gw_port_host is not bounded on this node, external gateway
is removed which triggers removal of rfp interfaces and snat
namespace.
Create snat namespace only on the nodes where gw_port_host is
bounded.

2. In case of DVR SNAT, when the l3 agent is rescheduled to
another node, the rfp interfaces on qrouter-* namespace are
removed. Instead of calling external_gateway_removed() which
further deletes the rfp interfaces, the qg-, sg- interfaces
need to be unplugged and snat namespace need to be deleted.

Closes-Bug: #1894843
Change-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe
(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/777317/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,4360603d8bca4aec7793e1bd415ccb2774afd860,bug/1894843-stable/train," self.driver.unplug(interface_name, namespace=self.snat_namespace.name, prefix=router.EXTERNAL_DEV_PREFIX) self.snat_namespace.delete() if self._is_this_snat_host(): self.snat_namespace.create()"," return self.external_gateway_removed( ex_gw_port, interface_name) self.snat_namespace.create() return self.snat_namespace",54,4
openstack%2Fdesignate-dashboard~stable%2Fvictoria~Id5186f16656e0671dda7ab91062c104b2c08758f,openstack/designate-dashboard,stable/victoria,Id5186f16656e0671dda7ab91062c104b2c08758f,Run npm nodejs job with Firefox browser,MERGED,2021-03-08 03:12:16.000000000,2021-03-09 18:53:56.000000000,2021-03-09 18:42:22.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-08 03:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/2f01e964112544e48d6cf5ee42edf3c3e964c176', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e)\n""}, {'number': 2, 'created': '2021-03-08 03:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/a20cdbfc21bd3c9d9c2dc38cd92e23d08c6bb782', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e)\n""}, {'number': 3, 'created': '2021-03-08 04:47:52.000000000', 'files': ['karma.conf.js', '.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f7c308ca11973be9ef2ad1d90e2312f26e890ab8', 'message': ""Run npm nodejs job with Firefox browser\n\nThis patch update browser from Chrome to Firefox in karma.conf.js\nbecuase nodejs fails with Chrome browser as not able to access some\nURL. So let's switch to Firefox browser now then we can use Chrome\nbrowser in future once this issue is resolved.\n\nChange-Id: Id5186f16656e0671dda7ab91062c104b2c08758f\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e)\n""}]",0,779123,f7c308ca11973be9ef2ad1d90e2312f26e890ab8,13,4,3,841,,,0,"Run npm nodejs job with Firefox browser

This patch update browser from Chrome to Firefox in karma.conf.js
becuase nodejs fails with Chrome browser as not able to access some
URL. So let's switch to Firefox browser now then we can use Chrome
browser in future once this issue is resolved.

Change-Id: Id5186f16656e0671dda7ab91062c104b2c08758f
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 64e2e58b4e52f9bfdb74d30b094e8b048d2a1c7e)
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/23/779123/1 && git format-patch -1 --stdout FETCH_HEAD,"['karma.conf.js', 'package.json']",2,2f01e964112544e48d6cf5ee42edf3c3e964c176,gate-fix," ""karma-firefox-launcher"": ""2.1.0"","," ""karma-chrome-launcher"": ""1.0.1"",",3,3
openstack%2Fopenstack-chef~master~Ifd11f2c53cc9aac82c5c18037c11445d44791549,openstack/openstack-chef,master,Ifd11f2c53cc9aac82c5c18037c11445d44791549,Update to Chef Workstation 21.2.303,MERGED,2021-03-08 23:54:23.000000000,2021-03-09 18:48:09.000000000,2021-03-09 18:40:30.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 23:54:23.000000000', 'files': ['playbooks/pre-delivery.yaml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/e4144314cd39adf610424127b7b85c2c400a182f', 'message': 'Update to Chef Workstation 21.2.303\n\nChange-Id: Ifd11f2c53cc9aac82c5c18037c11445d44791549\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779389,e4144314cd39adf610424127b7b85c2c400a182f,7,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Change-Id: Ifd11f2c53cc9aac82c5c18037c11445d44791549
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/89/779389/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre-delivery.yaml', 'README.rst']",2,e4144314cd39adf610424127b7b85c2c400a182f,chef-workstation-21.2.303,- `Chef Workstation`_ 21.2.303 or later,- `Chef Workstation`_ 20.9.158 or later,2,2
openstack%2Fdesignate-dashboard~stable%2Fvictoria~I34a0bcd2413f1c3dcbbed64c052b6e995f846861,openstack/designate-dashboard,stable/victoria,I34a0bcd2413f1c3dcbbed64c052b6e995f846861,Drop lower-constraints test,MERGED,2021-03-08 03:12:16.000000000,2021-03-09 18:48:05.000000000,2021-03-09 18:37:28.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-03-08 03:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/dbbfea59e3444e442632b0122f28e6b80cb4c559', 'message': 'Disable nodjs an lower constraint job temporarily\n\nWhile we are trying to fix both lower constraints and the nodejs job,\ntemporarily disable the nodejs job so we can merge\nI6bd42b175e74c9015db803eaaff09d908fae6a10 and\nId5186f16656e0671dda7ab91062c104b2c08758f.\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f34ec9e12d5b6dcb4b592d420e105362a33e7948)\n'}, {'number': 2, 'created': '2021-03-08 03:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/052bfcaeedb39d4894bc3891b4bfe022f4f01834', 'message': 'Disable nodejs and lower constraint job temporarily\n\nWhile we are trying to fix both lower constraints and the nodejs job,\ntemporarily disable the nodejs job so we can merge\nI6bd42b175e74c9015db803eaaff09d908fae6a10 and\nId5186f16656e0671dda7ab91062c104b2c08758f.\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit f34ec9e12d5b6dcb4b592d420e105362a33e7948)\n'}, {'number': 3, 'created': '2021-03-08 04:47:52.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/43a9e0cd679d7efd86f81b70b23cc46828ca1619', 'message': 'Drop lower-constraints test\n\nDropping lower-constraints test is one of options discussed in\nthe mailing list. designate dropped lower-constraints job in\nstable/victoria (commit d08dd621c988fe13b9844c5c44e143907aa74d0c)\nand this follows it.\n\nThe nodejs job is failing at the same time, so it will be disabled\ntemporarily. The nodejs job will be fixed in the next commit.\n\nChange-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861\n'}]",1,779122,43a9e0cd679d7efd86f81b70b23cc46828ca1619,16,5,3,841,,,0,"Drop lower-constraints test

Dropping lower-constraints test is one of options discussed in
the mailing list. designate dropped lower-constraints job in
stable/victoria (commit d08dd621c988fe13b9844c5c44e143907aa74d0c)
and this follows it.

The nodejs job is failing at the same time, so it will be disabled
temporarily. The nodejs job will be fixed in the next commit.

Change-Id: I34a0bcd2413f1c3dcbbed64c052b6e995f846861
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/22/779122/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dbbfea59e3444e442632b0122f28e6b80cb4c559,gate-fix, # - horizon-nodejs10-jobs # - openstack-lower-constraints-jobs, - horizon-nodejs10-jobs - openstack-lower-constraints-jobs,2,2
openstack%2Fproject-config~master~Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a,openstack/project-config,master,Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a,Add tripleo-ci-health-queries to zuul,MERGED,2021-03-03 15:39:02.000000000,2021-03-09 18:46:31.000000000,2021-03-03 20:15:27.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 15:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b73eadd301af71f0f02571f824a4d11ab658d53', 'message': 'Add tripleo-ci-health-queries to zuul\n\nChange-Id: Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a\nFollow-Up: https://review.opendev.org/c/openstack/project-config/+/777991\nStory: TRIPLEOCI-288\n'}, {'number': 2, 'created': '2021-03-03 17:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/95b224f3b6775a214b2be7037c1af4812455cb8d', 'message': 'Add tripleo-ci-health-queries to zuul\n\nChange-Id: Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a\nFollow-Up: https://review.opendev.org/c/openstack/project-config/+/777991\nStory: TRIPLEOCI-288\n'}, {'number': 3, 'created': '2021-03-03 18:02:00.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/52e95f859ccb7c941182b94e61b1ce7819dc1024', 'message': 'Add tripleo-ci-health-queries to zuul\n\nChange-Id: Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a\nFollow-Up: https://review.opendev.org/c/openstack/project-config/+/777991\nStory: TRIPLEOCI-288\n'}]",6,778489,52e95f859ccb7c941182b94e61b1ce7819dc1024,17,3,3,24162,,,0,"Add tripleo-ci-health-queries to zuul

Change-Id: Ic945790ed01fe474811570a2f9d67d8bfe7ecc7a
Follow-Up: https://review.opendev.org/c/openstack/project-config/+/777991
Story: TRIPLEOCI-288
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/778489/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,1b73eadd301af71f0f02571f824a4d11ab658d53,, name: openstack/tripleo-ci-health-queries check: queue: tripleo gate: queue: tripleo templates: - official-openstack-repo-jobs - project:,,9,0
openstack%2Fcookbook-openstack-orchestration~master~Ifb6811b02ec226bfde269a0d23028a8c8e4d0d6d,openstack/cookbook-openstack-orchestration,master,Ifb6811b02ec226bfde269a0d23028a8c8e4d0d6d,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:20:29.000000000,2021-03-09 18:41:56.000000000,2021-03-09 18:41:56.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:20:29.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/a74874b196df3e7b69183eb7fe7668ed3fb48785', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: Ifb6811b02ec226bfde269a0d23028a8c8e4d0d6d\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779398,a74874b196df3e7b69183eb7fe7668ed3fb48785,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: Ifb6811b02ec226bfde269a0d23028a8c8e4d0d6d
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/98/779398/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a74874b196df3e7b69183eb7fe7668ed3fb48785,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-dashboard~master~Iacee81467d2d99408eb5ed83b9ec8cfa1f964f25,openstack/cookbook-openstack-dashboard,master,Iacee81467d2d99408eb5ed83b9ec8cfa1f964f25,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:25:23.000000000,2021-03-09 18:41:51.000000000,2021-03-09 18:41:51.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:25:23.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/89a99bc9553a96f89089a9555982fc072db4713f', 'message': 'Update to Chef Workstation 21.2.303\n\nChange-Id: Iacee81467d2d99408eb5ed83b9ec8cfa1f964f25\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779403,89a99bc9553a96f89089a9555982fc072db4713f,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Change-Id: Iacee81467d2d99408eb5ed83b9ec8cfa1f964f25
Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/03/779403/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,89a99bc9553a96f89089a9555982fc072db4713f,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-bare-metal~master~I36d145087e9240764299358d6fd3fe11fd779544,openstack/cookbook-openstack-bare-metal,master,I36d145087e9240764299358d6fd3fe11fd779544,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:22:28.000000000,2021-03-09 18:41:32.000000000,2021-03-09 18:41:32.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/073197468a90ae80d44475771f30d6f67e213236', 'message': 'Update to Chef Workstation 21.2.303\n\n- Cookstyle fixes\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I36d145087e9240764299358d6fd3fe11fd779544\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2021-03-09 00:34:58.000000000', 'files': ['README.rst', 'spec/api-rhel_spec.rb', 'spec/conductor_spec.rb', 'spec/ironic-common_spec.rb', 'spec/api_spec.rb', 'recipes/api.rb', 'recipes/ironic-common.rb', 'recipes/conductor.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'spec/identity_registration_spec.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/eb3785ad0b6d4f978db028acb0d437e66574ea72', 'message': 'Update to Chef Workstation 21.2.303\n\n- Cookstyle fixes\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I36d145087e9240764299358d6fd3fe11fd779544\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779400,eb3785ad0b6d4f978db028acb0d437e66574ea72,7,2,2,21961,,,0,"Update to Chef Workstation 21.2.303

- Cookstyle fixes

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I36d145087e9240764299358d6fd3fe11fd779544
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/00/779400/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'spec/api-rhel_spec.rb', 'spec/conductor_spec.rb', 'spec/ironic-common_spec.rb', 'spec/api_spec.rb', 'recipes/api.rb', 'recipes/ironic-common.rb', 'recipes/conductor.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'spec/identity_registration_spec.rb', 'recipes/identity_registration.rb']",12,073197468a90ae80d44475771f30d6f67e213236,chef-workstation-21.2.303,,# encoding: UTF-8,1,15
openstack%2Fcookbook-openstack-dns~master~I73d2e8164842d6dba4480fb3de7a6700b48bf789,openstack/cookbook-openstack-dns,master,I73d2e8164842d6dba4480fb3de7a6700b48bf789,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:24:37.000000000,2021-03-09 18:41:22.000000000,2021-03-09 18:41:22.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-03-09 00:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/78630e94b6ca9402c9a4e0510bcd25fa2f166cd4', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I73d2e8164842d6dba4480fb3de7a6700b48bf789\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2021-03-09 00:47:46.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/9f1133cd6e84275adfe60916826774cf9604082f', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nDepends-On: https://review.opendev.org/c/openstack/cookbook-openstack-integration-test/+/779404\nChange-Id: I73d2e8164842d6dba4480fb3de7a6700b48bf789\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779402,9f1133cd6e84275adfe60916826774cf9604082f,9,3,2,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Depends-On: https://review.opendev.org/c/openstack/cookbook-openstack-integration-test/+/779404
Change-Id: I73d2e8164842d6dba4480fb3de7a6700b48bf789
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/02/779402/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,78630e94b6ca9402c9a4e0510bcd25fa2f166cd4,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstackclient~master~I83cd40372baf914044aade1f9a61da060691d165,openstack/cookbook-openstackclient,master,I83cd40372baf914044aade1f9a61da060691d165,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:11:21.000000000,2021-03-09 18:41:19.000000000,2021-03-09 18:41:19.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:11:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/c7876b15a84e3d177da5d14e96febf49ea5d2f58', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I83cd40372baf914044aade1f9a61da060691d165\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779391,c7876b15a84e3d177da5d14e96febf49ea5d2f58,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I83cd40372baf914044aade1f9a61da060691d165
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/91/779391/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c7876b15a84e3d177da5d14e96febf49ea5d2f58,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Fcookbook-openstack-ops-database~master~I4bc1fd17ebb62d8f134100a2f4e521b486abe0e0,openstack/cookbook-openstack-ops-database,master,I4bc1fd17ebb62d8f134100a2f4e521b486abe0e0,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:12:51.000000000,2021-03-09 18:40:59.000000000,2021-03-09 18:40:59.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:12:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/afa93c0e6a7d04ee9f10b9e66e0d2ca9ab9db951', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I4bc1fd17ebb62d8f134100a2f4e521b486abe0e0\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779392,afa93c0e6a7d04ee9f10b9e66e0d2ca9ab9db951,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I4bc1fd17ebb62d8f134100a2f4e521b486abe0e0
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/92/779392/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,afa93c0e6a7d04ee9f10b9e66e0d2ca9ab9db951,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for cookbook,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for cookbook,1,1
openstack%2Fcookbook-openstack-ops-messaging~master~Iec7c4bf5905242dc50c8f966b0acef1d66d624f2,openstack/cookbook-openstack-ops-messaging,master,Iec7c4bf5905242dc50c8f966b0acef1d66d624f2,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:13:54.000000000,2021-03-09 18:40:56.000000000,2021-03-09 18:40:56.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:13:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/da53c9949b61b9dbafd00bc1d0a7c717a80c89ca', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: Iec7c4bf5905242dc50c8f966b0acef1d66d624f2\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779393,da53c9949b61b9dbafd00bc1d0a7c717a80c89ca,6,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: Iec7c4bf5905242dc50c8f966b0acef1d66d624f2
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/93/779393/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,da53c9949b61b9dbafd00bc1d0a7c717a80c89ca,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes berkshelf for,- Chef Workstation 20.8.111 for testing (also includes berkshelf for,1,1
openstack%2Fcookbook-openstack-common~master~I51ecdc5afa9592a334b6b0b8f839eb89ee010a12,openstack/cookbook-openstack-common,master,I51ecdc5afa9592a334b6b0b8f839eb89ee010a12,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:05:39.000000000,2021-03-09 18:40:52.000000000,2021-03-09 18:40:52.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:05:39.000000000', 'files': ['.rubocop_todo.yml', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/cb785084890e59ec1504897e5f6b734558a678ef', 'message': 'Update to Chef Workstation 21.2.303\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nChange-Id: I51ecdc5afa9592a334b6b0b8f839eb89ee010a12\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779390,cb785084890e59ec1504897e5f6b734558a678ef,8,2,1,21961,,,0,"Update to Chef Workstation 21.2.303

Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Change-Id: I51ecdc5afa9592a334b6b0b8f839eb89ee010a12
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/90/779390/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst']",2,cb785084890e59ec1504897e5f6b734558a678ef,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes berkshelf for,- Chef Workstation 20.8.111 for testing (also includes berkshelf for,2,2
openstack%2Fcookbook-openstack-integration-test~master~I5b0a6783f0602983baeaf8b0e9bb90f150212644,openstack/cookbook-openstack-integration-test,master,I5b0a6783f0602983baeaf8b0e9bb90f150212644,Update to Chef Workstation 21.2.303,MERGED,2021-03-09 00:26:32.000000000,2021-03-09 18:40:34.000000000,2021-03-09 18:40:34.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/cf4fcb7bbe42afd7c2c73788e06148403f053037', 'message': 'Update to Chef Workstation 21.2.303\n\nChange-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2021-03-09 00:47:14.000000000', 'files': ['spec/dns_spec.rb', 'recipes/dns.rb', 'README.rst', 'metadata.rb', 'spec/dns-rhel_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/d5ea08e31affd325c5307086cd4563e9decaf834', 'message': 'Update to Chef Workstation 21.2.303\n\n- Fixes for using the resolver 3.x cookbook\n\nChange-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644\nDepends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,779404,d5ea08e31affd325c5307086cd4563e9decaf834,9,2,2,21961,,,0,"Update to Chef Workstation 21.2.303

- Fixes for using the resolver 3.x cookbook

Change-Id: I5b0a6783f0602983baeaf8b0e9bb90f150212644
Depends-On: https://review.opendev.org/c/openstack/openstack-chef/+/779389
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/04/779404/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,cf4fcb7bbe42afd7c2c73788e06148403f053037,chef-workstation-21.2.303,- Chef Workstation 21.2.303 for testing (also includes Berkshelf for,- Chef Workstation 20.8.111 for testing (also includes Berkshelf for,1,1
openstack%2Freleases~master~Ie8f5be32b63eb4b13e66e1a47ff3ca422acc888f,openstack/releases,master,Ie8f5be32b63eb4b13e66e1a47ff3ca422acc888f,Release Octavia 5.1.1 for stable/train,MERGED,2021-03-08 23:23:45.000000000,2021-03-09 18:28:03.000000000,2021-03-09 18:28:03.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 23:23:45.000000000', 'files': ['deliverables/train/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b446e7b121ba2fc460bd35baa71bfdf2bbdb69d', 'message': 'Release Octavia 5.1.1 for stable/train\n\nThis is a bug fix release for Octavia on the stable/train branch.\n\nChange-Id: Ie8f5be32b63eb4b13e66e1a47ff3ca422acc888f\n'}]",0,779388,8b446e7b121ba2fc460bd35baa71bfdf2bbdb69d,10,5,1,11628,,,0,"Release Octavia 5.1.1 for stable/train

This is a bug fix release for Octavia on the stable/train branch.

Change-Id: Ie8f5be32b63eb4b13e66e1a47ff3ca422acc888f
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/779388/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia.yaml'],1,8b446e7b121ba2fc460bd35baa71bfdf2bbdb69d,, - version: 5.1.1 projects: - repo: openstack/octavia hash: 9b4a98aacd9bdc440c0bd778b9e68d57ef5a7416,,4,0
openstack%2Felection~master~If35fa168dda0af325acf51cc5fafa49eab17f859,openstack/election,master,If35fa168dda0af325acf51cc5fafa49eab17f859,Add Pierre Riteau's candidacy for Blazar PTL,MERGED,2021-03-09 11:17:02.000000000,2021-03-09 18:19:08.000000000,2021-03-09 18:16:43.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 11:17:02.000000000', 'files': ['candidates/xena/Blazar/pierre@stackhpc.com'], 'web_link': 'https://opendev.org/openstack/election/commit/4d4ca6390182158290446c4eeca0c4759bbc2de0', 'message': ""Add Pierre Riteau's candidacy for Blazar PTL\n\nChange-Id: If35fa168dda0af325acf51cc5fafa49eab17f859\n""}]",0,779490,4d4ca6390182158290446c4eeca0c4759bbc2de0,8,3,1,15197,,,0,"Add Pierre Riteau's candidacy for Blazar PTL

Change-Id: If35fa168dda0af325acf51cc5fafa49eab17f859
",git fetch https://review.opendev.org/openstack/election refs/changes/90/779490/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Blazar/pierre@stackhpc.com'],1,4d4ca6390182158290446c4eeca0c4759bbc2de0,xena-blazar,"Hi, I would like to self-nominate for the role of PTL of Blazar for the Xena release cycle. I have been PTL since the Stein cycle and I am willing to continue in this role. I will keep working with existing contributors to maintain the Blazar software for their use cases and encourage the addition of new functionalities. Thank you for your support, Pierre Riteau (priteau) ",,11,0
openstack%2Felection~master~Ic2a0ef7b43c40650f1e4cadb0d2b9c4dfd428eb7,openstack/election,master,Ic2a0ef7b43c40650f1e4cadb0d2b9c4dfd428eb7,Adding Takashi Kajinami candidacy for Storlets PTL,MERGED,2021-03-09 10:48:57.000000000,2021-03-09 18:17:42.000000000,2021-03-09 18:13:21.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 10:48:57.000000000', 'files': ['candidates/xena/Storlets/tkajinam@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/ea8f8b35026ef6689ce876321d6b1cffc6b155c4', 'message': 'Adding Takashi Kajinami candidacy for Storlets PTL\n\nChange-Id: Ic2a0ef7b43c40650f1e4cadb0d2b9c4dfd428eb7\n'}]",0,779485,ea8f8b35026ef6689ce876321d6b1cffc6b155c4,8,3,1,9816,,,0,"Adding Takashi Kajinami candidacy for Storlets PTL

Change-Id: Ic2a0ef7b43c40650f1e4cadb0d2b9c4dfd428eb7
",git fetch https://review.opendev.org/openstack/election refs/changes/85/779485/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Storlets/tkajinam@redhat.com'],1,ea8f8b35026ef6689ce876321d6b1cffc6b155c4,tkajinam-storlets-x,"Hi All, I'd like to announce my candidacy to continue the PTL role for Storlets project in the Xena cycle. Because we currently don't have very active development in Storlets project, I'll propose we mainly focus on the following two items during the next cycle. - Improve stability of our code - Keep compatibility with the latest items - Latest Swift - Latest Ubuntu LTS In addition, I'll initiate some discussion about our future release and management model, considering decreasing resources for reviews and developments. Thank you for your consideration. Thank you, Takashi ",,20,0
openstack%2Felection~master~Ia7a46e35efc8939c5ffffd877c91b5a31cd28157,openstack/election,master,Ia7a46e35efc8939c5ffffd877c91b5a31cd28157,[Rally] Add candidacy for xena cycle,MERGED,2021-03-09 10:47:30.000000000,2021-03-09 18:15:56.000000000,2021-03-09 18:13:13.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 10:47:30.000000000', 'files': ['candidates/xena/Rally/andr.kurilin@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/a1555ae5371cbcb1751df1b3676c00f7c26a4c7b', 'message': '[Rally] Add candidacy for xena cycle\n\nChange-Id: Ia7a46e35efc8939c5ffffd877c91b5a31cd28157\n'}]",0,779483,a1555ae5371cbcb1751df1b3676c00f7c26a4c7b,8,3,1,9545,,,0,"[Rally] Add candidacy for xena cycle

Change-Id: Ia7a46e35efc8939c5ffffd877c91b5a31cd28157
",git fetch https://review.opendev.org/openstack/election refs/changes/83/779483/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Rally/andr.kurilin@gmail.com'],1,a1555ae5371cbcb1751df1b3676c00f7c26a4c7b,xena_rally,Do my best to keep the project alive and move it forward. ,,1,0
openstack%2Felection~master~Ie8250d89103ecd66ae96cfcb1f2995581719503a,openstack/election,master,Ie8250d89103ecd66ae96cfcb1f2995581719503a,Add Vishal Manchanda candidacy for Horizon PTL(Xena),MERGED,2021-03-09 04:38:44.000000000,2021-03-09 18:13:57.000000000,2021-03-09 18:11:31.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 04:38:44.000000000', 'files': ['candidates/xena/Horizon/manchandavishal143@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/3d6784e5130d225c5675eef5658587b4fb5188ed', 'message': 'Add Vishal Manchanda candidacy for Horizon PTL(Xena)\n\nChange-Id: Ie8250d89103ecd66ae96cfcb1f2995581719503a\n'}]",0,779423,3d6784e5130d225c5675eef5658587b4fb5188ed,8,3,1,29313,,,0,"Add Vishal Manchanda candidacy for Horizon PTL(Xena)

Change-Id: Ie8250d89103ecd66ae96cfcb1f2995581719503a
",git fetch https://review.opendev.org/openstack/election refs/changes/23/779423/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Horizon/manchandavishal143@gmail.com'],1,3d6784e5130d225c5675eef5658587b4fb5188ed,,"Hi everyone, I would like to announce my candidacy for PTL of Horizon for Xena release. I have been actively contributing to Horizon from stein release [1] and become horizon core reviewer in early train release. During these years, my focus was on filing horizon feature-gap [2], bug-fixing, and stabilizing horizon and its plugins. I am very grateful to all the people that have mentored me and helped me throughout these years. As a PTL I will focus on the following areas: * Migrate horizon & its plugins to the next LTS version of both Django and Nodejs. * Focus on specific set of features-gap instead of targeting all or many at a time. For example, 'System Scope Support' is one of the highest priority we should do in Xena cycle. * Reduce the number of New/Open bugs which is high currently. Something we can do weekly basis in rotation basis or together in meeting etc. * Help new contributors to work on the horizon. I am looking forward to working together with all of you on the Xena release. Thank you, Vishal Manchanda(irc: vishalmanchanda) [1] https://www.stackalytics.io/?metric=commits&release=all&user_id=vishalmanchanda [2] https://etherpad.opendev.org/p/horizon-feature-gap ",,28,0
openstack%2Felection~master~Ide913e120118dc1487ed4d2849d0899111fb9afa,openstack/election,master,Ide913e120118dc1487ed4d2849d0899111fb9afa,Add mgoddard candidacy for Kolla PTL for Xena,MERGED,2021-03-09 10:36:16.000000000,2021-03-09 18:13:08.000000000,2021-03-09 18:13:08.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-09 10:36:16.000000000', 'files': ['candidates/xena/Kolla/mark@stackhpc.com'], 'web_link': 'https://opendev.org/openstack/election/commit/0d18576a394c8bab90087e99e4a40858145c2b0b', 'message': 'Add mgoddard candidacy for Kolla PTL for Xena\n\nChange-Id: Ide913e120118dc1487ed4d2849d0899111fb9afa\n'}]",0,779480,0d18576a394c8bab90087e99e4a40858145c2b0b,8,4,1,14826,,,0,"Add mgoddard candidacy for Kolla PTL for Xena

Change-Id: Ide913e120118dc1487ed4d2849d0899111fb9afa
",git fetch https://review.opendev.org/openstack/election refs/changes/80/779480/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Kolla/mark@stackhpc.com'],1,0d18576a394c8bab90087e99e4a40858145c2b0b,,"Hi, I'd like to nominate myself to serve as the Kolla PTL for the Xena cycle. I have been PTL for the last 4 cycles, and would like the opportunity to continue to lead the team. Overall I think that the project is moving in the right direction. Some things that I think we should focus on in the next cycle are: * remove our dependency on Dockerhub in CI testing to avoid pull limits * improve the documentation * expand the core team Thanks for reading, Mark Goddard (mgoddard) ",,15,0
openstack%2Felection~master~I2105a1e37f0611a56afa099995257a58271949dc,openstack/election,master,I2105a1e37f0611a56afa099995257a58271949dc,Add Chris MacNaughton candidacy for OpenStack Charms PTL,MERGED,2021-03-09 07:31:36.000000000,2021-03-09 18:12:51.000000000,2021-03-09 18:12:51.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2021-03-09 07:31:36.000000000', 'files': ['candidates/xena/OpenStack_Charms/chris.macnaughton@canonical.com'], 'web_link': 'https://opendev.org/openstack/election/commit/34b90782e65fbd67c712bad7fed29eb782cd2624', 'message': 'Add Chris MacNaughton candidacy for OpenStack Charms PTL\n\nChange-Id: I2105a1e37f0611a56afa099995257a58271949dc\n'}]",0,779434,34b90782e65fbd67c712bad7fed29eb782cd2624,8,4,1,20634,,,0,"Add Chris MacNaughton candidacy for OpenStack Charms PTL

Change-Id: I2105a1e37f0611a56afa099995257a58271949dc
",git fetch https://review.opendev.org/openstack/election refs/changes/34/779434/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/OpenStack_Charms/chris.macnaughton@canonical.com'],1,34b90782e65fbd67c712bad7fed29eb782cd2624,,"Hello all, I would like to announce my candidacy for PTL of the OpenStack Charms project[1] for the Xena cycle. Through my time contributing to the OpenStack Charms project as a core team member, I have experienced working on many of the charms in both a bug-fix and new feature capacity. Additionally, I have made upstream contributions as needed. The OpenStack Charms project has an increasing community both consuming the charms, as well as contributing to them, and I think that it is important to actively nurture this community. In addition to our user community, it is important for OpenStack Charms members to integrate more widely in the wider OpenStack community. [1]: https://review.openstack.org/#/c/641571/ -- Chris MacNaughton ",,20,0
openstack%2Felection~master~I0645f05e3fcb4cb44f497b6ff5ab11a3dba93952,openstack/election,master,I0645f05e3fcb4cb44f497b6ff5ab11a3dba93952,Adding Brian Rosmaita candidacy for Cinder PTL,MERGED,2021-03-09 05:08:23.000000000,2021-03-09 18:11:35.000000000,2021-03-09 18:11:35.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 05:08:23.000000000', 'files': ['candidates/xena/Cinder/rosmaita.fossdev@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/6057645bd5901b23a2b39baccd2ee3fc1a7e8e7e', 'message': 'Adding Brian Rosmaita candidacy for Cinder PTL\n\nChange-Id: I0645f05e3fcb4cb44f497b6ff5ab11a3dba93952\n'}]",0,779425,6057645bd5901b23a2b39baccd2ee3fc1a7e8e7e,7,3,1,5314,,,0,"Adding Brian Rosmaita candidacy for Cinder PTL

Change-Id: I0645f05e3fcb4cb44f497b6ff5ab11a3dba93952
",git fetch https://review.opendev.org/openstack/election refs/changes/25/779425/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Cinder/rosmaita.fossdev@gmail.com'],1,6057645bd5901b23a2b39baccd2ee3fc1a7e8e7e,cinder-rosmaita-x,"Hello everyone, I'd like to announce my candidacy for Cinder PTL for the Xena cycle. The primary challenge we face in the Cinder community is that our reviewing bandwidth has declined at the same time third-party driver contributions--new drivers, new features for existing drivers, and driver bugfixes--have been increasing. Similarly, we've been adding better CI coverage (good) while at the same time our gate jobs have become increasingly unstable (not due to the new tests, there are some old failures which seem to be occurring more often). We need to add some new core reviewers in Xena. Luckily, some people have been increasing their review participation recently, so there are community members getting themselves into a position to help the project in this capacity. (And anyone else currently working on cinder project who's interested becoming a cinder core, please contact me (or any of the current cores) to discuss what the expectations are.) We'll also be making it a priority to improve the gate jobs (or else we'll never be able to get anything merged). As far as community activity goes, the multiple virtual mid-cycle meetings have continued to be productive, and the cinder meeting in videoconference that we've been having once a month seems popular and gives us a break from the strict IRC meeting format. There's support to make the Festival of XS Reviews a recurring event, and Sofia has proposed holding a separate (short) bug meeting which we'll start doing soon. Hopefully all these events will help keep current contributors engaged and make it easier for other people to participate more fully. With respect to the details of Cinder development in Xena, I expect those to emerge from our virtual PTG discussions in April. You can help set the agenda here: https://etherpad.opendev.org/p/xena-ptg-cinder-planning Thanks for reading this far, and thank you for your consideration. Brian Rosmaita (rosmaita) ",,40,0
openstack%2Ftripleo-common~master~I95efa61361882875505e5e359dece23a5a67bfc9,openstack/tripleo-common,master,I95efa61361882875505e5e359dece23a5a67bfc9,Removes unneeded zuul layout overrides - templates for consistency,MERGED,2021-03-05 12:36:36.000000000,2021-03-09 18:02:05.000000000,2021-03-09 17:56:05.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-03-05 12:36:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/22e5366de13a342ca6f65173ce069513fa80e1f5', 'message': 'Removes unneeded zuul layout overrides - templates for consistency\n\nAs part of [1] this removes the unneeded zuul layout overrides.\nAll the jobs removed here are already included with the relevant\ntemplates. The files: matches that were used for the scenario\nstandalones are moved to the template layout via the depends-on.\n\nThe build-containers-ubi8 job is not needed as it is exercised\nby the content providers and we have removed this job from other\ntripleo layouts.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0\n\nChange-Id: I95efa61361882875505e5e359dece23a5a67bfc9\n'}]",0,778900,22e5366de13a342ca6f65173ce069513fa80e1f5,17,7,1,8449,,,0,"Removes unneeded zuul layout overrides - templates for consistency

As part of [1] this removes the unneeded zuul layout overrides.
All the jobs removed here are already included with the relevant
templates. The files: matches that were used for the scenario
standalones are moved to the template layout via the depends-on.

The build-containers-ubi8 job is not needed as it is exercised
by the content providers and we have removed this job from other
tripleo layouts.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0

Change-Id: I95efa61361882875505e5e359dece23a5a67bfc9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/778900/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,22e5366de13a342ca6f65173ce069513fa80e1f5,tripleo-ci-reduce,, - tripleo-ci-centos-8-containers-multinode: vars: &multi_consumer_vars consumer_job: true build_container_images: false tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-validate dependencies: *deps_cprovider - tripleo-ci-centos-8-standalone: vars: &sa_consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: *deps_cprovider - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ - tripleo-ci-centos-8-scenario001-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ - tripleo-ci-centos-8-scenario002-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario003-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - tripleo-ci-centos-8-scenario004-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/manila.*$ - tripleo-ci-centos-8-scenario007-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/neutron.*$ - tripleo-ci-centos-8-scenario010-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/os/octavia.*$ - tripleo-ci-centos-8-content-provider - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$,0,93
openstack%2Ftripleo-specs~master~I35984fab49fd41f37b98c63a9b4e7fa0d3df7ebc,openstack/tripleo-specs,master,I35984fab49fd41f37b98c63a9b4e7fa0d3df7ebc,remove unicode from code,MERGED,2021-01-05 09:24:24.000000000,2021-03-09 17:55:02.000000000,2021-03-09 17:52:46.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-05 09:24:24.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a4a7138cc05a76772815a31e26f49c117636ebc3', 'message': 'remove unicode from code\n\nChange-Id: I35984fab49fd41f37b98c63a9b4e7fa0d3df7ebc\n'}]",0,769286,a4a7138cc05a76772815a31e26f49c117636ebc3,9,4,1,32020,,,0,"remove unicode from code

Change-Id: I35984fab49fd41f37b98c63a9b4e7fa0d3df7ebc
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/86/769286/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a4a7138cc05a76772815a31e26f49c117636ebc3,,"project = 'tripleo-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'tripleo-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fkolla-ansible~master~I027b19621196c698e09f79af294ba1b5dbfc0516,openstack/kolla-ansible,master,I027b19621196c698e09f79af294ba1b5dbfc0516,Deprecate Prometheus 1.x,MERGED,2021-03-02 15:34:39.000000000,2021-03-09 17:53:25.000000000,2021-03-09 17:51:13.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-03-02 15:34:39.000000000', 'files': ['releasenotes/notes/deprecate-prometheus-v1-c174f03d62c46795.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a50bef0f768c61867170ce62d07dd946b31efdae', 'message': 'Deprecate Prometheus 1.x\n\nDeprecates support for Prometheus v1.x.\nIn Xena support for it will be removed from Kolla Ansible.\n\nChange-Id: I027b19621196c698e09f79af294ba1b5dbfc0516\n'}]",0,778208,a50bef0f768c61867170ce62d07dd946b31efdae,10,4,1,32657,,,0,"Deprecate Prometheus 1.x

Deprecates support for Prometheus v1.x.
In Xena support for it will be removed from Kolla Ansible.

Change-Id: I027b19621196c698e09f79af294ba1b5dbfc0516
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/778208/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-prometheus-v1-c174f03d62c46795.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/prometheus/defaults/main.yml']",3,a50bef0f768c61867170ce62d07dd946b31efdae,deprecate-prometheus-v1,# NOTE(piotrp): Deprecated in Wallaby and will be removed in Xena,,10,0
openstack%2Fglance~master~I90523dbd53504cd20d9ab2a62c1da96a483c94e0,openstack/glance,master,I90523dbd53504cd20d9ab2a62c1da96a483c94e0,Make secure RBAC protection job voting,ABANDONED,2021-03-02 19:54:29.000000000,2021-03-09 17:53:14.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 19:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9913378080c0e2ffea35b0ec5270812a07bf947a', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 2, 'created': '2021-03-03 00:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3894199b9b20d55d704c574cf10fc271a6d9f34c', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 3, 'created': '2021-03-03 03:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0df701dbae2450c6fe905903f8ba7a9002db8267', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 4, 'created': '2021-03-04 04:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8c6e0d7d28d9d3808b6f26934e6582643704fde1', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 5, 'created': '2021-03-04 18:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3ef2262e6dfa6846b103e7fce5882cc83ac2cde5', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 6, 'created': '2021-03-04 20:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4e058fd0b6d71798351d9f4cddec24eaa64c309c', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 7, 'created': '2021-03-04 21:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7b9d9a9403562d669359412f46fbd4c6a4988cb', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 8, 'created': '2021-03-04 21:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/845e7c8c0ce1880a6cf4e5f76db44546338867d6', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 9, 'created': '2021-03-05 13:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f9591501e16bc775cf21a9708f1acece54af0f00', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 10, 'created': '2021-03-05 17:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1d2afb0546f9805f951fc2371ccb52526900d421', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 11, 'created': '2021-03-05 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/148d327d174bdb58c6f042b90ea6c32e940d8c1f', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 12, 'created': '2021-03-05 20:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3fea15c7e457f4f8cf92f9c10c5167ee925133f8', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 13, 'created': '2021-03-05 20:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cd77e0d53433f5241cd28a8fd68b68f51de7535c', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 14, 'created': '2021-03-05 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/40946152c3c30b1380d5cd16412a3d15ccd06f72', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 15, 'created': '2021-03-05 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b94028a112e50fe3e18b7677e3e8ca77f7c6a6d6', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 16, 'created': '2021-03-06 04:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d58b46629e2e67cf631d12eec097eb99af261c36', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 17, 'created': '2021-03-07 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee3d8c6b37f7730c46ef2f97a4b330815a1d8f01', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 18, 'created': '2021-03-07 16:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f7431a6bbd29b19c635fb923b229842f1bb56b2e', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}, {'number': 19, 'created': '2021-03-09 17:30:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/5240de1ea6877638bbfd46aca353151284c56295', 'message': ""Make secure RBAC protection job voting\n\nNow that we have updated default policies that adhere to common personas\nthat are expected to behave consistently across OpenStack deployments,\nlet's enable this job so that it's voting.\n\nThis commit also removes the legacy rbac job since it's mostly redundant\nwith the new job. We really just wanted to make sure we had test\ncoverage while changing the code.\n\nChange-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0\n""}]",0,778258,5240de1ea6877638bbfd46aca353151284c56295,38,2,19,5046,,,0,"Make secure RBAC protection job voting

Now that we have updated default policies that adhere to common personas
that are expected to behave consistently across OpenStack deployments,
let's enable this job so that it's voting.

This commit also removes the legacy rbac job since it's mostly redundant
with the new job. We really just wanted to make sure we had test
coverage while changing the code.

Change-Id: I90523dbd53504cd20d9ab2a62c1da96a483c94e0
",git fetch https://review.opendev.org/openstack/glance refs/changes/58/778258/16 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9913378080c0e2ffea35b0ec5270812a07bf947a,secure-rbac, - glance-secure-rbac-protection-functional - glance-secure-rbac-protection-functional, - glance-secure-rbac-protection-functional: voting: false - glance-legacy-rbac-protection-functional - glance-secure-rbac-protection-functional: voting: false - glance-legacy-rbac-protection-functional,2,6
openstack%2Fmanila~master~I340f63874af5783099ed6b353be61a2909829343,openstack/manila,master,I340f63874af5783099ed6b353be61a2909829343,Implement secure RBAC for services,MERGED,2020-11-19 21:17:02.000000000,2021-03-09 17:46:05.000000000,2021-03-08 23:27:40.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/00b817ce7e792b5bee4f45bdc23afb7f8ebce361', 'message': 'Implement secure RBAC for services\n\nThis commit updates the policies for services to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I340f63874af5783099ed6b353be61a2909829343\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/72790c92531d9c86646bb696c0673afdb5f0c045', 'message': 'Implement secure RBAC for services\n\nThis commit updates the policies for services to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: I340f63874af5783099ed6b353be61a2909829343\n'}, {'number': 3, 'created': '2021-03-03 01:44:04.000000000', 'files': ['manila/policies/service.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8d0b6acfcd7d679b1051adf03fee0216170f940d', 'message': 'Implement secure RBAC for services\n\nThis commit updates the policies for services to\nunderstand scope checking and account for a\nread-only role. This is part of a broader series\nof changes across OpenStack to provide a\nconsistent RBAC experience and improve security.\n\nChange-Id: I340f63874af5783099ed6b353be61a2909829343\n'}]",1,763447,8d0b6acfcd7d679b1051adf03fee0216170f940d,31,6,3,5046,,,0,"Implement secure RBAC for services

This commit updates the policies for services to
understand scope checking and account for a
read-only role. This is part of a broader series
of changes across OpenStack to provide a
consistent RBAC experience and improve security.

Change-Id: I340f63874af5783099ed6b353be61a2909829343
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/763447/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/policies/security_service.py', 'manila/policies/service.py']",2,00b817ce7e792b5bee4f45bdc23afb7f8ebce361,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The service API now supports system scope and default roles. """""" deprecated_service_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_ADMIN_API ) deprecated_service_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_service_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_service_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",29,5
openstack%2Ftripleo-ansible~master~I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348,openstack/tripleo-ansible,master,I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348,Add cephadm mkspec library and common functions,MERGED,2021-02-25 12:57:41.000000000,2021-03-09 17:33:52.000000000,2021-03-09 14:16:07.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-25 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c102396f86df8477029ed0cacf6dfe8908d785e', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 2, 'created': '2021-02-25 13:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9182ee071b88bf4399baf69a52f9efeb6556519a', 'message': 'WIP - Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 3, 'created': '2021-02-25 22:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50bd9ba90039cf1ef22983bd7293219d2c35a568', 'message': 'WIP - Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 4, 'created': '2021-03-01 13:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31d8b147df1d83083497d584121d2dbdbdc81ffa', 'message': 'WIP: Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 5, 'created': '2021-03-01 13:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d77637d9c93914b83d92a9188c2307b6b003e10', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 6, 'created': '2021-03-01 13:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38911aff9ee73ee88d7d86cac2bdb2641b4f4f06', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 7, 'created': '2021-03-01 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f784441a8d08f48a583ce819c1f24d51f4a04a26', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 8, 'created': '2021-03-01 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17d7fd39997389cd3ce4473c6216246fd7ef9ba0', 'message': 'WIP - Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 9, 'created': '2021-03-01 14:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c7968e1ea32931d204e0d44b3d0b14d0fa85646', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 10, 'created': '2021-03-01 14:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0da04bae4e96b3e79de3efa7fa766e4d9d721a2e', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 11, 'created': '2021-03-05 16:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b765e29717da1c9a75eca594fb29795b9ff5fa2', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 12, 'created': '2021-03-05 16:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/222cfdf2ede161da06493f4c839fa6992f2bccc4', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 13, 'created': '2021-03-05 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/655ad917295651cedbfc78e23bccc11bb458035b', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 14, 'created': '2021-03-05 17:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27ffcce3bbe9f66875fa00082046d2b651fe55e6', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 15, 'created': '2021-03-05 18:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f34e02eb603639614ae8770179565ccda0f3049', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}, {'number': 16, 'created': '2021-03-08 20:32:48.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/ceph_pool.py', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_key.py', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c3a95c9d873018be77f9cdf3034f4d8fa09ef7c', 'message': 'Add cephadm mkspec library and common functions\n\nThis patch adds the mkspec library, used by the related ansible\nmodules when a spec cephadm file is rendered. It includes the\nbasic fields defined in [1], and will be improved when new\nspecifications are added.\nIn addition, the common functions of the existing ceph_{key, pool}\nmodules are moved into a shared module_utils library that can be\nextended as needed.\n\n[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification\n\nChange-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348\n'}]",9,777586,2c3a95c9d873018be77f9cdf3034f4d8fa09ef7c,61,5,16,25402,,,0,"Add cephadm mkspec library and common functions

This patch adds the mkspec library, used by the related ansible
modules when a spec cephadm file is rendered. It includes the
basic fields defined in [1], and will be improved when new
specifications are added.
In addition, the common functions of the existing ceph_{key, pool}
modules are moved into a shared module_utils library that can be
extended as needed.

[1] https://docs.ceph.com/en/latest/mgr/orchestrator/#service-specification

Change-Id: I0a6f9e56c5cac7c46e0e2048bfea546f1dcb7348
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/777586/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/ceph_pool.py', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_key.py', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py']",4,8c102396f86df8477029ed0cacf6dfe8908d785e,bug/1918188,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2020 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Included from: https://github.com/ceph/ceph-ansible/blob/master/module_utils/ca_common.py import os import datetime def generate_ceph_cmd(sub_cmd, args, user_key=None, cluster='ceph', user='client.admin', container_image=None, interactive=False): ''' Generate 'ceph' command line to execute ''' if not user_key: user_key = '/etc/ceph/{}.{}.keyring'.format(cluster, user) cmd = pre_generate_ceph_cmd(container_image=container_image, interactive=interactive) base_cmd = [ '-n', user, '-k', user_key, '--cluster', cluster ] base_cmd.extend(sub_cmd) cmd.extend(base_cmd + args) return cmd def container_exec(binary, container_image, interactive=False): ''' Build the docker CLI to run a command inside a container ''' container_binary = os.getenv('CEPH_CONTAINER_BINARY') command_exec = [container_binary, 'run'] if interactive: command_exec.extend(['--interactive']) command_exec.extend(['--rm', '--net=host', '-v', '/etc/ceph:/etc/ceph:z', '-v', '/var/lib/ceph/:/var/lib/ceph/:z', '-v', '/var/log/ceph/:/var/log/ceph/:z', '--entrypoint={}'.format(binary), container_image]) return command_exec def is_containerized(): ''' Check if we are running on a containerized cluster ''' if 'CEPH_CONTAINER_IMAGE' in os.environ: container_image = os.getenv('CEPH_CONTAINER_IMAGE') else: container_image = None return container_image def pre_generate_ceph_cmd(container_image=None, interactive=False): ''' Generate ceph prefix comaand ''' if container_image: cmd = container_exec('ceph', container_image, interactive=interactive) else: cmd = ['ceph'] return cmd def exec_command(module, cmd, stdin=None): ''' Execute command(s) ''' binary_data = False if stdin: binary_data = True rc, out, err = module.run_command(cmd, data=stdin, binary_data=binary_data) return rc, cmd, out, err def exit_module(module, out, rc, cmd, err, startd, changed=False): endd = datetime.datetime.now() delta = endd - startd result = dict( cmd=cmd, start=str(startd), end=str(endd), delta=str(delta), rc=rc, stdout=out.rstrip(""\r\n""), stderr=err.rstrip(""\r\n""), changed=changed, ) module.exit_json(**result) def fatal(message, module): ''' Report a fatal error and exit ''' if module: module.fail_json(msg=message, rc=1) else: raise(Exception(message)) ",,347,156
openstack%2Fneutron~master~I48461be8b08cbc21c8af371f551b944343ba37bf,openstack/neutron,master,I48461be8b08cbc21c8af371f551b944343ba37bf,Remove rootwrap execution (6),MERGED,2021-03-03 16:30:01.000000000,2021-03-09 17:32:58.000000000,2021-03-09 17:29:43.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 16:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd7ef7cba204d2a6b86c9281655660e15e8b1f98', 'message': 'Remove rootwrap execution (5)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates the ""kill_process"" method to privsep and\nremoves the unneeded rootwrap filters.\n\nChange-Id: I48461be8b08cbc21c8af371f551b944343ba37bf\nStory: #2007686\nTask: #41558\n'}, {'number': 2, 'created': '2021-03-04 09:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9535d856baca05f9e987adc0a2498cf5a64a8fb1', 'message': 'Remove rootwrap execution (6)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates the ""kill_process"" method to privsep and\nremoves the unneeded rootwrap filters.\n\nChange-Id: I48461be8b08cbc21c8af371f551b944343ba37bf\nStory: #2007686\nTask: #41558\n'}, {'number': 3, 'created': '2021-03-04 15:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/052f659cf655756c59ea3c86171147a8ce2ead5b', 'message': 'Remove rootwrap execution (6)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates the ""kill_process"" method to privsep and\nremoves the unneeded rootwrap filters.\n\nChange-Id: I48461be8b08cbc21c8af371f551b944343ba37bf\nStory: #2007686\nTask: #41558\n'}, {'number': 4, 'created': '2021-03-05 10:03:42.000000000', 'files': ['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'neutron/tests/unit/agent/linux/test_external_process.py', 'etc/neutron/rootwrap.d/dibbler.filters', 'neutron/agent/linux/external_process.py', 'neutron/agent/linux/utils.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/unit/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/l3.filters', 'etc/neutron/rootwrap.d/debug.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee00bddce7cd78bd89134cc6bc08a4c1feb2203a', 'message': 'Remove rootwrap execution (6)\n\nReplace rootwrap execution with privsep context execution.\nThis series of patches will progressively replace any\nrootwrap call.\n\nThis patch migrates the ""kill_process"" method to privsep and\nremoves the unneeded rootwrap filters.\n\nChange-Id: I48461be8b08cbc21c8af371f551b944343ba37bf\nStory: #2007686\nTask: #41558\n'}]",1,778499,ee00bddce7cd78bd89134cc6bc08a4c1feb2203a,24,5,4,16688,,,0,"Remove rootwrap execution (6)

Replace rootwrap execution with privsep context execution.
This series of patches will progressively replace any
rootwrap call.

This patch migrates the ""kill_process"" method to privsep and
removes the unneeded rootwrap filters.

Change-Id: I48461be8b08cbc21c8af371f551b944343ba37bf
Story: #2007686
Task: #41558
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/778499/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/dhcp.filters', 'etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'etc/neutron/rootwrap.d/dibbler.filters', 'neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/debug.filters', 'etc/neutron/rootwrap.d/l3.filters']",7,dd7ef7cba204d2a6b86c9281655660e15e8b1f98,task/41558,,"kill_haproxy: KillFilter, root, haproxy, -15, -9, -HUP # haproxy kill script filter kill_haproxy_script: CommandFilter, haproxy-kill, root kill_radvd_usr: KillFilter, root, /usr/sbin/radvd, -15, -9, -HUP kill_radvd: KillFilter, root, /sbin/radvd, -15, -9, -HUP kill_radvd_script: CommandFilter, radvd-kill, root# For ip monitor kill_ip_monitor: KillFilter, root, ip, -9 kill_keepalived: KillFilter, root, keepalived, -HUP, -15, -9 # keepalived kill script filter kill_keepalived_script: CommandFilter, keepalived-kill, root# The following filters are used to kill the keepalived state change monitor. # Since the monitor runs as a Python script, the system reports that the # command of the process to be killed is python. # TODO(mlavalle) These kill filters will be updated once we come up with a # mechanism to kill using the name of the script being executed by Python kill_keepalived_monitor_py: KillFilter, root, python, -15, -9 kill_keepalived_monitor_py3: KillFilter, root, python3, -15, -9 kill_keepalived_monitor_py36: KillFilter, root, python3.6, -15, -9 kill_keepalived_monitor_py37: KillFilter, root, python3.7, -15, -9 kill_keepalived_monitor_py38: KillFilter, root, python3.8, -15, -9 # For e.g. RHEL8 neutron-keepalived-state-change is run by ""system python"" # which is /usr/libexec/platform-python3.6 so this should be in filters also. # Path /usr/libexec isn't in PATH by default so it has to be given here as # absolute path kill_keepalived_monitor_platform_py: KillFilter, root, /usr/libexec/platform-python, -15, -9 kill_keepalived_monitor_platform_py36: KillFilter, root, /usr/libexec/platform-python3.6, -15, -9 # neutron-keepalived-state-change-monitor kill script filter kill_neutron-keepalived-state-change-monitor_script: CommandFilter, neutron-keepalived-state-change-monitor-kill, root",4,51
openstack%2Fkolla-ansible~master~I072e4483c53d6f6c6152d0ef6a5b93b2419ead87,openstack/kolla-ansible,master,I072e4483c53d6f6c6152d0ef6a5b93b2419ead87,WIP: Tune mariadb clustercheck,ABANDONED,2021-02-26 12:42:48.000000000,2021-03-09 17:32:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-26 12:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fca982a4fee857bdd4a6e61f3ae26f6f084ee3d5', 'message': 'WIP: Tune mariadb clustercheck\n\nSet AVAILABLE_WHEN_READONLY to 0 (default is 1) and AVAILABLE_WHEN_DONOR to 0\n(default).\n\nChange-Id: I072e4483c53d6f6c6152d0ef6a5b93b2419ead87\n'}, {'number': 2, 'created': '2021-03-05 15:03:58.000000000', 'files': ['ansible/roles/mariadb/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/157d37cb65ea5b897ed52c5395a103d9f6286108', 'message': 'WIP: Tune mariadb clustercheck\n\nSet AVAILABLE_WHEN_READONLY to 0 (default is 1) and AVAILABLE_WHEN_DONOR to 0\n(default).\n\nChange-Id: I072e4483c53d6f6c6152d0ef6a5b93b2419ead87\n'}]",0,777743,157d37cb65ea5b897ed52c5395a103d9f6286108,7,1,2,22629,,,0,"WIP: Tune mariadb clustercheck

Set AVAILABLE_WHEN_READONLY to 0 (default is 1) and AVAILABLE_WHEN_DONOR to 0
(default).

Change-Id: I072e4483c53d6f6c6152d0ef6a5b93b2419ead87
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/777743/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/defaults/main.yml'],1,fca982a4fee857bdd4a6e61f3ae26f6f084ee3d5,," AVAILABLE_WHEN_DONOR: ""0"" AVAILABLE_WHEN_READONLY: ""0"""," AVAILABLE_WHEN_DONOR: ""1""",2,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,stable/victoria,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-02-25 10:17:58.000000000,2021-03-09 17:28:31.000000000,2021-03-09 17:28:31.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-02-25 10:17:58.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52774fc5576cef92c2e563fe5f15bc8c4211dbf8', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified\n  to support the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)\n'}]",0,777539,52774fc5576cef92c2e563fe5f15bc8c4211dbf8,9,8,1,32728,,,0,"Modifying playbooks to support python-tripleoclient B&R commands

- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  were modified to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml were modified
  to support the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/777539/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml']",5,52774fc5576cef92c2e563fe5f15bc8c4211dbf8,change-771587-6-stable/victoria,," connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" tags: - bar_create_recover_image",33,15
openstack%2Ftripleo-ansible~stable%2Ftrain~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,stable/train,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-03-02 16:47:41.000000000,2021-03-09 17:27:54.000000000,2021-03-09 17:27:54.000000000,"[{'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 16:47:41.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup-legacy.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7a07c33ebffe8a8b57d932f71270b54020ff8e1', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Not a clean cherry-pick\n- undercloud-backup.yaml moved to cli-undercloud-backup-legacy.yaml.\n- cli-undercloud-backup.yaml added the same way as stable/ussuri.\n- cli-undercloud-backup.yaml support new functionality for undercloud\n  backup python-tripleoclient.\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  added to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml support\n  the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)\n'}]",0,778214,d7a07c33ebffe8a8b57d932f71270b54020ff8e1,8,4,1,32728,,,0,"Modifying playbooks to support python-tripleoclient B&R commands

- Not a clean cherry-pick
- undercloud-backup.yaml moved to cli-undercloud-backup-legacy.yaml.
- cli-undercloud-backup.yaml added the same way as stable/ussuri.
- cli-undercloud-backup.yaml support new functionality for undercloud
  backup python-tripleoclient.
- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  added to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml support
  the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/778214/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup-legacy.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml']",6,d7a07c33ebffe8a8b57d932f71270b54020ff8e1,change-771587-6-stable/train,"--- # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Undercloud backup. hosts: Undercloud remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true roles: - role: backup-and-restore ",,153,15
openstack%2Fmanila~master~Id02cb45ecca32378a0a8b65589f21c64893d2c8e,openstack/manila,master,Id02cb45ecca32378a0a8b65589f21c64893d2c8e,Implement secure RBAC for group snapshots,MERGED,2020-11-19 21:17:02.000000000,2021-03-09 17:19:11.000000000,2021-03-09 17:17:20.000000000,"[{'_account_id': 9003}, {'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e42badd0474a46a5482f51d387f91985855affe3', 'message': 'Implement secure RBAC for group snapshots\n\nThis commit updates the policies for group snapshots to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Id02cb45ecca32378a0a8b65589f21c64893d2c8e\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/30befdcbba0e0dcaa1249771be3a6c9e5447ff9f', 'message': 'Implement secure RBAC for group snapshots\n\nThis commit updates the policies for group snapshots to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Id02cb45ecca32378a0a8b65589f21c64893d2c8e\n'}, {'number': 3, 'created': '2021-03-08 15:11:16.000000000', 'files': ['manila/policies/share_group_snapshot.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f6bf1e43e587ad5082cdd4b740379615442a86bc', 'message': 'Implement secure RBAC for group snapshots\n\nThis commit updates the policies for group snapshots to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Id02cb45ecca32378a0a8b65589f21c64893d2c8e\n'}]",2,763452,f6bf1e43e587ad5082cdd4b740379615442a86bc,24,6,3,5046,,,0,"Implement secure RBAC for group snapshots

This commit updates the policies for group snapshots to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Id02cb45ecca32378a0a8b65589f21c64893d2c8e
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/763452/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_group_snapshot.py'],1,e42badd0474a46a5482f51d387f91985855affe3,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share group snapshots API now supports system scope and default roles. """""" deprecated_group_snapshot_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_DEFAULT ) deprecated_group_snapshot_get = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get', check_str=base.RULE_DEFAULT ) deprecated_group_snapshot_get_all = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get_all', check_str=base.RULE_DEFAULT ) deprecated_group_snapshot_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_DEFAULT ) deprecated_group_snapshot_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) deprecated_group_snapshot_force_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'force_delete', check_str=base.RULE_ADMIN_API ) deprecated_group_snapshot_reset_status = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'reset_status', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_group_snapshot_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_group_snapshot_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_group_snapshot_get_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_group_snapshot_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_group_snapshot_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), # NOTE(lbragstad): This might make a good candidate for as a project # administrator operation if it doesn't require any information that # would violate tenancy check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_group_snapshot_force_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), # NOTE(lbragstad): This might make a good candidate for as a project # administrator operation if it doesn't require any information that # would violate tenancy check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_group_snapshot_reset_status, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",89,14
openstack%2Ftripleo-common~stable%2Ftrain~I95efa61361882875505e5e359dece23a5a67bfc9,openstack/tripleo-common,stable/train,I95efa61361882875505e5e359dece23a5a67bfc9,Removes unneeded zuul layout overrides - templates for consistency,MERGED,2021-03-08 10:56:29.000000000,2021-03-09 17:12:15.000000000,2021-03-09 17:03:46.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 10:56:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d93ae6ff9f39cc9b3202f5f2aa81f1238d15fe3', 'message': 'Removes unneeded zuul layout overrides - templates for consistency\n\nAs part of [1] this removes the unneeded zuul layout overrides.\nAll the jobs removed here are already included with the relevant\ntemplates. The files: matches that were used for the scenario\nstandalones are moved to the template layout via the depends-on.\n\nThe build-containers-ubi8 job is not needed as it is exercised\nby the content providers and we have removed this job from other\ntripleo layouts.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0\n\nChange-Id: I95efa61361882875505e5e359dece23a5a67bfc9\n(cherry picked from commit 22e5366de13a342ca6f65173ce069513fa80e1f5)\n'}]",1,779212,7d93ae6ff9f39cc9b3202f5f2aa81f1238d15fe3,11,4,1,8449,,,0,"Removes unneeded zuul layout overrides - templates for consistency

As part of [1] this removes the unneeded zuul layout overrides.
All the jobs removed here are already included with the relevant
templates. The files: matches that were used for the scenario
standalones are moved to the template layout via the depends-on.

The build-containers-ubi8 job is not needed as it is exercised
by the content providers and we have removed this job from other
tripleo layouts.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0

Change-Id: I95efa61361882875505e5e359dece23a5a67bfc9
(cherry picked from commit 22e5366de13a342ca6f65173ce069513fa80e1f5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/779212/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7d93ae6ff9f39cc9b3202f5f2aa81f1238d15fe3,tripleo-ci-reduce,, - tripleo-ci-centos-8-containers-multinode: vars: &multi_consumer_vars consumer_job: true build_container_images: false tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-undercloud-containers: vars: &undercloud_consumer_vars consumer_job: true tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-validate dependencies: *deps_cprovider - tripleo-ci-centos-8-standalone: vars: &sa_consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: *deps_cprovider - tripleo-build-containers-ubi-8: dependencies: *deps_unit_lint files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - tripleo-ci-centos-8-scenario001-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario001-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/os/panko.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ - tripleo-ci-centos-8-scenario002-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario003-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario004-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider - tripleo-ci-centos-8-scenario012-standalone: vars: *sa_consumer_vars dependencies: *deps_cprovider,0,85
openstack%2Ftripleo-quickstart~master~Ie807cf042ef495deac5a9f1099cdf4982ccdd2a5,openstack/tripleo-quickstart,master,Ie807cf042ef495deac5a9f1099cdf4982ccdd2a5,Updating promotion testing hash victoria to c8 stream repos and baseos image,MERGED,2021-03-03 19:19:38.000000000,2021-03-09 17:11:11.000000000,2021-03-09 17:04:13.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-03-03 19:19:38.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dedf35cde9b43094a346a7e9eea45a2a3ace5e9b', 'message': 'Updating promotion testing hash victoria to c8 stream repos and baseos image\n\n8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,\n8 - ceph-nautilus, ceph-octopus, collectd-5\n\nChange-Id: Ie807cf042ef495deac5a9f1099cdf4982ccdd2a5\n'}]",0,778557,dedf35cde9b43094a346a7e9eea45a2a3ace5e9b,16,6,1,32458,,,0,"Updating promotion testing hash victoria to c8 stream repos and baseos image

8-stream - BaseOS, AppStream, PowerTools, HighAvailability, extras,
8 - ceph-nautilus, ceph-octopus, collectd-5

Change-Id: Ie807cf042ef495deac5a9f1099cdf4982ccdd2a5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/57/778557/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml'],1,dedf35cde9b43094a346a7e9eea45a2a3ace5e9b,centos-8-stream-content-victoria," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/base_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20200113.0.x86_64.qcow2 base_image_path: ""{{ ansible_user_dir }}/CentOS-Stream-GenericCloud-8-20200113.0.x86_64.qcow2""baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20200113.0.x86_64.qcow2baseos_md5sum: ""3e365183c0777b8b5370fef7e1f5419a CentOS-Stream-GenericCloud-8-20200113.0.x86_64.qcow2"""," baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/HighAvailability/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/extras/x86_64/os/base_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2 base_image_path: ""{{ ansible_user_dir }}/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""baseos_undercloud_image_url: https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2baseos_md5sum: ""d89eb49f2c264d29225cecf2b6c83322 CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2""",9,9
openstack%2Ftripleo-common~stable%2Fussuri~I95efa61361882875505e5e359dece23a5a67bfc9,openstack/tripleo-common,stable/ussuri,I95efa61361882875505e5e359dece23a5a67bfc9,Removes unneeded zuul layout overrides - templates for consistency,MERGED,2021-03-08 10:52:23.000000000,2021-03-09 17:10:52.000000000,2021-03-09 17:03:40.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 10:52:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0fc8ce13966d4fe74a606093c2e5d3d2a8f6bef1', 'message': 'Removes unneeded zuul layout overrides - templates for consistency\n\nAs part of [1] this removes the unneeded zuul layout overrides.\nAll the jobs removed here are already included with the relevant\ntemplates. The files: matches that were used for the scenario\nstandalones are moved to the template layout via the depends-on.\n\nThe build-containers-ubi8 job is not needed as it is exercised\nby the content providers and we have removed this job from other\ntripleo layouts.\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\nDepends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0\n\nChange-Id: I95efa61361882875505e5e359dece23a5a67bfc9\n(cherry picked from commit 22e5366de13a342ca6f65173ce069513fa80e1f5)\n'}]",0,779208,0fc8ce13966d4fe74a606093c2e5d3d2a8f6bef1,10,4,1,8449,,,0,"Removes unneeded zuul layout overrides - templates for consistency

As part of [1] this removes the unneeded zuul layout overrides.
All the jobs removed here are already included with the relevant
templates. The files: matches that were used for the scenario
standalones are moved to the template layout via the depends-on.

The build-containers-ubi8 job is not needed as it is exercised
by the content providers and we have removed this job from other
tripleo layouts.

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce
Depends-On: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0

Change-Id: I95efa61361882875505e5e359dece23a5a67bfc9
(cherry picked from commit 22e5366de13a342ca6f65173ce069513fa80e1f5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/779208/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0fc8ce13966d4fe74a606093c2e5d3d2a8f6bef1,tripleo-ci-reduce, - tripleo-ci-centos-8-content-provider:, - tripleo-build-containers-ubi-8: files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: vars: &multinode_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &content-provider-job - tripleo-ci-centos-8-content-provider files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ - tripleo-ci-centos-8-scenario001-standalone: dependencies: *content-provider-job vars: &standalone_vars consumer_job: true build_container_images: false remove_tags: - build files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ - tripleo-ci-centos-8-scenario003-standalone: dependencies: *content-provider-job vars: *standalone_vars files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - ^container-images/tcib/base/os/sahara.*$ - tripleo-ci-centos-8-scenario004-standalone: dependencies: *content-provider-job vars: *standalone_vars files: - ^container-images/tcib/base/os/manila.*$ - tripleo-ci-centos-8-scenario007-standalone: dependencies: *content-provider-job vars: *standalone_vars files: - ^container-images/tcib/base/os/neutron.*$ - tripleo-ci-centos-8-scenario010-standalone: dependencies: *content-provider-job vars: *standalone_vars files: - ^container-images/tcib/base/os/octavia.*$,1,59
openstack%2Fnetworking-odl~master~Idb6791066c61d7de8790450cd969c048598ae952,openstack/networking-odl,master,Idb6791066c61d7de8790450cd969c048598ae952,Fix master of networking-odl,MERGED,2021-01-08 07:51:08.000000000,2021-03-09 17:04:33.000000000,2021-03-09 16:56:43.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 07:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3e22a12e124a57cda791d11880d68cea2b4a0966', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 2, 'created': '2021-01-08 12:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b8b521f3db489dfdf655eb80b7067af9354f512c', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 3, 'created': '2021-01-12 10:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0d4db2b03c727d640dbb0b97c100fe542bba9a1a', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 4, 'created': '2021-01-12 12:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9a625e8f0bce360728e8c5e54986f21254defb09', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 5, 'created': '2021-01-13 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e98e73e6d3a83ec1b8d3146428a583004c2b337b', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 6, 'created': '2021-01-13 16:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/81b17230887978700fc03d78871e6a0b366c725a', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 7, 'created': '2021-01-14 08:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb3edbb0649e38da318c1575500c0cc0b8408e95', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 8, 'created': '2021-01-14 09:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/17f33d99dbbb3b50a76fbc8cb4f5ce09d0ebe43d', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 9, 'created': '2021-01-19 18:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ba5948348d9761166e6aae28280fb911f3611868', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 10, 'created': '2021-01-20 14:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4b26602ac5850efe2febad07ebaeee40a9c6041e', 'message': 'WIP: test master of networking-odl\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 11, 'created': '2021-01-20 16:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9d956bb010521d5dcc6a8335b3ef5c02ca05de6f', 'message': 'Fix master of networking-odl\n\nDue to recent pip resolver changes the dependencies have to align, and\nas lower-constraints job is still failing make it non-voting.\nThe question of dropping lower-constraints testing was discussed in [1]\nand [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 12, 'created': '2021-02-01 14:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7b61633dded7632a977569fecaa5fe81bc43deab', 'message': 'Fix master of networking-odl\n\nDue to recent pip resolver changes the dependencies have to align, and\nas lower-constraints job is still failing make it non-voting.\nThe question of dropping lower-constraints testing was discussed in [1]\nand [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}, {'number': 13, 'created': '2021-02-11 08:56:53.000000000', 'files': ['networking_odl/ml2/legacy_port_binding.py', 'networking_odl/common/client.py', 'test-requirements.txt', 'networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/cmd/analyze_journal.py', '.zuul.d/project.yaml', 'lower-constraints.txt', 'networking_odl/tests/functional/requirements.txt', 'networking_odl/common/lightweight_testing.py', 'networking_odl/cmd/set_ovs_hostconfigs.py', 'networking_odl/common/websocket_client.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b8a140df8c6f801714734667f8c4985c65d603e2', 'message': 'Fix master of networking-odl\n\nDue to recent pip resolver changes the dependencies have to align, and\nas lower-constraints job is still failing make it non-voting.\nThe question of dropping lower-constraints testing was discussed in [1]\nand [2].\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html\n\nChange-Id: Idb6791066c61d7de8790450cd969c048598ae952\n'}]",2,769877,b8a140df8c6f801714734667f8c4985c65d603e2,53,4,13,8313,,,0,"Fix master of networking-odl

Due to recent pip resolver changes the dependencies have to align, and
as lower-constraints job is still failing make it non-voting.
The question of dropping lower-constraints testing was discussed in [1]
and [2].

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2]http://eavesdrop.openstack.org/meetings/networking/2021/networking.2021-01-12-14.00.log.html

Change-Id: Idb6791066c61d7de8790450cd969c048598ae952
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/77/769877/12 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/ml2/legacy_port_binding.py'],1,3e22a12e124a57cda791d11880d68cea2b4a0966,oslo_lc_drop, self.vif_details = {portbindings.CAP_PORT_FILTER: True}, self.vif_details = {portbindings.CAP_PORT_FILTER: True},1,1
openstack%2Fpython-tripleoclient~master~Ia67f51097e7853a5810217a3effc37c45b010f3c,openstack/python-tripleoclient,master,Ia67f51097e7853a5810217a3effc37c45b010f3c,"Revert ""Revert ""Add environment variables for better var handling""""",MERGED,2021-03-04 14:53:57.000000000,2021-03-09 16:48:35.000000000,2021-03-08 18:22:40.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 14:53:57.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c6380a607343df585fa18810e83ff65f1cf3d269', 'message': 'Revert ""Revert ""Add environment variables for better var handling""""\n\nThis reverts commit 6aa5a92e353ee6c5af87ad0c8efd6839f833626b.\n\nWe\'d like to disable the fact var inject but we need to address the\nceph-ansible execution issues. This change now has depends-on for CI\ncoverage and a workaround for ceph-ansible requirements until\nceph-ansible can be updated.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/778712\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/778553\n\nChange-Id: Ia67f51097e7853a5810217a3effc37c45b010f3c\nRelated-Bug: #1915761\n'}]",0,778717,c6380a607343df585fa18810e83ff65f1cf3d269,9,3,1,14985,,,0,"Revert ""Revert ""Add environment variables for better var handling""""

This reverts commit 6aa5a92e353ee6c5af87ad0c8efd6839f833626b.

We'd like to disable the fact var inject but we need to address the
ceph-ansible execution issues. This change now has depends-on for CI
coverage and a workaround for ceph-ansible requirements until
ceph-ansible can be updated.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/778712
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/778553

Change-Id: Ia67f51097e7853a5810217a3effc37c45b010f3c
Related-Bug: #1915761
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/778717/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,c6380a607343df585fa18810e83ff65f1cf3d269,bug/1915761," # Set var handling for better performance env['ANSIBLE_INJECT_FACT_VARS'] = False env['ANSIBLE_VARS_PLUGIN_STAGE'] = 'inventory' env['ANSIBLE_GATHER_SUBSET'] = '!all,min' ",,5,0
openstack%2Fironic~master~Icf5ca865e0c1e168b96659229df622698bea1503,openstack/ironic,master,Icf5ca865e0c1e168b96659229df622698bea1503,Add Redfish RAID management to Ironic,MERGED,2020-05-21 15:39:50.000000000,2021-03-09 16:44:29.000000000,2021-03-08 17:29:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 28128}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-21 15:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75db7f6ad72a38777d00e473c341b307171b7315', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 2, 'created': '2020-07-17 15:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cae878059979fe2ed9256ad0056dd349803227ba', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 3, 'created': '2020-07-17 16:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9feb54b2676ece3b4519aadc9dcb6396802afdd', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 4, 'created': '2020-08-19 23:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96ffdb1dcc616c53a8874d36ed7b7f9c81fba504', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 5, 'created': '2020-09-14 20:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/926547d8ae247f5eb27f486d86cf8a78e3ef8751', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 6, 'created': '2020-09-25 17:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9466ce5fd65b786c09584a5839ef43b72a77f36f', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 7, 'created': '2020-10-29 18:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4e0a4095e7dbab06941f0c18d21eb5c5d4927ca', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 8, 'created': '2021-01-08 00:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc8d92232ac204d25bfa48b4b1f9caa0ff397293', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 9, 'created': '2021-01-08 04:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b30b7a0e663078402eba365d59c72f0a42354fe', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 10, 'created': '2021-01-14 22:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8adfcb3e0e1c2485a1d1fa403626bc3420fe2533', 'message': 'WIP: Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 11, 'created': '2021-01-24 22:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d23c0ef73ab8922ffe3a6206d55872a53e1027ae', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 12, 'created': '2021-01-25 17:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5156a38e2bfdb2f4e6c09032140516ce22358def', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 13, 'created': '2021-02-05 19:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6451d37b6b75bc68b3b7cde7a2c31981b78baaee', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 14, 'created': '2021-02-15 02:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0793604878f6b45b7dd33298137d45aa392f8893', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\nStory: 2003514\nTask: 24789\n'}, {'number': 15, 'created': '2021-02-19 11:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b79087f5b312d27258cea91e3cb67b3e560260e', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nStory: 2003514\nTask: 24789\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/774532\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\n'}, {'number': 16, 'created': '2021-02-19 14:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c2c72de538973e80481b5add7477204a0e785ba', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nStory: 2003514\nTask: 24789\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/774532\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\n'}, {'number': 17, 'created': '2021-02-23 22:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92ad5893f585c8c422a336726baac2eaf6c8db28', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nStory: 2003514\nTask: 24789\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/774532\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\n'}, {'number': 18, 'created': '2021-02-26 07:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e64a586a18259abc0fb488cfbf55bee09c8f3d79', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nStory: 2003514\nTask: 24789\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/774532\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\n'}, {'number': 19, 'created': '2021-03-03 16:44:05.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'driver-requirements.txt', 'releasenotes/notes/redfish-raid-interface-e362e7a0e7140962.yaml', 'ironic/drivers/redfish.py', 'setup.cfg', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py', 'ironic/conf/redfish.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7f4da23764e2b8a3ce784ff2bcf047227af7064', 'message': 'Add Redfish RAID management to Ironic\n\nThe Redfish hardware type does not currently implement the RAID\nhardware interface.\n\nThis patch implements the Redfish RAID interface, allowing operators\nto specify the desired RAID configuration on Ironic Redfish nodes.\n\nStory: 2003514\nTask: 24789\n\nDepends-On: https://review.opendev.org/c/openstack/sushy/+/774532\nChange-Id: Icf5ca865e0c1e168b96659229df622698bea1503\n'}]",151,730000,d7f4da23764e2b8a3ce784ff2bcf047227af7064,170,11,19,28128,,,0,"Add Redfish RAID management to Ironic

The Redfish hardware type does not currently implement the RAID
hardware interface.

This patch implements the Redfish RAID interface, allowing operators
to specify the desired RAID configuration on Ironic Redfish nodes.

Story: 2003514
Task: 24789

Depends-On: https://review.opendev.org/c/openstack/sushy/+/774532
Change-Id: Icf5ca865e0c1e168b96659229df622698bea1503
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/730000/17 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/raid.py', 'ironic/tests/unit/drivers/modules/redfish/test_raid.py', 'ironic/drivers/redfish.py', 'releasenotes/notes/redfish-raid-interface-e362e7a0e7140962.yaml', 'setup.cfg']",5,75db7f6ad72a38777d00e473c341b307171b7315,task/24789, redfish = ironic.drivers.modules.redfish.raid:RedfishRAID,,1196,0
openstack%2Fos-collect-config~master~Ia68c217ed08085a5e4c66a0dc68576d6764709c6,openstack/os-collect-config,master,Ia68c217ed08085a5e4c66a0dc68576d6764709c6,Add Python3 victoria unit tests,ABANDONED,2021-02-02 12:41:03.000000000,2021-03-09 16:39:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-02 12:41:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/249cc734ef6e5e8cea48bf8af16e6117cc2b1289', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia68c217ed08085a5e4c66a0dc68576d6764709c6\n'}]",0,773655,249cc734ef6e5e8cea48bf8af16e6117cc2b1289,3,1,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia68c217ed08085a5e4c66a0dc68576d6764709c6
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/55/773655/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,249cc734ef6e5e8cea48bf8af16e6117cc2b1289,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fos-collect-config~stable%2Fvictoria~I7d01ce77918d60de1c4eb942044255b42c7fc9f5,openstack/os-collect-config,stable/victoria,I7d01ce77918d60de1c4eb942044255b42c7fc9f5,Update TOX_CONSTRAINTS_FILE for stable/ussuri,ABANDONED,2021-03-09 16:25:26.000000000,2021-03-09 16:31:09.000000000,,[{'_account_id': 22816}],"[{'number': 1, 'created': '2021-03-09 16:25:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/4afdd37a3bf87a8aea3952d4dc74ee19a9732d29', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5\n'}]",0,779530,4afdd37a3bf87a8aea3952d4dc74ee19a9732d29,2,1,1,14985,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d01ce77918d60de1c4eb942044255b42c7fc9f5
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/30/779530/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4afdd37a3bf87a8aea3952d4dc74ee19a9732d29,fix-ci-stable/victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-collect-config~stable%2Fvictoria~I06546ff9fdd24fb07a90758f882edeacccc4ebf3,openstack/os-collect-config,stable/victoria,I06546ff9fdd24fb07a90758f882edeacccc4ebf3,Update .gitreview for stable/ussuri,ABANDONED,2021-03-09 16:25:26.000000000,2021-03-09 16:30:43.000000000,,[{'_account_id': 22816}],"[{'number': 1, 'created': '2021-03-09 16:25:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/82e7ba4cb4eb92e2835aa9e1a6fbd24e2280271c', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3\n'}]",0,779529,82e7ba4cb4eb92e2835aa9e1a6fbd24e2280271c,2,1,1,14985,,,0,"Update .gitreview for stable/ussuri

Change-Id: I06546ff9fdd24fb07a90758f882edeacccc4ebf3
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/29/779529/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,82e7ba4cb4eb92e2835aa9e1a6fbd24e2280271c,fix-ci-stable/victoria,defaultbranch=stable/ussuri,,1,0
openstack%2Ftripleo-ci~master~I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0,openstack/tripleo-ci,master,I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0,Moves files: overrides from tripleo-common to tripleo-ci template,MERGED,2021-03-05 12:36:37.000000000,2021-03-09 16:17:19.000000000,2021-03-09 16:17:19.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-05 12:36:37.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1061c6d98dc1cbe31ca6f049421585db6036e7a8', 'message': 'Moves files: overrides from tripleo-common to tripleo-ci template\n\nThis moves the files: overrides from [1] (which depends-on this\npatch) to the scenario standalone template. Part of [2].\n\n[1] I95efa61361882875505e5e359dece23a5a67bfc9\n[2] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0\n'}]",3,778901,1061c6d98dc1cbe31ca6f049421585db6036e7a8,19,7,1,8449,,,0,"Moves files: overrides from tripleo-common to tripleo-ci template

This moves the files: overrides from [1] (which depends-on this
patch) to the scenario standalone template. Part of [2].

[1] I95efa61361882875505e5e359dece23a5a67bfc9
[2] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I633bc01bc1a8cd8d1216e503eaa9a43aef9a7fa0
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/778901/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,1061c6d98dc1cbe31ca6f049421585db6036e7a8,tripleo-ci-reduce, - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ #tripleo-common - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ # tripleo-common - ^container-images/tcib/base/os/manila.*$ # tripleo-common - ^container-images/tcib/base/os/neutron.*$ - ^container-images/tcib/base/os/octavia.*$, - ^container-images/.*$,17,1
openstack%2Fneutron~stable%2Fstein~Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,openstack/neutron,stable/stein,Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe,Fix deletion of rfp interfaces when router is re-enabled,MERGED,2021-02-24 11:19:08.000000000,2021-03-09 16:14:28.000000000,2021-03-09 16:11:08.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 11:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d9ece46af7cb1c0a3c88429702c660d50507183', 'message': 'Fix deletion of rfp interfaces when router is re-enabled\n\n1. When dvr router is disabled and enabled back, the rfp\ninterfaces are deleted on the nodes without snat-* namespace.\nThis is due to creation of snat namespace during router\ninitialization stage on all the nodes. At later stages, since\nthe gw_port_host is not bounded on this node, external gateway\nis removed which triggers removal of rfp interfaces and snat\nnamespace.\nCreate snat namespace only on the nodes where gw_port_host is\nbounded.\n\n2. In case of DVR SNAT, when the l3 agent is rescheduled to\nanother node, the rfp interfaces on qrouter-* namespace are\nremoved. Instead of calling external_gateway_removed() which\nfurther deletes the rfp interfaces, the qg-, sg- interfaces\nneed to be unplugged and snat namespace need to be deleted.\n\nCloses-Bug: #1894843\nChange-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe\n(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)\n'}, {'number': 2, 'created': '2021-03-03 07:04:50.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac0755dbceb7edb59e0a958782bc62df419e5bde', 'message': 'Fix deletion of rfp interfaces when router is re-enabled\n\n1. When dvr router is disabled and enabled back, the rfp\ninterfaces are deleted on the nodes without snat-* namespace.\nThis is due to creation of snat namespace during router\ninitialization stage on all the nodes. At later stages, since\nthe gw_port_host is not bounded on this node, external gateway\nis removed which triggers removal of rfp interfaces and snat\nnamespace.\nCreate snat namespace only on the nodes where gw_port_host is\nbounded.\n\n2. In case of DVR SNAT, when the l3 agent is rescheduled to\nanother node, the rfp interfaces on qrouter-* namespace are\nremoved. Instead of calling external_gateway_removed() which\nfurther deletes the rfp interfaces, the qg-, sg- interfaces\nneed to be unplugged and snat namespace need to be deleted.\n\nCloses-Bug: #1894843\nChange-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe\n(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)\n'}]",0,777319,ac0755dbceb7edb59e0a958782bc62df419e5bde,17,3,2,10366,,,0,"Fix deletion of rfp interfaces when router is re-enabled

1. When dvr router is disabled and enabled back, the rfp
interfaces are deleted on the nodes without snat-* namespace.
This is due to creation of snat namespace during router
initialization stage on all the nodes. At later stages, since
the gw_port_host is not bounded on this node, external gateway
is removed which triggers removal of rfp interfaces and snat
namespace.
Create snat namespace only on the nodes where gw_port_host is
bounded.

2. In case of DVR SNAT, when the l3 agent is rescheduled to
another node, the rfp interfaces on qrouter-* namespace are
removed. Instead of calling external_gateway_removed() which
further deletes the rfp interfaces, the qg-, sg- interfaces
need to be unplugged and snat namespace need to be deleted.

Closes-Bug: #1894843
Change-Id: Ic35c2f9bceacec8eeba67a2b1ea0cd0b0ffc72fe
(cherry picked from commit 393d484e07e53496ff068d14047c97d28febd03a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/777319/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_edge_router.py']",2,6d9ece46af7cb1c0a3c88429702c660d50507183,bug/1894843-stable/stein," self.driver.unplug(interface_name, namespace=self.snat_namespace.name, prefix=router.EXTERNAL_DEV_PREFIX) self.snat_namespace.delete() if self._is_this_snat_host(): self.snat_namespace.create()"," return self.external_gateway_removed( ex_gw_port, interface_name) self.snat_namespace.create() return self.snat_namespace",54,4
openstack%2Fmonasca-persister~stable%2Fvictoria~Ic1504a18a780b0f517c5aa3dd3bfb04998d42e74,openstack/monasca-persister,stable/victoria,Ic1504a18a780b0f517c5aa3dd3bfb04998d42e74,Add doc/requirements,MERGED,2021-03-03 15:21:41.000000000,2021-03-09 16:13:51.000000000,2021-03-09 16:09:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 15:21:41.000000000', 'files': ['monasca_persister/tools/influxdb/db-per-tenant/migrate-to-db-per-tenant.py', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/f77ce2ac80679df385a581fb6849fd5efec1ef5a', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\n\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\nBump a series of lower-constraints and requirements to work with new pip\nresolver, testing with steps outlined at [5]\n\nFix Flake8 E741 [6]\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n[5] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html\n[6] https://www.flake8rules.com/rules/E741.html\n\nChange-Id: Ic1504a18a780b0f517c5aa3dd3bfb04998d42e74\n(cherry picked from commit 37411e792a8ee36eb04832785044b048719e9fcf)\n""}]",0,778423,f77ce2ac80679df385a581fb6849fd5efec1ef5a,7,3,1,26141,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].

Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

Bump a series of lower-constraints and requirements to work with new pip
resolver, testing with steps outlined at [5]

Fix Flake8 E741 [6]

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36
[5] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019285.html
[6] https://www.flake8rules.com/rules/E741.html

Change-Id: Ic1504a18a780b0f517c5aa3dd3bfb04998d42e74
(cherry picked from commit 37411e792a8ee36eb04832785044b048719e9fcf)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/23/778423/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/tools/influxdb/db-per-tenant/migrate-to-db-per-tenant.py', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",5,f77ce2ac80679df385a581fb6849fd5efec1ef5a,fix-relmgt-pip-doc-stable/victoria,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,,9,12
openstack%2Fmonasca-api~stable%2Fussuri~Ibe32b6b84d5791ea4e36b64df02759d31698f8e7,openstack/monasca-api,stable/ussuri,Ibe32b6b84d5791ea4e36b64df02759d31698f8e7,Fix docker publish image job,MERGED,2021-03-08 21:05:42.000000000,2021-03-09 16:13:42.000000000,2021-03-09 16:08:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-03-08 21:05:42.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/46f5d4a495fa7d8b04a1faf5c45c15de8388976e', 'message': 'Fix docker publish image job\n\nChange-Id: Ibe32b6b84d5791ea4e36b64df02759d31698f8e7\n'}]",0,779366,46f5d4a495fa7d8b04a1faf5c45c15de8388976e,7,2,1,26141,,,0,"Fix docker publish image job

Change-Id: Ibe32b6b84d5791ea4e36b64df02759d31698f8e7
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/66/779366/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,46f5d4a495fa7d8b04a1faf5c45c15de8388976e,fix-zuul-publish," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-ussuri' }}"" "," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else stable-ussuri }}""",2,1
openstack%2Fcharm-mysql-innodb-cluster~master~Ia6b9541e4827912d7a48c30a5eb17b2d87b611ae,openstack/charm-mysql-innodb-cluster,master,Ia6b9541e4827912d7a48c30a5eb17b2d87b611ae,Point ops to logs when cluster status is None,MERGED,2021-03-08 23:03:46.000000000,2021-03-09 16:07:52.000000000,2021-03-09 16:07:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 23:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/adfd32b1ba82f86f4da1d77f6d6c1743b475a4a6', 'message': 'Point ops to logs when cluster status is None\n\nDo not report ""None"" as the cluster status, rather point operators to\nthe logs to determine why this instance cannot access the cluster to\nobtain cluster status.\n\nProvide more information on the cluster\'s status in workgroup status.\n\nChange-Id: Ia6b9541e4827912d7a48c30a5eb17b2d87b611ae\nCloses-Bug: #1917337\n'}, {'number': 2, 'created': '2021-03-09 00:28:44.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/afad74831a73ee5f2c65b219797ead7383aebcb4', 'message': 'Point ops to logs when cluster status is None\n\nDo not report ""None"" as the cluster status, rather point operators to\nthe logs to determine why this instance cannot access the cluster to\nobtain cluster status.\n\nProvide more information on the cluster\'s status in workgroup status.\n\nChange-Id: Ia6b9541e4827912d7a48c30a5eb17b2d87b611ae\nCloses-Bug: #1917337\n'}]",0,779384,afad74831a73ee5f2c65b219797ead7383aebcb4,10,3,2,20805,,,0,"Point ops to logs when cluster status is None

Do not report ""None"" as the cluster status, rather point operators to
the logs to determine why this instance cannot access the cluster to
obtain cluster status.

Provide more information on the cluster's status in workgroup status.

Change-Id: Ia6b9541e4827912d7a48c30a5eb17b2d87b611ae
Closes-Bug: #1917337
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/84/779384/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,adfd32b1ba82f86f4da1d77f6d6c1743b475a4a6,bug/1917337," # LP Bug #1917337 if _cluster_status is None: ch_core.hookenv.status_set( ""blocked"", ""Cluster is inaccessible from this instance. "" ""Please check logs for details."") return if ""OK"" not in _cluster_status: ""Unit is ready: Mode: {}, {}"" .format(self.get_cluster_instance_mode(), self.get_cluster_status_text()))"," if not _cluster_status or ""OK"" not in _cluster_status: ""Unit is ready: Mode: {}"" .format(self.get_cluster_instance_mode()))",24,3
openstack%2Fopenstack-ansible-ops~master~Iedef41b53c4e5fa28dac8206c5ba39dab5033815,openstack/openstack-ansible-ops,master,Iedef41b53c4e5fa28dac8206c5ba39dab5033815,Change get-pip urls,MERGED,2021-03-08 14:14:10.000000000,2021-03-09 15:52:25.000000000,2021-03-09 15:50:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-08 14:14:10.000000000', 'files': ['multi-node-aio/bootstrap.sh', 'pxelinux-provisioning/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ea16ee62de3581beb3c3b38b7ec5bf3983ff33d7', 'message': 'Change get-pip urls\n\nThe path for get-pip.py script in versions 3.2 and 3.4 have been changed\nwith this commit [1].\n\n[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37\n\nChange-Id: Iedef41b53c4e5fa28dac8206c5ba39dab5033815\n'}]",0,779272,ea16ee62de3581beb3c3b38b7ec5bf3983ff33d7,8,5,1,20676,,,0,"Change get-pip urls

The path for get-pip.py script in versions 3.2 and 3.4 have been changed
with this commit [1].

[1] https://github.com/pypa/get-pip/commit/2360f025eb2a6f62d45cf99e4c6d83ba9c4d5e37

Change-Id: Iedef41b53c4e5fa28dac8206c5ba39dab5033815
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/72/779272/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/bootstrap.sh', 'pxelinux-provisioning/bootstrap.sh']",2,ea16ee62de3581beb3c3b38b7ec5bf3983ff33d7,, https://bootstrap.pypa.io/pip/3.2/get-pip.py | sudo python2.7, https://bootstrap.pypa.io/3.2/get-pip.py | sudo python2.7,2,2
openstack%2Fcharm-mysql-innodb-cluster~master~Ic40e190a299acd998f028d6803320444ce766602,openstack/charm-mysql-innodb-cluster,master,Ic40e190a299acd998f028d6803320444ce766602,Gracefully depart the cluster,MERGED,2021-03-05 23:45:54.000000000,2021-03-09 15:49:32.000000000,2021-03-09 15:49:32.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 23:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/cc629d11f8599e2911d664ec0e3c65f544a5726d', 'message': 'Gracefully depart the cluster\n\nBetter depart handling from the cluster. Stop MySQL cleanly to notify\npeer instances early.\n\nChange-Id: Ic40e190a299acd998f028d6803320444ce766602\n'}, {'number': 2, 'created': '2021-03-08 17:35:17.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3d1d93865c28b1adaa282d56011cb55d67151712', 'message': 'Gracefully depart the cluster\n\nBetter depart handling from the cluster. Stop MySQL cleanly to notify\npeer instances early.\n\nChange-Id: Ic40e190a299acd998f028d6803320444ce766602\n'}]",0,779063,3d1d93865c28b1adaa282d56011cb55d67151712,17,3,2,20805,,,0,"Gracefully depart the cluster

Better depart handling from the cluster. Stop MySQL cleanly to notify
peer instances early.

Change-Id: Ic40e190a299acd998f028d6803320444ce766602
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/63/779063/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",2,cc629d11f8599e2911d664ec0e3c65f544a5726d,departing,"@reactive.when_none( 'charm.paused', 'local.cluster.unit.departing')@reactive.when_none( 'charm.paused', 'local.cluster.unit.departing')@reactive.when_not('local.cluster.unit.departing')@reactive.when_not('local.cluster.unit.departing')@reactive.when_not('local.cluster.unit.departing') @reactive.when_any( 'endpoint.coordinator.departed', 'endpoint.cluster.departed', ) def scale_in(): """""" Handle scale in. If this is the node departing, stop services and notify peers. """""" if not ch_core.hookenv.departing_unit(): ch_core.hookenv.log( ""In a cluster/coordinator departing hook but departing unit is "" ""unset. Doing nothing."" ""WARNING"") return if ch_core.hookenv.local_unit() in ch_core.hookenv.departing_unit(): ch_core.hookenv.log( ""{} is this unit departing. Shutting down."" .format(ch_core.hookenv.departing_unit()), ""WARNING"") reactive.set_flag(""local.cluster.unit.departing"") with charm.provide_charm_instance() as instance: instance.depart_instance() else: ch_core.hookenv.log( ""{} is not this unit departing. Do nothing."" .format(ch_core.hookenv.departing_unit()), ""WARNING"")",@reactive.when_not('charm.paused')@reactive.when_not('charm.paused'),72,2
openstack%2Fmanila~master~I0009a3d682ee5d9a946821c3f82dfd90faa886aa,openstack/manila,master,I0009a3d682ee5d9a946821c3f82dfd90faa886aa,RBAC tightening for share access rule,MERGED,2021-03-02 07:06:09.000000000,2021-03-09 15:47:35.000000000,2021-03-08 23:10:38.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-03-02 07:06:09.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/api/v2/test_share_accesses.py', 'releasenotes/notes/bug-1917417-fix-rbac-check-on-share-access-rules-efdddaf9e6f68fdf.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/fc0f669decd3a7c6de2e7b4b01a727764b927a3b', 'message': 'RBAC tightening for share access rule\n\nNon privileged users of unrelated projects\nmust not be able to retrieve details of an\naccess rule. We can add a further check to\n/share-access-rules APIs to validate that\nthe caller has access to the share that these\nrules pertain to.\n\nChange-Id: I0009a3d682ee5d9a946821c3f82dfd90faa886aa\nCloses-Bug: #1917417\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,778143,fc0f669decd3a7c6de2e7b4b01a727764b927a3b,20,3,1,16643,,,0,"RBAC tightening for share access rule

Non privileged users of unrelated projects
must not be able to retrieve details of an
access rule. We can add a further check to
/share-access-rules APIs to validate that
the caller has access to the share that these
rules pertain to.

Change-Id: I0009a3d682ee5d9a946821c3f82dfd90faa886aa
Closes-Bug: #1917417
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/778143/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/tests/api/v2/test_share_accesses.py', 'releasenotes/notes/bug-1917417-fix-rbac-check-on-share-access-rules-efdddaf9e6f68fdf.yaml']",4,fc0f669decd3a7c6de2e7b4b01a727764b927a3b,bug/1917417,--- security: - | An RBAC policy check has been enforced against the GET /share-access-rules API to ensure that users are permitted to access the share that the access rule belongs to. See `bug 1917417 <https://launchpad.net/bugs/1917417>`_ for more details. ,,46,2
openstack%2Fansible-collections-openstack~master~I29487128c69895e08fbd22ad48065d30d93ad9db,openstack/ansible-collections-openstack,master,I29487128c69895e08fbd22ad48065d30d93ad9db,Container module for management swift containers,ABANDONED,2021-03-09 15:40:37.000000000,2021-03-09 15:44:33.000000000,,[],"[{'number': 1, 'created': '2021-03-09 15:40:37.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_keystone_federation_protocol.py', 'plugins/modules/os_volume.py', 'test-requirements.txt', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_keystone_identity_provider_info.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'ci/roles/container/defaults/main.yml', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'ci/roles/container/tasks/main.yml', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_identity_provider.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_keystone_mapping_info.py', 'plugins/modules/os_keystone_mapping.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/container.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_keystone_federation_protocol_info.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/74c352612ab928e1670bb24033eccded914fadea', 'message': 'Container module for management swift containers\n\nChange-Id: I29487128c69895e08fbd22ad48065d30d93ad9db\n'}]",0,779512,74c352612ab928e1670bb24033eccded914fadea,2,0,1,32787,,,0,"Container module for management swift containers

Change-Id: I29487128c69895e08fbd22ad48065d30d93ad9db
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/12/779512/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_keystone_federation_protocol.py', 'plugins/modules/os_volume.py', 'test-requirements.txt', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_keystone_identity_provider_info.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'ci/roles/container/defaults/main.yml', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'ci/roles/container/tasks/main.yml', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_identity_provider.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_keystone_mapping_info.py', 'plugins/modules/os_keystone_mapping.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/container.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_keystone_federation_protocol_info.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py']",65,74c352612ab928e1670bb24033eccded914fadea,swift-container,routers_info.py,,333,0
openstack%2Fironic-python-agent~master~Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5,openstack/ironic-python-agent,master,Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5,Check the base device if the read-only file cannot be read,MERGED,2021-03-07 20:28:24.000000000,2021-03-09 15:31:02.000000000,2021-03-09 15:24:55.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-07 20:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1f97839da36fbc3975b7c4fac3bc4f7363d099fb', 'message': ""Check the base device if the read-only file cannot be read\n\nFor some drives, the partition e.g. `/dev/sda1` will not have the\n'ro' file which can result in a metadata erasure failure but the base\ndevice (`/dev/sda`) will have this file.  Add an additional check\nfor the base device.\n\nChange-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5\nStory: 2008696\nTask: 42004\n""}, {'number': 2, 'created': '2021-03-08 17:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/13fb856c2cef4605f628daa19b69502fa71840c2', 'message': ""Check the base device if the read-only file cannot be read\n\nFor some drives, the partition e.g. `/dev/sda1` will not have the\n'ro' file which can result in a metadata erasure failure but the base\ndevice (`/dev/sda`) will have this file.  Add an additional check\nfor the base device.\n\nChange-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5\nStory: 2008696\nTask: 42004\n""}, {'number': 3, 'created': '2021-03-09 12:05:42.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/partition_check_read_only_base_device-5bc15ac2f034aca9.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4afe4f6069bae2215617b676ae9d4860ac84609c', 'message': ""Check the base device if the read-only file cannot be read\n\nFor some drives, the partition e.g. `/dev/sda1` will not have the\n'ro' file which can result in a metadata erasure failure but the base\ndevice (`/dev/sda`) will have this file.  Add an additional check\nfor the base device.\n\nChange-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5\nStory: 2008696\nTask: 42004\n""}]",7,779111,4afe4f6069bae2215617b676ae9d4860ac84609c,18,4,3,21909,,,0,"Check the base device if the read-only file cannot be read

For some drives, the partition e.g. `/dev/sda1` will not have the
'ro' file which can result in a metadata erasure failure but the base
device (`/dev/sda`) will have this file.  Add an additional check
for the base device.

Change-Id: Ia01bdbf82cee6ce15fabdc42f9c23036df55b4c5
Story: 2008696
Task: 42004
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/11/779111/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/partition_check_read_only_base_device-5bc15ac2f034aca9.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,1f97839da36fbc3975b7c4fac3bc4f7363d099fb,partition_ro," self.assertTrue(self.hardware._is_read_only_device(device.name)) self.assertFalse(self.hardware._is_read_only_device(device.name)) self.assertFalse(self.hardware._is_read_only_device(device.name)) def test__is_read_only_device_partition_error(self): device = hardware.BlockDevice('/dev/sdfake1', 'fake', 1024, False) with mock.patch( 'builtins.open', side_effect=IOError, autospec=True) as mock_open: self.assertFalse(self.hardware._is_read_only_device(device.name)) mock_open.assert_has_calls([ mock.call('/sys/block/sdfake1/ro', 'r'), mock.call('/sys/block/sdfake/ro', 'r')]) def test__is_read_only_device_partition_ok(self): fileobj = mock.mock_open(read_data='1\n') device = hardware.BlockDevice('/dev/sdfake1', 'fake', 1024, False) reads = [IOError, '1'] with mock.patch( 'builtins.open', fileobj, create=True) as mock_open: mock_dev_file = mock_open.return_value.read mock_dev_file.side_effect = reads self.assertTrue(self.hardware._is_read_only_device(device.name)) ", self.assertTrue(self.hardware._is_read_only_device(device)) self.assertFalse(self.hardware._is_read_only_device(device)) self.assertFalse(self.hardware._is_read_only_device(device)),42,9
openstack%2Fansible-collections-openstack~master~Ia6c625e49ec7a95971c412c4e89008d9b29782d9,openstack/ansible-collections-openstack,master,Ia6c625e49ec7a95971c412c4e89008d9b29782d9,Container module for management swift containers,ABANDONED,2021-03-09 15:17:44.000000000,2021-03-09 15:27:13.000000000,,[],"[{'number': 1, 'created': '2021-03-09 15:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/de7b1c08ef9b7759bcf57b75178369aa7da3bb64', 'message': 'Container module for management swift containers.\n\nChange-Id: Ia6c625e49ec7a95971c412c4e89008d9b29782d9\n'}, {'number': 2, 'created': '2021-03-09 15:24:57.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_keystone_federation_protocol.py', 'plugins/modules/os_volume.py', 'test-requirements.txt', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_keystone_identity_provider_info.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'ci/roles/container/defaults/main.yml', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'ci/roles/container/tasks/main.yml', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_identity_provider.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_keystone_mapping_info.py', 'plugins/modules/os_keystone_mapping.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/container.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_keystone_federation_protocol_info.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95be9a1188caa3067144d9982f795c0ce4827838', 'message': 'Container module for management swift containers\n\nChange-Id: Ia6c625e49ec7a95971c412c4e89008d9b29782d9\n'}]",0,779506,95be9a1188caa3067144d9982f795c0ce4827838,3,0,2,32787,,,0,"Container module for management swift containers

Change-Id: Ia6c625e49ec7a95971c412c4e89008d9b29782d9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/06/779506/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_keystone_federation_protocol.py', 'plugins/modules/os_volume.py', 'test-requirements.txt', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_keystone_identity_provider_info.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'ci/roles/container/defaults/main.yml', 'plugins/modules/os_server_info.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'ci/roles/container/tasks/main.yml', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_identity_provider.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_keystone_mapping_info.py', 'plugins/modules/os_keystone_mapping.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/container.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_keystone_federation_protocol_info.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py']",65,de7b1c08ef9b7759bcf57b75178369aa7da3bb64,container,routers_info.py,,333,0
openstack%2Fkolla-ansible~stable%2Ftrain~I4ac15e8ac4e2484e4aee0e942fabc2453a09d168,openstack/kolla-ansible,stable/train,I4ac15e8ac4e2484e4aee0e942fabc2453a09d168,CI: fix kolla-ansible installation in stable/train,MERGED,2021-03-09 09:04:26.000000000,2021-03-09 15:17:18.000000000,2021-03-09 15:15:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-09 09:04:26.000000000', 'files': ['tests/post.yml', 'tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a919fbcc3517ed355221e3d6888e6806616a40e8', 'message': ""CI: fix kolla-ansible installation in stable/train\n\nInstalling kolla-ansible system-wide on CentOS 8 fails with:\n\n    ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed\n    project and thus we cannot accurately determine which files belong\n    to it which would lead to only a partial uninstall.\n\nThis change switches to using pip --user when installing kolla-ansible,\nas done in change Ifaf1948ed5d42eebaa62d7bad375bbfc12b134d5.\n\nChange-Id: I4ac15e8ac4e2484e4aee0e942fabc2453a09d168\n""}]",0,779441,a919fbcc3517ed355221e3d6888e6806616a40e8,11,3,1,15197,,,0,"CI: fix kolla-ansible installation in stable/train

Installing kolla-ansible system-wide on CentOS 8 fails with:

    ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed
    project and thus we cannot accurately determine which files belong
    to it which would lead to only a partial uninstall.

This change switches to using pip --user when installing kolla-ansible,
as done in change Ifaf1948ed5d42eebaa62d7bad375bbfc12b134d5.

Change-Id: I4ac15e8ac4e2484e4aee0e942fabc2453a09d168
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/779441/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/post.yml', 'tests/run.yml']",2,a919fbcc3517ed355221e3d6888e6806616a40e8,," upper_constraints_file: ""{{ ansible_env.HOME }}/src/opendev.org/openstack/requirements/upper-constraints.txt"" pip_user_path_env: PATH: ""{{ ansible_env.HOME + '/.local/bin:' + ansible_env.PATH }}"" environment: ""{{ pip_user_path_env }}"" extra_args: ""-c {{ upper_constraints_file }} --user"" environment: ""{{ pip_user_path_env }}"" extra_args: ""-c {{ upper_constraints_file }} --user"" environment: ""{{ pip_user_path_env }}""", become: true become: true,10,2
openstack%2Fkolla~master~Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b,openstack/kolla,master,Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b,Upgrade from ELK6 to ELK7 FOSS release,MERGED,2020-06-30 08:56:29.000000000,2021-03-09 15:07:01.000000000,2021-03-09 15:05:08.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-30 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/81a363df203c67b1e5c01985dc59b2be3b59a3b3', 'message': 'WIP: Upgrade to ELK7 (latest release)\n\nThe Ussuri release will run ELK6 everywhere. This enables us\nto support a smooth upgrade path to ELK7 in Victoria.\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 2, 'created': '2020-06-30 09:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/617fbcbe9f82f8938f27708bbc8566473e8a8b6d', 'message': 'WIP: Upgrade to ELK7 (latest release)\n\nThe Ussuri release will run ELK6 everywhere. This enables us\nto support a smooth upgrade path to ELK7 in Victoria.\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 3, 'created': '2020-07-14 14:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c81dd615b1623679d92bfda8817f5182035a0ede', 'message': 'Upgrade to ELK7 (latest release)\n\nThe Ussuri release will run ELK6 everywhere. This enables us\nto support a smooth upgrade path to ELK7 in Victoria.\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 4, 'created': '2020-07-22 10:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9c656923a7c3f5235fd7bd4f08827df4fde5a24', 'message': 'Upgrade to ELK7 (latest release)\n\nThe Ussuri release will run ELK6 everywhere. This enables us\nto support a smooth upgrade path to ELK7 in Victoria.\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 5, 'created': '2021-03-03 14:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b897b30c9d525c57a650a61ae8471b72d0b92b01', 'message': 'Upgrade from ELK6 to ELK7 FOSS release\n\nUpgrade to the latest ELK OSS release. Due to the licensing change, this\neffectively pins us to 7.10.x which is supported until 2022-05-11 [1].\n\nThis patch also takes advantage of the ARM artifacts which have\nbeen kindly provided since the 7.8.0 release [2].\n\n[1] https://www.elastic.co/support/eol\n[2] https://www.elastic.co/blog/elasticsearch-on-arm\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 6, 'created': '2021-03-04 17:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ad63c7931bae4eafacf18074caf34d2a1d7b476', 'message': 'Upgrade from ELK6 to ELK7 FOSS release\n\nUpgrade to the latest ELK OSS release. Due to the licensing change, this\neffectively pins us to 7.10.x which is supported until 2022-05-11 [1].\n\nThis patch also takes advantage of the ARM artifacts which have\nbeen kindly provided since the 7.8.0 release [2].\n\n[1] https://www.elastic.co/support/eol\n[2] https://www.elastic.co/blog/elasticsearch-on-arm\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}, {'number': 7, 'created': '2021-03-05 08:58:54.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/upgrade-to-elk7-1816e69663735a98.yaml', 'kolla/template/repos.yaml', 'docker/base/elasticsearch.repo', 'kolla/tests/test_methods.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c19a57a97971ee92105baddb59addf283427cb19', 'message': 'Upgrade from ELK6 to ELK7 FOSS release\n\nUpgrade to the latest ELK OSS release. Due to the licensing change, this\neffectively pins us to 7.10.x which is supported until 2022-05-11 [1].\n\nThis patch also takes advantage of the ARM artifacts which have\nbeen kindly provided since the 7.8.0 release [2].\n\n[1] https://www.elastic.co/support/eol\n[2] https://www.elastic.co/blog/elasticsearch-on-arm\n\nChange-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b\n'}]",4,738567,c19a57a97971ee92105baddb59addf283427cb19,40,7,7,17669,,,0,"Upgrade from ELK6 to ELK7 FOSS release

Upgrade to the latest ELK OSS release. Due to the licensing change, this
effectively pins us to 7.10.x which is supported until 2022-05-11 [1].

This patch also takes advantage of the ARM artifacts which have
been kindly provided since the 7.8.0 release [2].

[1] https://www.elastic.co/support/eol
[2] https://www.elastic.co/blog/elasticsearch-on-arm

Change-Id: Icfa3db5788b25f70ee75411dbaf20d8d4a6a734b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/67/738567/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-to-elk7-1816e69663735a98.yaml', 'kolla/template/repos.yaml', 'docker/base/elasticsearch.repo', 'kolla/tests/test_methods.py']",4,81a363df203c67b1e5c01985dc59b2be3b59a3b3,master_elk7_squashed, expectCmd += 'https://artifacts.elastic.co/packages/oss-7.x/apt ', expectCmd += 'https://artifacts.elastic.co/packages/oss-6.x/apt ',25,19
openstack%2Fpython-tackerclient~master~I83395e159e28c7e831dfe0ecd90435b3fb18c196,openstack/python-tackerclient,master,I83395e159e28c7e831dfe0ecd90435b3fb18c196,Support of Fail VNF command in openstackclient,MERGED,2021-02-17 15:19:29.000000000,2021-03-09 15:00:21.000000000,2021-03-09 14:55:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31902}, {'_account_id': 32102}, {'_account_id': 32219}, {'_account_id': 32581}]","[{'number': 1, 'created': '2021-02-17 15:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/bc776cfe888a60aad2ba15249c58ac4e8cf1e2f0', 'message': 'Support of Fail VNF command in openstackclient\n\nAdd ``openstack vnflcm op fail`` to python-tackerclient.\nThis command can execute Fail operation.\nThe API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".\n\nImplements: support-error-handling\nSpec: https://review.opendev.org/c/openstack/tacker-specs/+/759349\nChange-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196\n'}, {'number': 2, 'created': '2021-02-19 15:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/30d1a1e34e62734684bd32a79acbee188b7ecbbe', 'message': 'Support of Fail VNF command in openstackclient\n\nAdd ``openstack vnflcm op fail`` to python-tackerclient.\nThis command can execute Fail operation.\nThe API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196\n'}, {'number': 3, 'created': '2021-03-01 13:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d71801fda7f0135cd577bfb3dff1490e2255d93e', 'message': 'Support of Fail VNF command in openstackclient\n\nAdd ``openstack vnflcm op fail`` to python-tackerclient.\nThis command can execute Fail operation.\nThe API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196\n'}, {'number': 4, 'created': '2021-03-04 17:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/61eb8e7cf5570a092f19bd7cad0a6b4e5bba252a', 'message': 'Support of Fail VNF command in openstackclient\n\nAdd ``openstack vnflcm op fail`` to python-tackerclient.\nThis command can execute Fail operation.\nThe API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196\n'}, {'number': 5, 'created': '2021-03-08 00:31:32.000000000', 'files': ['tackerclient/osc/v1/vnflcm/vnflcm_op_occs.py', 'tackerclient/tests/unit/test_cli10.py', 'tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py', 'tackerclient/v1_0/client.py', 'tackerclient/tests/unit/osc/v1/vnflcm_op_occs_fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/58167535c711baab35f43929da4798c055146448', 'message': 'Support of Fail VNF command in openstackclient\n\nAdd ``openstack vnflcm op fail`` to python-tackerclient.\nThis command can execute Fail operation.\nThe API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".\n\nImplements: blueprint support-error-handling\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html\nChange-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196\n'}]",25,776214,58167535c711baab35f43929da4798c055146448,32,8,5,32736,,,0,"Support of Fail VNF command in openstackclient

Add ``openstack vnflcm op fail`` to python-tackerclient.
This command can execute Fail operation.
The API can change operationStatus from ""FAILED_TEMP"" to ""FAILED"".

Implements: blueprint support-error-handling
Spec: https://specs.openstack.org/openstack/tacker-specs/specs/wallaby/support-error-handling-based-on-ETSI-NFV.html
Change-Id: I83395e159e28c7e831dfe0ecd90435b3fb18c196
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/14/776214/3 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/vnflcm/vnflcm_op_occs.py', 'tackerclient/tests/unit/test_cli10.py', 'tackerclient/tests/unit/osc/v1/test_vnflcm_op_occs.py', 'tackerclient/v1_0/client.py', 'tackerclient/tests/unit/osc/v1/vnflcm_op_occs_fakes.py', 'setup.cfg']",6,bc776cfe888a60aad2ba15249c58ac4e8cf1e2f0,bp/support-error-handling, vnflcm_op_fail = tackerclient.osc.v1.vnflcm.vnflcm_op_occs:FailVnfLcmOp,,310,1
openstack%2Fhacking~master~Ic73f1212d3a4a7178a7c735dae696bb9b8792d84,openstack/hacking,master,Ic73f1212d3a4a7178a7c735dae696bb9b8792d84,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 17:38:58.000000000,2021-03-09 14:56:31.000000000,2021-03-09 14:53:19.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-25 17:38:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/65eee9782cd49ddcaad96c65103f8b7d3a157535', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Ic73f1212d3a4a7178a7c735dae696bb9b8792d84\n""}]",0,777636,65eee9782cd49ddcaad96c65103f8b7d3a157535,9,4,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Ic73f1212d3a4a7178a7c735dae696bb9b8792d84
",git fetch https://review.opendev.org/openstack/hacking refs/changes/36/777636/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,65eee9782cd49ddcaad96c65103f8b7d3a157535,,minversion = 3.18.0allowlist_externals = bashallowlist_externals = make,minversion = 3.1.1whitelist_externals = bashwhitelist_externals = make,3,3
openstack%2Fkayobe~stable%2Fussuri~I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,openstack/kayobe,stable/ussuri,I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,Fix copying Swift ring files,MERGED,2021-02-03 14:01:13.000000000,2021-03-09 14:48:38.000000000,2021-03-09 14:47:01.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-02-03 14:01:13.000000000', 'files': ['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9595873feea0e293e888c7ab0dabde2100156d8c', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}]",0,773899,9595873feea0e293e888c7ab0dabde2100156d8c,17,7,1,14826,,,0,"Fix copying Swift ring files

Ring files are binary formatted and should not be templated. Attempting
to template them causes an error such as the following:

    Template source files must be utf-8 encoded

This change fixes the issue by implementing support for configuration
files that are listed as 'untemplated'.

Change-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28
Story: 2007297
Task: 38774
(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/99/773899/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml']",4,9595873feea0e293e888c7ab0dabde2100156d8c,story/2007297-stable/ussuri," register: copy_result python3 {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ copy_result.uid }}:{{ copy_result.gid }}"""," # Facts required for ansible_user_uid and ansible_user_gid. - name: Gather facts for swift ring build host setup: when: not module_setup | default(false) python {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ ansible_user_uid }}:{{ ansible_user_gid }}""",25,9
openstack%2Fvalidations-libs~master~Ib11fd1b829bd56c19f82081d53440b4dd8237f3f,openstack/validations-libs,master,Ib11fd1b829bd56c19f82081d53440b4dd8237f3f,Remove the condition to check the groups.,MERGED,2021-02-24 20:20:43.000000000,2021-03-09 14:25:49.000000000,2021-03-09 14:24:03.000000000,"[{'_account_id': 8297}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32432}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-02-24 20:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d7ab4d19f221776d5f1445c131fbba335b11284f', 'message': 'Remove the condition to check the groups.\n\nWe added this condition because we met this error on osp 16:\n\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run\n    column_names, data = self.take_action(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action\n    return actions.group_information(GROUP_FILE)\n  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information\n    self.validation_path, gp[0])\n  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk\n    if not groups or set(groups).intersection(val.groups):\nTypeError: \'NoneType\' object is not iterable\n\nBut it\'s not anymore necessary, because now the property groups return\nan empty list by default if it\'s not defined.\n\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n'}, {'number': 2, 'created': '2021-03-01 15:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bf1566a1106216b29e1f4e5ccea8a414eb12130d', 'message': 'Remove the condition to check the groups.\n\nWe added this condition because we met this error on osp 16:\n\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run\n    column_names, data = self.take_action(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action\n    return actions.group_information(GROUP_FILE)\n  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information\n    self.validation_path, gp[0])\n  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk\n    if not groups or set(groups).intersection(val.groups):\nTypeError: \'NoneType\' object is not iterable\n\nBut it\'s not anymore necessary, because now the property groups return\nan empty list by default if it\'s not defined. To fix this patch[1] in\nthe tripleo-upgrade\n\n[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181\n\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n'}, {'number': 3, 'created': '2021-03-01 15:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/569480fc4ca1ee07be20950ecef74f7adb8fa286', 'message': 'Remove the condition to check the groups.\n\nWe added this condition because we met this error on osp 16:\n\nTraceback (most recent call last):\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/command.py"", line 32, in run\n    super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/osc_lib/command/command.py"", line 41, in run\n    return super(Command, self).run(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/cliff/display.py"", line 116, in run\n    column_names, data = self.take_action(parsed_args)\n  File ""/usr/lib/python3.6/site-packages/tripleoclient/v1/tripleo_validator.py"", line 77, in take_action\n    return actions.group_information(GROUP_FILE)\n  File ""/usr/lib/python3.6/site-packages/validations_libs/validation_actions.py"", line 156, in group_information\n    self.validation_path, gp[0])\n  File ""/usr/lib/python3.6/site-packages/validations_libs/utils.py"", line 62, in parse_all_validations_on_disk\n    if not groups or set(groups).intersection(val.groups):\nTypeError: \'NoneType\' object is not iterable\n\nBut it\'s not anymore necessary, because now the property groups return\nan empty list by default if it\'s not defined. To fix this patch[1] in\nthe tripleo-upgrade.\n\n[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/773181\n\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n'}, {'number': 4, 'created': '2021-03-03 23:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0fe980f1de5e271a122b8eb7a1aa2f31e884f72c', 'message': ""Remove the condition to check the groups.\n\nThe code of the groups property in the Validation class changed. Before\nthe code didn't check if the key groups was there. You can see the\nchange[1] to have more information.\n\n[1] https://opendev.org/openstack/validations-libs/commit/eb62054a336853c3ea641d781a8b577abf407fca\n\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n""}, {'number': 5, 'created': '2021-03-03 23:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/898fb413d858f0855d621704132ec45a4bfc3c34', 'message': ""Remove the condition to check the groups.\n\nThe code of the groups property in the Validation class changed. Before\nthe code didn't check if the key groups was there. You can see the\nchange[1] to have more information.\n\n[1] https://opendev.org/openstack/validations-libs/commit/eb62054a336853c3ea641d781a8b577abf407fca\n\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n""}, {'number': 6, 'created': '2021-03-04 16:29:50.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/28e069f1700ced1203b6953f75f4ece5298375df', 'message': ""Remove the condition to check the groups.\n\nThe code of the groups property in the Validation class changed. Before\nthe code didn't check if the key groups was there. You can see the\nchange[1] to have more information.\n\n[1] https://opendev.org/openstack/validations-libs/commit/eb62054a336853c3ea641d781a8b577abf407fca\n\nCloses-bug: #1917785\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\nChange-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f\n""}]",2,777463,28e069f1700ced1203b6953f75f4ece5298375df,23,7,6,31245,,,0,"Remove the condition to check the groups.

The code of the groups property in the Validation class changed. Before
the code didn't check if the key groups was there. You can see the
change[1] to have more information.

[1] https://opendev.org/openstack/validations-libs/commit/eb62054a336853c3ea641d781a8b577abf407fca

Closes-bug: #1917785
Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
Change-Id: Ib11fd1b829bd56c19f82081d53440b4dd8237f3f
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/63/777463/6 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_utils.py', 'validations_libs/utils.py']",2,d7ab4d19f221776d5f1445c131fbba335b11284f,remove_group_condition,, if not val.groups: msg = 'Group not found in playbook - please add appropriate group' raise RuntimeError(msg),0,13
openstack%2Ftripleo-common~master~Ica1b5c0a165cc06fac668513114eef2b4ba73f56,openstack/tripleo-common,master,Ica1b5c0a165cc06fac668513114eef2b4ba73f56,Ensure ansible.log accesses are locked,MERGED,2021-03-08 15:43:26.000000000,2021-03-09 14:25:28.000000000,2021-03-09 14:23:58.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-08 15:43:26.000000000', 'files': ['tripleo_common/utils/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf12307b3c2c84fc7f4cec9d25201fd6a5b79c5a', 'message': 'Ensure ansible.log accesses are locked\n\nThis patch is the ""master"" version for change I024ff0a23823adfa2a2d354d44c7949df1f123da\n\nEven if this code isn\'t used for sensitive runs anymore, making things\nright and consistent is always good.\n\nChange-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56\nRelated-Bug: #1918138\n'}]",2,779286,cf12307b3c2c84fc7f4cec9d25201fd6a5b79c5a,13,4,1,28223,,,0,"Ensure ansible.log accesses are locked

This patch is the ""master"" version for change I024ff0a23823adfa2a2d354d44c7949df1f123da

Even if this code isn't used for sensitive runs anymore, making things
right and consistent is always good.

Change-Id: Ica1b5c0a165cc06fac668513114eef2b4ba73f56
Related-Bug: #1918138
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/779286/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/ansible.py'],1,cf12307b3c2c84fc7f4cec9d25201fd6a5b79c5a,mistral-ansible-log,"from pathlib import Path # Create the log file, and set some rights on it in order to prevent # unwanted accesse Path(log_path).touch() os.chmod(log_path, 0o640) ",,6,0
openstack%2Fironic~master~I954c0cbb9948a227218cb733a83b8626bc328cc4,openstack/ironic,master,I954c0cbb9948a227218cb733a83b8626bc328cc4,Add clean/deploy steps to manage certificates,NEW,2020-11-23 15:05:51.000000000,2021-03-09 14:00:03.000000000,,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-23 15:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad6cbb92b1aa654c38e3f2316c4495bbec697e95', 'message': ""Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 2, 'created': '2020-11-27 05:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fabd82cd2d2519fc930c16ea5d476f2ae1cd248f', 'message': ""[WIP] Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 3, 'created': '2020-12-14 06:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/442f21b405160a18955a75642e1f063a172695a2', 'message': ""[WIP] Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 4, 'created': '2021-02-11 08:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07cf7a391c90ccad62f3fbd49c5b7721c7365fb6', 'message': ""[WIP] Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 5, 'created': '2021-02-11 12:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7da7ac596fa0c74c6f8e3eb9238307cd839716ec', 'message': ""[WIP] Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 6, 'created': '2021-03-02 07:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b8a9766f3d63e818ed063489e04ad72c4cea77d', 'message': ""Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 7, 'created': '2021-03-04 15:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/15d6df50f2593ce8faf0a23be8e0f4e3f3e991d9', 'message': ""Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}, {'number': 8, 'created': '2021-03-09 12:15:19.000000000', 'files': ['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d8fabfa9c23061fd49715d44ba96b5ba8f4dc91', 'message': ""Add clean/deploy steps to manage certificates\n\nAdds clean/deploy steps 'export_certificates' and 'clear_certificates'\nto manage certificates on the node.\n\nChange-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4\n""}]",12,763791,2d8fabfa9c23061fd49715d44ba96b5ba8f4dc91,41,3,8,18781,,,0,"Add clean/deploy steps to manage certificates

Adds clean/deploy steps 'export_certificates' and 'clear_certificates'
to manage certificates on the node.

Change-Id: I954c0cbb9948a227218cb733a83b8626bc328cc4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/763791/8 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ilo/management.py'],1,ad6cbb92b1aa654c38e3f2316c4495bbec697e95,manage_certs_with_steps,"_EXPORT_CERTS_ARGSINFO = { 'certificate_files': { 'description': ( ""The list of files containing the certificates to be exported."" ""If empty list is specified, value set for "" ""CONF.webserver_verify_ca is considered as a file if it is"" "" other than a boolean. Else no certificate would be exported."" ), 'required': True } } _CLEAR_CERTS_ARGSINFO = { 'certificate_files': { 'description': ( ""The list of files containing the certificates to be cleared."" ""If empty list is specified, all the certificates on the ilo "" ""would be cleared."" ), 'required': True } } @base.deploy_step(priority=0, argsinfo=_EXPORT_CERTS_ARGSINFO) @base.clean_step(priority=0, argsinfo=_EXPORT_CERTS_ARGSINFO) def export_certificates(self, task, certificate_files): """"""Exports the certificates provided in the list of files to iLO. :param task: a task from TaskManager. :raises: NodeCleaningFailure, on failure to execute of clean step. :raises: InstanceDeployFailure, on failure to execute of deploy step. """""" node = task.node try: ilo_common.export_certificates(certificate_files) except (exception.IloOperationNotSupported, exception.IloOperationError) as ir_exception: msg = (_(""Step 'export_certificates' failed on node %(node)s "" ""with error: %(err)s"") % {'node': node.uuid, 'err': ir_exception}) if node.clean_step: raise exception.NodeCleaningFailure(msg) raise exception.InstanceDeployFailure(msg) @base.deploy_step(priority=0, argsinfo=_CLEAR_CERTS_ARGSINFO) @base.clean_step(priority=0, argsinfo=_CLEAR_CERTS_ARGSINFO) def clear_certificates(self, task, certificate_files): """"""Clears the certificates provided in the list of files to iLO. :param task: a task from TaskManager. :raises: NodeCleaningFailure, on failure to execute of clean step. :raises: InstanceDeployFailure, on failure to execute of deploy step. """""" node = task.node try: ilo_common.clear_certificates(certificate_files) except (exception.IloOperationNotSupported, exception.IloOperationError) as ir_exception: msg = (_(""Step 'clear_certificates' failed on node %(node)s with "" ""error: %(err)s"") % {'node': node.uuid, 'err': ir_exception}) if node.clean_step: raise exception.NodeCleaningFailure(msg) raise exception.InstanceDeployFailure(msg)",,65,0
openstack%2Ftripleo-heat-templates~master~Ib35fdae76f16f7e0f993587056b7759aeceff061,openstack/tripleo-heat-templates,master,Ib35fdae76f16f7e0f993587056b7759aeceff061,[ovn]: Enable port forwarding in neutron service plugins,MERGED,2021-03-04 15:14:39.000000000,2021-03-09 13:49:11.000000000,2021-03-09 13:49:11.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-04 15:14:39.000000000', 'files': ['deployment/neutron/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6d8ed854dc1660a8ef40f7c39811aa20d9699a8', 'message': '[ovn]: Enable port forwarding in neutron service plugins\n\nThis is a continuation of change id I27ac0a536624f5461809df771a58a6e57fec0661\n\nThe port_forwarding service should be included as part of the default\nNeutronServicePlugins value.\n\nCloses-Bug: #1877447\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: Ib35fdae76f16f7e0f993587056b7759aeceff061\n'}]",0,778724,b6d8ed854dc1660a8ef40f7c39811aa20d9699a8,9,6,1,11952,,,0,"[ovn]: Enable port forwarding in neutron service plugins

This is a continuation of change id I27ac0a536624f5461809df771a58a6e57fec0661

The port_forwarding service should be included as part of the default
NeutronServicePlugins value.

Closes-Bug: #1877447
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>

Change-Id: Ib35fdae76f16f7e0f993587056b7759aeceff061
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/778724/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-base.yaml'],1,b6d8ed854dc1660a8ef40f7c39811aa20d9699a8,ovn/port_forwarding," default: ""qos,ovn-router,trunk,segments,port_forwarding,log"""," default: ""qos,ovn-router,trunk,segments,log""",1,1
openstack%2Fmanila~master~I12026c7874620abb076df979f0492f6d1b8563fd,openstack/manila,master,I12026c7874620abb076df979f0492f6d1b8563fd,Implement secure RBAC for share access rules,MERGED,2020-11-19 21:17:02.000000000,2021-03-09 13:42:39.000000000,2021-03-08 22:32:45.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4ccc40190aa0172bd6d00a8b49a1f8cfe04694d6', 'message': 'Implement secure RBAC for share access rules\n\nThis commit updates the policies for share access rules to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I12026c7874620abb076df979f0492f6d1b8563fd\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4cb9af68d883abb026f9d634f8b34dee425764df', 'message': 'Implement secure RBAC for share access rules\n\nThis commit updates the policies for share access rules to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I12026c7874620abb076df979f0492f6d1b8563fd\n'}, {'number': 3, 'created': '2021-03-03 01:45:14.000000000', 'files': ['manila/policies/share_access.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/72de265c1d16e88caa7becde00895371ddaeddac', 'message': 'Implement secure RBAC for share access rules\n\nThis commit updates the policies for share access rules to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I12026c7874620abb076df979f0492f6d1b8563fd\n'}]",0,763448,72de265c1d16e88caa7becde00895371ddaeddac,32,6,3,5046,,,0,"Implement secure RBAC for share access rules

This commit updates the policies for share access rules to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: I12026c7874620abb076df979f0492f6d1b8563fd
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/763448/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_access.py'],1,4ccc40190aa0172bd6d00a8b49a1f8cfe04694d6,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share access rule API now supports system scope and default roles. """""" deprecated_access_rule_get = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'get', check_str=base.RULE_DEFAULT ) deprecated_access_rule_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_access_rule_get, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_access_rule_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",28,4
openstack%2Fglance~master~Idc579cf15dc49f4c891aeabbb94c19fe010da7cd,openstack/glance,master,Idc579cf15dc49f4c891aeabbb94c19fe010da7cd,Add API version 2.13,ABANDONED,2021-03-08 07:26:56.000000000,2021-03-09 13:42:35.000000000,,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 07:26:56.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/22cc7c29a8692ebc07d18b4114f33f75a05bc983', 'message': 'Add API version 2.13\n\nThis change bumps the API to EXPERIMENTAL 2.13 when secure RBAC\nis enabled.\n\nChange-Id: Idc579cf15dc49f4c891aeabbb94c19fe010da7cd\nRelated: : blueprint secure-rbac\n'}]",3,779163,22cc7c29a8692ebc07d18b4114f33f75a05bc983,12,4,1,9303,,,0,"Add API version 2.13

This change bumps the API to EXPERIMENTAL 2.13 when secure RBAC
is enabled.

Change-Id: Idc579cf15dc49f4c891aeabbb94c19fe010da7cd
Related: : blueprint secure-rbac
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/779163/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py']",3,22cc7c29a8692ebc07d18b4114f33f75a05bc983,secure-rbac," if CONF.enforce_secure_rbac and CONF.oslo_policy.enforce_new_defaults: version_objs.extend([ build_version_object(2.13, 'v2', 'EXPERIMENTAL'), ])",,84,2
openstack%2Fopenstack-helm~master~I2677cff0112240736d06ca1aaf15278512f46c20,openstack/openstack-helm,master,I2677cff0112240736d06ca1aaf15278512f46c20,Remove other read permisions from /etc/nova/* for daemonset-compute,ABANDONED,2021-02-12 18:15:40.000000000,2021-03-09 13:36:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 18:15:40.000000000', 'files': ['nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5cec94c798c2ae24ed8b38abe6ad949608526f8', 'message': 'Remove other read permisions from /etc/nova/* for daemonset-compute\n\nUpdating files under /etc/nova to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/compute/checklist.html\n\nChange-Id: I2677cff0112240736d06ca1aaf15278512f46c20\n'}]",0,775425,f5cec94c798c2ae24ed8b38abe6ad949608526f8,3,1,1,30746,,,0,"Remove other read permisions from /etc/nova/* for daemonset-compute

Updating files under /etc/nova to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/compute/checklist.html

Change-Id: I2677cff0112240736d06ca1aaf15278512f46c20
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/775425/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml']",3,f5cec94c798c2ae24ed8b38abe6ad949608526f8,,version: 0.1.11,version: 0.1.10,3,2
openstack%2Fopenstack-helm~master~Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34,openstack/openstack-helm,master,Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34,Remove other read permisions from /etc/cinder/* for cinder-api,ABANDONED,2021-02-10 20:03:54.000000000,2021-03-09 13:36:04.000000000,,"[{'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 31479}]","[{'number': 1, 'created': '2021-02-10 20:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62d2c3552fd05361f629fff1fa57f0820ef0341e', 'message': 'Remove read permisions from /etc/cinder/*\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 2, 'created': '2021-02-10 20:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30c08f3fbb2834ea68eabb579bfd48efd8a1ea1b', 'message': 'Remove other read permisions from /etc/cinder/*\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/compute/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 3, 'created': '2021-02-10 20:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9cef1bd5e4ab0170235e20dc0c5b9cb60947bceb', 'message': 'Remove other read permisions from /etc/cinder/*\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 4, 'created': '2021-02-11 12:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1df4cd8dc865de797d44083c1afc66488e9ea2af', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 5, 'created': '2021-02-11 14:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05d99decb6b7c92ca5831f98d63ecf8c48968320', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 6, 'created': '2021-02-12 00:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78adc4c3798aeabdce378132f8fe0a7de3811472', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 7, 'created': '2021-02-12 03:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd732688f176c7cbb62fc240a6f2f89fcd665e22', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 8, 'created': '2021-02-12 15:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4a16da0b84a16ec64b2d721231f7342e0f1d2b8c', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 9, 'created': '2021-02-12 15:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1873eaad6227384ffdc9ef83bd21b2c78cf6c457', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 10, 'created': '2021-02-12 15:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/41238b569d9f2d22034700b8dc2dd3b4e612e081', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}, {'number': 11, 'created': '2021-02-12 18:15:40.000000000', 'files': ['cinder/values.yaml', 'cinder/Chart.yaml', 'cinder/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02b90022e30bd74899af530fb50af9fc1ddbf513', 'message': 'Remove other read permisions from /etc/cinder/* for cinder-api\n\nUpdating files under /etc/cinder to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/block-storage/checklist.html\n\nChange-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34\n'}]",0,775006,02b90022e30bd74899af530fb50af9fc1ddbf513,33,4,11,30746,,,0,"Remove other read permisions from /etc/cinder/* for cinder-api

Updating files under /etc/cinder to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/block-storage/checklist.html

Change-Id: Id1d045188aeaa08b91bdaaee500cbf7df4f7fb34
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/775006/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/templates/pod-rally-test.yaml', 'cinder/templates/job-backup-storage-init.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/cron-job-cinder-volume-usage-audit.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/job-storage-init.yaml', 'cinder/templates/deployment-scheduler.yaml']",8,62d2c3552fd05361f629fff1fa57f0820ef0341e,, defaultMode: 0440, defaultMode: 0444,11,11
openstack%2Fopenstack-helm~master~I9fabafffde989f51cd3c63a8e1c3db935694aecf,openstack/openstack-helm,master,I9fabafffde989f51cd3c63a8e1c3db935694aecf,Remove other read permisions from /etc/horizon/* for deployment,ABANDONED,2021-02-12 18:44:28.000000000,2021-03-09 13:35:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 18:44:28.000000000', 'files': ['horizon/templates/deployment.yaml', 'horizon/Chart.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a61d5e606bcc1a6a646f1ad685007165c62ef0a', 'message': 'Remove other read permisions from /etc/horizon/* for deployment\n\nUpdating files under /etc/horizon to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/dashboard/checklist.html\n\nChange-Id: I9fabafffde989f51cd3c63a8e1c3db935694aecf\n'}]",0,775433,3a61d5e606bcc1a6a646f1ad685007165c62ef0a,3,1,1,30746,,,0,"Remove other read permisions from /etc/horizon/* for deployment

Updating files under /etc/horizon to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/dashboard/checklist.html

Change-Id: I9fabafffde989f51cd3c63a8e1c3db935694aecf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/775433/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/deployment.yaml', 'horizon/Chart.yaml', 'horizon/values.yaml']",3,3a61d5e606bcc1a6a646f1ad685007165c62ef0a,, fsGroup: 42424,,3,2
openstack%2Fopenstack-helm~master~I4131a0a23f6d6d3e34c0cc8e85c50e4b0b69d477,openstack/openstack-helm,master,I4131a0a23f6d6d3e34c0cc8e85c50e4b0b69d477,Remove other read permisions from /etc/keystone/* for deployment-api,ABANDONED,2021-02-12 18:56:39.000000000,2021-03-09 13:35:22.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 18:56:39.000000000', 'files': ['keystone/templates/deployment-api.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b5fcec9495f80d4bcd95ba81a7e8be02f8548577', 'message': 'Remove other read permisions from /etc/keystone/* for deployment-api\n\nUpdating files under /etc/keystone to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/identity/checklist.html\n\nChange-Id: I4131a0a23f6d6d3e34c0cc8e85c50e4b0b69d477\n'}]",1,775434,b5fcec9495f80d4bcd95ba81a7e8be02f8548577,4,2,1,30746,,,0,"Remove other read permisions from /etc/keystone/* for deployment-api

Updating files under /etc/keystone to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/identity/checklist.html

Change-Id: I4131a0a23f6d6d3e34c0cc8e85c50e4b0b69d477
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/775434/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/deployment-api.yaml', 'keystone/values.yaml', 'keystone/Chart.yaml']",3,b5fcec9495f80d4bcd95ba81a7e8be02f8548577,,version: 0.1.7,version: 0.1.6,3,2
openstack%2Fopenstack-helm~master~I7945cde796715ca8ea57b0cda9629d39b5045f5f,openstack/openstack-helm,master,I7945cde796715ca8ea57b0cda9629d39b5045f5f,Remove other read permisions from /etc/neutron/* for deployment-server,ABANDONED,2021-02-12 18:59:22.000000000,2021-03-09 13:35:08.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 18:59:22.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/Chart.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1a348c5123a34d32fe4f4db54452af4a68f17a0', 'message': 'Remove other read permisions from /etc/neutron/* for deployment-server\n\nUpdating files under /etc/neutron to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/networking/checklist.html\n\nChange-Id: I7945cde796715ca8ea57b0cda9629d39b5045f5f\n'}]",0,775436,b1a348c5123a34d32fe4f4db54452af4a68f17a0,9,3,1,30746,,,0,"Remove other read permisions from /etc/neutron/* for deployment-server

Updating files under /etc/neutron to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/networking/checklist.html

Change-Id: I7945cde796715ca8ea57b0cda9629d39b5045f5f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/775436/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/Chart.yaml', 'neutron/values.yaml']",3,b1a348c5123a34d32fe4f4db54452af4a68f17a0,, fsGroup: 42424,,3,2
openstack%2Fopenstack-helm~master~Ie854e7650540f3bf449067cf40c8ab223a351cd4,openstack/openstack-helm,master,Ie854e7650540f3bf449067cf40c8ab223a351cd4,Remove other read permisions from /etc/glance/* for glance-api,ABANDONED,2021-02-12 18:29:48.000000000,2021-03-09 13:34:50.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-12 18:29:48.000000000', 'files': ['glance/Chart.yaml', 'glance/templates/deployment-api.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ecd3ed9cd350fbff192ab0ac07e274107e7aa9c2', 'message': 'Remove other read permisions from /etc/glance/* for glance-api\n\nUpdating files under /etc/glance to 0440 per best practices\nin the security guide [0].\n\n[0] https://docs.openstack.org/security-guide/image-storage/checklist.html\n\nChange-Id: Ie854e7650540f3bf449067cf40c8ab223a351cd4\n'}]",0,775427,ecd3ed9cd350fbff192ab0ac07e274107e7aa9c2,5,3,1,30746,,,0,"Remove other read permisions from /etc/glance/* for glance-api

Updating files under /etc/glance to 0440 per best practices
in the security guide [0].

[0] https://docs.openstack.org/security-guide/image-storage/checklist.html

Change-Id: Ie854e7650540f3bf449067cf40c8ab223a351cd4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/775427/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/Chart.yaml', 'glance/templates/deployment-api.yaml', 'glance/values.yaml']",3,ecd3ed9cd350fbff192ab0ac07e274107e7aa9c2,, fsGroup: 42424,,3,2
openstack%2Fmanila~master~Ie5e4a7bc8f36ac4d6afe922c40d94b8a67aa5027,openstack/manila,master,Ie5e4a7bc8f36ac4d6afe922c40d94b8a67aa5027,Update extend share and shrink share to use ceph-mgr client,ABANDONED,2021-02-11 21:36:15.000000000,2021-03-09 13:25:31.000000000,,"[{'_account_id': 8056}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 21:36:15.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'releasenotes/notes/bp-update-cephfs-drivers-22edde81f1cff4d8.yaml', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d7d8bb38dfeda35d4578eaede73dd048c255ce06', 'message': 'Update extend share and shrink share to use ceph-mgr client\n\nUpdates the extend share and shrink share functions\nto use the ceph-mgr fs plugin\n\nThis patch set is part of the update cephfs drivers to use ceph-mgr\nblueprint\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Ie5e4a7bc8f36ac4d6afe922c40d94b8a67aa5027\n'}]",2,775278,d7d8bb38dfeda35d4578eaede73dd048c255ce06,11,2,1,6413,,,0,"Update extend share and shrink share to use ceph-mgr client

Updates the extend share and shrink share functions
to use the ceph-mgr fs plugin

This patch set is part of the update cephfs drivers to use ceph-mgr
blueprint

Partially-implements: bp update-cephfs-drivers
Change-Id: Ie5e4a7bc8f36ac4d6afe922c40d94b8a67aa5027
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/775278/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bp-update-cephfs-drivers-22edde81f1cff4d8.yaml']",3,d7d8bb38dfeda35d4578eaede73dd048c255ce06,bp/update-cephfs-drivers,--- fixes: - | Reimplement extend_share and shrink_share operations using the ceph-mgr interface. other: - | This interface is available on Ceph v14.2.10 (Nautilus) onwards. ,,97,22
openstack%2Fkolla-ansible~stable%2Fussuri~Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,openstack/kolla-ansible,stable/ussuri,Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,Remove whitespace around equal signs in zookeeper.cfg,MERGED,2021-03-08 11:17:10.000000000,2021-03-09 13:22:05.000000000,2021-03-09 13:20:06.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 11:17:10.000000000', 'files': ['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/faef9f592aaa8a24b3ad7c8fca879bab6fba8169', 'message': ""Remove whitespace around equal signs in zookeeper.cfg\n\nThe merge_configs action plugin is updated with an option to control\nwhether whitespace should be used around equal signs. The default\nremains to use whitespace: only zookeeper.cfg doesn't use them.\n\nThis is to avoid issues with the zkCleanup.sh script which expects no\nwhitespace. The ZooKeeper documentation also uses no whitespace in\nconfiguration file examples.\n\nChange-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f\nCloses-Bug: #1917490\n(cherry picked from commit 2b723ead051b7f722ad61db1bb65a07259817719)\n""}]",0,779144,faef9f592aaa8a24b3ad7c8fca879bab6fba8169,10,4,1,14826,,,0,"Remove whitespace around equal signs in zookeeper.cfg

The merge_configs action plugin is updated with an option to control
whether whitespace should be used around equal signs. The default
remains to use whitespace: only zookeeper.cfg doesn't use them.

This is to avoid issues with the zkCleanup.sh script which expects no
whitespace. The ZooKeeper documentation also uses no whitespace in
configuration file examples.

Change-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f
Closes-Bug: #1917490
(cherry picked from commit 2b723ead051b7f722ad61db1bb65a07259817719)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/779144/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py']",4,faef9f592aaa8a24b3ad7c8fca879bab6fba8169,zookeeper-cfg-syntax-stable/ussuri," whitespace: description: - Whether whitespace characters should be used around equal signs default: True required: False type: bool def __init__(self, whitespace=True): self._whitespace = ' ' if whitespace else '' fp.write('{key}{ws}=\n'.format( key=key, ws=self._whitespace)) fp.write('{key}{ws}={ws}{value}\n'.format( key=key, ws=self._whitespace, value=value)) else: indent_size = len(key) + len(self._whitespace) * 2 + 1 ws_indent = ' ' * indent_size fp.write('{ws_indent}{value}\n'.format( ws_indent=ws_indent, value=value)) config = OverrideConfigParser( whitespace=self._task.args.get('whitespace', True)) new_task.args.pop('whitespace', None)"," def __init__(self): fp.write('{} =\n'.format(key)) fp.write('{} = {}\n'.format(key, value)) else: fp.write('{} {}\n'.format(len(key) * ' ', value)) config = OverrideConfigParser()",60,5
openstack%2Fkolla-ansible~stable%2Fvictoria~Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,openstack/kolla-ansible,stable/victoria,Ia082a1c002cc4e8b04f7696fdee827b747c6d13f,Remove whitespace around equal signs in zookeeper.cfg,MERGED,2021-03-08 11:17:05.000000000,2021-03-09 13:22:00.000000000,2021-03-09 13:20:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 11:17:05.000000000', 'files': ['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5f41a19a7082d7fb8203449690eb2e41e67d2ba', 'message': ""Remove whitespace around equal signs in zookeeper.cfg\n\nThe merge_configs action plugin is updated with an option to control\nwhether whitespace should be used around equal signs. The default\nremains to use whitespace: only zookeeper.cfg doesn't use them.\n\nThis is to avoid issues with the zkCleanup.sh script which expects no\nwhitespace. The ZooKeeper documentation also uses no whitespace in\nconfiguration file examples.\n\nChange-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f\nCloses-Bug: #1917490\n(cherry picked from commit 2b723ead051b7f722ad61db1bb65a07259817719)\n""}]",0,779143,c5f41a19a7082d7fb8203449690eb2e41e67d2ba,10,4,1,14826,,,0,"Remove whitespace around equal signs in zookeeper.cfg

The merge_configs action plugin is updated with an option to control
whether whitespace should be used around equal signs. The default
remains to use whitespace: only zookeeper.cfg doesn't use them.

This is to avoid issues with the zkCleanup.sh script which expects no
whitespace. The ZooKeeper documentation also uses no whitespace in
configuration file examples.

Change-Id: Ia082a1c002cc4e8b04f7696fdee827b747c6d13f
Closes-Bug: #1917490
(cherry picked from commit 2b723ead051b7f722ad61db1bb65a07259817719)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/779143/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zookeeper/tasks/config.yml', 'releasenotes/notes/zookeeper-cfg-syntax-02e93c01d6a24f35.yaml', 'tests/test_merge_config.py', 'ansible/action_plugins/merge_configs.py']",4,c5f41a19a7082d7fb8203449690eb2e41e67d2ba,zookeeper-cfg-syntax-stable/victoria," whitespace: description: - Whether whitespace characters should be used around equal signs default: True required: False type: bool def __init__(self, whitespace=True): self._whitespace = ' ' if whitespace else '' fp.write('{key}{ws}=\n'.format( key=key, ws=self._whitespace)) fp.write('{key}{ws}={ws}{value}\n'.format( key=key, ws=self._whitespace, value=value)) else: indent_size = len(key) + len(self._whitespace) * 2 + 1 ws_indent = ' ' * indent_size fp.write('{ws_indent}{value}\n'.format( ws_indent=ws_indent, value=value)) config = OverrideConfigParser( whitespace=self._task.args.get('whitespace', True)) new_task.args.pop('whitespace', None)"," def __init__(self): fp.write('{} =\n'.format(key)) fp.write('{} = {}\n'.format(key, value)) else: fp.write('{} {}\n'.format(len(key) * ' ', value)) config = OverrideConfigParser()",60,5
openstack%2Freleases~master~I9e85a5ae6eea92f7066417b4f8d378a58b32cebf,openstack/releases,master,I9e85a5ae6eea92f7066417b4f8d378a58b32cebf,Release Octavia 7.1.1 for stable/victoria,MERGED,2021-03-09 02:14:49.000000000,2021-03-09 13:20:32.000000000,2021-03-09 13:20:32.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-09 02:14:49.000000000', 'files': ['deliverables/victoria/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8089478bba95531300cbc63285eb5caf5ed3d0ed', 'message': 'Release Octavia 7.1.1 for stable/victoria\n\nThis is a bug fix release for Octavia on the stable/victoria branch.\n\nChange-Id: I9e85a5ae6eea92f7066417b4f8d378a58b32cebf\n'}]",0,779416,8089478bba95531300cbc63285eb5caf5ed3d0ed,9,5,1,11628,,,0,"Release Octavia 7.1.1 for stable/victoria

This is a bug fix release for Octavia on the stable/victoria branch.

Change-Id: I9e85a5ae6eea92f7066417b4f8d378a58b32cebf
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/779416/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia.yaml'],1,8089478bba95531300cbc63285eb5caf5ed3d0ed,, - version: 7.1.1 projects: - repo: openstack/octavia hash: 857533b59cf1ef2b657ce74bc0de89798356ab93,,4,0
openstack%2Fmanila-image-elements~master~I56995cff4457a2cbfbf42a86ee45c75a259f41e5,openstack/manila-image-elements,master,I56995cff4457a2cbfbf42a86ee45c75a259f41e5,Add OpenLDAP to manila-docker-container,MERGED,2021-02-11 17:28:41.000000000,2021-03-09 13:19:31.000000000,2021-03-09 13:19:31.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-02-11 17:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/50466ce1e1ac05dfb22e9a39695071b33ea9e2f6', 'message': 'Add OpenLDAP to manila-docker-container\n\nThis patch adds an OpenLDAP server and some LDAP utilities to the\nmanila-docker-container Docker image. It modifies the Dockerfile so it installs\nthe ``slapd`` and ``ldap-utils`` packages, calls the slapd.sh shell script,\nwhich configures slapd, and makes the container start slapd automatically when\nrun.\n\nChange-Id: I56995cff4457a2cbfbf42a86ee45c75a259f41e5\n'}, {'number': 2, 'created': '2021-02-16 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/4aed9072b1a905914390432db8deca5bd5ae1b8f', 'message': 'Add OpenLDAP to manila-docker-container\n\nThis patch adds an OpenLDAP server and some LDAP utilities to the\nmanila-docker-container Docker image. It modifies the Dockerfile so it installs\nthe ``slapd`` and ``ldap-utils`` packages, calls the slapd.sh shell script,\nwhich configures slapd, and makes the container start slapd automatically when\nrun.\n\nChange-Id: I56995cff4457a2cbfbf42a86ee45c75a259f41e5\n'}, {'number': 3, 'created': '2021-03-09 12:05:17.000000000', 'files': ['data/docker/slapd.sh', 'data/docker/Dockerfile'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/b9e4bd6b73951f6c308c1a31b927af930d0948c5', 'message': 'Add OpenLDAP to manila-docker-container\n\nThis patch adds an OpenLDAP server and some LDAP utilities to the\nmanila-docker-container Docker image. It modifies the Dockerfile so it installs\nthe ``slapd`` and ``ldap-utils`` packages, calls the slapd.sh shell script,\nwhich configures slapd, and makes the container start slapd automatically when\nrun.\n\nChange-Id: I56995cff4457a2cbfbf42a86ee45c75a259f41e5\n'}]",7,775242,b9e4bd6b73951f6c308c1a31b927af930d0948c5,22,5,3,32411,,,0,"Add OpenLDAP to manila-docker-container

This patch adds an OpenLDAP server and some LDAP utilities to the
manila-docker-container Docker image. It modifies the Dockerfile so it installs
the ``slapd`` and ``ldap-utils`` packages, calls the slapd.sh shell script,
which configures slapd, and makes the container start slapd automatically when
run.

Change-Id: I56995cff4457a2cbfbf42a86ee45c75a259f41e5
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/42/775242/3 && git format-patch -1 --stdout FETCH_HEAD,"['data/docker/slapd.sh', 'data/docker/Dockerfile']",2,50466ce1e1ac05dfb22e9a39695071b33ea9e2f6,,"EXPOSE 111 2049 60934 43440 55392 53559 875 389 636# Copy the slapd.sh shell script to the root directory of the container. COPY slapd.sh /slapd.sh # Install the OpenLDAP server and some LDAP utilities, then run the slapd.sh # script, which will change the LDAP admin password to 'admin' and create two # user entries in the LDAP directory: # cn=Administrator,dc=example,dc=com # cn=Guest,dc=example,dc=com # These entries are created for automated testing purposes. DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \ --no-install-suggests \ slapd \ ldap-utils &&\ /slapd.sh &&\ rm -rf /slapd.sh &&\ # Start the OpenLDAP server when the container starts. ENTRYPOINT service slapd start && tail -F /var/log/slapd/slapd.log",EXPOSE 111 2049 60934 43440 55392 53559 875,69,1
openstack%2Fglance~master~I8d9ba50f46e22b6740fdbdec6f8ef7c61dddbcf1,openstack/glance,master,I8d9ba50f46e22b6740fdbdec6f8ef7c61dddbcf1,Fix erroneous exit from copy wait loop,MERGED,2021-03-08 21:31:19.000000000,2021-03-09 12:57:51.000000000,2021-03-09 12:49:23.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 21:31:19.000000000', 'files': ['glance/tests/functional/ft_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/80b84d4e970704bda6cb17ec74925c94637531d7', 'message': ""Fix erroneous exit from copy wait loop\n\nThe wait_for_copying() helper will exit the loop if the *last*\nstore is found in the list, instead of *all* of them. This technically\nworks if the stores are processed in the same order we are checking,\nbut it's fragile and likely to fail in confusing ways.\n\nThis makes us only exit if all of them are present.\n\nChange-Id: I8d9ba50f46e22b6740fdbdec6f8ef7c61dddbcf1\n""}]",1,779369,80b84d4e970704bda6cb17ec74925c94637531d7,10,2,1,4393,,,0,"Fix erroneous exit from copy wait loop

The wait_for_copying() helper will exit the loop if the *last*
store is found in the list, instead of *all* of them. This technically
works if the stores are processed in the same order we are checking,
but it's fragile and likely to fail in confusing ways.

This makes us only exit if all of them are present.

Change-Id: I8d9ba50f46e22b6740fdbdec6f8ef7c61dddbcf1
",git fetch https://review.opendev.org/openstack/glance refs/changes/69/779369/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/ft_utils.py'],1,80b84d4e970704bda6cb17ec74925c94637531d7,, all_copied = all([store in entity['stores'] for store in stores]), all_copied = False for store in stores: if store in entity['stores']: all_copied = True else: all_copied = False ,1,7
openstack%2Fneutron~stable%2Frocky~Iadc1671c862f8c01e5761e92b82a04849d4bb411,openstack/neutron,stable/rocky,Iadc1671c862f8c01e5761e92b82a04849d4bb411,Fix removal of dvr-src mac flows when non-gateway port on router is deleted,MERGED,2021-03-05 09:55:52.000000000,2021-03-09 12:50:26.000000000,2021-03-09 12:50:26.000000000,"[{'_account_id': 1131}, {'_account_id': 10366}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:55:52.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/305b71d4bc17fc8f3edc59d417ae16883fcddcc4', 'message': 'Fix removal of dvr-src mac flows when non-gateway port on router is deleted\n\nRemoval of non-gateway port on DVR router deletes all the DVR to\nSRC mac flows for the instances of same subnet on that compute node.\nThe instances are not reachable from any other network.\n\nThis patch checks if the DVR router port is gateway for the subnet\nor not. And deletes the DVR-SRC mac flows only if it is gateway port.\nThe DVR-SRC mac flows are deleted if the gateway is not set for the subnet.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\narp_responder_enabled check added for the ARP flow rule.\nThe unit test case have arp_responder false by default, so adjusted\nthe br_int mock calls accordingly.\n\nChange-Id: Iadc1671c862f8c01e5761e92b82a04849d4bb411\nCloses-Bug: #1892405\n(cherry picked from commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5)\n(cherry picked from commit bf8fc2db0ca74631b60475103a4d3f543d052203)\n'}]",0,778869,305b71d4bc17fc8f3edc59d417ae16883fcddcc4,13,5,1,11975,,,0,"Fix removal of dvr-src mac flows when non-gateway port on router is deleted

Removal of non-gateway port on DVR router deletes all the DVR to
SRC mac flows for the instances of same subnet on that compute node.
The instances are not reachable from any other network.

This patch checks if the DVR router port is gateway for the subnet
or not. And deletes the DVR-SRC mac flows only if it is gateway port.
The DVR-SRC mac flows are deleted if the gateway is not set for the subnet.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

arp_responder_enabled check added for the ARP flow rule.
The unit test case have arp_responder false by default, so adjusted
the br_int mock calls accordingly.

Change-Id: Iadc1671c862f8c01e5761e92b82a04849d4bb411
Closes-Bug: #1892405
(cherry picked from commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5)
(cherry picked from commit bf8fc2db0ca74631b60475103a4d3f543d052203)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/778869/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,305b71d4bc17fc8f3edc59d417ae16883fcddcc4,bug/1892405-stable/rocky," def _setup_extra_port_for_dvr(self): self._port_nongateway = mock.Mock() self._port_nongateway.ofport = 11 self._port_nongateway.vif_id = ""1234-5678-99"" self._port_nongateway.vif_mac = 'aa:bb:cc:11:22:44' self._port_nongateway.dvr_mac = self.agent.dvr_agent.dvr_mac_address self._fixed_ips_nongateway = [{'subnet_id': 'my-subnet-uuid', 'ip_address': '1.1.1.11'}] def _test_port_unbound_dvr_router_port_on_vxlan_network( self, port_type='gateway', ip_version=n_const.IP_VERSION_4): """"""Test DVR ovs flows when router port is unbound. Setup 2 ports from same subnet to a DVR router. Add an instance port. Remove one of the router ports based on port_type passed to the function. port_type='gateway' removes the gateway port, port_type nongateway removes the non-gateway port. port_type='all' removes both the ports. Verify if the corresponding ovs flows are updated. """""" self._setup_for_dvr_test() self._setup_extra_port_for_dvr() if ip_version == n_const.IP_VERSION_4: gateway_ip = '1.1.1.1' cidr = '1.1.1.0/24' else: gateway_ip = '2001:db8:100::1' cidr = '2001:db8:100::0/64' self._fixed_ips = [{'subnet_id': 'my-subnet-uuid', 'ip_address': '2001:db8:100::1'}] self._fixed_ips_nongateway = [{'subnet_id': 'my-subnet-uuid', 'ip_address': '2001:db8:100::10'}] network_type = n_const.TYPE_VXLAN self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' self._port.dvr_mac = self.agent.dvr_agent.dvr_mac_address self._compute_port.vif_mac = '77:88:99:00:11:22' physical_network = self._physical_network segmentation_id = self._segmentation_id int_br = mock.create_autospec(self.agent.int_br) tun_br = mock.create_autospec(self.agent.tun_br) phys_br = mock.create_autospec(self.br_phys_cls('br-phys')) int_br.set_db_attribute.return_value = True int_br.db_get_val.return_value = {} with mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_subnet_for_dvr', return_value={'gateway_ip': gateway_ip, 'cidr': cidr, 'ip_version': ip_version, 'gateway_mac': gateway_mac}),\ mock.patch.object(self.agent.dvr_agent.plugin_rpc, 'get_ports_on_host_by_subnet', return_value=[]),\ mock.patch.object(self.agent.dvr_agent.int_br, 'get_vif_port_by_id', return_value=self._port),\ mock.patch.object(self.agent, 'int_br', new=int_br),\ mock.patch.object(self.agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.phys_brs, {physical_network: phys_br}),\ mock.patch.object(self.agent.dvr_agent, 'int_br', new=int_br),\ mock.patch.object(self.agent.dvr_agent, 'tun_br', new=tun_br),\ mock.patch.dict(self.agent.dvr_agent.phys_brs, {physical_network: phys_br}): self.agent.port_bound( self._port, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips, n_const.DEVICE_OWNER_DVR_INTERFACE, False) lvid = self.agent.vlan_manager.get(self._net_uuid).vlan # Bound non-gateway port self.agent.port_bound( self._port_nongateway, self._net_uuid, network_type, physical_network, segmentation_id, self._fixed_ips_nongateway, n_const.DEVICE_OWNER_DVR_INTERFACE, False) # Bound compute port self.agent.port_bound(self._compute_port, self._net_uuid, network_type, physical_network, segmentation_id, self._compute_fixed_ips, DEVICE_OWNER_COMPUTE, False) int_br.reset_mock() tun_br.reset_mock() phys_br.reset_mock() ports_to_unbind = {} expected_br_int_mock_calls_gateway_port = 1 expected_br_int_mock_calls_nongateway_port = 0 if port_type == 'gateway': ports_to_unbind = { self._port: expected_br_int_mock_calls_gateway_port } elif port_type == 'nongateway': ports_to_unbind = { self._port_nongateway: expected_br_int_mock_calls_nongateway_port } else: ports_to_unbind = { self._port: expected_br_int_mock_calls_gateway_port, self._port_nongateway: expected_br_int_mock_calls_nongateway_port } for port_to_unbind, br_int_mock_calls in ports_to_unbind.items(): self.agent.port_unbound(port_to_unbind.vif_id) if ip_version == n_const.IP_VERSION_4: expected_on_tun_br = [ mock.call.delete_dvr_process_ipv4( vlan_tag=lvid, gateway_ip=gateway_ip), ] else: expected_on_tun_br = [ mock.call.delete_dvr_process_ipv6( vlan_tag=lvid, gateway_mac=gateway_mac), ] expected_on_tun_br.extend([ mock.call.delete_dvr_process( vlan_tag=lvid, vif_mac=port_to_unbind.vif_mac), ]) self.assertEqual(br_int_mock_calls, len(int_br.mock_calls)) tun_br.assert_has_calls(expected_on_tun_br) int_br.reset_mock() tun_br.reset_mock() phys_br.assert_not_called() phys_br.reset_mock() def test_port_unbound_dvr_router_port(self): self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='gateway') self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='nongateway') # Unbound all the dvr router ports self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='all') self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='gateway', ip_version=n_const.IP_VERSION_6) self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='nongateway', ip_version=n_const.IP_VERSION_6) # Unbound all the dvr router ports self._test_port_unbound_dvr_router_port_on_vxlan_network( port_type='all', ip_version=n_const.IP_VERSION_6) ",,215,19
openstack%2Fneutron-tempest-plugin~master~I368d0e9410b009097b29367579f958e3ff537936,openstack/neutron-tempest-plugin,master,I368d0e9410b009097b29367579f958e3ff537936,Enable l3_ha in neutron config for scenario jobs,MERGED,2020-04-22 10:10:47.000000000,2021-03-09 12:48:29.000000000,2021-03-09 12:48:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-22 10:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2610a6cd4321022b0a8c9d34b063fb5f69200125', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 2, 'created': '2020-04-22 12:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c9de78fa2c171807dbd42f8680d8e9ec48d6cbd9', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 3, 'created': '2020-04-27 13:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/47177f4f160175845ba68f6a077bd3ac2879f893', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 4, 'created': '2020-05-05 10:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/245168857908f3fb81eb5a66e2de691d6cbc89e6', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 5, 'created': '2020-05-06 13:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bf4732a38b94a30cf2ad69cf23d56ee292e2a5dd', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 6, 'created': '2020-05-06 13:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/405d03a93163a6f73ca6ac5f52ecf50bdea7afc9', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 7, 'created': '2020-05-06 19:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2b977196240d94b13bdfcf7a90d993723afbce40', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/725973/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\nRelated-Bug: #1874211\n""}, {'number': 8, 'created': '2020-08-11 09:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4233cdd1b43a94d5ce2319a1aeb8a0bde4fb2ba5', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/745641/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 9, 'created': '2020-08-11 09:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5e9c2d9575db16630e391ff7ebd720165f33eaa5', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/745641/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 10, 'created': '2020-08-13 13:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1699419fb90888c6993955eb539e0931f27f7b45', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/745641/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 11, 'created': '2020-10-26 20:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/893f6e77c8eda26df3139ee9a4b212393dbaaeb7', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/745641/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 12, 'created': '2021-02-08 19:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/57ffb27a23d4db61388eef6452bf1d020045ea3e', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/#/c/745641/\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 13, 'created': '2021-02-12 10:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0cbc6ab5eb0e2198ffcaff3d136b05f31ccb690e', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/775360\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 14, 'created': '2021-02-19 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4a835bca6f820b66586bcb572315b6ec1a26b9f6', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/776618\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}, {'number': 15, 'created': '2021-03-01 15:22:40.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/24ad1f3c7fd214ce6412715c204f9457b6c80019', 'message': ""Enable l3_ha in neutron config for scenario jobs\n\nThis patch sets l3_ha config option in neutron server to be\nTrue in singlenode scenario jobs:\n - neutron-tempest-plugin-openvswitch\n - neutron-tempest-plugin-openvswitch-iptables_hybrid\n - neutron-tempest-plugin-linuxbridge\n\nSo all routers created in those jobs will be HA by default.\nEven in single node jobs this will provide us better coverage\nof L3HA mode for routers becuase we didn't have any job to cover\nsuch case since now.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/776618\n\nChange-Id: I368d0e9410b009097b29367579f958e3ff537936\n""}]",3,721805,24ad1f3c7fd214ce6412715c204f9457b6c80019,80,9,15,11975,,,0,"Enable l3_ha in neutron config for scenario jobs

This patch sets l3_ha config option in neutron server to be
True in singlenode scenario jobs:
 - neutron-tempest-plugin-openvswitch
 - neutron-tempest-plugin-openvswitch-iptables_hybrid
 - neutron-tempest-plugin-linuxbridge

So all routers created in those jobs will be HA by default.
Even in single node jobs this will provide us better coverage
of L3HA mode for routers becuase we didn't have any job to cover
such case since now.

Depends-On: https://review.opendev.org/c/openstack/neutron/+/776618

Change-Id: I368d0e9410b009097b29367579f958e3ff537936
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/05/721805/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2610a6cd4321022b0a8c9d34b063fb5f69200125,bug/1874211, l3_ha: true l3_ha: true l3_ha: true,,3,0
openstack%2Fneutron~stable%2Fussuri~If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,openstack/neutron,stable/ussuri,If9e4c1513553c4bd10fd3b91c28c4d3f806ed816,"Migrate ""netstat"" to oslo.privsep",MERGED,2021-02-25 08:58:54.000000000,2021-03-09 12:47:32.000000000,2021-03-09 12:42:39.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-25 08:58:54.000000000', 'files': ['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/privileged/agent/linux/test_utils.py', 'neutron/tests/unit/privileged/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/netns-cleanup.filters', 'neutron/tests/unit/cmd/test_netns_cleanup.py', 'neutron/cmd/netns_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87fce78feeb7c08040267167150601f90e59654f', 'message': 'Migrate ""netstat"" to oslo.privsep\n\nChange-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816\nStory: #2007686\nTask: #40047\n(cherry picked from commit 0c1818fbb02b5ff6a9a5157d4bbb58314242c806)\n'}]",0,777513,87fce78feeb7c08040267167150601f90e59654f,16,3,1,11975,,,0,"Migrate ""netstat"" to oslo.privsep

Change-Id: If9e4c1513553c4bd10fd3b91c28c4d3f806ed816
Story: #2007686
Task: #40047
(cherry picked from commit 0c1818fbb02b5ff6a9a5157d4bbb58314242c806)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/777513/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/privileged/agent/linux/utils.py', 'neutron/tests/functional/privileged/agent/linux/test_utils.py', 'neutron/tests/unit/privileged/agent/linux/test_utils.py', 'etc/neutron/rootwrap.d/netns-cleanup.filters', 'neutron/tests/unit/cmd/test_netns_cleanup.py', 'neutron/cmd/netns_cleanup.py']",6,87fce78feeb7c08040267167150601f90e59654f,bug/1907695-stable/ussuri,from neutron.privileged.agent.linux import utils as priv_utils if not priv_utils.find_listen_pids_namespace(namespace): pids = priv_utils.find_listen_pids_namespace(namespace),"NETSTAT_PIDS_REGEX = re.compile(r'.* (?P<pid>\d{2,6})/.*')def find_listen_pids_namespace(namespace): """"""Retrieve a list of pids of listening processes within the given netns. It executes netstat -nlp and returns a set of unique pairs """""" ip = ip_lib.IPWrapper(namespace=namespace) pids = set() cmd = ['netstat', '-nlp'] output = ip.netns.execute(cmd, run_as_root=True) for line in output.splitlines(): m = NETSTAT_PIDS_REGEX.match(line) if m: pids.add(m.group('pid')) return pids if not find_listen_pids_namespace(namespace): pids = find_listen_pids_namespace(namespace)",162,87
openstack%2Fkolla-ansible~master~I251febe3fd192372177116569f41ccb9aa225302,openstack/kolla-ansible,master,I251febe3fd192372177116569f41ccb9aa225302,Rename eswitchd.conf -> eswitchd.conf.j2,MERGED,2021-02-16 15:07:59.000000000,2021-03-09 12:37:32.000000000,2021-03-09 12:35:55.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-02-16 15:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7faf4ad37c2f8ff9d7f35bffa3c6ed2786631b2', 'message': 'Rename eswitchd.conf -> eswitchd.conf.j2\n\nChange-Id: I251febe3fd192372177116569f41ccb9aa225302\n'}, {'number': 2, 'created': '2021-02-16 15:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f9c2d43aada40c24fcaa77cbe21ab4a2b1fa144', 'message': 'Rename eswitchd.conf -> eswitchd.conf.j2\n\nChange-Id: I251febe3fd192372177116569f41ccb9aa225302\n'}, {'number': 3, 'created': '2021-02-16 15:18:07.000000000', 'files': ['ansible/roles/neutron/templates/eswitchd.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3c199d1817c013c9129c89f6a3272d346f283a3', 'message': 'Rename eswitchd.conf -> eswitchd.conf.j2\n\nIn I173669bdf92b1f2ea98907ba16808ca3c914944c, eswitchd.conf.j2 template\nfile missed a .j2 at the end. This PS rectifies it.\n\nChange-Id: I251febe3fd192372177116569f41ccb9aa225302\n'}]",0,775851,e3c199d1817c013c9129c89f6a3272d346f283a3,14,4,3,28022,,,0,"Rename eswitchd.conf -> eswitchd.conf.j2

In I173669bdf92b1f2ea98907ba16808ca3c914944c, eswitchd.conf.j2 template
file missed a .j2 at the end. This PS rectifies it.

Change-Id: I251febe3fd192372177116569f41ccb9aa225302
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/775851/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/eswitchd.conf.j2'],1,c7faf4ad37c2f8ff9d7f35bffa3c6ed2786631b2,mellanox-agent,,,0,0
openstack%2Fcharm-octavia~master~I63119543315a6bbd9a12f6efedb4e5195db81bed,openstack/charm-octavia,master,I63119543315a6bbd9a12f6efedb4e5195db81bed,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:02:22.000000000,2021-03-09 12:21:43.000000000,2021-03-09 12:21:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a376a8e4ff77397c80ebc59df566da49378ca3e1', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I63119543315a6bbd9a12f6efedb4e5195db81bed\n'}, {'number': 2, 'created': '2021-03-05 14:25:10.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4c31e993b9aea87f663c31399b11cf26bfeedc94', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I63119543315a6bbd9a12f6efedb4e5195db81bed\n'}]",0,778316,4c31e993b9aea87f663c31399b11cf26bfeedc94,11,3,2,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I63119543315a6bbd9a12f6efedb4e5195db81bed
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/16/778316/2 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,a376a8e4ff77397c80ebc59df566da49378ca3e1,hirsute-metadata,- hirsute,,1,0
openstack%2Fcharm-openstack-dashboard~master~I615caee631ac7ee785b84cdc9b18d2d9a7f1a0d1,openstack/charm-openstack-dashboard,master,I615caee631ac7ee785b84cdc9b18d2d9a7f1a0d1,Add hirsute and remove trusty from metadata.yaml,MERGED,2021-03-02 21:03:01.000000000,2021-03-09 12:20:30.000000000,2021-03-09 12:20:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-02 21:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/6ccbcb82c1a92aba08b37fa428d78838e449497a', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I615caee631ac7ee785b84cdc9b18d2d9a7f1a0d1\n'}, {'number': 2, 'created': '2021-03-05 17:33:15.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/183ce76df9db9a05c95b5349fcb281121a6cf2e2', 'message': 'Add hirsute and remove trusty from metadata.yaml\n\nThis update adds the new hirsute Ubuntu release (21.04) and\nremoves trusty support (14.04 which is EOL at 21.04).\n\nChange-Id: I615caee631ac7ee785b84cdc9b18d2d9a7f1a0d1\n'}]",0,778319,183ce76df9db9a05c95b5349fcb281121a6cf2e2,11,3,2,20870,,,0,"Add hirsute and remove trusty from metadata.yaml

This update adds the new hirsute Ubuntu release (21.04) and
removes trusty support (14.04 which is EOL at 21.04).

Change-Id: I615caee631ac7ee785b84cdc9b18d2d9a7f1a0d1
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/19/778319/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,6ccbcb82c1a92aba08b37fa428d78838e449497a,hirsute-metadata,- hirsute,- trusty,1,1
openstack%2Fmanila-tempest-plugin~master~I8ce1b640e8eaab402afb7c381146263ec0e92caf,openstack/manila-tempest-plugin,master,I8ce1b640e8eaab402afb7c381146263ec0e92caf,[DNM] Testing manila master with nautilus,ABANDONED,2021-03-05 15:20:29.000000000,2021-03-09 12:07:08.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 15:20:29.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8212f1d885066bd80c5716f50efd2af1dd2b2752', 'message': '[DNM] Testing manila master with nautilus\n\nChange-Id: I8ce1b640e8eaab402afb7c381146263ec0e92caf\n'}]",0,778964,8212f1d885066bd80c5716f50efd2af1dd2b2752,6,2,1,6413,,,0,"[DNM] Testing manila master with nautilus

Change-Id: I8ce1b640e8eaab402afb7c381146263ec0e92caf
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/64/778964/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,8212f1d885066bd80c5716f50efd2af1dd2b2752,testing-nautilus," CEPH_RELEASE: ""nautilus"" CEPH_RELEASE: ""nautilus"" GANESHA_RELEASE: ""V2.8-stable""",,3,0
openstack%2Fnetworking-odl~stable%2Ftrain~I3aed8031c1b784c16dd7055afd41456ed935b7fc,openstack/networking-odl,stable/train,I3aed8031c1b784c16dd7055afd41456ed935b7fc,This change is a squash of 2 different patches to pass the gate,ABANDONED,2020-08-12 08:39:47.000000000,2021-03-09 12:05:19.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-12 08:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5578ac7432cfba7c7ba02c65e8df58e30b3b1cba', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 2, 'created': '2020-08-24 11:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9eefd7b2f37db5142cbc7f4ccb32f0fbe8717ebc', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 3, 'created': '2020-08-24 13:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4828f683faf4f1fe35b7958521ff6cd0523f7f0e', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 4, 'created': '2020-08-24 15:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8a09502613f9e625cfd44a3577d53b2943e04695', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 5, 'created': '2020-08-25 11:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b12fa45584bb5513a992e02f5448d2ce2b6afa76', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 6, 'created': '2020-08-25 12:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1d4b1d23e395dd92d5652dcd26035fb20d44c437', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 7, 'created': '2020-08-25 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f2b76b377d42b864f12e3780897a44f8c1e721f8', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 8, 'created': '2020-08-26 06:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1aff40ac490605d2ef1bbd3a5b80107fa9c9292c', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 9, 'created': '2020-08-26 15:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cabed8745271fded9bf272814954e6498a6963f2', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 10, 'created': '2020-08-27 10:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9c9a863ee1f2523e7d6f0608284a55f38c5a0984', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 11, 'created': '2020-08-27 13:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7610c4a4534d3b1cd0334a6f843792f7a72ba681', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 12, 'created': '2020-09-30 12:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9217af5fb76da5ba193caae3cc6ada51db829373', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 13, 'created': '2020-10-02 12:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/de5229d2b86f6c0c9160da8ef3b2ac1ba35e2a7c', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 14, 'created': '2020-10-06 15:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/047aa6a5a6c7c3b4b67ec717439e66973ebfd1ab', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 15, 'created': '2020-10-06 17:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8149488a01a09a30f8248ab48862e3f5cd3a42a5', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 16, 'created': '2020-10-08 17:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/418a85ef851e408c5ea6480714ea9e7200d480e1', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 17, 'created': '2020-10-09 07:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/437be7dbb25941b8c236498ca152e18c53e6999a', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 18, 'created': '2020-10-09 12:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e3b2e8cd9afb8ed817bb7b313b7c27856157fd8f', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}, {'number': 19, 'created': '2020-10-12 09:50:44.000000000', 'files': ['networking_odl/dhcp/odl_dhcp_driver_base.py', 'networking_odl/dhcp/odl_dhcp_driver.py', '.pylintrc', 'playbooks/functional/pre.yaml', 'tools/configure_for_func_testing.sh', 'test-requirements.txt', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver_base.py', 'networking_odl/tests/functional/test_odl_dhcp_driver.py', 'lower-constraints.txt', 'networking_odl/tests/functional/requirements.txt', '.zuul.d/jobs.yaml', '.zuul.d/project.yaml', 'networking_odl/ceilometer/network/statistics/opendaylight_v2/driver.py', 'networking_odl/common/exceptions.py', 'networking_odl/common/callback.py', 'networking_odl/common/constants.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ffaea47ce7bfd807542c84a2282e0ba05dc1b440', 'message': ""This change is a squash of 2 different patches to pass the gate\n\n1) Backport of subnet deleted handler\nWith [0] neutron introduced a mechanism to lock subnets and avoid\ndeletion of used subnets (see [1] for the bug details). As a side effect\nthis caused that after subnet deletion dhcp ports was not deleted as\nno trigger arrived to call handle_port_update_event.\n[0] https://review.opendev.org/713045\n[1] https://bugs.launchpad.net/neutron/+bug/1865891\n(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)\nRelated-Bug: #1865891\nCloses-Bug: #1876033\n\n2) fix pep8 issues which mostly come from new version of isort\nFix pep8 job  and small fixes for functional jobs\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\nAdd mock to functional requirements.txt to make sure that neutron has it\nin functional envrionment.\n(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)\n\nChange-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc\n""}]",8,745806,ffaea47ce7bfd807542c84a2282e0ba05dc1b440,49,4,19,8313,,,0,"This change is a squash of 2 different patches to pass the gate

1) Backport of subnet deleted handler
With [0] neutron introduced a mechanism to lock subnets and avoid
deletion of used subnets (see [1] for the bug details). As a side effect
this caused that after subnet deletion dhcp ports was not deleted as
no trigger arrived to call handle_port_update_event.
[0] https://review.opendev.org/713045
[1] https://bugs.launchpad.net/neutron/+bug/1865891
(cherry picked from commit ef420a935d042e47b21d5fa7a2e3cf048b2935ad)
Related-Bug: #1865891
Closes-Bug: #1876033

2) fix pep8 issues which mostly come from new version of isort
Fix pep8 job  and small fixes for functional jobs
New versions of isort broke pylint. This patch fixes it at 4.3.21.
The issue appeared on stable branches that functional jobs can't find
correct pip version and failed due to not actual neutron version.
Add mock to functional requirements.txt to make sure that neutron has it
in functional envrionment.
(cherry picked from commit e4367d791702c3e40a3796dd753b58546599cef8)

Change-Id: I3aed8031c1b784c16dd7055afd41456ed935b7fc
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/06/745806/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/dhcp/odl_dhcp_driver_base.py', 'networking_odl/dhcp/odl_dhcp_driver.py', 'playbooks/functional/pre.yaml', 'test-requirements.txt', 'networking_odl/tests/unit/dhcp/test_odl_dhcp_driver_base.py', 'networking_odl/tests/functional/test_odl_dhcp_driver.py', 'lower-constraints.txt', 'networking_odl/common/constants.py', 'networking_odl/tests/functional/requirements.txt', '.zuul.d/jobs.yaml']",10,5578ac7432cfba7c7ba02c65e8df58e30b3b1cba,bug/1876033," neon: &neon neon-latest required-projects: &required-projects - openstack/ceilometer - openstack/devstack-gate - openstack/neutron - openstack/tempest timeout: 10800 devstack_services: q-svc: true name: networking-odl-tempest-multinode-base parent: tempest-multinode-full-py3 required-projects: *required-projects roles: - zuul: zuul/zuul-jobs - zuul: openstack/neutron-tempest-plugin timeout: 10800 pre-run: playbooks/multinode-setup.yaml irrelevant-files: *irrelevant_files vars: <<: *devstack_vars tox_envlist: all-plugin zuul_copy_output: '{{ devstack_log_dir }}/screen-karaf.log': 'logs' devstack_services: q-svc: true extensions_to_txt: log: True ini: True devstack_plugins: <<: *devstack_plugins neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin.git # Only scenario tests and some compute API tests actually verify ODL is working # Any API networking tests don't bring up any VMs and just verify that stuff happened in the # Neutron DB, so they don't actually fail even if ODL is not running at all. tempest_test_regex: tempest\.(api.compute|scenario|thirdparty)|neutron_tempest_plugin.scenario tempest_test_blacklist: ""{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tempest-blacklist.txt"" name: networking-odl-tempest-neon ODL_RELEASE: *neon - job: name: networking-odl-tempest-sodium parent: networking-odl-tempest-base vars: devstack_localrc: ODL_RELEASE: *sodium - openstack/ceilometer name: networking-odl-tempest-neon-multinode parent: networking-odl-tempest-multinode-base - job: name: networking-odl-tempest-sodium-multinode parent: networking-odl-tempest-multinode-base - job:", neon: &neon neon-snapshot-0.10 required-projects: timeout: 9000 name: networking-odl-tempest-oxygen parent: networking-odl-tempest-base vars: devstack_localrc: ODL_RELEASE: *oxygen name: networking-odl-tempest-fluorine ODL_RELEASE: *fluorine USE_PYTHON3: True- job: name: networking-odl-tempest-oxygen-multinode parent: legacy-dsvm-base-multinode run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-oxygen-snapshot/run.yaml post-run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-oxygen-snapshot/post.yaml timeout: 10800 required-projects: - openstack/devstack-gate - openstack/networking-odl - openstack/tempest nodeset: legacy-ubuntu-xenial-2-node - job: name: networking-odl-tempest-fluorine-multinode parent: legacy-dsvm-base-multinode run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-fluorine-snapshot/run.yaml post-run: playbooks/legacy/tempest-dsvm-networking-odl-multinode-fluorine-snapshot/post.yaml timeout: 10800 required-projects: - openstack/devstack-gate - openstack/networking-odl - openstack/tempest nodeset: legacy-ubuntu-xenial-2-node ,113,44
openstack%2Fmanila~master~I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9,openstack/manila,master,I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9,Update the Ganesha driver to use rados,ABANDONED,2021-02-22 12:44:40.000000000,2021-03-09 12:03:29.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 12:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/948570761abee6edc182c220cab275db249bdf19', 'message': 'Update the Ganesha driver to use rados\n\nAs part of updating the Ceph drivers to use the ceph-mgr\ninterface, we need to update the Ganesha driver to use the\nrados library directly and remove the usage of\nthe ceph_vol_client.\n\nPartially-Implements: bp update-cephfs-drivers\nChange-Id: I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9\n'}, {'number': 2, 'created': '2021-02-22 21:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0a693bf07ec05b6c5ac45b92826ff8f34ffaacdb', 'message': 'Update the Ganesha driver to use rados\n\nAs part of updating the Ceph drivers to use the ceph-mgr\ninterface, we need to update the Ganesha driver to use the\nrados library directly and remove the usage of\nthe ceph_vol_client.\n\nPartially-Implements: bp update-cephfs-drivers\nChange-Id: I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9\n'}, {'number': 3, 'created': '2021-02-22 21:25:41.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/share/drivers/ganesha/__init__.py', 'manila/share/drivers/ganesha/manager.py', 'releasenotes/notes/bp-update-cephfs-drivers-2d4d711c1f3ed41e.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f8cf99133d16d97f370aa5b9e05c3d678267f38e', 'message': 'Update the Ganesha driver to use rados\n\nAs part of updating the Ceph drivers to use the ceph-mgr\ninterface, we need to update the Ganesha driver to use the\nrados library directly and remove the usage of\nthe ceph_vol_client.\n\nPartially-Implements: bp update-cephfs-drivers\nChange-Id: I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9\n'}]",0,776928,f8cf99133d16d97f370aa5b9e05c3d678267f38e,15,2,3,6413,,,0,"Update the Ganesha driver to use rados

As part of updating the Ceph drivers to use the ceph-mgr
interface, we need to update the Ganesha driver to use the
rados library directly and remove the usage of
the ceph_vol_client.

Partially-Implements: bp update-cephfs-drivers
Change-Id: I3846f447eb6238f8aaa0b8a70663a2b1957ec1a9
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/776928/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/share/drivers/ganesha/__init__.py', 'manila/share/drivers/ganesha/manager.py', 'releasenotes/notes/bp-update-cephfs-drivers-2d4d711c1f3ed41e.yaml']",7,948570761abee6edc182c220cab275db249bdf19,bp/update-cephfs-drivers,--- fixes: - | Replaces usage of the ceph_vol_client for the rados library for the export manage locations operations in the Ganesha driver ,,171,64
openstack%2Fmanila~master~Ib5953646f93e1e8643ffa2b9376185fe16773d7c,openstack/manila,master,Ib5953646f93e1e8643ffa2b9376185fe16773d7c,Update share group operations to use ceph-mgr client,ABANDONED,2021-02-12 22:12:27.000000000,2021-03-09 12:03:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 22:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/974d364821eb62eb68b8cc76b277dbb8a9557729', 'message': 'Update share group operations to use ceph-mgr client\n\nUpdates the create_share_group, delete_share_group,\ncreate_share_group_snapshot and delete_share_group_snapshot functions\nto use the ceph-mgr fs plugin\n\nThis patch set is part of the update cephfs drivers to use ceph-mgr\nblueprint\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Ib5953646f93e1e8643ffa2b9376185fe16773d7c\n'}, {'number': 2, 'created': '2021-02-22 21:25:41.000000000', 'files': ['releasenotes/notes/bp-update-cephfs-drivers-e263e4eef68f9cb2.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/cba1f1f9f1786a256aea33d6106b7c280ee300a7', 'message': 'Update share group operations to use ceph-mgr client\n\nUpdates the create_share_group, delete_share_group,\ncreate_share_group_snapshot and delete_share_group_snapshot functions\nto use the ceph-mgr fs plugin\n\nThis patch set is part of the update cephfs drivers to use ceph-mgr\nblueprint\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Ib5953646f93e1e8643ffa2b9376185fe16773d7c\n'}]",0,775452,cba1f1f9f1786a256aea33d6106b7c280ee300a7,17,1,2,6413,,,0,"Update share group operations to use ceph-mgr client

Updates the create_share_group, delete_share_group,
create_share_group_snapshot and delete_share_group_snapshot functions
to use the ceph-mgr fs plugin

This patch set is part of the update cephfs drivers to use ceph-mgr
blueprint

Partially-implements: bp update-cephfs-drivers
Change-Id: Ib5953646f93e1e8643ffa2b9376185fe16773d7c
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/775452/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bp-update-cephfs-drivers-e263e4eef68f9cb2.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py']",3,974d364821eb62eb68b8cc76b277dbb8a9557729,bp/update-cephfs-drivers," sg = {""id"": ""grp1""} self._driver.create_share_group(self._context, sg, None) self.assertEqual( [mock.call('ceph', 'fs', 'subvolumegroup', 'create', 'cephfs', ""grp1"", '--mode', DEFAULT_VOLUME_MODE, '--user', 'manila')], self._execute.call_args_list) sg = {""id"": ""grp1""} self._driver.delete_share_group(self._context, sg, None) self.assertEqual( [mock.call('ceph', 'fs', 'subvolumegroup', 'rm', 'cephfs', ""grp1"", '--force', '--user', 'manila')], self._execute.call_args_list) def test_create_share_group_snapshot(self): self.assertRaises(exception.ShareBackendException, self._driver.create_share_group_snapshot, self._context, {'share_group_id': 'sgid', 'id': 'snapid'}) snap_dict = {'share_group_id': 'sgid', 'id': 'snapid'} self._driver.delete_share_group_snapshot(self._context, snap_dict) self.assertEqual( [mock.call('ceph', 'fs', 'subvolumegroup', 'snapshot', 'rm', 'cephfs', snap_dict['share_group_id'], snap_dict['id'], '--user', 'manila')], self._execute.call_args_list)"," self._driver.create_share_group(self._context, {""id"": ""grp1""}, None) self._driver._volume_client.create_group.assert_called_once_with( ""grp1"", mode=DEFAULT_VOLUME_MODE) self._driver.delete_share_group(self._context, {""id"": ""grp1""}, None) self._driver._volume_client.destroy_group.assert_called_once_with( ""grp1"") def test_create_share_snapshot(self): self._driver.create_share_group_snapshot(self._context, { 'share_group_id': 'sgid', 'id': 'snapid', }) (self._driver._volume_client.create_snapshot_group. assert_called_once_with(""sgid"", ""snapid"", mode=DEFAULT_VOLUME_MODE)) self._driver.delete_share_group_snapshot(self._context, { 'share_group_id': 'sgid', 'id': 'snapid', }) (self._driver._volume_client.destroy_snapshot_group. assert_called_once_with(""sgid"", ""snapid""))",77,31
openstack%2Fmanila~master~I54bf0e685d8e436651641d154d8cd549c21164e1,openstack/manila,master,I54bf0e685d8e436651641d154d8cd549c21164e1,Update create snapshot and delete snapshot to use ceph-mgr client,ABANDONED,2021-02-12 22:12:27.000000000,2021-03-09 12:03:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 22:12:27.000000000', 'files': ['releasenotes/notes/bp-update-cephfs-drivers-4877aca31e34a171.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/cddb7e335c631ab04dcebc5489a645a8e9f87338', 'message': 'Update create snapshot and delete snapshot to use ceph-mgr client\n\nUpdates the create snapshot and delete snapshot functions\nto use the ceph-mgr fs plugin\n\nThis patch set is part of the update cephfs drivers to use ceph-mgr\nblueprint\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: I54bf0e685d8e436651641d154d8cd549c21164e1\n'}]",0,775451,cddb7e335c631ab04dcebc5489a645a8e9f87338,10,1,1,6413,,,0,"Update create snapshot and delete snapshot to use ceph-mgr client

Updates the create snapshot and delete snapshot functions
to use the ceph-mgr fs plugin

This patch set is part of the update cephfs drivers to use ceph-mgr
blueprint

Partially-implements: bp update-cephfs-drivers
Change-Id: I54bf0e685d8e436651641d154d8cd549c21164e1
",git fetch https://review.opendev.org/openstack/manila refs/changes/51/775451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bp-update-cephfs-drivers-4877aca31e34a171.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py']",3,cddb7e335c631ab04dcebc5489a645a8e9f87338,bp/update-cephfs-drivers," snapshot = {""id"": ""instance1"", ""share"": self._share, ""share_id"": self._share['id'], ""snapshot_id"": ""snappy1""} share_id = snapshot['share_id'] snapshot_id = '_'.join([snapshot['snapshot_id'], snapshot['id']]) self._driver.create_snapshot(self._context, snapshot, None) self.assertEqual( [mock.call('ceph', 'fs', 'subvolume', 'snapshot', 'create', 'cephfs', share_id, snapshot_id, '--user', 'manila')], self._execute.call_args_list) snapshot = {""id"": ""instance1"", ""share"": self._share, ""share_id"": self._share['id'], ""snapshot_id"": ""snappy1""} share_id = snapshot['share_id'] snapshot_id = '_'.join([snapshot['snapshot_id'], snapshot['id']]) self._driver.delete_snapshot(self._context, snapshot, None) self.assertEqual( [mock.call('ceph', 'fs', 'subvolume', 'snapshot', 'rm', 'cephfs', share_id, snapshot_id, '--force', '--user', 'manila')], self._execute.call_args_list)"," self._driver.create_snapshot(self._context, { ""id"": ""instance1"", ""share"": self._share, ""snapshot_id"": ""snappy1"" }, None) (self._driver._volume_client.create_snapshot_volume .assert_called_once_with( driver.cephfs_share_path(self._share), ""snappy1_instance1"", mode=DEFAULT_VOLUME_MODE)) self._driver.delete_snapshot(self._context, { ""id"": ""instance1"", ""share"": self._share, ""snapshot_id"": ""snappy1"" }, None) (self._driver._volume_client.destroy_snapshot_volume .assert_called_once_with( driver.cephfs_share_path(self._share), ""snappy1_instance1""))",62,30
openstack%2Fmanila~master~Idf795557578ab80e8071e11872e26cbfd85e178c,openstack/manila,master,Idf795557578ab80e8071e11872e26cbfd85e178c,Update create share and delete share to use ceph-mgr client,ABANDONED,2021-02-11 19:48:41.000000000,2021-03-09 12:03:14.000000000,,"[{'_account_id': 8056}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 31638}]","[{'number': 1, 'created': '2021-02-11 19:48:41.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bp-update-cephfs-drivers-7870e5d8854dffd1.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/34fa267a264236c2a21ad0afcb8c6330fe9f8548', 'message': 'Update create share and delete share to use ceph-mgr client\n\nUpdates the create share and delete share functions\nto use the create subvolume call available in the\nceph fs plugin that communicates with the ceph-mgr\n\nThis patch set is part of the update cephfs drivers to use ceph-mgr\nblueprint\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Idf795557578ab80e8071e11872e26cbfd85e178c\n'}]",1,775268,34fa267a264236c2a21ad0afcb8c6330fe9f8548,8,4,1,6413,,,0,"Update create share and delete share to use ceph-mgr client

Updates the create share and delete share functions
to use the create subvolume call available in the
ceph fs plugin that communicates with the ceph-mgr

This patch set is part of the update cephfs drivers to use ceph-mgr
blueprint

Partially-implements: bp update-cephfs-drivers
Change-Id: Idf795557578ab80e8071e11872e26cbfd85e178c
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/775268/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bp-update-cephfs-drivers-7870e5d8854dffd1.yaml']",3,34fa267a264236c2a21ad0afcb8c6330fe9f8548,bp/update-cephfs-drivers,--- upgrade: - | The data_isolated extra spec is not supported anymore in this implementation. deprecations: - | Deprecates the data_isolated extra spec. This extra spec has been deprecated since the creation of a different data pool for each share is not scalable and therefore disadvised. fixes: - | Reimplement create_share and delete_share operations using the ceph-mgr interface. other: - | This interface is available on Ceph v14.2.10 (Nautilus) onwards. ,,142,71
openstack%2Fcharm-deployment-guide~master~I2035bfa01091ec799027266f4fe36aefd775c225,openstack/charm-deployment-guide,master,I2035bfa01091ec799027266f4fe36aefd775c225,Rationalise upgrade order for charms and payload,MERGED,2021-03-08 19:59:30.000000000,2021-03-09 11:47:52.000000000,2021-03-09 11:45:35.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 19:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/876e582ddcd61563ecfeacb9615d37410800232b', 'message': 'Rationalise upgrade order for charms and payload\n\n* Be more direct about the order of both charm upgrades\n  and openstack upgrades. Base the former on the latter\n  and the latter on internal testing. Octavia is the\n  outlier but its inclusion was decided upon based on\n  ealier team consensus.\n\n* Remove some linking at the top of upgrade-openstack\n  since they are covered in the ensuing sections.\n\n* Remove some unused links, but include the swath of\n  links for supported charms in the upgrade-openstack\n  page as it will be easier to refer to another charm\n  in any future work. This is the same as for the\n  current upgrade-charms page.\n\nChange-Id: I2035bfa01091ec799027266f4fe36aefd775c225\n'}, {'number': 2, 'created': '2021-03-08 20:00:19.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4bab04cfff8b2916381af4c4e67918df223b2197', 'message': 'Rationalise upgrade order for charms and payload\n\n* Be more direct about the order of both charm upgrades\n  and openstack upgrades. Base the former on the latter\n  and the latter on internal testing. Octavia is the\n  outlier but its inclusion was decided upon based on\n  ealier team consensus.\n\n* Remove some linking at the top of upgrade-openstack\n  since they are covered in the ensuing sections.\n\n* Remove some unused links, but include the swath of\n  links for supported charms in the upgrade-openstack\n  page as it will be easier to refer to another charm\n  in any future work. This is the same as for the\n  current upgrade-charms page.\n\nCloses-Bug: #1912665\nChange-Id: I2035bfa01091ec799027266f4fe36aefd775c225\n'}]",0,779354,4bab04cfff8b2916381af4c4e67918df223b2197,8,2,2,30561,,,0,"Rationalise upgrade order for charms and payload

* Be more direct about the order of both charm upgrades
  and openstack upgrades. Base the former on the latter
  and the latter on internal testing. Octavia is the
  outlier but its inclusion was decided upon based on
  ealier team consensus.

* Remove some linking at the top of upgrade-openstack
  since they are covered in the ensuing sections.

* Remove some unused links, but include the swath of
  links for supported charms in the upgrade-openstack
  page as it will be easier to refer to another charm
  in any future work. This is the same as for the
  current upgrade-charms page.

Closes-Bug: #1912665
Change-Id: I2035bfa01091ec799027266f4fe36aefd775c225
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/54/779354/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst']",2,876e582ddcd61563ecfeacb9615d37410800232b,bug/1912665,"Upgrade order ------------- There is no special order in which to upgrade the charms. The order described here is based on the upgrade order for :ref:`OpenStack upgrades <openstack_upgrade_order>`, which, in turn, is the order used by internal testing. .. note:: Although it may be possible to upgrade some charms concurrently it is recommended that charm upgrades be performed sequentially (i.e. one at a time). Verify a charm upgrade before moving on to the next. The general order is: #. all principle charms #. all subordinate charms The precise order within the group of principle charms is shown in the below table. .. list-table:: Principle charms :header-rows: 1 :widths: auto * - Order - Charm * - 1 - `percona-cluster`_ or `mysql-innodb-cluster`_ * - 2 - `rabbitmq-server`_ * - 3 - `ceph-mon`_ * - 4 - `keystone`_ * - 5 - `aodh`_ * - 6 - `barbican`_ * - 7 - `ceilometer`_ * - 8 - `ceph-fs`_ * - 9 - `ceph-radosgw`_ * - 10 - `cinder`_ * - 11 - `designate`_ * - 12 - `designate-bind`_ * - 13 - `glance`_ * - 14 - `gnocchi`_ * - 15 - `heat`_ * - 16 - `manila`_ * - 17 - `manila-generic`_ * - 18 - `neutron-api`_ * - 19 - `neutron-gateway`_ * - 20 - `placement`_ * - 21 - `nova-cloud-controller`_ * - 22 - `openstack-dashboard`_ * - 23 - `nova-compute`_ * - 24 - `ceph-osd`_ * - 25 - `swift-proxy`_ * - 26 - `swift-storage`_ Upgrade testing for subordinate charms does not follow a prescribed order. Once all the principle charms have been processed all the subordinate charms can then be upgraded in any order. Perform the upgrade ------------------- Prior to upgrading a charm, say keystone, a (partial) output to :command:`juju status` may look like:.. caution:: Any software changes that may have (exceptionally) been made to a charm currently running on a unit will be overwritten by the target charm during the upgrade. .. _aodh: https://opendev.org/openstack/charm-aodh/ .. _barbican: https://opendev.org/openstack/charm-barbican/ .. _barbican-vault: https://opendev.org/openstack/charm-barbican-vault/ .. _ceilometer: https://opendev.org/openstack/charm-ceilometer/ .. _ceilometer-agent: https://opendev.org/openstack/charm-ceilometer-agent/ .. _cinder: https://opendev.org/openstack/charm-cinder/ .. _cinder-backup: https://opendev.org/openstack/charm-cinder-backup/ .. _cinder-backup-swift-proxy: https://opendev.org/openstack/charm-cinder-backup-swift-proxy/ .. _cinder-ceph: https://opendev.org/openstack/charm-cinder-ceph/ .. _designate: https://opendev.org/openstack/charm-designate/ .. _glance: https://opendev.org/openstack/charm-glance/ .. _heat: https://opendev.org/openstack/charm-heat/ .. _keystone: https://opendev.org/openstack/charm-keystone/ .. _keystone-ldap: https://opendev.org/openstack/charm-keystone-ldap/ .. _keystone-saml-mellon: https://opendev.org/openstack/charm-keystone-saml-mellon/ .. _manila: https://opendev.org/openstack/charm-manila/ .. _manila-ganesha: https://opendev.org/openstack/charm-manila-ganesha/ .. _masakari: https://opendev.org/openstack/charm-masakari/ .. _masakari-monitors: https://opendev.org/openstack/charm-masakari-monitors/ .. _mysql-innodb-cluster: https://opendev.org/openstack/charm-mysql-innodb-cluster .. _mysql-router: https://opendev.org/openstack/charm-mysql-router .. _neutron-api: https://opendev.org/openstack/charm-neutron-api/ .. _neutron-api-plugin-arista: https://opendev.org/openstack/charm-neutron-api-plugin-arista .. _neutron-api-plugin-ovn: https://opendev.org/openstack/charm-neutron-api-plugin-ovn .. _neutron-dynamic-routing: https://opendev.org/openstack/charm-neutron-dynamic-routing/ .. _neutron-gateway: https://opendev.org/openstack/charm-neutron-gateway/ .. _neutron-openvswitch: https://opendev.org/openstack/charm-neutron-openvswitch/ .. _nova-cell-controller: https://opendev.org/openstack/charm-nova-cell-controller/ .. _nova-cloud-controller: https://opendev.org/openstack/charm-nova-cloud-controller/ .. _nova-compute: https://opendev.org/openstack/charm-nova-compute/ .. _octavia: https://opendev.org/openstack/charm-octavia/ .. _octavia-dashboard: https://opendev.org/openstack/charm-octavia-dashboard/ .. _octavia-diskimage-retrofit: https://opendev.org/openstack/charm-octavia-diskimage-retrofit/ .. _openstack-dashboard: https://opendev.org/openstack/charm-openstack-dashboard/ .. _placement: https://opendev.org/openstack/charm-placement .. _swift-proxy: https://opendev.org/openstack/charm-swift-proxy/ .. _swift-storage: https://opendev.org/openstack/charm-swift-storage/ .. _ceph-fs: https://opendev.org/openstack/charm-ceph-fs/ .. _ceph-iscsi: https://opendev.org/openstack/charm-ceph-iscsi/ .. _ceph-mon: https://opendev.org/openstack/charm-ceph-mon/ .. _ceph-osd: https://opendev.org/openstack/charm-ceph-osd/ .. _ceph-proxy: https://opendev.org/openstack/charm-ceph-proxy/ .. _ceph-radosgw: https://opendev.org/openstack/charm-ceph-radosgw/ .. _ceph-rbd-mirror: https://opendev.org/openstack/charm-ceph-rbd-mirror/ .. _cinder-purestorage: https://opendev.org/openstack/charm-cinder-purestorage/ .. _designate-bind: https://opendev.org/openstack/charm-designate-bind/ .. _glance-simplestreams-sync: https://opendev.org/openstack/charm-glance-simplestreams-sync/ .. _gnocchi: https://opendev.org/openstack/charm-gnocchi/ .. _hacluster: https://opendev.org/openstack/charm-hacluster/ .. _ovn-central: https://opendev.org/x/charm-ovn-central .. _ovn-chassis: https://opendev.org/x/charm-ovn-chassis .. _ovn-dedicated-chassis: https://opendev.org/x/charm-ovn-dedicated-chassis .. _pacemaker-remote: https://opendev.org/openstack/charm-pacemaker-remote/ .. _percona-cluster: https://opendev.org/openstack/charm-percona-cluster/ .. _rabbitmq-server: https://opendev.org/openstack/charm-rabbitmq-server/ .. _trilio-data-mover: https://opendev.org/openstack/charm-trilio-data-mover/ .. _trilio-dm-api: https://opendev.org/openstack/charm-trilio-dm-api/ .. _trilio-horizon-plugin: https://opendev.org/openstack/charm-trilio-horizon-plugin/ .. _trilio-wlm: https://opendev.org/openstack/charm-trilio-wlm/ .. _vault: https://opendev.org/openstack/charm-vault/ .. _manila-generic: https://opendev.org/openstack/charm-manila-generic/","Although it may be possible to upgrade some charms in parallel it is recommended that the upgrades be performed sequentially (i.e. one at a time). Verify a charm upgrade before moving on to the next. Subordinate charms are upgraded as normal, and, in theory, their upgrade order in relation to their principal charm is not important. Internal testing however does upgrade the principal charm first. In terms of the upgrade order, begin with 'keystone'. After that, the rest of the charms can be upgraded in any order. .. caution:: Any software changes that may have (exceptionally) been made to a charm currently running on a unit will be overwritten by the target charm during the upgrade. Before upgrading, a (partial) output to :command:`juju status` may look like:.. _Series upgrade: upgrade-series.html",358,104
openstack%2Freleases~master~Ifcfd1b244c3a7e9d26b762585bab61bd43e28a9b,openstack/releases,master,Ifcfd1b244c3a7e9d26b762585bab61bd43e28a9b,Second try to release.,ABANDONED,2021-01-28 09:51:50.000000000,2021-03-09 11:39:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 09:51:50.000000000', 'files': ['deliverables/stein/monasca-tempest-plugin.yaml', 'deliverables/wallaby/monasca-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ab9742f4f607f737b6489fc3e96a7d4426230440', 'message': ""Second try to release.\n\nFirst can be tracked on [3]\n\n[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://review.opendev.org/c/openstack/releases/+/768551\n\nChange-Id: Ifcfd1b244c3a7e9d26b762585bab61bd43e28a9b\n""}]",4,772845,ab9742f4f607f737b6489fc3e96a7d4426230440,13,2,1,28062,,,0,"Second try to release.

First can be tracked on [3]

[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://review.opendev.org/c/openstack/releases/+/768551

Change-Id: Ifcfd1b244c3a7e9d26b762585bab61bd43e28a9b
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/772845/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/monasca-tempest-plugin.yaml', 'deliverables/wallaby/monasca-tempest-plugin.yaml']",2,ab9742f4f607f737b6489fc3e96a7d4426230440,, hash: 74ad064fba33bad750fad04fda472af3525dca5b, hash: a46fb592455293cac03e713b7870e6bbeb399e0c,2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I895410b18a5194849ab5a66a70bffd6cc1a445d9,openstack/kolla-ansible,stable/train,I895410b18a5194849ab5a66a70bffd6cc1a445d9,Redis configuration syntax update,ABANDONED,2021-02-26 13:01:55.000000000,2021-03-09 10:26:52.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26740}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-26 13:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5fe459d88c946b01119d328a8c5bb266891172e6', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\nDeployments on CentOS / RHEL 7 retain original pre 5.x\nsyntax.\n\nCloses-Bug: #1915013\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I895410b18a5194849ab5a66a70bffd6cc1a445d9\n'}, {'number': 2, 'created': '2021-03-08 10:10:15.000000000', 'files': ['ansible/roles/redis/templates/redis.conf.j2', 'ansible/roles/redis/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0364a99ca8d7894d5ee8223571257cb286115e7c', 'message': 'Redis configuration syntax update\n\nReplication syntax of Redis config files updated to\nRedis 5.x.\nDeployments on CentOS / RHEL 7 retain original pre 5.x\nsyntax.\n\nCloses-Bug: #1915013\nSigned-off-by: Petr Tuma <p.tuma@partner.samsung.com>\nChange-Id: I895410b18a5194849ab5a66a70bffd6cc1a445d9\n(cherry picked from commit 8799825485662d67ae64b525fb27758875351d64)\n'}]",0,777745,0364a99ca8d7894d5ee8223571257cb286115e7c,14,5,2,33158,,,0,"Redis configuration syntax update

Replication syntax of Redis config files updated to
Redis 5.x.
Deployments on CentOS / RHEL 7 retain original pre 5.x
syntax.

Closes-Bug: #1915013
Signed-off-by: Petr Tuma <p.tuma@partner.samsung.com>
Change-Id: I895410b18a5194849ab5a66a70bffd6cc1a445d9
(cherry picked from commit 8799825485662d67ae64b525fb27758875351d64)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/777745/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/redis/templates/redis.conf.j2', 'ansible/roles/redis/defaults/main.yml']",2,5fe459d88c946b01119d328a8c5bb266891172e6,redis_conf_train,"redis_replication_syntax: ""{{ 'slave' if kolla_base_distro in ['centos','rhel'] and ansible_distribution_major_version is version(8, '<') else 'replica' }}"" ",,7,5
openstack%2Fironic~stable%2Fussuri~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,stable/ussuri,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-03-08 20:55:12.000000000,2021-03-09 10:23:52.000000000,2021-03-09 10:22:02.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 20:55:12.000000000', 'files': ['ironic/tests/unit/conductor/test_task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e2eeb311044085b0790c19002fe8e792c3dd6e0', 'message': '[Trivial] Fix testing of volume connector exception\n\nRestore test symmetry.\n\nChange-Id: I54a9fed73e366a30545c3cd1982588d2f544d228\n(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)\n'}]",0,779325,5e2eeb311044085b0790c19002fe8e792c3dd6e0,8,3,1,6618,,,0,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/779325/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_task_manager.py'],1,5e2eeb311044085b0790c19002fe8e792c3dd6e0,test_task_manager-stable/ussuri, self.assertFalse(build_driver_mock.called), self.assertFalse(get_voltgt_mock.called),1,1
openstack%2Fironic~stable%2Ftrain~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,stable/train,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-03-08 20:55:47.000000000,2021-03-09 10:23:50.000000000,2021-03-09 10:22:07.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 20:55:47.000000000', 'files': ['ironic/tests/unit/conductor/test_task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7f01b285a339e66f1a3d02617bd460672fe8bc7', 'message': '[Trivial] Fix testing of volume connector exception\n\nRestore test symmetry.\n\nChange-Id: I54a9fed73e366a30545c3cd1982588d2f544d228\n(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)\n'}]",0,779326,d7f01b285a339e66f1a3d02617bd460672fe8bc7,8,3,1,6618,,,0,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/779326/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_task_manager.py'],1,d7f01b285a339e66f1a3d02617bd460672fe8bc7,test_task_manager-stable/train, self.assertFalse(build_driver_mock.called), self.assertFalse(get_voltgt_mock.called),1,1
openstack%2Fcharm-rabbitmq-server~master~Id44d2037d5743bc882388141d726194c51d82fbf,openstack/charm-rabbitmq-server,master,Id44d2037d5743bc882388141d726194c51d82fbf,Add new osci.yaml,MERGED,2021-02-18 07:50:04.000000000,2021-03-09 10:14:54.000000000,2021-03-09 10:14:54.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-18 07:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/54a93f410ce72f3b3ae31592e453139f4a134c79', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}, {'number': 2, 'created': '2021-03-05 18:30:48.000000000', 'files': ['osci.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/88163e4f502f8906887a773faa1aaca6d08a11c8', 'message': 'Add new osci.yaml\n\nThis change is preparatory to migration Ubuntu OpenStack CI\nfrom Jenkins to Zuul\n\nChange-Id: Id44d2037d5743bc882388141d726194c51d82fbf\n'}]",0,776390,88163e4f502f8906887a773faa1aaca6d08a11c8,15,4,2,20634,,,0,"Add new osci.yaml

This change is preparatory to migration Ubuntu OpenStack CI
from Jenkins to Zuul

Change-Id: Id44d2037d5743bc882388141d726194c51d82fbf
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/90/776390/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,54a93f410ce72f3b3ae31592e453139f4a134c79,feature/new-zuul,- project: templates: - charm-unit-jobs - charm-functional-jobs,,4,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5ae251a97d2fed7c8175497d80188f2868683908,openstack/tripleo-heat-templates,stable/train,I5ae251a97d2fed7c8175497d80188f2868683908,Remove scenario007-multinode and scenario010-standalone from layout,MERGED,2021-03-05 11:03:29.000000000,2021-03-09 10:04:11.000000000,2021-03-08 22:06:57.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30742}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-03-05 11:03:29.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54414a14b47de5f15bb5ca01009fca041462f2bd', 'message': ""Remove scenario007-multinode and scenario010-standalone from layout\n\nThis removes tripleo-ci-centos-8-scenario007-multinode-oooq-container\nfrom the train layout override because it is redundant [1] the job\ndoesn't run on train or even U.\n\nAlso removes the tripleo-ci-centos-8-scenario010-standalone override\nas it is already included by the tripleo-standalone-scenarios-pipeline\ntemplate. The files: matches here meant the job was run on more changes\nthan defined by the template itself [2]. Part of CI optimisation [3].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/17d7d68398dba728e499dd7d42fb2672cc9474c2/zuul.d/multinode-jobs.yaml#L312\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/17d7d68398dba728e499dd7d42fb2672cc9474c2/zuul.d/standalone-jobs.yaml#L260\n[3] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: I5ae251a97d2fed7c8175497d80188f2868683908\n""}]",10,778880,54414a14b47de5f15bb5ca01009fca041462f2bd,12,12,1,8449,,,0,"Remove scenario007-multinode and scenario010-standalone from layout

This removes tripleo-ci-centos-8-scenario007-multinode-oooq-container
from the train layout override because it is redundant [1] the job
doesn't run on train or even U.

Also removes the tripleo-ci-centos-8-scenario010-standalone override
as it is already included by the tripleo-standalone-scenarios-pipeline
template. The files: matches here meant the job was run on more changes
than defined by the template itself [2]. Part of CI optimisation [3].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/17d7d68398dba728e499dd7d42fb2672cc9474c2/zuul.d/multinode-jobs.yaml#L312
[2] https://opendev.org/openstack/tripleo-ci/src/commit/17d7d68398dba728e499dd7d42fb2672cc9474c2/zuul.d/standalone-jobs.yaml#L260
[3] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: I5ae251a97d2fed7c8175497d80188f2868683908
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/778880/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,54414a14b47de5f15bb5ca01009fca041462f2bd,tripleo-ci-reduce,, - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: &multi_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider files: - ci/environments/scenario007-multinode-containers.yaml - ^(deployment|docker|puppet)/neutron-plugin-ml2.yaml #LP1765975 - ^(deployment|docker|puppet)/.*.*ovn.*$ - ^(deployment|docker|puppet)/.*tacker.*$ - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-8-scenario010-standalone: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-standalone.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/*,0,32
openstack%2Fdevstack~master~Ie040e4b35d63d4abcfceb057e8dfffe49fe3464d,openstack/devstack,master,Ie040e4b35d63d4abcfceb057e8dfffe49fe3464d,iniset testing: test value with equals sign,NEW,2021-03-09 00:37:07.000000000,2021-03-09 10:01:28.000000000,,"[{'_account_id': 4393}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 00:37:07.000000000', 'files': ['tests/test_ini_config.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3447c2c428bd101133ae43d125f488cdee3e13bc', 'message': 'iniset testing: test value with equals sign\n\nA comment in a review suggested setting a value with a equals (=) in\nit didn\'t work.  For example, systemd uses\n\n Environment=""FOO=bar""\n\nExercise that here to make sure it does work\n\nChange-Id: Ie040e4b35d63d4abcfceb057e8dfffe49fe3464d\n'}]",1,779408,3447c2c428bd101133ae43d125f488cdee3e13bc,4,3,1,7118,,,0,"iniset testing: test value with equals sign

A comment in a review suggested setting a value with a equals (=) in
it didn't work.  For example, systemd uses

 Environment=""FOO=bar""

Exercise that here to make sure it does work

Change-Id: Ie040e4b35d63d4abcfceb057e8dfffe49fe3464d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/779408/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_ini_config.sh'],1,3447c2c428bd101133ae43d125f488cdee3e13bc,iniset-equals,"# test creation/update/removal of keys with equals iniset ${SUDO_ARG} ${TEST_INI} key_with_equals ""equal_in_key"" ""foo=bar"" VAL=$(iniget ${TEST_INI} key_with_equals ""equal_in_key"") assert_equal ""$VAL"" ""foo=bar"" ""iniset created a key with equals"" iniset ${SUDO_ARG} ${TEST_INI} key_with_spaces ""equal_in_key"" ""foo=moo"" VAL=$(iniget ${TEST_INI} key_with_spaces ""equal_in_key"") assert_equal ""$VAL"" ""foo=moo"" ""iniset updated a key with equals"" inidelete ${SUDO_ARG} ${TEST_INI} key_with_spaces ""equal_in_key"" VAL=$(iniget ${TEST_INI} key_with_spaces ""equal_in_key"") assert_empty VAL ""inidelete removed a key with equals"" ",,13,0
openstack%2Fnova~stable%2Fussuri~I615ada45ffcbac081474c0a0cf005afdb8eec953,openstack/nova,stable/ussuri,I615ada45ffcbac081474c0a0cf005afdb8eec953,Add regression test for bug 1893284,MERGED,2021-02-23 20:26:34.000000000,2021-03-09 09:29:48.000000000,2021-03-09 09:28:03.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-23 20:26:34.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/functional/api/client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f4591871ffdd8abeee80bd2ba886db9883b56f35', 'message': 'Add regression test for bug 1893284\n\nThis adds a regression test for a bug where quota limit checking during\nserver creates is not properly scoped per-user when per-user quota has\nbeen defined.\n\nAs a result, users who should be able to create a server are rejected\nwith a 403 ""quota exceeded"" error when they should be allowed to create\na server because servers owned by other users in the project are\nincorrectly being counted for the current user.\n\nRelated-Bug: #1893284\n\nChange-Id: I615ada45ffcbac081474c0a0cf005afdb8eec953\n(cherry picked from commit 38bc8b871a4b954f6de84f10dc1e8beb21a7c9ed)\n'}]",0,777216,f4591871ffdd8abeee80bd2ba886db9883b56f35,10,3,1,4690,,,0,"Add regression test for bug 1893284

This adds a regression test for a bug where quota limit checking during
server creates is not properly scoped per-user when per-user quota has
been defined.

As a result, users who should be able to create a server are rejected
with a 403 ""quota exceeded"" error when they should be allowed to create
a server because servers owned by other users in the project are
incorrectly being counted for the current user.

Related-Bug: #1893284

Change-Id: I615ada45ffcbac081474c0a0cf005afdb8eec953
(cherry picked from commit 38bc8b871a4b954f6de84f10dc1e8beb21a7c9ed)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/777216/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1893284.py', 'nova/tests/functional/api/client.py']",2,f4591871ffdd8abeee80bd2ba886db9883b56f35,bug/1893284," def get_quota_detail(self, project_id=None, user_id=None): url = '/os-quota-sets/%s/detail' if user_id: url += '?user_id=%s' % user_id return self.api_get(url % project_id).body['quota_set'] def update_quota(self, quotas, project_id=None, user_id=None): url = '/os-quota-sets/%s' if user_id: url += '?user_id=%s' % user_id return self.api_put(url % project_id, body).body['quota_set']"," def get_quota_detail(self, project_id=None): return self.api_get( '/os-quota-sets/%s/detail' % project_id).body['quota_set'] def update_quota(self, quotas, project_id=None): return self.api_put( '/os-quota-sets/%s' % project_id, body).body['quota_set']",106,6
openstack%2Ftripleo-heat-templates~master~If419d53fc3a90cdd62271c00714fff79a3b4fd12,openstack/tripleo-heat-templates,master,If419d53fc3a90cdd62271c00714fff79a3b4fd12,Fix NovaDefaultFloatingPool parameter,MERGED,2021-03-03 19:48:13.000000000,2021-03-09 08:50:34.000000000,2021-03-09 08:50:34.000000000,"[{'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-03 19:48:13.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6c1aff5c5b1c8e855f9740b217f9545f7bb0116', 'message': 'Fix NovaDefaultFloatingPool parameter\n\nnova::api::default_floating_pool parameter was removed from\npuppet-nova back in 2018 with\nI2624b92871f4cba5a7361a5d006d985946493e83\n\nIt is now recommended to use\nnova::network::neutron::default_floating_pool parameter to\ndefine default floating IP pool.\n\nPartial-Bug: #1916386\nChange-Id: If419d53fc3a90cdd62271c00714fff79a3b4fd12\n'}]",0,778563,a6c1aff5c5b1c8e855f9740b217f9545f7bb0116,12,5,1,19234,,,0,"Fix NovaDefaultFloatingPool parameter

nova::api::default_floating_pool parameter was removed from
puppet-nova back in 2018 with
I2624b92871f4cba5a7361a5d006d985946493e83

It is now recommended to use
nova::network::neutron::default_floating_pool parameter to
define default floating IP pool.

Partial-Bug: #1916386
Change-Id: If419d53fc3a90cdd62271c00714fff79a3b4fd12
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/778563/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,a6c1aff5c5b1c8e855f9740b217f9545f7bb0116,bug/1916386, nova::network::neutron::default_floating_pool: {get_param: NovaDefaultFloatingPool}, nova::api::default_floating_pool: {get_param: NovaDefaultFloatingPool},1,1
openstack%2Fpuppet-nova~master~Iad6de5a4ad75d206f407d3150876779da9993a88,openstack/puppet-nova,master,Iad6de5a4ad75d206f407d3150876779da9993a88,Use $::os_service_defualt instead of redefining the same default,MERGED,2021-01-18 11:49:36.000000000,2021-03-09 08:42:21.000000000,2021-03-09 08:42:21.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 11:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/42e3d368f4883a4c27eaa4fbb8255e297434df95', 'message': 'Use $::os_service_defualt instead of redefining the same default\n\nThis change removes the redundant re-definitions of default values\nabout some parameters in scheduler, so that we can ensure the default\nvalues defined in nova itself is always used.\n\nChange-Id: Iad6de5a4ad75d206f407d3150876779da9993a88\n'}, {'number': 2, 'created': '2021-02-19 13:48:43.000000000', 'files': ['manifests/scheduler/filter.pp', 'spec/classes/nova_scheduler_filter_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6069dc1656bc96557f4062708c9cb361cfff3b16', 'message': 'Use $::os_service_defualt instead of redefining the same default\n\nThis change removes the redundant re-definitions of default values\nabout some parameters in scheduler, so that we can ensure the default\nvalues defined in nova itself is always used.\n\nChange-Id: Iad6de5a4ad75d206f407d3150876779da9993a88\n'}]",0,771186,6069dc1656bc96557f4062708c9cb361cfff3b16,27,3,2,9816,,,0,"Use $::os_service_defualt instead of redefining the same default

This change removes the redundant re-definitions of default values
about some parameters in scheduler, so that we can ensure the default
values defined in nova itself is always used.

Change-Id: Iad6de5a4ad75d206f407d3150876779da9993a88
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/86/771186/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'spec/classes/nova_scheduler_filter_spec.rb']",2,42e3d368f4883a4c27eaa4fbb8255e297434df95,service_default, it { is_expected.to contain_nova_config('filter_scheduler/host_subset_size').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('filter_scheduler/max_io_ops_per_host').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_nova_config('filter_scheduler/max_instances_per_host').with_value('<SERVICE DEFAULT>') }, it { is_expected.to contain_nova_config('filter_scheduler/host_subset_size').with_value('1') } it { is_expected.to contain_nova_config('filter_scheduler/max_io_ops_per_host').with_value('8') } it { is_expected.to contain_nova_config('filter_scheduler/max_instances_per_host').with_value('50') },12,12
openstack%2Fneutron~master~I12b5e672b01f64fa118fe50d3add09ac2ae419c5,openstack/neutron,master,I12b5e672b01f64fa118fe50d3add09ac2ae419c5,"Revert ""DVR: Remove control plane arp updates for DVR""",MERGED,2021-03-01 02:39:08.000000000,2021-03-09 08:38:30.000000000,2021-03-09 08:36:07.000000000,"[{'_account_id': 935}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5948}, {'_account_id': 6737}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16011}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2021-03-01 02:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f560a9e42b7cfee106d3f199b3677bf08cf11c0', 'message': 'Revert ""DVR: Remove control plane arp updates for DVR""\n\nThis reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.\n\nReason for revert: bug/1916761\n\nChange-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5\n'}, {'number': 2, 'created': '2021-03-01 02:45:17.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6ddea1aa0c17fd16e746fe49696a675894f7209', 'message': 'Revert ""DVR: Remove control plane arp updates for DVR""\n\nThis reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.\n\nReason for revert: bug/1916761\n\nConflicts:\n   neutron/db/l3_dvr_db.py\n\nChange-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5\n'}]",0,777903,e6ddea1aa0c17fd16e746fe49696a675894f7209,45,19,2,9531,,,0,"Revert ""DVR: Remove control plane arp updates for DVR""

This reverts commit b3a42cddc5c8716091d2b403831fb406d9dfcc75.

Reason for revert: bug/1916761

Conflicts:
   neutron/db/l3_dvr_db.py

Change-Id: I12b5e672b01f64fa118fe50d3add09ac2ae419c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/777903/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",5,4f560a9e42b7cfee106d3f199b3677bf08cf11c0,bug/1916761," def test_allowed_addr_pairs_delayed_fip_and_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) HOST2 = 'host2' helpers.register_l3_agent( host=HOST2, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port,\ self.port(subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port2: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} vm_port2 = self.core_plugin.update_port( self.context, int_port2['port']['id'], {'port': {portbindings.HOST_ID: HOST2}}) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.core_plugin.update_port( self.context, vm_port2['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) self.assertEqual( 2, l3_notifier.routers_updated_on_host.call_count) updated_vm_port1 = self.core_plugin.get_port( self.context, vm_port['id']) updated_vm_port2 = self.core_plugin.get_port( self.context, vm_port2['id']) expected_allowed_address_pairs = updated_vm_port1.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) expected_allowed_address_pairs_2 = updated_vm_port2.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs_2, allowed_address_pairs) # Now the VRRP port is attached to the VM port. At this # point, the VRRP port should not have inherited the # port host bindings from the parent VM port. cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST1) self.assertNotEqual( cur_vrrp_port_db[portbindings.HOST_ID], HOST2) # Next we can try to associate the floatingip to the # VRRP port that is already attached to the VM port floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) post_update_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = post_update_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, HOST2), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls, any_order=True) self.assertFalse(l3_notifier.routers_updated.called) router_info = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) floatingips = router_info[0][constants.FLOATINGIP_KEY] self.assertTrue(floatingips[0][constants.DVR_SNAT_BOUND]) def test_allowed_address_pairs_update_arp_entry(self): HOST1 = 'host1' helpers.register_l3_agent( host=HOST1, agent_mode=constants.L3_AGENT_MODE_DVR) router = self._create_router(ha=False) private_net1 = self._make_network(self.fmt, 'net1', True) test_allocation_pools = [{'start': '10.1.0.2', 'end': '10.1.0.20'}] fixed_vrrp_ip = [{'ip_address': '10.1.0.201'}] kwargs = {'arg_list': (extnet_apidef.EXTERNAL,), extnet_apidef.EXTERNAL: True} ext_net = self._make_network(self.fmt, '', True, **kwargs) self._make_subnet( self.fmt, ext_net, '10.20.0.1', '10.20.0.0/24', ip_version=constants.IP_VERSION_4, enable_dhcp=True) self.l3_plugin.schedule_router(self.context, router['id'], candidates=[self.l3_agent]) # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router['id'], {'network_id': ext_net['network']['id']}) private_subnet1 = self._make_subnet( self.fmt, private_net1, '10.1.0.1', cidr='10.1.0.0/24', ip_version=constants.IP_VERSION_4, allocation_pools=test_allocation_pools, enable_dhcp=True) vrrp_port = self._make_port( self.fmt, private_net1['network']['id'], fixed_ips=fixed_vrrp_ip) allowed_address_pairs = [ {'ip_address': '10.1.0.201', 'mac_address': vrrp_port['port']['mac_address']}] with self.port( subnet=private_subnet1, device_owner=DEVICE_OWNER_COMPUTE) as int_port: self.l3_plugin.add_router_interface( self.context, router['id'], {'subnet_id': private_subnet1['subnet']['id']}) router_handle = ( self.l3_plugin.list_active_sync_routers_on_active_l3_agent( self.context, self.l3_agent['host'], [router['id']])) self.assertEqual(self.l3_agent['host'], router_handle[0]['gw_port_host']) with mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notifier: vm_port = self.core_plugin.update_port( self.context, int_port['port']['id'], {'port': {portbindings.HOST_ID: HOST1}}) vm_port_mac = vm_port['mac_address'] vm_port_fixed_ips = vm_port['fixed_ips'] vm_port_subnet_id = vm_port_fixed_ips[0]['subnet_id'] vm_arp_table = { 'ip_address': vm_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vm_port_subnet_id} self.assertEqual(1, l3_notifier.add_arp_entry.call_count) floating_ip = {'floating_network_id': ext_net['network']['id'], 'router_id': router['id'], 'port_id': vrrp_port['port']['id'], 'tenant_id': vrrp_port['port']['tenant_id']} floating_ip = self.l3_plugin.create_floatingip( self.context, {'floatingip': floating_ip}) vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) self.assertNotEqual(vrrp_port_db[portbindings.HOST_ID], HOST1) # Now update the VM port with the allowed_address_pair self.core_plugin.update_port( self.context, vm_port['id'], {'port': { 'allowed_address_pairs': allowed_address_pairs}}) updated_vm_port = self.core_plugin.get_port( self.context, vm_port['id']) expected_allowed_address_pairs = updated_vm_port.get( 'allowed_address_pairs') self.assertEqual(expected_allowed_address_pairs, allowed_address_pairs) cur_vrrp_port_db = self.core_plugin.get_port( self.context, vrrp_port['port']['id']) vrrp_port_fixed_ips = cur_vrrp_port_db['fixed_ips'] vrrp_port_subnet_id = vrrp_port_fixed_ips[0]['subnet_id'] vrrp_arp_table1 = { 'ip_address': vrrp_port_fixed_ips[0]['ip_address'], 'mac_address': vm_port_mac, 'subnet_id': vrrp_port_subnet_id} expected_calls = [ mock.call(self.context, router['id'], vm_arp_table), mock.call(self.context, router['id'], vrrp_arp_table1)] l3_notifier.add_arp_entry.assert_has_calls( expected_calls) expected_routers_updated_calls = [ mock.call(self.context, mock.ANY, HOST1), mock.call(self.context, mock.ANY, 'host0')] l3_notifier.routers_updated_on_host.assert_has_calls( expected_routers_updated_calls) self.assertFalse(l3_notifier.routers_updated.called) ",,500,0
openstack%2Fcharm-octavia~master~I4a769f3f0a01535b070cfec04a1b199821c500f5,openstack/charm-octavia,master,I4a769f3f0a01535b070cfec04a1b199821c500f5,Go into blocked state if using OVN but no certs,MERGED,2021-03-08 15:03:56.000000000,2021-03-09 08:37:20.000000000,2021-03-09 08:37:20.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 15:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e357d1ef5c9f021714191566583d32601ddc5976', 'message': 'Go into blocked state if using OVN but no certs\n\nMake the charm go into a blocked state if it has aan ovsdb-cms\nrelation but not certificates relation.\n\nChange-Id: I4a769f3f0a01535b070cfec04a1b199821c500f5\nPartial-Bug: #1885936\n'}, {'number': 2, 'created': '2021-03-08 15:20:29.000000000', 'files': ['src/lib/charm/openstack/octavia.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bc0f83fee6af481324f2f9c7e8f01a5c3bde991c', 'message': 'Go into blocked state if using OVN but no certs\n\nMake the charm go into a blocked state if it has aan ovsdb-cms\nrelation but not certificates relation.\n\nChange-Id: I4a769f3f0a01535b070cfec04a1b199821c500f5\nPartial-Bug: #1885936\n'}]",0,779281,bc0f83fee6af481324f2f9c7e8f01a5c3bde991c,12,3,2,12549,,,0,"Go into blocked state if using OVN but no certs

Make the charm go into a blocked state if it has aan ovsdb-cms
relation but not certificates relation.

Change-Id: I4a769f3f0a01535b070cfec04a1b199821c500f5
Partial-Bug: #1885936
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/81/779281/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/octavia.py'],1,e357d1ef5c9f021714191566583d32601ddc5976,bug/1885936," def custom_assess_status_check(self): """"""Check required configuration options are set"""""" ovsdb = reactive.endpoint_from_flag('ovsdb-subordinate.available') if ovsdb and not reactive.is_flag_set('certificates.available'): return ""blocked"", ""Certificates missing"" return None, None ",,7,0
openstack%2Freleases~master~I87589c818e4189bdb03d59936412e5bf45b13fef,openstack/releases,master,I87589c818e4189bdb03d59936412e5bf45b13fef,Tag tripleo-ipsec rocky-eol,MERGED,2021-03-08 11:11:40.000000000,2021-03-09 08:04:06.000000000,2021-03-09 08:04:06.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:11:40.000000000', 'files': ['deliverables/rocky/tripleo-ipsec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/15d00394778c54994cff4446ce3c65d8a7beece2', 'message': 'Tag tripleo-ipsec rocky-eol\n\nDue to a processing error, this tag was missed from:\nhttps://review.opendev.org/c/openstack/releases/+/774244\n\nChange-Id: I87589c818e4189bdb03d59936412e5bf45b13fef\n'}]",1,779218,15d00394778c54994cff4446ce3c65d8a7beece2,10,5,1,308,,,0,"Tag tripleo-ipsec rocky-eol

Due to a processing error, this tag was missed from:
https://review.opendev.org/c/openstack/releases/+/774244

Change-Id: I87589c818e4189bdb03d59936412e5bf45b13fef
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/779218/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/tripleo-ipsec.yaml'],1,15d00394778c54994cff4446ce3c65d8a7beece2,fix-rocky-tripleo-ipsec, - version: rocky-eol projects: - repo: openstack/tripleo-ipsec hash: ec8aec1d42b9085ed9152ff767eb6744095d9e16,,4,0
openstack%2Freleases~master~I3596ad49c34caf8a468da3a6d4c97cc14b1cac86,openstack/releases,master,I3596ad49c34caf8a468da3a6d4c97cc14b1cac86,Sync rocky tripleo-ipsec with current tag state,MERGED,2021-03-08 11:11:40.000000000,2021-03-09 08:03:39.000000000,2021-03-09 08:03:39.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:11:40.000000000', 'files': ['deliverables/rocky/tripleo-ipsec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/17645baa6832eb5e19d6351b70c27c309eb013ad', 'message': ""Sync rocky tripleo-ipsec with current tag state\n\nDue to various failures currently tripleo-ipsec has no rocky-em\nnot rocky-eol tags. Let's sync the deliverable file with the\ncurrent state, before applying changes again.\n\nChange-Id: I3596ad49c34caf8a468da3a6d4c97cc14b1cac86\n""}]",0,779217,17645baa6832eb5e19d6351b70c27c309eb013ad,10,5,1,308,,,0,"Sync rocky tripleo-ipsec with current tag state

Due to various failures currently tripleo-ipsec has no rocky-em
not rocky-eol tags. Let's sync the deliverable file with the
current state, before applying changes again.

Change-Id: I3596ad49c34caf8a468da3a6d4c97cc14b1cac86
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/779217/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/tripleo-ipsec.yaml'],1,17645baa6832eb5e19d6351b70c27c309eb013ad,fix-rocky-tripleo-ipsec,, - version: rocky-eol projects: - repo: openstack/tripleo-ipsec hash: ec8aec1d42b9085ed9152ff767eb6744095d9e16,0,4
openstack%2Freleases~master~Id23734d7078c61e4278ee930e67efa86fb6a0a77,openstack/releases,master,Id23734d7078c61e4278ee930e67efa86fb6a0a77,Fix final release of ironic-lib,MERGED,2021-03-05 14:17:04.000000000,2021-03-09 08:01:27.000000000,2021-03-09 08:01:27.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-05 14:17:04.000000000', 'files': ['deliverables/wallaby/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ecfecaa53d151db94f01e089b936151eba8f7d6b', 'message': 'Fix final release of ironic-lib\n\n4.6.0 contains a bug parsing blkid output with iSCSI devices,\nthis was fixed and in [1], we will release ironic-lib for\nwallaby with 4.6.1\n\n[1] https://review.opendev.org/c/openstack/ironic-lib/+/778714\n\nChange-Id: Id23734d7078c61e4278ee930e67efa86fb6a0a77\n'}]",0,778934,ecfecaa53d151db94f01e089b936151eba8f7d6b,11,7,1,15519,,,0,"Fix final release of ironic-lib

4.6.0 contains a bug parsing blkid output with iSCSI devices,
this was fixed and in [1], we will release ironic-lib for
wallaby with 4.6.1

[1] https://review.opendev.org/c/openstack/ironic-lib/+/778714

Change-Id: Id23734d7078c61e4278ee930e67efa86fb6a0a77
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/778934/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic-lib.yaml'],1,ecfecaa53d151db94f01e089b936151eba8f7d6b,ironic-lib-wallaby-fix, - version: 4.6.1 projects: - repo: openstack/ironic-lib hash: 41939c60d443add76e71e069557a486a9c37ddb4,,4,0
openstack%2Fhorizon~stable%2Fvictoria~I549624e40edcd792fab517f9522d8e45d895c940,openstack/horizon,stable/victoria,I549624e40edcd792fab517f9522d8e45d895c940,Imported Translations from Zanata,MERGED,2021-03-09 06:44:34.000000000,2021-03-09 07:19:48.000000000,2021-03-09 07:18:13.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-09 06:44:34.000000000', 'files': ['doc/source/locale/zh_CN/LC_MESSAGES/doc.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/23a21efb705d261a2c5ec71826c7d2b9b5317171', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I549624e40edcd792fab517f9522d8e45d895c940\n'}]",0,779431,23a21efb705d261a2c5ec71826c7d2b9b5317171,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I549624e40edcd792fab517f9522d8e45d895c940
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/779431/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/zh_CN/LC_MESSAGES/doc.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po']",4,23a21efb705d261a2c5ec71826c7d2b9b5317171,zanata/translations,"# TigerFang <tigerfun@126.com>, 2021. #zanata""POT-Creation-Date: 2021-02-24 08:35+0000\n""""PO-Revision-Date: 2021-03-08 08:52+0000\n"" ""Last-Translator: TigerFang <tigerfun@126.com>\n""msgid ""Cookies may be turned off. Make sure cookies are enabled and try again."" msgstr ""Cookies 可能已经关闭。请确认已经启用了cookies然后再试一次。"" ","""POT-Creation-Date: 2019-09-20 14:33+0000\n""""PO-Revision-Date: 2019-09-23 02:02+0000\n"" ""Last-Translator: Tony <tfu@redhat.com>\n""",179,13
openstack%2Fnova~master~I5972b44a7cd2c9756ad78374a4ae218fef0a126e,openstack/nova,master,I5972b44a7cd2c9756ad78374a4ae218fef0a126e,Make guest's cpu pinned more balanced on each numa node,ABANDONED,2020-10-25 04:49:51.000000000,2021-03-09 06:58:30.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 17843}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-10-25 04:49:51.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7f4dbeea69d144cf3babf3a815365cc3365e8cb', 'message': ""Make guest's cpu pinned more balanced on each numa node\n\nCode Source From: Self Code\nDescription:\n  When flavor set hw:numa_nodes=1, and hw:cpu_policy=dedicated unset,\ninstance's vcpus will allways pinned to host numa0\n  Now, we perfer choose a random numa instead of numa0.\n\nChange-Id: I5972b44a7cd2c9756ad78374a4ae218fef0a126e\nCloses-Bug: #1901371\n""}]",3,759581,e7f4dbeea69d144cf3babf3a815365cc3365e8cb,17,12,1,17843,,,0,"Make guest's cpu pinned more balanced on each numa node

Code Source From: Self Code
Description:
  When flavor set hw:numa_nodes=1, and hw:cpu_policy=dedicated unset,
instance's vcpus will allways pinned to host numa0
  Now, we perfer choose a random numa instead of numa0.

Change-Id: I5972b44a7cd2c9756ad78374a4ae218fef0a126e
Closes-Bug: #1901371
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/759581/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,e7f4dbeea69d144cf3babf3a815365cc3365e8cb,bug/1901371,import random random.shuffle(host_cells),,2,0
openstack%2Fdevstack~master~Ic341273af17270fde716e8702988bc2047d559ca,openstack/devstack,master,Ic341273af17270fde716e8702988bc2047d559ca,test_worlddump: fix file match,NEW,2021-03-09 02:04:46.000000000,2021-03-09 06:51:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-09 02:04:46.000000000', 'files': ['tests/test_worlddump.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1c9e3f9881ccc848bfc0237af8a21316527f9f05', 'message': 'test_worlddump: fix file match\n\nIn I96ae5f5290546ad25ca434c1106c01354d2d053c worlddump started dumping\n""worlddump-latest.txt"" which now breaks this test, as it glob matches\n*.txt in the output directory.  Match just the base file with 2*.txt\nwhich will work for the 979 years.\n\nChange-Id: Ic341273af17270fde716e8702988bc2047d559ca\n'}]",0,779415,1c9e3f9881ccc848bfc0237af8a21316527f9f05,4,1,1,7118,,,0,"test_worlddump: fix file match

In I96ae5f5290546ad25ca434c1106c01354d2d053c worlddump started dumping
""worlddump-latest.txt"" which now breaks this test, as it glob matches
*.txt in the output directory.  Match just the base file with 2*.txt
which will work for the 979 years.

Change-Id: Ic341273af17270fde716e8702988bc2047d559ca
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/779415/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_worlddump.sh'],1,1c9e3f9881ccc848bfc0237af8a21316527f9f05,iniset-equals, OUT_FILE=($OUT_DIR/worlddump-2*.txt) if [[ $(stat -c %s ${OUT_FILE}) -gt 0 ]]; then, OUT_FILE=($OUT_DIR/*.txt) if [[ $(stat -c %s $OUT_DIR/*.txt) -gt 0 ]]; then,2,2
openstack%2Foctavia~stable%2Fussuri~Iec1ec7df420e3746b47004c8c0374d2d8274f45b,openstack/octavia,stable/ussuri,Iec1ec7df420e3746b47004c8c0374d2d8274f45b,Followup Remove haproxy_check_script for UDP-only,MERGED,2020-10-14 08:35:59.000000000,2021-03-09 06:15:15.000000000,2021-03-09 06:12:37.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-14 08:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5580fd01ecba0f57f0dbb94f31ae1adf7fc547b7', 'message': 'Followup Remove haproxy_check_script for UDP-only\n\nThe original patch: Ib2a80afb9223da2c0af6f6add250ffaaa20a316f\n\nFirst attempt at fixing this issue assumed that the update function\nwould actually be called again after the initial LB creation, which it\nis not. We should ensure that this is called when we do any UDP listener\ncreation, so the file can be removed if necessary.\n\nChange-Id: Iec1ec7df420e3746b47004c8c0374d2d8274f45b\n(cherry picked from commit 7839ffd50d730c33d81be754ce6fd5747f546a74)\n'}, {'number': 2, 'created': '2020-12-02 00:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/39e5f715dfc4d96cf1dc5e3e5245f4f730566a19', 'message': 'Followup Remove haproxy_check_script for UDP-only\n\nThe original patch: Ib2a80afb9223da2c0af6f6add250ffaaa20a316f\n\nFirst attempt at fixing this issue assumed that the update function\nwould actually be called again after the initial LB creation, which it\nis not. We should ensure that this is called when we do any UDP listener\ncreation, so the file can be removed if necessary.\n\nChange-Id: Iec1ec7df420e3746b47004c8c0374d2d8274f45b\n(cherry picked from commit 7839ffd50d730c33d81be754ce6fd5747f546a74)\n'}, {'number': 3, 'created': '2021-03-03 16:49:27.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc63ff8f0b0bcaed09660acb9cfc69612c22330d', 'message': 'Followup Remove haproxy_check_script for UDP-only\n\nThe original patch: Ib2a80afb9223da2c0af6f6add250ffaaa20a316f\n\nFirst attempt at fixing this issue assumed that the update function\nwould actually be called again after the initial LB creation, which it\nis not. We should ensure that this is called when we do any UDP listener\ncreation, so the file can be removed if necessary.\n\nChange-Id: Iec1ec7df420e3746b47004c8c0374d2d8274f45b\n(cherry picked from commit 7839ffd50d730c33d81be754ce6fd5747f546a74)\n'}]",0,758034,cc63ff8f0b0bcaed09660acb9cfc69612c22330d,32,5,3,6469,,,0,"Followup Remove haproxy_check_script for UDP-only

The original patch: Ib2a80afb9223da2c0af6f6add250ffaaa20a316f

First attempt at fixing this issue assumed that the update function
would actually be called again after the initial LB creation, which it
is not. We should ensure that this is called when we do any UDP listener
creation, so the file can be removed if necessary.

Change-Id: Iec1ec7df420e3746b47004c8c0374d2d8274f45b
(cherry picked from commit 7839ffd50d730c33d81be754ce6fd5747f546a74)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/34/758034/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py']",2,5580fd01ecba0f57f0dbb94f31ae1adf7fc547b7,," 'get_udp_listeners') @mock.patch('octavia.amphorae.backends.agent.api_server.util.' 'get_loadbalancers') @mock.patch('octavia.amphorae.backends.agent.api_server.util.' mock_systemctl, mock_get_lbs, mock_get_udp_listeners): mock_get_lbs.return_value = [] mock_get_udp_listeners.return_value = [self.FAKE_ID] m_os_rm.assert_called_once_with(util.haproxy_check_script_path())", mock_systemctl):,10,1
openstack%2Frequirements~master~I8230e2e96d237487cf1057fc24af5f4d543706b6,openstack/requirements,master,I8230e2e96d237487cf1057fc24af5f4d543706b6,update constraint for python-magnumclient to new release 3.4.0,MERGED,2021-03-08 11:47:42.000000000,2021-03-09 04:06:54.000000000,2021-03-09 04:05:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:47:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b8977c5e56ef96b847862a2cde86dc3418c8ab58', 'message': 'update constraint for python-magnumclient to new release 3.4.0\n\nmeta: version: 3.4.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be\nmeta: release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I8230e2e96d237487cf1057fc24af5f4d543706b6\n'}]",0,779226,b8977c5e56ef96b847862a2cde86dc3418c8ab58,17,3,1,11131,,,0,"update constraint for python-magnumclient to new release 3.4.0

meta: version: 3.4.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ibff157e8eeb04c50aaeb1a04b9c45c8fa23040be
meta: release:Code-Review+1: Spyros Trigazis <strigazi@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I8230e2e96d237487cf1057fc24af5f4d543706b6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/779226/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b8977c5e56ef96b847862a2cde86dc3418c8ab58,new-release,python-magnumclient===3.4.0,python-magnumclient===3.3.0,1,1
openstack%2Ffreezer-api~master~I066488c47e1bb6502b27b8677988113f66b9b09b,openstack/freezer-api,master,I066488c47e1bb6502b27b8677988113f66b9b09b,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-13 01:45:53.000000000,2021-03-09 03:35:07.000000000,2021-03-09 03:33:58.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-13 01:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/fc1a4be4ebf34ae236ae5bf5df9afccd91849e9d', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 2, 'created': '2021-02-12 17:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/3f6cb96a2e820596d7726e9a4066fc68245d41cb', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 3, 'created': '2021-02-12 17:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/db0b96422149623ecf8a59be313c01eb3378c00a', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 4, 'created': '2021-02-17 01:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/6c204c16ae71d67dab57f31fc872312d72c46161', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 5, 'created': '2021-02-17 01:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/933c43d7fedeec288ee5f8f95b66d8693194e7a3', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 6, 'created': '2021-03-07 01:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/20d02e91f45d48154031ff78d141eb30eab7cca8', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}, {'number': 7, 'created': '2021-03-09 01:52:37.000000000', 'files': ['releasenotes/notes/deprecate-json-formatted-policy-file-d703706239831caa.yaml', 'etc/freezer/freezer-api.conf.sample', 'freezer_api/common/config.py', 'freezer_api/cmd/status.py', 'requirements.txt', 'freezer_api/tests/unit/cmd/test_status.py', 'lower-constraints.txt', 'freezer_api/policy.py', 'doc/README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/e02a4928176cb3816074d7f8a76d6024ce3acf56', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I066488c47e1bb6502b27b8677988113f66b9b09b\n""}]",1,766844,e02a4928176cb3816074d7f8a76d6024ce3acf56,24,3,7,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I066488c47e1bb6502b27b8677988113f66b9b09b
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/44/766844/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/freezer/freezer-api.conf.sample', 'releasenotes/notes/deprecate-json-formatted-policy-file-d703706239831caa.yaml', 'freezer_api/cmd/status.py', 'freezer_api/common/config.py', 'requirements.txt', 'freezer_api/tests/unit/cmd/test_status.py', 'freezer_api/tests/unit/common.py', 'lower-constraints.txt', 'doc/README.rst', 'freezer_api/policy.py', 'setup.cfg']",11,fc1a4be4ebf34ae236ae5bf5df9afccd91849e9d,policy-json-to-yaml,oslo.config.opts.defaults = freezer-api = freezer_api.common.config:set_lib_defaults,,58,47
openstack%2Fpuppet-octavia~master~Id8c389c136de34fd9d6d9fd762a3bf96f5d02267,openstack/puppet-octavia,master,Id8c389c136de34fd9d6d9fd762a3bf96f5d02267,Add support for the api_settings/pagination_max_limit,MERGED,2021-03-05 03:33:24.000000000,2021-03-09 03:28:46.000000000,2021-03-09 03:27:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 03:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/576e8aa3a86a9db9ca52cd09d569d6b6cc07ba18', 'message': 'Add support for the keystone_api_settings/pagination_max_limit\n\nThis patch implements a new parameter named pagination_max_limit into\noctaiva::api_settings::pagination_max_limit, so that operators can\nconfigure that parameter by puppet_octaiva.\n\nChange-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267\n'}, {'number': 2, 'created': '2021-03-05 03:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f950d201f42cb282debfd24a93737ac01918d5aa', 'message': 'Add support for the octavia_api_settings/pagination_max_limit\n\nThis patch implements a new parameter named pagination_max_limit into\noctaiva::api_settings::pagination_max_limit, so that operators can\nconfigure that parameter by puppet_octaiva.\n\nChange-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267\n'}, {'number': 3, 'created': '2021-03-05 04:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8f724c2ec3da92e6bae6ab26d023c81ba6c89d2a', 'message': 'Add support for the octavia_api/pagination_max_limit\n\nThis patch implements a new parameter named pagination_max_limit into\noctaiva::api::pagination_max_limit, so that operators can configure\nthat parameter by puppet-octaiva.\n\nChange-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267\n'}, {'number': 4, 'created': '2021-03-05 05:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7c4290e7ace387d260917ac6f1ab61797556b711', 'message': 'Add support for the api_settings/pagination_max_limit\n\nThis patch implements a new parameter named pagination_max_limit into\noctaiva::api, so that operators can configure that parameter by puppet-octaiva.\n\nChange-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267\n'}, {'number': 5, 'created': '2021-03-05 07:40:14.000000000', 'files': ['releasenotes/notes/octaiva-api-pagination_max_limit-d179a43fa2234930.yaml', 'manifests/api.pp', 'spec/classes/octavia_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1217a8fc35b78e37908dacc02a4e8dc42628ac89', 'message': 'Add support for the api_settings/pagination_max_limit\n\nThis patch implements a new parameter named pagination_max_limit into\noctaiva::api, so that operators can configure that parameter by puppet-octaiva.\n\nChange-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267\n'}]",3,778836,1217a8fc35b78e37908dacc02a4e8dc42628ac89,13,3,5,30075,,,0,"Add support for the api_settings/pagination_max_limit

This patch implements a new parameter named pagination_max_limit into
octaiva::api, so that operators can configure that parameter by puppet-octaiva.

Change-Id: Id8c389c136de34fd9d6d9fd762a3bf96f5d02267
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/36/778836/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/octaiva-api_settings-pagination_max_limit-d179a43fa2234930.yaml', 'spec/classes/octavia_api_spec.rb']",3,576e8aa3a86a9db9ca52cd09d569d6b6cc07ba18,octavia-pagination," :pagination_max_limit => '1000', is_expected.to contain_octavia_config('api_settings/pagination_max_limit').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('api_settings/pagination_max_limit').with_value( params[:pagination_max_limit] )",,14,0
openstack%2Fpuppet-octavia~master~Iae57938166d831f4b0b4a449d64181239fe912c7,openstack/puppet-octavia,master,Iae57938166d831f4b0b4a449d64181239fe912c7,Do not expect database/idle_timeout,MERGED,2021-03-05 06:27:34.000000000,2021-03-09 03:20:00.000000000,2021-03-09 03:20:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 06:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ca830dece31c9a64928ce68656ab24be238b03e0', 'message': 'Do not expect database/idle_timeout\n\nThis cleans up remaining usage of the idle_timeout parameter which was\nremoved[1] from unit test cases.\n\n[1] 3eb0e709473d53bc9a26c672c10486828d84d50f\n\nChange-Id: Iae57938166d831f4b0b4a449d64181239fe912c7\n'}, {'number': 2, 'created': '2021-03-05 06:28:18.000000000', 'files': ['spec/classes/octavia_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/be9157566e0025caf5cc51eb49aee24c8e623ce0', 'message': 'Do not expect database/idle_timeout\n\nThis cleans up remaining usage of the idle_timeout parameter which was\nremoved[1], to fix the failing unit test case asserting the parameter.\n\n[1] 3eb0e709473d53bc9a26c672c10486828d84d50f\n\nChange-Id: Iae57938166d831f4b0b4a449d64181239fe912c7\n'}]",0,778843,be9157566e0025caf5cc51eb49aee24c8e623ce0,8,3,2,9816,,,0,"Do not expect database/idle_timeout

This cleans up remaining usage of the idle_timeout parameter which was
removed[1], to fix the failing unit test case asserting the parameter.

[1] 3eb0e709473d53bc9a26c672c10486828d84d50f

Change-Id: Iae57938166d831f4b0b4a449d64181239fe912c7
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/43/778843/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/octavia_init_spec.rb'],1,ca830dece31c9a64928ce68656ab24be238b03e0,,," :idle_timeout => '<SERVICE DEFAULT>',",0,1
openstack%2Fpuppet-tripleo~master~Ibb9f9291c24b4f4541640639a9f7c6f39db292a0,openstack/puppet-tripleo,master,Ibb9f9291c24b4f4541640639a9f7c6f39db292a0,Remove unnecessary usage of hiera,MERGED,2021-02-23 14:02:57.000000000,2021-03-09 02:25:11.000000000,2021-03-09 02:25:11.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 14:02:57.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bcf9c9ee0f8d3ecc1ea7104116581e1c97942546', 'message': ""Remove unnecessary usage of hiera\n\nWe don't need to use the hiera function if the parameter is defined\nin the class itself.\n\nChange-Id: Ibb9f9291c24b4f4541640639a9f7c6f39db292a0\n""}]",0,777111,bcf9c9ee0f8d3ecc1ea7104116581e1c97942546,8,4,1,9816,,,0,"Remove unnecessary usage of hiera

We don't need to use the hiera function if the parameter is defined
in the class itself.

Change-Id: Ibb9f9291c24b4f4541640639a9f7c6f39db292a0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/11/777111/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/qdr.pp']",2,bcf9c9ee0f8d3ecc1ea7104116581e1c97942546,,"# Defaults to 5672# Defaults to 'info+' $qdr_listener_port = 5672, $qdr_log_enable = 'info+',","# Defaults to hiera('tripleo::profile::base::qdr::qdr_listener_port', 5672)# Defaults to hiera('tripleo::profile::base::qdr::qdr_log_enable', 'info+') $qdr_listener_port = hiera('tripleo::profile::base::qdr::qdr_listener_port', 5672), $qdr_log_enable = hiera('tripleo::profile::base::qdr::qdr_log_enable', 'info+'),",6,6
openstack%2Fopenstack-helm~master~I74a24887fcc552829903a121a2566c123bd1a6b8,openstack/openstack-helm,master,I74a24887fcc552829903a121a2566c123bd1a6b8,WIP:DNM - Testing glance,ABANDONED,2021-03-09 01:22:50.000000000,2021-03-09 02:24:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-09 01:22:50.000000000', 'files': ['tools/deployment/multinode/100-glance.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/217d97a04419175a34a1b499cb2036a81b301319', 'message': 'WIP:DNM - Testing glance\n\ntesting glance\n\nChange-Id: I74a24887fcc552829903a121a2566c123bd1a6b8\n'}]",0,779412,217d97a04419175a34a1b499cb2036a81b301319,4,1,1,30449,,,0,"WIP:DNM - Testing glance

testing glance

Change-Id: I74a24887fcc552829903a121a2566c123bd1a6b8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/779412/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/100-glance.sh'],1,217d97a04419175a34a1b499cb2036a81b301319,,": ${GLANCE_BACKEND:=""test""}",": ${GLANCE_BACKEND:=""pvc""}",1,1
openstack%2Fdevstack~stable%2Ftrain~I76d1efaa3a6c1fe9825e8457438f514114b2ecad,openstack/devstack,stable/train,I76d1efaa3a6c1fe9825e8457438f514114b2ecad,zuul: clean up some legacy jobs,MERGED,2020-10-08 09:01:06.000000000,2021-03-09 02:24:07.000000000,2021-03-09 02:20:40.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-08 09:01:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4bff24a204f9a976b3ac51ed5f64bf699246a2f7', 'message': 'zuul: clean up some legacy jobs\n\nReplace legacy-tempest-dsvm-lvm-multibackend with its native version,\ncinder-tempest-lvm-multibackend.\n\nRemove legacy-tempest-dsvm-neutron-dvr-multinode-full, which was defined\nas an experimental job in neutron and removed during the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\n\nChange-Id: I76d1efaa3a6c1fe9825e8457438f514114b2ecad\n(cherry picked from commit 0cbbefc0cb6f58b09a722d1230e7ae86113b2989)\n(cherry picked from commit c69caa4a8f3e95ba64f8df88eebb9a69777396fa)\n'}]",2,756666,4bff24a204f9a976b3ac51ed5f64bf699246a2f7,16,4,1,10459,,,0,"zuul: clean up some legacy jobs

Replace legacy-tempest-dsvm-lvm-multibackend with its native version,
cinder-tempest-lvm-multibackend.

Remove legacy-tempest-dsvm-neutron-dvr-multinode-full, which was defined
as an experimental job in neutron and removed during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Change-Id: I76d1efaa3a6c1fe9825e8457438f514114b2ecad
(cherry picked from commit 0cbbefc0cb6f58b09a722d1230e7ae86113b2989)
(cherry picked from commit c69caa4a8f3e95ba64f8df88eebb9a69777396fa)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/756666/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4bff24a204f9a976b3ac51ed5f64bf699246a2f7,, - cinder-tempest-lvm-multibackend:, - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - legacy-tempest-dsvm-lvm-multibackend:,1,5
openstack%2Frequirements~master~I5422306697c0b56bbcad897a348e3173a9363b5d,openstack/requirements,master,I5422306697c0b56bbcad897a348e3173a9363b5d,update constraint for python-blazarclient to new release 3.2.0,MERGED,2021-03-08 13:55:35.000000000,2021-03-09 02:22:50.000000000,2021-03-09 02:20:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 13:55:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/23de02c07e8fa7f9f66f06b72b39746398b63e13', 'message': 'update constraint for python-blazarclient to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I490a935c6220217da5791e6dd4566303e696d9cb\nmeta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I5422306697c0b56bbcad897a348e3173a9363b5d\n'}]",0,779264,23de02c07e8fa7f9f66f06b72b39746398b63e13,14,3,1,11131,,,0,"update constraint for python-blazarclient to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I490a935c6220217da5791e6dd4566303e696d9cb
meta: release:Code-Review+1: Pierre Riteau <pierre@stackhpc.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I5422306697c0b56bbcad897a348e3173a9363b5d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/779264/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,23de02c07e8fa7f9f66f06b72b39746398b63e13,new-release,python-blazarclient===3.2.0,python-blazarclient===3.1.1,1,1
openstack%2Fdiskimage-builder~master~I765ded15da07d6227d1e337960e54ad0e0d6ca39,openstack/diskimage-builder,master,I765ded15da07d6227d1e337960e54ad0e0d6ca39,Add efibootmgr utility for UEFI boot menu management,MERGED,2021-03-07 19:44:29.000000000,2021-03-09 02:12:30.000000000,2021-03-09 02:11:10.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-07 19:44:29.000000000', 'files': ['diskimage_builder/elements/bootloader/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/69bf654eba0b66d8f16d9c3d7497b0ef3890792b', 'message': 'Add efibootmgr utility for UEFI boot menu management\n\nAs of grub2 >= 2.02-95 calling grub2-install on an EFI partition will\nfail with: ""this utility cannot be used for EFI platforms because it\ndoes not support UEFI Secure Boot."" In the case of ironic deployments,\nironic-python-agent will call efibootmgr to set the local boot for\nsubsequent boots.\n\nThis change adds efibootmgr to the image as well so any other UEFI\nmenu changes can be made manually.\n\nChange-Id: I765ded15da07d6227d1e337960e54ad0e0d6ca39\n'}]",0,779106,69bf654eba0b66d8f16d9c3d7497b0ef3890792b,10,3,1,4571,,,0,"Add efibootmgr utility for UEFI boot menu management

As of grub2 >= 2.02-95 calling grub2-install on an EFI partition will
fail with: ""this utility cannot be used for EFI platforms because it
does not support UEFI Secure Boot."" In the case of ironic deployments,
ironic-python-agent will call efibootmgr to set the local boot for
subsequent boots.

This change adds efibootmgr to the image as well so any other UEFI
menu changes can be made manually.

Change-Id: I765ded15da07d6227d1e337960e54ad0e0d6ca39
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/06/779106/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/pkg-map'],1,69bf654eba0b66d8f16d9c3d7497b0ef3890792b,centos-release," ""grub-efi-amd64"": ""grub2-tools grub2-pc grub2-efi-x64 grub2-efi-x64-modules efibootmgr"", ""grub-efi-arm64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules efibootmgr"", ""grub-efi-aarch64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules efibootmgr"", ""grub-efi"": ""grub2-tools grub2-efi efibootmgr"", ""grub-efi-x86_64"": ""grub2-tools grub2-efi-x64 grub2-efi-x64-modules efibootmgr"", ""grub-efi-amd64"": ""grub-efi grub-pc-bin efibootmgr"", ""grub-efi-arm64"": ""grub-efi-arm64 efibootmgr"","," ""grub-efi-amd64"": ""grub2-tools grub2-pc grub2-efi-x64 grub2-efi-x64-modules"", ""grub-efi-arm64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules"", ""grub-efi-aarch64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules"", ""grub-efi"": ""grub2-tools grub2-efi"", ""grub-efi-x86_64"": ""grub2-tools grub2-efi-x64 grub2-efi-x64-modules"", ""grub-efi-amd64"": ""grub-efi grub-pc-bin"", ""grub-efi-arm64"": ""grub-efi-arm64"",",7,7
openstack%2Foctavia~stable%2Fvictoria~I1236d3c6231a657b2aa53b1e488a4d0fe3215070,openstack/octavia,stable/victoria,I1236d3c6231a657b2aa53b1e488a4d0fe3215070,Add validation for VIP network parameters in amphora driver,MERGED,2021-02-22 08:15:57.000000000,2021-03-09 02:07:23.000000000,2021-03-09 02:05:38.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/250302bf0359758ffe59c10259db04fa550d58ff', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n'}, {'number': 2, 'created': '2021-02-23 08:44:20.000000000', 'files': ['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2eff3b21c46de0da68339edd32bed213e7f106d8', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)\n'}]",2,776900,2eff3b21c46de0da68339edd32bed213e7f106d8,13,4,2,6469,,,0,"Add validation for VIP network parameters in amphora driver

Some network parameters can be validated in the API, it would avoid to
handle exceptions in the worker when plugging networking resources.
This commit validates that port_security_enabled is True on the VIP
network when using the amphora driver.

Story: 2008449
Task: 41422

Change-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070
(cherry picked from commit dda1d8665c1b90e3494b22bc0de1853a43b446a6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/776900/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",9,250302bf0359758ffe59c10259db04fa550d58ff,," vip_network = network_driver.get_network( vip_dictionary[lib_consts.VIP_NETWORK_ID]) if not vip_network.port_security_enabled: message = ""Port security must be enabled on the VIP network."" raise exceptions.DriverError(user_fault_string=message, operator_fault_string=message) ",,87,8
openstack%2Fdiskimage-builder~master~I0dc44c1f2b57516742f4c3e43cfc8874d6b90fa2,openstack/diskimage-builder,master,I0dc44c1f2b57516742f4c3e43cfc8874d6b90fa2,Use the same bootloader pkg-map for all redhat family,MERGED,2021-03-07 19:44:29.000000000,2021-03-09 02:01:31.000000000,2021-03-09 02:00:11.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-07 19:44:29.000000000', 'files': ['diskimage_builder/elements/bootloader/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f7ba7ba1de3bcf82440ba0784908cbd83e34054f', 'message': ""Use the same bootloader pkg-map for all redhat family\n\nThe only difference between the rhel and redhat entries is rhel has\nthe extra grub-efi-x86_64 mapping. All redhat family releases would\nbenefit from having this too, so this change removes the whole rhel\nentry and adds grub-efi-x86_64 to the redhat family.\n\nThe assumption is that anything which applies to rhel also applies to\ncentos-stream, and in this case doesn't harm centos or fedora either.\n\nChange-Id: I0dc44c1f2b57516742f4c3e43cfc8874d6b90fa2\n""}]",0,779105,f7ba7ba1de3bcf82440ba0784908cbd83e34054f,10,3,1,4571,,,0,"Use the same bootloader pkg-map for all redhat family

The only difference between the rhel and redhat entries is rhel has
the extra grub-efi-x86_64 mapping. All redhat family releases would
benefit from having this too, so this change removes the whole rhel
entry and adds grub-efi-x86_64 to the redhat family.

The assumption is that anything which applies to rhel also applies to
centos-stream, and in this case doesn't harm centos or fedora either.

Change-Id: I0dc44c1f2b57516742f4c3e43cfc8874d6b90fa2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/05/779105/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/pkg-map'],1,f7ba7ba1de3bcf82440ba0784908cbd83e34054f,centos-release," ""grub-efi-x86_64"": ""grub2-tools grub2-efi-x64 grub2-efi-x64-modules"","," ""release"": { ""rhel"": { ""8"": { ""extlinux"": ""syslinux-extlinux"", ""grub-pc"": ""grub2-tools grub2"", ""grub-efi-amd64"": ""grub2-tools grub2-pc grub2-efi-x64 grub2-efi-x64-modules"", ""grub-efi-arm64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules"", ""grub-efi-aarch64"": ""grub2-tools grub2-efi-aa64 grub2-efi-aa64-modules"", ""grub-efi"": ""grub2-tools grub2-efi"", ""grub-efi-x86_64"": ""grub2-tools grub2-efi-x64 grub2-efi-x64-modules"", ""grub-ppc64"": ""grub2-tools grub2"" } } },",1,14
openstack%2Foctavia~stable%2Fvictoria~I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,openstack/octavia,stable/victoria,I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b,Fix LB failover when IP addresses exhausted,MERGED,2021-03-05 16:44:59.000000000,2021-03-09 02:01:23.000000000,2021-03-09 01:58:54.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 16:44:59.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee932244a7a2cc6ab126099397a4b0988d63a075', 'message': 'Fix LB failover when IP addresses exhausted\n\nWhen a load balancer failover was performed on a load balancer where\nthe VIP address is on a subnet that has no IP addresses available,\nthe VIP address may be deactivated.\nThis patch corrects the failover flow to not deallocate the VIP\naddress on a failover revert flow due to the subnet being out of\nIP addresses.\n\nStory: 2008625\nTask: 41827\nChange-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b\n(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)\n'}]",0,778996,ee932244a7a2cc6ab126099397a4b0988d63a075,10,3,1,11628,,,0,"Fix LB failover when IP addresses exhausted

When a load balancer failover was performed on a load balancer where
the VIP address is on a subnet that has no IP addresses available,
the VIP address may be deactivated.
This patch corrects the failover flow to not deallocate the VIP
address on a failover revert flow due to the subnet being out of
IP addresses.

Story: 2008625
Task: 41827
Change-Id: I1fe342d2bdf1301dd89ab7dfaa8e6a23e69c252b
(cherry picked from commit e3ab49c60aa835cb4034568ea25f06472127388c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/778996/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/Fix-failover-ip-addresses-exhausted-69110b2fa4683e1a.yaml', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",7,ee932244a7a2cc6ab126099397a4b0988d63a075,," network_tasks.AllocateVIPforFailover( requires=constants.LOADBALANCER, provides=constants.VIP))"," network_tasks.AllocateVIP(requires=constants.LOADBALANCER, provides=constants.VIP))",74,4
openstack%2Foctavia~stable%2Fvictoria~If2841720009c2e402127e2e0080efdd56b68f6c9,openstack/octavia,stable/victoria,If2841720009c2e402127e2e0080efdd56b68f6c9,Configure rsyslog on Octavia service nodes in devstack,MERGED,2021-02-22 08:48:43.000000000,2021-03-09 02:00:24.000000000,2021-03-09 01:58:51.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-22 08:48:43.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e593f4d2645f74e780b6da288f2fc36f75dca8e', 'message': 'Configure rsyslog on Octavia service nodes in devstack\n\n{admin,tenant}_log_targets options are configured with\nMGMT_PORT_IP in devstack, which contains the IP address\nof the local management interface. In multinode setup,\nit means that the second node should run a rsyslog\nservice to receive logs from amphorae that have been\nspawned by its worker.\n\nChange-Id: If2841720009c2e402127e2e0080efdd56b68f6c9\n(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)\n'}]",0,776910,0e593f4d2645f74e780b6da288f2fc36f75dca8e,11,6,1,6469,,,0,"Configure rsyslog on Octavia service nodes in devstack

{admin,tenant}_log_targets options are configured with
MGMT_PORT_IP in devstack, which contains the IP address
of the local management interface. In multinode setup,
it means that the second node should run a rsyslog
service to receive logs from amphorae that have been
spawned by its worker.

Change-Id: If2841720009c2e402127e2e0080efdd56b68f6c9
(cherry picked from commit f45092a87673b54d578d8df058917e325d9b77b8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/776910/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0e593f4d2645f74e780b6da288f2fc36f75dca8e,, configure_rsyslog, configure_rsyslog,1,2
openstack%2Fpython-designateclient~master~If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b,openstack/python-designateclient,master,If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b,Fixed zone transfer accept list command,MERGED,2020-10-21 08:24:53.000000000,2021-03-09 01:54:28.000000000,2021-03-09 01:53:15.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 17031}, {'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-10-21 08:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/84fd45ce12ffb93ea2219738c41ff1de0f88be45', 'message': 'Fixed zone transfer accept list command\n\nChange-Id: If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b\n'}, {'number': 2, 'created': '2020-10-22 09:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/99ac720c4b1509bed6eadb0903c76c31df405005', 'message': 'Fixed zone transfer accept list command\n\nChange-Id: If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b\n'}, {'number': 3, 'created': '2020-10-23 10:07:33.000000000', 'files': ['designateclient/v2/cli/zones.py', 'designateclient/functionaltests/client.py', 'designateclient/functionaltests/v2/test_zone_transfer.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/196cb61870f838396d208ce7fe175e004d0d1006', 'message': 'Fixed zone transfer accept list command\n\nChange-Id: If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b\nCloses-Bug: 1901172\n'}]",4,758963,196cb61870f838396d208ce7fe175e004d0d1006,19,8,3,17031,,,0,"Fixed zone transfer accept list command

Change-Id: If7ba1fc9dd3f9d67a49ad3b8ae4c0e0f9733195b
Closes-Bug: 1901172
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/63/758963/2 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/v2/cli/zones.py', 'designateclient/functionaltests/client.py', 'designateclient/functionaltests/v2/test_zone_transfer.py']",3,84fd45ce12ffb93ea2219738c41ff1de0f88be45,bugfix/zone_transfer_accept_list," def test_list_zone_transfer_accept(self): self.useFixture(TransferRequestFixture(self.zone)) xfrs = self.clients.zone_transfer_accept_list() self.assertGreater(len(xfrs), 0) ",,10,1
openstack%2Fdiskimage-builder~master~I86ccc56e37b214a45ba620b731b51f58d73471f8,openstack/diskimage-builder,master,I86ccc56e37b214a45ba620b731b51f58d73471f8,Add aarch64 support for rhel,MERGED,2021-01-14 03:37:36.000000000,2021-03-09 01:53:56.000000000,2021-03-09 01:52:31.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 03:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/48de9de24a35cf52b7d1e5e05c3dff95a5f8a6f1', 'message': 'Add aarch64 support for rhel\n\nChange-Id: I86ccc56e37b214a45ba620b731b51f58d73471f8\n'}, {'number': 2, 'created': '2021-03-08 07:01:50.000000000', 'files': ['diskimage_builder/elements/rhel-common/pre-install.d/00-rhel-registration', 'releasenotes/notes/add-aarch64-support-for-rhel-c62a0e02b1ad9033.yaml', 'diskimage_builder/elements/rhel/root.d/10-rhel-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0c51b4941436817164b9449d2805667c4597429a', 'message': 'Add aarch64 support for rhel\n\nChange-Id: I86ccc56e37b214a45ba620b731b51f58d73471f8\n'}]",0,770703,0c51b4941436817164b9449d2805667c4597429a,18,3,2,22997,,,0,"Add aarch64 support for rhel

Change-Id: I86ccc56e37b214a45ba620b731b51f58d73471f8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/770703/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/rhel-common/pre-install.d/00-rhel-registration', 'releasenotes/notes/add-aarch64-support-for-rhel-c62a0e02b1ad9033.yaml', 'diskimage_builder/elements/rhel/root.d/10-rhel-cloud-image']",3,48de9de24a35cf52b7d1e5e05c3dff95a5f8a6f1,add-aarch64-support-rhel,"elif [[ ""$ARCH"" =~ (arm64|aarch64) ]]; then ARCH=""aarch64"" echo 'rhel root element only supports x86_64, aarch64 and ppc64le values for $ARCH'", echo 'rhel root element only supports x86_64 and ppc64le values for $ARCH',10,3
openstack%2Fglance~master~Ib80e9cfb58680f9e8ead5993dc206f4da882dd09,openstack/glance,master,Ib80e9cfb58680f9e8ead5993dc206f4da882dd09,Add housekeeping module and staging cleaner,MERGED,2021-02-22 21:23:24.000000000,2021-03-09 01:16:04.000000000,2021-03-09 01:14:08.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 21:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/165ebba32681f4a01540f457b2c2c30aa14f2297', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 2, 'created': '2021-02-22 21:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2357e9a4b55def2229f25afdb46634a788ba3d7b', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 3, 'created': '2021-02-22 22:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db2770439155572d29b65b1a3434539012dfb9a9', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 4, 'created': '2021-02-23 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c60222790448e7edde3f101d570c6b5af6065f53', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 5, 'created': '2021-02-23 16:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/40a555070858c0573ea38f5ed6275815f87db823', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 6, 'created': '2021-02-23 16:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/03aec1396f6974a3e2211b4a25565d2992dd3d9c', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 7, 'created': '2021-02-23 23:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18e6f93b2c3ae42067c260c59a5857dfda9a905e', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 8, 'created': '2021-02-24 03:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b0bd5ea02162903073ad6d75153cfc9eb74bba20', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 9, 'created': '2021-02-24 17:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/928597a3ae8caa20f8fd56fb54f9cde800d61496', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 10, 'created': '2021-03-02 19:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fb2f59c180c61bf4dd0eb745755a6234cafd0d72', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 11, 'created': '2021-03-03 01:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5b99ae1947655518edce2f8a059b54ee9d9ad433', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 12, 'created': '2021-03-03 16:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3934ab9dcc3e0049894e1086121558aa22384f9e', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 13, 'created': '2021-03-03 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b242f87bcebea26bc843564f3b5f25482bcbce01', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}, {'number': 14, 'created': '2021-03-03 22:43:28.000000000', 'files': ['glance/common/wsgi.py', 'glance/housekeeping.py', 'glance/tests/functional/test_wsgi.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/test_housekeeping.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/232177e68c547a815c31a2f30b6d1f95cdb3098d', 'message': 'Add housekeeping module and staging cleaner\n\nAs noted in previous discussions, glance should clean its staging\ndirectory on startup. This is important for scenarios where we\nstarted an import operation, but failed in the middle. If, when we\nrecover, the image has already been deleted from the database, then\nwe will never remove the (potentially very large) residue from disk\nin our staging directory.\n\nThis is currently a problem with web-download, but will also occur\nwith glance-direct once we have the non-shared distributed import\nfunctionality merged.\n\nCloses-Bug: #1913625\nChange-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09\n'}]",34,777012,232177e68c547a815c31a2f30b6d1f95cdb3098d,78,5,14,4393,,,0,"Add housekeeping module and staging cleaner

As noted in previous discussions, glance should clean its staging
directory on startup. This is important for scenarios where we
started an import operation, but failed in the middle. If, when we
recover, the image has already been deleted from the database, then
we will never remove the (potentially very large) residue from disk
in our staging directory.

This is currently a problem with web-download, but will also occur
with glance-direct once we have the non-shared distributed import
functionality merged.

Closes-Bug: #1913625
Change-Id: Ib80e9cfb58680f9e8ead5993dc206f4da882dd09
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/777012/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/housekeeping.py', 'glance/tests/functional/test_wsgi.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/test_housekeeping.py', 'glance/tests/unit/common/test_wsgi_app.py']",6,165ebba32681f4a01540f457b2c2c30aa14f2297,bug/1913625," @mock.patch('glance.async_._THREADPOOL_MODEL', new=None) @mock.patch('glance.common.config.load_paste_app') @mock.patch('glance.common.wsgi_app._get_config_files') @mock.patch('threading.Thread') @mock.patch('glance.housekeeping.StagingStoreCleaner') def test_runs_staging_cleanup(self, mock_cleaner, mock_Thread, mock_conf, mock_load): mock_conf.return_value = [] wsgi_app.init_app() mock_Thread.assert_called_once_with( target=mock_cleaner().clean_orphaned_staging_residue, daemon=True) mock_Thread.return_value.start.assert_called_once_with()",,373,1
openstack%2Ftempest~master~I25bf66fff0892a87face97660127e92479ef8100,openstack/tempest,master,I25bf66fff0892a87face97660127e92479ef8100,Make _get_server_port_id_and_ip4() non-private,MERGED,2021-02-23 10:51:49.000000000,2021-03-09 01:11:51.000000000,2021-03-09 01:10:17.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-02-23 10:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/27323245fb8c4ebcd21f3a6413af2501b488bbd4', 'message': 'Make _get_server_port_id_and_ip4() non-private\n\n_get_server_port_id_and_ip4() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I25bf66fff0892a87face97660127e92479ef8100\n'}, {'number': 2, 'created': '2021-03-03 07:08:28.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a446d703c865af3311b1213c85f45dc8e5c4ad04', 'message': 'Make _get_server_port_id_and_ip4() non-private\n\n_get_server_port_id_and_ip4() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I25bf66fff0892a87face97660127e92479ef8100\n'}]",0,777089,a446d703c865af3311b1213c85f45dc8e5c4ad04,18,6,2,30742,,,0,"Make _get_server_port_id_and_ip4() non-private

_get_server_port_id_and_ip4() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I25bf66fff0892a87face97660127e92479ef8100
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/777089/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py']",2,27323245fb8c4ebcd21f3a6413af2501b488bbd4,bp/tempest-scenario-manager-stable," port_id, _ = self.get_server_port_id_and_ip4(server)"," port_id, _ = self._get_server_port_id_and_ip4(server)",3,3
openstack%2Frpm-packaging~master~Iebde2f88308af9b71f99f7efca85e87d4b60267f,openstack/rpm-packaging,master,Iebde2f88308af9b71f99f7efca85e87d4b60267f,Wallaby updates oslo packages,MERGED,2021-03-02 09:46:22.000000000,2021-03-09 01:11:19.000000000,2021-03-09 01:11:19.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 09:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66b3cf181e58ff51339dcbfc445c367e4c9d0d91', 'message': 'Wallaby updates oslo packages\n\nChange-Id: Iebde2f88308af9b71f99f7efca85e87d4b60267f\n'}, {'number': 2, 'created': '2021-03-02 11:59:17.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/oslo.serialization/oslo.serialization.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30c237d5086351b7918ed2cefaaabb0da6231978', 'message': 'Wallaby updates oslo packages\n\nChange-Id: Iebde2f88308af9b71f99f7efca85e87d4b60267f\n'}]",0,778156,30c237d5086351b7918ed2cefaaabb0da6231978,13,5,2,6593,,,0,"Wallaby updates oslo packages

Change-Id: Iebde2f88308af9b71f99f7efca85e87d4b60267f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/56/778156/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/oslo.serialization/oslo.serialization.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2']",12,66b3cf181e58ff51339dcbfc445c367e4c9d0d91,,{% set upstream_version = upstream_version('3.6.2') %},{% set upstream_version = upstream_version('3.6.0') %},12,12
openstack%2Ftempest~master~I413ec47416d3d5133e5023360156615b8ce27b13,openstack/tempest,master,I413ec47416d3d5133e5023360156615b8ce27b13,Make _create_empty_security_group() non-private,MERGED,2021-03-04 13:32:53.000000000,2021-03-09 01:05:12.000000000,2021-03-09 01:03:20.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-04 13:32:53.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_security_groups_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/086020946fd94668793785c68325beb842978486', 'message': 'Make _create_empty_security_group() non-private\n\n_create_empty_security_group() is made public by this\ncommit as the tempest.scenario.manager interface is\nmeant to be consumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I413ec47416d3d5133e5023360156615b8ce27b13\n'}]",0,778697,086020946fd94668793785c68325beb842978486,7,7,1,30742,,,0,"Make _create_empty_security_group() non-private

_create_empty_security_group() is made public by this
commit as the tempest.scenario.manager interface is
meant to be consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I413ec47416d3d5133e5023360156615b8ce27b13
",git fetch https://review.opendev.org/openstack/tempest refs/changes/97/778697/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_security_groups_basic_ops.py']",2,086020946fd94668793785c68325beb842978486,bp/tempest-scenario-manager-stable, access_sg = self.create_empty_security_group( def_sg = self.create_empty_security_group( new_sg = self.create_empty_security_group(, access_sg = self._create_empty_security_group( def_sg = self._create_empty_security_group( new_sg = self._create_empty_security_group(,6,6
openstack%2Fpython-designateclient~master~I1a69e2ca206b9f3e0fb054f9776c2b754045fbda,openstack/python-designateclient,master,I1a69e2ca206b9f3e0fb054f9776c2b754045fbda,Update readme.rst,MERGED,2021-01-03 03:12:59.000000000,2021-03-09 00:53:22.000000000,2021-03-09 00:51:15.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 03:12:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/8492a9e38b3af61bf6dfd44f906e11bc2580b762', 'message': 'Update readme.rst\n\nChange-Id: I1a69e2ca206b9f3e0fb054f9776c2b754045fbda\n'}]",0,768937,8492a9e38b3af61bf6dfd44f906e11bc2580b762,8,3,1,27383,,,0,"Update readme.rst

Change-Id: I1a69e2ca206b9f3e0fb054f9776c2b754045fbda
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/37/768937/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8492a9e38b3af61bf6dfd44f906e11bc2580b762,update_readme,* `Blueprints`_ - feature specifications* `Release Notes`_.. _Blueprints: https://blueprints.launchpad.net/python-designateclient.. _Release Notes: https://docs.openstack.org/releasenotes/python-designateclient,,4,0
openstack%2Fpython-designateclient~master~I12f3ca2d9b72fb03c0469d34f4127d3892507ecd,openstack/python-designateclient,master,I12f3ca2d9b72fb03c0469d34f4127d3892507ecd,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 10:05:09.000000000,2021-03-09 00:51:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-24 10:05:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/4ac75f13039842a1018bf94af007a7f3670aed7a', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I12f3ca2d9b72fb03c0469d34f4127d3892507ecd\n'}]",0,768461,4ac75f13039842a1018bf94af007a7f3670aed7a,3,1,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I12f3ca2d9b72fb03c0469d34f4127d3892507ecd
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/61/768461/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4ac75f13039842a1018bf94af007a7f3670aed7a,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-designateclient~master~I13bfdeec12621ca5da61cc6ace494065d9baeda2,openstack/python-designateclient,master,I13bfdeec12621ca5da61cc6ace494065d9baeda2,Add Victoria release info,ABANDONED,2021-01-02 01:55:25.000000000,2021-03-09 00:49:06.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-02 01:55:25.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/30bff1cd6abffecdae9594fad660c3e714d2317b', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I13bfdeec12621ca5da61cc6ace494065d9baeda2\n'}]",0,768830,30bff1cd6abffecdae9594fad660c3e714d2317b,4,2,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I13bfdeec12621ca5da61cc6ace494065d9baeda2
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/30/768830/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,30bff1cd6abffecdae9594fad660c3e714d2317b,, victoria,,7,0
openstack%2Ftempest~master~I53e894edb6b44c25923f6075e5c6f6d4268a63f4,openstack/tempest,master,I53e894edb6b44c25923f6075e5c6f6d4268a63f4,Make _get_router() non-private,MERGED,2021-03-04 13:41:52.000000000,2021-03-09 00:48:27.000000000,2021-03-09 00:46:29.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-03-04 13:41:52.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_network_v6.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/73555df4dca1e13119f7c012e4596b3644381612', 'message': 'Make _get_router() non-private\n\n_get_router() is made public by this commit as\nthe tempest.scenario.manager interface is meant to be\nconsumed by tempest plugins.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I53e894edb6b44c25923f6075e5c6f6d4268a63f4\n'}]",0,778698,73555df4dca1e13119f7c012e4596b3644381612,10,7,1,30742,,,0,"Make _get_router() non-private

_get_router() is made public by this commit as
the tempest.scenario.manager interface is meant to be
consumed by tempest plugins.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I53e894edb6b44c25923f6075e5c6f6d4268a63f4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/778698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_network_v6.py']",2,73555df4dca1e13119f7c012e4596b3644381612,bp/tempest-scenario-manager-stable, router = self.get_router(), router = self._get_router(),4,4
openstack%2Frequirements~master~I404d599fd761bd970001aeff5760b95b3d96db76,openstack/requirements,master,I404d599fd761bd970001aeff5760b95b3d96db76,update constraint for python-vitrageclient to new release 4.3.0,MERGED,2021-03-08 11:58:17.000000000,2021-03-09 00:48:06.000000000,2021-03-09 00:46:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:58:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3fe66ea13a4db75a7ea516fed1b516da12232b8b', 'message': 'update constraint for python-vitrageclient to new release 4.3.0\n\nmeta: version: 4.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ia6be75df1986537815f2438a7fac4ee4e522d799\nmeta: release:Code-Review+1: Eyal <eyalb1@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I404d599fd761bd970001aeff5760b95b3d96db76\n'}]",0,779229,3fe66ea13a4db75a7ea516fed1b516da12232b8b,14,3,1,11131,,,0,"update constraint for python-vitrageclient to new release 4.3.0

meta: version: 4.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ia6be75df1986537815f2438a7fac4ee4e522d799
meta: release:Code-Review+1: Eyal <eyalb1@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I404d599fd761bd970001aeff5760b95b3d96db76
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/779229/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3fe66ea13a4db75a7ea516fed1b516da12232b8b,new-release,python-vitrageclient===4.3.0,python-vitrageclient===4.2.0,1,1
openstack%2Fdesignate-dashboard~master~I974f4778e269f6f107385c461e55554183f87603,openstack/designate-dashboard,master,I974f4778e269f6f107385c461e55554183f87603,update tox minversion to 3.1,ABANDONED,2018-11-10 07:26:24.000000000,2021-03-09 00:40:07.000000000,,"[{'_account_id': 841}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-11-10 07:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/9bbdf92932f559cf0733de2b5588884bdc53c5bf', 'message': 'update tox minversion to 2.0\n\nChange-Id: I974f4778e269f6f107385c461e55554183f87603\n'}, {'number': 2, 'created': '2019-10-18 11:27:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/d37cfe28a68ea28396973f91d5632f1db30717fe', 'message': ""update tox minversion to 3.1\n\nWith that version, we can use 'ignore_basepython_conflict' and set\n'basepython' globally, avoiding the need to do it in each environment\n\nChange-Id: I974f4778e269f6f107385c461e55554183f87603\n""}]",2,617084,d37cfe28a68ea28396973f91d5632f1db30717fe,9,4,2,27511,,,0,"update tox minversion to 3.1

With that version, we can use 'ignore_basepython_conflict' and set
'basepython' globally, avoiding the need to do it in each environment

Change-Id: I974f4778e269f6f107385c461e55554183f87603
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/84/617084/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9bbdf92932f559cf0733de2b5588884bdc53c5bf,1110_update_tox_minversion,minversion = 2.0,minversion = 1.6,1,1
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I30b448930f53aef108d9bdb544a6d02b18658b0d,openstack/python-tripleoclient,stable/victoria,I30b448930f53aef108d9bdb544a6d02b18658b0d,Add --disable-container-prepare flag,MERGED,2021-01-07 15:45:52.000000000,2021-03-09 00:33:44.000000000,2021-03-09 00:30:02.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 15:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa0ac640218cfcc86bbd6be38d3e0f54e40afc94', 'message': ""Add --disable-container-prepare flag\n\nUsers may want to skip the container prepare process to ensure they\ndon't update their containers. This change adds a\n--disable-container-prepare flag to the following actions which should\nskip the preparation actions.\n - overcloud deploy (and updates)\n - overcloud plan actions\n - undercloud deploy (and upgrades)\n - tripleo deploy (and standalone deploy)\n\nCloses-Bug: #1896757\nDepends-On: https://review.opendev.org/#/c/737522/\nChange-Id: I30b448930f53aef108d9bdb544a6d02b18658b0d\n(cherry picked from commit 0d84ac9234bf93ca4d1471d5860739bc31a6be80)\n""}, {'number': 2, 'created': '2021-02-23 17:35:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c21d24fbba4f549809ee948ba83057d786596a00', 'message': ""Add --disable-container-prepare flag\n\nUsers may want to skip the container prepare process to ensure they\ndon't update their containers. This change adds a\n--disable-container-prepare flag to the following actions which should\nskip the preparation actions.\n - overcloud deploy (and updates)\n - overcloud plan actions\n - undercloud deploy (and upgrades)\n - tripleo deploy (and standalone deploy)\n\nCloses-Bug: #1896757\nDepends-On: https://review.opendev.org/#/c/737522/\nChange-Id: I30b448930f53aef108d9bdb544a6d02b18658b0d\n(cherry picked from commit 0d84ac9234bf93ca4d1471d5860739bc31a6be80)\n""}]",0,769739,c21d24fbba4f549809ee948ba83057d786596a00,26,6,2,14985,,,0,"Add --disable-container-prepare flag

Users may want to skip the container prepare process to ensure they
don't update their containers. This change adds a
--disable-container-prepare flag to the following actions which should
skip the preparation actions.
 - overcloud deploy (and updates)
 - overcloud plan actions
 - undercloud deploy (and upgrades)
 - tripleo deploy (and standalone deploy)

Closes-Bug: #1896757
Depends-On: https://review.opendev.org/#/c/737522/
Change-Id: I30b448930f53aef108d9bdb544a6d02b18658b0d
(cherry picked from commit 0d84ac9234bf93ca4d1471d5860739bc31a6be80)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/769739/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py']",8,fa0ac640218cfcc86bbd6be38d3e0f54e40afc94,disable-image-prepare-stable/victoria," utils.playbook_verbosity(self=self), parsed_args.disable_container_prepare utils.playbook_verbosity(self=self), parsed_args.disable_container_prepare ""ssh_user_name"": parsed_args.overcloud_ssh_user parser.add_argument( '--disable-container-prepare', action='store_true', default=False, help=_('Disable the container preparation actions to prevent ' 'container tags from being updated and new containers ' 'from being fetched. If you skip this but do not have ' 'the container parameters configured, the deployment ' 'action may fail.') )"," verbosity_level=utils.playbook_verbosity(self=self) verbosity_level=utils.playbook_verbosity(self=self) ""ssh_user_name"": parsed_args.overcloud_ssh_user,",109,24
openstack%2Ftripleo-ci~master~Id4c6f1d781cb202c996850074c5e4fc3e29ed83a,openstack/tripleo-ci,master,Id4c6f1d781cb202c996850074c5e4fc3e29ed83a,Deprecate non content provider undercloud zuul template layout,MERGED,2021-03-04 13:45:27.000000000,2021-03-09 00:29:59.000000000,2021-03-09 00:29:59.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 13:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02967d3ac86d4977d790c812db013cfbf18f4be4', 'message': 'Deprecate non content provider undercloud zuul template layout\n\nThis deprecates the non-content provider tripleo-undercloud-jobs\ntemplate as part of a wider tripleo-ci optimisation\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id4c6f1d781cb202c996850074c5e4fc3e29ed83a\n'}, {'number': 2, 'created': '2021-03-08 15:15:02.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/deprecated-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b488e174efe4e3e16689d88d86a21dead5e3d398', 'message': 'Deprecate non content provider undercloud zuul template layout\n\nThis deprecates the non-content provider tripleo-undercloud-jobs\ntemplate as part of a wider tripleo-ci optimisation\n\n[1] https://review.opendev.org/q/topic:tripleo-ci-reduce\n\nChange-Id: Id4c6f1d781cb202c996850074c5e4fc3e29ed83a\n'}]",0,778700,b488e174efe4e3e16689d88d86a21dead5e3d398,16,5,2,8449,,,0,"Deprecate non content provider undercloud zuul template layout

This deprecates the non-content provider tripleo-undercloud-jobs
template as part of a wider tripleo-ci optimisation

[1] https://review.opendev.org/q/topic:tripleo-ci-reduce

Change-Id: Id4c6f1d781cb202c996850074c5e4fc3e29ed83a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/00/778700/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/deprecated-jobs.yaml']",2,02967d3ac86d4977d790c812db013cfbf18f4be4,tripleo-ci-reduce, # # Deprecated Undercloud templates # - project-template: name: tripleo-undercloud-jobs check: jobs: - tripleo-ci-centos-7-undercloud-oooq: irrelevant-files: &undercloud_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^roles/tripleo-repos/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^vars/sova-patterns.yml$ - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/multinode-jobs.yaml - tripleo-ci-centos-8-undercloud-containers: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-8-undercloud-upgrade-ussuri: irrelevant-files: *undercloud_ignored gate: queue: tripleo jobs: - tripleo-ci-centos-7-undercloud-oooq: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-8-undercloud-containers: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-7-containers-undercloud-minion: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-8-undercloud-upgrade-ussuri: irrelevant-files: *undercloud_ignored,,55,29
openstack%2Fdiskimage-builder~master~I84296d8816042e4cd4cb02f15746b86d600d13d6,openstack/diskimage-builder,master,I84296d8816042e4cd4cb02f15746b86d600d13d6,Don't use hardcode while override base image file,MERGED,2021-01-22 13:37:42.000000000,2021-03-09 00:05:30.000000000,2021-03-09 00:03:09.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-01-22 13:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4cf72acb915d48f9ada9342b604b56ff22e5ac07', 'message': ""Don't use hardcode while override base image file\n\nThe trvial fix allow override to work in air-gapped envirments where\nthe command 'curl -s https://cloud.centos.org/...' would fail.\n\nChange-Id: I84296d8816042e4cd4cb02f15746b86d600d13d6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2021-03-04 10:54:32.000000000', 'files': ['diskimage_builder/elements/centos/root.d/10-centos-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca83a4c3cbee19a98d8a7994c34c29a4d5cc0659', 'message': ""Don't use hardcode while override base image file\n\nThe trvial fix allow override to work in air-gapped envirments where\nthe command 'curl -s https://cloud.centos.org/...' would fail.\n\nChange-Id: I84296d8816042e4cd4cb02f15746b86d600d13d6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,771978,ca83a4c3cbee19a98d8a7994c34c29a4d5cc0659,20,6,2,14200,,,0,"Don't use hardcode while override base image file

The trvial fix allow override to work in air-gapped envirments where
the command 'curl -s https://cloud.centos.org/...' would fail.

Change-Id: I84296d8816042e4cd4cb02f15746b86d600d13d6
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/78/771978/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/root.d/10-centos-cloud-image'],1,4cf72acb915d48f9ada9342b604b56ff22e5ac07,centos-cloud-image," BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://cloud.centos.org/centos/${DIB_RELEASE}/${ARCH}/images/ | grep -o ""CentOS-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)}"," LATEST_IMAGE_FILE=$(curl -s https://cloud.centos.org/centos/${DIB_RELEASE}/${ARCH}/images/ | grep -o ""CentOS-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1) BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$LATEST_IMAGE_FILE}",1,2
openstack%2Fdiskimage-builder~master~I84357f9bffc104760fa673035f0d0bd095e9a892,openstack/diskimage-builder,master,I84357f9bffc104760fa673035f0d0bd095e9a892,Remove fedora-31 testing,MERGED,2021-02-18 17:16:58.000000000,2021-03-09 00:04:29.000000000,2021-03-08 23:59:15.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-18 17:16:58.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9ebda0146588a4c90dc22412cae57dd954fcf8c2', 'message': 'Remove fedora-31 testing\n\nFedora 32 and 33 are current. We can clean up this fedora 31 testing.\nA followup change will add fedora-33 jobs.\n\nChange-Id: I84357f9bffc104760fa673035f0d0bd095e9a892\n'}]",0,776503,9ebda0146588a4c90dc22412cae57dd954fcf8c2,11,4,1,4146,,,0,"Remove fedora-31 testing

Fedora 32 and 33 are current. We can clean up this fedora 31 testing.
A followup change will add fedora-33 jobs.

Change-Id: I84357f9bffc104760fa673035f0d0bd095e9a892
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/776503/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,9ebda0146588a4c90dc22412cae57dd954fcf8c2,cleanup-fedora-31-testing,, name: dib-nodepool-functional-openstack-fedora-31-src description: | Test building and booting a Fedora 31 image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: fedora-minimal release: '31' - job:,0,12
openstack%2Fdiskimage-builder~master~Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6,openstack/diskimage-builder,master,Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6,Fix hooks order for CentOS/Fedora when mirror used,MERGED,2021-01-25 14:46:24.000000000,2021-03-08 23:52:32.000000000,2021-03-08 23:51:12.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-01-25 14:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/effe1989e47f86d990ad4586bdddb13477536f65', 'message': 'Fix hooks order for CentOS/Fedora when mirror used\n\nThe python3/python3-pyyaml packages both are never installed and dnf\nitself never updated when $DIB_DISTRIBUTION_MIRROR set and used.\n\nThis change fix the order of the operations:\n 1. yum/dnf configure.\n 2. *.repo patching.\n 3. yum/dnf update/install execution.\n\nChange-Id: Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2021-02-04 22:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/04ff09dbdd90a191b07b7361dbbc71fd3cbcaf69', 'message': 'Fix hooks order for CentOS/Fedora when mirror used\n\nThe python3/python3-pyyaml packages both are never installed and dnf\nitself never updated when $DIB_DISTRIBUTION_MIRROR set and used.\n\nThis change fix the order of the operations:\n 1. yum/dnf configure.\n 2. *.repo patching.\n 3. yum/dnf update/install execution.\n\nChange-Id: Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2021-03-04 10:54:52.000000000', 'files': ['diskimage_builder/elements/centos/pre-install.d/00-02-set-centos-mirror', 'diskimage_builder/elements/fedora/pre-install.d/00-02-set-fedora-mirror', 'diskimage_builder/elements/yum/pre-install.d/00-01-yum-keepcache'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c4c21967d8c25a0ae868ee9f18cb5a8c9c8dbfb5', 'message': 'Fix hooks order for CentOS/Fedora when mirror used\n\nThe python3/python3-pyyaml packages both are never installed and dnf\nitself never updated when $DIB_DISTRIBUTION_MIRROR set and used.\n\nThis change fix the order of the operations:\n 1. yum/dnf configure.\n 2. *.repo patching.\n 3. yum/dnf update/install execution.\n\nChange-Id: Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,772350,c4c21967d8c25a0ae868ee9f18cb5a8c9c8dbfb5,23,6,3,14200,,,0,"Fix hooks order for CentOS/Fedora when mirror used

The python3/python3-pyyaml packages both are never installed and dnf
itself never updated when $DIB_DISTRIBUTION_MIRROR set and used.

This change fix the order of the operations:
 1. yum/dnf configure.
 2. *.repo patching.
 3. yum/dnf update/install execution.

Change-Id: Ifbbf1f0190fe8c8a77fb3be820e8056447e755f6
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/50/772350/3 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/centos/pre-install.d/00-02-set-centos-mirror', 'diskimage_builder/elements/fedora/pre-install.d/00-02-set-fedora-mirror', 'diskimage_builder/elements/yum/pre-install.d/00-01-yum-keepcache']",3,effe1989e47f86d990ad4586bdddb13477536f65,dib-distribution-mirror,,,0,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,stable/ussuri,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-03-02 19:16:02.000000000,2021-03-08 23:51:05.000000000,2021-03-08 23:49:12.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 19:16:02.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c8ba0298996e83720564ee51bbd5353f58a9a74', 'message': 'Add label argument for the container image build\n\nThis change adds a new argument for the container image build CLI,\nwhich allows operators to inject specific labels into a build that\nalso supports basic string replacement from user input. This\nfeature will allow maintainers and vendors to appropriately label\ntheir container images without running any post validation or\ninjection.\n\nChange-Id: Ia1337dcbeceed485eda14733221164529daf0856\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)\n'}]",0,778236,7c8ba0298996e83720564ee51bbd5353f58a9a74,16,5,1,7353,,,0,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/778236/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml']",2,7c8ba0298996e83720564ee51bbd5353f58a9a74,container-labels,"--- features: - The container image build command now has the ability to inject labels into various images being constructed. To add labels into a container, the argument `--label` can be specified multiple times. The value is always a key=value pair and each key must be unique. other: - The container image build label agument has the ability to do simple string replacements following the python standard. Available options for string replacement are `registry`, `namespace`, `prefix`, `image`, `tag`, and `name`. Example usage `--label component=""%(prefix)s-%(name)s-container""`. ",,44,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ia1337dcbeceed485eda14733221164529daf0856,openstack/python-tripleoclient,stable/train,Ia1337dcbeceed485eda14733221164529daf0856,Add label argument for the container image build,MERGED,2021-03-02 19:23:21.000000000,2021-03-08 23:50:29.000000000,2021-03-08 23:49:17.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 19:23:21.000000000', 'files': ['tripleoclient/v1/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd9b6b3ab92ca6fd3f66d4306e6baf994fc6e024', 'message': 'Add label argument for the container image build\n\nThis change adds a new argument for the container image build CLI,\nwhich allows operators to inject specific labels into a build that\nalso supports basic string replacement from user input. This\nfeature will allow maintainers and vendors to appropriately label\ntheir container images without running any post validation or\ninjection.\n\nChange-Id: Ia1337dcbeceed485eda14733221164529daf0856\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)\n'}]",0,778234,dd9b6b3ab92ca6fd3f66d4306e6baf994fc6e024,11,5,1,7353,,,0,"Add label argument for the container image build

This change adds a new argument for the container image build CLI,
which allows operators to inject specific labels into a build that
also supports basic string replacement from user input. This
feature will allow maintainers and vendors to appropriately label
their container images without running any post validation or
injection.

Change-Id: Ia1337dcbeceed485eda14733221164529daf0856
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 2c5927a5ad3c2066b4aebd8bc1cee9563454eaa7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/778234/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_container_image.py', 'releasenotes/notes/image-build-labels-97fda64f693cd8ba.yaml']",2,dd9b6b3ab92ca6fd3f66d4306e6baf994fc6e024,container-labels,"--- features: - The container image build command now has the ability to inject labels into various images being constructed. To add labels into a container, the argument `--label` can be specified multiple times. The value is always a key=value pair and each key must be unique. other: - The container image build label agument has the ability to do simple string replacements following the python standard. Available options for string replacement are `registry`, `namespace`, `prefix`, `image`, `tag`, and `name`. Example usage `--label component=""%(prefix)s-%(name)s-container""`. ",,44,0
openstack%2Fdiskimage-builder~master~Ie1dbb868450918567b2903cdeccda35af1904417,openstack/diskimage-builder,master,Ie1dbb868450918567b2903cdeccda35af1904417,Fix installation of proliant tools,MERGED,2021-03-03 18:00:28.000000000,2021-03-08 23:49:08.000000000,2021-03-08 23:47:32.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-03 18:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ea32c6a3fd7baaa1287fd83b5b8a0bdf01aa96fc', 'message': 'Fix installation of proliant tools\n\nUse the actual virtualenv to install proliant tools, and make sure the dependencies needed for sum firmware upgrade are included.\n\nChange-Id: Ie1dbb868450918567b2903cdeccda35af1904417\n'}, {'number': 2, 'created': '2021-03-03 18:08:29.000000000', 'files': ['diskimage_builder/elements/proliant-tools/install.d/65-proliant-tools-install', 'diskimage_builder/elements/proliant-tools/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5efb11de0d3bb6219f841d6bf05d9ad9395f4c5e', 'message': 'Fix installation of proliant tools\n\nUse the actual virtualenv to install proliant tools, and make sure the\ndependencies needed for sum firmware upgrade are included.\n\nChange-Id: Ie1dbb868450918567b2903cdeccda35af1904417\nCloses-Bug: #1916346\n'}]",0,778524,5efb11de0d3bb6219f841d6bf05d9ad9395f4c5e,12,3,2,33176,,,0,"Fix installation of proliant tools

Use the actual virtualenv to install proliant tools, and make sure the
dependencies needed for sum firmware upgrade are included.

Change-Id: Ie1dbb868450918567b2903cdeccda35af1904417
Closes-Bug: #1916346
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/24/778524/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/proliant-tools/install.d/65-proliant-tools-install', 'diskimage_builder/elements/proliant-tools/package-installs.yaml']",2,ea32c6a3fd7baaa1287fd83b5b8a0bdf01aa96fc,fix1916346,binutils: pciutils: tar:,,6,2
openstack%2Fproject-config~master~I064f1e4a8ba0bab5b759fb419fa9f9c52e122baa,openstack/project-config,master,I064f1e4a8ba0bab5b759fb419fa9f9c52e122baa,Add Cirros 0.5.2 to cache,MERGED,2021-03-08 08:49:24.000000000,2021-03-08 23:32:46.000000000,2021-03-08 22:54:32.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 08:49:24.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/388d2277047706b465d0fce5839f03d77e34fb45', 'message': 'Add Cirros 0.5.2 to cache\n\nRecently released [1] and including a fix [2] required by the\nIad1adbc23b31dd54a96299e7a8a4b622c15eed8d change introducing q35 testing\nin the nova-next job this image needs to cached before we update\ndevstack.\n\n[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2\n[2] https://github.com/cirros-dev/cirros/pull/65\n\nChange-Id: I064f1e4a8ba0bab5b759fb419fa9f9c52e122baa\n'}]",0,779178,388d2277047706b465d0fce5839f03d77e34fb45,8,3,1,10135,,,0,"Add Cirros 0.5.2 to cache

Recently released [1] and including a fix [2] required by the
Iad1adbc23b31dd54a96299e7a8a4b622c15eed8d change introducing q35 testing
in the nova-next job this image needs to cached before we update
devstack.

[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2
[2] https://github.com/cirros-dev/cirros/pull/65

Change-Id: I064f1e4a8ba0bab5b759fb419fa9f9c52e122baa
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/779178/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,388d2277047706b465d0fce5839f03d77e34fb45,,cirros-0.5.2-x86_64-disk.img file /opt/cache/files/cirros-0.5.2-x86_64-disk.img https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img cirros-0.5.2-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.5.2-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-uec.tar.gz cirros-0.5.2-aarch64-disk.img file /opt/cache/files/cirros-0.5.2-aarch64-disk.img https://download.cirros-cloud.net/0.5.2/cirros-0.5.2-aarch64-disk.img,,3,0
openstack%2Fdevstack~stable%2Ftrain~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,stable/train,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL for py27,MERGED,2021-03-08 04:51:15.000000000,2021-03-08 23:24:46.000000000,2021-03-08 23:23:39.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 30854}]","[{'number': 1, 'created': '2021-03-08 04:51:15.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fc7f929597816555490836d21c25a8adb725d2af', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n'}]",1,779130,fc7f929597816555490836d21c25a8adb725d2af,21,8,1,4393,,,0,"Fix get-pip URL for py27

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one
 will no longer work. Please use get-pip.py from the following URL
 instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/779130/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,fc7f929597816555490836d21c25a8adb725d2af,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}",1,1
openstack%2Fdevstack~stable%2Fpike~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,stable/pike,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL for py27,MERGED,2021-03-08 10:10:53.000000000,2021-03-08 23:23:43.000000000,2021-03-08 23:23:43.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 10:10:53.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ff788ad9c7479b30528430c91287dda69ec3b741', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nConflicts:\n    tools/install_pip.sh\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)\n(cherry picked from commit 63f37b56cab7f9110872ebf9c1b6facd00b9f842)\n'}]",0,779197,ff788ad9c7479b30528430c91287dda69ec3b741,11,4,1,17685,,,0,"Fix get-pip URL for py27

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one
 will no longer work. Please use get-pip.py from the following URL
 instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Conflicts:
    tools/install_pip.sh

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)
(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)
(cherry picked from commit 63f37b56cab7f9110872ebf9c1b6facd00b9f842)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/97/779197/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,ff788ad9c7479b30528430c91287dda69ec3b741,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}",1,1
openstack%2Fproject-config~master~I7ce2166a752856d426938715c026a1a54bac9380,openstack/project-config,master,I7ce2166a752856d426938715c026a1a54bac9380,"Add infrawatch/{collectd,qdr}-config to available repos",MERGED,2021-03-08 20:34:06.000000000,2021-03-08 23:18:32.000000000,2021-03-08 20:53:32.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 20:34:06.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e816e16bbb1404216dbe31ef59fb5d5b621232c', 'message': 'Add infrawatch/{collectd,qdr}-config to available repos\n\nThis should allow tripleo-ansible molecule tests to\ncomplete without cloning from github.\n\nChange-Id: I7ce2166a752856d426938715c026a1a54bac9380\n'}]",0,779361,1e816e16bbb1404216dbe31ef59fb5d5b621232c,7,2,1,13177,,,0,"Add infrawatch/{collectd,qdr}-config to available repos

This should allow tripleo-ansible molecule tests to
complete without cloning from github.

Change-Id: I7ce2166a752856d426938715c026a1a54bac9380
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/779361/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,1e816e16bbb1404216dbe31ef59fb5d5b621232c,add_infrawatch_ansible, - infrawatch/collectd-config-ansible-role - infrawatch/qdr-config-ansible-role,,2,0
openstack%2Fcinder-tempest-plugin~master~Ia010cd12244cbd964936f294ea97b6ae099d1159,openstack/cinder-tempest-plugin,master,Ia010cd12244cbd964936f294ea97b6ae099d1159,WIP: Additional volume protection tests,ABANDONED,2021-03-08 23:02:08.000000000,2021-03-08 23:17:47.000000000,,[],"[{'number': 1, 'created': '2021-03-08 23:02:08.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d6e2f0450e55850cc9ac0d464f42453aa15dd43b', 'message': ""WIP: Additional volume protection tests\n\nDefinitely need to iron out the encrypted volume type issues. I'm having\na problem actually cleaning anything up due to 400s from cinder. I\nsuspect my order-of-operations is wrong.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Ia010cd12244cbd964936f294ea97b6ae099d1159\n""}]",0,779383,d6e2f0450e55850cc9ac0d464f42453aa15dd43b,2,0,1,5046,,,0,"WIP: Additional volume protection tests

Definitely need to iron out the encrypted volume type issues. I'm having
a problem actually cleaning anything up due to 400s from cinder. I
suspect my order-of-operations is wrong.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/779382

Change-Id: Ia010cd12244cbd964936f294ea97b6ae099d1159
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/83/779383/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volumes.py'],1,d6e2f0450e55850cc9ac0d464f42453aa15dd43b,secure-rbac,"PUBLIC_VOLUME_ATTRIBUTES = ['id', 'status', 'size', 'availability_zone', 'created_at', 'updated_at', 'name', 'description', 'volume_type', 'snapshot_id', 'source_volid', 'metadata', 'links', 'user_id', 'bootable', 'encrypted', 'replication_status', 'consistencygroup_id', 'multiattach', 'attachments', 'os-vol-tenant-attr:tenant_id'] PRIVATE_VOLUME_ATTRIBUTES = ['migration_status', 'os-vol-host-attr:host', 'os-vol-mig-status-attr:migstat', 'os-vol-mig-status-attr:name_id'] cls.admin_types_client = admin_client.volume_types_client_latest cls.admin_encryption_types_client = ( admin_client.encryption_types_client_latest ) def volume(self, project_id=None, volume_type=None): if volume_type: volume['volume_type'] = volume_type def _create_encrypted_volume_type(self): # Create a generic volume type we can use in the next step to setup an # encrypted type pass def _cleanup_encrypted_volume_type(self, encrypted_volume_type_id): self.admin_encryption_types_client.delete_encryption_type( encrypted_volume_type_id) self.admin_encryption_types_client.wait_for_resource_deletion( encrypted_volume_type_id) def _cleanup_volume_type(self, volume_type_id): self.admin_types_client.delete_volume_type(volume_type_id) self.admin_types_client.wait_for_resource_deletion(volume_type_id) def test_show_volume_attributes(self): alt_project_id = self.os_project_alt_member.credentials.project_id **self.volume(project_id=alt_project_id))['volume'] self.do_request( 'update_volume', expected_status=200, volume_id=alt_project_volume['id'], description=data_utils.arbitrary_string()) project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.do_request( 'delete_volume', expected_status=202, volume_id=project_volume['id']) project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id alt_project_volume = project_client.volumes_v3_client.create_volume( **self.volume(project_id=alt_project_id))['volume'] waiters.wait_for_volume_resource_status( project_client.volumes_v3_client, alt_project_volume['id'], 'available') # FIXME(lbragstad): This should fail with an HTTP 404 Not Found once # cinder understands system-scope and enforces tenancy checks, even for # users with the admin role on a project. This only passes because the # persona user is a project-admin, which is the legacy way of denoting # system-admins and operators in OpenStack deployments. self.do_request( 'delete_volume', expected_status=202, volume_id=alt_project_volume['id']) project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.do_request( 'force_delete_volume', expected_status=202, volume_id=project_volume['id']) project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id alt_project_volume = project_client.volumes_v3_client.create_volume( **self.volume(project_id=alt_project_id))['volume'] waiters.wait_for_volume_resource_status( project_client.volumes_v3_client, alt_project_volume['id'], 'available') # FIXME(lbragstad): This should fail with an HTTP 404 Not Found once # cinder understands system-scope and enforces tenancy checks, even for # users with the admin role on a project. This only passes because the # persona user is a project-admin, which is the legacy way of denoting # system-admins and operators in OpenStack deployments. self.do_request( 'force_delete_volume', expected_status=202, volume_id=alt_project_volume['id']) def test_show_volume_attributes(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') resp = self.do_request( 'show_volume', expected_status=200, volume_id=project_volume['id']) # FIXME(lbragstad): When cinder is system-scope aware and refactors # admin-ness into the system user personas, these attributes should # disappear from the response since they expose deployment-level # information to project users. This only works today because this user # has the admin role on a project, which is the legacy way of denoting # who a system-admin/operator is. for attribute in PUBLIC_VOLUME_ATTRIBUTES + PRIVATE_VOLUME_ATTRIBUTES: self.assertIn(attribute, list(resp['volume'])) project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id alt_project_volume = project_client.volumes_v3_client.create_volume( **self.volume(project_id=alt_project_id))['volume'] self.addCleanup( self.admin_volume_client.delete_volume, alt_project_volume['id']) waiters.wait_for_volume_resource_status( project_client.volumes_v3_client, alt_project_volume['id'], 'available') # FIXME(lbragstad): When cinder is system-scope aware and refactors # admin-ness into the system user personas, these attributes should # disappear from the response since they expose deployment-level # information to project users. This only works today because this user # has the admin role on a project, which is the legacy way of denoting # who a system-admin/operator is. resp = self.do_request( 'show_volume', expected_status=200, volume_id=alt_project_volume['id']) for attribute in PUBLIC_VOLUME_ATTRIBUTES + PRIVATE_VOLUME_ATTRIBUTES: self.assertIn(attribute, list(resp['volume'])) volume_type = self.admin_types_client.create_volume_type( name=data_utils.rand_name('volume-type'))['volume_type'] encrypted = self.admin_encryption_types_client.create_encryption_type( volume_type['id'], key_size=128, provider='luks', control_location='front-end', cipher='aes-xts-plain64')['encryption'] project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) vol = self.volume(volume_type=encrypted['volume_type_id']) project_volume = project_member.volumes_v3_client.create_volume( **vol)['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') resp = self.do_request( 'show_volume_encryption', expected_status=200, volume_id=project_volume['id']) project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id alt_project_volume = project_client.volumes_v3_client.create_volume( **self.volume(project_id=alt_project_id))['volume'] waiters.wait_for_volume_resource_status( project_client.volumes_v3_client, alt_project_volume['id'], 'available') # FIXME(lbragstad): When cinder is system-scope aware and refactors # admin-ness into the system user personas, these attributes should # disappear from the response since they expose deployment-level # information to project users. This only works today because this user # has the admin role on a project, which is the legacy way of denoting # who a system-admin/operator is. resp = self.do_request( 'show_volume_encryption', expected_status=200, volume_id=alt_project_volume['id']) #self.addCleanup( # self.admin_types_client.delete_volume_type, # volume_type['id']) # self.addCleanup( # self.admin_encryption_types_client.delete_encryption_type, # encrypted['volume_type_id']) # self.addCleanup( # self._cleanup_volume_type, volume_type['id']) self.addCleanup( self._cleanup_encrypted_volume_type, encrypted['volume_type_id']) self.addCleanup( self.admin_volume_client.delete_volume, alt_project_volume['id']) self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.do_request( 'force_delete_volume', expected_status=exceptions.Forbidden, volume_id=project_volume['id']) project_client = self.os_project_alt_member alt_project_id = self.os_project_alt_member.credentials.project_id alt_project_volume = project_client.volumes_v3_client.create_volume( **self.volume(project_id=alt_project_id))['volume'] waiters.wait_for_volume_resource_status( project_client.volumes_v3_client, alt_project_volume['id'], 'available') # FIXME(lbragstad): This should fail with an HTTP 404 Not Found once # cinder understands system-scope and enforces tenancy checks, even for # users with the admin role on a project. This only passes because the # persona user is a project-admin, which is the legacy way of denoting # system-admins and operators in OpenStack deployments. self.do_request( 'force_delete_volume', expected_status=exceptions.NotFound, volume_id=alt_project_volume['id']) def test_show_volume_attributes(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') resp = self.do_request( 'show_volume', expected_status=200, volume_id=project_volume['id']) for attribute in PUBLIC_VOLUME_ATTRIBUTES: self.assertIn(attribute, list(resp['volume'])) for attribute in PRIVATE_VOLUME_ATTRIBUTES: self.assertNotIn(attribute, list(resp['volume']))"," def volume(self, project_id=None): def test_show_volume_host_attributes(self): pass @abc.abstractmethod def test_show_volume_with_tenant_attribute(self): pass @abc.abstractmethod def test_show_volume_migration_status(self): project_id = self.os_project_alt_member.credentials.project_id **self.volume(project_id=project_id))['volume'] self.do_request('update_volume', expected_status=200, volume_id=alt_project_volume['id'], description=data_utils.arbitrary_string()) pass pass def test_show_volume_host_attributes(self): pass def test_show_volume_with_tenant_attribute(self): pass def test_show_volume_migration_status(self): pass pass pass def test_show_volume_host_attributes(self): pass def test_show_volume_with_tenant_attribute(self): pass",221,31
openstack%2Fbarbican~stable%2Fussuri~Ic2b85246c37e856c38cb47613313b19e653118de,openstack/barbican,stable/ussuri,Ic2b85246c37e856c38cb47613313b19e653118de,Allow multiple token labels for PKCS#11 driver,MERGED,2021-03-08 20:29:30.000000000,2021-03-08 22:53:29.000000000,2021-03-08 22:52:19.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 20:29:30.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/cmd/barbican_manage.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/plugin/crypto/test_pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/7cf483e205736483b4999abfe4baf6f626fff862', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n(cherry picked from commit 1ca03610d7257c782b11d6bcf54074d66a79c545)\n(cherry picked from commit b41ceaa369e2bdd5b75d76c0a3368854293ed03a)\n'}]",0,779324,7cf483e205736483b4999abfe4baf6f626fff862,7,2,1,7973,,,0,"Allow multiple token labels for PKCS#11 driver

This patch changes the slot selection logic to look for more than one
token label in the list of slots, using the first token that is found.

This change is required to enable load balancing with devices that
use separate tokens for this feature.

This patch adds a new option in the [p11_crypto_plugin] section
""token_labels"", and deprecates the ""token_label"" option.

For backwards compatibility, the ""token_label"" option will still be used
if present.

Change-Id: Ic2b85246c37e856c38cb47613313b19e653118de
(cherry picked from commit 1ca03610d7257c782b11d6bcf54074d66a79c545)
(cherry picked from commit b41ceaa369e2bdd5b75d76c0a3368854293ed03a)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/24/779324/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/cmd/barbican_manage.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/plugin/crypto/test_pkcs11.py']",6,7cf483e205736483b4999abfe4baf6f626fff862,use-multiple-token-labels-stable/victoria-stable/ussuri," slot_id = self.pkcs11._get_slot_id('111111', None, 2) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 2) slot_id = self.pkcs11._get_slot_id('111111', ['badLabel'], 2) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 3) self.pkcs11._get_slot_id, None, ['myLabelbad'], 1) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 3) self.assertEqual(1, slot_id)"," slot_id = self.pkcs11._get_slot_id('111111', None, 1) slot_id = self.pkcs11._get_slot_id(None, 'myLabel', 1) slot_id = self.pkcs11._get_slot_id('111111', 'badLabel', 1) slot_id = self.pkcs11._get_slot_id(None, 'myLabel', 3) self.pkcs11._get_slot_id, None, 'badLabel', 1) self.assertRaises(ValueError, self.pkcs11._get_slot_id, None, 'myLabel', 1)",103,64
openstack%2Fdesignate~master~I80fe08238005a94161e2dbcc89e77c90cde0a715,openstack/designate,master,I80fe08238005a94161e2dbcc89e77c90cde0a715,Add NS1 backend,MERGED,2021-03-02 00:31:54.000000000,2021-03-08 22:49:19.000000000,2021-03-08 22:47:46.000000000,"[{'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-03-02 00:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e03bb9906bee279ac9b9340b412dd136821c2301', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend for Designate.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 2, 'created': '2021-03-02 02:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7ca0afbc25074a3d24f963a0cf3f9e05d615237f', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend for Designate.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 3, 'created': '2021-03-02 03:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/738bb90edf7609e864eeea02adf809eecd9ea93d', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 4, 'created': '2021-03-02 03:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a8141fb683a766db590db1998caf0025d1f35dca', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 5, 'created': '2021-03-02 04:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7b88a7cfe41ead73acd7c725607ec653c70b32ab', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 6, 'created': '2021-03-02 05:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d736dd1609421d422119e2c4a79e1932ad46cb76', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 7, 'created': '2021-03-02 07:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7caa77c713968449cb1def51a3f936ea87e84a97', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 8, 'created': '2021-03-02 07:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f1a4490c8fd1756df33781d40782f18f9a3f1919', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 9, 'created': '2021-03-02 16:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a0bdbde061ad7d0a8ec0829df6b1610733da29d5', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 10, 'created': '2021-03-05 16:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d2e9fcb70c2d501adc4c151d1845482154605a2d', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 11, 'created': '2021-03-05 22:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3423186f49029162121fdd54402476492d4d4e1b', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}, {'number': 12, 'created': '2021-03-08 18:55:27.000000000', 'files': ['devstack/designate_plugins/backend-ns1', 'designate/backend/impl_ns1.py', 'doc/source/admin/backends/ns1.rst', 'setup.cfg', 'doc/source/admin/support-matrix.ini', 'doc/source/admin/backends/sample_yaml_snippets/ns1.yaml', 'designate/tests/unit/backend/test_ns1.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5aac48f08b441cbde8c2078a9ace0551d3d19058', 'message': 'Add NS1 backend\n\nIntroduce an NS1 backend.\n\nSigned-off-by: Michael Hood <mhood@ns1.com>\nChange-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715\n'}]",18,778117,5aac48f08b441cbde8c2078a9ace0551d3d19058,37,4,12,33166,,,0,"Add NS1 backend

Introduce an NS1 backend.

Signed-off-by: Michael Hood <mhood@ns1.com>
Change-Id: I80fe08238005a94161e2dbcc89e77c90cde0a715
",git fetch https://review.opendev.org/openstack/designate refs/changes/17/778117/9 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/designate_plugins/backend-ns1', 'designate/backend/impl_ns1.py', 'setup.cfg', 'designate/tests/unit/backend/test_ns1.py']",4,e03bb9906bee279ac9b9340b412dd136821c2301,daitan_ns1,"# Copyright 2021 NS1 Inc. https://www.ns1.com # # Author: Dragan Blagojevic <dblagojevic@daitan.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock import requests_mock from designate import exceptions from designate import objects from designate.backend import impl_ns1 from designate.mdns import rpcapi as mdns_rpcapi import designate.tests from designate.tests import fixtures class NS1BackendTestCase(designate.tests.TestCase): def setUp(self): super(NS1BackendTestCase, self).setUp() self.stdlog = fixtures.StandardLogging() self.useFixture(self.stdlog) self.api_address = 'https://192.0.2.3/v1/zones/example.com' self.context = self.get_context() self.zone = objects.Zone( id='e2bed4dc-9d01-11e4-89d3-123b93f75cba', name='example.com.', email='example@example.com', ) self.target = { 'id': '4588652b-50e7-46b9-b688-a9bad40a873e', 'type': 'ns1', 'masters': [ {'host': '192.0.2.1', 'port': 53}, {'host': '192.0.2.2', 'port': 35}, ], 'options': [ {'key': 'api_endpoint', 'value': '192.0.2.3'}, {'key': 'api_token', 'value': 'test_key'}, ], } self.put_request_json = { 'zone': u'example.com', 'secondary': {'enabled':True, 'primary_ip':'192.0.2.1', 'primary_port':53 } } self.backend = impl_ns1.NS1Backend( objects.PoolTarget.from_dict(self.target) ) @requests_mock.mock() def test_create_zone_success(self, req_mock): req_mock.put(self.api_address) req_mock.get( self.api_address, status_code=404 ) self.backend.create_zone(self.context, self.zone) self.assertEqual( req_mock.last_request.json(), self.put_request_json ) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' ) @requests_mock.mock() def test_create_zone_already_exists(self, req_mock): req_mock.put(self.api_address) req_mock.get(self.api_address,status_code=200) req_mock.delete(self.api_address) self.backend.create_zone(self.context, self.zone) self.assertEqual( req_mock.last_request.json(), self.put_request_json ) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' ) @requests_mock.mock() def test_create_zone_fail(self, req_mock): req_mock.put( self.api_address, status_code=500, ) req_mock.get( self.api_address, status_code=404, ) self.assertRaisesRegexp( exceptions.Backend, '500 Server Error: None for url: ' '%s' % self.api_address, self.backend.create_zone, self.context, self.zone ) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' ) @requests_mock.mock() def test_delete_zone_success(self, req_mock): req_mock.delete(self.api_address,status_code=200) req_mock.get(self.api_address,status_code=200) self.backend.delete_zone(self.context, self.zone) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' ) @requests_mock.mock() def test_delete_zone_missing(self, req_mock): req_mock.delete(self.api_address,status_code=200) req_mock.get(self.api_address,status_code=404) self.backend.delete_zone(self.context, self.zone) self.assertIn( ""Trying to delete zone "" ""<Zone id:'e2bed4dc-9d01-11e4-89d3-123b93f75cba' type:'None' "" ""name:'example.com.' pool_id:'None' serial:'None' action:'None' "" ""status:'None'> "" ""but that zone is not "" ""present in the ns1 backend. Assuming success."", self.stdlog.logger.output ) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' ) @requests_mock.mock() def test_delete_zone_fail(self, req_mock): req_mock.delete(self.api_address,status_code=500) req_mock.get(self.api_address,status_code=200) self.assertRaisesRegexp( exceptions.Backend, '500 Server Error: None for url: ' '%s' % self.api_address, self.backend.delete_zone, self.context, self.zone ) self.assertEqual( req_mock.last_request.headers.get('X-NSONE-Key'), 'test_key' )",,400,0
openstack%2Felection~master~I82d761975cafe8689a0ac65f8d9d2aa7a06305a3,openstack/election,master,I82d761975cafe8689a0ac65f8d9d2aa7a06305a3,TC candidacy for mnaser,MERGED,2021-03-08 22:02:20.000000000,2021-03-08 22:42:33.000000000,2021-03-08 22:41:10.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 22:02:20.000000000', 'files': ['candidates/xena/TC/mnaser@vexxhost.com'], 'web_link': 'https://opendev.org/openstack/election/commit/94d928ab08c8126542f6423043d777b4e1d6ce95', 'message': 'TC candidacy for mnaser\n\nChange-Id: I82d761975cafe8689a0ac65f8d9d2aa7a06305a3\n'}]",0,779376,94d928ab08c8126542f6423043d777b4e1d6ce95,8,3,1,1004,,,0,"TC candidacy for mnaser

Change-Id: I82d761975cafe8689a0ac65f8d9d2aa7a06305a3
",git fetch https://review.opendev.org/openstack/election refs/changes/76/779376/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/TC/mnaser@vexxhost.com'],1,94d928ab08c8126542f6423043d777b4e1d6ce95,,"Hi everyone, I want to run again for the OpenStack technical committee for the upcoming cycle. Over the past few cycles, I believe that I've helped get the technical committee in a cycle to be able to drive more work at a better pace by helping push for the addition of weekly meetings instead of the monthly meetings. In that, I've been help chair the technical committee over the past few months as well and this is something that I would like to intend on continuning to do. I believe that my presence as an elected individual member in the newly formed Open Infrastructure Foundation puts me in a position to provide a continious feedback loop up to the board, as well as my personal efforts on the board to create for meetings that happen more often that involve the community. Finally, I've been very committed to the technical committee responsiblities, missing what I believe is probably one meeting and providing weekly updates to our community on patches merged, running meets and what not. Thank you for reading this. Regards, Mohammed",,24,0
openstack%2Fcharm-ceph-mon~master~I314b3658b57fdfaa77f4c1a0c1139e6b7dd4b1c4,openstack/charm-ceph-mon,master,I314b3658b57fdfaa77f4c1a0c1139e6b7dd4b1c4,Handle requests if they have errored,MERGED,2021-03-08 19:23:05.000000000,2021-03-08 22:40:26.000000000,2021-03-08 22:40:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 19:23:05.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4b23b9dc341cdc425d587592da9b6f9177627777', 'message': 'Handle requests if they have errored\n\nWhen checking if a request is a duplicate handle case where the\nrequest has errored and does not have an id.\n\nCloses-Bug: #1918143\nChange-Id: I314b3658b57fdfaa77f4c1a0c1139e6b7dd4b1c4\n'}]",0,779351,4b23b9dc341cdc425d587592da9b6f9177627777,8,3,1,12549,,,0,"Handle requests if they have errored

When checking if a request is a duplicate handle case where the
request has errored and does not have an id.

Closes-Bug: #1918143
Change-Id: I314b3658b57fdfaa77f4c1a0c1139e6b7dd4b1c4
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/51/779351/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,4b23b9dc341cdc425d587592da9b6f9177627777,bug/1918143," @patch.object(ceph_hooks, 'relation_ids') @patch.object(ceph_hooks, 'local_unit') @patch.object(ceph_hooks, 'relation_get') @patch.object(ceph_hooks.ceph, 'is_leader') @patch.object(ceph_hooks, 'process_requests') def test_multi_broker_req_handled_on_rel_errored(self, process_requests, is_leader, relation_get, local_unit, _relation_ids): is_leader.return_value = True relation_get.side_effect = [ { 'broker_req': {'request-id': '2'}}, { 'broker-rsp-glance-0': { 'exit-code': 1, 'stderr': 'Unexpected error'}}] local_unit.return_value = ""mon/0"" ceph_hooks.handle_broker_request(relid='rel1', unit='glance/0', recurse=False) process_requests.assert_called_once_with({'request-id': '2'}) ",,26,1
openstack%2Felection~master~I62aea5f0469726f9529697adc8735b5cdbc0f40a,openstack/election,master,I62aea5f0469726f9529697adc8735b5cdbc0f40a,Add Belmiro Moreira candidacy for Xena TC election,MERGED,2021-03-08 21:48:19.000000000,2021-03-08 22:32:38.000000000,2021-03-08 22:31:40.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 21:48:19.000000000', 'files': ['candidates/xena/TC/moreira.belmiro.email.lists@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/740a0351cfb8a3904139456e38d1b1e89b0959a9', 'message': 'Add Belmiro Moreira candidacy for Xena TC election\n\nChange-Id: I62aea5f0469726f9529697adc8735b5cdbc0f40a\n'}]",0,779372,740a0351cfb8a3904139456e38d1b1e89b0959a9,8,3,1,2033,,,0,"Add Belmiro Moreira candidacy for Xena TC election

Change-Id: I62aea5f0469726f9529697adc8735b5cdbc0f40a
",git fetch https://review.opendev.org/openstack/election refs/changes/72/779372/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/TC/moreira.belmiro.email.lists@gmail.com'],1,740a0351cfb8a3904139456e38d1b1e89b0959a9,tc_belmiro_moreira,"Dear all, I'd like to announce my candidacy for the OpenStack Technical Committee (TC). For all of you that don’t know me, I would like to briefly introduce myself. I work in the design/deployment/operation of the CERN OpenStack Cloud. I'm involved with OpenStack since 2011 when CERN started to investigate a Cloud Infrastructure solution. My particular interest has been on how to scale and operate large OpenStack deployments. I was an active member of the old Large Deployment Team (LDT), a group of operators that shared ideas on how to scale OpenStack. I had the privilege to learn from a talented group of Operators on how they manage/run their infrastructures. More recently a new group was created (Large Scale SIG) where I continue to have an active role. I'm very fortunate to have attended most of the OpenStack Summits since San Francisco (2012). I'm a regular speaker talking about my experience operating OpenStack at scale. Also, I serve regularly as a track chair, participated in a few OpenStack Days, Ops Meetups and write several blog posts about OpenStack operations. Previously, I also served as a member of the OpenStack User Committee (UC). During the last year, I’ve been serving on the OpenStack TC. It was a great experience but it also comes with a learning curve. I was able to contribute my operator/user experience in several important discussions. If elected, I will continue to focus on engaging the Operator/Users community with the different Development teams and continue to bring my experience as an operator/user to the OpenStack TC. It would be an honor to continue to be an advocate of this great community and promote its mission. Thank you for your consideration, Belmiro Moreira ",,38,0
openstack%2Felection~master~Ic92907ce679903a2f4d1844a212f5a80cd2d8846,openstack/election,master,Ic92907ce679903a2f4d1844a212f5a80cd2d8846,Adding Michael Johnson candidacy for Designate,MERGED,2021-03-08 21:57:38.000000000,2021-03-08 22:29:57.000000000,2021-03-08 22:28:39.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 21:57:38.000000000', 'files': ['candidates/xena/Designate/johnsomor@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/2321f0451ab6f4a14d240a27c540c20d9ad461e2', 'message': 'Adding Michael Johnson candidacy for Designate\n\nChange-Id: Ic92907ce679903a2f4d1844a212f5a80cd2d8846\n'}]",0,779374,2321f0451ab6f4a14d240a27c540c20d9ad461e2,8,3,1,11628,,,0,"Adding Michael Johnson candidacy for Designate

Change-Id: Ic92907ce679903a2f4d1844a212f5a80cd2d8846
",git fetch https://review.opendev.org/openstack/election refs/changes/74/779374/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Designate/johnsomor@gmail.com'],1,2321f0451ab6f4a14d240a27c540c20d9ad461e2,,"Hello OpenStack community, I would like to announce my candidacy for PTL of Designate for the Xena cycle. The Wallaby release cycle seems like it went by very quickly and I would like to continue to support the Designate team during the Xena release. Thank you for your support and your consideration for Xena, Michael Johnson (johnsom) ",,11,0
openstack%2Fpython-octaviaclient~master~I50b3d393ec44997eca5848a45049781b852e3501,openstack/python-octaviaclient,master,I50b3d393ec44997eca5848a45049781b852e3501,Remove Babel,MERGED,2020-09-14 01:45:54.000000000,2021-03-08 22:29:07.000000000,2021-03-08 22:27:07.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-14 01:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/7c24b24221af516461adc03423ad3cf0617ef8a4', 'message': 'Remove Babel\n\nThis is the default role and not needed anymore\n\nChange-Id: I50b3d393ec44997eca5848a45049781b852e3501\n'}, {'number': 2, 'created': '2021-03-08 22:01:20.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/e7922ac506541620b3b4f771cd312c81cf40f7f6', 'message': 'Remove Babel\n\nThis is the default role and not needed anymore\n\nChange-Id: I50b3d393ec44997eca5848a45049781b852e3501\n'}]",0,751627,e7922ac506541620b3b4f771cd312c81cf40f7f6,12,3,2,32291,,,0,"Remove Babel

This is the default role and not needed anymore

Change-Id: I50b3d393ec44997eca5848a45049781b852e3501
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/27/751627/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,7c24b24221af516461adc03423ad3cf0617ef8a4,,,[compile_catalog] directory = octaviaclient/locale domain = octaviaclient [update_catalog] domain = octaviaclient output_dir = octaviaclient/locale input_file = octaviaclient/locale/octaviaclient.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = octaviaclient/locale/octaviaclient.pot,0,15
openstack%2Freleases~master~Ifa7b2a9d91b538188257901dc3e8fc749edb5383,openstack/releases,master,Ifa7b2a9d91b538188257901dc3e8fc749edb5383,Trove Wallaby Highlights,MERGED,2021-03-07 19:53:16.000000000,2021-03-08 22:28:31.000000000,2021-03-08 22:28:31.000000000,"[{'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-07 19:53:16.000000000', 'files': ['deliverables/wallaby/trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8e126330647a660d6ab14ee7eccfad9512062588', 'message': 'Trove Wallaby Highlights\n\nChange-Id: Ifa7b2a9d91b538188257901dc3e8fc749edb5383\n'}]",0,779108,8e126330647a660d6ab14ee7eccfad9512062588,8,3,1,6732,,,0,"Trove Wallaby Highlights

Change-Id: Ifa7b2a9d91b538188257901dc3e8fc749edb5383
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/779108/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/trove.yaml'],1,8e126330647a660d6ab14ee7eccfad9512062588,wally-trove-highlights,"cycle-highlights: - Support image tags for the datastore version. When using image tags, Trove is able to get the image dynamically from Glance for creating instances. - Added custom container registry configuration for trove guest agent, it's now possible to use images in private registry rather than docker hub. - Added a new field ``operating_status`` for the instance to show the actual operational status of user's database. - In multi-region deployment with geo-replicated Swift, the user can restore a backup in one region by manually specifying the original backup data location created in another region.",,10,0
openstack%2Felection~master~I57563d2814a6d2a7221ef09a58eaa8681e5330a0,openstack/election,master,I57563d2814a6d2a7221ef09a58eaa8681e5330a0,Add XueFeng Liu candidacy for Senlin PTL in Wallaby,ABANDONED,2020-09-29 12:32:25.000000000,2021-03-08 22:22:37.000000000,,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2020-09-29 12:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/74edde94e35c327e074ea0746d41c1c174e975d7', 'message': 'Add XueFeng Liu candidacy for Senlin PTL in Wallaby\n\nChange-Id: I57563d2814a6d2a7221ef09a58eaa8681e5330a0\n'}, {'number': 2, 'created': '2020-09-29 15:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/d5a9ae6151cd606ef2db1220e515141659c9c321', 'message': 'Add XueFeng Liu candidacy for Senlin PTL in Wallaby\n\n\nChange-Id: I57563d2814a6d2a7221ef09a58eaa8681e5330a0\n'}, {'number': 3, 'created': '2020-09-29 15:49:02.000000000', 'files': ['candidates/wallaby/Senlin/liu.xuefeng1@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/b8bc525170b9c03c62c4c1e987e347657ac9634e', 'message': 'Add XueFeng Liu candidacy for Senlin PTL in Wallaby\n\n\nChange-Id: I57563d2814a6d2a7221ef09a58eaa8681e5330a0\n'}]",0,754986,b8bc525170b9c03c62c4c1e987e347657ac9634e,10,4,3,22998,,,0,"Add XueFeng Liu candidacy for Senlin PTL in Wallaby


Change-Id: I57563d2814a6d2a7221ef09a58eaa8681e5330a0
",git fetch https://review.opendev.org/openstack/election refs/changes/86/754986/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/wallaby/Senlin/liu.xuefeng1@zte.com.cn'],1,74edde94e35c327e074ea0746d41c1c174e975d7,,"Hi all, This is my candidacy to continue my work as the Senlin PTL for the Wallaby cycle. In past several cycles, we finished many features, testing and bug fixing works. For example: * Kubernetes: Added dependency relationship between the master cluster and the worker cluster created for Kubernetes. * Docker driver: Supported update name operation for docker profile. * Nova server: Added operation support to migrate a nova server node. * Health check improve: Added a new detection type that actively pools the node health using a URL specified in the health policy. * Split Senlin-Engine service into three services to make the engine more resilent. * OpenStack-wide Goals: Add Python3 victoria unit tests * Testing: API/Function/Integration test were moved to senlin-tempest-plugin. As a PTL in Victoria cycle, I'd like to continue to focus on the tasks as follows: * Continue to improve Senlin's cluster health manager. * Actively monitor incoming bug reports and assigned to fix them. * Acknowledgment of OpenStack-wide Goals. Thanks for taking the time to read through this Roadmap and to consider my candidacy. Best Regards, XueFeng ",,27,0
openstack%2Fnova~master~I1079e7457456c495465a8de9ca055bbf259a582d,openstack/nova,master,I1079e7457456c495465a8de9ca055bbf259a582d,libvirt: Add tests for insecure UEFI configuration,MERGED,2021-02-24 11:39:24.000000000,2021-03-08 22:21:05.000000000,2021-03-08 22:19:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 11:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/421f94c3a50926935236dbfe19ee62b955e2ba85', 'message': 'libvirt: Add tests for insecure UEFI configuration\n\nFollow-up to I342e95fef0a792299180a4d8076e6e7c4041ac9b\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I1079e7457456c495465a8de9ca055bbf259a582d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-03-05 16:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c34890697a57ce3318aa59da7107eb145144e1', 'message': 'libvirt: Add tests for insecure UEFI configuration\n\nFollow-up to I342e95fef0a792299180a4d8076e6e7c4041ac9b\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I1079e7457456c495465a8de9ca055bbf259a582d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-03-08 17:06:18.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/31889ce296d1e1a62fe5825292479009118ddfab', 'message': 'libvirt: Add tests for insecure UEFI configuration\n\nFollow-up to I342e95fef0a792299180a4d8076e6e7c4041ac9b\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: I1079e7457456c495465a8de9ca055bbf259a582d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,777367,31889ce296d1e1a62fe5825292479009118ddfab,29,5,3,15334,,,0,"libvirt: Add tests for insecure UEFI configuration

Follow-up to I342e95fef0a792299180a4d8076e6e7c4041ac9b

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: I1079e7457456c495465a8de9ca055bbf259a582d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/777367/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_config.py'],1,421f94c3a50926935236dbfe19ee62b955e2ba85,bp/allow-secure-boot-for-qemu-kvm-guests," def _test_config_uefi_autoconfigure(self, secure): obj.os_loader_secure = secure return obj.to_xml() def test_config_uefi_autoconfigure(self): xml = self._test_config_uefi_autoconfigure(secure=False) <loader secure=""no""/> </os> </domain>"""""", ) def test_config_uefi_autoconfigure_secure(self): xml = self._test_config_uefi_autoconfigure(secure=True) self.assertXmlEqual( xml, """""" <domain type=""kvm""> <uuid>f01cf68d-515c-4daf-b85f-ef1424d93bfc</uuid> <name>uefi</name> <memory>104857600</memory> <vcpu>1</vcpu> <os firmware=""efi""> <type machine=""pc-q35-5.1"">hvm</type> <loader secure=""yes""/>", def test_config_uefi_autoconfigure(self): obj.os_loader_secure = True xml = obj.to_xml() <loader secure='yes'/>,25,4
openstack%2Frequirements~stable%2Fvictoria~Ieb57b66bff7882105a34503e929334e672310408,openstack/requirements,stable/victoria,Ieb57b66bff7882105a34503e929334e672310408,update constraint for os-brick to new release 4.0.2,MERGED,2021-03-08 11:59:12.000000000,2021-03-08 22:18:33.000000000,2021-03-08 22:18:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:59:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c7c6c91339e8a13cd900bafc4df7aba907cb54c', 'message': 'update constraint for os-brick to new release 4.0.2\n\nmeta: version: 4.0.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ieb57b66bff7882105a34503e929334e672310408\n'}]",0,779230,4c7c6c91339e8a13cd900bafc4df7aba907cb54c,8,3,1,11131,,,0,"update constraint for os-brick to new release 4.0.2

meta: version: 4.0.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ieb57b66bff7882105a34503e929334e672310408
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/779230/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4c7c6c91339e8a13cd900bafc4df7aba907cb54c,new-release,os-brick===4.0.2,os-brick===4.0.1,1,1
openstack%2Ftripleo-common~master~I06e8e9766678af44a134bdaf420aed0bd151315e,openstack/tripleo-common,master,I06e8e9766678af44a134bdaf420aed0bd151315e,"Heat plugin ""ephemeral"" neutron port resource",ABANDONED,2021-03-04 22:43:27.000000000,2021-03-08 22:14:20.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-04 22:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3344fc7f298b35ed9dcf6fb7fe1125db8de51376', 'message': 'Heat plugin ""ephemeral"" neutron port resource\n\nA heat plug-in which subclasses the heat neutron Port\nresource, replacing the handle_create() method.\n\nThe plug-in makes \'tags\' property a required, and\nuses the network_id and tags to look for an existing\nport resource before creating a neutron API resource.\nIf an existing resource is found the handle_create()\nmethod in the plug-in instead updates the existing\nport if template properties are different.\n\nChange-Id: I06e8e9766678af44a134bdaf420aed0bd151315e\nPartial-Implements: blueprint network-data-v2-ports\nRelated: blueprint ephemeral-heat-overcloud\n'}, {'number': 2, 'created': '2021-03-05 00:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1e5cbe9f7c145f06416376aea9021374fe6f97d0', 'message': 'Heat plugin ""ephemeral"" neutron port resource\n\nA heat plug-in which subclasses and replaces the\nOS::Neutron::Port resource. The handle_create()\nmethod is replaced to allow heat ephemeral \'create\'\nonly mode.\n\nThe plug-in makes \'tags\' property a required, and\nuses the network_id and tags to look for an existing\nport resource before creating a neutron API resource.\nIf an existing resource is found the handle_create()\nmethod in the plug-in instead updates the existing\nport if template properties are different.\n\nDepends-On: https://review.opendev.org/778792\nChange-Id: I06e8e9766678af44a134bdaf420aed0bd151315e\nPartial-Implements: blueprint network-data-v2-ports\nRelated: blueprint ephemeral-heat-overcloud\n'}, {'number': 3, 'created': '2021-03-05 02:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/56b096672ff698347329444a80b912d02ae2abfb', 'message': 'Heat plugin ""ephemeral"" neutron port resource\n\nA heat plug-in which subclasses and replaces the\nOS::Neutron::Port resource. The handle_create()\nmethod is replaced to allow heat ephemeral \'create\'\nonly mode.\n\nThe plug-in makes \'tags\' property a required, and\nuses the network_id and tags to look for an existing\nport resource before creating a neutron API resource.\nIf an existing resource is found the handle_create()\nmethod in the plug-in instead updates the existing\nport if template properties are different.\n\nThis resorce also replaces the ImmutablePort resource,\nall properties with \'not update_allowed\' are set to\nimmutable.\n\nDepends-On: https://review.opendev.org/778792\nChange-Id: I06e8e9766678af44a134bdaf420aed0bd151315e\nPartial-Implements: blueprint network-data-v2-ports\nRelated: blueprint ephemeral-heat-overcloud\n'}, {'number': 4, 'created': '2021-03-05 03:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/994f49b9eaf7cfb10ef666f01c5330a765c88ad8', 'message': 'Heat plugin ""ephemeral"" neutron port resource\n\nA heat plug-in which subclasses and replaces the\nOS::Neutron::Port resource. The handle_create()\nmethod is replaced to allow heat ephemeral \'create\'\nonly mode.\n\nThe plug-in makes \'tags\' property a required, and\nuses the network_id and tags to look for an existing\nport resource before creating a neutron API resource.\nIf an existing resource is found the handle_create()\nmethod in the plug-in instead updates the existing\nport if template properties are different.\n\nThis resorce also replaces the ImmutablePort resource,\nall properties with \'not update_allowed\' are set to\nimmutable.\n\nDepends-On: https://review.opendev.org/778792\nChange-Id: I06e8e9766678af44a134bdaf420aed0bd151315e\nPartial-Implements: blueprint network-data-v2-ports\nRelated: blueprint ephemeral-heat-overcloud\n'}, {'number': 5, 'created': '2021-03-05 14:08:39.000000000', 'files': ['undercloud_heat_plugins/ephemeral_neutron_resources.py', 'undercloud_heat_plugins/immutable_resources.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1acd027051b63560438c0553abd704ef513b6014', 'message': 'Heat plugin ""ephemeral"" neutron port resource\n\nA heat plug-in which subclasses and replaces the\nOS::Neutron::Port resource. The handle_create()\nmethod is replaced to allow heat ephemeral \'create\'\nonly mode.\n\nThe plug-in makes \'tags\' property a required, and\nuses the network_id and tags to look for an existing\nport resource before creating a neutron API resource.\nIf an existing resource is found the handle_create()\nmethod in the plug-in instead updates the existing\nport if template properties are different.\n\nThis resorce also replaces the ImmutablePort resource,\nall properties with \'not update_allowed\' are set to\nimmutable.\n\nDepends-On: https://review.opendev.org/778792\nChange-Id: I06e8e9766678af44a134bdaf420aed0bd151315e\nPartial-Implements: blueprint network-data-v2-ports\nRelated: blueprint ephemeral-heat-overcloud\n'}]",8,778786,1acd027051b63560438c0553abd704ef513b6014,22,6,5,24245,,,0,"Heat plugin ""ephemeral"" neutron port resource

A heat plug-in which subclasses and replaces the
OS::Neutron::Port resource. The handle_create()
method is replaced to allow heat ephemeral 'create'
only mode.

The plug-in makes 'tags' property a required, and
uses the network_id and tags to look for an existing
port resource before creating a neutron API resource.
If an existing resource is found the handle_create()
method in the plug-in instead updates the existing
port if template properties are different.

This resorce also replaces the ImmutablePort resource,
all properties with 'not update_allowed' are set to
immutable.

Depends-On: https://review.opendev.org/778792
Change-Id: I06e8e9766678af44a134bdaf420aed0bd151315e
Partial-Implements: blueprint network-data-v2-ports
Related: blueprint ephemeral-heat-overcloud
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/778786/1 && git format-patch -1 --stdout FETCH_HEAD,['undercloud_heat_plugins/ephemeral_neutron_resources.py'],1,3344fc7f298b35ed9dcf6fb7fe1125db8de51376,network-data-v2,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from heat.common.i18n import _ from heat.engine.resources.openstack.neutron import port from heat.engine import properties from heat.engine import support class TripleoHeatEphemeralPort(port.Port): """"""Heat Ephemeral neutron port resource This subclass of the heat neutron Port resource """""" properties_schema = { k: v for k, v in port.Port.properties_schema.items() if k != 'tags'} properties_schema['tags'] = properties.Schema( properties.Schema.LIST, _('The tags to be added to the port. The tags are required, as' 'they are used to uniquely identify the port'), schema=properties.Schema(properties.Schema.STRING), required=True, update_allowed=True, support_status=support.SupportStatus(version='9.0.0') ) def handle_create(self): props = self.prepare_properties(self.properties, self.physical_resource_name()) props['network_id'] = props.pop(self.NETWORK) self._prepare_port_properties(props) qos_policy = props.pop(self.QOS_POLICY, None) if qos_policy: props['qos_policy_id'] = self.client_plugin().get_qos_policy_id( qos_policy) # Check for existing port matching network and tags tags = props.pop(self.TAGS) ports = self.client().list_ports(network_id=props['network_id'], tags=tags).get('ports', []) if not ports: # No port found, create a new port resource port = self.client().create_port({'port': props})['port'] self.resource_id_set(port['id']) if set(tags) != set(port['tags']): self.set_tags(tags) elif len(ports) == 1: # One existing port found on correct network, update-on-create. port = ports[0] self.resource_id_set(port['id']) props.update({self.TAGS: tags}) if qos_policy: props[self.QOS_POLICY] = qos_policy props.pop('qos_policy_id') props_diff = {k: v for k, v in props.items() if port[k] != v} self.handle_update(None, None, props_diff) else: # Duplicate ports found raise Exception('Duplicate ports found on network {} when ' 'filtering with tags ' '{}'.format(props['network_id'], tags)) def resource_mapping(): return { 'OS::TripleO::HeatEphemeral::Port': TripleoHeatEphemeralPort, } ",,80,0
openstack%2Fgovernance~master~I47ff25f7b1b7b712628f0c6ca03886a7de929a0c,openstack/governance,master,I47ff25f7b1b7b712628f0c6ca03886a7de929a0c,No community goals for a release cycle,MERGED,2021-02-25 16:46:05.000000000,2021-03-08 22:00:09.000000000,2021-03-08 21:58:31.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 16465}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-25 16:46:05.000000000', 'files': ['goals/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ff79a011d36a4444bb9ad71bb2ab796af3346248', 'message': 'No community goals for a release cycle\n\nIt was already mentioned that: ""There is no minimum or maximum limit\non the number of goals to be selected per cycle"".\nWith this change we explicitly mention that the TC can decided that\na release cycle can have no community goals.\n\nChange-Id: I47ff25f7b1b7b712628f0c6ca03886a7de929a0c\n'}]",0,777619,ff79a011d36a4444bb9ad71bb2ab796af3346248,19,11,1,2033,,,0,"No community goals for a release cycle

It was already mentioned that: ""There is no minimum or maximum limit
on the number of goals to be selected per cycle"".
With this change we explicitly mention that the TC can decided that
a release cycle can have no community goals.

Change-Id: I47ff25f7b1b7b712628f0c6ca03886a7de929a0c
",git fetch https://review.opendev.org/openstack/governance refs/changes/19/777619/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/index.rst'],1,ff79a011d36a4444bb9ad71bb2ab796af3346248,project-update,"cycle. It can be zero or more depends on the complexity and work required perIt's not required to define community goals for each release cycle. The TC can decide to not set any actionable community-wide goal for a release cycle, leaving the projects to focus on whatever is most important in their scope. ",cycle. It can be one or more depends on the complexity and work required per,5,1
openstack%2Fgovernance-sigs~master~I6a3d35f0e080565a9726f2d57a1cc0b0fa12d004,openstack/governance-sigs,master,I6a3d35f0e080565a9726f2d57a1cc0b0fa12d004,Make Public Cloud SIG Advisory,MERGED,2021-03-02 20:53:23.000000000,2021-03-08 21:59:10.000000000,2021-03-08 21:56:52.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 20:53:23.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/e62b043ac29e56d7b4f73d49d83f348feed48ecc', 'message': 'Make Public Cloud SIG Advisory\n\nIn chatting to Tobias, he said the SIG is not actively\nworking on anything at this point and can be moved to\nadvisory.\n\nChange-Id: I6a3d35f0e080565a9726f2d57a1cc0b0fa12d004\n'}]",0,778274,e62b043ac29e56d7b4f73d49d83f348feed48ecc,10,5,1,16708,,,0,"Make Public Cloud SIG Advisory

In chatting to Tobias, he said the SIG is not actively
working on anything at this point and can be moved to
advisory.

Change-Id: I6a3d35f0e080565a9726f2d57a1cc0b0fa12d004
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/74/778274/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,e62b043ac29e56d7b4f73d49d83f348feed48ecc,public-cloud, status: advisory, status: active,1,1
openstack%2Fgovernance~master~Ia924c5355fd6e4e67f36982da1e520ad5fcac403,openstack/governance,master,Ia924c5355fd6e4e67f36982da1e520ad5fcac403,Change primary eamil for Rico Lin,MERGED,2021-03-05 09:28:08.000000000,2021-03-08 21:58:59.000000000,2021-03-08 21:57:20.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:28:08.000000000', 'files': ['reference/projects.yaml', 'reference/members.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/60268b8504a6b49e5ccc81fb9ceaa3bbd2f5562c', 'message': 'Change primary eamil for Rico Lin\n\nRico recently change his primary email\nfrom rico.lin.guanyu@gmail.com\nto ricolin@ricolky.com\n\nChange-Id: Ia924c5355fd6e4e67f36982da1e520ad5fcac403\n'}]",0,778860,60268b8504a6b49e5ccc81fb9ceaa3bbd2f5562c,12,4,1,12404,,,0,"Change primary eamil for Rico Lin

Rico recently change his primary email
from rico.lin.guanyu@gmail.com
to ricolin@ricolky.com

Change-Id: Ia924c5355fd6e4e67f36982da1e520ad5fcac403
",git fetch https://review.opendev.org/openstack/governance refs/changes/60/778860/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/projects.yaml', 'reference/members.yaml']",2,60268b8504a6b49e5ccc81fb9ceaa3bbd2f5562c,documentation-change, email: ricolin@ricolky.com, email: rico.lin.guanyu@gmail.com,2,2
openstack%2Fgovernance-sigs~master~I1563d5ab8557aec94361dbb85f5d9dad4f6b0d3f,openstack/governance-sigs,master,I1563d5ab8557aec94361dbb85f5d9dad4f6b0d3f,Change primary eamil for Rico Lin,MERGED,2021-03-05 09:38:02.000000000,2021-03-08 21:58:10.000000000,2021-03-08 21:56:50.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 09:38:02.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/9286de6c85c2250960d2960f13221685df1087da', 'message': 'Change primary eamil for Rico Lin\n\nRico recently change his primary email\nfrom rico.lin.guanyu@gmail.com\nto ricolin@ricolky.com\n\nChange-Id: I1563d5ab8557aec94361dbb85f5d9dad4f6b0d3f\n'}]",0,778861,9286de6c85c2250960d2960f13221685df1087da,9,4,1,12404,,,0,"Change primary eamil for Rico Lin

Rico recently change his primary email
from rico.lin.guanyu@gmail.com
to ricolin@ricolky.com

Change-Id: I1563d5ab8557aec94361dbb85f5d9dad4f6b0d3f
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/61/778861/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,9286de6c85c2250960d2960f13221685df1087da,update-emails, email: ricolin@ricolky.com email: ricolin@ricolky.com, email: rico.lin.guanyu@gmail.com email: rico.lin.guanyu@gmail.com,2,2
openstack%2Fgovernance~master~Ib47681d99b5647f0a9eca57fd338d874c7e7ded3,openstack/governance,master,Ib47681d99b5647f0a9eca57fd338d874c7e7ded3,Add election schedule in TC chair responsibilities,MERGED,2021-02-26 16:47:02.000000000,2021-03-08 21:55:21.000000000,2021-03-08 21:53:38.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2033}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-26 16:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0352a1946e7f4abc38f5a26d11c279e6180f0a9a', 'message': 'Add election schedule in TC chair responsibilities\n\nAs per TC charter, PTL and TC election needs to be held\nin between of R-6 to R-4 of each release. To comply\nthat we need to make sure election schedule is prepared\nwell before time otherwise we may end up adding the\nexception for the elections\n- https://governance.openstack.org/tc/reference/election-exceptions.html\n\nHaving this in TC chair duties can help to have election\non time. I think before R-5 is best time to check with election\nWG on schedule preapration.\n\nChange-Id: Ib47681d99b5647f0a9eca57fd338d874c7e7ded3\n'}, {'number': 2, 'created': '2021-03-01 14:45:56.000000000', 'files': ['CHAIR.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/6b8309b35066e95d2ad4da21546ffb476e325d5a', 'message': 'Add election schedule in TC chair responsibilities\n\nAs per TC charter, PTL and TC election needs to be held\nin between of R-6 to R-4 of each release. To comply\nthat we need to make sure election schedule is prepared\nwell before time otherwise we may end up adding the\nexception for the elections\n- https://governance.openstack.org/tc/reference/election-exceptions.html\n\nHaving this in TC chair duties can help to have election\non time. I think before R-5 is best time to check with election\nWG on schedule preapration.\n\nChange-Id: Ib47681d99b5647f0a9eca57fd338d874c7e7ded3\n'}]",2,777771,6b8309b35066e95d2ad4da21546ffb476e325d5a,19,7,2,8556,,,0,"Add election schedule in TC chair responsibilities

As per TC charter, PTL and TC election needs to be held
in between of R-6 to R-4 of each release. To comply
that we need to make sure election schedule is prepared
well before time otherwise we may end up adding the
exception for the elections
- https://governance.openstack.org/tc/reference/election-exceptions.html

Having this in TC chair duties can help to have election
on time. I think before R-5 is best time to check with election
WG on schedule preapration.

Change-Id: Ib47681d99b5647f0a9eca57fd338d874c7e7ded3
",git fetch https://review.opendev.org/openstack/governance refs/changes/71/777771/2 && git format-patch -1 --stdout FETCH_HEAD,['CHAIR.rst'],1,0352a1946e7f4abc38f5a26d11c279e6180f0a9a,documentation-change,* Ensure PTL and TC election schedule is preapred before R-5 of current release cycle and as per :doc:`reference/charter`,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie84fa812c71ccff8328a0c43e023f98522dd80fb,openstack/tripleo-heat-templates,stable/victoria,Ie84fa812c71ccff8328a0c43e023f98522dd80fb,Allow configuring cinder mount point for glance cinder store,MERGED,2021-03-02 04:55:02.000000000,2021-03-08 21:55:09.000000000,2021-03-08 21:53:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 04:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6556d4ee6f8e14aba1c906077c721bdd4fb4df60', 'message': 'Allow configuring cinder mount point for glance cinder store\n\nThe new parameter CinderMountPointBase has been added which will be used\nfor mounting NFS volumes on glance nodes.\nWhen glance uses cinder as store and cinder backend is NFS, the mount\npoint would be required to be set with this parameter.\n\nChange-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb\n(cherry picked from commit 365f16e21d25e6ffeed65a65c22df48a857935b0)\n'}, {'number': 2, 'created': '2021-03-03 11:32:03.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/add-glance-cinder-mount-point-base-parameter-852554398b9f3a19.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad6eb8ae7ee104ed2595eacddfae43a3781a0425', 'message': 'Allow configuring cinder mount point for glance cinder store\n\nThe new parameter CinderMountPointBase has been added which will be used\nfor mounting NFS volumes on glance nodes.\nWhen glance uses cinder as store and cinder backend is NFS, the mount\npoint would be required to be set with this parameter.\n\nDepends-On: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1\nChange-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb\n(cherry picked from commit 365f16e21d25e6ffeed65a65c22df48a857935b0)\n'}]",0,778101,ad6eb8ae7ee104ed2595eacddfae43a3781a0425,20,8,2,19138,,,0,"Allow configuring cinder mount point for glance cinder store

The new parameter CinderMountPointBase has been added which will be used
for mounting NFS volumes on glance nodes.
When glance uses cinder as store and cinder backend is NFS, the mount
point would be required to be set with this parameter.

Depends-On: I3f9004fd8abffefe8cfeee9011ed0e323652fdd1
Change-Id: Ie84fa812c71ccff8328a0c43e023f98522dd80fb
(cherry picked from commit 365f16e21d25e6ffeed65a65c22df48a857935b0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/778101/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/glance/glance-api-container-puppet.yaml', 'releasenotes/notes/add-glance-cinder-mount-point-base-parameter-852554398b9f3a19.yaml']",2,6556d4ee6f8e14aba1c906077c721bdd4fb4df60,glance-cinder-mountpoint-stable/victoria,"--- features: - | The new parameter GlanceCinderMountPointBase has been added which will be used for mounting NFS volumes on glance nodes. When glance uses cinder as store and cinder backend is NFS, this parameter must be set to match cinder's mount point. ",,14,0
openstack%2Ftripleo-ansible~master~I5cb2bbedde9d872cc3bb09b525881c3bc64a51da,openstack/tripleo-ansible,master,I5cb2bbedde9d872cc3bb09b525881c3bc64a51da,Empty playbooks are not valid,MERGED,2021-03-08 10:55:20.000000000,2021-03-08 21:13:13.000000000,2021-03-08 21:13:13.000000000,"[{'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 22318}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 10:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcae344120bf2b9ab2eeaf9bf7e8e2cfca6be450', 'message': 'Empty playbooks are not valid\n\nAnsible does not allow empty playbooks files, we get rid of them.\n\nAlso moves one wrongly places verify.yml task file which would have\nconfused molecule.\n\nChange-Id: I5cb2bbedde9d872cc3bb09b525881c3bc64a51da\nPartial: https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n'}, {'number': 2, 'created': '2021-03-08 12:22:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/tasks/verify.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', '_skeleton_role_/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05f6e7f3885f7cf8226568973bb3f8da38894612', 'message': 'Empty playbooks are not valid\n\nAnsible does not allow empty playbooks files, we get rid of them.\n\nAlso moves one wrongly places verify.yml task file which would have\nconfused molecule.\n\nChange-Id: I5cb2bbedde9d872cc3bb09b525881c3bc64a51da\nPartial: https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n'}]",0,779210,05f6e7f3885f7cf8226568973bb3f8da38894612,11,4,2,24162,,,0,"Empty playbooks are not valid

Ansible does not allow empty playbooks files, we get rid of them.

Also moves one wrongly places verify.yml task file which would have
confused molecule.

Change-Id: I5cb2bbedde9d872cc3bb09b525881c3bc64a51da
Partial: https://review.opendev.org/c/openstack/tripleo-ansible/+/779180
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/779210/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/tasks/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', '_skeleton_role_/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/verify.yml']",13,fcae344120bf2b9ab2eeaf9bf7e8e2cfca6be450,al5,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",0,180
openstack%2Ftripleo-ansible~stable%2Fvictoria~I51b71a2c74f954e9a50fb7008f460aee6a74734f,openstack/tripleo-ansible,stable/victoria,I51b71a2c74f954e9a50fb7008f460aee6a74734f,Fix bootstrap ansible_fact,MERGED,2021-02-23 21:10:17.000000000,2021-03-08 21:13:10.000000000,2021-03-08 21:13:10.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-23 21:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d07780e87786b42845a2685aa63e85e88bce7e7d', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}, {'number': 2, 'created': '2021-03-05 16:29:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac870857061eb6a13c42e8b44fc8455e37ed03ba', 'message': 'Fix bootstrap ansible_fact\n\nMissed the distribution_major_version switch.\n\nChange-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f\n(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)\n'}]",0,777226,ac870857061eb6a13c42e8b44fc8455e37ed03ba,17,4,2,14985,,,0,"Fix bootstrap ansible_fact

Missed the distribution_major_version switch.

Change-Id: I51b71a2c74f954e9a50fb7008f460aee6a74734f
(cherry picked from commit 20a1a4c39e6926ca6a649d5fe96124f26e97ef5d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/777226/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml'],1,d07780e87786b42845a2685aa63e85e88bce7e7d,bug/1915761-stable/victoria," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_facts['distribution_major_version']) == 'redhat-7') | bool }}"""," ignore_errors: ""{{ (((ansible_facts['os_family'] | lower) ~ '-' ~ ansible_distribution_major_version) == 'redhat-7') | bool }}""",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Id515d06ebceec58db84eef313ca1375bb802282d,openstack/tripleo-ansible,stable/ussuri,Id515d06ebceec58db84eef313ca1375bb802282d,Modifying playbooks to support python-tripleoclient B&R commands,MERGED,2021-03-02 11:26:16.000000000,2021-03-08 21:13:05.000000000,2021-03-08 21:13:05.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-03-02 11:26:16.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup-legacy.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a01228e64d64b0ad0de49aa67f24a3235d799b01', 'message': 'Modifying playbooks to support python-tripleoclient B&R commands\n\n- Not a clean cherry-pick\n- cli-undercloud-backup.yaml moved to cli-undercloud-backup-legacy.yaml\n  the same way as stable/victoria.\n- cli-undercloud-backup.yaml support new functionality for undercloud\n  backup python-tripleoclient.\n- Each playbook is now in charged of a single main task: Setup NFS,\n  Setup ReaR and Backup.\n- prepare-nfs-backup.yaml was added to support the installation and\n  configuration of the backup node.\n- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml\n  were modified to support the ReaR installation and configuration.\n- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml support\n  the backup of each node. ""tags"" property was removed to\n  avoid tagging the whole role. ""connection"" property was removed to\n  avoid running against localhost because tripleo_target_host is\n  not defined.\n\nBugzilla: #1824806\nChange-Id: Id515d06ebceec58db84eef313ca1375bb802282d\n(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)\n'}]",0,778172,a01228e64d64b0ad0de49aa67f24a3235d799b01,14,8,1,32728,,,0,"Modifying playbooks to support python-tripleoclient B&R commands

- Not a clean cherry-pick
- cli-undercloud-backup.yaml moved to cli-undercloud-backup-legacy.yaml
  the same way as stable/victoria.
- cli-undercloud-backup.yaml support new functionality for undercloud
  backup python-tripleoclient.
- Each playbook is now in charged of a single main task: Setup NFS,
  Setup ReaR and Backup.
- prepare-nfs-backup.yaml was added to support the installation and
  configuration of the backup node.
- prepare-undercloud-backup.yaml and prepare-overcloud-backup.yaml
  were modified to support the ReaR installation and configuration.
- cli-undercloud-backup.yaml and cli-overcloud-backup.yaml support
  the backup of each node. ""tags"" property was removed to
  avoid tagging the whole role. ""connection"" property was removed to
  avoid running against localhost because tripleo_target_host is
  not defined.

Bugzilla: #1824806
Change-Id: Id515d06ebceec58db84eef313ca1375bb802282d
(cherry picked from commit 4ac33dcdbf054328dc61a172ee159e79e11082ac)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/778172/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-undercloud-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup-legacy.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-nfs-backup.yaml', 'tripleo_ansible/playbooks/cli-undercloud-backup.yaml']",6,a01228e64d64b0ad0de49aa67f24a3235d799b01,change-771587-6-stable/ussuri,- name: TripleO Undercloud backup. hosts: Undercloud become: true roles: - role: backup_and_restore,"- name: TripleO Undercloud backup workflows connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: sources_path: ""{{ lookup('env', 'HOME') }}"" hide_sensitive_logs: true handlers: # Perform some cleanup - name: cleanup the backup become: true file: path: ""{{ item }}"" state: absent with_items: - ""{{ bkp_path }}"" - ""{{ tmpdir.path }}/"" pre_tasks: - name: Set local connection user facts set_fact: ansible_home: ""{{ lookup('env', 'HOME') }}"" ansible_user: ""{{ lookup('env', 'USER') }}"" run_once: true when: - (tripleo_target_host is defined) | ternary('ssh', 'local') == 'local' # Action to know if there is enough available space # to run the Undercloud backup - name: Get free space shell: | set -o pipefail if [[ $(df -T /var/tmp | tail -n 1 | awk '{print $2}') == ""btrfs"" ]]; then btrfs fi usage --gbytes / | awk '/^.*Free / {print $3}'| sed 's/\..*//' else df -BG /var/tmp | awk '!/^Filesystem/ {print $4}' | sed 's/G//' fi register: var_space_available - name: Fail if any of the volumes are too small fail: msg: > Minimum free space required for /var/tmp: 10G - current free space: {{ var_space_available.stdout|int |round(1) }}G when: - (var_space_available.stdout | int) < 10 tasks: - name: Create a timestamp variable set_fact: timestamp: ""{{ lookup('pipe','date +%Y%m%d%H%M%S') }}"" - name: Create staging directory tempfile: state: directory prefix: ""undercloud-backup-"" path: ""/var/tmp"" register: tmpdir notify: - cleanup the backup - name: Mysql root password block block: - name: Read tripleo password file slurp: src: ""{{ ansible_home }}/tripleo-undercloud-passwords.yaml"" register: tripleo_undercloud_passwords no_log: ""{{ hide_sensitive_logs | bool }}"" - name: Set mysql root password set_fact: MysqlRootPassword: ""{{ (tripleo_undercloud_passwords['content'] | b64decode | from_yaml)['parameter_defaults']['MysqlRootPassword'] }}"" no_log: ""{{ hide_sensitive_logs | bool }}"" rescue: - name: Set mysql root password (fallback) set_fact: MysqlRootPassword: ""{{ lookup('ini', 'undercloud_mysql_root_password section=auth file=' ~ ansible_home ~ '/undercloud-passwords.conf') }}"" no_log: ""{{ hide_sensitive_logs | bool }}"" - name: Create the names for the temporary backup files set_fact: db_path: ""{{ tmpdir.path }}/all-databases-{{ timestamp }}.sql.gz"" fs_path: ""{{ tmpdir.path }}/filesystem-{{ timestamp }}.sql.gz"" bkp_path: ""/tmp/UC-backup-{{ timestamp }}.tar"" # We use the undercloud database password for the root # to backup the databases - name: Backup the databases become: true shell: |- set -o pipefail podman exec -i mysql mysqldump \ -u root \ -p{{ MysqlRootPassword }} \ --opt \ --all-databases | gzip > {{ db_path }} no_log: ""{{ hide_sensitive_logs | bool }}"" - name: Backup the filesystem become: true shell: | tar --xattrs --ignore-failed-read -C / -cf {{ fs_path }} {{ sources_path }} chown {{ lookup('env', 'USER') }} {{ fs_path }} - name: compress all the files in tar.gz archive: path: ""{{ tmpdir.path }}"" dest: ""{{ bkp_path }}"" format: tar notify: - cleanup the backup - name: Swift save block when: - save_swift is defined and save_swift block: - name: Save the backup to swift shell: |- swift upload --header ""X-Delete-After: 86400"" undercloud-backups {{ bkp_path }} - name: Backup saved debug: msg: ""The undercloud backup was saved to swift"" - name: Local save block when: - save_swift is not defined or not save_swift block: - name: Create the backup directory become: true file: path: /var/lib/tripleo/backups state: directory mode: '0755' - name: Copy backup file become: true copy: src: ""{{ bkp_path }}"" dest: ""/var/lib/tripleo/backups/{{ bkp_path | basename }}"" remote_src: true - name: Print out the backup location debug: msg: >- The undercloud backup was saved in ""/var/lib/tripleo/backups/{{ bkp_path | basename }}""",262,147
openstack%2Fbarbican~stable%2Fussuri~Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,openstack/barbican,stable/ussuri,Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,Fix PKCS#11 reinitialization after failure,MERGED,2021-03-08 17:25:44.000000000,2021-03-08 21:03:23.000000000,2021-03-08 21:01:56.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 17:25:44.000000000', 'files': ['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/475074a47c09b54ef58e73fefafe5fcbf2d9c0f5', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n(cherry picked from commit 3d3e00a92ac517f92847fb204406e898b663da08)\n'}]",0,779155,475074a47c09b54ef58e73fefafe5fcbf2d9c0f5,9,2,1,7973,,,0,"Fix PKCS#11 reinitialization after failure

This patch fixes an error condition where the PCKS#11 object is lost
afte multiple failures from the PKCS#11 device.

Without this patch Barbican can enter an error state where the PKCS11
object is deallocated and is unable to recover returning 500s until the
process is restarted.

Story: 2008649
Task: 41913
Change-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e
(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)
(cherry picked from commit 3d3e00a92ac517f92847fb204406e898b663da08)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/55/779155/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py']",4,475074a47c09b54ef58e73fefafe5fcbf2d9c0f5,story/2008649-stable/victoria-stable/ussuri,CKR_CRYPTOKI_ALREADY_INITIALIZED = 0x00000191 if value != CKR_OK and value != CKR_CRYPTOKI_ALREADY_INITIALIZED:, if value != CKR_OK:,21,2
openstack%2Frequirements~stable%2Fvictoria~Ic6cb2d67dfe7026f809e31975622bde957d00b23,openstack/requirements,stable/victoria,Ic6cb2d67dfe7026f809e31975622bde957d00b23,update constraint for python-cinderclient to new release 7.2.1,MERGED,2021-03-08 11:54:48.000000000,2021-03-08 21:00:28.000000000,2021-03-08 21:00:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 11:54:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e2b41891370b11ff27ac83a576f33f4c137bb032', 'message': 'update constraint for python-cinderclient to new release 7.2.1\n\nmeta: version: 7.2.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ic6cb2d67dfe7026f809e31975622bde957d00b23\n'}]",0,779227,e2b41891370b11ff27ac83a576f33f4c137bb032,8,3,1,11131,,,0,"update constraint for python-cinderclient to new release 7.2.1

meta: version: 7.2.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: Idcb0d9facbde2a516086a8d1195e5c2edb0caf4a
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ic6cb2d67dfe7026f809e31975622bde957d00b23
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/779227/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e2b41891370b11ff27ac83a576f33f4c137bb032,new-release,python-cinderclient===7.2.1,python-cinderclient===7.2.0,1,1
openstack%2Fneutron~master~Id21f81bb9f550a576d93498db62400af48aaf43a,openstack/neutron,master,Id21f81bb9f550a576d93498db62400af48aaf43a,Implement secure RBAC for quotas API,MERGED,2020-12-03 23:04:21.000000000,2021-03-08 20:51:04.000000000,2021-03-08 20:47:51.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9b2ce01a7f7593f00294e15c8b7b40f8a35391b', 'message': 'Implement secure RBAC for quotas API\n\nThis commit updates the quotas policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id21f81bb9f550a576d93498db62400af48aaf43a\n'}, {'number': 2, 'created': '2020-12-15 13:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c72da9b342af86a291c2f4682728f60f197b4c4', 'message': 'Implement secure RBAC for quotas API\n\nThis commit updates the quotas policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id21f81bb9f550a576d93498db62400af48aaf43a\n'}, {'number': 3, 'created': '2021-02-18 12:28:27.000000000', 'files': ['neutron/conf/policies/quotas.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4a709a918892e748107d752f07390b46cb6bb56', 'message': 'Implement secure RBAC for quotas API\n\nThis commit updates the quotas policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: Id21f81bb9f550a576d93498db62400af48aaf43a\n'}]",0,765417,e4a709a918892e748107d752f07390b46cb6bb56,42,6,3,5046,,,0,"Implement secure RBAC for quotas API

This commit updates the quotas policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: Id21f81bb9f550a576d93498db62400af48aaf43a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/765417/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/quotas.py'],1,b9b2ce01a7f7593f00294e15c8b7b40f8a35391b,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The quotas API now supports system scope and default roles. """""" deprecated_get_quota = policy.DeprecatedRule( name='get_quota', check_str=base.RULE_ADMIN_ONLY ) deprecated_update_quota = policy.DeprecatedRule( name='update_quota', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_quota = policy.DeprecatedRule( name='delete_quota', check_str=base.RULE_ADMIN_ONLY ) name='get_quota', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get a resource quota', operations=[ ], deprecated_rule=deprecated_get_quota, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='update_quota', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Update a resource quota', operations=[ ], deprecated_rule=deprecated_update_quota, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_quota', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a resource quota', operations=[ ], deprecated_rule=deprecated_delete_quota, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'get_quota', base.RULE_ADMIN_ONLY, 'Get a resource quota', [ ] 'update_quota', base.RULE_ADMIN_ONLY, 'Update a resource quota', [ ] 'delete_quota', base.RULE_ADMIN_ONLY, 'Delete a resource quota', [ ]",45,15
openstack%2Frequirements~master~I64b02ac852872b190be829b698315a47f91881a0,openstack/requirements,master,I64b02ac852872b190be829b698315a47f91881a0,update constraint for os-brick to new release 4.3.0,MERGED,2021-03-08 09:34:05.000000000,2021-03-08 20:50:14.000000000,2021-03-08 20:48:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-08 09:34:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/95074a1ab55a7222ce9865d7709504f0316c559c', 'message': 'update constraint for os-brick to new release 4.3.0\n\nmeta: version: 4.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3\nmeta: release:Code-Review+1: Luigi Toscano <ltoscano@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I64b02ac852872b190be829b698315a47f91881a0\n'}]",0,779187,95074a1ab55a7222ce9865d7709504f0316c559c,10,3,1,11131,,,0,"update constraint for os-brick to new release 4.3.0

meta: version: 4.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I3035e6c233bbd8f1448a898235a7a4ef9ff7f3b3
meta: release:Code-Review+1: Luigi Toscano <ltoscano@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I64b02ac852872b190be829b698315a47f91881a0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/779187/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,95074a1ab55a7222ce9865d7709504f0316c559c,new-release,os-brick===4.3.0,os-brick===4.2.0,1,1
openstack%2Fswift~master~I5188b277e8d7fb2c9835e63b951fb944782b4819,openstack/swift,master,I5188b277e8d7fb2c9835e63b951fb944782b4819,s3api: Allow lower-cased regions when making buckets,MERGED,2020-07-27 21:59:05.000000000,2021-03-08 20:50:10.000000000,2021-03-08 20:48:15.000000000,"[{'_account_id': 13852}, {'_account_id': 22348}, {'_account_id': 28499}]","[{'number': 1, 'created': '2020-07-27 21:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/beca0df6d38dd4d44152fd39f8957c03c630bf45', 'message': 's3api: Allow lower-cased regions when making buckets\n\nRelated-Bug: 1888444\nChange-Id: I5188b277e8d7fb2c9835e63b951fb944782b4819\n'}, {'number': 2, 'created': '2020-07-28 18:46:48.000000000', 'files': ['test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/94b90aa49c3810a4f23ef5df6be94d06be340d41', 'message': 's3api: Allow lower-cased regions when making buckets\n\nRelated-Bug: 1888444\nChange-Id: I5188b277e8d7fb2c9835e63b951fb944782b4819\n'}]",1,743425,94b90aa49c3810a4f23ef5df6be94d06be340d41,11,3,2,15343,,,0,"s3api: Allow lower-cased regions when making buckets

Related-Bug: 1888444
Change-Id: I5188b277e8d7fb2c9835e63b951fb944782b4819
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/743425/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/bucket.py']",2,beca0df6d38dd4d44152fd39f8957c03c630bf45,742322," if location not in (self.conf.location, self.conf.location.lower()):", if location != self.conf.location:,25,1
openstack%2Fironic~master~Ie962672ef81c58f651c2395439a3c69e98c1a4c0,openstack/ironic,master,Ie962672ef81c58f651c2395439a3c69e98c1a4c0,Adds config parameter kernel_append_param for iLO,MERGED,2020-09-30 06:34:19.000000000,2021-03-08 20:46:02.000000000,2021-03-08 20:43:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 19604}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-30 06:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ccb07903dde8ae688b39faf42fcda4c36630e129', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 2, 'created': '2020-09-30 15:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a0a0f8159f1090f4bc5be329936fff015f8afc1', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 3, 'created': '2020-10-01 11:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68092fd0a899bb55c1ee3ae45748ae640b447afb', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 4, 'created': '2020-10-05 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ad523a2ffffe33d7fe6fc250da200624f9c1753', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 5, 'created': '2020-10-31 18:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a0e3bcde903a7b7d036ed8341b3b28c8527e8f2', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 6, 'created': '2020-11-04 18:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e57c8548663de5d787e6c2858f52113fa5fac227', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 7, 'created': '2020-11-09 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8852dbfa9a4f15270e3a73824cf61c7ccc5235f2', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 8, 'created': '2020-12-08 13:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c9eb67123d593db8a044c9b8b1b1b892d9ef7a2', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 9, 'created': '2021-02-11 08:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f0f17c8f92f01d397bd54e1ab40d4c50d1a6d9c', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 10, 'created': '2021-02-15 07:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b8c83527836c25e16f9fdea7363f99d93d6e9db', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}, {'number': 11, 'created': '2021-03-02 06:27:26.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/conf/ilo.py', 'ironic/drivers/modules/image_utils.py', 'releasenotes/notes/add-kernel-param-config-ilo-9b2cee8b0447f82e.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/755918343b4ac25b8cb45529ddd0126ac687d617', 'message': 'Adds config parameter kernel_append_param for iLO\n\nThis commit adds a new config parameter kernel_append_param\nfor iLO.\n\nChange-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0\n'}]",36,755189,755918343b4ac25b8cb45529ddd0126ac687d617,105,9,11,19604,,,0,"Adds config parameter kernel_append_param for iLO

This commit adds a new config parameter kernel_append_param
for iLO.

Change-Id: Ie962672ef81c58f651c2395439a3c69e98c1a4c0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/755189/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/ilo.py', 'ironic/drivers/modules/image_utils.py']",2,ccb07903dde8ae688b39faf42fcda4c36630e129,kernel_param_patch5," ""kernel_params"": CONF.ilo.kernel_append_params ""kernel_params"": CONF.ilo.kernel_append_params"," ""kernel_params"": CONF.pxe.pxe_append_params ""kernel_params"": CONF.pxe.pxe_append_params",11,2
openstack%2Fironic~master~I9d50b5861968c6b02e0e8312bca0866dfd126279,openstack/ironic,master,I9d50b5861968c6b02e0e8312bca0866dfd126279,Follow-up on project scoped trait tests,MERGED,2021-02-20 01:09:53.000000000,2021-03-08 20:26:52.000000000,2021-03-08 20:22:36.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-20 01:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49b472b0bf932c0927f5af5d04c9b640f95b1de6', 'message': 'Follow-up on project scoped trait tests\n\nApparently missed a trait test and fixed the result that is expected.\n\nChange-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279\n'}, {'number': 2, 'created': '2021-02-24 20:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95c75552599414ee558d01ebdba07fb3a7811f01', 'message': 'Follow-up on project scoped trait tests\n\nApparently missed a trait test and fixed the result that is expected.\n\nChange-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279\n'}, {'number': 3, 'created': '2021-03-01 20:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee1203aa10693ff4e53239fe1c2cef9a5626f196', 'message': 'Follow-up on project scoped trait tests\n\nApparently missed a trait test and fixed the result that is expected.\n\nChange-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279\n'}, {'number': 4, 'created': '2021-03-02 23:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cd98a198eac597569b3e2da90d2175830d4757a', 'message': 'Follow-up on project scoped trait tests\n\nApparently missed a trait test and fixed the result that is expected.\n\nChange-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279\n'}, {'number': 5, 'created': '2021-03-04 17:50:38.000000000', 'files': ['ironic/tests/unit/api/test_rbac_project_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f6b24c7001724d12255f9485662aa55d5c5f5ec', 'message': 'Follow-up on project scoped trait tests\n\nApparently missed a trait test and fixed the result that is expected.\n\nChange-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279\n'}]",0,776768,7f6b24c7001724d12255f9485662aa55d5c5f5ec,29,3,5,11655,,,0,"Follow-up on project scoped trait tests

Apparently missed a trait test and fixed the result that is expected.

Change-Id: I9d50b5861968c6b02e0e8312bca0866dfd126279
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/776768/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/api/test_rbac_project_scoped.yaml'],1,49b472b0bf932c0927f5af5d04c9b640f95b1de6,secure-rbac, owner_member_cannot_put_custom_traits: assert_status: 403, skip_reason: policy not implemented owner_member_can_put_custom_traits: assert_status: 503 skip_reason: policy not implemented,2,4
openstack%2Fironic~master~I898310b515195b7065a3b1c7998ef3f29f5e8747,openstack/ironic,master,I898310b515195b7065a3b1c7998ef3f29f5e8747,Volume targets/connectors Project Scoped RBAC,MERGED,2021-02-18 05:42:49.000000000,2021-03-08 20:25:28.000000000,2021-03-08 20:20:37.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-18 05:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/296bf1cb454669a88cb6069418e2f8d882764aa0', 'message': 'WIP: volume targets/connectors Project Scoped RBAC\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 2, 'created': '2021-02-20 01:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc3b17b38c3b425c5b07910827d90d20153dff84', 'message': 'Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 3, 'created': '2021-02-24 20:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0eef9d620c378f6ecda259f2a05cb4d7845b1924', 'message': 'WIP Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 4, 'created': '2021-02-24 20:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2762020b310462b9c62588eff0280fbe5533787b', 'message': 'Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 5, 'created': '2021-03-01 20:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75591a9f2bdcb64afbffdc7f6bb52c7d1f397efc', 'message': 'Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 6, 'created': '2021-03-02 23:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/866f4e5c92dab4c85272dac16fc0cc4dbade60da', 'message': 'Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}, {'number': 7, 'created': '2021-03-04 17:50:38.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/objects/volume_connector.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'ironic/tests/unit/api/test_rbac_legacy.yaml', 'ironic/api/controllers/v1/volume_target.py', 'doc/source/admin/secure-rbac.rst', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/objects/test_volume_connector.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/objects/test_volume_target.py', 'ironic/objects/volume_target.py', 'ironic/db/api.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e870bd34d0ccacbaef7f4e4def2535eb28f822b9', 'message': 'Volume targets/connectors Project Scoped RBAC\n\nThis patch adds project scoped access, as part of the work\nto delineate system and project scope access.\n\nAdds policies:\n* baremetal:volume:list_all\n* baremetal:volume:list\n* baremetal:volume:view_target_properties\n\nChange-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747\n'}]",11,776314,e870bd34d0ccacbaef7f4e4def2535eb28f822b9,55,4,7,11655,,,0,"Volume targets/connectors Project Scoped RBAC

This patch adds project scoped access, as part of the work
to delineate system and project scope access.

Adds policies:
* baremetal:volume:list_all
* baremetal:volume:list
* baremetal:volume:view_target_properties

Change-Id: I898310b515195b7065a3b1c7998ef3f29f5e8747
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/776314/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/volume_connector.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml']",4,296bf1cb454669a88cb6069418e2f8d882764aa0,secure-rbac, path: '/v1/volume/connectors', skip_reason: policy not implemented skip_reason: policy not implemented path: '/v1/volume/targets' skip_reason: policy not implemented skip_reason: policy not implemented skip_reason: policy not implemented skip_reason: policy not implemented,122,16
openstack%2Fdevstack~stable%2Fqueens~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,stable/queens,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL for py27,MERGED,2021-03-08 10:08:25.000000000,2021-03-08 20:22:59.000000000,2021-03-08 20:22:59.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 10:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e303ab8fe552655bab23d7d7337258ffa3b661a8', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)\n(cherry picked from commit 63f37b56cab7f9110872ebf9c1b6facd00b9f842)\n'}, {'number': 2, 'created': '2021-03-08 12:13:50.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6070e3f217976d4b4bf619712a2824f1b7ab438', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)\n(cherry picked from commit 302ede617aa234193bcecaca128fba09415814d8)\n'}]",0,779196,e6070e3f217976d4b4bf619712a2824f1b7ab438,10,5,2,17685,,,0,"Fix get-pip URL for py27

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one
 will no longer work. Please use get-pip.py from the following URL
 instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)
(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)
(cherry picked from commit 302ede617aa234193bcecaca128fba09415814d8)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/779196/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,e303ab8fe552655bab23d7d7337258ffa3b661a8,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}",1,1
openstack%2Fironic~master~If3c989d5bcf03de5704e30165747642134952f75,openstack/ironic,master,If3c989d5bcf03de5704e30165747642134952f75,Project scope driver vendor pass-through,MERGED,2021-02-20 01:09:53.000000000,2021-03-08 20:21:49.000000000,2021-03-08 20:21:49.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-02-20 01:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1488e8410578c7f0fd6aa17dca82f133b99ae0a', 'message': 'Project scope driver vendor pass-through\n\nThe tests were not enabled earlier on, for endpoints that\nare not going to be exposed to users, really. So this patch\njust updates them so they are tested as expected.\n\nChange-Id: If3c989d5bcf03de5704e30165747642134952f75\n'}, {'number': 2, 'created': '2021-02-24 20:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01a0a2e465d198fc3a43f25a897be75a0b20b336', 'message': 'Project scope driver vendor pass-through\n\nThe tests were not enabled earlier on, for endpoints that\nare not going to be exposed to users, really. So this patch\njust updates them so they are tested as expected.\n\nChange-Id: If3c989d5bcf03de5704e30165747642134952f75\n'}, {'number': 3, 'created': '2021-03-01 20:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee75646d883e4d375e89b3bbf7161e35923969cf', 'message': 'Project scope driver vendor pass-through\n\nThe tests were not enabled earlier on, for endpoints that\nare not going to be exposed to users, really. So this patch\njust updates them so they are tested as expected.\n\nChange-Id: If3c989d5bcf03de5704e30165747642134952f75\n'}, {'number': 4, 'created': '2021-03-02 23:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d2343c494242242e10462de4e0f907ee956724c', 'message': 'Project scope driver vendor pass-through\n\nThe tests were not enabled earlier on, for endpoints that\nare not going to be exposed to users, really. So this patch\njust updates them so they are tested as expected.\n\nChange-Id: If3c989d5bcf03de5704e30165747642134952f75\n'}, {'number': 5, 'created': '2021-03-04 17:50:38.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5dff46a700a78c95cf9c5ca274920c7fca68ec0c', 'message': 'Project scope driver vendor pass-through\n\nThe tests were not enabled earlier on, for endpoints that\nare not going to be exposed to users, really. So this patch\njust updates them so they are tested as expected.\n\nChange-Id: If3c989d5bcf03de5704e30165747642134952f75\n'}]",0,776767,5dff46a700a78c95cf9c5ca274920c7fca68ec0c,32,3,5,11655,,,0,"Project scope driver vendor pass-through

The tests were not enabled earlier on, for endpoints that
are not going to be exposed to users, really. So this patch
just updates them so they are tested as expected.

Change-Id: If3c989d5bcf03de5704e30165747642134952f75
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/776767/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml']",2,b1488e8410578c7f0fd6aa17dca82f133b99ae0a,secure-rbac, assert_status: 500 assert_status: 500 assert_status: 500, assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented assert_status: 403 skip_reason: policy not implemented,5,7
openstack%2Felection~master~Id481615574cc7f9e8f9308a1197bfc2e8c745705,openstack/election,master,Id481615574cc7f9e8f9308a1197bfc2e8c745705,Add Yasufumi Ogawa candidacy for Tacker PTL,MERGED,2021-03-08 19:35:19.000000000,2021-03-08 20:19:50.000000000,2021-03-08 20:17:03.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 19:35:19.000000000', 'files': ['candidates/xena/Tacker/yasufum.o@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/fabbd4c598508665341b83f8bab2e892fd134e96', 'message': 'Add Yasufumi Ogawa candidacy for Tacker PTL\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: Id481615574cc7f9e8f9308a1197bfc2e8c745705\n'}]",0,779352,fabbd4c598508665341b83f8bab2e892fd134e96,8,3,1,25701,,,0,"Add Yasufumi Ogawa candidacy for Tacker PTL

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: Id481615574cc7f9e8f9308a1197bfc2e8c745705
",git fetch https://review.opendev.org/openstack/election refs/changes/52/779352/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Tacker/yasufum.o@gmail.com'],1,fabbd4c598508665341b83f8bab2e892fd134e96,,"Hi, I'd like to propose my candidacy for Tacker PTL in Xena cycle. In Wallaby release, we have released several features for the latest ETSI NFV standard while largely updating infras, such as moving to Ubuntu 20.04, supporting redhat distros again and dropping python2 completely for not only Tacker but also related projects such as tosca-parser or heat-translator or so [1]. In addition, we have fixed instability in unit and functional tests for which we have troubles several times. As Tacker PTL, I've led the team by proposing not only new features, but also things for driving the team such as documentation or bug tracking. In Xena cycle, I would like to continue to make Tacker be more useful product for users interested in NFV. I believe Tacker will be a good reference implementation for NFV standard. We have planed to make Tacker more feasible not only for VM environment, but also container to meet requirements from industries. - Continue to implement the latest container technology with ETSI NFV standard. - Introduce multi API versions to meet the requirements for operators enable to deploy mixed environment of multi-vendor products in which some products provide a stable version APIs while other products adopt move advanced ones. - Proceed to design and implement test framework under development in ETSI NFV TST to improve the quality of the product, not only unit tests and functional tests, but also introduce more sophisticated scheme such as robot framework. [1] https://docs.openstack.org/releasenotes/tacker/unreleased.html Regards, Yasufumi Ogawa IRC: yasufum ",,33,0
openstack%2Felection~master~I1109eba7c00527af098d5c6ebf7cf3a84e043eb5,openstack/election,master,I1109eba7c00527af098d5c6ebf7cf3a84e043eb5,Add Julia Kreger for Ironic PTL (Xena),MERGED,2021-03-08 18:24:20.000000000,2021-03-08 20:18:27.000000000,2021-03-08 20:16:59.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 18:24:20.000000000', 'files': ['candidates/xena/Ironic/juliaashleykreger@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/a00f76f8fcde10c829ba497529303a9fc7744da7', 'message': 'Add Julia Kreger for Ironic PTL (Xena)\n\nChange-Id: I1109eba7c00527af098d5c6ebf7cf3a84e043eb5\n'}]",0,779341,a00f76f8fcde10c829ba497529303a9fc7744da7,8,3,1,11655,,,0,"Add Julia Kreger for Ironic PTL (Xena)

Change-Id: I1109eba7c00527af098d5c6ebf7cf3a84e043eb5
",git fetch https://review.opendev.org/openstack/election refs/changes/41/779341/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Ironic/juliaashleykreger@gmail.com'],1,a00f76f8fcde10c829ba497529303a9fc7744da7,,"Greetings Stackers! One of the most refreshing and energizing things for me as a contributor to the Ironic project, is what we achieve from the prior cycle. As a leader, it makes me feel warm, fuzzy, and full of happiness and pride in the efforts of our Ironic family, as we walk our path to total world domination. And so, It would be an honor for me to lead us again during this upcoming Xena cycle. As such, I hereby announce my candidacy for Ironic Project Team Leader for the Xena cycle. My goal for this cycle is simplification, and performance. We must be easier for operators to use. And we must be able to enable operators to use our advanced features in larger deployments. And while they can today, if they know how to carefully architect and tune their deployment, we should make it as easy as an `easy button <https://www.youtube.com/watch?v=GsQXadrmhws>`_. Julia (TheJulia) Kreger ",,22,0
openstack%2Felection~master~I91c5ae486f2bddf770c132e7a8258bf0c9583db8,openstack/election,master,I91c5ae486f2bddf770c132e7a8258bf0c9583db8,Add Rong Zhu candidacy for Murano,MERGED,2021-03-08 06:06:23.000000000,2021-03-08 20:17:24.000000000,2021-03-08 20:15:27.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 06:06:23.000000000', 'files': ['candidates/xena/Murano/aaronzhu1121@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/3f70d2295f7cdb1a704f76c12ed8ec14199a0e95', 'message': 'Add Rong Zhu candidacy for Murano\n\nChange-Id: I91c5ae486f2bddf770c132e7a8258bf0c9583db8\n'}]",0,779132,3f70d2295f7cdb1a704f76c12ed8ec14199a0e95,8,3,1,14107,,,0,"Add Rong Zhu candidacy for Murano

Change-Id: I91c5ae486f2bddf770c132e7a8258bf0c9583db8
",git fetch https://review.opendev.org/openstack/election refs/changes/32/779132/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Murano/aaronzhu1121@gmail.com'],1,3f70d2295f7cdb1a704f76c12ed8ec14199a0e95,,"I'm writing this in order to announce my candidacy for Murano PTL during the Xena cycle. I have been serving as Murano PTL for 7 development cycles since Queens and I'd like to continue maintaining this project. Regards, Rong Zhu ",,9,0
openstack%2Felection~master~Idcd34c4dad1ee30f930322f98373f80f256c7741,openstack/election,master,Idcd34c4dad1ee30f930322f98373f80f256c7741,Add Gregory Thiemonge candidacy for Octavia,MERGED,2021-03-08 16:50:22.000000000,2021-03-08 20:16:55.000000000,2021-03-08 20:16:55.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 16:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/80215d41d69181f3556f5f9cbfe4d15719ee80a5', 'message': 'Add Gregory Thiemonge candidacy for Octavia\n\nChange-Id: Idcd34c4dad1ee30f930322f98373f80f256c7741\n'}, {'number': 2, 'created': '2021-03-08 17:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/6f82241748c61f5ec4b5db8c95e5e8656f42f434', 'message': 'Add Gregory Thiemonge candidacy for Octavia\n\nChange-Id: Idcd34c4dad1ee30f930322f98373f80f256c7741\n'}, {'number': 3, 'created': '2021-03-08 17:59:52.000000000', 'files': ['candidates/xena/Octavia/gthiemon@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/8f5351ddd83f68e1d3a3c0cea139743dfea36e80', 'message': 'Add Gregory Thiemonge candidacy for Octavia\n\nChange-Id: Idcd34c4dad1ee30f930322f98373f80f256c7741\n'}]",0,779296,8f5351ddd83f68e1d3a3c0cea139743dfea36e80,11,3,3,29244,,,0,"Add Gregory Thiemonge candidacy for Octavia

Change-Id: Idcd34c4dad1ee30f930322f98373f80f256c7741
",git fetch https://review.opendev.org/openstack/election refs/changes/96/779296/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Octavia/gthiemon@redhat.com'],1,80215d41d69181f3556f5f9cbfe4d15719ee80a5,,"Hi everyone, I would like to propose my candidacy for Octavia PTL during the Xena cycle. I have been an Octavia contributor for 2 years, and a core reviewer for 2 releases. Since then, I have been working in many areas in Octavia: adding support for new protocols (SCTP), fixing CI jobs, improving the octavia-dashboard. My focus will be to continue the work that the team has accomplished these last years, particularly adding many new features in Octavia (active/active load balancers, leveraging features provided by HAProxy 2.0) and improving our CI coverage (restoring CentOS jobs). Thanks for your consideration, Gregory ",,17,0
openstack%2Fbarbican~stable%2Fvictoria~Ic2b85246c37e856c38cb47613313b19e653118de,openstack/barbican,stable/victoria,Ic2b85246c37e856c38cb47613313b19e653118de,Allow multiple token labels for PKCS#11 driver,MERGED,2021-03-08 15:18:24.000000000,2021-03-08 20:16:16.000000000,2021-03-08 20:14:51.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 15:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4a9b3ccf4801be603fee6e88b7de245e1eb2a54c', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n(cherry picked from commit 1ca03610d7257c782b11d6bcf54074d66a79c545)\n'}, {'number': 2, 'created': '2021-03-08 17:58:49.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/cmd/barbican_manage.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/plugin/crypto/test_pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b41ceaa369e2bdd5b75d76c0a3368854293ed03a', 'message': 'Allow multiple token labels for PKCS#11 driver\n\nThis patch changes the slot selection logic to look for more than one\ntoken label in the list of slots, using the first token that is found.\n\nThis change is required to enable load balancing with devices that\nuse separate tokens for this feature.\n\nThis patch adds a new option in the [p11_crypto_plugin] section\n""token_labels"", and deprecates the ""token_label"" option.\n\nFor backwards compatibility, the ""token_label"" option will still be used\nif present.\n\nChange-Id: Ic2b85246c37e856c38cb47613313b19e653118de\n(cherry picked from commit 1ca03610d7257c782b11d6bcf54074d66a79c545)\n'}]",0,779150,b41ceaa369e2bdd5b75d76c0a3368854293ed03a,9,2,2,7973,,,0,"Allow multiple token labels for PKCS#11 driver

This patch changes the slot selection logic to look for more than one
token label in the list of slots, using the first token that is found.

This change is required to enable load balancing with devices that
use separate tokens for this feature.

This patch adds a new option in the [p11_crypto_plugin] section
""token_labels"", and deprecates the ""token_label"" option.

For backwards compatibility, the ""token_label"" option will still be used
if present.

Change-Id: Ic2b85246c37e856c38cb47613313b19e653118de
(cherry picked from commit 1ca03610d7257c782b11d6bcf54074d66a79c545)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/50/779150/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/allow-multiple-pkcs11-token-labels-61b63e34b7c8cc1a.yaml', 'barbican/cmd/barbican_manage.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py', 'barbican/tests/plugin/crypto/test_pkcs11.py']",6,4a9b3ccf4801be603fee6e88b7de245e1eb2a54c,use-multiple-token-labels-stable/victoria," slot_id = self.pkcs11._get_slot_id('111111', None, 2) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 2) slot_id = self.pkcs11._get_slot_id('111111', ['badLabel'], 2) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 3) self.pkcs11._get_slot_id, None, ['myLabelbad'], 1) slot_id = self.pkcs11._get_slot_id(None, ['myLabel'], 3) self.assertEqual(1, slot_id)"," slot_id = self.pkcs11._get_slot_id('111111', None, 1) slot_id = self.pkcs11._get_slot_id(None, 'myLabel', 1) slot_id = self.pkcs11._get_slot_id('111111', 'badLabel', 1) slot_id = self.pkcs11._get_slot_id(None, 'myLabel', 3) self.pkcs11._get_slot_id, None, 'badLabel', 1) self.assertRaises(ValueError, self.pkcs11._get_slot_id, None, 'myLabel', 1)",94,64
openstack%2Felection~master~I38781e264264ff7893c7f25c28b40a1bd58033cc,openstack/election,master,I38781e264264ff7893c7f25c28b40a1bd58033cc,Adding Maysa de Macedo Souza candidacy for Kuryr PTL,MERGED,2021-03-08 12:07:13.000000000,2021-03-08 20:15:55.000000000,2021-03-08 20:15:55.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-03-08 12:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/79846189f8c55eb0c519ece64a1a2b8e58dfe0e9', 'message': 'Adding Maysa de Macedo Souza candidacy for Kuryr PTL\n\nChange-Id: I38781e264264ff7893c7f25c28b40a1bd58033cc\n'}, {'number': 2, 'created': '2021-03-08 12:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/620e62664b8c9dcdb95c492901e9c0ef1eb10f95', 'message': 'Adding Maysa de Macedo Souza candidacy for Kuryr PTL\n\nChange-Id: I38781e264264ff7893c7f25c28b40a1bd58033cc\n'}, {'number': 3, 'created': '2021-03-08 12:28:07.000000000', 'files': ['candidates/xena/Kuryr/maysa.macedo95@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/0ca8bc5b1d1fcb1dcb4763a1a4610bb7022690c5', 'message': 'Adding Maysa de Macedo Souza candidacy for Kuryr PTL\n\nChange-Id: I38781e264264ff7893c7f25c28b40a1bd58033cc\n'}]",0,779238,0ca8bc5b1d1fcb1dcb4763a1a4610bb7022690c5,11,4,3,27032,,,0,"Adding Maysa de Macedo Souza candidacy for Kuryr PTL

Change-Id: I38781e264264ff7893c7f25c28b40a1bd58033cc
",git fetch https://review.opendev.org/openstack/election refs/changes/38/779238/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Kuryr/maysa.macedo95@gmail.com'],1,79846189f8c55eb0c519ece64a1a2b8e58dfe0e9,xena-candidacy,"Greetings, I would like to continue serving as Kuryr PTL for the Xena cycle. I have been contributing to the OpenStack community since the Queens release and started serving as Kuryr PTL in the Wallaby cycle. It was a great opportunity to contribute back to the community as PTL and I would like to continue doing that. In wallaby we achieved the following goals: * Improved CI stability and fixed broken gates e.g. Network Policy e2e and OVN gates. * Addressed testing for new features with addition of tempests tests for Services without selectors and Services with sctp. * Extended Kuryr functionalities - we started the dual-stack support and included the support for SCTP and Service without selectors. * Increased the contributor base with new contributors from the Outreachy program. For the next cycle, I propose the following goals for Kuryr: * Improve and extend CI: we already did great improvements, but we must continuously work on it to provide better and quicker feedback during development process. As part of that, we plan to: update gates to start using Kubeadm and include a new cri-o gate. * Extend Kuryr functionalities: Suport dual stack and Kubeadm for DevStack installations, and move Pools management to CRDs. * Continue growing the contributor base. Thank you, Maysa de Macedo Souza IRC: maysams ",,33,0
openstack%2Felection~master~Idd87ddf9170c7e6023a3ad010abefbc3a2a5b5ec,openstack/election,master,Idd87ddf9170c7e6023a3ad010abefbc3a2a5b5ec,Adding Caihui candidacy for Freezer,MERGED,2021-03-08 10:55:49.000000000,2021-03-08 20:15:50.000000000,2021-03-08 20:15:50.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 10:55:49.000000000', 'files': ['candidates/xena/Freezer/cai.hui@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/a42157d867ddb3bb39051fa9d6131728a2facb19', 'message': 'Adding Caihui candidacy for Freezer\n\nChange-Id: Idd87ddf9170c7e6023a3ad010abefbc3a2a5b5ec\n'}]",0,779211,a42157d867ddb3bb39051fa9d6131728a2facb19,7,3,1,21069,,,0,"Adding Caihui candidacy for Freezer

Change-Id: Idd87ddf9170c7e6023a3ad010abefbc3a2a5b5ec
",git fetch https://review.opendev.org/openstack/election refs/changes/11/779211/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Freezer/cai.hui@zte.com.cn'],1,a42157d867ddb3bb39051fa9d6131728a2facb19,,"Hi all, I'd like to propose my candidacy and continue serving as Freezer PTL in the Xena cycle. Over the Wallaby release, the Freezer team continues to keep the Freezer stable and reliable, We also fixed some bugs to meet the python3 requirements. In the Xena cycle, I would like to continue serving this project and the user requires. There are some major works I want to do in Xena cycle: 1.Impove the project DOCs, publish a quickstart for new users. 2.Keep Freezer more reliable as usual. 3.Remove API v1 ? 4.Add some packaged files so that the freezer can be used as a stand-alone project. 5.Bring more contributors to the project. Thanks to everyone to support my work and keep contributing to Freezer. I will do my best in the new cycle. Thank you for taking the time to consider me for Freezer PTL in the Xena cycle. Best regards, ",,25,0
openstack%2Felection~master~Ic7fa17f94152aae3e2ef57a2ead6dd47d2c38343,openstack/election,master,Ic7fa17f94152aae3e2ef57a2ead6dd47d2c38343,Add Slawek Kaplonski candidacy for Neutron PTL,MERGED,2021-03-08 10:41:49.000000000,2021-03-08 20:15:43.000000000,2021-03-08 20:15:43.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 10:41:49.000000000', 'files': ['candidates/xena/Neutron/skaplons@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/3695dc6f617c02fbdaa812e1a06d31ea7530fa43', 'message': 'Add Slawek Kaplonski candidacy for Neutron PTL\n\nChange-Id: Ic7fa17f94152aae3e2ef57a2ead6dd47d2c38343\n'}]",0,779202,3695dc6f617c02fbdaa812e1a06d31ea7530fa43,7,3,1,11975,,,0,"Add Slawek Kaplonski candidacy for Neutron PTL

Change-Id: Ic7fa17f94152aae3e2ef57a2ead6dd47d2c38343
",git fetch https://review.opendev.org/openstack/election refs/changes/02/779202/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Neutron/skaplons@redhat.com'],1,3695dc6f617c02fbdaa812e1a06d31ea7530fa43,,"I want to propose my candidacy for Neutron PTL in the Xena cycle. Wallaby was my third cycle serving as Neutron PTL. I think I helped to keep the project in a healthy state and I would like to continue serving as the PTL and keep Neutron running well in the Xena cycle. In Wallaby we accomplished many important goals like e.g.: * finished migration to the engine facade, * improve our CI jobs and its overall stability, * and close of many feature parity gaps between OVN and OVS backends. But we also didn't finish some of the goals which were set for that cycle, like e.g. switching OVN to be the default Neutron backend in Devstack. If I will be elected, I would like to set it as my main goal for Xena cycle. We did a lot of work on adoption of the OVN backend in Neutron already and I think that we are now ready to move on and switch it to be the default backend in the Devstack. I want to focus on couple of things in the Xena cycle: * reduce our bug backlog as it is huge now, * maintenance and continue improvements of our CI, as this is ""never ending story"", * keep Neutron running in a smooth way. As I mentioned above, if I will be elected, Xena will be my 4th cycle as Neutron PTL and I would like to find some potential successors for the next cycles to help them onboard and understand what are the duties and responsibilities of the PTL. Slawek Kaplonski irc: slaweq ",,30,0
openstack%2Felection~master~I37114db95c246cd8168d06c16e639819fd9fb3aa,openstack/election,master,I37114db95c246cd8168d06c16e639819fd9fb3aa,Adding Abhishek Kekane candidacy for Glance PTL,MERGED,2021-03-08 07:44:58.000000000,2021-03-08 20:15:36.000000000,2021-03-08 20:15:36.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 07:44:58.000000000', 'files': ['candidates/xena/Glance/akekane@redhat.com'], 'web_link': 'https://opendev.org/openstack/election/commit/af4b315343b3aa9aa90ced2139b7c14b41c24a7f', 'message': 'Adding Abhishek Kekane candidacy for Glance PTL\n\nChange-Id: I37114db95c246cd8168d06c16e639819fd9fb3aa\n'}]",0,779167,af4b315343b3aa9aa90ced2139b7c14b41c24a7f,7,3,1,9303,,,0,"Adding Abhishek Kekane candidacy for Glance PTL

Change-Id: I37114db95c246cd8168d06c16e639819fd9fb3aa
",git fetch https://review.opendev.org/openstack/election refs/changes/67/779167/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Glance/akekane@redhat.com'],1,af4b315343b3aa9aa90ced2139b7c14b41c24a7f,glance-abhishekk-x,"Hi All, I would like to announce my candidacy for Glance PTL for the Xena cycle. I've had the great privilege of leading this team for the past three releases. During this time we worked towards improving and stabilizing image import workflow and the multiple stores support features. Over the past three/four years we've had a small team looking after Glance and planned the priorities accordingly. During Wallaby cycle we were able to add couple of important features related edge computing like Distributed image import, new API to show tasks associated with image, experimental support for project persona in terms of secure RBAC and fixed some important bugs. In Xena our priority will be to continue the implementation of remaining personas for secure RBAC and mark this feature as stable. Also we will keep focusing on improving tempest coverage for glance. Thank you for taking my self nomination into consideration, Abhishek Kekane (abhishekk) ",,25,0
openstack%2Felection~master~I4759f81d3d8bf5ef809ef040c40705d40b101438,openstack/election,master,I4759f81d3d8bf5ef809ef040c40705d40b101438,Add Ke Chen candidacy for Watcher,MERGED,2021-03-08 06:18:56.000000000,2021-03-08 20:15:32.000000000,2021-03-08 20:15:32.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 06:18:56.000000000', 'files': ['candidates/xena/Watcher/chen.ke14@zte.com.cn'], 'web_link': 'https://opendev.org/openstack/election/commit/ebb0191dcf22eaaafde67c25984af8346add05de', 'message': 'Add Ke Chen candidacy for Watcher\n\nChange-Id: I4759f81d3d8bf5ef809ef040c40705d40b101438\n'}]",0,779134,ebb0191dcf22eaaafde67c25984af8346add05de,7,3,1,28748,,,0,"Add Ke Chen candidacy for Watcher

Change-Id: I4759f81d3d8bf5ef809ef040c40705d40b101438
",git fetch https://review.opendev.org/openstack/election refs/changes/34/779134/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Watcher/chen.ke14@zte.com.cn'],1,ebb0191dcf22eaaafde67c25984af8346add05de,,"Hi, I would like to announce my candidacy for Watcher PTL for the Xena cycle. For the new cycle, we will continue to focus on the performance and stability. I hope that new contributors will join on the project. Thanks, Ke Chen (chenke) ",,8,0
openstack%2Felection~master~I4d26b639d33108c2bf79566ae8164d775f569db6,openstack/election,master,I4d26b639d33108c2bf79566ae8164d775f569db6,Add Rong Zhu candidacy for Solum,MERGED,2021-03-08 06:11:47.000000000,2021-03-08 20:15:30.000000000,2021-03-08 20:15:30.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 06:11:47.000000000', 'files': ['candidates/xena/Solum/aaronzhu1121@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/e47a67d7f425700c72aa43c089475790f52caf57', 'message': 'Add Rong Zhu candidacy for Solum\n\nChange-Id: I4d26b639d33108c2bf79566ae8164d775f569db6\n'}]",0,779133,e47a67d7f425700c72aa43c089475790f52caf57,7,3,1,14107,,,0,"Add Rong Zhu candidacy for Solum

Change-Id: I4d26b639d33108c2bf79566ae8164d775f569db6
",git fetch https://review.opendev.org/openstack/election refs/changes/33/779133/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Solum/aaronzhu1121@gmail.com'],1,e47a67d7f425700c72aa43c089475790f52caf57,,"I'm writing this in order to announce my candidacy for Solum PTL during the Xena cycle. I have been serving as Solum PTL for 7 development cycles since Queens and I'd like to continue maintaining this project. Regards, Rong Zhu ",,9,0
openstack%2Felection~master~I24f5c38daa1765412d612a04db756e9a8223f180,openstack/election,master,I24f5c38daa1765412d612a04db756e9a8223f180,Add Goutham Pacha Ravi candidacy for Manila PTL,MERGED,2021-03-08 05:54:46.000000000,2021-03-08 20:10:25.000000000,2021-03-08 20:07:32.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 05:54:46.000000000', 'files': ['candidates/xena/Manila/gouthampravi@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/32265f8d355ecd4c716ab50c2a0dadb5c7e488ca', 'message': 'Add Goutham Pacha Ravi candidacy for Manila PTL\n\nChange-Id: I24f5c38daa1765412d612a04db756e9a8223f180\n'}]",0,779131,32265f8d355ecd4c716ab50c2a0dadb5c7e488ca,8,3,1,16643,,,0,"Add Goutham Pacha Ravi candidacy for Manila PTL

Change-Id: I24f5c38daa1765412d612a04db756e9a8223f180
",git fetch https://review.opendev.org/openstack/election refs/changes/31/779131/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Manila/gouthampravi@gmail.com'],1,32265f8d355ecd4c716ab50c2a0dadb5c7e488ca,manila,"Greetings Zorillas & other Stackers, This is my candidacy to be the PTL for the OpenStack Manila team through the Xena cycle. I've had the great privilege of leading this unique team for the past three releases. During this time, we've had an enviable momentum and some fantastic achievements while building impactful software. I have enjoyed being a catalyst and an advocate for this motivated team, and I wish to do this a bit longer. In Wallaby, we harnessed our diverse strengths to mentor five new contributors through our student project internships, two of who were sponsored through Outreachy funding. They have all expressed their desire to become long term contributors. I am very proud of the manila team for their sincerity and enthusiasm in aiding new Stackers. I seek to further this outreach through the Xena release cycle. Testing and project quality will remain a top priority. The team was able to get new interop guidelines published last cycle, and we will focus on adding more test coverage under these guidelines, alongside addressing test gaps and innovating on more test scenarios. We have continued to implement the pro-active backport policy to get bugfixes back to stable branches and request timely releases of these stable branches. In the Xena cycle, I intend to codify this policy based on our learning and spread the release responsibility and know-how around the team. We split project maintenance into sub-teams during the Wallaby cycle, and recruited sub-team core reviewers. An increase in focus and velocity ensued across project code repositories. I intend to propose more additions to these sub-teams in the Xena cycle and encourage more contributors to take on project maintenance responsibilities. So, if you will have me, I wish to serve you through Xena and get things done. Thank you for your support, Goutham Pacha Ravi <gouthampravi@gmail.com> IRC: gouthamr [1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020895.html",,40,0
openstack%2Felection~master~Ie6cce4fd8f0a99b755213efde395c0b42895e111,openstack/election,master,Ie6cce4fd8f0a99b755213efde395c0b42895e111,Add Rico Lin candidacy for Heat (Xena),MERGED,2021-03-08 01:02:03.000000000,2021-03-08 20:09:00.000000000,2021-03-08 20:07:26.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 01:02:03.000000000', 'files': ['candidates/xena/Heat/ricolin@ricolky.com'], 'web_link': 'https://opendev.org/openstack/election/commit/dcf13df3d8f3720b0e4407147191cad6d550a5bc', 'message': 'Add Rico Lin candidacy for Heat (Xena)\n\nChange-Id: Ie6cce4fd8f0a99b755213efde395c0b42895e111\n'}]",0,779118,dcf13df3d8f3720b0e4407147191cad6d550a5bc,8,3,1,12404,,,0,"Add Rico Lin candidacy for Heat (Xena)

Change-Id: Ie6cce4fd8f0a99b755213efde395c0b42895e111
",git fetch https://review.opendev.org/openstack/election refs/changes/18/779118/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Heat/ricolin@ricolky.com'],1,dcf13df3d8f3720b0e4407147191cad6d550a5bc,election,"Hi all, I would like to announce my candidacy for Heat PTL for Xena cycle. Over the past couple of cycles, we running Heat dynamically according to requirements. We never stop encouraging people to join us and provide consistent reviews or fixes as much as we can basic on priorities. And if those priorities not working for you, that means you must join the community to help. I believe the goals for the next cycle should be community CI stability, cross-project/community scenario tests to ensure what we deliver to users will get higher quality, also to get rid of lagacy mode and move everything to convergence mode, and finally container-native support to make sure we provider useable Orchestration services for container environment. I believe in new features, so we will try to encourage more features and review them as many as possible, but will not plan for team feature goals unless we can trigger more discussion and hands-on. Thank you for taking my self-nomination into consideration. Rico Lin ",,22,0
openstack%2Felection~master~I615dd27df7e1bc0bd55a0f0becc9fdc8682f960c,openstack/election,master,I615dd27df7e1bc0bd55a0f0becc9fdc8682f960c,Add Rico Lin candidacy for Xena TC election,MERGED,2021-03-08 01:03:44.000000000,2021-03-08 20:07:29.000000000,2021-03-08 20:07:29.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 01:03:44.000000000', 'files': ['candidates/xena/TC/ricolin@ricolky.com'], 'web_link': 'https://opendev.org/openstack/election/commit/2517eb72ca46ad460005e74a7aaf3eaeff7d8c83', 'message': 'Add Rico Lin candidacy for Xena TC election\n\nChange-Id: I615dd27df7e1bc0bd55a0f0becc9fdc8682f960c\n'}]",0,779119,2517eb72ca46ad460005e74a7aaf3eaeff7d8c83,7,3,1,12404,,,0,"Add Rico Lin candidacy for Xena TC election

Change-Id: I615dd27df7e1bc0bd55a0f0becc9fdc8682f960c
",git fetch https://review.opendev.org/openstack/election refs/changes/19/779119/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/TC/ricolin@ricolky.com'],1,2517eb72ca46ad460005e74a7aaf3eaeff7d8c83,election-xena,"Dear all, Hi, I'm Rico Lin. It has been 2 years since I work in TC, and I do like to join TC election again and keep serving this community as TC member if I have the honor. My goal for TC are the following tasks: * Build cross-community works There are more signs to show that most OpenStack is using a long side with other open source services. Therefore, I think this is getting really getting important that OpenStack community should enhance relationship with other open source community. Just like how OpenStack Technical Committee and Kubernetes Steering Committee begin to join each other's meetings and events. We should do this kind of work for other communities too. That's what I think would be great to give it a try. And in further, we might be able to get official blessing from another community, reach cross-community test guarantee or resource share promise if things going well. * Cross project feature works As this community is over 10 years old, we got maintain works to do over entire community. But I know there are still features, especially for cross-project features. Which should be our top priority for inner community works. One of considerable way to develop and maintain related works is to support for SIGs and Pupop teams. * Cross-culture bridge To help community members reach better communication despite language, culture, and timezone barriers. I get the honor to serve a great number of community members on this task, and I'm proud of it. This also alerts me that we need more members in community to become the bridge. We have some great people to keep working on this, but we simply need more from different languages, cultures, and timezone. So community members can have a better way to reach TC members. Thank you for taking my self-nomination into consideration. ",,37,0
openstack%2Fmanila~master~Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9,openstack/manila,master,Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9,Implement secure RBAC for share locations,MERGED,2020-11-19 21:17:02.000000000,2021-03-08 20:01:16.000000000,2021-03-08 19:58:30.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fdb4ae3aa4efe034a9d3a6b46b6552d80ce7f51f', 'message': 'Implement secure RBAC for share locations\n\nThis commit updates the policies for share locations to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/29e50616d86aeec1f42aca0ebf1e4313bb0a39e7', 'message': 'Implement secure RBAC for share locations\n\nThis commit updates the policies for share locations to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9\n'}, {'number': 3, 'created': '2021-03-03 05:46:10.000000000', 'files': ['manila/policies/share_export_location.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/472277c03a1cd5650188d0772b7055ffc8844d88', 'message': 'Implement secure RBAC for share locations\n\nThis commit updates the policies for share locations to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9\n'}]",0,763450,472277c03a1cd5650188d0772b7055ffc8844d88,22,6,3,5046,,,0,"Implement secure RBAC for share locations

This commit updates the policies for share locations to understand scope
checking and account for a read-only role. This is part of a broader series of
changes across OpenStack to provide a consistent RBAC experience and improve
security.

Change-Id: Iaebbadea3ed153f19e7abb13d7d28ae3b6bb1fd9
",git fetch https://review.opendev.org/openstack/manila refs/changes/50/763450/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_export_location.py'],1,fdb4ae3aa4efe034a9d3a6b46b6552d80ce7f51f,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share export location API now support system scope and default roles. """""" deprecated_export_location_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) deprecated_export_location_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_export_location_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_export_location_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",28,4
openstack%2Fmanila~master~Ie9fafd00f1a1888979fbce2a66af53613f8052c7,openstack/manila,master,Ie9fafd00f1a1888979fbce2a66af53613f8052c7,Implement secure RBAC for access rule metadata,MERGED,2020-11-19 21:17:02.000000000,2021-03-08 20:00:00.000000000,2021-03-08 19:58:25.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa01196a6a8d201ab76cb0c26d59ea20720ea06b', 'message': 'Implement secure RBAC for share metadata\n\nThis commit updates the policies for share metadata to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie9fafd00f1a1888979fbce2a66af53613f8052c7\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/204f54de9f0fef77907f7e3b2179defcad234d83', 'message': 'Implement secure RBAC for share metadata\n\nThis commit updates the policies for share metadata to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie9fafd00f1a1888979fbce2a66af53613f8052c7\n'}, {'number': 3, 'created': '2021-03-03 01:51:30.000000000', 'files': ['manila/policies/share_access_metadata.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f59505538bcdb32d70cbe5218f60d2eef2a10d02', 'message': 'Implement secure RBAC for access rule metadata\n\nThis commit updates the policies for share\naccess rule  metadata to understand scope\nchecking and account for a read-only role.\nThis is part of a broader series of\nchanges across OpenStack to provide a\nconsistent RBAC experience and improve\nsecurity.\n\nChange-Id: Ie9fafd00f1a1888979fbce2a66af53613f8052c7\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",4,763449,f59505538bcdb32d70cbe5218f60d2eef2a10d02,22,6,3,5046,,,0,"Implement secure RBAC for access rule metadata

This commit updates the policies for share
access rule  metadata to understand scope
checking and account for a read-only role.
This is part of a broader series of
changes across OpenStack to provide a
consistent RBAC experience and improve
security.

Change-Id: Ie9fafd00f1a1888979fbce2a66af53613f8052c7
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/49/763449/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/share_access_metadata.py'],1,fa01196a6a8d201ab76cb0c26d59ea20720ea06b,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The share access metadata API now support system scope and default roles. """""" deprecated_access_metadata_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_DEFAULT ) deprecated_access_metadata_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_access_metadata_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_access_metadata_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]),",28,4
openstack%2Fkayobe~stable%2Ftrain~I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,openstack/kayobe,stable/train,I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28,Fix copying Swift ring files,MERGED,2021-02-03 14:01:28.000000000,2021-03-08 19:45:32.000000000,2021-03-08 19:42:38.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 14:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/75a3a853892a30631b9b0c07b209e1e099e62a76', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}, {'number': 2, 'created': '2021-02-03 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/216077f232bdaa61dbb4451614e257ac8daaf793', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}, {'number': 3, 'created': '2021-02-03 14:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/11970b26567f5940765de63cd37ca9d691459122', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}, {'number': 4, 'created': '2021-02-17 14:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/254e837753e707c21da4cc0fc4cd19f63dbe4a3a', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}, {'number': 5, 'created': '2021-02-24 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e32bb316791d945a369f863afee136c1e23754ed', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}, {'number': 6, 'created': '2021-02-24 12:09:26.000000000', 'files': ['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml', 'ansible/group_vars/all/swift'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f668d9bee37eba3654fc9b732c198761e9298f09', 'message': ""Fix copying Swift ring files\n\nRing files are binary formatted and should not be templated. Attempting\nto template them causes an error such as the following:\n\n    Template source files must be utf-8 encoded\n\nThis change fixes the issue by implementing support for configuration\nfiles that are listed as 'untemplated'.\n\nChange-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28\nStory: 2007297\nTask: 38774\n(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)\n""}]",2,773900,f668d9bee37eba3654fc9b732c198761e9298f09,27,3,6,14826,,,0,"Fix copying Swift ring files

Ring files are binary formatted and should not be templated. Attempting
to template them causes an error such as the following:

    Template source files must be utf-8 encoded

This change fixes the issue by implementing support for configuration
files that are listed as 'untemplated'.

Change-Id: I9c6b0d9d5e13e8b82ebb8e8a3a0f432efb865e28
Story: 2007297
Task: 38774
(cherry picked from commit c847ef91572afa87a6d76b265c88db2d9e50ccb8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/773900/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/story-2007297-73f498ef6bc89fe9.yaml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/swift-rings/tasks/main.yml']",4,75a3a853892a30631b9b0c07b209e1e099e62a76,story/2007297-stable/ussuri-stable/train,"<<<<<<< HEAD (e0e0db Fix Python setup when venv is not used)======= >>>>>>> CHANGE (959587 Fix copying Swift ring files) register: copy_result python3 {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ copy_result.uid }}:{{ copy_result.gid }}"""," python {{ swift_container_build_path }}/swift-ring-builder.py user: ""{{ ansible_user_uid }}:{{ ansible_user_gid }}""",28,4
openstack%2Fdevstack~stable%2Fstein~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,stable/stein,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL for py27,MERGED,2021-03-08 09:38:58.000000000,2021-03-08 19:30:38.000000000,2021-03-08 19:28:34.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 09:38:58.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1400e6f1c3be683e259e0fd057d8e396376242ba', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n'}]",0,779189,1400e6f1c3be683e259e0fd057d8e396376242ba,10,6,1,17685,,,0,"Fix get-pip URL for py27

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one
 will no longer work. Please use get-pip.py from the following URL
 instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/89/779189/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,1400e6f1c3be683e259e0fd057d8e396376242ba,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}",1,1
openstack%2Fkolla~master~I63f6491919eba913bfd35a294b4cc17cc4c68603,openstack/kolla,master,I63f6491919eba913bfd35a294b4cc17cc4c68603,Update Ansible to 2.10 in kolla-toolbox,MERGED,2021-03-04 10:50:15.000000000,2021-03-08 19:30:36.000000000,2021-03-08 19:29:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-04 10:50:15.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f22d3c2ebc2cee8cd8e3fd9b1fe96e92f9e3d23', 'message': 'Update Ansible to 2.10 in kolla-toolbox\n\nChange-Id: I63f6491919eba913bfd35a294b4cc17cc4c68603\n'}]",0,778638,0f22d3c2ebc2cee8cd8e3fd9b1fe96e92f9e3d23,15,4,1,22629,,,0,"Update Ansible to 2.10 in kolla-toolbox

Change-Id: I63f6491919eba913bfd35a294b4cc17cc4c68603
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/778638/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,0f22d3c2ebc2cee8cd8e3fd9b1fe96e92f9e3d23,," 'ansible==2.10.*',"," 'ansible==2.9.*',",1,1
openstack%2Fdevstack~stable%2Frocky~Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,openstack/devstack,stable/rocky,Id62e91b1609db4b1d2fa425010bac1ce77e9fc51,Fix get-pip URL for py27,MERGED,2021-03-08 10:06:38.000000000,2021-03-08 19:28:57.000000000,2021-03-08 19:28:57.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 10:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/63f37b56cab7f9110872ebf9c1b6facd00b9f842', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)\n'}, {'number': 2, 'created': '2021-03-08 12:12:55.000000000', 'files': ['tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/302ede617aa234193bcecaca128fba09415814d8', 'message': 'Fix get-pip URL for py27\n\nThis has been failing to install with this message, which I think\nmeans we need to change our URL for getting pip:\n\n The URL you are using to fetch this script has changed, and this one\n will no longer work. Please use get-pip.py from the following URL\n instead:\n    https://bootstrap.pypa.io/pip/2.7/get-pip.py\n Sorry if this change causes any inconvenience for you!\n\nChange-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51\n(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)\n(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)\n'}]",0,779195,302ede617aa234193bcecaca128fba09415814d8,10,5,2,17685,,,0,"Fix get-pip URL for py27

This has been failing to install with this message, which I think
means we need to change our URL for getting pip:

 The URL you are using to fetch this script has changed, and this one
 will no longer work. Please use get-pip.py from the following URL
 instead:
    https://bootstrap.pypa.io/pip/2.7/get-pip.py
 Sorry if this change causes any inconvenience for you!

Change-Id: Id62e91b1609db4b1d2fa425010bac1ce77e9fc51
(cherry picked from commit fc7f929597816555490836d21c25a8adb725d2af)
(cherry picked from commit 1400e6f1c3be683e259e0fd057d8e396376242ba)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/95/779195/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_pip.sh'],1,63f37b56cab7f9110872ebf9c1b6facd00b9f842,get-pip-py27,"PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/pip/2.7/get-pip.py""}","PIP_GET_PIP_PY27_URL=${PIP_GET_PIP_PY27_URL:-""https://bootstrap.pypa.io/2.7/get-pip.py""}",1,1
openstack%2Fmanila~master~I399a61691dad3a80c289c9f3f99f3c48be07846f,openstack/manila,master,I399a61691dad3a80c289c9f3f99f3c48be07846f,Implement secure RBAC for security services,MERGED,2020-11-19 21:17:02.000000000,2021-03-08 19:23:28.000000000,2021-03-08 19:21:24.000000000,"[{'_account_id': 9954}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-19 21:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3bcb67c201a371bc56a9e1bf2d3682cf82412e24', 'message': 'Implement secure RBAC for security services\n\nThis commit updates the policies for security services to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f\n'}, {'number': 2, 'created': '2021-01-12 07:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8f57eff3d215de88904aae428fb5ace842a0763', 'message': 'Implement secure RBAC for security services\n\nThis commit updates the policies for security services to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f\n'}, {'number': 3, 'created': '2021-01-12 07:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9196495f3b7791ce4437157a27e0b495443ab913', 'message': 'Implement secure RBAC for security services\n\nThis commit updates the policies for security services to understand scope\nchecking and account for a read-only role. This is part of a broader series of\nchanges across OpenStack to provide a consistent RBAC experience and improve\nsecurity.\n\nChange-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f\n'}, {'number': 4, 'created': '2021-03-03 01:40:07.000000000', 'files': ['manila/policies/security_service.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/d7dd466a6d51370d843a0cf2cd6c0db52035ba42', 'message': 'Implement secure RBAC for security services\n\nThis commit updates the policies for security services\nto understand scope checking and account for a read-only\nrole. This is part of a broader series of changes across\nOpenStack to provide a consistent RBAC experience and\nimprove security.\n\nChange-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,763446,d7dd466a6d51370d843a0cf2cd6c0db52035ba42,31,6,4,5046,,,0,"Implement secure RBAC for security services

This commit updates the policies for security services
to understand scope checking and account for a read-only
role. This is part of a broader series of changes across
OpenStack to provide a consistent RBAC experience and
improve security.

Change-Id: I399a61691dad3a80c289c9f3f99f3c48be07846f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/46/763446/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/security_service.py'],1,3bcb67c201a371bc56a9e1bf2d3682cf82412e24,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The security service API now supports system scope and default roles. """""" deprecated_security_service_create = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'create', check_str=base.RULE_DEFAULT ) deprecated_security_service_show = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'show', check_str=base.RULE_DEFAULT ) deprecated_security_service_detail = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'detail', check_str=base.RULE_DEFAULT ) deprecated_security_service_index = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'index', check_str=base.RULE_DEFAULT ) deprecated_security_service_update = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'update', check_str=base.RULE_DEFAULT ) deprecated_security_service_delete = policy.DeprecatedRule( name=BASE_POLICY_NAME % 'delete', check_str=base.RULE_DEFAULT ) deprecated_security_service_get_all = policy.DeprecateRule( name=BASE_POLICY_NAME % 'get_all_security_services', check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_create, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_show, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_detail, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_OR_PROJECT_READER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_index, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_update, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_security_service_delete, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_READER, scope_types=['system'], ], deprecated_rule=deprecated_security_service_get_all, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_DEFAULT, ]), check_str=base.RULE_ADMIN_API, ]),",83,14
openstack%2Ftripleo-common~master~I3c94845b2aa484ac7b4e8f444509ceac40fa289d,openstack/tripleo-common,master,I3c94845b2aa484ac7b4e8f444509ceac40fa289d,Remove all mistral actions from tripleo-common,MERGED,2021-03-01 09:42:39.000000000,2021-03-08 19:23:17.000000000,2021-03-08 19:21:33.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/63bf8d66ff319008f103d0597c825aba30368311', 'message': 'Remove all mistral actions from tripleo-common\n\nThis removes dependency with msitral-lib.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950\nChange-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d\n'}, {'number': 2, 'created': '2021-03-01 11:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80104f12401f5e24f2c1233824fb5f334a5c158e', 'message': 'Remove all mistral actions from tripleo-common\n\nThis removes dependency with msitral-lib.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950\nChange-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d\n'}, {'number': 3, 'created': '2021-03-01 12:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8fdf7e23e8d6cc4801eb827415a5dbb0a0fa29ad', 'message': 'Remove all mistral actions from tripleo-common\n\nThis removes dependency with msitral-lib.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950\nChange-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d\n'}, {'number': 4, 'created': '2021-03-01 12:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d11c8622fad830c6be8b375b4927a387becd0ce', 'message': 'Remove all mistral actions from tripleo-common\n\nThis removes dependency with msitral-lib.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950\nChange-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d\n'}, {'number': 5, 'created': '2021-03-01 15:58:21.000000000', 'files': ['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/actions/test_base.py', 'requirements.txt', 'tripleo_common/actions/base.py', 'tripleo_common/tests/actions/__init__.py', 'tripleo_common/tests/actions/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/35c509602ebb4bca9dd0c73ad84012731b43bc19', 'message': 'Remove all mistral actions from tripleo-common\n\nThis removes dependency with msitral-lib.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/778018\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950\nChange-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d\n'}]",0,777952,35c509602ebb4bca9dd0c73ad84012731b43bc19,26,8,5,8833,,,0,"Remove all mistral actions from tripleo-common

This removes dependency with msitral-lib.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/778018
Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/777950
Change-Id: I3c94845b2aa484ac7b4e8f444509ceac40fa289d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/777952/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal.py', 'tripleo_common/tests/actions/test_base.py', 'requirements.txt', 'tripleo_common/actions/base.py', 'tripleo_common/tests/actions/__init__.py', 'tripleo_common/actions/__init__.py', 'tripleo_common/tests/actions/test_baremetal.py']",7,63bf8d66ff319008f103d0597c825aba30368311,mistral_lib_remove,,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from glanceclient import exc as glance_exceptions import ironic_inspector_client from oslo_concurrency import processutils from oslo_utils import units from tripleo_common.actions import baremetal from tripleo_common import exception from tripleo_common.tests import base class TestConfigureBootAction(base.TestCase): def setUp(self): super(TestConfigureBootAction, self).setUp() self.node_update = [{'op': 'add', 'path': '/properties/capabilities', 'value': 'boot_option:local'}, {'op': 'add', 'path': '/driver_info/deploy_ramdisk', 'value': 'r_id'}, {'op': 'add', 'path': '/driver_info/deploy_kernel', 'value': 'k_id'}, {'op': 'add', 'path': '/driver_info/rescue_ramdisk', 'value': 'r_id'}, {'op': 'add', 'path': '/driver_info/rescue_kernel', 'value': 'k_id'}] self.ironic = mock.MagicMock() ironic_patcher = mock.patch( 'tripleo_common.actions.base.TripleOAction.get_baremetal_client', return_value=self.ironic) self.mock_ironic = ironic_patcher.start() self.addCleanup(ironic_patcher.stop) self.glance = mock.MagicMock() glance_patcher = mock.patch( 'tripleo_common.actions.base.TripleOAction.get_image_client', return_value=self.glance) self.mock_glance = glance_patcher.start() self.addCleanup(glance_patcher.stop) def mock_find(name, disk_format): if name == 'bm-deploy-kernel': return mock.MagicMock(id='k_id') if name == 'bm-deploy-ramdisk': return mock.MagicMock(id='r_id') self.glance.images.find = mock_find self.context = mock.MagicMock() def test_run_instance_boot_option(self): action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID', instance_boot_option='netboot') result = action.run(self.context) self.assertIsNone(result) self.node_update[0].update({'value': 'boot_option:netboot'}) self.ironic.node.update.assert_called_once_with(mock.ANY, self.node_update) def test_run_instance_boot_option_not_set(self): action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID') result = action.run(self.context) self.assertIsNone(result) self.node_update[0].update({'value': ''}) self.ironic.node.update.assert_called_once_with(mock.ANY, self.node_update) def test_run_instance_boot_option_already_set_no_overwrite(self): node_mock = mock.MagicMock() node_mock.properties.get.return_value = ({'boot_option': 'netboot'}) self.ironic.node.get.return_value = node_mock action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID') result = action.run(self.context) self.assertIsNone(result) self.node_update[0].update({'value': 'boot_option:netboot'}) self.ironic.node.update.assert_called_once_with(mock.ANY, self.node_update) def test_run_instance_boot_option_already_set_do_overwrite(self): node_mock = mock.MagicMock() node_mock.properties.get.return_value = ({'boot_option': 'netboot'}) self.ironic.node.get.return_value = node_mock action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID', instance_boot_option='local') result = action.run(self.context) self.assertIsNone(result) self.node_update[0].update({'value': 'boot_option:local'}) self.ironic.node.update.assert_called_once_with(mock.ANY, self.node_update) def test_run_new_kernel_and_ram_image(self): image_ids = {'kernel': 'test_kernel_id', 'ramdisk': 'test_ramdisk_id'} with mock.patch('tripleo_common.utils.glance.create_or_find_kernel_and' '_ramdisk') as mock_find: mock_find.return_value = image_ids action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID', kernel_name='test_kernel', ramdisk_name='test_ramdisk') result = action.run(self.context) self.assertIsNone(result) self.node_update[0].update({'value': ''}) self.node_update[1:] = [{'op': 'add', 'path': '/driver_info/deploy_ramdisk', 'value': 'test_ramdisk_id'}, {'op': 'add', 'path': '/driver_info/deploy_kernel', 'value': 'test_kernel_id'}, {'op': 'add', 'path': '/driver_info/rescue_ramdisk', 'value': 'test_ramdisk_id'}, {'op': 'add', 'path': '/driver_info/rescue_kernel', 'value': 'test_kernel_id'}] self.ironic.node.update.assert_called_once_with(mock.ANY, self.node_update) def test_run_glance_ids_not_found(self): self.glance.images.find = mock.Mock( side_effect=glance_exceptions.NotFound) action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID', kernel_name='unknown_kernel', ramdisk_name='unknown_ramdisk') result = action.run(self.context) self.assertIn(""not found"", str(result.error)) def test_run_exception_on_node_update(self): self.ironic.node.update.side_effect = Exception(""Update error"") action = baremetal.ConfigureBootAction(node_uuid='MOCK_UUID') result = action.run(self.context) self.assertIn(""Update error"", str(result.error)) class TestConfigureRootDeviceAction(base.TestCase): def setUp(self): super(TestConfigureRootDeviceAction, self).setUp() # Mock data self.disks = [ {'name': '/dev/sda', 'size': 11 * units.Gi}, {'name': '/dev/sdb', 'size': 2 * units.Gi}, {'name': '/dev/sdc', 'size': 5 * units.Gi}, {'name': '/dev/sdd', 'size': 21 * units.Gi}, {'name': '/dev/sde', 'size': 13 * units.Gi}, ] for i, disk in enumerate(self.disks): disk['wwn'] = 'wwn%d' % i disk['serial'] = 'serial%d' % i # Ironic mocks self.ironic = mock.MagicMock() ironic_patcher = mock.patch( 'tripleo_common.actions.base.TripleOAction.get_baremetal_client', return_value=self.ironic) self.mock_ironic = ironic_patcher.start() self.addCleanup(ironic_patcher.stop) self.ironic.node.list.return_value = [ mock.Mock(uuid=""ABCDEFGH""), ] self.node = mock.Mock(uuid=""ABCDEFGH"", properties={}) self.ironic.node.get.return_value = self.node # inspector mocks self.inspector = mock.MagicMock() inspector_patcher = mock.patch( 'tripleo_common.actions.base.TripleOAction.' 'get_baremetal_introspection_client', return_value=self.inspector) self.mock_inspector = inspector_patcher.start() self.addCleanup(inspector_patcher.stop) self.inspector.get_data.return_value = { 'inventory': {'disks': self.disks} } self.context = mock.MagicMock() def test_smallest(self): action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn': 'wwn2'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 4}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_smallest_with_ext(self): self.disks[2]['wwn_with_extension'] = 'wwnext' action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn_with_extension': 'wwnext'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 4}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_largest(self): action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='largest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn': 'wwn3'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 20}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_largest_with_ext(self): self.disks[3]['wwn_with_extension'] = 'wwnext' action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='largest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn_with_extension': 'wwnext'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 20}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_no_overwrite(self): self.node.properties['root_device'] = {'foo': 'bar'} action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 0) def test_with_overwrite(self): self.node.properties['root_device'] = {'foo': 'bar'} action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest', overwrite=True) action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn': 'wwn2'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 4}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_minimum_size(self): action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest', minimum_size=10) action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn': 'wwn0'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 10}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_bad_inventory(self): self.inspector.get_data.return_value = {} action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') self.assertRaisesRegex(exception.RootDeviceDetectionError, ""Malformed introspection data"", action.run, self.context) self.assertEqual(self.ironic.node.update.call_count, 0) def test_no_disks(self): self.inspector.get_data.return_value = { 'inventory': { 'disks': [{'name': '/dev/sda', 'size': 1 * units.Gi}] } } action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') self.assertRaisesRegex(exception.RootDeviceDetectionError, ""No suitable disks"", action.run, self.context) self.assertEqual(self.ironic.node.update.call_count, 0) def test_no_data(self): self.inspector.get_data.side_effect = ( ironic_inspector_client.ClientError(mock.Mock())) action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') self.assertRaisesRegex(exception.RootDeviceDetectionError, ""No introspection data"", action.run, self.context) self.assertEqual(self.ironic.node.update.call_count, 0) def test_no_wwn_and_serial(self): self.inspector.get_data.return_value = { 'inventory': { 'disks': [{'name': '/dev/sda', 'size': 10 * units.Gi}] } } action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='smallest') self.assertRaisesRegex(exception.RootDeviceDetectionError, ""Neither WWN nor serial number are known"", action.run, self.context) self.assertEqual(self.ironic.node.update.call_count, 0) def test_device_list(self): action = baremetal.ConfigureRootDeviceAction( node_uuid='MOCK_UUID', root_device='hda,sda,sdb,sdc') action.run(self.context) self.assertEqual(self.ironic.node.update.call_count, 1) root_device_args = self.ironic.node.update.call_args_list[0] expected_patch = [{'op': 'add', 'path': '/properties/root_device', 'value': {'wwn': 'wwn0'}}, {'op': 'add', 'path': '/properties/local_gb', 'value': 10}] self.assertEqual(mock.call('ABCDEFGH', expected_patch), root_device_args) def test_device_list_not_found(self): action = baremetal.ConfigureRootDeviceAction(node_uuid='MOCK_UUID', root_device='hda') self.assertRaisesRegex(exception.RootDeviceDetectionError, ""Cannot find a disk"", action.run, self.context) self.assertEqual(self.ironic.node.update.call_count, 0) @mock.patch.object(baremetal.socket, 'gethostbyname', lambda x: x) class TestGetCandidateNodes(base.TestCase): def setUp(self): super(TestGetCandidateNodes, self).setUp() self.existing_nodes = [ {'uuid': '1', 'driver': 'ipmi', 'driver_info': {'ipmi_address': '10.0.0.1'}}, {'uuid': '2', 'driver': 'pxe_ipmitool', 'driver_info': {'ipmi_address': '10.0.0.1', 'ipmi_port': 6235}}, {'uuid': '3', 'driver': 'foobar', 'driver_info': {}}, {'uuid': '4', 'driver': 'fake', 'driver_info': {'fake_address': 42}}, {'uuid': '5', 'driver': 'ipmi', 'driver_info': {}}, {'uuid': '6', 'driver': 'pxe_drac', 'driver_info': {'drac_address': '10.0.0.2'}}, {'uuid': '7', 'driver': 'pxe_drac', 'driver_info': {'drac_address': '10.0.0.3', 'drac_port': 6230}}, ] def test_existing_ips(self): action = baremetal.GetCandidateNodes([], [], [], self.existing_nodes) result = action._existing_ips() self.assertEqual({('10.0.0.1', 623), ('10.0.0.1', 6235), ('10.0.0.2', None), ('10.0.0.3', 6230)}, set(result)) def test_with_list(self): action = baremetal.GetCandidateNodes( ['10.0.0.1', '10.0.0.2', '10.0.0.3'], [623, 6230, 6235], [['admin', 'password'], ['admin', 'admin']], self.existing_nodes) result = action.run(mock.Mock()) self.assertEqual([ {'ip': '10.0.0.3', 'port': 623, 'username': 'admin', 'password': 'password'}, {'ip': '10.0.0.1', 'port': 6230, 'username': 'admin', 'password': 'password'}, {'ip': '10.0.0.3', 'port': 6235, 'username': 'admin', 'password': 'password'}, {'ip': '10.0.0.3', 'port': 623, 'username': 'admin', 'password': 'admin'}, {'ip': '10.0.0.1', 'port': 6230, 'username': 'admin', 'password': 'admin'}, {'ip': '10.0.0.3', 'port': 6235, 'username': 'admin', 'password': 'admin'}, ], result) def test_with_subnet(self): action = baremetal.GetCandidateNodes( '10.0.0.0/30', [623, 6230, 6235], [['admin', 'password'], ['admin', 'admin']], self.existing_nodes) result = action.run(mock.Mock()) self.assertEqual([ {'ip': '10.0.0.1', 'port': 6230, 'username': 'admin', 'password': 'password'}, {'ip': '10.0.0.1', 'port': 6230, 'username': 'admin', 'password': 'admin'}, ], result) def test_invalid_subnet(self): action = baremetal.GetCandidateNodes( 'meow', [623, 6230, 6235], [['admin', 'password'], ['admin', 'admin']], self.existing_nodes) result = action.run(mock.Mock()) self.assertTrue(result.is_error()) @mock.patch.object(processutils, 'execute', autospec=True) class TestProbeNode(base.TestCase): action = baremetal.ProbeNode('10.0.0.42', 623, 'admin', 'password') def test_success(self, mock_execute): result = self.action.run(mock.Mock()) self.assertEqual({'pm_type': 'ipmi', 'pm_addr': '10.0.0.42', 'pm_user': 'admin', 'pm_password': 'password', 'pm_port': 623}, result) mock_execute.assert_called_once_with('ipmitool', '-I', 'lanplus', '-H', '10.0.0.42', '-L', 'ADMINISTRATOR', '-p', '623', '-U', 'admin', '-f', mock.ANY, 'power', 'status', attempts=2) def test_failure(self, mock_execute): mock_execute.side_effect = processutils.ProcessExecutionError() self.assertIsNone(self.action.run(mock.Mock())) mock_execute.assert_called_once_with('ipmitool', '-I', 'lanplus', '-H', '10.0.0.42', '-L', 'ADMINISTRATOR', '-p', '623', '-U', 'admin', '-f', mock.ANY, 'power', 'status', attempts=2) ",0,1152
openstack%2Fironic~stable%2Fvictoria~I54a9fed73e366a30545c3cd1982588d2f544d228,openstack/ironic,stable/victoria,I54a9fed73e366a30545c3cd1982588d2f544d228,[Trivial] Fix testing of volume connector exception,MERGED,2021-03-08 16:34:21.000000000,2021-03-08 19:12:45.000000000,2021-03-08 18:14:59.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-08 16:34:21.000000000', 'files': ['ironic/tests/unit/conductor/test_task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2b862f53e5a369a84bf7c0fd0dcdfedfbf4e5bf', 'message': '[Trivial] Fix testing of volume connector exception\n\nRestore test symmetry.\n\nChange-Id: I54a9fed73e366a30545c3cd1982588d2f544d228\n(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)\n'}]",0,779154,b2b862f53e5a369a84bf7c0fd0dcdfedfbf4e5bf,10,4,1,6618,,,0,"[Trivial] Fix testing of volume connector exception

Restore test symmetry.

Change-Id: I54a9fed73e366a30545c3cd1982588d2f544d228
(cherry picked from commit 61c5b3fd2fb1ae0df1cbfbca83e5bda393d0e8e4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/779154/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_task_manager.py'],1,b2b862f53e5a369a84bf7c0fd0dcdfedfbf4e5bf,test_task_manager-stable/victoria, self.assertFalse(build_driver_mock.called), self.assertFalse(get_voltgt_mock.called),1,1
openstack%2Felection~master~I44dae1a12870659718f0b335f87114bec8c086cf,openstack/election,master,I44dae1a12870659718f0b335f87114bec8c086cf,Add Lingxian Kong candidacy for Trove in Xena,MERGED,2021-03-07 19:55:44.000000000,2021-03-08 18:57:53.000000000,2021-03-08 18:56:07.000000000,"[{'_account_id': 5263}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-07 19:55:44.000000000', 'files': ['candidates/xena/Trove/anlin.kong@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/fe8ef13987a7425bbaafceb67d0eadc63b1f330b', 'message': 'Add Lingxian Kong candidacy for Trove in Xena\n\nChange-Id: I44dae1a12870659718f0b335f87114bec8c086cf\n'}]",0,779109,fe8ef13987a7425bbaafceb67d0eadc63b1f330b,8,3,1,6732,,,0,"Add Lingxian Kong candidacy for Trove in Xena

Change-Id: I44dae1a12870659718f0b335f87114bec8c086cf
",git fetch https://review.opendev.org/openstack/election refs/changes/09/779109/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/xena/Trove/anlin.kong@gmail.com'],1,fe8ef13987a7425bbaafceb67d0eadc63b1f330b,xena-trove-ptl,"I am still very glad to announce my PTL candidacy for Trove, the database-as-a-service in OpenStack. I've been served as Trove PTL since Train release and I spent more than 50% of my working time on this project. I'm so lucky to work for a company that built a public cloud based on OpenStack and has been investing heavily in Open Source since day one. We also deployed Trove in our production, we report bug and fix in the upstream, we don't maintain private changes, we keep growing together with the community. Regards, Lingxian Kong Senior Cloud Engineer Catalyst Cloud New Zealand ",,16,0
openstack%2Fnova~master~Ic5fadd69722b430c07739eb37295eedcd2621f35,openstack/nova,master,Ic5fadd69722b430c07739eb37295eedcd2621f35,WIP: Hey let's support routed networks y'all!,ABANDONED,2019-05-02 22:13:06.000000000,2021-03-08 18:54:08.000000000,,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8313}, {'_account_id': 9008}, {'_account_id': 9452}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10962}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15554}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23871}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-05-02 22:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1abf6306c4008e46f215839a0031920fbba8630', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nMISSION ACCOMPLISHED!\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 2, 'created': '2019-05-02 22:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dadce377e504c2a9e61f378fa413b03c247cd7bb', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 3, 'created': '2019-05-02 22:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06a12809da7bcb99d8f494fb3ee982cd4fe0e526', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 4, 'created': '2020-02-26 13:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e3abe38af41a285f4495b2d2e64f4339f06c5ba', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* update request_spec during move ops\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 5, 'created': '2020-03-02 16:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/936c4e51d433407aa58f197689d3dc7f40293f39', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* update request_spec during move ops\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 6, 'created': '2020-03-03 13:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f33a49bf6b8c55eb762504bbb0990fde5a10c0c0', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\nTODO:\n* test coverage both unit and functional\n* documentation\n* update request_spec during move ops\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}, {'number': 7, 'created': '2020-03-03 17:36:59.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/scheduler/utils.py', 'nova/network/neutron.py', 'nova/tests/fixtures.py', 'nova/conductor/manager.py', 'nova/conf/scheduler.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f434375240dbc373192af65f7fd84dd9ab5e6c0', 'message': ""WIP: Hey let's support routed networks y'all!\n\nBased on jroll bringing this up again [1] and the\nneutron docs [2] I tried hacking something together.\n\nPer my reading of the docs, each segment is a resource\nprovider in placement and neutron creates a resource\nprovider aggregate for the segments in the same network\nand a mirrored nova host aggregate for the placement\naggregate (using the same aggregate uuid).\n\nThis tries to translate that into taking the requested\nnetworks during server create (via the request network\nid or port id), get the segment IDs per requested network,\nand then for each segment get their aggregates (maybe\nthe segments in the same network are all in the same\nresource provider aggregate, I'm not sure).\n\nOnce we have all that crap, shove it in the request spec\nand translate it to required provider aggregates in the\nscheduler during GET /allocation_candidates.\n\nObviously needs testing, documentation, things like\nmove operations don't work (would need to recalculate\nthe routed network segment aggregates on each pass\nthrough the scheduler since you could attach/detach\nports in between server create and migrate).\n\nMISSION ACCOMPLISHED!\n\nTODO:\n* test coverage both unit and functional\n* documentation\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34\n[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html\n\nChange-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35\n""}]",8,656885,7f434375240dbc373192af65f7fd84dd9ab5e6c0,84,27,7,6873,,,0,"WIP: Hey let's support routed networks y'all!

Based on jroll bringing this up again [1] and the
neutron docs [2] I tried hacking something together.

Per my reading of the docs, each segment is a resource
provider in placement and neutron creates a resource
provider aggregate for the segments in the same network
and a mirrored nova host aggregate for the placement
aggregate (using the same aggregate uuid).

This tries to translate that into taking the requested
networks during server create (via the request network
id or port id), get the segment IDs per requested network,
and then for each segment get their aggregates (maybe
the segments in the same network are all in the same
resource provider aggregate, I'm not sure).

Once we have all that crap, shove it in the request spec
and translate it to required provider aggregates in the
scheduler during GET /allocation_candidates.

Obviously needs testing, documentation, things like
move operations don't work (would need to recalculate
the routed network segment aggregates on each pass
through the scheduler since you could attach/detach
ports in between server create and migrate).

MISSION ACCOMPLISHED!

TODO:
* test coverage both unit and functional
* documentation

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2019-05-02.log.html#t2019-05-02T19:56:34
[2] https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html

Change-Id: Ic5fadd69722b430c07739eb37295eedcd2621f35
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/656885/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/objects/request_spec.py', 'nova/scheduler/manager.py', 'nova/tests/unit/objects/test_objects.py', 'nova/scheduler/utils.py', 'nova/conductor/manager.py', 'nova/conf/scheduler.py']",7,f1abf6306c4008e46f215839a0031920fbba8630,routed-networks-scheduling," cfg.BoolOpt(""query_placement_for_routed_network_aggregates"", default=False, help="""""" Enable the scheduler to filter compute hosts affined to routed network segment aggregates. See https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html for details. """"""),",,101,7
openstack%2Fcharm-openstack-dashboard~master~I88a949270c14947cd59b0a256a827b5c807bea94,openstack/charm-openstack-dashboard,master,I88a949270c14947cd59b0a256a827b5c807bea94,Corrected punctuation typo in README.md,MERGED,2021-03-08 15:22:44.000000000,2021-03-08 18:49:14.000000000,2021-03-08 18:49:14.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 15:22:44.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/713205ae2a1c1da2f7cb9498943d8dfb96272ab1', 'message': 'Corrected punctuation typo in README.md\n\nChanged double colon into single colon in the [SSL configuration]\nsection of README.md\n\nChange-Id: I88a949270c14947cd59b0a256a827b5c807bea94\n'}]",0,779284,713205ae2a1c1da2f7cb9498943d8dfb96272ab1,13,3,1,33195,,,0,"Corrected punctuation typo in README.md

Changed double colon into single colon in the [SSL configuration]
section of README.md

Change-Id: I88a949270c14947cd59b0a256a827b5c807bea94
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/84/779284/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,713205ae2a1c1da2f7cb9498943d8dfb96272ab1,doc-fix,encoded configuration options:,encoded configuration options::,1,1
openstack%2Ftripleo-ansible~master~I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6,openstack/tripleo-ansible,master,I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6,Service virtual IP module and hieradata,MERGED,2021-02-23 22:57:35.000000000,2021-03-08 18:46:42.000000000,2021-03-08 18:45:01.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-23 22:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee92e49505f0907296942e39b955b9b1ab082253', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 2, 'created': '2021-02-24 00:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5962d1edaa2044e51ba688168bf15c9398859a3d', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 3, 'created': '2021-02-24 01:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cd63ffbab61285fa56b8a5696493cc31219b5a2', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 4, 'created': '2021-02-25 13:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7f33a3eaa4250973887086f338f1149b752275c', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 5, 'created': '2021-02-25 18:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9045cf1b7f216447013128f58d9253fadc0ddcfd', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\n* Alos fix a typo in tests.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 6, 'created': '2021-02-25 18:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d843f81daf4fb051102c243b92ff8191a782f94', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 7, 'created': '2021-02-26 12:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/387bf5fb7f5b10f34ec596e8e0defc4438ddc1db', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 8, 'created': '2021-02-26 12:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fc63bf38c1ac8666b496e35fd87496ed9b1827c', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 9, 'created': '2021-03-03 07:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/806e08c603bd0eb7108c1ddf0ac72c51ecaedd0b', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}, {'number': 10, 'created': '2021-03-04 12:26:06.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e990728082bc935d2a05a7b8d7468be6b46cd1d9', 'message': ""Service virtual IP module and hieradata\n\nAdds a module tripleo_service_vip which manages\na neutron API port resource for service virtuap IPs.\n(redis and ovn_dbs) when neutron service is available.\n\nWhen the service network is 'ctlplane' the module does\na find_port for the controlplane_virtual_ip so that the\nctlplane VIP is used in this case.\n\nWhen the neutron service is not available the module\nlooks for a pre-defined ip address in the fixed_ips\noption. If present this address is used, if not present\nan exception is raised.\n\nThe module updates the 'service_vip_vars.yaml' file in\nthe playbook directory so that include_vars can be used\nto load the variables.\n\nThe change also updates action/tripleo_all_nodes_data.py\nand tripleo_hieradata templates to use the new variable\nto source the service virtual IPs for redis and ovn_dbs\nservices.\n\nRelated: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/777252\nChange-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6\n""}]",0,777257,e990728082bc935d2a05a7b8d7468be6b46cd1d9,45,7,10,24245,,,0,"Service virtual IP module and hieradata

Adds a module tripleo_service_vip which manages
a neutron API port resource for service virtuap IPs.
(redis and ovn_dbs) when neutron service is available.

When the service network is 'ctlplane' the module does
a find_port for the controlplane_virtual_ip so that the
ctlplane VIP is used in this case.

When the neutron service is not available the module
looks for a pre-defined ip address in the fixed_ips
option. If present this address is used, if not present
an exception is raised.

The module updates the 'service_vip_vars.yaml' file in
the playbook directory so that include_vars can be used
to load the variables.

The change also updates action/tripleo_all_nodes_data.py
and tripleo_hieradata templates to use the new variable
to source the service virtual IPs for redis and ovn_dbs
services.

Related: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/777252
Change-Id: I6b2ae7388f8af15f2fd3dcbc5e671c169700fff6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/777257/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/ansible_plugins/action/tripleo_all_nodes_data.py', 'tripleo_ansible/roles/tripleo_hieradata/templates/all_nodes.j2', 'tripleo_ansible/roles/tripleo_hieradata/templates/vip_data.j2', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py']",5,ee92e49505f0907296942e39b955b9b1ab082253,network-data-v2,"# Copyright (c) 2021 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import openstack from tripleo_ansible.ansible_plugins.modules import ( tripleo_service_vip as plugin) from tripleo_ansible.tests import base as tests_base from tripleo_ansible.tests import stubs class TestTripleoServiceVip(tests_base.TestCase): def setUp(self): super(TestTripleoServiceVip, self).setUp() # Helper function to convert array to generator self.a2g = lambda x: (n for n in x) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_create(self, mock_conn): fixed_ips = [{'subnet': 'test'}] fake_net = stubs.FakeNeutronNetwork( name='test', id='net_id' ) fake_subnet = stubs.FakeNeutronSubnet( name='test', id='subnet_id' ) fake_port = stubs.FakeNeutronPort( name='test_virtual_ip', id='port_id', fixed_ips=[{'ip_address': '10.0.0.10', 'subnet_id': 'subnet_id'}], tags=[] ) mock_conn.network.find_network.return_value = fake_net mock_conn.network.find_subnet.return_value = fake_subnet mock_conn.network.ports.return_value = self.a2g([]) mock_conn.network.create_port.return_value = fake_port plugin.create_or_update_port(mock_conn, stack='test', service='test', network='test', fixed_ips=fixed_ips) mock_conn.network.create_port.assert_called_once_with( name='test_virtual_ip', network_id='net_id', fixed_ips=[{'subnet_id': 'subnet_id'}]) mock_conn.network.update_port.assert_not_called() mock_conn.network.set_tags.assert_called_once_with( fake_port, [mock.ANY, mock.ANY]) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_update(self, mock_conn): fixed_ips = [{'subnet': 'test'}] fake_net = stubs.FakeNeutronNetwork( name='test', id='net_id' ) fake_subnet = stubs.FakeNeutronSubnet( name='test', id='subnet_id' ) fake_port = stubs.FakeNeutronPort( name='test_virtual_ip', id='port_id', fixed_ips=[{'ip_address': '10.0.0.10', 'subnet_id': 'subnet_id'}], tags=[] ) mock_conn.network.find_network.return_value = fake_net mock_conn.network.find_subnet.return_value = fake_subnet mock_conn.network.ports.return_value = self.a2g([fake_port]) mock_conn.network.update_port.return_value = fake_port plugin.create_or_update_port(mock_conn, stack='test', service='test', network='test', fixed_ips=fixed_ips) mock_conn.network.create_port.assert_not_called() mock_conn.network.update_port.assert_called_once_with( fake_port, name='test_virtual_ip', network_id='net_id', fixed_ips=[{'subnet_id': 'subnet_id'}]) mock_conn.network.set_tags.assert_called_once_with( fake_port, [mock.ANY, mock.ANY]) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_no_change_no_update(self, mock_conn): # TODO pass @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_fail_if_no_fixed_ips(self, mock_conn): msg = ('ERROR: No IP allocation definition provided. ' 'Please provide at least one IP allocation ' 'definition using the fixed_ips argument.') self.assertRaisesRegex(Exception, msg, plugin.create_or_update_port, mock_conn) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_find_ctlplane_vip_found(self, mock_conn): tags = ['tripleo_stack_name=overcloud', 'tripleo_vip_net=ctlplane'] fake_port = stubs.FakeNeutronPort( name='test_virtual_ip', id='port_id', fixed_ips=[{'ip_address': '10.0.0.10', 'subnet_id': 'subnet_id'}], tags=['tripleo_stack_name=overcloud', 'tripleo_vip_net=ctlplane'] ) mock_conn.network.ports.return_value = self.a2g([fake_port]) port = plugin.find_ctlplane_vip(mock_conn, stack='overcloud', service='test') mock_conn.network.ports.assert_called_once_with(tags=tags) self.assertEqual(fake_port, port) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_find_ctlplane_vip_not_found(self, mock_conn): stack = 'overcloud' service = 'test' msg = ('Virtual IP address on the ctlplane network for stack ' '{} not found. Service {} is mapped to the ctlplane ' 'network and thus require a virtual IP address to be ' 'present on the ctlplane network.'.format(stack, service)) mock_conn.network.ports.return_value = self.a2g([]) self.assertRaisesRegex(Exception, msg, plugin.find_ctlplane_vip, mock_conn, stack=stack, service=service) tags = ['tripleo_stack_name={}'.format(stack), 'tripleo_vip_net=ctlplane'] mock_conn.network.ports.assert_called_once_with(tags=tags) ",,415,3
openstack%2Ftripleo-ansible~master~I1dd246badb8d7d00abfb72cf7451856bf49263cc,openstack/tripleo-ansible,master,I1dd246badb8d7d00abfb72cf7451856bf49263cc,[tripleo_transfer] Add more thorough testing,MERGED,2021-03-03 19:53:21.000000000,2021-03-08 18:45:06.000000000,2021-03-08 18:45:06.000000000,"[{'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-03 19:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cfb7a0aba7e34d5d3f442d206de115f194466525', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n'}, {'number': 2, 'created': '2021-03-05 09:42:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a025bfec8fa9b807a89e89a82a0c6921bf158e40', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n'}]",2,778564,a025bfec8fa9b807a89e89a82a0c6921bf158e40,11,6,2,6816,,,0,"[tripleo_transfer] Add more thorough testing

In this patch we add some tests to verify that the correct
files are copied over, are exactly the same and the files
in the destination are removed.

Change-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/778564/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,cfb7a0aba7e34d5d3f442d206de115f194466525,bz/1916162," tasks: - name: Install openssl for file creation package: name: openssl state: present become: yes - name: Create test directories file: state: directory path: ""{{ item }}"" loop: - ""{{ test_src_dir }}"" - ""{{ test_dst_dir }}"" - name: Create 1GB src test files with random content shell: >- openssl rand -out {{ item }} -base64 $(( 2**30 * 3/4 )) args: chdir: ""{{ test_src_dir }}"" creates: ""{{ item }}"" loop: ""{{ test_src_files }}"" - name: Create empty dst test files with random content file: path: ""{{ test_dst_dir }}/{{ item }}"" state: touch loop: ""{{ test_dst_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test_dst_dir }}"""," roles: - role: ""tripleo_transfer"" tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: /etc tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: /opt/etc-target",127,7
openstack%2Ftripleo-heat-templates~master~I7a38a01f498d350d065a7c312a6654832fe24e6a,openstack/tripleo-heat-templates,master,I7a38a01f498d350d065a7c312a6654832fe24e6a,Add non-tls listener to Memcached,MERGED,2021-01-13 15:32:22.000000000,2021-03-08 18:43:09.000000000,2021-03-08 18:43:09.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-13 15:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de48b0f1b9d6edd36c0c3e55a8686e47488db5f4', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2021-01-14 08:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a6bb785f1c63a15f2d8733cae881a78795971c6', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 3, 'created': '2021-01-14 08:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e855620f9914d4c1588776f9d0edce52811b5fa2', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 4, 'created': '2021-01-14 08:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da0d7e227b268f6c9095767fb83c992fedbb5ad1', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 5, 'created': '2021-01-14 10:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/565b963794de25d9b50d03669e10e8bf6c844eb1', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 6, 'created': '2021-01-14 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ccb5cd0d62564b314d5c7078f70e69c7d539bac', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 7, 'created': '2021-01-14 10:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc94ad6c4504ae8d1726270f0c59d4faf628ed5a', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 8, 'created': '2021-01-14 10:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5a5c9c1340f217447b6df2d45d8b4b6f008e4bc', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 9, 'created': '2021-01-14 11:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30aac37cf95ced4dadfa431891821d4ea81cbaa1', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 10, 'created': '2021-01-19 12:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5de5d82ca3f9f85176ef4db652f03059ebe24e7c', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 11, 'created': '2021-01-20 08:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c85ec4306b718429a11607ced39f145425668c95', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 12, 'created': '2021-02-04 19:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12997e2b15684c6c55df6fa674d472d2b007193e', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 13, 'created': '2021-02-11 12:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2c2ee59f50cb6d7df67d08b043f072bf2b880e4', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 14, 'created': '2021-02-12 09:49:10.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/125ebd64f4cbd0685ae45f985ef29835edcf9e50', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",8,770634,125ebd64f4cbd0685ae45f985ef29835edcf9e50,55,10,14,27954,,,0,"Add non-tls listener to Memcached

This step is required in order to migrate services to use TLS one by
one. This config should go away once all services support TLS.

Change-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a
Co-authored-By: Grzegorz Grasza <xek@redhat.com>
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/770634/14 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,de48b0f1b9d6edd36c0c3e55a8686e47488db5f4,memcached-cert," # NOTE: This config is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. memcached::notls_listener_port: - if: - internal_tls_enabled 11211",,7,0
openstack%2Fmanila-ui~master~Ib739730cf74a880fc07f0279f55dd00e9c003465,openstack/manila-ui,master,Ib739730cf74a880fc07f0279f55dd00e9c003465,remove unicode from code,MERGED,2021-03-04 02:55:46.000000000,2021-03-08 18:38:16.000000000,2021-03-08 18:35:50.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-03-04 02:55:46.000000000', 'files': ['manila_ui/tests/dashboards/project/test_data.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/admin/share_group_types/tests.py', 'manila_ui/tests/dashboards/project/share_snapshots/tests.py', 'doc/source/conf.py', 'manila_ui/tests/dashboards/project/security_services/tests.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c69afd70466a71c02350177a97fbfa1ea4b497bb', 'message': ""remove unicode from code\n\nIn Python 3, all strings are represented in Unicode.In Python 2 are\nstored internally as 8-bit ASCII, hence it is required to attach 'u'\nto make it Unicode. It is no longer necessary now.'\n\nChange-Id: Ib739730cf74a880fc07f0279f55dd00e9c003465\n""}]",0,778605,c69afd70466a71c02350177a97fbfa1ea4b497bb,8,3,1,32291,,,0,"remove unicode from code

In Python 3, all strings are represented in Unicode.In Python 2 are
stored internally as 8-bit ASCII, hence it is required to attach 'u'
to make it Unicode. It is no longer necessary now.'

Change-Id: Ib739730cf74a880fc07f0279f55dd00e9c003465
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/05/778605/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/test_data.py', 'manila_ui/tests/dashboards/admin/share_group_types/tests.py', 'manila_ui/tests/dashboards/project/share_snapshots/tests.py', 'doc/source/conf.py', 'manila_ui/tests/dashboards/project/security_services/tests.py', 'releasenotes/source/conf.py']",7,c69afd70466a71c02350177a97fbfa1ea4b497bb,,"project = 'manila-ui Release Notes' copyright = '2016, Manila Developers' 'manila-ui Release Notes Documentation', 'Manila Developers', 'manual'), 'manila-ui Release Notes Documentation', ['Manila Developers'], 1) 'manila-ui Release Notes Documentation', 'Manila Developers', 'ManilaUIReleaseNotes',","project = u'manila-ui Release Notes' copyright = u'2016, Manila Developers' u'manila-ui Release Notes Documentation', u'Manila Developers', 'manual'), u'manila-ui Release Notes Documentation', [u'Manila Developers'], 1) u'manila-ui Release Notes Documentation', u'Manila Developers', 'ManilaUIReleaseNotes',",32,32
openstack%2Fironic~master~I33956976a9420ade836ab8d37a9488b9a207cef0,openstack/ironic,master,I33956976a9420ade836ab8d37a9488b9a207cef0,docs: move overriding interfaces to the standalone documentation,MERGED,2021-03-08 16:59:08.000000000,2021-03-08 18:31:16.000000000,2021-03-08 17:48:00.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 16:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b91d7a1fd22e94a9fa15d7cd93cafd81e7420023', 'message': 'docs: move overriding interfaces to the standalone documentation\n\nChances are much higher the users will find it there. Also correct some\nwording (node interfaces -> hardware interfaces), use double ticks for\nfield names and mention the Wallaby release.\n\nChange-Id: I33956976a9420ade836ab8d37a9488b9a207cef0\n'}, {'number': 2, 'created': '2021-03-08 17:02:19.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/node-interface-override.rst', 'doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/472ffca2694e1a772d93f7a11da8c16aeb69eaeb', 'message': 'docs: move overriding interfaces to the standalone documentation\n\nChances are much higher the users will find it there. Also correct some\nwording (node interfaces -> hardware interfaces), use double ticks for\nfield names and mention the Wallaby release.\n\nStory: #2008652\nTask: #42015\nChange-Id: I33956976a9420ade836ab8d37a9488b9a207cef0\n'}]",0,779298,472ffca2694e1a772d93f7a11da8c16aeb69eaeb,11,3,2,10239,,,0,"docs: move overriding interfaces to the standalone documentation

Chances are much higher the users will find it there. Also correct some
wording (node interfaces -> hardware interfaces), use double ticks for
field names and mention the Wallaby release.

Story: #2008652
Task: #42015
Change-Id: I33956976a9420ade836ab8d37a9488b9a207cef0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/779298/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/node-interface-override.rst', 'doc/source/install/standalone.rst']",3,b91d7a1fd22e94a9fa15d7cd93cafd81e7420023,iface-docs,"Overriding a hardware interface ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Non-admins with temporary access to a node, may wish to specify different node interfaces. However, allowing them to set these interface values directly on the node is problematic, as there is no automated way to ensure that the original interface values are restored. In order to temporarily override a hardware interface, simply set the appropriate value in ``instance_info``. For example, if you'd like to override a node's storage interface, run the following:: baremetal node set $NODE_UUID \ --instance-info storage_interface=cinder ``instance_info`` values persist until after a node is cleaned. .. note:: This feature is available starting with the Wallaby release. ",,20,23
openstack%2Ftripleo-ansible~master~Iec74b239cbcebaeb6c5f5736e3696e013b697c76,openstack/tripleo-ansible,master,Iec74b239cbcebaeb6c5f5736e3696e013b697c76,Add snake_case filter,MERGED,2021-03-04 14:19:58.000000000,2021-03-08 18:24:55.000000000,2021-03-08 18:23:33.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2021-03-04 14:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f55bcc4c78ba008ddb850c97da8bcaf11da8e52', 'message': 'Add snake_case filter\n\nThis is intended to be used by tripleo_metrics_qdr and\ntripleo_collectd.\nThe filter will convert from THTCamelCase to ansible_snake_case\n\nChange-Id: Iec74b239cbcebaeb6c5f5736e3696e013b697c76\nCo-Authored-by: Chris Sibbitt <csibbitt@redhat.com>\n'}, {'number': 2, 'created': '2021-03-04 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf63deb64aaa7f48fafe1096fe6384331fd244de', 'message': 'Add snake_case filter\n\nThis is intended to be used by tripleo_metrics_qdr and\ntripleo_collectd.\nThe filter will convert from THTCamelCase to ansible_snake_case\n\nChange-Id: Iec74b239cbcebaeb6c5f5736e3696e013b697c76\nCo-Authored-by: Chris Sibbitt <csibbitt@redhat.com>\n'}, {'number': 3, 'created': '2021-03-05 12:11:41.000000000', 'files': ['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db775f7c84a8266a17660228ee3ecfda364309d5', 'message': 'Add snake_case filter\n\nThis is intended to be used by tripleo_metrics_qdr and\ntripleo_collectd.\nThe filter will convert from THTCamelCase to ansible_snake_case\n\nChange-Id: Iec74b239cbcebaeb6c5f5736e3696e013b697c76\nCo-authored-by: Chris Sibbitt <csibbitt@redhat.com>\n'}]",0,778704,db775f7c84a8266a17660228ee3ecfda364309d5,27,6,3,13177,,,0,"Add snake_case filter

This is intended to be used by tripleo_metrics_qdr and
tripleo_collectd.
The filter will convert from THTCamelCase to ansible_snake_case

Change-Id: Iec74b239cbcebaeb6c5f5736e3696e013b697c76
Co-authored-by: Chris Sibbitt <csibbitt@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/778704/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,7f55bcc4c78ba008ddb850c97da8bcaf11da8e52,filter_snake_case," 'tht_abspath': self.tht_abspath, 'snake_case': self.snake_case, def filter_snake_case(self, camel_case_string): """"""Convert from THTCamelCase to ansible_snake_case This filter will return a snake_case version of the input string. >>> filter_snake_case('CephStorage') 'ceph_storage' >>> filter_snake_case('HTTPWorker') 'http_worker' >>> filter_snake_case('MetricsQDR') 'metrics_qdr' """""" camel_case_string = re.sub(r'(.)([A-Z][a-z]+)', r'\1_\2', camel_case_string) return re.sub(r'([a-z0-9])([A-Z])', r'\1_\2', camel_case_string).lower() ", 'tht_abspath': self.tht_abspath,16,1
openstack%2Fbarbican~stable%2Fussuri~Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,openstack/barbican,stable/ussuri,Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0,Use system locks in pkcs11 library,MERGED,2021-03-05 21:41:06.000000000,2021-03-08 18:02:59.000000000,2021-03-08 18:00:51.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 21:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a8a9c53ed2027fca3737ea98e6eb08eb18b9fda3', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)\n'}, {'number': 2, 'created': '2021-03-08 14:52:25.000000000', 'files': ['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/87822c14cbba2e712750ecb9c4157b0ae39f69fb', 'message': 'Use system locks in pkcs11 library\n\nThis patch adds a new option to the PKCS#11 backend: `os_locking_ok`.\nWhen set to true, the flag CKF_OS_LOCKING_OK is passed to the\nC_Initialize function for the client library.\n\nChange-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0\n(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)\n(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)\n'}]",0,778999,87822c14cbba2e712750ecb9c4157b0ae39f69fb,11,2,2,7973,,,0,"Use system locks in pkcs11 library

This patch adds a new option to the PKCS#11 backend: `os_locking_ok`.
When set to true, the flag CKF_OS_LOCKING_OK is passed to the
C_Initialize function for the client library.

Change-Id: Iaa2a82718cb75e291a0b81b896bd136c29fa6fa0
(cherry picked from commit b5b350b4ced9aa5e7c7af424c439be7097052b21)
(cherry picked from commit 7a889cd200cc7a30ce1240cfd9718a60b1dbea21)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/99/778999/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/plugin/crypto/p11_crypto.py', 'releasenotes/notes/add-os-locking-ok-option-d0cfc5883355632a.yaml', 'barbican/plugin/crypto/pkcs11.py']",3,a8a9c53ed2027fca3737ea98e6eb08eb18b9fda3,pkcs11-os-locking-stable/victoria-stable/ussuri,"CKF_OS_LOCKING_OK = 0x02 typedef void * CK_VOID_PTR; typedef CK_VOID_PTR * CK_VOID_PTR_PTR; typedef CK_RV (*CK_CREATEMUTEX)(CK_VOID_PTR_PTR); typedef CK_RV (*CK_DESTROYMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_LOCKMUTEX)(CK_VOID_PTR); typedef CK_RV (*CK_UNLOCKMUTEX)(CK_VOID_PTR); typedef struct CK_C_INITIALIZE_ARGS { CK_CREATEMUTEX CreateMutex; CK_DESTROYMUTEX DestroyMutex; CK_LOCKMUTEX LockMutex; CK_UNLOCKMUTEX UnlockMutex; CK_FLAGS flags; CK_VOID_PTR pReserved; } CK_C_INITIALIZE_ARGS; token_label=None, os_locking_ok=False): if os_locking_ok: init_arg_pt = self.ffi.new(""CK_C_INITIALIZE_ARGS *"") init_arg_pt.flags = CKF_OS_LOCKING_OK else: init_arg_pt = self.ffi.NULL rv = self.lib.C_Initialize(init_arg_pt) token = Token( ) LOG.debug(""Slot %s: label: %s sn: %s"", token.slot_id, token.label, token.serial_number) tokens.append(token)", token_label=None): rv = self.lib.C_Initialize(self.ffi.NULL) tokens.append(Token( )),46,5
openstack%2Fcharm-octavia~master~Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8,openstack/charm-octavia,master,Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8,Move lookup of per-unit Neutron port to common helper,MERGED,2020-10-22 06:19:12.000000000,2021-03-08 18:01:47.000000000,2021-03-08 18:01:47.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-22 06:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/969400ee3c4ed0826aaf84e53107fd9d77fe6ea9', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}, {'number': 2, 'created': '2020-11-03 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c5720021468babfa87d70fea99139dcdd9f84098', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}, {'number': 3, 'created': '2020-11-05 06:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/ffffb14383f8d774d6a26e02ddd2e53587f40d56', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}, {'number': 4, 'created': '2020-11-05 14:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2fcc5a7a69d5f9bc1152d760a625b0d6d7405578', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}, {'number': 5, 'created': '2021-01-06 15:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/041eed1cdc6f1eacc7e1f5f4346b8b41b6260b8c', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}, {'number': 6, 'created': '2021-03-08 14:54:59.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a00bb7ab0dbf6bed28e757591f995e3b020ea093', 'message': 'Move lookup of per-unit Neutron port to common helper\n\nChange-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8\n'}]",2,759184,a00bb7ab0dbf6bed28e757591f995e3b020ea093,41,5,6,13686,,,0,"Move lookup of per-unit Neutron port to common helper

Change-Id: Iba22bc9f4aa8f9c231f606ebb9b40d79272a95e8
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/84/759184/6 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/lib/charm/openstack/api_crud.py']",2,969400ee3c4ed0826aaf84e53107fd9d77fe6ea9,bug/1893446,"def lookup_hm_port(nc, local_unit_name): """"""Retrieve port object for Neutron port for local unit. :param nc: Neutron Client object :type nc: neutron_client.Client :param local_unit_name: Name of juju unit, used to build tag name for port :type local_unit_name: str :returns: Port data :rtype: Optional[Dict[str,any]] :raises: DuplicateResource or any exceptions raised by Keystone and Neutron clients. """""" resp = nc.list_ports(tags='charm-octavia-{}'.format(local_unit_name)) n_resp = len(resp.get('ports', [])) if n_resp == 1: return (resp['ports'][0]) elif n_resp > 1: raise DuplicateResource('neutron', 'ports', data=resp) else: return hm_port = lookup_hm_port(nc, local_unit_name) if not hm_port: elif hm_port.get( 'binding:host_id') != port_template['port']['binding:host_id']: # Ensure binding:host_id is up to date on a existing port # # In the event of a need to update it, we bring the port down to make # sure Neutron rebuilds the port correctly. # # Our caller, ``setup_hm_port``, will toggle the port admin status. try: nc.update_port(hm_port['id'], { 'port': { 'admin_state_up': False, 'binding:host_id': port_template['port'][ 'binding:host_id'], } }) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) port = lookup_hm_port(nc, local_unit_name) if not port: ch_core.hookenv.log('When attempting to toggle admin status of port, ' 'we unexpectedly found that no port exists for ' 'unit.', level=ch_core.hookenv.WARNING) nc.update_port(port['id'], {'port': {'admin_state_up': enabled}})"," resp = nc.list_ports(tags='charm-octavia-{}' .format(local_unit_name)) n_resp = len(resp.get('ports', [])) if n_resp == 1: hm_port = resp['ports'][0] # Ensure binding:host_id is up to date on a existing port # # In the event of a need to update it, we bring the port down to make # sure Neutron rebuilds the port correctly. # # Our caller, ``setup_hm_port``, will toggle the port admin status. if hm_port and hm_port.get( 'binding:host_id') != port_template['port']['binding:host_id']: try: nc.update_port(hm_port['id'], { 'port': { 'admin_state_up': False, 'binding:host_id': port_template['port'][ 'binding:host_id'], } }) except NEUTRON_TEMP_EXCS as e: raise APIUnavailable('neutron', 'ports', e) elif n_resp > 1: raise DuplicateResource('neutron', 'ports', data=resp) else: resp = nc.list_ports(tags='charm-octavia-{}' .format(local_unit_name)) for port in (resp['ports']): nc.update_port(port['id'], {'port': {'admin_state_up': enabled}})",67,32
openstack%2Fcharm-octavia~master~I5fd75c9d371390bca402d6a3a264421a44fd092a,openstack/charm-octavia,master,I5fd75c9d371390bca402d6a3a264421a44fd092a,Ensure octavia-driver-agents gets installed,MERGED,2021-03-01 13:50:22.000000000,2021-03-08 17:52:25.000000000,2021-03-08 17:52:25.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-01 13:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/64063b8f271493861806c03e152f4b5039a211c1', 'message': ""Ensure octavia-driver-agents gets installed\n\nDue to a 'quirk' being fixed, the octavia-driver-agents don't get\ninstalled if the ovsdb-subordinate  relation is the last to be made.\nThis is due to the update-status hook gating the reactive handler from\nrunning which 'fixed' the issue.  Looking deeper, if the handler isn't\nthe first to run, then the charm's packages won't get initialised\nproperly.\n\nThis patch fixes that by using the dynamic properties 'all_packages' and\n'full_service_list' available in charms.openstack core for the Charm\nclass.  This means that it doesn't matter when the flag is set, as long\nas it is before the property is accessed.  Looking at the handler, this\nwill be in the right place for the install.\n\nChange-Id: I5fd75c9d371390bca402d6a3a264421a44fd092a\nCloses-Bug: #1916764\n""}, {'number': 2, 'created': '2021-03-03 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/64f928d8738077b2757925c96dba8451597c0f15', 'message': ""Ensure octavia-driver-agents gets installed\n\nDue to a 'quirk' being fixed, the octavia-driver-agents don't get\ninstalled if the ovsdb-subordinate  relation is the last to be made.\nThis is due to the update-status hook gating the reactive handler from\nrunning which 'fixed' the issue.  Looking deeper, if the handler isn't\nthe first to run, then the charm's packages won't get initialised\nproperly.\n\nThis patch fixes that by using the dynamic properties 'all_packages' and\n'full_service_list' available in charms.openstack core for the Charm\nclass.  This means that it doesn't matter when the flag is set, as long\nas it is before the property is accessed.  Looking at the handler, this\nwill be in the right place for the install.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/514\n\nChange-Id: I5fd75c9d371390bca402d6a3a264421a44fd092a\nCloses-Bug: #1916764\n""}, {'number': 3, 'created': '2021-03-08 14:23:08.000000000', 'files': ['src/lib/charm/openstack/octavia.py', 'unit_tests/test_lib_charm_openstack_octavia.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/22f4ae5d02a763229944788221e8af38e6cda35b', 'message': ""Ensure octavia-driver-agents gets installed\n\nDue to a 'quirk' being fixed, the octavia-driver-agents don't get\ninstalled if the ovsdb-subordinate  relation is the last to be made.\nThis is due to the update-status hook gating the reactive handler from\nrunning which 'fixed' the issue.  Looking deeper, if the handler isn't\nthe first to run, then the charm's packages won't get initialised\nproperly.\n\nThis patch fixes that by using the dynamic properties 'all_packages' and\n'full_service_list' available in charms.openstack core for the Charm\nclass.  This means that it doesn't matter when the flag is set, as long\nas it is before the property is accessed.  Looking at the handler, this\nwill be in the right place for the install.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/514\n\nChange-Id: I5fd75c9d371390bca402d6a3a264421a44fd092a\nCloses-Bug: #1916764\n""}]",0,778003,22f4ae5d02a763229944788221e8af38e6cda35b,22,4,3,20870,,,0,"Ensure octavia-driver-agents gets installed

Due to a 'quirk' being fixed, the octavia-driver-agents don't get
installed if the ovsdb-subordinate  relation is the last to be made.
This is due to the update-status hook gating the reactive handler from
running which 'fixed' the issue.  Looking deeper, if the handler isn't
the first to run, then the charm's packages won't get initialised
properly.

This patch fixes that by using the dynamic properties 'all_packages' and
'full_service_list' available in charms.openstack core for the Charm
class.  This means that it doesn't matter when the flag is set, as long
as it is before the property is accessed.  Looking at the handler, this
will be in the right place for the install.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/514

Change-Id: I5fd75c9d371390bca402d6a3a264421a44fd092a
Closes-Bug: #1916764
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/03/778003/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/octavia.py', 'unit_tests/test_lib_charm_openstack_octavia.py']",2,64063b8f271493861806c03e152f4b5039a211c1,bug/1916764, self.assertTrue('octavia-driver-agent' in c.all_packages) self.assertTrue('python3-ovn-octavia-provider' in c.all_packages) self.assertTrue('octavia-driver-agent' in c.full_service_list), self.assertTrue('octavia-driver-agent' in c.packages) self.assertTrue('python3-ovn-octavia-provider' in c.packages) self.assertTrue('octavia-driver-agent' in c.services),15,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I03e042b9684e6bdd8c277066776df23d2eb84ecd,openstack/tripleo-heat-templates,stable/ussuri,I03e042b9684e6bdd8c277066776df23d2eb84ecd,Enabling 'cinder_use_multipath' if cinder multipath is enabled,MERGED,2021-03-02 04:55:47.000000000,2021-03-08 17:50:40.000000000,2021-03-08 17:50:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-02 04:55:47.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d88e0e20d521bf3a19bd79d49e3f5d03fa1c5c5', 'message': ""Enabling 'cinder_use_multipath' if cinder multipath is enabled\n\nCurrently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,\nwhen cinder multipath is enabled.\n\nEnabling 'cinder_use_multipath' when multipath is enabled.\n\nChange-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd\n(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)\n(cherry picked from commit 853f4a15ce442d47bd2dbf4afa19cacc1d950430)\n""}]",0,778102,0d88e0e20d521bf3a19bd79d49e3f5d03fa1c5c5,7,6,1,19138,,,0,"Enabling 'cinder_use_multipath' if cinder multipath is enabled

Currently,'cinder_use_multipath' parameters' is disabled in glance-api.conf,
when cinder multipath is enabled.

Enabling 'cinder_use_multipath' when multipath is enabled.

Change-Id: I03e042b9684e6bdd8c277066776df23d2eb84ecd
(cherry picked from commit 4535e0f35630d718f5d5a25c91af629ffad95689)
(cherry picked from commit 853f4a15ce442d47bd2dbf4afa19cacc1d950430)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/778102/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,0d88e0e20d521bf3a19bd79d49e3f5d03fa1c5c5,cinder-multipath-stable/victoria-stable/ussuri, - cinder_multipathd_enabled - glance::backend::cinder::cinder_use_multipath: true - {} - if:,,5,0
openstack%2Fcharm-octavia~master~I4c5e7199d03eb8980e5c3e2025509f00116fcf99,openstack/charm-octavia,master,I4c5e7199d03eb8980e5c3e2025509f00116fcf99,Log all action failures to debug log,MERGED,2021-03-02 11:40:52.000000000,2021-03-08 17:50:01.000000000,2021-03-08 17:50:01.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-02 11:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0af7962de95bb462c03a0dae40f2704cfbd89c49', 'message': 'Log all action failures to debug log\n\nIntroduce and use a simple wrapper to log any exceptions thrown\nfrom API calls to the debug log before setting the action_fail\nstatus for the action.\n\nChange-Id: I4c5e7199d03eb8980e5c3e2025509f00116fcf99\nCloses-Bug: 1890315\n'}, {'number': 2, 'created': '2021-03-08 14:38:51.000000000', 'files': ['src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/10c52a897d564522004cf6f1caf52a3a42851d47', 'message': 'Log all action failures to debug log\n\nIntroduce and use a simple wrapper to log any exceptions thrown\nfrom API calls to the debug log before setting the action_fail\nstatus for the action.\n\nChange-Id: I4c5e7199d03eb8980e5c3e2025509f00116fcf99\nCloses-Bug: 1890315\n'}]",0,778174,10c52a897d564522004cf6f1caf52a3a42851d47,10,3,2,935,,,0,"Log all action failures to debug log

Introduce and use a simple wrapper to log any exceptions thrown
from API calls to the debug log before setting the action_fail
status for the action.

Change-Id: I4c5e7199d03eb8980e5c3e2025509f00116fcf99
Closes-Bug: 1890315
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/74/778174/2 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,0af7962de95bb462c03a0dae40f2704cfbd89c49,bug/1890315,"def log_and_action_fail(message): """"""Log an ERROR level message to the debug log and call action_fail"""""" ch_core.hookenv.log(message, level=ch_core.hookenv.ERROR) ch_core.hookenv.action_fail(message) log_and_action_fail('Neutron API not available yet, deferring ' 'network creation/discovery. (""{}"")' .format(e)) log_and_action_fail('Nova API not available yet, ' 'deferring flavor ' 'creation. (""{}"")' .format(e)) log_and_action_fail('Unbable to set quotas to unlimited: {}' .format(e))"," ch_core.hookenv.action_fail('Neutron API not available yet, deferring ' 'network creation/discovery. (""{}"")' .format(e)) ch_core.hookenv.action_fail('Nova API not available yet, ' 'deferring flavor ' 'creation. (""{}"")' .format(e)) ch_core.hookenv.action_fail('Unbable to set quotas to unlimited: {}' .format(e))",15,9
openstack%2Fneutron~master~Iaa3168764d050875e3d08784aee2dfba809e53be,openstack/neutron,master,Iaa3168764d050875e3d08784aee2dfba809e53be,Follow-up: Move linters dependencies to tox.ini,MERGED,2021-01-06 19:40:28.000000000,2021-03-08 17:49:00.000000000,2021-03-08 17:44:12.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-06 19:40:28.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d64c25c0191fc0a0f23b4f3916e1568a4e719a84', 'message': 'Follow-up: Move linters dependencies to tox.ini\n\nAfter commit 89e2fad8ef856f0e3651e4ea5784d28bc9aeb229,\npep8/bandit/bashate tox envs have different dependencies than\nthe default tox env. If tox envs with different dependencies share\nsome common envdir, tox env will be recreated every time a different\ntox env is specified. (For example, ""tox -e cover"" after ""tox -e pep8""\nrecreates the tox env.)\n\nTo address it, this commit introduces a new common envdir for linters\n(envdir = {toxworkdir}/lint). It also moves deependencies of bashate\nand bandit envs to pep8 env to ensure these three tox envs have the\nsame dependencies.\n\nCleanups are also made in test-requirements and lower-constraints.\n* astroid and isort can be dropped from test-requirements.txt\n  as pylint has proper version cappings for astroid and isort.\n  (These cappings are available in pylint 2.5 and later.)\n* reno is a document dependency, so it is unnecessary in test-requirements.\n* reno, astroid and isort are dropped from lower-constraints\n  as they are not installed in lower-constraints tests.\n\nChange-Id: Iaa3168764d050875e3d08784aee2dfba809e53be\n'}]",2,769612,d64c25c0191fc0a0f23b4f3916e1568a4e719a84,12,4,1,841,,,0,"Follow-up: Move linters dependencies to tox.ini

After commit 89e2fad8ef856f0e3651e4ea5784d28bc9aeb229,
pep8/bandit/bashate tox envs have different dependencies than
the default tox env. If tox envs with different dependencies share
some common envdir, tox env will be recreated every time a different
tox env is specified. (For example, ""tox -e cover"" after ""tox -e pep8""
recreates the tox env.)

To address it, this commit introduces a new common envdir for linters
(envdir = {toxworkdir}/lint). It also moves deependencies of bashate
and bandit envs to pep8 env to ensure these three tox envs have the
same dependencies.

Cleanups are also made in test-requirements and lower-constraints.
* astroid and isort can be dropped from test-requirements.txt
  as pylint has proper version cappings for astroid and isort.
  (These cappings are available in pylint 2.5 and later.)
* reno is a document dependency, so it is unnecessary in test-requirements.
* reno, astroid and isort are dropped from lower-constraints
  as they are not installed in lower-constraints tests.

Change-Id: Iaa3168764d050875e3d08784aee2dfba809e53be
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/769612/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,d64c25c0191fc0a0f23b4f3916e1568a4e719a84,linter-tox,"envdir = {toxworkdir}/lint bashate>=0.5.1 # Apache-2.0 bandit!=1.6.0,>=1.1.0 # Apache-2.0envdir = {toxworkdir}/lint deps = {[testenv:pep8]deps}envdir = {toxworkdir}/lint deps = {[testenv:pep8]deps}","envdir = {toxworkdir}/shared {[testenv:bashate]deps} {[testenv:bandit]deps}envdir = {toxworkdir}/shareddeps = bandit!=1.6.0,>=1.1.0 # Apache-2.0 -r{toxinidir}/test-requirements.txtenvdir = {toxworkdir}/shared deps = bashate>=0.5.1 # Apache-2.0",7,15
openstack%2Fnova~master~Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae,openstack/nova,master,Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae,libvirt: Switch to libvirt's firmware auto-selection,ABANDONED,2021-02-15 18:33:44.000000000,2021-03-08 17:37:47.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-15 18:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2159a4a309508c11a2a8e8b32c90b5c8ac2d4af6', 'message': ""WIP: libvirt: Switch to libvirt's firmware auto-selection\n\nWe no longer need to keep our own inventories of these files: libvirt\nwill do it for us. Let's take advantage of this.\n\nChange-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-02-19 17:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b268d6ee5707ac23cf3aefa10681a86a609d1e26', 'message': ""libvirt: Switch to libvirt's firmware auto-selection\n\nWe no longer need to keep our own inventories of these files: libvirt\nwill do it for us. Let's take advantage of this. This has a lot of knock\non effects for tests, mainly from incomplete mocks, but it's nothing\ncrazy.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-02-20 15:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/413755b8cf0e1cae2f7291144683b359de4a8f7a', 'message': ""libvirt: Switch to libvirt's firmware auto-selection\n\nWe no longer need to keep our own inventories of these files: libvirt\nwill do it for us. Let's take advantage of this. This has a lot of knock\non effects for tests, mainly from incomplete mocks, but it's nothing\ncrazy.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-02-22 09:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/726df26b17aa20e05596755c8977bf0f676dc5c0', 'message': ""libvirt: Switch to libvirt's firmware auto-selection\n\nWe no longer need to keep our own inventories of these files: libvirt\nwill do it for us. Let's take advantage of this. This has a lot of knock\non effects for tests, mainly from incomplete mocks, but it's nothing\ncrazy.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-03-05 16:58:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_data.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a46c959964053ebc9f2a96b1bbeabe3c2927714b', 'message': ""libvirt: Switch to libvirt's firmware auto-selection\n\nWe no longer need to keep our own inventories of these files: libvirt\nwill do it for us. Let's take advantage of this. This has a lot of knock\non effects for tests, mainly from incomplete mocks, but it's nothing\ncrazy.\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,775691,a46c959964053ebc9f2a96b1bbeabe3c2927714b,28,2,5,15334,,,0,"libvirt: Switch to libvirt's firmware auto-selection

We no longer need to keep our own inventories of these files: libvirt
will do it for us. Let's take advantage of this. This has a lot of knock
on effects for tests, mainly from incomplete mocks, but it's nothing
crazy.

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Id12789cf5f4c0ab33d63c5e2e11f8e3d9b58f8ae
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/775691/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,2159a4a309508c11a2a8e8b32c90b5c8ac2d4af6,bp/allow-secure-boot-for-qemu-kvm-guests, return self._host.supports_uefi and ( hw_firmware_type == fields.FirmwareType.UEFI or caps.host.cpu.arch == fields.Architecture.AARCH64 ) if self._host.supports_uefi: # TODO(stephenfin): How do we choose? guest.os_loader = caps.host.os.loader.binary_paths[0],"DEFAULT_UEFI_LOADER_PATH = { ""x86_64"": ['/usr/share/OVMF/OVMF_CODE.fd', '/usr/share/OVMF/OVMF_CODE.secboot.fd', '/usr/share/qemu/ovmf-x86_64-code.bin'], ""aarch64"": ['/usr/share/AAVMF/AAVMF_CODE.fd', '/usr/share/qemu/aavmf-aarch64-code.bin'] } def _has_uefi_support(self): # This means that the host can support UEFI booting for guests supported_archs = [fields.Architecture.X86_64, fields.Architecture.AARCH64] caps = self._host.get_capabilities() # TODO(dmllr, kchamart): Get rid of probing the OVMF binary file # paths, it is not robust, because nothing but the binary's # filename is reported, which means you have to detect its # architecture and features by other means. To solve this, # query the libvirt's getDomainCapabilities() to get the # firmware paths (as reported in the 'loader' value). Nova now # has a wrapper method for this, get_domain_capabilities(). # This is a more reliable way to detect UEFI boot support. # # Further, with libvirt 5.3 onwards, support for UEFI boot is # much more simplified by the ""firmware auto-selection"" feature. # When using this, Nova doesn't need to query OVMF file paths at # all; libvirt will take care of it. This is done by taking # advantage of the so-called firmware ""descriptor files"" -- # small JSON files (which will be shipped by Linux # distributions) that describe a UEFI firmware binary's # ""characteristics"", such as the binary's file path, its # features, architecture, supported machine type, NVRAM template # and so forth. return ((caps.host.cpu.arch in supported_archs) and any((os.path.exists(p) for p in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]))) return (self._has_uefi_support() and (hw_firmware_type == fields.FirmwareType.UEFI or caps.host.cpu.arch == fields.Architecture.AARCH64)) if self._has_uefi_support(): for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]: if os.path.exists(lpath): guest.os_loader = lpath",7,44
openstack%2Fmagnum~master~Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543,openstack/magnum,master,Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-16 00:24:15.000000000,2021-03-08 17:00:06.000000000,2021-03-08 16:58:45.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-12-16 00:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/de60218fe36a3f3be17c49ec3475de88bc05e17d', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 2, 'created': '2020-12-16 17:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f8fdac7dc1e57ecc5a314c23074692ff6a733dea', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 3, 'created': '2020-12-17 22:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2c3bb40366cee83753d154556964a9dcda8ed136', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 4, 'created': '2021-02-11 18:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e0045705f4799d2c5df9d4512cfeb7ed69a8f083', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 5, 'created': '2021-02-16 23:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8e59673c4362ca401eb4b7de226fa8adc79491d8', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 6, 'created': '2021-02-17 00:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f691be54a8aa51e5d42959da962484825fff1f22', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 7, 'created': '2021-03-07 01:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f7282b44559170c94c234bdea5254012e8469193', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 8, 'created': '2021-03-08 01:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bd45e4ae2e082c62d7c032bccd1ae0f008656155', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}, {'number': 9, 'created': '2021-03-08 15:11:03.000000000', 'files': ['doc/source/user/index.rst', 'magnum/cmd/status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-b52d805359bc73b7.yaml', 'magnum/tests/unit/cmd/test_status.py', 'doc/source/configuration/sample-policy.rst', 'lower-constraints.txt', 'doc/source/configuration/samples/policy-yaml.rst', 'magnum/drivers/swarm_fedora_atomic_v1/image/openvswitch/README.rst', 'magnum/common/config.py', 'magnum/drivers/swarm_fedora_atomic_v1/image/openvswitch/Dockerfile', 'magnum/tests/contrib/post_test_hook.sh', 'requirements.txt', 'magnum/tests/policy_fixture.py', 'setup.cfg', 'magnum/common/policy.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b7a33eb640b5164c05be81be9ee08a4f0b87196', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543\n""}]",10,767242,3b7a33eb640b5164c05be81be9ee08a4f0b87196,31,4,9,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Icfd9e2a75d8fdfb24cbd1c850f498aadee91f543
",git fetch https://review.opendev.org/openstack/magnum refs/changes/42/767242/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'magnum/cmd/status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-b52d805359bc73b7.yaml', 'magnum/tests/unit/cmd/test_status.py', 'doc/source/configuration/sample-policy.rst', 'lower-constraints.txt', 'doc/source/configuration/samples/policy-yaml.rst', 'magnum/drivers/swarm_fedora_atomic_v1/image/openvswitch/README.rst', 'magnum/common/config.py', 'magnum/drivers/swarm_fedora_atomic_v1/image/openvswitch/Dockerfile', 'magnum/tests/contrib/post_test_hook.sh', 'requirements.txt', 'magnum/tests/policy_fixture.py', 'setup.cfg', 'magnum/common/policy.py']",15,de60218fe36a3f3be17c49ec3475de88bc05e17d,policy-json-to-yaml,"from oslo_policy import opts# TODO(gmann): Remove setting the default value of config policy_file # once oslo_policy change the default value to 'policy.yaml'. # https://github.com/openstack/oslo.policy/blob/a626ad12fe5a3abd49d70e3e5b95589d279ab578/oslo_policy/opts.py#L49 DEFAULT_POLICY_FILE = 'policy.yaml' opts.set_defaults(CONF, DEFAULT_POLICY_FILE) ",,70,53
openstack%2Fbarbican~stable%2Fvictoria~Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,openstack/barbican,stable/victoria,Ieab0f152ef307fb9311b92f0ad8bd0032e78269e,Fix PKCS#11 reinitialization after failure,MERGED,2021-03-04 20:48:52.000000000,2021-03-08 16:52:22.000000000,2021-03-08 16:50:41.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 20:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4660043586b72761d6e1fdfc74d99c4c35b8cc5a', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n'}, {'number': 2, 'created': '2021-03-04 23:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3424c7b7011cdcc1aa316d433d91be928d7165c5', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n'}, {'number': 3, 'created': '2021-03-04 23:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/84013688aa162c0e08d23eee35d8a6a8154ce105', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n'}, {'number': 4, 'created': '2021-03-05 20:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/626a44007428b46606186dd8fe9c01361420183f', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n'}, {'number': 5, 'created': '2021-03-05 21:47:00.000000000', 'files': ['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3d3e00a92ac517f92847fb204406e898b663da08', 'message': 'Fix PKCS#11 reinitialization after failure\n\nThis patch fixes an error condition where the PCKS#11 object is lost\nafte multiple failures from the PKCS#11 device.\n\nWithout this patch Barbican can enter an error state where the PKCS11\nobject is deallocated and is unable to recover returning 500s until the\nprocess is restarted.\n\nStory: 2008649\nTask: 41913\nChange-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e\n(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)\n'}]",1,778693,3d3e00a92ac517f92847fb204406e898b663da08,18,2,5,7973,,,0,"Fix PKCS#11 reinitialization after failure

This patch fixes an error condition where the PCKS#11 object is lost
afte multiple failures from the PKCS#11 device.

Without this patch Barbican can enter an error state where the PKCS11
object is deallocated and is unable to recover returning 500s until the
process is restarted.

Story: 2008649
Task: 41913
Change-Id: Ieab0f152ef307fb9311b92f0ad8bd0032e78269e
(cherry picked from commit fa7722bfc5bb615d7d63ca8367b5c4b5e647d5d6)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/93/778693/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-story-2008649-reinitialize-pkcs11-object-4c0dc51c83288c21.yaml', 'barbican/plugin/crypto/p11_crypto.py', 'barbican/plugin/crypto/pkcs11.py']",3,4660043586b72761d6e1fdfc74d99c4c35b8cc5a,story/2008649-stable/victoria,CKR_CRYPTOKI_ALREADY_INITIALIZED = 0x00000191 if value != CKR_OK and value != CKR_CRYPTOKI_ALREADY_INITIALIZED:, if value != CKR_OK:,11,2
openstack%2Fproject-config~master~I5332d0e47ad863ca9795a8b0b86b73156621622d,openstack/project-config,master,I5332d0e47ad863ca9795a8b0b86b73156621622d,"Revert ""Add custom cirros image with ahci module enabled to cache""",MERGED,2021-03-08 08:43:53.000000000,2021-03-08 16:42:54.000000000,2021-03-08 16:20:34.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-08 08:43:53.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cf2ba9c2e94daeb134b806991d2465c44ccd61a0', 'message': 'Revert ""Add custom cirros image with ahci module enabled to cache""\n\nThis reverts commit 5ee0780486be4340c3585a115018dd4b192d5b72.\n\n0.5.2 [1] was cut after another colleague asked for a release. I guess their release build issues have been resolved since I asked a few weeks ago. As a result this build is no longer required once we\'ve bumped to 0.5.2.\n\n[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2\n\nChange-Id: I5332d0e47ad863ca9795a8b0b86b73156621622d\n'}]",0,779140,cf2ba9c2e94daeb134b806991d2465c44ccd61a0,7,3,1,10135,,,0,"Revert ""Add custom cirros image with ahci module enabled to cache""

This reverts commit 5ee0780486be4340c3585a115018dd4b192d5b72.

0.5.2 [1] was cut after another colleague asked for a release. I guess their release build issues have been resolved since I asked a few weeks ago. As a result this build is no longer required once we've bumped to 0.5.2.

[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2

Change-Id: I5332d0e47ad863ca9795a8b0b86b73156621622d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/779140/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,cf2ba9c2e94daeb134b806991d2465c44ccd61a0,,,cirros-0.5.1-dev-ahci-x86_64-disk.img file /opt/cache/files/cirros-0.5.1-dev-ahci-x86_64-disk.img https://yarwood.me.uk/cirros-0.5.1-dev-ahci/cirros-0.5.1-dev-ahci-x86_64-disk.img,0,1
openstack%2Fneutron~master~If573e50a84df125fe9e8a1608c5f54eddf592ece,openstack/neutron,master,If573e50a84df125fe9e8a1608c5f54eddf592ece,Implement secure RBAC for the metering API,MERGED,2020-12-07 18:03:49.000000000,2021-03-08 16:36:54.000000000,2021-03-08 16:27:11.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-07 18:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/607a7cbc830eacc3cf0b52660ed6cf1722c4874d', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}, {'number': 2, 'created': '2020-12-15 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c378363c01f850a01357b54016233a4b7353c1a', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}, {'number': 3, 'created': '2020-12-17 11:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72f80aef7cf517435151ec4f08e89c8a3b748d66', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}, {'number': 4, 'created': '2020-12-17 11:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bca8d110295fae601b168cfc523b43321abb91f', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}, {'number': 5, 'created': '2021-01-21 16:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e91b41227047f16efb97440af1de6e4a0dbd041c', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}, {'number': 6, 'created': '2021-02-18 12:27:51.000000000', 'files': ['neutron/conf/policies/metering.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01e289a03c9f2c9e356997e512d4bc58734ec540', 'message': 'Implement secure RBAC for the metering API\n\nThis commit updates the metering policies to understand scope checking and\naccount for a read-only role. This is part of a broader series of changes\nacross OpenStack to provide a consistent RBAC experience and improve security.\n\nChange-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece\n'}]",6,765844,01e289a03c9f2c9e356997e512d4bc58734ec540,60,5,6,5046,,,0,"Implement secure RBAC for the metering API

This commit updates the metering policies to understand scope checking and
account for a read-only role. This is part of a broader series of changes
across OpenStack to provide a consistent RBAC experience and improve security.

Change-Id: If573e50a84df125fe9e8a1608c5f54eddf592ece
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/765844/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/metering.py'],1,607a7cbc830eacc3cf0b52660ed6cf1722c4874d,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The metering API now supports system scope and default roles. """"""deprecated_create_metering_label = policy.DeprecatedRule( name='create_metering_label', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_metering_label = policy.DeprecatedRule( name='get_metering_label', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_metering_label = policy.DeprecatedRule( name='delete_metering_label', check_str=base.RULE_ADMIN_ONLY ) deprecated_create_metering_label_rule = policy.DeprecatedRule( name='create_metering_label_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_get_metering_label_rule = policy.DeprecatedRule( name='get_metering_label_rule', check_str=base.RULE_ADMIN_ONLY ) deprecated_delete_metering_label_rule = policy.DeprecatedRule( name='delete_metering_label_rule', check_str=base.RULE_ADMIN_ONLY ) name='create_metering_label', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a metering label', operations=[ ], deprecated_rule=deprecated_create_metering_label, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_metering_label', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get a metering label', operations=[ ], deprecated_rule=deprecated_get_metering_label, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_metering_label', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a metering label', operations=[ ], deprecated_rule=deprecated_delete_metering_label, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='create_metering_label_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Create a metering label rule', operations=[ ], deprecated_rule=deprecated_create_metering_label_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='get_metering_label_rule', check_str=base.SYSTEM_READER, scope_types=['system'], description='Get a metering label rule', operations=[ ], deprecated_rule=deprecated_get_metering_label_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY name='delete_metering_label_rule', check_str=base.SYSTEM_ADMIN, scope_types=['system'], description='Delete a metering label rule', operations=[ ], deprecated_rule=deprecated_delete_metering_label_rule, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY"," 'create_metering_label', base.RULE_ADMIN_ONLY, 'Create a metering label', [ ] 'get_metering_label', base.RULE_ADMIN_ONLY, 'Get a metering label', [ ] 'delete_metering_label', base.RULE_ADMIN_ONLY, 'Delete a metering label', [ ] 'create_metering_label_rule', base.RULE_ADMIN_ONLY, 'Create a metering label rule', [ ] 'get_metering_label_rule', base.RULE_ADMIN_ONLY, 'Get a metering label rule', [ ] 'delete_metering_label_rule', base.RULE_ADMIN_ONLY, 'Delete a metering label rule', [ ]",84,30
